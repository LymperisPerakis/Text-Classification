                                        KIT
19-3170; Rev 4; 4/05              ATION
                             EVALU   BL E
                               AVAILA
                       18-Port GPIO with LED Intensity Control,
                         Interrupt, and Hot-Insertion Protection
                            General Description                                                                          Features
                                                                                                                                            MAX7314
The MAX7314 I2C-compatible serial interfaced periph-           ♦ 400kbps, 2-Wire Serial Interface, 5.5V Tolerant
eral provides microprocessors with 16 I/O ports plus one       ♦ 2V to 3.6V Operation
output-only port and one input-only port. Each I/O port
                                                               ♦ Overall 8-Bit PWM LED Intensity Control
can be individually configured as either an open-drain
current-sinking output rated at 50mA and 5.5V, or a logic           Global 16-Step Intensity Control
input with transition detection. The output-only port can           Individual 16-Step Intensity Controls
be assigned as an interrupt output for transition detec-       ♦ 2-Phase LED Blinking
tion. The outputs are capable of driving LEDs, or provid-      ♦ 50mA Maximum Port Output Current
ing logic outputs with external resistive pullup up to 5.5V.   ♦ Supports Hot Insertion
Eight-bit PWM current control is built in for all 17 output    ♦ Outputs are 5.5V-Rated Open Drain
ports. A 4-bit global control applies to all LED outputs
and provides coarse adjustment of current from fully off       ♦ Inputs are Overvoltage Protected to 5.5V
to fully on with 14 intensity steps in between. Each out-      ♦ Transition Detection with Interrupt Output
put has an individual 4-bit control, which further divides     ♦ 1.2µA (typ), 3.6µA (max) Operating Current
the globally set current into 16 more steps.                   ♦ Small 4mm x 4mm, Thin QFN Package
Alternatively, the current control can be configured as a
single 8-bit control that sets all outputs at once.            ♦ -40°C to +125°C Temperature Range
Each output has independent blink timing with two blink
phases. All LEDs can be individually set to be on or off
during either blink phase, or to ignore the blink control.
                                                                                             Ordering Information
The blink period is controlled by a clock input (up to 1kHz)                                                  PIN-            PKG
on BLINK or by a register. The BLINK input can also be             PART               TEMP RANGE
                                                                                                              PACKAGE         CODE
used as a logic control to turn the LEDs on and off, or as a
                                                                                                      24 Thin QFN
general-purpose input.                                          MAX7314ATG            -40°C to +125°C 4mm x 4mm               T2444-4
The MAX7314 supports hot insertion. All port pins, the                                                x 0.8mm
INT output, SDA, SCL, RST, BLINK, and the slave                 MAX7314AEG            -40°C to +125°C 24 QSOP                     —
address input ADO remain high impedance in power-
down (V+ = 0V) with up to 6V asserted upon them.
The MAX7314 is controlled through a 2-wire serial inter-                        Typical Application Circuit
face, and uses four-level logic to allow four I 2 C
                                                                                                  5V
addresses from only one select pin.
                                       Applications                            3.3V
     LCD Backlights                                                 0.047μF
     LED Status Indication                                         μC
                                                                                V+          P0
                                                                                            P1
     Relay Drivers                                                  SDA       SDA MAX7314   P2
                                                                    SCL       SCL           P3
     Keypad Backlights                                                I/O     BLINK         P4
                                                                      I/O     RST           P5
     RGB LED Drivers                                                 INT      INT/O16       P6
                                                                                            P7
     System I/O Ports                                                                       P8
                                                                              AD0           P9                      INPUT 1
Pin Configurations continued at end of data sheet.                                          P10                     INPUT 2
                                                                                            P11                     INPUT 3
                                                                                            P12                     INPUT 4
                                                                                            P13                     INPUT 5
                                                                                            P14        3.3V    5V
                                                                                      GND   P15
                                                                                                                    OUTPUT
                                                                                                                    OUTPUT
                       ________________________________________________________________ Maxim Integrated Products                       1
For pricing, delivery, and ordering information, please contact Maxim/Dallas Direct! at
1-888-629-4642, or visit Maxim’s website at www.maxim-ic.com.


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
          ABSOLUTE MAXIMUM RATINGS
MAX7314
          Voltage (with respect to GND)                                                                     Continuous Power Dissipation (TA = +70°C)
          V+ .............................................................................-0.3V to +4V        24-Pin QSOP (derate 9.5mW/°C over +70°C)..............761mW
          SCL, SDA, AD0, BLINK, RST, P0–P15 .....................-0.3V to +6V                                 24-Pin QFN (derate 20.8mW/°C over +70°C) ............1666mW
          INT/O16 ...................................................................-0.3V to +8V           Operating Temperature Range
          DC Current on P0–P15, INT/O16 ........................................55mA                          (TMIN to TMAX) .............................................-40°C to +125°C
          DC Current on SDA.............................................................10mA                Junction Temperature ......................................................+150°C
          Maximum GND Current ....................................................350mA                     Storage Temperature Range .............................-65°C to +150°C
                                                                                                            Lead Temperature (soldering, 10s) .................................+300°C
          Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
          operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
          absolute maximum rating conditions for extended periods may affect device reliability.
          ELECTRICAL CHARACTERISTICS
          (Typical Operating Circuit, V+ = 2V to 3.6V, TA = TMIN to TMAX, unless otherwise noted. Typical values are at V+ = 3.3V, TA = +25°C.)
          (Note 1)
                        PARAMETER                           SYMBOL                                       CONDITIONS                                 MIN       TYP        MAX       UNITS
           Operating Supply Voltage                              V+                                                                                   2                   3.6         V
           Output Load External Supply
                                                                VEXT                                                                                  0                   5.5         V
           Voltage
                                                                            SCL and SDA at V+; other                 TA = +25°C                                1.2        2.3
           Standby Current
                                                                  I+        digital inputs at V+ or GND;             TA = -40°C to +85°C                                  2.8        µA
           (Interface Idle, PWM Disabled)
                                                                            PWM intensity control disabled           TA = TMIN to TMAX                                    3.6
                                                                            SCL and SDA at V+; other                 TA = +25°C                                8.5       15.1
           Supply Current
                                                                  I+        digital inputs at V+ or GND;             TA = -40°C to +85°C                                 16.5        µA
           (Interface Idle, PWM Enabled)
                                                                            PWM intensity control disabled           TA = TMIN to TMAX                                   17.2
           Supply Current                                                   fSCL = 400kHz; other digital             TA = +25°C                                 50       95.3
           (Interface Running, PWM                                I+        inputs at V+ or GND; PWM                 TA = -40°C to +85°C                                 99.2        µA
           Disabled)                                                        intensity control enabled                TA = TMIN to TMAX                                  102.4
           Supply Current                                                   fSCL = 400kHz; other digital             TA = +25°C                                 57      110.2
           (Interface Running, PWM                                I+        inputs at V+ or GND; PWM                 TA = -40°C to +85°C                                117.4        µA
           Enabled)                                                         intensity control enabled                TA = TMIN to TMAX                                  122.1
           Input High Voltage                                                                                                                       0.7 x
                                                                 VIH                                                                                                                  V
           SDA, SCL, AD0, BLINK, P0–P15                                                                                                              V+
           Input Low Voltage                                                                                                                                             0.3 x
                                                                 VIL                                                                                                                  V
           SDA, SCL, AD0, BLINK, P0–P15                                                                                                                                   V+
           Input Leakage Current
                                                               IIH, IIL     0 ≤ input voltage ≤ 5.5V                                                -0.2                 +0.2        µA
           SDA, SCL, AD0, BLINK, P0–P15
           Input Capacitance
                                                                                                                                                                8                     pF
           SDA, SCL, AD0, BLINK, P0–P15
          2     _______________________________________________________________________________________


                    18-Port GPIO with LED Intensity Control,
                      Interrupt, and Hot-Insertion Protection
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                        MAX7314
(Typical Operating Circuit, V+ = 2V to 3.6V, TA = TMIN to TMAX, unless otherwise noted. Typical values are at V+ = 3.3V, TA= + 25°C.)
(Note 1)
         PARAMETER                SYMBOL                          CONDITIONS                        MIN     TYP      MAX    UNITS
                                                                              TA = +25°C                    0.15     0.26
                                             V+ = 2V, ISINK = 20mA            TA = -40°C to +85°C                     0.3      V
                                                                              TA = TMIN to TMAX                      0.32
                                                                              TA = +25°C                    0.13     0.23
Output Low Voltage
                                     VOL     V+ = 2.5V, ISINK = 20mA          TA = -40°C to +85°C                    0.26      V
P0–P15, INT/O16
                                                                              TA = TMIN to TMAX                      0.28
                                                                              TA = +25°C                    0.12     0.23
                                             V+ = 3.3V, ISINK = 20mA          TA = -40°C to +85°C                    0.24      V
                                                                              TA = TMIN to TMAX                      0.26
Output Low-Voltage SDA              VOLSDA   ISINK = 6mA                                                              0.4      V
PWM Clock Frequency                  fPWM                                                                    32               kHz
TIMING CHARACTERISTICS
(Typical Operating Circuit, V+ = 2V to 3.6V, TA = TMIN to TMAX, unless otherwise noted. Typical values are at V+ = 3.3V, TA = +25°C.)
(Note 1)
                   PARAMETER                          SYMBOL                 CONDITIONS             MIN      TYP     MAX    UNITS
Serial Clock Frequency                                   fSCL                                                        400      kHz
Bus Free Time Between a STOP and a START
                                                         tBUF                                        1.3                       µs
Condition
Hold Time, Repeated START Condition                    tHD, STA                                      0.6                       µs
Repeated START Condition Setup Time                    tSU, STA                                      0.6                       µs
STOP Condition Setup Time                              tSU, STO                                      0.6                       µs
Data Hold Time                                         tHD, DAT   (Note 2)                                            0.9      µs
Data Setup Time                                        tSU, DAT                                      180                       ns
SCL Clock Low Period                                    tLOW                                         1.3                       µs
SCL Clock High Period                                   tHIGH                                        0.7                       µs
                                                                                                            20 +
Rise Time of Both SDA and SCL Signals, Receiving           tR     (Notes 3, 4)                                       300       ns
                                                                                                            0.1Cb
                                                                                                            20 +
Fall Time of Both SDA and SCL Signals, Receiving           tF     (Notes 3, 4)                                       300       ns
                                                                                                            0.1Cb
                                                                                                            20 +
Fall Time of SDA Transmitting                            tF.TX    (Notes 3, 5)                                       250       ns
                                                                                                            0.1Cb
Pulse Width of Spike Suppressed                          tSP      (Note 6)                                   50                ns
Capacitive Load for Each Bus Line                        Cb       (Note 3)                                           400       pF
RST Pulse Width                                            tW                                         1                        µs
                     _______________________________________________________________________________________                        3


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
          TIMING CHARACTERISTICS (continued)
MAX7314
          (Typical Operating Circuit, V+ = 2V to 3.6V, TA = TMIN to TMAX, unless otherwise noted. Typical values are at V+ = 3.3V, TA = +25°C.)
          (Note 1)
                                                       PARAMETER                                                                      SYMBOL                       CONDITIONS                                              MIN        TYP         MAX    UNITS
          Interrupt Valid                                                                                                                 tIV         Figure 10                                                                                    6.5    µs
          Interrupt Reset                                                                                                                 tIR         Figure 10                                                                                     1     µs
          Output Data Valid                                                                                                               tDV         Figure 10                                                                                     5     µs
          Input Data Set-Up Time                                                                                                          tDS         Figure 10                                                            100                            ns
          Input Data Hold Time                                                                                                            tDH         Figure 10                                                             1                             µs
          Note 1: All parameters tested at TA = +25°C. Specifications over temperature are guaranteed by design.
          Note 2: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) to bridge
                  the undefined region of SCL’s falling edge.
          Note 3: Guaranteed by design.
          Note 4: Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3 x VDD and 0.7 x VDD.
          Note 5: ISINK ≤ 6mA. Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3 x VDD and 0.7 x VDD.
          Note 6: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
          __________________________________________Typical Operating Characteristics
          (TA = +25°C, unless otherwise noted.)
                                                                                                                                     SUPPLY CURRENT vs. TEMPERATURE                                                    SUPPLY CURRENT vs. TEMPERATURE
                                       STANDBY CURRENT vs. TEMPERATURE                                                                 (PWM DISABLED; fSCL = 400kHz)                                                     (PWM ENABLED; fSCL = 400kHz)
                                  10                                                                                           70                                                                                70
                                                                                         MAX7314 toc01                                                                     MAX7314 toc02                                                                       MAX7314 toc03
                                               V+ = 3.6V                                                                                                                                                         65
                                   9           PWM ENABLED                                                                     60                                                                                60
                                   8                                                                                                                                                                             55
                                                                                                                                                                                                                                 V+ = 3.6V
           STANDBY CURRENT (μA)                                                                          SUPPLY CURRENT (μA)                                                               SUPPLY CURRENT (μA)
                                   7                                                                                           50                                                                                50
                                                                                                                                                V+ = 3.6V
                                                                                                                                                                                                                 45
                                   6
                                                                                                                               40                                                                                40                          V+ = 2.7V
                                   5                                 V+ = 2V                                                                                V+ = 2.7V                                            35
                                                 V+ = 2.7V           PWM ENABLED                                               30                                                                                30
                                   4                                                                                                                                                                                                           V+ = 2V
                                                 PWM ENABLED                 V+ = 3.6V                                                                                                                           25
                                   3                                         PWM                                               20                             V+ = 2V                                            20
                                         V+ = 2V           V+ = 2.7V
                                   2     PWM DISABLED PWM DISABLED DISABLED                                                                                                                                      15
                                                                                                                               10                                                                                10
                                   1
                                                                                                                                                                                                                  5
                                   0                                                                                           0                                                                                  0
                                       -40 -25 -10 5 20 35 50 65 80 95 110 125                                                      -40 -25 -10 5 20 35 50 65 80 95 110 125                                           -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                     TEMPERATURE (°C)                                                                             TEMPERATURE (°C)                                                                  TEMPERATURE (°C)
          4                       _______________________________________________________________________________________


                                                         18-Port GPIO with LED Intensity Control,
                                                           Interrupt, and Hot-Insertion Protection
                                                                                                                                                                                                                                                                                                                            MAX7314
                                                                                                                                              Typical Operating Characteristics (continued)
(TA = +25°C, unless otherwise noted.)
                                        PORT OUTPUT LOW VOLTAGE WITH 50mA                                                                           PORT OUTPUT LOW VOLTAGE WITH 20mA                                                                                 PWM CLOCK FREQUENCY
                                          LOAD CURRENT vs. TEMPERATURE                                                                                LOAD CURRENT vs. TEMPERATURE                                                                                      vs. TEMPERATURE
                                  0.6                                                                                                         0.6                                                                                                   1.050
                                                                                            MAX7314 toc04                                                                                             MAX7314 toc05                                                                                         MAX7314 toc06
                                                                                                                                                      ALL OUTPUTS LOADED
PORT OUTPUT LOW VOLTAGE VOL (V)                                                                             PORT OUTPUT LOW VOLTAGE VOL (V)
                                  0.5                                                                                                         0.5                                                                                                   1.025
                                                                                                                                                                                                                        PWM CLOCK FREQUENCY (kHz)
                                                                                                                                                                                                                                                                       V+ = 3.6V
                                                             V+ = 2.7V
                                  0.4       V+ = 2V                                                                                           0.4                                                                                                   1.000
                                  0.3                                                                                                         0.3                  V+ = 2V                                                                          0.975                                       V+ = 2V
                                                                                                                                                                                                                                                                          V+ = 2.7V
                                  0.2                           V+ = 3.6V                                                                     0.2                                                                                                   0.950
                                  0.1                                                                                                         0.1                                V+ = 3.6V                                                          0.925
                                                                                                                                                                     V+ = 2.7V
                                                                                                                                                                                                                                                                NORMALIZED TO V+ = 3.3V, TA = +25°C
                                   0                                                                                                           0                                                                                                    0.900
                                        -40 -25 -10 5 20 35 50 65 80 95 110 125                                                                     -40 -25 -10 5 20 35 50 65 80 95 110 125                                                                 -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                      TEMPERATURE (°C)                                                                                          TEMPERATURE (°C)                                                                                            TEMPERATURE (°C)
                                           SCOPE SHOT OF 2 OUTPUT PORTS                                                                                SCOPE SHOT OF 2 OUTPUT PORTS                                                                                     SINK CURRENT vs. VOL
                                                                            MAX7314 toc07                                                                                             MAX7314 toc08
                                                                                                                                                                                                                                                    0.35
                                                                                                                                                                                                                                                                                                            MAX7314 toc09
                                          MASTER INTENSITY SET TO 1/15                                                                                MASTER INTENSITY SET TO 14/15
                                                                                                  OUTPUT 1,                                                                                                       OUTPUT 1 0.30                                                       V+ = 2V
                                                                                                  2V/div                                                                                                          2V/div
                                                                                                                                                                                                                           0.25
                                          OUTPUT 1 INDIVIDUAL INTENSITY                                                                               OUTPUT 1 INDIVIDUAL INTENSITY                                                                                                 V+ = 2.7V
                                          SET TO 1/16                                                                                                 SET TO 1/16
                                                                                                                                                                                                                                                    0.20
                                                                                                                                                                                                                            VOL (V)                                     V+ = 3.3V
                                                                                                                                                                                                                                                    0.15
                                                                                                  OUTPUT 2,                                                                                                       OUTPUT 2                                                                      V+ = 3.6V
                                                                                                  2V/div                                                                                                          2V/div   0.10
                                          OUTPUT 2 INDIVIDUAL INTENSITY                                                                               OUTPUT 2 INDIVIDUAL INTENSITY
                                                                                                                                                                                                                                                    0.05
                                          SET TO 15/16                                                                                                SET TO 14/15
                                                                                                                                                                                                                                                                                   ONLY ONE OUTPUT LOADED
                                                                                                                                                                                                                                                       0
                                                           2ms/div                                                                                                    2ms/div                                                                               0     5   10 15 20 25 30 35 40 45 50
                                                                                                                                                                                                                                                                           SINK CURRENT (mA)
                                                          _______________________________________________________________________________________                                                                                                                                                           5


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
                                                                                                                                                  Pin Description
MAX7314
                            PIN
                                                            NAME                                                             FUNCTION
                 QSOP                QFN
                                                                                 Output Port. Open-drain output rated at 7V, 50mA. Configurable as interrupt
                   1                  22                    INT/O16
                                                                                 output or general-purpose output.
                                                                                 Reset Input. Active low clears the 2-wire interface and puts the device in the
                   2                  23                     RST
                                                                                 same condition as power-up reset.
                                                                                 Address Input. Sets device slave address. Connect to either GND, V+, SCL,
                   3                  24                     AD0
                                                                                 or SDA to give four logic combinations. See Table 1.
              4–11, 13–20         1–8, 10–17                P0–P15               Input/Output Ports. P0–P15 are open-drain I/Os rated at 5.5V, 50mA.
                   12                  9                     GND                 Ground. Do not sink more than 350mA into the GND pin.
                   21                 18                    BLINK                Input Port Configurable as Blink Control or General-Purpose Input
                   22                 19                     SCL                 I2C-Compatible Serial Clock Input
                   23                 20                     SDA                 I2C-Compatible Serial Data I/O
                                                                                 Positive Supply Voltage. Bypass V+ to GND with a 0.047µF ceramic
                   24                 21                      V+
                                                                                 capacitor.
                   —                 PAD             Exposed Pad                 Exposed Pad on Package Underside. Connect to GND.
                                               DATA FROM
                                           SHIFT REGISTER
                                                              CONFIGURATION                                                       OUTPUT PORT
                                                                REGISTER                                                          REGISTER DATA
                                               DATA FROM
                                                                 D    Q
                                           SHIFT REGISTER                            OUTPUT
                                                                        FF            PORT
                                                   WRITE                            REGISTER
                                           CONFIGURATION           CK        Q       D    Q
                                                   PULSE
                                                                                          FF
                                             WRITE PULSE                             CK        Q
                                                                                                                                  I/O PIN
                                                                                                                             Q2
                                                                                          INPUT PORT                              GND
                                                                                           REGISTER
                                                                                                                                  INPUT PORT
                                                                                            D    Q
                                                                                                                                  REGISTER DATA
                                                                                                    FF
                                                                                                                                  TO INT
                                             READ PULSE                                        CK        Q
          Figure 1. Simplified Schematic of I/O Ports
                                    Functional Overview                                                      All output ports sink loads up to 50mA connected to
                                                                                                             external supplies up to 5.5V, independent of the
          The MAX7314 is a general-purpose input/output (GPIO)
                                                                                                             MAX7314’s supply voltage. The MAX7314 is rated for a
          peripheral that provides 16 I/O ports, P0–P15, con-
                                                                                                             ground current of 350mA, allowing all 17 outputs to sink
          trolled through an I2C-compatible serial interface. A
                                                                                                             20mA at the same time. Figure 1 shows the output
          17th output-only port, INT/O16, can be configured as
                                                                                                             structure of the MAX7314. The ports default to inputs on
          an interrupt output or as a general-purpose output port.
                                                                                                             power-up.
          6   _______________________________________________________________________________________


                      18-Port GPIO with LED Intensity Control,
                        Interrupt, and Hot-Insertion Protection
         Port Inputs and Transition Detection                                                                 PWM Intensity Control
                                                                                                                                                    MAX7314
Input ports registers reflect the incoming logic levels of                       The MAX7314 includes an internal oscillator, nominally
the port pins, regardless of whether the pin is defined                          32kHz, to generate PWM timing for LED intensity control.
as an input or an output. Reading an input ports regis-                          PWM intensity control can be enabled on an output-by-
ter latches the current-input logic level of the affected                        output basis, allowing the MAX7314 to provide any mix
eight ports. Transition detection allows all ports config-                       of PWM LED drives and glitch-free logic outputs (Table
ured as inputs to be monitored for changes in their                              10). PWM can be disabled entirely, in which case all out-
logic status. The action of reading an input ports regis-                        put ports are static and the MAX7314 operating current
ter samples the corresponding 8 port bits’ input condi-                          is lowest because the internal oscillator is turned off.
tion. This sample is continuously compared with the                              PWM intensity control uses a 4-bit master control and 4
actual input conditions. A detected change in input                              bits of individual control per output (Tables 13, 14). The
condition causes the INT/O16 interrupt output to go                              4-bit master control provides 16 levels of overall intensi-
low, if configured as an interrupt output. The interrupt is                      ty control, which applies to all PWM-enabled output
cleared either automatically if the changed input                                ports. The master control sets the maximum pulse
returns to its original state, or when the appropriate                           width from 1/15 to 15/15 of the PWM time period. The
input ports register is read.                                                    individual settings comprise a 4-bit number, further
The INT/O16 pin can be configured as either an inter-                            reducing the duty cycle to be from 1/16 to 15/16 of the
rupt output or as a 17th output port with the same static                        time window set by the master control.
or blink controls as the other 16 ports (Table 4).                               For applications requiring the same PWM setting for all
        Port Output Control and LED Blinking                                     output ports, a single global PWM control can be used
The two blink phase 0 registers set the output logic lev-                        instead of all the individual controls to simplify the con-
els of the 16 ports P0–P15 (Table 8). These registers                            trol software and provide 240 steps of intensity control
control the port outputs if the blink function is disabled.                      (Tables 10 and 13).
A duplicate pair of registers, the blink phase 1 registers,                                                                      Standby Mode
are also used if the blink function is enabled (Table 9).                        When the serial interface is idle and the PWM intensity
In blink mode, the port outputs can be flipped between                           control is unused, the MAX7314 automatically enters
using the blink phase 0 registers and the blink phase 1                          standby mode. If the PWM intensity control is used, the
registers using hardware control (the BLINK input)                               operating current is slightly higher because the internal
and/or software control (the blink flip flag in the configu-                     PWM oscillator is running. When the serial interface is
ration register) (Table 4). The logic level of the BLINK                         active, the operating current also increases because
input can be read back through the blink status bit in                           the MAX7314, like all I2C slaves, has to monitor every
the configuration register (Table 4). The BLINK input,                           transmission.
therefore, can be used as a general-purpose logic input
(GPI port) if the blink function is not required.
          SDA
                                                                       tSU,STA                                               tBUF
                                              tSU,DAT                                    tHD,STA
                                  tLOW
                                                             tHD,DAT                                       tSU,STO
          SCL                                  tHIGH
            tHD,STA
                                         tR             tF
                START CONDITION                                        REPEATED START CONDITION                        STOP           START
                                                                                                                     CONDITION      CONDITION
Figure 2. 2-Wire Serial Interface Timing Details
                       _______________________________________________________________________________________                                  7


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
                                                         Serial Interface                         The MAX7314 SDA line operates as both an input and
MAX7314
                                                                                                  an open-drain output. A pullup resistor, typically 4.7kΩ,
                                                              Serial Addressing                   is required on the SDA. The MAX7314 SCL line oper-
          The MAX7314 operates as a slave that sends and                                          ates only as an input. A pullup resistor, typically 4.7kΩ,
          receives data through an I2C-compatible 2-wire inter-                                   is required on SCL if there are multiple masters on the
          face. The interface uses a serial data line (SDA) and a                                 2-wire interface, or if the master in a single-master sys-
          serial clock line (SCL) to achieve bidirectional commu-                                 tem has an open-drain SCL output.
          nication between master(s) and slave(s). A master (typ-
          ically a microcontroller) initiates all data transfers to and                           Each transmission consists of a START condition
          from the MAX7314 and generates the SCL clock that                                       (Figure 3) sent by a master, followed by the MAX7314
          synchronizes the data transfer (Figure 2).                                              7-bit slave address plus R/W bit, a register address
                                                                                                  byte, one or more data bytes, and finally a STOP condi-
                                                                                                  tion (Figure 3).
                                                                                                                              Start and Stop Conditions
              SDA                                                                                 Both SCL and SDA remain high when the interface is
                                                                                                  not busy. A master signals the beginning of a transmis-
              SCL                                                                                 sion with a START (S) condition by transitioning SDA
                     S                                                               P
                   START                                                           STOP           from high to low while SCL is high. When the master
                 CONDITION                                                       CONDITION        has finished communicating with the slave, it issues a
                                                                                                  STOP (P) condition by transitioning SDA from low to
          Figure 3. Start and Stop Conditions                                                     high while SCL is high. The bus is then free for another
                                                                                                  transmission (Figure 3).
                                                                                                                                          Bit Transfer
                                                                                                  One data bit is transferred during each clock pulse.
              SDA                                                                                 The data on SDA must remain stable while SCL is high
                                                                                                  (Figure 4).
              SCL                                                                                                                          Acknowledge
                                                                                                  The acknowledge bit is a clocked 9th bit that the recipi-
                           DATA LINE STABLE; CHANGE OF DATA                                       ent uses to handshake receipt of each byte of data
                              DATA VALID        ALLOWED
                                                                                                  (Figure 5). Thus, each byte transferred effectively
                                                                                                  requires 9 bits. The master generates the 9th clock
          Figure 4. Bit Transfer
                                                                                                  pulse, and the recipient pulls down SDA during the
                                                                                                  acknowledge clock pulse so the SDA line is stable low
                                                                                                  during the high period of the clock pulse. When the
                            START                                  CLOCK PULSE                    master is transmitting to the MAX7314, the device gen-
                          CONDITION                           FOR ACKNOWLEDGE
                                                                                                  erates the acknowledge bit because the MAX7314 is
                    SCL                 1            2                 8             9            the recipient. When the MAX7314 is transmitting to the
                                                                                                  master, the master generates the acknowledge bit
                SDA BY                                                                            because the master is the recipient.
           TRANSMITTER
                  SDA BY                                                                                                                  Slave Address
                RECEIVER     S                                                                    The MAX7314 has a 7-bit long slave address (Figure 6).
                                                                                                  The eighth bit following the 7-bit slave address is the
          Figure 5. Acknowledge                                                                   R/W bit. The R/W bit is low for a write command, high
                                                                                                  for a read command.
                    SDA           A6             1               0               0           A2            0          0          R/W        ACK
                                 MSB                                                                                 LSB
                    SCL
          Figure 6. Slave Address
          8     _______________________________________________________________________________________


                       18-Port GPIO with LED Intensity Control,
                         Interrupt, and Hot-Insertion Protection
The second (A5), third (A4), fourth (A3), sixth (A1), and                                    Message Format for Writing the MAX7314
                                                                                                                                                                     MAX7314
last (A0) bits of the MAX7314 slave address are always                          A write to the MAX7314 comprises the transmission of
1, 0, 0, 0, and 0. Slave address bits A6 and A2 are                             the MAX7314’s slave address with the R/W bit set to
selected by the address input AD0. AD0 can be con-                              zero, followed by at least 1 byte of information. The first
nected to GND, V+, SDA, or SCL. The MAX7314 has four                            byte of information is the command byte. The com-
possible slave addresses (Table 1), and therefore a                             mand byte determines which register of the MAX7314
maximum of four MAX7314 devices can be controlled                               is to be written to by the next byte, if received (Table 2).
independently from the same interface.                                          If a STOP condition is detected after the command byte
                                                                                is received, then the MAX7314 takes no further action
                                                                                beyond storing the command byte.
Table 1. MAX7314 Address Map                                                    Any bytes received after the command byte are data
                               DEVICE ADDRESS                                   bytes. The first data byte goes into the internal register
PIN AD0                                                                         of the MAX7314 selected by the command byte (Figure
               A6       A5      A4       A3        A2      A1         A0
                                                                                8). If multiple data bytes are transmitted before a STOP
   SCL          1        1       0        0        0        0         0         condition is detected, these bytes are generally stored
   SDA          1        1       0        0        1        0         0         in subsequent MAX7314 internal registers because the
  GND           0        1       0        0        0        0         0         command byte address autoincrements (Table 2). A
   V+           0        1       0        0        1        0         0         diagram of a write to the output ports registers (blink
                                                                                phase 0 registers or blink phase 1 registers) is given in
                                                                                Figure 10.
                                 COMMAND BYTE IS STORED ON RECEIPT OF
                                                                               D15   D14   D13    D12        D11    D10    D9    D8
                                                      STOP CONDITION
                                        ACKNOWLEDGE FROM MAX7314
                S                     SLAVE ADDRESS               0        A                     COMMAND BYTE                              A        P
                                                            R/W                                       ACKNOWLEDGE FROM MAX7314
Figure 7. Command Byte Received
                                                                  ACKNOWLEDGE FROM MAX7314                            ACKNOWLEDGE FROM MAX7314
         HOW COMMAND BYTE AND DATA BYTE MAP INTO
                                                        D15 D14 D13 D12 D11 D10      D9    D8           D7     D6    D5   D4    D3    D2       D1   D0
                             MAX7314's REGISTERS
                      ACKNOWLEDGE FROM MAX7314
     S                SLAVE ADDRESS           0    A              COMMAND BYTE                    A                       DATA BYTE                      A   P
                                                                                                                           1
                                       R/W                                                                               BYTE
                                                                                                             AUTOINCREMENT MEMORY ADDRESS
Figure 8. Command and Single Data Byte Received
                                                                  ACKNOWLEDGE FROM MAX7314                            ACKNOWLEDGE FROM MAX7314
         HOW COMMAND BYTE AND DATA BYTE MAP INTO
                                                        D15 D14 D13 D12 D11 D10      D9    D8           D7     D6    D5   D4    D3    D2       D1   D0
                             MAX7314's REGISTERS
                      ACKNOWLEDGE FROM MAX7314
     S                SLAVE ADDRESS           0    A              COMMAND BYTE                    A                       DATA BYTE                      A   P
                                                                                                                           N
                                       R/W                                                                              BYTES
                                                                                                             AUTOINCREMENT MEMORY ADDRESS
Figure 9. n Data Bytes Received
                        _______________________________________________________________________________________                                                  9


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
                       WRITE TO OUTPUT PORTS REGISTERS (BLINK PHASE 0 REGISTERS/BLINK PHASE 1 REGISTERS)
                       SCL       1    2    3   4     5   6   7    8   9
                                          SLAVE ADDRESS                            COMMAND BYTE
                       SDA S A6 A5 A4 A3 A2 A1 A0                 0   A   0    0     0    0    0      0   0    1   A MSB         DATA1       LSB   A MSB         DATA2              LSB A    P
                              START CONDITION                    R/W ACKNOWLEDGE FROM SLAVE                        ACKNOWLEDGE FROM SLAVE          ACKNOWLEDGE FROM SLAVE                STOP
                                                                                                                                                                                       CONDITION
                     P7–P0                                                                                                                                      DATA1 VALID
                                                                                                                                                         tDV
                    P15– P8                                                                                                                                                                 DATA2 VALID
                                                                                                                                                                              tDV
                       READ FROM INPUT PORTS REGISTERS
                       SCL       1    2    3   4     5   6   7    8   9
                                           SLAVE ADDRESS                            COMMAND BYTE
                       SDA S A6 A5 A4 A3 A2 A1 A0 1                   A MSB              DATA1                LSB A MSB           DATA6       LSB NA P
                                                                                                                                                           STOP CONDITION
                              START CONDITION                    R/W ACKNOWLEDGE FROM SLAVE                        ACKNOWLEDGE FROM MASTER         NO ACKNOWLEDGE FROM
                                                                                                                                                   MASTER
                     P7–P0                     DATA1                      DATA2               DATA3                                DATA4
                                                                              tDH
                    P15–P8                               DATA5                                                                     DATA6
                                                                                                                       tDS
                       INTERRUPT VALID/RESET
                       SCL       1    2    3   4     5   6   7    8   9
                                          SLAVE ADDRESS                             COMMAND BYTE
                       SDA S A6 A5 A4 A3 A2 A1 A0 1                   A MSB              DATA2                LSB A MSB           DATA4       LSB NA P
                                                                                                                                                           STOP CONDITION
                              START CONDITION                    R/W ACKNOWLEDGE FROM SLAVE                        ACKNOWLEDGE FROM MASTER         NO ACKNOWLEDGE FROM
                                                                                                                                                   MASTER
                     P7–P0           DATA1                                               DATA2
                    P15–P8                               DATA3                                                                   DATA4
                        INT
                                               tIV                            tIR tIV                                      tIR
          Figure 10. Read, Write, and Interrupt Timing Diagrams
                                    Message Format for Reading                                                                               Operation with Multiple Masters
          The MAX7314 is read using the MAX7314’s internally                                                           If the MAX7314 is operated on a 2-wire interface with
          stored command byte as an address pointer the same                                                           multiple masters, a master reading the MAX7314 should
          way the stored command byte is used as an address                                                            use a repeated start between the write, which sets the
          pointer for a write. The pointer autoincrements after                                                        MAX7314’s address pointer, and the read(s) that takes
          each data byte is read using the same rules as for a                                                         the data from the location(s) (Table 2). This is because it
          write (Table 2). Thus, a read is initiated by first configur-                                                is possible for master 2 to take over the bus after master
          ing the MAX7314’s command byte by performing a                                                               1 has set up the MAX7314’s address pointer but before
          write (Figure 7). The master can now read n consecu-                                                         master 1 has read the data. If master 2 subsequently
          tive bytes from the MAX7314 with the first data byte                                                         changes the MAX7314’s address pointer, then master
          being read from the register addressed by the initial-                                                       1’s delayed read can be from an unexpected location.
          ized command byte. When performing read-after-write
          verification, remember to reset the command byte’s                                                                         Command Address Autoincrementing
          address because the stored command byte address                                                              The command address stored in the MAX7314 circu-
          has been autoincremented after the write (Table 2). A                                                        lates around grouped register functions after each data
          diagram of a read from the input ports registers is                                                          byte is written or read (Table 2).
          shown in Figure 10 reflecting the states of the ports.
          10   ______________________________________________________________________________________


                  18-Port GPIO with LED Intensity Control,
                    Interrupt, and Hot-Insertion Protection
                                                                                                                             MAX7314
Table 2. Register Address Map
                                                        ADDRESS CODE                         AUTOINCREMENT
                  REGISTER
                                                            (hex)                               ADDRESS
            Read input ports P7–P0                           0x00                                   0x01
           Read input ports P15–P8                           0x01                                   0x00
          Blink phase 0 outputs P7–P0                        0x02                                   0x03
         Blink phase 0 outputs P15–P8                        0x03                                   0x02
           Ports configuration P7–P0                         0x06                                   0x07
          Ports configuration P15–P8                         0x07                                   0x06
          Blink phase 1 outputs P7–P0                        0x0A                                   0x0B
         Blink phase 1 outputs P15–P8                        0x0B                                   0x0A
             Master, O16 intensity                           0x0E                             0x0E (no change)
                 Configuration                               0x0F                             0x0F (no change)
            Outputs intensity P1, P0                         0x10                                   0x11
            Outputs intensity P3, P2                         0x11                                   0x12
            Outputs intensity P5, P4                         0x12                                   0x13
            Outputs intensity P7, P6                         0x13                                   0x14
            Outputs intensity P9, P8                         0x14                                   0x15
           Outputs intensity P11, P10                        0x15                                   0x16
           Outputs intensity P13, P12                        0x16                                   0x17
           Outputs intensity P15, P14                        0x17                                   0x10
                                          Device Reset                                   Configuration Register
The reset input RST is an active-low input. When taken       The configuration register is used to configure the PWM
low, RST clears any transaction to or from the MAX7314       intensity mode, interrupt, and blink behavior, operate
on the serial interface and configures the internal regis-   the INT/O16 output, and read back the interrupt status
ters to the same state as a power-up reset (Table 3),        (Table 4).
which resets all ports as inputs. The MAX7314 then
waits for a START condition on the serial interface.
                                                                                              Ports Configuration
                                                             The 16 I/O ports P0 through P15 can be configured to
                        Detailed Description                 any combination of inputs and outputs using the ports
                                                             configuration registers (Table 5). The INT/O16 output
                                        Initial Power-Up     can also be configured as an extra general-purpose
On power-up, and whenever the RST input is pulled            output, and the BLINK input can be configured as an
low, all control registers are reset and the MAX7314         extra general-purpose input using the configuration
enters standby mode (Table 3). Power-up status makes         register (Table 4).
all ports into inputs and disables both the PWM oscilla-
tor and blink functionality. RST can be used as a hard-                                                        Input Ports
ware shutdown input, which effectively turns off any         The input ports registers are read only (Table 6). They
LED (or other) loads and puts the device into its lowest     reflect the incoming logic levels of the ports, regardless of
power condition.                                             whether the port is defined as an input or an output by the
                                                             ports configuration registers. Reading an input ports reg-
                                                             ister latches the current-input logic level of the affected
                                                             eight ports. A write to an input ports register is ignored.
                   ______________________________________________________________________________________              11


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
          Table 3. Power-Up Configuration
                                                                                ADDRESS                     REGISTER DATA
                REGISTER FUNCTION              POWER-UP CONDITION                CODE
                                                                                  (hex)       D7    D6    D5    D4    D3    D2    D1    D0
            Blink phase 0 outputs P7–P0        High-impedance outputs              0x02       1      1     1     1     1     1     1     1
            Blink phase 0 outputs P15–P8       High-impedance outputs              0x03       1      1     1     1     1     1     1     1
               Ports configuration P7–P0        Ports P7–P0 are inputs             0x06       1      1     1     1     1     1     1     1
               Ports configuration P15–P8       Ports P15–P8 are inputs            0x07       1      1     1     1     1     1     1     1
            Blink phase 1 outputs P7–P0        High-impedance outputs              0x0A       1      1     1     1     1     1     1     1
            Blink phase 1 outputs P15–P8       High-impedance outputs              0x0B       1      1     1     1     1     1     1     1
                                              PWM oscillator is disabled;
                 Master, O16 intensity                                             0x0E       0      0     0     0     1     1     1     1
                                               O16 is static logic output
                                              INT/O16 is interrupt output;
                     Configuration                 blink is disabled;              0x0F       0      0     0     0     1     1     0     0
                                               global intensity is enabled
                Outputs intensity P1, P0     P1, P0 are static logic outputs       0x10       1      1     1     1     1     1     1     1
                Outputs Intensity P3, P2     P3, P2 are static logic outputs       0x11       1      1     1     1     1     1     1     1
                Outputs intensity P5, P4     P5, P4 are static logic outputs       0x12       1      1     1     1     1     1     1     1
                Outputs intensity P7, P6     P7, P6 are static logic outputs       0x13       1      1     1     1     1     1     1     1
                Outputs intensity P9, P8     P9, P8 are static logic outputs       0x14       1      1     1     1     1     1     1     1
               Outputs intensity P11, P10   P11, P10 are static logic outputs      0x15       1      1     1     1     1     1     1     1
               Outputs intensity P13, P12   P13, P12 are static logic outputs      0x16       1      1     1     1     1     1     1     1
               Outputs intensity P15, P14   P15, P14 are static logic outputs      0x17       1      1     1     1     1     1     1     1
                                                Transition Detection                                                       INT/O16 Output
          All ports configured as inputs are always monitored for               The INT/O16 output pin can be configured as either the
          changes in their logic status. The action of reading an               INT output that reflects the interrupt flag logic state or as
          input ports register or writing to the configuration regis-           a general-purpose output O16. When used as a general-
          ter samples the corresponding 8 port bits’ input condi-               purpose output, the INT/O16 pin has the same blink and
          tion (Tables 4, 6). This sample is continuously                       PWM intensity control capabilities as the other ports.
          compared with the actual input conditions. A detected                 Set the interrupt enable I bit in the configuration register
          change in input condition causes an interrupt condition.              to configure INT/O16 as the INT output (Table 4). Clear
          The interrupt is cleared either automatically if the                  interrupt enable to configure INT/O16 as the O16. The
          changed input returns to its original state, or when the              O16 logic state is set by the 2 bits O1 and O0 in the
          appropriate input ports register is read, updating the                configuration register. O16 follows the rules for blinking
          compared data (Figure 10). Randomly changing a port                   selected by the blink enable flag E in the configuration
          from an output to an input may cause a false interrupt                register. If blinking is disabled, then interrupt output
          to occur if the state of the input does not match the                 control O0 alone sets the logic state of the INT/O16 pin.
          content of the appropriate input ports register. The                  If blinking is enabled, then both interrupt output con-
          interrupt status is available as the interrupt flag INT in            trols O0 and O1 set the logic state of the INT/O16 pin
          the configuration register (Table 4).                                 according to the blink phase. PWM intensity control for
          The input status of all ports is sampled immediately                  O16 is set by the 4 global intensity bits in the master
          after power-up as part of the MAX7314’s internal initial-             and O16 intensity register (Table 13).
          ization, so if all the ports are pulled to valid logic levels
          at that time, an interrupt does not occur at power-up.
          12    ______________________________________________________________________________________


                      18-Port GPIO with LED Intensity Control,
                        Interrupt, and Hot-Insertion Protection
                                                                                                                                                MAX7314
Table 4. Configuration Register
                                                    ADDRESS                             REGISTER DATA
                  REGISTER                           CODE
                                                      (hex)
                                                               D7          D6      D5     D4     D3          D2         D1           D0
                                                              INTERRUPT
                                                                                   INTERRUPT
                                                                                                INTERRUPT
                                              R/W
                                                                                                                        BLINK FLIP
                                                                           BLINK     OUTPUT                  GLOBAL                   BLINK
            CONFIGURATION                            0x0F
                                                                                    CONTROL
                                                                          STATUS                            INTENSITY                ENABLE
                                                                STATUS               AS GPO       ENABLE
         Write device configuration            0
                                                              INT         BLINK    O1     O0       I          G         B             E
      Read back device configuration           1
                  Disable blink               —                 X          X       X      X       X           X          X             0
                  Enable blink                —                 X          X       X      X       X           X          X             1
                                              —                 X          X       X      X       X           X          0             1
        Flip blink register (see text)
                                              —                 X          X       X      X       X           X          1             1
 Disable global intensity control—intensity
 is set by registers 0x10–0x17 for ports P0
 through P15 when configured as outputs,
                                              —                 X          X       X      X       X           0          X            X
     and by D3–D0 of register 0x0E for
  INT/O16 when INT/O16 pin is configured
              as an output port
 Enable global intensity control—intensity
 for all ports configured as outputs is set   —                 X          X       X      X       X           1          X            X
         by D3–D0 of register 0x0E
  Disable data change interrupt—INT/O16
                                              —                 X          X       X      X       0           X          X            X
 output is controlled by the O0 and O1 bits
  Enable data change interrupt—INT/O16
   output is controlled by port input data    —                 X          X       X      X       1           X          X            X
                   change
  INT/O16 output is low (blink is disabled)   —                 X          X       X      0       0           X          X             0
 INT/O16 output is high impedance (blink
                                              —                 X          X       X      1       0           X          X             0
              is disabled)
 INT/O16 output is low during blink phase 0   —                 X          X       X      0       0           X          X             1
 INT/O16 output is high impedance during
                                              —                 X          X       X      1       0           X          X             1
              blink phase 0
 INT/O16 output is low during blink phase 1   —                 X          X       0      X       0           X          X             1
 INT/O16 output is high impedance during
                                              —                 X          X       1      X       0           X          X             1
              blink phase 1
X = Don’t care.
                       ______________________________________________________________________________________                              13


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
          Table 4. Configuration Register (continued)
                                                                     ADDRESS                                       REGISTER DATA
                            REGISTER                                  CODE
                                                                       (hex)
                                                                                D7              D6           D5      D4     D3          D2           D1           D0
                                                                               INTERRUPT
                                                                                                              INTERRUPT
                                                                                                                           INTERRUPT
                                                               R/W
                                                                                                                                                     BLINK FLIP
                                                                                                BLINK           OUTPUT                  GLOBAL                     BLINK
                        CONFIGURATION
                                                                                                               CONTROL
                                                                                               STATUS                                  INTENSITY                  ENABLE
                                                                                 STATUS                         AS GPO       ENABLE
                     Write device configuration                 0
                                                                               INT           BLINK           O1      O0       I          G            B            E
                  Read back device configuration                1
                Read back BLINK input pin status—
                                                                1                X               0            X      X       X           X            X            X
                           input is low
                                                                      0x0F
                Read back BLINK input pin status—
                                                                1                X               1            X      X       X           X            X            X
                          input is high
               Read back data change interrupt status
                 —data change is not detected, and
                                                                1                0              X             X      X       X           X            X            X
                INT/O16 output is high when interrupt
                        enable (I bit) is set
             Read back data change interrupt status
            —data change is detected, and INT/O16               1                1              X             X      X       X           X            X            X
          output is low when interrupt enable (I bit) is set
          X = Don’t care.
                                                                Blink Mode           The blink mode is disabled by clearing the blink enable
          In blink mode, the output ports can be flipped between                     flag E in the configuration register (Table 4). When blink
          using either the blink phase 0 registers or the blink                      mode is disabled, the state of the blink flip flag is
          phase 1 registers. Flip control is both hardware (the                      ignored, and the blink phase 0 registers alone control
          BLINK input) and software control (the blink flip flag B                   the output ports.
          in the configuration register) (Table 4).
                                                                                                                          Blink Phase Registers
          The blink function can be used for LED effects by pro-                     When the blink function is disabled, the two blink phase
          gramming different display patterns in the two sets of                     0 registers set the logic levels of the 16 ports (P0
          output port registers, and using the software or hard-                     through P15) when configured as outputs (Table 8). A
          ware controls to flip between the patterns.                                duplicate pair of registers called the blink phase 1 reg-
          If the blink phase 1 registers are written with 0xFF, then                 isters are also used if the blink function is enabled (Table
          the BLINK input can be used as a hardware disable to,                      9). A logic high sets the appropriate output port high
          for example, instantly turn off an LED pattern pro-                        impedance, while a logic low makes the port go low.
          grammed into the blink phase 0 registers. This tech-
          nique can be further extended by driving the BLINK                               BLINK ENABLE FLAG E
          input with a PWM signal to modulate the LED current to
          provide fading effects.
          The blink mode is enabled by setting the blink enable flag                         BLINK FLIP FLAG B                               BLINK PHASE REGISTERS
          E in the configuration register (Table 4). When blink mode                                 BLINK INPUT
          is enabled, the states of the blink flip flag and the BLINK
          input are EXOR’ed to set the phase, and the output ports                    Figure 11. Blink Logic
          are set by either the blink phase 0 registers or the blink
          phase 1 registers (Figure 11) (Table 7).
          14     ______________________________________________________________________________________


                     18-Port GPIO with LED Intensity Control,
                       Interrupt, and Hot-Insertion Protection
                                                                                                                                      MAX7314
Table 5. Ports Configuration Registers
                                                  ADDRESS                               REGISTER DATA
                 REGISTER                   R/W    CODE
                                                    (hex)
                                                               D7        D6       D5      D4     D3         D2       D1      D0
        Ports configuration P7–P0
                                             0
         (1 = input, 0 = output)                       0x06    OP7      OP6      OP5     OP4     OP3       OP2      OP1      OP0
   Read back ports configuration P7–P0       1
       Ports configuration P15–P8
                                             0
         (1 = input, 0 = output)                       0x07   OP15      OP14     OP13    OP12   OP11      OP10      OP9      OP8
  Read back ports configuration P15–P8       1
Table 6. Input Ports Registers
                                                  ADDRESS                               REGISTER DATA
                 REGISTER                   R/W    CODE
                                                    (hex)
                                                               D7        D6       D5      D4     D3         D2       D1      D0
            Read input ports P7–P0           1         0x00    IP7       IP6      IP5     IP4    IP3        IP2     IP1      IP0
        Read input ports P15–P8              1         0x01    IP15     IP14     IP13    IP12   IP11       IP10     IP9      IP8
Table 7. Blink Logic
                                                         BLINK FLIP FLAG
 BLINK ENABLE          BLINK FLIP        BLINK INPUT
                                                              EXOR             BLINK FUNCTION    OUTPUT REGISTERS USED
    FLAG E              FLAG B               PIN
                                                         BLINK INPUT PIN
        0                   X                X                  X                 Disabled             Blink phase 0 registers
                            0                 0                 0                                      Blink phase 0 registers
                            0                 1                 1                                      Blink phase 1 registers
        1                                                                         Enabled
                            1                 0                 1                                      Blink phase 1 registers
                            1                 1                 0                                      Blink phase 0 registers
Reading a blink phase register reads the value stored               The MAX7314 can be configured to provide any combi-
in the register, not the actual port condition. The port            nation of PWM outputs and glitch-free logic outputs.
output itself may or may not be at a valid logic level,             Each PWM output has an individual 4-bit intensity con-
depending on the external load connected.                           trol (Table 14). When all outputs are to be used with the
The 17th output, O16, is controlled through 2 bits in the           same PWM setting, the outputs can be controlled
configuration register, which provide the same static or            together instead using the global intensity control
blink control as the other 16 output ports.                         (Table 13). Table 10 shows how to set up the MAX7314
                                                                    to suit a particular application.
                                PWM Intensity Control
The MAX7314 includes an internal oscillator, nominally                                                           PWM Timing
32kHz, to generate PWM timing for LED intensity con-                The PWM control uses a 240-step PWM period, divided
trol or other applications such as PWM trim DACs.                   into 15 master intensity timeslots. Each master intensity
PWM can be disabled entirely for all the outputs. In this           timeslot is divided further into 16 PWM cycles (Figure 12).
case, all outputs are static and the MAX7314 operating              The master intensity operates as a gate, allowing the indi-
current is lowest because the internal PWM oscillator is            vidual output settings to be enabled from 1 to 15 timeslots
turned off.                                                         per PWM period (Figures 13, 14, 15) (Table 13).
                     ______________________________________________________________________________________                      15


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
          Table 8. Blink Phase 0 Registers
                                                         ADDRESS                            REGISTER DATA
                          REGISTER                 R/W    CODE
                                                           (hex)
                                                                       D7     D6      D5       D4      D3      D2      D1      D0
                  Write outputs P7–P0 phase 0       0
                                                            0x02       OP7    OP6     OP5     OP4     OP3     OP2      OP1     OP0
               Read back outputs P7–P0 phase 0      1
                 Write outputs P15–P8 phase 0       0
                                                            0x03       OP15   OP14   OP13    OP12     OP11    OP10     OP9     OP8
               Read back outputs P15–P8 phase 0     1
          Table 9. Blink Phase 1 Registers
                                                         ADDRESS                            REGISTER DATA
                          REGISTER                 R/W    CODE
                                                           (hex)
                                                                       D7     D6      D5       D4      D3      D2      D1      D0
                  Write outputs P7–P0 phase 1       0
                                                           0x0A        OP7    OP6     OP5     OP4     OP3     OP2      OP1     OP0
               Read back outputs P7–P0 phase 1      1
                 Write outputs P15–P8 phase 1       0
                                                           0x0B        OP15   OP14   OP13    OP12     OP11    OP10     OP9     OP8
               Read back outputs P15–P8 phase 1     1
          Each output’s individual 4-bit intensity control only              Using PWM Intensity Controls with Blink Enabled
          operates during the number of timeslots gated by the           When blink is enabled (Table 7), the blink phase 0 regis-
          master intensity. The individual controls provide 16           ters and blink phase 1 registers specify each output’s
          intensity settings from 1/16 through 16/16 (Table 14).         logic level during the PWM on-time during the respective
          Figures 16, 17, and 18 show examples of individual             blink phases (Tables 8 and 9). The effect of setting an
          intensity control settings. The highest value an individ-      output’s blink phase x register bit to zero or 1 is shown in
          ual or global setting can be set to is 16/16. This setting     Table 12. LEDs can be flipped between either directly on
          forces the output to ignore the master control, and fol-       and off, or between a variety of high/low PWM intensities.
          low the logic level set by the appropriate blink phase                                    Global/O16 Intensity Control
          register bit. The output becomes a glitch-free static out-     The 4 bits used for output O16’s PWM individual inten-
          put with no PWM.                                               sity setting also double as the global intensity control
             Using PWM Intensity Controls with Blink Disabled            (Table 13). Global intensity simplifies the PWM settings
          When blink is disabled (Table 7), the blink phase 0 reg-       when the application requires them all to be the same,
          isters specify each output’s logic level during the PWM        such as for backlight applications, by replacing the 17
          on-time (Table 8). The effect of setting an output’s blink     individual settings with 1 setting. Global intensity is
          phase 0 register bit to zero or 1 is shown in Table 11.        enabled with the global intensity flag G in the configura-
          With its output bit set to zero, an LED can be controlled      tion register (Table 4). When global PWM control is
          with 16 intensity settings from 1/16th duty through fully      used, the 4 bits of master intensity and 4 bits of global
          on, but cannot be turned fully off using the PWM inten-        intensity effectively combine to provide an 8-bit, 240-
          sity control. With its output bit set to 1, an LED can be      step intensity control applying to all outputs.
          controlled with 16 intensity settings from fully off           It is not possible to apply global PWM control to a sub-
          through 15/16th duty.                                          set of the ports, and use the others as logic outputs. To
                                                                         mix static logic outputs and PWM outputs, individual
                                                                         PWM control must be selected (Table 10).
          16   ______________________________________________________________________________________


                                  18-Port GPIO with LED Intensity Control,
                                    Interrupt, and Hot-Insertion Protection
                                                                                                                                                                                                                                                      MAX7314
Table 10. PWM Application Scenarios
                         APPLICATION                                                                                                        RECOMMENDED CONFIGURATION
                                                                                                Set the master, O16 intensity register 0x0E to any value 0x00 to 0xOF.
All outputs static without PWM                                                                  The global intensity G bit in the configuration register is don't care.
                                                                                                The output intensity registers 0x10 through 0x17 are don't care.
                                                                                                Set the master and global intensity register 0x0E to any value from 0x10 to 0xFF.
                                                                                                Clear global intensity G bit to zero in the configuration register to disable global
A mix of static and PWM outputs, with PWM
                                                                                                intensity control.
outputs using different PWM settings
                                                                                                For the static outputs, set the output intensity value to 0xF.
                                                                                                For the PWM outputs, set the output intensity value in the 0x0 to 0xE range.
A mix of static and PWM outputs, with PWM                                                       As above. Global intensity control cannot be used with a mix of static and PWM
outputs all using the same PWM setting                                                          outputs, so write the individual intensity registers with the same PWM value.
                                                                                                Set the master, O16 intensity register 0x0E to any value from 0x10 to 0xFF.
                                                                                                Set global intensity G bit to 1 in the configuration register to enable global intensity
All outputs PWM using the same PWM
                                                                                                control.
setting
                                                                                                The master, O16 intensity register 0x0E is the only intensity register used.
                                                                                                The output intensity registers 0x10 through 0x17 are don't care.
                                                                                                 ONE PWM PERIOD IS 240 CYCLES OF THE 32kHz PWM
                                                                                                  OSCILLATOR. A PWM PERIOD CONTAINS 15 MASTER
                                                                                                              INTENSITY TIMESLOTS
                    14           15       1               2               3             4            5             6       7           8        9             10       11       12       13       14       15        1         2
                             15 16 1          2       3       4       5        6    7       8   9 10 11 12 13 14 15 16                      1        2
                                                                              EACH MASTER INTENSITY
                                                                               TIMESLOT CONTAINS 16
                                                                                  PWM CYCLES
Figure 12. PWM Timing
                                                                                                                                            .
  14   15   1   2        3   4        5   6       7       8       9       10       11   12      13       14   15       1   2                    14       15    1   2        3   4    5   6    7   8    9   10   11   12   13   14   15   1   2
                                                                                                                               .                                                                                                                 .
Figure 13. Master Set to 1/15                                                                                                              Figure 15. Master Set to 15/15
  .
 14 15 1        2        3   4        5   6       7       8       9 10 11 12 13 14                            15 1         2
                                                                                                                                   .
Figure 14. Master Set to 14/15
                                      ______________________________________________________________________________________                                                                                                                     17


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
                                            MASTER INTENSITY TIMESLOT                                                                  NEXT MASTER INTENSITY TIMESLOT
                          1     2   3   4    5    6    7     8    9 10 11 12 13 14 15 16                       1   2   3     4    5      6   7   8    9 10 11 12 13 14 15 16
          Figure 16. Individual (or Global) Set to 1/16
                                            MASTER INTENSITY TIMESLOT                                                                  NEXT MASTER INTENSITY TIMESLOT
                           1    2   3   4    5    6     7     8   9 10 11 12 13 14 15 16                       1   2   3     4     5     6   7    8    9 10 11 12 13 14 15 16
          Figure 17. Individual (or Global) Set to 15/16
                                                                        MASTER INTENSITY TIMESLOT CONTROL IS IGNORED
                           1    2   3   4    5    6     7     8   9 10 11 12 13 14 15 16                       1   2   3     4     5     6   7    8    9 10 11 12 13 14 15 16
          Figure 18. Individual (or Global) Set to 16/16
          Table 11. PWM Intensity Settings (Blink Disabled)
            OUTPUT          PWM DUTY CYCLE                            LED BEHAVIOR WHEN                                  PWM DUTY CYCLE                           LED BEHAVIOR WHEN
              (OR         OUTPUT BLINK PHASE 0                       OUTPUT BLINK PHASE 0                              OUTPUT BLINK PHASE 0                      OUTPUT BLINK PHASE 0
            GLOBAL)         REGISTER BIT = 0                            REGISTER BIT = 0                                   REGISTER = 1                             REGISTER BIT = 1
           INTENSITY                                                    (LED IS ON WHEN                                                                             (LED IS ON WHEN
            SETTING                                                      OUTPUT IS LOW)                                                                              OUTPUT IS LOW)
                          LOW TIME               HIGH TIME                                                                 LOW TIME              HIGH TIME
               0x0              1/16                  15/16            Lowest PWM intensity                                   15/16                   1/16          Highest PWM intensity
               0x1              2/16                  14/16                                                                   14/16                   2/16
               0x2              3/16                  13/16                                                                   13/16                   3/16
               0x3              4/16                  12/16                                                                   12/16                   4/16
                                                                                   Increasing PWM intensity                                                                    Increasing PWM intensity 
               0x4              5/16                  11/16                                                                   11/16                   5/16
               0x5              6/16                  10/16                                                                   10/16                   6/16
               0x6              7/16                  9/16                                                                       9/16                 7/16
               0x7              8/16                  8/16                                                                       8/16                 8/16
               0x8              9/16                  7/16                                                                       7/16                 9/16
               0x9              10/16                 6/16                                                                       6/16                 10/16
               0xA              11/16                 5/16                                                                       5/16                 11/16
               0xB              12/16                 4/16                                                                       4/16                 12/16
               0xC              13/16                 3/16                                                                       3/16                 13/16
               0xD              14/16                 2/16                                                                       2/16                 14/16
               0xE              15/16                 1/16             Highest PWM intensity                                     1/16                 15/16         Lowest PWM intensity
                                                                       Full intensity, no PWM                               Static high           Static high
               0xF            Static low         Static low                                                                                                             LED off continuously
                                                                       (LED on continuously)                               impedance             impedance
          18   ______________________________________________________________________________________


                 18-Port GPIO with LED Intensity Control,
                   Interrupt, and Hot-Insertion Protection
                                                                                                                                           MAX7314
Table 12. PWM Intensity Settings (Blink Enabled)
                                                                               EXAMPLES OF LED BLINK BEHAVIOR
              PWM DUTY CYCLE             PWM DUTY CYCLE                         (LED IS ON WHEN OUTPUT IS LOW)
  OUTPUT       OUTPUT BLINK               OUTPUT BLINK
    (OR          PHASE X                    PHASE X                       BLINK PHASE 0                       BLINK PHASE 0
  GLOBAL)     REGISTER BIT = 0            REGISTER = 1                   REGISTER BIT = 0                    REGISTER BIT = 1
 INTENSITY
  SETTING                                                                 BLINK PHASE 1                       BLINK PHASE 1
               LOW           HIGH         LOW          HIGH
               TIME          TIME         TIME         TIME              REGISTER BIT = 1                    REGISTER BIT = 0
    0x0        1/16          15/16        15/16         1/16
    0x1        2/16          14/16        14/16         2/16
    0x2        3/16          13/16        13/16         3/16
                                                                   Phase 0: LED on at low intensity    Phase 0: LED on at high intensity
    0x3        4/16          12/16        12/16         4/16
                                                                   Phase 1: LED on at high intensity   Phase 1: LED on at low intensity
    0x4        5/16          11/16        11/16         5/16
    0x5        6/16          10/16        10/16         6/16
    0x6        7/16          9/16          9/16         7/16
    0x7        8/16          8/16          8/16         8/16                Output is half intensity during both blink phases
    0x8        9/16          7/16          7/16         9/16
    0x9        10/16         6/16          6/16        10/16
    0xA        11/16         5/16          5/16        11/16
                                                                   Phase 0: LED on at high intensity   Phase 0: LED on at low intensity
    0xB        12/16         4/16          4/16        12/16
                                                                   Phase 1: LED on at low intensity    Phase 1: LED on at high intensity
    0xC        13/16         3/16          3/16        13/16
    0xD        14/16         2/16          2/16        14/16
    0xE        15/16         1/16          1/16        15/16
                                         Static high Static high   Phase 0: LED on continuously        Phase 0: LED off continuously
    0xF      Static low    Static low
                                        impedance impedance        Phase 1: LED off continuously       Phase 1: LED on continuously
               Applications Information                                                                     Driving LED Loads
                                                                     When driving LEDs, a resistor in series with the LED
                                           Hot Insertion             must be used to limit the LED current to no more than
I/O ports P0–P15, interrupt output INT/O16, RST input,               50mA. Choose the resistor value according to the fol-
BLINK input, and serial interface SDA, SCL, AD0 remain               lowing formula:
high impedance with up to 6V asserted on them when
the MAX7314 is powered down (V+ = 0V). The MAX7314                              RLED = (VSUPPLY - VLED - VOL) / ILED
can therefore be used in hot-swap applications.
                                                                     where:
                          Output Level Translation                   RLED is the resistance of the resistor in series with the
The open-drain output architecture allows the ports to               LED (Ω).
level translate the outputs to higher or lower voltages              VSUPPLY is the supply voltage used to drive the LED (V).
than the MAX7314 supply. An external pullup resistor                 VLED is the forward voltage of the LED (V).
can be used on any output to convert the high-imped-                 VOL is the output low voltage of the MAX7314 when
ance logic-high condition to a positive voltage level.               sinking ILED (V).
The resistor can be connected to any voltage up to                   ILED is the desired operating current of the LED (A).
5.5V. For interfacing CMOS inputs, a pullup resistor
value of 220kΩ is a good starting point. Use a lower                 For example, to operate a 2.2V red LED at 14mA from a
resistance to improve noise immunity, in applications                5V supply, RLED = (5 - 2.2 - 0.25) / 0.014 = 182Ω.
where power consumption is less critical, or where a
faster rise time is needed for a given capacitive load.
                  ______________________________________________________________________________________                              19


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
          Table 13. Master, O16 Intensity Register
                                                                  ADDRESS                       REGISTER DATA
                             REGISTER                              CODE
                                                                    (hex)
                                                            R/W             D7      D6     D5       D4    D3     D2     D1      D0
                                                                            MSB                     LSB   MSB                   LSB
               MASTER AND GLOBAL INTENSITY
                                                                                 MASTER INTENSITY               O16 INTENSITY
                  Write master and global intensity          0
                                                                            M3      M2     M1       M0    G3     G2     G1      G0
               Read back master and global intensity         1
               Master intensity duty cycle is 0/15 (off);
                    internal oscillator is disabled;        —                0       0     0         0    —       —      —      —
                all outputs will be static with no PWM
                 Master intensity duty cycle is 1/15        —                0       0     0         1    —       —      —      —
                 Master intensity duty cycle is 2/15        —                0       0     1         0    —       —      —      —
                 Master intensity duty cycle is 3/15        —                0       0     1         1    —       —      —      —
                                  —                         —               —       —      —        —     —       —      —      —
                 Master intensity duty cycle is 13/15       —      0X0E      1       1     0         1    —       —      —      —
                 Master intensity duty cycle is 14/15       —                1       1     1         0    —       —      —      —
           Master intensity duty cycle is 15/15 (full)      —                1       1     1         1    —       —      —      —
                   O16 intensity duty cycle is 1/16         —               —       —      —        —      0      0      0       0
                   O16 intensity duty cycle is 2/16         —               —       —      —        —      0      0      0       1
                   O16 intensity duty cycle is 3/16         —               —       —      —        —      0      0      1       0
                                  —                         —               —       —      —        —     —       —      —      —
                  O16 intensity duty cycle is 14/16         —               —       —      —        —      1      1      0       1
                  O16 intensity duty cycle is 15/16         —               —       —      —        —      1      1      1       0
                  O16 intensity duty cycle is 16/16
                                                            —               —       —      —        —      1      1      1       1
                     (static output, no PWM)
          20     ______________________________________________________________________________________


                   18-Port GPIO with LED Intensity Control,
                     Interrupt, and Hot-Insertion Protection
                                                                                                                             MAX7314
Table 14. Output Intensity Registers
                                                ADDRESS                          REGISTER DATA
               REGISTER                          CODE
                                            R/W   (hex)
                                                          D7        D6    D5       D4    D3       D2     D1     D0
                                                          MSB                     LSB    MSB                    LSB
      OUTPUTS P1, P0 INTENSITY
                                                               OUTPUT P1 INTENSITY            OUTPUT P0 INTENSITY
       Write output P1, P0 intensity        0
                                                          P1I3     P1I2   P1I1    P1I0   P0I3     P0I2   P0I1   P0I0
    Read back output P1, P0 intensity       1
  Output P1 intensity duty cycle is 1/16    —              0        0      0         0    —        —      —     —
  Output P1 intensity duty cycle is 2/16    —              0        0      0         1    —        —      —     —
  Output P1 intensity duty cycle is 3/16    —              0        0      1         0    —        —      —     —
                    —                       —             —         —     —        —      —        —      —     —
  Output P1 intensity duty cycle is 14/16   —              1        1      0         1    —        —      —     —
  Output P1 intensity duty cycle is 15/16   —              1        1      1         0    —        —      —     —
  Output P1 intensity duty cycle is 16/16        0X10
                                            —              1        1      1         1    —        —      —     —
      (static logic level, no PWM)
  Output P0 intensity duty cycle is 1/16    —             —         —     —        —      0        0      0         0
  Output P0 intensity duty cycle is 2/16    —             —         —     —        —      0        0      0         1
  Output P0 intensity duty cycle is 3/16    —             —         —     —        —      0        0      1         0
                    —                       —             —         —     —        —      —        —      —     —
  Output P0 intensity duty cycle is 14/16   —             —         —     —        —      1        1      0         1
  Output P0 intensity duty cycle is 15/16   —             —         —     —        —      1        1      1         0
  Output P0 intensity duty cycle is 16/16
                                            —             —         —     —        —      1        1      1         1
      (static logic level, no PWM)
                                                          MSB                     LSB    MSB                    LSB
      OUTPUTS P3, P2 INTENSITY
                                                               OUTPUT P3 INTENSITY            OUTPUT P2 INTENSITY
                                                  0x11
       Write output P3, P2 intensity        0
                                                          P3I3     P3I2   P3I1    P3I0   P2I3     P2I2   P2I1   P2I0
    Read back output P3, P2 intensity       1
                                                          MSB                     LSB    MSB                    LSB
      OUTPUTS P5, P4 INTENSITY
                                                               OUTPUT P5 INTENSITY            OUTPUT P4 INTENSITY
                                                  0x12
       Write output P5, P4 intensity        0
                                                          P5I3     P5I2   P5I1    P5I0   P4I3     P4I2   P4I1   P4I0
    Read back output P5, P4 intensity       1
                                                          MSB                     LSB    MSB                    LSB
      OUTPUTS P7, P6 INTENSITY
                                                               OUTPUT P7 INTENSITY            OUTPUT P6 INTENSITY
                                                  0x13
       Write output P7, P6 intensity        0
                                                          P7I3     P7I2   P7I1    P7I0   P6I3     P6I2   P6I1   P6I0
    Read back output P7, P6 intensity       1
______________________________________________________________________________________________________                  21


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
MAX7314
          Table 14. Output Intensity Registers (continued)
                                                           ADDRESS                           REGISTER DATA
                           REGISTER                         CODE
                                                             (hex)
                                                     R/W              D7      D6      D5       D4      D3       D2       D1      D0
                                                                     MSB                      LSB     MSB                       LSB
                 OUTPUTS P9, P8 INTENSITY
                                                                        OUTPUT P9 INTENSITY               OUTPUT P8 INTENSITY
                                                            0x14
                   Write output P9, P8 intensity      0
                                                                     P9I3    P9I2    P9I1     P9I0     P8I3     P8I2     P8I1   P8I0
                Read back output P9, P8 intensity     1
                                                                     MSB                      LSB     MSB                       LSB
                OUTPUTS P11, P10 INTENSITY
                                                                       OUTPUT P11 INTENSITY              OUTPUT P10 INTENSITY
                                                            0x15
                 Write output P11, P10 intensity      0
                                                                     P11I3   P11I2   P11I1    P11I0   P10I3    P10I2    P10I1   P10I0
               Read back output P11, P10 intensity    1
                                                                     MSB                      LSB     MSB                       LSB
                OUTPUTS P13, P12 INTENSITY
                                                                       OUTPUT P13 INTENSITY              OUTPUT P12 INTENSITY
                                                            0x16
                 Write output P13, P12 intensity      0
                                                                     P13I3   P13I2   P13I1    P13I0   P12I3    P12I2    P12I1   P12I0
               Read back output P13, P12 intensity    1
                                                                     MSB                      LSB     MSB                       LSB
                OUTPUTS P15, P14 INTENSITY
                                                                       OUTPUT P15 INTENSITY              OUTPUT P14 INTENSITY
                                                            0x17
                 Write output P15, P14 intensity      0
                                                                     P15I3   P15I2   P15I1    P15I0   P14I3    P14I2    P14I1   P14I0
               Read back output P15, P14 intensity    1
                   OUTPUT O16 INTENSITY                                       See master, O16 intensity register (Table 13).
               Driving Load Currents Higher than 50mA                   The MAX7314 must be protected from the negative
          The MAX7314 can be used to drive loads drawing more           voltage transient generated when switching off induc-
          than 50mA, like relays and high-current white LEDs, by        tive loads, such as relays, by connecting a reverse-
          paralleling outputs. Use at least one output per 50mA of      biased diode across the inductive load (Figure 19). The
          load current; for example, a 5V 330mW relay draws             peak current through the diode is the inductive load’s
          66mA and needs two paralleled outputs to drive it.            operating current.
          Ensure that the paralleled outputs chosen are controlled
          by the same blink phase register, i.e., select outputs                             Power-Supply Considerations
          from the P0 through P7 range, or the P8 through P15           The MAX7314 operates with a power-supply voltage of
          range. This way, the paralleled outputs are turned on         2V to 3.6V. Bypass the power supply to GND with at
          and off together. Do not use output O16 as part of a          least 0.047µF as close to the device as possible. For
          load-sharing design. O16 cannot be switched at the            the QFN version, connect the underside exposed pad
          same time as any of the other outputs because it is con-      to GND.
          trolled by a different register.
          22    ______________________________________________________________________________________


                         18-Port GPIO with LED Intensity Control,
                           Interrupt, and Hot-Insertion Protection
                                                                                                                Pin Configurations
                                                                                                                                           MAX7314
                                                                                       TOP VIEW
           TOP VIEW                                                                               INT/O16 1                24 V+
                              BLINK   P15   P14   P13   P12   P11                                    RST 2                 23 SDA
                              18      17    16    15    14    13                                    AD0 3                  22 SCL
                   SCL 19                                           12 P10                            P0 4                 21 BLINK
                   SDA 20                                           11 P9                             P1 5    MAX7314AEG   20 P15
                    V+ 21                                           10 P8                             P2 6                 19 P14
                INT/O16 22             MAX7314ATG                   9   GND                           P3 7                 18 P13
                   RST 23                                           8   P7                            P4 8                 17 P12
                   AD0 24                                           7   P6                            P5 9                 16 P11
                              1       2     3     4      5    6                                       P6 10                15 P10
                              P0      P1    P2    P3    P4    P5                                      P7 11                14 P9
                                          THIN QFN                                                  GND 12                 13 P8
                                                                                                                QSOP
                                                                                                                   Chip Information
                                                                                   TRANSISTOR COUNT: 25,991
                        2V TO 3.6V
                                                                                   PROCESS: BiCMOS
                                                                              5V
       0.047μF
                             V+                         P0
      μC
                                                        P1
        SDA             SDA MAX7314                     P2     BAS16
        SCL             SCL                             P3
          I/O           BLINK                           P4
          I/O           RST                             P5
         INT            INT/O16                         P6
                                                        P7
                                                        P8
                        AD0                             P9
                                                        P10
                                                        P11
                                                        P12
                                                        P13
                                                        P14
                                       GND              P15
Figure 19. Diode-Protected Switching Inductive Load
                             ______________________________________________________________________________________                   23


          18-Port GPIO with LED Intensity Control,
          Interrupt, and Hot-Insertion Protection
                                                                                                          Package Information
MAX7314
          (The package drawing(s) in this data sheet may not reflect the most current specifications. For the latest package outline information,
          go to www.maxim-ic.com/packages.)
                                                                                                                                                QSOP EPS
          24   ______________________________________________________________________________________


                      18-Port GPIO with LED Intensity Control,
                        Interrupt, and Hot-Insertion Protection
                                                                                Package Information (continued)
                                                                                                                                                        MAX7314
(The package drawing(s) in this data sheet may not reflect the most current specifications. For the latest package outline information,
go to www.maxim-ic.com/packages.)
                                                                                                                        24L QFN THIN.EPS
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are
implied. Maxim reserves the right to change the circuitry and specifications without notice at any time.
Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600 ____________________ 25
© 2005 Maxim Integrated Products                 Printed USA                    is a registered trademark of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7314AEG+ MAX7314AEG+T MAX7314ATG+ MAX7314ATG+T
