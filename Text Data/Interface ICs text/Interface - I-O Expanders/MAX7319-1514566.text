                                                                                              EVALUATION KIT AVAILABLE
MAX7319                                                        I2C Port Expander with Eight Inputs
                                                                and Maskable Transition Detection
General Description                                           Features
The MAX7319 2-wire serial-interfaced peripheral               ●● 400kHz, +5.5V-Tolerant I2C Serial Interface
fea-tures eight input ports with selectable internal pullups, ●● +1.71V to +5.5V Operating Voltage
overvoltage protection to +6V, and transition detection
with interrupt output.                                        ●● Eight Input Ports with Maskable, Latching Transition
                                                                 Detection
All input ports are continuously monitored for state
changes (transition detection). Transitions are latched,      ●● Input Ports are Overvoltage Protected to +6V
allowing detection of transient changes. Any combination      ●● Transient Changes are Latched, Allowing Detection
of inputs can be selected using the interrupt mask to assert     Between Read Operations
the INT output. When the MAX7319 is subsequently
accessed through the serial interface, any pending            ●● INT Output Alerts Change on Any Selection of Inputs
interrupt is cleared.                                         ●● AD0 and AD2 Inputs Select from 16 Slave Addresses
The +5.5V tolerant RST input clears the serial                ●● Low 0.6µA (typ) Standby Current
interface, terminating any I2C communication to or from
                                                              ●● -40°C to +125°C Operating Temperature Range
the MAX7319.
The MAX7319 uses two address inputs with four-level
logic to allow 16 I2C slave addresses. The slave address
also enables or disables internal 40kΩ pullups in groups      Ordering Information
of four ports.
                                                                                                 PIN-              TOP
                                                                   PART          TEMP RANGE
The MAX7319 supports hot insertion. All eight input ports,                                       PACKAGE          MARK
the serial interface SDA, SCL, AD0, AD2, INT, and RST          MAX7319AEE+      -40° TO +125°C 16 QSOP              —
remain high impedance in power-down (V+ = 0) with up
to +6V asserted on them.                                       MAX7319ATE+      -40° TO +125°C 16 TQFN-EP*         ADA
The MAX7319 is one device in a family of pin-compatible       +Denotes a lead(Pb)-free/RoHS-compliant package.
port expanders with a choice of input ports, open-drain       *EP = Exposed pad.
I/O ports, and push-pull output ports (see Table 1).
The MAX7319 is available in 16-pin QSOP and 16-pin
TQFN packages, and is specified over the automotive           Pin Configurations, Typical Application Circuit, and
temperature range (-40°C to +125°C).                          Functional Diagram appear at end of data sheet.
Applications
●● Cell Phones                   ●● Notebooks
●● SAN/NAS                       ●● Satellite Radio
●● Servers
Selector Guide
         PART               INPUTS            INTERRUPT MASK      OPEN-DRAIN OUTPUTS            PUSH-PULL OUTPUTS
       MAX7319                  8                     Yes                    —                             —
       MAX7320                 —                       —                     —                              8
       MAX7321               Up to 8                   —                   Up to 8                         —
       MAX7322                  4                     Yes                    —                              4
       MAX7323               Up to 4                   —                   Up to 4                          4
      MAX7328*                                         —                                                   —
                             Up to 8                                       Up to 8
      MAX7329**                                        —                                                   —
*Second source to PCF8574.
**Second source to PCF8574A.
19-3809; Rev 2; 5/14


MAX7319                                                                                                        I2C Port Expander with Eight Inputs
                                                                                                                 and Maskable Transition Detection
Absolute Maximum Ratings
(All voltages referenced to GND.)                                                                     Continuous Power Dissipation (TA = +70°C)
Supply Voltage V+....................................................-0.3V to +6V                         16-Pin QSOP (derate 8.3mW/°C over +70°C).............667mW
SCL, SDA, AD0, AD2, RST, INT, I0–I7....................-0.3V to +6V                                       16-Pin TQFN (derate 15.6mW/°C over +70°C).........1250mW
SDA Input Current.............................................................. 10mA                  Operating Temperature Range.......................... -40°C to +125°C
INT Input Current................................................................10mA                 Junction Temperature.......................................................+150°C
Total V+ Current..................................................................50mA                Storage Temperature Range............................. -65°C to +150°C
Total GND Current ............................................................100mA                   Lead Temperature (soldering, 10s).................................. +300°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Electrical Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
                 PARAMETER                            SYMBOL                                   CONDITIONS                                    MIN          TYP           MAX         UNITS
 Operating Supply Voltage                                 V+                                                                                 1.71                       5.50           V
 Power-On Reset Voltage                                 VPOR                                                                                                             1.6           V
 Standby Current (Interface Idle)                        ISTB           SCL and SDA and other digital inputs at V+                                          0.6          1.5          µA
 Supply Current
                                                           I+           fSCL = 400kHz; other digital inputs at V+                                           23           55           µA
 (Interface Running)
 Input High Voltage                                                     V+ < 1.8V                                                          0.8 x V+
                                                          VIH                                                                                                                          V
 SDA, SCL, AD0, AD2, RST, I0–I7                                         V+ ≥ 1.8V                                                          0.7 x V+
 Input Low Voltage                                                      V+ < 1.8V                                                                                    0.2 x V+
                                                          VIL                                                                                                                          V
 SDA, SCL, AD0, AD2, RST, I0–I7                                         V+ ≥ 1.8V                                                                                    0.3 x V+
 Input Leakage Current                                                  SDA, SCL, AD0, AD2, RST, I0–I7 at V+ or
                                                        IIH, IIL                                                                             -0.2                       +0.2          µA
 SDA, SCL, AD0, AD2, RST, I0–I7                                         GND
 Input Capacitance
                                                                                                                                                            10                        pF
 SDA, SCL, AD0, AD2, RST, I0–I7
 Output Low Voltage
                                                       VOLSDA           ISINK = 6mA                                                                                     250           mV
 SDA
 Output Low Voltage
                                                       VOLINT           ISINK = 5mA                                                                        100          250           mV
 INT
 Port Input Pullup Resistor                              RPU                                                                                   25           40           55           kW
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 2


MAX7319                                                                   I2C Port Expander with Eight Inputs
                                                                           and Maskable Transition Detection
Port and Interrupt INT Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
            PARAMETER                SYMBOL                      CONDITIONS                      MIN       TYP     MAX       UNITS
 Port Input Setup Time                  tPSU       CL ≤ 100pF                                     0                             µs
 Port Input Hold Time                    tPH       CL ≤ 100pF                                     4                             µs
 INT Input Data Valid Time                tIV      CL ≤ 100pF                                                        4          µs
 INT Reset Delay Time from STOP           tIP      CL ≤ 100pF                                                        4          µs
 INT Reset Delay Time from
                                          tIR      CL ≤ 100pF                                                        4          µs
 Acknowledge
Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
            PARAMETER                  SYMBOL                    CONDITIONS                     MIN        TYP     MAX       UNITS
 Serial-Clock Frequency                   fSCL                                                                      400       kHz
 Bus Free Time Between a STOP
                                          tBUF                                                   1.3                           µs
 and a START Condition
 Hold Time (Repeated) START
                                       tHD, STA                                                  0.6                           µs
 Condition
 Repeated START Condition
                                       tSU, STA                                                  0.6                           µs
 Setup Time
 STOP Condition Setup Time             tSU, STO                                                  0.6                           µs
 Data Hold Time                        tHD, DAT     (Note 2)                                                        0.9        µs
 Data Setup Time                       tSU, DAT                                                 100                            ns
 SCL Clock Low Period                    tLOW                                                    1.3                           µs
 SCL Clock High Period                   tHIGH                                                   0.7                           µs
 Rise Time of Both SDA and SCL                                                                             20 +
                                            tR      (Notes 3, 4)                                                    300        ns
 Signals, Receiving                                                                                       0.1Cb
 Fall Time of Both SDA and SCL                                                                             20 +
                                             tF     (Notes 3, 4)                                                    300        ns
 Signals, Receiving                                                                                       0.1Cb
                                                                                                           20 +
 Fall Time of SDA, Transmitting           tF,TX     (Notes 3, 4)                                                    250        ns
                                                                                                          0.1Cb
 Pulse Width of Spike Suppressed           tSP      (Note 5)                                                50                 ns
 Capacitive Load for Each Bus Line          Cb      (Note 3)                                                        400        pF
 RST Pulse Width                            tW                                                  500                            ns
 RST Rising to START Condition
                                          tRST                                                    1                            µs
 Setup Time
Note 1: All parameters are tested at TA = +25°C. Specifications over temperature are guaranteed by design.
Note 2: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) to bridge
          the undefined region of SCL’s falling edge.
Note 3: Guaranteed by design.
Note 4: Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3 x V+ and 0.7 x V+, ISINK ≤ 6mA.
Note 5: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
www.maximintegrated.com                                                                                         Maxim Integrated │ 3


MAX7319                                                                                                      I2C Port Expander with Eight Inputs
                                                                                                              and Maskable Transition Detection
Typical Operating Characteristics
(TA = +25°C, unless otherwise noted.)
                                          STANDBY CURRENT vs. TEMPERATURE                                                                   SUPPLY CURRENT vs. TEMPERATURE
                                    2.0                                                                                               60
                                                                                        MAX7319 toc01                                                                                  MAX7319 toc02
                                                                          fSCL = 0kHz                                                                                  fSCL = 400kHz
                                    1.8
                                                                                                                                      50                            V+ = +5.0V
                                    1.6
             STANDBY CURRENT (µA)                                                                               SUPPLY CURRENT (µA)
                                    1.4
                                                                                                                                      40
                                    1.2                                V+ = +5.0V
                                    1.0                                                                                               30               V+ = +3.3V
                                                          V+ = +3.3V
                                    0.8      V+ = +2.5V
                                                                                                                                      20       V+ = +2.5V
                                    0.6
                                    0.4                                V+ = +1.71V                                                    10
                                    0.2
                                                                                                                                                      V+ = +1.71V
                                     0                                                                                                 0
                                          -40 -25 -10 5 20 35 50 65 80 95 110 125                                                          -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                      TEMPERATURE (°C)                                                                                 TEMPERATURE (°C)
Pin Description
           PIN
                                                          NAME                                                                        FUNCTION
   QSOP                             TQFN
                                                                            Address Inputs. Select device slave address with AD0 and AD2. Connect AD0 and AD2
    1, 3                            15, 1             AD0, AD2
                                                                            to either GND, V+, SCL, or SDA to give four logic combinations (see Table 3).
     2                               16                   RST               Reset Input, Active Low. Drive RST low to clear the 2-wire interface.
 4–7, 9–12             2–5, 7–10                          I0–I7             Input Ports. I0 to I7 are CMOS logic inputs protected to +6V.
     8                                6                   GND               Ground
     13                              11                   INT               Interrupt Output, Active Low. INT is an open-drain output rated at +6V.
     14                              12                   SCL               I2C-Compatible Serial Clock Input
     15                              13                   SDA               I2C-Compatible Serial Data I/O
     16                              14                    V+               Positive Supply Voltage. Bypass V+ to GND with a ceramic capacitor of at least 0.047µF.
     —                               EP                    EP               Exposed Pad. Connect exposed pad to GND.
www.maximintegrated.com                                                                                                                                                      Maxim Integrated │ 4


MAX7319                                                        I2C Port Expander with Eight Inputs
                                                                 and Maskable Transition Detection
Detailed Description                                      Functional Overview
MAX7319–MAX7329 Family Comparison                         The MAX7319 is a general-purpose port expander,
                                                          operating from a +1.71V to +5.5V supply that provides
The MAX7319–MAX7323 family consists of five               eight CMOS input ports that are overvoltage protected to
pin-compatible, eight-port expanders. Each version is     +6V independent of supply voltage.
optimized for different applications. The MAX7328 and
MAX7329 are second sources to the PCF8574 and             The MAX7319 is set to one of 16 I2C slave addresses
PCF8574A.                                                 (0x60 to 0x6F) using the address-select inputs AD2 and
                                                          AD0, and is accessed over an I2C serial interface. The
The MAX7324–MAX7327 family consists of four               RST input clears the serial interface in case of a hung
pin-compatible, 16-port expanders that integrate the      bus, terminating any serial transaction to or from the
functions of the MAX7320 and one of either the MAX7319,   MAX7319.
MAX7321, MAX7322, or MAX7323.
                                                          The input ports offer latching transition detection
                                                          functionality. All input ports are continuously monitored
Table 1. MAX7319–MAX7329 Family Comparison
                 I2C                INPUT       OPEN-    PUSH-
   PART        SLAVE    INPUTS INTERRUPT        DRAIN    PULL                          APPLICATION
             ADDRESS                MASK       OUTPUTS  OUTPUTS
 8-PORT EXPANDERS
                                                                   Input-only versions:
                                                                   Eight input ports with programmable latching
                                                                   transition detection interrupt and selectable pullups.
                                                                   Offers maximum versatility for automatic input
 MAX7319       110xxxx     8         Yes          —         —
                                                                   monitoring. An interrupt mask selects which inputs
                                                                   cause an interrupt on transitions, and transition flags
                                                                   identify which inputs have changed (even
                                                                   momentarily) since the ports were last read.
                                                                   Output-only versions:
                                                                   Eight push-pull outputs with selectable power-up
 MAX7320       101xxxx     —          —           —         8      default levels
                                                                   Push-pull outputs offer faster rise time than open-
                                                                   drain outputs, and require no pullup resistors.
                                                                   I/O versions:
                                                                   Eight open-drain I/O ports with latching transition
                                                                   detection interrupt and selectable pullups.
                                                                   Open-drain outputs can level shift the logic-high
 MAX7321       110xxxx   Up to 8      —         Up to 8     —      State to a higher or lower voltage than V+ using
                                                                   external pullup resistors. Any port can be used as an
                                                                   input by setting the open-drain output to logic-high.
                                                                   Transition flags identify which inputs have changed
                                                                   (even momentarily) since the ports were last read.
                                                                   Four input-only, four output-only versions:
                                                                   Four input ports with programmable latching
 MAX7322       110xxxx     4         Yes          —         4      transition detection interrupt and selectable pullups.
                                                                   Four push-pull outputs with selectable power-up
                                                                   default levels.
www.maximintegrated.com                                                                               Maxim Integrated │ 5


MAX7319                                                                I2C Port Expander with Eight Inputs
                                                                        and Maskable Transition Detection
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                 I2C                   INPUT         OPEN-      PUSH-
   PART        SLAVE      INPUTS INTERRUPT           DRAIN      PULL                           APPLICATION
              ADDRESS                  MASK        OUTPUTS     OUTPUTS
                                                                           Four I/O, four output-only versions:
                                                                           Four open-drain I/O ports with latching transition
  MAX7323      110xxxx     Up to 4       —           Up to 4        4      detection interrupt and selectable pullups.
                                                                           Four push-pull outputs with selectable power-up
                                                                           default levels.
                                                                           PCF8574-, PCF8574A-compatible versions:
                                                                           Eight open-drain I/O ports with nonlatching transition
  MAX7328      0100xxx                                                     detection interrupt and pullups on all ports.
                           Up to 8       —           Up to 8       —
  MAX7329      0111xxx                                                     All ports power up as inputs (or logic-high outputs).
                                                                           Any port can be used as an input by setting the
                                                                           open-drain output to logic-high.
 16-PORT EXPANDERS
  MAX7324                     8         Yes            —            8      Software equivalent to a MAX7320 plus a MAX7321.
               101xxxx
  MAX7325                  Up to 8       —           Up to 8        8      Software equivalent to a MAX7320 plus a MAX7319.
                 And
  MAX7326                     4         Yes            —           12      Software equivalent to a MAX7320 plus a MAX7322.
               110xxxx
  MAX7327                  Up to 4       —           Up to 4       12      Software equivalent to a MAX7320 plus a MAX7323.
for changes. An input change sets one of eight flag bits         Standby Mode
that identify changed input(s). All flags are cleared            When the serial interface is idle, the MAX7319
upon a subsequent read or write transaction to the               automatically enters standby mode, drawing minimal
MAX7319.                                                         supply current.
A latching interrupt output, INT, is programmed to flag
input data changes on input ports through an interrupt           Slave Address and Input Pullup Selection
mask register. By default, data changes on any input             Address inputs AD0 and AD2 determine the MAX7319
port force INT to a logic-low. The interrupt output, INT,        slave address and select which inputs have pullup
and all transition flags are cleared when the MAX7319            resistors. Pullups are enabled on the input ports in
is next accessed through the serial interface.                   groups of four (see Table 3). The MAX7319, MAX7321,
                                                                 MAX7322, and MAX7323 use a different range of slave
Internal pullup resistors to V+ are selected by the
                                                                 addresses (110xxxx) than the MAX7320 (101xxxx).
address-select inputs, AD0 and AD2. Pullups are enabled
on the input ports in groups of four (see Table 3).              The MAX7319 slave address is determined on each I2C
                                                                 transmission, regardless of whether the transmission is
Initial Power-Up                                                 actually addressing the MAX7319. The MAX7319
On power-up, the transition detection logic is reset, and        distinguishes whether address inputs AD2 and AD0 are
INT is released to a high-impedance state. The interrupt         connected to SDA or SCL instead of fixed logic levels
mask register is set to 0xFF, enabling the interrupt output      V+ or GND during this transmission. This means that the
for transitions on all eight input ports. The transition flags   MAX7319 slave address can be configured dynamically
are cleared to indicate no data changes.                         in the application without cycling the device supply.
RST Input                                                        On initial power-up, the MAX7319 cannot decode the
The RST input voids any I2C transaction involving the            address inputs AD2 and AD0 fully until the first I2C
MAX7319, forcing the MAX7319 into the I2C STOP                   transmission. AD0 and AD2 initially appear to be con-
condition. A reset does not affect the interrupt output (INT)    nected to V+ or GND. This is important because the
or change the contents of the interrupt mask register.           address selection determines which inputs have
RST is overvoltage tolerant to +6V.                              pullups applied. However, at power-up, the I2C SDA
                                                                 and SCL bus interface lines are high impedance at the
                                                                 pins of every device (master or slave) connected to the
                                                                 bus, including the MAX7319. This is guaranteed as part
www.maximintegrated.com                                                                                      Maxim Integrated │ 6


MAX7319                                                            I2C Port Expander with Eight Inputs
                                                                    and Maskable Transition Detection
Table 2. Read and Write Access to Eight-Port Expander Family
                                                     OPEN-      PUSH-
            I2C SLAVE               INTERRUPT
   PART                   INPUTS                      RAIN      PULL      I2C DATA WRITE            I2C DATA READ
            ADDRESS                    MASK
                                                    OUTPUTS  OUTPUTS
                                                                            <I7–I0 interrupt       <I7–I0 port inputs>
  MAX7319     110xxxx        8           Yes           —          —
                                                                                mask>            <I7–I0 transition flags>
                                                                             <O7–O0 port
  MAX7320     101xxxx        —            —            —          8                               <O7–O0 port inputs>
                                                                               outputs>
                                                                             <P7–P0 port          <P7–P0 port inputs>
  MAX7321     110xxxx      Up to 8        —          Up to 8      —
                                                                               outputs>         <P7–P0 transition flags>
                                                                           <O7, O6 outputs,      <O7, O6, I5–I2, O1, O0
                                                                            I5–I2 interrupt            Port inputs>
  MAX7322     110xxxx        4           Yes           —          4
                                                                             mask, O1, O0      <0, 0, I5–I2 transition flags,
                                                                               outputs>                    0, 0>
                                                                                                <O7, O6, P5–P2, O1, O0
                                                                                                       Port inputs>
  MAX7323     110xxxx      Up to 4        —          Up to 4      4         <port outputs>
                                                                                              <0, 0, P5–P2 transition flags,
                                                                                                           0, 0>
                                                                             <P7–P0 port
  MAX7328     0100xxx      Up to 8        —          Up to 8      —                               <P7–P0 port inputs>
                                                                               outputs>
                                                                             <P7–P0 port
  MAX7329     0111xxx      Up to 8        —          Up to 8      —                               <P7–P0 port inputs>
                                                                               outputs>
of the I2C specification. Therefore, address inputs AD2      behavior. If one of the other 12 address combinations is
and AD0 that are connected to SDA or SCL normally            used, be aware that an unexpected combination of
appear at power-up to be connected to V+. The pullup         pullups might be asserted until the first I2C
selection logic uses AD0 to select whether pullups are       transmission (to any device, not necessarily the MAX7319)
enabled for ports I3–I0, and uses AD2 to select whether      is put on the bus.
pullups are enabled for ports I7–I4. The rule is that a
logic-high SDA or SCL connection selects the pullups,        Port Inputs
while a logic-low deselects the pullups (Table 3). The       Port inputs switch at CMOS logic levels as determined by
pullup configuration is correct on power-up for a standard   the expander’s supply voltage, and are overvoltage toler-
I2C configuration, where SDA and SCL are pulled up to        ant to +6V, independent of the expander’s supply voltage.
V+ by the external I2C pullup resistors.
                                                             Port-Input Transition Detection
There are circumstances where the assumption that            All eight input ports are monitored for changes since
SDA = SCL = V+ on power-up is not true, for                  the expander was last accessed through the serial
example, in true hot-swap applications, in which there is    interface. The state of the input ports is stored in an
legitimate bus activity during power-up. Also, if SDA and    internal “snapshot” register for transition monitoring.
SCL are terminated with pullup resistors to a different      The snapshot is continuously compared with the actual
supply voltage than the MAX7319’s supply voltage, and        input conditions, and if a change is detected for any
if that pullup supply rises later than the MAX7319’s         port input, an internal transition flag is set for that port.
supply, then SDA or SCL may appear at power-up to be         The eight port inputs are sampled (internally latched
connected to GND. In such applications, use the four         into the snapshot register) and the old transition flags
address combinations that are selected by connecting         cleared during the I2C acknowledge of every MAX7319
address inputs AD2 and AD0 to V+ or GND (shown in            read and write access. The previous port transition
bold in Table 3). These selections are guaranteed to be      flags are read through the serial interface as the sec-
correct at power-up, independent of SDA and SCL              ond byte of a 2-byte read sequence.
www.maximintegrated.com                                                                                 Maxim Integrated │ 7


MAX7319                                                                I2C Port Expander with Eight Inputs
                                                                        and Maskable Transition Detection
Table 3. MAX7319 Address Map
   PIN CONNECTION                      DEVICE ADDRESS                                40kΩ INPUT PULLUP ENABLED
    AD2          AD0       A6    A5     A4     A3     A2      A1    A0      I7     I6    I5    I4    I3    I2     I1     I0
    SCL          GND        1     1      0      0      0       0     0      Y      Y     Y     Y     —     —      —      —
    SCL           V+        1     1      0      0      0       0     1      Y      Y     Y     Y      Y    Y      Y      Y
    SCL          SCL        1     1      0      0      0       1     0      Y      Y     Y     Y      Y    Y      Y      Y
    SCL          SDA        1     1      0      0      0       1     1      Y      Y     Y     Y      Y    Y      Y      Y
    SDA          GND        1     1      0      0      1       0     0      Y      Y     Y     Y     —     —      —      —
    SDA           V+        1     1      0      0      1       0     1      Y      Y     Y     Y      Y    Y      Y      Y
    SDA          SCL        1     1      0      0      1       1     0      Y      Y     Y     Y      Y    Y      Y      Y
    SDA          SDA        1     1      0      0      1       1     1      Y      Y     Y     Y      Y    Y      Y      Y
    GND          GND        1     1      0      1      0       0     0     —      —      —     —     —     —      —      —
    GND           V+        1     1      0      1      0       0     1     —      —      —     —      Y    Y      Y      Y
    GND          SCL        1     1      0      1      0       1     0     —      —      —     —      Y    Y      Y      Y
    GND          SDA        1     1      0      1      0       1     1     —      —      —     —      Y    Y      Y      Y
     V+          GND        1     1      0      1      1       0     0      Y      Y     Y     Y     —     —      —      —
     V+           V+        1     1      0      1      1       0     1      Y      Y     Y     Y      Y    Y      Y      Y
     V+          SCL        1     1      0      1      1       1     0      Y      Y     Y     Y      Y    Y      Y      Y
     V+          SDA        1     1      0      1      1       1     1      Y      Y     Y     Y      Y    Y      Y      Y
A long read sequence (more than 2 bytes) can be used             Transition-Detection Masks
to poll the expander continuously without the overhead           The transition-detection logic incorporates a transition
of resending the slave address. If more than 2 bytes are         flag and an interrupt mask bit for each input port. The
read from the expander, the expander repeatedly returns          eight change flags can be read through the serial
the input port data followed by the transition flags. The        interface, and the 8-bit interrupt mask is set through the
inputs are repeatedly resampled and the transition flags         serial interface.
repeatedly reset for each pair of bytes read. All changes
that occur during a long read sequence are detected and          Each port’s transition flag is set when that port’s input
reported.                                                        changes, and the transition flag remains set even if the
                                                                 input returns to its original state. The port’s interrupt
The MAX7319 includes an 8-bit interrupt mask register            mask determines whether a transition on that input port
that selects which inputs generate an interrupt upon             generates an interrupt. Enable interrupts for high-priority
change. Each input’s transition flag is set when its input       inputs using the interrupt mask. The interrupt allows the
changes, independent of the interrupt mask register              system to respond quickly to changes on these inputs.
settings. The interrupt mask register allows the processor       Poll the MAX7319 periodically to monitor less-important
to be interrupted for critical events, while the inputs and      inputs. The transition flags indicate whether a permanent
the transition flags can be polled periodically to detect        or transient change has occurred on any input since the
less critical events.                                            MAX7319 was last accessed.
The INT logic ensures that unnecessary interrupts are
not asserted, yet data transitions are detected and              Serial Interface
reported regardless of when the transition occurs. The           Serial Addressing
INT output is not reasserted during a read sequence to           The MAX7319 operates as a slave that sends and
avoid recursive reentry into an interrupt service routine. If    receives data through an I2C interface. The interface uses
transition occurs during read sequence, the INT assertion        a serial data line (SDA) and a serial clock line (SCL) to
is delayed until the STOP condition, however, INT is not         achieve bidirectional communication between master(s)
reasserted upon a STOP condition if the changed input            and slave(s). The master initiates all data transfers to
data is read before the STOP occurs.                             and from the MAX7319 and generates the SCL clock that
                                                                 synchronizes the data transfer (Figure 1).
www.maximintegrated.com                                                                                  Maxim Integrated │ 8


MAX7319                                                                          I2C Port Expander with Eight Inputs
                                                                                   and Maskable Transition Detection
                 SDA
                                                                  tSU,STA                                                    tBUF
                                              tSU,DAT                              tHD,STA
                                      tLOW
                                                         tHD,DAT                                            tSU,STO
                 SCL                           tHIGH
                   tHD,STA
                                           tR         tF
                      START CONDITION                            REPEATED START CONDITION                              STOP         START
                                                                                                                     CONDITION    CONDITION
Figure 1. 2-Wire Serial-Interface Timing Details
SDA operates as both an input and an open-drain
output. A pullup resistor, typically 4.7kΩ, is required on
                                                                                 SDA
SDA. SCL operates only as an input. A pullup resistor,
typically 4.7kΩ, is required on SCL if there are multiple                         SCL
                                                                                           S                                                        P
masters on the 2-wire interface, or if the master in a                                  START                                                     STOP
single-master system has an open-drain SCL output.                                   CONDITION                                                  CONDITION
Each transmission consists of a START condition sent                      Figure 2. Start and Stop Conditions
by a master, followed by the MAX7319’s 7-bit slave
address plus R/W bit, then 1 or more data bytes, and
finally a STOP condition (Figure 2).
Start and Stop Conditions
Both SCL and SDA remain high when the                                             SDA
interface is not busy. A master signals the beginning of a
transmission with a START (S) condition by transitioning                          SCL
SDA from high to low while SCL is high. When the master
                                                                                             DATA LINE STABLE; CHANGE OF DATA
has finished communicating with the slave, the master                                           DATA VALID         ALLOWED
issues a STOP (P) condition by transitioning SDA from
low to high while SCL is high. The bus is then free for                   Figure 3. Bit Transfer
another transmission (Figure 2).
Bit Transfer
One data bit is transferred during each clock pulse.                                                                                 CLOCK PULSE
                                                                                              START
The data on SDA must remain stable while SCL is high                                        CONDITION                      FOR ACKNOWLEDGMENT
(Figure 3).                                                                              SCL                1            2                 8          9
Acknowledge                                                                          SDA BY
                                                                              TRANSMITTER
The acknowledge bit is a clocked 9th bit the recipient
uses to acknowledge receipt of each byte of data                                     SDA BY
                                                                                  RECEIVER      S
(Figure 4). Each byte transferred effectively requires 9
bits. The master generates the 9th clock pulse, and                       Figure 4. Acknowledge
the recipient pulls down SDA during the acknowledge
clock pulse, so the SDA line is stable low during the
high period of the clock pulse. When the master is                        When the MAX7319 is transmitting to the master, the
transmitting to the MAX7319, the MAX7319 generates the                    master generates the acknowledge bit because the
acknowledge bit because the device is the recipient.                      master is the recipient.
www.maximintegrated.com                                                                                                                Maxim Integrated │ 9


MAX7319                                                                       I2C Port Expander with Eight Inputs
                                                                                and Maskable Transition Detection
Slave Address                                                        A 2-byte read returns the status of the eight input ports
The MAX7319 has a 7-bit slave address (Figure 5). The                (as for a single-byte read), followed by the transition
8th bit following the 7-bit slave address is the R/W bit. It         flags. The internal transition flags and the INT output
is low for a write command, and high for a read                      are cleared when the MAX7319 acknowledges the
command.                                                             slave address byte, but the previous transition flag data
                                                                     is sent as the second byte (Figure 8).
The 1st (A6), 2nd (A5), and 3rd (A4) bits of the MAX7319
slave address are always 1, 1, and 0. Connect AD2 and                A multibyte read (more than 2 bytes before the I2C
AD0 to GND, V+, SDA, or SCL to select slave address                  STOP bit) repeatedly returns the input port data,
bits A3, A2, A1, and A0. The MAX7319 has 16 possible                 alternating with the transition flags. As the input data is
slave addresses (Table 3), allowing up to 16 MAX7319                 resampled for each transmission, and the transition
devices on an I2C bus                                                flags are reset each time, a multibyte read continuously
                                                                     returns the current data and identifies any changing
Accessing the MAX7319                                                input ports.
I2C-interface access to the MAX7319 is summarized as                 If a port input data change occurs during the read
follows (Table 2):                                                   sequence, INT is reasserted after the I2C STOP bit. The
A single-byte read from the MAX7319 returns the                      MAX7319 does not generate another interrupt during a
status of the eight input ports, and clears both the internal        single-byte or multibyte read.
transition flags and the INT output (Figure 7).
               SDA      1           1       0            A3      A2               A1               A0             R/W               ACK
                       MSB                                                                       LSB
               SCL
Figure 5. Slave Address
                                                                                         PORT INPUTS
                                                                     I7    I6      I5     I4    I3    I2      I1      I0
                          S     1  1  0 MAX7319 SLAVE ADDRESS 1 A       D7    D6      D5     D4    D3    D2      D1      D0     N      P
                                                          R/W        PORT SNAPSHOT                        PORT SNAPSHOT
                             SCL
                                                                   tPH
                        PORT INPUT
                   tIV                                            tIR                                                       tPSU         tIP
                        INT OUTPUT                                          INT REMAINS HIGH UNTIL STOP CONDITION
                                                                             S = START CONDITION           SHADED = SLAVE TRANSMISSION
                                                                             P = STOP CONDITION            N = NOT ACKNOWLEDGE
Figure 6. Reading from the MAX7319 (1 Data Byte)
www.maximintegrated.com                                                                                                               Maxim Integrated │ 10


MAX7319                                                                                      I2C Port Expander with Eight Inputs
                                                                                                and Maskable Transition Detection
Input port data is sampled during the preceding I2C                                   When the master reads 1 byte from the MAX7319 and
acknowledge bit (the acknowledge bit for the I2C slave                                subsequently issues a STOP condition (Figure 6), the
address in the case of a single-byte or 2-byte read).                                 MAX7319 transmits the current port data, clears the
A single-byte write to the MAX7319 sets the interrupt                                 transition flags, and resets the transition detection. INT
mask register, and clears both the internal transition                                deasserts during the slave address acknowledge. The
flags and the INT output.                                                             new snapshot data is the current port data transmitted
                                                                                      to the master; therefore, port transitions ocurring during
A multibyte write to the MAX7319 sets the interrupt                                   the transmission are detected. INT remains high until the
mask register repeatedly.                                                             STOP condition.
Reading from the MAX7319                                                              When the master reads 2 bytes from the MAX7319 and
A read from the MAX7319 starts with the master                                        subsequently issues a STOP condition (Figure 7), the
transmitting the MAX7319’s slave address with the R/W                                 MAX7319 transmits the current port data, followed by
bit set high. The MAX7319 acknowledges the slave                                      the transition flags. The transition flags are cleared, and
address and samples the input ports during acknowledge                                transition detection reset. INT deasserts during the
bit. INT deasserts during the slave address acknowledge.                              slave address acknowledge. The new snapshot data is
Typically, the master reads 1 or 2 bytes from the MAX7319,                            the current port data transmitted to the master; there-
with each byte, except the last one, being acknowledged                               fore, port transitions occurring during the transmission
by the master upon reception.                                                         are detected. INT remains high until the STOP condi-
                                                                                      tion. When the master reads more than 2 bytes, the input
                                                                                      port data alternates with the transition flag.
                                                                              PORT INPUTS                               INTERRUPT FLAGS
                                                                 I7   I6   I5   I4   I3  I2   I1  I0          F7 F6     F5   F4 F3 F2    F1 F0
                          S   1 1 0 MAX7319 SLAVE ADDRESS 1 A     D7    D6 D5 D4 D3 D2 D1 D0              A   D7 D6 D5 D4 D3 D2           D1 D0  N  P
                                                     R/W         PORT SNAPSHOT        PORT SNAPSHOT                               PORT SNAPSHOT
                         SCL
                                                              tPH
                     PORTS
                 tIV                                                                                 tPSU                                          tIP
                     INT OUTPUT                             tIR
                                                                     INT REMAINS HIGH UNTIL STOP CONDITION
                                                                     S = START CONDITION         SHADED = SLAVE TRANSMISSION
                                                                     P = STOP CONDITION          N = NOT ACKNOWLEDGE
Figure 7. Reading from the MAX7319 (2 Data Bytes)
www.maximintegrated.com                                                                                                                         Maxim Integrated │ 11


MAX7319                                                                               I2C Port Expander with Eight Inputs
                                                                                        and Maskable Transition Detection
                      SCL       1  2    3  4  5   6 7  8
                                    SLAVE ADDRESS           DATA TO INTERRUPT MASK              DATA TO INTERRUPT MASK
                      SDA   S                          0  A            DATA 1             A                DATA 2            A
                          START CONDITION             R/W
                                                                                    tPV                               tPV
                                                                                S = START CONDITION       SHADED = SLAVE TRANSMISSION
                                                                                P = STOP CONDITION        N = NOT ACKNOWLEDGE
Figure 8. Writing to the MAX7319
Writing to the MAX7319                                                        Hot Insertion
A write to the MAX7319 starts with the master transmit-                       RST, SCL, SDA, AD0, and AD2 remain high impedance
ting the MAX7319’s slave address with the R/W bit set                         with up to +6V asserted on them when the MAX7319 is
low. The MAX7319 acknowledges the slave address,                              powered down (V+ = 0). The MAX7319 can therefore be
and samples the input ports during the acknowledge                            used in hot-swap applications.
bit. INT deasserts during the slave address                                   Each of the input ports I0–I7 has a protection diode
acknowledge. The master can now transmit 1 or more                            to GND (Figure 9). When a port input is driven to a
bytes of data. The MAX7319 acknowledges these                                 voltage lower than GND, the protection diode clamps the
subsequent bytes of data and updates the interrupt mask                       voltage to a diode drop below GND.
register with each new byte until the master issues a
STOP condition (Figure 8).                                                    Each of the input ports I0–I7 also has a 40kΩ (typ)
                                                                              pullup resistor that can be enabled or disabled. When
Applications Information                                                      a port input is driven to a voltage higher than V+, the
                                                                              body diode of the pullup enable switch conducts and
Port Input and I2C Interface Level Translation                                the 40kΩ pullup resistor is enabled. When the
from Higher or Lower Logic Voltages                                           MAX7319 is powered down (V+ = 0), every input port
The MAX7319 I2C interface (SDA, SCL, AD0, AD2), reset                         appears as a 40kΩ resistor in series with a diode
input RST, interrupt output INT, and the eight input ports                    connected to GND. Input ports are protected to +6V under
I0–I7 are overvoltage protected to +6V independent of                         any of these circumstances (Figure 9).
V+. This allows the MAX7319 to operate from a lower
supply voltage, such as +3.3V, while the I2C interface
and/or any of the eight input ports are driven from a higher                                              V+    V+
logic level, such as +5V.                                                                                                    MAX7319
                                                                                             PULLUP
                                                                                                             P
The MAX7319 can operate from a higher supply                                                 ENABLE
voltage, such as +3V, while the I2C interface and/or                                                                    40kΩ
some of the input ports I0–I7 are driven from a lower                                                                                        I0–I7
logic level, such as +2.5V. Apply a minimum voltage                                         INPUT
of 0.7 x V+ to assert a logic-high on any input. For
example, a MAX7319 operating from a +5V supply may
not recognize a +3.3V nominal logic-high. One solution
for input level translation is to drive the MAX7319 inputs
from open-drain outputs. Use a pullup resistor to V+ or a                     Figure 9. Input Port Structure
higher supply to ensure a high logic voltage of greater
than 0.7 x V+.
www.maximintegrated.com                                                                                                              Maxim Integrated │ 12


MAX7319                                                                        I2C Port Expander with Eight Inputs
                                                                                and Maskable Transition Detection
Power-Supply Considerations                                                MAX7316. In many cases, it is possible to design a PC
The MAX7319 operates with a +1.71V to +5.5V supply                         board to work with all these port expanders, providing
voltage over the -40°C to +125°C temperature range.                        design flexibility.
Bypass V+ to GND with a ceramic capacitor of at least
0.047µF as close to the device as possible. For the TQFN
                                                                           Table 4. MAX7319, MAX6965, MAX7315,
version, connect the exposed pad to GND.                                   and MAX7316 Pin Compatibility
Compatibility with MAX6965, MAX7315,                                        PIN-PACKAGE                            PIN FUNCTION
and MAX7316                                                                  16           16                                        MAX6965 AND
                                                                                                    MAX7319        MAX7315
The MAX7319 is subset pin compatible with the                               QSOP         TQFN                                         MAX7316
MAX6965, MAX7315, and MAX7316. The pin                                        1               15         AD0             AD0               BLINK
differences are shown in Table 4. The MAX7319 is
not software compatible with MAX6965, MAX7315, or                             2               16         RST             AD1                RST
                                                                              3               1          AD2             AD2                AD0
Pin Configurations                                                         Typical Application Circuit
                                                                                                           3.3V
                                 SCL         INT
           TOP VIEW
                                                   I7   I6
                                 12          11    10   9                                                                           47nF
                                                                                                            V+
                                                                                   µC
                   SDA 13                                       8    I5                                  MAX7319
                                                                                    SCL            SCL              I7                     INPUT 7
                      V+ 14                                     7    I4             SDA            SDA              I6                     INPUT 6
                                             MAX7319                                RST            RST              I5                     INPUT 5
                   AD0 15                                       6    GND                                            I4                     INPUT 4
                                                                                        INT        INT
                                                                                                                    I3                     INPUT 3
                                     * EP                       5    I3                                             I2                     INPUT 2
                   RST 16        +                                                                 AD0
                                                                                                   AD2              I1                     INPUT 1
                                     1        2    3    4                                                           I0                     INPUT 0
                                                                                                           GND
                                 AD2
                                             I0    I1   I2
                                           TQFN
                                         3mm x 3mm
           * EXPOSED PAD CONNECTED TO GND.
                                         +
                         AD0 1                              16 V+
                         RST 2                              15 SDA
                         AD2 3                              14 SCL
                                             MAX7319
                              I0 4                          13 INT
                              I1 5                          12 I7
                              I2 6                          11 I6
                              I3 7                          10 I5
                         GND 8                              9   I4
                                              QSOP
www.maximintegrated.com                                                                                                        Maxim Integrated │ 13


MAX7319                                               I2C Port Expander with Eight Inputs
                                                        and Maskable Transition Detection
Functional Diagram
                                                                         I7
                          AD0                                            I6
                          AD2                                            I5
                                                                         I4
                                                                         I3
                         SCL  INPUT      I2 C               INPUT        I2
                                       CONTROL             PORTS         I1
                        SDA    FILTER                                    I0
                                                                            INT
                              POWER-ON
                          RST
                                 RESET
                                        MAX7319
Chip Information                                Package Information
PROCESS: BiCMOS                                 For the latest package outline information and land patterns
                                                (footprints), go to www.maximintegrated.com/packages. Note
CONNECT EXPOSED PAD TO GND
                                                that a “+”, “#”, or “-” in the package code indicates RoHS status
                                                only. Package drawings may show a different suffix character, but
                                                the drawing pertains to the package regardless of RoHS status.
                                                  PACKAGE           PACKAGE         OUTLINE      LAND PATTERN
                                                     TYPE              CODE            NO.             NO.
                                                   16 QSOP             E16+4         21-0055         90-0167
                                                 16 TQFN-EP          T1633+4         21-0136         90-0031
www.maximintegrated.com                                                                     Maxim Integrated │ 14


MAX7319                                                                                        I2C Port Expander with Eight Inputs
                                                                                                 and Maskable Transition Detection
Revision History
   REVISION          REVISION                                                                                                                       PAGES
                                                                             DESCRIPTION
   NUMBER                DATE                                                                                                                    CHANGED
                                     No /V OPNs; removed automotive reference from Applications section; updated
         2               5/14                                                                                                                           1
                                     Packaging Information
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                 © 2014 Maxim Integrated Products, Inc. │ 15


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7319ATE+ MAX7319ATE+T MAX7319AEE+ MAX7319AEE+T
