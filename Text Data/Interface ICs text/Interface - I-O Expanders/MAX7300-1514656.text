MAX7300                                                                2-Wire-Interfaced, 2.5V to 5.5V,
                                                                      20-Port or 28-Port I/O Expander
General Description                                           Features
The MAX7300 compact, serial-interfaced, I/O expansion         ●● 400kbps I2C-Compatible Serial Interface
peripheral provides microprocessors with up to 28 ports.      ●● 2.5V to 5.5V Operation
Each port is individually user configurable to either a logic
                                                              ●● -40°C to +125°C Temperature Range
input or logic output.
                                                              ●● 20 or 28 I/O Ports, Each Configurable as
Each port can be configured as either a push-pull logic             Push-Pull Logic Output
output capable of sinking 10mA and sourcing 4.5mA, or               Schmitt Logic Input
a Schmitt logic input with optional internal pullup. Seven          Schmitt Logic Input with Internal Pullup
ports feature configurable transition detection logic, which
generates an interrupt upon change of port logic level. The   ●● 11µA (max) Shutdown Current
MAX7300 is controlled through an I2C-compatible 2-wire        ●● Logic Transition Detection for Seven I/O Ports
serial interface, and uses four-level logic to allow 16 I2C
addresses from only two select pins.                          Ordering Information
The MAX7300AAX and MAX7300ATL have 28 ports and                     PART               TEMP RANGE               PIN-PACKAGE
are available in 36-pin SSOP and 40-pin TQFN packages,         MAX7300AAI            -40°C to +125°C            28 SSOP
respectively. The MAX7300AAI and MAX7300ATI have 20            MAX7300ATI            -40°C to +125°C            28 TQFN-EP*
ports and are available in 28-pin SSOP and TQFN pack-          MAX7300AAX            -40°C to +125°C            36 SSOP
ages. For an SPI-interfaced version, refer to the MAX7301      MAX7300ATL            -40°C to +125°C            40 TQFN-EP*
data sheet. For a pin-compatible port expander with addi-     *EP = Exposed pad.
tional 24mA constant-current LED drive capability, refer to   Devices are also available in a lead(Pb)-free/RoHS-compliant
the MAX6956 data sheet.                                       package. Specify lead-free by adding “+” to the part number
                                                              when ordering. Devices are also available in tape-and-reel
Application                                                   packaging. Specify tape and reel by adding “T” to the part
                                                              number when ordering.
●● White Goods                    ●● System Monitoring
●● Industrial Controllers                                     Typical Operating Circuit
Pin Configurations                                                               3V                       P4 32    I/O 4
                                                                                      36 V+               P5 30    I/O 5
                                                                           47nF
                                                                                       3 GND              P6 28    I/O 6
                 TOP VIEW                                                              2 GND              P7 26    I/O 7
                                                                                       1
                          ISET 1           28 V+                            39kΩ         ISET             P8 5     I/O 8
                                                                                                          P9 7     I/O 9
                          GND 2            27 AD1                                                            9
                                                                                                         P10       I/O 10
                                                                                      35                     11
                          GND 3            26 SCL                                        AD1             P11       I/O 11
                                                                                       4 AD0  MAX7300AAX P12 6     I/O 12
                           AD0 4           25 SDA                                     33 SDA
                                                                                DATA                     P13 8     I/O 13
                           P12 5           24 P31                             CLOCK   34 SCL             P14 10    I/O 14
                                  MAX7300
                                                                                                         P15 12    I/O 15
                           P13 6           23 P30                                     31 P31             P16 13    I/O 16
                           P14 7           22 P29
                                                                                      29 P30             P17 14    I/O 17
                                                                                      27 P29             P18 15    I/O 18
                           P15 8           21 P28                                     25 P28             P19 16    I/O 19
                           P16 9           20 P27
                                                                                      24 P27             P20 17    I/O 20
                                                                                      23 P26             P21 18    I/O 21
                           P17 10          19 P26                                     22 P25             P22 19    I/O 22
                           P18 11          18 P25
                                                                                      21 P24             P23 20    I/O 23
                           P19 12          17 P24                                                                  I/O 24
                                                                                                                   I/O 25
                           P20 13          16 P23
                                                                                                                   I/O 26
                           P21 14          15 P22                                                                  I/O 27
                                                                                                                   I/O 28
                                  28 SSOP                                                                          I/O 29
                                                                                                                   I/O 30
  Pin Configurations continued at end of data sheet.                                                               I/O 31
19-2413; Rev 8; 5/14


MAX7300                                                                                                                2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                                      20-Port or 28-Port I/O Expander
Absolute Maximum Ratings
Voltage (with respect to GND)                                                                             36-Pin SSOP (derate 11.8mW/°C above +70°C).........941mW
V+.............................................................................-0.3V to +6V               40-Pin TQFN (derate 26.3mW/°C above TA = +70°C).....2105mW
SCL, SDA, AD0, AD1...............................................-0.3V to +6V                         Operating Temperature Range
All Other Pins...............................................-0.3V to (V+ + 0.3V)                         TMIN to TMAX)................................................ -40°C to +125°C
P4–P31 Current ...............................................................±30mA                   Junction Temperature.......................................................+150°C
GND Current.....................................................................800mA                 Storage Temperature Range............................. -65°C to +150°C
Continuous Power Dissipation (TA = +70°C)                                                             Lead Temperature (soldering, 10s).................................. +300°C
   28-Pin SSOP (derate 9.1mW/°C above +70°C)...........727mW                                          Soldering Temperature (reflow)
   28-Pin TQFN (derate 21.3mW/°C above +70°C).......1702mW                                                Lead (Pb)-free packages..............................................+260°C
                                                                                                          Packages containing lead (Pb).....................................+240°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Electrical Characteristics
(Typical Operating Circuit, VV+ = 2.5V to 5.5V, TA = TMIN to TMAX, unless otherwise noted.) (Note 1)
                 PARAMETER                               SYMBOL                               CONDITIONS                                    MIN          TYP           MAX         UNITS
 Operating Supply Voltage                                       V+                                                                           2.5                        5.5            V
                                                                                                          TA = +25°C                                      5.5             8
                                                                            All digital inputs at
 Shutdown Supply Current                                    ISHDN                                         TA = -40°C to +85°C                                            10           µA
                                                                            V+ or GND
                                                                                                          TMIN to TMAX                                                   11
                                                                            All ports programmed TA = +25°C                                              180            240
                                                                            as outputs high, no
 Operating Supply Current                                   IGPOH                                         TA = -40°C to +85°C                                           260           µA
                                                                            load, all other inputs
                                                                            at V+ or GND                  TMIN to TMAX                                                  280
                                                                            All ports programmed TA = +25°C                                              170            210
                                                                            as outputs low, no
 Operating Supply Current                                   IGPOL                                         TA = -40°C to +85°C                                           230           µA
                                                                            load, all other inputs
                                                                            at V+ or GND                  TMIN to TMAX                                                  240
                                                                            All ports programmed
                                                                                                          TA = +25°C                                     110            135
                                                                            as inputs without
 Operating Supply Current                                     IGPI          pullup, ports, and all TA = -40°C to +85°C                                                  140           µA
                                                                            other inputs at V+ or
                                                                                                          TMIN to TMAX                                                  145
                                                                            GND
 INPUTS AND OUTPUTS
 Logic High Input Voltage                                                                                                                   0.7 x
                                                              VIH                                                                                                                      V
 Port Inputs                                                                                                                                 V+
 Logic Low Input Voltage                                                                                                                                               0.3 x
                                                               VIL                                                                                                                     V
 Port Inputs                                                                                                                                                             V+
                                                                            GPIO inputs without pullup,
 Input Leakage Current                                      IIH, IIL                                                                        -100           ±1          +100           nA
                                                                            VPORT = V+ to GND
                                                                            VV+ = 2.5V                                                       12            19            30
 GPIO Input Internal Pullup to V+                              IPU                                                                                                                    µA
                                                                            VV+ = 5.5V                                                       80          120            180
 Hysteresis Voltage GPIO Inputs                               DVI                                                                                         0.3                          V
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 2


MAX7300                                                                           2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                  20-Port or 28-Port I/O Expander
Electrical Characteristics (continued)
(Typical Operating Circuit, VV+ = 2.5V to 5.5V, TA = TMIN to TMAX, unless otherwise noted.) (Note 1)
           PARAMETER                 SYMBOL                      CONDITIONS                     MIN    TYP    MAX       UNITS
                                                 GPIO outputs, ISOURCE = 2mA,                   V+ -
                                                 TA = -40°C to +85°C                             0.7
 Output High Voltage                      VOH                                                                              V
                                                 GPIO outputs, ISOURCE = 1mA,                   V+ -
                                                 TA = TMIN to TMAX (Note 2)                      0.7
 Port Sink Current                         IOL   VPORT = 0.6V                                     2     10      18        mA
 Output Short-Circuit Current           IOLSC    Port configured output low, shorted to V+      2.75    11      20        mA
 Input High-Voltage SDA, SCL,                                                                   0.7 x
                                           VIH                                                                             V
 AD0, AD1                                                                                        V+
 Input Low-Voltage SDA, SCL,                                                                                  0.3 x
                                           VIL                                                                             V
 AD0, AD1                                                                                                       V+
 Input Leakage Current SDA, SCL        IIH, IIL                                                  -50           +50        nA
 Input Capacitance                               (Note 2)                                                       10         pF
 Output Low-Voltage SDA                   VOL    ISINK = 6mA                                                    0.4        V
Timing Characteristics (Figure 2)
(VV+ = 2.5V to 5.5V, TA = TMIN to TMAX, unless otherwise noted.) (Note 1)
           PARAMETER                 SYMBOL                      CONDITIONS                     MIN    TYP    MAX       UNITS
 Serial Clock Frequency                   fSCL                                                                 400        kHz
 Bus Free Time Between a STOP
                                         tBUF                                                    1.3                       µs
 and a START Condition
 Hold Time (Repeated) START
                                      tHD, STA                                                   0.6                       µs
 Condition
 Repeated START Condition
                                      tSU, STA                                                   0.6                       µs
 Setup Time
 STOP Condition Setup Time            tSU, STO                                                   0.6                       µs
 Data Hold Time                       tHD, DAT   (Note 3)                                         15           900         ns
 Data Setup Time                      tSU, DAT                                                   100                       ns
 SCL Clock Low Period                    tLOW                                                    1.3                       µs
 SCL Clock High Period                  tHIGH                                                    0.7                       µs
 Rise Time of Both SDA and SCL                                                                         20 +
                                            tR   (Notes 2, 4)                                                  300         ns
 Signals, Receiving                                                                                   0.1Cb
 Fall Time of Both SDA and SCL                                                                         20 +
                                            tF   (Notes 2, 4)                                                  300         ns
 Signals, Receiving                                                                                   0.1Cb
                                                                                                       20 +
 Fall Time of SDA Transmitting           tF,TX   (Notes 2, 5)                                                  250         ns
                                                                                                      0.1Cb
 Pulse Width of Spike Suppressed           tSP   (Notes 2, 6)                                      0            50         ns
 Capacitive Load for Each Bus
                                           Cb    (Note 2)                                                      400         pF
 Line
www.maximintegrated.com                                                                                     Maxim Integrated │ 3


MAX7300                                                                                                                                                                      2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                                                                                             20-Port or 28-Port I/O Expander
Timing Characteristics (Figure 2) (continued)
(VV+ = 2.5V to 5.5V, TA = TMIN to TMAX, unless otherwise noted.) (Note 1)
Note 1: All parameters tested at TA = +25°C. Specifications over temperature are guaranteed by design.
Note 2: Guaranteed by design.
Note 3: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) in order to
        bridge the undefined region of SCL’s falling edge.
Note 4: Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3V+ and 0.7V+.
Note 5: ISINK ≤ 6mA. Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3V+ and 0.7V+.
Note 6: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
Typical Operating Characteristics
(RISET = 39kΩ, TA = +25°C, unless otherwise noted.)
                                     OPERATING SUPPLY CURRENT                                                                   SHUTDOWN SUPPLY CURRENT                                                                       OPERATING SUPPLY CURRENT vs. V+
                                         vs. TEMPERATURE                                                                            vs. TEMPERATURE                                                                                (OUTPUTS UNLOADED)
                      0.40                                                                                         8                                                                                                    1
                                                                              MAX7300 toc01                                                                                     MAX7300 toc02                                                                                MAX7300 toc03
                                VV+ = 2.5V TO 5.5V
                      0.36      NO LOAD                                                                                                            VV+ = 5.5V
                      0.32                                                                                         7
SUPPLY CURRENT (mA)                                                                           SUPPLY CURRENT (A)                                                                                SUPPLY CURRENT ( mA)
                      0.28                                  ALL PORTS                                                          VV+ = 3.3V
                                     ALL PORTS
                                                            OUTPUT (0)
                      0.24           OUTPUT (1)                                                                    6
                      0.20
                                                                                                                                                                                                                                   ALL PORTS OUTPUT (1)
                      0.16                                                                                         5                                            VV+ = 2.5V
                                                                                                                                                                                                                                                      ALL PORTS OUTPUT (0)
                      0.12
                      0.08                                                                                         4
                                                                                                                                                                                                                                                        ALL PORTS INPUT
                      0.04                        ALL PORTS INPUT HIGH                                                                                                                                                                                (PULLUPS DISABLED)
                        0                                                                                          3                                                                                                   0.1
                             -40.0    -12.5   15.0   42.5     70.0   97.5   125.0                                      -40.0     -12.5      15.0     42.5       70.0   97.5   125.0                                          2.0    2.5   3.0   3.5      4.0   4.5   5.0   5.5
                                              TEMPERATURE (°C)                                                                           TEMPERATURE (°C)                                                                                        V+ (V)
www.maximintegrated.com                                                                                                                                                                                                                          Maxim Integrated │ 4


MAX7300                                                                                                                                                     2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                                                                            20-Port or 28-Port I/O Expander
Typical Operating Characteristics (continued)
(RISET = 39kΩ, TA = +25°C, unless otherwise noted.)
                                                     GPO SINK CURRENT vs. TEMPERATURE                                                           GPO SOURCE CURRENT vs. TEMPERATURE
                                                                (OUTPUT = 0)                                                                                (OUTPUT = 1)
                                              18                                                                                                9
                                                                                                   MAX7300 toc04                                                                                    MAX7300 toc05
                                                            VV+ = 2.5V TO 5.5V, VPORT = 0.6V                                                           VPORT = 1.4V
                                              16                                                                                                8
                    PORT SINK CURRENT (mA)                                                                         PORT SOURCE CURRENT (mA)
                                              14                                                                                                                    VV+ = 5.5V
                                                                                                                                                7
                                              12
                                                                                                                                                6                          VV+ = 3.3V
                                              10
                                                                                                                                                5                                  VV+ = 2.5V
                                               8
                                                                                                                                                4
                                               6
                                               4                                                                                                3
                                               2                                                                                                2
                                                    -40.0   -12.5   15.0    42.5   70.0   97.5   125.0                                              -40.0   -12.5   15.0    42.5    70.0   97.5   125.0
                                                                    TEMPERATURE (°C)                                                                                TEMPERATURE (°C)
                                                                GPI PULLUP CURRENT                                                                          GPO SHORT-CIRCUIT CURRENT
                                                                 vs. TEMPERATURE                                                                                 vs. TEMPERATURE
                                             1000                                                                                             100
                                                                                                   MAX7300 toc06                                                                                    MAX7300 toc07
                    PULLUP CURRENT (A)                                                                             PORT CURRENT (mA)
                                                                     VV+ = 5.5V                                                                                              GPO = 0, PORT
                                                                                                                                                                            SHORTED TO V+
                                              100                                                                                              10
                                                                           VV+ = 3.3V
                                                                             VV+ = 2.5V                                                                  GPO = 1, PORT
                                                                                                                                                        SHORTED TO GND
                                              10                                                                                                1
                                                    -40.0   -12.5   15.0    42.5   70.0   97.5   125.0                                              -40.0   -12.5   15.0    42.5    70.0   97.5   125.0
                                                                    TEMPERATURE (°C)                                                                                TEMPERATURE (°C)
www.maximintegrated.com                                                                                                                                                                                             Maxim Integrated │ 5


MAX7300                                                                      2-Wire-Interfaced, 2.5V to 5.5V,
                                                                            20-Port or 28-Port I/O Expander
Pin Description
                         PIN
                                                      NAME                               FUNCTION
  28 SSOP    28 TQFN-EP      36 SSOP   40 TQFN-EP
                                                             Bias Current Setting. Connect ISET to GND through a resistor
       1          26             1          36         ISET
                                                             (RISET) value of 39kW to 120kW.
      2, 3      27, 28          2, 3    37, 38, 39     GND   Ground
                                                             Address Input 0. Sets device slave address. Connect to either
       4           1             4          40         AD0
                                                             GND, V+, SCL, SDA to give four logic combinations. See Table 3.
                                                             I/O Ports. P12 to P31 can be configured as push-pull outputs,
     5–24        2–21            —          —       P12–P31
                                                             CMOS-logic inputs, or CMOS-logic inputs with weak pullup resistor.
                                       1–10, 12–19,          I/O Ports. P4 to P31 can be configured as push-pull outputs,
       —           —           5–32                  P4–P31
                                          21–30              CMOS-logic inputs, or CMOS-logic inputs with weak pullup resistor.
       —           —             —      11, 20, 31     N.C.  No Connection. Not internally connected.
      25          22            33          32         SDA   I2C-Compatible Serial-Data I/O
      26          23            34          33         SCL   I2C-Compatible Serial-Clock Input
                                                             Address Input 1. Sets device slave address. Connect to either
      27          24            35          34         AD1
                                                             GND, V+, SCL, SDA to give four logic combinations. See Table 3.
                                                             Positive Supply Voltage. Bypass V+ to GND with minimum
      28          25            36          35          V+
                                                             0.047µF capacitor.
                                                             Exposed Pad (TQFN Only). EP is internally connected to GND.
       —           —             —          —           EP   Connect to a large ground plane to maximize thermal
                                                             performance. Not intended as an electrical connection point.
Detailed Description                                            registers 0x09 and 0x0A. If this is not done, the eight
The MAX7300 general-purpose input/output (GPIO)                 unused ports remain as unconnected inputs and quies-
peripheral provides up to 28 I/O ports, P4 to P31, con-         cent supply current rises, although there is no damage
trolled through an I2C-compatible serial interface. The         to the part.
ports can be configured to any combination of logic inputs      Register Control of I/O Ports
and logic outputs, and default to logic inputs on power-up.     Across Multiple Drivers
Figure 1 is the MAX7300 functional diagram. Any I/O port        The MAX7300 offers 20 or 28 I/O ports, depending on
can be configured as a push-pull output (sinking 10mA,          package choice. Two addressing methods are avail-
sourcing 4.5mA), or a Schmitt-trigger logic input. Each         able. Any single port (bit) can be written (set/cleared)
input has an individually selectable internal pullup resis-     at once; or, any sequence of eight ports can be written
tor. Additionally, transition detection allows seven ports      (set/cleared) in any combination at once. There are no
(P24 to P30) to be monitored in any maskable combina-           boundaries; it is equally acceptable to write P0 to P7, P1
tion for changes in their logic status. A detected transi-      to P8, or P31 to P38 (P32 to P38 are nonexistent, so the
tion is flagged through a status register bit, as well as an    instructions to these bits are ignored).
interrupt pin (port P31), if desired.
                                                                Shutdown
The port configuration registers individually set the 28
                                                                When the MAX7300 is in shutdown mode, all ports are
ports, P4 to P31, as GPIO. A pair of bits in registers
                                                                forced to inputs, and the pullup current sources are
0x09 through 0x0F sets each port’s configuration
                                                                turned off. Data in the port and control registers remain
(Tables 1 and 2).
                                                                unaltered, so port configuration and output levels are
The 36-pin MAX7300AAX and 40-pin MAX7300ATL have                restored when the MAX7300 is taken out of shutdown.
28 ports, P4 to P31. The 28-pin MAX7300ANI,                     The MAX7300 can still be programmed while in shutdown
MAX7300AAI, and MAX7300ATI have only 20 ports avail-            mode. For minimum supply current in shutdown mode,
able, P12 to P31. The eight unused ports should be              logic inputs should be at GND or V+ potential. Shutdown
configured as outputs on power-up by writing 0x55 to            mode is exited by setting the S bit in the configuration
                                                                register (Table 8).
www.maximintegrated.com                                                                                    Maxim Integrated │ 6


MAX7300                                                                             2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                   20-Port or 28-Port I/O Expander
Table 1. Port Configuration Map
                                                          ADDRESS                              REGISTER DATA
                     REGISTER
                                                        CODE (HEX)         D7      D6       D5     D4     D3     D2     D1       D0
  Port Configuration for P7, P6, P5, P4                     0x09               P7              P6            P5             P4
  Port Configuration for P11, P10, P9, P8                   0x0A              P11              P10           P9             P8
  Port Configuration for P15, P14, P13, P12                 0x0B              P15              P14           P13            P12
  Port Configuration for P19, P18, P17, P16                 0x0C              P19              P18           P17            P16
  Port Configuration for P23, P22, P21, P20                 0x0D              P23              P22           P21            P20
  Port Configuration for P27, P26, P25, P24                 0x0E              P27              P26           P25            P24
  Port Configuration for P31, P30, P29, P28                 0x0F              P31              P30           P29            P28
Table 2. Port Configuration Matrix
                                                                                                                      PORT
                                             PORT
                                                                                                 ADDRESS        CONFIGURATION
  MODE             FUNCTION                REGISTER                 PIN BEHAVIOR
                                                                                                CODE (HEX)          BIT PAIR
                                          (0x20–0x5F)
                                                                                                               UPPER       LOWER
                                DO NOT USE THIS SETTING                                         0x09 to 0x0F      0            0
                                        Register bit = 0    Active-low logic output
  Output          GPIO Output                                                                   0x09 to 0x0F      0            1
                                        Register bit = 1    Active-high logic output
                   GPIO Input
   Input                                 Register bit =     Schmitt logic input                 0x09 to 0x0F      1            0
                 without Pullup
                                        input logic level
   Input     GPIO Input with Pullup                         Schmitt logic input with pullup     0x09 to 0x0F      1            1
Serial Interface                                                       START and STOP Conditions
Serial Addressing                                                      Both SCL and SDA remain high when the interface is
                                                                       not busy. A master signals the beginning of a transmis-
The MAX7300 operates as a slave that sends and                         sion with a START (S) condition by transitioning SDA
receives data through an I2C-compatible 2-wire inter-                  from high to low while SCL is high. When the master
face. The interface uses a serial data line (SDA) and a                has finished communicating with the slave, it issues a
serial clock line (SCL) to achieve bidirectional commu-                STOP (P) condition by transitioning SDA from low to
nication between master(s) and slave(s). A master (typ-                high while SCL is high. The bus is then free for another
ically a microcontroller) initiates all data transfers to and          transmission (Figure 3).
from the MAX7300, and generates the SCL clock that
synchronizes the data transfer (Figure 2).                             Bit Transfer
The MAX7300 SDA line operates as both an input and                     One data bit is transferred during each clock pulse.
an open-drain output. A pullup resistor, typically 4.7kΩ,              The data on SDA must remain stable while SCL is high
is required on SDA. The MAX7300 SCL line operates                      (Figure 4).
only as an input. A pullup resistor, typically 4.7kΩ, is
required on SCL if there are multiple masters on the
                                                                       Acknowledge
2-wire interface, or if the master in a single-master system           The acknowledge bit is a clocked 9th bit, which the
has an open-drain SCL output.                                          recipient uses to handshake receipt of each byte of
                                                                       data (Figure 5). Thus, each byte transferred effectively
Each transmission consists of a START condition                        requires 9 bits. The master generates the 9th clock
(Figure 3) sent by a master, followed by the MAX7300                   pulse, and the recipient pulls down SDA during the
7-bit slave address plus R/W bit (Figure 6), a register                acknowledge clock pulse, such that the SDA line is
address byte, one or more data bytes, and finally a                    sta-ble low during the high period of the clock pulse.
STOP condition (Figure 3).                                             When the master is transmitting to the MAX7300, the
                                                                       MAX7300 generates the acknowledge bit since the
www.maximintegrated.com                                                                                          Maxim Integrated │ 7


MAX7300                                                                                2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                      20-Port or 28-Port I/O Expander
                                                 CONFIGURATION                                          PORT REGISTERS
                                                                                                         MASK REGISTER
                    P4 TO P31                 GPIO
                                                                                                         CONFIGURATION
                                                                         PORT CHANGE
                                                                                                           REGISTERS
                                                                          DETECTOR
                                                                                                      DATA    CE    R/W
                                                                                                         8
                                   GPIO DATA
                                                          R/W
                                          8
                      AD0                                                                           COMMAND
                                      ADDRESS
                                                                                                 REGISTER DECODE
                      AD1             MATCHER
                                            7              8                                               8
                                                     DATA BYTE                              COMMAND BYTE
                                 D0      D1     D2   D3     D4 D5 D6  D7    D8    D9    D10   D11   D12    D13   D14   D15
                                               7                     TO/FROM DATA REGISTERS               TO COMMAND REGISTERS
                                 7-BIT DEVICE ADDRESS   R/W
                       SDA
                                     SLAVE ADDRESS BYTE               DATA BYTE                        COMMAND BYTE
                       SCL
Figure 1. MAX7300 Functional Diagram
MAX7300 is the recipient. When the MAX7300 is                          addresses (Table 3), and therefore a maximum of 16
transmitting to the master, the master generates the                   MAX7300 devices can share the same interface.
acknowledge bit since the master is the recipient.
                                                                       Message Format for Writing
Slave Address                                                          the MAX7300
The MAX7300 has a 7-bit-long slave address (Figure                     A write to the MAX7300 comprises the transmission
6). The eighth bit following the 7-bit slave address is                of the MAX7300’s slave address with the R/W bit set
the RW bit. It is low for a write command and high for a               to zero, followed by at least 1 byte of information. The
read command.                                                          first byte of information is the command byte. The com-
The first 3 bits (MSBs) of the MAX7300 slave address                   mand byte determines which register of the MAX7300
are always 100. Slave address bits A3, A2, A1, and A0                  is to be written by the next byte, if received. If a STOP
are selected by the address inputs, AD1 and AD0.                       condition is detected after the command byte is
These two input pins can be connected to GND, V+,                      received, then the MAX7300 takes no further action
SDA, or SCL. The MAX7300 has 16 possible slave                         (Figure 7) beyond storing the command byte.
www.maximintegrated.com                                                                                                       Maxim Integrated │ 8


MAX7300                                                                                                      2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                            20-Port or 28-Port I/O Expander
         SDA
                                                                                                                                             tBUF
                                              tSU, DAT                          tSU, STA
                                                                                                    tHD, STA
                                 tLOW                        tHD, DAT                                                    tSU, STO
         SCL
                                            tHIGH
           tHD, STA
                                        tR           tF
                 START CONDITION                                                  REPEATED START CONDITION                      STOP CONDITION START CONDITION
Figure 2. 2-Wire Serial Interface Timing Details
                                      SDA
                                      SCL          S                                                                 P
                                                START                                                               STOP
                                             CONDITION                                                            CONDITION
Figure 3. Start and Stop Conditions
                                           SDA
                                           SCL
                                                        DATA LINE STABLE; DATA VALID CHANGE OF DATA ALLOWED
Figure 4. Bit Transfer
Any bytes received after the command byte are consid-                                      a write. The pointer generally autoincrements after each
ered data bytes. The first data byte goes into the internal                                data byte is read using the same rules as for a write
register of the MAX7300 selected by the command byte                                       (Table 4). Thus, a read is initiated by first configuring the
(Figure 8). If multiple data bytes are transmitted before                                  MAX7300’s command byte by performing a write (Figure
a STOP condition is detected, these bytes are gener-                                       7). The master can now read ‘n’ consecutive bytes from
ally stored in subsequent MAX7300 internal registers                                       the MAX7300, with the first data byte being read from
because the command byte address generally autoincre-                                      the register addressed by the initialized command byte
ments (Table 4).                                                                           (Figure 9). When performing read-after-write verification,
                                                                                           remember to reset the command byte’s address because
Message Format for Reading                                                                 the stored control byte address generally has been auto-
The MAX7300 is read using the MAX7300’s internally                                         incremented after the write (Table 4). Table 5 is the regis-
stored command byte as address pointer, the same way                                       ter address map.
the stored command byte is used as address pointer for
www.maximintegrated.com                                                                                                                         Maxim Integrated │ 9


MAX7300                                                                    2-Wire-Interfaced, 2.5V to 5.5V,
                                                                           20-Port or 28-Port I/O Expander
                        START CONDITION                                    CLOCK PULSE FOR ACKNOWLEDGMENT
                      SCL
                                         1                2                               8               9
                      SDA
          BY TRANSMITTER
                               S
                      SDA
              BY RECEIVER
Figure 5. Acknowledge
           SDA
                      1              0  0        A3         A2          A1             A0          R/W      ACK
                     MSB                                                             LSB
           SCL
Figure 6. Slave Address
Operation with Multiple Masters                                Initial Power-Up
If the MAX7300 is operated on a 2-wire interface with          On initial power-up, all control registers are reset and the
multiple masters, a master reading the MAX7300 should          MAX7300 enters shutdown mode (Table 6).
use a repeated start between the write, which sets the
MAX7300’s address pointer, and the read(s) that takes          Transition (Port Data Change) Detection
the data from the location(s). This is because it is pos-      Port transition detection allows any combination of the
sible for master 2 to take over the bus after master 1         seven ports P24–P30 to be continuously monitored for
has set up the MAX7300?s address pointer, but before           changes in their logic status (Figure 10). A detected
master 1 has read the data. If master 2 subsequently           change is flagged on the transition detection mask reg-
changes, the MAX7300’s address pointer, then master 1’s        ister INT status bit, D7 (Table 10). If port P31 is config-
delayed read can be from an unexpected location.               ured as an output (Tables 1 and 2), then P31 also
                                                               automatically becomes an active-high interrupt output
Command Address Autoincrementing                               (INT), which follows the condition of the INT status bit.
Address autoincrementing allows the MAX7300 to be              Port P31 is set as output by writing bit D7 = 0 and bit
configured with the shortest number of transmissions by        D6 = 1 to the port configuration register (Table 1). Note
minimizing the number of times the command address             that the MAX7300 does not identify which specific
needs to be sent. The command address stored in the            port(s) caused the interrupt, but provides an alert that
MAX7300 generally increments after each data byte is           one or more port levels have changed.
written or read (Table 4).                                     The mask register contains 7 mask bits that select
                                                               which of the seven ports P24–P30 are to be monitored
                                                               (Table 10). Set the appropriate mask bit to enable that
                                                               port for transition detect. Clear the mask bit if transi-
www.maximintegrated.com                                                                                   Maxim Integrated │ 10


MAX7300                                                                                                  2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                        20-Port or 28-Port I/O Expander
                               COMMAND BYTE IS STORED ON RECEIPT OF STOP CONDITION            D15 D14 D13 D12 D11 D10 D9   D8
                                                         ACKNOWLEDGE FROM MAX7300
                                               S              SLAVE ADDRESS          0    A             COMMAND BYTE            A     P
                                                                                 R/W               ACKNOWLEDGE FROM MAX7300
Figure 7. Command Byte Received
                                                                                  ACKNOWLEDGE FROM MAX7300              ACKNOWLEDGE FROM MAX7300
          HOW COMMAND BYTE AND DATA BYTE MAP INTO MAX7300’s REGISTER        D15 D14 D13 D12 D11 D10    D9  D8      D7  D6  D5  D4    D3 D2  D1  D0
                                        ACKNOWLEDGE FROM MAX7300
                             S              SLAVE ADDRESS            0  A              COMMAND BYTE            A              DATA BYTE             A P
                                                            R/W                                                                 1 BYTE
                                                                                                                  AUTOINCREMENT MEMORY WORD ADDRESS
Figure 8. Command and Single Data Byte Received
tions on that port are to be ignored. Transition detection                                The only way to clear INT is to access (read or write) the
works regardless of whether the port being monitored is                                   transition detection mask register (Table 10). So if the
set to input or output, but generally, it is not particularly                             transition detection mask register is read twice in succes-
useful to enable transition detection for outputs.                                        sion after a transition event, the first time reads with bit
To use transition detection, first set up the mask register                               D7 set (identifying the event), and the second time reads
and configure port P31 as an output, as described above.                                  with bit D7 clear.
Then enable transition detection by setting the M bit in                                  Transition detection is a one-shot event. When INT has
the configuration register (Table 9). Whenever the config-                                been cleared after responding to a transition event, tran-
uration register is written with the M bit set, the MAX7300                               sition detection is automatically disabled, even though
updates an internal 7-bit snapshot register, which holds                                  the M bit in the configuration register remains set (unless
the comparison copy of the logic states of ports P24                                      cleared by the user). Reenable transition detection by
through P30. The update action occurs regardless of the                                   writing the configuration register with the M bit set to take
previous state of the M bit, so that it is not necessary to                               a new snapshot of the seven ports P24 to P30.
clear the M bit and then set it again to update the snap-
                                                                                          External Component RISET
shot register.
                                                                                          The MAX7300 uses an external resistor, RISET, to set
When the configuration register is written with the M bit                                 internal biasing. Use a resistor value of 39kΩ.
set, transition detection is enabled and remains enabled
until either the configuration register is written with the                               Applications Information
M bit clear, or a transition is detected. The INT status bit
(transition detection mask register bit D7) goes low. Port                                Low-Voltage Operation
P31 (if enabled as INT output) also goes low, if it was not                               The MAX7300 operates down to 2V supply voltage
already low.                                                                              (although the sourcing and sinking currents are not guar-
Once transition detection is enabled, the MAX7300                                         anteed), providing that the MAX7300 is powered up ini-
continuously compares the snapshot register against                                       tially to at least 2.5V to trigger the device’s internal reset.
the changing states of P24 through P31. If a change on                                    Serial Interface Latency
any of the monitored ports is detected, even for a short
                                                                                          When a MAX7300 register is written through the I2C
time (like a pulse), the INT status bit (transition detec-
                                                                                          interface, the register is updated on the rising edge of
tion mask register bit D7) is set. Port P31 (if enabled
                                                                                          SCL during the data byte’s acknowledge bit (Figure 5).
as INT output) also goes high. The INT output and INT
                                                                                          The delay from the rising edge of SCL to the internal
status bit are not cleared if more changes occur or if the
                                                                                          register being updated can range from 50ns to 350ns.
data pattern returns to its original snapshot condition.
www.maximintegrated.com                                                                                                                    Maxim Integrated │ 11


MAX7300                                                                                        2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                              20-Port or 28-Port I/O Expander
                                                                           ACKNOWLEDGE FROM MAX7300             ACKNOWLEDGE FROM MAX7300
       HOW COMMAND BYTE AND DATA BYTE MAP INTO MAX7300’s REGISTER    D15 D14 D13 D12 D11 D10 D9    D8    D7   D6  D5   D4    D3  D2  D1  D0
                                     ACKNOWLEDGE FROM MAX7300
                          S            SLAVE ADDRESS             0 A           COMMAND BYTE            A             DATA BYTE               A   P
                                                         R/W                                                           ‘n’ BYTES
                                                                                                         AUTOINCREMENT MEMORY WORD ADDRESS
Figure 9. ‘n’ Data Bytes Received
Table 3. MAX7300 Address Map
                      PIN
                                                                                            DEVICE ADDRESS
               CONNECTION
         AD1                        AD0                      A6         A5             A4             A3            A2               A1            A0
        GND                        GND                        1          0              0              0             0                0             0
        GND                          V+                       1          0              0              0             0                0             1
        GND                         SDA                       1          0              0              0             0                1             0
        GND                         SCL                       1          0              0              0             0                1             1
          V+                       GND                        1          0              0              0             1                0             0
          V+                         V+                       1          0              0              0             1                0             1
          V+                        SDA                       1          0              0              0             1                1             0
          V+                        SCL                       1          0              0              0             1                1             1
         SDA                       GND                        1          0              0              1             0                0             0
         SDA                         V+                       1          0              0              1             0                0             1
         SDA                        SDA                       1          0              0              1             0                1             0
         SDA                        SCL                       1          0              0              1             0                1             1
         SCL                       GND                        1          0              0              1             1                0             0
         SCL                         V+                       1          0              0              1             1                0             1
         SCL                        SDA                       1          0              0              1             1                1             0
         SCL                        SCL                       1          0              0              1             1                1             1
Table 4. Autoincrement Rules
    COMMAND BYTE ADDRESS RANGE                                                         AUTOINCREMENT BEHAVIOR
             x0000000 to x1111110                            Command address autoincrements after byte read or written
                    x1111111                                 Command address remains at x1111111 after byte written or read
PC Board Layout Considerations                                                   Power-Supply Considerations
Ensure that all the MAX7300 GND connections are used.                            The MAX7300 operates with power-supply voltages of
For TQFN versions, connect the underside exposed pad                             2.5V to 5.5V. Bypass the power supply to GND with a
to GND. A ground plane is not necessary, but may be                              0.047µF capacitor as close to the device as possible.
useful to reduce supply impedance if the MAX7300 out-                            Add a 1µF capacitor if the MAX7300 is far away from the
puts are to be heavily loaded. Keep the track length from                        board’s input bulk decoupling capacitor.
the ISET pin to the RISET resistor as short as possible,
and take the GND end of the register either to the ground
plane or directly to the GND pins.
www.maximintegrated.com                                                                                                             Maxim Integrated │ 12


MAX7300                                                    2-Wire-Interfaced, 2.5V to 5.5V,
                                                           20-Port or 28-Port I/O Expander
Table 5. Register Address Map
                                                        COMMAND ADDRESS                     HEX
                       REGISTER
                                             D15 D14 D13   D12   D11  D10  D9      D8      CODE
 No-Op                                        X   0   0     0     0     0   0       0       0x00
 Configuration                                X   0   0     0     0     1   0       0       0x04
 Transition Detect Mask                       X   0   0     0     0     1   1       0       0x06
 Factory Reserved; do not write to this port  X   0   0     0     0     1   1       1       0x07
 Port Configuration P7, P6, P5, P4            X   0   0     0     1     0   0       1       0x09
 Port Configuration P11, P10, P9, P8          X   0   0     0     1     0   1       0       0x0A
 Port Configuration P15, P14, P13, P12        X   0   0     0     1     0   1       1       0x0B
 Port Configuration P19, P18, P17, P16        X   0   0     0     1     1   0       0       0x0C
 Port Configuration P23, P22, P21, P20        X   0   0     0     1     1   0       1       0x0D
 Port Configuration P27, P26, P25, P24        X   0   0     0     1     1   1       0       0x0E
 Port Configuration P31, P30, P29, P28        X   0   0     0     1     1   1       1       0x0F
 Port 0 only (virtual port, no action)        X   0   1     0     0     0   0       0       0x20
 Port 1 only (virtual port, no action)        X   0   1     0     0     0   0       1       0x21
 Port 2 only (virtual port, no action)        X   0   1     0     0     0   1       0       0x22
 Port 3 only (virtual port, no action)        X   0   1     0     0     0   1       1       0x23
 Port 4 only (data bit D0. D7-D1 read as 0)   X   0   1     0     0     1   0       0       0x24
 Port 5 only (data bit D0. D7-D1 read as 0)   X   0   1     0     0     1   0       1       0x25
 Port 6 only (data bit D0. D7-D1 read as 0)   X   0   1     0     0     1   1       0       0x26
 Port 7 only (data bit D0. D7-D1 read as 0)   X   0   1     0     0     1   1       1       0x27
 Port 8 only (data bit D0. D7-D1 read as 0)   X   0   1     0     1     0   0       0       0x28
 Port 9 only (data bit D0. D7-D1 read as 0)   X   0   1     0     1     0   0       1       0x29
 Port 10 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     0   1       0       0x2A
 Port 11 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     0   1       1       0x2B
 Port 12 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     1   0       0       0x2C
 Port 13 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     1   0       1       0x2D
 Port 14 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     1   1       0       0x2E
 Port 15 only (data bit D0. D7-D1 read as 0)  X   0   1     0     1     1   1       1       0x2F
 Port 16 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     0   0       0       0x30
 Port 17 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     0   0       1       0x31
 Port 18 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     0   1       0       0x32
 Port 19 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     0   1       1       0x33
 Port 20 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     1   0       0       0x34
 Port 21 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     1   0       1       0x35
 Port 22 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     1   1       0       0x36
 Port 23 only (data bit D0. D7-D1 read as 0)  X   0   1     1     0     1   1       1       0x37
 Port 24 only (data bit D0. D7-D1 read as 0)  X   0   1     1     1     0   0       0       0x38
 Port 25 only (data bit D0. D7-D1 read as 0)  X   0   1     1     1     0   0       1       0x39
www.maximintegrated.com                                                       Maxim Integrated │ 13


MAX7300                                                         2-Wire-Interfaced, 2.5V to 5.5V,
                                                                20-Port or 28-Port I/O Expander
Table 5. Register Address Map (continued)
                                                             COMMAND ADDRESS                     HEX
                     REGISTER
                                                  D15 D14 D13   D12   D11  D10  D9      D8      CODE
 Port 26 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     0   1       0       0x3A
 Port 27 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     0   1       1       0x3B
 Port 28 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     1   0       0       0x3C
 Port 29 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     1   0       1       0x3D
 Port 30 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     1   1       0       0x3E
 Port 31 only (data bit D0. D7-D1 read as 0)       X   0   1     1     1     1   1       1       0x3F
 4 ports 4–7 (data bits D0–D3. D4–D7 read as 0)    X   1   0     0     0     0   0       0       0x40
 5 ports 4–8 (data bits D0–D4. D5–D7 read as 0)    X   1   0     0     0     0   0       1       0x41
 6 ports 4–9 (data bits D0–D5. D6–D7 read as 0)    X   1   0     0     0     0   1       0       0x42
 7 ports 4–10 (data bits D0–D6. D7 reads as 0)     X   1   0     0     0     0   1       1       0x43
 8 ports 4–11 (data bits D0–D7)                    X   1   0     0     0     1   0       0       0x44
 8 ports 5–12 (data bits D0–D7)                    X   1   0     0     0     1   0       1       0x45
 8 ports 6–13 (data bits D0–D7)                    X   1   0     0     0     1   1       0       0x46
 8 ports 7–14 (data bits D0–D7)                    X   1   0     0     0     1   1       1       0x47
 8 ports 8–15 (data bits D0–D7)                    X   1   0     0     1     0   0       0       0x48
 8 ports 9–16 (data bits D0–D7)                    X   1   0     0     1     0   0       1       0x49
 8 ports 10–17 (data bits D0–D7)                   X   1   0     0     1     0   1       0       0x4A
 8 ports 11–18 (data bits D0–D7)                   X   1   0     0     1     0   1       1       0x4B
 8 ports 12–19 (data bits D0–D7)                   X   1   0     0     1     1   0       0       0x4C
 8 ports 13–20 (data bits D0–D7)                   X   1   0     0     1     1   0       1       0x4D
 8 ports 14–21 (data bits D0–D7)                   X   1   0     0     1     1   1       0       0x4E
 8 ports 15–22 (data bits D0–D7)                   X   1   0     0     1     1   1       1       0x4F
 8 ports 16–23 (data bits D0–D7)                   X   1   0     1     0     0   0       0       0x50
 8 ports 17–24 (data bits D0–D7)                   X   1   0     1     0     0   0       1       0x51
 8 ports 18–25 (data bits D0–D7)                   X   1   0     1     0     0   1       0       0x52
 8 ports 19–26 (data bits D0–D7)                   X   1   0     1     0     0   1       1       0x53
 8 ports 20–27 (data bits D0–D7)                   X   1   0     1     0     1   0       0       0x54
 8 ports 21–28 (data bits D0–D7)                   X   1   0     1     0     1   0       1       0x55
 8 ports 22–29 (data bits D0–D7)                   X   1   0     1     0     1   1       0       0x56
 8 ports 23–30 (data bits D0–D7)                   X   1   0     1     0     1   1       1       0x57
 8 ports 24–31 (data bits D0–D7)                   X   1   0     1     1     0   0       0       0x58
 7 ports 25–31 (data bits D0–D6. D7 reads as 0)    X   1   0     1     1     0   0       1       0x59
 6 ports 26–31 (data bits D0–D5. D6–D7 read as 0)  X   1   0     1     1     0   1       0       0x5A
 5 ports 27–31 (data bits D0–D4. D5–D7 read as 0)  X   1   0     1     1     0   1       1       0x5B
 4 ports 28–31 (data bits D0–D3. D4–D7 read as 0)  X   1   0     1     1     1   0       0       0x5C
 3 ports 29–31 (data bits D0–D2. D3–D7 read as 0)  X   1   0     1     1     1   0       1       0x5D
 2 ports 30–31 (data bits D0–D1. D2–D7 read as 0)  X   1   0     1     1     1   1       0       0x5E
 1 port 31 only (data bits D0. D1–D7 read as 0)    X   1   0     1     1     1   1       1       0x5F
Note: Unused bits read as zero.
www.maximintegrated.com                                                            Maxim Integrated │ 14


MAX7300                                                                     2-Wire-Interfaced, 2.5V to 5.5V,
                                                                            20-Port or 28-Port I/O Expander
Table 6. Power-Up Configuration
                                                                   ADDRESS
   REGISTER                                                                              REGISTER DATA
                                POWER-UP CONDITION                  CODE
   FUNCTION
                                                                     (HEX)     D7 D6   D5   D4   D3   D2    D1    D0
 Port Register                                                      0x24 to
                                   GPIO Output Low                             X   X   X     X   X    X      X     0
 Bits 4 to 31                                                         0x3F
 Configuration                     Shutdown Enabled
                                                                      0x04      0  0   X     X   X    X      X     0
 Register                     Transition Detection Disabled
 Input Mask
                                 All Clear (Masked Off)               0x06     X   0    0    0    0    0     0     0
 Register
 Port
                       P7, P6, P5, P4: GPIO Inputs without Pullup     0x09      1  0    1    0    1    0     1     0
 Configuration
 Port
                      P11, P10, P9, P8: GPIO Inputs without Pullup    0x0A      1  0    1    0    1    0     1     0
 Configuration
 Port
                    P15, P14, P13, P12: GPIO Inputs without Pullup    0x0B      1  0    1    0    1    0     1     0
 Configuration
 Port
                    P19, P18, P17, P16: GPIO Inputs without Pullup    0x0C      1  0    1    0    1    0     1     0
 Configuration
 Port
                    P23, P22, P21, P20: GPIO Inputs without Pullup    0x0D      1  0    1    0    1    0     1     0
 Configuration
 Port
                    P27, P26, P25, P24: GPIO Inputs without Pullup    0x0E      1  0    1    0    1    0     1     0
 Configuration
 Port
                    P31, P30, P29, P28: GPIO Inputs without Pullup    0x0F      1  0    1    0    1    0     1     0
 Configuration
X = unused bits; if read, zero results.
www.maximintegrated.com                                                                          Maxim Integrated │ 15


MAX7300                                                                  2-Wire-Interfaced, 2.5V to 5.5V,
                                                                         20-Port or 28-Port I/O Expander
Table 7. Configuration Register Format
                                ADDRESS CODE                               REGISTER DATA
        FUNCTION
                                        (HEX)             D7   D6    D5       D4     D3   D2       D1         D0
  Configuration Register                 0x04             M      0    X       X       X   X         X         S
Table 8. Shutdown Control (S Data Bit D0) Format
                                ADDRESS CODE                               REGISTER DATA
        FUNCTION
                                        (HEX)             D7   D6    D5       D4     D3   D2       D1         D0
         Shutdown                        0x04             M      0    X       X       X   X         X          0
    Normal Operation                     0x04             M      0    X       X       X   X         X          1
Table 9. Transition Detection Control (M Data Bit D7) Format
                                ADDRESS CODE                               REGISTER DATA
        FUNCTION
                                        (HEX)             D7   D6    D5       D4     D3   D2       D1         D0
         Disabled                        0x04              0     0    X       X       X   X         X         S
          Enabled                        0x04              1     0    X       X       X   X         X         S
Table 10. Transition Detection Mask Register
                   REGISTER                                             REGISTER DATA
                                     READ/
   FUNCTION         ADDRESS
                                    WRITE           D7        D6    D5       D4     D3    D2       D1         D0
                      (HEX)
                                      Read      INT Status*  Port  Port     Port    Port Port      Port      Port
      Mask
                       0x06                                   30    29       28      27   26        25        24
    Register                          Write     Unchanged    mask  mask     mask   mask  mask     mask       mask
*INT is automatically cleared after it is read.
www.maximintegrated.com                                                                       Maxim Integrated │ 16


MAX7300                                                                                        2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                              20-Port or 28-Port I/O Expander
                                               GPIO INPUT
                                                                                     GPIO IN
                                             CONDITIONING
                                                 GPIO/PORT
                                               OUTPUT LATCH                          GPIO/PORT OUT
                                                                                     INT STATUS STORED AS MSB OF MASK REGISTER
              P31
                                                     INT         R                   CLOCK PULSE AFTER EACH READ ACCESS TO MASK REGISTER
                                               OUTPUT LATCH      S
                                            CONFIGURATION REGISTER M BIT = 1
                                                         GPIO IN
                                 GPIO INPUT
                                                                             D    Q
                                CONDITIONING
             P30                                       GPIO/PORT OUT                MASK REGISTER BIT 6
                             GPIO/PORT OUTPUT LATCH
                                 GPIO INPUT              GPIO IN
                                                                             D    Q
                                CONDITIONING
             P29
                                                       GPIO/PORT OUT                MASK REGISTER BIT 5
                             GPIO/PORT OUTPUT LATCH
                                 GPIO INPUT              GPIO IN
                                CONDITIONING                                 D    Q
             P28
                                                       GPIO/PORT OUT                MASK REGISTER BIT 4
                             GPIO/PORT OUTPUT LATCH
                                 GPIO INPUT                GPIO IN
                                                                             D    Q                                           OR
                                CONDITIONING
             P27
                                                        GPIO/PORT OUT               MASK REGISTER BIT 3
                             GPIO/PORT OUTPUT LATCH
                                 GPIO INPUT               GPIO IN
                                                                             D    Q
                                CONDITIONING
             P26
                                                       GPIO/PORT OUT                MASK REGISTER BIT 2
                             GPIO/PORT OUTPUT LATCH
                                 GPIO INPUT              GPIO IN
                                                                             D    Q
                                CONDITIONING
             P25
                                                       GPIO/PORT OUT                MASK REGISTER BIT 1
                             GPIO/PORT OUTPUT LATCH
                                                         GPIO IN
                                 GPIO INPUT
                                                                             D    Q
                                CONDITIONING
             P24
                                                       GPIO/PORT OUT                MASK REGISTER LSB
                             GPIO/PORT OUTPUT LATCH
                                                                            CLOCK PULSE WHEN WRITING CONFIGURATION REGISTER WITH M BIT SET
Figure 10. Maskable GPIO Ports P24 to P31
www.maximintegrated.com                                                                                                              Maxim Integrated │ 17


MAX7300                                                                 2-Wire-Interfaced, 2.5V to 5.5V,
                                                                        20-Port or 28-Port I/O Expander
Pin Configurations (continued)
                 TOP VIEW
                                                                        P4
                                                                                                                 P27   P26
                                                                        P31
                                                                        P5
                                                                        P30
                                                                        P6
                                                                        P29
                                                                        P7
                                                                        P28
                          ISET 1               36 V+                    30   29   28    27   26   25   24   23   22    21
                          GND    2             35 AD1
                                                           N.C.    31                                                        20       N.C.
                          GND    3             34 SCL       SDA    32                                                        19       P25
                          AD0    4             33 SDA       SCL    33                                                        18       P24
                                                            AD1    34                                                        17       P23
                            P8   5             32 P4
                                     MAX7300                 V+    35                                                        16       P22
                          P12    6             31 P31                                    MAX7300
                                                           ISET    36                                                        15       P21
                            P9   7             30 P5       GND     37                                                        14       P20
                                                           GND     38                                                        13       P19
                          P13    8             29 P30
                                                           GND     39                                                        12       P18
                          P10    9             28 P6       AD0     40                                                        11       N.C.
                          P14 10               27 P29                   1    2    3     4    5    6    7    8    9     10
                          P11 11               26 P7                     P8                            P11
                                                                                                                       P17
                                                                        P12
                                                                         P9
                                                                        P13                            P15
                          P15 12               25 P28
                                                                        P10
                                                                        P14                            P16
                                                                                       40 TQFN-EP
                          P16 13               24 P27
                          P17 14               23 P26   TOP VIEW
                          P18 15               22 P25
                                                                         P31      P30   P29   P28      P27   P26   P25
                          P19 16               21 P24
                                                                         21       20    19    18       17    16    15
                          P20 17               20 P23
                          P21 18               19 P22      SDA     22                                                         14       P24
                                     36 SSOP               SCL     23                                                         13       P23
                                                           AD1     24                                                         12       P22
                                                            V+     25                    MAX7300                              11       P21
                                                           ISET 26                                                            10       P20
                                                           GND     27                                                             9    P19
                                                           GND     28                                                             8    P18
                                                                         1        2     3     4        5     6     7
                                                                         ADO      P12   P13   P14      P15   P16   P17
                                                                                       28 TQFN-EP
www.maximintegrated.com                                                                                                                Maxim Integrated │ 18


MAX7300                               2-Wire-Interfaced, 2.5V to 5.5V,
                                     20-Port or 28-Port I/O Expander
Chip Information        Package Information
PROCESS: CMOS           For the latest package outline information and land patterns
                        (footprints), go to www.maximintegrated.com/packages. Note
                        that a “+”, “#”, or “-” in the package code indicates RoHS status
                        only. Package drawings may show a different suffix character, but
                        the drawing pertains to the package regardless of RoHS status.
                            PACKAGE             PACKAGE       OUTLINE          LAND
                               TYPE               CODE           NO.      PATTERN NO.
                             28 SSOP              A28+1        21-0056        90-0095
                           28 TQFN-EP            T2855+6       21-0140        90-0026
                             36 SSOP              A36+4        21-0040        90-0098
                           40 TQFN-EP            T4066+5       21-0141        90-0055
www.maximintegrated.com                                             Maxim Integrated │ 19


MAX7300                                                                                                2-Wire-Interfaced, 2.5V to 5.5V,
                                                                                                      20-Port or 28-Port I/O Expander
Revision History
  REVISION         REVISION                                                                                                                          PAGES
                                                                              DESCRIPTION
  NUMBER               DATE                                                                                                                        CHANGED
                                   Updated Ordering Information, Absolute Maximum Ratings, Pin Description, Table 1,
        7               9/11                                                                                                                      1, 2, 6, 7, 19
                                   and Package Information sections
        8               5/14       No /V OPNs; removed automotive reference from Applications section                                                    1
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                    © 2014 Maxim Integrated Products, Inc. │ 20


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7300AAI+ MAX7300AAI+T MAX7300AAX+ MAX7300AAX+T MAX7300ATL+ MAX7300ATL+T MAX7300ANI+
