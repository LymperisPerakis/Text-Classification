                                                                                                                  EVALUATION KIT AVAILABLE
MAX7327                                                                          I2C Port Expander with 12 Push-Pull
                                                                                      Outputs and 4 Open-Drain I/Os
General Description                                                              Features
The MAX7327, a 2-wire serial-interfaced peripheral,                              ●● 400kHz I2C Serial Interface
features 12 push-pull outputs and four configurable open-                        ●● +1.71V to +5.5V Operating Voltage
drain I/O ports with selectable internal pullups and tran-
sition detection. Ports are overvoltage protected to +6V,                        ●● 12 Push-Pull Output Ports, Rated at 20mA Sink
independent of supply voltage.                                                      Current
The four I/O ports configured as inputs are continuously                         ●● 4 Open-Drain I/O Ports, Rated at 20mA Sink Current
monitored for state changes (transition detection). State                        ●● I/O Ports are Overvoltage Protected to +6V
changes are indicated by the open-drain, +6V-tolerant                            ●● Selectable I/O Port Power-Up Default Logic States
INT output. The interrupt is latched, detecting transient
                                                                                 ●● Transient Changes are Latched, Allowing Detection
changes. When the MAX7327 is subsequently accessed
                                                                                    Between Read Operations
through the serial interface, any pending interrupt is
cleared. The 12 push-pull and the four open-drain outputs                        ●● INT Output Alerts Changes on Inputs
are rated to sink 20mA, and are capable of driving LEDs.                         ●● AD0 and AD2 Inputs Select from 16 Slave Addresses
The RST input clears the serial interface, terminating any
                                                                                 ●● Low 0.6µA (typ) Standby Current
I2C communication to or from the MAX7327.
                                                                                 ●● -40°C to +125°C Temperature Range
The MAX7327 uses two address inputs with four-level
logic to allow 16 I2C slave addresses. The slave address
also determines the power-up logic state for the I/O ports,
                                                                                 Ordering Information
and enables or disables internal 40kΩ pullups in groups
                                                                                        PART            TEMP RANGE           PIN-PACKAGE
of two ports.
The MAX7327 is one device in a family of pin-compatible                          MAX7327AEG+           -40°C to +125°C       24 QSOP
port expanders with a choice of input ports, open-drain I/O                                                                  24 TQFN-EP*
ports, and push-pull output ports (see Table 1).                                 MAX7327ATG+           -40°C to +125°C
                                                                                                                             (4mm x 4mm)
The MAX7327 is available in the 24-pin QSOP and                                                                              24 TQFN-EP*
                                                                                 MAX7327AATG+          -40°C to +125°C
TQFN packages, and is specified over the -40°C to                                                                            (3.5mm x 3.5mm)
+125°C automotive temperature range.                                             +Denotes a lead(Pb)-free/RoHS-compliant package.
                                                                                 **EP = Exposed pad.
Applications
●● Cell Phones                                       ●● Notebooks                Selector Guide
●● SAN/NAS                                           ●● Satellite Radio
                                                                                                                     OPEN-
●● Servers                                                                                            INTERRUPT             PUSH-PULL
                                                                                   PART     INPUTS                   DRAIN
                                                                                                         MASK                OUTPUTS
Pin Configurations                                                                                                  OUTPUTS
                                                                                 MAX7324       8         Yes             —             8
               TOP VIEW            AD0   O15   O14   O13   O12   O11
                                                                                 MAX7325    Up to 8       —          Up to 8           8
                                   18    17     16   15    14    13
                       SCL 19                                          12 O10
                                                                                 MAX7326       4         Yes             —             12
                       SDA 20                                          11 O9     MAX7327    Up to 4       —          Up to 4           12
                          V+ 21                                        10 O8
                                               MAX7327
                          INT 22                                       9   GND
                       RST 23                                          8   O7    Typical Application Circuit and Functional Diagram appear
                       AD2 24
                                         EXPOSED PADDLE
                                                                       7   O6
                                                                                 at end of data sheet.
                                    1    2      3     4    5     6
                             +
                                   O0    O1    P2    P3    P4    P5
                                   TQFN (4mm x 4mm)
  Pin Configurations continued at end of data sheet.
19-3805; Rev 1; 5/14


MAX7327                                                                                                     I2C Port Expander with 12 Push-Pull
                                                                                                                        Outputs and 4 Open-Drain I/Os
Absolute Maximum Ratings
(All voltages referenced to GND.)                                                                     Total GND Current ............................................................100mA
Supply Voltage V+....................................................-0.3V to +6V                     Continuous Power Dissipation (TA = +70°C)
SCL, SDA, AD0, AD2, RST, INT, P2–P5 ................-0.3V to +6V                                          24-Pin QSOP (derate 9.5mW/°C over +70°C)..........761.9mW
O0, O1, O6–O15............................................ -0.3V to V+ + 0.3V                             24-Pin TQFN (derate 20.8mW/°C over +70°C).......1666.7mW
O0, O1, O6–O15 Output Current .....................................±25mA                              Operating Temperature Range.......................... -40°C to +125°C
P2–P5 Sink Current ...........................................................25mA                    Junction Temperature.......................................................+150°C
SDA Sink Current ...............................................................10mA                  Storage Temperature Range............................. -65°C to +150°C
INT Sink Current ................................................................10mA                 Lead Temperature (soldering, 10s).................................. +300°C
Total V+ Current .................................................................50mA
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
DC Electrical Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
                    PARAMETER                          SYMBOL                                CONDITIONS                                   MIN           TYP             MAX         UNITS
 Operating Supply Voltage                                   V+          TA = -40°C to +125°C                                              1.71                          5.50           V
 Power-On Reset Voltage                                  VPOR           V+ falling                                                                                       1.6           V
 Standby Current                                                        SCL and SDA and other TA = -40°C to
                                                          ISTB                                                                                           0.6             1.9          µA
 (Interface Idle)                                                       digital inputs at V+                     +125°C
 Supply Current                                                         fSCL = 400kHz; other                     TA = -40°C to
                                                             I+                                                                                           23              55          µA
 (Interface Running)                                                    digital inputs at V+                     +125°C
 Input High-Voltage                                                     V+ < 1.8V                                                      0.8 x V+
                                                           VIH                                                                                                                         V
 SDA, SCL, AD0, AD2, RST, P2–P5                                         V+ ≥ 1.8 V                                                     0.7 x V+
 Input Low-Voltage                                                      V+ < 1.8V                                                                                    0.2 x V+
                                                           VIL                                                                                                                         V
 SDA, SCL, AD0, AD2, RST, P2–P5                                         V+ ≥ 1.8 V                                                                                   0.3 x V+
 Input Leakage Current                                                  SDA, SCL, AD0, AD2, RST, P0–P7 at
                                                         IIH, IIL                                                                         -0.2                          +0.2          µA
 SDA, SCL, AD0, AD2, RST, P2–P5                                         V+ or GND, internal pullup disabled
 Input Capacitance
                                                                                                                                                          10                          pF
 SDA, SCL, AD0, AD2, RST, P2–P5
                                                                        V+ = 1.71V, ISINK = 5mA (QSOP)                                                    90          180
                                                                        V+ = 1.71V, ISINK = 5mA (TQFN)                                                    90             230
                                                                        V+ = 2.5V, ISINK = 10mA (QSOP)                                                   110             210
 Output Low Voltage                                                     V+ = 2.5V, ISINK = 10mA (TQFN)                                                   110             260
                                                           VOL                                                                                                                        mV
 O8–O15, P0, P7                                                         V+ = 3.3V, ISINK = 15mA (QSOP)                                                   130             230
                                                                        V+ = 3.3V, ISINK = 15mA (TQFN)                                                   130             280
                                                                        V+ = 5V, ISINK = 20mA (QSOP)                                                     140             250
                                                                        V+ = 5V, ISINK = 20mA (TQFN)                                                     140             300
                                                                        V+ = +1.71V, ISOURCE = 2mA                                     V+ - 250        V+ - 30
 Output High Voltage                                                    V+ = +2.5V, ISOURCE = 5mA                                      V+ - 360        V+ - 70
                                                          VOH                                                                                                                         mV
 O0, O1, O6–O15, P2–P5                                                  V+ = +3.3V, ISOURCE = 5mA                                      V+ - 260       V+ - 100
                                                                        V+ = +5V, ISOURCE = 10mA                                       V+ - 360       V+ - 120
 Output Low-Voltage SDA                                 VOLSDA          ISINK = 6mA                                                                                      250          mV
 Output Low-Voltage INT                                 VOLINT          ISINK = 5mA                                                                      130             250          mV
 Port Input Pullup Resistor                               RPU                                                                              25             40              55          kW
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 2


MAX7327                                                                  I2C Port Expander with 12 Push-Pull
                                                                                Outputs and 4 Open-Drain I/Os
Port and Interrupt INT Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
           PARAMETER                  SYMBOL                    CONDITIONS                       MIN       TYP     MAX       UNITS
 Port Output Data Valid                  tPPV      CL ≤ 100pF                                                        4         µs
 Port Input Setup Time                   tPSU      CL ≤ 100pF                                     0                            µs
 Port Input Hold Time                     tPH      CL ≤ 100pF                                     4                            µs
 INT Input Data Valid Time                 tIV     CL ≤ 100pF                                                        4         µs
 INT Reset Delay Time from STOP            tIP     CL ≤ 100pF                                                        4         µs
 INT Reset Delay Time from
                                           tIR     CL ≤ 100pF                                                        4         µs
 Acknowledge
Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
           PARAMETER                  SYMBOL                    CONDITIONS                       MIN       TYP     MAX       UNITS
 Serial-Clock Frequency                  fSCL                                                                       400       kHz
 Bus Free Time Between a STOP
                                         tBUF                                                     1.3                          µs
 and a START Condition
 Hold Time (Repeated) START
                                      tHD, STA                                                    0.6                          µs
 Condition
 Repeated START Condition
                                      tSU, STA                                                    0.6                          µs
 Setup Time
 STOP Condition Setup Time            tSU, STO                                                    0.6                          µs
 Data Hold Time                       tHD, DAT     (Note 2)                                                         0.9        µs
 Data Setup Time                      tSU, DAT                                                   100                           ns
 SCL Clock Low Period                   tLOW                                                      1.3                          µs
 SCL Clock High Period                  tHIGH                                                     0.7                          µs
 Rise Time of Both SDA and SCL                                                                             20 +
                                           tR      (Notes 3, 4)                                                     300        ns
 Signals, Receiving                                                                                       0.1Cb
 Fall Time of Both SDA and SCL                                                                             20 +
                                            tF     (Notes 3, 4)                                                     300        ns
 Signals, Receiving                                                                                       0.1Cb
                                                                                                           20 +
 Fall Time of SDA Transmitting           tF,TX     (Notes 3, 4)                                                     250        ns
                                                                                                          0.1Cb
 Pulse Width of Spike Suppressed          tSP      (Note 5)                                                 50                 ns
 Capacitive Load for Each Bus
                                          Cb       (Note 3)                                                         400        pF
 Line
 RST Pulse Width                           tW                                                    500                           ns
 RST Rising to START Condition
                                         tRST                                                      1                           µs
 Setup Time
Note 1: All parameters tested at TA = +25°C. Specifications over temperature are guaranteed by design.
Note 2: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) in order to
          bridge the undefined region of SCL’s falling edge.
Note 3: Guaranteed by design.
Note 4: Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3 x V+ and 0.7 x V+ with ISINK ≤ 6mA.
Note 5: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
www.maximintegrated.com                                                                                         Maxim Integrated │ 3


MAX7327                                                                                                            I2C Port Expander with 12 Push-Pull
                                                                                                                        Outputs and 4 Open-Drain I/Os
Typical Operating Characteristics
(TA = +25°C, unless otherwise noted.)
                                                            STANDBY CURRENT                                                                                    SUPPLY CURRENT
                                                             vs. TEMPERATURE                                                                                   vs. TEMPERATURE
                                           2.0                                                                                                  60
                                                                                                  MAX7327 toc01                                                                                   MAX7327 toc02
                                                                                    fSCL = 0kHz                                                                                   fSCL = 400kHz
                                           1.8
                                                                                                                                                50
                                           1.6                                                                                                                                 V+ = +5.0V
                 STANDBY CURRENT (A)                                                                                  SUPPLY CURRENT (A)
                                           1.4
                                                                                                                                                40
                                           1.2                                    V+ = +5.0V
                                           1.0                      V+ = +3.3V                                                                  30
                                                                                                                                                                               V+ = +3.3V
                                           0.8      V+ = +2.5V
                                                                                                                                                20                              V+ = +2.5V
                                           0.6
                                           0.4                                                                                                                                  V+ = +1.71V
                                                                                                                                                10
                                           0.2                   V+ = +1.71V
                                              0                                                                                                  0
                                                  -40 -25 -10 5 20 35 50 65 80 95 110 125                                                            -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                               TEMPERATURE (°C)                                                                                   TEMPERATURE (°C)
                                                          OUTPUT VOLTAGE LOW                                                                                OUTPUT VOLTAGE HIGH
                                                            vs. TEMPERATURE                                                                                   vs. TEMPERATURE
                                          0.25                                                                                                   6
                                                                                                  MAX7327 toc03                                                                                   MAX7327 toc04
                                                                                                                                                                             V+ = +5.0V
                                                                               V+ = +5.0V                                                                                    ISOURCE = 10mA
                                                                               ISINK = 20mA                                                      5
                                          0.20
                 OUTPUT VOLTAGE LOW (V)                                                                               OUTPUT VOLTAGE HIGH (V)
                                                        V+ = +3.3V                                                                                        V+ = +3.3V
                                                        ISINK = 15mA                                                                             4        ISOURCE = 5mA
                                          0.15
                                                                                                                                                 3                   V+ = +2.5V ISOURCE = 5mA
                                          0.10
                                                                                                                                                 2                 V+ = +1.71V ISOURCE = 2mA
                                                                    V+ = +1.71V   V+ = +1.62V
                                                     V+ = +2.5V     ISINK = 5mA   ISINK = 4mA
                                          0.05
                                                     ISINK = 10mA                                                                                1
                                              0                                                                                                  0
                                                  -40 -25 -10 5 20 35 50 65 80 95 110 125                                                            -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                               TEMPERATURE (°C)                                                                                   TEMPERATURE (°C)
Pin Description
           PIN
                                                             NAME                                                                               FUNCTION
  QSOP             TQFN
     1                              22                           INT              Active-Low Interrupt Output. INT is an open-drain output.
     2                              23                        RST                 Active-Low Reset Input. Drive RST low to clear the 2-wire interface.
                                                                                  Address Inputs. Select device slave address with AD0 and AD2. Connect AD0 and AD2
   3, 21           24, 18                                 AD2, AD0
                                                                                  to either GND, V+, SCL, or SDA to give four logic combinations (see Tables 2 and 3).
  4, 5, 10, 1, 2, 7, 8,                                    O0, O1,
                                                                                  Output Ports. O0, O1, O6–O15 are push-pull outputs rated at 20mA.
 11, 13–20   10–17                                         O6–O15
    6–9                       3–6                            P2–P5                P2–P5 Open-Drain I/Os
    12                                    9                   GND                 Ground
    22                              19                        SCL                 I2C-Compatible Serial Clock Input
    23                              20                        SDA                 I2C-Compatible Serial Data I/O
    24                              21                           V+               Positive Supply Voltage. Bypass V+ to GND with a 0.047µF ceramic capacitor.
    —                            EP                              EP               Exposed Pad. Connect exposed pad to GND.
www.maximintegrated.com                                                                                                                                                                  Maxim Integrated │ 4


MAX7327                                                       I2C Port Expander with 12 Push-Pull
                                                                       Outputs and 4 Open-Drain I/Os
Detailed Description                                      The MAX7327 is set to two of 32 I2C slave addresses
                                                          (see Tables 2 and 3) using address inputs AD2 and AD0,
MAX7319–MAX7329 Family Comparison                         and is accessed over an I2C serial interface up to 400kHz.
The MAX7324–MAX7327 family consists of four pin-          Eight push-pull outputs use a different slave address from
compatible, 16-port expanders that integrate the          the other four push-pull outputs and the open-drain I/Os.
functions of the MAX7320 and one of either the MAX7319,   The eight push-pull outputs (O8–O15) use the 101xxxx
MAX7321, MAX7322, or MAX7323.                             addresses while the four outputs (O0, O1, O6, and O7)
                                                          and the open-drain I/Os (P2–P5) use addresses with
Functional Overview
                                                          110xxxx. The RST input clears the serial interface in case
The MAX7327 is a general-purpose port expander            of a bus lockup, terminating any serial transaction to or
operating from a +1.71V to +5.5V supply that provides     from the MAX7327.
12 push-pull output ports with a 20mA sink, 10mA
source drive capability, and four open-drain I/O ports    Any of the four open-drain ports can be configured as a
with a 20mA sink capability. The four open-drain out-     logic input by setting the port output logic-high (logic-high
puts are overvoltage protected to +6V.                    for an open-drain output is high impedance). When the
                                                          MAX7327 is read through the serial interface, the actual
                                                          logic levels at the ports are read back.
Table 1. MAX7319–MAX7329 Family Comparison
                 I2C              INPUT         OPEN-    PUSH-
 PART          SLAVE    INPUTS INTERRUPT        DRAIN    PULL                         CONFIGURATION
             ADDRESS              MASK         OUTPUTS  OUTPUTS
 16-PORT EXPANDERS
                                                                   8 inputs and 8 push-pull outputs version:
                                                                   8 input ports with programmable latching transition
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
                                                                   levels.
 MAX7324                   8        Yes           —         8
                                                                   Offers maximum versatility for automatic input
                                                                   monitoring. An interrupt mask selects which inputs
                                                                   cause an interrupt on transitions, and transition flags
                                                                   identify which inputs have changed (even if only for
                                                                   a transient) since the ports were last read.
               101xxxx
                                                                   8 I/O and 8 push-pull outputs version:
                 and
                                                                   8 open-drain I/O ports with latching transition
               110xxxx
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
                                                                   levels.
                                                                   Open-drain outputs can level shift the logic-high state
 MAX7325                 Up to 8     —          Up to 8     8      to a higher or lower voltage than V+ using external
                                                                   pullup resistors, but pullups draw current when output
                                                                   is low. Any open-drain port can be used as an input
                                                                   by setting the open-drain output to logic-high.
                                                                   Transition flags identify which open-drain port inputs
                                                                   have changed (even if only for a transient) since the
                                                                   ports were last read.
www.maximintegrated.com                                                                               Maxim Integrated │ 5


MAX7327                                                 I2C Port Expander with 12 Push-Pull
                                                               Outputs and 4 Open-Drain I/Os
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                I2C               INPUT   OPEN-    PUSH-
 PART        SLAVE      INPUTS INTERRUPT  DRAIN    PULL                       CONFIGURATION
            ADDRESS               MASK   OUTPUTS  OUTPUTS
                                                           4 input-only, 12 push-pull output versions:
                                                           4 input ports with programmable latching transition
                                                           detection interrupt and selectable pullups.
                                                           12 push-pull outputs with selectable default logic
                                                           levels.
 MAX7326                   4       Yes      —        12
                                                           Offers maximum versatility for automatic input
                                                           monitoring. An interrupt mask selects which inputs
                                                           cause an interrupt on transitions, and transition flags
                                                           identify which inputs have changed (even if only for
                                                           a transient) since the ports were last read.
             101xxxx
                                                           4 I/O, 12 push-pull output versions:
               and
                                                           4 open-drain I/O ports with latching transition
             110xxxx
                                                           detection interrupt and selectable pullups.
                                                           12 push-pull outputs with selectable default logic
                                                           levels.
                                                           Open-drain outputs can level shift the logic-high state
 MAX7327                 Up to 4    —     Up to 4    12    to a higher or lower voltage than V+ using external
                                                           pullup resistors, but pullups draw current when output
                                                           is low. Any open-drain port can be used as an input
                                                           by setting the open-drain output to logic-high.
                                                           Transition flags identify which open-drain port inputs
                                                           have changed (even if only for a transient) since the
                                                           ports were last read.
 8-PORT EXPANDERS
                                                           Input-only versions:
 MAX7319     110xxxx       8       Yes      —        —     8 input ports with programmable latching transition
                                                           detection interrupt and selectable pullups.
                                                           Output-only versions:
 MAX7320     101xxxx       —        —       —         8    8 push-pull outputs with selectable power-up default
                                                           levels.
                                                           I/O versions:
 MAX7321     110xxxx     Up to 8    —     Up to 8    —     8 open-drain I/O ports with latching transition
                                                           detection interrupt and selectable pullups.
                                                           4 input-only, 4 output-only versions:
                                                           4 input ports with programmable latching transition
 MAX7322     110xxxx       4       Yes      —         4    detection interrupt and selectable pullups.
                                                           4 push-pull outputs with selectable power-up default
                                                           levels.
www.maximintegrated.com                                                                       Maxim Integrated │ 6


MAX7327                                                             I2C Port Expander with 12 Push-Pull
                                                                             Outputs and 4 Open-Drain I/Os
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                 I2C                   INPUT        OPEN-      PUSH-
 PART          SLAVE      INPUTS INTERRUPT          DRAIN      PULL                        CONFIGURATION
              ADDRESS                  MASK        OUTPUTS    OUTPUTS
                                                                         4 I/O, 4 output-only versions:
                                                                         4 open-drain I/O ports with latching transition
  MAX7323      110xxxx     Up to 4       —          Up to 4       4      detection interrupt and selectable pullups.
                                                                         4 push-pull outputs with selectable power-up default
                                                                         levels.
                                                                         PCF8574-, PCF8574A-compatible versions:
  MAX7328      0100xxx
                           Up to 8       —          Up to 8       —      8 open-drain I/O ports with nonlatching transition
  MAX7329      0111xxx
                                                                         detection interrupt and pullups on all ports.
The four open-drain ports offer latching transition             up, the transition detection logic is reset, and INT is
detection functionality when used as inputs. All input ports    deasserted. The transition flags are cleared, indicating no
are continuously monitored for changes. An input change         data changes.
sets 1 of 4 flag bits that identify the changed input(s). All
flags are cleared upon a subsequent read or write trans-        Power-On Reset (POR)
action to the MAX7327.                                          The MAX7327 contains an integral POR circuit that
                                                                ensures all registers are reset to a known state on
A latching interrupt output (INT) automatically flags data
                                                                power-up. When V+ rises above VPOR (1.6V max), the
changes on any of the I/O ports used as inputs through
                                                                POR circuit releases the registers and 2-wire interface
an interrupt mask register. Data changes on any input
                                                                for normal operation. When V+ drops to less than VPOR,
port forces INT to a logic-low. Interrupt output INT is
                                                                the MAX7327 resets all register contents to the POR
deasserted when the MAX7327 is next accessed through
                                                                defaults (Tables 2 and 3).
the serial interface.
Internal pullup resistors to V+ are selected by the address     RST Input
select inputs, AD0 and AD2. Pullups are enabled on the          The active-low reset input (RST) operates as a hardware
input ports in groups of two (see Table 2). Use the slave       reset that voids any I2C transaction involving the MAX7327,
address selection to ensure that I/O ports used as inputs       forcing the MAX7327 into the I2C STOP condition. A
are logic-high on power-up. I/O ports with internal pullups     reset does not affect the interrupt output (INT).
enabled default to a logic-high output state. I/O ports
with internal pullups disabled default to a logic-low output    Standby Mode
state.                                                          When the serial interface is idle, the MAX7327
                                                                automatically enters standby mode, drawing minimal
Output port power-up logic levels are selected by the
                                                                supply current.
address select inputs (AD0 and AD2). Ports default to
logic-high or logic-low on power-up in groups of two (see       Slave Address, Power-Up Default Logic
Tables 2 and 3).                                                Levels, and Input Pullup Selection
Initial Power-Up                                                Address inputs AD0 and AD2 determine the MAX7327
                                                                slave address and select which inputs have pullup
On power-up, the default states of the 12 push-pull
                                                                resistors. Pullups are enabled on the input ports in groups
output ports and the four open-drain I/O ports are set
                                                                of two (see Table 2).
according to the I2C slave address selection inputs,
AD0 and AD2 (see Tables 2 and 3). For I/O ports                 The MAX7327 slave address is determined on each I2C
used as inputs, ensure that the default states are              transmission, regardless of whether the transmission
logic-high; therefore, the I/O ports power up in the            is actually addressing the MAX7327. The MAX7327
high-impedance state. All I/O ports configured with pullups     distinguishes whether address inputs AD0 and AD2 are
enabled also have a logic-high default state. On power-         connected to SDA or SCL instead of fixed-logic levels V+
                                                                or GND during the transmission. The MAX7327 slave
www.maximintegrated.com                                                                                     Maxim Integrated │ 7


MAX7327                                                                   I2C Port Expander with 12 Push-Pull
                                                                               Outputs and 4 Open-Drain I/Os
address can be configured dynamically in the application             pullups and sets the default logic state to low. The pullup
without cycling the device supply.                                   configuration is correct on power-up for a standard I2C
On initial power-up, the MAX7327 cannot decode the                   configuration, where SDA or SCL are pulled up to V+ by
address inputs AD0 and AD2 fully until the first I2C trans-          the external I2C pullup resistors.
mission. AD0 and AD2 initially appear to be connected                There are circumstances where the assumption that
to V+ or GND. This is important because the address                  SDA = SCL = V+ on power-up is not true; for example, in
selection is used to determine the power-up default states           applications in which there is legitimate bus activity during
of the output ports, I/O port initial logic state, and whether       power-up. If SDA and SCL are terminated with pullup
pullups are enabled. At power-up, the I2C SDA and SCL                resistors to a different supply voltage to the MAX7327’s
bus interface lines are high impedance at the I/O pins               supply voltage, and if that pullup supply rises later than
of every device (master or slave) connected to the bus,              the MAX7327’s supply, then SDA or SCL may appear at
including the MAX7327. This is guaranteed as part of the             power-up to be connected to GND. In such applications,
I2C specification. Therefore, when address inputs AD0                use the four address combinations that are selected by
and AD2 are connected to SDA or SCL during power-up,                 connecting address inputs AD0 and AD2 to V+ or GND
they appear to be connected to V+. The pullup selection              (shown in bold in Tables 2 and 3). These selections are
logic uses AD0 to select whether pullups are enabled                 guaranteed to be correct at power-up, independent of
for ports P2 and P3, and uses AD2 to select whether                  SDA and SCL behavior. If one of the other 12 address
pullups are enabled for ports P4 and P5. The rule is that            combinations is used, an unexpected combination of
a logic-high, SDA, or SCL connection selects the pullups             pullups might be asserted until the first I2C transmission
and sets the logic state to high. A logic-low deselects the          (to any device, not necessarily the MAX7327) is put on
                                                                     the bus.
Table 2. MAX7327 Address Map for Outputs O0, O1, O6, O7, and Ports P2–P5
    PIN
                          DEVICE ADDRESS                  PORTS POWER-UP DEFAULT              40kW INPUT PULLUPS ENABLED
 CONNECTION
  AD2     AD0     A6   A5   A4   A3   A2   A1   A0 O7 O6 P5          P4    P3   P2 O1 O0 O7 O6 P5 P4 P3 P2 O1 O0
  SCL     GND      1    1    0    0    0    0    0    1    1     1    1    0    0   0    0                                                      Y   Y     —    —
  SCL      V+      1    1    0    0    0    0    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
  SCL     SCL      1    1    0    0    0    1    0    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
                                                                                                Pullups are not enabled for push-pull outputs                         Pullups are not enabled for push-pull outputs
  SCL     SDA      1    1    0    0    0    1    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
  SDA     GND      1    1    0    0    1    0    0    1    1     1    1    0    0   0    0                                                      Y   Y     —    —
  SDA      V+      1    1    0    0    1    0    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
  SDA     SCL      1    1    0    0    1    1    0    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
  SDA     SDA      1    1    0    0    1    1    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
 GND      GND      1    1    0    1    0    0    0    0    0     0    0    0    0   0    0                                                      —   —     —    —
 GND       V+      1    1    0    1    0    0    1    0    0     0    0    1    1   1    1                                                      —   —      Y   Y
 GND      SCL      1    1    0    1    0    1    0    0    0     0    0    1    1   1    1                                                      —   —      Y   Y
 GND      SDA      1    1    0    1    0    1    1    0    0     0    0    1    1   1    1                                                      —   —      Y   Y
   V+     GND      1    1    0    1    1    0    0    1    1     1    1    0    0   0    0                                                      Y   Y     —    —
   V+      V+      1    1    0    1    1    0    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
   V+     SCL      1    1    0    1    1    1    0    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
   V+     SDA      1    1    0    1    1    1    1    1    1     1    1    1    1   1    1                                                      Y   Y      Y   Y
www.maximintegrated.com                                                                                                                                 Maxim Integrated │ 8


MAX7327                                                              I2C Port Expander with 12 Push-Pull
                                                                              Outputs and 4 Open-Drain I/Os
Table 3. MAX7327 Address Map for Outputs O8–O15
      PIN
                                 DEVICE ADDRESS                                 OUTPUTS POWER-UP DEFAULT
 CONNECTION
  AD2     AD0     A6     A5       A4     A3     A2      A1    A0    O15     O14    O13   O12    O11     O10     O9      O8
  SCL     GND      1      0        1      0      0       0     0      1      1      1     1       0       0      0       0
  SCL      V+      1      0        1      0      0       0     1      1      1      1     1       1       1      1       1
  SCL     SCL      1      0        1      0      0       1     0      1      1      1     1       1       1      1       1
  SCL     SDA      1      0        1      0      0       1     1      1      1      1     1       1       1      1       1
  SDA     GND      1      0        1      0      1       0     0      1      1      1     1       0       0      0       0
  SDA      V+      1      0        1      0      1       0     1      1      1      1     1       1       1      1       1
  SDA     SCL      1      0        1      0      1       1     0      1      1      1     1       1       1      1       1
  SDA     SDA      1      0        1      0      1       1     1      1      1      1     1       1       1      1       1
  GND     GND      1      0        1      1      0       0     0      0      0      0     0       0       0      0       0
  GND      V+      1      0        1      1      0       0     1      0      0      0     0       1       1      1       1
  GND     SCL      1      0        1      1      0       1     0      0      0      0     0       1       1      1       1
  GND     SDA      1      0        1      1      0       1     1      0      0      0     0       1       1      1       1
   V+     GND      1      0        1      1      1       0     0      1      1      1     1       0       0      0       0
   V+      V+      1      0        1      1      1       0     1      1      1      1     1       1       1      1       1
   V+     SCL      1      0        1      1      1       1     0      1      1      1     1       1       1      1       1
   V+     SDA      1      0        1      1      1       1     1      1      1      1     1       1       1      1       1
I/O Port Inputs                                                  A long read sequence (more than 2 bytes) can be used
I/O port inputs switch at CMOS logic levels as determined        to poll the expander continuously without the overhead
by the expander’s supply voltage, and are overvoltage            of resending the slave address. If more than 2 bytes are
tolerant to +6V, independent of the expander’s supply            read from the expander, the expander repeatedly returns
voltage.                                                         the 2 bytes of input port data followed by the transition
                                                                 flags. The inputs are repeatedly resampled and the
I/O Port Input Transition Detection                              transition flags repeatedly reset for each pair of bytes
All I/O ports configured as inputs are monitored for             read. All changes that occur during a long read sequence
changes since the expander was last accessed through             are detected and reported.
the serial interface. The state of the ports is stored in        The INT output is not reasserted during a read sequence
an internal “snapshot” register for transition monitoring.       to avoid recursive reentry into an interrupt service
The snapshot is continuously compared with the actual            routine. Instead, if a data change occurs that would
input conditions, and if a change is detected for any port       normally cause the INT output to be set, the INT assertion
input, INT is asserted to signal a state change. The input       is delayed until the STOP condition. INT is not reassert-
ports are sampled (internally latched into the snapshot          ed upon a STOP condition if the changed input data is
register) and the old transition flags cleared during the I2C    read before the STOP occurs. The INT logic ensures
acknowledge of every MAX7327 read and write access.              that unnecessary interrupts are not asserted, yet data
The previous port-transition flags are read through the          changes are detected and reported no matter when the
serial interface as the second byte of a 2-byte read             change occurs.
sequence.
www.maximintegrated.com                                                                                  Maxim Integrated │ 9


MAX7327                                                                           I2C Port Expander with 12 Push-Pull
                                                                                              Outputs and 4 Open-Drain I/Os
Serial Interface                                                             addresses plus R/W bits, one or more data bytes, and
                                                                             finally a STOP condition (Figure 2).
Serial Addressing
The MAX7327 operates as a slave that sends and                               START and STOP Conditions
receives data through an I2C interface. The interface uses                   Both SCL and SDA remain high when the interface
a serial-data line (SDA) and a serial-clock line (SCL) to                    is not busy. A master signals the beginning of a trans-
achieve bidirectional communication between master(s)                        mission with a START (S) condition by transitioning
and slave(s). The master initiates all data transfers to                     SDA from high to low while SCL is high. When the
and from the MAX7327 and generates the SCL clock that                        master has finished communicating with the slave, the
synchronizes the data transfer (Figure 1).                                   master issues a STOP (P) condition by transitioning
SDA operates as both an input and an open-drain output.                      SDA from low to high while SCL is high. The bus is then
A pullup resistor, typically 4.7kΩ, is required on SDA.                      free for another transmission (Figure 2).
SCL operates only as an input. A pullup resistor, typically                  Bit Transfer
4.7kΩ, is required on SCL if there are multiple masters
                                                                             One data bit is transferred during each clock pulse.
on the 2-wire interface, or if the master in a single-master
                                                                             The data on SDA must remain stable while SCL is high
system has an open-drain SCL output.
                                                                             (Figure 3).
Each transmission consists of a START condition sent
by a master, followed by the MAX7327’s 7-bit slave
                 SDA
                                                                     tSU,STA                                                   tBUF
                                               tSU,DAT                                tHD,STA
                                       tLOW
                                                          tHD,DAT                                            tSU,STO
                  SCL                           tHIGH
                    tHD,STA
                                            tR         tF
                       START CONDITION                              REPEATED START CONDITION                             STOP         START
                                                                                                                       CONDITION    CONDITION
Figure 1. 2-Wire Serial Interface Timing Details
                                                                                     SDA
     SDA
     SCL                                                                             SCL
           S                                                   P
         START                                               STOP
       CONDITION                                          CONDITION                           DATA LINE STABLE; CHANGE OF DATA
                                                                                                 DATA VALID          ALLOWED
Figure 2. Start and Stop Conditions                                          Figure 3. Bit Transfer
www.maximintegrated.com                                                                                                                Maxim Integrated │ 10


MAX7327                                                             I2C Port Expander with 12 Push-Pull
                                                                            Outputs and 4 Open-Drain I/Os
Acknowledge                                                    Accessing the MAX7327
The acknowledge bit is a clocked 9th bit the recipient         The MAX7327 is a combination of MAX7320 and
uses to acknowledge receipt of each byte of data (Figure       MAX7323. The group A of eight ports (O0, O1, P2–P5,
4). Each byte transferred effectively requires 9 bits. The     O6, and O7) corresponding to those of the MAX7323 and
master generates the 9th clock pulse, and the recipient        the group B of eight ports (O8–O15) corresponding to
pulls down SDA during the acknowledge clock pulse,             those of the MAX7320 are read/write separately through
such that the SDA line is stable low during the high period    their own addresses, as shown by Tables 2 and 3, respec-
of the clock pulse. When the master is transmitting to the     tively.
MAX7327, the MAX7327 generates the acknowledge bit             A single-byte read from the group A ports of the
because the device is the recipient. When the MAX7327          MAX7327 returns the status of the four I/O ports and the
is transmitting to the master, the master generates the        four output ports (read back as inputs), and clear both
acknowledge bit because the master is the recipient.           the internal transition flags and the INT output when the
Slave Address                                                  master acknowledges the slave address byte.
The MAX7327 has two different 7-bit slave addresses            A 2-byte read from the group A ports of the MAX7327
(Figure 5). The addresses are different to communicate         returns the status of the four I/O ports and the four output
to the eight push-pull outputs (O8–O15) or the other eight     ports (as for a single byte read), followed by the four tran-
I/Os. The eighth bit following the 7-bit slave address is      sition flags for the four I/O ports. The internal transition
the R/W bit. It is low for a write command and high for a      flags and the INT output are cleared automatically when
read command.                                                  the master acknowledges the slave address byte (but the
The first (A6), second (A5), and third (A4) bits of the        previous transition flag data is sent as the second byte).
MAX7327 slave address are always 1, 1, and 0 (O0,              A multibyte read (more than 2 bytes before the I2C STOP
O1, P2–P5, O6, O7) or 1, 0, and 1 (O8–O15). Connect            bit) from the group A ports of the MAX7327 repeatedly
AD0 and AD2 to GND, V+, SDA, or SCL to select slave            returns the port data, alternating with the transition flags.
address bits A3, A2, A1, and A0. The MAX7327 has 16            As the port data is resampled for each transmission, and
possible slave addresses (Tables 2 and 3), allowing up to      the transition flags are reset each time, a multibyte read
16 MAX7327 devices on an I2C bus.                              continuously returns the current data and identifies any
                                                               changing I/O ports.
                START                     CLOCK PULSE          If a port input data change occurs during the read
              CONDITION          FOR ACKNOWLEDGEMENT           sequence, then INT is reasserted during the I2C STOP
            SCL           1    2                8     9        bit. The MAX7327 does not generate another interrupt
                                                               during a single-byte or multibyte MAX7327 read routine.
         SDA BY
    TRANSMITTER                                                Input port data is sampled during the preceding I2C
         SDA BY                                                acknowledge bit (the acknowledge bit for the I2C slave
       RECEIVER   S
                                                               address in the case of a single-byte or 2-byte read).
Figure 4. Acknowledge
                  SDA    1       A5           A4        A3  A2          A1        A0        R/W        ACK
                        MSB                                                      LSB
                  SCL
Figure 5. Slave Address
www.maximintegrated.com                                                                                  Maxim Integrated │ 11


MAX7327                                                                        I2C Port Expander with 12 Push-Pull
                                                                                           Outputs and 4 Open-Drain I/Os
A single-byte read from the group B ports of the                          Reading the MAX7327
MAX7327 returns the status of the eight output ports, read                A read from the group A ports of the MAX7327 starts with
back as inputs.                                                           the master transmitting the port group’s slave address
A 2-byte read from the group B ports of the MAX7327                       with the R/W bit set to high. The MAX7327 acknowledges
repeatedly returns the status of the eight output ports,                  the slave address, and samples the status of the ports
read back as inputs.                                                      during the acknowledge bit. INT goes high during the
A multibyte read (more than 2 bytes before the I2C                        slave address acknowledge. The master can then issue
STOP bit) from the group B ports of the MAX7327 repeat-                   a STOP condition after the acknowledge. The snapshot
edly returns the status of the eight output ports, read back              is taken, and the INT status remains unchanged, if the
as inputs.                                                                master terminates the serial transition with a no-
                                                                          acknowledge.
A single-byte write to the group A or B ports of the
MAX7327 sets the logic state of all eight ports.                          When the master reads one byte from the group A
                                                                          ports of the MAX7327 and subsequently issues a STOP
A multibyte write to the group A or B ports of the                        condition (Figure 6), the MAX7327 transmits the current
MAX7327 repeatedly sets the logic state of all eight ports.               port data, clears the change flags, and resets the tran-
                                                                                                                        NO ACKNOWLEDGE
                                                                           O7   O6    P5   P4    P3    P2   O1   O0     FROM MASTER
                                            ACKNOWLEDGE FROM MAX7327
                              S       MAX7327 SLAVE ADDRESS      1   A     D7    D6    D5   D4    D3    D2   D1    D0    N    P
                                                            R/W           PORT SNAPSHOT               PORT SNAPSHOT
                             SCL
                                                                        tPH
                        PORTS
                    tIV                                                tIR                                          tPS        tIP
                        INT OUTPUT                                              INT REMAINS HIGH UNTIL STOP CONDITION
Figure 6. Reading Group A Ports of the MAX7327 (1 Data Byte)
www.maximintegrated.com                                                                                                            Maxim Integrated │ 12


MAX7327                                                                                       I2C Port Expander with 12 Push-Pull
                                                                                                          Outputs and 4 Open-Drain I/Os
sition detection. INT deasserts during the slave                                        A read from the group B ports of the MAX7327 starts
acknowledge. The new snapshot data is the current                                       with the master transmitting the group’s slave address
port data transmitted to the master, and therefore, port                                with the R/W bit set high. The MAX7327 acknowledges
changes occuring during the transmission are detected.                                  the slave address, and samples the logic state of the
INT remains high until the STOP condition.                                              output ports during the acknowledge bit. The master can
When the master reads 2 bytes from the group A ports                                    read one or more bytes from the group B ports of the
of the MAX7327 and subsequently issues a STOP con-                                      MAX7327 and then issue a STOP condition (Figure 8).
dition (Figure 7), the MAX7327 transmits the current                                    The MAX7327 transmits the current port data, read back
port data, followed by the change flags. The change                                     from the actual port outputs (not the port output latches)
flags are then cleared, and transition detection is reset.                              during the acknowledge. If a port is forced to a logic
INT goes high (high impedance if an external pullup                                     state other than its programmed state, the readback
resistor is not fitted) during the slave acknowledge. The                               reflects this. If driving a capacitive load, the readback
new snapshot data is the current port data transmitted                                  port-level verification algorithms may need to take the
to the master, and therefore, port changes occuring                                     RC rise/fall time into account.
during the transmission are detected. INT remains high                                  Typically, the master reads one byte from the group B
until the STOP condition.                                                               ports of the MAX7327, then issues a STOP condition
                                                                                        (Figure 8). However, the master can read two or more
                                                                                                                                        FLAG
                                                                                                                                             NO ACKNOWLEDGE
                                                                O7    O6  P5   P4  P3   P2   O1  O0        F7  F6   F5   F4 F3  F2   F1  F0  FROM MASTER
                               ACKNOWLEDGE FROM MAX7327
                     S      MAX7327 SLAVE ADDRESS       1   A     D7   D6  D5   D4  D3   D2   D1 D0     A  D7 D6    D5   D4 D3  D2   D1 D0    N   P
                                                  R/W           PORT SNAPSHOT       PORT SNAPSHOT                             PORT SNAPSHOT
                    SCL
                                                              tPH
                PORTS
            tIV                                                                                    tPS                                           tIP
                INT OUTPUT                                  tIR
                                                                     INT REMAINS HIGH UNTIL STOP CONDITION
Figure 7. Reading Group A Ports of the MAX7327 (2 Data Bytes)
                                                   PORT SNAPSHOT DATA           P7   P6    P5   P4     P3  P2    P1    P0
                                                                                                  DATA 1
                                         ACKNOWLEDGE FROM MAX7327
                         S            MAX7327 SLAVE ADDRESS           1    A    D7    D6    D5    D4    D3  D2    D1    D0  A     P
                                                               R/W             PORT SNAPSHOT TAKEN PORT SNAPSHOT TAKEN            ACKNOWLEDGE
                                                                                                                                  FROM MASTER
                        SCL
Figure 8. Reading Group B Ports of MAX7327
www.maximintegrated.com                                                                                                                      Maxim Integrated │ 13


MAX7327                                                                              I2C Port Expander with 12 Push-Pull
                                                                                             Outputs and 4 Open-Drain I/Os
bytes from the group B ports of the MAX7327, then issue                         of the four I/O ports (P2–P5) are driven from a lower
a STOP condition. In this case, the MAX7327 resamples                           logic level, such as +2.5V. For V+ < 1.8V, apply a min-
the port outputs during each acknowledge and transmits                          imum voltage of 0.8 x V+ to assert a logic-high on any
the new data each time.                                                         input. For a V+ ≥ 1.8V, apply a voltage of 0.7 x V+ to
                                                                                assert a logic-high. For example, a MAX7327 operating
Writing to the MAX7327
                                                                                from a +5V supply may not recognize a +3.3V nominal
A write to the group A or B ports of the MAX7327 starts                         logic-high. One solution for input-level translation is to
with the master transmitting the group’s slave address                          drive MAX7327 inputs from open-drain outputs. Use a
with the R/W bit set low. The MAX7327 acknowledges the                          pullup resistor to V+ or a higher supply to ensure a high
slave address and samples the ports during the acknowl-                         logic voltage greater than 0.7 x V+.
edge bit. INT goes high (high impedance if an external
pullup resistor is not fitted) during the slave acknowledge                     Port Output Signal Level Translation
only when it writes to the group A ports. The master can                        The open-drain output architecture allows for level
now transmit one or more bytes of data. The MAX7327                             translation to higher or lower voltages than the
acknowledges these subsequent bytes of data and                                 MAX7327’s supply. Use an external pullup resistor on
updates the corresponding group’s ports with each new                           any output to convert the high-impedance logic-high
byte until the master issues a STOP condition (Figure 9).                       condition to a positive voltage level. The resistor can be
                                                                                connected to any voltage up to +6V, and the resistor
Applications Information                                                        value chosen to ensure no more than 20mA to be
Port Input and I2C Interface Level                                              sunk in logic-low condition. For interfacing CMOS
Translation from Higher                                                         inputs, a pullup resistor value of 220kΩ is a good
or Lower Logic Voltages                                                         starting point. Use a lower resistance to improve noise
                                                                                immunity, in applications where power consumption is less
The MAX7327’s SDA, SCL, AD0, AD2, RST, INT, and
                                                                                critical, or where a faster rise time is needed for a given
the four I/O ports (P2–P5) are overvoltage protected
                                                                                capacitive load.
to +6V, independent of V+. This allows the MAX7327
to operate from a lower supply voltage, such as +3.3V,                          Each of the 12 push-pull output ports has protection
while the I2C interface and/or some of the four I/O ports                       diodes to V+ and GND. When a port output is driven to
are driven from a higher logic level, such as +5V.                              a voltage higher than V+ or lower than GND, the appro-
                                                                                priate protection diode clamps the output to a diode drop
The MAX7327 can operate from a higher supply volt-
                                                                                above V+ or below GND. When the MAX7327 is powered
age, such as +3V, while the I2C interface and/or some
                                                                                down (V+ = 0V), every output port’s protection diodes to
                       SCL       1  2    3  4   5  6 7  8
                                      SLAVE ADDRESS                   DATA TO PORT                   DATA TO PORT
                       SDA   S                          0  A             DATA 1           A               DATA 2         A
                           START CONDITION             R/W ACKNOWLEDGE                    ACKNOWLEDGE                    ACKNOWLEDGE
                                                           FROM SLAVE                     FROM SLAVE                     FROM SLAVE
                     WRITE
                   TO PORT
                  DATA OUT
                                                                                                        DATA 1 VALID        DATA 2 VALID
                FROM PORT
                                                                                      tPV                            tPV
Figure 9. Writing the MAX7327
www.maximintegrated.com                                                                                                         Maxim Integrated │ 14


MAX7327                                                       I2C Port Expander with 12 Push-Pull
                                                                       Outputs and 4 Open-Drain I/Os
V+ and GND continue to appear as a diode clamp from       VOL is the output low voltage of the MAX7327 when sink-
each output to GND (Figure 10).                           ing ILED (V).
Each of the four P2–P5 I/O ports has a protection diode   ILED is the desired operating current of the LED (A).
to GND (Figure 11). When a port output is driven to a     For example, to operate a 2.2V red LED at 10mA from a
voltage lower than GND, the protection diode clamps       +5V supply:
the output to a diode drop below GND.
                                                                      RLED = (5 - 2.2 - 0.1) / 0.01 = 270Ω
Each of the four P2­–P5 I/O ports also has a 40kΩ (typ)
pullup resistor that can be enabled or disabled. When a   Driving Load Currents Higher than 20mA
port input is driven to a voltage higher than V+, the     The MAX7327 can be used to drive loads such as relays
body diode of the pullup enable switch conducts and       that draw more than 20mA by paralleling outputs. Use at
the 40kΩ pullup resistor is enabled. When the             least one output per 20mA of load current; for example,
MAX7327 is powered down (V+ = 0V), each I/O port          a 5V 330mW relay draws 66mA, and therefore, requires
appears as a 40kΩ resistor in series with a diode con-    four paralleled outputs. Any combination of outputs can
nected to 0V. Input ports are protected to +6V under      be used as part of a load-sharing design because any
any of these circumstances (Figure 11).                   combination of ports can be set or cleared at the same
                                                          time by writing to the MAX7327. Do not exceed a total
Driving LED Loads
                                                          sink current of 100mA for the device.
When driving LEDs from one of the 12 push-pull out-
puts, a resistor must be fitted in series with the LED to The MAX7327 must be protected from the negative
limit the LED current to no more than 20mA. Connect       voltage transient generated when switching off induc-
the LED cathode to the MAX7327 port, and the LED          tive loads (such as relays), by connecting a reverse-
anode to V+ through the series current-limiting resistor, biased diode across the inductive load. Choose the peak
RLED. Set the port output low to light the LED. Choose    current for the diode to be greater than the inductive load’s
the resistor value according to the following formula:    operating current.
          RLED = (VSUPPLY - VLED - VOL) / ILED            Power-Supply Considerations
where:                                                    The MAX7327 operates with a supply voltage of +1.71V
                                                          to +5.5V. Bypass the supply to GND with a ceramic
RLED is the resistance of the resistor in series with the
                                                          capacitor of at least 0.047µF as close as possible to the
LED (Ω).
                                                          device. For the TQFN version, additionally connect the
VSUPPLY is the supply voltage used to drive the LED (V).  exposed pad to GND.
VLED is the forward voltage of the LED (V).
                                                                              V+   V+
                             V+  V+
                                                                                             MAX7327
                 MAX7327                                            PULLUP
                                        O0–O2                      ENABLE
                                        O6–O15
                                                                                        40kΩ
                                                                                                             P2–P5
                                                                     INPUT
              OUTPUT
                                                                   OUTPUT
Figure 10. MAX7327 Push-Pull Output Port Structure        Figure 11. MAX7327 Open-Drain I/O Port Structure
www.maximintegrated.com                                                                              Maxim Integrated │ 15


MAX7327                                                           I2C Port Expander with 12 Push-Pull
                                                                       Outputs and 4 Open-Drain I/Os
Functional Diagram                                             Typical Application Circuit
                                                                                           3.3V
                                                                       µC                  V+
                                                         O15
     AD0                                                 O14             SCL      SCL
                                                         O13                              MAX7327
     AD2                                                 O12             SDA      SDA
                                                         O11                                        O15
                                                         O10             RST      RST
                                                         O9                                         O14
     SCL       INPUT          I2C                I/O     O8                 INT   INT               013
                            CONTROL             PORTS    O7
    SDA        FILTER                                    O6                                         012
                                                         P5                                         O11                OUTPUT
                                                         P4                                         O10                OUTPUT
                                                         P3
                                                         P2                                          O9                OUTPUT
                                                         O1                                          O8                OUTPUT
                                                         O0
                                                                                                    O7                 OUTPUT
                                                                                                    O6                 OUTPUT
                                                         INT                                        P5         INPUT/OUTPUT
              POWER-ON
     RST
                RESET                                                                               P4         INPUT/OUTPUT
                                                                                                    P3         INPUT/OUTPUT
                              MAX7327                                                               P2         INPUT/OUTPUT
                                                                                  AD0               O2                 OUTPUT
                                                                                  AD2               O1                 OUTPUT
                                                                                           GND
Pin Configurations (continued)                                 Chip Information
                                                               PROCESS: BiCMOS
            TOP VIEW
                                  +
                          INT 1                 24 V+
                         RST 2                  23 SDA         Package Information
                         AD2 3                  22 SCL         For the latest package outline information and land patterns
                                      MAX7327                  (footprints), go to www.maximintegrated.com/packages. Note
                          O0 4                  21 AD0
                                                               that a “+”, “#”, or “-” in the package code indicates RoHS status
                          O1 5                  20 O15
                                                               only. Package drawings may show a different suffix character, but
                          P2 6                  19 O14
                                                               the drawing pertains to the package regardless of RoHS status.
                          P3 7                  18 O13
                          P4 8                  17 O12            PACKAGE          PACKAGE          OUTLINE LAND PATTERN
                          P5 9                  16 O11              TYPE             CODE             NO.        NO.
                          O6 10                 15 O10             24 QSOP              E24+1        21-0055          90-0172
                          O7 11                 14 O9
                                                                   24 TQFN
                         GND 12                 13 O8                               T2444+3          21-0139              —
                                                                 (4mm x 4mm)
                                       QSOP                        24 TQFN
                                                                                   T243A3+1          21-0188          90-0122
                                                               (3.5mm x 3.5mm)
www.maximintegrated.com                                                                                   Maxim Integrated │ 16


MAX7327                                                                                      I2C Port Expander with 12 Push-Pull
                                                                                                       Outputs and 4 Open-Drain I/Os
Revision History
   REVISION          REVISION                                                                                                                       PAGES
                                                                             DESCRIPTION
   NUMBER                DATE                                                                                                                    CHANGED
         0               8/06        Initial release                                                                                                    —
                                     No /V OPNs; removed automotive reference from Applications section; updated
         1               7/14                                                                                                                      1, 18–20
                                     Package Information
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                 © 2014 Maxim Integrated Products, Inc. │ 17


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7327AATG+T MAX7327AATG+
