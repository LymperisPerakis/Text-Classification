                                                                                                                      EVALUATION KIT AVAILABLE
MAX7324                                                                                            I2C Port Expander with
                                                                                  Eight Push-Pull Outputs and Eight Inputs
General Description                                                                   Features
The MAX7324 2-wire serial-interfaced peripheral features                              ●● 400kHz, +6V-Tolerant I2C Serial Interface
16 I/O ports that are divided into eight push-pull outputs                            ●● +1.71V to +5.5V Operating Voltage
and eight inputs. Each input features selectable internal
pullups, overvoltage protection to +6V, and transition                                ●● Eight Push-Pull Outputs
detection with an interrupt output.                                                   ●● Eight Input Ports with Maskable, Latching Transition
All input ports are continuously monitored for state                                     Detection
changes (transition detection). The interrupt is latched,                             ●● Input Ports are Overvoltage Protected to +6V
allowing detection of transient changes. Any combination
of inputs can be selected using the interrupt mask to                                 ●● Transient Changes are Latched, Allowing Detection
assert the INT output. When the MAX7324 is subsequently                               ●● Between Read Operations
accessed through the serial interface, any pending inter-                             ●● INT Output Alerts Change on Any Selection of Inputs
rupt is cleared.
                                                                                      ●● AD0 and AD2 Inputs Select from 16 Slave Addresses
The push-pull outputs are rated to sink 20mA and are
capable of driving LEDs. The RST input clears the serial                              ●● Low 0.6µA Standby Current
interface, terminating any I2C communication to or from                               ●● -40°C to +125°C Temperature Range
the MAX7324.
The MAX7324 uses two address inputs with four-level
logic to allow 16 I2C slave addresses. The slave address
                                                                                      Ordering Information
also enables or disables internal 40kΩ pullups in groups                                                                          PIN-
                                                                                             PART            TEMP RANGE
of four ports.                                                                                                                    PACKAGE
The MAX7324 is one device in a family of pin-compatible                                MAX7324AEG+          -40°C to +125°C       24 QSOP
port expanders with a choice of input ports, open-drain I/O
                                                                                                                                  24 TQFN-EP*
ports, and push-pull output ports (see Table 1).                                       MAX7324ATG+          -40°C to +125°C
                                                                                                                                  (4mm x 4mm)
The MAX7324 is available in 24-pin QSOP and TQFN
packages, and is specified over the -40°C to +125°C                                    +Denotes a lead(Pb)-free/RoHS-compliant package.
                                                                                       *EP = Exposed pad.
automotive temperature range.
Applications
●● Cell Phones                                    ●● Notebooks                        Selector Guide
●● SAN/NAS                                        ●● Satellite Radio
●● Servers                                                                                                                OPEN-
                                                                                                            INTERRUPT            PUSH-PULL
                                                                                         PART     INPUTS                  DRAIN
                                                                                                               MASK               OUTPUTS
Pin Configurations                                                                                                       OUTPUTS
                TOP VIEW
                                                                                       MAX7324       8         Yes            —             8
                                    AD0   O15   O14   O13   O12   O11
                                    18    17     16   15    14    13                   MAX7325    Up to 8       —         Up to 8           8
                       SCL 19                                           12 O10
                                                                                       MAX7326       4         Yes            —             12
                       SDA 20                                           11 O9
                           V+ 21                                        10 O8
                                                                                       MAX7327    Up to 4       —         Up to 4           12
                                                MAX7324
                           INT 22                                       9   GND
                       RST 23                                           8   I7
                       AD2 24 +                  EXPOSED PAD                I6
                                                                        7
                                     1    2      3    4     5     6
                                    I0    I1    I2    I3    I4    I5                   Typical Application Circuit and Functional Diagram appear
                                    TQFN (4mm x 4mm)                                   at end of data sheet.
  Pin Configurations continued at end of data sheet.
19-3785; Rev 1; 5/14


MAX7324                                                                                                                                   I2C Port Expander with
                                                                                                 Eight Push-Pull Outputs and Eight Inputs
Absolute Maximum Ratings
(All voltages referenced to GND.)                                                                     Total GND Current ............................................................100mA
Supply Voltage V+....................................................-0.3V to +6V                     Continuous Power Dissipation
SCL, SDA, AD0, AD2, RST, INT, I0–I7....................-0.3V to +6V                                       QSOP (derate 9.5mW/°C over TA = +70°C)................761.9mW
O8–O15........................................................-0.3V to (V+ + 0.3V)                        TQFN (derate 20.8mW/°C over TA = +70°C)..........1666.7mW
O8–O15 Output Current....................................................±25mA                        Operating Temperature Range.......................... -40°C to +125°C
SDA Sink Current............................................................... 10mA                  Junction Temperature.......................................................+150°C
INT Sink Current.................................................................10mA                 Storage Temperature Range............................. -65°C to +150°C
Total V+ Current..................................................................50mA                Lead Temperature (soldering, 10s).................................. +300°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
DC Electrical Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
                  PARAMETER                           SYMBOL                                   CONDITIONS                                    MIN            TYP           MAX        UNITS
 Operating Supply Voltage                                  V+          TA = -40°C to +125°C                                                  1.71                         5.50          V
 Power-On Reset Voltage                                  VPOR          V+ falling                                                                                          1.6          V
 Standby Current (Interface Idle)                         ISTB         SCL and SDA and other digital inputs at V+                                            0.6           1.9         µA
 Supply Current
                                                            I+         fSCL = 400kHz; other digital inputs at V+                                             23            55          µA
 (Interface Running)
 Input High-Voltage                                                    V+ < 1.8V                                                           0.8 x V+
                                                           VIH                                                                                                                          V
 SDA, SCL, AD0, AD2, RST, I0–I7                                        V+ ≥ 1.8                                                            0.7 x V+
 Input Low-Voltage                                                     V+ < 1.8V                                                                                        0.2 x V+
                                                           VIL                                                                                                                          V
 SDA, SCL, AD0, AD2, RST, I0–I7                                        V+ ≥ 1.8                                                                                         0.3 x V+
 Input Leakage Current                                                 SDA, SCL, AD0, AD2, RST, I0–I7 at V+ or
                                                         IIH, IIL                                                                            -0.2                         +0.2         µA
 SDA, SCL, AD0, AD2, RST, I0–I7                                        GND
 Input Capacitance
                                                                                                                                                             10                        pF
 SDA, SCL, AD0, AD2, RST, I0–I7
                                                                       V+ = +1.71V, ISINK = 5mA (QSOP)                                                       90           180
                                                                       V+ = +1.71V, ISINK = 5mA (TQFN)                                                       90           230
                                                                       V+ = +2.5V, ISINK = 10mA (QSOP)                                                      110           210
 Output Low Voltage                                                    V+ = +2.5V, ISINK = 10mA (TQFN)                                                      110           260
                                                           VOL                                                                                                                        mV
 O8–O15                                                                V+ = +3.3V, ISINK = 15mA (QSOP)                                                      130           230
                                                                       V+ = +3.3V, ISINK = 15mA (TQFN)                                                      130           280
                                                                       V+ = +5V, ISINK = 20mA (QSOP)                                                        140           250
                                                                       V+ = +5V, ISINK = 20mA (TQFN)                                                        140           300
                                                                       V+ = +1.71V, ISOURCE = 2mA                                          V+ - 250 V+ - 30
 Output High Voltage                                                   V+ = +2.5V, ISOURCE = 5mA                                           V+ - 360 V+ - 70
                                                          VOH                                                                                                                         mV
 O8–O15                                                                V+ = +3.3V, ISOURCE = 5mA                                           V+ - 260 V+ - 100
                                                                       V+ = +5V, ISOURCE = 10mA                                            V+ - 360 V+ - 120
 Output Low-Voltage SDA                                VOLSDA          ISINK = 6mA                                                                                        250         mV
 Output Low-Voltage INT                                 VOLINT         ISINK = 5mA                                                                          130           250         mV
 Port Input Pullup Resistor                               RPU                                                                                 25             40            55          kW
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 2


MAX7324                                                                                       I2C Port Expander with
                                                                  Eight Push-Pull Outputs and Eight Inputs
Port and Interrupt INT Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
            PARAMETER                SYMBOL                      CONDITIONS                      MIN       TYP      MAX      UNITS
 Port-Output Data Valid                  tPPV      CL ≤ 100pF                                                         4         µs
 Port-Input Setup Time                   tPSU      CL ≤ 100pF                                     0                             µs
 Port-Input Hold Time                     tPH      CL ≤ 100pF                                     4                             µs
 INT Input Data Valid Time                 tIV     CL ≤ 100pF                                                         4         µs
 INT Reset Delay Time from STOP            tIP     CL ≤ 100pF                                                         4         µs
 INT Reset Delay Time from
                                           tIR     CL ≤ 100pF                                                         4         µs
 Acknowledge
Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
            PARAMETER                SYMBOL                      CONDITIONS                      MIN        TYP     MAX      UNITS
 Serial-Clock Frequency                  fSCL                                                                       400        kHz
 Bus Free Time Between a STOP
                                         tBUF                                                     1.3                           µs
 and a START Condition
 Hold Time (Repeated) START
                                      tHD,STA                                                     0.6                           µs
 Condition
 Repeated START Condition
                                      tSU,STA                                                     0.6                           µs
 Setup Time
 STOP Condition Setup Time            tSU,STO                                                     0.6                           µs
 Data Hold Time                       tHD,DAT      (Note 2)                                                          0.9        µs
 Data Setup Time                      tSU,DAT                                                    100                            ns
 SCL Clock Low Period                   tLOW                                                      1.3                           µs
 SCL Clock High Period                  tHIGH                                                     0.7                           µs
 Rise Time of Both SDA and SCL                                                                              20 +
                                           tR      (Notes 3, 4)                                                     300         ns
 Signals, Receiving                                                                                        0.1Cb
 Fall Time of Both SDA and SCL                                                                              20 +
                                            tF     (Notes 3, 4)                                                     300         ns
 Signals, Receiving                                                                                        0.1Cb
                                                                                                            20 +
 Fall Time of SDA Transmitting           tF,TX     (Notes 3, 4)                                                     250         ns
                                                                                                           0.1Cb
 Pulse Width of Spike Suppressed          tSP      (Note 5)                                                  50                 ns
 Capacitive Load for Each Bus
                                           Cb      (Note 3)                                                         400         pF
 Line
 RST Pulse Width                           tW                                                    500                            ns
 RST Rising to START Condition
                                         tRST                                                      1                            µs
 Setup Time
Note 1: All parameters are tested at TA = +25°C. Specifications over temperature are guaranteed by design.
Note 2: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) to bridge
          the undefined region of SCL's falling edge.
Note 3: Guaranteed by design.
Note 4: Cb = total capacitance of one bus line in pF. tR and tF measured between 0.3 x V+ and 0.7 x V+. ISINK ≤ 6mA.
Note 5: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
www.maximintegrated.com                                                                                          Maxim Integrated │ 3


MAX7324                                                                                                                            I2C Port Expander with
                                                                                                                  Eight Push-Pull Outputs and Eight Inputs
Typical Operating Characteristics
(TA = +25°C, unless otherwise noted.)
                                                            STANDBY CURRENT                                                                                      SUPPLY CURRENT
                                                             vs. TEMPERATURE                                                                                     vs. TEMPERATURE
                                           2.0                                                                                                    60
                                                                                                  MAX7324 toc01                                                                                     MAX7324 toc02
                                                                                    fSCL = 0kHz                                                                                     fSCL = 400kHz
                                           1.8
                                                                                                                                                  50
                                           1.6                                                                                                                                   V+ = +5.0V
                 STANDBY CURRENT (A)                                                                                    SUPPLY CURRENT (A)
                                           1.4
                                                                                                                                                  40
                                           1.2                                    V+ = +5.0V
                                           1.0                                                                                                    30
                                                                    V+ = +3.3V                                                                                                   V+ = +3.3V
                                           0.8      V+ = +2.5V
                                                                                                                                                  20                              V+ = +2.5V
                                           0.6
                                           0.4                                                                                                                                    V+ = +1.71V
                                                                                                                                                  10
                                           0.2                   V+ = +1.71V
                                              0                                                                                                    0
                                                  -40 -25 -10 5 20 35 50 65 80 95 110 125                                                              -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                               TEMPERATURE (°C)                                                                                     TEMPERATURE (°C)
                                                          OUTPUT-VOLTAGE LOW                                                                                  OUTPUT-VOLTAGE HIGH
                                                            vs. TEMPERATURE                                                                                     vs. TEMPERATURE
                                          0.25                                                                                                     6
                                                                                                  MAX7324 toc03                                                                                     MAX7324 toc04
                                                                                                                                                                               V+ = +5.0V
                                                                               V+ = +5.0V                                                                                      ISOURCE = 10mA
                                                                               ISINK = 20mA                                                        5
                                          0.20
                 OUTPUT-VOLTAGE LOW (V)                                                                                 OUTPUT-VOLTAGE HIGH (V)
                                                        V+ = +3.3V                                                                                          V+ = +3.3V
                                                        ISINK = 15mA                                                                               4        ISOURCE = 5mA
                                          0.15
                                                                                                                                                   3                   V+ = +2.5V ISOURCE = 5mA
                                          0.10
                                                                                                                                                   2                 V+ = +1.71V ISOURCE = 2mA
                                                                    V+ = +1.71V
                                          0.05       V+ = +2.5V     ISINK = 5mA
                                                     ISINK = 10mA                                                                                  1
                                              0                                                                                                    0
                                                  -40 -25 -10 5 20 35 50 65 80 95 110 125                                                              -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                               TEMPERATURE (°C)                                                                                     TEMPERATURE (°C)
Pin Description
           PIN
                                                             NAME                                                                                 FUNCTION
  QSOP             TQFN
     1                              22                           INT              Active-Low Interrupt Output. INT is an open-drain output.
     2                              23                        RST                 Active-Low Reset Input. Drive RST low to clear the 2-wire interface.
                                                                                  Address Inputs. Select device slave address with AD0 and AD2. Connect AD0 and AD2 to
   3, 21           24, 18                                 AD2, AD0
                                                                                  either GND, V+, SCL, or SDA to give four logic combinations (see Tables 2 and 3).
   4–11                       1–8                             I0–I7               Input Ports. I0 to I7 are CMOS-logic inputs.
    12                                    9                   GND                 Ground
  13–20            10–17                                    08–015                Output Ports. O8–O15 are push-pull outputs rated at 20mA.
    22                              19                        SCL                 I2C-Compatible Serial Clock Input
    23                              20                        SDA                 I2C-Compatible Serial Data I/O
    24                              21                           V+               Positive Supply Voltage. Bypass V+ to GND with a ceramic capacitor of at least 0.047µF.
    —                            EP                              EP               Exposed Paddle. Connect exposed pad to GND.
www.maximintegrated.com                                                                                                                                                                    Maxim Integrated │ 4


MAX7324                                                                             I2C Port Expander with
                                                       Eight Push-Pull Outputs and Eight Inputs
Detailed Description                                     The MAX7324 is set to two of 32 I2C slave addresses
                                                         (see Tables 2 and 3) using address select inputs AD0
MAX7324–MAX7327 Family Comparison                        and AD2, and is accessed over an I2C serial interface
The MAX7324–MAX7327 family consists of four              up to 400kHz. The eight outputs and eight inputs have
pin-compatible, 16-port expanders that integrate the     different slave addresses. The eight push-pull outputs
function of the MAX7320 and one of either the MAX7319,   have the 101xxxx addresses and the eight inputs have
MAX7321, MAX7322, or MAX7323.                            the addresses with 110xxxx. The RST input clears the
Functional Overview                                      serial interface in case of a bus lockup, terminating any
                                                         serial transaction to or from the MAX7324.
The MAX7324 is a general-purpose port expander
operating from a +1.71V to +5.5V supply with eight       The input ports offer latching transition detection
push-pull outputs and eight CMOS input ports that are    feature. All input ports are continuously monitored for
overvoltage protected to +6V.                            changes. An input change sets 1 of 8 flag bits that
                                                         identify the changed input(s). All flags are cleared upon
                                                         a subsequent read or write transaction to the MAX7324.
Table 1. MAX7319–MAX7329 Family Comparison
                I2C               INPUT        OPEN-    PUSH-
   PART        SLAVE    INPUTS INTERRUPT       DRAIN    PULL                          CONFIGURATION
             ADDRESS              MASK        OUTPUTS  OUTPUTS
 16-PORT EXPANDERS
                                                                   8 inputs and 8 push-pull outputs version:
                                                                   8 input ports with programmable latching transition
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
                                                                   levels.
 MAX7324                   8       Yes           —         8
                                                                   Offers maximum versatility for automatic input
                                                                   monitoring. An interrupt mask selects which inputs
                                                                   cause an interrupt on transitions, and transition flags
                                                                   identify which inputs have changed (even if only for
                                                                   a transient) since the ports were last read.
              101xxxx
                                                                   8 I/O and 8 push-pull outputs version:
                And
                                                                   8 open-drain I/O ports with latching transition
              110xxxx
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
                                                                   levels
                                                                   Open-drain outputs can level shift the logic-high
 MAX7325                 Up to 8    —          Up to 8     8       state to a higher or lower voltage than V+ using
                                                                   external pullup resistors, but pullups draw current
                                                                   when output is low. Any open-drain port can be used
                                                                   as an input by setting the open-drain output to logic-
                                                                   high. Transition flags identify which open-drain port
                                                                   inputs have changed (even if only for a transient)
                                                                   since the ports were last read.
www.maximintegrated.com                                                                                Maxim Integrated │ 5


MAX7324                                                                    I2C Port Expander with
                                                  Eight Push-Pull Outputs and Eight Inputs
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                I2C               INPUT   OPEN-    PUSH-
   PART      SLAVE      INPUTS INTERRUPT  DRAIN    PULL                      CONFIGURATION
            ADDRESS               MASK   OUTPUTS  OUTPUTS
                                                          4 input-only, 12 push-pull output versions:
                                                          4 input ports with programmable latching transition
                                                          detection interrupt and selectable pullups.
                                                          12 push-pull outputs with selectable default logic
                                                          levels.
 MAX7326                   4       Yes      —        12
                                                          Offers maximum versatility for automatic input
                                                          monitoring. An interrupt mask selects which inputs
                                                          cause an interrupt on transitions, and transition flags
                                                          identify which inputs have changed (even if only for
                                                          a transient) since the ports were last read.
             101xxxx                                      4 I/O, 12 push-pull output versions:
               and
             110xxxx                                      4 open-drain I/O ports with latching transition
                                                          detection interrupt and selectable pullups.
                                                          12 push-pull outputs with selectable default logic
                                                          levels.
                                                          Open-drain outputs can level shift the logic-high
 MAX7327                 Up to 4    —     Up to 4    12   State to a higher or lower voltage than V+ using
                                                          External pullup resistors, but pullups draw current
                                                          when output is low. Any open-drain port can be used
                                                          as an input by setting the open-drain output to logic-
                                                          high. Transition flags identify which open-drain port
                                                          inputs have changed (even if only for a transient)
                                                          since the ports were last read.
 8-PORT EXPANDERS
                                                          Input-only versions:
 MAX7319     110xxxx       8       Yes      —        —    8 input ports with programmable latching transition
                                                          detection interrupt and selectable pullups.
                                                          Output-only versions:
 MAX7320     101xxxx       —        —       —         8   8 push-pull outputs with selectable power-up default
                                                          levels.
                                                          I/O versions:
 MAX7321     110xxxx     Up to 8    —     Up to 8    —    8 open-drain I/O ports with latching transition
                                                          detection interrupt and selectable pullups.
                                                          4 input-only, 4 output-only versions:
                                                          4 input ports with programmable latching transition
 MAX7322     110xxxx       4       Yes      —         4   detection interrupt and selectable pullups.
                                                          4 push-pull outputs with selectable power-up default
                                                          levels.
www.maximintegrated.com                                                                       Maxim Integrated │ 6


MAX7324                                                                                  I2C Port Expander with
                                                            Eight Push-Pull Outputs and Eight Inputs
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                 I2C                  INPUT         OPEN-    PUSH-
   PART        SLAVE     INPUTS INTERRUPT           DRAIN    PULL                         CONFIGURATION
             ADDRESS                  MASK        OUTPUTS   OUTPUTS
                                                                        4 I/O, 4 output-only versions:
                                                                        4 open-drain I/O ports with latching transition
 MAX7323      110xxxx     Up to 4       —          Up to 4      4       detection interrupt and selectable pullups.
                                                                        4 push-pull outputs with selectable power-up default
                                                                        levels.
                                                                        PCF8574-, PCF8574A-compatible versions:
 MAX7328      0100xxx
                          Up to 8       —          Up to 8      —       8 open-drain I/O ports with nonlatching transition
 MAX7329      0111xxx
                                                                        detection interrupt and pullups on all ports.
A latching interrupt output, INT, is programmed to flag       Standby Mode
input data changes on input ports through an interrupt        When the serial interface is idle, the MAX7324
mask register. By default, data changes on any input port     automatically enters standby mode, drawing minimal
force INT to a logic-low. The interrupt output INT and all    supply current.
transition flags are cleared when the MAX7324 is next
accessed through the serial interface.                        Slave Address, Power-Up Default Logic
Internal pullup resistors to V+ are selected by the address
                                                              Levels, and Input Pullup Selection
select inputs, AD0 and AD2. Pullups are enabled on the        Address inputs AD0 and AD2 determine the MAX7324
input ports in groups of four (see Table 2).                  slave address and select which inputs have pullup
                                                              resistors. Pullups are enabled on the input ports in groups
Initial Power-Up                                              of four (see Table 2).
On power-up, the transition detection logic is reset, and     The MAX7324 slave address is determined on each I2C
INT is deasserted. The interrupt mask register is set         transmission, regardless of whether the transmission
to 0xFF, enabling the interrupt output for transitions on     is actually addressing the MAX7324. The MAX7324
all eight input ports. The transition flags are cleared to    distinguishes whether address inputs AD0 and AD2 are
indicate no data changes. The power-up default states of      connected to SDA or SCL instead of fixed logic levels
the eight push-pull outputs are set according to the I2C      V+ or GND during this transmission. This means that the
slave address selection inputs, AD0 and AD1 (see Table 3).    MAX7324 slave address can be configured dynamically in
Power-On Reset                                                the application without cycling the device supply.
The MAX7324 contains an integral power-on-reset               On initial power-up, the MAX7324 cannot decode
(POR) circuit that ensures all registers are reset to a       the address inputs AD0 and AD2 fully until the first
known state on power-up. When V+ rises above VPOR             I2C transmission. AD0 and AD2 initially appear to be
(1.6V max), the POR circuit releases the registers and        connected to V+ or GND. This is important because the
2-wire interface for normal operation. When V+ drops          address selection determines which inputs have pullups
below VPOR, the MAX7324 resets all register contents          applied. However, at power-up, the I2C SDA and SCL bus
to the POR defaults (Tables 2 and 3).                         interface lines are high impedance at the inputs of every
                                                              device (master or slave) connected to the bus, includ-
RST Input                                                     ing the MAX7324. This is guaranteed as part of the I2C
The RST input voids any I2C transaction involving the         specification. Therefore, address inputs AD0 and AD2 that
MAX7324, forcing the MAX7324 into the I2C STOP                are connected to SDA or SCL during power-up appear to
condition. A reset does not affect the interrupt output       be connected to V+. The pullup selection logic uses AD0
(INT).                                                        to select whether pullups are enabled for ports I0–I3,
www.maximintegrated.com                                                                                    Maxim Integrated │ 7


MAX7324                                                                                I2C Port Expander with
                                                            Eight Push-Pull Outputs and Eight Inputs
Table 2. MAX7324 Address Map for Inputs I0–I7
  PIN CONNECTION                    DEVICE ADDRESS                             40kW INPUT PULLUP ENABLED
    AD2         AD0      A6    A5     A4   A3     A2    A1   A0      I7     I6     I5    I4       I3     I2     I1      I0
    SCL        GND        1     1      0    0      0     0    0      Y      Y      Y      Y       —      —      —       —
    SCL          V+       1     1      0    0      0     0    1      Y      Y      Y      Y       Y      Y      Y       Y
    SCL         SCL       1     1      0    0      0     1    0      Y      Y      Y      Y       Y      Y      Y       Y
    SCL         SDA       1     1      0    0      0     1    1      Y      Y      Y      Y       Y      Y      Y       Y
    SDA        GND        1     1      0    0      1     0    0      Y      Y      Y      Y       —      —      —       —
    SDA          V+       1     1      0    0      1     0    1      Y      Y      Y      Y       Y      Y      Y       Y
    SDA         SCL       1     1      0    0      1     1    0      Y      Y      Y      Y       Y      Y      Y       Y
    SDA         SDA       1     1      0    0      1     1    1      Y      Y      Y      Y       Y      Y      Y       Y
   GND         GND        1     1      0    1      0     0    0      —      —      —     —        —      —      —       —
   GND           V+       1     1      0    1      0     0    1      —      —      —     —        Y      Y      Y       Y
   GND          SCL       1     1      0    1      0     1    0      —      —      —     —        Y      Y      Y       Y
   GND          SDA       1     1      0    1      0     1    1      —      —      —     —        Y      Y      Y       Y
     V+        GND        1     1      0    1      1     0    0      Y      Y      Y      Y       —      —      —       —
     V+          V+       1     1      0    1      1     0    1      Y      Y      Y      Y       Y      Y      Y       Y
     V+         SCL       1     1      0    1      1     1    0      Y      Y      Y      Y       Y      Y      Y       Y
     V+         SDA       1     1      0    1      1     1    1      Y      Y      Y      Y       Y      Y      Y       Y
and uses AD2 to select whether pullups are enabled for         Port Inputs
ports I4–I7. The rule is that a logic-high SDA, or SCL         Port inputs switch at CMOS logic levels as determined
connection selects the pullups, while a logic-low deselects    by the expander's supply voltage, and are overvoltage
the pullups (Table 2). The pullup configuration is correct     tolerant to +6V, independent of the device's supply
on power-up for a standard I2C configuration, where SDA        voltage.
and SCL are pulled up to V+ by the external I2C pullups.
There are circumstances where the assumption that              Port-Input Transition Detection
SDA = SCL = V+ on power-up is not true—for example,            All eight input ports are monitored for changes since
in applications in which there is legitimate bus activity      the expander was last accessed through the serial
during power-up. Also, if SDA and SCL are terminat-            interface. The state of the input ports is stored in an
ed with pullup resistors to a different supply voltage         internal “snapshot” register for transition monitoring. The
than the MAX7324's supply voltage, and if that pullup          snapshot is continuously compared with the actual input
supply rises later than the MAX7324's supply, then             conditions, and if a change is detected for any port input,
SDA or SCL may appear at power-up to be connect-               then an internal transition flag is set for that port. The
ed to GND. In such applications, use the four address          eight port inputs are sampled (internally latched into the
combinations that are selected by connecting address           snapshot register) and the old transition flags cleared
inputs AD0 and AD2 to V+ or GND (shown in bold in Tables 2     during the I2C acknowledge of every MAX7324 read
and 3).These selections are guaranteed to be correct           and write access. The previous port transition flags are
at power-up, independent of SDA and SCL behavior. If           read through the serial interface as the second byte of a
one of the other 12 address combinations is used, an           2-byte read sequence.
unexpected combination of pullups might be asserted            A long read sequence (more than 2 bytes) can be used
until the first I2C transmission (to any device, not neces-    to poll the expander continuously without the overhead
sarily the MAX7324) is put on the bus.                         of resending the slave address. If more than 2 bytes are
                                                               read from the expander, the expander repeatedly returns
www.maximintegrated.com                                                                                 Maxim Integrated │ 8


MAX7324                                                                               I2C Port Expander with
                                                           Eight Push-Pull Outputs and Eight Inputs
Table 3. MAX7324 Address Map for Outputs O8–O15
  PIN CONNECTION                DEVICE ADDRESS                            OUTPUTS POWER-UP DEFAULT
    AD2       AD0      A6   A5   A4    A3    A2   A1    A0  O15     O14     O13     O12     O11    O10     O9       O8
    SCL       GND       1    0    1     0     0    0     0   1        1      1        1      0      0       0        0
    SCL        V+       1    0    1     0     0    0     1   1        1      1        1      1      1       1        1
    SCL       SCL       1    0    1     0     0    1     0   1        1      1        1      1      1       1        1
    SCL       SDA       1    0    1     0     0    1     1   1        1      1        1      1      1       1        1
    SDA       GND       1    0    1     0     1    0     0   1        1      1        1      0      0       0        0
    SDA        V+       1    0    1     0     1    0     1   1        1      1        1      1      1       1        1
    SDA       SCL       1    0    1     0     1    1     0   1        1      1        1      1      1       1        1
    SDA       SDA       1    0    1     0     1    1     1   1        1      1        1      1      1       1        1
    GND       GND       1    0    1     1     0    0     0   0        0      0        0      0      0       0        0
    GND        V+       1    0    1     1     0    0     1   0        0      0        0      1      1       1        1
    GND       SCL       1    0    1     1     0    1     0   0        0      0        0      1      1       1        1
    GND       SDA       1    0    1     1     0    1     1   0        0      0        0      1      1       1        1
     V+       GND       1    0    1     1     1    0     0   1        1      1        1      0      0       0        0
     V+        V+       1    0    1     1     1    0     1   1        1      1        1      1      1       1        1
     V+       SCL       1    0    1     1     1    1     0   1        1      1        1      1      1       1        1
     V+       SDA       1    0    1     1     1    1     1   1        1      1        1      1      1       1        1
the 2 bytes of input port data followed by the transition    yet data changes are detected and reported no matter
flags. The inputs are repeatedly resampled and the           when the change occurs.
transition flags repeatedly reset for each pair of bytes
read. All changes that occur during a long read sequence     Transition-Detection Masks
are detected and reported.                                   The transition detection logic incorporates a transition
                                                             flag and an interrupt mask bit for each input port. The
The MAX7324 includes an 8-bit interrupt mask register
                                                             eight transition flags can be read through the serial
that selects which inputs generate an interrupt upon
                                                             interface, and the 8-bit interrupt mask is set through the
change. Each input's transition flag is set when its input
                                                             serial interface.
changes, independent of the interrupt mask register
settings. The interrupt mask register allows the             Each port's transition flag is set when that port's input
processor to be interrupted for critical events, while the   changes, and the change flag remains set even if the
inputs and the transition flags can be polled periodically   input returns to its original state. The port's interrupt
to detect less critical events.                              mask determines whether a change on that input port
                                                             generates an interrupt. Enable interrupts for high-priority
The INT output is not reasserted during a read
                                                             inputs using the interrupt mask. The interrupt allows the
sequence to avoid recursive reentry into an interrupt
                                                             system to respond quickly to changes on these inputs.
service routine. Instead, if a data change occurs that
                                                             Poll the MAX7324 periodically to monitor less-important
would normally cause the INT output to be set, the INT
                                                             inputs. The transition flags indicate whether a permanent
assertion is delayed until the STOP condition. INT is not
                                                             or transient change has occurred on any input since the
reasserted upon a STOP condition if the changed input
                                                             MAX7324 was last accessed.
data is read before the STOP occurs. The INT logic
ensures that unnecessary interrupts are not asserted,
www.maximintegrated.com                                                                              Maxim Integrated │ 9


MAX7324                                                                                                          I2C Port Expander with
                                                                           Eight Push-Pull Outputs and Eight Inputs
Serial Interface                                                             Each transmission consists of a START condition sent by
                                                                             a master, followed by the MAX7324's 7-bit slave address
Serial Addressing
                                                                             plus R/W bit, 1 or more data bytes, and finally a STOP
The MAX7324 operates as a slave that sends and                               condition (Figure 2).
receives data through an I2C interface. The interface uses
a serial-data line (SDA) and a serial-clock line (SCL) to                    Start and Stop Conditions
achieve bidirectional communication between master(s)                        Both SCL and SDA remain high when the interface is not
and slave(s). The master initiates all data transfers to                     busy. A master signals the beginning of a transmission
and from the MAX7324 and generates the SCL clock that                        with a START (S) condition by transitioning SDA from high
synchronizes the data transfer (Figure 1).                                   to low while SCL is high. When the master has finished
SDA operates as both an input and an open-drain output.                      communicating with the slave, the master issues a STOP
A pullup resistor, typically 4.7kΩ, is required on SDA.                      (P) condition by transitioning SDA from low to high while
SCL operates only as an input. A pullup resistor, typically                  SCL is high. The bus is then free for another transmission
4.7kΩ, is required on SCL if there are multiple masters                      (Figure 2).
on the 2-wire interface, or if the master in a single-master                 Bit Transfer
system has an open-drain SCL output.
                                                                             One data bit is transferred during each clock pulse.
                                                                             The data on SDA must remain stable while SCL is high
                                                                             (Figure 3).
                 SDA
                                                                     tSU,STA                                                  tBUF
                                               tSU,DAT                                tHD,STA
                                       tLOW
                                                          tHD,DAT                                            tSU,STO
                  SCL                           tHIGH
                    tHD,STA
                                            tR         tF
                       START CONDITION                              REPEATED START CONDITION                             STOP        START
                                                                                                                      CONDITION    CONDITION
Figure 1. 2-Wire Serial-Interface Timing Details
                                                                                     SDA
     SDA
     SCL                                                                             SCL
           S                                                   P
         START                                               STOP
       CONDITION                                          CONDITION                           DATA LINE STABLE; CHANGE OF DATA
                                                                                                 DATA VALID          ALLOWED
Figure 2. Start and Stop Conditions                                          Figure 3. Bit Transfer
www.maximintegrated.com                                                                                                               Maxim Integrated │ 10


MAX7324                                                                                 I2C Port Expander with
                                                            Eight Push-Pull Outputs and Eight Inputs
Acknowledge                                                    The first (A6), second (A5), and third (A4) bits of the
The acknowledge bit is a clocked 9th bit the                   MAX7324 slave address are always 1, 1, and 0 (I0–I7)
recipient uses to acknowledge receipt of each byte of data     or 1, 0, and 1 (O8–O15). Connect AD0 and AD2 to
(Figure 4). Each byte transferred effectively requires         GND, V+, SDA, or SCL to select the slave address bits
9 bits. The master generates the 9th clock pulse, and          A3, A2, A1, and A0. The MAX7324 has 16 possible
the recipient pulls down SDA during the acknowledge            slave address pairs (Tables 2 and 3), allowing up to 16
clock pulse, such that the SDA line is stable low during       MAX7324 devices on an I2C bus.
the high period of the clock pulse. When the master            Accessing the MAX7324
is transmitting to the MAX7324, the MAX7324 gener-
                                                               The MAX7324 is accessed though an I2C interface. The
ates the acknowledge bit because the MAX7324 is the
                                                               MAX7324 provides two different 7-bit slave addresses for
recipient. When the MAX7324 is transmitting to the
                                                               either the eight input ports (I0–I7) or the eight push-pull
master, the master generates the acknowledge bit
                                                               ports (O8–O15). See Tables 2 and 3.
because the master is the recipient. The master does not
generate an acknowledge prior to issuing a stop condi-         A single-byte read from the input ports of the MAX7324
tion.                                                          returns the status of the eight ports and clears both the
                                                               internal transition flags and the INT output. A single-byte
Slave Address                                                  read from the output ports of the MAX7324 returns the
The MAX7324 has two different 7-bit slave addresses            status of the eight output ports, read back as inputs.
(Tables 2 and 3). The addresses are different for commu-       A 2-byte read from the input ports of the MAX7324
nicating to either the eight push-pull outputs or the eight    returns the status of the eight ports (as for a single-byte
inputs. The eighth bit following the 7-bit slave address is    read), followed by the transition flags. The internal
the R/W bit. It is low for a write command and high for a      transition flags and the INT output are cleared when the
read command.                                                  MAX7324 acknowledges the slave address byte, but the
                                          CLOCK PULSE
                                                               previous transition flag data is sent as the second byte. A
               START
             CONDITION           FOR ACKNOWLEDGEMENT           2-byte read from the output ports of the MAX7324 repeat-
           SCL          1      2               8      9
                                                               edly returns the status of the eight output ports, read back
                                                               as inputs.
        SDA BY
   TRANSMITTER                                                 A multibyte read (more than 2 bytes before the I2C
        SDA BY                                                 STOP bit) from the input ports of the MAX7324 repeatedly
      RECEIVER   S                                             returns the port data, alternating with the transition flags.
                                                               As the input data is resampled for each transmission, and
Figure 4. Acknowledge                                          the transition flags are reset each time, a multibyte read
                                                               continuously returns the current data and identifies any
                                                               changing input ports.
                 SDA    1         A5           A4       A3  A2          A1        A0        R/W       ACK
                       MSB                                                       LSB
                 SCL
Figure 5. Slave Address
www.maximintegrated.com                                                                                Maxim Integrated │ 11


MAX7324                                                                                                              I2C Port Expander with
                                                                         Eight Push-Pull Outputs and Eight Inputs
If a port input data change occurs during the read                             Reading from the MAX7324
sequence, INT is reasserted during the I2C STOP bit. The                       A read from the input ports of the MAX7324 starts
MAX7324 does not generate another interrupt during a                           with the master transmitting the input ports' slave
single-byte or multibyte read.                                                 address with the R/W bit set to high. The MAX7324
Input-port data is sampled during the preceding I2C                            acknowledges the slave address and samples the ports
acknowledge bit (the acknowledge bit for the I2C slave                         during the acknowledge bit. INT deasserts during the
address in the case of a single-byte or 2-byte read).                          slave address acknowledge.
A multibyte read (more than 2 bytes before the I2C STOP                        Typically, the master reads 1 or 2 bytes from the
bit) from the output ports of the MAX7324 repeatedly                           MAX7324 with each byte being acknowledged by the
returns the status of the eight output ports, read back as                     master upon reception with the exception of the last
inputs.                                                                        byte.
A single-byte write to the input ports of the MAX7324                          When the master reads one byte from the open-drain
sets the interrupt mask register and clears both the                           ports of the MAX7324 and subsequently issues a STOP
internal transition flags and INT output.                                      condition (Figure 6), the MAX7324 transmits the cur-
A single-byte write to the output ports of the MAX7324                         rent port data, clears the transition flags, and resets the
sets the logic state of all eight ports.                                       transition detection. INT deasserts during the slave
                                                                               acknowledge. The new snapshot data is the current
A multibyte write to the input ports of the MAX7324                            port data transmitted to the master, and therefore, port
sets the interrupt mask register repeatedly.                                   changes occuring during the transmission are detected.
A multibyte write to the output ports of the MAX7324                           INT remains high until the STOP condition.
repeatedly sets the logic state of all eight ports.
                                                              ACKNOWLEDGE                                                         ACKNOWLEDGE
                                                               FROM MAX7324       I7   I6     I5     I4    I3   I2   I1    I0     FROM MASTER
                                S        MAX7324 SLAVE ADDRESS        1     A      D7    D6     D5    D4    D3    D2   D1   D0     A    P
                                                                R/W               PORT SNAPSHOT                PORT SNAPSHOT
                               SCL
                                                                               tPH
                          PORTS
                      tIV                                                     tIR                                             tPS        tIP
                          INT OUTPUT                                                    INT REMAINS HIGH UNTIL STOP CONDITION
                                                                                                S = START CONDITION       A = ACKNOWLEDGE
                                                                                                P = STOP CONDITION
Figure 6. Reading Input Ports of the MAX7324 (1 Data Byte)
www.maximintegrated.com                                                                                                                     Maxim Integrated │ 12


MAX7324                                                                                                                               I2C Port Expander with
                                                                                        Eight Push-Pull Outputs and Eight Inputs
When the master reads 2 bytes from the output ports of                                       one or more bytes from the output ports of the
the MAX7324 and subsequently issues a STOP condi-                                            MAX7324, and then issues a STOP condition (Figure 8).
tion (Figure 7), the MAX7324 transmits the current port                                      The MAX7324 transmits the current port data, read
data, followed by the transition flags. The transition flags                                 back from the actual port outputs (not the port output
are then cleared, and transition detection is reset. INT                                     latches) during the acknowledge. If a port is forced
deasserts during the slave acknowledge. The new                                              to a logic state other than its programmed state, the
snapshot data is the current port data transmitted to the                                    readback reflects this. If driving a capacitive load, the
master, and therefore, port transitions occuring during                                      readback port level verification algorithms may need to
the transmission are detected. INT remains high until the                                    take the RC rise/fall time into account.
STOP condition. When the master reads more than 2 data                                       Typically, the master reads one byte from the ouput
bytes, the input port data alternates with the transition                                    ports of the MAX7324, then issues a STOP condition
flag.                                                                                        (Figure 8). However, the master can read two or more
A read from the output ports of the MAX7324 starts with                                      bytes from the output ports of the MAX7324, and then
the master transmitting the ports' slave address with                                        issues a STOP condition. In this case, the MAX7324
the R/W bit set high. The MAX7324 acknowledges the                                           resamples the port outputs during each acknowledge
slave address and samples the logic state of the output                                      and transmits the new data each time.
ports during the acknowledge bit. The master can read
                                                ACKNOWLEDGE
                                                 FROM MAX7324     I7   I6   I5   I4    I3    I2    I1   I0         F7   F6   F5    F4  F3   F2   F1 F0      FLAG
                                                                                                                                                           ACKNOWLEDGE
                                                                                                                                                           FROM MASTER
                      S      MAX7324 SLAVE ADDRESS      1   A      D7    D6   D5   D4    D3    D2    D1 D0      A  D7 D6     D5    D4  D3   D2   D1 D0   A   P
                                                   R/W           PORT SNAPSHOT           PORT SNAPSHOT                                    PORT SNAPSHOT
                    SCL
                                                               tPH
                PORTS
            tIV                                                                                            tPS                                              tIP
                 INT OUTPUT                                  tIR
                                                                      INT REMAINS HIGH UNTIL STOP CONDITION
                                                                                                S = START CONDITION          A = ACKNOWLEDGE
                                                                                                P = STOP CONDITION
Figure 7. Reading Input Ports of the MAX7324 (2 Data Bytes)
                                                    PORT SNAPSHOT DATA             P7     P6     P5    P4      P3   P2    P1     P0
                                                                                                         DATA 1
                                           ACKNOWLEDGE FROM MAX7324
                          S            MAX7324 SLAVE ADDRESS            1     A     D7     D6     D5    D4      D3   D2    D1     D0    A      P
                                                                R/W               PORT SNAPSHOT TAKENPORT SNAPSHOT TAKEN                      ACKNOWLEDGE
                                                                                                                                              FROM MASTER
                         SCL
Figure 8. Reading Output Ports of the MAX7324
www.maximintegrated.com                                                                                                                                  Maxim Integrated │ 13


MAX7324                                                                                                                     I2C Port Expander with
                                                                                       Eight Push-Pull Outputs and Eight Inputs
Writing to the MAX7324                                                                      A write to the output ports of the MAX7324 starts with the
A write to the input ports of the MAX7324 starts with the                                   master transmitting the group's slave address with the
master transmitting the group's slave address with the                                      R/W bit set low. The MAX7324 acknowledges the slave
R/W bit set low. The MAX7324 acknowledges the slave                                         address and samples the ports during the acknowledge
address and samples the ports during the acknowledge                                        bit. The master can now transmit one or more bytes of
bit. INT deasserts during the slave acknowledge. The                                        data. The MAX7324 acknowledges these subsequent
master can now transmit one or more bytes of data. The                                      bytes of data and updates the corresponding group's
MAX7324 acknowledges these subsequent bytes of data                                         ports with each new byte until the master issues a STOP
and updates the interrupt mask register with each new                                       condition (Figure 10).
byte until the master issues a STOP condition (Figure 9).
                         SCL        1   2    3   4   5   6   7    8
                                          SLAVE ADDRESS                     DATA TO INTERRUPT MASK                        DATA TO INTERRUPT MASK
                        SDA     S                                 0    A               DATA 1            A              DATA 2              A
                              START CONDITION                    R/W
                                                                                                   tPV                                tPV
Figure 9. Writing to the Input Ports of the MAX7324
                       SCL        1   2    3   4   5   6   7    8
                                        SLAVE ADDRESS                           DATA TO PORT                      DATA TO PORT
                       SDA    S                                 0    A                DATA 1           A               DATA 2             A
                            START CONDITION                    R/W ACKNOWLEDGE                         ACKNOWLEDGE                        ACKNOWLEDGE
                                                                     FROM SLAVE                        FROM SLAVE                         FROM SLAVE
                     WRITE
                   TO PORT
                  DATA OUT
                                                                                                                     DATA 1 VALID             DATA 2 VALID
                FROM PORT
                                                                                                 tPV                                tPV
Figure 10. Writing to the Output Ports of the MAX7324
www.maximintegrated.com                                                                                                                           Maxim Integrated │ 14


MAX7324                                                                               I2C Port Expander with
                                                           Eight Push-Pull Outputs and Eight Inputs
Applications Information                                     Each of the eight output ports has protection diodes to
                                                             V+ and GND. When a port output is driven to a voltage
Port Input and I2C Interface Level Translation               higher than V+ or lower than GND, the appropriate
from Higher or Lower                                         protection diode clamps the output to a diode drop
Logic Voltages                                               above V+ or below GND. When the MAX7324 is
SDA, SCL, AD0, AD2, RST, INT, and I0–I7 are                  powered down (V+ = 0), every output port’s protection
overvoltage protected to +6V. This allows the MAX7324 to     diodes to V+ and GND continue to appear as a diode
operate from a lower supply voltage, such as +3.3V, while    clamp from each output to GND (Figure 11).
the I2C interface and/or any of the eight input ports are
                                                             Each of the input ports I0–I7 has a protection diode to
driven from a higher logic level, such as +5V.
                                                             GND (Figure 12). When a port input is driven to a voltage
The MAX7324 can operate from a higher supply                 lower than GND, the protection diode clamps the voltage
voltage, such as +3V, while the I2C interface and/or         to a diode drop below GND.
some of the input ports I0–I7 are driven from a lower
                                                             Each of the eight input ports I0–I7 also has a 40kΩ (typ)
logic level, such as +2.5V. For V+ < 1.8V, apply a
                                                             pullup resistor that can be enabled or disabled. When a
minimum voltage of 0.8 x V+ to assert a logic-high on
                                                             port input is driven to a voltage higher than V+, the
any input. For V+ ≥ 1.8V, apply a voltage of 0.7 x V+ to
                                                             body diode of the pullup enable switch conducts
assert a logic-high. For example, a MAX7324 operating
                                                             and the 40kΩ pullup resistor is enabled. When the
from a +5V supply may not recognize a +3.3V nominal
                                                             MAX7324 is powered down (V+ = 0), every input port
logic high. One solution for input level translation is to
                                                             appears as a 40kΩ resistor in series with a diode
drive the MAX7324 inputs from open-drain outputs.
                                                             connected to ground. Input ports are protected to +6V
Use a pullup resistor to V+ or a higher supply to ensure
                                                             under any of these circumstances.
a high logic voltage greater than 0.7 x V+.
                                                             Driving LED Loads
Port Output Signal Level Translation
                                                             When driving LEDs from one of the eight output ports,
RST, SCL, SDA, AD0, and AD2 remain high impedance
                                                             O8–O15, a resistor must be fitted in series with the LED to
with up to +6V asserted on them when the MAX7324 is
                                                             limit the LED current to no more than 20mA. Connect the
powered down (V+ = 0). The MAX7324 can therefore be
                                                             LED cathode to the MAX7324 port, and the LED anode
used in hot-swap applications.
                                                             to V+ through the series current-limiting resistor, RLED.
                                                                                 V+  V+
                            V+  V+
               MAX7324                                                                       MAX7324
                                                                         PULLUP
                                                                        ENABLE
                                          O8–O15                                          40kΩ
                                                                                                             I0–I7
                                                                        INPUT
            OUTPUT
                           GND   GND
Figure 11. MAX7324 Output Port Structure                     Figure 12. MAX7324 Input Port Structure
www.maximintegrated.com                                                                              Maxim Integrated │ 15


MAX7324                                                                            I2C Port Expander with
                                                          Eight Push-Pull Outputs and Eight Inputs
Set the port output low to light the LED. Choose the        Driving Load Currents Higher than 20mA
resistor value according to the following formula:          The MAX7324 can be used to drive loads such as relays
         RLED = (VSUPPLY - VLED - VOL) / ILED               that draw more than 20mA by paralleling outputs. Use at
where:                                                      least one output per 20mA of load current; for example,
                                                            a 5V 330mW relay draws 66mA, and therefore, requires
RLED is the resistance of the resistor in series with the   four paralleled outputs. Any combination of outputs can
LED (Ω).                                                    be used as part of a load-sharing design because any
VSUPPLY is the supply voltage used to drive the LED         combination of ports can be set or cleared at the same
(V).                                                        time by writing to the MAX7324. Do not exceed a total
VLED is the forward voltage of the LED (V).                 sink current of 100mA for the device.
VOL is the output low voltage of the MAX7324 when           Protect the MAX7324 from the negative voltage transient
sinking ILED (V).                                           generated when switching off inductive loads (such as
                                                            relays) by connecting a reverse-biased diode across the
ILED is the desired operating current of the LED (A).       inductive load. Choose the peak current for the diode to
For example, to operate a 2.2V red LED at 10mA from         be greater than the inductive load’s operating current.
+5V supply:
                                                            Power-Supply Considerations
           RLED = (5 - 2.2 - 0.1) / 0.01 = 270Ω
                                                            The MAX7324 operates with a supply voltage of +1.71V
                                                            to +5.5V over the -40°C to +125°C temperature range.
                                                            Bypass the supply to GND with a ceramic capacitor of
                                                            at least 0.047µF as close as possible to the device. For
                                                            the TQFN version, additionally connect the exposed pad
                                                            to GND.
www.maximintegrated.com                                                                           Maxim Integrated │ 16


MAX7324                                                                                    I2C Port Expander with
                                                           Eight Push-Pull Outputs and Eight Inputs
Functional Diagram                                           Typical Application Circuit
                                                                                            3.3V
                                                                       µC                    V+
                                                       O15
     AD0                                               O14               SCL        SCL
                                                       O13
     AD2                                               O12               SDA        SDA
                                                       O11               RST        RST           O15
                                                       O10
                                                       O9                                         O14
     SCL          INPUT          I2C           I/O     O8                 INT       INT           013
                  FILTER      CONTROL         PORTS    I7
     SDA                                               I6                                MAX7324  012
                                                       I5                                         O11             OUTPUT
                                                       I4                                         O10             OUTPUT
                                                       I3
                                                       I2                                          09             OUTPUT
                                                       I1                                          08
                                                       I0                                                         OUTPUT
                                                                                                    I7             INPUT
                                                       INT                                          I6             INPUT
                                                                                                    I5             INPUT
     RST         POWER-
                ON RESET                             N                                              I4             INPUT
                                                                                                   I3              INPUT
                                  MAX7324                                                           I2
                                                                                    AD0                            INPUT
                                                                                    AD2            I1               INPUT
                                                                                                   I0               INPUT
                                                                                           GND
Pin Configurations (continued)                               Chip Information
                                                             PROCESS: BiCMOS
            TOP VIEW
                                    +
                          INT 1                 24 V+
                                                             Package Information
                         RST 2                  23 SDA
                                                             For the latest package outline information and land patterns
                         AD2 3                  22 SCL
                                      MAX7324                (footprints), go to www.maximintegrated.com/packages. Note
                            I0 4                21 AD0       that a “+”, “#”, or “-” in the package code indicates RoHS status
                            I1 5                20 015       only. Package drawings may show a different suffix character, but
                            I2 6                19 014       the drawing pertains to the package regardless of RoHS status.
                            I3 7                18 013
                            I4 8                17 012
                                                                PACKAGE          PACKAGE         OUTLINE     LAND PATTERN
                                                                   TYPE             CODE           NO.              NO.
                            I5 9                16 011
                            I6 10               15 010           16 QSOP            E24+1        21-0055         90-0172
                            I7 11               14 O9          16 TQFN-EP          T2444+3       21-0139         90-0022
                         GND 12                 13 O8
                                       QSOP
www.maximintegrated.com                                                                                  Maxim Integrated │ 17


MAX7324                                                                                                                I2C Port Expander with
                                                                                  Eight Push-Pull Outputs and Eight Inputs
Revision History
   REVISION             REVISION                                                                                                                    PAGES
                                                                               DESCRIPTION
   NUMBER                 DATE                                                                                                                   CHANGED
         0                10/06          Initial release                                                                                                —
                                         No /V OPNs; removed automotive reference from Applications section;
         1                 5/14                                                                                                                         1
                                         updated Packaging Information
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                 © 2014 Maxim Integrated Products, Inc. │ 18


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7324AEG+ MAX7324AEG+T MAX7324ATG+ MAX7324ATG+T
