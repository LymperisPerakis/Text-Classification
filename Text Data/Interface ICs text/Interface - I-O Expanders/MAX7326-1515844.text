                                                                                                                  EVALUATION KIT AVAILABLE
MAX7326                                                                                       I2C Port Expander with
                                                                                    12 Push-Pull Outputs and 4 Inputs
General Description                                                              Features
The MAX7326 2-wire serial-interfaced peripheral features                         ●● 400kHz I2C Serial Interface
16 I/O ports. The ports are divided into 12 push-pull out-                       ●● +1.71V to +5.5V Operating Voltage
puts and four input ports with selectable internal pullups.
Input ports are overvoltage protected to +6V and feature                         ●● 12 Push-Pull Outputs Rated at 20mA Sink Current
transition detection with interrupt output.                                      ●● 4 Input Ports with Matchable Latching Transition
The four input ports are continuously monitored for state                           Detection
changes (transition detection). The interrupt is latched,                        ●● Input Ports are Overvoltage Protected to +6V
allowing detection of transient changes. Any combina-
tion of inputs can be selected using the interrupt mask                          ●● Transient Changes are Latched, Allowing Detection
to assert the open-drain, +6V-tolerant INT output. When                             Between Read Operations
the MAX7326 is subsequently accessed through the                                 ●● INT Output Alerts Change on Any Selection of Inputs
serial interface, any pending interrupt is cleared. The 12                       ●● AD0 and AD2 Inputs Select from 16 Slave Addresses
push-pull outputs are rated to sink 20mA and are capable
of driving LEDs. The RST input clears the serial inter-                          ●● Low 0.6µA Standby Current
ace, terminating any I2C communication to or from the                            ●● -40°C to +125°C Temperature Range
MAX7326.
The MAX7326 uses two address inputs with four-level
logic to allow 16 I2C slave addresses. The slave address                         Ordering Information
also sets the power-up default state for the 12 output
ports and enables or disables internal 40kΩ pullups in                                 PART            TEMP RANGE        PIN-PACKAGE
groups of two input ports.
                                                                                 MAX7326AEG+          -40°C to +125°C    24 QSOP
The MAX7326 is one device in a family of pin-compatible                                                                  24 TQFN-EP*
port expanders with a choice of input ports, open-drain                          MAX7326ATG+          -40°C to +125°C
                                                                                                                         (4mm x 4mm)
I/O ports, and push-pull output ports (see Table 1).
                                                                                 +Denotes a lead(Pb)-free/RoHS-compliant package.
The MAX7326 is available in 24-pin QSOP and TQFN                                 *EP = Exposed pad.
packages and is specified over the -40°C to +125°C
automotive temperature range.
Applications                                                                     Selector Guide
●● Cell Phones                                       ●● Notebooks                                                    OPEN-
●● SAN/NAS                                           ●● Satellite Radio                               INTERRUPT             PUSH-PULL
                                                                                   PART     INPUTS                   DRAIN
●● Servers                                                                                               MASK                OUTPUTS
                                                                                                                    OUTPUTS
Pin Configurations                                                               MAX7324       8         Yes            —           8
               TOP VIEW            AD0   O15   O14   O13   O12   O11
                                                                                 MAX7325    Up to 8       —          Up to 8        8
                                   18    17     16   15    14    13              MAX7326       4         Yes            —           12
                          SCL 19                                       12 O10
                                                                                 MAX7327    Up to 4       —          Up to 4        12
                          SDA 20                                       11 O9
                           V+ 21                                       10 O8
                                               MAX7326
                          INT 22                                       9   GND
                          RST 23                                       8   O7
                          AD2 24                 EXPOSED PAD               O6
                                                                       7
                               + 1       2      3     4    5     6
                                   O0 O1        I2    I3   I4    I5              Typical Application Circuit and Functional Diagram appear
                                   TQFN (4mm x 4mm)                              at end of data sheet.
  Pin Configurations continued at end of data sheet.
19-3804; Rev 1; 5/14


MAX7326                                                                                                                                   I2C Port Expander with
                                                                                                                 12 Push-Pull Outputs and 4 Inputs
Absolute Maximum Ratings
(All voltages referenced to GND.)                                                                     Continuous Power Dissipation (TA = +70°C)
Supply Voltage V+....................................................-0.3V to +6V                         24-Pin QSOP (derate 9.5mW/°C over +70°C)..........761.9mW
SCL, SDA, AD0, AD2, RST, INT, I2–I5....................-0.3V to +6V                                       24-Pin TQFN (derate 20.8mW/°C over +70°C).......1666.7mW
   O0, O1, O6–O15........................................ -0.3V to V+ + 0.3V                          Operating Temperature Range.......................... -40°C to +125°C
   O0, O1, O6–O15 Output Current..................................?25mA                               Junction Temperature.......................................................+150°C
SDA Sink Current............................................................... 10mA                  Storage Temperature Range............................. -65°C to +150°C
INT Sink Current.................................................................10mA                 Lead Temperature (soldering, 10s).................................. +300°C
Total V+ Current..................................................................50mA
Total GND Current ............................................................100mA
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Electrical Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
                   PARAMETER                           SYMBOL                                  CONDITIONS                                    MIN           TYP          MAX         UNITS
 Operating Supply Voltage                                  V+           TA = -40°C to +125°C                                                1.71                         5.50          V
 Power-On-Reset Voltage                                  VPOR           V+ falling                                                                                        1.6          V
 Standby Current (Interface Idle)                         ISTB          SCL and SDA and other digital inputs at V+                                          0.6           1.9         µA
 Supply Current (Interface Running)                         I+          fSCL = 400kHz, other digital inputs at V+                                            23           55          µA
 Input High-Voltage SDA, SCL,                                           V+ < 1.8V                                                         0.8 x V+
                                                           VIH                                                                                                                         V
 AD0, AD2, RST, I2–I5                                                   V+ ≥ 1.8V                                                         0.7 x V+
 Input Low-Voltage SDA, SCL, AD0,                                       V+ < 1.8V                                                                                    0.2 x V+
                                                           VIL                                                                                                                         V
 AD2, RST, I2–I5                                                        V+ ≥ 1.8V                                                                                    0.3 x V+
 Input Leakage Current SDA, SCL,                                        SDA, SCL, AD0, AD2, RST, I2–I5 at V+ or
                                                         IIH, IIL                                                                            -0.2                        +0.2         µA
 AD0, AD2, RST, I2–I5                                                   GND
 Input Capacitance SDA, SCL, AD0,
                                                                                                                                                             10                       pF
 AD2, RST, I2–I5
                                                                                                                      QSOP                                   90          180
                                                                        V+ = +1.71V, ISINK = 5mA
                                                                                                                      TQFN                                   90          230
                                                                                                                      QSOP                                  110          210
                                                                        V+ = +2.5V, ISINK = 10mA
 Output Low-Voltage O0, O1,                                                                                           TQFN                                  110          260
                                                           VOL                                                                                                                        mV
 O6–O15                                                                                                               QSOP                                  130          230
                                                                        V+ = +3.3V, ISINK = 15mA
                                                                                                                      TQFN                                  130          280
                                                                                                                      QSOP                                  140          250
                                                                        V+ = +5V, ISINK = 20mA
                                                                                                                      TQFN                                  140          300
                                                                        V+ = +1.71V, ISOURCE = 2mA                                        V+ - 250      V+ - 30
 Output High-Voltage O0, O1,                                            V+ = +2.5V, ISOURCE = 5mA                                         V+ - 360      V+ - 30
                                                          VOH                                                                                                                         mV
 O6–O15                                                                 V+ = +3.3V, ISOURCE = 5mA                                         V+ - 260      V+ - 30
                                                                        V+ = +5V, ISOURCE = 10mA                                          V+ - 360      V+ - 30
 Output Low-Voltage SDA                                 VOLSDA          ISINK = 6mA                                                                                      250          mV
 Output Low-Voltage INT                                 VOLINT          ISINK = 5mA                                                                         130          250          mV
 Port Input Pullup Resistor                               RPU                                                                                 25             40           55          kW
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 2


MAX7326                                                                                       I2C Port Expander with
                                                                            12 Push-Pull Outputs and 4 Inputs
Port and Interrupt INT Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
            PARAMETER                SYMBOL                        CONDITIONS                    MIN       TYP      MAX      UNITS
 Port Output Data Valid                  tPPV      CL ≤ 100pF                                                         4         µs
 Port Input Setup Time                  tPSU       CL ≤ 100pF                                     0                             µs
 Port Input Hold Time                     tPH      CL ≤ 100pF                                     4                             µs
 INT Input Data Valid Time                 tIV     CL ≤ 100pF                                                         4         µs
 INT Reset Delay Time from STOP            tIP     CL ≤ 100pF                                                         4         µs
 INT Reset Delay Time from
                                           tIR     CL ≤ 100pF                                                         4         µs
 Acknowledge
Timing Characteristics
(V+ = +1.71V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. Typical values are at V+ = +3.3V, TA = +25°C.) (Note 1)
             PARAMETER                  SYMBOL                      CONDITIONS                    MIN        TYP     MAX      UNITS
 Serial Clock Frequency                      fSCL                                                                    400       kHz
 Bus Free Time Between a STOP
                                             tBUF                                                  1.3                          µs
 and a START Condition
 Hold Time (Repeated) START
                                          tHD,STA                                                  0.6                          µs
 Condition
 Repeated START Condition
                                          tSU,STA                                                  0.6                          µs
 Setup Time
 STOP Condition Setup Time                tSU,STO                                                  0.6                          µs
 Data Hold Time                           tHD,DAT     (Note 2)                                                        0.9       µs
 Data Setup Time                          tSU,DAT                                                  100                          ns
 SCL Clock Low Period                       tLOW                                                   1.3                          µs
 SCL Clock High Period                      tHIGH                                                  0.7                          µs
 Rise Time of Both SDA and SCL                                                                               20 +
                                               tR     (Notes 3, 4)                                                   300        ns
 Signals, Receiving                                                                                         0.1Cb
 Fall Time of Both SDA and SCL                                                                               20 +
                                                tF    (Notes 3, 4)                                                   300        ns
 Signals, Receiving                                                                                         0.1Cb
                                                                                                             20 +
 Fall Time of SDA Transmitting               tF,TX    (Notes 3, 4)                                                   250        ns
                                                                                                            0.1Cb
 Pulse Width of Spike Suppressed              tSP     (Note 5)                                                50                ns
 Capacitive Load for Each
                                              Cb      (Note 3)                                                       400        pF
 Bus Line
 RST Pulse Width                               tW                                                  500                          ns
 RST Rising to START Condition
                                             tRST                                                   1                           µs
 Setup Time
Note 1: All parameters are tested at TA = +25°C. Specifications over temperature are guaranteed by design.
Note 2: A master device must provide a hold time of at least 300ns for the SDA signal (referred to VIL of the SCL signal) to bridge
          the undefined region of SCL’s falling edge.
Note 3: Guaranteed by design.
Note 4: Cb = total capacitance of one bus line in pF. ISINK ≤ 6mA. tR and tF measured between 0.3 x V+ and 0.7 x V+.
Note 5: Input filters on the SDA and SCL inputs suppress noise spikes less than 50ns.
www.maximintegrated.com                                                                                          Maxim Integrated │ 3


MAX7326                                                                                                                                                       I2C Port Expander with
                                                                                                                                                    12 Push-Pull Outputs and 4 Inputs
Typical Operating Characteristics
(TA = +25°C, unless otherwise noted.)
                                                                    STANDBY CURRENT                                                                                SUPPLY CURRENT
                                                                     vs. TEMPERATURE                                                                               vs. TEMPERATURE
                                                    2.0                                                                                             60
                                                                                                          MAX7326 toc01                                                                               MAX7326 toc02
                                                                                            fSCL = 0kHz                                                                               fSCL = 400kHz
                                                    1.8
                                                                                                                                                    50
                                                    1.6                                                                                                                             V+ = +5.0V
                          STANDBY CURRENT (A)                                                                             SUPPLY CURRENT (A)
                                                    1.4
                                                                                                                                                    40
                                                    1.2                                   V+ = +5.0V
                                                    1.0                     V+ = +3.3V                                                              30
                                                                                                                                                                                   V+ = +3.3V
                                                    0.8     V+ = +2.5V
                                                                                                                                                    20                              V+ = +2.5V
                                                    0.6
                                                    0.4                                                                                                                              V+ = +1.71V
                                                                                                                                                    10
                                                    0.2                  V+ = +1.71V
                                                     0                                                                                               0
                                                          -40 -25 -10 5 20 35 50 65 80 95 110 125                                                        -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                                       TEMPERATURE (°C)                                                                               TEMPERATURE (°C)
                                                                  OUTPUT-VOLTAGE LOW                                                                            OUTPUT-VOLTAGE HIGH
                                                                    vs. TEMPERATURE                                                                               vs. TEMPERATURE
                                                   0.25                                                                                              6
                                                                                                          MAX7326 toc03                                                                               MAX7326 toc04
                                                                                                                                                                                  V+ = +5.0V
                                                                                       V+ = +5.0V                                                                                 ISOURCE = 10mA
                                                                                       ISINK = 20mA                                                  5
                                                   0.20
                          OUTPUT-VOLTAGE LOW (V)                                                                          OUTPUT-VOLTAGE HIGH (V)
                                                                V+ = +3.3V                                                                                    V+ = +3.3V
                                                                ISINK = 15mA                                                                         4        ISOURCE = 5mA
                                                   0.15
                                                                                                                                                     3                   V+ = +2.5V, ISOURCE = 5mA
                                                   0.10
                                                                                                                                                     2                 V+ = +1.71V, ISOURCE = 2mA
                                                                            V+ = +1.71V   V+ = +1.62V
                                                             V+ = +2.5V     ISINK = 5mA   ISINK = 4mA
                                                   0.05
                                                             ISINK = 10mA                                                                            1
                                                     0                                                                                               0
                                                          -40 -25 -10 5 20 35 50 65 80 95 110 125                                                        -40 -25 -10 5 20 35 50 65 80 95 110 125
                                                                       TEMPERATURE (°C)                                                                               TEMPERATURE (°C)
Pin Description
           PIN
                                                            NAME                                                                                           FUNCTION
  QSOP           TQFN
     1            22                                          INT              Interrupt Output, Active Low. INT is an open-drain output.
     2            23                                         RST               Reset Input, Active Low. Drive RST low to clear the 2-wire interface.
                                                                               Address Inputs. Select device slave address with AD0 and AD2. Connect AD0 and AD2
   3, 21         24, 18                                   AD2, AD0
                                                                               To either GND, V+, SCL, or SDA to give four logic combinations (see Tables 2 and 3).
  4, 5, 10, 1, 2, 7, 8,                                    O0, O1,
                                                                               Output Ports. These push-pull outputs are rated at 20mA.
 11, 13–20   10–17                                         O6–O15
    6–9        3–6                                          I2–I5              Input Ports. I2 and I5 are CMOS-logic inputs protected to +6V.
    12             9                                         GND               Ground
    22            19                                         SCL               I2C-Compatible Serial-Clock Input
    23            20                                         SDA               I2C-Compatible Serial-Data I/O
    24            21                                          V+               Positive Supply Voltage. Bypass V+ to GND with a 0.047µF ceramic capacitor.
    —             EP                                          EP               Exposed Pad. Connect EP to GND.
www.maximintegrated.com                                                                                                                                                                               Maxim Integrated │ 4


MAX7326                                                                              I2C Port Expander with
                                                                 12 Push-Pull Outputs and 4 Inputs
Detailed Description                                      sink a total of 100mA and source a total of 50mA from all
                                                          12 combined outputs.
MAX7319–MAX7329 Family Comparison
                                                          The MAX7326 is set to two of 32 I2C slave addresses
The MAX7324–MAX7327 family consists of four pin-
                                                          (see Tables 2 and 3) using address inputs AD0 and AD2,
compatible, 16-port expanders that integrate the
                                                          and is accessed over an I2C serial interface up to 400kHz.
functions of the MAX7320 and one of either the MAX7319,
                                                          Eight outputs use a different slave address from the other
MAX7321, MAX7322, or MAX7323.
                                                          four outputs and four inputs. Eight push-pull outputs (O8–
Functional Overview                                       O15) use the 101xxxx addresses while the four outputs
The MAX7326 is a general-purpose port expander            (O0, O1, O6, and O7) and inputs (I2–I5) use addresses
operating from a +1.71V to +5.5V supply that provides     with 110xxxx. The RST input clears the serial interface in
12 push-pull output ports with 20mA sink, 10mA source     case of a bus lockup, terminating any serial transaction to
drive capability, and four CMOS input ports that are      or from the MAX7326.
overvoltage protected to +6V. The MAX7326 is rated to
Table 1. MAX7319–MAX7329 Family Comparison
                 I2C              INPUT         OPEN-    PUSH-
   PART        SLAVE    INPUTS INTERRUPT        DRAIN    PULL                         CONFIGURATION
             ADDRESS              MASK         OUTPUTS  OUTPUTS
 16-PORT EXPANDERS
                                                                   8 inputs and 8 push-pull outputs version:
                                                                   8 input ports with programmable latching transition
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
 MAX7324                   8        Yes           —         8      levels.
                                                                   Offers maximum versatility for automatic input
                                                                   monitoring. An interrupt mask selects which inputs
                                                                   cause an interrupt on transitions, and transition flags
                                                                   identify which inputs have changed (even if only for a
                                                                   transient) since the ports were last read.
               101xxxx
                                                                   8 I/O and 8 push-pull outputs version:
                 And
                                                                   8 open-drain I/O ports with latching transition
               110xxxx
                                                                   detection interrupt and selectable pullups.
                                                                   8 push-pull outputs with selectable default logic
                                                                   levels.
 MAX7325                 Up to 8     —          Up to 8     8      Open-drain outputs can level shift the logic-high state
                                                                   to a higher or lower voltage than V+ using external
                                                                   pullup resistors, but pullups draw current when output
                                                                   is low. Any open-drain port can be used as an input
                                                                   by setting the open-drain output to logic-high.
                                                                   Transition flags identify which open-drain port inputs
                                                                   have changed (even if only for a transient) since the
                                                                   ports were last read.
www.maximintegrated.com                                                                               Maxim Integrated │ 5


MAX7326                                                                     I2C Port Expander with
                                                         12 Push-Pull Outputs and 4 Inputs
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                I2C               INPUT   OPEN-    PUSH-
   PART      SLAVE      INPUTS INTERRUPT  DRAIN    PULL                      CONFIGURATION
            ADDRESS               MASK   OUTPUTS  OUTPUTS
                                                          4 input-only, 12 push-pull output versions:
                                                          4 input ports with programmable latching transition
                                                          detection interrupt and selectable pullups.
                                                          12 push-pull outputs with selectable default logic
 MAX7326                   4       Yes      —        12   levels.
                                                          Offers maximum versatility for automatic input
                                                          monitoring. An interrupt mask selects which inputs
                                                          cause an interrupt on transitions, and transition flags
                                                          identify which inputs have changed (even if only for a
                                                          transient) since the ports were last read.
             101xxxx
                                                          4 I/O, 12 push-pull output versions:
               and
                                                          4 open-drain I/O ports with latching transition
             110xxxx                                      detection interrupt and selectable pullups.
                                                          12 push-pull outputs with selectable default logic
                                                          levels.
 MAX7327                 Up to 4    —     Up to 4    12   Open-drain outputs can level shift the logic-high
                                                          state to a higher or lower voltage than V+ using
                                                          external pullup resistors, but pullups draw current
                                                          when output is low. Any open-drain port can be used
                                                          as an input by setting the open-drain output to logic-
                                                          high. Transition flags identify which open-drain port
                                                          inputs have changed (even if only for a transient)
                                                          since the ports were last read.
 8-PORT EXPANDERS
                                                          Input-only versions:
 MAX7319     110xxxx       8       Yes      —        —    8 input ports with programmable latching transition
                                                          detection interrupt and selectable pullups.
                                                          Output-only versions:
 MAX7320     101xxxx       —        —       —         8   8 push-pull outputs with selectable power-up default
                                                          levels.
                                                          I/O versions:
 MAX7321     110xxxx     Up to 8    —     Up to 8    —    8 open-drain I/O ports with latching transition
                                                          detection interrupt and selectable pullups.
                                                          4 input-only, 4 output-only versions:
                                                          4 input ports with programmable latching transition
 MAX7322     110xxxx       4       Yes      —         4   detection interrupt and selectable pullups.
                                                          4 push-pull outputs with selectable power-up default
                                                          levels.
www.maximintegrated.com                                                                      Maxim Integrated │ 6


MAX7326                                                                                    I2C Port Expander with
                                                                       12 Push-Pull Outputs and 4 Inputs
Table 1. MAX7319–MAX7329 Family Comparison (continued)
                  I2C                  INPUT         OPEN-     PUSH-
    PART        SLAVE     INPUTS INTERRUPT           DRAIN     PULL                         CONFIGURATION
              ADDRESS                  MASK        OUTPUTS    OUTPUTS
                                                                          4 I/O, 4 output-only versions:
                                                                          4 open-drain I/O ports with latching transition
  MAX7323      110xxxx     Up to 4       —           Up to 4      4       detection interrupt and selectable pullups.
                                                                          4 push-pull outputs with selectable power-up default
                                                                          levels.
  MAX7328      0100xxx                                                    8 open-drain I/O ports with nonlatching transition
                           Up to 8       —           Up to 8      —
  MAX7329      0111xxx                                                    detection interrupt and pullups on all ports.
When the MAX7326 is read through the serial interface,          RST Input
the actual logic levels at the ports are read back.             The active-low RST input operates as a reset that voids
The four input ports offer latching transition detection        any I2C transaction involving the MAX7326 and forcing
functionality. All input ports are continuously monitored       the MAX7326 into the I2C STOP condition. The reset
for changes. An input change sets 1 of 4 flag bits that         action does not clear the interrupt output (INT).
identify the changed input(s). All flags are cleared upon a
subsequent read or write transaction to the MAX7326.            Standby Mode
                                                                When the serial interface is idle, the MAX7326 auto-
A latching interrupt output (INT) is programmed to flag
                                                                matically enters standby mode, drawing minimal supply
input data changes on the four input ports through an
                                                                current.
interrupt mask register. By default, data changes on any
input port force INT to a logic-low. Interrupt output INT and   Slave Address, Power-Up Default
all transition flags are deasserted when the MAX7326 is         Logic Levels, and Input Pullup Selection
next accessed through the serial interface.                     Address inputs AD0 and AD2 determine the MAX7326
Internal pullup resistors to V+ are selected by the address     slave address and select which inputs have pullup
select inputs (AD0 and AD2). Pullups are enabled on the         resistors. Pullups are enabled on the input ports in
input ports in groups of two (see Table 2).                     groups of two (see Table 2).
Initial Power-Up                                                The MAX7326 slave address is determined on each I2C
                                                                transmission, regardless of whether the transmission
On power-up, the transition detection logic is reset, and
                                                                is actually addressing the MAX7326. The MAX7326
INT is deasserted. The interrupt mask register is set to
                                                                distinguishes whether address inputs AD0 and AD2 are
0x3C, enabling the interrupt output for transitions on
                                                                connected to SDA or SCL instead of fixed logic levels
all four input ports. The transition flags are cleared to
                                                                V+ or GND during this transmission. This means that the
indicate no data changes. The power-up default states
                                                                MAX7326 slave address can be configured dynamically in
of the 12 push-pull outputs are set according to the I2C
                                                                the application without cycling the device supply.
slave address selection inputs, AD0 and AD2 (see Tables
2 and 3). Pullups are enabled on the input port in groups       On initial power-up, the MAX7326 cannot decode address
of two (see Table 2).                                           inputs AD0 and AD2 fully until the first I2C transmission.
                                                                This is important because the address selection is used to
Power-On Reset (POR)                                            determine the power-up logic state (output low or I/O high),
The MAX7326 contains an integral POR circuit that               and whether pullups are enabled. However, at power-up,
ensures all registers are reset to a known state on             the I2C SDA and SCL bus interface lines are high imped-
power-up. When V+ rises above VPOR (1.6V max), the              ance at the pins of every device (master or slave) connect-
POR circuit releases the registers and 2-wire interface         ed to the bus, including the MAX7326. This is guaranteed
for normal operation. When V+ drops below VPOR, the             as part of the I2C specification. Therefore, when address
MAX7326 resets all output register contents to the POR          inputs AD0 and AD2 are connected to SDA or SCL during
defaults (Tables 2 and 3).                                      power-up, they appear to be connected to V+. The port
www.maximintegrated.com                                                                                     Maxim Integrated │ 7


MAX7326                                                                               I2C Port Expander with
                                                                            12 Push-Pull Outputs and 4 Inputs
Table 2. MAX7326 Address Map for Ports O0, O1, I2–I5, O6, and O7
   PIN
                        DEVICE ADDRESS                   PORT POWER-UP DEFAULT                 40kW INPUT PULLUPS ENABLED
CONNECTION
 AD2      AD0    A6   A5   A4   A3   A2    A1   A0   O7 O6       I5   I4   I3   I2   O1   O0 O7 O6                                               I5   I4   I3   I2   O1 O0
  SCL    GND      1    1    0    0    0    0    0    1    1                          0    0                                                      Y    Y    —    —
  SCL     V+      1    1    0    0    0    0    1    1    1                          1    1                                                      Y    Y    Y    Y
                                                                                                Pullups are not enabled for push-pull outputs.                        Pullups are not enabled for push-pull outputs.
  SCL     SCL     1    1    0    0    0    1    0    1    1                          1    1                                                      Y    Y    Y    Y
  SCL     SDA     1    1    0    0    0    1    1    1    1                          1    1                                                      Y    Y    Y    Y
 SDA     GND      1    1    0    0    1    0    0    1    1                          0    0                                                      Y    Y    —    —
 SDA      V+      1    1    0    0    1    0    1    1    1                          1    1                                                      Y    Y    Y    Y
 SDA      SCL     1    1    0    0    1    1    0    1    1                          1    1                                                      Y    Y    Y    Y
 SDA      SDA     1    1    0    0    1    1    1    1    1                          1    1                                                      Y    Y    Y    Y
                                                                       Inputs
 GND     GND      1    1    0    1    0    0    0    0    0                          0    0                                                      —    —    —    —
 GND      V+      1    1    0    1    0    0    1    0    0                          1    1                                                      —    —    Y    Y
 GND      SCL     1    1    0    1    0    1    0    0    0                          1    1                                                      —    —    Y    Y
 GND      SDA     1    1    0    1    0    1    1    0    0                          1    1                                                      —    —    Y    Y
  V+     GND      1    1    0    1    1    0    0    1    1                          0    0                                                      Y    Y    —    —
  V+      V+      1    1    0    1    1    0    1    1    1                          1    1                                                      Y    Y    Y    Y
  V+      SCL     1    1    0    1    1    1    0    1    1                          1    1                                                      Y    Y    Y    Y
  V+      SDA     1    1    0    1    1    1    1    1    1                          1    1                                                      Y    Y    Y    Y
selection logic uses AD0 to select whether pullups are                other 12 address combinations is used, an unexpected
enabled for ports I2 and I3, and to set the initial logic             combination of pullups might be asserted until the first
level for those ports, and AD2 for ports I4 and I5. The               I2C transmission (to any device, not necessarily
rule is that a logic-high, SDA, or SCL connection selects             the MAX7326) is put on the bus, and an unexpected
the pullups and sets the default logic state to high. A               combination of ports may initialize as logic-low outputs
logic-low sets the default to low (Tables 2 and 3). This means        instead of inputs or logic-high outputs.
that the port configuration is correct on power-up for a
standard I2C configuration, where SDA or SCL are pulled               Port Inputs
up to V+ by the external I2C pullup resistors.                        Port inputs switch at CMOS-logic levels as determined by
                                                                      the expander’s supply voltage, and are overvoltage toler-
The power-up default states of the 12 push-pull outputs
                                                                      ant to +6V, independent of the expander’s supply voltage.
are set according to the I2C slave address selection
inputs, AD0 and AD2 (Tables 2 and 3).                                 Port-Input Transition Detection
There are circumstances where the assumption that                     All four input ports are monitored for changes since the
SDA = SCL = V+ on power-up is not true—for example,                   expander was last accessed through the serial inter-
in applications in which there is legitimate bus activity             face. The state of the input ports is stored in an internal
during power-up. Also, if SDA and SCL are terminated                  “snapshot” register for transition monitoring. The snap-
with pullup resistors to a different supply voltage than the          shot is continuously compared with the actual input
MAX7326’s supply voltage, and if that pullup supply rises             conditions, and if a change is detected for any port input,
later than the MAX7326’s supply, then SDA or SCL may                  then an internal transition flag is set for that port. The
appear at power-up to be connected to GND. In appli-                  four port inputs are sampled (internally latched into the
cations like this, use the four address combinations that             snapshot register) and the old transition flags are cleared
are selected by strapping address inputs AD0 and AD2 to               during the I2C acknowledge of every MAX7326 read and
V+ or ground (shown in bold in Tables 2 and 3). These                 write access. The previous port transition flags are read
selections are guaranteed to be correct at power-up,                  through the serial interface as the second byte of a 2-byte
independent of SDA and SCL behavior. If one of the                    read sequence.
www.maximintegrated.com                                                                                                                                Maxim Integrated │ 8


MAX7326                                                                                I2C Port Expander with
                                                                      12 Push-Pull Outputs and 4 Inputs
Table 3. MAX7326 Address Map for Outputs O8–O15
           PIN
                                      DEVICE ADDRESS                             OUTPUTS POWER-UP DEFAULT
      CONNECTION
     AD2         AD0      A6     A5    A4     A3    A2     A1    A0     O15   O14   O13    O12   O11   O10    O9     O8
     SCL        GND        1      0     1      0     0      0     0      1      1    1      1     0     0      0     0
     SCL          V+       1      0     1      0     0      0     1      1      1    1      1     1     1      1     1
     SCL         SCL       1      0     1      0     0      1     0      1      1    1      1     1     1      1     1
     SCL         SDA       1      0     1      0     0      1     1      1      1    1      1     1     1      1     1
     SDA        GND        1      0     1      0     1      0     0      1      1    1      1     0     0      0     0
     SDA          V+       1      0     1      0     1      0     1      1      1    1      1     1     1      1     1
     SDA         SCL       1      0     1      0     1      1     0      1      1    1      1     1     1      1     1
     SDA         SDA       1      0     1      0     1      1     1      1      1    1      1     1     1      1     1
     GND        GND        1      0     1      1     0      0     0      0      0    0      0     0     0      0     0
     GND          V+       1      0     1      1     0      0     1      0      0    0      0     1     1      1     1
     GND         SCL       1      0     1      1     0      1     0      0      0    0      0     1     1      1     1
     GND         SDA       1      0     1      1     0      1     1      0      0    0      0     1     1      1     1
      V+        GND        1      0     1      1     1      0     0      1      1    1      1     0     0      0     0
      V+          V+       1      0     1      1     1      0     1      1      1    1      1     1     1      1     1
      V+         SCL       1      0     1      1     1      1     0      1      1    1      1     1     1      1     1
      V+         SDA       1      0     1      1     1      1     1      1      1    1      1     1     1      1     1
A long read sequence (more than 2 bytes) can be used          reasserted upon a STOP condition if the changed input
to poll the expander continuously without the overhead        data is read before the STOP occurs. The INT logic
of resending the slave address. If more than 2 bytes are      ensures that unnecessary interrupts are not asserted, yet
read from the expander, the expander repeatedly returns       data changes are detected and reported no matter when
the 2 bytes of input port data followed by the transition     the change occurs.
flags. The inputs are repeatedly resampled and the tran-
sition flags repeatedly reset for each pair of bytes read.    Transition-Detection Masks
All changes that occur during a long read sequence are        The transition-detection logic incorporates a change flag
detected and reported.                                        and an interrupt mask bit for each of the four input ports.
                                                              The four change flags can be read through the serial
The MAX7326 includes a 4-bit interrupt mask register that
                                                              interface, and the 4-bit interrupt mask is set through the
selects which inputs generate an interrupt upon change.
                                                              serial interface.
Each input’s transition flag is set when its input chang-
es, independent of the interrupt mask register settings.      Each port’s change flag is set when that port’s input
The interrupt mask register allows the processor to be        changes, and the change flag remains set even if the
interrupted for critical events, while the inputs and the     input returns to its original state. The port’s interrupt
transition flags can be polled periodically to detect         mask determines whether a change on that input port
less-critical events.                                         generates an interrupt. Enable interrupts for high-priority
                                                              inputs using the interrupt mask. The interrupt allows the
The INT output is not reasserted during a read sequence
                                                              system to respond quickly to changes on these inputs.
to avoid recursive reentry into an interrupt service
                                                              Poll the MAX7326 periodically to monitor less-important
routine. Instead, if a data change occurs that would
                                                              inputs. The change flags indicate whether a permanent
normally cause the INT output to be set, the INT
                                                              or transient change has occurred on any input since the
assertion is delayed until the STOP condition. INT is not
                                                              MAX7326 was last accessed.
www.maximintegrated.com                                                                              Maxim Integrated │ 9


MAX7326                                                                                                         I2C Port Expander with
                                                                                       12 Push-Pull Outputs and 4 Inputs
Serial Interface                                                             Each transmission consists of a START condition sent
                                                                             by a master, followed by the MAX7326’s 7-bit slave
Serial Addressing
                                                                             addresses plus R/W bits, 1 or more data bytes, and finally
The MAX7326 operates as a slave that sends and                               a STOP condition (Figure 2).
receives data through an I2C interface. The interface uses
a serial-data line (SDA) and a serial-clock line (SCL) to                    Start and Stop Conditions
achieve bidirectional communication between master(s)                        Both SCL and SDA remain high when the interface is not
and slave(s). The master initiates all data transfers to                     busy. A master signals the beginning of a transmission
and from the MAX7326 and generates the SCL clock that                        with a START (S) condition by transitioning SDA from high
synchronizes the data transfer (Figure 1).                                   to low while SCL is high. When the master has finished
SDA operates as both an input and an open-drain output.                      communicating with the slave, the master issues a STOP
A pullup resistor, typically 4.7kΩ, is required on SDA.                      (P) condition by transitioning SDA from low to high while
SCL operates only as an input. A pullup resistor, typically                  SCL is high. The bus is then free for another transmission
4.7kΩ, is required on SCL if there are multiple masters                      (Figure 2).
on the 2-wire interface, or if the master in a single-master                 Bit Transfer
system has an open-drain SCL output.
                                                                             One data bit is transferred during each clock pulse.
                                                                             The data on SDA must remain stable while SCL is high
                                                                             (Figure 3).
                 SDA
                                                                     tSU,STA                                                 tBUF
                                               tSU,DAT                                tHD,STA
                                       tLOW
                                                          tHD,DAT                                           tSU,STO
                  SCL                           tHIGH
                    tHD,STA
                                            tR         tF
                       START CONDITION                              REPEATED START CONDITION                            STOP        START
                                                                                                                     CONDITION    CONDITION
Figure 1. 2-Wire Serial-Interface Timing Details
                                                                                     SDA
     SDA
     SCL                                                                             SCL
           S                                                   P
         START                                               STOP
       CONDITION                                          CONDITION                           DATA LINE STABLE; CHANGE OF DATA
                                                                                                 DATA VALID         ALLOWED
Figure 2. Start and Stop Conditions                                          Figure 3. Bit Transfer
www.maximintegrated.com                                                                                                              Maxim Integrated │ 10


MAX7326                                                                                 I2C Port Expander with
                                                                       12 Push-Pull Outputs and 4 Inputs
Acknowledge                                                    I2–I5, O6, and O7) or 1, 0, and 1 (O8–O15). Connect
The acknowledge bit is a clocked 9th bit the recipient         AD0 and AD2 to GND, V+, SDA, or SCL to select slave
uses to acknowledge receipt of each byte of data (Figure       address bits A3, A2, A1, and A0. The MAX7326 has 16
4). Each byte transferred effectively requires 9 bits. The     possible slave addresses (Tables 2 and 3), allowing up to
master generates the 9th clock pulse, and the recipient        16 MAX7326 devices on an I2C bus.
pulls down SDA during the acknowledge clock pulse,             Accessing the MAX7326
so the SDA line is stable low during the high period of
                                                               The MAX7326 is accessed though an I2C interface. The
the clock pulse. When the master is transmitting to the
                                                               MAX7326 provides two different 7-bit slave addresses for
MAX7326, the MAX7326 generates the acknowledge bit
                                                               either the group A of eight ports (O0, O1, I2–I5, O6, O7) or
because the device is the recipient. When the MAX7326
                                                               the group B of eight ports (O8–O15). See Tables 2 and 3.
is transmitting to the master, the master generates the
acknowledge bit because the master is the recipient.           A single-byte read from the group A ports of the MAX7326
                                                               returns the status of the four input ports and four output
Slave Address                                                  ports (read back as inputs), and clears both the inter-
The MAX7326 has two different 7-bit slave addresses            nal transition flags and the INT output when the master
(Figure 5). The addresses are different to communicate         acknowledges the salve address byte. A single-byte read
to the eight push-pull outputs (O8–O15) or the other eight     from the group B ports of the MAX7326 returns the status
I/Os. The 8th bit following the 7-bit slave address is the     of the eight output ports, read back as inputs.
R/W bit. It is low for a write command and high for a read     A 2-byte read from the group A ports of the MAX7326
command.                                                       returns the status of the four input ports (as for a
The first (A6), second (A5), and third (A4) bits of the        single-byte read), followed by the four transition flags for
MAX7326 slave address are always 1, 1, and 0 (O0, O1,          the four input ports and four output ports. The internal
                                                               transition flags and the INT output are cleared when the
                                                               master acknowledges the slave address byte, but the
                                                               previous transition flag data is sent as the second byte.
                START                      CLOCK PULSE
              CONDITION            FOR ACKNOWLEDGMENT          A 2-byte read from the group B ports of the MAX7326
            SCL
                                                               repeatedly returns the status of the eight output ports,
                          1     2                8     9
                                                               read back as inputs.
         SDA BY
    TRANSMITTER                                                A multibyte read (more than 2 bytes before the I2C
         SDA BY
                                                               STOP bit) from the group A ports of the MAX7326 repeat-
       RECEIVER   S                                            edly returns the port data, followed by the transition
                                                               flags. As the data is resampled for each transmission,
Figure 4. Acknowledge                                          and the transition flags are reset each time, a multibyte
                                                               read continuously returns the current data and identifies
                                                               any changing input ports.
                  SDA    1        A5           A4        A3 A2         A1         A0        R/W      ACK
                        MSB                                                      LSB
                  SCL
Figure 5. Slave Address
www.maximintegrated.com                                                                                Maxim Integrated │ 11


MAX7326                                                                                                          I2C Port Expander with
                                                                                        12 Push-Pull Outputs and 4 Inputs
If a port input data change occurs during the read                           Reading from the MAX7326
sequence, then INT is reasserted during the I2C STOP                         A read from the group A ports of the MAX7326 starts with
bit. The MAX7326 does not generate another interrupt                         the master transmitting the port group’s slave address
during a single-byte or multibyte read.                                      with the R/W bit set to high. The MAX7326 acknowl-
Input port data is sampled during the preceding I2C                          edges the slave address and samples the ports (takes
acknowledge bit (the acknowledge bit for the I2C slave                       a snapshot) during the acknowledge bit. INT goes high
address in the case of a single-byte or 2-byte read).                        (high impedance if an external pullup resistor is not
A multibyte read (more than 2 bytes before the I2C STOP                      fitted) during the slave address acknowledge. The master
bit) from the group B ports of the MAX7326 repeatedly                        can then issue a STOP condition after the acknowledge
returns the status of the eight output ports, read back as                   (Figure 6). The snapshot is not taken, and the INT status
inputs.                                                                      remains unchanged if the master terminates the serial
                                                                             transaction with no acknowledge.
A single-byte write to the group A ports of the MAX7326
sets the logic state of the four I/O ports and the 4-bit inter-              Typically, the master reads 1 or 2 bytes from the MAX7326
rupt mask register and clears both the internal transition                   with each byte being acknowledged by the master upon
flags and INT output when the master acknowledges the                        reception.
slave address byte.                                                          The master can read one byte from the group A ports of
A single-byte write to the output ports of the MAX7326                       the MAX7326 and issue a STOP condition (Figure 6).
sets the logic state of all eight ports.                                     In this case, the MAX7326 transmits the current port
                                                                             data, clears the transition flags, and resets the transition
A multibyte write to the group A ports of the MAX7326                        detection. INT goes high (high impedance if an external
repeatedly sets the logic state of the four I/O ports and                    pullup resistor is not fitted) during the slave address
interrupt mask register.                                                     acknowledge. The new snapshot data is the current
A multibyte write to the group B ports of the MAX7326                        port data transmitted to the master, and therefore, port
repeatedly sets the logic state of all eight ports.                          changes occuring during the transmission are detected.
                                                                             INT remains high until the STOP condition.
                                                               ACKNOWLEDGE           O6                          O1          ACKNOWLEDGE
                                                                                O7         I5    I4   I3    I2        O0
                                                               FROM MAX7326                                                  FROM MASTER
                                S        MAX7326 SLAVE ADDRESS       1    A      D7   D6     D5   D4   D3     D2  D1    D0    A    P
                                                                R/W             PORT SNAPSHOT              PORT SNAPSHOT
                               SCL
                                                                             tPH
                          PORTS
                     tIV                                                    tIR                                          tPS        tIP
                          INT OUTPUT                                                 INT REMAINS HIGH UNTIL STOP CONDITION
                                                                                          S = START CONDITION
                                                                                          P = STOP CONDITION
                                                                                          A = ACKNOWLEDGE FROM MASTER
Figure 6. Reading Group A Ports of the MAX7326 (1 Data Byte)
www.maximintegrated.com                                                                                                                Maxim Integrated │ 12


MAX7326                                                                                                                             I2C Port Expander with
                                                                                                       12 Push-Pull Outputs and 4 Inputs
The master can read 2 bytes from the group A ports of the                                   MAX7326, and then issue a STOP condition (Figure 8).
MAX7326 and then issue a STOP condition (Figure 7). In                                      The MAX7326 transmits the current port data, read back
this case, the MAX7326 transmits the current port data,                                     from the actual port outputs (not the port output latches)
followed by the transition flags. The transition flags are                                  during the acknowledge bit. If a port is forced to a logic
then cleared, and transition detection restarts. INT goes                                   state other than its programmed state, the readback
high (high impedance if an external pullup resistor is not                                  reflects this. If driving a capacitive load, the readback port
fitted) during the slave acknowledge. The new snapshot                                      level verification algorithms may need to take the RC rise/
data is the current port data transmitted to the master,                                    fall time into account.
and therefore, port transitions occuring during the trans-                                  Typically, the master reads one byte from the group B
mission are detected. INT remains high until the STOP                                       ports of the MAX7326, then issues a STOP condition
condition.                                                                                  (Figure 8). However, the master can read two or more
A read from the group B ports of the MAX7326 starts                                         bytes from the output ports of the MAX7326, and then
with the master transmitting the group’s slave address                                      issue a STOP condition. In this case, the MAX7326
with the R/W bit set high. The MAX7326 acknowledges                                         resamples the port outputs during each acknowledge and
the slave address and samples the logic state of the                                        transmits the new data each time.
output ports during the acknowledge bit. The master
can read one or more bytes from the output ports of the
                                                   ACKNOWLEDGE O7 O6         I5   I4   I3   I2    O1   O0         F7 F6    F5   F4    F3  F2   F1  F0       FLAG
                                                   FROM MAX7326                                                                                           ACKNOWLEDGE
                                                                                                                                                          FROM MASTER
                      S        MAX7326 SLAVE ADDRESS       1   A     D7   D6   D5   D4   D3   D2   D1 D0     A    D7 D6    D5    D4   D3  D2   D1 D0   A     P
                                                     R/W            PORT SNAPSHOT        PORT SNAPSHOT                                  PORT SNAPSHOT
                     SCL
                                                                 tPH
                 PORTS
             tIV                                                                                        tPS                                                 tIP
                 INT OUTPUT                                    tIR
                                                                        INT REMAINS HIGH UNTIL STOP CONDITION
                                                                                                S = START CONDITION    A = ACKNOWLEDGE
                                                                                                P = STOP CONDITION
Figure 7. Reading Group A Ports of the MAX7326 (2 Data Bytes)
                    S = START CONDITION                                                 P7    P6    P5    P4    P3   P2     P1     P0
                    P = STOP CONDITION                    PORT SNAPSHOT DATA
                                                                                                            DATA 1
                    A = ACKNOWLEDGE             ACKNOWLEDGE FROM MAX7326
                               S             MAX7326 SLAVE ADDRESS           1     A    D7     D6    D5     D4    D3  D2      D1    D0    A     P
                                                                       R/W             PORT SNAPSHOT TAKENPORT SNAPSHOT TAKEN                   ACKNOWLEDGE
                                                                                                                                                FROM MASTER
                              SCL
Figure 8. Reading Group B Ports of the MAX7326
www.maximintegrated.com                                                                                                                                Maxim Integrated │ 13


MAX7326                                                                                                                I2C Port Expander with
                                                                                                12 Push-Pull Outputs and 4 Inputs
Writing to the MAX7326                                                                A write to the group B ports of the MAX7326 starts with
A write to the group A ports of the MAX7326 starts with                               the master transmitting the group’s slave address with the
the master transmitting the group’s slave address with the                            R/W bit set low. The MAX7326 acknowledges the slave
R/W bit set low. The MAX7326 acknowledges the slave                                   address and samples the ports during the acknowledge
address and samples the ports during the acknowledge.                                 bit. The master can now transmit one or more bytes of
INT goes high (high impedance if an external pullup                                   data. The MAX7326 acknowledges these subsequent
resistor is not fitted) during the slave address acknowl-                             bytes of data and updates the corresponding group’s
edge. The master can then issue a STOP condition after                                ports with each new byte until the master issues a STOP
the acknowledge (Figure 6), but typically the master                                  condition (Figure 10).
proceeds to transmit one or more bytes of data. The
MAX7326 acknowledges these subsequent bytes of data
and updates the four output ports and the 4-bit interrupt
mask register with each new byte until the master issues
a STOP condition (Figure 9).
                        SCL        1   2    3  4   5  6  7    8
                                         SLAVE ADDRESS                DATA TO INTERRUPT MASK                       DATA TO INTERRUPT MASK
                        SDA    S                             0   A               DATA 1           A               DATA 2           A
                             START CONDITION                R/W
                                                                                            tPV                              tPV
Figure 9. Writing to the Group A Ports of the MAX7326
                       SCL        1   2    3  4   5  6  7   8
                                        SLAVE ADDRESS                      DATA TO PORT                     DATA TO PORT
                       SDA    S                             0   A               DATA 1           A               DATA 2           A
                            START CONDITION                R/W ACKNOWLEDGE                       ACKNOWLEDGE                      ACKNOWLEDGE
                                                                FROM SLAVE                       FROM SLAVE                       FROM SLAVE
                     WRITE
                   TO PORT
                  DATA OUT
                                                                                                               DATA 1 VALID           DATA 2 VALID
                FROM PORT
                                                                                           tPV                              tPV
Figure 10. Writing to the Group B Ports of the MAX7326
www.maximintegrated.com                                                                                                                   Maxim Integrated │ 14


MAX7326                                                                              I2C Port Expander with
                                                                   12 Push-Pull Outputs and 4 Inputs
Applications Information                                    than V+ or below GND, the appropriate protection diode
                                                            clamps the output to a diode drop above V+ or below
Port Input and I2C Interface Level Translation              GND. Do not overvolt output ports O0, O1, and O6–O15.
from Higher or Lower Logic Voltages                         When the MAX7326 is powered down (V+ = 0), each
The MAX7326’s SDA, SCL, AD0, AD2, RST, INT, and             output port appears as a diode clamp to GND (Figure 11).
I2–I5 are overvoltage protected to +6V, independent of
                                                            Each of the four input ports ((I2–I5) has a protection diode
V+. This allows the MAX7326 to operate from a lower
                                                            to GND (Figure 12). When a port input is driven to a
supply voltage, such as +3.3V, while the I2C interface
                                                            voltage lower than GND, the protection diode clamps the
and/or any of the four input ports are driven from a higher
                                                            output to a diode drop below GND.
logic level, such as +5V.
                                                            Each of the four input ports (I2–I5) also has a 40kΩ
The MAX7326 can operate from a higher supply volt-
                                                            (typ) pullup resistor that can be enabled or disabled.
age, such as +3V, while the I2C interface and/or some
                                                            When a port input is driven to a voltage higher than
of the four input ports (I2–I5) are driven from a lower
                                                            V+, the body diode of the pullup enable switch con-
logic level, such as +2.5V. For V+ < 1.8V, apply a
                                                            ducts and the 40kΩ pullup resistor is enabled. When
minimum voltage of 0.8 x V+ to assert a logic-high on
                                                            the MAX7326 is powered down (V+ = 0), each input
any input. For V+ ≥ 1.8V, apply a voltage of 0.7 x V+ to
                                                            port appears as a 40kΩ resistor in series with a diode
assert a logic-high. For example, a MAX7326 operating
                                                            connected to zero. Input ports are protected to +6V
from a +5V supply may not recognize a +3.3V nominal
                                                            under any of these circumstances (Figure 12).
logic-high. One solution for input-level translation is to
drive the MAX7326 inputs from open-drain outputs. Use       Driving LED Loads
a pullup resistor to V+ or a higher supply to ensure a high When driving LEDs from one of the 12 output ports (O0,
logic voltage of greater than 0.7 x V+.                     O1, or O6–O15), a resistor must be fitted in series with
                                                            the LED to limit the LED current to no more than 20mA.
Port Output Signal-Level Translation
                                                            Connect the LED cathode to the MAX7326 port, and
Each of the push-pull output ports (O0, O1, and             the LED anode to V+ through the series current-limiting
O6–O15) has protection diodes to V+ and GND (Figure         resistor (RLED). Set the port output low to light the LED.
11). When a port output is driven to a voltage higher
                                                                               V+   V+
                            V+  V+
                                                                                              MAX7326
                MAX7326                                                 PULLUP
                                                                       ENABLE
                                           O0, O1,                                        40kΩ
                                           O6–O15                                                             I2–I5
                                                                       INPUT
             OUTPUT
Figure 11. MAX7326 Push-Pull Output Port Structure          Figure 12. MAX7326 Input Port Structure
www.maximintegrated.com                                                                               Maxim Integrated │ 15


MAX7326                                                                             I2C Port Expander with
                                                                 12 Push-Pull Outputs and 4 Inputs
Choose the resistor value according to the following      Driving Load Currents Higher than 20mA
formula:                                                  The MAX7326 can be used to drive loads such as relays
          RLED = (VSUPPLY - VLED - VOL)/ILED              that draw more than 20mA by paralleling outputs. Use at
where:                                                    least one output per 20mA of load current (for example,
                                                          a 5V, 330mW relay draws 66mA and therefore requires
RLED is the resistance of the resistor in series with the four paralleled outputs). Any combination of outputs can
LED (Ω).                                                  be used as part of a load-sharing design, because any
VSUPPLY is the supply voltage used to drive the LED (V).  combination of ports can be set or cleared at the same
VLED is the forward voltage of the LED (V).               time by writing to the MAX7326. Do not exceed a total
                                                          sink current of 100mA for the device.
VOL is the output low voltage of the MAX7326 when
sinking ILED (V).                                         The MAX7326 must be protected from the
                                                          negative-voltage transient generated when switching off
ILED is the desired operating current of the LED (A).     inductive loads (such as relays) by connecting a reverse-
For example, to operate a 2.2V red LED at 10mA from a     biased diode across the inductive load. Choose the peak
+5V supply:                                               current for the diode to be greater than the inductive load’s
            RLED = (5 - 2.2 - 0.1)/0.01 = 270Ω            operating current.
                                                          Power-Supply Considerations
                                                          The MAX7326 operates with a supply voltage of
                                                          +1.71V to +5.5V over the -40°C to +125°C tempera-
                                                          ture range. Bypass the supply to GND with a ceramic
                                                          capacitor of at least 0.047µF as close as possible to
                                                          the device. For the TQFN version, additionally connect
                                                          the exposed pad to GND.
www.maximintegrated.com                                                                           Maxim Integrated │ 16


MAX7326                                                                                    I2C Port Expander with
                                                                    12 Push-Pull Outputs and 4 Inputs
Functional Diagram                                          Typical Application Circuit
                                                                                           3.3V
                                                                     µC                     V+
                                                        O15
     AD0                                                O14
                                                        O13            SCL         SCL
     AD2                                                O12
                                                        O11            SDA         SDA
                                                        O10                                       O15
                                                        O9             RST         RST
     SCL           INPUT         I2 C           I/O     O8                                        O14
                  FILTER      CONTROL          PORTS    O7              INT        INT            O13
     SDA                                                O6
                                                        I5                               MAX7326  O12
                                                        I4                                        O11            OUTPUT
                                                        I3
                                                        I2                                        O10            OUTPUT
                                                        O1                                         O9            OUTPUT
                                                        O0
                                                                                                   O8            OUTPUT
                                                                                                   O7            OUTPUT
                                                        INT
                                                                                                   O6            OUTPUT
     RST         POWER-
                                                    N                                               I5            INPUT
                ON RESET
                                                                                                    I4            INPUT
                                  MAX7326                                                           I3            INPUT
                                                                                  AD0               I2            INPUT
                                       GND                                        AD2              O1            OUTPUT
                                                                                                   O0            OUTPUT
                                                                                          GND
Pin Configurations (continued)                              Chip Information
                                                            PROCESS: BiCMOS
            TOP VIEW
                                     +
                          INT 1                  24 V+
                         RST 2                   23 SDA
                                                            Package Information
                         AD2 3                   22 SCL
                                       MAX7326              For the latest package outline information and land patterns
                           O0 4                  21 AD0
                                                            (footprints), go to www.maximintegrated.com/packages. Note
                           O1 5                  20 O15     that a “+”, “#”, or “-” in the package code indicates RoHS status
                            I2 6                 19 O14     only. Package drawings may show a different suffix character, but
                            I3 7                 18 O13     the drawing pertains to the package regardless of RoHS status.
                            I4 8                 17 O12
                                                              PACKAGE          PACKAGE                      LAND PATTERN
                            I5 9                 16 O11                                         OUTLINE NO.
                                                                 TYPE              CODE                             NO.
                           O6 10                 15 O10
                                                               24 QSOP             E24+1         21-0055        90-0172
                           O7 11                 14 O9
                         GND 12                  13 O8
                                                               24 TQFN           T2444+3         21-0139        90-0022
                                        QSOP
www.maximintegrated.com                                                                                  Maxim Integrated │ 17


MAX7326                                                                                                                I2C Port Expander with
                                                                                                  12 Push-Pull Outputs and 4 Inputs
Revision History
   REVISION          REVISION                                                                                                                       PAGES
                                                                             DESCRIPTION
   NUMBER                DATE                                                                                                                    CHANGED
         0               10/06       Initial release                                                                                                    —
                                     No /V OPNs; removed automotive reference from Applications section; updated
         1                7/14                                                                                                                     1, 18–20
                                     Package Information
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                 © 2014 Maxim Integrated Products, Inc. │ 18


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX7326AEG+ MAX7326AEG+T MAX7326ATG+ MAX7326ATG+T
