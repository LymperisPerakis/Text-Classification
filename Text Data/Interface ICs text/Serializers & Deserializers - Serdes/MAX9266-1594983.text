                                                                                                                        19-5800; Rev 0; 3/11
                                                                                                EVALUATION KIT AVAILABLE
                                                                                                                 MAX9266
                                      HDCP Gigabit Multimedia Serial Link
                             Deserializer with LVDS System Interface
                             General Description                                                                         Features
The MAX9266 gigabit multimedia serial link (GMSL)                            S HDCP Encryption Enable/Disable Programmable
deserializer features an LVDS system interface and high-                       Through Control Channel
bandwidth digital content protection (HDCP) decryption                       S Control Channel Handles All HDCP Protocol
for content protection of DVD and Blu-rayK video and                           Transactions—Separate Control Bus Not Required
audio data. The deserializer pairs with any HDCP-GMSL
serializer to form a digital serial link for the transmission                S HDCP Keys Preprogrammed in Secure On-Chip
of control data and HDCP-encrypted video and audio                             Nonvolatile Memory
data. GMSL is an interface approved by Digital Content                       S 2.5Gbps Payload Data Rate (3.125Gbps with
Protection, LLC (DCP).                                                         Overhead)
The deserializer features 3-channel and 4-channel                            S AC-Coupled Serial Link with Scrambled 8b/10b
modes. The 3-channel mode outputs three lanes of                               Line Coding
LVDS data (21 bits), UART control signals, and three                         S 8.33MHz to 104MHz (3-Channel LVDS) or 6.25MHz
audio outputs. The 4-channel mode outputs four lanes of                        to 78MHz (4-Channel LVDS) Pixel Clock
LVDS data (28 bits), UART control signals, three audio
                                                                             S 4-Bit to 32-Bit Word Length, 8kHz to 192kHz I2S
outputs, and auxiliary control signals. The three audio
                                                                               Audio Channel Supports High-Definition Audio
outputs are for I2S audio, supporting an 8kHz to 192kHz
sampling frequency and a sample depth of 4 to 32 bits.                       S Embedded Half-/Full-Duplex Bidirectional Control
The embedded control channel forms a full-duplex differ-                       Channel
ential 9.6kbps to 1Mbps UART link between the serializer                     S 9.6kbps to 1Mbps Base Mode and Bypass Mode
and the deserializer. An electronic control unit (ECU) or
                                                                             S Interrupt Supports Touch-Screen Displays
microcontroller (FC) can be located on the serializer side
of the link (typical for video display), on the deserializer                 S Remote-End I2C Master for Peripherals
side of the link (typical for image sensing), or on both                     S Programmable Channel Equalizer for 15m Cable
sides. The control channel enables ECU/FC control of                           Drive at 3.125Gbps
peripherals on the remote side, providing such functions
                                                                             S Programmable Spread Spectrum on Serial
as backlight control, touch-screen input, and HDCP-
                                                                               Outputs Reduces EMI
related operations.
                                                                             S Serial-Data Clock Recovery Eliminates External
The serial link signaling is AC-coupled current-mode
                                                                               Reference Clock
logic (CML) with scrambled 8b/10b coding. For driving
longer cables, GMSL serializers have programmable pre/                       S Auto Data-Rate Detection Allows On-The-Fly Data-
deemphasis, and the deserializer has a programmable                            Rate Change
channel equalizer. For reduced EMI, the deserializer has                     S Built-In PRBS Checker for BER Testing of the
programmable spread spectrum on the LVDS and con-                              Serial Link
trol outputs. The serial link inputs and the LVDS output                     S ISO 10605 and IEC 61000-4-2 ESD Tolerance
meet ISO 10605 and IEC 61000-4-2 ESD standards. The
deserializer’s core supply is 3.3V and the I/O supply is                                                          Applications
1.8V to 3.3V. The device is available in a 48-pin TQFP
package with an exposed pad and is specified over the                               High-Resolution Automotive Navigation
-40NC to +105NC automotive temperature range.                                       Rear-Seat Infotainment
Blu-ray is a trademark of Blu-ray Disc Association.                          Ordering Information appears at end of data sheet.
For related parts and recommended products to use with this part, refer to: www.maxim-ic.com/MAX9266.related
                      ����������������������������������������������������������������� Maxim Integrated Products   1
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642,
or visit Maxim’s website at www.maxim-ic.com.


                                                                                                                                      MAX9266
                                                HDCP Gigabit Multimedia Serial Link
                                 Deserializer with LVDS System Interface
ABSOLUTE MAXIMUM RATINGS
AVDD to AGND.....................................................-0.5V to +3.9V       Continuous Power Dissipation (TA = +70NC)
DVDD to GND.......................................................-0.5V to +3.9V        48-Pin TQFP (derate 36.2mW/NC above +70NC).....2898.6mW
IOVDD to GND......................................................-0.5V to +3.9V      Operating Temperature Range......................... -40NC to +105NC
Any Ground to Any Ground..................................-0.5V to +0.5V              Junction Temperature......................................................+150NC
IN+, IN- to AGND..................................................-0.5V to +1.9V      Storage Temperature Range............................. -65NC to +150NC
TXOUT_, TXCLKOUT_ to AGND...........................-0.5V to +3.9V                    Lead Temperature (soldering, 10s).................................+300NC
All Other Pins to GND.......................... -0.5V to (VIOVDD + 0.5V)              Soldering Temperature (reflow).......................................+260NC
TXOUT_, TXCLKOUT_ Short Circuit
   to AGND or AVDD...................................................Continuous
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional opera-
tion of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect device reliability.
PACKAGE THERMAL CHARACTERISTICS (Note 1)
Junction-to-Case Thermal Resistance (BJC).....................2NC/W
Junction-to-Ambient Thermal Resistance (BJA)............27.6NC/W
Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-
            layer board. For detailed information on package thermal considerations, refer to www.maxim-ic.com/thermal-tutorial.
DC ELECTRICAL CHARACTERISTICS
(VAVDD = VDVDD = 3.0V to 3.6V, VIOVDD = 1.7V to 3.6V, RL = 100Ω Q1% (differential), TA = -40NC to +105NC, unless otherwise noted.
Typical values are at VAVDD = VDVDD = VOVDD = 3.3V, TA = +25NC.)
              PARAMETER                        SYMBOL                            CONDITIONS                         MIN          TYP             MAX            UNITS
   SINGLE-ENDED INPUTS (BWS, INT, CDS, EQS, MS, PWDN, SSEN, DRS)
                                                                                                                  0.65 x
  High-Level Input Voltage                          VIH1                                                                                                           V
                                                                                                                 VIOVDD
                                                                                                                                                0.35 x
  Low-Level Input Voltage                           VIL1                                                                                                           V
                                                                                                                                               VIOVDD
  Input Current                                     IIN1           VIN = 0V to VIOVDD                                -10                          +10             FA
  Input Clamp Voltage                               VCL            ICL = -18mA                                                                    -1.5             V
   SINGLE-ENDED OUTPUTS (WS, SCK, SD/CNTL0, CNTL1, CNTL2/MCLK)
                                                                                                                 VIOVDD
                                                                                    DCS = 0
                                                                                                                   - 0.3
  High-Level Output Voltage                        VOH1            IOUT = -2mA                                                                                     V
                                                                                                                 VIOVDD
                                                                                    DCS = 1
                                                                                                                   - 0.2
                                                                                    DCS = 0                                                        0.3
  Low-Level Output Voltage                         VOL1            IOUT = 2mA                                                                                      V
                                                                                    DCS = 1                                                        0.2
                                                                   VOUT = VGND,     VIOVDD = 3.0V to 3.6V            15            25              39
                                                                   DCS = 0          VIOVDD = 1.7V to 1.9V             3             7              13
  Output Short-Circuit Current                       IOS                                                                                                          mA
                                                                   VOUT = VGND,     VIOVDD = 3.0V to 3.6V            20            35              63
                                                                   DCS = 1          VIOVDD = 1.7V to 1.9V             5            10              21
                         ����������������������������������������������������������������� Maxim Integrated Products   2
*The parametric values (min, typ, max limits) shown in the Electrical Characteristics table supersede values quoted elsewhere in this data sheet.


                                                                                                                          MAX9266
                                           HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
DC ELECTRICAL CHARACTERISTICS* (continued)
(VAVDD = VDVDD = 3.0V to 3.6V, VIOVDD = 1.7V to 3.6V, RL = 100Ω Q1% (differential), TA = -40NC to +105NC, unless otherwise noted.
Typical values are at VAVDD = VDVDD = VOVDD = 3.3V, TA = +25NC.)
            PARAMETER                     SYMBOL                         CONDITIONS                          MIN        TYP        MAX        UNITS
  I2C AND UART I/O, OPEN-DRAIN OUTPUTS (RX/SDA, TX/SCL, LOCK, ERR, GPIO_)
                                                                                                             0.7 x
 High-Level Input Voltage                     VIH2                                                                                                V
                                                                                                           VIOVDD
                                                                                                                                   0.3 x
 Low-Level Input Voltage                      VIL2                                                                                                V
                                                                                                                                 VIOVDD
                                                         VIN = 0V to          RX/SDA, TX/SCL                 -110                    +1
 Input Current                                IIN2                                                                                              FA
                                                         VIOVDD (Note 2) LOCK, ERR, GPIO_                     -80                    +1
                                                                              VIOVDD = 1.7V to 1.9V                                 0.4
 Low-Level Output Voltage                    VOL2        IOUT = 3mA                                                                               V
                                                                              VIOVDD = 3.0V to 3.6V                                 0.3
  DIFFERENTIAL OUTPUT FOR REVERSE CONTROL CHANNEL (IN+, IN-)
 Differential High Output Peak                           No high-speed data transmission
                                             VROH                                                             30                     60         mV
 Voltage, (VIN+) - (VIN-)                                (Figure 1)
 Differential Low Output Peak                            No high-speed data transmission
                                             VROL                                                             -60                   -30         mV
 Voltage, (VIN+) - (VIN-)                                (Figure 1)
  DIFFERENTIAL INPUTS (IN+, IN-)
 Differential High Input Threshold
                                            VIDH(P)      Figure 2                                                        40          90         mV
 (Peak) Voltage, (VIN+) - (VIN-)
 Differential Low Input Threshold
                                            VIDL(P)      Figure 2                                             -90       -40                     mV
 (Peak) Voltage, (VIN+) - (VIN-)
 Input Common-Mode Voltage
                                             VCMR                                                              1        1.3         1.6           V
 ((VIN+) + (VIN-))/2
 Differential Input Resistance
                                                RI                                                            80        100         130           I
 (Internal)
  THREE-LEVEL LOGIC INPUTS (ADD0, ADD1)
                                                                                                             0.7 x
 High-Level Input Voltage                      VIH                                                                                                V
                                                                                                           VIOVDD
                                                                                                                                   0.3 x
 Low-Level Input Voltage                       VIL                                                                                                V
                                                                                                                                 VIOVDD
                                                         ADD0 and ADD1 open or connected
 Midlevel Input Current                       IINM       to a driver with output in high impedance            -10                   +10         FA
                                                         (Note 3)
                                                         ADD0 and ADD1 = high or low,
 Input Current                                 IIN                                                           -150                  +150         FA
                                                         PWDN = high or low
 Input Clamp Voltage                          VCL        ICL = -18mA                                                                -1.5          V
  LVDS OUTPUTS (TXOUT__, TXCLKOUT_)
 Differential Output Voltage                  VOD        Figure 3                                            250                    450         mV
 Change in VOD Between
                                             DVOD        Figure 3                                                                    25         mV
 Complementary Output States
                     ����������������������������������������������������������������� Maxim Integrated Products   3
*The parametric values (min, typ, max limits) shown in the Electrical Characteristics table supersede values quoted elsewhere in this data sheet.


                                                                                                                          MAX9266
                                           HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
DC ELECTRICAL CHARACTERISTICS* (continued)
(VAVDD = VDVDD = 3.0V to 3.6V, VIOVDD = 1.7V to 3.6V, RL = 100Ω Q1% (differential), TA = -40NC to +105NC, unless otherwise noted.
Typical values are at VAVDD = VDVDD = VOVDD = 3.3V, TA = +25NC.)
            PARAMETER                     SYMBOL                         CONDITIONS                          MIN        TYP        MAX        UNITS
 Output Offset Voltage                        VOS        Figure 3                                           1.125                 1.375           V
 Change in VOS Between
                                             DVOS        Figure 3                                                                    25         mV
 Complementary Output States
                                                                                      3.5mA LVDS
                                                                                                             -7.5                  +7.5
 Output Short-Circuit Current                 IOS        VOUT = 0V or 3.6V            output                                                    mA
                                                                                      7mA LVDS output         -15                   +15
 Magnitude of Differential Output                        3.5mA LVDS output                                                          7.5
                                             IOSD                                                                                               mA
 Short-Circuit Current                                   7mA LVDS output                                                             15
                                                         ADD0 and ADD1 = high or low,
 Output High-Impedance Current                IOZ                                                            -0.5                  +0.5         FA
                                                         PWDN = high or low
  POWER SUPPLY
                                                         BWS = low, fTXCLKOUT_ = 16.6MHz                                149         190
 Worst-Case Supply Current                               BWS = low, fTXCLKOUT_ = 33.3MHz                                159         212
                                             IWCS                                                                                               mA
 (Figure 4) (Note 4)                                     BWS = low, fTXCLKOUT_ = 66.6MHz                                190         255
                                                         BWS = low, fTXCLKOUT_ = 104MHz                                 228         295
 Sleep-Mode Supply Current                   ICCS                                                                        80         248         FA
 Power-Down Current                          ICCZ        PWDN = GND                                                      25         178         FA
 ESD PROTECTION
                                                         Human Body Model, RD = 1.5kI,
                                                                                                                         Q8
                                                         CS = 100pF (Note 5)
                                                         IEC 61000-4-2,
                                                                                 Contact Discharge                      Q10
                                                         RD = 330I,
                                                         CS = 150pF
 IN+, IN-                                    VESD                                Air-Gap Discharge                      Q12                     kV
                                                         (Note 6)
                                                         ISO 10605,
                                                                                 Contact Discharge                       Q8
                                                         RD = 2kI,
                                                         CS = 330pF
                                                                                 Air-Gap Discharge                      Q15
                                                         (Note 6)
                                                         Human Body Model, RD = 1.5kI,
                                                                                                                         Q8
                                                         CS = 100pF (Note 5)
                                                         IEC 61000-4-2,           Contact Discharge                      Q8
                                                         RD = 330I,
                                                         CS = 150pF
 TX0UT_, TXCLKOUT_                           VESD        (Note 6)                 Air-Gap Discharge                     Q20                     kV
                                                         ISO 10605,               Contact Discharge                      Q8
                                                         RD = 2kI,
                                                         CS = 330pF
                                                         (Note 6)                 Air-Gap Discharge                     Q30
                                                         Human Body Model, RD = 1.5kI,
 All Other Pins                              VESD                                                                        Q4                     kV
                                                         CS = 100pF (Note 5)
                     ����������������������������������������������������������������� Maxim Integrated Products   4
*The parametric values (min, typ, max limits) shown in the Electrical Characteristics table supersede values quoted elsewhere in this data sheet.


                                                                                                                          MAX9266
                                           HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
AC ELECTRICAL CHARACTERISTICS
(VAVDD = VDVDD = 3.0V to 3.6V, VIOVDD = 1.7V to 3.6V, RL = 100Ω Q1% (differential), TA = -40NC to +105NC, unless otherwise noted.
Typical values are at VAVDD = VDVDD = VOVDD = 3.3V, TA = +25NC.)
            PARAMETER                      SYMBOL                          CONDITIONS                          MIN      TYP        MAX       UNITS
 LVDS CLOCK OUTPUTS (TXCLKOUT+, TXCLKOUT-)
                                                         BWS = GND, VDRS = VIOVDD                              8.33                16.66
                                                         BWS = GND, DRS = GND                                 16.66                 104
  Clock Frequency                        fTXCLKOUT_                                                                                           MHz
                                                         VBWS = VIOVDD, VDRS = VIOVDD                          6.25                 12.5
                                                         VBWS = VIOVDD, DRS = GND                              12.5                  78
 I2C/UART PORT TIMING
                                                         30% to 70%, CL = 10pF to 100pF,
  Output Rise Time                                tR                                                            20                  150        ns
                                                         1kI pullup to IOVDD (Figure 5)
                                                         70% to 30%, CL = 10pF to 100pF,
  Output Fall Time                                tF                                                            20                  150        ns
                                                         1kI pullup to IOVDD (Figure 5)
  Input Setup Time                              tSET     I2C only (Figure 5) (Note 7)                          100                             ns
  Input Hold Time                            tHOLD       I2C  only (Figure 5) (Note 7)                           0                             ns
 SWITCHING CHARACTERISTICS (Note 7)
                                                         20% to 80%, CL         VIOVDD = 1.7V to 1.9V          0.5                   3.1
                                                         = 10pF, DCS = 1
                                                         (Figure 6)             VIOVDD = 3.0V to 3.6V          0.3                   2.2
  CNTL_ Output Rise-and-Fall Time              tR, tF                                                                                          ns
                                                         20% to 80%, CL         VIOVDD = 1.7V to 1.9V          0.6                   3.8
                                                         = 5pF, DCS = 0
                                                         (Figure 6)             VIOVDD = 3.0V to 3.6V          0.4                   2.4
  LVDS Output Rise Time                           tR     20% to 80%, RL = 100I (Figure 3)                                200        350        ps
  LVDS Output Fall Time                           tF     80% to 20%, RL = 100I (Figure 3)                                200        350        ps
                                                                                                            N/7 x tCLK N/7 x N/7 x tCLK
                                                                                fTXCLKOUT_ = 12.5MHz
                                                                                                               - 250    tCLK      + 250
                                                         N = 0 to 6, tCLK =                                 N/7 x tCLK N/7 x N/7 x tCLK
                                                         1/fTXCLKOUT_,          fTXCLKOUT_ = 33MHz
                                                                                                               - 200    tCLK      + 200
  LVDS Output Pulse Position                tPPOSN       fTXCLKOUT_ =                                                                          ps
                                                         104MHz                                             N/7 x tCLK N/7 x N/7 x tCLK
                                                                                fTXCLKOUT_ = 78MHz
                                                         (Figure 7)                                            - 125    tCLK      + 125
                                                                                                            N/7 x tCLK N/7 x N/7 x tCLK
                                                                                fTXCLKOUT_ = 104MHz
                                                                                                               - 100    tCLK      + 100
                                                         From the last bit of the enable UART
  LVDS Output Enable Time                     tLVEN                                                                                 100        Fs
                                                         packet to VOS = 1125mV
                                                         From the last bit of the enable UART
  LVDS Output Disable Time                    tLVDS                                                                                 100        Fs
                                                         packet to VOS = 0V
  Deserializer Delay                             tSD     Figure 8 (Note 8)                                                         3660        Bits
  Reverse Control-Channel Output                         No forward-channel data transmission
                                                  tR                                                           180                  400        ns
  Rise Time                                              (Figure 1)
  Reverse Control-Channel Output                         No forward-channel data transmission
                                                  tF                                                           180                  400        ns
  Fall Time                                              (Figure 1)
  Lock Time                                  tLOCK       Figure 9                                                                    3.6       ms
  Power-Up Time                                  tPU     Figure 10                                                                   9.4       ms
                     ����������������������������������������������������������������� Maxim Integrated Products   5
*The parametric values (min, typ, max limits) shown in the Electrical Characteristics table supersede values quoted elsewhere in this data sheet.


                                                                                                                           MAX9266
                                           HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
AC ELECTRICAL CHARACTERISTICS* (continued)
(VAVDD = VDVDD = 3.0V to 3.6V, VIOVDD = 1.7V to 3.6V, RL = 100Ω Q1% (differential), TA = -40NC to +105NC, unless otherwise noted.
Typical values are at VAVDD = VDVDD = VOVDD = 3.3V, TA = +25NC.)
             PARAMETER                     SYMBOL                          CONDITIONS                          MIN       TYP        MAX      UNITS
 I2S OUTPUT TIMING (Note 7)
                                                                                                                        0.4e-3     0.5e-3
                                                         tWS = 1/fWS,        fWS = 48kHz or 44.1kHz
                                                                                                                        x tWS      x tWS
                                                         rising (falling)
                                                                                                                        0.8e-3      1e-3
  WS Jitter                                  tAJ-WS      edge to falling     fWS = 96kHz                                                       ns
                                                                                                                        x tWS      x tWS
                                                         (rising) edge
                                                         (Note 5)                                                       1.6e-3      2e-3
                                                                             fWS = 192kHz
                                                                                                                        x tWS      x tWS
                                                                             nWS = 16 bits,                             13e-3      16e-3
                                                                             fWS = 48kHz or 44.1kHz                     x tSCK     x tSCK
                                                         tSCK = 1/fSCK,
                                                                             nWS = 24 bits,                             39e-3      48e-3
  SCK Jitter                                tAJ-SCK      rising edge to                                                                        ns
                                                                             fWS = 96kHz                                x tSCK     x tSCK
                                                         rising edge
                                                                             nWS = 32 bits,                               0.1       0.13
                                                                             fWS = 192kHz                               x tSCK     x tSCK
  Audio Skew Relative to Video                tASK       Video and audio synchronized                                  3 x tWS    4 x tWS      Fs
                                                                             CL = 10pF, DCS = 1                  0.3                 3.1
  SCK, SD, WS Rise-and-Fall Time              tR, tF     20% to 80%                                                                            ns
                                                                             CL = 5pF, DCS = 0                   0.4                 3.8
                                                                                                              0.35 x     0.5 x
  SD, WS Valid Time Before SCK                tDVB       tSCK = 1/fSCK (Figure 11)                                                             ns
                                                                                                               tSCK      tSCK
                                                                                                              0.35 x     0.5 x
  SD, WS Valid Time After SCK                 tDVA       tSCK = 1/fSCK (Figure 11)                                                             ns
                                                                                                                tSCK     tSCK
Note 2: Minimum IIN due to voltage drop across the internal pullup resistor.
Note 3: To provide a midlevel, leave the input unconnected, or, if driven, put driver in high impedance. High-impedance leakage
          current must be less than Q10FA.
Note 4: HDCP enabled.
Note 5: Tested terminal to all grounds.
Note 6: Tested terminal to AGND.
Note 7: Guaranteed by design and not production tested.
Note 8: Measured in CML bit times. Bit time = 1/(30 x fTXCLKOUT_) for BWS = GND. Bit time = 1/(40 x fTXCLKOUT_) for VBWS =
          VIOVDD.
                     ����������������������������������������������������������������� Maxim Integrated Products   6
*The parametric values (min, typ, max limits) shown in the Electrical Characteristics table supersede values quoted elsewhere in this data sheet.


                                                                                          MAX9266
                                                               HDCP Gigabit Multimedia Serial Link
                                                            Deserializer with LVDS System Interface
                                                                                                                                                                           Typical Operating Characteristics
(VAVDD = VDVDD = VIOVDD = 3.3V, TA = +25NC, unless otherwise noted.)
                                             TOTAL SUPPLY CURRENT                                                                                    TOTAL SUPPLY CURRENT                                                                                     OUTPUT POWER SPECTRUM
                                            vs. TXCLKOUT_ FREQUENCY                                                                                 vs. TXCLKOUT_ FREQUENCY                                                                                   vs. TXCLKOUT_ FREQUENCY
                                                 (3-CHANNEL MODE)                                                                                        (4-CHANNEL MODE)                                                                                          (VARIOUS SPREAD)
                              220                                                                                                     210                                                                                                      10
                                                                                  MAX9266 toc01                                                                                            MAX9266 toc02                                                                                                MAX9266 toc03
                                         PRBS PATTERN, HDCP ON                                                                                   PRBS PATTERN, HDCP ON                                                                          0                                 fTXCLKOUT_ = 33MHz
                              210        ALL EQUALIZER MODES                                                                          200        ALL EQUALIZER MODES
                                                                                                                                                                                                           OUTPUT POWER SPECTRUM (dBm)
                                                                                                                                                                                                                                               -10
TOTAL SUPPLY CURRENT (mA)                                                                         TOTAL SUPPLY CURRENT (mA)
                                         ALL SPREAD MODES                                                                                        ALL SPREAD MODES                                                                                           0% SPREAD
                              200
                                                                                                                                      190                                                                                                      -20
                              190                                                                                                                                                                                                              -30
                                                                                                                                      180
                              180                                                                                                                                                                                                              -40
                                                                                                                                      170
                              170                                                                                                                                                                                                              -50
                                                                                                                                      160                                                                                                      -60
                              160
                                                                                                                                                                                                                                               -70
                              150                                                                                                     150                                                                                                                                          4% SPREAD
                                                                                                                                                                                                                                               -80                    2% SPREAD
                              140                                                                                                     140                                                                                                      -90
                                    5        25      45      65      85      105                                                            5         20         35        50        65   80                                                         30.5      31.5       32.5    33.5     34.5    35.5
                                             TXCLKOUT_ FREQUENCY (MHz)                                                                                TXCLKOUT_ FREQUENCY (MHz)                                                                                 TXCLKOUT_ FREQUENCY (MHz)
                                            OUTPUT POWER SPECTRUM                                                                                                                                                                                         MAXIMUM TXCLKOUT_ FREQUENCY
                                            vs. TXCLKOUT_ FREQUENCY                                                                             MAXIMUM TXCLKOUT_ FREQUENCY                                                                                vs. ADDITIONAL DIFFERENTIAL CL
                                                 (VARIOUS SPREAD)                                                                               vs. STP CABLE LENGTH (BER < 10-9)                                                                                    (BER < 10-9)
                               0                                                                                                      120                                                                                                      120
                                                                                  MAX9266 toc04                                                                                            MAX9266 toc05                                                                                                MAX9266 toc06
                                                                                                                                                                                                                                                          10m STP CABLE
                                                            fTXCLKOUT_ = 66MHz
                                                                                                  MAXIMUM TXCLKOUT_ FREQUENCY (MHz)                                                                        MAXIMUM TXCLKOUT_ FREQUENCY (MHz)
                              -10
OUTPUT POWER SPECTRUM (dBm)
                                         0% SPREAD                                                                                    100                                                                                                      100
                              -20
                                                                                                                                                                                                                                                                                 OPTIMUM
                              -30                                                                                                     80        OPTIMUM                                                                                         80                               PE/EQ SETTINGS
                                                                                                                                                PE/EQ SETTINGS
                              -40
                                                                                                                                      60                                                                                                        60
                              -50                                                                                                                      NO PE, 10.7dB
                                                                                                                                                       EQUALIZATION                                                                                       NO PE, 10.7dB
                              -60                                                                                                     40                                                                                                        40
                                                                                                                                                                                                                                                          EQUALIZATION
                                                                                                                                                NO PE, 5.2dB EQUALIZATION
                              -70                                                                                                                                                                                                                                 NO PE, 5.2dB EQUALIZATION
                                                                                                                                      20                                                                                                        20
                              -80                                                                                                               BER CAN BE AS LOW AS 10-12                                                                                BER CAN BE AS LOW AS 10-12 FOR
                                                  2% SPREAD 4% SPREAD                                                                           FOR CABLE LENGTHS LESS THAN 10m                                                                           CL < 4pF FOR OPTIMUM PE/EQ SETTINGS
                              -90                                                                                                      0                                                                                                         0
                                    61       63      65      67      69          71                                                         0              5          10        15        20                                                          0         2          4        6       8          10
                                             TXCLKOUT_ FREQUENCY (MHz)                                                                                     STP CABLE LENGTH (m)                                                                      ADDITIONAL DIFFERENTIAL LOAD CAPACITANCE (pF)
                                                     ����������������������������������������������������������������� Maxim Integrated Products   7


                                                 MAX9266
                      HDCP Gigabit Multimedia Serial Link
                   Deserializer with LVDS System Interface
                                                                                                                                                                                 Pin Configuration
                                         TXOUT0-   TXOUT0+   TXOUT1-   TXOUT1+                 TXOUT2-   TXOUT2+   TXCLKOUT-   TXCLKOUT+   TXOUT3-   TXOUT3+
                         TOP VIEW
                                                                                 AVDD   AGND
                                         36 35 34 33 32 31 30 29 28 27 26 25
                          AGND      37                                                                                                                         24   AGND
                           GND      38                                                                                                                         23   AVDD
                          IOVDD     39                                                                                                                         22   GND
                          ADD0      40                                                                                                                         21   IOVDD
                          ADD1      41                                                                                                                         20   CNTL2/MCLK
                          LOCK      42                                                                                                                         19   CNTL1
                            ERR     43                                                MAX9266                                                                  18   SD/CNTL0
                            MS      44                                                                                                                         17   SCK
                           SSEN     45                                                                                                                         16   WS
                           DRS      46                                                                                            EP                           15   PWDN
                          AVDD      47                                                                                                                         14   TX/SCL
                          AGND      48
                                              +                                                                                                                13   RX/SDA
                                          1         2         3         4         5     6       7         8          9          10 11 12
                                         BWS       INT       CDS
                                                                       GPIO0     AVDD
                                                                                        IN+    IN-
                                                                                                         AGND
                                                                                                                   EQS
                                                                                                                               GPIO1       DVDD      GND
                                                                                        TQFP
                                                                                                                                                                                  Pin Description
   PIN         NAME                                                                                                                            FUNCTION
                            Bus-Width Select. BWS requires external pulldown or pullup resistor. Set BWS = low for
    1           BWS
                            3-channel mode. Set BWS = high for 4-channel mode.
                            Interrupt Input. INT requires external pullup or pulldown resistor. A transition on the
    2           INT
                            deserializer’s INT input toggles the GMSL serializer’s INT output.
                            Control Direction Selection. Control link direction selection input requires external pulldown or
    3           CDS         pullup resistor. Set CDS = high for UART connection of a FC as control-channel master. Set
                            CDS = low for peripheral connection as a control-channel I2C or UART slave.
                            General-Purpose I/O 0. Open-drain GPIO with internal 60kI pullup resistor to IOVDD. GPIO0
    4          GPIO0
                            is high impedance during power-up and when PWDN = low.
5, 23, 32,                  3.3V Analog Power Supply. Bypass AVDD to AGND with 0.1FF and 0.001FF capacitors as
               AVDD
    47                      close as possible to the device with the smaller capacitor closest to AVDD.
   6, 7       IN+, IN-      Differential CML Input +/-. Differential inputs of the serial link.
8, 24, 31,
               AGND         Analog Ground
 37, 48
             ����������������������������������������������������������������� Maxim Integrated Products   8


                                                                                                      MAX9266
                             HDCP Gigabit Multimedia Serial Link
                     Deserializer with LVDS System Interface
                                                                           Pin Description (continued)
    PIN          NAME                                                 FUNCTION
                            Equalizer Select Input. EQS requires external pulldown or pullup resistor. The state of EQS
                            latches upon power-up or when resuming from power-down mode (PWDN = low). Set EQS =
     9             EQS
                            low for 10.7dB equalizer boost (EQTUNE = 1001). Set EQS = high for 5.2dB equalizer boost
                            (EQTUNE = 0100).
                            General-Purpose I/O 1. Open-drain GPIO with an internal 60kI pullup resistor to IOVDD.
    10           GPIO1
                            GPIO1 is high impedance during power-up and when PWDN = low.
                            3.3V Digital Power Supply. Bypass DVDD to DGND with 0.1FF and 0.001FF capacitors as
    11            DVDD
                            close as possible to the device with the smaller capacitor closest to DVDD.
12, 22, 38        GND       Digital and I/O Ground
                            Receive/Serial Data. UART receive or I2C serial-data input/output with internal 30kI pullup to
                            IOVDD. In UART mode, RX/SDA is the Rx input of the deserializer’s UART. In I2C mode,
    13          RX/SDA
                            RX/SDA is the SDA input/output of the deserializer’s I2C master. RX/SDA has an open-drain
                            driver and requires a pullup resistor.
                            Transmit/Serial Clock. UART transmit or I2C serial-clock output with internal 30kI pullup to
                            IOVDD. In UART mode, TX/SCL is the Tx output of the deserializer’s UART. In I2C mode,
    14           TX/SCL
                            TX/SCL is the SCL output of the deserializer’s I2C master. TX/SCL is an open-drain driver and
                            requires a pullup resistor.
    15           PWDN       Active-Low, Power-Down Input. PWDN requires external pulldown or pullup resistor.
    16             WS       I2S Word-Select Output
    17             SCK      I2S Serial-Clock Output
                            I2S Serial-Data Output/Control Output 0. Disable I2S to use SD/CNTL0 as an additional control
    18         SD/CNTL0
                            output. SD/CNTL0 is encrypted when HDCP is enabled.
                            Control Output 1. CNTL1 is active in 3-channel mode and remains low. To use CNTL1, set
    19           CNTL1      BWS = high (4-channel mode) and set DISCNTL = 0. CNTL1 is mapped from DOUT27.
                            CNTL1 is not encrypted when HDCP is enabled (see Table 3).
                            Control Output 2/Data Output 28/MCLK. CNTL2/MCLK is not active in 3-channel mode and
                            remains low. To use CNTL2/MCLK, set BWS = high (4-channel mode). CNTL2/MCLK is not
    20      CNTL2/MCLK
                            encrypted when HDCP is enabled (see Table 3). CNTL2/MCLK can be used to output MCLK
                            (see the Additional MCLK Output for Audio Applications section).
                            I/O Supply Voltage. 1.8V to 3.3V logic I/O power supply. Bypass IOVDD to GND with 0.1FF
  21, 39         IOVDD      and 0.001FF capacitors as close as possible to the device with the smaller capacitor closest
                            to IOVDD.
25, 26, 29,    TXOUT_+,     Differential LVDS Data Outputs. Set BWS = low (3-channel mode) to use TXOUT0_ to
30, 33–36       TXOUT_-     TXOUT2_. Set BWS = high (4-channel mode) to use TXOUT0_ to TXOUT3_.
            TXCLKOUT+,
  27, 28                    Differential LVDS Output for the LVDS Clock
             TXCLKOUT-
                            Address Selection Input 0. Three-level input to select the deserializer’s device address (see
    40            ADD0      Table 2). The state of ADD0 latches upon power-up or when resuming from power-down
                            mode (PWDN = low).
             ����������������������������������������������������������������� Maxim Integrated Products   9


                                                                                             MAX9266
                    HDCP Gigabit Multimedia Serial Link
           Deserializer with LVDS System Interface
                                                                   Pin Description (continued)
PIN    NAME                                                   FUNCTION
                   Address Selection Input 1. Three-level input to select the deserializer’s device address (see
41     ADD1        Table 2). The state of ADD1 latches upon power-up or when resuming from power-down
                   mode (PWDN = low).
                   Open-Drain Lock Output with Internal 60kI Pullup to IOVDD. LOCK = high indicates that
                   PLLs are locked with correct serial-word-boundary alignment. LOCK = low indicates that
42     LOCK        PLLs are not locked or an incorrect serial-word-boundary alignment. LOCK remains low when
                   the configuration link is active. LOCK is high impedance when PWDN = low. LOCK is an
                   open-drain driver and requires a pullup resistor.
                   Active-Low, Open-Drain Video Data Error Output with Internal 60kI Pullup to IOVDD.
                   ERR goes low when the number of decoding errors during normal operation exceeds a
43      ERR        programmed error threshold, or when at least one PRBS error is detected during a PRBS test.
                   ERR is high impedance when PWDN = low. ERR is an open-drain driver and requires a pullup
                   resistor.
                   Mode Select. Control-channel mode-selection input requires external pulldown or pullup
44       MS        resistor. MS sets the control-link mode when CDS = high (see the Control Channel and
                   Register Programming section). MS sets autostart mode when CDS = low (see Table 9).
                   Spread-Spectrum Enable Input. Serial link spread-spectrum enable input requires external
                   pulldown or pullup resistor. The state of SSEN latches upon power-up or when resuming from
45      SSEN       power-down mode (PWDN = low). Set SSEN = high for Q2% spread spectrum on the LVDS
                   and control outputs. Set SSEN = low to use the LVDS and control outputs without spread
                   spectrum.
                   Data-Rate Select. Data-rate range-selection input requires external pulldown or pullup
                   resistor. The state of DRS latches upon power-up or when resuming from power-down mode
                   (PWDN = low). Set DRS = high for TXCLKOUT_ frequencies of 8.33MHz to 16.66MHz
46      DRS
                   (3-channel mode) or 6.25MHz to 12.5MHz (4-channel mode). Set DRS = low for TXCLKOUT_
                   frequencies of 16.66MHz to 104MHz (3-channel mode) or 12.5MHz to 78MHz (4-channel
                   mode).
                   Exposed Pad. EP is internally connected to AGND. MUST externally connect EP to the AGND
—        EP
                   plane for proper thermal and electrical performance.
    ���������������������������������������������������������������� Maxim Integrated Products   10


                                                                                                                   MAX9266
                                 HDCP Gigabit Multimedia Serial Link
                       Deserializer with LVDS System Interface
                                                                                                   Functional Diagram
 TXCLKOUT+/-                                       SSPLL               CLKDIV                            CDRPLL
                     7x PLL
                              RGB[17:0]                   RGB
   TXOUT0+/-                                                            HDCP
                                                                      DECRYPT
                                  HS                                                                                             IN+
                                                                                                          SERIAL
                                  VS                        HS                                             TO
   TXOUT1+/-                                 VIDEO                                                                               IN-
                                  DE                        VS                                          PARALLEL
                   PARALLEL
                    TO LVDS   RGB[23:18]                    DE                                                            CML Rx
                                (4-CH)                                                                                    AND EQ
   TXOUT2+/-
                                                                   HDCP       HDCP
                            RES/CNTL1                              KEYS     CONTOL    8b/10b
                              (4-CH)          FIFO                                   DECODE/
   TXOUT3+/-                                                                       UNSCRAMBLE
       (4-CH)
                                                         CNTL1/RES
                                                           (4-CH)
                                                                                                                Tx
                                                           CNTL2
                                                           (4-CH)
                                                                                                           REVERSE CONTROL
                                                                                                               CHANNEL
      CNTL1
      (4-CH)                                              ACB           HDCP
                                             AUDIO                    DECRYPT
CNTL2/MCLK
      (4-CH)                                              FCC                                                         MAX9266
                                                                                                   UART/I2C
                                     SD/CNTL0 WS SCK                                          TX/SCL      RX/SDA    ADD0 ADD1
              ���������������������������������������������������������������� Maxim Integrated Products   11


                                                                                                                      MAX9266
                                                 HDCP Gigabit Multimedia Serial Link
                                Deserializer with LVDS System Interface
                                                                                                               RL/2
                                                                                             IN+
                                                   MAX9266
                                                                                                       VOD
                                                                  REVERSE                                           VCMR
                                                       CONTROL-CHANNEL                        IN-
                                                                                                               RL/2
                                                             TRANSMITTER
                                          IN+                                                               IN-
         VCMR
                                          IN-                                                              IN+
                VROH
                                  0.9 x VROH
                       0.1 x VROH
  (IN+) - (IN-)
                                                                                     0.1 x VROL
                                             tR
                                                                                     0.9 x VROL
                                                                                                                          VROL
                                                                                                                tF
Figure 1. Reverse Control-Channel Output Parameters
                                                                         RL/2
                                                                                                 IN+
                                                                                      VID(P)
                                                                         RL/2
                                                                                                  IN-  _
                                              VIN+
                                                   +
                                                   _
                                                                +             CIN            CIN
                                                        VIN-
                                                                _
                                                                                  VID(P) = | VIN+ - VIN- |
                                                                                  VCMR = (VIN+ + VIN-)/2
Figure 2. Test Circuit for Differential Input Measurement
                     ���������������������������������������������������������������� Maxim Integrated Products   12


                                                                                                                    MAX9266
                                                HDCP Gigabit Multimedia Serial Link
                                 Deserializer with LVDS System Interface
                                                                         TXOUT_+
                                                                                         RL/2
                                                                        TXCLKOUT+
                                                                               VOD
                                                                                                                    VOS
                                                                           TXOUT_-,       RL/2
                                                                          TXCLKOUT-
                                                                                                                GND
                                                                                     ((TXOUT_+) + (TXOUT_-))/2
                                                                                  ((TXCLKOUT+) + (TXCLKOUT-))/2
              TXOUT_-
            TXCLKOUT-
                                    VOS(-)                                         VOS(+)                               VOS(-)
              TXOUT_+
            TXCLKOUT+
                                                                           DVOS = |VOS(+) - VOS(-)|
                                                                                VOD(+)
                                                                                                                             VOD = 0V
                                         VOD(-)                           DVOD = |VOD(+) - VOD(-)|                      VOD(-)
                                                             tR                                                      tF
        (TXOUT_+) - (TXOUT_-)
  (TXCLKOUT+) - (TXCLKOUT-)
Figure 3. LVDS Output Parameters
                                                    TXCLKOUT+
                                                    TXCLKOUT-
                                           TXOUT0+ TO TXOUT3+
                                            TXOUT0- TO TXOUT3-
                                                         CNTL_
Figure 4. Worst-Case Pattern Output
                                             tR                 tF
    TX/
   SCL
                                                 tHOLD             tSET
    RX/
   SDA
            P               S                                                              S                                    P
Figure 5. I2C Timing Parameters
                          ���������������������������������������������������������������� Maxim Integrated Products   13


                                                                                                                                   MAX9266
                                                           HDCP Gigabit Multimedia Serial Link
                                           Deserializer with LVDS System Interface
                                                                                          IN+ - IN-
                                                          CL
                   MAX9266
                                  SINGLE-ENDED OUTPUT LOAD
                                                                                                                      tLOCK
                                             0.8 x VI0VDD
                                                                                          LOCK                                           VOH
                                            0.2 x VI0VDD
                                tR                             tF                                           PWDN MUST BE HIGH
Figure 6. Single-Ended Output High and Low Times                                    Figure 9. Lock Time
 (TXCLKOUT+) -
   (TXCLKOUT-)                                                                            IN+/-
    (TXOUT_+) -
      (TXOUT_-)
                      tPPOS0
                                                                                                    PWDN              VIH1
                    tPPOS1
                         tPPOS2
                                                                                                                               tPU
                             tPPOS3
                                                                                           LOCK                                           VOH
                                   tPPOS4
                                       tPPOS5
                                           tPPOS6
Figure 7. LVDS Output Pulse Position Measurement                                    Figure 10. Power-Up Delay
              FIRST BIT
                        N           N+1       N+2...         EXPANDED TIME SCALE       WS
        IN+/IN-
                                                                        FIRST BIT
                                                              N-1                 N                      tDVA    tDVB              tR
     TXOUT_+/
                                                                                      SCK
      TXOUT_-
 TXCLKOUT+/-                                                                                                     tDVB      tDVA       tF
                                                                                       SD
                                                  tSD
Figure 8. Deserializer Delay                                                        Figure 11. Output I2S Timing Parameters
                              ���������������������������������������������������������������� Maxim Integrated Products   14


                                                                                                       MAX9266
                                   HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
                          Detailed Description                   rializer for HDCP-related control operations. In addition,
                                                                 the control channel enables electronic control unit (ECU)
The MAX9266 GMSL deserializer with LVDS inter-                   or microcontroller (FC) control of peripherals on the
face utilizes Maxim’s gigabit multimedia serial link             remote side, such as backlight control, grayscale gamma
(GMSL) technology and high-bandwidth digital content             correction, camera module, and touch screen. An ECU/
protection (HDCP). When HDCP is enabled, the deserial-           FC can be located on the serializer side of the link (typi-
izer decrypts video and audio data on the serial link. The       cal for video display), on the deserializer side of the link
deserializer is backward compatible with the MAX9268             (typical for image sensing), or on both sides. Base-mode
LVDS output deserializer.                                        communication with peripherals uses either I2C or the
The deserializer has a maximum serial payload data               GMSL UART format. A bypass mode enables full-duplex
rate of 2.5Gbps for 15m or more of shielded twisted-pair         communication using a user-defined UART format.
(STP) cable. The deserializer operates up to a maximum           The GMSL serializer pre/deemphasis, along with the
input clock of 104MHz for 3-channel mode, or 78MHz for           deserializer channel equalizer, extends the link length
4-channel mode, respectively. This serial link supports a        and enhances the link reliability. Spread spectrum is
wide range of display panels from QVGA (320 x 240) to            available to reduce EMI on the LVDS and control outputs.
WXGA (1280 x 800) and higher with 24-bit color.                  The serial inputs comply with ISO 10605 and IEC 61000-
The 3-channel mode handles three lanes of LVDS data              4-2 ESD protection standards.
(21 bits), UART control signals, and three audio signals.                                              Register Mapping
The 4-channel mode handles four lanes of LVDS data (28           The FC configures various operating conditions of the
bits), UART control signals, three audio signals, and aux-       GMSL serializer and the deserializer through internal
iliary control outputs. The audio outputs form a standard        registers. Table 1 lists the default register values. The
I2S interface, supporting 8kHz to 192kHz sample rates            device addresses are stored in registers 0x00 and 0x01
and audio word lengths of 4 to 32 bits. The embedded             of both the GMSL serializer and the deserializer. Write to
control channel forms a full-duplex, differential 9.6kbps        registers 0x00 and 0x01 in both devices to change the
to 1Mbps UART link between the serializer and the dese-          device address of the GMSL serializer or the deserializer.
Table 1. Power-Up Default Register Map (see Tables 16 and 17)
   REGISTER        POWER-UP
                                                               POWER-UP DEFAULT SETTINGS
   ADDRESS           DEFAULT
                                                                          (MSB FIRST)
      (hex)            (hex)
                 0x40, 0x44, 0x48,
                                   SERID = XX00XX0, serializer device address is determined by ADD1 and ADD0 (Table 2)
      0x00       0x80, 0x84, 0x88,
                                   RESERVED = 0
                 0xC0, 0xC4, 0xC8
                 0x50, 0x54, 0x58,
                                   DESID = XX01XX0, deserializer device address is determined by ADD1 and ADD0 (Table 2)
      0x01       0x90, 0x94, 0x98,
                                   CFGBLOCK = 0, registers 0x00 to 0x1F are read/write
                 0xD0, 0xD4, 0xD8
                                   SS = 00 (SSEN = low), SS = 01 (SSEN = high), spread-spectrum settings depend on SSEN
                                   pin state at power-up
                                   RESERVED = 0
      0x02         0x1F or 0x5F
                                   AUDIOEN = 1, I2S channel enabled
                                   PRNG = 11, automatically detect the pixel clock range
                                   SRNG = 11, automatically detect the serial-data rate
                                   AUTOFM = 00, calibrate spread-modulation rate only once after locking
      0x03             0x00        RESERVED = 0
                                   SDIV = 00000, autocalibrate sawtooth divider
                   ���������������������������������������������������������������� Maxim Integrated Products   15


                                                                                                MAX9266
                             HDCP Gigabit Multimedia Serial Link
                    Deserializer with LVDS System Interface
Table 1. Power-Up Default Register Map (see Tables 16 and 17) (continued)
 REGISTER    POWER-UP
                                                           POWER-UP DEFAULT SETTINGS
 ADDRESS       DEFAULT
                                                                     (MSB FIRST)
   (hex)         (hex)
                             LOCKED = 0, LOCK output is low (read only)
                             OUTENB = 0 (ENABLE = low), OUTENB = 1 (ENABLE = high), OUTENB default depends on
                             ENABLE pin state at power-up
                             PRBSEN = 0, PRBS test disabled
           0x03, 0x13, 0x43,
   0x04                      SLEEP = 0 or 1, SLEEP setting default depends on CDS and MS pin state at power-up (see
                 0x53
                             the Link Startup Procedure section)
                             INTTYPE = 00, base mode uses I2C
                             REVCCEN = 1, reverse control channel active (sending)
                             FWDCCEN = 1, forward control channel active (receiving)
                             I2CMETHOD = 0, I2C master sends the register address
                             HPFTUNE = 01, 3.75MHz equalizer highpass cutoff frequency
   0x05      0x24 or 0x29    PDHF = 0, high-frequency boosting disabled
                             EQTUNE = 0100 (EQS = high, 5.2dB), EQTUNE = 1001 (EQS = low, 10.7dB), EQTUNE
                             default setting depends on EQS pin state at power-up
                             RESERVED = 0, outputs are staggered
                             AUTORST = 0, error registers/output autoreset disabled
                             DISINT = 0, INT transmission enabled
                             INT = 0, INT output is low (read only)
   0x06          0x0F
                             GPIO1OUT = 1, GPIO1 output set to high
                             GPIO1 = 1, GPIO1 input = high (read only)
                             GPIO0OUT = 1, GPIO0 output set to high
                             GPIO0 = 1, GPIO0 input = high (read only)
   0x07          0x54        RESERVED = 01010100
                             RESERVED = 001100
   0x08          0x30        DISVSFILT = 0, VSYNC glitch filter active
                             DISHSFILT = 0, HSYNC glitch filter active
   0x09          0xC8        RESERVED = 11001000
   0x0A          0x12        RESERVED = 00010010
   0x0B          0x20        RESERVED = 00100000
   0x0C          0x00        ERRTHR = 00000000, error threshold set to zero for decoding errors
                 0x00
   0x0D                      DECERR = 00000000, zero decoding errors detected
              (read only)
                 0x00
   0x0E                      PRBSERR = 00000000, zero PRBS errors detected
              (read only)
                             MCLKSRC = 0, MCLK is derived from TXCLKOUT_ (see Table 5)
   0x12          0x00
                             MCLKDIV = 0000000, MCLK output is disabled
   0x13          0x10        RESERVED = 00010000
             ���������������������������������������������������������������� Maxim Integrated Products   16


                                                                                            MAX9266
                              HDCP Gigabit Multimedia Serial Link
                     Deserializer with LVDS System Interface
Table 1. Power-Up Default Register Map (see Tables 16 and 17) (continued)
 REGISTER     POWER-UP
                                                            POWER-UP DEFAULT SETTINGS
 ADDRESS        DEFAULT
                                                                        (MSB FIRST)
    (hex)         (hex)
                              INVVSYNC = 0, deserializer does not invert VSYNC
                              INVHSYNC = 0, deserializer does not invert HSYNC
                              FORCELVDS = 0, normal LVDS operation
    0x14          0x09        DCS = 0, normal CMOS driver current
                              DISCNTL = 1, CNTL1 forced low
                              DISRES = 0, serial-data bit 27 is mapped to RES
                              ILVDS = 01, 3.5mA LVDS current
                  0x08
    0x1E                      ID = 00001000, device ID is 0x08
               (read only)
                              RESERVED = 000
                  0x1X
    0x1F                      CAPS = 1, HDCP capable
               (read only)
                              REVISION = XXXX
   0x80 to  0xXXXXXXXXXX
                              BKSV = 0xXXXXXXXXXX, HDCP receiver KSV is 0xXXXXXXXXXX
    0x84       (read only)
                 0xXXXX
 0x85, 0x86                   RI’ = 0xXXXX, RI’ of the transmitter is 0xXXXX
               (read only)
                  0xXX
    0x87                      PJ’ = 0xXXXX, PJ’ of the transmitter is 0xXX
               (read only)
   0x88 to    0x00000000
                              AN = 0000000000000000, session random number is 0000000000000000
    0x8F        00000000
   0x90 to    0x00000000
                              AKSV = 0x0000000000, HDCP transmitter KSV is 0x0000000000000000
    0x94        00000000
                              PD_HDCP = 0, HDCP circuits powered up
                              RESERVED = 000
                              GPIO1_FUNCTION = 0, normal GPIO1 function
    0x95          0x00
                              GPIO0_FUNCTION = 0, normal GPIO0 function
                              AUTH_STARTED = 0, HDCP authentication not started
                              ENCRYPTION_ENABLE = 0, HDCP encryption disabled
                              RESERVED = 000000
    0x96          0x00        NEW_DEV_CONN = 0, no new devices connected
                              KSV_LIST_READY = 0, KSV list is not ready
                              RESERVED = 0000000
    0x97          0x00
                              REPEATER = 0, HDCP receiver is not a repeater
              0x00000000
   0x98 to
                00000000      RESERVED = 0x0000000000000000
    0x9F
               (read only)
   0xA0 to   0xXXXXXXXX
                              H0 part of SHA-1 hash value is 0xXXXXXXXX
    0xA3       (read only)
  0xA04 to   0xXXXXXXXX
                              H1 part of SHA-1 hash value is 0xXXXXXXXX
    0xA7       (read only)
              ���������������������������������������������������������������� Maxim Integrated Products   17


                                                                                                     MAX9266
                                       HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
Table 1. Power-Up Default Register Map (see Tables 16 and 17) (continued)
  REGISTER           POWER-UP
                                                                     POWER-UP DEFAULT SETTINGS
  ADDRESS              DEFAULT
                                                                              (MSB FIRST)
     (hex)               (hex)
    0xA8 to         0xXXXXXXXX
                                       H2 part of SHA-1 hash value is 0xXXXXXXXX
     0xAB             (read only)
   0xAC to          0xXXXXXXXX
                                       H3 part of SHA-1 hash value is 0xXXXXXXXX
     0xAF             (read only)
    0xB0 to         0xXXXXXXXX
                                       H4 part of SHA-1 hash value is 0xXXXXXXXX
     0xB3             (read only)
                                       Reserved = 0000
     0xB4                0x00          MAX_CASCADE_EXCEEDED = 0, seven or fewer cascaded HDCP devices attached
                                       DEPTH = 000, device cascade depth is zero
                                       MAX_DEVS_EXCEEDED = 0, 14 or fewer HDCP devices attached
     0xB5                0x00
                                       DEVICE_COUNT = 0000000, zero attached devices
     0xB6                0x00          GPMEM = 00000000, 0x00 stored in general-purpose memory
    0xB7 to            0x000000
                                       Reserved = 0x000000
     0xB9             (read only)
   0xBA to
                        All zero       KSV_LIST = all zero, no KSVs stored
     0xFF
X = Indeterminate.
Table 2. Device Address Defaults (Register 0x00, 0x01)
                                                DEVICE ADDRESS                            SERIALIZER   DESERIALIZER
          PIN
                                                        (bin)                               DEVICE         DEVICE
                                                                                           ADDRESS        ADDRESS
   ADD1        ADD0          D7     D6      D5      D4        D3     D2    D1     D0         (hex)          (hex)
    Low         Low           1     0        0      X*        0       0    0     R/W          80             90
    Low         High          1     0        0      X*        0       1    0     R/W          84             94
    Low         Open          1     0        0      X*        1       0    0     R/W          88             98
   High         Low           1     1        0      X*        0       0    0     R/W          C0             D0
   High         High          1     1        0      X*        0       1    0     R/W          C4             D4
   High         Open          1      1       0      X*         1      0     0    R/W          C8             D8
   Open         Low           0      1       0      X*         0      0     0    R/W           40             50
   Open         High          0      1       0      X*         0      1     0    R/W           44             54
   Open         Open          0      1       0      X*         1      0     0    R/W           48             58
*X = 0 for the serializer address, X = 1 for the deserializer address.
                     ���������������������������������������������������������������� Maxim Integrated Products   18


                                                                                                   MAX9266
                                    HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
  HDCP Bitmapping and Bus-Width Selection                       Table 3 lists the HDCP bit mapping for the LVDS interface
The LVDS output has two selectable widths: 3-channel and        output. DOUT18 and DOUT19 are reserved for HSYNC
4-channel. Serial data is mapped to outputs on the deseri-      and VSYNC, respectively. The deserializer has HDCP
alizer according to Figure 12 and Figure 13. In 3-channel       decryption on DOUT[17:0] and the I2S output. 4-channel
mode, TXOUT3_ and CNTL1, CNTL2/MCLK are not avail-              mode has additional HDCP decryption on DOUT[26:21].
able. For both modes, the SD/CNTL0, SCK, and WS pins are        DOUT[28:27] and DOUT[20:18] do not have HDCP
for I2S audio when audio is enabled. With audio disabled,       decryption. SD, when used as an additional data output
SD/CNTL0 becomes control signal CNTL0. The deserializer         (AUDIOEN = 0), also does not have HDCP decryption.
outputs 8.33MHz to 104MHz clock rates for 3-channel mode
and 6.25MHz to 78MHz for 4-channel mode
Table 3. LVDS, HDCP Mapping and Bus-Width Selection (See Figures 12 and 13)
                                  3-CHANNEL MODE                                     4-CHANNEL MODE
                                     (BWS = LOW)                                        (BWS = HIGH)
  OUTPUT BITS                         AUXILIARY         HDCP DE-                           AUXILIARY        HDCP DE-
                   TYPICAL BIT-                                        TYPICAL BIT-
                                       SIGNALS          CRYPTION                            SIGNALS         CRYPTION
                     MAPPING                                              MAPPING
                                       MAPPING         CAPABILITY                           MAPPING        CAPABILITY
    DOUT[0:5]           R[0:5]             —               Yes              R[0:5]             —               Yes
   DOUT[6:11]          G[0:5]              —               Yes              G[0:5]             —               Yes
   DOUT[12:17]          B[0:5]             —               Yes              B[0:5]             —               Yes
   DOUT[18:20]       HS, VS, DE            —               No             HS, VS, DE           —               No
   DOUT[21:22]      Not available          —                —               R6, R7             —               Yes
   DOUT[23:24]      Not available          —                —               G6, G7             —               Yes
   DOUT[25:26]      Not available          —                —               B6, B7             —               Yes
     DOUT27         Not available     Not available         —                RES*            CNTL1*            No
     DOUT28               —           Not available         —                  —             CNTL2             No
        SD                —            SD/CNTL0           I2S**                —            SD/CNTL0          I2S**
*See the Reserved Bit (RES)/CNTL1 section for details.
**HDCP decryption on SD when used as an I2S signal.
                  ���������������������������������������������������������������� Maxim Integrated Products   19


                                                                                                                    MAX9266
                                          HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
                              TXCLKOUT-
                             TXCLKOUT+
                                                                CYCLE N-1                 CYCLE N
                        TXOUT0+ /TXOUT0-          DOUT1      DOUT0    DOUT6 DOUT5  DOUT4   DOUT3  DOUT2 DOUT1 DOUT0
                        TXOUT1+/TXOUT1-           DOUT8      DOUT7   DOUT13 DOUT12 DOUT11 DOUT10  DOUT9 DOUT8 DOUT7
                        TXOUT2+/TXOUT2-          DOUT15 DOUT14 DOUT20 DOUT19 DOUT18 DOUT17 DOUT16 DOUT15 DOUT14
                        TXOUT3+/TXOUT3-          DOUT22 DOUT21 DOUT27 DOUT26 DOUT25 DOUT24 DOUT23 DOUT22 DOUT21
                                   CNTL1                                                DOUT27
                            CNTL2/MCLK                                                  DOUT28
                               SD/CNTL0                                                  SD*
                                         *ONLY WHEN I2S IS DISABLED.
Figure 12. LVDS Output Timing
                             TXCLKOUT-
                             TXCLKOUT+
                                                   CYCLE N-1                              CYCLE N
                        TXOUT0+/TXOUT0-             R1         R0      G0     R5     R4      R3    R2    R1    R0
                        TXOUT1+/TXOUT1-            G2         G1       B1     B0     G5      G4    G3    G2    G1
                        TXOUT2+/TXOUT2-             B3        B2       DE     VS     HS      B5    B4    B3    B2
                        TXOUT3+/TXOUT3-             R7        R6       RES    B7     B6      G7    G6    R7    R6
Figure 13. Typical Panel Clock and Bit Assignment
                    ���������������������������������������������������������������� Maxim Integrated Products   20


                                                                                                                                         MAX9266
                                                 HDCP Gigabit Multimedia Serial Link
                                  Deserializer with LVDS System Interface
           Serial Link Signaling and Data Format                                          clock and then samples, decodes, and descrambles
The GMSL serializer uses CML signaling with program-                                      before outputting the data. Figure 14 and 15 show the
mable pre/deemphasis and AC-coupling. The deseri-                                         serial-data packet format after unscrambling and 8b/10b
alizer uses AC-coupling and programmable channel                                          decoding. In 3-channel or 4-channel mode, 21 or 29 bits
equalization. Together, the GMSL link can operate at full                                 map to the high-speed output. The audio channel bit
speed over STP cable lengths to 15m or more.                                              (ACB) contains an encoded audio signal derived from
The GMSL serializer scrambles and encodes the input                                       the three I2S signals (SD, SCK, and WS). The forward
data and sends the 8b/10b coded signal through the                                        control-channel (FCC) bit carries the forward control
serial link. The deserializer recovers the embedded serial                                data. The last bit (PCB) is the parity bit of the previous
                                                                                          23 or 31 bits.
                                                                                  24 BITS
                                            DOUT   DOUT                   DOUT     DOUT    DOUT    DOUT
                                                                                                           ACB     FCC    PCB
                                              0       1                     17      18      19      20
                                             R0      R1                     B5      HS      VS      DE
                                                        RGB DATA                        CONTOL BITS
                                                                    LVDS DATA                             AUDIO
                                                                  (3 CHANNELS)                          CHANNEL OR
                                                                                                         CNTL0 BIT
                                          NOTE: VS/HS MUST BE SET AT DIN[19:18] FOR HDCP FUNCTIONALITY.          FORWARD
                                                ONLY DOUT[17:0] AND ACB HAVE HDCP DECRYPTION.                    CONTROL-
                                                                                                               CHANNEL BIT
                                                                                                                         PACKET
                                                                                                                         PARITY
                                                                                                                       CHECK BIT
Figure 14. 3-Channel Mode Serial Link Data Format
                                                                                  32 BITS
     DOUT     DOUT                       DOUT    DOUT   DOUT     DOUT     DOUT     DOUT     DOUT    DOUT    DOUT     DOUT    DOUT  DOUT
                                                                                                                                            ACB     FCC     PCB
       0        1                         17      18      19      20       21        22      23       24      25      26       27   28
      R0       R1                         B5      HS      VS      DE       R6       R7       G6       G7      B6      B7      RES/ CNTL2
                                                                                                                            CNTL1*
                                                                                                                             AUX
                    RGB DATA                         CONTROL BITS                             RGB DATA                     CONTROL         AUDIO
                                                                                                                             BITS        CHANNEL OR
                                                                                                                                          CNTL0 BIT
                                    LVDS                                                             LVDS                                         FORWARD
                                    DATA                                                             DATA                                        CONTROL-
                               (TXOUT[2:0]_)                                                      (TXOUT3_)                                     CHANNEL BIT
    NOTE: VS/HS MUST BE SET AT DIN[19:18] FOR HDCP FUNCTIONALITY.                                                                                         PACKET
          ONLY DOUT[17:0], DOUT[26:21], AND ACB HAVE HDCP DECRYPTION.                                                                                     PARITY
                                                                                                                                                        CHECK BIT
          *DOUT27 OUTPUTS TO LVDS DATA (TXOUT3_) AND/OR EXTERNAL PIN (CNTL1).
Figure 15. 4-Channel Mode Serial Link Data Format
                        ���������������������������������������������������������������� Maxim Integrated Products   21


                                                                                                     MAX9266
                                    HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
                           Reverse Control Channel              izer automatically encodes audio data into a single bit
The GMSL serializer uses the reverse control channel to         stream synchronous with TXCLKOUT_. The deserializer
receive I2C/UART and interrupt signals from the deseri-         decodes the audio stream and stores audio words in a
alizer in the opposite direction of the video stream. The       FIFO. Audio rate detection uses an internal oscillator to
reverse control channel and forward video data coexist          continuously determine the audio data rate and output
on the same twisted pair forming a bidirectional link. The      the audio in I2S format. The audio channel is enabled
reverse control channel operates independently from the         by default. When the audio channel is disabled, the
forward control channel. The reverse control channel is         SD/CNTL0 on the GMSL serializer and deserializer is
available 500Fs after power-up. The GMSL serializer tem-        treated as an additional control signal (CNTL0).
porarily disables the reverse control channel for 350Fs         Since the audio data sent through the serial link is syn-
after starting/stopping the forward serial link.                chronized with TXCLKOUT_, low TXCLKOUT_ frequen-
                          Reserved Bit (RES)/CNTL1              cies limit the maximum audio sampling rate. Table 4 lists
In 4-channel mode, the deserializer by default deserial-        the maximum audio sampling rate for various TXCLKOUT_
izes serial data bit 27 to RES (DISRES = 0) while CNTL is       frequencies. Spread-spectrum settings do not affect the
forced low (DISCNTL = 1). Setting DISRES (D2 of register        I2S data rate or WS clock frequency.
0x14) = 1 forces RES low. Setting DISCNTL1 (D3 of reg-                                  Additional MCLK Output for
ister 0x14) = 0 maps data bit 27 to CNTL1.                                                         Audio Applications
                                 Data-Rate Selection            Some audio DACs, such as the MAX9850, do not require
The deserializer uses the DRS input to set the TXCLKOUT_        a synchronous main clock (MCLK), while other DACs
frequency range. Set DRS high for a 6.25MHz to 12.5MHz          require MCLK to be a specific multiple of WS. If an audio
TXCLKOUT_ frequency range (4-channel mode) or                   DAC chip needs the MCLK to be a multiple of WS, use
8.33MHz to 16.66MHz (3-channel mode). Set DRS low for           an external PLL to regenerate the required MCLK from
normal operation with a 12.5MHz to 78MHz TXCLKOUT_              TXCLKOUT_ or SCK.
frequency range (4-channel mode) or 16.66MHz to                 For audio applications that cannot use TXCLKOUT_
104MHz (3-channel mode).                                        directly, the deserializer provides a divided MCLK output
                                                                on CNTL2/MCLK at the expense of one less control line in
                                        Audio Channel           4-channel mode. By default, CNTL2/MCLK operates as a
The I2S audio channel supports 8kHz to 192kHz audio
                                                                control data output and MCLK is turned off. Set MCLKDIV
sampling rates and audio word lengths from 4 bits to
                                                                (deserializer register 0x12, D[6:0]) to a nonzero value
32 bits. The audio bit clock (SCK) does not have to
                                                                to enable the MCLK output. Set MCLKDIV to 0x00 to
be synchronized with TXCLKOUT_. The GMSL serial-
                                                                disable MCLK and set CNTL2/MCLK as a control output.
Table 4. Maximum Audio WS Frequency (kHz) for Various TXCLKOUT_ Frequencies
                             TXCLKOUT_ FREQUENCY                                   TXCLKOUT_ FREQUENCY
     WORD
                                    (DRS = LOW)                                            (DRS = HIGH)
    LENGTH
                                       (MHz)                                                  (MHz)
     (BITS)
                     12.5         15            16.6       > 20            6.25          7.5          8.33       > 10
        8           > 192        > 192         > 192       > 192          > 192         > 192        > 192      > 192
       16           > 192        > 192         > 192       > 192          > 192         > 192        > 192      > 192
       18           185.5        > 192         > 192       > 192          185.5         > 192        > 192      > 192
       20           174.6        > 192         > 192       > 192          174.6         > 192        > 192      > 192
       24           152.2        182.7         > 192       > 192          152.2         182.7        > 192      > 192
       32           123.7        148.4         164.3       > 192          123.7         148.4        164.3      > 192
                   ���������������������������������������������������������������� Maxim Integrated Products   22


                                                                                                   MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
The output MCLK frequency is:                                 Base mode is a half-duplex control channel and bypass
                                                              mode is a full-duplex control channel.
                                  fSRC                                                                          Base Mode
                     fMCLK =
                               MCLKDIV                        In base mode, the FC accesses the core and HDCP
                                                              registers of the GMSL serializer and deserializer using
where:                                                        the GMSL UART protocol. The FC can also program
fSRC is the MCLK source frequency (see Table 5)               I2C peripherals on the remote side by sending UART
                                                              packets that are converted to I2C on the remote side
MCLKDIV is the divider ratio from 1 to 127
                                                              of the link. The FC communicates with a UART periph-
Choose MCLKDIV values so that fMCLK is not greater than       eral in base mode (through INTTYPE register settings),
60MHz. MCLK frequencies derived from TXCLKOUT_                using the half-duplex default GMSL UART protocol. The
(MCLKSRC = 0) are not affected by spread-spectrum             device addresses of the GMSL serializer and deserializer
settings in the deserializer. Enabling spread spectrum        in base mode are programmable. The default value is
in the GMSL serializer, however, introduces spread            determined by the pin settings of ADD0 and ADD1 (see
spectrum into MCLK. Spread-spectrum settings of either        Table 2).
device do not affect MCLK frequencies derived from
                                                              When the peripheral interface is I2C (default), the device
the internal oscillator. The internal oscillator frequency
                                                              converts packets to I2C that have device addresses dif-
ranges from 100MHz to 150MHz over all process corners
                                                              ferent from those of the GMSL serializer or deserializer.
and operating conditions.
                                                              The converted I2C bit rate is the same as the original
 Control Channel and Register Programming                     UART bit rate.
The control channel is available for the FC to send           The deserializer uses a proprietary differential line
and receive control data over the serial link simultane-      coding to send signals back towards the serializer. The
ously with the high-speed data. Configuring the CDS pin       speed of the control channel ranges from 9.6kbps to
allows the FC to control the link from either the GMSL        1Mbps in both directions. The GMSL serializer and dese-
serializer or the deserializer side to support video-display  rializer automatically detect the control-channel bit rate in
or image-sensing applications. The control channel            base mode. When changing the bit rate, the new packet
between the FC and GMSL serializer or deserializer runs       bit rate can vary up to 3.5x from the previous bit rate (see
in base mode or bypass mode according to the mode-            the Changing the Clock Frequency section).
selection (MS) input of the device connected to the FC.
Table 5. fSRC Settings
   MCLKSRC SETTING                                                                         MCLK SOURCE FREQUENCY
                                DATA-RATE SETTING            BUS-WIDTH SETTING
  (REGISTER 0x12, D7)                                                                                  (fSRC)
                                      High speed                3-channel mode                    3 x fTXCLKOUT_
                                     (DRS = high)               4-channel mode                    4 x fTXCLKOUT_
            0
                                       Low speed                3-channel mode                    6 x fTXCLKOUT_
                                      (DRS = low)               4-channel mode                    8 x fTXCLKOUT_
                                                                                                 Internal oscillator
            1                             —                             —
                                                                                                   (120MHz typ)
                   ���������������������������������������������������������������� Maxim Integrated Products   23


                                                                                                                                  MAX9266
                                         HDCP Gigabit Multimedia Serial Link
                             Deserializer with LVDS System Interface
Figure 16 shows the UART protocol for writing and read-                         received without error, even if the result of the write com-
ing in base mode between the FC and the GMSL serial-                            mand directly affects the serial link. The slave uses the
izer/deserializer.                                                              SYNC byte to synchronize with the FC UART data rate
Figure 17 shows the UART data format. Figures 18 and                            automatically. If the INT or MS inputs of the deserializer
19 detail the formats of the SYNC byte (0x79) and the                           toggle while there is control-channel communication,
ACK byte (0xC3). The FC and the connected slave chip                            the control-channel communication can be corrupted.
generate the SYNC byte and ACK byte, respectively.                              In the event of a missed acknowledge, the FC assumes
Events such as device wake-up and interrupt generate                            there was an error in the packet when the slave device
transitions on the control channel that should be ignored                       receives it, or that an error occurred during the response
by the FC. Data written to the GMSL serializer/deserializ-                      from the slave device. In base mode, the FC must keep
er registers do not take effect until after the acknowledge                     the UART Tx/Rx lines high for 16 bit times before sending
byte is sent. This allows the FC to verify write commands                       a new packet.
                                                                     WRITE DATA FORMAT
                         SYNC     DEV ADDR + R/W    REG ADDR     NUMBER OF BYTES       BYTE 1                BYTE N
                                                                MASTER WRITES TO SLAVE                                         ACK
                                                                                                               MASTER READS FROM SLAVE
                                                                    READ DATA FRMAT
                         SYNC     DEV ADDR + R/W   REG ADDR     NUMBER OF BYTES
                                               MASTER WRITES TO SLAVE                   ACK          BYTE 1                  BYTE N
                                                                                   MASTER READS FROM SLAVE
Figure 16. GMSL UART Protocol for Base Mode
                                                                    1 UART FRAME
                   START       D0         D1         D2         D3         D4         D5         D6          D7       PARITY       STOP
                               FRAME 1                                         FRAME 2                                           FRAME 3
                                                   STOP       START                                 STOP      START
Figure 17. GMSL UART Data Format for Base Mode
           D0   D1    D2    D3    D4    D5     D6    D7                                       D0   D1     D2    D3     D4     D5    D6   D7
     START  1    0     0     1     1     1      1     0  PARITY STOP                START      1    1      0     0      0      0     1    1 PARITY STOP
Figure 18. SYNC Byte (0x79)                                                     Figure 19. ACK Byte (0xC3)
                    ���������������������������������������������������������������� Maxim Integrated Products   24


                                                                                                                                                     MAX9266
                                                    HDCP Gigabit Multimedia Serial Link
                                   Deserializer with LVDS System Interface
As shown in Figure 20, the remote-side device converts                                        ister addresses, such as the MAX7324 GPIO expander.
the packets going to or coming from the peripherals from                                      In this mode, the I2C master ignores the register address
the UART format to the I2C format and vice versa. The                                         byte and directly reads/writes the subsequent data bytes
remote device removes the byte number count and adds                                          (Figure 21). Change the communication method of the
or receives the ACK between the data bytes of I2C. The                                        I2C master using the I2CMETHOD bit. I2CMETHOD = 1
I2C’s data rate is the same as the UART data rate.                                            sets command-byte-only mode, while I2CMETHOD = 0
                                                                                              sets normal mode where the first byte in the data stream
             Interfacing Command-Byte-Only I2C Devices
                                                                                              is the register address.
The GMSL serializer and deserializer UART-to-I2C con-
version interfaces with devices that do not require reg-
          UART-TO-I2C CONVERSION OF WRITE PACKET (I2CMETHOD = 0)
          FC           GMSL SERIALIZER/DESERIALIZER
                    11                   11                      11                   11                   11                         11                      11
               SYNC FRAME          DEVICE ID + WR       REGISTER ADDRESS      NUMBER OF BYTES           DATA 0                      DATA N                ACK FRAME
  GMSL SERIALIZER/DESERIALIZER            PERIPHERAL
                                                       1      7      1 1         8        1                                    8     1                 8        1 1
                                                       S    DEV ID  W A      REG ADDR     A                                 DATA 0   A               DATA N     A P
          UART-TO-I2C CONVERSION OF READ PACKET (I2CMETHOD = 0)
          FC           GMSL SERIALIZER/DESERIALIZER
                    11                   11                      11                   11                               11                   11                       11
               SYNC FRAME          DEVICE ID + RD       REGISTER ADDRESS      NUMBER OF BYTES                      ACK FRAME              DATA 0                  DATA N
  GMSL SERIALIZER/DESERIALIZER            PERIPHERAL
                                                       1      7      1 1         8        1 1     7       1 1        8       1          8       1 1
                                                       S    DEV ID  W A      REG ADDR     A S  DEV ID     R A      DATA 0   A        DATA N     A P
                                                  : MASTER TO SLAVE        : SLAVE TO MASTER    S: START      P: STOP     A: ACKNOWLEDGE
Figure 20. Format Conversion between GMSL UART and I2C with Register Address (I2CMETHOD = 0)
                  UART-TO-I2C CONVERSION OF WRITE PACKET (I2CMETHOD = 1)
           FC                GMSL SERIALIZER/DESERIALIZER
                    11                   11                      11                    11                  11                          11                     11
              SYNC FRAME           DEVICE ID + WR        REGISTER ADDRESS      NUMBER OF BYTES           DATA 0                     DATA N                ACK FRAME
  GMSL SERIALIZER/DESERIALIZER                PERIPHERAL
                                                        1      7     1 1                                                       8     1                  8       1 1
                                                       S DEV ID     W A                                                      DATA 0  A               DATA N     A P
                   UART-TO-I2C CONVERSION OF READ PACKET (I2CMETHOD = 1)
           FC                GMSL SERIALIZER/DESERIALIZER
                    11                   11                      11                   11                               11                   11                       11
               SYNC FRAME          DEVICE ID + RD       REGISTER ADDRESS       NUMBER OF BYTES                     ACK FRAME              DATA 0                   DATA N
  GMSL SERIALIZER/DESERIALIZER                PERIPHERAL
                                                                                            1      7      1 1          8         1               8     1 1
                                                                                            S   DEV ID    R A       DATA 0       A            DATA N   A P
                                                 : MASTER TO SLAVE        : SLAVE TO MASTER    S: START        P: STOP    A: ACKNOWLEDGE
Figure 21. Format Conversion Between GMSL UART and I2C with Register Address (I2CMETHOD = 1)
                         ���������������������������������������������������������������� Maxim Integrated Products   25


                                                                                                  MAX9266
                                    HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
                                            Bypass Mode      Table 6. Deserializer Cable Equalizer
In bypass mode, the GMSL serializer/deserializer ignore
                                                             Boost Levels
UART commands from the FC and the FC communi-
cates with the peripherals directly using its own defined        BOOST SETTING
                                                                                         TYPICAL BOOST GAIN (dB)
UART protocol. The FC cannot access the GMSL seri-                 (0x05 D[3:0])
alizer/deserializer’s registers in this mode. Peripherals               0000                          2.1
accessed through the forward control channel using                      0001                          2.8
the UART interface must tolerate up to one TXCLKOUT_
                                                                        0010                          3.4
period Q10ns of jitter due to the asynchronous sampling
                                                                        0011                          4.2
of the UART signal by TXCLKOUT_. Set MS = high to
put the control channel into bypass mode. A 1ms wait                                                  5.2
time is required between setting MS high on the deserial-               0100                   Power-up default
izer and the bypass becoming active. There is no delay                                           (EQS = high)
when switching to bypass mode on the serializer (CDS =                  0101                          6.2
low). Do not send a logic-low longer than 100Fs on the                  0110                           7
control channel in bypass mode if interrupt (INT) is used.              0111                          8.2
Bypass mode accepts bit rates down to 10kbps in either
                                                                        1000                          9.4
direction.
                                                                                                     10.7
                                     Interrupt Control                  1001                   Power-up default
The INT pin of the GMSL serializer is the interrupt output                                        (EQS = low)
and the INT pin of the deserializer is the interrupt input.
                                                                        1010                         11.7
Following a transition, the logic state of the interrupt
                                                                        1011                          13
input is reproduced on the interrupt output. The interrupt
supports remote-side functions such as touch-screen          Table 7. Output Spread
peripherals, remote power-up, or remote monitoring. An
interrupt that occurs when the reverse control channel is       SS                      SPREAD (%)
disabled, such as during link startup/shutdown, is sent                No spread spectrum. Power-up default when
                                                                00
once the reverse control channel becomes available. Bit                SSEN = low.
D4 of register 0x06 in the deserializer stores the interrupt           Q2% spread spectrum. Power-up default when
input state. The INT output of the GMSL serializer is low       01
                                                                       SSEN = high.
after power-up. The FC can set the INT output by writ-
                                                                10     No spread spectrum
ing the SETINT register bit. Do not low-state data on the
                                                                11     Q4% spread spectrum
control channel longer than 100Fs in either base mode
or bypass mode to ensure proper interrupt functionality.                                          Spread Spectrum
                                        Line Equalizer       To reduce the EMI generated by transitions on the serial
The deserializer includes an adjustable line equalizer       link and outputs of the deserializer, the GMSL serial-
to compensate cable attenuation at high frequencies.         izer/deserializer are individually capable of generating
The cable equalizer has 11 levels of compensation from       spread spectrum. However, turning on spread spectrum
2.1dB to 13dB (see Table 6). The EQS input selects the       in the GMSL serializer spreads the serial link and the
default equalization level at power-up. The state of EQS     deserializer outputs since the deserializer tracks the
is latched upon power-up or when resuming from power-        spread on the serial link. Do not enable spread genera-
down mode. To select other equalization levels, set the      tion on the GMSL serializer/deserializer at the same time.
corresponding register bits in the deserializer (0x05        The amplitudes of the deserializer spread-spectrum gen-
D[3:0]). Use equalization in the deserializer, together      erator are Q2% and Q4% (see Table 7).
with pre/deemphasis in the GMSL serializer to create the     Set the deserializer SSEN input high to select a Q2%
most reliable link for a given cable.                        spread at power-up and SSEN input low to select no
                                                             spread at power-up. The state of SSEN is latched upon
                                                             power-up or when resuming from power-down mode.
                   ���������������������������������������������������������������� Maxim Integrated Products   26


                                                                                                        MAX9266
                                    HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
Turning on spread spectrum on the GMSL serializer or            maximum allowed SDIV value in Table 8, set SDIV to the
deserializer does not spread the audio data stream. The         maximum value.
GMSL serializer spreads the deserializer MCLK output if
                                                                                                              Sleep Mode
it is derived from TXCLKOUT_ (MCLKSRC = 0).
                                                                The deserializer includes a low-power sleep mode
The deserializer includes a sawtooth divider to control         to reduce power consumption on the device. Set the
the spread-modulation rate. Autodetection or manual             SLEEP bit to 1 to initiate sleep mode. The deserializer
programming of the TXCLKOUT_ operation range guar-              sleeps after serial link inactivity or 8ms (whichever arrives
antees a spread-spectrum modulation frequency within            first) after setting its SLEEP = 1. See the Link Startup
20kHz to 40kHz. Additionally, manual configuration              Procedure section for details on waking up the device for
of the sawtooth divider (SDIV, 0x03 D[4:0]) allows the          different FC and starting conditions.
user to set a modulation frequency according to the
                                                                The FC can only put the remote-side device into sleep
TXCLKOUT_ frequency. Always keep the modulation
                                                                mode. Use the PWDN input pin to bring the FC-side
frequency between 20kHz and 40kHz to ensure proper
                                                                device into a low-power state. Entering sleep mode resets
operation.
                                                                the HDCP registers but not the configuration registers.
                         Manual Programming of the
                                                                                                      Power-Down Mode
                            Spread-Spectrum Divider
                                                                The deserializer includes a power-down mode that
The modulation rate for the deserializer relates to the
                                                                reduces power consumption more than sleep mode. Set
TXCLKOUT_ frequency as follows:
                                                                PWDN low to enter power-down mode. In power-down
                                f                               mode, the outputs are high impedance. Power-down
                 fM = (1 + DRS) TXCLKOUT_                       mode resets the internal registers of the device. Upon
                                MOD × SDIV                      exiting power-down mode, the deserializer relatches the
                                                                state of the SSEN, DRS, and EQS pins.
where:
                                                                                                      Configuration Link
fM = Modulation frequency
                                                                GMSL includes a low-speed configuration link to allow
DRS = DRS pin input value (0 or 1)                              control-channel operation in the absence of a clock
fTXCLKOUT_ = TXCLKOUT_ frequency                                input. In either display or camera applications, the con-
MOD = Modulation coefficient given in Table 8                   figuration link can program equalizer, preemphasis, or
                                                                other registers before establishing the video link. An
SDIV = 5-bit SDIV setting, manually programmed by the FC        internal oscillator provides TXCLKOUT_ for establishing
To program the SDIV setting, first look up the modula-          the serial configuration link. Set CLINKEN = 1 on the
tion coefficient according to the desired bus-width and         GMSL serializer to turn on the configuration link. The
spread-spectrum settings. Solve the above equation for          configuration link remains active as long as the video link
SDIV using the desired pixel clock and modulation fre-          is not enabled. The video link overrides the configuration
quencies. If the calculated SDIV value is larger than the       link and attempts to lock when SEREN = 1.
Table 8. Modulation Coefficients and Maximum SDIV Settings
                                               MODULATION COEFFICIENT                           SDIV UPPER LIMIT
     SPREAD-SPECTRUM SETTING (%)
                                                          (dec)                                         (dec)
                      Q4                                   208                                           15
                      Q2                                   208                                           30
                    ���������������������������������������������������������������� Maxim Integrated Products   27


                                                                                                            MAX9266
                                       HDCP Gigabit Multimedia Serial Link
                            Deserializer with LVDS System Interface
                       Link Startup Procedure                   deserializer starts up in sleep mode, and the GMSL
                                                                serializer stays in standby mode (does not send serial
Table 9 lists four startup cases for display applications.      data). Use the FC and program the GMSL serializer to
Table 10 lists two startup cases for image-sensing appli-       set SEREN = 1 to establish a video link, or CLINKEN
cations. In either application, the control link is available   = 1 to establish the configuration link. After locking to
after the video link or the configuration link is established.  a stable clock (for SEREN = 1) or the internal oscillator
Then the GMSL registers or the peripherals are ready for        (for CLINKEN = 1), the GMSL serializer sends a wake-
programming.                                                    up signal to the deserializer. The deserializer exits sleep
                                                                mode after locking to the serial data and sets SLEEP =
                          Video-Display Applications            0. If after 8ms the deserializer does not lock to the input
For video-display applications, connect the FC to the           serial data, the deserializer goes back to sleep, and the
GMSL serializer and set CDS = low for both the GMSL             internal sleep bit remains set (SLEEP = 1).
serializer and deserializer. Table 9 summarizes the four
startup cases based on the settings of AUTOS and MS.                                 Case 3: Remote-Side Autostart Mode
                                                                After power-up or when PWDN transitions from low to high,
                                    Case 1: Autostart Mode      the remote device (deserializer) starts up and tries to lock
After power-up or when PWDN transitions from low to             to an incoming serial signal with sufficient power. The host
high for both the GMSL serializer and deserializer, the         side (GMSL serializer) is in standby mode and does not try
serial link is established if a stable clock is present. The    to establish a link. Use the FC and program the GMSL seri-
GMSL serializer locks to the clock and sends the serial         alizer to set SEREN = 1 (and apply a stable clock signal)
data to the deserializer. The deserializer then detects         to establish a video link, or CLINKEN = 1 to establish the
activity on the serial link and locks to the input serial data. configuration link. In this case, the deserializer ignores the
                               Case 2: Standby Start Mode       short wake-up signal sent from the GMSL serializer.
After power-up or when PWDN transitions from low to
high for both the GMSL serializer and deserializer, the
Table 9. Startup Selection for Display Applications (Both CDS = Low)
                                  GMSL                                 GMSL
                AUTOS
                              SERIALIZER           MS (GMSL     DESERIALIZER
  CASE          (GMSL                                                                           LINK STARTUP MODE
                               POWER-UP         DESERIALIZER)      POWER-UP
             SERIALIZER)
                                  STATE                               STATE
                               Serialization                          Normal         Both devices power up with the serial link
     1            Low                                 Low
                                 enabled                           (SLEEP = 0)       active (autostart).
                                                                                     Serial link is disabled and the deserializer
                                                                                     powers up in sleep mode. Set SEREN =
                               Serialization                       Sleep mode
     2           High                                 High                           1 or CLINKEN = 1 in the GMSL serializer
                                 disabled                          (SLEEP = 1)
                                                                                     to start the serial link and wake up the
                                                                                     deserializer.
                                                                                     Both devices power up in normal mode
                               Serialization                          Normal         with the serial link disabled. Set SEREN =
     3           High                                 Low
                                 disabled                          (SLEEP = 0)       1 or CLINKEN = 1 in the GMSL serializer
                                                                                     to start the serial link.
                                                                                     The deserializer starts in sleep mode. Link
                               Serialization                      In sleep mode      autostarts upon GMSL serializer power-
     4            Low                                 High
                                 enabled                           (SLEEP = 1)       up. Use this case when the deserializer
                                                                                     powers up before the GMSL serializer.
                    ���������������������������������������������������������������� Maxim Integrated Products   28


                                                                                                                                         MAX9266
                                               HDCP Gigabit Multimedia Serial Link
                                 Deserializer with LVDS System Interface
                          Case 4: Remote Side in Sleep Mode                               and sends the video data to the deserializer. The deseri-
After power-up or when PWDN transitions from low to                                       alizer locks to the serial data and outputs the video data
high, the remote device (deserializer) starts up in sleep                                 and clock.
mode. The high-speed link establishes automatically
                                                                                                                                          Case 2: Sleep Mode
after the GMSL serializer powers up with a stable clock
                                                                                          After power-up or when PWDN transitions from low to
signal and sends a wake-up signal to the deserializer.
                                                                                          high, the GMSL serializer starts up in sleep mode. To
Use this mode in applications where the deserializer
                                                                                          wake up the serializer, use the FC to send a GMSL pro-
powers up before the GMSL serializer.
                                                                                          tocol UART frame containing at least three rising edges
                            Image-Sensing Applications                                    (e.g., 0x66) at a bit rate no greater than 1Mbps. The
For image-sensing applications, connect the FC to the                                     low-power wake-up receiver of the serializer detects the
deserializer and set CDS = high for both the GMSL seri-                                   wake-up frame over the reverse control channel and
alizer and deserializer. The deserializer powers up nor-                                  powers up. Reset the sleep bit (SLEEP = 0) of the GMSL
mally (SLEEP = 0) and continuously tries to lock to a valid                               serializer using a control-channel write packet to power
serial input. Table 10 summarizes both startup cases,                                     up the device. Send the sleep bit reset write packet at
based on the state of the GMSL serializer AUTOS pin.                                      least 500Fs after the wake-up frame. The GMSL serializer
                                                                                          goes back to sleep mode if its sleep bit is not reset within
                                            Case 1: Autostart Mode
                                                                                          5ms (min) after detecting a wake-up frame.
After power-up, or when PWDN transitions from low to
high, the GMSL serializer locks to a stable input clock
                                                            SLEEP = 1, VIDEO LINK OR CONFIG
                                                              LINK NOT LOCKED AFTER 8ms
                                                                                                                                 CONFIG LINK
       MS PIN        SLEEP BIT                                                                                                                     CONFIG LINK
                                                                                                                                  UNLOCKED
       SETTING    POWER-UP VALUE                          WAKE-UP               POWER-ON        SIGNAL        SERIAL PORT                           OPERATING
                                           SLEEP
         LOW             0                                 SIGNAL                  IDLE        DETECTED         LOCKING                             PROGRAM
        HIGH             1                                                                                                       CONFIG LINK
                                                                                                                                                    REGISTERS
                                                                                                                                   LOCKED
                                                                                                                                                      0       SLEEP
                         SERIAL LINK ACTIVITY STOPS OR 8ms ELAPSES AFTER                                VIDEO LINK                      VIDEO LINK
                                                                                         PWDN = HIGH,    LOCKED                         UNLOCKED
                                         FC SETS SLEEP = 1                               POWER-ON
                        INT CHANGES FROM
                          LOW TO HIGH OR                                                                                     PRBSEN = 0
        SEND INT TO                                                               POWER-DOWN               VIDEO LINK                           VIDEO LINK
                           HIGH TO LOW                      PWDN = LOW OR
                                             ALL STATES                                 OR                 OPERATING                            PRBS TEST
      GMSL SERIALIZER                                          POWER-OFF            POWER-OFF                                PRBSEN = 1
                                                                                                                0      SLEEP
Figure 22. State Diagram, CDS = Low (Display Application)
                       ���������������������������������������������������������������� Maxim Integrated Products   29


                                                                                                                    MAX9266
                                          HDCP Gigabit Multimedia Serial Link
                              Deserializer with LVDS System Interface
Table 10. Startup Selection for Image-Sensing Application (Both CDS = High)
                  AUTOS                                                     GMSL
                                        GMSL SERIALIZER
    CASE           (GMSL                                              DESERIALIZER                       LINK STARTUP MODE
                                         POWER-UP STATE
                SERIALIZER)                                         POWER-UP STATE
                                                                            Normal
      1               Low               Serialization enabled                                Autostart.
                                                                         (SLEEP = 0)
                                                                                             GMSL serializer is in sleep mode. Wake
                                              Sleep mode                    Normal
      2              High                                                                    up the GMSL serializer through the control
                                              (SLEEP = 1)                (SLEEP = 0)
                                                                                             channel (FC attached to deserializer).
                                     POWER-ON                                    CONFIG LINK      CONFIG
                                        IDLE           SIGNAL                     UNLOCKED    LINK OPERATING
                                                                 SERIAL PORT
                                      (REVERSE        DETECTED     LOCKING                       PROGRAM
                                                                                 CONFIG LINK
                                      CHANNEL                                                    REGISTERS
                                       ACTIVE)                                     LOCKED
                       NO SIGNAL                   PWDN = HIGH, VIDEO LINK      VIDEO LINK
                       DETECTED                     POWER-ON     LOCKED         UNLOCKED
                                                    POWER-DOWN
                                 PWDN = LOW OR                                                PRBSEN = 0
                   ALL STATES                            OR
                                   POWER-OFF                                    VIDEO LINK                    VIDEO LINK
                                                     POWER-OFF
                                                                                OPERATING                     PRBS TEST
                                                                                              PRBSEN = 1
Figure 23. State Diagram, CDS = High (Camera Application)
                        High-Bandwidth Digital                             begins checking BKSV against the revocation list. Using
                                                                           the cipher, the GMSL serializer and deserializer calculate
               Content Protection (HDCP)                                   a 16-bit response value, R0 and R0’, respectively. The
Note: The explanation of HDCP operation in this data                       GMSL amendment for HDCP reduces the 100ms mini-
sheet is provided as a guide for general understanding.                    mum wait time allowed for the receiver to generate R0’
Implementation of HDCP in a product must meet the                          (specified in HDCP rev 1.3) to 128 pixel clock cycles in
requirements given in the HDCP System v1.3 Amendment                       the GMSL amendment.
for GMSL, which is available from DCP.                                     There are two response-value comparison modes: inter-
HDCP has two main phases of operation: authentication                      nal comparison and FC comparison. Set EN_INT_COMP
and the link integrity check. The FC starts authentica-                    = 1 to select internal comparison mode. Set EN_INT_
tion by writing to the START_AUTHENTICATION bit in                         COMP = 0 to select FC comparison mode. In inter-
the GMSL serializer. The GMSL serializer generates a                       nal comparison mode, the FC reads the deserializer
64-bit random number. The host FC first reads the 64-bit                   response R0’ and writes it to the GMSL serializer. The
random number from the GMSL serializer and writes it                       GMSL serializer compares R0’ to its internally generated
to the deserializer. The FC then reads the GMSL seri-                      response value R0, and sets R0_RI_MATCHED. In FC
alizer public key selection vector (AKSV) and writes it                    comparison mode, the FC reads and compares the R0/
to the deserializer. The FC then reads the deserializer                    R0’ values from the GMSL serializer/deserializer.
KSV (BKSV) and writes it to the GMSL serializer. The FC
                    ���������������������������������������������������������������� Maxim Integrated Products   30


                                                                                                    MAX9266
                                      HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
During response-value generation and comparison, the                               Synchronization of Encryption
host FC checks for a valid BKSV (having 20 1s and 20          The video vertical sync (VSYNC) synchronizes the start
0s is also reported in BKSV_INVALID) and checks BKSV          of encryption. Once encryption has started, the GMSL
against the revocation list. If BKSV is not on the list       generates a new encryption key for each frame and each
and the response values match, the host authenticates         line, with the internal falling edge of VSYNC and HSYNC.
the link. If the response values do not match, the FC         Rekeying is transparent to data and does not disrupt the
resamples the response values (as described in HDCP           encryption of video or audio data.
rev 1.3, Appendix C). If resampling fails, the FC restarts
authentication by setting the RESET_HDCP bit in the                                                Repeater Support
GMSL serializer. If BKSV appears on the revocation            The GMSL serializer/deserializer include features to build
list, the host cannot transmit data that requires protec-     an HDCP repeater. An HDCP repeater receives and
tion. The host knows when the link is authenticated and       decrypts HDCP content and then encrypts and trans-
decides when to output data requiring protection. The         mits on one or more downstream links. A repeater can
FC performs a link integrity check every 128 frames or        also use decrypted HDCP content (e.g., to display on a
every 2s Q0.5s. The GMSL serializer/deserializer gener-       screen). To support HDCP repeater-authentication pro-
ate response values every 128 frames. These values are        tocol, the deserializer has a REPEATER register bit. This
compared internally (internal comparison mode) or can         register bit must be set to 1 by a FC (most likely on the
be compared in the host FC.                                   repeater module). Both the GMSL serializer and deserial-
                                                              izer use SHA-1 hash-value calculation over the assem-
In addition, the GMSL serializer/deserializer provide         bled KSV lists. HDCP GMSL links support a maximum of
response values for the enhanced link verification.           15 receivers (total number including the ones in repeater
Enhanced link verification is an optional method of link      modules). If the total number of downstream receivers
verification for faster detection of loss-of-synchronization. exceeds 14, the FC must set the MAX_DEVS_EXCEEDED
For this option, the GMSL serializer and deserializer gen-    register bit when it assembles the KSV list.
erate 8-bit enhanced link-verification response values
(PJ and PJ’) every 16 frames. The host must detect three           HDCP Authentication Procedures
consecutive PJ/PJ’ mismatches before resampling.
                                                              The GMSL serializer generates a 64-bit random number
                                     Encryption Enable
                                                              exceeding the HDCP requirement. The GMSL serial-
The GMSL link transfers either encrypted or nonen-
                                                              izer/deserializer internal one-time programmable (OTP)
crypted data. To encrypt data, the host FC sets the
                                                              memories contain a unique HDCP keyset programmed at
encryption enable (ENCRYPTION_ENABLE) bit in both
                                                              the factory. The host FC initiates and controls the HDCP
the GMSL serializer and deserializer. The FC must set
                                                              authentication procedure. The GMSL serializer and dese-
ENCRYPTION_ENABLE in the same VSYNC cycle in both
                                                              rializer generate HDCP authentication response values
the GMSL serializer and deserializer (no internal VSYNC
                                                              for the verification of authentication. Use the following
falling edges between the two writes). The same timing
                                                              procedures to authenticate the HDCP GMSL encryption
applies when clearing ENCRYPTION_ENABLE to disable
                                                              (refer to the HDCP 1.3 Amendment for GMSL for details).
encryption.
                                                              The FC must perform link integrity checks while encryp-
Note: ENCRYPTION_ENABLE enables/disables encryp-              tion is enabled (see Table 12). Any event that indicates
tion on the GMSL irrespective of the content. To comply       that the deserializer has lost link synchronization should
with HDCP, the FC must not allow content requiring            retrigger authentication. The FC must first write 1 to the
encryption to cross the GMSL unencrypted.                     RESET_HDCP bit in the GMSL serializer before starting a
The FC must complete the authentication process before        new authentication attempt.
enabling encryption. In addition, encryption must be dis-
abled before starting a new authentication session.
                    ���������������������������������������������������������������� Maxim Integrated Products   31


                                                                                                           MAX9266
                                       HDCP Gigabit Multimedia Serial Link
                            Deserializer with LVDS System Interface
                                                                                                HDCP Protocol Summary
Table 11, 12, and 13 list the summaries of the HDCP protocol. These tables serve as an implementation guide only.
Meet the requirements in the GMSL amendment for HDCP to be in full compliance.
Table 11. Startup, HDCP Authentication, and Normal Operation (Deserializer is not a
Repeater)—First Part of the HDCP Authentication Protocol
  NO.                            µC                          HDCP GMSL SERIALIZER                HDCP GMSL DESERIALIZER
                                                          Powers up waiting for HDCP         Powers up waiting for HDCP
   1    Initial state after power-up.
                                                          authentication.                    authentication.
        Makes sure that A/V data not requiring
        protection (low-value content) is available at
        the GMSL serializer inputs (such as blue or
        informative screen). Alternatively, uses the
   2    FORCE_VIDEO and FORCE_AUDIO bits of                                —                                  —
        the GMSL serializer to mask A/V data at the
        input of the GMSL serializer. Starts the link by
        writing SEREN = H or link starts automatically
        if AUTOS is low.
                                                          Starts serialization and transmits Locks to incoming data stream and
   3                              —
                                                          low-value content A/V data.        outputs low-value content A/V data.
        Reads the locked bit of the deserializer and
   4                                                                       —                                  —
        makes sure the link is established.
                                                          Combines seed with internally
        Optionally writes a random-number seed to         generated random number. If
   5                                                                                                          —
        the GMSL serializer.                              no seed provided, only internal
                                                          random number is used.
        If HDCP encryption is required, starts            Generates (stores) AN, and
        authentication by writing 1 to the                resets the
   6                                                                                                          —
        START_AUTHENTICATION bit of the GMSL              START_AUTHENTICATION bit
        serializer.                                       to 0.
        Reads AN and AKSV from the GMSL serializer                                           Generates R0’ triggered by the FC’s
   7                                                                       —
        and writes to the deserializer.                                                      write of AKSV.
        Reads the BKSV and REPEATER bit from and          Generates R0, triggered by the
   8                                                                                                          —
        writes to the GMSL serializer.                    FC’s write of BKSV.
        Reads the INVALID_BKSV bit of the GMSL
        serializer and continues with authentication
   9    if it is 0. Authentication can be restarted if it                  —                                  —
        fails (set RESET_HDCP = 1 before restarting
        authentication).
                     ���������������������������������������������������������������� Maxim Integrated Products   32


                                                                                                      MAX9266
                                      HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
Table 11. Startup, HDCP Authentication, and Normal Operation (Deserializer is not a
Repeater)—First Part of the HDCP Authentication Protocol (continued)
  NO.                           µC                         HDCP GMSL SERIALIZER            HDCP GMSL DESERIALIZER
      Reads R0’ from the deserializer and reads
      R0 from the GMSL serializer. If they match,
      continues with authentication; otherwise,
      retries up to two more times (optionally,
  10                                                                    —                                 —
      GMSL serializer comparison can be used to
      detect if R0/R0’ match). Authentication can
      be restarted if it fails (set RESET_HDCP = 1
      before restarting authentication).
      Waits for the VSYNC falling edge (internal to
      the GMSL serializer) and then sets the
      ENCRYPTION_ENABLE bit to 1 in the                 Encryption enabled after the    Decryption enabled after the next
  11
      deserializer and GMSL serializer (if the FC is    next VSYNC falling edge.        VSYNC falling edge.
      not able to monitor VSYNC, it can utilize the
      VSYNC_DET bit in the GMSL serializer).
      Checks that BKSV is not in the Key
      Revocation list and continues if it is not.
  12  Authentication can be restarted if it fails.                      —                                 —
      Note: Revocation list check can start after
      BKSV is read in step 8.
      Starts transmission of A/V content that needs     Performs HDCP encryption on     Performs HDCP decryption on high-
  13
      protection.                                       high-value content A/V data.    value content A/V data.
Table 12. Link Integrity Check (Normal)—Performed Every 128 Frames After Encryption
is Enabled
  NO.                           µC                         HDCP GMSL SERIALIZER            HDCP GMSL DESERIALIZER
                                                        Generates Ri and updates the
                                                                                        Generates Ri’ and updates the RI’
   1                            —                       RI register every 128 VSYNC
                                                                                        register every 128 VSYNC cycles.
                                                        cycles.
                                                        Continues to encrypt and trans- Continues to receive, decrypt, and
   2                            —
                                                        mit A/V data.                   output A/V data.
      Every 128 video frames (VSYNC cycles) or
   3                                                                    —                                 —
      every 2s.
   4  Reads RI from the GMSL serializer.                                —                                 —
   5  Reads RI’ from the deserializer.                                  —                                 —
      Reads RI again from the GMSL serializer and
      makes sure it is stable (matches the previous
   6                                                                    —                                 —
      RI that it has read from the GMSL serializer). If
      RI is not stable, go back to step 5.
                  ���������������������������������������������������������������� Maxim Integrated Products   33


                                                                                                         MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                         Deserializer with LVDS System Interface
Table 12. Link Integrity Check (Normal)—Performed Every 128 Frames After Encryption
is Enabled (continued)
  NO.                         µC                            HDCP GMSL SERIALIZER              HDCP GMSL DESERIALIZER
      If RI matches RI’, the link integrity check is
   7                                                                     —                                   —
      successful; go back to step 3.
      If RI does not match RI’, the link integrity
      check fails. After the detection of failure of link
      integrity check, the FC makes sure that A/V
      data not requiring protection (low-value con-
   8  tent) is available at the GMSL serializer inputs                   —                                   —
      (such as blue or informative screen). Alterna-
      tively, the FORCE_VIDEO and FORCE_AUDIO
      bits of the GMSL serializer can be used to
      mask A/V data input of the GMSL serializer.
      Writes 0 to the ENCRYPTION_ENABLE bit of            Disables encryption and trans-   Disables decryption and outputs
   9
      the GMSL serializer and deserializer.               mits low-value content A/V data. low-value content A/V data.
      Restarts authentication by writing 1 to the
      RESET_HDCP bit followed by writing 1 to the
  10                                                                     —                                   —
      START_AUTHENTICATION bit in the GMSL
      serializer.
Table 13. Optional Enhanced Link Integrity Check—Performed Every 16 Frames After
Encryption is Enabled
  NO.                         µC                            HDCP GMSL SERIALIZER              HDCP GMSL DESERIALIZER
                                                          Generates Pj and updates the
                                                                                           Generates Pj’ and updates the PJ’
   1                           —                          PJ register every 16 VSYNC
                                                                                           register every 16 VSYNC cycles.
                                                          cycles.
                                                          Continues to encrypt and trans-  Continues to receive, decrypt, and
   2                           —
                                                          mit A/V data.                    output A/V data.
       Every 16 video frames, reads PJ from the
   3                                                                     —                                   —
       GMSL serializer and PJ’ from the deserializer.
       If PJ matches PJ’, the enhanced link integrity
   4                                                                     —                                   —
       check is successful; go back to step 3.
                  ���������������������������������������������������������������� Maxim Integrated Products   34


                                                                                                                     MAX9266
                                           HDCP Gigabit Multimedia Serial Link
                             Deserializer with LVDS System Interface
Table 13. Optional Enhanced Link Integrity Check—Performed Every 16 Frames After
Encryption is Enabled (continued)
  NO.                              µC                                   HDCP GMSL SERIALIZER             HDCP GMSL DESERIALIZER
          If there is a mismatch, retry up to two more
          times from step 3. Enhanced link integrity
          check fails after 3 mismatches. After the
          detection of failure of enhanced link integrity
          check, the FC makes sure that A/V data not
    5     requiring protection (low-value content) is                                    —                              —
          available at the GMSL serializer inputs (such
          as blue or informative screen). Alternatively,
          the FORCE_VIDEO and FORCE_AUDIO bits
          of the GMSL serializer can be used to mask
          A/V data input of the GMSL serializer.
          Writes 0 to the ENCRYPTION_ENABLE bit of                   Disables encryption and trans-   Disables decryption and outputs
    6
          the GMSL serializer and deserializer.                      mits low-value content A/V data. low-value content A/V data.
          Restarts authentication by writing 1 to the
          RESET_HDCP bit followed by writing 1 to the
    7                                                                                    —                              —
          START_AUTHENTICATION bit in the GMSL
          serializer.
                                                                                                 Example Repeater Network—Two µCs
The example shown in Figure 24 has one repeater and two FCs. Table 14 summarizes the authentication operation.
                              BD-DRIVE                  REPEATER                                              DISPLAY 1
                                    TX_B1               RX_R1                                  TX_R1          RX_D1
                                                                                VIDEO
                           µC_B                                                ROUTING
                                                                                                              DISPLAY 2
                            MEMORY
                           WITH SRM                     RX_R2                    µC_R          TX_R2          RX_D2
                                       VIDEO CONNECTION
                                       CONTROL CONNECTION 1 (µC_B IN BD-DRIVE IS MASTER)
                                       CONTROL CONNECTION 2 (µC_R IN REPEATER IS MASTER)
Figure 24. Example Network with One Repeater and Two µCs (Tx = GMSL Serializer’s, Rx = Deserializer’s)
                     ���������������������������������������������������������������� Maxim Integrated Products   35


                                                                                               MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
Table 14. HDCP Authenticaion and Normal Operation (One Repeater, Two µCs)—First
and Second Parts of the HDCP Authentication Protocol
                                                                                HDCP GMSL            HDCP GMSL
                                                                                SERIALIZER         DESERIALIZER
                                                                              (TX_B1, TX_R1,       (RX_R1, RX_D1,
 NO.                   µC_B                              µC_R                     TX_R2)               RX_D2)
                                                                              TX_B1 CDS = 0        RX_R1 CDS = 1
                                                                              TX_R1 CDS = 0        RX_D1 CDS = 0
                                                                              TX_R2 CDS = 0        RX_D2 CDS = 0
                                                                         All: Power-up        All: Power-up
  1    Initial state after power-up.     Initial state after power-up.   waiting for HDCP     waiting for HDCP
                                                                         authentication.      authentication.
                                         Writes REPEATER = 1 in
                                         RX_R1. Retries until proper
                                         acknowledge frame received.
                                         Note: This step must be
                                         completed before the first part
                                         of authentication is started
                                         between TX_B1 and RX_R1 by
  2                      —                                                           —                    —
                                         the FC_B (step 7). For example,
                                         to satisfy this requirement,
                                         RX_R1 can be held at power-
                                         down until FC_R is ready to
                                         write the REPEATER bit, or
                                         FC_B can poll FC_R before
                                         starting authentication.
       Makes sure that A/V data
       not requiring protection (low-
       value content) is available at
       the TX_B1 inputs (such as
       blue or informative screen).
                                                                         TX_B1: Starts        RX_R1: Locks to
       Alternatively, the FORCE_
                                                                         serialization and    incoming data stream
  3    VIDEO and FORCE_AUDIO                               —
                                                                         transmits low-value  and outputs low-value
       bits of TX_B1 can be used to
                                                                         content A/V data.    content A/V data.
       mask A/V data input of TX_B1.
       Starts the link between TX_B1
       and RX_R1 by writing SEREN
       = H to TX_B1, or link starts
       automatically if AUTOS is low.
                                         Starts all downstream links                          RX_D1, RX_D2: Locks
                                                                         TX_R1, TX_R2: Starts
                                         by writing SEREN = H to                              to incoming data
                                                                         serialization and
  4                      —               TX_R1, TX_R2, or links start                         stream and outputs
                                                                         transmits low-value
                                         automatically if AUTOS of                            low-value content A/V
                                                                         content A/V data.
                                         transmitters are low.                                data.
                   ���������������������������������������������������������������� Maxim Integrated Products   36


                                                                                              MAX9266
                                      HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
Table 14. HDCP Authenticaion and Normal Operation (One Repeater, Two µCs)—First
and Second Parts of the HDCP Authentication Protocol (continued)
                                                                               HDCP GMSL          HDCP GMSL
                                                                               SERIALIZER       DESERIALIZER
                                                                             (TX_B1, TX_R1,     (RX_R1, RX_D1,
 NO.                   µC_B                            µC_R                      TX_R2)             RX_D2)
                                                                             TX_B1 CDS = 0      RX_R1 CDS = 1
                                                                             TX_R1 CDS = 0      RX_D1 CDS = 0
                                                                             TX_R2 CDS = 0      RX_D2 CDS = 0
                                         Reads the locked bit of RX_D1
                                         and makes sure the link
       Reads the locked bit of
                                         between TX_R1 and RX_D1 is
       RX_R1 and makes sure the link
  5                                      established. Reads the locked             —                   —
       between TX_B1 and RX_R1 is
                                         bit of RX_D2 and makes sure
       established.
                                         the link between TX_R2 and
                                         RX_D2 is established.
                                         Writes 1 to the GPIO_0_
                                         FUNCTION and GPIO_1_
                                         FUNCTION bits in RX_R1 to
       Optionally, writes a random
  6                                      change GPIO functionality used            —                   —
       number seed to TX_B1.
                                         for HDCP purpose. Optionally,
                                         writes a random-number seed
                                         to TX_R1 and TX_R2.
       Starts and completes the                                          TX_B1: According
                                                                                             RX_R1: According to
       first part of the authentication                                  to commands from
  7                                                      —                                   commands from FC_B,
       protocol between TX_B1, RX_R1                                     FC_B, generates AN,
                                                                                             computes R0’.
       (see steps 6–10 in Table 11).                                     computes R0.
                                         When GPIO_1 = 1 is detected,
                                                                         TX_R1, TX_R2:
                                         starts and completes the first                      RX_D1, RX_D2:
                                                                         According to
                                         part of the authentication                          According to
  8                      —                                               commands from
                                         protocol between the (TX_R1,                        commands from FC_R,
                                                                         FC_R, generates AN,
                                         RX_D1) and (TX_R2, RX_D2) links                     computes R0’.
                                                                         computes R0.
                                         (see steps 6–10 in Table 11).
       Waits for the VSYNC falling
       edge and then enables
       encryption on the (TX_B1,
       RX_R1) link. Full authentication
                                                                         TX_B1: Encryption   RX_R1: Decryption
       is not complete yet so it makes
  9                                                      —               enabled after next  enabled after next
       sure A/V content that needs
                                                                         VSYNC falling edge. VSYNC falling edge.
       protection is not transmitted.
       Since REPEATER = 1 was read
       from RX_R1, the second part of
       authentication is required.
                   ���������������������������������������������������������������� Maxim Integrated Products   37


                                                                                                  MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                         Deserializer with LVDS System Interface
Table 14. HDCP Authenticaion and Normal Operation (One Repeater, Two µCs)—First
and Second Parts of the HDCP Authentication Protocol (continued)
                                                                              HDCP GMSL                HDCP GMSL
                                                                              SERIALIZER              DESERIALIZER
                                                                            (TX_B1, TX_R1,           (RX_R1, RX_D1,
 NO.                  µC_B                            µC_R                       TX_R2)                   RX_D2)
                                                                            TX_B1 CDS = 0             RX_R1 CDS = 1
                                                                            TX_R1 CDS = 0             RX_D1 CDS = 0
                                                                            TX_R2 CDS = 0             RX_D2 CDS = 0
                                        When GPIO_0 = 1 is detected,    TX_R1, TX_R2:            RX_D1, RX_D2:
                                        enables encryption on the       Encryption enabled       Decryption enabled
  10                    —
                                        (TX_R1, RX_D1) and (TX_R2,      after next VSYNC falling after next VSYNC falling
                                        RX_D2) links.                   edge.                    edge.
                                                                                                 RX_R1: Control channel
                                        Blocks control channel
                                                                                                 from serializer side
                                        from FC_B side by setting
                                                                                                 (TX_B1) is blocked after
  11                                    REVCCEN = FWDCCEN = 0                       —
                                                                                                 FWDCCEN =
                                        in RX_R1. Retries until proper
                                                                                                 REVCCEN = 0 is
                                        acknowledge frame received.
                                                                                                 written.
       Waits for some time to allow                                                              RX_R1: Triggered by
       FC_R to make the KSV list ready  Writes BKSVs of RX_D1 and                                FC_R’s write of BINFO,
       in RX_R1. Then polls (reads)     RX_D2 to the KSV list in RX_R1.                          calculates hash value
  12   the KSV_LIST_READY bit of                                                    —
                                        Then, calculates and writes the                          (V’) on the KSV list,
       RX_R1 regularly until proper     BINFO register of RX_R1.                                 BINFO and the secret-
       acknowledge frame is received                                                             value M0’.
       and bit is read as 1.
                                        Writes 1 to the KSV_LIST_                                RX_R1: Control channel
                                        READY bit of RX_R1 and then                              from the serializer side
                                        unblocks the control channel                             (TX_B1) is unblocked
  13                                                                                —
                                        from the FC_B side by setting                            after FWDCCEN =
                                        REVCCEN = FWDCCEN = 1 in                                 REVCCEN = 1 is
                                        RX_R1.                                                   written.
       Reads the KSV list and BINFO
       from RX_R1 and writes them                                       TX_B1: Triggered by
       to TX_B1. If any of the MAX_                                     FC_B’s write of BINFO,
       DEVS_EXCEEDED or MAX_                                            calculates hash value
  14                                                    —                                                    —
       CASCADE_EXCEEDED bits                                            (V) on the KSV list,
       is 1, then authentication fails.                                 BINFO and the secret-
       Note: BINFO must be written                                      value M0.
       after the KSV list.
                  ���������������������������������������������������������������� Maxim Integrated Products   38


                                                                                                  MAX9266
                                       HDCP Gigabit Multimedia Serial Link
                            Deserializer with LVDS System Interface
Table 14. HDCP Authenticaion and Normal Operation (One Repeater, Two µCs)—First
and Second Parts of the HDCP Authentication Protocol (continued)
                                                                                HDCP GMSL
                                                                                                       HDCP GMSL
                                                                                SERIALIZER
                                                                                                  DESERIALIZER (RX_
                                                                              (TX_B1, TX_R1,
                                                                                                   R1, RX_D1, RX_D2)
   NO.                  µC_B                         µC_R                         TX_R2)
                                                                              TX_B1 CDS = 0           RX_R1 CDS = 1
                                                                              TX_R1 CDS = 0           RX_D1 CDS = 0
                                                                              TX_R2 CDS = 0           RX_D2 CDS = 0
          Reads V from TX_B1 and V’
          from RX_R1. If they match,
   15     continues with authentication;              —                              —                       —
          otherwise, retries up to two
          more times.
          Searches for each KSV in the
   16     KSV list and BKSV of RX_R1 in               —                              —                       —
          the Key Revocation list.
          If keys are not revoked,
          the second part of the
   17                                                 —                              —                       —
          authentication protocol is
          completed.
                                                                         All: Perform HDCP       All: Perform HDCP
          Starts transmission of A/V
   18                                                 —                  encryption on high-     decryption on high-
          content that needs protection.
                                                                         value A/V data.         value A/V data.
                          Detection and Action Upon          1)   Host FC begins authentication with the HDCP repeat-
                              New Device Connection               er’s input receiver.
When a new device is connected to the system, the            2)   When AKSV is written to HDCP repeater’s input
device must be authenticated and the device’s KSV                 receiver, its AUTH_STARTED bit is automatically set
checked against the revocation list. The downstream               and its GPIO1 goes high (if GPIO1_FUNCTION is set
FCs can set the NEW_DEV_CONN bit of the upstream                  to high).
receiver and invoke an interrupt to notify upstream FCs.
                                                             3)   HDCP repeater’s FC waits for a low-to-high transition
   Notification of Start of Authentication and                    on HDCP repeater input receiver’s AUTH_STARTED
  Enable of Encryption to Downstream Links                        bit and/or GPIO1 (if configured) and starts authenti-
HDCP repeaters do not immediately begin authentication            cation downstream.
upon startup or detection of a new device, but instead       4)   HDCP repeater’s FC resets the AUTH_STARTED bit.
wait for an authentication request from the upstream
transmitter/repeaters.                                       Set GPIO0_FUNCTION to high to have GPIO0 follow the
                                                             ENCRYPTION_ENABLE bit of the receiver. The repeater
Use the following procedure to notify downstream links of    FC can use this function for notification when encryption
the start of a new authentication request:                   is enabled/disabled by an upstream FC.
                    ���������������������������������������������������������������� Maxim Integrated Products   39


                                                                                                     MAX9266
                                       HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
                   Applications Information                             Microcontrollers on Both Sides of the
                                                                                    GMSL Link (Dual µC Control)
                                          Error Checking     Usually the microcontroller is either on the GMSL serial-
The deserializer checks the serial link for errors and       izer side for video-display applications or on the deserial-
stores the number of detected decoding errors in the         izer side for image-sensing applications. For the former
8-bit register, DECERR (0x0D). If a large number of          case, both the CDS pins of the GMSL serializer and
8b/10b decoding or parity errors are detected within a       deserializer are set to low, and for the latter case, the
short duration (error rate R 1/4), the deserializer loses    CDS pins are set to high. However, if the CDS pin of the
lock and stops the error counter. The deserializer then      GMSL serializer is low and the same pin of the deserial-
attempts to relock to the serial data. DECERR resets         izer is high, then the GMSL serializer/deserializer connect
upon successful video link lock, successful readout of       to both FCs simultaneously. In such a case, the FCs on
DECERR (through UART), or whenever autoerror reset is        either side can communicate with the GMSL serializer
enabled. The deserializer does not check for decoding or     and deserializer.
parity errors during the internal PRBS test and DECERR       Contentions of the control link can happen if the FCs on
is reset to 0x00.                                            both sides are using the link at the same time. The GMSL
                                                ERR Output   serializer/deserializer do not provide the solution for con-
The deserializer has an open-drain ERR output. This          tention avoidance. The serializer/deserializer do not send
output asserts low whenever the number of decoding           an acknowledge frame when communication fails due to
errors exceeds the error threshold ERRTHR (0x0C) dur-        contention. Users can always implement a higher layer
ing normal operation, or when at least one PRBS error is     protocol to avoid the contention. In addition, if UART
detected during PRBS test. ERR reasserts high whenever       communication across the serial link is not required, the
DECERR (0x0D) resets due to DECERR readout, video            FCs can disable the forward and reverse control channel
link lock, or autoerror reset.                               through the FWDCCEN and REVCCEN bits (0x04, D[1:0])
                                                             in the GMSL serializer/deserializer. UART communication
                                            Autoerror Reset  across the serial link is stopped and contention between
The default method to reset errors is to read the respective FCs no longer occurs. During dual FC operation, if one
error registers in the deserializer (0x0D, 0x0E). Autoerror  of the CDS pins on either side changes state, the link
reset clears the decoding error counter DECERR and the       resumes the corresponding state described in the Link
ERR output ~1Fs after ERR goes low. Autoerror reset is       Startup Procedure section.
disabled on power-up. Enable autoerror reset through
                                                             As an example of dual FC use in an image-sensing appli-
AUTORST (0x06, D6). Autoerror reset does not run when
                                                             cation, the GMSL serializer can be in sleep mode and
the device is in PRBS test mode.
                                                             waiting for wake-up by the deserializer. After wake-up, the
                                          PRBS Self-Test     serializer-side FC sets the GMSL serializer’s CDS pin low
The GMSL serializer/deserializer link includes a PRBS        and assumes master control of the serializer’s registers.
pattern generator and a bit-error verification function.
                                                                                     HSYNC/VSYNC Glitch Filter
First, disable the glitch filters (set DISVSFILT, DISHSFILT
                                                             The deserializer contains one-cycle glitch filters on
to 1) in the deserializer. Next, disable VSYNC/HSYNC
                                                             HSYNC and VSYNC. This eliminates single-cycle glitches
inversion in both the GMSL serializer and deserializer
                                                             in HSYNC and VSYNC that can cause a loss of HDCP
(set INVVSYNC, INVHSYNC to 0). Then, set PRBSEN = 1
                                                             synchronization between the GMSL serializer and dese-
(0x04, D5) in the GMSL serializer and then the deserial-
                                                             rializer while encryption is enabled. The glitch filters are
izer to start the PRBS self-test. Set PRBSEN = 0 (0x04,
                                                             on by default. Write to D[1:0] of register 0x08 in the dese-
D5) first in the deserializer and then the GMSL serializer
                                                             rializer to disable the glitch filters for HSYNC or VSYNC.
to exit the PRBS self-test. The deserializer uses an 8-bit
register (0x0E) to count the number of detected errors.      The glitch filter, when active, suppresses all single-cycle-
The control link also controls the start and stop of the     wide pulses sent. Disable the glitch filter before running
error counting. During PRBS mode, the device does not        PRBS BER tests. The internal BER checker assumes that
count decoding errors and the deserializer ERR output        the incoming bit stream is unaltered PRBS data.
reflects PRBS errors only.
                    ���������������������������������������������������������������� Maxim Integrated Products   40


                                                                                                     MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                           Deserializer with LVDS System Interface
                    Changing the Clock Frequency             is stored in register 0x00 of each device, while the dese-
Both the video clock rate (fTXCLKOUT_) and the control-      rializer device address is stored in register 0x01 of each
channel clock rate (fUART) can be changed on the fly to      device. To change the device address, first write to the
support applications with multiple clock speeds. It is rec-  device whose address changes (register 0x00 of the
ommended to enable the serial link after the video clock     GMSL serializer for serializer device-address change, or
stabilizes. Stop the video clock for 5Fs and restart the     register 0x01 of the deserializer for deserializer device-
serial link or toggle SEREN after each change in the video   address change). Then write the same address into the
clock frequency to recalibrate any automatic settings if     corresponding register on the other device (register 0x00
a clean frequency change cannot be guaranteed. The           of the deserializer for serializer device-address change,
reverse control channel remains unavailable for 350Fs        or register 0x01 of the GMSL serializer for deserializer
after serial link start or stop. Limit on-the-fly changes in device-address change).
fUART to factors of less than 3.5 at a time to ensure that
                                                                  3-Level Inputs for Default Device Address
the device recognizes the UART sync pattern. For exam-
                                                             ADD0 and ADD1 are 3-level inputs that control the dese-
ple, when lowering the UART frequency from 1Mbps to
                                                             rializer’s default-device slave addresses (see Table 2).
100kbps, first send data at 333kbps and then at 100kbps
                                                             Connect ADD0/ADD1 through a pullup resistor to IOVDD,
to have reduction ratios of 3 and 3.333, respectively.
                                                             a pulldown resistor to GND, or a high-impedance con-
Do not interrupt TXCLKOUT_ or change its frequency while     nection. For digital control, use three-state logic to drive
encryption is enabled; otherwise, HDCP synchronization       the 3-level logic inputs.
is lost and authentication must be repeated. To change
                                                             ADD0/ADD1 set the device addresses in the deserializer
the TXCLKOUT_ frequency, stop the high-value content
                                                             only and not the GMSL serializer. Set the GMSL serial-
A/V data. Then disable encryption in the GMSL serializer/
                                                             izer’s ADD0/ADD1 inputs to the same settings as the
deserializer within the same VSYNC cycle—encryption
                                                             deserializer; alternatively, write to register 0x00 and 0x01
stops at the next VSYNC falling edge. TXCLKOUT_ can
                                                             of the GMSL serializer to reflect any changes made due
now be changed/stopped. Reenable encryption before
                                                             to the 3-level inputs.
sending any high-value content A/V data.
                                                                                            Configuration Blocking
    Fast Detection of Loss-of-Synchronization
                                                             The deserializer can block changes to the non-HDCP
A measure of link quality is the recovery time from loss-
                                                             registers. Set CFGBLOCK to make all non-HDCP regis-
of-HDCP synchronization. With the GMSL, it is likely that
                                                             ters read only. Once set, the registers remain blocked
HDCP synchronization will not be lost unless the GMSL
                                                             until the supplies are removed or until PWDN is low.
synchronization is lost. The host can be quickly notified of
loss-of-lock by connecting the deserializer LOCK output                                   Backward Compatibility
to the INT input. If other sources use the interrupt input,  The deserializer is backward compatible with the non-
such as a touch-screen controller, the FC can implement      HDCP MAX9268 deserializer with the following exceptions:
a routine to distinguish between interrupts from loss-       •    UART packet delay at power-up: The FC must wait
of-sync and normal interrupts. Reverse control-channel            2.7ms before sending the first UART packet to the
communication does not require an active forward link             deserializer. This delay is < 200Fs for the MAX9268.
to operate and accurately tracks the LOCK status of the
GMSL link. LOCK asserts for video link only and not for      •    Glitch filters: The deserializer includes one-cycle
the configuration link.                                           glitch filters on HS and VS. For backward compat-
                                                                  ibility, disable the glitch filters by setting D[1:0] of
             Programming the Device Addresses                     register 0x08 to 0.
Both the GMSL serializer and the deserializer have
                                                             The pinouts and packages are the same for both
programmable device addresses. This allows multiple
                                                             devices. See Table 3 and the Pin Description section for
GMSL devices along with I2C peripherals to coexist on
                                                             backward-compatible pin mapping.
the same control channel. The serializer device address
                    ���������������������������������������������������������������� Maxim Integrated Products   41


                                                                                                       MAX9266
                                     HDCP Gigabit Multimedia Serial Link
                            Deserializer with LVDS System Interface
                                           Key Memory           AC-coupling isolates the receiver from DC voltages up to
Each device has a unique HDCP key set that is stored            the voltage rating of the capacitor. Four capacitors (two
in secure nonvolatile memory (NVM). The HDCP key set            at the serializer output and two at the deserializer input)
consists of forty 56-bit private keys and one 40-bit public     are needed for proper link operation and to provide
key. The NVM is qualified for automotive applications.          protection if either end of the cable is shorted to a high
                                                                voltage. AC-coupling blocks low-frequency ground shifts
                                                   GPIOs        and low-frequency common-mode noise.
The deserializer has two open-drain GPIOs available. When
not used for HDCP purposes (see the Notification of Start                   Selection of AC-Coupling Capacitors
of Authentication and Enable of Encryption to Downstream        Voltage droop and the digital sum variation (DSV) of
Links section), GPIO1OUT and GPIO0OUT (0x06, D3 and             transmitted symbols cause signal transitions to start
D1) set the output state of the GPIOs. The GPIO input           from different voltage levels. Because the transition time
buffers are always enabled. The input states are stored         is finite, starting the signal transition from different volt-
in GPIO1 and GPIO0 (0x06, D2 and D0). Set GPIO1OUT/             age levels causes timing jitter. The time constant for an
GPIO0OUT to 1 when using GPIO1/GPIO0 as an input.               AC-coupled link needs to be chosen to reduce droop
                                                                and jitter to an acceptable level. The RC network for an
                             Internal Input Pulldowns           AC-coupled link consists of the CML receiver termination
The control and configuration inputs on the deserializer        resistor (RTR), the CML driver termination resistor (RTD),
include an active pulldown to GND. Pulldowns are dis-           and the series AC-coupling capacitors (C). The RC time
abled when the device is shut down (PWDN = low) or put          constant for four equal-value series capacitors is (C x
into sleep mode. During power-up, keep all inputs driven        (RTD + RTR))/4. RTD and RTR are required to match the
or use external pullup/pulldown resistors to prevent addi-      transmission line impedance (usually 100I). This leaves
tional current consumption and undesired configuration          the capacitor selection to change the system time con-
due to undefined inputs.                                        stant. Use at least 0.2FF high-frequency surface-mount
            Choosing I2C/UART Pullup Resistors                  ceramic capacitors, with sufficient voltage rating to with-
Both I2C/UART open-drain lines require pullup resistors to      stand a short to battery, to pass the lower speed reverse
provide a logic-high level. There are trade-offs between        control-channel signal. Use capacitors with a case size
power dissipation and speed, and a compromise made              less than 3.2mm x 1.6mm to have lower parasitic effects
in choosing pullup resistor values. Every device connect-       to the high-speed signal.
ed to the bus introduces some capacitance even when                        Power-Supply Circuits and Bypassing
the device is not in operation. I2C specifies 300ns rise        The deserializer uses an AVDD and DVDD of 3.0V to
times to go from low to high (30% to 70%) for fast mode,        3.6V. All single-ended inputs and outputs on the dese-
which is defined for data rates up to 400kbps (see the I2C      rializer derive power from a 1.7V to 3.6V VIOVDD, which
specifications in the DC Electrical Characteristics and AC      scales with IOVDD. Proper voltage-supply bypassing is
Electrical Characteristics tables for details). To meet the     essential for high-frequency circuit stability.
fast-mode rise-time requirement, choose the pullup resis-
tors so rise time tR = 0.85 x RPULLUP x CBUS < 300ns.                                         Cables and Connectors
The waveforms are not recognized if the transition time         Interconnect for CML typically has a differential imped-
becomes too slow. The deserializer supports I2C/UART            ance of 100I. Use cables and connectors that have
rates up to 1Mbps.                                              matched differential impedance to minimize impedance
                                                                discontinuities. Twisted-pair and shielded twisted-pair
                                           AC-Coupling          cables tend to generate less EMI due to magnetic-field
                                                                canceling effects. Balanced cables pick up noise as com-
Table 15. Suggested Connectors and Cables for GMSL
                      VENDOR                               CONNECTOR                                   CABLE
  JAE Electronics, Inc.                                      MX38-FF                                A-BW-Lxxxxx
  Nissei Electric Co., Ltd.                                  GT11L-2S                             F-2WME AWG28
  Rosenberger Hochfrequenztechnik GmbH                    D4S10A-40ML5-Z                             Dacar 538
                     ���������������������������������������������������������������� Maxim Integrated Products   42


                                                                                                     MAX9266
                                   HDCP Gigabit Multimedia Serial Link
                          Deserializer with LVDS System Interface
mon mode rejected by the CML receiver. Table 15 lists the                                       RD
suggested cables and connectors used in the GMSL link.                               1MI      1.5kI
                                          Board Layout                      CHARGE-CURRENT- DISCHARGE
Separate the digital signals and CML/LVDS high-speed                         LIMIT RESISTOR RESISTANCE
                                                                     HIGH-
signals to prevent crosstalk. Use a four-layer PCB with             VOLTAGE              CS  STORAGE        DEVICE
separate layers for power, ground, CML/LVDS, and digi-                                100pF  CAPACITOR      UNDER
                                                                      DC
                                                                                                             TEST
tal signals. Lay out PCB traces close to each other for a           SOURCE
100I differential characteristic impedance. The trace
dimensions depend on the type of trace used (microstrip
or stripline). Note that two 50I PCB traces do not have
                                                            Figure 25. Human Body Model ESD Test Circuit
100I differential impedance when brought close togeth-
er because the impedance goes down when the traces                                              RD
are brought closer.                                                                           330I
Route the PCB traces for a CML/LVDS channel (there
                                                                            CHARGE-CURRENT- DISCHARGE
are two conductors per CML/LVDS channel) in parallel to                      LIMIT RESISTOR RESISTANCE
maintain the differential characteristic impedance. Avoid            HIGH-
                                                                                                            DEVICE
                                                                    VOLTAGE              CS  STORAGE
vias. Keep PCB traces that make up a differential pair                                150pF  CAPACITOR      UNDER
                                                                      DC
equal length to avoid skew within the differential pair.            SOURCE
                                                                                                             TEST
                                        ESD Protection
The deserializer ESD tolerance is rated for Human Body
Model, IEC 61000-4-2, and ISO 10605. The ISO 10605          Figure 26. IEC 61000-4-2 Contact Discharge ESD Test Circuit
and IEC 61000-4-2 standards specify ESD tolerance for
electronic systems. The serial link I/O are tested for ISO                                      RD
10605 ESD protection and IEC 61000-4-2 ESD protec-                                             2kI
tion. All pins are tested for the Human Body Model. The
                                                                            CHARGE-CURRENT- DISCHARGE
Human Body Model discharge components are CS =
                                                                             LIMIT RESISTOR RESISTANCE
100pF and RD = 1.5kI (Figure 25). The IEC 61000-4-2                  HIGH-
                                                                                         CS  STORAGE        DEVICE
discharge components are CS = 150pF and RD = 330I                   VOLTAGE
                                                                                      330pF                 UNDER
                                                                      DC                     CAPACITOR
(Figure 26). The ISO 10605 discharge components are                 SOURCE
                                                                                                             TEST
CS = 330pF and RD = 2kI (Figure 27).
                                                            Figure 27. ISO 10605 Contact Discharge ESD Test Circuit
                   ���������������������������������������������������������������� Maxim Integrated Products   43


                                                                                              MAX9266
                            HDCP Gigabit Multimedia Serial Link
                   Deserializer with LVDS System Interface
Table 16. GMSL Core Register Table (see Table 1)
 REGISTER                                                                                          DEFAULT
            BITS       NAME         VALUE                          FUNCTION
 ADDRESS                                                                                            VALUE
                                             Serializer device address. Power-up default address
           D[7:1]      SERID       XXXXXXX                                                          1000000
   0x00                                      determined by ADD0 and ADD1 (see Table 2).
             D0          —             0     Reserved                                                  0
                                             Deserializer device address. Power-up default address
           D[7:1]      DESID       XXXXXXX                                                          1001000
                                             determined by ADD0 and ADD1 (see Table 2).
   0x01
                                       0     Normal operation
             D0      CFGBLOCK                                                                          0
                                       1     Registers 0x00 to 0x1F are read only
                                             No spread spectrum. Power-up default when SSEN
                                      00
                                             = low.
                                             Q2% spread spectrum. Power-up default when SSEN
           D[7:6]        SS           01                                                             00, 01
                                             = high
                                      10     No spread spectrum
                                      11     Q4% spread spectrum
             D5          —             0     Reserved                                                  0
                                       0     Disable I2S channel
             D4       AUDIOEN                                                                          1
   0x02                                1     Enable I2S channel
                                      00     12.5MHz to 25MHz pixel clock
                                      01     25MHz to 50MHz pixel clock
           D[3:2]      PRNG                                                                            11
                                      10     50MHz to 104MHz pixel clock
                                      11     Automatically detect the pixel clock range
                                      00     0.5Gbps to 1Gbps serial-data rate
                                      01     1Gbps to 2Gbps serial-data rate
           D[1:0]      SRNG                                                                            11
                                      10     2Gbps to 3.125Gbps serial-data rate
                                      11     Automatically detect serial-data rate
                                             Calibrate spread-modulation rate only once after
                                      00
                                             locking
                                             Calibrate spread-modulation rate every 2ms after
                                      01
                                             locking
           D[7:6]     AUTOFM                                                                           00
                                             Calibrate spread-modulation rate every 16ms after
                                      10
                                             locking
   0x03
                                             Calibrate spread-modulation rate every 256ms after
                                      11
                                             locking
             D5          —             0     Reserved                                                  0
                                    00000    Autocalibrate sawtooth divider
           D[4:0]       SDIV                 Manual SDIV setting (see the Manual Programming of      00000
                                    XXXXX
                                             the Spread-Spectrum Divider section)
            ���������������������������������������������������������������� Maxim Integrated Products   44


                                                                                                 MAX9266
                            HDCP Gigabit Multimedia Serial Link
                   Deserializer with LVDS System Interface
Table 16. GMSL Core Register Table (see Table 1) (continued)
 REGISTER                                                                                                DEFAULT
            BITS        NAME       VALUE                            FUNCTION
 ADDRESS                                                                                                   VALUE
                                       0     LOCK output is low                                               0
             D7        LOCKED
                                       1     LOCK output is high                                         (read only)
                                       0     Enable outputs
             D6        OUTENB                                                                                 0
                                       1     Disable outputs
                                       0     Disable PRBS test
             D5        PRBSEN                                                                                 0
                                       1     Enable PRBS test
                                             Normal mode (default value depends on CDS and MS
                                       0
                                             pin values at power-up)
             D4         SLEEP                                                                                0, 1
   0x04                                      Activate sleep mode (default value depends on CDS
                                       1
                                             and MS pin values at power-up)
                                      00     Base mode uses I2C peripheral interface
           D[3:2]      INTTYPE        01     Base mode uses UART peripheral interface                         00
                                    10, 11   Base mode peripheral interface disabled
                                       0     Disable reverse control channel to serializer (sending)
             D1       REVCCEN                                                                                 1
                                       1     Enable reverse control channel to serializer (sending)
                                       0     Disable forward control channel from serializer (receiving)
             D0       FWDCCEN                                                                                 1
                                       1     Enable forward control channel from serializer (receiving)
                                       0     I2C conversion sends the register address
             D7      I2CMETHOD               Disable sending of I2C register address (command-                0
                                       1
                                             byte-only mode)
                                      00     7.5MHz equalizer highpass cutoff frequency
                                      01     3.75MHz cutoff frequency
           D[6:5]      HPFTUNE                                                                                01
                                      10     2.5MHz cutoff frequency
                                      11     1.87MHz cutoff frequency
                                       0     High-frequency boosting enabled
             D4          PDHF                                                                                  0
                                       1     High-frequency boosting disabled
                                     0000    2.1dB equalizer boost gain
                                     0001    2.8dB equalizer boost gain
                                     0010    3.4dB equalizer boost gain
   0x05
                                     0011    4.2dB equalizer boost gain
                                             5.2dB equalizer boost gain. Power-up default when
                                     0100
                                             EQS = high.
                                     0101    6.2dB equalizer boost gain
           D[3:0]      EQTUNE        0110    7dB equalizer boost gain                                    0100, 1001
                                     0111    8.2dB equalizer boost gain
                                     1000    9.4dB equalizer boost gain
                                             10.7dB equalizer boost gain. Power-up default when
                                     1001
                                             EQS = low.
                                     1010    11.7dB equalizer boost gain
                                     1011    13dB equalizer boost gain
                                    11XX     Do not use
            ���������������������������������������������������������������� Maxim Integrated Products   45


                                                                                               MAX9266
                             HDCP Gigabit Multimedia Serial Link
                   Deserializer with LVDS System Interface
Table 16. GMSL Core Register Table (see Table 1) (continued)
 REGISTER                                                                                           DEFAULT
            BITS        NAME        VALUE                           FUNCTION
 ADDRESS                                                                                              VALUE
             D7           —           0      Reserved                                                    0
                                      0      Do not automatically reset error registers and outputs
             D6       AUTORST                                                                            0
                                      1      Automatically reset error registers and outputs
                                      0      Enable interrupt transmission to serializer
             D5         DISINT                                                                           0
                                      1      Disable interrupt transmission to serializer
                                      0      INT input = low (read only)                                 0
             D4          INT
                                      1      INT input = high (read only)                           (read only)
   0x06                               0      Output low to GPIO1
             D3      GPIO1OUT                                                                            1
                                      1      Output high to GPIO1
                                      0      GPIO1 is low                                                1
             D2         GPIO1
                                      1      GPIO1 is high                                          (read only)
                                      0      Output low to GPIO0
             D1      GPIO0OUT                                                                            1
                                      1      Output high to GPIO0
                                      0      GPIO0 is low                                                1
             D0         GPIO0
                                      1      GPIO0 is high                                          (read only)
   0x07    D[7:0]         —       01010100   Reserved                                                01010100
           D[7:2]         —       00110000   Reserved                                                  001100
                                      0      VSYNC glitch filter active
             D1       DISVSFILT                                                                          0
   0x08                               1      VSYNC glitch filter disabled
                                      0      HSYNC glitch filter active
             D0      DISHSFILT                                                                           0
                                      1      HSYNC glitch filter disabled
   0x09    D[7:0]         —       11001000   Reserved                                                11001000
   0x0A    D[7:0]         —       00010010   Reserved                                                00010010
   0x0B    D[7:0]         —       00100000   Reserved                                                00100000
                                             Error threshold for decoding errors
   0x0C    D[7:0]      ERRTHR     XXXXXXXX                                                           00000000
                                             ERR = low when DECERR > ERRTHR
                                             Decoding error counter
                                                                                                     00000000
   0x0D    D[7:0]      DECERR     XXXXXXXX   This counter remains zero while the device is in PRBS
                                                                                                    (read only)
                                             test mode
                                                                                                     00000000
   0x0E    D[7:0]     PRBSERR     XXXXXXXX   PRBS error counter
                                                                                                    (read only)
                                      0      MCLK derived from TXCLKOUT_ (see Table 5)
             D7       MCLKSRC                                                                            0
                                      1      MCLK derived from internal oscillator
   0x12
                                   0000000   MCLK disabled
           D[6:0]     MCLKDIV                                                                         0000000
                                   XXXXXXX   MCLK divider
           D[7:5]         —          XXX     Reserved                                               (read only)
   0x13
           D[4:0]         —         10000    Reserved                                                  10000
            ���������������������������������������������������������������� Maxim Integrated Products   46


                                                                                                MAX9266
                                  HDCP Gigabit Multimedia Serial Link
                        Deserializer with LVDS System Interface
Table 16. GMSL Core Register Table (see Table 1) (continued)
  REGISTER                                                                                           DEFAULT
                BITS         NAME       VALUE                            FUNCTION
  ADDRESS                                                                                              VALUE
                                           0      Deserializer does not invert VSYNC
                  D7       INVVSYNC                                                                       0
                                           1      Deserializer inverts VSYNC
                                           0      Deserializer does not invert HSYNC
                  D6       INVHSYNC                                                                       0
                                           1      Deserializer inverts HSYNC
                                           0      Normal operation
                  D5      FORCELVDS                                                                       0
                                           1      Force LVDS outputs low
                                                  Normal driver current for CMOS outputs (WS, SCK,
                                           0
                                                  SD/CNTL0, CNTL1, CNTL2/MCLK)
                  D4          DCS                                                                         0
                                                  Strong driver current for CMOS outputs (WS, SCK,
     0x14                                  1
                                                  SD/CNTL0, CNTL1, CNTL2/MCLK)
                                           0      Serial-data bit 27 is mapped to CNTL1
                  D3       DISCNTL1                                                                       1
                                           1      CNTL1 forced low
                                           0      Serial-data bit 27 is mapped to RES
                  D2         DISRES                                                                       0
                                           1      RES bit forced low
                                          00      1.75mA LVDS current
                                          01      3.5mA LVDS current
                D[1:0]       ILVDS                                                                        01
                                          10      Do not use
                                          11      7mA LVDS current
                                                  Device identifier                                   00001000
     0x1E       D[7:0]         ID      00001000
                                                  (MAX9266 = 0x08)                                   (read only)
                                                                                                         000
                D[7:5]         —          000     Reserved
                                                                                                     (read only)
     0x1F                                  0      Not HDCP capable                                        1
                  D4          CAPS
                                           1      HDCP capable                                       (read only)
                D[3:0]      REVISION     XXXX     Device revision                                    (read only)
X = Don’t care.
                 ���������������������������������������������������������������� Maxim Integrated Products   47


                                                                                                MAX9266
                               HDCP Gigabit Multimedia Serial Link
                       Deserializer with LVDS System Interface
Table 17. HDCP Register Table (see Table 1)
   REGISTER        SIZE                READ/                                                      DEFAULT VALUE
                            NAME                                    FUNCTION
   ADDRESS        (Bytes)              WRITE                                                            (hex)
  0x80 to 0x84       5       BKSV     Read only  HDCP receiver KSV                                  (Read only)
  0x85 to 0x86       2        RI’     Read only  Link verification response                         (Read only)
     0x87            1        PJ’     Read only  Enhanced link verification response                (Read only)
  0x88 to 0x8F       8        AN     Read/Write  Session random number                          0x0000000000000000
  0x90 to 0x94       5       AKSV    Read/Write  HDCP transmitter KSV                              0x0000000000
                                                 D7 = PD_HDCP
                                                 1 = Power down HDCP circuits
                                                 0 = HDCP circuits normal
                                                 D[6:4] = Reserved
                                                 D3 = GPIO1_FUNCTION
                                                 1 = GPIO1 mirrors AUTH_STARTED
                                                 0 = Normal GPIO1 operation
                                                 D2 = GPIO0_FUNCTION
     0x95            1      BCTRL    Read/Write  1 = GPIO0 mirrors ENCRYPTION_ENABLE                    0x00
                                                 0 = Normal GPIO0 operation
                                                 D1 = AUTH_STARTED
                                                 1 = Authentication started (triggered by write
                                                 to AKSV)
                                                 0 = Authentication not started
                                                 D0 = ENCRYPTION_ENABLE
                                                 1 = Enable encryption
                                                 0 = Disable encryption
                                                 D[7:2] = Reserved
                                                 D1 = NEW_DEV_CONN
                                                 1 = Set to 1 if a new connected device is
                                                 detected
     0x96            1     BSTATUS   Read/Write                                                         0x00
                                                 0 = Set to 0 if no new device is connected
                                                 D0 = KSV_LIST_READY
                                                 1 = Set to 1 if KSV list and BINFO is ready
                                                 0 = Set to 0 if KSV list or BINFO is not ready
                                                 D[7:1] = Reserved
                                                 D0 = REPEATER
     0x97            1      BCAPS    Read/Write                                                         0x00
                                                 1 = Set to 1 if device is a repeater
                                                 0 = Set to 0 if device is not a repeater
                                                                                                0x0000000000000000
  0x98 to 0x9F       8        —       Read Only  Reserved
                                                                                                     (read only)
               ���������������������������������������������������������������� Maxim Integrated Products   48


                                                                                               MAX9266
                                HDCP Gigabit Multimedia Serial Link
                       Deserializer with LVDS System Interface
Table 17. HDCP Register Table (see Table 1) (continued)
   REGISTER        SIZE                READ/                                                    DEFAULT VALUE
                            NAME                                    FUNCTION
   ADDRESS        (Bytes)              WRITE                                                         (hex)
  0xA0 to 0xA3       4       V’.H0   Read/Write  H0 part of SHA-1 hash value                      0x00000000
  0xA4 to 0xA7       4       V’.H1   Read/Write  H1 part of SHA-1 hash value                      0x00000000
  0xA8 to 0xAB       4       V’.H2   Read/Write  H2 part of SHA-1 hash value                      0x00000000
  0xAC to 0xAF       4       V’.H3   Read/Write  H3 part of SHA-1 hash value                      0x00000000
  0xB0 to 0xB3       4       V’.H4   Read/Write  H4 part of SHA-1 hash value                      0x00000000
                                                 D[15:12] = Reserved
                                                 D11 = MAX_CASCADE_EXCEEDED
                                                 1 = Set to 1 if more than seven cascaded
                                                 devices attached
                                                 0 = Set to 0 if seven or fewer cascaded
                                                 devices attached
  0xB4 to 0xB5       2      BINFO    Read/Write  D[10:8] = DEPTH                                    0x0000
                                                 Depth of cascaded devices
                                                 D7 = MAX_DEVS_EXCEEDED
                                                 1 = Set to 1 if more than 14 devices attached
                                                 0 = Set to 0 if 14 or fewer devices attached
                                                 D[6:0] = DEVICE_COUNT
                                                 Number of devices attached
     0xB6            1      GPMEM    Read/Write  General-purpose memory byte                         0x00
  0xB7 to 0xB9       3        —       Read only  Reserved                                          0x000000
                                                 List of KSV’s downstream repeaters and
  0xBA to 0xFF      70     KSV_LIST  Read/Write                                                     All zero
                                                 receivers (maximum of 14 devices)
               ���������������������������������������������������������������� Maxim Integrated Products   49


                                                                                                                             MAX9266
                                             HDCP Gigabit Multimedia Serial Link
                               Deserializer with LVDS System Interface
                                                                                                   Typical Application Circuit
            TXCLK+/-                     RXCLKIN+/-                                                           TCLKOUT+/-         RXCLK+/-
               TX0+/-                     RXIN0+/-                                                             TXOUT0+/-         RX0+/-
            TO TX2+/-                     TO RXIN2+/-                                                       TO TXOUT2+/-         TO RX2+/-
          GPU                            CDS                   45kI        45kI                                      CDS
                                         AUTOS
                                                        LMN1
           ECU                                          LMN0
                                                                                                             MAX9266
                                                                5kI        5kI
                                                MAX9265
                                                                                                                                      DISPLAY
                                                                                                                                TO PERIPHERALS
                                                        OUT+                                         IN+              INT
                   Tx                    RX/SDA                                                                   RX/SDA
       UART                                              OUT-                                        IN-
                   Rx                    TX/SCL                                                                   TX/SCL
                                                                                       50kI     50kI
                LFLT                     LFLT                                                                                    SCL
                  INT                    INT            ADD0                                                        LOCK         SDA
                  MS                     MS             ADD1                                                          WS         WS
                                                                                                                     SCK
                  WS                     WS                                                                     SD/CNTL0                MAX9850
       AUDIO     SCK                     SCK
                                                                                                                                 SCK
                   SD                    SD/CNTL0
                                                                                                                                 SD     MCLK
                                                                         DISPLAY APPLICATION                     PLL
                                                                                                         IN             OUT
   NOTE: NOT ALL PULLUP/PULLDOWN RESISTORS ARE SHOWN. SEE PIN DESCRIPTION FOR DETAILS.
                                       Chip Information                                                           Ordering Information
PROCESS: CMOS                                                                                PART               TEMP RANGE     PIN-PACKAGE
                                                                                       MAX9266GCM/V+           -40NC to +105NC 48 TQFP-EP*
                              Package Information                                      MAX9266GCM/V+T          -40NC to +105NC 48 TQFP-EP*
For the latest package outline information and land patterns                        /V denotes an automotive qualified part.
(footprints), go to www.maxim-ic.com/packages. Note that a                          +Denotes a lead(Pb)-free/RoHS-compliant package.
“+”, “#”, or “-” in the package code indicates RoHS status only.                    *EP = Exposed pad.
Package drawings may show a different suffix character, but                         T = Tape and reel.
the drawing pertains to the package regardless of RoHS status.
   PACKAGE            PACKAGE          OUTLINE                 LAND
      TYPE               CODE             NO.            PATTERN NO.
   48 TQFP-EP           C48E+8         21-0065                90-0138
                       ���������������������������������������������������������������� Maxim Integrated Products   50


                                                                                                                                MAX9266
                                             HDCP Gigabit Multimedia Serial Link
                               Deserializer with LVDS System Interface
                                                                                                                         Revision History
  REVISION         REVISION                                                                                                                 PAGES
                                                                          DESCRIPTION
  NUMBER              DATE                                                                                                               CHANGED
       0               3/11         Initial release                                                                                            —
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are implied.
Maxim reserves the right to change the circuitry and specifications without notice at any time.
Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600                                                                         51
© 2011 Maxim Integrated Products                                                Maxim is a registered trademark of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX9266GCM/V+
