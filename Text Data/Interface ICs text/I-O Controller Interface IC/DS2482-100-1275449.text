DS2482-100                                                                                   Single-Channel 1-Wire Master
General Description                                                                Benefits and Features
The DS2482-100 is an I2C-to-1-Wire® bridge device                                  • Allows Easy Interface Between a I2C Microport and a
that interfaces directly to standard (100kHz max) or fast                             1-Wire Slave
(400kHz max) I2C masters to perform bidirectional pro-                                • I2C Host Interface Supports 100kHz and 400kHz
tocol conversion between the I 2 C master and any                                          I2C Communication Speeds
downstream 1-Wire slave devices. Relative to any
attached 1-Wire slave device, the DS2482-100 is a                                     • 1-Wire Master IO with Selectable Active or Passive
1-Wire master. Internal, factory-trimmed timers relieve                                    1-Wire Pullup
the system host processor from generating time-critical                               • Provides Reset/Presence, 8-Bit, Single-Bit, and
1-Wire waveforms, supporting both standard and over-                                       3-Bit 1-Wire IO Sequences
drive 1-Wire communication speeds. To optimize                                        • Standard and Overdrive 1-Wire Communication
1-Wire waveform generation, the DS2482-100 performs                                        Speeds
slew-rate control on rising and falling 1-Wire edges and                              • Two Address Inputs for I2C Address Assignment
provides additional programmable features to match
drive characteristics to the 1-Wire slave environment.                             • Minimizes Line Noise Reducing System EMI
Programmable, strong pullup features support 1-Wire                                   • Slew-Controlled 1-Wire Edges
power delivery to 1-Wire devices such as EEPROMs                                   • Supports EEPROMs, Temperature Sensors, or Other
and sensors. The DS2482-100 combines these features
                                                                                      1-Wire Slaves That Have Momentary High Source
with an output to control an external MOSFET for
                                                                                      Current Modes
enhanced strong pullup application. The I 2 C slave
address assignment is controlled by two binary                                        • Strong 1-Wire Pullup Provided by an Internal Low-
address inputs, resolving potential conflicts with other                                   Impedance Signal Path
I2C slave devices in the system.                                                      • PCTLZ Output to Optionally Control an External
                                                                                           MOSFET for Stronger Pullup Requirements
Applications                                                                       • Operating Range: 2.9V to 5.5V, -40°C to +85°C
    Printers                                 Industrial Sensors                    • 8-Pin (150 mils) SO and 9-Bump WLP Packages
    Medical Instruments                      Cell Phones, PDAs
                                                                                    Pin Configurations and Ordering Information appear at end
                                                                                   of data sheet.
Typical Operating Circuit
                                VCC
                                                                                                           CURRENT-LIMITING
                                                                 RP*
                                                                                                           RESISTOR
                                                                                                           REFER TO APPLICATION
                                                                        SDA                                NOTE 4206
                                        (I2C PORT)
                                                                        SCL          PCTLZ                                 OPTIONAL
                                                                                                                           CIRCUITRY
                                        µC                                 DS2482-100
                                                                                                           1-Wire LINE
                                                                        AD0              IO
                                                                        AD1
                                                                                                      1-Wire         1-Wire        1-Wire
                                                                                                     DEVICE          DEVICE        DEVICE
                    *RP = I2C PULLUP RESISTOR (SEE THE APPLICATIONS INFORMATION SECTION FOR RP SIZING).
1-Wire is a registered trademark of Maxim Integrated Products, Inc.
19-4930; Rev 10; 1/15


DS2482-100                                                                                     Single-Channel 1-Wire Master
Absolute Maximum Ratings
Voltage Range on Any Pin Relative to Ground.........-0.5V to +6V                     Storage Temperature Range .............................-55°C to +125°C
Maximum Current into Any Pin .........................................±20mA          Lead Temperature (SO only; soldering, 10s)...................+300°C
Operating Temperature Range ...........................-40°C to +85°C                Soldering Temperature (reflow)
Junction Temperature ......................................................+150°C      SO, WLP.......................................................................+260°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
absolute maximum rating conditions for extended periods may affect device reliability.
Electrical Characteristics
(VCC = 2.9V to 5.5V, TA = -40°C to +85°C.)
            PARAMETER                        SYMBOL                               CONDITIONS                            MIN            TYP            MAX           UNITS
                                                                 3.3V                                                    2.9            3.3            3.7
 Supply Voltage                                    VCC                                                                                                                 V
                                                                 5V                                                      4.5            5.0            5.5
 Operating Current                                 ICC           (Note 1)                                                                             0.75            mA
                                                                 3.3V                                                    1.9
 1-Wire Input High (Notes 2, 3)                   VIH1                                                                                                                 V
                                                                 5V                                                      3.4
                                                                 3.3V                                                                                  0.9
 1-Wire Input Low (Notes 2, 3)                     VIL1                                                                                                                V
                                                                 5V                                                                                    1.2
 1-Wire Weak Pullup Resistor                     RWPU            (Note 4)                                              1000                           1675             
 1-Wire Output Low                               VOL1            At 4mA load                                                                           0.4             V
 Active Pullup On Time                                           Standard                                                2.3            2.5            2.7
                                                tAPUOT                                                                                                                 μs
 (Notes 4, 5)                                                    Overdrive                                               0.4            0.5            0.6
                                                                 VCC  3.2V, 1.5mA load                                                                0.3
 Strong Pullup Voltage Drop                   VSTRPU                                                                                                                  V
                                                                 VCC  5.2V, 3mA load                                                                  0.5
                                                                 Standard (3.3V ±10%)                                     1                            4.2
                                                                 Overdrive (3.3V ±10%)                                    5                           22.1
 Pulldown Slew Rate (Note 6)                    PDSRC                                                                                                                 V/μs
                                                                 Standard (5.0V ±10%)                                     2                            6.5
                                                                 Overdrive (5.0V ±10%)                                   10                             40
                                                                 Standard (3.3V ±10%)                                    0.8                             4
                                                                 Overdrive (3.3V ±10%)                                   2.7                            20
 Pullup Slew Rate (Note 6)                      PUSRC                                                                                                                 V/μs
                                                                 Standard (5.0V ±10%)                                    1.3                             6
                                                                 Overdrive (5.0V ±10%)                                   3.4                            31
 Power-On Reset Trip Point                       VPOR                                                                                                  2.2             V
 1-Wire TIMING (Note 5) (See Figures 4, 5, and 6)
                                                                 Standard                                                7.6              8            8.4
 Write-One/Read Low Time                          tW1L                                                                                                                 μs
                                                                 Overdrive                                               0.9              1            1.1
                                                                 Standard                                               13.3             14             15
 Read Sample Time                                tMSR                                                                                                                  μs
                                                                 Overdrive                                               1.4            1.5            1.8
                                                                 Standard                                               65.8           69.3           72.8
 1-Wire Time Slot                                t SLOT                                                                                                                μs
                                                                 Overdrive                                               9.9           10.5           11.0
www.maximintegrated.com                                                                                                                             Maxim Integrated | 2


 DS2482-100                                                               Single-Channel 1-Wire Master
Electrical Characteristics (continued)
(VCC = 2.9V to 5.5V, TA = -40°C to +85°C.)
           PARAMETER                 SYMBOL                  CONDITIONS             MIN  TYP   MAX       UNITS
                                              Standard (3.3V to 0V)                0.54          3.0
 Fall Time High-to-Low                        Overdrive (3.3V to 0V)               0.10         0.59
                                         tF1                                                               μs
 (Notes 6, 7)                                 Standard (5.0V to 0V)                0.55          2.2
                                              Overdrive (5.0V to 0V)               0.09         0.44
                                              Standard                               60   64     68
 Write-Zero Low Time                    tW0L                                                               μs
                                              Overdrive                             7.1  7.5     7.9
                                              Standard                              5.0   5.3    5.6
 Write-Zero Recovery Time             tREC0                                                                μs
                                              Overdrive                             2.8  3.0     3.2
                                              Standard                              570  600    630
 Reset Low Time                        tRSTL                                                               μs
                                              Overdrive                            68.4   72    75.6
                                              Standard                             66.5   70    73.5
 Presence-Detect Sample Time            tMSP                                                               μs
                                              Overdrive                             7.1  7.5     7.9
                                              Standard                              7.6    8     8.4
 Sampling for Short and Interrupt         tSI                                                              μs
                                              Overdrive                             0.7  0.75    0.8
                                              Standard                            554.8  584   613.2
 Reset High Time                      tRSTH                                                                μs
                                              Overdrive                            70.3   74    77.7
 CONTROL PIN (PCTLZ)
 Output Low Voltage                    VOLP   VCC = 2.9V, 1.2mA load current                     0.4        V
                                                                                   VCC -
 Output High Voltage                   VOHP   0.4mA load current                                            V
                                                                                   0.5V
 I2C PINS (SCL, SDA, AD0, AD1) (Note 8) (See Figure 9)
                                                                                              0.25 ×
                                              VCC = 2.9V to 3.7V                    -0.5
                                                                                                VCC
 Low-Level Input Voltage                 VIL                                                                V
                                                                                              0.22 ×
                                              VCC = 4.5V to 5.5V                    -0.5
                                                                                                VCC
                                                                                   0.7 ×      VCC +
 High-Level Input Voltage                VIH                                                                V
                                                                                    VCC         0.5V
 Hysteresis of Schmitt Trigger                                                    0.05 ×
                                       VHYS                                                                 V
 Inputs                                                                             VCC
 Low-Level Output Voltage at
                                         VOL                                                     0.4        V
 3mA Sink Current
 Output Fall Time from VIH(MIN) to
 VIL(MAX) with a Bus Capacitance         t OF                                        60         250        ns
 from 10pF to 400pF
 Pulse Width of Spikes That Are
                                         t SP SDA and SCL pins only                              50        ns
 Suppressed by the Input Filter
 Input Current Each Input/Output
 Pin with an Input Voltage
                                           II (Notes 9, 10)                         -10         +10        μA
 Between 0.1 x VCC(MAX) and
 0.9 x VCC(MAX)
www.maximintegrated.com                                                                       Maxim Integrated | 3


DS2482-100                                                                           Single-Channel 1-Wire Master
Electrical Characteristics (continued)
(VCC = 2.9V to 5.5V, TA = -40°C to +85°C.)
            PARAMETER                     SYMBOL                     CONDITIONS                        MIN      TYP      MAX       UNITS
 Input Capacitance                               CI   (Note 9)                                                            10         pF
 SCL Clock Frequency                           f SCL                                                     0               400        kHz
 Hold Time (Repeated) START
 Condition (After this period, the          tHD:STA                                                     0.6                          μs
 first clock pulse is generated.)
 Low Period of the SCL Clock                   tLOW                                                     1.3                          μs
 High Period of the SCL Clock                 tHIGH                                                     0.6                          μs
 Setup Time for a Repeated
                                            t SU:STA                                                    0.6                          μs
 START Condition
 Data Hold Time                             tHD:DAT   (Notes 11, 12)                                                      0.9        μs
 Data Setup Time                            t SU:DAT  (Note 13)                                         250                          ns
 Setup Time for STOP Condition              t SU:STO                                                    0.6                          μs
 Bus Free Time Between a STOP
                                               tBUF                                                     1.3                          μs
 and START Condition
 Capacitive Load for Each Bus
                                                CB    (Note 14)                                                          400         pF
 Line
 Oscillator Warmup Time                   t OSCWUP    (Note 15)                                                          100         μs
Note 1:     Operating current with 1-Wire write-byte sequence followed by continuously reading the Status Register at 400kHz in overdrive.
Note 2:     With standard speed, the total capacitive load of the 1-Wire bus should not exceed 1nF. Otherwise, the passive pullup on
            threshold VIL1 may not be reached in the available time. With overdrive speed, the capacitive load on the 1-Wire bus must
            not exceed 300pF.
Note 3:     Active pullup guaranteed to turn on between VIL1(MAX) and VIH1(MIN).
Note 4:     Active or resistive pullup choice is configurable.
Note 5:     Except for tF1, all 1-Wire timing specifications and tAPUOT are derived from the same timing circuit. Therefore, if one of
            these parameters is found to be off the typical value, it is safe to assume that all these parameters deviate from their typi-
            cal value in the same direction and by the same degree.
Note 6:     These values apply at full load, i.e., 1nF at standard speed and 0.3nF at overdrive speed. For reduced load, the pulldown
            slew rate is slightly faster.
Note 7:     Fall time high-to-low (tF1) is derived from PDSRC, referenced from 0.9 x VCC to 0.1 x VCC.
Note 8:     All I2C timing values are referred to VIH(MIN) and VIL(MAX) levels.
Note 9:     Applies to SDA, SCL, AD0 and AD1.
Note 10:    The input/output pins of the DS2482-100 do not obstruct the SDA and SCL lines if VCC is switched off.
Note 11:    The DS2482-100 provides a hold time of at least 300ns for the SDA signal (referred to the VIH(MIN) of the SCL signal) to
            bridge the undefined region of the falling edge of SCL.
Note 12:    The maximum tHD:DAT need only be met if the device does not stretch the low period (tLOW) of the SCL signal.
Note 13:    A fast-mode I2C bus device can be used in a standard-mode I2C bus system, but the requirement tSU:DAT ≥ 250ns must
            then be met. This is automatically the case if the device does not stretch the low period of the SCL signal. If such a device
            does stretch the low period of the SCL signal, it must output the next data bit to the SDA line tR(MAX) + tSU:DAT = 1000 +
            250 = 1250ns (according to the standard-mode I2C bus specification) before the SCL line is released.
Note 14:    CB—Total capacitance of one bus line in pF. If mixed with high-speed-mode devices, faster fall times according to I2C-
            Bus Specification Version 2.1 are allowed.
Note 15:    I2C communication should not take place for the max tOSCWUP time following a power-on reset.
www.maximintegrated.com                                                                                                 Maxim Integrated | 4


 DS2482-100                                                                        Single-Channel 1-Wire Master
Pin Description
         PIN
                        NAME                                                     FUNCTION
    SO        WLP
     1         B3        VCC     Power-Supply Input
     2         C3         IO     Input/Output Driver for 1-Wire Line
     3         C2        GND     Ground Reference
     4         B1        SCL     I2C Serial Clock Input. Must be connected to VCC through a pullup resistor.
     5         B2        SDA     I2C Serial Data Input/Output. Must be connected to VCC through a pullup resistor.
                                 Active-Low Control Output for an External p-Channel MOSFET. Provides extra power to the 1-Wire
     6         A1       PCTLZ
                                 line, e.g., for use with 1-Wire devices that require a higher current temporarily to operate.
     7         A2        AD1     I2C Address Inputs. Must be connected to VCC or GND. These inputs determine the I2C slave
     8         A3        AD0     address of the device (see Figure 8).
                                           CONFIGURATION
                                                                   T-TIME OSC
                                               REGISTER
                                                                 INPUT/OUTPUT          LINE
                             SDA                  I2C             CONTROLLER           XCVR
                                                                                                       IO
                                              INTERFACE
                             SCL             CONTROLLER                                                PCTLZ
                                                                     STATUS
                             AD0
                                                                    REGISTER
                             AD1                                   READ DATA       DS2482-100
                                                                    REGISTER
Figure 1. Block Diagram
Detailed Description                                                     time-critical 1-Wire communication functions such as
                                                                         reset/presence-detect cycle, read-byte, write-byte, sin-
The DS2482-100 is a self-timed 1-Wire master that sup-                   gle-bit R/W, and triplet for ROM Search, without requir-
ports advanced 1-Wire waveform features including                        ing interaction with the host processor. The host obtains
standard and overdrive speeds, active pullup, and                        feedback (completion of a 1-Wire function, presence
strong pullup for power delivery. The active pullup                      pulse, 1-Wire short, search direction taken) through the
affects rising edges on the 1-Wire side. The strong                      Status Register and data through the Read Data
pullup function uses the same pullup transistor as the                   Register. The DS2482-100 communicates with a host
active pullup, but with a different control algorithm. In                processor through its I 2C bus interface in standard
addition, the strong pullup activates the PCTLZ pin,                     mode or in fast mode. The logic state of two address pins
controlling optional external circuitry to deliver addition-             determines the I2C slave address of the DS2482-100,
al power beyond the capabilities of the on-chip pullup                   allowing up to four devices operating on the same bus
transistor. Once supplied with command and data, the                     segment without requiring a hub. See Figure 1 for a block
input/output controller of the DS2482-100 performs                       diagram.
www.maximintegrated.com                                                                                              Maxim Integrated | 5


 DS2482-100                                                                           Single-Channel 1-Wire Master
Device Registers                                                           Active Pullup (APU)
                                                                           The APU bit controls whether an active pullup (con-
The DS2482-100 has three registers that the I2C host                       trolled slew-rate transistor) or a passive pullup (RWPU
can read: Configuration, Status, and Read Data. These                      resistor) is used to drive a 1-Wire line from low to high.
registers are addressed by a read pointer. The position                    When APU = 0, active pullup is disabled (resistor
of the read pointer, i.e., the register that the host reads                mode). Active pullup should always be selected unless
in a subsequent read access, is defined by the instruc-                    there is only a single slave on the 1-Wire line. The
tion the DS2482-100 executed last. To enable certain                       active pullup does not apply to the rising edge of a
1-Wire features, the host has read and write access to                     presence pulse or a recovery after a short on the
the Configuration Register.                                                1-Wire line.
Configuration Register                                                     The circuit that controls rising edges (Figure 2) oper-
The DS2482-100 supports three 1-Wire features that                         ates as follows: At t1, the pulldown (from DS2482-100
are enabled or selected through the Configuration                          or 1-Wire slave) ends. From this point on, the 1-Wire
Register. These features are:                                              bus is pulled high through R WPU internal to the
• Active Pullup (APU)                                                      DS2482-100. VCC and the capacitive load of the 1-Wire
                                                                           line determine the slope. In case that active pullup is
• Strong Pullup (SPU)                                                      disabled (APU = 0), the resistive pullup continues, as
• 1-Wire Speed (1WS)                                                       represented by the solid line. With active pullup
These features can be selected in any combination.                         enabled (APU = 1), and when at t2 the voltage has
While APU and 1WS maintain their state, SPU returns to                     reached a level between VIL1(MAX) and VIH1(MIN), the
its inactive state as soon as the strong pullup has ended.                 DS2482-100 actively pulls the 1-Wire line high, applying
                                                                           a controlled slew rate as represented by the dashed
After a device reset (power-up cycle or initiated by the                   line. The active pullup continues until tAPUOT is expired
Device Reset command), the Configuration Register                          at t3. From that time on the resistive pullup continues.
reads 00h. When writing to the Configuration Register,                     See the Strong Pullup (SPU) section for a way to keep
the new data is accepted only if the upper nibble (bits 7                  the pullup transistor conducting beyond t3.
to 4) is the one’s complement of the lower nibble (bits 3
to 0). When read, the upper nibble is always 0h.
 Configuration Register Bit Assignment
      BIT 7              BIT 6                 BIT 5           BIT 4          BIT 3          BIT 2          BIT 1            BIT 0
       1WS                SPU                    1             APU            1WS             SPU             0               APU
                         VCC
                                                       APU = 1
                                                                                            APU = 0
                    VIH1(MIN)
                    VIL1(MAX)
                          0V
                              1-Wire BUS IS DISCHARGED               tAPUOT
                                                        t1      t2                 t3
Figure 2. Rising Edge Pullup
 www.maximintegrated.com                                                                                             Maxim Integrated | 6


 DS2482-100                                                                                    Single-Channel 1-Wire Master
Strong Pullup (SPU)                                                                long as the strong pullup is active, the PCTLZ output is low.
The SPU bit is used to activate the strong pullup func-                            When the strong pullup ends, the SPU bit is automati-
tion prior to a 1-Wire Write Byte or 1-Wire Single Bit                             cally reset to 0. Using the strong pullup feature does
command. Strong pullup is commonly used with 1-Wire                                not change the state of the APU bit in the Configuration
EEPROM devices when copying scratchpad data to the                                 Register. Note: Strong pullup also affects the 1-Wire
main memory or when performing an SHA-1 computa-                                   Reset command. If enabled, it can cause incorrect
tion and with parasitically powered temperature sen-                               reading of the presence pulse and may cause a viola-
sors or A/D converters. The respective device data                                 tion of the device’s absolute maximum rating.
sheets specify the location in the communications pro-
tocol after which the strong pullup should be applied.                             1-Wire Speed (1WS)
The SPU bit must be set immediately prior to issuing                               The 1WS bit determines the timing of any 1-Wire com-
the command that puts the 1-Wire device into the state                             munication generated by the DS2482-100. All 1-Wire
where it needs the extra power. The strong pullup uses                             slave devices support standard speed (1WS = 0),
the same internal pullup transistor as the active pullup                           where the transfer of a single bit (tSLOT in Figure 3) is
feature. For cases where the internal strong pullup has                            completed within 65µs. Many 1-Wire devices can also
insufficient strength, the PCTLZ pin can be used to con-                           communicate at a higher data rate, called overdrive
trol an external p-channel MOSFET to supply additional                             speed. To change from standard to overdrive speed, a
power beyond the drive capability of the DS2482-100 to                             1-Wire device needs to receive an Overdrive-Skip ROM
the 1-Wire line. See the ΔV STRPU parameter in the                                 or Overdrive-Match ROM command, as explained in
Electrical Characteristics to determine if the internal                            the 1-Wire device data sheets. The change in speed
strong pullup is sufficient given the current load on the                          occurs immediately after the 1-Wire device has
device.                                                                            received the speed-changing command code. The
                                                                                   DS2482-100 must take part in this speed change to
If SPU is 1, the DS2482-100 treats the rising edge of the                          stay synchronized. This is accomplished by writing to
time slot in which the strong pullup starts as if the active                       the Configuration Register with the 1WS bit as 1 imme-
pullup was activated. However, in contrast to the active                           diately after the 1-Wire Byte command that changes the
pullup, the strong pullup, i.e., the internal pullup transistor,                   speed of a 1-Wire device. Writing to the Configuration
remains conducting, as shown in Figure 3, until one of                             Register with the 1WS bit as 0, followed by a 1-Wire
three events occurs: the DS2482-100 receives a command                             Reset command, changes the DS2482-100 and any
that generates 1-Wire communication (the typical case);                            1-Wire devices on the active 1-Wire line back to stan-
the SPU bit in the Configuration Register is written to 0; or                      dard speed.
the DS2482-100 receives the Device Reset command. As
                            LAST BIT OF 1-Wire WRITE BYTE OR 1-Wire SINGLE BIT FUNCTION
       VCC
                                                 WRITE-ONE CASE
                                                                                                                                    NEXT
                                                                                                                                    TIME SLOT
                                                                                                                                    OR 1-Wire
                                                                 WRITE-ZERO CASE                                                    RESET
        0V
                                                              tSLOT
                          PCTLZ
                         DS2482-100 RESISTIVE PULLUP                           DS2482-100 PULLDOWN                 DS2482-100 STRONG PULLUP
Figure 3. Low-Impedance Pullup Timing
 www.maximintegrated.com                                                                                                         Maxim Integrated | 7


 DS2482-100                                                                 Single-Channel 1-Wire Master
 Status Register Bit Assignment
      BIT 7            BIT 6         BIT 5             BIT 4        BIT 3            BIT 2         BIT 1           BIT 0
       DIR              TSB           SBR               RST           LL              SD           PPD              1WB
Status Register                                                 Logic Level (LL)
The read-only Status Register is the general means for          The LL bit reports the logic state of the active 1-Wire
the DS2482-100 to report bit-type data from the 1-Wire          line without initiating any 1-Wire communication. The
side, 1-Wire busy status, and its own reset status to the       1-Wire line is sampled for this purpose every time the
host processor. All 1-Wire communication commands               Status Register is read. The sampling and updating of
and the Device Reset command position the read                  the LL bit takes place when the host processor has
pointer at the Status Register for the host processor to        addressed the DS2482-100 in read mode (during the
read with minimal protocol overhead. Status information         acknowledge cycle), provided that the read pointer is
is updated during the execution of certain commands             positioned at the Status Register.
only. Details are given in the description of the various
status bits that follow.                                        Device Reset (RST)
                                                                If the RST bit is 1, the DS2482-100 has performed an
1-Wire Busy (1WB)                                               internal reset cycle, either caused by a power-on reset
The 1WB bit reports to the host processor whether the           or from executing the Device Reset command. The RST
1-Wire line is busy. During 1-Wire communication 1WB            bit is cleared automatically when the DS2482-100 exe-
is 1; once the command is completed, 1WB returns to             cutes a Write Configuration command to restore the
its default 0. Details on when 1WB changes state and            selection of the desired 1-Wire features.
for how long it remains at 1 are found in the Function
Commands section.                                               Single Bit Result (SBR)
                                                                The SBR bit reports the logic state of the active 1-Wire line
Presence-Pulse Detect (PPD)                                     sampled at tMSR of a 1-Wire Single Bit command or the
The PPD bit is updated with every 1-Wire Reset com-             first bit of a 1-Wire Triplet command. The power-on default
mand. If the DS2482-100 detects a presence pulse from           of SBR is 0. If the 1-Wire Single Bit command sends a 0
a 1-Wire device at tMSP during the presence-detect              bit, SBR should be 0. With a 1-Wire Triplet command,
cycle, the PPD bit is set to 1. This bit returns to its default SBR could be 0 as well as 1, depending on the response
0 if there is no presence pulse or if the 1-Wire line is        of the 1-Wire devices connected. The same result applies
shorted during a subsequent 1-Wire Reset command.               to a 1-Wire Single Bit command that sends a 1 bit.
Short Detected (SD)                                             Triplet Second Bit (TSB)
The SD bit is updated with every 1-Wire Reset com-              The TSB bit reports the logic state of the active 1-Wire
mand. If the DS2482-100 detects a logic 0 on the                line sampled at t MSR of the second bit of a 1-Wire
1-Wire line at tSI during the presence-detect cycle, the        Triplet command. The power-on default of TSB is 0.
SD bit is set to 1. This bit returns to its default 0 with a    This bit is updated only with a 1-Wire Triplet command
subsequent 1-Wire Reset command provided that the               and has no function with other commands.
short has been removed. If SD is 1, PPD is 0. The
DS2482-100 cannot distinguish between a short and a             Branch Direction Taken (DIR)
DS1994 or DS2404 signaling a 1-Wire interrupt. For this         Whenever a 1-Wire Triplet command is executed, this
reason, if a DS2404 or DS1994 is used in the applica-           bit reports to the host processor the search direction
tion, the interrupt function must be disabled. The inter-       that was chosen by the third bit of the triplet. The
rupt signaling is explained in the respective 1-Wire            power-on default of DIR is 0. This bit is updated only
device data sheets.                                             with a 1-Wire Triplet command and has no function with
                                                                other commands. For additional information, see the
                                                                description of the 1-Wire Triplet command and
                                                                Application Note 187: 1-Wire Search Algorithm.
 www.maximintegrated.com                                                                                   Maxim Integrated | 8


 DS2482-100                                                                     Single-Channel 1-Wire Master
Function Commands                                                   The function commands are as follows:
The DS2482-100 understands eight function com-                      1) Device Reset                     5) 1-Wire Single Bit
mands that fall into four categories: device control, I2C           2) Set Read Pointer                 6) 1-Wire Write Byte
communication, 1-Wire setup, and 1-Wire communica-                  3) Write Configuration              7) 1-Wire Read Byte
tion. The feedback path to the host is controlled by a
read pointer, which is set automatically by each func-              4) 1-Wire Reset                     8) 1-Wire Triplet
tion command for the host to efficiently access relevant
information. The host processor sends these com-
mands and applicable parameters as strings of one or                Table 1. Valid Pointer Codes
two bytes using the I 2C interface. The I 2C protocol                          REGISTER SELECTION                      CODE
requires that each byte be acknowledged by the
receiving party to confirm acceptance or not be                      Status Register                                     F0h
acknowledged to indicate an error condition (invalid                 Read Data Register                                  E1h
code or parameter) or to end the communication. See                  Configuration Register                             C3h
the I2C Interface section for details of the I2C protocol
including acknowledge.
 Device Reset
 Command Code                F0h
 Command Parameter           None
                             Performs a global reset of device state machine logic. Terminates any ongoing 1-Wire
 Description
                             communication.
 Typical Use                 Device initialization after power-up; reinitialization (reset) as desired.
 Restriction                 None (can be executed at any time).
 Error Response              None
 Command Duration            Maximum 525ns. Counted from falling SCL edge of the command code acknowledge bit.
 1-Wire Activity             Ends maximum 262.5ns after the falling SCL edge of the command code acknowledge bit.
 Read Pointer Position       Status Register (for busy polling).
 Status Bits Affected        RST set to 1; 1WB, PPD, SD, SBR, TSB, DIR set to 0.
 Configuration Bits Affected 1WS, APU, SPU set to 0.
 Set Read Pointer
 Command Code                E1h
 Command Parameter           Pointer Code (see Table 1)
                             Sets the read pointer to the specified register. Overwrites the read pointer position of any 1-Wire
 Description
                             communication command in progress.
                             To prepare reading the result from a 1-Wire Read Byte command; random read access of
 Typical Use
                             registers.
 Restriction                 None (can be executed at any time).
                             If the pointer code is not valid, the pointer code is not acknowledged and the command is
 Error Response
                             ignored.
 Command Duration            None. The read pointer is updated on the rising SCL edge of the pointer code acknowledge bit.
 1-Wire Activity             Not affected.
 Read Pointer Position       As specified by the pointer code.
 Status Bits Affected        None
 Configuration Bits Affected None
 www.maximintegrated.com                                                                                         Maxim Integrated | 9


DS2482-100                                                                  Single-Channel 1-Wire Master
Write Configuration
Command Code                D2h
Command Parameter           Configuration Byte
                            Writes a new configuration byte. The new settings take effect immediately. Note: When writing to
Description                 the Configuration Register, the new data is accepted only if the upper nibble (bits 7 to 4) is the
                            one’s complement of the lower nibble (bits 3 to 0). When read, the upper nibble is always 0h.
Typical Use                 Defining the features for subsequent 1-Wire communication.
Restriction                 1-Wire activity must have ended before the DS2482-100 can process this command.
                            Command code and parameter are not acknowledged if 1WB = 1 at the time the command code
Error Response
                            is received and the command is ignored.
                            None. The Configuration Register is updated on the rising SCL edge of the configuration-byte
Command Duration
                            acknowledge bit.
1-Wire Activity             None
Read Pointer Position       Configuration Register (to verify write).
Status Bits Affected        RST set to 0.
Configuration Bits Affected 1WS, SPU, APU updated.
1-Wire Reset
Command Code                B4h
Command Parameter           None
                            Generates a 1-Wire reset/presence-detect cycle (Figure 4) at the 1-Wire line. The state of the
Description                 1-Wire line is sampled at t SI and tMSP and the result is reported to the host processor through the
                            Status Register, bits PPD and SD.
Typical Use                 To initiate or end any 1-Wire communication sequence.
                            1-Wire activity must have ended before the DS2482-100 can process this command. Strong
                            pullup (see the SPU bit) should not be used in conjunction with the 1-Wire Reset command. If SPU
Restriction
                            is enabled, the PPD bit may not be valid and may cause a violation of the device’s absolute
                            maximum rating.
                            Command code is not acknowledged if 1WB = 1 at the time the command code is received and
Error Response
                            the command is ignored.
                            tRSTL + tRSTH + maximum 262.5ns, counted from the falling SCL edge of the command code
Command Duration
                            acknowledge bit.
1-Wire Activity             Begins maximum 262.5ns after the falling SCL edge of the command code acknowledge bit.
Read Pointer Position       Status Register (for busy polling).
Status Bits Affected        1WB (set to 1 for tRSTL + tRSTH), PPD is updated at tRSTL + tMSP, SD is updated at tRSTL + t SI .
Configuration Bits Affected 1WS, APU, SPU apply.
www.maximintegrated.com                                                                                        Maxim Integrated | 10


 DS2482-100                                                                         Single-Channel 1-Wire Master
1-Wire Single Bit
 Command Code                  87h
 Command Parameter             Bit Byte
                               Generates a single 1-Wire time slot with a bit value “V” as specified by the bit byte at the 1-Wire
                               line (see Table 2). A V value of 0b generates a write-zero time slot (Figure 5); a V value of 1b
 Description
                               generates a write-one time slot, which also functions as a read-data time slot (Figure 6). In either
                               case, the logic level at the 1-Wire line is tested at tMSR and SBR is updated.
                               To perform single-bit writes or reads at the 1-Wire line when single bit communication is
 Typical Use
                               necessary (the exception).
 Restriction                   1-Wire activity must have ended before the DS2482-100 can process this command.
                               Command code and bit byte are not acknowledged if 1WB = 1 at the time the command code is
 Error Response
                               received and the command is ignored.
 Command Duration              t SLOT + maximum 262.5ns, counted from the falling SCL edge of the first bit (MSB) of the bit byte.
 1-Wire Activity               Begins maximum 262.5ns after the falling SCL edge of the MSB of the bit byte.
 Read Pointer Position         Status Register (for busy polling and data reading).
 Status Bits Affected          1WB (set to 1 for t SLOT), SBR is updated at tMSR , DIR (may change its state).
 Configuration Bits Affected   1WS, APU, SPU apply.
Table 2. Bit Allocation in the Bit Byte
     BIT 7            BIT 6             BIT 5            BIT 4              BIT 3             BIT 2                BIT 1            BIT 0
        V               x                   x              x                  x                 x                    x                 x
x = Don’t care.
                                   RESET PULSE                                 PRESENCE/SHORT DETECT
                                                                                                         PRESENCE PULSE
                                                                      tSI                     tMSP
       VCC
                                               APU CONTROLLED
                                                    EDGE
      VIH1
       VIL1
                                                                                                   RESISTIVE PULLUP
        0V
                  tF1
                                      tRSTL                                            tRSTH
                                    PULLUP                   DS2482-100 PULLDOWN                     1-Wire SLAVE PULLDOWN
Figure 4. 1-Wire Reset/Presence-Detect Cycle
www.maximintegrated.com                                                                                                    Maxim Integrated | 11


DS2482-100                                                                                         Single-Channel 1-Wire Master
                                                              tWOL
                                         tMSR
       VCC
      VIH1
       VIL1
         0V
                       tF1                                                                                            tREC0
                                                                            tSLOT
                                     PULLUP (SEE FIGURE 2)                       DS2482-100 PULLDOWN
Figure 5. Write-Zero Time Slot
                                                  tMSR
                            tW1L
       VCC
      VIH1
       VIL1
         0V
                        tF1
                                                                             tSLOT
                                     PULLUP (SEE FIGURE 2)                        DS2482-100 PULLDOWN                        1-Wire SLAVE PULLDOWN
       NOTE: DEPENDING ON ITS INTERNAL STATE, A 1-Wire SLAVE DEVICE TRANSMITS DATA TO ITS MASTER (e.g. THE DS2482-100). WHEN RESPONDING WITH A 0,
       A 1-Wire SLAVE STARTS PULLING THE LINE LOW DURING tW1L. ITS INTERNAL TIMING GENERATOR DETERMINES WHEN THIS PULLDOWN ENDS AND THE VOLTAGE
       STARTS RISING AGAIN. WHEN RESPONDING WITH A 1, A 1-Wire SLAVE DOES NOT HOLD THE LINE LOW AT ALL, AND THE VOLTAGE STARTS RISING AS SOON AS tW1L
       IS OVER. 1-Wire DEVICE DATA SHEETS USE THE TERM tRL INSTEAD OF tW1L TO DESCRIBE A READ-DATA TIME SLOT. TECHNICALLY, tRL AND tW1L HAVE IDENTICAL
       SPECIFICATIONS AND CANNOT BE DISTINGUISHED FROM EACH OTHER.
Figure 6. Write-One and Read-Data Time Slot
www.maximintegrated.com                                                                                                                       Maxim Integrated | 12


DS2482-100                                                                      Single-Channel 1-Wire Master
1-Wire Write Byte
Command Code                A5h
Command Parameter           Data Byte
Description                 Writes a single data byte to the 1-Wire line.
                            To write commands or data to the 1-Wire line. Equivalent to executing eight 1-Wire Single Bit
Typical Use
                            commands, but faster due to less I2C traffic.
Restriction                 1-Wire activity must have ended before the DS2482-100 can process this command.
                            Command code and data byte are not acknowledged if 1WB = 1 at the time the command code is
Error Response
                            received and the command is ignored.
Command Duration            8 x t SLOT + maximum 262.5ns, counted from falling edge of the last bit (LSB) of the data byte.
                            Begins maximum 262.5ns after falling SCL edge of the LSB of the data byte (i.e., before the data
                            byte acknowledge). Note: The bit order on the I2C bus and the 1-Wire line is different (1-Wire: LSB
1-Wire Activity
                            first; I2C: MSB first). Therefore, 1-Wire activity cannot begin before the DS2482-100 has received
                            the full data byte.
Read Pointer Position       Status Register (for busy polling).
Status Bits Affected        1WB (set to 1 for 8 x t SLOT).
Configuration Bits Affected 1WS, SPU, APU apply.
1-Wire Read Byte
Command Code                96h
Command Parameter           None
                            Generates eight read-data time slots on the 1-Wire line and stores result in the Read Data
Description
                            Register.
                            To read data from the 1-Wire line. Equivalent to executing eight 1-Wire Single Bit commands with
Typical Use
                            V = 1 (write-one time slot), but faster due to less I2C traffic.
Restriction                 1-Wire activity must have ended before the DS2482-100 can process this command.
                            Command code is not acknowledged if 1WB = 1 at the time the command code is received and
Error Response
                            the command is ignored.
                            8 x t SLOT + maximum 262.5ns, counted from the falling SCL edge of the command code
Command Duration
                            acknowledge bit.
1-Wire Activity             Begins maximum 262.5ns after the falling SCL edge of the command code acknowledge bit.
                            Status Register (for busy polling). Note: To read the data byte received from the 1-Wire line, issue
Read Pointer Position       the Set Read Pointer command and select the Read Data Register. Then access the DS2482-100
                            in read mode.
Status Bits Affected        1WB (set to 1 for 8 x t SLOT).
Configuration Bits Affected 1WS, APU apply.
www.maximintegrated.com                                                                                        Maxim Integrated | 13


DS2482-100                                                                     Single-Channel 1-Wire Master
1-Wire Triplet
 Command Code                78h
 Command Parameter           Direction Byte
                             Generates three time slots: two read time slots and one write time slot at the 1-Wire line. The type
                             of write time slot depends on the result of the read time slots and the direction byte. The direction
                             byte determines the type of write time slot if both read time slots are 0 (a typical case). In this
                             case, the DS2482-100 generates a write-one time slot if V = 1 and a write-zero time slot if V = 0.
 Description
                             See Table 3.
                             If the read time slots are 0 and 1, they are followed by a write-zero time slot.
                             If the read time slots are 1 and 0, they are followed by a write-one time slot.
                             If the read time slots are both 1 (error case), the subsequent write time slot is a write-one.
                             To perform a 1-Wire Search ROM sequence; a full sequence requires this command to be
 Typical Use
                             executed 64 times to identify and address one device.
 Restriction                 1-Wire activity must have ended before the DS2482-100 can process this command.
                             Command code and direction byte is not acknowledged if 1WB = 1 at the time the command
 Error Response
                             code is received and the command is ignored.
                             3 x t SLOT + maximum 262.5ns, counted from the falling SCL edge of the first bit (MSB) of the
 Command Duration
                             direction byte.
 1-Wire Activity             Begins maximum 262.5ns after the falling SCL edge of the MSB of the direction byte.
 Read Pointer Position       Status Register (for busy polling).
                             1WB (set to 1 for 3 x t SLOT), SBR is updated at the first tMSR, TSB and DIR are updated at the
 Status Bits Affected
                             second tMSR (i.e., at t SLOT + tMSR).
 Configuration Bits Affected 1WS, APU apply.
Table 3. Bit Allocation in the Direction Byte
     BIT 7            BIT 6          BIT 5            BIT 4            BIT 3             BIT 2          BIT 1             BIT 0
       V                x              x                x                x                 x               x                 x
x = Don’t care.
www.maximintegrated.com                                                                                          Maxim Integrated | 14


 DS2482-100                                                                      Single-Channel 1-Wire Master
                         MSB FIRST                    MSB           LSB                  MSB           LSB
   SDA
                          SLAVE    R/W   ACK                DATA             ACK              DATA                ACK/
                         ADDRESS                                                                                 NACK
    SCL                     1–7    8      9            1–7            8        9          1–7           8          9
        IDLE   START
                                                        REPEATED IF MORE BYTES
             CONDITION                                                                                                   STOP CONDITION
                                                           ARE TRANSFERRED
                                                                                                                         REPEATED START
Figure 7. I2C Protocol Overview
I2C Interface                                                        transmitted first. After each byte follows an acknowledge
                                                                     bit to allow synchronization between master and slave.
General Characteristics
The I2C bus uses a data line (SDA) plus a clock signal               Slave Address
(SCL) for communication. Both SDA and SCL are bidi-                  The slave address to which the DS2482-100 responds
rectional lines, connected to a positive supply voltage              is shown in Figure 8. The logic state at the address pins
through a pullup resistor. When there is no communica-               AD0 and AD1 determines the value of the address bits
tion, both lines are high. The output stages of devices              A0 and A1. The address pins allow the device to
connected to the bus must have an open drain or open                 respond to one of four possible slave addresses. The
collector to perform the wired-AND function. Data on                 slave address is part of the slave address/control byte.
the I 2 C bus can be transferred at rates of up to                   The last bit of the slave address/control byte (R/W)
100kbps in standard mode and up to 400kbps in fast                   defines the data direction. When set to 0, subsequent
mode. The DS2482-100 works in both modes.                            data flows from master to slave (write access); when
                                                                     set to 1, data flows from slave to master (read access).
A device that sends data on the bus is defined as a
transmitter, and a device receiving data is defined as a
receiver. The device that controls the communication is
called a master. The devices that are controlled by the                                  7-BIT SLAVE ADDRESS
master are slaves. To be individually accessed, each                              A6  A5   A4     A3    A2     A1     A0
device must have a slave address that does not conflict
                                                                                   0   0    1      1     0    AD1    AD0    R/W
with other devices on the bus.
Data transfers can be initiated only when the bus is not
busy. The master generates the serial clock (SCL), con-
trols the bus access, generates the START and STOP                               MSB                     AD1, AD0       DETERMINES
                                                                                                        PIN STATES     READ OR WRITE
conditions, and determines the number of data bytes
transferred between START and STOP (Figure 7). Data
is transferred in bytes with the most significant bit being          Figure 8. DS2482-100 Slave Address
 www.maximintegrated.com                                                                                               Maxim Integrated | 15


DS2482-100                                                                                  Single-Channel 1-Wire Master
   SDA
                 tBUF
                                                                      tF                                              tSP
                                      tLOW                                                       tHD:STA
   SCL
                                                                tHIGH                                        SPIKE
                             tHD:STA               tR                                     tSU:STA
                                                                                                          SUPPRESSION         tSU:STO
                                                        tHD:DAT          tSU:DAT
          STOP        START                                                      REPEATED
                                                                                  START
   NOTE: TIMING IS REFERENCED TO VIL(MAX) AND VIH(MIN).
Figure 9. I2C Timing Diagram
I2C Definitions                                                                    before the rising edge of SCL; see Figure 9). There
The following terminology is commonly used to                                      is one clock pulse per bit of data. Data is shifted into
describe I2C data transfers. The timing references are                             the receiving device during the rising edge of SCL.
defined in Figure 9.                                                               When finished with writing, the master must release
    Bus Idle or Not Busy: Both SDA and SCL are inac-                               the SDA line for a sufficient amount of setup time
    tive and in their logic-high states.                                           (minimum tSU:DAT + tR in Figure 9) before the next
                                                                                   rising edge of SCL to start reading. The slave shifts
    START Condition: To initiate communication with a
                                                                                   out each data bit on SDA at the falling edge of the
    slave, the master must generate a START condition.
                                                                                   previous SCL pulse and the data bit is valid at the
    A START condition is defined as a change in state of
                                                                                   rising edge of the current SCL pulse. The master
    SDA from high to low while SCL remains high.
                                                                                   generates all SCL clock pulses, including those
    STOP Condition: To end communication with a                                    needed to read from a slave.
    slave, the master must generate a STOP condition. A
                                                                                   Acknowledge: Typically a receiving device, when
    STOP condition is defined as a change in state of
                                                                                   addressed, is obliged to generate an acknowledge
    SDA from low to high while SCL remains high.
                                                                                   after the receipt of each byte. The master must gen-
    Repeated START Condition: Repeated STARTs are                                  erate a clock pulse that is associated with this
    commonly used for read accesses to select a spe-                               acknowledge bit. A device that acknowledges must
    cific data source or address to read from. The mas-                            pull SDA low during the acknowledge clock pulse in
    ter can use a repeated START condition at the end                              such a way that SDA is stable low during the high
    of a data transfer to immediately initiate a new data                          period of the acknowledge-related clock pulse plus
    transfer following the current one. A repeated START                           the required setup and hold time (tHD:DAT after the
    condition is generated the same way as a normal                                falling edge of SCL and tSU:DAT before the rising
    START condition, but without leaving the bus idle                              edge of SCL).
    after a STOP condition.
                                                                                   Not Acknowledged by Slave: A slave device may
    Data Valid: With the exception of the START and                                be unable to receive or transmit data, for example,
    STOP condition, transitions of SDA can occur only                              because it is busy performing some real-time func-
    during the low state of SCL. The data on SDA must                              tion. In this case, the slave device does not acknowl-
    remain valid and unchanged during the entire high                              edge its slave address and leaves the SDA line high.
    pulse of SCL plus the required setup and hold time                             A slave device that is ready to communicate
    (tHD:DAT after the falling edge of SCL and tSU:DAT                             acknowledges at least its slave address. However,
www.maximintegrated.com                                                                                                   Maxim Integrated | 16


 DS2482-100                                                          Single-Channel 1-Wire Master
   some time later the slave may refuse to accept data,   I2C Communication Example
   possibly because of an invalid command code or
   parameter. In this case, the slave device does not     See Tables 4 and 5 for the I2C communication legend
   acknowledge any of the bytes that it refuses and       and data direction codes.
   leaves SDA high. In either case, after a slave has
   failed to acknowledge, the master first should gener-  Table 4. I2C Communication—Legend
   ate a repeated START condition or a STOP condition
                                                            SYMBOL                     DESCRIPTION
   followed by a START condition to begin a new data
   transfer.                                                    S       START Condition
   Not Acknowledged by Master: At some time when              AD, 0     Select DS2482-100 for Write Access
   receiving data, the master must signal an end of           AD, 1     Select DS2482-100 for Read Access
   data to the slave device. To achieve this, the master        Sr      Repeated START Condition
   does not acknowledge the last byte that it has
                                                                P       STOP Condition
   received from the slave. In response, the slave
   releases SDA, allowing the master to generate the            A       Acknowledged
   STOP condition.                                              A\      Not Acknowledged
                                                              (Idle)    Bus Not Busy
Writing to the DS2482-100
To write to the DS2482-100, the master must access           <byte>     Transfer of One Byte
the device in write mode, i.e., the slave address must        DRST      Command “Device Reset”, F0h
be sent with the direction bit set to 0. The next byte to      SRP      Command “Set Read Pointer”, E1h
be sent is a command code, which, depending on the
                                                              WCFG      Command “Write Configuration”, D2h
command, may be followed by a command parameter.
The DS2482-100 acknowledges valid command codes               1WRS      Command “1-Wire Reset”, B4h
and expected/valid command parameters. Additional             1WSB      Command “1-Wire Single Bit”, 87h
bytes or invalid command parameters are never                1WWB       Command “1-Wire Write Byte”, A5h
acknowledged.                                                 1WRB      Command “1-Wire Read Byte”, 96h
Reading from the DS2482-100                                    1WT      Command “1-Wire Triplet”, 78h
To read from the DS2482-100, the master must access
the device in read mode, i.e., the slave address must
be sent with the direction bit set to 1. The read pointer Table 5. Data Direction Codes
determines the register that the master reads from. The
master can continue reading the same register over
and over again, without having to readdress the device,                Master-to-Slave  Slave-to-Master
e.g., to watch the 1WB changing from 1 to 0. To read
from a different register, the master must issue the Set
Read Pointer command and then access the DS2482-
100 again in read mode.
www.maximintegrated.com                                                                           Maxim Integrated | 17


DS2482-100                                                                 Single-Channel 1-Wire Master
I2C Communication Examples (continued)
 Device Reset (After Power-Up)
     S     AD,0       A   DRST    A      Sr   AD,1      A    <byte>     A\      P
 Activities that are underlined denote an optional read access to verify the success of the command.
 Set Read Pointer (To Read from Another Register)
 Case A: Valid Read Pointer Code
     S     AD,0       A    SRP    A     C3h    A        P
 C3h is the valid read pointer code for the Configuration Register.
 Case B: Invalid Read Pointer Code
     S     AD,0       A    SRP    A     E5h    A\       P
 E5h is an invalid read pointer code.
 Write Configuration (Before Starting 1-Wire Activity)
 Case A: 1-Wire Idle (1WB = 0)
     S     AD,0       A  WCFG     A   <byte>   A       Sr     AD,1       A    <byte>    A\ P
 Activities that are underlined denote an optional read access to verify the success of the command.
 Case B: 1-Wire Busy (1WB = 1)
     S     AD,0       A  WCFG     A\     P
 The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
 1-Wire Reset (To Begin or End 1-Wire Communication)
 Case A: 1-Wire Idle (1WB = 0), No Busy Polling to Read the Result
     S     AD,0       A   1WRS    A      P   (Idle)     S     AD,1       A    <byte>    A\ P
 In the first cycle, the master sends the command. Then the master waits (Idle) for the 1-Wire reset to complete. In
 the second cycle, the DS2482-100 is accessed to read the result of the 1-Wire reset from the Status Register.
 Case B: 1-Wire Idle (1WB = 0), Busy Polling Until the 1-Wire Command is Completed, then Read the Result
     S     AD,0       A   1WRS    A      Sr   AD,1      A    <byte>      A    <byte>    A\ P
                                                REPEAT UNTIL THE 1WB BIT HAS CHANGED TO 0.
 Case C: 1-Wire Busy (1WB = 1)
     S     AD,0       A   1WRS    A\     P
 The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
www.maximintegrated.com                                                                             Maxim Integrated | 18


 DS2482-100                                                             Single-Channel 1-Wire Master
I2C Communication Examples (continued)
 1-Wire Single Bit (To Generate a Single Time Slot on the 1-Wire Line)
 Case A: 1-Wire Idle (1WB = 0), No Busy Polling
    S      AD,0       A 1WSB     A   <byte>  A       P    (Idle)
                                       S    AD,1     A   <byte>     A\       P
 The idle time is needed for the 1-Wire function to complete. Then access the device in read mode to get the
 result from the 1-Wire Single Bit command.
 Case B: 1-Wire Idle (1WB = 0), Busy Polling Until the 1-Wire Command is Completed
    S      AD,0       A 1WSB     A   <byte>  A                REPEAT UNTIL THE 1WB BIT
                                                                 HAS CHANGED TO 0.
                                             Sr     AD,1    A     <byte>     A    <byte> A\   P
 When 1WB has changed from 1 to 0, the Status Register holds the valid result of the 1-Wire Single Bit command.
 Case C: 1-Wire Busy (1WB = 1)
    S      AD,0       A 1WSB     A\    P
 The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
 1-Wire Write Byte (To Send a Command Code to the 1-Wire Line)
 Case A: 1-Wire Idle (1WB = 0), No Busy Polling
    S      AD,0       A 1WWB     A    33h    A       P    (Idle)
 33h is the valid 1-Wire ROM function command for Read ROM. The idle time is needed for the 1-Wire function to
 complete. There is no data read back from the 1-Wire line with this command.
 Case B: 1-Wire Idle (1WB = 0), Busy Polling Until the 1-Wire Command is Completed.
    S      AD,0       A 1WWB     A    33h    A                REPEAT UNTIL THE 1WB BIT
                                                                 HAS CHANGED TO 0.
                                             Sr     AD,1    A     <byte>     A    <byte> A\   P
 When 1WB has changed from 1 to 0, the 1-Wire Write Byte command is completed.
 Case C: 1-Wire Busy (1WB = 1)
    S      AD,0       A 1WWB     A\    P
 The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
www.maximintegrated.com                                                                           Maxim Integrated | 19


DS2482-100                                                              Single-Channel 1-Wire Master
I2C Communication Examples (continued)
 1-Wire Read Byte (To Read a Byte from the 1-Wire Line)
 Case A: 1-Wire Idle (1WB = 0), No Busy Polling, Set Read Pointer After Idle Time
    S      AD,0       A 1WRB      A     P    (Idle)
                      S AD,0      A    SRP     A    E1h      A       Sr     AD,1 A  <byte>    A\    P
 The idle time is needed for the 1-Wire function to complete. Then set the read pointer to the Read Data Register
 (code E1h) and access the device again to read the data byte that was obtained from the 1-Wire line.
 Case B: 1-Wire Idle (1WB = 0), No Busy Polling, Set Read Pointer Before Idle Time
    S      AD,0       A 1WRB      A     Sr   AD,0    A     SRP       A      E1h  A     P
                                      (Idle)   S    AD,1     A    <byte>     A\  P
 The read pointer is set to the Read Data Register (code E1h) while the 1-Wire Read Byte command is still in
 progress. Then, after the 1-Wire function is completed, the device is accessed to read the data byte that was
 obtained from the 1-Wire line.
 Case C: 1-Wire Idle (1WB = 0), Busy Polling Until the 1-Wire Command is Completed
    S      AD,0       A 1WRB      A                   REPEAT UNTIL THE 1WB BIT
                                                         HAS CHANGED TO 0.
                                        Sr   AD,1    A    <byte>     A    <byte> A\
                     Sr AD,0      A    SRP     A    E1h      A       Sr     AD,1 A  <byte>    A\    P
 Poll the Status Register until the 1WB bit has changed from 1 to 0. Then set the read pointer to the Read Data
 Register (code E1h) and access the device again to read the data byte that was obtained from the 1-Wire line.
 Case D: 1-Wire Busy (1WB = 1)
    S      AD,0       A 1WRB     A\     P
 The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
www.maximintegrated.com                                                                           Maxim Integrated | 20


  DS2482-100                                                             Single-Channel 1-Wire Master
 I2C Communication Examples (continued)
  1-Wire Triplet (To Perform a Search ROM Function on the 1-Wire Line)
  Case A: 1-Wire Idle (1WB = 0), No Busy Polling
      S     AD,0       A   1WT     A    <byte> A      P    (Idle)
                                               S     AD,1    A     <byte>     A\       P
  The idle time is needed for the 1-Wire function to complete. Then access the device in read mode to get the
  result from the 1-Wire Triplet command.
  Case B: 1-Wire Idle (1WB = 0), Busy Polling Until the 1-Wire Command is Completed
      S     AD,0       A   1WT     A    <byte> A               REPEAT UNTIL THE 1WB BIT
                                                                  HAS CHANGED TO 0.
                                               Sr    AD,1    A     <byte>     A    <byte>  A\      P
  When 1WB has changed from 1 to 0, the Status Register holds the valid result of the 1-Wire Triplet command.
  Case C: 1-Wire Busy (1WB = 1)
      S     AD,0       A   1WT     A\     P
  The master should stop and restart as soon as the DS2482-100 does not acknowledge the command code.
Applications Information                                      time must not exceed 1000ns at standard speed and
                                                              300ns at fast speed. Assuming maximum rise time, the
SDA and SCL Pullup Resistors                                  maximum resistor value at any given capacitance CB is
SDA is an open-drain output on the DS2482-100 that            calculated as:
requires a pullup resistor to realize high-logic levels.          RPMAXS = 1000ns/[CB x ln(7/3)] (standard speed)
Because the DS2482-100 uses SCL only as input (no
clock stretching), the master can drive SCL either                    RPMAXF = 300ns/[CB x ln(7/3)] (fast speed)
through an open-drain/-collector output with a pullup         For a bus capacitance of 400pF, the maximum pullup
resistor or a push-pull output.                               resistor values are 2.95kΩ at standard speed and 885Ω
Pullup Resistor RP Sizing                                     at fast speed. A value between 1.7kΩ and 2.95kΩ
According to the I2C specification, a slave device must       meets all requirements at standard speed.
be able to sink at least 3mA at a VOL of 0.4V. This DC        Because an 885Ω pullup resistor, as would be required
condition determines the minimum value of the pullup          to meet the rise time specification at fast speed and
resistor as:                                                  400pF bus capacitance, is lower than RP(MIN) at 5.5V, a
                 RP(MIN) = (VCC - 0.4V)/3mA                   different approach is necessary. The “MAX LOAD AT
                                                              MIN RP FAST MODE” line in Figure 11 is generated by
With an operating voltage of 5.5V, the minimum value          first calculating the minimum pullup resistor at any
for the pullup resistor is 1.7kΩ. The “MINIMUM RP” line       given operating voltage (“MINIMUM RP” line) and then
in Figure 11 shows how the minimum pullup resistor            calculating the respective bus capacitance that yields a
changes with the operating voltage.                           300ns rise time.
For I2C systems, the rise time and fall time are mea-         Only for pullup voltages of 3V and lower can the maximum
sured from 30% to 70% of the pullup voltage. The maxi-        permissible bus capacitance of 400pF be maintained. A
mum bus capacitance, CB, is 400pF. The maximum rise
 www.maximintegrated.com                                                                               Maxim Integrated | 21


DS2482-100                                                                                                     Single-Channel 1-Wire Master
reduced bus capacitance of 300pF is acceptable for                                                   exceed 200pF. The corresponding pullup resistor value
pullup voltages of 4V and lower. For fast speed operation                                            at the voltage is indicated by the “MINIMUM RP” line.
at any pullup voltage, the bus capacitance must not
                                                                                                                             VCC
                                                                                                                        CURRENT-LIMITING
                                                                               RP*
                                                                                                                        RESISTOR
                                                                                                                        REFER TO APPLICATION
                                                                                      SDA                               NOTE 4206
                                                       (I2C PORT)
                                                                                      SCL             PCTLZ
                                                      μC                                    DS2482-100
                                                                                                                        1-Wire LINE     1-Wire DEVICE #1
                                                                                      AD0                 IO                          (WITH SPECIAL POWER
                                                                                      AD1                                                REQUIREMENTS)
                                                                                               VCC
                                                                                      SDA
                                                                                      SCL             PCTLZ
                                                                                            DS2482-100
                                                                                                                       1-Wire LINE     1-Wire
                                                                             VCC      AD0                 IO
                                                                                                                                      DEVICE #2
                                                                                      AD1
                                     *RP = I2C PULLUP RESISTOR (SEE THE APPLICATIONS INFORMATION SECTION FOR RP SIZING).
Figure 10. Application Schematic
                          2000                                                                                                                                  500
                          1600                                                                                                                                  400
         MINIMUM RP (Ω)
                          1200                                                                                                                                  300
                                                                                                                                                                      LOAD (pF)
                                                            MINIMUM RP
                           800                                                                                                                                  200
                                                                                                                       MAX LOAD AT MIN RP FAST MODE
                           400                                                                                                                                  100
                            0                                                                                                                                   0
                                 1                           2                          3                          4                              5
                                                                                     PULLUP VOLTAGE (V)
Figure 11. I2C Fast Mode Pullup Resistor Selection Chart
www.maximintegrated.com                                                                                                                                     Maxim Integrated | 22


 DS2482-100                                                                          Single-Channel 1-Wire Master
Pin Configurations
                                                                     TOP VIEW
                                                                                                          TOP MARK
                                                                 (BUMP SIDE DOWN)
                                                                    DS2482-100                           DS2482-100
                                                                1        2        3                 1          2       3
          TOP VIEW
                                                           +                                     +
                    +                                   A                                    A
           VCC   1                   8 AD0
                                                              PCTLZ     AD1     AD0                      2 4 8 2 1
             IO  2                   7 AD1
                        DS2482-100                      B                                    B          y y w w r r
           GND   3                   6 PCTLZ
                                                               SCL     SDA      VCC
                                                                                                         # # # x x
           SCL   4                   5 SDA              C                                    C
                     SO (150 mils)                                     GND       IO
                                                                      WLP                                   WLP
Ordering Information
         PART              TEMP RANGE         PIN-PACKAGE
 DS2482S-100+              -40°C to +85°C     8 SO (150 mils)
 DS2482S-100+T&R           -40°C to +85°C     8 SO (150 mils)
 DS2482X-100+T             -40°C to +85°C     9 WLP (2.5k pieces)
+Denotes a lead(Pb)-free/RoHS-compliant package.
T/T&R = Tape and reel.
Package Information
For the latest package outline information and land patterns (footprints), go to www.maxim-integrated.com/packages. Note that a
“+”, “#”, or “-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the draw-
ing pertains to the package regardless of RoHS status.
        PACKAGE TYPE                         PACKAGE CODE                       OUTLINE NO.              LAND PATTERN NO.
          8 SO (150 mils)                          S8+4                             21-0041                      90-0096
                                                                                                                 Refer to
                9 WLP                            W92A1+1                            21-0067
                                                                                                        Application Note 1891
www.maximintegrated.com                                                                                           Maxim Integrated | 23


DS2482-100                                                                                        Single-Channel 1-Wire Master
Revision History
  REVISION         REVISION                                                                                                                       PAGES
                                                                             DESCRIPTION
   NUMBER             DATE                                                                                                                      CHANGED
       1             080604        Initial release                                                                                                   —
                                   I2C trademark note deleted; upper I2C slave address bits changed from 01100b to
       2             110204                                                                                                                         1, 14
                                   00110b.
       3             040507        Added the lead(Pb)-free ordering information.                                                                      1
       4             091007        Added the UCSP (WLP) package and Package Information section.                                                    1, 21
                                   Updated the Features bullets.                                                                                      1
                                   Updated the VIL1 and RWPU values in the Electrical Characteristics table.                                          2
                                   Minor corrections to Figure 1; updated the Detailed Description section to clarify
       5             061208                                                                                                                           5
                                   information about the active pullup and strong pullup.
                                   Replaced the Strong Pullup (SPU) section description and replaced Figure 4.                                        7
                                   Removed timing inaccuracies in Figure 8.                                                                          14
                                   Created newer template-style data sheet.                                                                          All
       6               7/08
                                   Replaced Figure 8.                                                                                                16
                                   Deleted the 1-Wire line termination resistor and references to it in the Typical
       7               8/08                                                                                                                         1, 23
                                   Operating Circuit and in Figure 11.
                                   Corrected the recommendation for using active pullup (APU); removed the                                    1–7, 9–12, 15,
       8               11/09
                                   references to presence-pulse masking.                                                                       16, 21, 22, 24
                                   Updated the soldering information in the Absolute Maximum Ratings section; added
                                   a note to the Strong Pullup (SPU) section description; updated the 1-Wire Reset
       9               1/12                                                                                                                     2, 7, 10, 23
                                   command description (sections Restriction and Configuration Bits Affected); added
                                   the land pattern to the Package Information section.
       10               1/15       Updated Benefits and Features section                                                                              1
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent
licenses are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and
max limits) shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                    © 2015 Maxim Integrated Products, Inc. | 24


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 DS2482S-100+ DS2482S-100+T&R DS2482S-100 DS2482S-100/T&R DS2482X-100+U
