NCV7471, NCV7471A
System Basis Chip with a
High-Speed CAN, Two LINs
and a Boost-Buck DC/DC
Converter
                                                                                              www.onsemi.com
  NCV7471(A) is a System Basis Chip (SBC) integrating functions
typically found in automotive Electronic Control Units (ECUs) in the
body domain. NCV7471 provides and monitors the low−voltage                                                SSOP36−EP
power supplies for the application microcontroller and other loads,                                        DQ SUFFIX
                                                                                                          CASE 940AB
monitors the application software via a watchdog and includes
high−speed CAN and LIN transceivers allowing the ECU to host
multiple communication nodes or to act as a gateway unit. The                                MARKING DIAGRAM
on−chip state controller ensures safe power−up sequence and supports
low−power modes with a configurable set of features including
wakeup from the communication buses or by a local digital signal
WU. The status of several NCV7471(A) internal blocks can be read by                                   XXXX
                                                                                                   AWLYYWWG
the microcontroller through the serial peripheral interface or can be                                    G
used to generate an interrupt request.
Features
• Control Logic
                                                                                     XXXX     = NCV7471−5 or NCV7471A−5
   ♦   Ensures safe power−up sequence and the correct reaction to                    A        = Assembly Location
      different supply conditions                                                    WL       = Wafer Lot
   ♦ Controls mode transitions including the power management and                    YY       = Year
      wakeup treatment − bus wakeups, local wakeups (via WU pin) and                 WW       = Work Week
                                                                                     G        = Pb−Free Package
      cyclic wakeups (through the on−chip timer)
   ♦ Generates reset and interrupt requests                                       (Note: Microdot   may be in either location)
•  Serial Peripheral Interface
   ♦ Operates with 16−bit frames                                                        ORDERING INFORMATION
                                                                            See detailed ordering and shipping information on page 49 of
   ♦ Ensures communication with the ECU’s microcontroller unit
                                                                            this data sheet.
   ♦ Mode settings, chip status feedback and watchdog are accessible
      through eight twelve−bits registers
•  5 V VOUT Supply from a DC/DC Converter                          ♦ Can be used as a wake−up source or as a logical
   ♦ Can deliver up to 500 mA with accuracy of ±2%                    input polled through SPI
   ♦ Supplies typically the ECU’s microcontroller                • Protection and Monitoring Functions
•  5 V VOUT2 Low−drop Output Regulator                             ♦ Monitoring of the main supply through the V_MID
   ♦ Can supply external loads – e.g. sensors                         point
   ♦ Controlled by SPI and the state machine                       ♦  Monitoring of VOUT supply output with
   ♦ Protected against short to the car battery                       programmable      threshold
•  A High−speed CAN Transceiver                                    ♦  VOUT2      supply   diagnosis through SPI and interrupt
   ♦ ISO11898−2 and ISO11898−5 compliant                           ♦  Thermal    warning     and thermal shutdown protection
   ♦ Communication speed up to 1 Mbps                              ♦  Programmable       watchdog     monitoring the ECU
   ♦ TxD dominant time−out protection
                                                                      software
•  Two LIN Transceivers                                          • NCV Prefix for Automotive and Other Applications
   ♦ LIN2.X and J2602 compliant
                                                                   Requiring Unique Site and Control Change
   ♦ TxD dominant time−out protection                              Requirements; AEC−Q100 Qualified and PPAP
                                                                   Capable
•  Wakeup Input WU
   ♦ Edge−sensitive high−voltage input
                                                                 • These Devices are Pb−Free, Halogen Free/BFR Free
                                                                   and are RoHS Compliant
 © Semiconductor Components Industries, LLC, 2015            1                                           Publication Order Number:
 April, 2018 − Rev. 5                                                                                                      NCV7471/D


                                                                             NCV7471, NCV7471A
                                                                  1                                                                   36
                                              RSTN                                                                                                 V_MID
                                               INTN                                                                                                BOOST
                                    UVN_VOUT                                                                                                       CFG
                                                 SDI                                                                                               FSO1
                                                SCK                                                                                                FSO2
                                                SDO                                                                                                FSO3
                                                CSN                                                                                                GND_SMPS
                                             BUCK                                                                                                  WU
                                 GND_SENSE                                                                                                         VS
                                             VOUT                                                                                                  VS_VOUT2
                                      VCC_CAN                                                                                                      GND
                                           VOUT2                                                                                                   CANH
                                              TxDC                                                                                                 CANL
                                              RxDC                                                                                                 TEST/GND
                                             TxDL1                                                                                                 LIN1
                                            RxDL1                                                                                                  GND
                                             TxDL2                                                                                                 LIN2
                                            RxDL2                                                                                                  SWDM
                                                                18                                                                    19
                                                                                      Pin Connections
Table of Contents
Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3
Pin Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
Application Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
Example Application Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
External Components . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Functional Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
Power Supplies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
Communication Transceivers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
WU – Local Wakeup Input . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
Operating Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
Watchdog . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
System Reset . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
Event Flags and Interrupt Requests . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
Junction Temperature Monitoring . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
FSO1/2/3 – Fail-Safe Outputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
SWDM and CFG Digital Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
SPI – Serial Peripheral Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Absolute Maximum Ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38
Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39
Electrical Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40
Power Supply . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40
CAN Transceiver . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43
LIN Transceivers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45
Digital Control Timing and SPI Timing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47
Thermal Protection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48
Digital IO Pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48
CFG and SWDM Pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49
FSO Pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49
WU Pin . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49
Device Ordering information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49
                                                                                     www.onsemi.com
                                                                                                    2


                    NCV7471, NCV7471A
            BOOST  V_MID                  BUCK                   VOUT
GND_SMPS                                  DC/DC CONVERTER
       CFG
                                                                      VS
                                              Supply monitoring
   SWDM                                        Auxiliary blocks
                                                                      VS_VOUT2
     RSTN
                                                            LDO       VOUT2
                                                           50 mA
      INTN
                                                                      WU
                                                  FSO                 FSO1
UVN_VOUT
                                                     FSO              FSO2
                  CONTROL                               FSO           FSO3
        SDI
       SDO
       SCK
                                           LIN transceiver
                                                                      LIN1
       CSN
                                              LIN transceiver         LIN2
    TxDL1
    RxDL1
                                                                      VCC_CAN
    TxDL2
                                                                      CANH
    RxDL2                                        CAN transceiver
                                                                      CANL
     TxDC
     RxDC
                                                                      GND_SENSE
                                                                      GND
                                                                      TEST/GND
                          NCV7471(A)
                    Figure 1. Block Diagram
                       www.onsemi.com
                                3


                                                 NCV7471, NCV7471A
Table 1. PIN DESCRIPTION
   Pin                                    Pin Type
 Number      Pin Name  (LV = Low Voltage; HV = High Voltage)                                     Pin Function
    1          RSTN        LV digital input/output; open drain;        System reset
                                      internal pull−up
    2          INTN   LV digital output; open drain; internal pull−up  Interrupt request to the MCU
    3       UVN_VOUT                                                   VOUT under−voltage signal to the MCU
    4           SDI        LV digital input; internal pull−down        SPI data input
    5           SCK        LV digital input; internal pull−down        SPI clock input
    6          SDO     LV digital output; push−pull with tri−state     SPI data output
    7           CSN   LV digital input (HV tolerant); internal pull−up SPI chip select input
    8          BUCK               HV analog input/output               Connection of Lbuck coil to the integrated serial switch
    9      GND_SENSE                Ground connection                  Ground sense for the internal circuitry (e.g. VOUT2 regulator)
   10          VOUT                   LV supply input                  Feedback of the DC/DC converter output; main 5 V LV
                                                                       supply for the digital IO’s
   11        VCC_CAN                  LV supply input                  Core supply for the CAN transceiver
   12         VOUT2                  LV supply output                  Output of the 5 V/50 mA low−drop regulator for external loads
   13          TxDC         LV digital input; internal pull−up         Input of the data to be transmitted on CAN bus
   14          RxDC            LV digital output; push−pull            Output of data received from CAN bus
   15         TxDL1         LV digital input; internal pull−up         Input of the data to be transmitted from LIN1 bus
   16         RxDL1            LV digital output; push−pull            Output of data received on LIN1 bus
   17         TxDL2         LV digital input; internal pull−up         Input of the data to be transmitted from LIN2 bus
   18         RxDL2            LV digital output; push−pull            Output of data received on LIN2 bus
   19         SWDM        HV digital input; internal pull−down         Input to select the SW Development configuration
   20           LIN2                 LIN bus interface                 LIN2 bus line
   21          GND                  Ground connection                  Ground connection
   22           LIN1                 LIN bus interface                 LIN1 bus line
   23       TEST/GND       LV digital input; internal pull−down        Test−mode entry pin for production testing; should be
                                                                       grounded in the application
   24          CANL                 CAN bus interface                  CANL line of the CAN bus
   25          CANH                 CAN bus interface                  CANH line of the CAN bus
   26          GND                  Ground connection                  Ground connection
   27       VS_VOUT2                 HV supply input                   Separate line input for the VOUT2 low−drop regulator
   28            VS                  HV supply input                   Line supply for the battery−related core blocks
   29           WU                    HV digital input                 Input for monitoring of external contacts
   30       GND_SMPS                Ground connection                  Power ground connection for the DC/DC converter
   31          FSO3      HV digital output; open drain low−side        Indication of a fail−safe event by rectangular signal of 100 Hz
                                                                       with 20% duty cycle; high−impedant in normal operation
   32          FSO2      HV digital output; open drain low−side        Indication of a fail−safe event by rectangular signal of 1.25 Hz
                                                                       with 50% duty cycle; high−impedant in normal operation
   33          FSO1      HV digital output; open drain low−side        Indication of a fail−safe event by static Low level;
                                                                       high−impedant in normal operation
   34           CFG       HV digital input; internal pull−down         Configuration of fail−safe behavior; in SW Development,
                                                                       CFG enables boost stage operation
   35         BOOST               HV analog input/output               Connection of Lboost coil to the integrated switch to ground.
   36         V_MID               HV analog input/output               Intermediate point connecting the step−up and step−down
                                                                       stages of the DC/DC converter
                                                      www.onsemi.com
                                                                 4


       NCV7471, NCV7471A
   APPLICATION INFORMATION
Figure 2. Example Application Diagram
           www.onsemi.com
                  5


                                                       NCV7471, NCV7471A
                                                        External Components
  Overview of external components from application schematic in Figure 2 is given in Table 2 together with their recommended
or required values.
 Table 2. EXTERNAL COMPONENTS OVERVIEW
  Component Name                        Description                                   Value                               Note
         Drev                  Reverse−protection diode                parameters application−specific;
                                                                                e.g. 0.5 A / 50 V
         Cin               Filtering capacitor for the DC/DC                    ≥ 1 mF ceramic;
                                      converter input                           e.g. 1 mF / 40 V
        Lboost         Inductor for the converter boost stage;      recommended range 3.3 mH – 10 mH;
                                EMC filtering inductance                      e.g. 3.3 mH / 0.77 A,          Values and types depend
                                                                            type B82422H1332+000             on the application needs
                                                                                                            and conditions. Guidelines
          D1             Diode for the converter boost stage           Shottky or ultra−fast; parameters     for their selection can be
                                                                    application−specific; e.g. 0.5 A / 50 V     found in the product’s
                                                                                                                   application note.
        Cmid         Filtering and stabilization capacitor for the              ≥ 1 mF ceramic;
                            converter intermediate voltage                      e.g. 1 mF / 40 V
                                                                                                             The given examples are
          D2              Diode for the converter buck stage                  Shottky or ultra−fast;        suitable for VOUT loads of
                                                                       parameters application−specific;         up to 250 mA, and for
                                                                               e.g. 0.25 A / 50 V                 V_IN above 3.3 V.
        Lbuck           Inductor for the converter buck stage        recommended range 10 mH – 22 mH;
                                                                               e.g. 10 mH / 0.5 A,
                                                                            type B82422H1103+000
         Cout        Filtering and stabilization capacitor for the    ≥ 10 mF ceramic; e.g. 10 mF / 10 V
                                converter output voltage
         CVS              Filtering capacitor for the VS input         recommended >100 nF ceramic           optional; depends on the
                    supplying LIN and auxiliary internal circuitry                                                 application PCB
         Cin2             Filtering capacitor for the VOUT2            recommended >100 nF ceramic           optional; depends on the
                                      regulator input                                                              application PCB
        Cout2        Filtering and stabilization capacitor for the               >1 mF ceramic                        required for
                                VOUT2 regulator output                  (recommended 2.2 mF nominal)               VOUT2 stability
        RWU                 Protection and filtering resistor            recommended 33 kW nominal           optional; depends on the
                                     for the WU input                                                             application needs
        RFSO                                                                                                       depends on the
                                                                                                                  application needs
       DPU_LIN                  Pull−up diode on LIN line                                                     required only for master
                                                                                                                       LIN node
       RPU_LIN                 Pull−up resistor on LIN line                      1 kW nominal
         CLIN                Filtering capacitor on LIN line          Typically 100 pF – 220 pF nominal     optional; is function of the
                                                                                                                  entire LIN network
      CVCC_CAN       Filtering capacitor on the CAN transceiver        recommended >100 nF ceramic           optional; depends on the
                                       supply input                                                                application PCB
   CAN termination                                                                                          optional; is function of the
    and protection                                                                                               entire CAN network
       RPU_DIG       Pull−up resistor for the open−drain digital         recommended 10 kW nominal                optional; only if the
                         outputs (INTN, RSTN, UVN_VOUT)                                                        integrated pull−ups are
                                                                                                                 not sufficient for the
                                                                                                                      application
       RSWDM             Protection resistor on SWDM input               recommended 10 kW nominal           optional; depends on the
                                                                                                                      application
        RCFG               Protection resistor on CFG input              recommended 10 kW nominal           optional; depends on the
                                                                                                                      application
                                                                                                              CFG connection details
                                                                                                                 can be found in the
                                                                                                            product’s application note.
                                                            www.onsemi.com
                                                                   6


                                                  NCV7471, NCV7471A
                                               FUNCTIONAL DESCRIPTION
POWER SUPPLIES                                                   circuit remains functional until V_MID falls back below
                                                                 V_MID_PORL level, when the device enters the Shut−down
VS Supply Input
                                                                 mode.
   VS pin of NCV7471(A) is typically connected to the car
battery through a reverse−protection diode and can be            VOUT DC/DC Converter
exposed to all relevant automotive disturbances (ISO7637            The main application low−voltage supply is provided by
pulses, system ESD...). VS supplies mainly the integrated        an integrated boost−buck DC/DC converter, delivering a
LIN transceivers. Filtering capacitors should be connected       5 V output VOUT. The converter can work in two modes:
between VS and GND.                                              • Buck−only mode is the default mode of the VOUT
                                                                    power−supply. In this mode, the boosting part of the
V_MID Supply Point
   V_MID node is the connection point between the two               converter is never activated and the resulting VOUT
stages of the DC/DC converter. If only the buck (i.e.               voltage can be only lower than the input line voltage.
step−down) function of the converter is active (because the         Buck−only mode is applied during the initial power−up
input voltage is sufficient or because boosting is not              (after the V_IN connection), wakeup from Sleep−mode
enabled), V_MID level stays two diode drops below the               and also recovery from the Fail−safe mode.
battery input to the application – see Figure 2. In case the     • Boost−buck mode ensures that the correct VOUT
boost stage of the converter is active, V_MID voltage is            voltage is generated even if the input line voltage falls
regulated to V_MID_reg (6.5 V typically).                           below the required VOUT level. This mode can be
   V_MID pin is used to supply the core auxiliary blocks of         requested through the corresponding SPI control
the device – namely the voltage reference, biasing, internal        register. If selected, the boost−buck mode is used
regulator and the wakeup detector of the CAN bus. When the          during Reset, Start−up, Normal, Standby, and Flash
DC/DC converter is boosting, it is ensured that the internal        modes. It is also preserved during VOUT
core blocks remain functional even for low input supply level.      under−voltage recovery through Power−up mode. In
   During power−up of the battery supply, V_MID point               SW Development configuration, boost−buck mode can
must reach V_MID_PORH level in order for the circuit to             be additionally enabled by High level on CFG pin. No
become functional – the internal state machine is initiated         SPI communication is therefore necessary to select the
and the converter is activated in buck−only mode. The               DC/DC mode in SW Development – see Table 3.
 Table 3. CONTROL OF DC/DC CONVERTER MODES (“X” Means “Don’t Care”)
       Device Configuration              SPI enBOOST Bit              Signal on CFG Pin               Applied DC/DC Mode
                                               Low                                                        Buck−Only
  Config 1, 2, 3, 4                                                            X
                                              High                                                       Boost−Buck
                                                                             Low                          Buck−Only
                                               Low
  SW Development                                                             High                        Boost−Buck
                                              High                             X                         Boost−Buck
   By default, the converter works with a fixed switching        • VOUT is compared with a fixed threshold VOUT_FAIL
frequency fsw_DCDC (typ. 485 kHz). Through the SPI                  (typ. 2 V). If VOUT stays below VOUT_FAIL level for
settings, a switching frequency modulation can be applied           longer than t_VOUT_powerup, a VOUT short−circuit is
with fixed modulation frequency of 10 kHz and three                 detected and Fail−safe mode is entered with the
selectable modulation depth values – 10%, 20% or 30% of             corresponding fail−safe information stored in SPI.
the nominal frequency.
                                                                 Both UVN_VOUT and RSTN pins provide an open drain
   VOUT level is monitored by an under−voltage detector
                                                                 output with integrated pull−up resistor. The split between
with multiple thresholds:
                                                                 reset−generating level VOUT_RESx and an under−voltage
• Comparison with selectable threshold VOUT_RESx. By             indication allows coping with VOUT dips in case of high
   default, the lowest threshold (typ. 3.1 V) applies for the    loads coinciding with low input line voltages. The function
   state machine control and the activation of the RSTN          of the VOUT and V_MID monitoring is illustrated in
   signal. This reset threshold can be changed via SPI to        Figure 3 and Figure 4. FSO1 output activation and Fail−safe
   any of the four programmable values.                          mode entry caused by VOUT undervoltage are shown in
• A second monitoring signal – UVN_VOUT − is                     Figure 5 and Figure 6 (NCV7471A only).
   generated based on comparison of the VOUT level with
   the highest monitoring level (typ. 4.65 V).
                                                       www.onsemi.com
                                                               7


                       NCV7471, NCV7471A
Figure 3. V_MID and VOUT Supply Monitoring (Filtering times are neglected)
                       Figure 4. VOUT Monitoring
                           www.onsemi.com
                                   8


          NCV7471, NCV7471A
Figure 5. VOUT Monitoring (NCV7471A Only)
Figure 6. VOUT Monitoring (NCV7471A Only)
             www.onsemi.com
                    9


                                                    NCV7471, NCV7471A
VOUT2 Auxiliary Supply                                               VCC_CAN Transceiver Supply
   An integrated low−drop regulator provides a second 5 V               The integrated CAN transceiver uses a dedicated supply
supply VOUT2 to external loads, typically sensors. The               input VCC_CAN. The transceiver is supplied by
regulator’s input is taken from a dedicated pin VS_VOUT2,            VCC_CAN when configured for full−speed transmission or
which does not feature an explicit under−voltage                     reception. When configured for wakeup detection, the
monitoring. VS_VOUT2 would be typically connected to                 transceiver is internally supplied from the V_MID pin.
the VS pin or, in function of the application needs, might be           A 5 V supply must be externally connected to VCC_CAN
taken from other nodes like, e.g., the DC/DC converter’s             pin for the correct transceiver’s functionality in full−speed
auxiliary node V_MID.                                                mode (“CAN Normal” or “CAN Receive−only”).
   After a power−up or a reset event, as well as in Sleep            VCC_CAN input has no dedicated monitoring and its
mode, VOUT2 regulator is switched off. In Start−up,                  correct level shall be ensured by the application – e.g. if
Normal, Standby and Flash modes, it can be freely activated          VOUT is connected to VCC_CAN, then VOUT
or deactivated via SPI control register.                             under−voltage monitoring can also cover the correct
   VOUT2 is diagnosed for under−voltage and over−voltage             VCC_CAN level.
via comparators with fixed thresholds VOUT2_UV and
VOUT2_OV, respectively. Under−voltage detection is                   Communication Transceivers
working only when VOUT2 regulator is on, while the
                                                                     High−Speed CAN Transceiver
over−voltage is monitored regardless the VOUT2 regulator                NCV7471(A) contains a high−speed CAN transceiver
activation. Output of both detectors can be polled via SPI           compliant with ISO11898−2 and ISO11898−5 standards,
status bits. Change of the detection status (in either               consisting of a transmitter, receiver and wakeup detector.
direction) is recorded as an SPI flag bit and, if enabled, can       The CAN transceiver can be connected to the bus line via a
lead to an interrupt.                                                pair of pins CANH and CANL, and to the digital control
                                                                     through pins TxDC and RxDC. The functional mode of the
                                                                     CAN transceiver depends on the chip operating mode and on
                                                                     the status of the corresponding SPI bits – see Table 4, Table 5
                                                                     and Figure 7.
 Table 4. CAN TRANSCEIVER SPI CONTROL
      SPI Control Bits                                   CAN Transceiver Function in Operating Modes
                                 Power−up         Start−up                                                      Fail−safe
   modCAN.1      modCAN.0          Reset       Normal Flash         Standby             Sleep         (except thermal shut−down)
       0              0          CAN Off          CAN Off           CAN Off           CAN Off                CAN Wakeup
       0              1          CAN Off      CAN Wakeup         CAN Wakeup         CAN Wakeup               CAN Wakeup
       1              0          CAN Off            CAN              CAN              CAN Off                CAN Wakeup
                                              Receive−only       Receive−only
       1              1          CAN Off       CAN Normal           CAN Off           CAN Off                CAN Wakeup
 Table 5. CAN TRANSCEIVER MODES
         Mode              Transceiver              RxDC Pin                TxDC Pin             CANH/CANL Pins           Supply
        CAN Off              Fully off     High (if VOUT available)         Ignored               Biased to GND            n.a.
     CAN Wakeup              Wakeup        Low if wakeup detected;          Ignored               Biased to GND           V_MID
                         detector active        High otherwise
                                             (if VOUT available)
  CAN Receive−Only       Receiver active         Received data              Ignored           Biased to VCC_CAN/2       VCC_CAN
     CAN Normal          Transmitter and         Received data          Data to transmit;     Biased to VCC_CAN/2       VCC_CAN
                         Receiver active                              checked for time−out
                                                        www.onsemi.com
                                                                 10


                                                          NCV7471, NCV7471A
   CAN Mode                    CAN Off             CAN Wake−up        CAN Receive−only                      CAN Normal
CAN Supply                                V_MID                                                  VCC_CAN
  Bias of Bus                             to GND                                               to VCC_CAN/2
         Pins
CANH/CANL
              TxDC
              RxDC
                                           CAN wakeup               Wakeup flag
                                              detected              read & cleared                    t_TxDC_timeout
                                                      Figure 7. CAN Transceiver Modes
  In CAN Off mode, the CAN transceiver is fully                              The total length of the pattern may not exceed
deactivated. Pin RxDC stays High (as long as VOUT is                         t_CAN_wake_timeout. The CAN wakeup handling is
provided) and logical level on TxDC is ignored. The bus                      illustrated in Figure 8.
pins are weakly biased to ground via the input impedance.                       In function of the current operating mode, a CAN wakeup
  In CAN Wakeup mode, the CAN transceiver, being                             can lead either to an interrupt request or to a reset. A CAN
supplied purely from V_MID pin, detects wakeups on the                       wakeup is also indicated by a Low level on the RxDC pin
CAN lines. A valid wakeup on the CAN bus corresponds to                      (which otherwise stays High as long as VOUT is available).
a pattern of two dominants at least t_CAN_wake_dom long,                     Logical level on TxDC pin is ignored. The bus pins remain
interleaved by a recessive at least t_CAN_wake_rec long.                     weakly biased to ground in the wakeup CAN mode.
                                                                               CAN wakeup                              Wakeup flag
                                                                                  detected                             read&cleared
                                < t_CAN_wake_dom                                                                       via SPI
                                              > t_CAN_wake_dom           > t_CAN_wake_dom
                                                            > t_CAN_wake_rec
        CANH/CANL
                           dominant too
                                short
                                                            < t_CAN_wake_timeout
     wakeup from
                    RSTN
     Sleep mode     INTN
      wakeup in     INTN
Start−up, Normal,
                    RxDC
 Standby, Flash
                                                       Figure 8. CAN Wakeup Detection
                                                                 www.onsemi.com
                                                                        11


                                                     NCV7471, NCV7471A
   In CAN Receive−Only mode, the receiver part of the                   TxDC is Low for longer than t_TxDC_timeout), the
CAN block detects data on the bus with the full speed and               transmission is internally disabled. The reception from the
signals them on the RxDC pin. Logical level on TxDC pin                 CAN bus remains functional and the internally set CAN
is ignored. The receiver is supplied from the VCC_CAN                   transceiver mode does not change. The transmission is again
supply input. The bus pins are biased to VCC_CAN/2 level                enabled when TxDC becomes High.
through the input circuitry.
   In CAN Normal mode, the full CAN transceiver                         LIN Transceivers
functionality is available. Both reception and transmission                NCV7471(A) integrates two on−chip LIN transceivers −
at the full speed can be used. Received data are signaled via           interfaces between physical LIN buses and the LIN protocol
RxDC pin, while logical level on TxDC pin is translated into            controllers compatible to LIN2.1 and J2602 specifications
the corresponding bus level (TxDC = High or Low leading                 − consisting of a transmitter, receiver and wakeup detector.
to a recessive or dominant being transmitted, respectively).            Each LIN transceiver can be connected to the bus line via
Both the receiving and the transmitting part are supplied               LINx pin, and to the digital control through pins TxDLx and
from the VCC_CAN supply input. The bus pins are biased                  RxDLx. The functional mode of the LIN transceivers
to VCC_CAN/2 level through the input circuitry. TxDC                    depends on the chip operating mode and on the status of the
input signal is monitored with a time−out timer. If a                   corresponding SPI bits – see Table 6, Table 7, and Figure 9.
dominant longer than t_TxDC_timeout is requested (i.e.                  The LIN transceivers are supplied directly from the VS pin.
 Table 6. LIN TRANSCEIVERS SPI CONTROL
  SPI Control Bits x = 1 ... 2                             LINx Transceiver Function in Operating Modes
                                    Power−up          Start−up                                                      Fail−safe
   modLINx.1     modLINx.0             Reset       Normal Flash          Standby                Sleep    (except thermal shut−down)
       0              0              LINx Off        LINx Off            LINx Off             LINx Off           LINx Wakeup
       0              1              LINx Off     LINx Wakeup         LINx Wakeup           LINx Wakeup          LINx Wakeup
       1              0              LINx Off          LINx                LINx               LINx Off           LINx Wakeup
                                                  Receive−only        Receive−only
       1              1              LINx Off      LINx Normal        LINx Normal             LINx Off           LINx Wakeup
 Table 7. LIN TRANSCEIVERS MODES
          Mode               Transceiver              RxDLx Pin                       TxDLx Pin                 LINx Pin Bias
        LINx Off               Fully off      High (if VOUT available)                 Ignored          Pull−up current source to VS
     LINx Wakeup               Wakeup         Low if wakeup detected;                  Ignored          Pull−up current source to VS
                           detector active         High otherwise
                                                (if VOUT available)
  LINx Receive−Only       Receiver active           Received data                      Ignored          Pull−up current source to VS
      LINx Normal         Transmitter and           Received data                 Data to transmit;            30 kW pull−up
                          Receiver active                                     checked for time−out
                                                                               (if enabled via SPI);
                                                                                    transmitted if
                                                                                   VS>VS_MON
                                                          www.onsemi.com
                                                                   12


                                                                NCV7471, NCV7471A
LINx Mode                        LINx Off               LINx Wake−up         LINx Receive−only                          LINx Normal
      Bus Pin
      Pull−up                               Current Source                                             30 kW Resistor
     recessive
             LINx
      dominant
         TxDLx
         RxDLx
                                              LIN wakeup                Wakeup flag                                                   if TxDL time−
                                                 detected               read & cleared                       t_TxDL_timeout           out disabled
                                                             Figure 9. LIN Transceiver Modes
  In LINx Off mode, the respective LIN transceiver is fully                         detected in case of a permanent LIN short to GND, because
deactivated. Pin RxDLx stays High (as long as VOUT is                               a rising edge on LIN is necessary for the wakeup detection
provided) and logical level on TxDLx is ignored. The bus                            – see Figure 10.
pin is internally pulled to VS with a current source (thus                             In function of the current operating mode, a LIN wakeup
limiting VS consumption in case of a permanent LINx short                           can lead to an interrupt request or to a reset. A LIN wakeup
to GND).                                                                            is also indicated by a Low level on the corresponding
  In LINx Wakeup mode, the LIN transceiver detects                                  RxDLx pin (which otherwise stays High as long as VOUT
wakeups on the LIN line. A valid wakeup on the LIN bus                              is available). Logical level on TxDLx pin is ignored; bus pin
corresponds to a dominant at least t_LIN_wake long,                                 is internally pulled to VS with a current source.
followed by a recessive. Thus the wakeup will not be
                                                                                                                                      Wakeup flag
                                   < t_LIN_wake                                          LIN wakeup
                                                                  t_LIN_wake                                                          read&cleared
                                                                                            detected
                                                                                                                                      via SPI
                     recessive
                       LINx
                     dominant
     wakeup from
                        RSTN
     Sleep mode         INTN
    wakeup in           INTN
 Start−up, Normal,
                       RxDLx
  Standby, Flash
                                                             Figure 10. LIN Wakeup Detection
                                                                       www.onsemi.com
                                                                               13


                                                     NCV7471, NCV7471A
   In LINx Receive−Only mode, the receiver part of the                 WU − Local Wakeup Input
LINx block detects data on the bus with the normal speed                 WU pin is a high−voltage input typically used to monitor
and signals them on the RxDLx pin. Logical level on TxDLx              an external contact or switch. A stable logical level of the
pin is ignored; bus pin is internally pulled to VS with a              WU signal is ensured even without an external connection:
current source.                                                        • if the WU level is High for longer than t_WU_filt, an
   In LINx Normal mode, the full LIN transceiver                          internal pull−up current source is connected to WU
functionality is available. Both reception and transmission            • if the WU level stays Low for longer than t_WU_filt, an
at the normal speed can be used. Received data are signaled               internal pull−down current source is connected to WU
via RxDLx pin, while logical level on TxDLx pin is
                                                                       The logical level on pin WU can be polled through SPI or
translated into the corresponding bus level (TxDLx = High
                                                                       used as a wakeup source:
or Low leading to a recessive or dominant being transmitted,
respectively). The LINx pin is internally pulled to VS via a           • WU Signal Polling: in Start−up, Normal, Standby and
30 kW resistive path. TxDLx input signal is monitored with                Flash modes, the current WU logical level is directly
a time−out timer. If a dominant longer than t_TxDL_timeout                reflected in SPI bit statWU, available for readout
is requested (i.e. TxDLx is Low for longer than                        • WU Edge Detection / Wake−up: by setting SPI bits
t_TxDL_timeout), the transmission is internally disabled.                 modWU.1 and modWU.0, edge detection is applied to
The reception from the LINx bus remains functional and the                WU signal. The device can be set to detect rising,
internally set LINx transceiver mode does not change. The                 falling or both edges on the WU signal. When the
transmission is again enabled when TxDLx becomes High.                    selected edge is detected, the event is latched in SPI bit
The TxDL dominant time−out feature can be disabled via                    flagWakeWU. In function of the current operating
SPI (a common setting for both LIN blocks).                               mode, edge on WU leads to an interrupt request
   Transmission onto the bus is blocked if VS supply falls                (Start−up, Normal, Standby and Flash modes) or reset
below VS_MON level. VS monitoring does not influence the                  (Sleep mode). More details on the event handling,
LIN reception or the TxDLx time−out detection. Indication                 applicable also to WU edges, are given in the Event
of the VS monitoring is accessible through SPI bit                        Flags and Interrupt Requests section.
statVS_LOW.                                                            Handling of the WU pin signal is illustrated in Figure 11.
   For applications with lower required bit rates, the
transmitted LIN signal slope can be decreased by a dedicated
SPI setting (“LIN low−slope mode”).
                         < t_WU_filt      t_WU_filt           < t_WU_filt                       t_WU_filt
              WU
                                                                                                                Vth_WU
                                                                                                                (with hystheresis)
     internal WU
      connection         Pull−up current                           Pull−down current                        Pull−up current
    SPI read−out
    (if available)
                                        t_WU_del                                               t_WU_del
                                WU falling edge                                         WU rising edge
                                       detected                                               detected
                                                    Figure 11. WU Pin Handling
                                                         www.onsemi.com
                                                                  14


                                                             NCV7471, NCV7471A
Operating Modes
 The principal operating modes of NCV7471(A) are shown in Figure 12 and described in the following paragraphs.
                                                                            wake−up or
                                                                 thermal shut−down recovery
                                                                                                           V_MID < V_MID_PORL
                FAIL−SAFE                                                                                                                         SHUT−DOWN
        − VOUT: off                                                                                                                      − VOUT: off
        − VOUT2: off
                                                           Failure                    Any                                                − VOUT2: off
        − Watchdog: off                                                                                                                  − Watchdog: off
                                                           Event                      mode                                               − RSTN: Low
        − RSTN: Low
        − UVN_VOUT: Low                                                                                                                  − UVN_VOUT: Low
                                                                                                                                         − SPI: off
        − SPI: off                                                                                                                       − CAN, LINx: off
        − CAN, LINx, WU: wake−up
        (except thermal shutdown)
                                                                                                                                            V_MID > V_MID_PORH
                                                                                                                                SPI
                                                                        SLEEP                                                                    CONFIGURATION
                                                                                                                                        − read and store SWDMN pin state
                                                               − VOUT: off                                                              − read and store CFG pin state
                                                               − VOUT2: off                                                             − VOUT: off
                                                               − Watchdog: off
                                                               − RSTN: Low                      wake−up
       WD service OK                                           − UVN_VOUT: Low
        (if enabled)                                           − SPI: off
                                                               − CAN, LINx: per SPI
                                                                                                  VOUT < VOUT_RESx
                STANDBY                                                                                                                            POWER−UP
       − VOUT: on
                                                                                                                                       − VOUT: on
       − VOUT2: per SPI
                                                                                                                                       − VOUT2: off
       − Watchdog: time−out/off/cyclic                                 Any Mode
                                                                                                                                       − Watchdog: off
       wake                                                        with VOUT Active
       − RSTN: High                                                                                                                    − RSTN: Low
       − UVN_VOUT: UV indication               SPI                                                                                     − UVN_VOUT: Low (=UV indication)
                                                                                                                                       − SPI: off
       − SPI: on
                                                                                                                                       − CAN, LINx: off
       − CAN, LINx: per SPI
                                                                WD service OK
                                                                                                 After Flash
                SPI          SPI                                      FLASH                      SPI request                                     VOUT > VOUT_RESx
                                                            − VOUT: on
                                                            − VOUT2: per SPI
                                                                                               Normal mode
                                                            − Watchdog: time−out                                                                  RESET
                 NORMAL                                     − RSTN: High                                                                start timer t_VOUT_reset
                                                            − UVN_VOUT: UV indication
                                                                                                SPI request
         − VOUT: on                                         − SPI: on
                                                            − CAN, LINx: per SPI                                                          − VOUT: on
         − VOUT2: per SPI
                                                                                                                                          − VOUT2: off
         − Watchdog: window/time−out
         − RSTN: High                                                                                                                     − Watchdog: off
         − UVN_VOUT: UV indication                                                                                                        − RSTN: Low
                                                                                                                                          − UVN_VOUT: UV indication
         − SPI: on                                                                      Flash mode                                        − SPI: off
         − CAN, LINx: per SPI
                                                                                        SPI request                                       − CAN, LINx: off
                                                             START−UP                        t_VOUT_reset
                                                                                                elapsed
    WD service OK                                    − VOUT: on
                                                     − VOUT2: per SPI
                                         SPI         − Watchdog: time−out
                                                                                                                                                                            Wrong Mode
                                                     − RSTN: High
                                                                                                                                       Missed      RSTN Pin    Reset Mode
                                                     − UVN_VOUT: UV indication
                                                     − SPI: on
                                                                                                                                      Watchdog    Forced Low   Requested      Request
                                                     − CAN, LINx: per SPI
                                                      (normal in SWD configuration)
                                                           Figure 12. Operating Modes
                                                                   www.onsemi.com
                                                                               15


                                                 NCV7471, NCV7471A
Shut−Down Mode                                                    watchdog and fail−safe behavior of the chip, respectively.
   The Shut−down mode is a passive state, in which all            After leaving the Configuration mode, the device
NCV7471(A) resources are inactive. The Shut−down mode             configuration can be changed neither by the SPI
provides a defined starting point for the circuit in case of      communication nor by signal modifications on the SWDM
supply under−voltage or the first supply connection.              and CFG pins and is kept until the next V_MID
   Both on−chip power−supplies – VOUT and VOUT2 – are             under−voltage. The application software can also force
switched off and the CAN/LINx transceiver pins (CANH,             Configuration mode by an SPI request from Start−up or
CANL and LINx) remain passive so that they do not disturb         Normal mode. Table 8 summarizes the available
the communication of other nodes connected to the buses.          configurations and their characteristics. After reading both
No wakeups can be detected. The SPI interface is disabled         pins’ levels, NCV7471(A) automatically transitions into the
(SDO pin remains high−impedant). Pins RSTN and                    Power−up mode. Because the SMPS is off in Configuration
UVN_VOUT are forced Low – RSTN/UVN_VOUT Low                       mode, SPI−initiated transition from a functional mode to
level is guaranteed, when V_MID supply is above                   Configuration may result in a short dip on VOUT, which is
V_MID_DigOut_Low or VOUT pin is above                             not disturbing the device operation and which is recovered
VOUT_DigOut_Low. Pins RxDx are kept High (i.e. at                 immediately after the Configuration mode is left.
VOUT level).                                                         CFG pin connection details can be found in the product’s
   The Shut−down mode is entered asynchronously                   application note.
whenever the V_MID level falls below the power−on−reset              Two SPI bits are foreseen to reflect the state of SWDM
level V_MID_PORL.                                                 and CFG pins:
   The Shut−down mode is left only when the V_MID                 • statSWDM bit latches the SWDM pin logical value read
supply exceeds the high power−on−reset level                          during Configuration mode. The bit remains unchanged
V_MID_PORH. When exiting the Shut−down mode,                          until the Configuration mode is entered again.
NCV7471(A) always enters the Configuration mode.                  • statCFG bit either latches the CFG value read in
Configuration Mode                                                    Configuration mode and remains unchanged afterwards
   Configuration is a transient mode, in which NCV7471(A)             (in Config 1,2,3,4), or keeps reflecting the current CFG
reads logical input levels on pins SWDM and CFG. The                  signal throughout the IC operation (in SW
SWDM and CFG values in Configuration mode define                      Development).
 Table 8. POSSIBLE CONFIGURATIONS (“X” Means “Don’t care”)
                     Values Latched            Resulting
                 in Configuration Mode       Configuration                                    Behavior
  FastFSON
    SPI bit       SWDM            CFG                              At Watchdog Failure                  At RSTN Clamped Low
       1             0             1            Config 1         1st failure activates FSOx;                FSOx activated;
                                                                Fail−safe mode not entered             external reset controls the
                                                                                                            operating mode
       1             0             0            Config 2        1st failure puts the chip into              FSOx activated;
                                                                        Fail−safe mode                  Fail−safe mode entered
       0             0             1            Config 3         2nd failure activates FSOx;         FSOx activated; external reset
                                                                Fail−safe mode not entered            controls the operating mode
       0             0             0            Config 4      2nd failure activates FSOx and                FSOx activated;
                                                             puts the chip into Fail−safe mode          Fail−safe mode entered
       X             1             X       SW Development    No FSOx activation; no Fail−safe          External reset controls the
                                                              mode entry; stored in SPI, can           operating mode; no FSOx
                                                                lead to interrupt (if enabled)                  activation
Power−Up Mode
   The Power−up mode ensures correct activation of the            SPI interface is disabled (SDO pin remains high−impedant).
on−chip VOUT DC/DC converter or recovery of VOUT                  Pins RSTN and UVN_VOUT are forced Low. Pins RxDx
after an under−voltage event.                                     are kept High (i.e. at VOUT level).
   In the Power−up mode, the VOUT DC/DC converter is                 The Power−up mode is entered from the Configuration
switched on (or kept on) while VOUT2 regulator remains in         mode or after a wakeup from Sleep mode (in both cases,
the previous state (e.g. VOUT2 is off coming from the             VOUT DC/DC converter needs to be activated). It will be
Shut−down and Configuration modes). The CAN/LINx                  also entered from any state with VOUT already active
transceiver pins (CANH, CANL and LINx) remain passive             (Normal, Standby, Reset, Start−up, Flash) if the VOUT level
so that they do not disturb the communication of other nodes      falls below the VOUT_RESx level (the valid VOUT_RESx
connected to the buses. No wakeups can be detected. The           level is set via SPI).
                                                       www.onsemi.com
                                                             16


                                                   NCV7471, NCV7471A
  The Power−up mode is correctly left when VOUT                    Start−Up Mode
exceeds the SPI−selected VOUT_RESx level. An                          During the Start−up mode, the microcontroller supplied
overload/short−circuit failure is detected if VOUT does not        by VOUT is expected to initialize correctly and to perform
reach the failure threshold VOUT_FAIL within time                  successful communication via the SPI interface.
t_VOUT_powerup. NCV7471(A) then goes to the Fail−safe                 Start−up mode is the first mode in which SPI is enabled
mode. VOUT staying between VOUT_FAIL and                           and the watchdog is started. The application software is able
VOUT_RESx levels will keep the device in the Power−up              to read any SPI register. Write access to SPI depends on the
mode, unless the thermal shutdown temperature is reached           FSO_internal flag (i.e. whether a failure condition preceded
(e.g. because of VOUT overload).                                   the Start−up mode – see the FSO1/2/3 − Fail−safe Outputs
                                                                   section for details):
Reset Mode                                                         • In case FSO_internal = 0 (inactive), any SPI register
  The Reset mode is a transient mode providing a defined
                                                                      can be written and all features can be configured in the
RSTN pulse for the application microcontroller.
                                                                      Start−up mode (e.g. CAN/LIN transceivers can be
  VOUT supply is kept on, while VOUT2 regulator remains
                                                                      activated, VOUT2 can be activated)
in its previous state. The CAN/LINx transceiver pins
(CANH, CANL and LINx) are passive so that they do not              • In case FSO_internal = 1 (active), all SPI write frames
disturb the communication of other nodes connected to the             will be ignored by the chip, with the exception of the
buses. No wakeups can be detected. The SPI interface is               watchdog service frame (write access to the
disabled (SDO pin remains high−impedant). Pin RSTN is                 MODE_CONTROL register).
forced Low while pin UVN_VOUT indicates the VOUT                   The watchdog is activated and works in the timeout mode.
under−voltage with respect to the highest reset level. Pins        A correct watchdog service is expected from the MCU
RxDx are kept High (i.e. at VOUT level).                           before the watchdog period elapses. The correct
  Reset mode will be entered as a consequence of one of the        watchdog−serving SPI message should arrive in time and
following events:                                                  should contain either a request to enter Normal mode or a
• Power−up mode is exited                                          request to enter the Flash mode. The Start−up mode is then
• RSTN pin is forced Low externally                                exited into the requested mode.
                                                                      If the microcontroller software fails to serve the watchdog
• Flash mode has been requested via SPI                            in time, the chip detects the “1st Watchdog Missed” event
• Flash mode exit has been requested via SPI                       which is handled according the configuration (SW
• Reset mode has been requested via SPI                            Development or Config 1/2/3/4) – see the FSO1/2/3 −
• An un−authorized operating mode has been requested               Fail−safe Outputs section.
   via SPI                                                            In the SW Development configuration, the following
• Watchdog has been missed in Config 1 or Config 3                 exceptions are applied for the Start−up mode:
Normally, the Reset mode is left after a defined time
                                                                   • the device remains in the Start−up mode as long as the
t_VOUT_reset when the RSTN pin is internally released to              watchdog is not served correctly – thus also in case no
High – the chip then goes to the Start−up mode. Overdriving           microprocessor is connected.
the RSTN pin to Low externally will extend the Reset mode          • when entering the Start−up mode, CAN and both LIN
duration. If RSTN is still forced Low externally even after           transceivers are automatically put to their Normal mode
time t_VOUT_Clamped_Low elapses, a “RSTN clamped                   As a result, device in SW Development mode keeps on
Low” event is detected. The reaction depends on the chip           providing VOUT supply and full CAN and LIN
configuration (SW Development or Config 1/2/3/4).                  functionality even if no application software is available or
“RSTN clamped Low” can lead to FSOx signal activation,             if no microprocessor is connected. In addition, no RSTN
Fail−safe mode entry or just to the Reset mode being kept as       pulses are generated and FSOx pins remain inactive.
long as RSTN is driven Low – see Table 9.
  If the Reset mode is entered due to external RSTN Low            Normal Mode
pulse during Start−up mode, FSOx outputs are activated                The Normal mode allows using all NCV7471(A)
(unless the device is in the SW Development configuration).        resources (VOUT2, CAN transceiver, LINx transceivers)
This condition fosters that the external MCU sends at least        which can be monitored and configured by the
one correct watchdog message before applying an external           microcontroller via the SPI interface. The watchdog is
reset.                                                             working in the window mode with selectable period which
  Information about the cause of a reset pulse is stored in the    can be changed at each watchdog−service SPI message.
SPI registers and can be read by the application software.            VOUT is kept on. INTN pin provides the Interrupt
The “Reset source” information is kept unchanged until the         Requests (IRQ’s) depending on the device status and the
next reset event.                                                  interrupt mask settings. The application software can poll all
                                                       www.onsemi.com
                                                                17


                                                   NCV7471, NCV7471A
SPI status bits or enable the corresponding interrupt             watchdog are de−activated. Depending on the SPI settings
requests. Pin RSTN remains High while pin UVN_VOUT                prior to the Sleep mode entry, CAN and LINx transceivers
indicates the VOUT under−voltage with respect to the              can be either switched off or configured for bus wakeup
highest reset level. WU pin and transceivers can be               detection.
configured for wake−up recognition which is then signalled           Two types of wakeup can be used during the Sleep mode
as an interrupt request.                                          – a local wakeup through the WU pin change, and a bus
   In a software−controlled way, the microcontroller can          wakeup (via a CAN or LINx bus). A detected wakeup will
either keep NCV7471(A) in the Normal mode or request a            cause entry into Power−up mode.
transition into another mode (including Reset and                    When Sleep mode is requested, at least one of the
Configuration).                                                   following conditions must be fulfilled:
                                                                  • CAN wakeup is enabled
Standby Mode
   Standby is the first low−power mode of NCV7471(A). It          • LIN wakeup is enabled at least on one of the LINx
is entered after the corresponding SPI request is made in the        channels
Normal mode. In the Standby mode, the application                 If none of the above conditions is respected, all CAN and
microcontroller remains supplied by VOUT DC/DC                    LIN wakeups will be automatically enabled as well as WU
converter and can continue the SPI communication. VOUT            wakeup on both edges. Note, that allowing only the local
remains monitored by the reset and failure comparators. The       WU wakeup is not sufficient. Sleep mode can be only left
functionality of the LINx blocks remains fully available          through a wakeup or V_MID under−voltage.
while the CAN transceiver is limited – it can be put to
Receive−only, Wakeup or Off mode. Active CAN                      Fail−Safe Mode
transmission is not available.                                       Fail−safe mode ensures a defined reaction of
   Three types of wakeup can be used during the Standby           NCV7471(A) to a failure event. Both power supplies –
mode – a local wakeup through the WU pin change, a bus            VOUT and VOUT2 – are switched off, and the Fail−safe
wakeup (via a CAN or LINx bus) and a cyclic wakeup                outputs are activated. RSTN and UVN_VOUT pins are
generated by the watchdog timer. A detected wakeup will           pulled Low in order to ensure that the microcontroller
cause an interrupt request through INTN pin.                      software execution stops immediately.
   During Standby mode, at least one of the following                Fail−safe mode will be entered as a consequence of one of
conditions must be fulfilled:                                     the following events:
• Watchdog is requested to be on                                  • Watchdog has been missed in Config 2 or Config 4
• Cyclic wakeup is enabled                                        • “RSTN clamped Low” has been detected in Config 2 or
                                                                     Config 4
• CAN wakeup is enabled
                                                                  • “RSTN clamped High” has been detected
• LIN wakeup is enabled at least on one of the LINx
   channels
                                                                  • VOUT power supply has not reached the failure level
                                                                     VOUT_FAIL after t_VOUT_powerup – this situation
If none of the above conditions is respected, all CAN and            can be encountered during failed chip start−up or
LIN wakeups will be automatically enabled as well as WU              during too long and deep under−voltage
wakeup on both edges. Note, that allowing only the local
WU wakeup is not sufficient for successful Standby mode
                                                                  • Fail−safe mode has been requested via SPI (in SW
entry without watchdog. This SPI setting condition is                Development only)
monitored and fostered throughout the Standby mode                • Thermal shut−down has been encountered
duration.                                                         All CAN and LINx transceivers are automatically
   Standby will be kept as long as the microcontroller can        configured to wakeup detection; wakeup from WU pin is
correctly serve the watchdog and the interrupts according         also enabled on both edges. A detected bus or WU wakeup
the SPI settings. Standby is left either by an SPI request for    will bring NCV7471(A) into Power−up mode. Only in case
a mode change or by a reset event.                                of a thermal shut−down, no wakeups are detected and the
                                                                  Fail−safe mode is exited as soon as the junction temperature
Sleep Mode                                                        decreases below the warning level.
   Sleep mode is the second low−power mode of                        Throughout the Fail−safe mode, some SPI settings and
NCV7471(A). The microcontroller is not supplied and most          status bits are preserved, and become effective after
resources are inactive beside the blocks needed for wakeup        Fail−safe mode recovery. Namely CONTROL2 register
detection.                                                        (with SMPS mode settings and VOUT reset level settings),
   Sleep mode can be entered from Normal mode by the              STATUS1 register (with wake−up flags and FSO flags) and
corresponding SPI request. Immediately after the Sleep            GENERAL PURPOSE register are not reset when Fail−safe
mode entry, RSTN and UVN_VOUT pins are pulled Low in              is entered, and keep their previous content. Fail−safe
order to stop the microcontroller software. Both power
supplies – VOUT and VOUT2 – are switched off; SPI and
                                                       www.onsemi.com
                                                               18


                                                     NCV7471, NCV7471A
recovery is therefore different compared to wakeup from                       Flash mode can be entered by a specific SPI request in
Sleep mode, after which CONTROL2 is reset.                                 Start−up or Normal mode. The entry into Flash is
                                                                           accompanied by a reset pulse with “Flash requested” flag.
Flash Mode                                                                 Similarly, Flash mode can be left by an SPI request which
   Flash mode offers a relaxed watchdog timing enabling                    will result in a reset pulse with “Flash exit requested” flag.
transfer of bigger amounts of data between the                             Reset−source information in the SPI flags then allows the
microcontroller software and, e.g., an external programmer                 application to branch in function of the Flash mode. The
connected to a CAN or LIN bus. The watchdog is running                     handling of Flash mode requests is shown in Figure 13.
in time−out mode and its period can be selected from the full                 In SW Development configuration, CAN and both LIN
range of available values including longer times compared                  transceivers are automatically put to their Normal mode
to Normal mode. The control of other resources – power                     when the device enters Flash operating mode.
supplies, transceivers, WU pin, interrupt requests, etc. –
remains identical to Normal mode.
                                  Reset                                                               Reset
      Operating
                Start−up/Normal           Flash           Flash            Flash            Flash             Start−up            Normal
         mode
      SPI mode
        request
                              Flash               Flash           Flash             Flash           Normal               Normal
   Reset source
                    XXXXX                             Flash mode requested                                     Flash mode exited
     flag in SPI
   Opmode SPI
    read−back
              Start−up/Normal     n/a                              Flash                              n/a     Start−up            Normal
          RSTN
                                                  Figure 13. Flash Mode Sequence
Watchdog
  The NCV7471(A) watchdog timer monitors the correct                       • Window mode watchdog: the microcontroller must
function of the application software – the microcontroller is                  send the required SPI message during an “open
required to send correct and timely watchdog−service (or                       window” – this window is situated between 50% and
“WD trigger”) SPI messages. A failure in the watchdog                          100% of the watchdog period. A watchdog−service SPI
service is handled in function of the chip’s configuration                     message sent before or after the open window is treated
(see the Configuration Mode section): it leads to a reset, to                  as a watchdog failure. The window watchdog can be
the Fail−safe mode entry or – in the SW Development                            used during the Normal mode.
configuration – generates an interrupt event (maskable).                   •   Off: the watchdog will be inactive by default in
  The available modes of the watchdog timer are shown in
                                                                               Shut−down, Configuration, Power−up, Reset, and
Figure 14, with the watchdog period specified in Figure 15:
                                                                               Fail−safe modes. It can be requested to be off in the
• Time−out mode watchdog: the microcontroller is                               Standby mode.
   expected to send the watchdog−service SPI message                       •   Timer Wakeup: in the Standby mode, the watchdog
   any time before the watchdog period elapses. The
                                                                               timer can be configured to generate wakeup events. In
   time−out watchdog mode is automatically used during
                                                                               the Standby mode an interrupt request will be generated
   Start−up and Flash modes. It can be used in Standby
                                                                               with a period defined by the watchdog setting.
   and Normal modes. In Standby and Flash modes, the
   watchdog period can be selected from a broader range
   of values compared to the Normal mode.
                                                           www.onsemi.com
                                                                    19


                                                       NCV7471, NCV7471A
                                             Reset
                                             mode
                                                        Flash mode     After Flash
                   Failed WD service (*)                SPI request    SPI request
                                         Start−up mode
                                                                                 Failed WD service (*)
                                                                                    or SPI request
                                           Time−out
                                           Watchdog
                                                                                   Flash mode
                                       default period used                                                           (*) Exact handling
                                                                                    Time−out                         of a failed
                          Correct WD service                                       Watchdog
                                               SPI                                                                   watchdog service
                                                                                                                     depends on the
                                                                           Period can be changed at
                                                                             every watchdog service                  configuration
                                         Normal mode
                                    Window or Time−out
                                          Watchdog
                                                                                                          Wakeup
                       SPI         Period can be changed at                            SPI
    Correct                         every watchdog service              SPI
  WD service                                                   Cyclic IRQ
                                           SPI
              Time−out                   Watchdog Off                   Timer wakeup                   Watchdog Off
              Watchdog                                                 Watchdog used to
                                   Watchdog timer stopped;                                         Watchdog timer stopped;
            Period fixed @            SPI period definition            generated wakeup
                                                                                                    SPI period definition
              mode entry;              ignored in Standby;               through INTN;
          SPI period definition                                                                       ignored in Sleep;
                                      SPI blocked in Sleep            SPI period definition
                ignored                                                      ignored                SPI blocked in Sleep
                                          Standby mode                                                   Sleep mode
                                                      Figure 14. Watchdog Modes
   A watchdog−service corresponds to a write access to SPI                   In the SW Development configuration, a failed watchdog
CONTROL0 register, containing watchdog mode,                              service does not lead either to Reset or to Fail−safe mode:
watchdog period and operating mode settings. The CSN                      • A failed WD service event is stored into the
rising edge of the CONTROL0 SPI write access is                               corresponding SPI register
considered as the watchdog trigger moment. The watchdog                   • If the event is not masked, an interrupt request is
service is evaluated as successful if all below conditions are                generated.
fulfilled:
                                                                          • If a time−out watchdog is missed in the Start−up
• The write SPI frame is valid                                                operating mode, Start−up mode is kept, and the
• The watchdog trigger moment falls into the correct                          watchdog is restarted with the default time−out period.
   watchdog trigger interval (see Figure 15) – in the case                • If a too early window WD service is encountered in the
   of the time−out watchdog, it arrives before the                            Normal mode, a new watchdog period will be
   watchdog period expires; in the case of the window                         immediately started with the newly written settings;
   watchdog, it arrives during the second half of the                         Normal mode is preserved
   window interval. In both cases, tolerance of the
   watchdog timing parameters shall be taken into
                                                                          • If a window−watchdog is missed in the Normal mode
                                                                              (no service arrives), a new watchdog period will be
   account.
                                                                              immediately started with the current settings; Normal
• The requested watchdog mode and the requested                               mode is preserved
   operating mode form an allowed combination
                                                                          • If a time−out watchdog is missed in the Standby mode,
The watchdog period value written during a successful                         a new time−out watchdog period is immediately started
watchdog service is immediately used during the subsequent                    with the same period; Standby mode is preserved
operation.
                                                            www.onsemi.com
                                                                     20


                                                     NCV7471, NCV7471A
 Reset or previous WD service
                                               nominal t_WD_TOx
     Time−out                       Safe trigger of time−out WD                                                      WD expired
   WD period
                                                                                            t_WD_TOx
     Previous WD service                                                                     tolerance
                                                              nominal t_WD_WINx
                                                t_WD_WINx_trig
                               50% of nominal t_WD_WINx
 Window WD                     Closed window
                                                                                  Safe trigger of window WD
        period        (WD trigger would be too early)
                                                                   50% of
                                                           t_WD_WINx tolerance        recommended WD trigger        t_WD_WINx tolerance
                            Figure 15. Structure of the Time−out and Window Watchdog Period
System Reset                                                              The RSTN pin level is compared with the internally
  A reset to the application microcontroller is signaled by            driven RSTN signal – the comparison is used to control the
Low level on the RSTN pin. RSTN pin is a bidirectional                 operating mode of the circuit and to monitor a clamped
digital pin using an open−drain output structure with an               condition of the RSTN pin – see Table 9.
internal pull−up resistor. An external reset source can                   With the exception of the SW Development
overrule the High level generated by NCV7471(A) on                     configuration, applying an external reset during the Start−up
RSTN pin. The RSTN logical level is then a superposition               mode will result in the FSO outputs activation. This
of the internally and externally driven reset request.                 condition fosters that the external MCU sends at least one
                                                                       correct watchdog message before applying an external reset.
 Table 9. RSTN PIN FUNCTION (“X” Means “Don’t Care”)
                                RSTN
                      internally      sensed
                        driven      at the pin      Configuration            Mode                              Action
      RSTN pin           Low           Low                X                    X                     Follow normal state diagram
   follows internal
         drive           High          High               X                    X                     Follow normal state diagram
      RSTN pin           Low           High               X             Configuration,      Go to Fail−safe after t_RSTN_ClampedHigh
    clamped High                                                          Power−up,
                                                                         Reset, Sleep
      RSTN pin           High          Low                X                Normal,               Go to Reset mode after t_RSTN_filt
    clamped Low                                                         Standby, Flash
                                                   Config 1, 2, 3, 4       Start−up              Go to Reset mode after t_RSTN_filt;
                                                                                                            activate FSO
                                                         SW                Start−up              Go to Reset mode after t_RSTN_filt;
                                                     Development                                       do NOT activate FSOx
                                                    Config 1 and 3       Trying to exit                   Keep Reset mode;
                                                                         Reset mode          activate FSOx after t_RSTN_ClampedLow
                                                    Config 2 and 4       Trying to exit                   Keep Reset mode
                                                                         Reset mode         Go to Fail−safe after t_RSTN_ClampedLow
                                                         SW              Trying to exit                   Keep Reset mode
                                                     Development         Reset mode                    do NOT go to Fail−safe
                                                                                                       do NOT activate FSOx
                                                         www.onsemi.com
                                                                    21


                                                        NCV7471, NCV7471A
Event Flags and Interrupt Requests                                          • Watchdog missed in SW Development configuration
   An interrupt request can be signaled by the NCV7471(A)
                                                                            If an event is encountered, it always causes the
to the attached microcontroller via the open−drain output pin
                                                                            corresponding SPI flag go High. If the event is masked by
INTN. The active level of the INTN pin is logical Low. Pin
                                                                            the SPI interrupt mask setting (the corresponding mask bit
INTN is provided with an internal pull−up resistor. An
                                                                            is Low), pin INTN will not be forced Low and no interrupt
additional external pull−up is recommended − see Figure 2.
                                                                            request will be issued. The interrupt flag remains available
The interrupt request generation is available during the
                                                                            for later readout until the next read−and−clear access
Start−up, Normal, Standby and Flash modes.
                                                                            through the SPI interface. TxD dominant time−out flags will
   The following events are handled by the interrupt
                                                                            remain set even after a read&clear access if the excessively
sub−system:
                                                                            long dominant signal is still present on the corresponding
• CAN, LIN and WU wakeups (cannot be masked)                                TxD pin. Note, that wakeup events cannot be masked. An
• Timer wakeup in Standby mode (cannot be masked)                           overview of event flags is given in Table 10.
• VOUT2 supply crossing the under−voltage level in                             In case an un−masked interrupt event takes place, not only
   either direction if VOUT2 is on                                          the corresponding event flag is set High, but also INTN pin
• VOUT2 supply crossing the over−voltage level in either                    is driven Low for t_INTN_active, indicating an interrupt
   direction                                                                request to the microcontroller. The microcontroller software
                                                                            is expected to read and clear the interrupt status register,
• TxD dominant time−out for CAN or LINx (valid only if
                                                                            otherwise the interrupt request remains pending (with the
   the respective transceiver is configured in its normal
                                                                            exception of flagRES_SWD). Pending or new interrupt
   mode)
                                                                            requests will lead to a new INTN Low pulse no sooner than
• The junction temperature crosses the thermal warning                      t_INTN_inactive after the previous pulse. In this way, it is
   level in either direction                                                ensured that multiple new or pending interrupts will not
• Internal DC/DC converter signals changing their status                    slow−down the execution of the application software.
   – these events indicate entering or leaving limit                        Control of the INTN pin in conjunction with the internal
   conditions for both stages of the converter (run−state of                flags is illustrated in Figure 16.
   the boost, overload of the boost or buck,
   out−of−regulation state of buck)
                        M1
                                                                                      IRQ due to
                                                                                                                                           IRQ due to
   masked events
                                         U1         U2                                                                      U3    U4
 unmasked events
                                                                                    pending U2 request                                  U3 and U4 events
            INTN
       SPI access
                                           read&clear                                                    read&clear                                read&clear
                                                                  read U2
                                             U1, M1                                                          U2                                       U3
                                         t_INTN_active       t_INTN_inactive             t_INTN_active                t_INTN_inactive        t_INTN_active
  operating mode                                            Start−up/Normal/Standby/Flash
                Figure 16. Interrupt Request Handling in Start−up, Normal, Standby and Flash Modes
  In order to prevent that a pending interrupt request gets                     interrupt request is issued according the
ignored by the application software, NCV7471(A) offers the                      t_INTN_inactive timing – see Figure 18.
following mechanisms:                                                       •   If Sleep mode is requested while a wakeup flag is
• All event flags are preserved when transitioning from                         pending, the chip immediately performs a “wakeup
   Start−up to Normal mode – see Figure 17.                                     from Sleep” mode sequence – see Figure 19. In this
• All event flags are preserved when transitioning from                         way, the information on the pending wakeup is not
   Standby to Normal mode – see Figure 17.                                      missed by the application.
• All event flags are preserved when transitioning from                     Any transition through the Reset mode erases all SPI event
   Normal to Standby mode. If Standby mode is requested                     flags, except the wakeup flags, and sets all maskable events
   while an un−masked interrupt is pending, a new                           to masked (i.e. not causing an interrupt request).
                                                          www.onsemi.com
                                                                 22


                                                           NCV7471, NCV7471A
   Table 10. EVENT FLAGS SUMMARY
                                       Related               Related
                 Event Flag Bit   Status Bit (Note 1)   Interrupt Mask Bit                 Set Condition                    Reset Condition
                                                                                                                          read&clear access to
                  flagTO_TxDC                             intenTO_TxDC                                                      register STATUS0
TxDx Time−out
                                                                                 TxDx (Note 2) pin is kept Low for                 and
                                                                                  longer than the time−out period             {TxDx (Note 2)
                 flagTO_TxDL1            none            intenTO_TxDL1                          and                         dominant time−out
                                                                                     corresponding transceiver            condition disappeared
                                                                                          in normal mode                             or
                 flagTO_TxDL2                            intenTO_TxDL2                                                   transceiver mode other
                                                                                                                              then “normal”}
                                                                                BUCK SMPS stage enters or leaves
                                                                                range of no regulation (i.e. extreme
                flagBUCK_NOREG    statBUCK_NOREG        intenBUCK_NOREG
                                                                                   switching duty cycle); indicates
                                                                                 (in)ability to reach nominal VOUT
                                                                                 BUCK SMPS stage enters or leaves
                 flagBUCK_OL        statBUCK_OL          intenBUCK_OL              over−load condition (i.e. current
SMPS
                                                                               limitation encountered or disappeared)
                                                                                BOOST SMPS stage changes activity
                flagBOOST_RUN     statBOOST_RUN         intenBOOST_RUN
                                                                                – it starts or stops
                                                                                   BOOST SMPS stage enters or
                                                                                   leaves over−load condition (i.e.
                 flagBOOST_OL      statBOOST_OL          intenBOOST_OL
                                                                                  current limitation encountered or
                                                                                             disappeared)
                                                                                 junction temperature crosses the
                   flagTWAR           statTWAR             intenTWAR
                                                                                  warning level in either direction
                                                                                                                          read&clear access to
                                                                                    incorrect watchdog service              register STATUS0
                                                                                           encountered
                 flagRES_SWD
                                         none            intenRES_SWD                          and
                     (Note 4)
                                                                                    device in SW Development
                                                                                           configuration
                                                                                  VOUT2 under−voltage detector
                                                                                  changes state in either direction
                 flagVOUT2_UV      statVOUT2_UV          intenVOUT2_UV
                                                                                               and
VOUT2
                                                                                      VOUT2 is switched on
                                                                                   VOUT2 over−voltage detector
                 flagVOUT2_OV      statVOUT2_OV          intenVOUT2_OV
                                                                                  changes state in either direction
                                                                                      SPI frame failure occurs:
                                                                                − number of SPI clocks different
                   flagSPIFail
                                         none              intenSPIFail         from 0 or 16, or
                     (Note 5)
                                                                                − SCK High when CSN changes
                                                                                state
                  flagWakeWU                                                       WU wakeup detected (Note 3)
                 flagWakeCAN                                                      CAN wakeup detected (Note 3)
Wakeups
                 flagWakeLIN1                                                     LIN1 wakeup detected (Note 3)          Read&clear access to
                                         none                 none
                                                                                                                          register STATUS1
                 flagWakeLIN2                                                     LIN2 wakeup detected (Note 3)
                 flagWakeTimer                                                    Timer wakeup detected (Note 3)
1. When a related status bit exists, the event is linked to a change (in either direction) of the status bit. Even if the event flag is cleared, the
   corresponding status bit still indicates the current status of the observed feature and can be polled by SPI at any time.
2. “x” = “C”, “L1 or “L2”. In case of LIN transceivers, the time−out feature can be enabled/disabled by SPI.
3. The respective wakeup source must be enabled through the corresponding control SPI register – timer wakeup in CONTROL0; CAN, LIN1/2
   and WU wakeups in CONTROL1
4. For a missed WD in SW Development, INTN pulse is generated only once per event – it is not repeated even if the corresponding flag is
   still set. New INTN pulse occurs only if WD is missed again in SW Development.
5. During VOUT power−up (e.g. when going from Shut−down mode, or when waking−up from Sleep or Fail−safe mode), flagSPIFail can be
   set because of transient toggling of internal CSN and SCK signals. It is therefore recommended to ignore flagSPIFail immediately after VOUT
   power−up, until the STATUS0 register is reset. Except flagSPIFail, the remaining SPI register content is not influenced by the possible internal
   toggling of CSN and SCK signals during power−up.
                                                                www.onsemi.com
                                                                          23


                                            NCV7471, NCV7471A
                                 U1                                                                                 IRQ due to
unmasked events
                                                                                                                 pending U1 request
          INTN
                                                      Go to Normal
     SPI access
                                                                                                                                             read&clear
                                                      or Flash                                                                                   U1
                                 t_INTN_active     t_INTN_inactive                                                           t_INTN_active
operating mode           Start−up/Standby                                                                                                        Normal/Flash
                  Figure 17. Interrupt Request Handling during a Transition to Normal Mode
                                 U1                                                                                 IRQ due to
unmasked events
                                                                                                                 pending U1 request
          INTN
     SPI access
                                                                 Go to                                                                       read&clear
                                                                 Standby
                                                                                                                                                U1
                                 t_INTN_active     t_INTN_inactive                                                        t_INTN_active
operating mode               Normal                                                                                                                   Standby
                   Figure 18. Transition to Standby Mode with a Pending Interrupt Request
                                                    Interrupt flags and   masks reset in SPI                      pending wakeup
                                                                                                   RSTN due to
                               U1
 wakeup event
       INTN                                                                                                                        After reset, WU and CAN/LIN wakeups disabled;
                                                                                                                                   pending flags will not cause additional INTN pulse
   SPI access
                                                         Go to                                                                                                             read&clear
                                                         Sleep
                                                                                                                                                                           wakeup flag
   operating                                                                                   Sleep
                            Normal                                              (transient)                            Reset                                    Start−up
      mode
        RSTN
                  Figure 19. Attempted Transition to Sleep Mode with a Pending Wakeup Flag
                                                 www.onsemi.com
                                                                               24


                                                   NCV7471, NCV7471A
Junction Temperature Monitoring                                    • Thermal shut−down level Tj_SD. Junction temperature
  The device junction temperature is monitored in order to            exceeding the shut−down level puts the chip into
avoid permanent degradation or damage of the chip. Two                Fail−safe mode. In this specific case, no wakeups are
distinct junction temperature thresholds are used:                    detected in the Fail−safe mode; the mode is auto−
• Thermal warning level Tj_WAR. The status of the                     matically left only when the junction cools down below
   current junction temperature compared with the                     the warning level, thus providing a thermal margin for
   Tj_WAR threshold is available in the corresponding                 the application software to cope with the event.
   SPI status register. A change of the junction                   The junction temperature monitoring circuit is active in all
   temperature across the warning threshold in either              operating modes with VOUT supply switched on
   direction sets the SPI bit flagTWAR. If not masked, an          (Power−up, Reset, Start−up, Standby, Flash) and also in the
   interrupt request can be generated in order to signal to        Fail−safe, provided that it has been entered as the
   the application that the junction temperature exceeded          consequence of a thermal shut−down. The function of the
   or cooled below the warning level.                              junction temperature monitoring of NCV7471(A) is shown
                                                                   in Figure 20.
                                    Tj > Tj_WAR        flagTWAR −> 1;
                                                      interrupt request
                                                          (if enabled)
                            Tjunction below                                     Tjunction above
                           warning threshold                                   warning threshold
                         SPI TWAR status bit = 0                               SPI TWAR bit = 1
                                                       flagTWAR −> 1;
                                                      interrupt request
                                                                                          Tj > Tj_SD
                                                          (if enabled)      Tj < Tj_WAR
                                    Power−up, Reset, Start−up, Normal, Stand−by, Flash
                                                                                Fail−safe mode
                                                           Tj < Tj_WAR          Tjunction above
                                                                              shutdown threshold
                                                                              no wakeup detection
                                                                              VOUT, VOUT2: off
                                                                              RSTN: Low
                                      Figure 20. Junction Temperature Monitoring
                                                     www.onsemi.com
                                                              25


                                                   NCV7471, NCV7471A
FSO1/2/3 – Fail−Safe Outputs
   NCV7471(A) offers three digital outputs dedicated to            • FSO2 provides 50% rectangular signal with 1.25 Hz
control a fail−safe circuitry in the application under specific       frequency
failure conditions. All three outputs are high−voltage             •  FSO3 provides 20% rectangular signal with 100 Hz
low−side open drain drivers simultaneously activated by a             frequency
common internal signal FSO_internal and providing
different behavior:                                                Figure 21 illustrates the FSOx pins function with respect to
                                                                   the internal FSO_internal signal.
• FSO1 is constantly pulled Low if FSO_internal is active
                                               Figure 21. Operation of FSOx Pins
   FSO_internal is set to High as soon as a failure condition      • If FSO_internal was set by setting the FSO_ON SPI bit,
is recognized or as soon as an SPI command is given to                it will be reset by writing “0” to FSO_ON SPI bit
activate FSO. Overview of situations leading to                    •  If FSO_internal was set because of a failure condition,
FSO_internal activation is given in Table 11. The handling            a read−and−clear access to the flagFSO SPI status bits
of the different failure conditions depends on the chip               will reset it.
configuration (see the Configuration Mode section) –
specifically in the SW development configuration, the              In Start−up mode, FSO_internal High level limits SPI
watchdog−related failures and “RSTN clamped Low”                   functionality – no register can be written or read&cleared
failure do not lead either to the FSO_internal activation or       with the exception of CONTROL0 register. Attempts to
to the Fail−safe mode entry.                                       perform a write or read&clear access to other registers will
   FSO_internal signal will be reset (and the FSOx outputs         be ignored – including attempts to reset bit FSO_ON or the
are subsequently de−activated) under the following                 flagFSO.x bits. This condition ensures that the application
conditions:                                                        software performs at least one successful watchdog service
                                                                   after a failure occurs.
                                                        www.onsemi.com
                                                                26


                                                   NCV7471, NCV7471A
 Table 11. CONDITIONS FOR ACTIVATION OF FSO_INTERNAL SIGNAL (“X” Means “Don’t Care”)
         FSO Activation Event               Detected in Modes            Detected in Configurations     Fail−safe Mode Entered
           Thermal Shutdown                       Power−up                           all                          yes
               (Tj > Tjsd)                           Reset
                                                   Start−up
                                                    Normal
                                                   Standby
                                                     Flash
           Fatal VOUT failure             Power−up entered from                      all                          yes
   (VOUT < VOUT_FAIL for longer than            all the modes
           t_VOUT_powerup)
           VOUT undervoltage              Power−up entered from                      all                           no
  (VOUT < VOUT_RESx for longer than        Configuration, Sleep or
   t_VOUT_powerup) (NCV7471A only)                 Fail−safe
           VOUT undervoltage              Power−up entered from                      all                           no
  (VOUT < VOUT_RESx for longer than      Start−up, Normal, Standby,
    t_VOUT_UV_filt) (NCV7471A only)                  Flash
          RSTN Clamped High                          Reset                           all                          yes
         External RSTN without                     Start−up                    Config 1,2,3,4                      no
          previous WD service
          RSTN Clamped Low               when trying to leave Reset              Config 1,3                        no
                                                                                 Config 2,4                       yes
          1st Watchdog Missed                      Start−up                       Config 1                         no
                                                    Normal
                                                     Flash                        Config 2                        yes
                                             Standby (if WD on)
         2nd Watchdog Missed                       Start−up                       Config 3                         no
                                                    Normal
                                                     Flash                        Config 4                        yes
                                             Standby (if WD on)
         SPI control bit FSO set                   Start−up                          all                           no
                                                    Normal
                                                   Standby
                                                     Flash
SWDM and CFG Digital Inputs                                            Latched active level on SWDM pin (i.e. High input level
    SWDM and CFG pins are high−voltage compliant digital            in the Configuration mode) causes the chip to enter the SW
inputs enabling NCV7471(A) flexibility with respect to the          development configuration regardless the state of CFG pin.
fail−safe behavior. Their logical value (compared to a              When the latched SWDM value is inactive (i.e. Low in the
low−voltage digital threshold) is sensed and latched                Configuration mode), the latched CFG value then controls
exclusively in the Configuration operating mode – i.e. when         whether a failure condition (missed watchdog or RSTN
the chip leaves the Shut−down mode. Subsequently, the               clamped Low) results in the Fail−safe entry or only in a reset
latched values are not changed by any signal on SWDM or             pulse generation. More details are given in the Configuration
CFG pin or by any SPI communication.                                Mode and FSO1/2/3 – Fail−Safe Outputs sections.
                                                        www.onsemi.com
                                                                27


                                                   NCV7471, NCV7471A
SPI – Serial Peripheral Interface                                      As long as the CSN chip select is High, the SCK and SDI
                                                                    inputs are not relevant and the SDO output is kept
SPI Frame Format                                                    high−impedant. The signals on the SDI and SCK inputs are
   The Serial Peripheral Interface ensures control of               taken into account only when CSN chip select input is set to
NCV7471(A) operating modes, configuration of its                    Low. Data incoming on pin SDI are then sampled at the
functions and read−out of internal status and system                falling edge of SCK clock signal; output data are shifted to
information. The serial communication is achieved via SPI           pin SDO at the rising edge of SCK clock signal. Bits are
frames shown in Figure 22.                                          transmitted MSB (most significant bit) first.
  CSN
  SCK
                                        Read
   SDI          X      A2     A1   A0                                                                                         X
                                        Only DI11 DI10      DI9  DI8    DI7    DI6   DI5   DI4   DI3    DI2   DI1    DI0
        HZ     SPI                      Read                                                                                 HZ
 SDO          ready    A2     A1   A0   Only DO11 DO10 DO9 DO8 DO7 DO6 DO5 DO4 DO3 DO2 DO1 DO0
                               header                                             data
                                                  Figure 22. SPI Frame Format
   One frame consists of exactly sixteen bits transferred from          ♦  Bit “ReadOnly” contains the “read−only” flag. If
the microcontroller to NCV7471(A) through input pin SDI.                  ReadOnly=High, the current SPI frame represents a
The input bits are interpreted as follows:                                read−only access to the SPI register. If
• Immediately after CSN falling edge, SDO pin shows an                    ReadOnly=Low, then the current SPI frame
   internal “SPI ready” flag. Under normal conditions,                    represents either a write or read−and−clear access to
   when the inter−frame space is respected, the “SPI                      an SPI register – the distinction between “write” and
   ready” flag is set to High and the device is available for             “read−and−clear” access depends on the specific
   SPI communication. If the SPI inter−frame space is                     register.
   violated, the previous SPI data might not be processed           •  Bits DI11−DI0 are the SPI data. In case of a read−only
   at the moment of the next CSN Low level; this situation             or read−and−clear access, these bits are ignored. In case
   is signaled by Low “SPI ready” flag. If the application             of a write−frame, these bits are taken as the new SPI
   software still attempts to perform SPI communication,               register content at the moment of the CSN rising edge
   incoming data will be completely ignored and the SDO                (when the frame is considered finished). Regardless the
   signals “Low” throughout the SPI frame. The status of               access type, the output data DO11−DO0 represent the
   the flag is latched at the CSN falling edge – the                   SPI register content as valid at the beginning of the SPI
   application software might use short Low pulses on                  frame. The output bits are shifted−out at the rising edge
   CSN (without SCK) in order to poll the flag.                        of the SCK clock so that they can be sampled by the
• Four most significant bits form the header of the SPI                microcontroller at the SCK falling edge.
   frame. During the reception of the header bits, the SDI             The following checks are performed on every SPI frame:
   signal is looped back to the SDO pin starting with the           •  The SCK clock input must be Low at both edges of the
   first rising edge of SCK – except for the internal delay,           CSN chip select signal
   signals SDO and SDI are equal during the header                  •  There must be exactly sixteen SCK clock cycles when
   transmission. The header bits have the following                    CSN=Low (or no SCK edge if only the “SPI ready”
   function:                                                           flag is polled).
    ♦ Bits A2, A1, and A0 form a 3−bit address of an
                                                                    If any of the above conditions is not fulfilled, the SPI frame
       internal SPI register. NCV7471(A) contains eight
                                                                    is considered incorrect and the “SPI Fail” event is internally
       twelve−bit registers addressable by these three              generated.
       header bits.
                                                        www.onsemi.com
                                                                28


                                                                                                         1                       1               1                 1                0              0              0                     0                     A2
                      NOTE:
                                                                                                         1                       1               0                 0                1              1              0                     0                     A1
                                                                                                                                                                                                                                                                           Address
                                                                                                         1                       0               1                 0                1              0              1                     0                     A0
                                                                                                                                                                                                                                                                                                                                SPI Register Mapping
                                                                                                                                 STATUS2         STATUS1           STATUS0          CONTROL3       CONTROL2       CONTROL1              CONTROL0                Register Name
                                                                                                                                                                                                                                                                                              Table 12. SPI REGISTERS MAPPING
                                                                                                         GENERAL PURPOSE
                                                                                                       GPD.11                 reserved        reserved        flagTO_TxDC     intenTO_TxDC      reserved       reserved            OPMODE.2                   D11
                                                                                                       GPD.10                statVS_LOW       reserved       flagTO_TxDL1     intenTO_TxDL1     reserved       enVOUT2             OPMODE.1                   D10
29                                                                                                     GPD.9               statBUCK_NOREG     reserved       flagTO_TxDL2     intenTO_TxDL2     reserved       modWU.1             OPMODE.0                   D9
     www.onsemi.com                                                                                    GPD.8                statBUCK_OL       flagFSO.3     flagBUCK_NOREG   intenBUCK_NOREG    reserved       modWU.0             WD_MOD.1                   D8
                                                                                                       GPD.7               statBOOST_RUN      flagFSO.2      flagBUCK_OL      intenBUCK_OL      reserved      modCAN.1             WD_MOD.0                   D7
                      “reserved” bits in input data are ignored; they are set to Low in output data.
                                                                                                                                                                                                                                                                                                                                                       NCV7471, NCV7471A
                                                                                                       GPD.6                statBOOST_OL      flagFSO.1     flagBOOST_RUN    intenBOOST_RUN     FSO_ON        modCAN.0             WD_PER.2                   D6
                                                                                                       GPD.5                  statSWDM        flagFSO.0      flagBOOST_OL     intenBOOST_OL    FAST_FSO       enLIN_LSLP           WD_PER.1                   D5           Register Content
                                                                                                       GPD.4                  statCFG       flagWakeWU         flagTWAR         intenTWAR      VOUT_RES.1     disTO_TxDL           WD_PER.0                   D4
                                                                                                       GPD.3                   statWU       flagWakeCAN      flagRES_SWD      intenRES_SWD     VOUT_RES.0     modLIN2.1      RES_SRC.3 CHECKSUM               D3
                                                                                                       GPD.2                  statTWAR      flagWakeLIN1     flagVOUT2_UV     intenVOUT2_UV    modDCDC.1      modLIN2.0      RES_SRC.2             reserved   D2
                                                                                                       GPD.1                statVOUT2_UV    flagWakeLIN2     flagVOUT2_OV     intenVOUT2_OV    modDCDC.0      modLIN1.1      RES_SRC.1             reserved   D1
                                                                                                       GPD.0                statVOUT2_OV    flagWakeTimer      flagSPIFail      intenSPIFail    enBOOST       modLIN1.0      RES_SRC.0             reserved   D0
                                                                                                                                                                                                                               output               input


                                                              NCV7471, NCV7471A
 Table 13. SPI REGISTERS INITIALIZATION
        Address                                                 Initialization                                        ReadOnly bit
                           Register
  A2      A1      A0          Name             Initialized in (Note 6)        Initial content               Low (Note 7)                High
   0       0        0    CONTROL0                    Reset mode               Watchdog set to          Mode and Watchdog
                                                    (except Flash                time−out @           settings (bits DI11−DI4)
                                                     mode entry)              256 ms nominal         written into the register if
                                                                                                    checksum (bit DI3) is OK.
                                                                                                   Input bits DI2−DI0 ignored.
   0       0        1    CONTROL1                 Power−up mode                  all bits Low       Bits DI11−DI0 written into
                                                                                   (Note 9)                  the register
                                                     Reset mode                  all bits Low
                                                                                   (Note 9)
   0       1        0    CONTROL2                   Configuration                all bits Low       Bits DI11−DI0 written into
                                                                                                             the register            Input data
                                                         Sleep                   all bits Low                                         ignored;
   0       1        1    CONTROL3                    Reset mode                  all bits Low       Bits DI11−DI0 written into         current
                                                                                                             the register              register
                                                                                                                                    content sent
   1       0        0      STATUS0                   Reset mode                  all bits Low           read&clear access;         to SPI output
                                                                                                  all bits reset to Low (Note 8);
                                                                                                         input data ignored
   1       0        1      STATUS1               Configuration mode              all bits Low           read&clear access;
                                                                                                    all bits reset to Low; input
                                                                                                            data ignored
   1       1        0      STATUS2                        n.a.               Reflects status of          input data ignored
                                                                               internal blocks
   1       1        1     GENERAL                   Configuration            register filled with   Bits DI11−DI0 written into
                          PURPOSE                        mode                  device ID data                the register
6.  In modes not explicitly listed in “Initialized in” column, the register content is preserved
7.  Regardless the access type (the “ReadOnly” bit), the current register content is always sent to the SPI output
8.  Bits containing TxD dominant timeout flags will remain set if the excessively long dominant signal persists on the respective TxDx pin
9.  Exception: in SW Development configuration, CONTROL1 bits modCAN.x, modLIN1.x and modLIN2.x are all set to “High”, corresponding
    to the default “Normal” mode of all transceivers
                                                                 www.onsemi.com
                                                                            30


                                                                  NCV7471, NCV7471A
CONTROL0 Register (Address 000)                                  In case of incorrect checksum in written data, the device
  By a write access to the CONTROL0 register                  reacts identically to a wrong opmode situation. During a
(“ReadOnly” = Low), the application software can control      read−only access to the CONTROL0 register (“ReadOnly”
the operating mode of NCV7471(A) and the watchdog             = High), the input data are completely ignored and no check
settings. A write access represents a watchdog service. An    is performed on them.
operating mode change is therefore always synchronized           The output data of the CONTROL0 register – regardless
with the watchdog trigger message. In order to provide more   the access type − indicate the current operating mode, the
safety to the mode control, the input data are protected with current watchdog settings and the cause of the last reset.
a check−sum (input bit DI3). The checksum must                   The initialization of the CONTROL0 register content is
correspond to the following formula (symbol “⊕” denoting      performed after every reset, when the watchdog type is fixed
the exclusive−or operation):                                  to time−out, and the watchdog period to nominally 256 ms.
  DI3 = DI11 ⊕ DI10 ⊕ DI9 ⊕ DI8 ⊕ DI7 ⊕ DI6 ⊕ DI5 ⊕ DI4
Table 14. CONTROL0 REGISTER: OPMODE.x Encoding
                                                                                                                                        OPMODE.x
 OPMODE.2   OPMODE.1   OPMODE.0
                                                                                                                                         in Output
                                                                         OPMODE.x in Input Data                                             Data
                                     Requested           Reaction                 Reaction              Reaction          Reaction       Current
                                       Mode             in Start−up              in Normal             in Standby         in Flash        Mode
   0          0         0             forbidden                                   “Wrong Opmode” Reset                                   Start−up
   0          0         1              Normal           go to Normal           keep Normal             go to Normal       return from    Normal
                                                                                                                           Flash via
                                                                                                                          Reset and
                                                                                                                           Start−up
   0          1         0             Standby         “Wrong Opmode”           go to Standby           keep Standby        “Wrong        Standby
                                                           Reset                                                          Opmode”
                                                                                                                            Reset
   0          1         1              Sleep          “Wrong Opmode”            go to Sleep               “Wrong Opmode” Reset           not used
                                                           Reset
   1          0         0              Flash           go to Flash via         go to Flash via        “Wrong              keep Flash      Flash
                                                           Reset                   Reset           Opmode” Reset
   1          0         1             Fail−safe                       in SW development configuration, go to Fail−safe;                  not used
                                                                             otherwise “Wrong Opmode” Reset
   1          1         0              Reset                                             go to Reset                                     not used
   1          1         1           Configuration         go to             go to Configuration           “Wrong Opmode” Reset           not used
                                                       Configuration
Table 15. CONTROL0 REGISTER: WD_MOD.x Encoding
 WD_MOD.1   WD_MOD.0
                                                                                                      Limitations
                                  Watchdog Timer Mode                 (if not respected, the write access is considered as a missed watchdog)
   0          0                       Watchdog off              Can be used only with a Standby or a Sleep mode request
   0          1                     Window Watchdog             Can be used only for Normal mode request
                                   Time−out Watchdog            Must be used with every Flash mode request;
   1          0                                                 can be used with a Standby or Normal mode request;
                                                                default in Start−up mode
   1          1                      Timer Wakeup               Can be used only with a Standby mode request
                                                                         www.onsemi.com
                                                                                  31


                                                                            NCV7471, NCV7471A
 Table 16. CONTROL0 REGISTER: WD_PER.x Encoding
  WD_PER.2    WD_PER.1    WD_PER.0
                                      Watchdog Peri-
                                           od                   Nominal Duration                                       Note
   0            0           0               WD_PER_0                   8 ms
   0            0           1               WD_PER_1                   16 ms
   0            1           0               WD_PER_2                   32 ms
   0            1           1               WD_PER_3                   64 ms
   1            0           0               WD_PER_4                  128 ms
   1            0           1               WD_PER_5                  256 ms             WD_PER_5 is automatically used in Start−up mode
   1            1           0               WD_PER_6                  512 ms             Can be used only for Standby and Flash modes
                                                                                         (otherwise the watchdog SPI frame is considered wrong)
   1            1           1               WD_PER_7                  1024 ms
 Table 17. CONTROL0 REGISTER: RES_SRC.x Encoding
  RES_SRC.3   RES_SRC.2   RES_SRC.1   RES_SRC.0
                                                                                                                                             Reset Event
                                                                                                                                               Priority
                                                                                Cause of the Last RSTN Pulse                                  (Note 10)
   0            0           0          0          V_MID under−voltage recovery (V_IN connection)                                                  12
   0            0           0          1          External reset outside Start−up mode (not accompanied by FSO activation)                        10
   0            0           1          0          Recovery from Fail−safe (through wakeup or thermal shutdown recovery)                           8
   0            0           1          1          Wakeup from Sleep                                                                               7
   0            1           0          0          Flash mode requested                                                                            6
   0            1           0          1          Flash mode exited                                                                               5
   0            1           1          0          Reset mode requested                                                                            4
   0            1           1          1          Configuration requested                                                                         3
   1            0           0          0          Failed Watchdog (WD missed, wrong WD mode or period requested) − will not be used in            2
                                                  SW Development configuration (Note 11)
   1            0           0          1          Wrong operating mode requested; wrong checksum during write access to the Mode Con-             1
                                                  trol register
   1            0           1          0          External reset in Start−up mode (accompanied by FSO activation if not in SW Develop-            9
                                                  ment configuration)
   1            0           1          1          reserved                                                                                        −
   1            1           0          0          reserved                                                                                        −
   1            1           0          1          reserved                                                                                        −
   1            1           1          0          reserved                                                                                        −
   1            1           1          1          VOUT under−voltage recovery                                                                     11
10. The “Reset Event Priority” reflects the order, in which the reset events are processed by the on−chip digital. In case more events occur
    simultaneously, the one with the lower priority number would be stored in CONTROL0 register.
11. WD period and WD mode settings are not checked in the following situations: Configuration mode request, Reset mode request, Flash exit
    (i.e. Normal mode request in the course of Flash mode)
                                                                                www.onsemi.com
                                                                                         32


                                                 NCV7471, NCV7471A
CONTROL1 Register (Address 001)
  CONTROL1 register defines the mode of individual CAN and LINx transceivers, of the VOUT2 regulator and the WU pin.
The encoding of the CONTROL1 bits is defined in Table 18.
 Table 18. CONTROL1 REGISTER ENCODING
         enVOUT2                                                        VOUT2 control
             0               VOUT2 regulator is OFF
             1               VOUT2 regulator is ON
  modWU.1       modWU.0                                                WU mode control
      0             0        WU wakeup detection disabled
      0             1        WU monitored for falling edge
      1             0        WU monitored for rising edge
      1             1        WU monitored for both edges
  modCAN.1     modCAN.0                                             CAN transceiver mode
      0             0        CAN transceiver in Off mode
      0             1        CAN transceiver in Wakeup mode
      1             0        CAN transceiver in Receive−only mode
      1             1        CAN transceiver in Normal mode
        enLIN_LSLP                                    LIN slope control – common for both LIN channels
             0               LIN transmission with normal bus signal slopes (according LIN2.1 specification)
             1               LIN transmission with slow bus signal slopes (for limited bit−rate)
        disTO_TxDL                            LIN dominant time−out control – common for both LIN channels
             0               Dominant time−out applied on TxDL pins
             1               Dominant time−out not−applied on TxDL pins – unlimited dominant symbols can be transmitted
  modLINx.1    modLINx.0                                        LINx transceiver mode (x=1,2)
      0             0        LINx transceiver in Off mode
      0             1        LINx transceiver in Wakeup mode
      1             0        LINx transceiver in Receive−only mode
      1             1        LINx transceiver in Normal mode
CONTROL1 register is initialized at every reset event with all−zeros content
                                                      www.onsemi.com
                                                               33


                                                          NCV7471, NCV7471A
CONTROL2 Register (Address 010)
  Content of CONTROL2 register is defined in Table 19. The CONTROL2 register content is initialized to all−zeros content
in the Configuration and Sleep modes.
 Table 19. CONTROL2 REGISTER ENCODING
                     Bit                                                                Definition
                   FSO_ON                  If High, FSOx outputs are forced active
                 FAST_FSO                  If High, already the 1st missed watchdog will be treated as a failure;
                                           the exact reaction depends on the configuration
  VOUT_RES.1             VOUT_RES.0                           Selection of VOUT under−voltage threshold for RSTN Pin
            0                 0            VOUT_RES4 threshold selected (the lowest threshold) for RSTN indication
            0                 1            VOUT_RES3 threshold selected for RSTN indication
            1                 0            VOUT_RES2 threshold selected for RSTN indication
            1                 1            VOUT_RES1 threshold selected for RSTN indication
   modDCDC.1             modDCDC.0                                          DCDC Converter mode selection
            0                 0            DCDC Converter switching with fixed frequency
            0                 1            Converter switching frequency modulated with modulation depth dmod_DCDC_1
            1                 0            Converter switching frequency modulated with modulation depth dmod_DCDC_2
            1                 1            Converter switching frequency modulated with modulation depth dmod_DCDC_3
                  enBOOST                  If High, BOOST (step−up) stage of the DCDC converter is enabled
CONTROL3 Register (Address 011)
  The individual bits in the CONTROL3 register determine                     is enabled. All bits of the CONTROL3 register are reset to
whether the corresponding interrupt event leads to an                        Low at every reset event (i.e. all interrupt sources are
interrupt request via INTN pin or if it is only stored as a flag             disabled).
for later SPI retrieval. If the bit is High, the interrupt request
 Table 20. CONTROL3 REGISTER ENCODING
              Bit                                                                Definition
      intenTO_TxDC          Enables interrupt after dominant time−out on TxDC
     intenTO_TxDL1          Enables interrupt after dominant time−out on TxDL1
     intenTO_TxDL2          Enables interrupt after dominant time−out on TxDL2
 intenBUCK_NOREG            Enables interrupt after a change of the internal converter signal indicating, that the buck stage cannot reach the
                            output nominal voltage (typically due to too low line voltage)
      intenBUCK_OL          Enables interrupt after a change of the internal converter signal indicating, that the buck stage is overloaded
  intenBOOST_RUN            Enables interrupt when the boost stage is activated or de−activated – indicating a change in supply line conditions
   intenBOOST_OL            Enables interrupt after a change of the internal converter signal indicating, that the boost stage is overloaded
         intenTWAR          Enables interrupt when the junction temperature crosses the thermal warning level (in either direction)
     intenRES_SWD           In SW Development configuration only – incorrect watchdog service will lead to an interrupt request
                            (outside SW Development configuration, this event would lead to reset).
    intenVOUT2_UV           Enables interrupt when VOUT2 crosses its under−voltage level (in either direction).
                            Event registered only if VOUT2 is on.
    intenVOUT2_OV           Enables interrupt when VOUT2 crosses its over−voltage level (in either direction).
        intenSPIFail        Enables interrupt when an SPI frame failure is encountered
                                                               www.onsemi.com
                                                                         34


                                                          NCV7471, NCV7471A
STATUS0 Register (Address 100)
   STATUS0 bits latch information on individual events                            Specifically, flags corresponding to dominant time−outs
which can potentially lead to interrupt requests. All bits have                can be cleared only when the respective time−out
their position corresponding to the CONTROL3 register                          disappeared; otherwise, they will remain set even after
bits. The details of the STATUS0 bits are given in Table 21.                   read&clear access and, if enabled, the interrupt linked to
   A read−and−clear access to STATUS0 register is                              them will remain pending.
considered “interrupt service” for all pending interrupt                          STATUS0 register is reset to all−zeros content at every
requests. A read−only access does not change the flags and                     reset event.
the active interrupt requests remain pending.
 Table 21. STATUS0 REGISTER ENCODING
               Bit                                                                Definition
        flagTO_TxDC         TxDC dominant time−out occurred. The bit can be cleared only when the time−out condition disappeared
                            (or when the CAN transceiver mode was changed to other than “CAN Normal”).
       flagTO_TxDL1         TxDL1 dominant time−out occurred. The bit can be cleared only when the time−out condition disappeared (or
                            when the LIN1 transceiver mode was changed to other than “LIN Normal”).
       flagTO_TxDL2         TxDL2 dominant time−out occurred. The bit can be cleared only when the time−out condition disappeared (or
                            when the LIN2 transceiver mode was changed to other than “LIN Normal”).
  flagBUCK_NOREG            Flags a change of the internal converter signal indicating, that the buck stage cannot reach the output nominal
                            voltage (typically due to too low line voltage)
       flagBUCK_OL          Flags a change of the internal converter signal indicating, that the buck stage is overloaded
    flagBOOST_RUN           Boost stage toggled its state (was activated or de−activated) – indicating a change in supply line conditions
      flagBOOST_OL          Flags a change of the internal converter signal indicating, that the boost stage is overloaded
           flagTWAR         Junction temperature crossed the thermal warning level (in either direction)
       flagRES_SWD          In SW Development configuration only – incorrect watchdog service occurred
      flagVOUT2_UV          VOUT2 crossed its under−voltage level (in either direction). Event registered only if VOUT2 is on.
      flagVOUT2_OV          VOUT2 crossed its over−voltage level (in either direction).
          flagSPIFail       SPI frame failure was encountered (Note 12)
12. During VOUT power−up (e.g. when going from Shut−down mode, or when waking−up from Sleep or Fail−safe mode), flagSPIFail can be
     set because of transient toggling of internal CSN and SCK signals. It is therefore recommended to ignore flagSPIFail immediately after VOUT
     power−up, until the STATUS0 register is reset. Except flagSPIFail, the remaining SPI register content is not influenced by the possible internal
     toggling of CSN and SCK signals during power−up.
                                                                www.onsemi.com
                                                                         35


                                                 NCV7471, NCV7471A
STATUS1 Register (Address 101)                                      STATUS1 register is initialized in Configuration mode to
   STATUS1 register contains flags for fail−safe events and         all−zeros content. It is not reset in Reset or Start−up mode in
wakeups. A specific bit (flag) is set High when the                 order to preserve the wakeup and failure flags coming from
corresponding event was recognized and is set to Low only           Sleep or Fail−safe mode. Encoding of the FSO−related flag
when the STATUS1 register is read and cleared. The                  bits is defined in Table 22.
 Table 22. STATUS1 REGISTER: flagFSO.x Encoding
  flagFSO.3       flagFSO.2 flagFSO.1    flagFSO.0                       Failure event leading to FSOx activation
      0               0         0             0        no failure, FSOx inactive (unless over−ruled by FSO_ON bit)
      0               0         0             1        FSOx active due to missed watchdog; without entry into Fail−safe mode
      0               0         1             0        FSOx active due to “RSTN clamped Low”; without entry into Fail−safe mode
      0               0         1             1        FSOx active due to external reset in Start−up mode; without entry into Fail−
                                                       safe mode (not detected in SW Development configuration)
      0               1         0             0        reserved
      0               1         0             1        reserved
      0               1         1             0        reserved
      0               1         1             1        reserved
      1               0         0             0        FSOx active; coming from Fail−safe mode requested by SPI
      1               0         0             1        FSOx active; coming from Fail−safe mode caused by missed watchdog
      1               0         1             0        FSOx active; coming from Fail−safe mode caused by “RSTN clamped Low”
      1               0         1             1        FSOx active; coming from Fail−safe mode caused by “RSTN clamped High”
      1               1         0             0        FSOx active; coming from Fail−safe mode caused by thermal shutdown
      1               1         0             1        FSOx active; coming from Fail−safe mode caused by VOUT undervoltage
                                                       time−out (short−circuit detected) or FSOx active due to VOUT undervoltage
                                                       (NCV7471A only)
      1               1         1             0        reserved
      1               1         1             1        reserved
   Wakeup flag bits are summarized in Table 23. Detection           request (in Normal or Standby mode) or by a reset pulse
of individual wakeup events is controlled by transceiver            (wakeups from Sleep mode). In Normal and Standby mode,
mode settings (for LIN and CAN wakeup), WU pin mode                 a wakeup causes pending interrupt request until a
settings (for WU wakeup) and watchdog settings (for timer           read−and−clear access to STATUS1 register.
wakeup). A wakeup event is indicated either by an interrupt
 Table 23. STATUS1 REGISTER: Wakeup Flags
              Bit                                                          Definition
         flagWakeWU         Wakeup on WU pin was detected (for non−zero setting of modWU.x SPI bits)
        flagWakeCAN         Wakeup on CAN bus was detected (CAN transceiver in “CAN Wakeup” mode)
        flagWakeLIN1        Wakeup on LIN1 bus was detected (LIN1 transceiver in “LIN Wakeup” mode)
        flagWakeLIN2        Wakeup on LIN2 bus was detected (LIN2 transceiver in “LIN Wakeup” mode)
       flagWakeTimer        Wakeup by timer (“Timer wakeup” selected through CONTROL0 register)
                                                     www.onsemi.com
                                                               36


                                                    NCV7471, NCV7471A
STATUS2 Register (Address 110)
  STATUS2 register bits reflect the state of several internal blocks of the device. Read−and−clear or write access does not
change the register content. The STATUS2 bits are defined in Table 24.
 Table 24. STATUS2 REGISTER ENCODING
              Bit                                                            Definition
         statVS_LOW          Indication of the VS monitoring output. If VS<VS_MON, then statVS_LOW = 1
     statBUCK_NOREG          Indication of the buck DCDC stage not being able to reach the nominal VOUT voltage
        statBUCK_OL          Indication of the buck DCDC stage overload
      statBOOST_RUN          Indication that the boost DCDC stage is running
                             (boost stage must be enabled and the input voltage requires step−up operation)
       statBOOST_OL          Indication of the boost DCDC stage overload
          statSWDM           Logical level of the SWDM pin latched during Configuration mode
           statCFG           Logical level on the CFG pin latched during Configuration mode (in Config 1,2,3,4)
                             or
                             Current logical level on CFG pin (in SW Development)
            statWU           Logical level on the WU pin
          statTWAR           Output of the thermal warning comparator (if High, junction temperature is above the warning level)
       statVOUT2_UV          Output of the VOUT2 under−voltage comparator (if High, VOUT2 is below the under−voltage level).
                             Available only if VOUT2 regulator is on.
       statVOUT2_OV          Output of the VOUT2 over−voltage comparator (if High, VOUT2 is above the over−voltage level)
GENERAL PURPOSE Register (Address 111)
  General Purpose register allows storing general 12−bit                operation of the device until device enters Shut−down mode
information in the NCV7471(A) memory. The register is                   or until Configuration is requested.
initialized only in Configuration mode, when a device                     The device ID is:
version ID is loaded. Any data written to the register                  • 0x103 or 0x143 for NCV7471,
overwrite the initial content and are kept throughout the               • 0x144 or 0x184 for NCV7471A.
                                                         www.onsemi.com
                                                                   37


                                                         NCV7471, NCV7471A
 Table 25. ABSOLUTE MAXIMUM RATINGS
              Symbol                                               Parameter                               Min           Max        Units
             Vmax_VS                    Maximum voltage at VS pin                                          −0.3           40          V
        Vmax_VS_VOUT2                   Maximum voltage at VS_VOUT2 pin                                    −0.3           40          V
          Vmax_BOOST                    Maximum voltage at BOOST pin                                       −0.3        V_MID+2        V
          Vmax_V_MID                    Maximum voltage at V_MID pin                                       −0.3           40          V
           Vmax_BUCK                    Maximum DC voltage at BUCK pin                                      −1        V_MID+0.3       V
                                        Maximum transient voltage on BUCK pin (Note 13)                     −3
           Vmax_VOUT                    Maximum voltage at VOUT pin                                        −0.3            6          V
          Vmax_VOUT2                    Maximum voltage at VOUT2 pin                                        −1            40          V
         Vmax_VCC_CAN                   Maximum voltage at VCC_CAN pin                                     −0.3            6          V
          Vmax_CANH,                    Maximum voltage at CAN bus pins                                    −50            50          V
           Vmax_CANL                    (0 < VCC_CAN < 5.25 V; no time limit)
            Vmax_LINx                   Maximum voltage at LIN bus pins                                    −45            45          V
           Vmax_FSOx                    Maximum voltage at FSOx pins                                       −0.3           40          V
            Vmax_WU                     Maximum voltage at WU pin                                          −40            40          V
    Vmax_CFG; Vmax_SWDM                 Maximum voltage at CFG and SWDM pins                               −0.3           40          V
            Vmax_digIn                  Maximum voltage at digital input and open−drain pins               −0.3            6          V
                                        (TxDLx, TxDC, SCK, SDI, INTN, RSTN, UVN_VOUT)
           Vmax_digOut                  Maximum voltage at digital push−pull output pins                   −0.3       VOUT+0.3        V
                                        (RxDLx, RxDC, SDO)
            Vmax_CSN                    Maximum voltage at CSN pin                                         −0.3           40          V
            Tjunc_max                   Junction temperature                                               −40           +170        °C
              V_ESD                     System ESD on pins CANH, CANL, LIN1, LIN2, VOUT2, VS,                       ≥ ±6             kV
                                        VS_VOUT2, WU as per IEC 61000−4−2: 330 W / 150 pF
                                        Human body model on pins CANH, CANL, LIN1, LIN2                             ≥ ±6             kV
                                        stressed towards GND with 1500 W / 100 pF
                                        Human body model on pins VS, VS_VOUT2, WU                                   ≥ ±4             kV
                                        stressed towards GND with 1500 W / 100 pF
                                        Human body model on all pins                                                ≥ ±2             kV
                                        as per JESD22−A114 / AEC−Q100−002
                                        Charge device model on all pins                                           ≥ ±500              V
                                        as per JESD22−C101 / AEC−Q100−011
               MSL                      Moisture Sensitivity Level                                                   2
Stresses exceeding those listed in the Maximum Ratings table may damage the device. If any of these limits are exceeded, device functionality
should not be assumed, damage may occur and reliability may be affected.
13. BUCK pin tolerates transient voltage excursions below −1 V, caused by the buck−converter switching and the non−ideal characteristics of
    diode D2 (see Figure 2). It is not implied that a hard voltage source of less than −1 V can be connected to the pin externally.
 Table 26. THERMAL CHARACTERISTICS
              Symbol                                               Parameter                                       Value            Units
               RqJC                     Thermal resistance junction−to−case                                         3.9             °C/W
                                                               www.onsemi.com
                                                                        38


                                                       NCV7471, NCV7471A
 Table 27. OPERATING RANGES
             Symbol                                       Parameter                             Min              Max            Units
     Vop_V_IN_boostbuck            V_IN operating voltage for boost/buck operation               2.5              28               V
        Vop_V_IN_buck              V_IN operating voltage for buck−only operation                 6               28               V
             Vop_VS                Operating voltage at VS pin                                    6               28               V
        Vop_VS_VOUT2               Operating DC voltage at VS_VOUT2 pin                           6               28               V
         Vop_BOOST                 Operating voltage at BOOST pin                                 0          V_MID+V_D1            V
          Vop_V_MID                Operating voltage at V_MID pin                                5.5              28               V
           Vop_BUCK                Operating voltage at BUCK pin                               −V_D2            V_MID              V
           Vop_VOUT                Regulated voltage at VOUT2 supply output                      4.9              5.1              V
          Vop_VOUT2                Regulated voltage at VOUT2 supply output                      4.9              5.1              V
    Vop_VCC_CAN_normal             Operating voltage at VCC_CAN pin for normal and              4.75             5.25              V
                                   receive only CAN modes
   Vop_VCC_CAN_lowpower            Operating voltage at VCC_CAN pin for wakeup and off            0              5.25              V
                                   CAN modes
          Vop_CANH,                Operating voltage at CAN bus pins                              0           VCC_CAN              V
           Vop_CANL
            Vop_LINx               Operating voltage at LIN bus pins                              0               VS               V
           Vop_FSOx                Operating voltage at FSOx pins                                 0               VS               V
            Vop_WU                 Operating voltage at WU pin                                    0               VS               V
           Vop_CFG;                Operating voltage at CFG and SWDM pins                         0               VS               V
          Vop_SWDM
           Vop_digIO               Operating voltage at digital input and output pins             0             VOUT               V
                                   (TxDLx, RxDLx, TxDC, RxDC, SCK, CSN, SDI, SDO,
                                   INTN, RSTN, UVN_VOUT)
            Tjunc_op               Junction temperature                                         −40              +150             °C
Functional operation above the stresses listed in the Recommended Operating Ranges is not implied. Extended exposure to stresses beyond
the Recommended Operating Ranges limits may affect device reliability.
                                                           www.onsemi.com
                                                                      39


                                                     NCV7471, NCV7471A
                                              ELECTRICAL CHARACTERISTICS
  The characteristics defined in this section are guaranteed within the operating ranges listed in Table 27, unless stated
otherwise. Positive currents flow into the respective pin.
Power Supply
 Table 28. SUPPLY MONITORING ELECTRICAL CHARACTERISTICS
         Symbol                              Parameter                     Conditions   Min       Typ     Max      Unit
      V_MID_PORH        V_MID threshold for the power−up of the circuit   V_MID rising   3.3      3.7       4        V
      V_MID_PORL        V_MID threshold for the shut−down of the circuit  V_MID falling  2.2      2.65      3        V
         VS_MON         Monitoring level on VS pin defining the operation   VS falling    3                5.2       V
                        of the LIN transceivers
      VS_MON_hys        Hysteresis of the VS monitor                                              0.12               V
      t_VS_MON_filt     VS monitoring filter time                                                  16      25       ms
       VOUT_RES1        VOUT monitoring threshold 1                       VOUT falling  4.55      4.65    4.75       V
       VOUT_RES2        VOUT monitoring threshold 2                       VOUT falling   3.8      3.9      4.0       V
       VOUT_RES3        VOUT monitoring threshold 3                       VOUT falling  3.35      3.45    3.55       V
       VOUT_RES4        VOUT monitoring threshold 4                       VOUT falling   3.0      3.1      3.2       V
    VOUT_RES_hys        VOUT monitoring threshold hysteresis                            0.03      0.1     0.14       V
        VOUT_FAIL       VOUT failure threshold                             VOUT rising             2                 V
     t_VOUT_UV_filt     Undervoltage detection filter time                                         16      25       ms
   t_VOUT_powerup       VOUT undervoltage time−out for short−circuit re-                1.35      1.5     1.65       s
                        cognition w.r.t. VOUT_FAIL threshold
      t_VOUT_reset      RSTN pulse extension                                             4.5       5       5.5      ms
        VOUT2_UV        VOUT2 under−voltage threshold                     VOUT2 falling 4.45      4.65    4.75       V
    VOUT2_UV_hys        VOUT2 under−voltage threshold hysteresis                                  0.1                V
    t_VOUT2_UV_filt     Undervoltage detection filter time                                         16      25       ms
        VOUT2_OV        VOUT2 over−voltage threshold                                               7                 V
    VOUT2_OV_hys        VOUT2 over−voltage threshold hysteresis                                   0.1                V
   t_VOUT2_OV_filt      Overvoltage detection filter time                                          32      50       ms
                                                          www.onsemi.com
                                                                  40


                                                     NCV7471, NCV7471A
 Table 29. DC/DC CONVERTER ELECTRICAL CHARACTERISTICS
        Symbol                        Parameter                                  Conditions                   Min     Typ     Max      Unit
         VOUT          DCDC output voltage                          NCV7471(A) in Normal or Standby;           4.9     5.0     5.1      V
                                                                      Suitable external components for
                                                                     the required load current and input
                                                                                voltage used.
         I_OUT         DCDC output current available for ex-        NCV7471(A) in Normal or Standby;                           500     mA
                       ternal loads (see Figure 2)                    function of external components
 Imaxpeak_BOOST        Maximum peak−current detection                              Tj ≤ 0°C                    1.6             2.2      A
                       threshold in BOOST stage                                    Tj > 0°C                    1.6             2.0
  Imaxpeak_BUCK        Maximum peak−current detection                                                          0.8             1.0      A
                       threshold in BUCK stage
      V_MID_reg        Middle voltage level                                     Boosting active               6.175     6.5   6.825      V
    Ron_BOOST          On−resistance of the boost−stage                                                                       0.45      W
                       switch
     Ron_BUCK          On−resistance of the buck−stage switch                                                                  0.6      W
     V_MID_Ron         V_MID level for parametrical on−resist-                                                  5                       V
                       ance of the converter switches
      fsw_DCDC         Constant switching frequency                                                           450      485     520     kHz
    fmod_DCDC          Modulation frequency                              Modulation enabled via SPI             8      10      13      kHz
   dmod_DCDC_1         Modulation depth 1                                                                              10               %
   dmod_DCDC_2         Modulation depth 2                                                                              20               %
   dmod_DCDC_3         Modulation depth 3                                                                              30               %
Product parametric performance is indicated in the Electrical Characteristics for the listed test conditions, unless otherwise noted. Product
performance may not be indicated by the Electrical Characteristics if operated under different conditions.
 Table 30. VOUT2 REGULATOR ELECTRICAL CHARACTERISTICS
        Symbol                        Parameter                                  Conditions                   Min     Typ     Max      Unit
        VOUT2          VOUT2 regulator output voltage                     VOUT2 regulator active;             4.95     5.0    5.05      V
                                                                            Iload(VOUT2) ≤ 5 mA
                                                                          VOUT2 regulator active;              4.9     5.0     5.1      V
                                                                           Iload(VOUT2) ≤ 50 mA
    VOUT2_drop         Drop−out voltage between VS_VOUT2                   Iload(VOUT2) = 50 mA                       0.35     0.6      V
                       and VOUT2
     Ilim_VOUT2        VOUT2 current limitation                            VOUT2 regulator active                              −80     mA
                                                           www.onsemi.com
                                                                      41


                                                         NCV7471, NCV7471A
 Table 31. CURRENT CONSUMPTIONS
         Symbol                    Parameter                               Conditions                   Min   Typ       Max      Unit
          I_VS            VS consumption in LIN nor-            LIN1 and LIN2 in Normal mode;                            3.2     mA
        (Note 14)         mal mode                                recessive on both LIN buses
                          VS consumption with LIN in      LIN1 and LIN2 in LIN−wakeup or Off mode;                        8       mA
                          Wakeup or Off mode                no activity on both LIN buses; Tj ≤ 85°C
     I_VS_VOUT2           VS_VOUT2 consumption if                  VOUT2 regulator is active                           30 mA       −
        (Note 14)         VOUT2 is on                                                                                     +
                                                                                                                        1.1 x
                                                                                                                     I(VOUT2)
                          VS_VOUT2 consumption if                    VOUT2 regulator is off;                              1       mA
                          VOUT2 is off                          VS_VOUT2 ≤ 13.5 V; Tj ≤ 85°C
      I_VCC_CAN           VCC_CAN consumption for          CAN in Normal mode driving dominant on                        75      mA
        (Note 14)         dominant transmission            the CAN bus; 60 W load on the CAN pins
                          VCC_CAN consumption for            CAN in Receive−only mode or CAN in                          10      mA
                          recessive transmission            Normal mode with recessive on the bus
                          VCC_CAN consumption in                       CAN Wakeup mode                                    2       mA
                          CAN Wakeup mode                        (CAN supplied from V_MID);
                                                               Device in Standby or Sleep mode;
                                                                no wakeup detected; Tj ≤ 85°C
           I_IN           DCDC input current in            NCV7471(A) in Standby or Normal mode;               70        95       mA
     (Notes 14, 16)       Standby or Normal mode              V_IN (Note 15) = 13.5 V; Tj ≤ 85°C;
                                                                     no external VOUT load
                                                                         enBoost = Low;
                                                                         CAN in Off mode
                          DCDC input current in                   NCV7471(A) in Sleep mode;                    55        70       mA
                          Sleep mode                       5.5 V ≤ V_IN (Note 15) ≤ 18 V; Tj ≤ 85°C;
                                                                         enBoost = Low;
                                                                         CAN in Off mode
                          I_IN adder for CAN wakeup        NCV7471(A) in Normal, Standby or Sleep              10                 mA
                                                             mode; 5.5 V ≤ V_IN (Note 15) ≤ 18 V;
                                                               Tj ≤ 85°C; CAN in Wakeup mode
                          I_IN adder for                   NCV7471(A) in Standby or Normal mode;               10                 mA
                          BOOST stage                      5.5 V ≤ V_IN (Note 15) ≤ 18 V; Tj ≤ 85°C;
                                                          enBoost = High; Boost−stage not switching
14. The supply currents are depicted in Figure 2.
15. V_IN is the DCDC input voltage – see Figure 2.
16. I_IN is the total DCDC input current, covering the quiescent consumption of the device (through pins BOOST, V_MID, BUCK and VOUT),
    the current into the external load, and the losses associated with the DCDC conversion.
                                                             www.onsemi.com
                                                                        42


                                                            NCV7471, NCV7471A
CAN Transceiver
 Table 32. CAN TRANSCEIVER ELECTRICAL CHARACTERISTICS
          Symbol                           Parameter                         Conditions          Min     Typ     Max        Unit
  CAN TRANSMITTER DC CHARACTERISTICS
    Vo(reces)(CANH)         recessive bus voltage at pin CANH             V(TxDC) = VOUT          2      2.5       3           V
                                                                        no load transmitter on
    Vo(reces)(CANH)         recessive bus voltage at pin CANH           no load transmitter off  −0.1     0       0.1          V
    Vo(reces)(CANL)          recessive bus voltage at pin CANL            V(TxDC) = VOUT          2      2.5       3           V
                                                                        no load transmitter on
    Vo(reces)(CANL)          recessive bus voltage at pin CANL          no load transmitter off  −0.1     0       0.1          V
    Io(reces)(CANH)            recessive output current at pin        −35 V < V(CANH) < 35 V     −2.5     −       2.5        mA
                                              CANH                            (Note 17),
                                                                      0 V < VCC_CAN < 5.25 V
     Io(reces)(CANL)           recessive output current at pin        −35 V < V(CANL) < 35 V     −2.5     −       2.5        mA
                                               CANL                           (Note 17),
                                                                      0 V < VCC_CAN < 5.25 V
     Vo(dom)(CANH)              dominant output voltage at pin              V(TxDC) = 0 V         3      3.6     4.25          V
                                              CANH                       42.5 W < RL < 60 W
     Vo(dom)(CANL)              dominant output voltage at pin              V(TxDC) = 0 V        0.5     1.4     1.75          V
                                               CANL                      42.5 W < RL < 60 W
    Vo(dif)(bus_dom)            differential bus output voltage             V(TxDC) = 0 V        1.5    2.25       3           V
                                     (V(CANH) – V(CANL))                 42.5 W < RL < 60 W
   Vo(sym)(bus_dom)              bus output voltage symmetry                V(TxDC) = 0 V        0.9              1.1     VCC_CAN
                                     (V(CANH) + V(CANL))
     Vo(dif)(bus_rec)           differential bus output voltage           V(TxDC) = VOUT        −120      0       50         mV
                                     (V(CANH) – V(CANL))                  recessive, no load
      Io(SC)(CANH)            short−circuit output current at pin          V(CANH) = 0 V,       −100     −70     −45         mA
                                              CANH                          V(TxDC) = 0 V
      Io(SC)(CANL)            short−circuit output current at pin          V(CANL) = 36 V,        45      70     100         mA
                                               CANL                         V(TxDC) = 0 V
  CAN RECEIVER DC CHARACTERISTICS
         Vi(dif)(th)            Differential receiver threshold       −12 V < V(CANH) < 12 V     0.5     0.7      0.9          V
                                             voltage                  −12 V < V(CANL) < 12 V
       Vihcm(dif)(th)           Differential receiver threshold       −35 V < V(CANH) < 35 V     0.4     0.7       1           V
                               voltage for high common mode           −35 V < V(CANL) < 35 V
                                                                              (Note 17)
       Ri(cm)CANH            Common mode input resistance at                                      15      26      37          kW
                                            pin CANH
       Ri(cm)CANL            Common mode input resistance at                                      15      26      37          kW
                                            pin CANL
         Ri(cm)(m)            Matching between pin CANH and             V(CANH) = V(CANL)         −3      0        3          %
                               pin CANL common mode input
                                           resistance
           Ri(dif)                Differential input resistance                                   25      50      75          kW
         CI(CANH)              input capacitance at pin CANH           V(TxDC) = VCC_CAN,         −      7.5      20          pF
                                                                       not tested in production
         CI(CANL)              input capacitance at pin CANL           V(TxDC) = VCC_CAN,         −      7.5      20          pF
                                                                       not tested in production
           CI(dif)               differential input capacitance        V(TxDC) = VCC_CAN,         −     3.75      10          pF
                                                                       not tested in production
 17. In production, the parameter is measured for common−mode range from −30 V to +35 V. The common mode range down to −35 V is guar-
     anteed by design.
                                                                www.onsemi.com
                                                                      43


                                                         NCV7471, NCV7471A
Table 32. CAN TRANSCEIVER ELECTRICAL CHARACTERISTICS
         Symbol                          Parameter                            Conditions               Min     Typ Max     Unit
 CAN RECEIVER DC CHARACTERISTICS
        ILI_CANH            Input leakage current at pin CANH         0 W < R(VCC_CAN to GND)          −5       0   5        mA
                                                                                < 1 MW
        ILI_CANL            Input leakage current at pin CANL          V(CANH) = V(CANL) = 5 V         −5       0   5        mA
         Vi(dif)(th)           Differential receiver threshold          −12 V < V(CANH) < 12 V         0.4     0.8 1.15      V
                             voltage for the wakeup detection           −12 V < V(CANL) < 12 V
 CAN TRANSCEIVER DYNAMIC CHARACTERISTICS
    td(TxDC−BusOn)               delay TxDC to bus active                     CL = 100 pF               5      85  110       ns
                                                                        between CANH − CANL
    td(TxDC−BusOff)             delay TxDC to bus inactive                    CL = 100 pF               5      30  110       ns
                                                                        between CANH − CANL
    td(BusOn−RxDC)               delay bus active to RxDC                  C(RxDC) = 15 pF              5      55  110       ns
    td(BusOff−RxDC)             delay bus inactive to RxDC                 C(RxDC) = 15 pF              5      100 110       ns
 tdPD(TxDC−RxDC)dr          Propagation delay TxDC to RxDC                    CL = 100 pF              45          245       ns
                                                                        between CANH − CANL
 tdPD(TxDC−RxDC)rd          Propagation delay TxDC to RxDC                    CL = 100 pF              45          230       ns
                                                                        between CANH − CANL
   t_CAN_wake_dom             Dominant time for CAN wakeup            LP mode Vdif(dom) > 1.4 V        0.5     2.5  5        ms
                                                                      LP mode Vdif(dom) > 1.2 V        0.5      3  5.8       ms
    t_CAN_wake_rec           Recessive time for CAN wakeup                                             0.5     2.5  5        ms
t_CAN_wake_timeout             Maximum length of the CAN                                               0.9      1  1.1      ms
                                      wakeup pattern
    T_TxDC_timeout           TxDC dominant time for time out                 VTxDC = 0 V               2.9     3.7 4.5      ms
17. In production, the parameter is measured for common−mode range from −30 V to +35 V. The common mode range down to −35 V is guar-
     anteed by design.
                                       recessive                dominant                recessive
                                          TxDC        50%                             50%
                                            CANH
                                            CANL
                                                            0.9 V
                                            Vdiff=
                             V(CANH)−V(CANL)                                                0.5 V
                                            RxDC
                               td(TxDC−BusOn)                     td(TxDC−BusOff)
                                                               td(BusOn−RxDC)                     td(BusOff−RxDC)
                                               td(TxDC−RxDC)rd                   td(TxDC−RxDC)dr
                                         Figure 23. Definition of CAN Dynamic Parameters
                                                              www.onsemi.com
                                                                        44


                                                    NCV7471, NCV7471A
LIN Transceivers
 Table 33. LINx TRANSCEIVER ELECTRICAL CHARACTERISTICS
       Symbol                  Parameter                              Conditions                 Min  Typ Max   Unit
  LINx TRANSMITTER DC CHARACTERISTICS
 VLIN_dom_LoSup     LIN dominant output voltage                TxDLx = Low; VS = 7.3 V                     1.2   V
 VLIN_dom_HiSup     LIN dominant output voltage                TxDLx = Low; VS = 18 V                      2.0   V
      VLIN_REC     LIN recessive output voltage              TxDLx = High; I(LIN) = 0 mA        VS −      VS −   V
                                                                                                 1.2       0.3
       ILIN_lim    Short circuit current limitation                VLIN = VS = 18 V              40        200  mA
        Rslave        Internal pull−up resistance         LIN Normal or Receive−only mode        20    33  47   kW
  LINx RECEIVER DC CHARACTERISTICS
      Vbus_dom    Bus voltage for dominant state                                                           0.4  VS
       Vbus_rec   Bus voltage for recessive state                                                0.6            VS
      Vrec_dom            Receiver threshold           LIN bus going from recessive to dominant  0.4       0.6  VS
       Vrec_rec           Receiver threshold           LIN bus going from dominant to recessive  0.4       0.6  VS
       Vrec_cnt         Receiver center voltage                (Vrec_dom + Vrec_rec)/2          0.475     0.525 VS
       Vrec_hys           Receiver hysteresis                    Vrec_rec − Vrec_dom            0.05      0.175 VS
    ILIN_off_dom           LIN output current,               Normal LIN Mode, Driver Off;        −1             mA
                         bus in dominant state                  VS = 12 V; VLIN = 0 V
 ILIN_off_dom_slp          LIN output current,          LIN Wake Mode, VS = 12 V; VLIN = 0 V     −20  −15  −2    mA
                         bus in dominant state
     ILIN_off_rec          LIN output current,                         Driver Off;                          1    mA
                         bus in recessive state              VS < 18 V; VS < VLIN < 18 V
   ILIN_no_GND     LIN current with missing GND          VS = GND = 12 V; 0 V < VLIN < 18 V      −1         1   mA
     ILIN_no_VS     LIN current with missing VS           VS = GND = 0 V; 0 V < VLIN < 18 V                 5    mA
  LINx TRANSCEIVER DYNAMIC CHARACTERISTICS
          D1                 Duty Cycle 1 =                   THREC(max) = 0.744 x VS           0.396      0.5
                     tBUS_REC(min) / (2 x TBit)               THDOM(max) = 0.581 x VS
                                                                      TBit = 50 ms
                                                                  V(VS) = 7 V to 18 V
          D2                 Duty Cycle 2 =                   THREC(min) = 0.422 x VS            0.5      0.581
                    tBUS_REC(max) / (2 x TBit)                THDOM(min) = 0.284 x VS
                                                                      TBit = 50 ms
                                                                 V(VS) = 7.6 V to 18 V
          D3                 Duty Cycle 3 =                   THREC(max) = 0.778 x VS           0.417      0.5
                     tBUS_REC(min) / (2 x TBit)               THDOM(max) = 0.616 x VS
                                                                      TBit = 96 ms
                                                                  V(VS) = 7 V to 18 V
          D4                 Duty Cycle 4 =                   THREC(min) = 0.389 x VS            0.5      0.590
                    tBUS_REC(max) / (2 x TBit)                THDOM(min) = 0.251 x VS
                                                                      TBit = 96 ms
                                                                 V(VS) = 7.6 V to 18 V
         T_fall             LIN falling edge                   Normal Mode; VS = 12 V                     22.5   ms
        T_rise               LIN rising edge                   Normal Mode; VS = 12 V                     22.5   ms
        T_sym             LIN slope symmetry                   Normal Mode; VS = 12 V            −4    0    4    ms
  Trec_prop_down   Propagation delay of receiver                      Falling edge               0.1        6    ms
   Trec_prop_up                                                       Rising edge                0.1        6    ms
      Trec_sym     Propagation delay symmetry              Trec_prop_down − Trec_prop_up         −2         2    ms
     t_LIN_wake   Dominant duration for wakeup                   LIN in wakeup mode              30    90  150   ms
 T_TxDLx_timeout      TxDLx dominant time−out        TxDLx = Low; LIN dominant time−out enabled   6    13  20   ms
        C_LINx     Capacitance of the LINx pins                 Guaranteed by design;                  15  25    pF
                                                                not tested in production
                                                        www.onsemi.com
                                                                 45


                                    NCV7471, NCV7471A
     TxDLx              tBIT                tBIT
                                        50%
                                                                                        t
                             tBUS_dom(max)        tBUS_rec(min)
       LINx
THRec(max)                                                             Thresholds of
THDom(max)                                                             receiving node 1
 THRec(min)                                                            Thresholds of
THDom(min)                                                             receiving node 2
                                                                                        t
                              tBUS_dom(min)      tBUS_rec(max)
                   Figure 24. Definition of LINx Duty Cycle Parameters
     LINx
       100%
                             60%                   60%
                               40%               40%
          0%
                                                                                           t
                                 T_fall                         T_rise
                      Figure 25. Definition of LINx Edge Parameters
          LINx
         VS
                                                                             60% VS
                                                                             40% VS
                                                                                           t
        RxDLx  Trec_prop_down                    Trec_prop_up
                                   50%
                                                                                          t
                Figure 26. Definition of LINx Receiver Timing Parameters
                                         www.onsemi.com
                                                 46


                                                       NCV7471, NCV7471A
Digital Control Timing and SPI Timing
 Table 34. DIGITAL CONTROL CHARACTERISTICS
            Symbol                      Parameter                         Conditions        Min  Typ   Max   Unit
           t_WD_TO           Duration of the total watchdog       WD_PER_0 selected in SPI  7.2   8     8.8   ms
          t_WD_WIN                        period
                                                                  WD_PER_1 selected in SPI  14.4  16   17.6   ms
                                                                  WD_PER_2 selected in SPI  28.8  32   35.2   ms
                                                                  WD_PER_3 selected in SPI  57.6  64   70.4   ms
                                                                  WD_PER_4 selected in SPI 115.2 128   140.8  ms
                                                                  WD_PER_5 selected in SPI 230.4 256   281.6  ms
                                                                  WD_PER_6 selected in SPI 460.8 512   563.2  ms
                                                                  WD_PER_7 selected in SPI 921.6 1024 1126.4  ms
            f_FSO2              FSO2 toggling frequency                FSO_internal = 1    1.125 1.25  1.375  Hz
           dc_FSO2                   FSO2 duty cycle                                         45   50     55   %
            f_FSO3              FSO3 toggling frequency                                      90  100    110   Hz
           dc_FSO3                   FSO3 duty cycle                                         18   20     22   %
        t_INTN_active       Active (Low) pulse on INTN pin                                  0.9   1     1.1   ms
       t_INTN_inactive         Minimum time between two                                     4.5   5     5.5   ms
                             consecutive interrupt requests
          t_RSTN_filt         RSTN input signal filter time                                   1          10   ms
 t_RSTN_Clamped_High          Timeout for “RSTN clamped                                     0.9   1     1.1   ms
                                      High” detection
 t_RSTN_Clamped_Low           Timeout for “RSTN clamped                                     225  250    275   ms
                                      Low” detection
 Table 35. SPI INTERFACE TIMING CHARACTERISTICS
        Symbol                              Parameter                           Conditions Min   Typ   Max   Unit
    tCSN_SCK                  First SPI clock edge after CSN active                         100               ns
    tSCK_CSN                  Last SPI clock edge to CSN inactive                           100               ns
    tCSN_SDO                   SDO output stable after CSN active                                       100   ns
    tCSN_High                   Inter−frame space (CSN inactive)                             10               ms
    tSCK_High                    Duration of SPI clock High level                           100               ns
     tSCK_Low                    Duration of SPI clock Low level                            100               ns
      tSCK_per                           SPI clock period                                   250               ns
       tSDI_set            Setup time of SDI input towards SPI clock                         50               ns
      tSDI_hold             Hold time of SDI input towards SPI clock                         50               ns
    tSCK_SDO           delay of SDO output stable after an SPI clock edge                               50    ns
                                                            www.onsemi.com
                                                                    47


                                                      NCV7471, NCV7471A
                              tCSN_SCK                                     tSCK_per               tSCK_CSN  tCSN_High
                                                                                 tSCK_Low
                 CSN                                      tSCK_High
                 SCK
                  SDI
                                                            tSDI_set                    tSDI_hold
                 SDO
                  tCSN_SDO                                tSCK_SDO
                                         Figure 27. Definition of SPI Timing Parameters
Thermal Protection
 Table 36. THERMAL PROTECTION CHARACTERISTICS
        Symbol                              Parameter                                Conditions         Min   Typ      Max Unit
        Tj_WAR              Junction temperature for thermal warning                                    130    140     150  °C
          Tj_SD            Junction temperature for thermal shut−down                                   150    160     170  °C
Digital IO Pins
 Table 37. ELECTRICAL CHARACTERISTICS OF LOW VOLTAGE DIGITAL INPUTS/OUTPUTS
          Symbol                     Parameter                             Conditions                   Min   Typ      Max Unit
         VinL_pinx           Low−level input threshold         pinx = SDI, SCK, CSN, TxDC,               0             0.8   V
                                                                         TxDL1/2, RSTN
        VinH_pinx            High−level input threshold                                                  2            VOUT   V
      Rpullup_pinx           Integrated pull−up resistor        pinx = CSN, TxDC, TxDL1/2,               55   100      185 kW
                                      to VOUT                      INTN, RSTN, UVN_VOUT
    Rpulldown_pinx         Integrated pull−down resistor                 pinx = SDI, SCK                 55   100      185 kW
                                       to GND
        IoutL_pinx            Low−level output driving                 pinx is logical Low;              2      6       12 mA
                                       current                        forced Vpinx = 0.4 V;
                                                                pinx = SDO, RxDC, RxDL1/2,
                                                                   RSTN, INTN, UVN_VOUT
        IoutH_pinx            High−level output driving                pinx is logical High;            −12    −6       −2 mA
                                       current                   forced Vpinx = VOUT−0.4 V;
                                                                pinx = SDO, RxDC, RxDL1/2
     Ileak_HZ_pinx             Leakage in the tristate                   pinx in HZ state;              −10             10  mA
                                                                  forced 0 V < Vpinx < VOUT;
                                                                            pinx = SDO
         Ileak_OD            Leakage of an open−drain           open−drain pinx in High state;          −10             10  mA
                                        output                   forced Vpinx = VOUT; pinx =
                                                                   INTN, RSTN, UVN_VOUT
  V_MID_DigOut_Low          V_MID value guaranteeing            Shut−down mode; RSTN and                               1.9   V
                              Low level on RSTN and            UVN_VOUT connected to fixed
                                  UVN_VOUT pins                  5 V through a 10 kW resistor.
                                                              If V_MID > V_MID_DigOut_Low
                                                             or VOUT > VOUT_DigOut_Low,
  VOUT_DigOut_Low            VOUT value guaranteeing             then RSTN and UVN_VOUT                                2.7   V
                              Low level on RSTN and                    stay below 400 mV
                                  UVN_VOUT pins
                                                                    Not tested in production;
                                                                     guaranteed by design
                                                         www.onsemi.com
                                                                      48


                                                      NCV7471, NCV7471A
CFG and SWDM Pins
 Table 38. ELECTRICAL CHARACTERISTICS OF CFG AND SWDM INPUTS
         Symbol                     Parameter                           Conditions                 Min        Typ       Max       Unit
     VinL_HV_pinx            Low−level input threshold             pinx = CFG, SWDM                 0                    0.8        V
     VinH_HV_pinx            High−level input threshold                                             2                    VS         V
  Rpulldown_HV_pinx         Internal pull−down to GND              pinx = CFG, SWDM                55         100        185       kW
FSO Pins
 Table 39. FSOx PIN ELECTRICAL CHARACTERISTICS
         Symbol                     Parameter                           Conditions                 Min        Typ       Max       Unit
   I_FSOx_inactive         FSOx current in inactive state       FSOx inactive (no failure),        −2                      2       mA
                                                                             or
                                                             HZ−part of the FSO2/3 pattern.
                                                                  0 V < V(FSOx) < 28 V
    V_FSOx_active           Voltage drop at FSOx when                  FSO1 active or                                    0.4        V
                                       active                Low−part of the FSO2/3 pattern;
                                                                      I(FSOx) = 5 mA
                                                                       FSO1 active or                                    0.8        V
                                                             Low−part of the FSO2/3 pattern;
                                                                     I(FSOx) = 10 mA
WU Pin
 Table 40. WU PIN ELECTRICAL CHARACTERISTICS
         Symbol                     Parameter                           Conditions                 Min        Typ       Max       Unit
         Vth_WU            WU pin threshold                                                         2                      4        V
        Vhys_WU            WU pin threshold hysteresis                                            0.03                  0.25        V
        t_WU_filt          WU wakeup filter time                                                   10                     50       ms
         Ipu_WU            Pull−up current on WU pin                    V(WU) = 4 V                −11                    −3       mA
         Ipd_WU            Pull−down current on WU pin                  V(WU) = 2 V                 3                     11       mA
 Table 41. DEVICE ORDERING INFORMATION
       Part Number                                 Description                              Package Type               Shipping†
  NCV7471DQ5R2G                                                                                                    1500 / Tape & Reel
  NCV7471ADQ5R2G             System Basis Chip with Dual LIN,                                                      1500 / Tape & Reel
                             HS−CAN and 500 mA Boost−Buck DCDC,
                             FSOx outputs active during VOUT undervoltage
†For information on tape and reel specifications, including part orientation and tape sizes, please refer to our Tape and Reel Packaging
 Specifications Brochure, BRD8011/D.
                                                           www.onsemi.com
                                                                     49


                                                                             NCV7471, NCV7471A
                                                                            PACKAGE DIMENSIONS
                                                                                        SSOP36 EP
                                                                                       CASE 940AB
       0.20 C A-B                                                                          ISSUE O                                          NOTES:
4X
                                         D                                                                                                    1. DIMENSIONING AND TOLERANCING PER
                                               DETAIL B             D                                                                            ASME Y14.5M, 1994.
                                 A                                                             X                                              2. CONTROLLING DIMENSION: MILLIMETERS.
                           36                          19                                                                                     3. DIMENSION b DOES NOT INCLUDE DAMBAR
                                                                                     X = A or B                                                  PROTRUSION. ALLOWABLE DAMBAR
                                                                                                                  e/2                            PROTRUSION SHALL BE 0.13 TOTAL IN
                                                                                                                                                 EXCESS OF THE b DIMENSION AT MMC.
                                                                                                                                              4. DIMENSION b SHALL BE MEASURED
                                                                                                                                                 BETWEEN 0.10 AND 0.25 FROM THE TIP.
                   ÉÉÉ
                                                                                                                                              5. DIMENSIONS D AND E1 DO NOT INCLUDE
                                                                                                                                                 MOLD FLASH, PROTRUSIONS OR GATE
              E1
                   ÉÉÉ
                                                               E                                                                                 BURRS. DIMENSIONS D AND E1 SHALL BE
                                                                                                                                                 DETERMINED AT DATUM H.
                                                                                                 DETAIL B
                   ÉÉÉ
                                                                                                                                              6. THIS CHAMFER FEATURE IS OPTIONAL. IF
                                                                                                                                                 IT IS NOT PRESENT, A PIN ONE IDENTIFIER
                                                                    36X                                                                          MUST BE LOACATED WITHIN THE INDIC-
                                                                          0.25 C                                                                 ATED AREA.
         PIN 1
         REFERENCE                                                                                                                                        MILLIMETERS
                           1                           18
                                 e                                                                                                                 DIM    MIN       MAX
                                                          36X  b                                                                                    A      ---      2.65
                                 B                                                                                                                 A1      ---      0.10
                                                               0.25    M   T A    S   B  S
                                                                                                    NOTE 6
                                                                                                                                                   A2      2.35     2.60
                                  TOP VIEW                                                                                                          b      0.18     0.36
                                                                                                         h                                          c      0.23     0.32
         H               A                                        A2                                         DETAIL A                               D       10.30 BSC
                                                                                                                                                   D2      5.70     5.90
                                                                                                                                                    E       10.30 BSC
                                                                                                                                            c      E1        7.50 BSC
                                                                                      h                                                            E2      3.90     4.10
        0.10 C                                                                                                                                      e        0.50 BSC
                                                      A1               SEATING                        END VIEW                                      h      0.25     0.75
 36X                              SIDE VIEW                       C    PLANE                                                                        L      0.50     0.90
                                                                                                                                                    L2       0.25 BSC
                                                                                                                                                    M       0_       8_
                                        D2                                                                                                         M1       5_      15 _
                                                                                                         M1
                                                                                                                                             SOLDERING FOOTPRINT
                                                                                                                                                             5.90                    36X
                                                                                                                                                                                    1.06
                                                                                GAUGE                                       M
                E2                                                              PLANE
                                                                      L2             SEATING
                                                                                 C   PLANE
                                                                                                                      36X L
                                                                                            DETAIL A
                                                                                                                                    4.10                                               10.76
                               BOTTOM VIEW
                                                                                                                                            1
                                                                                                                                                                                   36X
                                                                                                                                                        0.50                       0.36
                                                                                                                                                       PITCH
                                                                                                                                                                   DIMENSIONS: MILLIMETERS
  ON Semiconductor and            are trademarks of Semiconductor Components Industries, LLC dba ON Semiconductor or its subsidiaries in the United States and/or other countries.
  ON Semiconductor owns the rights to a number of patents, trademarks, copyrights, trade secrets, and other intellectual property. A listing of ON Semiconductor’s product/patent
  coverage may be accessed at www.onsemi.com/site/pdf/Patent−Marking.pdf. ON Semiconductor reserves the right to make changes without further notice to any products herein.
  ON Semiconductor makes no warranty, representation or guarantee regarding the suitability of its products for any particular purpose, nor does ON Semiconductor assume any liability
  arising out of the application or use of any product or circuit, and specifically disclaims any and all liability, including without limitation special, consequential or incidental damages.
  Buyer is responsible for its products and applications using ON Semiconductor products, including compliance with all laws, regulations and safety requirements or standards,
  regardless of any support or applications information provided by ON Semiconductor. “Typical” parameters which may be provided in ON Semiconductor data sheets and/or
  specifications can and do vary in different applications and actual performance may vary over time. All operating parameters, including “Typicals” must be validated for each customer
  application by customer’s technical experts. ON Semiconductor does not convey any license under its patent rights nor the rights of others. ON Semiconductor products are not
  designed, intended, or authorized for use as a critical component in life support systems or any FDA Class 3 medical devices or medical devices with a same or similar classification
  in a foreign jurisdiction or any devices intended for implantation in the human body. Should Buyer purchase or use ON Semiconductor products for any such unintended or unauthorized
  application, Buyer shall indemnify and hold ON Semiconductor and its officers, employees, subsidiaries, affiliates, and distributors harmless against all claims, costs, damages, and
  expenses, and reasonable attorney fees arising out of, directly or indirectly, any claim of personal injury or death associated with such unintended or unauthorized use, even if such
  claim alleges that ON Semiconductor was negligent regarding the design or manufacture of the part. ON Semiconductor is an Equal Opportunity/Affirmative Action Employer. This
  literature is subject to all applicable copyright laws and is not for resale in any manner.
PUBLICATION ORDERING INFORMATION
LITERATURE FULFILLMENT:                                                     N. American Technical Support: 800−282−9855 Toll Free               ON Semiconductor Website: www.onsemi.com
 Literature Distribution Center for ON Semiconductor                         USA/Canada
 19521 E. 32nd Pkwy, Aurora, Colorado 80011 USA                             Europe, Middle East and Africa Technical Support:                   Order Literature: http://www.onsemi.com/orderlit
 Phone: 303−675−2175 or 800−344−3860 Toll Free USA/Canada                    Phone: 421 33 790 2910
 Fax: 303−675−2176 or 800−344−3867 Toll Free USA/Canada                                                                                         For additional information, please contact your local
 Email: orderlit@onsemi.com                                                                                                                     Sales Representative
 ◊                                                                                  www.onsemi.com                                                                               NCV7471/D
                                                                                                50


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
ON Semiconductor:
 NCV7471DQ5R2G NCV7471ADQ5R2G
