                 UJA1169
                 Mini high-speed CAN system basis chip
                 Rev. 1 — 4 February 2016                                         Product data sheet
1. General description
             The UJA1169 is a mini high-speed CAN System Basis Chip (SBC) containing an
             ISO 11898-2:201x (upcoming merged ISO 11898-2/5/6) compliant HS-CAN transceiver
             and an integrated 5 V or 3.3 V 250 mA scalable supply (V1) for a microcontroller and/or
             other loads. It also features a watchdog and a Serial Peripheral Interface (SPI). The
             UJA1169 can be operated in very low-current Standby and Sleep modes with bus and
             local wake-up capability.
             The UJA1169 comes in six variants. The UJA1169TK, UJA1169TK/F, UJA1169TK/X and
             UJA1169TK/X/F contain a 5 V regulator (V1). V1 is a 3.3 V regulator in the UJA1169TK/3
             and the UJA1169TK/F/3.
             The UJA1169TK, UJA1169TK/F, UJA1169TK/3 and UJA1169TK/F/3 variants feature a
             second on-board 5 V regulator (V2) that supplies the internal CAN transceiver and can
             also be used to supply additional on-board hardware.
             The UJA1169TK/X and UJA1169TK/X/F are equipped with a 5 V supply (VEXT) for
             off-board components. VEXT is short-circuit proof to the battery, ground and negative
             voltages. The integrated CAN transceiver is supplied internally via V1, in parallel with the
             microcontroller.
             The UJA1169xx/F variants support ISO 11898-6:2013 and ISO 11898-2:201x compliant
             CAN partial networking with a selective wake-up function incorporating CAN FD-passive.
             CAN FD-passive is a feature that allows CAN FD bus traffic to be ignored in
             Sleep/Standby mode. CAN FD-passive partial networking is the perfect fit for networks
             that support both CAN FD and classic CAN communications. It allows normal CAN
             controllers that do not need to communicate CAN FD messages to remain in partial
             networking Sleep/Standby mode during CAN FD communication without generating bus
             errors.
             The UJA1169 implements the standard CAN physical layer as defined in the current
             ISO11898 standard (-2:2003, -5:2007, -6:2013). Pending the release of the upcoming
             version of ISO11898-2:201x including CAN FD, additional timing parameters defining loop
             delay symmetry are included. This implementation enables reliable communication in the
             CAN FD fast phase at data rates up to 2 Mbit/s.
             A dedicated LIMP output pin is provided to flag system failures.
             A number of configuration settings are stored in non-volatile memory. This arrangement
             makes it possible to configure the power-on and limp-home behavior of the UJA1169 to
             meet the requirements of different applications.


NXP Semiconductors                                                                                                            UJA1169
                                                             Mini high-speed CAN SBC with optional partial networking
2. Features and benefits
                   2.1 General
                        ISO 11898-2:201x (upcoming merged ISO 11898-2/5/6) compliant 1 Mbit/s high-speed
                         CAN transceiver supporting CAN FD active communication up to 2 Mbit/s in the CAN
                         FD data field (all six variants)
                        Autonomous bus biasing according to ISO 11898-6:2013 and ISO 11898-2:201x
                        Scalable 5 V or 3.3 V 250 mA low-drop voltage regulator for 5 V/3.3 V microcontroller
                         supply (V1) based on external PNP transistor concept for thermal scaling
                        CAN-bus connections are truly floating when power to pin BAT is off
                        No ‘false’ wake-ups due to CAN FD traffic (in variants supporting partial networking)
                   2.2 Designed for automotive applications
                        8 kV ElectroStatic Discharge (ESD) protection, according to the Human Body Model
                         (HBM) on the CAN-bus pins
                        6 kV ESD protection according to IEC 61000-4-2 on pins BAT, WAKE, VEXT and the
                         CAN-bus pins
                        CAN-bus pins short-circuit proof to 58 V
                        Battery and CAN-bus pins protected against automotive transients according to
                         ISO 7637-3
                        Very low quiescent current in Standby and Sleep modes with full wake-up capability
                        Leadless HVSON20 package (3.5 mm  5.5 mm) with improved Automated Optical
                         Inspection (AOI) capability and low thermal resistance
                        Dark green product (halogen free and Restriction of Hazardous Substances (RoHS)
                         compliant)
                   2.3 Low-drop voltage regulator for 5 V/3.3 V microcontroller supply (V1)
                        5 V/3.3 V nominal output; 2 % accuracy
                        250 mA output current capability
                        Thermal management via optional external PNP
                        Current limiting above 250 mA
                        Support for microcontroller RAM retention down to a battery voltage of 2 V (5 V only)
                        Undervoltage reset with selectable detection thresholds of 60 %, 70 %, 80 % or 90 %
                         of output voltage, configurable in non-volatile memory (5 V variants only)
                        Excellent transient response with a small ceramic output capacitor
                        Output is short-circuit proof to GND
                        Turned off in Sleep mode
                   2.4 On-board CAN supply (V2; UJA1169TK, UJA1169TK/F, UJA1169TK/3
                       and UJA1169TK/F/3 only)
                        5 V nominal output; 2 % accuracy
                        100 mA output current capability
                        Current limiting above 100 mA
                        Excellent transient response with a small ceramic output capacitor
UJA1169                               All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                   Rev. 1 — 4 February 2016                                                                             2 of 74


NXP Semiconductors                                                                                                            UJA1169
                                                             Mini high-speed CAN SBC with optional partial networking
                        Output is short-circuit proof to GND
                        User-defined on/off behavior via SPI
                   2.5 Off-board sensor supply (VEXT; UJA1169TK/X and UJA1169TK/X/F
                       only)
                        5 V nominal output; 2 % accuracy
                        100 mA output current capability
                        Current limiting above 100 mA
                        Excellent transient response with a small ceramic output load capacitor
                        Output is short-circuit proof to BAT, GND and negative voltages down to 18 V
                        User-defined on/off behavior via SPI
                   2.6 Power Management
                        Standby mode featuring very low supply current; voltage V1 remains active to maintain
                         the supply to the microcontroller
                        Sleep mode featuring very low supply current with voltage V1 switched off
                        Remote wake-up capability via standard CAN wake-up pattern or ISO 11898-6:2013
                         and ISO 11898-2:201x compliant selective wake-up frame detection including CAN FD
                         passive support (/F versions only)
                        Local wake-up via the WAKE pin
                        Wake-up source recognition
                   2.7 System control and diagnostic features
                        Mode control via the Serial Peripheral Interface (SPI)
                        Overtemperature warning and shutdown
                        Watchdog with Window, Timeout and Autonomous modes and microcontroller-
                         independent clock source
                        Optional cyclic wake-up in watchdog Timeout mode
                        Watchdog automatically re-enabled when wake-up event captured
                        Watchdog period selectable between 8 ms and 4 s supporting remote flash
                         programming via the CAN-bus
                        LIMP output pin with configurable activation threshold
                        Watchdog failure, RSTN clamping and overtemperature events trigger the dedicated
                         LIMP output signal
                        16-, 24- and 32-bit SPI for configuration, control and diagnosis
                        Bidirectional reset pin with variable power-on reset length; configurable in non-volatile
                         memory to support a number of different microcontrollers
                        Customer configuration of selected functions via non-volatile memory
                        Dedicated modes for software development and end-of-line flashing
UJA1169                               All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                   Rev. 1 — 4 February 2016                                                                             3 of 74


NXP Semiconductors                                                                                                                                                                                                                                                                                        UJA1169
                                                                                                                            Mini high-speed CAN SBC with optional partial networking
3. Product family overview
Table 1.     Feature overview of UJA1169 SBC family
                                                      Modes                                                                 Supplies                                                                                 Host                                                          Additional Features
                                                                                                                                                                                                                   Interface
                           Normal and Standby modes                                                                                               V2: 5 V, CAN + on-board loads                               SPI: for control and diagnostics
                                                                                                                                                                                  VEXT: 5 V, external loads                                                                                                Non-volatile memory   CAN partial networking
                                                       Sleep mode   Reset mode     V1: 5 V, C only   V1: 5 V, C and CAN    V1: 3.3 V, C only                                                                                                  RSTN: reset pin              Local WAKE pin                                                               CAN FD passive
                                                                                                                                                                                                                                                                   Watchdog                    LIMP pin
           Device
UJA1169TK                  ●                          ●             ●               ●                                                             ●                                                           ●                                  ●                 ●          ●                ●          ●
UJA1169TK/X                ●                          ●             ●                                  ●                                                                          ●                           ●                                  ●                 ●          ●                ●          ●
UJA1169TK/F                ●                          ●             ●               ●                                                             ●                                                           ●                                  ●                 ●          ●                ●          ●                      ●                        ●
UJA1169TK/X/F              ●                          ●             ●                                  ●                                                                          ●                           ●                                  ●                 ●          ●                ●          ●                      ●                        ●
UJA1169TK/3                ●                          ●             ●                                                         ●                   ●                                                           ●                                  ●                 ●          ●                ●          ●
UJA1169TK/F/3              ●                          ●             ●                                                         ●                   ●                                                           ●                                  ●                 ●          ●                ●          ●                      ●                        ●
4. Ordering information
Table 2.     Ordering information
Type number[1]            Package
                          Name                                                    Description                                                                                                                                                                                                                    Version
UJA1169TK                 HVSON20                                                 plastic thermal enhanced extremely thin quad flat package; no SOT1360-1
UJA1169TK/X                                                                       leads; 20 terminals; body 3.5  5.5  0.85 mm
UJA1169TK/F[2]
UJA1169TK/X/F[2]
UJA1169TK/3
UJA1169TK/F/3[2]
[1]   UJA1169TK, UJA1169TK/F, UJA1169TK/3 and UJA1169TK/F/3 with dedicated CAN supply (V2); UJA1169TK/X and UJA1169TK/X/F
      with protected off-board sensor supply (VEXT).
[2]   UJA1169TK/F, UJA1169TK/F/3 and UJA1169TK/X/F with partial networking according to ISO 11898-6:2013 and ISO 11898-2:201x
      incorporating CAN FD passive support.
UJA1169                                                                          All information provided in this document is subject to legal disclaimers.                                                                                                                   © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                                                    Rev. 1 — 4 February 2016                                                                                                                                                                                                                            4 of 74


NXP Semiconductors                                                                                                          UJA1169
                                                          Mini high-speed CAN SBC with optional partial networking
5. Block diagram
                                                         9(;&75/                                         9(;&&
                                                                                                         
                                                                                                                  8-$
                                                                                                                               
                                                                                                                                       9
                                                   990,&52&21752//(56833/< 9
                    %$7
                                                                     $1'313&21752//(5                                        
                                                                                                                                       5671
                                                                                                                             
                                                                             :$7&+'2*                                                  /,03
                                                                                                                                          ;YHUVLRQV
                                                                                                                                          RQO\
                                                                         95(*8/$725                                      
                                                                                                                                       99(;7
                                                             96(16256833/< ;YHUVLRQV
                                                                                                                                          QRQ;YHUVLRQV
                                                                                                                                          RQO\
                                                                     +6&$175$16&(,9(5                                     
                    5;'                                                                                                                &$1+
                                                                            &$1)'DFWLYH
                                                                                                                            
                    7;'                                                                                                                &$1/
                                                                      3$57,$/1(7:25.,1*
                                                                          &$1)'SDVVLYH
                          
                    6&.                                                                                                                   )YHUVLRQV
                                                                                                                                         RQO\
                     6',
                                                             63,$1'6<67(0&21752//(5
                    6'2
                          
                   6&61
                          
                   :$.(                                                         :$.(83
                                                                                             
                                                                                       *1'                           DDD
                           The internal CAN transceiver is supplied from V1 in the UJA1169TK/X and UJA1169TK/X/F and
                           from V2 in the other variants.
                   Fig 1.  Block diagram of UJA1169
UJA1169                            All information provided in this document is subject to legal disclaimers.  © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                Rev. 1 — 4 February 2016                                                                              5 of 74


NXP Semiconductors                                                                                                                            UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
6. Pinning information
                   6.1 Pinning
                                                                    *1'                                             6&61
                                                                     7;'                                            *1'
                                                                      6',                                           &$1+
                                                                    *1'                                             &$1/
                                                                        9                                          *1'
                                                                                          8-$
                                                                9(;&&                                               9(;&75/
                                                                    5;'                                             %$7
                                                                  5671                                              99(;7 
                                                                    6'2                                             :$.(
                                                                     6&.                                           /,03
                                                                                                          DDD
                             (1) V2 in the UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3; VEXT in the
                                 UJA1169TK/X and UJA1169TK/X/F
                        Fig 2.   Pin configuration diagram
                   6.2 Pin description
                       Table 3.   Pin description
                       Symbol        Pin                 Description
                       GND           1[1]                ground
                       TXD           2                   transmit data input
                       SDI           3                   SPI data input
                       GND           4[1]                ground
                       V1            5                   5 V/3.3 V microcontroller supply voltage
                       VEXCC         6                   current measurement for external PNP transistor; this pin is connected to
                                                         the collector of the external PNP transistor
                       RXD           7                   receive data output; reflects data on bus lines and wake-up conditions
                       RSTN          8                   reset input/output; active-LOW
                       SDO           9                   SPI data output
                       SCK           10                  SPI clock input
                       LIMP          11                  limp home output, open-drain; active-LOW
                       WAKE          12                  local wake-up input
                       V2            13                  5 V CAN supply (UJA1169TK, UJA1169TK/3, UJA1169TK/F and
                                                         UJA1169TK/F/3 only)
                       VEXT          13                  5 V sensor supply (UJA1169TK/X and UJA1169TK/X/F only)
                       BAT           14                  battery supply voltage
                       VEXCTRL       15                  control pin of the external PNP transistor; this pin is connected to the
                                                         base of the external PNP transistor
                       GND           16[1]               ground
                       CANL          17                  LOW-level CAN-bus line
UJA1169                                  All information provided in this document is subject to legal disclaimers.              © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                          6 of 74


NXP Semiconductors                                                                                                                UJA1169
                                                                 Mini high-speed CAN SBC with optional partial networking
                       Table 3.      Pin description …continued
                        Symbol         Pin                Description
                        CANH           18                 HIGH-level CAN-bus line
                        GND            19[1]              ground
                        SCSN           20                 SPI chip select input; active-LOW
                       [1]  The exposed die pad at the bottom of the package allows for better heat dissipation and grounding from the
                            SBC via the printed circuit board. For enhanced thermal and electrical performance, connect the exposed
                            die pad to GND.
7. Functional description
                   7.1 System controller
                       The system controller manages register configuration and controls the internal functions
                       of the UJA1169. Detailed device status information is collected and made available to the
                       microcontroller.
                7.1.1 Operating modes
                       The system controller contains a state machine that supports seven operating modes:
                       Normal, Standby, Sleep, Reset, Forced Normal, Overtemp and Off. The state transitions
                       are illustrated in Figure 3.
               7.1.1.1 Normal mode
                       Normal mode is the active operating mode. In this mode, all the hardware on the device is
                       available and can be activated (see Table 4). Voltage regulator V1 is enabled to supply the
                       microcontroller.
                       The CAN interface can be configured to be active and thus to support normal CAN
                       communication. Depending on the SPI register settings, the watchdog may be running in
                       Window or Timeout mode and the V2/VEXT output may be active.
               7.1.1.2 Standby mode
                       Standby mode is the first-level power-saving mode of the UJA1169, offering reduced
                       current consumption. The transceiver is unable to transmit or receive data in Standby
                       mode. The SPI remains enabled and V1 is still active; the watchdog is active (in Timeout
                       mode) if enabled. The behavior of V2/VEXT is determined by the SPI setting.
                       If remote CAN wake-up is enabled (CWE = 1; see Table 32), the receiver monitors bus
                       activity for a wake-up request. The bus pins are biased to GND (via Ri(cm)) when the bus is
                       inactive for t > tto(silence) and at approximately 2.5 V when there is activity on the bus
                       (autonomous biasing). CAN wake-up can occur via a standard wake-up pattern or via a
                       selective wake-up frame (selective wake-up is enabled when CPNC = PNCOK = 1,
                       otherwise standard wake-up is enabled; see Table 15).
                       Pin RXD is forced LOW when any enabled wake-up event is detected. This event can be
                       either a regular wake-up (via the CAN-bus or pin WAKE) or a diagnostic wake-up such as
                       an overtemperature event (see Section 7.10).
UJA1169                                   All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                       Rev. 1 — 4 February 2016                                                                             7 of 74


NXP Semiconductors                                                                                                                                    UJA1169
                                                                        Mini high-speed CAN SBC with optional partial networking
                                                                                                               1250$/
                                                                                                                                                        0& 6OHHS
                                                  0& 1RUPDO                                                                                      QRZDNHXSSHQGLQJ
                                                                                                                                                     ZDNHXSHQDEOHG
                                                                                                                                                           6/3& 
                                                                                    0& 6WDQGE\
                                              67$1'%<                                                                                                       6/((3
                                                                                                     0& 6OHHS
                IURP1RUPDORU6WDQGE\                                                        QRZDNHXSSHQGLQJ
                                                                                                ZDNHXSHQDEOHG
                                                                                                        6/3& 
                         0& 6OHHS
                       ZDNHXSSHQGLQJ25                                      DQ\UHVHWHYHQW
                      ZDNHXSGLVDEOHG25 5671 +,*+
                           6/3&            )10& 
                                                                            9XQGHUYROWDJH
                                                                                                                            ZDNHXSHYHQW
                    QRRYHUWHPSHUDWXUH
                                                5(6(7
                                                                                          5671 +,*+
                                                                                               )10& 
              29(57(03
                                               SRZHURQ                   DQ\UHVHWHYHQW
                                                                                                                            )25&('
                                                                                                                            1250$/
                                                                           9%$7 XQGHUYROWDJH
     RYHUWHPSHUDWXUHHYHQW                       2))
                                                                                    IURPDQ\PRGH
       IURPDQ\PRGHH[FHSW2II 6OHHS
                                                                                        073SURJUDPPLQJFRPSOHWHGRU
                                                                                          073IDFWRU\SUHVHWVUHVWRUHG                                                DDD
  Fig 3.      UJA1169 system controller state diagram
                   7.1.1.3      Sleep mode
                                Sleep mode is the second-level power-saving mode of the UJA1169. The difference
                                between Sleep and Standby modes is that V1 is off in Sleep mode and temperature
                                protection is inactive.
UJA1169                                          All information provided in this document is subject to legal disclaimers.              © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                              Rev. 1 — 4 February 2016                                                                                          8 of 74


NXP Semiconductors                                                                                                              UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                       Any enabled regular wake-up via CAN or WAKE or any diagnostic wake-up event will
                       cause the UJA1169 to wake up from Sleep mode. The behavior of V2/VEXT is determined
                       by the SPI settings. The SPI and the watchdog are disabled. Autonomous bus biasing is
                       active.
                       Sleep mode can be permanently disabled in applications where, for safety reasons, the
                       supply voltage to the host controller must never be cut off. Sleep mode is permanently
                       disabled by setting the Sleep control bit (SLPC) in the SBC configuration register (see
                       Table 9) to 1. This register is located in the non-volatile memory area of the device (see
                       Section 7.11). When SLPC = 1, a Sleep mode SPI command (MC = 001) triggers an SPI
                       failure event instead of a transition to Sleep mode.
               7.1.1.4 Reset mode
                       Reset mode is the reset execution state of the SBC. This mode ensures that pin RSTN is
                       pulled down for a defined time to allow the microcontroller to start up in a controlled
                       manner.
                       The transceiver is unable to transmit or receive data in Reset mode. The behavior of
                       V2/VEXT is determined by the settings of bits V2C/VEXTC and V2SUC/VEXTSUC (see
                       Section 7.5.3). The SPI is inactive; the watchdog is disabled; V1 and overtemperature
                       detection are active.
                       After the UJA1169 exits Reset mode (positive edge on RSTN), an SPI read/write access
                       must not be attempted for at least tto(SPI). Any earlier access may be ignored (without
                       generating an SPI failure event).
               7.1.1.5 Off mode
                       The UJA1169 switches to Off mode when the battery is first connected or from any mode
                       when VBAT < Vth(det)poff. Only power-on detection is enabled; all other modules are
                       inactive. The UJA1169 starts to boot up when the battery voltage rises above the
                       power-on detection threshold Vth(det)pon (triggering an initialization process) and switches
                       to Reset mode after tstartup. In Off mode, the CAN pins disengage from the bus
                       (high-ohmic with respect to GND).
               7.1.1.6 Overtemp mode
                       Overtemp mode is provided to prevent the UJA1169 being damaged by excessive
                       temperatures. The UJA1169 switches immediately to Overtemp mode from any mode
                       (other than Off mode or Sleep mode) when the global chip temperature rises above the
                       overtemperature protection activation threshold, Tth(act)otp.
                       To help prevent the loss of data due to overheating, the UJA1169 issues a warning when
                       the IC temperature rises above the overtemperature warning threshold (Tth(warn)otp). When
                       this threshold is reached, status bit OTWS (see Table 6) is set and an overtemperature
                       warning event is captured (OTW = 1; see Table 26), if enabled (OTWE = 1; see Table 30).
                       In Overtemp mode, the CAN transmitter and receiver are disabled and the CAN pins are
                       in a high-ohmic state. No wake-up event will be detected, but a pending wake-up will still
                       be signaled by a LOW level on pin RXD, which will persist after the overtemperature event
                       has been cleared. V1 is off and pin RSTN is driven LOW. In the UJA1169TK/X and
                       UJA1169TK/X/F, VEXT is off. In the UJA1169TK, UJA1169TK/3, UJA1169TK/F and
                       UJA1169TK/F/3, V2 is turned off when the SBC enters Overtemp mode.
UJA1169                                 All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                             9 of 74


NXP Semiconductors                                                                                                                                 UJA1169
                                                                         Mini high-speed CAN SBC with optional partial networking
                  7.1.1.7    Forced Normal mode
                             Forced Normal mode simplifies SBC testing and is useful for initial prototyping as well as
                             first flashing of the microcontroller. The watchdog is disabled in Forced Normal mode. The
                             low-drop voltage regulator (V1) is active, VEXT/V2 is enabled and the CAN transceiver is
                             active.
                             Bit FNMC is factory preset to 1, so the UJA1169 initially boots up in Forced Normal mode
                             (see Table 9). This feature allows a newly installed device to be run in Normal mode
                             without a watchdog. So the microcontroller can, optionally, be flashed via the CAN-bus
                             without having to consider the integrated watchdog.
                             The register containing bit FNMC (address 74h) is stored in non-volatile memory. So once
                             bit FNMC is programmed to 0, the SBC will no longer boot up in Forced Normal mode,
                             allowing the watchdog to be enabled.
                             Even in Forced Normal mode, a reset event (e.g. an external reset or a V1 undervoltage)
                             will trigger a transition to Reset mode with normal Reset mode behavior (except that the
                             CAN transmitter remains active if there is no VCAN undervoltage). When the UJA1169
                             exits Reset mode, however, it returns to Forced Normal mode instead of switching to
                             Standby mode.
                             In Forced Normal mode, only the Main status register, the Watchdog status register, the
                             Identification register and registers stored in non-volatile memory can be read. The
                             non-volatile memory area is fully accessible for writing as long as the UJA1169 is in the
                             factory preset state (for details see Section 7.11).
                  7.1.1.8    Hardware characterization for the UJA1169 operating modes
Table 4.       Hardware characterization by functional block
 Block           Operating mode
                 Off        Forced Normal Standby                               Normal                                    Sleep           Reset                 Overtemp
 V1              off[1]     on                   on                             on                                        off             on                    off
 VEXT/V2         off        on                   [2]                            [2]                                       [2]             [2]                   VEXT/V2 off
 RSTN            LOW        HIGH                 HIGH                           HIGH                                      LOW             LOW                   LOW
 SPI             disabled   active[3]            active                         active                                    disabled        disabled              disabled
 Watchdog        off        off                  determined by determined by bits                                         determined by off                     off
                                                 bits WMC (see WMC                                                        bits WMC[4]
                                                 Table 8)[4]
 CAN             off        Active               Offline                        Active/ Offline/                          Offline         Offline               off
                                                                                Listen-only
                                                                                (determined by bits
                                                                                CMC; see Table 15)
 RXD             V1 level CAN bit stream         V1 level/LOW                   CAN bit stream if                         V1 level/LOW    V1                    V1
                                                 if wake-up                     CMC = 01/10/11;                           if wake-up      level/LOW             level/LOW if
                                                 detected                       otherwise same as                         detected        if wake-up            wake-up
                                                                                Standby/Sleep                                             detected              detected
[1]   When the SBC switches from Reset, Standby or Normal mode to Off mode in the 5 V variants, V1 behaves as a current source during
      power down while VBAT is falling from Vth(det)pof down to 2 V (RAM retention feature; see Section 7.5.1).
[2]   Determined by bits V2C/VEXTC and V2SUC/VEXTSUC (see Table 12)
[3]   Limited register access: Main status register, Watchdog status register, Identification register and non-volatile memory only.
[4]   Window mode is only active in Normal mode.
UJA1169                                           All information provided in this document is subject to legal disclaimers.          © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                               Rev. 1 — 4 February 2016                                                                                    10 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
                7.1.2 System control registers
               7.1.2.1 Mode control register (0x01)
                       The operating mode is selected via bits MC in the Mode control register. The Mode control
                       register is accessed via SPI address 0x01 (see Section 7.15).
                       Table 5.    Mode control register (address 01h)
                        Bit   Symbol            Access Value                                  Description
                        7:3   reserved          R                -
                        2:0   MC                R/W                                           mode control:
                                                                 001                              Sleep mode
                                                                 100                              Standby mode
                                                                 111                              Normal mode
               7.1.2.2 Main status register (0x03)
                       The Main status register can be accessed to monitor the status of the overtemperature
                       warning flag and to determine whether the UJA1169 has entered Normal mode after initial
                       power-up. It also indicates the source of the most recent reset event.
                       Table 6.    Main status register (address 03h)
                        Bit   Symbol         Access Value                     Description
                        7     reserved       R                -
                        6     OTWS           R                                overtemperature warning status:
                                                              0                    IC temperature below overtemperature warning threshold
                                                              1                    IC temperature above overtemperature warning threshold
                        5     NMS            R                                Normal mode status:
                                                              0                    UJA1169 has entered Normal mode (after power-up)
                                                              1                    UJA1169 has powered up but has not yet switched to
                                                                                   Normal mode
                        4:0   RSS            R                                reset source status:
                                                              00000                left Off mode (power-on)
                                                              00001                CAN wake-up in Sleep mode
                                                              00100                wake-up via WAKE pin in Sleep mode
                                                              01100                watchdog overflow in Sleep mode (Timeout mode)
                                                              01101                diagnostic wake-up in Sleep mode
                                                              01110                watchdog triggered too early (Window mode)
                                                              01111                watchdog overflow (Window mode or Timeout mode with
                                                                                   WDF = 1)
                                                              10000                illegal watchdog mode control access
                                                              10001                RSTN pulled down externally
                                                              10010                left Overtemp mode
                                                              10011                V1 undervoltage
                                                              10100                illegal Sleep mode command received
                                                              10110                wake-up from Sleep mode due to a frame detect error
UJA1169                                All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                           11 of 74


NXP Semiconductors                                                                                                                               UJA1169
                                                                     Mini high-speed CAN SBC with optional partial networking
                          7.2 Watchdog
                        7.2.1 Watchdog overview
                                The UJA1169 contains a watchdog that supports three operating modes: Window,
                                Timeout and Autonomous. In Window mode (available only in SBC Normal mode), a
                                watchdog trigger event within a defined watchdog window triggers and resets the
                                watchdog timer. In Timeout mode, the watchdog runs continuously and can be triggered
                                and reset at any time within the watchdog period by a watchdog trigger. Watchdog
                                time-out mode can also be used for cyclic wake-up of the microcontroller. In Autonomous
                                mode, the watchdog can be off or autonomously in Timeout mode, depending on the
                                selected SBC mode (see Section 7.2.5).
                                The watchdog mode is selected via bits WMC in the Watchdog control register (Table 8).
                                The SBC must be in Standby mode when the watchdog mode is changed. If Window
                                mode is selected (WMC = 100), the watchdog remains in (or switches to) Timeout mode
                                until the SBC enters Normal mode. Any attempt to change the watchdog operating mode
                                (via WMC) while the SBC is in Normal mode causes the UJA1169 to switch to Reset
                                mode and the reset source status bits (RSS) to be set to 10000 (‘illegal watchdog mode
                                control access’; see Table 6).
                                Eight watchdog periods are supported, from 8 ms to 4096 ms. The watchdog period is
                                programmed via bits NWP. The selected period is valid for both Window and Timeout
                                modes. The default watchdog period is 128 ms.
                                A watchdog trigger event resets the watchdog timer. A watchdog trigger event is any valid
                                write access to the Watchdog control register. If the watchdog mode or the watchdog
                                period have changed as a result of the write access, the new values are immediately
                                valid.
Table 7.            Watchdog configuration
Operating/watchdog mode
FNMC (Forced Normal mode control)                      0                              0                            0                    0                                1
SDMC (Software Development mode control) x                                            x                            0                    1                                x
WMC (watchdog mode control)                            100 (Window)                   010                          001                  001                              n.a.
                                                                                      (Timeout)                    (Autonomous)         (Autonomous)
                 Normal mode                           Window                         Timeout                      Timeout              off                              off
 SBC Operating   Standby mode (RXD HIGH)[1]            Timeout                        Timeout                      off                  off                              off
                 Standby mode (RXD   LOW)[1]           Timeout                        Timeout                      Timeout              off                              off
    Mode
                 Sleep mode                            Timeout                        Timeout                      off                  off                              off
                 Other modes                           off                            off                          off                  off                              off
[1]      RXD LOW signals a pending wake-up.
UJA1169                                        All information provided in this document is subject to legal disclaimers.         © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                           Rev. 1 — 4 February 2016                                                                                    12 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                                  Mini high-speed CAN SBC with optional partial networking
               7.2.1.1 Watchdog control register (0x00)
                       Table 8.      Watchdog control register (address 00h)
                        Bit    Symbol               Access Value                                  Description
                        7:5    WMC                  R/W                                           watchdog mode control:
                                                                     001[1]                           Autonomous mode
                                                                     010[2]                           Timeout mode
                                                                     100[3]                           Window mode
                        4      reserved             R                -
                        3:0    NWP                  R/W                                           nominal watchdog period:
                                                                     1000                             8 ms
                                                                     0001                             16 ms
                                                                     0010                             32 ms
                                                                     1011                             64 ms
                                                                     0100[2]                          128 ms
                                                                     1101                             256 ms
                                                                     1110                             1024 ms
                                                                     0111                             4096 ms
                       [1]  Default value if SDMC = 1 (see Section 7.2.2)
                       [2]  Default value.
                       [3]  Selected in Standby mode but only activated when the SBC switches to Normal mode.
                       The watchdog is a valuable safety mechanism, so it is critical that it is configured correctly.
                       Two features are provided to prevent watchdog parameters being changed by mistake:
                         • redundant coding of configuration bits WMC and NWP
                         • reconfiguration protection in Normal mode
                       Redundant codes associated with control bits WMC and NWP ensure that a single bit
                       error cannot cause the watchdog to be configured incorrectly (at least 2 bits must be
                       changed to reconfigure WMC or NWP). If an attempt is made to write an invalid code to
                       WMC or NWP (e.g. 011 or 1001 respectively), the SPI operation is abandoned and an SPI
                       failure event is captured, if enabled (see Section 7.10).
               7.2.1.2 SBC configuration control register (0x74)
                       Two operating modes have a major impact on the operation of the watchdog: Forced
                       Normal mode and Software Development mode (Software Development mode is provided
                       for test and development purposes only and is not a dedicated SBC operating mode; the
                       UJA1169 can be in any functional operating mode with Software Development mode
                       enabled; see Section 7.2.2). These modes are enabled and disabled via bits FNMC and
                       SDMC respectively in the SBC configuration control register (see Table 9). Note that this
                       register is located in the non-volatile memory area. The watchdog is disabled in Forced
                       Normal mode (FNM). In Software Development mode (SDM), the watchdog can be
                       disabled or activated for test and software debugging purposes.
UJA1169                                    All information provided in this document is subject to legal disclaimers.  © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                        Rev. 1 — 4 February 2016                                                                            13 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
                       Table 9.      SBC configuration control register (address 74h)
                        Bit   Symbol            Access Value                        Description
                        7:6   reserved          R                 -
                        5:4   V1RTSUC           R/W               [1]               V1 undervoltage threshold (defined by bit V1RTC) at
                                                                                    start-up:
                                                                  00[2]                  V1 undervoltage detection at 90 % of nominal value at
                                                                                         start-up (V1RTC = 00)
                                                                  01                     V1 undervoltage detection at 80 % of nominal value at
                                                                                         start-up (V1RTC = 01)
                                                                  10                     V1 undervoltage detection at 70 % of nominal value at
                                                                                         start-up (V1RTC = 10)
                                                                  11                     V1 undervoltage detection at 60 % of nominal value at
                                                                                         start-up (V1RTC = 11)
                        3     FNMC              R/W               [3]               Forced Normal mode control:
                                                                  0                      Forced Normal mode disabled
                                                                  1[2]                   Forced Normal mode enabled
                        2     SDMC              R/W                                 Software Development mode control:
                                                                  0[2]                   Software Development mode disabled
                                                                  1                      Software Development mode enabled
                        1     reserved          R                 -
                        0     SLPC              R/W                                 Sleep control:
                                                                  0[2]                   Sleep mode commands accepted
                                                                  1                      Sleep mode commands ignored
                       [1]  The V1 undervoltage threshold is fixed at 90 % in the UJA1169TK/3 and UJA1169TK/F/3, regardless of the
                            setting of bit V1RTSUC.
                       [2]  Factory preset value.
                       [3]  FNMC settings overrule SDMC.
               7.2.1.3 Watchdog status register (0x05)
                       Information on the status of the watchdog is available from the Watchdog status register
                       (Table 10). This register also indicates whether Forced Normal and Software
                       Development modes are active.
                       Table 10.     Watchdog status register (address 05h)
                        Bit     Symbol            Access Value                     Description
                        7:4     reserved          R                 -
                        3       FNMS              R/W                              Forced Normal mode status:
                                                                    0                   SBC is not in Forced Normal mode
                                                                    1                   SBC is in Forced Normal mode
                        2       SDMS              R/W                              Software Development mode status:
                                                                    0                   SBC is not in Software Development mode
                                                                    1                   SBC is in Software Development mode
UJA1169                                     All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                           14 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
                      Table 10.   Watchdog status register (address 05h) …continued
                       Bit   Symbol          Access Value                     Description
                       1:0   WDS             R                                watchdog status:
                                                              00                   watchdog is off
                                                              01                   watchdog is in first half of the nominal period
                                                              10                   watchdog is in second half of the nominal period
                                                              11                   reserved
                7.2.2 Software Development mode
                      Software Development mode is provided to simplify the software design process. When
                      Software Development mode is enabled, the watchdog starts up in Autonomous mode
                      (WMC = 001) and is inactive after a system reset, overriding the default value (see
                      Table 8). The watchdog is always off in Autonomous mode if Software Development mode
                      is enabled (SDMC = 1; see Table 7).
                      However, it is possible to activate and deactivate the watchdog for test purposes by
                      selecting Window or Timeout mode via bits WMC while the SBC is in Standby mode.
                7.2.3 Watchdog behavior in Window mode
                      In Window mode, the watchdog can only be triggered during the second half of the
                      watchdog period. If the watchdog overflows, or is triggered in the first half of the watchdog
                      period (before ttrig(wd)1), a system reset is performed. After the system reset, the reset
                      source (either ‘watchdog triggered too early’ or ‘watchdog overflow’) can be read via the
                      reset source status bits (RSS) in the Main Status register (Table 6). If the watchdog is
                      triggered in the second half of the watchdog period (after ttrig(wd)1 but before ttrig(wd)2), the
                      watchdog timer is restarted.
                7.2.4 Watchdog behavior in Timeout mode
                      In Timeout mode, the watchdog timer can be reset at any time by a watchdog trigger. If the
                      watchdog overflows, a watchdog failure event (WDF) is captured. If a WDF is already
                      pending when the watchdog overflows, a system reset is performed. In Timeout mode, the
                      watchdog can be used as a cyclic wake-up source for the microcontroller when the
                      UJA1169 is in Standby or Sleep mode. In Sleep mode, a watchdog overflow generates a
                      wake-up event while setting WDF.
                      When the SBC is in Sleep mode with watchdog Timeout mode selected, a wake-up event
                      is generated after the nominal watchdog period (NWP), setting WDF. RXD is forced LOW
                      and V1 is turned on. The application software can then clear the WDF bit and trigger the
                      watchdog before it overflows again.
                7.2.5 Watchdog behavior in Autonomous mode
                      In Autonomous mode, the watchdog will not be running when the SBC is in Standby (RXD
                      HIGH) or Sleep mode. If a wake-up event is captured, pin RXD is forced LOW to signal
                      the event and the watchdog is automatically restarted in Timeout mode. If the SBC was in
                      Sleep mode when the wake-up event was captured, it switches to Standby mode.
UJA1169                                All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                           15 of 74


NXP Semiconductors                                                                                                               UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
                7.2.6 Exceptional behavior of the watchdog after writing to the Watchdog register
                       A successful write operation to the Watchdog control register resets the watchdog timer.
                       Bits WDS are set to 01 and the watchdog restarts at the beginning of the watchdog period
                       (regardless of the selected watchdog mode). However, the watchdog may restart
                       unexpectedly in the second half of the watchdog period or a WDF interrupt may be
                       captured under the following conditions.
                       Case A: When the watchdog is running in Timeout mode (see Table 7) and a new
                       watchdog period is selected (via bits NWP) that is shorter than the existing watchdog
                       period, one of both of the following events may occur.
                         Status bits WDS can be set to 10. The timer then restarts at the beginning of the second
                         half of the watchdog period, causing the watchdog to overflow earlier than expected.
                         This can be avoided by writing the new NWP (or NWP + WMC) code twice whenever
                         the watchdog period needs to be changed. The write commands should be sent
                         consecutively. The gap between the commands must be less than half of the new
                         watchdog period.
                         If the watchdog is in the second half of the watchdog period when the watchdog period
                         is changed, the timer will be reset correctly. The watchdog then restarts at the beginning
                         of the watchdog period and WDS is set 01. However, a WDF event may be captured
                         unexpectedly. To counteract this effect, the WDF event should be cleared by default
                         after the new watchdog period has been selected as described above (two consecutive
                         write commands).
                       Case B: If the watchdog is triggered in Timeout mode (see Table 7) at exactly the same
                       time that WDS is set to 10, it will start up again in the second half of the watchdog period.
                       As in Case A, this causes the watchdog to overflow earlier than expected. This behavior
                       appears identical to an ignored watchdog trigger event and can be avoided by issuing two
                       consecutive watchdog commands. The second command should be issued before the
                       end of the first half of the watchdog period. Use this trigger scheme if it is possible that the
                       watchdog could be triggered exactly in the middle of the watchdog window.
                   7.3 System reset
                       When a system reset occurs, the SBC switches to Reset mode and initiates process that
                       generates a low-level pulse on pin RSTN. The UJA1169 can distinguish up to 13 different
                       reset sources, as detailed in Table 6.
                7.3.1 Characteristics of pin RSTN
                       Pin RSTN is a bidirectional open-drain low side driver with integrated pull-up resistance,
                       as shown in Figure 4. With this configuration, the SBC can detect the pin being pulled
                       down externally, e.g. by the microcontroller. The input reset pulse width must be at least
                       tw(rst) to guarantee that external reset events are detected correctly.
UJA1169                                  All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                           16 of 74


NXP Semiconductors                                                                                                                          UJA1169
                                                                 Mini high-speed CAN SBC with optional partial networking
                                                                                                   9
                                                                                                                        5671
                                                                                                                     DDD
                         Fig 4.   RSTN internal pin configuration
                7.3.2 Selecting the output reset pulse width
                       The duration of the output reset pulse is selected via bits RLC in the Start-up control
                       register (Table 11). The SBC distinguishes between a cold start and a warm start. A cold
                       start is performed if the reset event was combined with a V1 undervoltage event
                       (power-on reset, reset during Sleep mode, over-temperature reset, V1 undervoltage
                       before entering or while in Reset mode). The setting of bits RLC determines the output
                       reset pulse width for a cold start.
                       A warm start is performed if any other reset event occurs without a V1 undervoltage
                       (external reset, watchdog failure, watchdog change attempt in Normal mode, illegal Sleep
                       mode command). The SBC uses the shortest reset length (tw(rst) as defined when
                       RLC = 11).
               7.3.2.1 Start-up control register (0x73)
                       Table 11.    Start-up control register (address 73h)
                        Bit   Symbol              Access               Value               Description
                        7:6   reserved            R                    -
                        5:4   RLC                 R/W                                      RSTN output reset pulse width:
                                                                       00[1]                    tw(rst) = 20 ms to 25 ms
                                                                       01                       tw(rst) = 10 ms to 12.5 ms
                                                                       10                       tw(rst) = 3.6 ms to 5 ms
                                                                       11                       tw(rst) = 1 ms to 1.5 ms
                        3     V2SUC[2]            R/W                                      V2/VEXT start-up control:
                              VEXTSUC[3]                               0[1]                     bits V2C/VEXTC set to 00 at power-up
                                                                       1                        bits V2C/VEXTC set to 11 at power-up
                        2:0   reserved            R                    -
                       [1]  Factory preset value.
                       [2]  UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
                       [3]  UJA1169TK/X and UJA1169TK/X/F only.
                   7.4 Global temperature protection
                       The temperature of the UJA1169 is monitored continuously, except in Sleep and Off
                       modes. The SBC switches to Overtemp mode if the temperature exceeds the
                       overtemperature protection activation threshold, Tth(act)otp. In addition, pin RSTN is driven
UJA1169                                   All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                       Rev. 1 — 4 February 2016                                                                                     17 of 74


NXP Semiconductors                                                                                                                     UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
                       LOW and V1, V2/VEXT and the CAN transceiver are switched off (if the optional external
                       PNP transistor is connected, it will also be; see Section 7.5.2). When the temperature
                       drops below the overtemperature protection release threshold, Tth(rel)otp, the SBC
                       switches to Standby mode via Reset mode.
                       In addition, the UJA1169 provides an overtemperature warning. When the IC temperature
                       rises about the overtemperature warning threshold (Tth(warn)otp), status bit OTWS is set
                       and an overtemperature warning event is captured (OTW = 1).
                   7.5 Power supplies
                7.5.1 Battery supply voltage (VBAT)
                       The internal circuitry is supplied from the battery via pin BAT. The device must be
                       protected against negative supply voltages, e.g. by using an external series diode. If VBAT
                       falls below the power-off detection threshold, Vth(det)poff, the SBC switches to Off mode.
                       However, in the 5 V variants, the microcontroller supply voltage (V1) remains active until
                       VBAT falls below 2 V, ensuring memory in the connected microcontroller remains active for
                       as long as possible (RAM retention feature; not available in the 3.3 V variants).
                       The SBC switches from Off mode to Reset mode tstartup after the battery voltage rises
                       above the power-on detection threshold, Vth(det)pon. Power-on event status bit PO is set to
                       1 to indicate the UJA1169 has powered up and left Off mode (see Table 26).
                7.5.2 Voltage regulator V1
                       The UJA1169 provides a 5 V or 3.3 V supply (V1), depending on the variant. V1 can
                       deliver up to 250 mA load current. In the UJA1169TK/X and UJA1169TK/X/F variants, the
                       CAN transceiver is supplied internally via V1, reducing the output current available for
                       external components.
                                                                                                               RSHQ
                                                                                                         9(;&75/
                                                                                                                    9(;&&
                                        EDWWHU\
                                                                                                           8-$
                                                                                                                          ,9        ,/
                                                                                               %$7                     9
                                                                     )         Q)                                           )
                                                                                                                                 DDD
                         Fig 5.  Typical application without external PNP (showing example component values)
                       To prevent the device overheating at high ambient temperatures or high average currents,
                       an external PNP transistor can be connected as illustrated in Figure 6. In this
                       configuration, the power dissipation is distributed between the SBC (IV1) and the PNP
                       transistor (IPNP).
                       The PNP transistor is activated when the load current reaches the PNP activation
                       threshold, Ith(act)PNP. Bit PDC in the Regulator control register (Table 12) is used to
                       regulate how power dissipation is distributed.
UJA1169                                  All information provided in this document is subject to legal disclaimers.       © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                 18 of 74


NXP Semiconductors                                                                                                                          UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
                                                                    FORVHWR313
                                                                                                                  3+373<
                                                                                                                              ,313
                                                                                      Q)
                                                                                                           9(;&75/
                                                                                                                       9(;&&
                                        EDWWHU\
                                                                                                                                        ȍ
                                                                                                           8-$
                                                                                                                               ,9        ,/
                                                                                               %$7                         9
                                                                   )         Q)                                                  )
                                                                                                                                      DDD
                        Fig 6.   Typical application with external PNP (showing example component values)
                      For short-circuit protection, a resistor must be connected between pins V1 and VEXCC to
                      allow the current to be monitored. This resistor limits the current delivered by the external
                      transistor. If the voltage difference between pins VEXCC and V1 reaches Vth(act)Ilim, the
                      PNP current limiting activation threshold voltage, the transistor current will not increase
                      further. In general, any PNP transistor with a current amplification factor () of between 50
                      and 500 can be used.
                      The output voltage on V1 is monitored. A system reset is generated if the voltage on V1
                      drops below the selected undervoltage threshold (60 %, 70 %, 80 % or 90 % of the
                      nominal V1 output voltage for the 5 V variants, selected via V1RTC in the Regulator
                      control register; fixed at 90 % for the 3.3 V variants; see Table 12).
                      The default value of the undervoltage threshold at power-up is determined by the value of
                      bits V1RTSUC in the SBC configuration control register (Table 9). The SBC configuration
                      control register is in non-volatile memory, allowing the user to define the default
                      undervoltage threshold (V1RTC) at any battery start-up.
                      In addition, an undervoltage warning (a V1U event; see Section 7.10) is generated if the
                      voltage on V1 falls below 90 % of the nominal value (and V1U event detection is enabled,
                      V1UE = 1; see Table 31). This information can be used as a warning, when the 60 %,
                      70 % or 80 % threshold is selected in the 5 V variants, to indicate that the level on V1 is
                      outside the nominal supply range. The status of V1, whether it is above or below the 90 %
                      undervoltage threshold, can be polled via bit V1S in the Supply voltage status register
                      (Table 13).
                7.5.3 Voltage regulator V2
                      In the UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3, pin 13 is a voltage
                      regulator output (V2) delivering up to 100 mA.
                      The CAN transceiver is supplied internally from V2, consuming a portion of the available
                      current. V2 is not protected against shorts to the battery or to negative voltages and
                      should not be used to supply off-board components.
                      V2 is software controlled and must be turned on (via bit V2C in the Regulator control
                      register; see Table 12) to activate the supply voltage for the internal CAN transceiver. V2
                      is not required for wake-up detection via the CAN interface.
UJA1169                                  All information provided in this document is subject to legal disclaimers.            © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                      19 of 74


NXP Semiconductors                                                                                                                        UJA1169
                                                                         Mini high-speed CAN SBC with optional partial networking
                              The default value of V2C at power-on is defined by bits V2SUC in non-volatile memory
                              (see Section 7.11). The actual status of V2 can be polled from the Supply voltage status
                              register (Table 13).
                    7.5.4 Voltage regulator VEXT
                              In the UJA1169TK/X and UJA1169TK/X/F, pin 13 is a voltage regulator output (VEXT) that
                              can be used to supply off-board components, delivering up to 100 mA. VEXT is protected
                              against short-circuits to the battery and negative voltages. Since the CAN controller is
                              supplied internally via V1, the full 100 mA supply current is available for off-board loads
                              connected to VEXT (provided the thermal limits of the PCB are not exceeded).
                              VEXT is software controlled and must be turned on (via bit VEXTC in the Regulator
                              control register; see Table 12) to activate the supply voltage for off-board components.
                              The default value of VEXTC at power-on is defined by bits VEXTSUC in non-volatile
                              memory (see Section 7.11). The status of VEXT can be read from the Supply voltage
                              status register (Table 13).
                    7.5.5 Regulator control register (0x10)
Table 12.      Regulator control register (address 10h)
 Bit         Symbol          Access         Value       Description
 7           reserved        R              -
 6           PDC             R/W                        power distribution control:
                                            0               V1 threshold current for activating the external PNP transistor, load current
                                                            rising; Ith(act)PNP (higher value; see Table 52)
                                                            V1 threshold current for deactivating the external PNP transistor, load
                                                            current falling; Ith(deact)PNP (higher value; see Table 52)
                                            1               V1 threshold current for activating the external PNP transistor; load current
                                                            rising; Ith(act)PNP (lower value; see Table 52)
                                                            V1 threshold current for deactivating the external PNP transistor; load
                                                            current falling; Ith(deact)PNP (lower value; see Table 52)
 5:4         reserved        R              -           reserved bits can be read and overwritten without affecting device functionality;
                                                        default value at power-up is 00 (other reserved bits always return 0)
 3:2         V2C[1]          R/W                        V2/VEXT configuration:
             VEXTC[2]                       00              V2/VEXT off in all modes
                                            01              V2/VEXT on in Normal mode
                                            10              V2/VEXT on in Normal, Standby and Reset modes
                                            11              V2/VEXT on in Normal, Standby, Sleep and Reset modes
 1:0         V1RTC[3]        R/W                        set V1 reset threshold:
                                            00              reset threshold set to 90 % of V1 nominal output voltage
                                            01              reset threshold set to 80 % of V1 nominal output voltage
                                            10              reset threshold set to 70 % of V1 nominal output voltage
                                            11              reset threshold set to 60 % of V1 nominal output voltage
[1]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3: default value at power-up defined by V2SUC bit setting (see Table 11).
[2]   UJA1169TK/X and UJA1169TK/X/F: default value at power-up defined by VEXTSUC bit setting (see Table 11).
[3]   5 V variants only; default value at power-up defined by setting of bits V1RTSUC (see Table 9). The threshold is fixed at 90 % in the 3.3 V
      variants and V1RTC always reads 00 (regardless of the value written to V1RTC or the start-up threshold defined by V1RTSUC).
UJA1169                                           All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                               Rev. 1 — 4 February 2016                                                                           20 of 74


NXP Semiconductors                                                                                                                     UJA1169
                                                                      Mini high-speed CAN SBC with optional partial networking
                   7.5.6 Supply voltage status register (0x1B)
Table 13.      Supply voltage status register (address 1Bh)
 Bit       Symbol          Access        Value         Description
 7:3       reserved        R             -
 2:1       V2S[1]          R/W                         V2/VEXT status:
           VEXTS[2]                      00[3]             V2/VEXT voltage ok
                                         01                V2/VEXT output voltage below undervoltage threshold
                                         10                V2/VEXT output voltage above overvoltage threshold
                                         11                V2/VEXT disabled
 0         V1S             R/W                         V1 status:
                                         0[3]              V1 output voltage above 90 % undervoltage threshold
                                         1                 V1 output voltage below 90 % undervoltage threshold
[1]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
[2]   UJA1169TK/X and UJA1169TK/X/F only.
[3]   Default value at power-up.
                      7.6 LIMP output
                             The dedicated LIMP pin can be used to enable so called ‘limp home’ hardware in the
                             event of a serious ECU failure. Detectable failure conditions include SBC overtemperature
                             events, loss of watchdog service, short-circuits on pins RSTN or V1 and user-initiated or
                             external reset events (see Figure 7). The LIMP pin is a battery-robust, active-LOW,
                             open-drain output. The LIMP pin can also be forced LOW by setting bit LHC in the
                             Fail-safe control register (Table 14).
                   7.6.1 Reset counter
                             The UJA1169 uses a reset counter to detect serious failures. The reset counter is
                             incremented (bits RCC = RCC + 1; see Table 14) every time the SBC enters Reset mode.
                             When the system is running correctly, it is expected that the system software will reset this
                             counter (RCC = 00) periodically to ensure that routinely expected reset events do not
                             cause it to overflow.
                             If RCC is equal to 3 when the SBC enters Reset mode, the SBC assumes that a serious
                             failure has occurred and sets the limp-home control bit, LHC. This action forces the
                             external LIMP pin LOW with RCC overflowing to RCC = 0. Bit LHC can also be set via the
                             SPI interface.
                             The LIMP pin is set floating again if LHC is reset to 0 through software control or at
                             power-up when the SBC leaves Off mode.
                             The application software can preset the counter value to define how many reset events
                             are tolerated before the limp-home function is activated. If RCC is initialized to 3, for
                             example, the next reset event will immediately trigger the limp-home function. The default
                             counter setting at power-up is RCC = 00.
                             Besides a reset counter (RCC) overflow, the following events cause bit LHC to be set and
                             immediately trigger the limp-home function:
                               • overtemperature lasting longer than td(limp)
UJA1169                                        All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                            Rev. 1 — 4 February 2016                                                                           21 of 74


NXP Semiconductors                                                                                                                           UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                       • SBC remaining in Reset mode for longer than td(limp) (e.g. because of a clamped
                          RSTN pin or a permanent V1 undervoltage).
                7.6.2 LIMP state diagram
                                                                                                                   2.
                                                                                                               /+& 
                                                       6%&PRGH 5HVHWRU2YHUWHPS                                              6HW/+&E\63,DFFHVV
                                                          DQG5&&DQG)10&                                                    DQG)10& 
                                                               ĺ5&&
                                                                              6%&PRGH5HVHWDQG
                                                                                                                      &OHDU/+&E\63,DFFHVV
                                                                              6%&PRGH2YHUWHPS
                                                                                             6%&PRGH 5HVHWRU2YHUWHPS                                   /,03
                                                       5HV27                                   DQG5&& DQG)10&                                      2.
                                                       /+&                                                 ĺ5&&                                      /+& 
                                                                                                                       6%&PRGH 5HVHWRU
                                 3RZHURQ                                                                            2YHUWHPS DQG)10& 
                                                                                                                     ĺ5&&
                             ĺ5&& GHIDXOW
                                                       W!WG OLPS DQG)10& 
                                                                                                                                   6%&PRGH5HVHWDQG
                                                                                                                                   6%&PRGH2YHUWHPS
                                                                                                                 /,03
                              2))                                                                              5HV27
                                                                                                               /+& 
                                                                                                                                                           DDD
                                SBC modes are derived from the SBC state diagram (see Figure 3). The reset counter overflows
                                from 3 to 0; t is the time the SBC remains continuously in Reset or Overtemp mode; time t is reset
                                at mode entry; time t is not reset on a transition between Reset and Overtemp modes
                       Fig 7.   Limp function state diagram
                      Note that the SBC always switches to Reset mode after leaving Sleep mode, since the
                      SBC powers up V1 in response to a wake-up event. So RCC is incremented after each
                      Sleep mode cycle. The application software needs to monitor RCC and update the value
                      as necessary to ensure that multiple Sleep mode cycles do not cause the reset counter to
                      overflow.
                      The limp-home function and the reset counter are disabled in Forced Normal mode. The
                      LIMP pin is floating, RCC remains unchanged and bit LHC = 0.
UJA1169                                 All information provided in this document is subject to legal disclaimers.              © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                                        22 of 74


NXP Semiconductors                                                                                                                          UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
               7.6.2.1 Fail-safe control register (0x02)
                       The Fail-safe control register contains the reset counter along with limp home control
                       settings.
                       Table 14.    Fail-safe control register (address 02h)
                        Bit     Symbol         Access Value                     Description
                        7:3     reserved
                        2       LHC            R/W                              LIMP home control:
                                                                0                    LIMP pin is floating
                                                                1                    LIMP pin is driven LOW
                        1:0     RCC            R/W                              reset counter control:
                                                                xx                   incremented every time the SBC enters Reset mode
                                                                                     while FNMC = 0; RCC overflows from 11 to 00; default at
                                                                                     power-on is 00
                                                                         5(6(7
                                                                          /2*,&                                           /,03
                                                                                         RQ
                                                                                         RII
                                                                           ELW/+&
                                                                                8-$
                                                                                                                    DDD
                         Fig 8.    LIMP pin functional diagram
                   7.7 High-speed CAN transceiver
                       The integrated high-speed CAN transceiver is designed for active communication at bit
                       rates up to 1 Mbit/s, providing differential transmit and receive capability to a CAN protocol
                       controller. The transceiver is ISO 11898-2:201x (upcoming merged ISO 11898-2/5/6
                       standard) compliant. Depending on the derivative, the CAN transmitter is supplied
                       internally from V1 (in /X variants) or V2 (in variants with a V2 regulator). Additional timing
                       parameters defining loop delay symmetry are included to ensure reliable communication
                       in fast phase at data rates up to 2 Mbit/s, as used in CAN FD networks.
                       The CAN transceiver supports autonomous CAN biasing as defined in ISO 11898-6:2013
                       and ISO 11898-2:201x. CANH and CANL are always biased to 2.5 V when the transceiver
                       is in Active or Listen-only modes (CMC = 01/10/11; see Table 15).
                       Autonomous biasing is active in CAN Offline mode, to 2.5 V if there is activity on the bus
                       (CAN Offline Bias mode) and to GND if there is no activity on the bus for t > tto(silence)
                       (CAN Offline mode). The autonomous CAN bias voltage is derived directly from VBAT.
                7.7.1 CAN operating modes
                       The integrated CAN transceiver supports four operating modes: Active, Listen-only,
                       Offline and Offline Bias (see Figure 9). The CAN transceiver operating mode depends on
                       the UJA1169 operating mode and on the setting of bits CMC in the CAN control register
                       (Table 15).
UJA1169                                  All information provided in this document is subject to legal disclaimers.            © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                      23 of 74


NXP Semiconductors                                                                                                              UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                       When the UJA1169 is in Normal mode, the CAN transceiver operating mode (Active,
                       Listen-only or Offline) can be selected via bits CMC in the CAN control register (Table 15).
                       When the UJA1169 is in Standby or Sleep modes, the transceiver is forced to Offline or
                       Offline Bias mode (depending on bus activity).
               7.7.1.1 CAN Active mode
                       In CAN Active mode, the transceiver can transmit and receive data via CANH and CANL.
                       The differential receiver converts the analog data on the bus lines into digital data, which
                       is output on pin RXD. The transmitter converts digital data generated by the CAN
                       controller (input on pin TXD) into analog signals suitable for transmission over the CANH
                       and CANL bus lines.
                       CAN Active mode is selected when CMC = 01 or 10.
                       When CMC = 01, VCAN undervoltage detection is enabled and the transceiver goes to
                       CAN Offline or CAN Offline Bias mode when the voltage at the CAN block drops below the
                       90 % threshold. V1 is monitored for the 90 % threshold in the /X versions; in the V2
                       versions, the 90 % threshold is related to the V2 supply voltage.
                       When CMC = 10, VCAN undervoltage detection is disabled. The transmitter remains active
                       even if the CAN supply falls below the 90 % threshold while V1 is still above the V1 reset
                       threshold (selected via bits V1RTC).
                       If pin TXD is held LOW (e.g. by a short-circuit to GND) when CAN Active mode is selected
                       via bits CMC, the transceiver does not enter CAN Active mode but switches to or remains
                       in CAN Listen-only mode. In order to prevent a hardware and/or software application
                       failure from driving the bus lines to an unwanted dominant state, it remains in Listen-only
                       mode until pin TXD goes HIGH.
                       In CAN Active mode, the CAN bias voltage is the CAN supply voltage divided by two
                       (depending on the derivative, the bias voltage is either V1 divided by two or V2 divided by
                       two).
                       The application can determine whether the CAN transceiver is ready to transmit/receive
                       data (CAN supply above 90 % threshold) or is disabled by reading the CAN Transceiver
                       Status (CTS) bit in the Transceiver Status Register (Table 16).
               7.7.1.2 CAN Listen-only mode
                       CAN Listen-only mode allows the UJA1169 to monitor bus activity while the transceiver is
                       inactive, without influencing bus levels. The CAN transmitter is disabled in Listen-only
                       mode, reducing current consumption. The CAN receiver and CAN biasing remain active.
               7.7.1.3 CAN Offline and Offline Bias modes
                       In CAN Offline mode, the transceiver monitors the CAN-bus for a wake-up event, provided
                       CAN wake-up detection is enabled (CWE = 1; see Table 32). CANH and CANL are biased
                       to GND.
                       CAN Offline Bias mode is the same as CAN Offline mode, with the exception that the
                       CAN-bus is biased to 2.5 V. This mode is activated automatically when activity is detected
                       on the CAN-bus while the transceiver is in CAN Offline mode. If the CAN-bus is silent (no
                       CAN-bus edges) for longer than tto(silence), the transceiver returns to CAN Offline mode.
UJA1169                                 All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                           24 of 74


NXP Semiconductors                                                                                                                                                    UJA1169
                                                                                   Mini high-speed CAN SBC with optional partial networking
                    7.7.1.4      CAN Off mode
                                 In CAN Off mode, bus pins CANH and CANL are set floating with respect to GND, which
                                 prevents reverse currents flowing from the bus to an unsupplied ECU. The differential
                                 input resistance between CANH and CANL remains constant.
                                                                                             &$1$FWLYH
                                                                                              WUDQVPLWWHURQ
                                                >5HVHW256WDQGE\                            5;'ELWVWUHDP
                                                   256OHHS25
                                             1RUPDO &0&  25
                                                                                     &$1+&$1/WHUPLQDWHG
                                           &0&  9&$1 @                       WR9&$1 §9
                                                  W!WWR VLOHQFH 
                                                                                                                                         1RUPDO &0& 
                                                                             >5HVHW256WDQGE\
                                              1RUPDO                           256OHHS25
                                            > &0&                    1RUPDO &0&  25
                                         9&$1! 25               &0&  9&$1 @
                                                                                WWWR VLOHQFH                         1RUPDO 
                                          &0&  @                                                                 > &0& 
                                                                                                                     9&$1! 25
                                                                                                                       &0&  @  
                                                                                         1RUPDO &0&                                                                              1RUPDO
                            &$12IIOLQH%LDV                                                                                                    &$1/LVWHQRQO\                      &0& 
                                                                                                                                                                                    9&$1
                               WUDQVPLWWHURII                                                                                                     WUDQVPLWWHURII
                            5;'ZDNHXSLQW                                                                                                        5;'ELWVWUHDP
                                                                             >5HVHW256WDQGE\256OHHS25
                          &$1+&$1/WHUPLQDWHG                                      1RUPDO &0&  @                                     &$1+&$1/WHUPLQDWHG
                            WR9 IURP9%$7                                           WWWR VLOHQFH                                      WR9 IURP9%$7
        1RUPDO 
      > &0& 
   9&$1! 25
       &0& @ 
                                                                  W!WWR VLOHQFH                                                                                           IURPDOOPRGHV
                                                                                                      1RUPDO &0& 
                            &$1EXVZDNHXS25
                             1RUPDO &0& 
                                9&$1
                                                                                                                                 >5HVHW256WDQGE\256OHHS25                       2II25
                                                                                                                                       1RUPDO &0&  @                      2YHUWHPS25
                                                                                                                                          W!WWR VLOHQFH                   9%$79XYG &$1
                                                                                     &$12IIOLQH
                                                                                     WUDQVPLWWHURII                                                               &$12II
                                                                                 5;'ZDNHXSLQW
                                                                                                                                                                 WUDQVPLWWHURII
                                                                              &$1+&$1/WHUPLQDWHG
                                                                                                                                                              5;'ZDNHXSLQW
                                                                                           WR*1'
                                                                                                                                                             &$1+&$1/IORDWLQJ
                                                                                                                         OHDYLQJ2II2YHUWHPS
                                                                                                                            9%$7!9XYU &$1
                                                                                                                                                                                         DDD
         (1) To prevent the bus lines being driven to a permanent dominant state, the transceiver will not switch to CAN Active mode or CAN
               Listen-only mode if pin TXD is held LOW (e.g. by a short-circuit to GND)
  Fig 9.       CAN transceiver state machine (with FNMC = 0)
                      7.7.2 CAN standard wake-up (partial networking not enabled)
                                 If the CAN transceiver is in Offline mode and CAN wake-up is enabled (CWE = 1), but
                                 CAN selective wake-up is disabled (CPNC = 0 or PNCOK = 0), the UJA1169 monitors the
                                 bus for a wake-up pattern.
UJA1169                                                     All information provided in this document is subject to legal disclaimers.                   © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                         Rev. 1 — 4 February 2016                                                                                             25 of 74


NXP Semiconductors                                                                                                                                UJA1169
                                                                    Mini high-speed CAN SBC with optional partial networking
                          A filter at the receiver input prevents unwanted wake-up events occurring due to
                          automotive transients or EMI. A dominant-recessive-dominant wake-up pattern must be
                          transmitted on the CAN-bus within the wake-up time-out time (tto(wake)) to pass the
                          wake-up filter and trigger a wake-up event (see Figure 10; note that additional pulses may
                          occur between the recessive/dominant phases). The recessive and dominant phases
                          must last at least twake(busrec) and twake(busdom), respectively.
                             GRPLQDQW                                      UHFHVVLYH                                         GRPLQDQW
                       WGRPWZDNH EXVGRP                         WUHFWZDNH EXVUHF                                  WGRPWZDNH EXVGRP
                                                                     WZDNHWWR ZDNH
              &$1ZDNHXS
                                                                                                                                                          DDD
  Fig 10. CAN wake-up timing
                          When a valid CAN wake-up pattern is detected on the bus, wake-up bit CW in the
                          Transceiver event status register is set (see Table 28) and pin RXD is driven LOW. If the
                          SBC was in Sleep mode when the wake-up pattern was detected, V1 is enabled to supply
                          the microcontroller and the SBC switches to Standby mode via Reset mode.
               7.7.2.1    CAN control register (0x20)
                          Table 15.      CAN control register (address 20h)
                           Bit      Symbol        Access            Value            Description
                           7        reserved      R/W               -
                           6        CFDC[1]       R/W                                CAN FD control:
                                                                    0                     CAN FD tolerance disabled
                                                                    1                     CAN FD tolerance enabled
                           5        PNCOK[1]      R/W                                CAN partial networking configuration OK:
                                                                    0                     partial networking register configuration invalid (wake-up
                                                                                          via standard wake-up pattern only)
                                                                    1                     partial networking registers configured successfully
                           4        CPNC[1]       R/W                                CAN partial networking control:
                                                                    0                     disable CAN selective wake-up
                                                                    1                     enable CAN selective wake-up
                           3:2      reserved      R                 -
UJA1169                                      All information provided in this document is subject to legal disclaimers.              © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                          Rev. 1 — 4 February 2016                                                                                        26 of 74


NXP Semiconductors                                                                                                                UJA1169
                                                                 Mini high-speed CAN SBC with optional partial networking
                       Table 15.    CAN control register (address 20h) …continued
                        Bit    Symbol          Access            Value            Description
                        1:0    CMC             R/W                                CAN mode control:
                                                                 00                    Offline mode
                                                                 01                    Active mode (when the SBC is in Normal mode); CAN
                                                                                       supply undervoltage detection active
                                                                 10                    Active mode (when the SBC is in Normal mode); CAN
                                                                                       supply undervoltage detection disabled
                                                                 11                    Listen-only mode
                       [1]  UJA1169TK/F and UJA1169TK/X/F only; otherwise reserved.
               7.7.2.2 Transceiver status register (0x22)
                       Table 16.    Transceiver status register (address 22h)
                        Bit    Symbol               Access Value                        Description
                        7      CTS                  R                                   CAN transceiver status:
                                                                     0                      CAN transceiver not in Active mode
                                                                     1                      CAN transceiver in Active mode
                        6      CPNERR[1]            R                                   CAN partial networking error:
                                                                     0                      no CAN partial networking error detected (PNFDE = 0
                                                                                            AND PNCOK = 1)
                                                                     1                      CAN partial networking error detected (PNFDE = 1
                                                                                            OR PNCOK = 0; wake-up via standard wake-up
                                                                                            pattern only)
                        5      CPNS[1]              R                                   CAN partial networking status:
                                                                     0                      CAN partial networking configuration error detected
                                                                                            (PNCOK = 0)
                                                                     1                      CAN partial networking configuration ok (PNCOK = 1)
                        4      COSCS[1]             R                                   CAN oscillator status:
                                                                     0                      CAN partial networking oscillator not running at target
                                                                                            frequency
                                                                     1                      CAN partial networking oscillator running at target
                                                                                            frequency
                        3      CBSS                R                                    CAN-bus silence status:
                                                                     0                      CAN-bus active (communication detected on bus)
                                                                     1                      CAN-bus inactive (for longer than tto(silence))
                        2      reserved             R                -
                        1      VCS[2]               R                                   VCAN status:
                                                                     0                      CAN supply voltage is above the 90 % threshold
                                                                     1                      CAN supply voltage is below the 90 % threshold
                        0      CFS                  R                                   CAN failure status:
                                                                     0                      no TXD dominant time-out event detected
                                                                     1                      CAN transmitter disabled due to a TXD dominant
                                                                                            time-out event
                       [1]  UJA1169TK/F and UJA1169TK/X/F only; otherwise reserved reading 0.
                       [2]  Only active when CMC = 01.
UJA1169                                   All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                       Rev. 1 — 4 February 2016                                                                           27 of 74


NXP Semiconductors                                                                                                                        UJA1169
                                                                     Mini high-speed CAN SBC with optional partial networking
                   7.8 CAN partial networking (UJA1169 /F variants only)
                       Partial networking allows nodes in a CAN network to be selectively activated in response
                       to dedicated wake-up frames (WUF). Only nodes that are functionally required are active
                       on the bus while the other nodes remain in a low-power mode until needed.
                       If both CAN wake-up (CWE = 1) and CAN selective wake-up (CPNC = 1) are enabled,
                       and the partial networking registers are configured correctly (PNCOK = 1), the transceiver
                       monitors the bus for dedicated CAN wake-up frames.
                7.8.1 Wake-up frame (WUF)
                       A wake-up frame is a CAN frame according to ISO11898-1:2003, consisting of an
                       identifier field (ID), a Data Length Code (DLC), a data field and a Cyclic Redundancy
                       Check (CRC) code including the CRC delimiter.
                       The wake-up frame format, standard (11-bit) or extended (29-bit) identifier, is selected via
                       bit IDE in the Frame control register (Table 20).
                       A valid WUF identifier is defined and stored in the ID registers (Table 18). An ID mask can
                       be defined to allow a group of identifiers to be recognized as valid by an individual node.
                       The identifier mask is defined in the ID mask registers (Table 19), where a 1 means ‘don’t
                       care’.
                       In the example illustrated in Figure 11, based on the standard frame format, the 11-bit
                       identifier is defined as 0x1A0. The identifier is stored in ID registers 2 (0x29) and 3 (0x2A).
                       The three least significant bits of the ID mask, bits 2 to 4 of Mask register 2 (0x2D), are
                       ‘don’t care’. This means that any of eight different identifiers will be recognized as valid in
                       the received WUF (from 0x1A0 to 0x1A7).
                             8-$ )'YDULDQWV 63,6HWWLQJV
                              ELW,GHQWLILHUILHOG
                                [$VWRUHGLQ,'                                                                                                        
                                 UHJLVWHUVDQG
                                          ,'PDVN
                             [VWRUHGLQ0DVN                                                                                                         
                                 UHJLVWHUVDQG
                                9DOLG:DNH8S,GHQWLILHUV[$WR[$
                                                                                                                                   [            [           [
                                                                                                                                                             DDD
                         Fig 11. Evaluating the ID field in a selective wake-up frame
                       The data field indicates the nodes to be woken up. Within the data field, groups of nodes
                       can be predefined and associated with bits in a data mask. By comparing the incoming
                       data field with the data mask, multiple groups of nodes can be woken up simultaneously
                       with a single wake-up message.
                       The data length code (bits DLC in the Frame control register; Table 20) determines the
                       number of data bytes (between 0 and 8) expected in the data field of a CAN wake-up
                       frame. If one or more data bytes are expected (DLC  0000), at least one bit in the data
UJA1169                                       All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                           Rev. 1 — 4 February 2016                                                                               28 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                            Mini high-speed CAN SBC with optional partial networking
                   field of the received wake-up frame must be set to 1 and at least one equivalent bit in the
                   associated data mask register in the transceiver (see Table 21) must also be set to 1 for a
                   successful wake-up. Each matching pair of 1s indicates a group of nodes to be activated
                   (since the data field is up to 8 bytes long, up to 64 groups of nodes can be defined). If
                   DLC = 0, a data field is not expected.
                   In the example illustrated in Figure 12, the data field consists of a single byte (DLC = 1).
                   This means that the data field in the incoming wake-up frame is evaluated against data
                   mask 7 (stored at address 6Fh; see Table 21 and Figure 13). Data mask 7 is defined as
                   10101000 in the example, indicating that the node is assigned to three groups (Group1,
                   Group 3 and Group 5).
                   The received message shown in Figure 12 could, potentially, wake up four groups of
                   nodes: groups 2, 3, 4 and 5. Two matches are found (groups 3 and 5) when the message
                   data bits are compared with the configured data mask (DM7).
                                                         '/&                                                      'DWDPDVN
                           VWRUHG
                                                                                                                                                  
                          YDOXHV
                                                                         *URXSV                                                                      
                        UHFHLYHG
                                                                                                                                                  
                       PHVVDJH
                                                                                                                                                    DDD
                     Fig 12. Evaluating the Data field in a selective wake-up frame
                   Optionally, the data length code and the data field can be excluded from the evaluation of
                   the wake-up frame. If bit PNDM = 0, only the identifier field is evaluated to determine if the
                   frame contains a valid wake-up message. If PNDM = 1 (the default value), the data field is
                   included for wake-up filtering.
                   When PNDM = 0, a valid wake-up message is detected and a wake-up event is captured
                   (and CW is set to 1) when:
                     • the identifier field in the received wake-up frame matches the pattern in the ID
                        registers after filtering AND
                     • the CRC field in the received frame (including a recessive CRC delimiter) was
                        received without error
                   When PNDM = 1, a valid wake-up message is detected when:
                     • the identifier field in the received wake-up frame matches the pattern in the ID
                        registers after filtering AND
                     • the frame is not a Remote frame AND
                     • the data length code in the received message matches the configured data length
                        code (bits DLC) AND
                     • if the data length code is greater than 0, at least one bit in the data field of the
                        received frame is set and the corresponding bit in the associated data mask register is
                        also set AND
                     • the CRC field in the received frame (including a recessive CRC delimiter) was
                        received without error
UJA1169                              All information provided in this document is subject to legal disclaimers.        © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                  Rev. 1 — 4 February 2016                                                                                  29 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
                      If the UJA1169 receives a CAN message containing errors (e.g. a ‘stuffing’ error) that are
                      transmitted in advance of the ACK field, an internal error counter is incremented. If a CAN
                      message is received without any errors appearing in front of the ACK field, the counter is
                      decremented. Data received after the CRC delimiter and before the next Start of Frame
                      (SOF) is ignored by the partial networking module. If the counter overflows (counter > 31),
                      a frame detect error is captured (PNFDE = 1) and the device wakes up; the counter is
                      reset to zero when the bias is switched off and partial networking is re-enabled.
                      Partial networking is assumed to be configured correctly when PNCOK is set to 1 by the
                      application software. The UJA1169 clears PNCOK after a write access to any of the CAN
                      partial networking configuration registers (see Section 7.8.3).
                      If selective wake-up is disabled (CPNC = 0) or partial networking is not configured
                      correctly (PNCOK = 0), and the CAN transceiver is in Offline mode with wake-up enabled
                      (CWE = 1), then any valid wake-up pattern according to ISO 11898-2:201x (upcoming
                      merged ISO 11898-2/5/6 standard) will trigger a wake-up event.
                      If the CAN transceiver is not in Offline mode (CMC  00) or CAN wake-up is disabled
                      (CWE = 0), all wake-up patterns on the bus are ignored.
                7.8.2 CAN FD frames
                      CAN FD stands for ‘CAN with Flexible Data-Rate’. It is based on the CAN protocol as
                      specified in the upcoming ISO 11898-1:201x standard.
                      CAN FD is being gradually introduced into automotive market. In time, all CAN controllers
                      will be required to comply with the new standard (enabling ‘FD-active’ nodes) or at least to
                      tolerate CAN FD communication (enabling ‘FD-passive’ nodes). The UJA1169TK/F,
                      UJA1169TK/F/3 and UJA1169TK/X/F support FD-passive features by means of a
                      dedicated implementation of the partial networking protocol.
                      The /F variants can be configured to recognize CAN FD frames as valid CAN frames.
                      When CFDC = 1, the error counter is decremented every time the control field of a CAN
                      FD frame is received. The UJA1169xx/F remains in low-power mode (CAN FD-passive)
                      with partial networking enabled. CAN FD frames are never recognized as valid wake-up
                      frames, even if PNDM = 0 and the frame contains a valid ID. After receiving the control
                      field of a CAN FD frame, the UJA1169xx/F ignores further bus signals until idle is again
                      detected.
                      CAN FD frames are interpreted as frames with errors by the partial networking module
                      when CFDC = 0. So the error counter is incremented when a CAN FD frame is received. If
                      the ratio of CAN FD frames to valid CAN frames exceeds the threshold that triggers error
                      counter overflow, bit PNFDE is set to 1 and the device wakes up.
UJA1169                                All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                           30 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                7.8.3 CAN partial networking configuration registers
                       Dedicated registers are provided for configuring CAN partial networking.
               7.8.3.1 Data rate register (0x26)
                       Table 17.  Data rate register (address 26h)
                        Bit    Symbol             Access                   Value              Description
                        7:3    reserved           R                        -
                        2:0    CDR                R/W                                         CAN data rate selection:
                                                                           000                    50 kbit/s
                                                                           001                    100 kbit/s
                                                                           010                    125 kbit/s
                                                                           011                    250 kbit/s
                                                                           100                    reserved (intended for future use; currently
                                                                                                  selects 500 kbit/s)
                                                                           101                    500 kbit/s
                                                                           110                    reserved (intended for future use; currently
                                                                                                  selects 500 kbit/s)
                                                                           111                    1000 kbit/s
               7.8.3.2 ID registers (0x27 to 0x2A)
                       Table 18.  ID registers 0 to 3 (addresses 27h to 2Ah)
                        Addr. Bit    Symbol                 Access             Value           Description
                        27h   7:0    ID07:ID00              R/W                -               bits ID07 to ID00 of the extended frame format
                        28h   7:0    ID15:ID08              R/W                -               bits ID15 to ID08 of the extended frame format
                        29h   7:2    ID23:ID18              R/W                -               bits ID23 to ID18 of the extended frame format
                                                                                               bits ID05 to ID00 of the standard frame format
                              1:0    ID17:ID16              R/W                -               bits ID17 to ID16 of the extended frame format
                        2Ah   7:5    reserved               R                  -
                              4:0    ID28:ID24              R/W                -               bits ID28 to ID24 of the extended frame format
                                                                                               bits ID10 to ID06 of the standard frame format
               7.8.3.3 ID mask registers (0x2B to 0x2E)
                       Table 19.  ID mask registers 0 to 3 (addresses 2Bh to 2Eh)
                        Addr. Bit   Symbol                Access             Value           Description
                        2Bh   7:0   M07:M00               R/W                -               mask bits ID07 to ID00 of the extended frame format
                        2Ch   7:0   M15:M08               R/W                -               mask bits ID15 to ID08 of the extended frame format
                        2Dh   7:2   M23:M18               R/W                -               mask bits ID23 to ID18 of the extended frame format
                                                                                             mask bits ID05 to ID00 of the standard frame format
                              1:0   M17:M16               R/W                -               mask bits ID17 to ID16 of the extended frame format
                        2Eh   7:5   reserved              R                  -
                              4:0   M28:M24               R/W                -               mask bits ID28 to ID24 of the extended frame format
                                                                                             mask. bits ID10 to ID06 of the standard frame format
UJA1169                                 All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                               31 of 74


NXP Semiconductors                                                                                                                        UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
               7.8.3.4 Frame control register (0x2F)
                       Table 20.  Frame control register (address 2Fh)
                       Bit     Symbol              Access                 Value            Description
                       7       IDE                 R/W                    -                identifier format:
                                                                          0                     standard frame format (11-bit)
                                                                          1                     extended frame format (29-bit)
                       6       PNDM                R/W                    -                partial networking data mask:
                                                                          0                     data length code and data field are ‘don’t care’ for
                                                                                                wake-up
                                                                          1                     data length code and data field are evaluated at
                                                                                                wake-up
                       5:4     reserved            R                      -
                       3:0     DLC                 R/W                                     number of data bytes expected in a CAN frame:
                                                                          0000                  0
                                                                          0001                  1
                                                                          0010                  2
                                                                          0011                  3
                                                                          0100                  4
                                                                          0101                  5
                                                                          0110                  6
                                                                          0111                  7
                                                                          1000                  8
                                                                          1001 to               tolerated, 8 bytes expected
                                                                          1111
               7.8.3.5 Data mask registers (0x68 to 0x6F)
                       Table 21.  Data mask registers (addresses 68h to 6Fh)
                       Addr.      Bit             Symbol                 Access            Value                 Description
                       68h         7:0            DM0                    R/W               -                     data mask 0 configuration
                       69h         7:0            DM1                    R/W               -                     data mask 1 configuration
                       6Ah        7:0             DM2                    R/W               -                     data mask 2 configuration
                       6Bh        7:0             DM3                    R/W               -                     data mask 3 configuration
                       6Ch         7:0            DM4                    R/W               -                     data mask 4 configuration
                       6Dh         7:0            DM5                    R/W               -                     data mask 5 configuration
                       6Eh        7:0             DM6                    R/W               -                     data mask 6 configuration
                       6Fh         7:0            DM7                    R/W               -                     data mask 7 configuration
UJA1169                                 All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                                     32 of 74


NXP Semiconductors                                                                                                                      UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                                           '/&!                   '0      '0          '0          '0        '0 '0   '0     '0
                                           '/&                   '0       '0          '0          '0        '0 '0   '0     '0
                                           '/&                             '0          '0          '0        '0 '0   '0     '0
                                           '/&                                          '0          '0        '0 '0   '0     '0
                                           '/&                                                       '0        '0 '0   '0      '0
                                           '/&                                                                  '0 '0   '0      '0
                                           '/&                                                                      '0   '0      '0
                                           '/&                                                                            '0     '0
                                           '/&                                                                                     '0
                                                                                                                                DDD
                         Fig 13. Data mask register usage for different values of DLC
                   7.9 CAN fail-safe features
                7.9.1 TXD dominant time-out
                       A TXD dominant time-out timer is started when pin TXD is forced LOW while the
                       transceiver is in CAN Active Mode. The transmitter is disabled if the LOW state on pin
                       TXD persists for longer than the TXD dominant time-out time (tto(dom)TXD), releasing the
                       bus lines to recessive state. The TXD dominant time-out timer is reset when pin TXD goes
                       HIGH. The TXD dominant time-out time also defines the minimum possible bit rate of
                       4.4 kbit/s.
                       When the TXD dominant time-out time is exceeded, a CAN failure event is captured
                       (CF = 1; see Table 28), if enabled (CFE = 1; see Table 32). In addition, the status of the
                       TXD dominant time-out can be read via the CFS bit in the Transceiver status register
                       (Table 16) and bit CTS is cleared.
                7.9.2 Pull-up on TXD pin
                       Pin TXD has an internal pull-up towards V1 to ensure a safe defined recessive driver state
                       in case the pin is left floating.
                7.9.3 VCAN undervoltage event
                       A CAN failure event is captured (CF = 1), if enabled, when the supply to the CAN
                       transceiver falls below 90 % of its nominal value. In addition, status bit VCS is set to 1.
UJA1169                                 All information provided in this document is subject to legal disclaimers.         © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                                   33 of 74


NXP Semiconductors                                                                                                                   UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
                 7.9.4 Loss of power at pin BAT
                       When power is lost at pin BAT, the SBC behaves passively towards the CAN-bus pins,
                       disabling the bias circuitry. This ensures that a loss of power at BAT does not affect
                       ongoing communication between nodes on the network.
                 7.10 Wake-up and interrupt event handling
               7.10.1 WAKE pin
                       Local wake-up is enabled via bits WPRE and WPFE in the WAKE pin event capture
                       enable register (see Table 33). A wake-up event is triggered by a LOW-to-HIGH (if
                       WPRE = 1) and/or a HIGH-to-LOW (if WPFE = 1) transition on the WAKE pin. This
                       arrangement allows for maximum flexibility when designing a local wake-up circuit. In
                       applications that do not use the local wake-up facility, local wake-up should be disabled
                       and the WAKE pin connected to GND.
              7.10.1.1 WAKE pin status register (0x4B)
                       Table 22.    WAKE pin status register (address 4Bh)
                        Bit   Symbol          Access            Value           Description
                        7:2   reserved        R                 -
                        1     WPVS            R                                 WAKE pin status:
                                                                0                    voltage on WAKE pin below switching threshold (Vth(sw))
                                                                1                    voltage on WAKE pin above switching threshold (Vth(sw))
                        0     reserved        R                 -
                       While the SBC is in Normal mode, the status of the voltage on pin WAKE can always be
                       read via bit WPVS. Otherwise, WPVS is only valid if local wake-up is enabled (WPRE = 1
                       and/or WPFE = 1).
               7.10.2 Wake-up diagnosis
                       Wake-up and interrupt event diagnosis in the UJA1169 is intended to provide the
                       microcontroller with information on the status of a range of features and functions. This
                       information is stored in the event status registers (Table 26 to Table 28) and is signaled on
                       pin RXD, if enabled.
                       A distinction is made between regular wake-up events and interrupt events.
                       Table 23.    Regular events
                        Symbol Event                                           Power-on Description
                        CW       CAN wake-up                                   disabled               see Transceiver event status register (Table 28)
                        WPR      rising edge on WAKE pin                       disabled               see WAKE pin event capture status register
                        WPF      falling edge on WAKE pin disabled                                    (Table 29)
UJA1169                                  All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                               34 of 74


NXP Semiconductors                                                                                                                       UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
                      Table 24.    Diagnostic events
                       Symbol      Event                                               Power-on                     Description
                       PO          power-on                                            always enabled               see System event status register
                       OTW         overtemperature warning                             disabled                     (Table 26)
                       SPIF        SPI failure                                         disabled
                       WDF         watchdog failure                                    always enabled
                       V2O[1]      V2 overvoltage                                      disabled                     see Supply event status register
                       VEXTO[2] VEXT overvoltage                                       disabled                     (Table 27)
                       V2U[1]      V2 undervoltage                                     disabled
                       VEXTU[2]    VEXT undervoltage                                   disabled
                       V1U         V1 undervoltage                                     disabled
                       PNFDE[3] PN frame detection error                               always enabled               see Transceiver event status register
                       CBS         CAN-bus silence                                     disabled                     (Table 28)
                       CF          CAN failure                                         disabled
                      [1]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
                      [2]   UJA1169TK/X and UJA1169TK/X/F only.
                      [3]   UJA1169TK/F, UJA1169TK/F/3 and UJA1169TK/X/F only; otherwise reserved.
                      PO, WDF and PNFDE interrupts are always enabled and thus captured. Wake-up and
                      interrupt detection can be enabled/disabled for the remaining events individually via the
                      event capture enable registers (Table 30 to Table 32).
                      If an event occurs while the associated event capture function is enabled, the relevant
                      event status bit is set. If the transceiver is in CAN Offline mode with V1 active (SBC
                      Normal or Standby mode), pin RXD is forced LOW to indicate that a wake-up or interrupt
                      event has been detected. If the UJA1169 is in sleep mode when the event occurs, the
                      microcontroller supply, V1, is activated and the SBC switches to Standby mode (via Reset
                      mode).
                      The microcontroller can monitor events via the event status registers. An extra status
                      register, the Global event status register (Table 25), is provided to help speed up software
                      polling routines. By polling the Global event status register, the microcontroller can quickly
                      determine the type of event captured (system, supply, transceiver or WAKE pin) and then
                      query the relevant event status register (Table 26, Table 27, Table 28 or Table 29
                      respectively).
                      After the event source has been identified, the status flag should be cleared (set to 0) by
                      writing 1 to the relevant bit (writing 0 will have no effect). A number of status bits can be
                      cleared in a single write operation by writing 1 to all relevant bits.
                      Only clear the status bits that were set to 1 when the status registers were last read. This
                      precaution ensures that events triggered just before the write access are not lost.
               7.10.3 Interrupt/wake-up delay
                      If interrupt or wake-up events occur very frequently while the transceiver is in CAN Offline
                      mode, they can have a significant impact on the software processing time (because pin
                      RXD is repeatedly driven LOW, requiring a response from the microcontroller each time
                      an interrupt/wake-up is generated). The UJA1169 incorporates an event delay timer to
                      limit the disturbance to the software.
UJA1169                                  All information provided in this document is subject to legal disclaimers.         © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                   35 of 74


NXP Semiconductors                                                                                                              UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                      When one of the event capture status bits is cleared, pin RXD is released (HIGH) and a
                      timer is started. If further events occur while the timer is running, the relevant status bits
                      are set. If one or more events are pending when the timer expires after td(event), pin RXD
                      goes LOW again to alert the microcontroller. In this way, the microcontroller is interrupted
                      once to process a number of events rather than several times to process individual
                      events.
                      If all events are cleared while the timer is running, RXD remains HIGH after the timer
                      expires, since there are no pending events. The event capture registers can be read at
                      any time.
                      The event capture delay timer is stopped immediately when pin RSTN goes low (triggered
                      by a HIGH-to-LOW transition on the pin). RSTN is driven LOW when the SBC enters
                      Reset, Sleep, Overtemp and Off modes. A pending event is signaled on pin RXD when
                      the SBC enters Sleep mode.
               7.10.4 Sleep mode protection
                      The wake-up event capture function is critical when the UJA1169 is in Sleep mode,
                      because the SBC only leaves Sleep mode in response to a captured wake-up event. To
                      avoid potential system deadlocks, the SBC distinguishes between regular and diagnostic
                      events (see Section 7.10). Wake-up events (via the CAN-bus or the WAKE pin) are
                      classified as regular events; diagnostic events signal failure/error conditions or state
                      changes. At least one regular wake-up event must be enabled before the UJA1169 can
                      switch to Sleep mode. Any attempt to enter Sleep mode while all regular wake-up events
                      are disabled triggers a system reset.
                      Another condition that must be satisfied before the UJA1169 can switch to Sleep mode is
                      that all event status bits must be cleared. If an event is pending when the SBC receives a
                      Sleep mode command (MC = 001), it immediately switches to Reset mode. This condition
                      applies to both regular and diagnostic events.
                      Sleep mode can be permanently disabled in applications where, for safety reasons, the
                      supply voltage to the host controller must never be cut off. Sleep mode is permanently
                      disabled by setting the Sleep control bit (SLPC) in the SBC configuration register (see
                      Table 9) to 1. This register is located in the non-volatile memory area of the device. When
                      SLPC = 1, a Sleep mode SPI command (MC = 001) triggers an SPI failure event instead
                      of a transition to Sleep mode.
UJA1169                                 All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                           36 of 74


NXP Semiconductors                                                                                                              UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
               7.10.5 Event status and event capture registers
                       After an event source has been identified, the status flag should be cleared (set to 0) by
                       writing 1 to the relevant status bit (writing 0 will have no effect).
              7.10.5.1 Event status registers (0x60 to 0x64)
                       Table 25.   Global event status register (address 60h)
                       Bit     Symbol            Access               Value            Description
                       7:4     reserved          R                    -
                       3       WPE               R                                     WAKE pin event:
                                                                      0                    no pending WAKE pin event
                                                                      1                    WAKE pin event pending at address 0x64
                       2       TRXE              R                                     transceiver event:
                                                                      0                    no pending transceiver event
                                                                      1                    transceiver event pending at address 0x63
                       1       SUPE              R                                     supply event:
                                                                      0                    no pending supply event
                                                                      1                    supply event pending at address 0x62
                       0       SYSE              R                                     system event:
                                                                      0                    no pending system event
                                                                      1                    system event pending at address 0x61
                       Table 26.   System event status register (address 61h)
                       Bit     Symbol            Access               Value            Description
                       7:5     reserved          R                    -
                       4       PO                R/W                                   power-on:
                                                                      0                    no recent battery power-on
                                                                      1                    the UJA1169 has left Off mode after battery power-on
                       3       reserved          R                    -
                       2       OTW               R/W                                   overtemperature warning:
                                                                      0                    overtemperature not detected
                                                                      1                    the global chip temperature has exceeded the
                                                                                           overtemperature warning threshold, Tth(warn)otp (not in
                                                                                           Sleep mode)
                       1       SPIF              R/W                                   SPI failure:
                                                                      0                    no SPI failure detected
                                                                      1                    SPI clock count error (only 16-, 24- and 32-bit
                                                                                           commands are valid), illegal WMC, NWP or MC code
                                                                                           or attempted write access to locked register (not in
                                                                                           Sleep mode)
UJA1169                                 All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                           37 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                           Mini high-speed CAN SBC with optional partial networking
                   Table 26.   System event status register (address 61h) …continued
                    Bit    Symbol            Access               Value            Description
                    0      WDF               R/W                                   watchdog failure:
                                                                  0                    no watchdog failure event captured
                                                                  1                    watchdog overflow in Window or Timeout mode or
                                                                                       watchdog triggered too early in Window mode; a
                                                                                       system reset is triggered immediately in response to
                                                                                       a watchdog failure in Window mode; when the
                                                                                       watchdog overflows in Timeout mode, a system reset
                                                                                       is only performed if a WDF is already pending
                                                                                       (WDF = 1)
                   Table 27.   Supply event status register (address 62h)
                    Bit    Symbol             Access                  Value            Description
                    7:3    reserved           R                       -
                    2      V2O[1]/            R/W                                      V2/VEXT overvoltage:
                           VEXTO[2]                                   0                     no V2/VEXT overvoltage event captured
                                                                      1                     V2/VEXT overvoltage event captured
                    1      V2U[1]/            R/W                                      V2/VEXT undervoltage:
                           VEXTU[2]                                   0                     no V2/VEXT undervoltage event captured
                                                                      1                     V2/VEXT undervoltage event captured
                    0      V1U                R/W                                      V1 undervoltage:
                                                                      0                     no V1 undervoltage event captured
                                                                      1                     voltage on V1 has dropped below the 90 %
                                                                                            undervoltage threshold while V1 is active (event is
                                                                                            not captured in Sleep mode because V1 is off);
                                                                                            V1U event capture is independent of the setting of
                                                                                            bits V1RTC
                   [1]  UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
                   [2]  UJA1169TK/X and UJA1169TK/X/F only.
                   Table 28.   Transceiver event status register (address 63h)
                    Bit    Symbol             Access                  Value           Description
                    7:6    reserved           R                       -
                    5      PNFDE              R/W                                     partial networking frame detection error:
                                                                      0                    no partial networking frame detection error
                                                                                           detected
                                                                      1                    partial networking frame detection error detected
                    4      CBS                R/W                                     CAN-bus status:
                                                                      0                    CAN-bus active
                                                                      1                    no activity on CAN-bus for tto(silence) (detected only
                                                                                           when CBSE = 1 while bus active)
                    3:2    reserved           R                       -
UJA1169                             All information provided in this document is subject to legal disclaimers.    © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                 Rev. 1 — 4 February 2016                                                                              38 of 74


NXP Semiconductors                                                                                                                   UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                       Table 28.   Transceiver event status register (address 63h) …continued
                       Bit     Symbol             Access                  Value           Description
                       1       CF                 R/W                                     CAN failure:
                                                                          0                    no CAN failure detected
                                                                          1                    CAN transceiver deactivated due to VCAN
                                                                                               undervoltage OR dominant clamped TXD (not in
                                                                                               Sleep mode)
                       0       CW                 R/W                                     CAN wake-up:
                                                                          0                    no CAN wake-up event detected
                                                                          1                    CAN wake-up event detected while the transceiver
                                                                                               is in CAN Offline Mode
                       Table 29.   WAKE pin event status register (address 64h)
                       Bit     Symbol             Access                  Value            Description
                       7:2     reserved           R                       -
                       1       WPR                R/W                                      WAKE pin rising edge:
                                                                          0                     no rising edge detected on WAKE pin
                                                                          1                     rising edge detected on WAKE pin
                       0       WPF                R/W                                      WAKE pin falling edge:
                                                                          0                     no falling edge detected on WAKE pin
                                                                          1                     falling edge detected on WAKE pin
              7.10.5.2 Event capture enable registers (0x04, 0x1C, 0x23, 0x4C)
                       Table 30.   System event capture enable register (address 04h)
                       Bit     Symbol             Access                   Value           Description
                       7:3     reserved           R                        -
                       2       OTWE               R/W                                      overtemperature warning enable:
                                                                           0                     overtemperature warning disabled
                                                                           1                     overtemperature warning enabled
                       1       SPIFE              R/W                                      SPI failure enable:
                                                                           0                     SPI failure detection disabled
                                                                           1                     SPI failure detection enabled
                       0       reserved           R                        -
                       Table 31.   Supply event capture enable register (address 1Ch)
                       Bit     Symbol             Access                  Value            Description
                       7:3     reserved           R                       -
                       2       V2OE[1]/           R/W                                      V2/VEXT overvoltage enable:
                               VEXTOE[2]                                  0                     V2/VEXT overvoltage detection disabled
                                                                          1                     V2/VEXT overvoltage detection enabled
                       1       V2UE[1]/           R/W                                      V2/VEXT undervoltage enable:
                               VEXTUE[2]                                  0                     V2/VEXT undervoltage detection disabled
                                                                          1                     V2/VEXT undervoltage detection enabled
UJA1169                                 All information provided in this document is subject to legal disclaimers.      © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                                39 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
                      Table 31.    Supply event capture enable register (address 1Ch) …continued
                       Bit     Symbol             Access                  Value            Description
                       0       V1UE               R/W                                      V1 undervoltage enable:
                                                                          0                     V1 undervoltage detection disabled
                                                                          1                     V1 undervoltage detection enabled
                      [1]  UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
                      [2]  UJA1169TK/X and UJA1169TK/X/F only.
                      Table 32.    Transceiver event capture enable register (address 23h)
                       Bit     Symbol             Access                   Value            Description
                       7:5     reserved           R                        -
                       4       CBSE               R/W                                       CAN-bus silence enable:
                                                                           0                     CAN-bus silence detection disabled
                                                                           1                     CAN-bus silence detection enabled
                       3:2     reserved           R                        -
                       1       CFE                R/W                                       CAN failure enable:
                                                                           0                     CAN failure detection disabled
                                                                           1                     CAN failure detection enabled
                       0       CWE                R/W                                       CAN wake-up enable:
                                                                           0                     CAN wake-up detection disabled
                                                                           1                     CAN wake-up detection enabled
                      Table 33.    WAKE pin event capture enable register (address 4Ch)
                       Bit     Symbol             Access                   Value           Description
                       7:2     reserved           R                        -
                       1       WPRE               R/W                                      WAKE pin rising-edge enable:
                                                                           0                     rising-edge detection on WAKE pin disabled
                                                                           1                     rising-edge detection on WAKE pin enabled
                       0       WPFE               R/W                                      WAKE pin falling-edge enable:
                                                                           0                     falling-edge detection on WAKE pin disabled
                                                                           1                     falling-edge detection on WAKE pin enabled
                 7.11 Non-volatile SBC configuration
                      The UJA1169 contains Multiple Time Programmable Non-Volatile (MTPNV) memory cells
                      that allow some of the default device settings to be reconfigured. The MTPNV memory
                      address range is from 0x73 to 0x74. For details, see Table 9 and Table 11.
               7.11.1 Programming MTPNV cells
                      NXP delivers the UJA1169 in so-called ‘Forced Normal’ mode, also referred to as the
                      ‘factory preset’ configuration. In order to change the default settings, the device must be in
                      Forced Normal mode with FNMC = 1 and NVMPS = 1. In Forced Normal mode, the
                      watchdog is disabled, all regulators are on and the CAN transceiver is in Active mode.
UJA1169                                 All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                               40 of 74


NXP Semiconductors                                                                                                                  UJA1169
                                                                 Mini high-speed CAN SBC with optional partial networking
                       If the device has been programmed previously, the factory presets may need to be
                       restored before reprogramming can begin (see Section 7.11.2). When the factory presets
                       have been restored successfully, a system reset is generated automatically and UJA1169
                       switches back to Forced Normal mode.
                       Programming of the non-volatile memory (NVM) registers is performed in two steps. First,
                       the required values are written to addresses 0x73 and 0x74. In the second step,
                       reprogramming is confirmed by writing the correct CRC value to the MTPNV CRC control
                       register (see Section 7.11.1.2). The SBC starts reprogramming the MTPNV cells as soon
                       as the CRC value has been validated. If the CRC value is not correct, reprogramming is
                       aborted. On completion, a system reset is generated to indicate that the MTPNV cells
                       have been reprogrammed successfully. Note that the MTPNV cells cannot be read while
                       they are being reprogrammed.
                       After an MTPNV programming cycle has been completed, the NVM is protected from
                       being overwritten.
                       The MTPNV cells can be reprogrammed a maximum of 200 times (Ncy(W)MTP; see
                       Table 52). Bit NVMPS in the MTPNV status register (Table 34) indicates whether the
                       non-volatile cells can be reprogrammed. This register also contains a write counter,
                       WRCNTS, that is incremented each time the MTPNV cells are reprogrammed (up to a
                       maximum value of 111111; there is no overflow; performing a factory reset also increments
                       the counter). This counter is provided for information purposes only; reprogramming will
                       not be rejected when it reaches its maximum value.
                       An error correction code status bit, ECCS, is set to indicate the CRC check mechanism in
                       the SBC has detected and corrected a single bit failure in non-volatile memory. If more
                       than one bit failure is detected, the SBC will not restart after MTPNV reprogramming.
                       Check the ECCS flag at the end of the production cycle to verify the content of non-volatile
                       memory. When this flag is set, it indicates a device or ECU failure.
              7.11.1.1 MTPNV status register (0x70)
                       Table 34.    MTPNV status register (address 70h)
                        Bit     Symbol           Access                 Value           Description
                        7:2     WRCNTS R                                                write counter status:
                                                                        xxxxxx              contains the number of times the MTPNV cells were
                                                                                            reprogrammed
                        1       ECCS             R/W                                    error correction code status:
                                                                        0                   no bit failure detected in non-volatile memory
                                                                        1                   bit failure detected and corrected in non-volatile
                                                                                            memory
                        0       NVMPS            R/W                                    non-volatile memory programming status:
                                                                        0                   MTPNV memory cannot be overwritten
                                                                        1[1]                MTPNV memory is ready to be reprogrammed
                       [1]  Factory preset value.
UJA1169                                   All information provided in this document is subject to legal disclaimers.   © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                       Rev. 1 — 4 February 2016                                                                             41 of 74


NXP Semiconductors                                                                                                                           UJA1169
                                                                  Mini high-speed CAN SBC with optional partial networking
              7.11.1.2 MTPNV CRC control register (0x75)
                       The cyclic redundancy check value stored in bits CRCC in the MTPNV CRC control
                       register is calculated using the data written to registers 0x73 and 0x74.
                       Table 35.      MTPNV CRC control register (address 75h)
                        Bit       Symbol              Access                 Value            Description
                        7:0       CRCC                R/W                                     cyclic redundancy check control:
                                                                             -                      CRC control data
                       The CRC value is calculated using the data representation shown in Figure 14 and the
                       modulo-2 division with the generator polynomial: X8 + X5 + X3 + X2 + X + 1. The result of
                       this operation must be bitwise inverted.
                                                                                                                                              
                                                          UHJLVWHU[                                                 UHJLVWHU[         DDD
                         Fig 14. Data representation for CRC calculation
                       The following parameters can be used to calculate the CRC value (e.g. via the Autosar
                       method):
                       Table 36.      Parameters for CRC coding
                        Parameter                                                                        Value
                        CRC result width                                                                 8 bits
                        Polynomial                                                                       0x2F
                        Initial value                                                                    0xFF
                        Input data reflected                                                             no
                        Result data reflected                                                            no
                        XOR value                                                                        0xFF
                       Alternatively, the following algorithm can be used:
                       data = 0 // unsigned byte
                       crc = 0xFF
                       for i = 0 to 1
                                data = content_of_address(0x73 + i) EXOR crc
                                for j = 0 to 7
                                      if data  128
                                              data = data * 2 // shift left by 1
                                              data = data EXOR 0x2F
                                      else
                                              data = data * 2 // shift left by 1
                                next j
                                crc = data
                       next i
                       crc = crc EXOR 0xFF
UJA1169                                    All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                        Rev. 1 — 4 February 2016                                                                                     42 of 74


NXP Semiconductors                                                                                                              UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
               7.11.2 Restoring factory preset values
                      Factory preset values are restored if the following conditions apply continuously for at
                      least td(MTPNV) during battery power-up:
                        • pin RSTN is held LOW
                        • CANH is pulled up to VBAT
                        • CANL is pulled down to GND
                      After the factory preset values have been restored, the SBC performs a system reset and
                      enters Forced normal Mode. Since the CAN-bus is clamped dominant, pin RXDC is forced
                      LOW. Pin RXD is forced HIGH during the factory preset restore process (td(MTPNV)). A
                      falling edge on RXD caused by bit PO being set after power-on indicates that the factory
                      preset process has been completed.
                      Note that the write counter, WRCNTS, in the MTPNV status register is incremented every
                      time the factory presets are restored.
                7.12 Device identification
               7.12.1 Device identification register (0x7E)
                      A byte is reserved at address 0x7E for a product identification code used to distinguish the
                      different UJA1169 derivatives.
                      Table 37.    Identification register (address 7Eh)
                       Bit     Symbol             Access                   Value            Description
                       7:0     IDS[7:0]           R                                         identification status:
                                                                           CFh                   UJA1169TK
                                                                           C9h                   UJA1169TK/3
                                                                           EFh                   UJA1169TK/F
                                                                           E9h                   UJA1169TK/F/3
                                                                           CEh                   UJA1169TK/X
                                                                           EEh                   UJA1169TK/X/F
                7.13 Register locking
                      Sections of the register address area can be write-protected to protect against unintended
                      modifications. This facility only protects locked bits from being modified via the SPI and
                      will not prevent the UJA1169 updating status registers etc.
               7.13.1 Lock control register (0x0A)
                      Table 38.   Lock control register (address 0Ah)
                       Bit   Symbol      Access Value                        Description
                       7     reserved    R                  -                reserved for future use
                       6     LK6C        R/W                                 lock control 6: address area 0x68 to 0x6F - data mask (/F
                                                                             versions only)
                                                            0                   SPI write access enabled
                                                            1                   SPI write access disabled
UJA1169                                 All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                           43 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
                      Table 38.   Lock control register (address 0Ah) …continued
                       Bit   Symbol     Access Value                        Description
                       5     LK5C       R/W                                 lock control 5: address area 0x50 to 0x5F - unused register
                                                                            range
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                       4     LK4C       R/W                                 lock control 4: address area 0x40 to 0x4F - WAKE pin control
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                       3     LK3C       R/W                                 lock control 3: address area 0x30 to 0x3F - unused register
                                                                            range
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                       2     LK2C       R/W                                 lock control 2: address area 0x20 to 0x2F - transceiver control
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                       1     LK1C       R/W                                 lock control 1: address area 0x10 to 0x1F - regulator control
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                       0     LK0C       R/W                                 lock control 0: address area 0x06 to 0x09 - general-purpose
                                                                            memory
                                                           0                   SPI write access enabled
                                                           1                   SPI write access disabled
                7.14 General-purpose memory
                      UJA1169 allocates 4 bytes of memory as general-purpose registers for storing user
                      information. The general-purpose registers can be accessed via the SPI at address 0x06
                      to 0x09 without read or write cycle limitations (see Table 39).
                7.15 SPI
               7.15.1 Introduction
                      The Serial Peripheral Interface (SPI) provides the communication link with the
                      microcontroller, supporting multi-slave operations. The SPI is configured for full duplex
                      data transfer, so status information is returned when new control data is shifted in. The
                      interface also offers a read-only access option, allowing the application to read back
                      registers without changing the register content.
                      The SPI uses four interface signals for synchronization and data transfer:
                        • SCSN: SPI chip select; active LOW; default level is HIGH (pull-up)
                        • SCK: SPI clock; default level is LOW due to low-power concept (pull-down)
                        • SDI: SPI data input (floating input; may need external pull-up or pull-down if not
                           available in the host controller)
                        • SDO: SPI data output; floating when pin SCSN is HIGH (may need external pull-up or
                           pull-down if not available in the host controller)
UJA1169                                All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                           44 of 74


NXP Semiconductors                                                                                                                                           UJA1169
                                                                           Mini high-speed CAN SBC with optional partial networking
                             Bit sampling is performed on the falling edge of the clock and data is shifted in/out on the
                             rising edge, as illustrated in Figure 15.
          6&61
           6&.                                                                                                     1               1
                                 VDPSOHG
            6',           ;             06%          06%                 06%               06%                                           /6%                      ;
           6'2                 ;        06%          06%                 06%               06%                                           /6%
                   IORDWLQJ                                                                                                                                           IORDWLQJ
                                                                                                                                                                     DDD
  Fig 15. SPI timing overview (see Figure 19 for detailed SPI timing)
                             The SPI data in the UJA1169 is stored in a number of dedicated 8-bit registers. Each
                             register is assigned a unique 7-bit address. Two bytes (16 bits) must be transmitted to the
                             SBC for a single register read or write operation. The first byte contains the 7-bit address
                             along with a ‘read-only’ bit (the LSB). The read-only bit must be 0 to indicate a write
                             operation (if this bit is 1, a read operation is assumed and any data on the SDI pin is
                             ignored). The second byte contains the data to be written to the register.
                             24- and 32-bit read and write operations are also supported. The register address is
                             automatically incremented, once for a 24-bit operation and twice for a 32-bit operation, as
                             illustrated in Figure 16.
                                                             5HJLVWHU$GGUHVV5DQJH
                      [    [     [   [        [       [         [      [                      ['      [(      [)
                                                 ,' [          GDWD            GDWD          GDWD
                             DGGU                   GDWDE\WH                GDWDE\WH                               GDWDE\WH
       $ $  $    $    $   $   $ 52                                                                                              [      [     [    [      [       [      [        [
                $GGUHVV%LWV        5HDGRQO\%LW                                                                                                       'DWD%LWV
                                     [    [   [     [        [       [      [        [            [       [        [      [     [     [      [     [
                                                   'DWD%LWV                                                             'DWD%LWV                                           DDD
  Fig 16. SPI data structure for a write operation (16-, 24- or 32-bit)
UJA1169                                             All information provided in this document is subject to legal disclaimers.                  © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                 Rev. 1 — 4 February 2016                                                                                            45 of 74


NXP Semiconductors                                                                                                         UJA1169
                                                          Mini high-speed CAN SBC with optional partial networking
                   The contents of the addressed registers are returned via pin SDO during an SPI data read
                   or write operation,
                   The UJA1169 tolerates attempts to write to registers that do not exist. If the available
                   address space is exceeded during a write operation, the data above the valid address
                   range is ignored (without generating an SPI failure event).
                   During a write operation, the UJA1169 monitors the number of SPI bits transmitted. If the
                   number recorded is not 16, 24 or 32, then the write operation is aborted and an SPI failure
                   event is captured (SPIF = 1).
                   If more than 32 bits are clocked in on pin SDI during a read operation, the data stream on
                   SDI is reflected on SDO from bit 33 onwards.
                   An SPI read/write access must not be attempted for at least tto(SPI) after the UJA1169 exits
                   Reset mode (positive edge on RSTN). Any earlier access may be ignored (without
                   generating an SPI failure event).
UJA1169                            All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                Rev. 1 — 4 February 2016                                                                           46 of 74


NXP Semiconductors                                                                                                                                UJA1169
                                                                       Mini high-speed CAN SBC with optional partial networking
                  7.15.2 Register map
                            The addressable register space contains 128 registers with addresses from 0x00 to 0x7F.
                            An overview of the register mapping is provided in Table 39 to Table 48. The functionality
                            of individual bits is discussed in more detail in relevant sections of the data sheet.
Table 39.      Overview of primary control registers
 Address Register Name                     Bit:
                                           7                  6                   5                   4                   3        2              1                  0
 0x00         Watchdog control             WMC                                                        reserved NWP
 0x01         Mode control                 reserved                                                                                MC
 0x02         Fail-safe control            reserved                                                                                LHC            RCC
 0x03         Main status                  reserved OTWS                          NMS                 RSS
 0x04         System event enable          reserved                                                                                OTWE           SPIFE              reserved
 0x05         Watchdog status              reserved                                                                       FNMS     SDMS           WDS
 0x06         Memory 0                     GPM[7:0]
 0x07         Memory 1                     GPM[15:8]
 0x08         Memory 2                     GPM[23:16]
 0x09         Memory 3                     GPM[31:24]
 0x0A         Lock control                 reserved LK6C                          LK5C                LK4C                LK3C     LK2C           LK1C               LK0C
Table 40.      Overview of regulator control registers
 Address Register Name                        Bit:
                                              7                     6             5                4                    3        2                1                       0
 0x10         Regulator control               reserved[1]           PDC           reserved                              V2C[2]/                   V1RTC[4]
                                                                                                                        VEXTC[3]
 0x1B         Supply status                   reserved                                                                           V2S[2]/VEXTS[3]                          V1S
 0x1C         Supply event enable             reserved                                                                           V2OE[2]/         V2UE[2]/                V1UE
                                                                                                                                 VEXTOE[3] VEXTUE[3]
[1]   Reserved bits can be read and overwritten without affecting device functionality; default value at power-up is 00 (other reserved bits
      always return 0).
[2]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
[3]   UJA1169TK/X and UJA1169TK/X/F only.
[4]   Fixed at 00 in UJA1169TK/3 and UJA1169TK/F/3.
Table 41.      Overview of transceiver control and partial networking registers
 Address Register Name                      Bit:
                                            7                   6                      5                       4              3         2                1                 0
 0x20         CAN control                   reserved            CFDC[1]                PNCOK[1]                CPNC[1]        reserved                   CMC
 0x22         Transceiver status            CTS                 CPNERR[1]              CPNS[1]                 COSCS[1]       CBSS      reserved VCS                       CFS
 0x23         Transceiver event enable reserved                                                                CBSE           reserved                   CFE               CWE
 0x26         Data rate                     reserved                                                                                    CDR[1]
 0x27         Identifier 0                  ID[7:0][1]
 0x28         Identifier 1                  ID[15:8][1]
 0x29         Identifier 2                  ID[23:16][1]
UJA1169                                         All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                             Rev. 1 — 4 February 2016                                                                                     47 of 74


NXP Semiconductors                                                                                                                            UJA1169
                                                                  Mini high-speed CAN SBC with optional partial networking
Table 41.   Overview of transceiver control and partial networking registers …continued
 Address Register Name                  Bit:
                                        7                  6                      5                       4               3         2                1                 0
 0x2A       Identifier 3                reserved                                                          ID[28:24][1]
 0x2B       Mask 0                      M[7:0][1]
 0x2C       Mask 1                      M[15:8][1]
 0x2D       Mask 2                      M[23:16][1]
 0x2E       Mask 3                      reserved                                                          M[28:24][1]
 0x2F       Frame control               IDE[1]             PNDM[1]                reserved                                DLC[1]
 0x68       Data mask 0                 DM0[7:0][1]
 0x69       Data mask 1                 DM1[7:0][1]
 0x6A       Data mask 2                 DM2[7:0][1]
 0x6B       Data mask 3                 DM3[7:0][1]
 0x6C       Data mask 4                 DM4[7:0][1]
 0x6D       Data mask 5                 DM5[7:0][1]
 0x6E       Data mask 6                 DM6[7:0][1]
 0x6F       Data mask 7                 DM7[7:0][1]
[1]   UJA1169TK/F, UJA1169TK/F/3 and UJA1169TK/X/F only; otherwise reserved.
Table 42.   Overview of WAKE pin control and status registers
 Address      Register Name            Bit:
                                       7                 6                   5                   4                   3        2               1                  0
 0x4B         WAKE pin status          reserved                                                                                               WPVS               reserved
 0x4C         WAKE pin enable          reserved                                                                                               WPRE               WPFE
Table 43.   Overview of event capture registers
 Address    Register Name              Bit:
                                       7                 6                   5                    4                  3        2               1                   0
 0x60       Global event status        reserved                                                                      WPE      TRXE            SUPE                SYSE
 0x61       System event status        reserved                                                   PO                 reserved OTW             SPIF                WDF
 0x62       Supply event status        reserved                                                                               V2O[1]/         V2U[1]/             V1U
                                                                                                                              VEXTO[2] VEXTU[2]
 0x63       Transceiver event status   reserved                              PNFDE[3] CBS                            reserved                 CF                  CW
 0x64       WAKE pin event status      reserved                                                                                               WPR                 WPF
[1]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
[2]   UJA1169TK/X and UJA1169TK/X/F only.
[3]   UJA1169TK/F, UJA1169TK/F/3 and UJA1169TK/X/F only; otherwise reserved.
Table 44.   Overview of MTPNV status register
 Address      Register Name            Bit:
                                       7                 6                   5                   4                   3        2               1                  0
 0x70         MTPNV status             WRCNTS                                                                                                 ECCS               NVMPS
UJA1169                                    All information provided in this document is subject to legal disclaimers.            © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                        Rev. 1 — 4 February 2016                                                                                      48 of 74


NXP Semiconductors                                                                                                                           UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
Table 45.   Overview of Start-up control register
 Address      Register Name            Bit:
                                       7                  6                   5                   4                3             2             1                    0
 0x73         Start-up control         reserved                               RLC                                  V2SUC[1]/     reserved
                                                                                                                   VEXTSUC[2]
[1]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
[2]   UJA1169TK/X and UJA1169TK/X/F only.
Table 46.   Overview of SBC configuration control register
 Address     Register Name                Bit:
                                          7                   6                 5                  4                  3       2              1                  0
 0x74        SBC configuration control reserved                                 V1RTSUC                               FNMC    SDMC           reserved SLPC
Table 47.   Overview of CRC control register
 Address      Register Name            Bit:
                                       7                  6                   5                   4                   3       2              1                  0
 0x75         MTPNV CRC control        CRCC[7:0]
Table 48.   Overview of Identification register
 Address      Register Name            Bit:
                                       7                  6                   5                   4                   3       2              1                  0
 0x7E         Identification           IDS[7:0]
               7.15.3 Register configuration in UJA1169 operating modes
                           A number of register bits may change state automatically when the UJA1169 switches
                           from one operating mode to another. This feature is particularly evident when the
                           UJA1169 switches to Off mode. These changes are summarized in Table 49. If an SPI
                           transmission is in progress when the UJA1169 changes state, the transmission is ignored
                           (automatic state changes have priority).
Table 49.   Register bit settings in UJA1169 operating modes
 Symbol         Off (power-on           Standby                     Normal                           Sleep                   Overtemp                Reset
                default)
 CBS            0                       no change                   no change                        no change               no change               no change
 CBSE           0                       no change                   no change                        no change               no change               no change
 CBSS           1                       actual state                actual state                     no change               actual state            actual state
 CDR[1]         101                     no change                   no change                        no change               no change               no change
 CF             0                       no change                   no change                        no change               no change               no change
 CFDC[1]        0                       no change                   no change                        no change               no change               no change
 CFE            0                       no change                   no change                        no change               no change               no change
 CFS            0                       actual state                actual state                     actual state            actual state            actual state
 CMC            00                      no change                   no change                        no change               no change               no change
 COSCS[1]       0                       actual state                actual state                     actual state            actual state            actual state
 CPNC[1]        0                       no change                   no change                        no change               no change               no change
 CPNERR[1]      1                       actual state                actual state                     actual state            actual state            actual state
UJA1169                                     All information provided in this document is subject to legal disclaimers.          © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                                    49 of 74


NXP Semiconductors                                                                                                                    UJA1169
                                                                Mini high-speed CAN SBC with optional partial networking
Table 49.   Register bit settings in UJA1169 operating modes …continued
 Symbol        Off (power-on           Standby                   Normal                           Sleep             Overtemp                  Reset
               default)
 CPNS[1]       0                       actual state              actual state                     actual state      actual state              actual state
 CRCC          00000000                no change                 no change                        no change         no change                 no change
 CTS           0                       0                         actual state                     0                 0                         0
 CW            0                       no change                 no change                        no change         no change                 no change
 CWE           0                       no change                 no change                        no change         no change                 no change
 DMn[1]        11111111                no change                 no change                        no change         no change                 no change
 DLC[1]        0000                    no change                 no change                        no change         no change                 no change
 ECCS          actual state            actual state              actual state                     actual state      actual state              actual state
 FNMC          MTPNV                   MTPNV                     MTPNV                            MTPNV             MTPNV                     MTPNV
 FNMS          0                       actual state              actual state                     actual state      actual state              actual state
 GPMn          00000000                no change                 no change                        no change         no change                 no change
 IDn           00000000                no change                 no change                        no change         no change                 no change
 IDE           0                       no change                 no change                        no change         no change                 no change
 IDS           1100 1111 (TK)          no change                 no change                        no change         no change                 no change
               1101 1111 (TK/3)
               1110 1111 (TK/F)
               1111 1111 (TK/F/3)
               1100 1110 (TK/X)
               1110 1110 (TK/X/F)
 LHC           0                       no change                 no change                        no change         1 if t > td(limp);        1 if RCC = 3 or
                                                                                                                    otherwise no              t > td(limp);
                                                                                                                    change                    otherwise no
                                                                                                                                              change
 LKnC          0                       no change                 no change                        no change         no change                 no change
 MC            100                     100                       111                              001               don’t care                100
 NMS           1                       no change                 0                                no change         no change                 no change
 NVMPS         actual state            actual state              actual state                     actual state      actual state              actual state
 NWP           0100                    no change                 no change                        no change         0100                      0100
 OTW           0                       no change                 no change                        no change         no change                 no change
 OTWE          0                       no change                 no change                        no change         no change                 no change
 OTWS          0                       actual state              actual state                     actual state      actual state              actual state
 PDC           0                       no change                 no change                        no change         no change                 no change
 PNCOK[1]      0                       no change                 no change                        no change         no change                 no change
 PNDM[1]       1                       no change                 no change                        no change         no change                 no change
 PNFDE[1]      0                       no change                 no change                        no change         no change                 no change
 PO            1                       no change                 no change                        no change         no change                 no change
 RCC           00                      no change                 no change                        no change         no change                 RCC++
 RLC           MTPNV                   MTPNV                     MTPNV                            MTPNV             MTPNV                     MTPNV
 RSS           00000                   no change                 no change                        no change         10010                     reset source
 SDMC          MTPNV                   MTPNV                     MTPNV                            MTPNV             MTPNV                     MTPNV
 SDMS          0                       actual state              actual state                     actual state      actual state              actual state
 SLPC          MTPNV                   MTPNV                     MTPNV                            MTPNV             MTPNV                     MTPNV
UJA1169                                  All information provided in this document is subject to legal disclaimers.      © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                      Rev. 1 — 4 February 2016                                                                                50 of 74


NXP Semiconductors                                                                                                                     UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
Table 49.      Register bit settings in UJA1169 operating modes …continued
 Symbol            Off (power-on          Standby                   Normal                           Sleep             Overtemp                Reset
                   default)
 SPIF              0                      no change                 no change                        no change         no change               no change
 SPIFE             0                      no change                 no change                        no change         no change               no change
 SUPE              0                      no change                 no change                        no change         no change               no change
 SYSE              1                      no change                 no change                        no change         no change               no change
 TRXE              0                      no change                 no change                        no change         no change               no change
 V1RTC             defined by V1RTSUC     no change                 no change                        no change         no change               no change
                   in 5 V variants[2]
 V1RTSUC           MTPNV                  MTPNV                     MTPNV                            MTPNV             MTPNV                   MTPNV
 V1S               0                      actual state              actual state                     actual state      actual state            actual state
 V1UE              0                      no change                 no change                        no change         no change               no change
 V1U               0                      no change                 no change                        no change         no change               no change
 VCS               0                      actual state              actual state                     actual state      actual state            actual state
 V2C[3]/           defined by             no change                 no change                        no change         no change               no change
 VEXTC[4]          V2SUC[3]/VEXTSUC[4]
 V2O[3]/           0                      no change                 no change                        no change         no change               no change
 VEXTO[4]
 V2OE[3]/          0                      no change                 no change                        no change         no change               no change
 VEXTOE[4]
 V2S[3]/           00                     actual state              actual state                     actual state      actual state            actual state
 VEXTS[4]
 V2SUC[3]/         MTPNV                  MTPNV                     MTPNV                            MTPNV             MTPNV                   MTPNV
 VEXTSUC[4]
 V2U[3]/           0                      no change                 no change                        no change         no change               no change
 VEXTU[4]
 V2UE[3]/          0                      no change                 no change                        no change         no change               no change
 VEXTUE[4]
 WDF               0                      no change                 no change                        no change         no change               no change
 WDS               0                      actual state              actual state                     actual state      actual state            actual state
 WMC               [5]                    no change                 no change                        no change         no change               [5]
 WPE               0                      no change                 no change                        no change         no change               no change
 WPF               0                      no change                 no change                        no change         no change               no change
 WPR               0                      no change                 no change                        no change         no change               no change
 WPFE              0                      no change                 no change                        no change         no change               no change
 WPRE              0                      no change                 no change                        no change         no change               no change
 WPVS              0                      no change                 no change                        no change         no change               no change
 WRCNTS            actual state           actual state              actual state                     actual state      actual state            actual state
[1]   UJA1169TK/F, UJA1169TK/F/3, and UJA1169TK/X/F only; otherwise reserved.
[2]   Fixed at 00 in UJA1169TK/3 and UJA1169TK/F/3.
[3]   UJA1169TK, UJA1169TK/3, UJA1169TK/F and UJA1169TK/F/3 only.
[4]   UJA1169TK/X and UJA1169TK/X/F only.
[5]   001 if SDMC = 1; otherwise 010.
UJA1169                                     All information provided in this document is subject to legal disclaimers.    © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                              51 of 74


NXP Semiconductors                                                                                                                          UJA1169
                                                                           Mini high-speed CAN SBC with optional partial networking
8. Limiting values
Table 50. Limiting values
In accordance with the Absolute Maximum Rating System (IEC 60134).
 Symbol            Parameter                       Conditions                                                                          Min         Max                   Unit
 Vx                voltage on pin x                pin V1, V2 (UJA1169TK, UJA1169TK/3,                                            [1]  0.3        +6                    V
                                                   UJA1169TK/F and UJA1169TK/F/3)
                                                   pin VEXT (UJA1169TK/X, UJA1169TK/X/F)                                               18         +40                   V
                                                   pins TXD, RXD, SDI, SDO, SCK, SCSN, RSTN                                            0.3        VV1 + 0.3 V
                                                   pin VEXCC                                                                           0.3        +6                    V
                                                   pin WAKE                                                                            18         +40                   V
                                                   pins LIMP, BAT, VEXCTRL                                                             0.3        +40                   V
                                                   pins CANH and CANL with respect to any other pin                                    58         +58                   V
 II(LIMP)          input current on pin LIMP LHC = 1                                                                                   -           +20                   mA
 V(CANH-CANL) voltage between pin                                                                                                      40         +40                   V
                   CANH and pin CANL
 Vtrt              transient voltage               on pins CANL, CANH; WAKE, BAT with application                                 [2]  150        +100                  V
                                                   circuitry; VEXT coupling via 1 nF capacitor
 VESD              electrostatic discharge         IEC 61000-4-2 (150 pF, 330 )                                                  [3]
                   voltage                            on pins CANH and CANL; pin BAT with capacitor;                                   6          +6                    kV
                                                      pin WAKE with 10 nF capacitor and 10 k resistor;
                                                      pin VEXT with 2.2 F capacitor
                                                   Human Body Model (HBM); 100 pF, 1.5 k                                         [4]
                                                      on pins CANH, CANL                                                          [5]  8          +8                    kV
                                                      on pins BAT, LIMP, WAKE, VEXT with application                              [6]  4          +4                    kV
                                                      circuitry
                                                      on any other pin                                                                 2          +2                    kV
                                                   Charged Device Model (CDM); field Induced charge;                              [7]
                                                   4 pF
                                                      on any pin                                                                       500        +500                  V
 Tvj               virtual junction                                                                                               [8]  40         +150                  C
                   temperature                     when programming the MTPNV cells                                                    0           +125                  C
 Tstg              storage temperature                                                                                                 55         +150                  C
[1]    When the device is not powered up, IV1 (max) = 25 mA.
[2]    Verified by an external test house to ensure that pins can withstand ISO 7637 part 2 automotive transient test pulses 1, 2a, 3a and 3b.
[3]    According to IEC TS 62228 (2007), Section 4.3; DIN EN 61000-4-2.
[4]    According to AEC-Q100-002.
[5]    V1 and BAT connected to GND, emulating the application circuit.
[6]    Only valid with the external application circuitry connected to these pins shown in Figure 20.
[7]    According to AEC-Q100-011 Rev-C1. The classification level is C4B.
[8]    In accordance with IEC 60747-1. An alternative definition of virtual junction temperature is: Tvj = Tamb + P  Rth(j-a), where Rth(j-a) is a
       fixed value used in the calculation of Tvj. The rating for Tvj limits the allowable combinations of power dissipation (P) and ambient
       temperature (Tamb).
UJA1169                                             All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                 Rev. 1 — 4 February 2016                                                                           52 of 74


NXP Semiconductors                                                                                                                          UJA1169
                                                                       Mini high-speed CAN SBC with optional partial networking
9. Thermal characteristics
Table 51.      Thermal characteristics
 Symbol           Parameter                                                                  Conditions                                         Typ            Unit
 Rth(vj-a)        thermal resistance from virtual junction to ambient HVSON20                                                              [1]  33.5           K/W
[1]   According to JEDEC JESD51-2, JESD51-5 and JESD51-7 at natural convection on 2s2p board. Board with two inner copper layers
      (thickness: 35 m) and thermal via array under the exposed pad connected to the first inner copper layer (thickness: 70 m).
10. Static characteristics
Table 52. Static characteristics
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol            Parameter                                  Conditions                                                   Min     Typ             Max                   Unit
 Supply; pin BAT
 IBAT              battery supply current                     Sleep mode; MC = 001;                                        -       53              65                    A
                                                              CAN Offline mode; V2/VEXT off;
                                                              VBAT = 7 V to 18 V;
                                                              40 C < Tvj < 50 C;
                                                              Standby mode; MC = 100;                                      -       71              83                    A
                                                              CAN Offline mode; V2/VEXT off;
                                                              IV1 = 0 A; VBAT = 7 V to 18 V;
                                                              40 C < Tvj < 50 C
                                                              additional current with V2 on                                -       8               32                    A
                                                              (V2C = 01/10/11);
                                                              IV2 = 0 A; VBAT = 7 V to 18 V;
                                                              40 C < Tvj < 85 C
                                                              additional current with VEXT on                              -       72              81                    A
                                                              (VEXTC = 01/10/11);
                                                              IVEXT = 0 A; VBAT = 7 V to 18 V;
                                                              40 C < Tvj < 85 C
                                                              additional current in CAN Offline                            -       38              55                    A
                                                              Bias mode;
                                                              40 C < Tvj < 85 C
                                                              additional current when partial                              -       300             337                   A
                                                              networking enabled; bus active;
                                                              CPNC = 1; PNCOK = 1;
                                                              40 C < Tvj < 85 C
                                                              additional current from WAKE                                 -       2               3                     A
                                                              input; WPRE = WPFE = 1;
                                                              40 C < Tvj < 85 C
                                                              Normal mode; MC = 111;                                       -       4               7.5                   mA
                                                              CAN Active mode; CAN
                                                              recessive; VTXD = VV1
                                                              Normal mode; MC = 111;                                       -       46              67                    mA
                                                              CAN Active mode; CAN
                                                              dominant; VTXD = 0 V
 Vth(det)pon       power-on detection threshold               VBAT rising                                                  4.2     -               4.55                  V
                   voltage
UJA1169                                         All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                             Rev. 1 — 4 February 2016                                                                               53 of 74


NXP Semiconductors                                                                                                                             UJA1169
                                                                    Mini high-speed CAN SBC with optional partial networking
Table 52. Static characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol         Parameter                                  Conditions                                                       Min       Typ             Max                   Unit
 Vth(det)poff   power-off detection threshold              VBAT falling                                                     2.8       -               3                     V
                voltage
 Voltage source: pin V1
 VO             output voltage                             VO(V1)nom = 5 V;                                             [1] 4.9       5               5.1                   V
                                                           VBAT = 5.5 V to 28 V;
                                                           IV1 = 200 mA to 0 mA
                                                           VO(V1)nom = 5 V;                                                 4.9       5               5.1                   V
                                                           VBAT = 5.65 V to 28 V;
                                                           IV1 = 250 mA to 0 mA
                                                           VO(V1)nom = 5 V;                                                 -         -               5.5                   V
                                                           VBAT below Vth(det)poff and rising;
                                                           t  tstartup; Tvj  125 C
                                                           VO(V1)nom = 3.3 V;                                               3.234     3.3             3.366                 V
                                                           VBAT = 3.834 V to 28 V;
                                                           IV1 = 200 mA to 0 mA
                                                           VO(V1)nom = 3.3 V;                                               3.234     3.3             3.366                 V
                                                           VBAT = 3.984 V to 28 V;
                                                           IV1 = 250 mA to 0 mA
 Vret(RAM)     RAM retention voltage                      between VBAT and VV1; 5 V
                difference                                 variants only
                                                               VBAT = 2 V to 3 V; IV1 = 2 mA                               -         -               100                   mV
                                                               VBAT = 2 V to 3 V;                                       [1]                           10                    mV
                                                               IV1 = 200 A
 RON(BAT-V1)    ON resistance between pin BAT VBAT = 3.25 V to 5.65 V;                                                      -         -               3                     
                and pin V1                                 IV1 = 250 mA
                                                           VBAT = 2.8 V to 3.25 V;                                          -         -               3.2                   
                                                           IV1 = 250 mA
 Vuvd           undervoltage detection voltage             5 V variants
                                                               Vuvd(nom) = 90 %                                             4.5       -               4.75                  V
                                                               Vuvd(nom) = 80 %                                             4         -               4.25                  V
                                                               Vuvd(nom) = 70 %                                             3.5                       3.75                  V
                                                               Vuvd(nom) = 60 %                                             3         -               3.25                  V
                                                           3.3 V variants
                                                               Vuvd(nom) = 90 %                                             2.97      -               3.135                 V
 Vuvr           undervoltage recovery voltage              5 V variants (90 %)                                              4.5       -               4.75                  V
                                                           3.3 V variants (90 %)                                            2.97      -               3.135                 V
 Isink          sink current                               VBAT = 5.65 V to 18 V                                            214       -               -                     mA
 IO(sc)         short-circuit output current                                                                                500      -               250                  mA
 PNP base; pin VEXCTRL
 IO(sc)         short-circuit output current               VVEXCTRL  4.5 V;                                                4.2       5.8             7.5                   mA
                                                           VBAT = 6 V to 28 V
UJA1169                                      All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                          Rev. 1 — 4 February 2016                                                                                     54 of 74


NXP Semiconductors                                                                                                                            UJA1169
                                                                    Mini high-speed CAN SBC with optional partial networking
Table 52. Static characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol         Parameter                                  Conditions                                                       Min      Typ             Max                   Unit
 Ith(act)PNP    PNP activation threshold current load current increasing; external
                                                           PNP transistor connected - see
                                                           Section 7.5.2
                                                               PDC 0                                                        -        -               130                   mA
                                                               PDC 0; Tvj = 150 C                                      [1] 60       83              100                   mA
                                                               PDC 1                                                        -        -               80                    mA
                                                               PDC 1; Tvj = 150 C                                      [1] 36       50              59                    mA
 Ith(deact)PNP  PNP deactivation threshold                 load current falling; external
                current                                    PNP transistor connected - see
                                                           Section 7.5.2
                                                               PDC 0                                                        -        -               70                    mA
                                                               PDC 0; Tvj = 150 C                                      [1] 26       44              59                    mA
                                                               PDC 1                                                        -        -               18                    mA
                                                               PDC 1; Tvj = 150 C                                      [1] 6        11              17                    mA
 Vth(Ictrl)PNP  PNP current control threshold              rising edge on pin BAT                                           5.9      -               7.5                   V
                voltage
 PNP collector; pin VEXCC
 Vth(act)Ilim   current limiting activation                measured across resistor                                         240      -               330                   mV
                threshold voltage                          connected between pins VEXCC
                                                           and V1 (see Section 7.5.2);
                                                           2 V  VV1  5.5 V;
                                                           6 V < VBAT < 28 V
 Voltage source: V2 (UJA1169TK, UJA1169TK/F, UJA1169TK/3 and UJA1169TK/F/3 only)
 VO             output voltage                             VBAT = 5.8 V to 28 V;                                            4.9      5               5.1                   V
                                                           IV2 = 100 mA to 0 mA
 Vth(uvp)       undervoltage protection                    detection and recovery                                           4.5      -               4.75                  V
                threshold voltage                          thresholds
 Vth(ovp)       overvoltage protection threshold detection and recovery                                                     5.2      -               5.5                   V
                voltage                                    thresholds
 RON(BAT-V2)    ON resistance between pin BAT VBAT = 4.5 V to 5.8 V;                                                        -        -               8.7                   
                and pin V2                                 IV2 = 100 mA to 5 mA
 IO(sc)         short-circuit output current                                                                                250     -               100                  mA
 Voltage source: VEXT (UJA1169TK/X and UJA1169TK/X/F only)
 VO             output voltage                             VBAT = 6 V to 28 V;                                              4.9      5               5.1                   V
                                                           IVEXT = 100 mA to 0 mA
 Vth(uvp)       undervoltage protection                    detection and recovery                                           4.5      -               4.75                  V
                threshold voltage                          thresholds
 Vth(ovp)       overvoltage protection threshold detection and recovery                                                     5.2      -               5.5                   V
                voltage                                    thresholds
 RON(BAT-VEXT) ON resistance between pin BAT VBAT = 4.5 V to 6 V;                                                           -        -               11                    
                and pin VEXT                               IVEXT = 100 mA to 5 mA
 IO(sc)         short-circuit output current                                                                                250     -               100                  mA
UJA1169                                      All information provided in this document is subject to legal disclaimers.          © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                          Rev. 1 — 4 February 2016                                                                                    55 of 74


NXP Semiconductors                                                                                                                            UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
Table 52. Static characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol         Parameter                                 Conditions                                                       Min       Typ             Max                   Unit
 Limp-home output (LIMP)
 VO             output voltage                            ILIMP = 0.8 mA; LHC = 1;                                         -         -               0.4                   V
                                                          Tvj = 40 C to Tth(act)otp(max)
 ILO            output leakage current                    VLIMP = 0 V to 28 V; LHC = 0                                     5        -               +5                    A
 Serial peripheral interface inputs; pins SDI, SCK and SCSN
 Vth(sw)        switching threshold voltage                                                                                0.25VV1 -                 0.75VV1               V
 Vth(sw)hys     switching threshold voltage                                                                                0.05VV1 -                 -                     V
                hysteresis
 Rpd(SCK)       pull-down resistance on pin SCK                                                                            40        60              80                    k
 Rpu(SCSN)      pull-up resistance on pin SCSN                                                                             40        60              80                    k
 ILI(SDI)       input leakage current on pin SDI VSDI = 0 V or VV1                                                         5        -               +5                    A
 Ci             input capacitance                         Vi = VV1                                                     [1] -         3               6                     pF
 Serial peripheral interface data output; pin SDO
 VOH            HIGH-level output voltage                 IOH = 4 mA                                                      VV1       -               -                     V
                                                                                                                            0.4
 VOL            LOW-level output voltage                  IOL = 4 mA                                                       -         -               0.4                   V
 ILO(off)       off-state output leakage current          VSCSN = VV1; VSDO = 0 V or VV1                                   5        -               +5                    A
 Co             output capacitance                        SCSN = VV1                                                   [1] -         3               6                     pF
 CAN transmit data input; pin TXD
 Vth(sw)        switching threshold voltage                                                                                0.25VV1 -                 0.75VV1               V
 Vth(sw)hys     switching threshold voltage                                                                                0.05VV1 -                 -                     V
                hysteresis
 Rpu            pull-up resistance                                                                                         40        60              80                    k
 CAN receive data output; pin RXD
 VOH            HIGH-level output voltage                 IOH = 4 mA                                                      VV1       -               -                     V
                                                                                                                            0.4
 VOL            LOW-level output voltage                  IOL = 4 mA                                                       -         -               0.4                   V
 Rpu            pull-up resistance                        CAN Offline mode                                                 40        60              80                    k
 Local wake input; pin WAKE
 Vth(sw)r       rising switching threshold                                                                                 2.8       -               4.1                   V
                voltage
 Vth(sw)f       falling switching threshold                                                                                2.4       -               3.75                  V
                voltage
 Vhys(i)        input hysteresis voltage                                                                                   250       -               800                   mV
 Ii             input current                             Tvj = 40 C to +85 C                                           -         -               1.5                   A
 High-speed CAN-bus lines; pins CANH and CANL
 VO(dom)        dominant output voltage                   CAN Active mode; VTXD = 0 V
                                                              pin CANH                                                     2.75      3.5             4.5                   V
                                                              pin CANL                                                     0.5       1.5             2.25                  V
UJA1169                                     All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                                     56 of 74


NXP Semiconductors                                                                                                                               UJA1169
                                                                      Mini high-speed CAN SBC with optional partial networking
Table 52. Static characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol          Parameter                                   Conditions                                                       Min       Typ             Max                   Unit
 Vdom(TX)sym     transmitter dominant voltage                Vdom(TX)sym =                                                    400      -               +400                  mV
                 symmetry                                    VCAN  VCANH  VCANL;
                                                             VCAN = 5 V
 VTXsym          transmitter voltage symmetry                VTXsym = VCANH + VCANL;                                      [1] 0.9VCAN -                 1.1VCAN               V
                                                             fTXD = 250 kHz; CSPLIT = 4.7 nF                              [2]
 VO(dif)bus      bus differential output voltage             CAN Active mode (dominant);
                                                             VTXD = 0 V;
                                                             VCAN = 4.75 V to 5.5 V
                                                                 R(CANH-CANL) = 50  to 65                                   1.5       -               3.0                   V
                                                                 R(CANH-CANL) = 45  to 65                                   1.4       -               3.0                   V
                                                             CAN Active mode (recessive);                                     50       -               +50                   mV
                                                             CAN Listen-only mode;
                                                             CAN Offline mode; VTXD = VV1;
                                                             R(CANH-CANL) = no load
 VO(rec)         recessive output voltage                    CAN Active mode; VTXD = VV1                                      2         0.5VCAN 3                             V
                                                             R(CANH-CANL) = no load
                                                             CAN Offline mode;                                                0.1      -               +0.1                  V
                                                             R(CANH-CANL) = no load
                                                             CAN Offline Bias/Listen-only                                     2         2.5             3                     V
                                                             modes; R(CANH-CANL) = no load
 IO(sc)dom       dominant short-circuit output               CAN Active mode;
                 current                                     VTXD = 0 V; VCAN = 5 V
                                                                 pin CANH; VCANH = 3 V                                       55       -               -                     mA
                                                                 pin CANL; VCANL = +16 V                                      -         -               +55                   mA
 IO(sc)rec       recessive short-circuit output              VCANL = VCANH = 27 V to +32 V;                                  3        -               +3                    mA
                 current                                     VTXD = VV1
 Vth(RX)dif      differential receiver threshold             CAN Active/Listen-only modes;                                    0.5       0.7             0.9                   V
                 voltage                                     12 V < VCANL < +12 V;
                                                             12 V < VCANH < +12 V
                                                             CAN Offline mode;                                                0.4       0.7             1.15                  V
                                                             12 V < VCANL < +12 V;
                                                             12 V < VCANH < +12 V
 Vth(RX)dif(hys) differential receiver threshold             CAN Active/Listen-only modes;                                    50        200             400                   mV
                 voltage hysteresis                          12 V < VCANL < +12 V;
                                                             12 V < VCANH < +12 V
 Ri(cm)          common-mode input resistance                                                                                 9         15              28                    k
 Ri             input resistance deviation                                                                                   1        -               +1                    %
 Ri(dif)         differential input resistance               12 V < VCANL < +12 V;                                           19        30              52                    k
                                                             12 V < VCANH < +12 V
 Ci(cm)          common-mode input                                                                                        [1] -         -               20                    pF
                 capacitance
 Ci(dif)         differential input capacitance                                                                           [1] -         -               10                    pF
 ILI             input leakage current                       VBAT = VCAN = 0 V or VBAT =                                      5        -               +5                    A
                                                             VCAN = shorted to ground via
                                                             47 k; VCANH = VCANL = 5 V
UJA1169                                        All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                            Rev. 1 — 4 February 2016                                                                                     57 of 74


NXP Semiconductors                                                                                                                                UJA1169
                                                                       Mini high-speed CAN SBC with optional partial networking
Table 52. Static characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol            Parameter                                  Conditions                                                       Min       Typ             Max                   Unit
 Vuvd(CAN)         CAN undervoltage detection                 on pin BAT; VBAT falling                                         4.2       -               4.55                  V
                   voltage                                    on VCAN; see Section 7.9.3                                       4.5       -               4.75                  V
 Vuvr(CAN)         CAN undervoltage recovery                  VBAT rising                                                      4.5       -               5                     V
                   voltage                                    on VCAN; see Section 7.9.3                                       4.5       -               4.75                  V
 IDD(CAN)          CAN supply current                         CAN Active mode; CAN                                         [3] 1         3               6                     mA
                                                              recessive; VTXD = VV1
                                                              CAN Active mode; CAN                                         [3] 3         7.5             15                    mA
                                                              dominant; VTXD = 0 V;
                                                              R(CANH-CANL) = no load
 Temperature protection
 Tth(act)otp       overtemperature protection                                                                                  167       177             187                   C
                   activation threshold temperature
 Tth(rel)otp       overtemperature protection                                                                                  127       137             147                   C
                   release threshold temperature
 Tth(warn)otp      overtemperature protection                                                                                  127       137             147                   C
                   warning threshold temperature
 Reset output; pin RSTN
 VOL               LOW-level output voltage                   VV1 = 1.0 V to 5.5 V; pull-up                                    0         -               0.2VV1                V
                                                              resistor to VV1  900 
 Rpu               pull-up resistance                                                                                          40        60              80                    k
 Vth(sw)           switching threshold voltage                                                                                 0.25VV1 -                 0.75VV1               V
 Vth(sw)hys        switching threshold voltage                                                                                 0.05VV1 -                 -                     V
                   hysteresis
 MTP non-volatile memory
 Ncy(W)MTP         number of MTP write cycles                 VBAT = 6 V to 28 V;                                              -         -               200                   -
                                                              Tvj = 0 C to +125 C
[1]   Not tested in production; guaranteed by design.
[2]   The test circuit used to measure the bus output voltage symmetry (which includes CSPLIT) is shown in Figure 22.
[3]   From V1 in VEXT versions (UJA1169TK/X and UJA1169TK/X/F) and from V2 in other variants.
UJA1169                                         All information provided in this document is subject to legal disclaimers.           © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                             Rev. 1 — 4 February 2016                                                                                     58 of 74


NXP Semiconductors                                                                                                                    UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
11. Dynamic characteristics
Table 53. Dynamic characteristics
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol            Parameter                               Conditions                                                  Min       Typ            Max               Unit
 Voltage source; pin V1
 tstartup          start-up time                           from VBAT exceeding the power-on                            -         2.8            4.7               ms
                                                           detection threshold until VV1 exceeds
                                                           the 90 % undervoltage threshold;
                                                           CV1 = 4.7 F
 td(uvd)           undervoltage detection delay            VV1 falling                                                 6         -              54                s
                   time
 td(uvd-RSTNL)     delay time from undervoltage            undervoltage on V1                                          -         -              63                s
                   detection to RSTN LOW
 Voltage source; pin V2 (UJA1169TK, UJA1169TK/F, UJA1169TK/3 and UJA1169TK/F/3)/VEXT(UJA1169TK/X,
 UJA1169TK/X/F)
 td(uvd)           undervoltage detection delay            VV2/VVEXT falling                                           6         -              32                s
                   time                                    at start-up of VV2/VVEXT                                    2.2       2.5            2.8               ms
 td(ovd)           overvoltage detection delay             VV2/VVEXT falling                                           6         -              32                s
                   time
 Serial peripheral interface timing; pins SCSN, SCK, SDI and SDO
 tcy(clk)          clock cycle time                                                                                    250       -              -                 ns
 tSPILEAD          SPI enable lead time                                                                                50        -              -                 ns
 tSPILAG           SPI enable lag time                                                                                 50        -              -                 ns
 tclk(H)           clock HIGH time                                                                                     125       -              -                 ns
 tclk(L)           clock LOW time                                                                                      125       -              -                 ns
 tsu(D)            data input set-up time                                                                              50        -              -                 ns
 th(D)             data input hold time                                                                                50        -              -                 ns
 tv(Q)             data output valid time                  pin SDO; CL = 20 pF                                         -         -              50                ns
 tWH(S)            chip select pulse width HIGH            pin SCSN                                                    250       -              -                 ns
 tto(SPI)          SPI time-out time                       after leaving Reset mode;                                   -         --             20                s
                                                           VV1 = 1.0 V to 5.5 V;
                                                           RSTN rising edge
 td(SCKL-SCSNL)    delay time from SCK LOW to                                                                          50        -              -                 ns
                   SCSN LOW
 CAN transceiver timing; pins CANH, CANL, TXD and RXD
 td(TXDL-RXDL)     delay time from TXD LOW to              VTXD = 30 % VV1 to VRXD = 30 % VV1;                         -         -              255               ns
                   RXD LOW                                 CRXD = 15 pF;
                                                           fTXD = 250 kHz; R(CANH-CANL) = 60 ;
                                                           C(CANH-CANL) = 100 pF;
 td(TXDH-RXDH)     delay time from TXD HIGH to             VTXD = 70 % VV1 to VRXD = 70 % VV1;                         -         -              255               ns
                   RXD HIGH                                CRXD = 15 pF;
                                                           fTXD = 250 kHz; R(CANH-CANL) = 60 ;
                                                           C(CANH-CANL) = 100 pF;
UJA1169                                     All information provided in this document is subject to legal disclaimers.   © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                             59 of 74


NXP Semiconductors                                                                                                                        UJA1169
                                                                   Mini high-speed CAN SBC with optional partial networking
Table 53. Dynamic characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol            Parameter                               Conditions                                                      Min       Typ            Max               Unit
 tbit(RXD)         bit time on pin RXD                     tbit(TXD) = 500 ns (see Figure 18);                             400       -              550               ns
                                                           R(CANH-CANL) = 60 ;
                                                           C(CANH-CANL) = 100 pF
 td(TXD-busdom)    delay time from TXD to bus              R(CANH-CANL) = 60 ;                                            -         80             105               ns
                   dominant                                C(CANH-CANL) = 100 pF;
                                                           VCANH  VCANL = 900 mV
 td(TXD-busrec)    delay time from TXD to bus              R(CANH-CANL) = 60 ;                                            -         80             105               ns
                   recessive                               C(CANH-CANL) = 100 pF;
                                                           VCANH  VCANL = 500 mV
 td(busdom-RXD)    delay time from bus dominant            CRXD = 15 pF; VRXD = 30 % VV1                                   -         105            -                 ns
                   to RXD
 td(busrec-RXD)    delay time from bus recessive           CRXD = 15 pF; VRXD = 70 % VV1;                                  -         120            -                 ns
                   to RXD
 twake(busdom)     bus dominant wake-up time               first pulse (after first recessive) for                         0.5       -              3.0               s
                                                           wake-up on pins CANH and CANL;
                                                           CAN Offline mode
                                                           second pulse for wake-up on pins                                0.5       -              3.0               s
                                                           CANH and CANL
 twake(busrec)     bus recessive wake-up time              first pulse for wake-up on pins CANH                            0.5       -              3.0               s
                                                           and CANL;
                                                           CAN Offline mode
                                                           second pulse (after first dominant) for                         0.5       -              3.0               s
                                                           wake-up on pins CANH and CANL
 tto(wake)         wake-up time-out time                   between first and second dominant                               570       -              1200              s
                                                           pulses; CAN Offline mode
 tto(dom)TXD       TXD dominant time-out time              CAN Active mode;                                                2.7       -              3.3               ms
                                                           VTXD = 0 V
 tto(silence)      bus silence time-out time               recessive time measurement started                              0.95      -              1.17              s
                                                           in all CAN modes
 td(busact-bias)   delay time from bus active to                                                                           -         -              200               s
                   bias
 tstartup(CAN)     CAN start-up time                       to CTS = 1; when switching to Active                            -         -              220               s
                                                           mode
 Pin RXD: event capture timing (valid in CAN Offline mode only)
 td(event)         event capture delay time                CAN Offline mode                                                0.9       -              1.1               ms
 tblank            blanking time                           when switching from Offline to                                  -         -              25                s
                                                           Active/Listen-only mode
 Watchdog
 ttrig(wd)1        watchdog trigger time 1                 Normal mode; watchdog Window                                [2] 0.45 -                   0.55  ms
                                                           mode only                                                       N                       NWP[3]
                                                                                                                           WP[3
                                                                                                                           ]
 ttrig(wd)2        watchdog trigger time 2                 Normal/Standby mode                                         [4] 0.9  -                  1.11  ms
                                                                                                                           NWP                      NWP[3]
                                                                                                                           [3]
UJA1169                                     All information provided in this document is subject to legal disclaimers.       © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                         Rev. 1 — 4 February 2016                                                                                 60 of 74


NXP Semiconductors                                                                                                                            UJA1169
                                                                            Mini high-speed CAN SBC with optional partial networking
Table 53. Dynamic characteristics …continued
Tvj = 40 C to +150 C; VBAT = 2.8 V to 28 V; VCAN = 4.5 V to 5.5 V; VCAN = VV1 (UJA1169TK/X, UJA1169TK/X/F);
VCAN = VV2 (UJA1169TK, UJA1169TK/3, UJA1169TK/F, UJA1169TK/F/3); R(CANH-CANL) = 60 ; all voltages are defined with
respect to ground; positive currents flow into the IC; typical values are given at VBAT = 13 V; unless otherwise specified.
 Symbol                Parameter                                    Conditions                                                  Min      Typ            Max               Unit
 Pin RSTN: reset pulse width
 tw(rst)               reset pulse width                            output pulse width
                                                                        RLC = 00                                                20       -              25                ms
                                                                        RLC = 01                                                10       -              12.5              ms
                                                                        RLC = 10                                                3.6      -              5                 ms
                                                                        RLC = 11                                                1        -              1.5               ms
                                                                    input pulse width                                           18       -              -                 s
 Pin LIMP
 td(limp)              limp delay time                                                                                          117      -              145               ms
 Pin WAKE
 twake                 wake-up time                                                                                             50       -              -                 s
 MTP non-volatile memory
 td(MTPNV)             MTPNV delay time                             before factory presets are restored;                        0.9      -              1.1               s
                                                                    VBAT = 6 V to 28 V
[1]    Not tested in production; guaranteed by design.
[2]    A system reset will be performed if the watchdog is in Window mode and is triggered earlier than ttrig(wd)1 after the start of the watchdog
       period (thus in the first half of the watchdog period).
[3]    The nominal watchdog period is programmed via the NWP control bits.
[4]    The watchdog will be reset if it is in window mode and is triggered after ttrig(wd)1, but not later than ttrig(wd)2, after the start of the watchdog
       period (thus, in the second half of the watchdog period). If the watchdog is triggered later than ttrig(wd)2 after the start of the watchdog
       period (watchdog overflow), a system reset will be performed.
UJA1169                                              All information provided in this document is subject to legal disclaimers.  © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                  Rev. 1 — 4 February 2016                                                                            61 of 74


NXP Semiconductors                                                                                                                     UJA1169
                                                             Mini high-speed CAN SBC with optional partial networking
                                                                                                                                                          +,*+
                          7;'
                                                                                                                                                          /2:
                       &$1+
                        &$1/
                                                                                                                                                          GRPLQDQW
                                                                                                                                  9
                     92 GLI EXV
                                                                                                                                  9
                                                                                                                                                          UHFHVVLYH
                                                                                                                                                          +,*+
                          5;'
                                                                                                                                                          /2:
                        WG 7;'EXVGRP                                                           WG 7;'EXVUHF
                                                                              WG EXVGRP5;'                                               WG EXVUHF5;'
                                                 WG 7;'/5;'/                                                      WG 7;'+5;'+                        DDD
                   Fig 17. CAN transceiver timing diagram
                                                                                                                 
                    7;'
                                                                                                                                  
                                                                            [WELW 7;'
                                                                                                                          WELW 7;'
                                                                                                                                 
                    5;'
                                                                                                                                                           
                                                                                                                                           WELW 5;'
                                                                                                                                                        DDD
                   Fig 18. Loop delay symmetry timing diagram
UJA1169                               All information provided in this document is subject to legal disclaimers.          © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                   Rev. 1 — 4 February 2016                                                                                    62 of 74


NXP Semiconductors                                                                                                                             UJA1169
                                                                  Mini high-speed CAN SBC with optional partial networking
             6&61
                                  W63,/($'          WF\ FON                                                               W63,/$*     W:+ 6
                                            WFON +         WFON /
           WG 6&./6&61/
             6&.      ;
                                             WVX '          WK '                                                            WK '
             6',      ;                              06%                                                                /6%                ;
                                                                                                                   WY 4
                         IORDWLQJ                                                                                                                 IORDWLQJ
             6'2                         ;                   06%                                                                 /6%
                                                                                                                                                 DDD
  Fig 19. SPI timing diagram
UJA1169                                    All information provided in this document is subject to legal disclaimers.             © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                        Rev. 1 — 4 February 2016                                                                                       63 of 74


NXP Semiconductors                                                                                                                                           UJA1169
                                                                              Mini high-speed CAN SBC with optional partial networking
12. Application information
                        12.1 Application diagram
                                         FORVHWR313
                                                               3+373<
                                                                                                                                  ȍ
                                                     Q)
                                                                         9(;&75/                9(;&&                              GHSHQGLQJRQ313
     EDWWHU\                                                                                                                      DQGFXUUHQWEDODQFLQJ
                                                                                                                  9
                                                                                                                
                                                                                                                                  )
                                                    %$7
                                                                                                                                                      9&&
                                                                                                                     5671
                         )     Q)
                                                                                                                                            5671
                                                 Nȍ
                                                                                                                     6&61                             0,&52
                                                                                                                                                &21752//(5
                                                   /,03
            WRDSSOLFDWLRQ                                                                                         6'2
                                                                                                                                               VWDQGDUG                     DSSOLFDWLRQ
                                         Nȍ                                                                        6&.                        &SRUWV
                 RIIERDUGVZLWFK                                                                            
               H[DPSOHDSSOLFDWLRQ        Nȍ :$.(                                                                 6',
                                                                            8-$                           
                                          Q)                                                                      5;'
                                                                                                                                            5;'
                                                                                                                     7;'
                                                  &$1+                                                                                      7;'
                                                          
                                                                                                                                                        966
                                         ȍ
                                Q)                                                                                                          RWKHURQERDUGORDGV
                                         ȍ                                                                                                   LQYDULDQWVZLWK9VXSSO\
                                                                                                                     99(;7
                                                                                                             
                                                  &$1/                                                                                          RIIERDUGORDGVXSWRP$
                                                                                                                    )
                                                                                                                                                LQYDULDQWVZLWK9(;7VXSSO\
                                                                                         *1'
                                                                                                                                                                             DDD
               The application diagram contains example components and component values. A PHPT60603PY transistor could be used in
               place of the PHPT61003PY.
  Fig 20. Typical application using the UJA1169
                        12.2 Application hints
                                  Further information on the application of the UJA1169 can be found in the NXP application
                                  hints document AH1306 Application Hints - Mini high speed CAN system basis chips
                                  UJA116x / UJA116xA.
UJA1169                                                All information provided in this document is subject to legal disclaimers.               © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                    Rev. 1 — 4 February 2016                                                                                         64 of 74


NXP Semiconductors                                                                                                                       UJA1169
                                                               Mini high-speed CAN SBC with optional partial networking
13. Test information
                                                                                       %$7
                                                           5;'                                             &$1+
                                             S)                               6%&                               5 &$1+&$1/          S)
                                                            7;'                                            &$1/
                                                                                       *1'                                         DDD
                       Fig 21. Timing test circuit for CAN transceiver
                                                                                                   %$7
                                                                         7;'                                        &$1+
                                                                                                                                              ȍ
                                   I N+]                                                     6%&                      &63/,7
                                                                                                                             Q)           ȍ
                                                                         5;'                                        &$1/
                                                                                                   *1'
                                                                                                                                      DDD
                       Fig 22. Test circuit for measuring transceiver driver symmetry
                13.1 Quality information
                     This product has been qualified in accordance with the Automotive Electronics Council
                     (AEC) standard Q100 Rev-G - Failure mechanism based stress test qualification for
                     integrated circuits, and is suitable for use in automotive applications.
UJA1169                                 All information provided in this document is subject to legal disclaimers.         © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                     Rev. 1 — 4 February 2016                                                                                   65 of 74


NXP Semiconductors                                                                                                                                          UJA1169
                                                                             Mini high-speed CAN SBC with optional partial networking
14. Package outline
  +9621SODVWLFWKHUPDOHQKDQFHGH[WUHPHO\WKLQTXDGIODWSDFNDJHQROHDGV
  WHUPLQDOVERG\[[PP                                                                                           627
                               ;
                                                          '                                         %      $
                                                                                                                            $
                                                                                                           (                      $
                                                                                                                                                                                 &
                                                                                                                                               GHWDLO;
                    WHUPLQDO
                    LQGH[DUHD
                    WHUPLQDO                           H                                                                                                    &
                    LQGH[DUHD
                                                                                                        Y       & $ %
                                         H                                     E
                                                                                                       Z        &                     \ &                           \
                                                                                         
                             /
                                                                                                    .
                            (K
                                                                                        
                                                         'K
                                                                                                                               PP
                                                                                        VFDOH
     'LPHQVLRQV
          8QLW       $     $     E      &    '   'K       (        (K        H        H       .         /         Y        Z     \    \
             PD[                                                        
       PP    QRP                                                                     
              PLQ                                                       
     1RWH
     3ODVWLFRUPHWDOSURWUXVLRQVRIPPPD[LPXPSHUVLGHDUHQRWLQFOXGHG                                                                                       VRWBSR
           2XWOLQH                                              5HIHUHQFHV                                                                (XURSHDQ
                                                                                                                                                                     ,VVXHGDWH
           YHUVLRQ                  ,(&             -('(&                          -(,7$                                                  SURMHFWLRQ
                                                                                                                                                                      
        627                                   02                                                                                                            
Fig 23. Package outline SOT1360-1 (HVSON20)
UJA1169                                               All information provided in this document is subject to legal disclaimers.               © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                   Rev. 1 — 4 February 2016                                                                                         66 of 74


NXP Semiconductors                                                                                                             UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
15. Handling information
                     All input and output pins are protected against ElectroStatic Discharge (ESD) under
                     normal handling. When handling ensure that the appropriate precautions are taken as
                     described in JESD625-A or equivalent standards.
16. Soldering of SMD packages
                     This text provides a very brief insight into a complex technology. A more in-depth account
                     of soldering ICs can be found in Application Note AN10365 “Surface mount reflow
                     soldering description”.
                16.1 Introduction to soldering
                     Soldering is one of the most common methods through which packages are attached to
                     Printed Circuit Boards (PCBs), to form electrical circuits. The soldered joint provides both
                     the mechanical and the electrical connection. There is no single soldering method that is
                     ideal for all IC packages. Wave soldering is often preferred when through-hole and
                     Surface Mount Devices (SMDs) are mixed on one printed wiring board; however, it is not
                     suitable for fine pitch SMDs. Reflow soldering is ideal for the small pitches and high
                     densities that come with increased miniaturization.
                16.2 Wave and reflow soldering
                     Wave soldering is a joining technology in which the joints are made by solder coming from
                     a standing wave of liquid solder. The wave soldering process is suitable for the following:
                       • Through-hole components
                       • Leaded or leadless SMDs, which are glued to the surface of the printed circuit board
                     Not all SMDs can be wave soldered. Packages with solder balls, and some leadless
                     packages which have solder lands underneath the body, cannot be wave soldered. Also,
                     leaded SMDs with leads having a pitch smaller than ~0.6 mm cannot be wave soldered,
                     due to an increased probability of bridging.
                     The reflow soldering process involves applying solder paste to a board, followed by
                     component placement and exposure to a temperature profile. Leaded packages,
                     packages with solder balls, and leadless packages are all reflow solderable.
                     Key characteristics in both wave and reflow soldering are:
                       •  Board specifications, including the board finish, solder masks and vias
                       •  Package footprints, including solder thieves and orientation
                       •  The moisture sensitivity level of the packages
                       •  Package placement
                       •  Inspection and repair
                       •  Lead-free soldering versus SnPb soldering
                16.3 Wave soldering
                     Key characteristics in wave soldering are:
UJA1169                                All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                           67 of 74


NXP Semiconductors                                                                                                                    UJA1169
                                                              Mini high-speed CAN SBC with optional partial networking
                       • Process issues, such as application of adhesive and flux, clinching of leads, board
                          transport, the solder wave parameters, and the time during which components are
                          exposed to the wave
                       • Solder bath specifications, including temperature and impurities
                16.4 Reflow soldering
                     Key characteristics in reflow soldering are:
                       • Lead-free versus SnPb soldering; note that a lead-free reflow process usually leads to
                          higher minimum peak temperatures (see Figure 24) than a SnPb process, thus
                          reducing the process window
                       • Solder paste printing issues including smearing, release, and adjusting the process
                          window for a mix of large and small components on one board
                       • Reflow temperature profile; this profile includes preheat, reflow (in which the board is
                          heated to the peak temperature) and cooling down. It is imperative that the peak
                          temperature is high enough for the solder to make reliable solder joints (a solder paste
                          characteristic). In addition, the peak temperature must be low enough that the
                          packages and/or boards are not damaged. The peak temperature of the package
                          depends on package thickness and volume and is classified in accordance with
                          Table 54 and 55
                     Table 54.   SnPb eutectic process (from J-STD-020D)
                      Package thickness (mm)                   Package reflow temperature (C)
                                                               Volume (mm3)
                                                               < 350                                                  350
                      < 2.5                                    235                                                   220
                       2.5                                    220                                                   220
                     Table 55.   Lead-free process (from J-STD-020D)
                      Package thickness (mm)                   Package reflow temperature (C)
                                                               Volume (mm3)
                                                               < 350                                       350 to 2000             > 2000
                      < 1.6                                    260                                         260                     260
                      1.6 to 2.5                               260                                         250                     245
                      > 2.5                                    250                                         245                     245
                     Moisture sensitivity precautions, as indicated on the packing, must be respected at all
                     times.
                     Studies have shown that small packages reach higher temperatures during reflow
                     soldering, see Figure 24.
UJA1169                                All information provided in this document is subject to legal disclaimers.        © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                    Rev. 1 — 4 February 2016                                                                                  68 of 74


NXP Semiconductors                                                                                                           UJA1169
                                                            Mini high-speed CAN SBC with optional partial networking
                                                                 maximum peak temperature
                            temperature                              = MSL limit, damage level
                                                                  minimum peak temperature
                                                        = minimum soldering temperature
                                                                                                                    peak
                                                                                                                 temperature
                                                                                                                                           time
                                                                                                                                   001aac844
                              MSL: Moisture Sensitivity Level
                     Fig 24. Temperature profiles for large and small components
                   For further information on temperature profiles, refer to Application Note AN10365
                   “Surface mount reflow soldering description”.
17. Soldering of HVSON packages
                   Section 16 contains a brief introduction to the techniques most commonly used to solder
                   Surface Mounted Devices (SMD). A more detailed discussion on soldering HVSON
                   leadless package ICs can be found in the following application notes:
                     • AN10365 ‘Surface mount reflow soldering description”
                     • AN10366 “HVQFN application information”
UJA1169                              All information provided in this document is subject to legal disclaimers. © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                  Rev. 1 — 4 February 2016                                                                           69 of 74


NXP Semiconductors                                                                                                          UJA1169
                                                       Mini high-speed CAN SBC with optional partial networking
18. Revision history
Table 56.   Revision history
 Document ID       Release date          Data sheet status                                       Change notice     Supersedes
 UJA1169 v.1       20160204              Product data sheet                                      -                 -
UJA1169                         All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                             Rev. 1 — 4 February 2016                                                                               70 of 74


NXP Semiconductors                                                                                                                                                 UJA1169
                                                                                          Mini high-speed CAN SBC with optional partial networking
19. Legal information
19.1 Data sheet status
 Document status[1][2]                   Product status[3]                    Definition
 Objective [short] data sheet            Development                          This document contains data from the objective specification for product development.
 Preliminary [short] data sheet          Qualification                        This document contains data from the preliminary specification.
 Product [short] data sheet              Production                           This document contains the product specification.
[1]    Please consult the most recently issued document before initiating or completing a design.
[2]    The term ‘short data sheet’ is explained in section “Definitions”.
[3]    The product status of device(s) described in this document may have changed since this document was published and may differ in case of multiple devices. The latest product status
       information is available on the Internet at URL http://www.nxp.com.
19.2 Definitions                                                                                           Suitability for use in automotive applications — This NXP
                                                                                                           Semiconductors product has been qualified for use in automotive
                                                                                                           applications. Unless otherwise agreed in writing, the product is not designed,
Draft — The document is a draft version only. The content is still under
                                                                                                           authorized or warranted to be suitable for use in life support, life-critical or
internal review and subject to formal approval, which may result in
                                                                                                           safety-critical systems or equipment, nor in applications where failure or
modifications or additions. NXP Semiconductors does not give any
                                                                                                           malfunction of an NXP Semiconductors product can reasonably be expected
representations or warranties as to the accuracy or completeness of
                                                                                                           to result in personal injury, death or severe property or environmental
information included herein and shall have no liability for the consequences of
                                                                                                           damage. NXP Semiconductors and its suppliers accept no liability for
use of such information.
                                                                                                           inclusion and/or use of NXP Semiconductors products in such equipment or
Short data sheet — A short data sheet is an extract from a full data sheet                                 applications and therefore such inclusion and/or use is at the customer's own
with the same product type number(s) and title. A short data sheet is intended                             risk.
for quick reference only and should not be relied upon to contain detailed and
                                                                                                           Applications — Applications that are described herein for any of these
full information. For detailed and full information see the relevant full data
                                                                                                           products are for illustrative purposes only. NXP Semiconductors makes no
sheet, which is available on request via the local NXP Semiconductors sales
                                                                                                           representation or warranty that such applications will be suitable for the
office. In case of any inconsistency or conflict with the short data sheet, the
                                                                                                           specified use without further testing or modification.
full data sheet shall prevail.
                                                                                                           Customers are responsible for the design and operation of their applications
Product specification — The information and data provided in a Product                                     and products using NXP Semiconductors products, and NXP Semiconductors
data sheet shall define the specification of the product as agreed between                                 accepts no liability for any assistance with applications or customer product
NXP Semiconductors and its customer, unless NXP Semiconductors and                                         design. It is customer’s sole responsibility to determine whether the NXP
customer have explicitly agreed otherwise in writing. In no event however,                                 Semiconductors product is suitable and fit for the customer’s applications and
shall an agreement be valid in which the NXP Semiconductors product is                                     products planned, as well as for the planned application and use of
deemed to offer functions and qualities beyond those described in the                                      customer’s third party customer(s). Customers should provide appropriate
Product data sheet.                                                                                        design and operating safeguards to minimize the risks associated with their
                                                                                                           applications and products.
19.3 Disclaimers                                                                                           NXP Semiconductors does not accept any liability related to any default,
                                                                                                           damage, costs or problem which is based on any weakness or default in the
                                                                                                           customer’s applications or products, or the application or use by customer’s
Limited warranty and liability — Information in this document is believed to
                                                                                                           third party customer(s). Customer is responsible for doing all necessary
be accurate and reliable. However, NXP Semiconductors does not give any
                                                                                                           testing for the customer’s applications and products using NXP
representations or warranties, expressed or implied, as to the accuracy or
                                                                                                           Semiconductors products in order to avoid a default of the applications and
completeness of such information and shall have no liability for the
                                                                                                           the products or of the application or use by customer’s third party
consequences of use of such information. NXP Semiconductors takes no
                                                                                                           customer(s). NXP does not accept any liability in this respect.
responsibility for the content in this document if provided by an information
source outside of NXP Semiconductors.                                                                      Limiting values — Stress above one or more limiting values (as defined in
                                                                                                           the Absolute Maximum Ratings System of IEC 60134) will cause permanent
In no event shall NXP Semiconductors be liable for any indirect, incidental,
                                                                                                           damage to the device. Limiting values are stress ratings only and (proper)
punitive, special or consequential damages (including - without limitation - lost
                                                                                                           operation of the device at these or any other conditions above those given in
profits, lost savings, business interruption, costs related to the removal or
                                                                                                           the Recommended operating conditions section (if present) or the
replacement of any products or rework charges) whether or not such
                                                                                                           Characteristics sections of this document is not warranted. Constant or
damages are based on tort (including negligence), warranty, breach of
                                                                                                           repeated exposure to limiting values will permanently and irreversibly affect
contract or any other legal theory.
                                                                                                           the quality and reliability of the device.
Notwithstanding any damages that customer might incur for any reason
whatsoever, NXP Semiconductors’ aggregate and cumulative liability towards                                 Terms and conditions of commercial sale — NXP Semiconductors
customer for the products described herein shall be limited in accordance                                  products are sold subject to the general terms and conditions of commercial
with the Terms and conditions of commercial sale of NXP Semiconductors.                                    sale, as published at http://www.nxp.com/profile/terms, unless otherwise
                                                                                                           agreed in a valid written individual agreement. In case an individual
Right to make changes — NXP Semiconductors reserves the right to make                                      agreement is concluded only the terms and conditions of the respective
changes to information published in this document, including without                                       agreement shall apply. NXP Semiconductors hereby expressly objects to
limitation specifications and product descriptions, at any time and without                                applying the customer’s general terms and conditions with regard to the
notice. This document supersedes and replaces all information supplied prior                               purchase of NXP Semiconductors products by customer.
to the publication hereof.
UJA1169                                                            All information provided in this document is subject to legal disclaimers.         © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                                Rev. 1 — 4 February 2016                                                                                   71 of 74


NXP Semiconductors                                                                                                                                    UJA1169
                                                                                 Mini high-speed CAN SBC with optional partial networking
No offer to sell or license — Nothing in this document may be interpreted or                      Translations — A non-English (translated) version of a document is for
construed as an offer to sell products that is open for acceptance or the grant,                  reference only. The English version shall prevail in case of any discrepancy
conveyance or implication of any license under any copyrights, patents or                         between the translated and English versions.
other industrial or intellectual property rights.
Export control — This document as well as the item(s) described herein
may be subject to export control regulations. Export might require a prior
                                                                                                  19.4 Trademarks
authorization from competent authorities.                                                         Notice: All referenced brands, product names, service names and trademarks
                                                                                                  are the property of their respective owners.
20. Contact information
For more information, please visit: http://www.nxp.com
For sales office addresses, please send an email to: salesaddresses@nxp.com
UJA1169                                                   All information provided in this document is subject to legal disclaimers.     © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                       Rev. 1 — 4 February 2016                                                                               72 of 74


NXP Semiconductors                                                                                                                                                UJA1169
                                                                                 Mini high-speed CAN SBC with optional partial networking
21. Contents
1       General description . . . . . . . . . . . . . . . . . . . . . . 1                         7.3.2                Selecting the output reset pulse width . . . . . .                         17
2       Features and benefits . . . . . . . . . . . . . . . . . . . . 2                           7.3.2.1              Start-up control register (0x73) . . . . . . . . . . .                      17
2.1       General . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2                 7.4                  Global temperature protection . . . . . . . . . . . .                       17
2.2       Designed for automotive applications. . . . . . . . 2                                   7.5                  Power supplies. . . . . . . . . . . . . . . . . . . . . . . .              18
2.3       Low-drop voltage regulator for 5 V/3.3 V                                                7.5.1                Battery supply voltage (VBAT). . . . . . . . . . . . .                     18
          microcontroller supply (V1) . . . . . . . . . . . . . . . . 2                           7.5.2                Voltage regulator V1 . . . . . . . . . . . . . . . . . . .                 18
2.4       On-board CAN supply (V2; UJA1169TK,                                                     7.5.3                Voltage regulator V2 . . . . . . . . . . . . . . . . . . .                 19
          UJA1169TK/F, UJA1169TK/3 and UJA1169TK/F/3                                              7.5.4                Voltage regulator VEXT . . . . . . . . . . . . . . . . .                   20
          only) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2               7.5.5                Regulator control register (0x10) . . . . . . . . . .                      20
2.5       Off-board sensor supply (VEXT; UJA1169TK/X                                              7.5.6                Supply voltage status register (0x1B) . . . . . .                          21
          and UJA1169TK/X/F only) . . . . . . . . . . . . . . . . 3                               7.6                  LIMP output . . . . . . . . . . . . . . . . . . . . . . . . . .            21
2.6       Power Management . . . . . . . . . . . . . . . . . . . . . 3                            7.6.1                Reset counter. . . . . . . . . . . . . . . . . . . . . . . . .             21
2.7       System control and diagnostic features . . . . . . 3                                    7.6.2                LIMP state diagram . . . . . . . . . . . . . . . . . . . .                 22
                                                                                                  7.6.2.1              Fail-safe control register (0x02) . . . . . . . . . . .                    23
3       Product family overview . . . . . . . . . . . . . . . . . . 4
                                                                                                  7.7                  High-speed CAN transceiver . . . . . . . . . . . . .                       23
4       Ordering information . . . . . . . . . . . . . . . . . . . . . 4                          7.7.1                CAN operating modes . . . . . . . . . . . . . . . . . .                     23
5       Block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . 5                       7.7.1.1              CAN Active mode. . . . . . . . . . . . . . . . . . . . . .                  24
6       Pinning information . . . . . . . . . . . . . . . . . . . . . . 6                         7.7.1.2              CAN Listen-only mode . . . . . . . . . . . . . . . . . .                   24
6.1       Pinning . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6                 7.7.1.3              CAN Offline and Offline Bias modes . . . . . . .                           24
6.2       Pin description . . . . . . . . . . . . . . . . . . . . . . . . . 6                     7.7.1.4              CAN Off mode . . . . . . . . . . . . . . . . . . . . . . . .               25
7       Functional description . . . . . . . . . . . . . . . . . . . 7                            7.7.2                CAN standard wake-up (partial networking
7.1       System controller . . . . . . . . . . . . . . . . . . . . . . . 7                                            not enabled) . . . . . . . . . . . . . . . . . . . . . . . . . .           25
7.1.1     Operating modes . . . . . . . . . . . . . . . . . . . . . . . 7                         7.7.2.1              CAN control register (0x20) . . . . . . . . . . . . . .                     26
7.1.1.1   Normal mode . . . . . . . . . . . . . . . . . . . . . . . . . . 7                       7.7.2.2              Transceiver status register (0x22) . . . . . . . . .                        27
7.1.1.2   Standby mode. . . . . . . . . . . . . . . . . . . . . . . . . . 7                       7.8                  CAN partial networking (UJA1169 /F variants
7.1.1.3   Sleep mode . . . . . . . . . . . . . . . . . . . . . . . . . . . 8                                           only) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .      28
7.1.1.4   Reset mode . . . . . . . . . . . . . . . . . . . . . . . . . . . 9                      7.8.1                Wake-up frame (WUF) . . . . . . . . . . . . . . . . . .                    28
7.1.1.5   Off mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9                  7.8.2                CAN FD frames . . . . . . . . . . . . . . . . . . . . . . .                30
7.1.1.6   Overtemp mode . . . . . . . . . . . . . . . . . . . . . . . . 9                         7.8.3                CAN partial networking configuration
7.1.1.7   Forced Normal mode . . . . . . . . . . . . . . . . . . . 10                                                  registers . . . . . . . . . . . . . . . . . . . . . . . . . . . . .        31
7.1.1.8   Hardware characterization for the UJA1169                                               7.8.3.1              Data rate register (0x26) . . . . . . . . . . . . . . . .                   31
          operating modes . . . . . . . . . . . . . . . . . . . . . . . 10                        7.8.3.2              ID registers (0x27 to 0x2A) . . . . . . . . . . . . . .                     31
7.1.2     System control registers . . . . . . . . . . . . . . . . . 11                           7.8.3.3              ID mask registers (0x2B to 0x2E) . . . . . . . . .                         31
7.1.2.1   Mode control register (0x01). . . . . . . . . . . . . . 11                              7.8.3.4              Frame control register (0x2F) . . . . . . . . . . . .                       32
7.1.2.2   Main status register (0x03) . . . . . . . . . . . . . . . 11                            7.8.3.5              Data mask registers (0x68 to 0x6F) . . . . . . . .                         32
7.2       Watchdog . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12                     7.9                  CAN fail-safe features . . . . . . . . . . . . . . . . . .                  33
7.2.1     Watchdog overview . . . . . . . . . . . . . . . . . . . . 12                            7.9.1                TXD dominant time-out . . . . . . . . . . . . . . . . .                    33
7.2.1.1   Watchdog control register (0x00) . . . . . . . . . . 13                                 7.9.2                Pull-up on TXD pin. . . . . . . . . . . . . . . . . . . . .                33
7.2.1.2   SBC configuration control register (0x74). . . . 13                                     7.9.3                VCAN undervoltage event . . . . . . . . . . . . . . . .                    33
7.2.1.3   Watchdog status register (0x05) . . . . . . . . . . . 14                                7.9.4                Loss of power at pin BAT . . . . . . . . . . . . . . . .                   34
7.2.2     Software Development mode . . . . . . . . . . . . . 15                                  7.10                 Wake-up and interrupt event handling . . . . . .                           34
7.2.3     Watchdog behavior in Window mode . . . . . . . 15                                       7.10.1               WAKE pin. . . . . . . . . . . . . . . . . . . . . . . . . . . .            34
7.2.4     Watchdog behavior in Timeout mode . . . . . . . 15                                      7.10.1.1             WAKE pin status register (0x4B) . . . . . . . . . .                        34
7.2.5     Watchdog behavior in Autonomous mode . . . 15                                           7.10.2               Wake-up diagnosis. . . . . . . . . . . . . . . . . . . . .                 34
7.2.6     Exceptional behavior of the watchdog after                                              7.10.3               Interrupt/wake-up delay . . . . . . . . . . . . . . . . .                  35
          writing to the Watchdog register . . . . . . . . . . . 16                               7.10.4               Sleep mode protection . . . . . . . . . . . . . . . . . .                  36
7.3       System reset. . . . . . . . . . . . . . . . . . . . . . . . . . 16                      7.10.5               Event status and event capture registers. . . .                            37
7.3.1     Characteristics of pin RSTN . . . . . . . . . . . . . . 16                              7.10.5.1             Event status registers (0x60 to 0x64) . . . . . .                          37
                                                                                                                                                                          continued >>
UJA1169                                                   All information provided in this document is subject to legal disclaimers.               © NXP Semiconductors N.V. 2016. All rights reserved.
Product data sheet                                                       Rev. 1 — 4 February 2016                                                                                         73 of 74


NXP Semiconductors                                                                                                                               UJA1169
                                                                              Mini high-speed CAN SBC with optional partial networking
7.10.5.2   Event capture enable registers
           (0x04, 0x1C, 0x23, 0x4C) . . . . . . . . . . . . . . . .              39
7.11       Non-volatile SBC configuration. . . . . . . . . . . .                 40
7.11.1     Programming MTPNV cells . . . . . . . . . . . . . .                   40
7.11.1.1 MTPNV status register (0x70) . . . . . . . . . . . .                    41
7.11.1.2 MTPNV CRC control register (0x75) . . . . . . .                         42
7.11.2     Restoring factory preset values . . . . . . . . . . .                 43
7.12       Device identification . . . . . . . . . . . . . . . . . . . .         43
7.12.1     Device identification register (0x7E) . . . . . . . .                 43
7.13       Register locking . . . . . . . . . . . . . . . . . . . . . . .        43
7.13.1     Lock control register (0x0A) . . . . . . . . . . . . . .              43
7.14       General-purpose memory. . . . . . . . . . . . . . . .                 44
7.15       SPI . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44
7.15.1     Introduction. . . . . . . . . . . . . . . . . . . . . . . . . . .     44
7.15.2     Register map . . . . . . . . . . . . . . . . . . . . . . . . .        47
7.15.3     Register configuration in UJA1169 operating
           modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   49
8        Limiting values. . . . . . . . . . . . . . . . . . . . . . . . .        52
9        Thermal characteristics . . . . . . . . . . . . . . . . .               53
10       Static characteristics. . . . . . . . . . . . . . . . . . . .           53
11       Dynamic characteristics . . . . . . . . . . . . . . . . .               59
12       Application information. . . . . . . . . . . . . . . . . .              64
12.1       Application diagram . . . . . . . . . . . . . . . . . . . .           64
12.2       Application hints . . . . . . . . . . . . . . . . . . . . . . .       64
13       Test information . . . . . . . . . . . . . . . . . . . . . . . .        65
13.1       Quality information . . . . . . . . . . . . . . . . . . . . .         65
14       Package outline . . . . . . . . . . . . . . . . . . . . . . . .         66
15       Handling information. . . . . . . . . . . . . . . . . . . .             67
16       Soldering of SMD packages . . . . . . . . . . . . . .                   67
16.1       Introduction to soldering . . . . . . . . . . . . . . . . .           67
16.2       Wave and reflow soldering . . . . . . . . . . . . . . .               67
16.3       Wave soldering . . . . . . . . . . . . . . . . . . . . . . . .        67
16.4       Reflow soldering . . . . . . . . . . . . . . . . . . . . . . .        68
17       Soldering of HVSON packages. . . . . . . . . . . .                      69
18       Revision history . . . . . . . . . . . . . . . . . . . . . . . .        70
19       Legal information. . . . . . . . . . . . . . . . . . . . . . .          71
19.1       Data sheet status . . . . . . . . . . . . . . . . . . . . . .         71
19.2       Definitions . . . . . . . . . . . . . . . . . . . . . . . . . . . .   71
19.3       Disclaimers . . . . . . . . . . . . . . . . . . . . . . . . . . .     71
19.4       Trademarks. . . . . . . . . . . . . . . . . . . . . . . . . . .       72
20       Contact information. . . . . . . . . . . . . . . . . . . . .            72
21       Contents . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .    73
                                                                                      Please be aware that important notices concerning this document and the product(s)
                                                                                      described herein, have been included in section ‘Legal information’.
                                                                                      © NXP Semiconductors N.V. 2016.                                 All rights reserved.
                                                                                      For more information, please visit: http://www.nxp.com
                                                                                      For sales office addresses, please send an email to: salesaddresses@nxp.com
                                                                                                                                             Date of release: 4 February 2016
                                                                                                                                                Document identifier: UJA1169


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
NXP:
 UJA1169TK/3Z UJA1169TK/F/3Z UJA1169TK/FZ UJA1169TK/X/FZ UJA1169TK/XZ UJA1169TKZ
