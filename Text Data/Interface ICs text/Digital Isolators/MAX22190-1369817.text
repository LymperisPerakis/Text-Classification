                                                                                                    EVALUATION KIT AVAILABLE
Click here for production status of specific part numbers.
MAX22190                                                  Octal Industrial Digital Input with Diagnostics
General Description                                                Benefits and Features
The MAX22190 is an IEC 61131-2 compliant industrial                ●● High Integration Reduces BOM Count and Board Space
digital input device. The MAX22190 translates eight, 24V              • Eight Input Channels with Serializer
current-sinking, industrial inputs to a serialized SPI-               • Operates Directly from Field Supply (7V to 65V)
compatible output that interfaces with 3V to 5.5V logic. A            • Compatible with 3.3V or 5V Logic
current setting resistor allows the MAX22190 to be                    • 5mm x 5mm TQFN Package
configured for Type 1, Type 2, or Type 3 inputs. Field             ●● Reduced Power and Heat Dissipation
wiring is verified for proximity switches, by a second                • Accurate Input-Current Limiters
threshold detector on each input. When wire-break is                  • Energyless Field-Side LED Drivers
enabled, the FAULT output is asserted and a register
                                                                   ●● Fault Tolerant with Built-In Diagnostics
flag is set if the input current drops below the wire-break
                                                                      • Input Protection to ±40V with Low-Input Leakage
threshold for more than 20ms. Additional diagnostics that
                                                                        Current
assert the FAULT pin include: overtemperature, low 24V
                                                                      • Wire Break Detection
field supply, 24V field supply missing, CRC communica-
                                                                      • Integrated Field-Supply Voltage Monitors
tion error, etc.
                                                                      • Integrated Overtemperature Monitors
For robust operation in industrial environments, each input           • 5-Bit CRC Code Generation and Transmission for
includes a programmable glitch filter. The filter delay on each         Error Detection
channel can be independently programmed to one of eight            ●● Configurability Enables Wide Range of Applications
values between 50µs and 20ms, or filter bypass.                       • Configurable IEC 61131-2 Type 1, 2, 3 Inputs
The MAX22190 has a 4-pin SPI interface and in addition                • Configurable Input Current-Limiting from 0.5mA to
uses the LATCH input for synchronizing input data across                3.4mA
multiple devices in parallel.                                         • Selectable Input Debounce Filtering
MAX22190 field-side accepts a single 7V to 65V                     ●● Robust Design
supply to VDD24 pin. When powered by the field supply,                • ±8kV Contact ESD and ±15kV Air Gap ESD Using
the MAX22190 generates a 3.3V output from an integrated                 Minimum 1kΩ Resistor
LDO regulator, which can provide up to 25mA of current                • ±1kV Surge Tolerant Using Minimum 1kΩ Resistor
for external loads in addition to powering the MAX22190.              • -40°C to +125°C Ambient Operating Temperature
Alternatively, the MAX22190 can be powered from a 3.0V
to 5.5V logic side supply connected to VDD pin. For flexibil-
ity, the SPI interface operates at 3.3V or 5V logic levels as
controlled by the VL pin.
Applications
●●   Programmable Logic Controllers
●●   Industrial Automation
●●   Process Automation
●●   Building Automation
Ordering Information appears at end of data sheet.
19-100224; Rev 4; 1/19


MAX22190                                                                                          Octal Industrial Digital Input with Diagnostics
Isolated Octal Digital Input
       24V       150Ω                                                    3.3V                                                                                                       2.5V
                               10µF      0.1µF                                  0.1µF            1µF                                                          0.1µF           10µF
                                                                                                                  VDDA                               VDDB                                    VDD
                                                         VDD24     VDD      VL
                                 7.5kΩ     REFDI                                                          4.7kΩ
                                                                                                                   SBA                               SAA
                                 24kΩ                                                                                                                                          GPI
                                          REFWB
                                                                                        READY                      IRDY
                       1.5kΩ                                                            LATCH                      OAUX                              IAUX
                                                  IN1                                                                                                                          GPO
                                                                                        SDI                       OSDI
                                                  LED1                                                                                               ISDI                      SDI
                       1.5kΩ
                                                                                        SCLK                      OSCLK                              ISCLK                     SCLK          MICRO
                                                  IN2
                                                            MAX22190                                                         MAX14483                                                      CONTROLLER
                                                                                        CS                        OCS                                 ICS                      CS
                                                  LED2
                                                                                        SDO                       ISDO                               OSDO                      SDO
                                                                                        M1                                                                            2.5V
                                                                                        M0
   INF (INPUT-FIELD)                                                                                                                                                  4.7kΩ
                                INP (INPUT-PIN)
                       1.5kΩ                                                                       3.3V
                                                  IN8                                                                                                SDOEN
                                                                                                4.7kΩ
                                                  LED8                                                            IFAULT                             OFAULT
                                                                                                                                                                               GPI or INT
                                                                                                                  GNDA                                 GNDB
                                                                 GND                    FAULT                                                                                                GND
                                                                                                                           FIELD SIDE   LOGIC SIDE
www.maximintegrated.com                                                                                                                                                       Maxim Integrated │ 2


MAX22190                                                                               Octal Industrial Digital Input with Diagnostics
Absolute Maximum Ratings
VL, VDD to GND ......................................................-0.3V to +6V                     Continuous Power Dissipation (TA = +70°C)
VDD24 to GND........................................................-0.3V to +70V                     TQFN (derate at 27.8mW/°C above +70°C)..................2222mW
SCLK, CS, SDI, M0, M1 to GND.............................-0.3V to +6V                                 Operating Temperature Range
LATCH, FAULT, READY to GND.............................-0.3V to +6V                                       Ambient Temperature...................................................+125°C
REFWB, REFDI to GND........................... -0.3V to (VDD + 0.3V)                                      Junction Temperature...................................................+150°C
SDO to GND................................................. -0.3V to (VL + 0.3V)                      Storage Temperature Range............................. -65°C to +150°C
IN1–IN8 to GND......................................................-40V to +40V                      Lead Temperature (soldering, 10s).................................. +300°C
LED1–LED8 to GND................................................-0.3V to +6V                          Soldering (reflow).............................................................+260°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Package Information
  PACKAGE TYPE: 32 TQFN
 Package Code                                                                  T3255+6
 Outline Number                                                                21-0140
 Land Pattern Number                                                           90-0603
  THERMAL RESISTANCE, MULTILAYER BOARD
 Junction to Ambient (θJA)                                                     36°C/W
 Junction to Case (θJC)                                                        3°C/W
Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer board.
For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
For the latest package outline information and land patterns (footprints), go to www.maximintegrated.com/packages. Note that a “+”,
“#”, or “-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the drawing
pertains to the package regardless of RoHS status.
DC Electrical Characteristics
VL - VGND = +3.0V to +5.5V, VDD - VGND = +3.0V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. CL = 15pF. Typical values
are at VL - VGND = +3.3V, VDD - VGND = +3.3V, VDD24 - VGND = +24V, IN_ = +24V, and TA = +25°C. (Note 1)
                PARAMETER                            SYMBOL                                    CONDITIONS                                  MIN           TYP            MAX          UNITS
  POWER SUPPLIES
  Logic Supply Voltage                                    VL                                                                                3.0                          5.5           V
                                                                         CS = VL,
  Logic Supply Current                                    IVL            All logic pins            VVL – VGND = +5.5V                                     13             30            µA
                                                                         static
                                                       VDD24             Normal operation                                                    7                           65            V
  Supply Voltage
                                                         VDD             Powered from an external supply                                    3.0                          5.5           V
                                                                                                   IN1–IN8 = 0V, LED1–
                                                                                                   LED8 = GND, SPI static,
  Supply Current of VDD24                               IDD24            VDD24 = 24V                                                                      0.6            1.2          mA
                                                                                                   REFDI = 7.5kΩ, REFWB
                                                                                                   = 24kΩ.
                                                                                                   IN1–IN8 = 0V, LED1–
  Supply Current                                                                                   LED8 = GND, SPI static,
                                                         IDD             VDD = 3.3V                                                                       0.6            1.2          mA
  Powered From VDD                                                                                 REFDI = 7.5kΩ, REFWB
                                                                                                   = 24kΩ.
www.maximintegrated.com                                                                                                                                           Maxim Integrated │ 3


MAX22190                                                 Octal Industrial Digital Input with Diagnostics
DC Electrical Characteristics (continued)
VL - VGND = +3.0V to +5.5V, VDD - VGND = +3.0V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. CL = 15pF. Typical values
are at VL - VGND = +3.3V, VDD - VGND = +3.3V, VDD24 - VGND = +24V, IN_ = +24V, and TA = +25°C. (Note 1)
           PARAMETER                SYMBOL                   CONDITIONS                     MIN      TYP      MAX       UNITS
 VDD Undervoltage-Lockout
                                     VUVLO     VDD rising                                    2.4                2.9         V
 Threshold
 VDD Undervoltage-Lockout
                                    VUVHYST                                                          0.07                   V
 Threshold Hysteresis
 VDD24 Undervoltage-Lockout
                                    VUVLO24    VDD24 rising                                   6                 6.8         V
 Threshold
 VDD24 Undervoltage-Lockout
                                  VUVHYST24                                                           0.5                   V
 Threshold Hysteresis
 VL Undervoltage-Lockout
                                    VUVLOVL    VL rising                                     0.9                1.6         V
 Threshold
 VL Undervoltage-Lockout
                                  VUVHYSTVL                                                          0.07                   V
 Threshold Hysteresis
 Regulator Output Voltage              VDD     ILOAD = 1mA, VDD24 ≥ 7V                       3.0      3.3       3.6         V
 Line Regulation                   dVDDLINE    ILOAD = 1mA, VDD24 = 12V to 24V                          0                 mV
 Load Regulation                   dVDDLOAD    ILOAD = 1mA to 10mA, VDD24 = 24V                         4                 mV
 Regulator Current Capability        IDD_CC                                                                     25        mA
 Short-Circuit Current              IDD24_SC   VDD24 current when VDD shorted to GND         28                 50        mA
 READY Threshold                     VREADY    VDD rising, VDD24 = 0V                        2.4                2.9         V
 READY Threshold Hysteresis      VREADY_HYST                                                         0.07                   V
 READY Delay                     READYDELAY VDD valid to READY low                                      1                 ms
 SUPPLY ALARMS
 VDD24 UV Alarm On/Off           VALRMOFFUV    Rising VDD24, under voltage                                      17          V
 VDD24 UV Alarm Off/On            VALRMONUV    Falling VDD24, under voltage                  15                             V
 Glitch Filter for VDD24 UV                                                                             3                  µs
 VDD24 VM Alarm On/Off           VALRMOFFVM Rising VDD24, missing voltage                                      13.9         V
 VDD24 VM Alarm Off/On            VALRMONVM    Falling VDD24, missing voltage               12.1                            V
 Glitch Filter for VDD24 VM                                                                             3                  µs
 TEMPERATURE ALARMS
 Overtemperature Alarm 1             TALRM1    ALRMT1 bit set in FAULT1 register                      115                  °C
 Overtemperature Alarm 2             TALRM2    ALRMT2 bit set in FAULT1 register                      140                  °C
 Overtemperature Alarm
                                  TALRM_HYS                                                            10                  °C
 Hysteresis
 Thermal-Shutdown Threshold          TSHDN     OTSHDN bit set in FAULT2 register                      165                  °C
 Thermal-Shutdown Hysteresis      TSHDN_HYS                                                            10                  °C
www.maximintegrated.com                                                                                    Maxim Integrated │ 4


MAX22190                                                  Octal Industrial Digital Input with Diagnostics
DC Electrical Characteristics (continued)
VL - VGND = +3.0V to +5.5V, VDD - VGND = +3.0V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. CL = 15pF. Typical values
are at VL - VGND = +3.3V, VDD - VGND = +3.3V, VDD24 - VGND = +24V, IN_ = +24V, and TA = +25°C. (Note 1)
          PARAMETER                 SYMBOL                     CONDITIONS                     MIN      TYP     MAX       UNITS
 WIRE BREAK ALARMS
 REF Wire Break Voltage              VREFWB      RREFWB = 5.2kΩ to 50kΩ                                0.61                V
                                                 RREFWB = 5.2kΩ                                        470                 µA
 Wire Break Current Range                IWB
                                                 RREFWB = 50kΩ                                         48.8                µA
 PCB FAULT ALARMS
 REFWB Pin Short                       RWBS      RFWBS bit set in FAULT2 Register                      550                 µA
 REFWB Pin Open                       RWBO       RFWBO bit set in FAULT2 Register                       6.6                µA
 REFDI Pin Short Alarm               REFDIS      RFDIS bit set in FAULT2 Register                      550                 µA
 REFDI Pin Open                      REFDIO      RFDIO bit set in FAULT2 Register                       6.6                µA
 IC INPUTS (TYPES 1, 2, 3)
 Input Threshold Low-to-High           VTHP+     IN1 – IN8                                                       6         V
 Input Threshold High-to-Low           VTHP-     IN1 – IN8                                     4.4                         V
 Input Threshold Hysteresis         VINPHYST     IN1 – IN8                                              0.8                V
 LED On-State Current                 ILEDON     RREFDI = 7.5kΩ, VLED = 3V                     1.5                         mA
 DI Leakage, Current Sources                     IN1 – IN8 = 36V                                        73                 µA
                                     IDI_LEAK
 Disabled                                        IN1 – IN8 = 24V                                        42                 µA
 FIELD INPUTS
                                                 RREFDI = 5.2kΩ                                        3.39
 Current-Limit Setting                 ICLIM                                                                               mA
                                                 RREFDI = 36kΩ                                         0.48
 REFDI Pin Voltage                    VREFDI     RREFDI = from 5.2kΩ to 36kΩ                           0.61                V
 TYPE 1, 3: External Series Resistor R = 1.5KΩ, RREFDI = 7.5KΩ, WB detection off, unless otherwise noted
                                                 28V > VINx at the pin > 5V,
 Input Current Limit                   IINLIM                                                 2.10     2.35    2.60        mA
                                                 RREFDI = 7.5kΩ (Note 2)
 Field Input Threshold                 VINF+     RREFDI = 7.5kΩ, 1.5kΩ external series
                                                                                                                9.9        V
 Low-to-High                                     resistor
 Field Input Threshold                 VINF-     RREFDI = 7.5kΩ, 1.5kΩ external series
                                                                                               7.4                         V
 High-to-Low                                     resistor
 Field Input Threshold                           RREFDI = 7.5kΩ, 1.5kΩ external series
                                    VINFHYST                                                            0.9                V
 Hysteresis                                      resistor
www.maximintegrated.com                                                                                     Maxim Integrated │ 5


MAX22190                                                 Octal Industrial Digital Input with Diagnostics
DC Electrical Characteristics (continued)
VL - VGND = +3.0V to +5.5V, VDD - VGND = +3.0V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. CL = 15pF. Typical values
are at VL - VGND = +3.3V, VDD - VGND = +3.3V, VDD24 - VGND = +24V, IN_ = +24V, and TA = +25°C. (Note 1)
           PARAMETER                SYMBOL                    CONDITIONS                     MIN     TYP      MAX       UNITS
 TYPE 2: External Series Resistor R = 1KΩ, RREFDI = 5.2KΩ, WB detection off, unless otherwise noted
                                               28V > VINx at the pin > 5V,
 Input Current Limit                  IINLIM                                                 3.05    3.39      3.71       mA
                                               RREFDI = 5.2kΩ (Note 2)
 Field Input Threshold                VINF+    RREFDI = 5.2kΩ, 1kΩ external series
                                                                                                                9.9        V
 Low-to-High                                   resistor
 Field Input Threshold                VINF-    RREFDI = 5.2kΩ, 1kΩ external series
                                                                                              7.4                          V
 High-to-Low                                   resistor
 Field Input Threshold              VINFHYST   RREFDI = 5.2kΩ, 1kΩ external series
                                                                                                      0.9                  V
 Hysteresis                                    resistor
                                               FBP = 1: bypass filtering                                2                  µs
                                               FBP = 0, DELAY = 0                                    0.05
                                               FBP = 0, DELAY = 1                                     0.1
 Input Filter Delay                            FBP = 0, DELAY = 2                                     0.4
 (See bits DELAY[2:0] in FLTx       tBOUNCE    FBP = 0, DELAY = 3                                     0.8
 Register)                                                                                                                ms
                                               FBP = 0, DELAY = 4                                     1.6
                                               FBP = 0, DELAY = 5                                     3.2
                                               FBP = 0, DELAY = 6                                    12.8
                                               FBP = 0, DELAY = 7                                      20
 Wire Break Filter Delay               tWBD                                                            20                 ms
 DYNAMIC CHARACTERISTICS
                                               Input Filter Bypass mode                              1000
 Field-Input Sampling Rate               fIN                                                                              kHz
                                               Input Filter Not Bypass mode                           200
  Minimum Detectable Field              tPW     No external capacitors on pins
                                                                                                        3                  µs
  Input Pulse Width                             IN1-IN8 (Note 2)
 LATCH Delay                                   Assertion of LATCH or CS until input data               50                  ns
                                               is frozen
 FAULT Minimum Pulse Width         tFAULT_PW    FAULT low, pullup 4mA                         0.8                          µs
 INTERFACE LOGIC
                                               SCLK, CS, SDI, LATCH, M0, M1 relative         0.7 x
 Input Logic-High Voltage               VIH                                                                                V
                                               to GND                                         VL
                                               SCLK, CS, SDI, LATCH, M0, M1 relative                           0.3 x
 Input Logic-Low Voltage                 VIL                                                                               V
                                               to GND                                                           VL
                                                                                             VL -
 Output Logic-High Voltage              VOH    SDO, sourcing 4mA                                                           V
                                                                                              0.4
 Output Logic-Low Voltage               VOL    SDO, FAULT, READY sinking 4mA                                    0.4        V
 Input Pullup Resistance CS,
                                        RPU                                                           195
 LATCH
                                                                                                                          kΩ
 Input Pulldown Resistance
                                        RPD                                                           195
 SCLK, SDI, M1, M0
www.maximintegrated.com                                                                                    Maxim Integrated │ 6


MAX22190                                                                    Octal Industrial Digital Input with Diagnostics
AC Electrical Characteristics
VL - VGND = +3.0V to +5.5V, VDD - VGND = +3.0V to +5.5V, TA = -40°C to +125°C, unless otherwise noted. CL = 15pF. Typical values
are at VL - VGND = +3.3V, VDD - VGND = +3.3V, VDD24 - VGND = +24V, INx = +24V, and TA = +25°C. (Note 2)
            PARAMETER                                  SYMBOL                      CONDITIONS                        MIN    TYP            MAX     UNITS
 SPI CHARACTERISTICS
 SCLK Pulse Width-High                                   tSCLKH         See Figure 1                                   20                             ns
 SCLK Pulse Width-Low                                    tSCLKL         See Figure 1                                   20                             ns
 SCLK Clock Period                                        tSCLK         See Figure 1                                  100                             ns
 SCLK Clock Frequency                                     fSCLK                                                                             10       MHz
 CS Pulse Width                                         tCSBPW          See Figure 1                                   20                             ns
 SDI-to-SCLK Setup Time                                  tDINSU         See Figure 1                                    5                             ns
 SDI-to-SCLK Hold Time                                     tDINH        See Figure 1                                   15                             ns
 CS-Fall-to-SCLK-Rise Time                             tCLK_SU          See Figure 1                                   80                             ns
                                                          tCSBH         Rising edge of SCLK to rising
 SCLK-Rise-to-CS-Rise Time                                                                                             40                             ns
                                                                        edge of CS (Figure 1)
 SDO Enable Time                                tCSB_SDOVALID           CS falling to SDO valid (Figure 1)                                  50        ns
 SDO Disable Time                                   tCSB_SDOTRI         CS rising to SDO tri-state (Figure 1)                               50        ns
                                                            tDO         SCLK falling edge-to-SDO valid
 Output Data Propagation Delay                                                                                                              50        ns
                                                                        (Figure 1)
                                                            tR/F        SDO 10% to 90% rising, 90% to
 Rise/Fall Time SDO                                                                                                             4                     ns
                                                                        10% falling
Note 1: All units are production tested at TA = 25°C. Specifications over temperature are guaranteed by design.
Note 2: External resistor RREFDI is selected to set any desired current limit between 0.5mA and 3.4mA.
                                                                                                                          tCSBP W
                   tCLK_SU                                                                                         tCSBH
   CS
                                             tSCLKH                  tSCLKL          tSCLK
                               1           2       ...         10 11           12     13      14       15       16
   SCLK
                                  tDINSU                                    tDINH
   SDI                     MSB                 ...                                                            LSB
                            tCSB_SDOVALI D                                                  tDO                                tCSB_SDOTRI
   SDO      HIGH-Z         MSB                 ...                                                            LSB            HIGH-Z
Figure 1. SPI Timing Diagram
www.maximintegrated.com                                                                                                                 Maxim Integrated │ 7


MAX22190                                                                                                                                               Octal Industrial Digital Input with Diagnostics
ESD and EMC Characteristics
                                      PARAMETER                                              SYMBOL                                                               CONDITIONS                                                                        VALUE                            UNITS
                                                                                                                                   IEC 61000-4-5, 1.2/50µs pulse, minimum 1kΩ
                                                                                            Line-to-Line                                                                                                                                                 ±2
                                                                                                                                   resistor in series with IN1–IN8
Surge
                                                                                                                                   IEC 61000-4-5, 1.2/50µs pulse, minimum 1kΩ
                                                                                        Line-to-Ground                                                                                                                                                   ±1
                                                                                                                                   resistor in series with IN1–IN8
                                                                                      Human Body Model All pins                                                                                                                                          ±2                                 kV
                                                                                                                                   IEC 61000-4-2, minimum 1kΩ resistor in series
                                                                                               Contact                                                                                                                                                   ±8
ESD                                                                                                                                with IN1–IN8
                                                                                                                                   IEC 61000-4-2, minimum 1kΩ resistor in series
                                                                                               Air Gap                                                                                                                                                ±15
                                                                                                                                   with IN1–IN8
Typical Operating Characteristics
VDD24 = 24V, VDD = VL = 3.3V, TA = +25°C, RREFDI = 7.5kΩ, RREFWB = 24kΩ, RIN = 1.5kΩ, unless otherwise noted.
                                                VDD24 SUPPLY CURRENT                                                                               VDD SUPPLY CURRENT                                                                     VDD24 SUPPLY CURRENT
                                               vs. VDD24 SUPPLY VOLTAGE                                                                           vs. VDD SUPPLY VOLTAGE                                                                     vs. TEMPERATURE
                                                                                             toc01                                                                                    toc02                                                                                         toc03
                               0.75                                                                                              0.71                                                                                 0.77
                                            CS = VL, NO SCLK SWITCHING,                                                                       CS = VL, NO SCLK SWITCHING,                                                          CS = VL, NO SCLK SWITCHING,
                                            VDD UNCONNECTED, ALL VIN_ = 24V                                                                   VDD24 UNCONNECTED, ALL VIN_ = 24V                                                    VDD24 = 24V, ALL VIN_ = 24V
                               0.74                                                                                              0.69                                                                                 0.75
                                                                                                           SUPPLY CURRENT (mA)
                                                                                                                                                                                              SUPPLY CURRENT (mA)
 SUPPLY CURRENT (mA)
                               0.73                                                                                              0.67                                                                                 0.73
                               0.72                                                                                              0.65                                                                                 0.71
                               0.71                                                                                              0.63                                                                                 0.69
                               0.70                                                                                              0.61                                                                                 0.67
                                       5      15        25        35        45         55       65                                      3.0      3.5        4.0     4.5         5.0     5.5                                  -50    -25         0    25       50    75        100     125
                                                     VDD24 SUPPLY VOLTAGE (V)                                                                          VDD SUPPLY VOLTAGE (V)                                                                    TEMPERATURE (⁰C)
                                                   VDD SUPPLY CURRENT                                                                             VDD24 SUPPLY CURRENT                                                                        VDD SUPPLY CURRENT
                                                     vs. TEMPERATURE                                                                              vs. VIN_ INPUT VOLTAGE                                                                      vs. VIN_ INPUT VOLTAGE
                                                                                             toc04                                                                                    toc05                                                                                         toc06
                               0.65                                                                                              0.73                                                                                 0.64
                                            CS = VL, NO SCLK SWITCHING,
                                            VDD = 3.3V, VDD24 UNCONNECTED,
                               0.64         ALL VIN_ = 24V                                                                       0.71                                                                                 0.62
         SUPPLY CURRENT (mA)
                                                                                                           SUPPLY CURRENT (mA)                                                                  SUPPLY CURRENT (mA)
                               0.63                                                                                              0.69                                                                                 0.60
                               0.62                                                                                              0.67                                                                                 0.58
                                                                                                                                                        ALL VIN_ SHORTED TOGETHER                                                               ALL VIN_ SHORTED TOGETHER
                               0.61                                                                                              0.65                   ALL VIN_ MEASURED AT THE PIN                                  0.56                      ALL VIN_ MEASURED AT THE PIN
                                                                                                                                                        CS = VL, NO SCLK SWITCHING,                                                             CS = VL, NO SCLK SWITCHING,
                                                                                                                                                        VDD24 = 24V                                                                             VDD = 3.3V, VDD24 UNCONNECTED
                               0.60                                                                                              0.63                                                                                 0.54
                                      -50   -25     0        25        50        75    100     125                                      0         8         16      24          32       40                                  0            8         16         24        32            40
                                                     TEMPERATURE (⁰C)                                                                                   INPUT VOLTAGE (V)                                                                       INPUT VOLTAGE (V)
www.maximintegrated.com                                                                                                                                                                                                                                       Maxim Integrated │ 8


MAX22190                                                                                                                                                           Octal Industrial Digital Input with Diagnostics
Typical Operating Characteristics (continued)
VDD24 = 24V, VDD = VL = 3.3V, TA = +25°C, RREFDI = 7.5kΩ, RREFWB = 24kΩ, RIN = 1.5kΩ, unless otherwise noted.
                                                  INPUT CURRENT LIMIT IINLIM                                                                                     INPUT CURRENT LIMIT IINLIM                                                                                 INPUT CURRENT LIMIT IINLIM
                                                          vs. RREFDI                                                                                                 vs. TEMPERATURE                                                                                         vs. VDD SUPPLY VOLTAGE
                                                                                                  toc07                                                                                                          toc08                                                                                                 toc09
                               4.0                                                                                                             2.8                                                                                                        2.6
                                           VIN_ = 40V                                                                                                      VDD24 = 24V, VIN_ = 24V,                                                                                   VDD24 UNCONNECTED, VIN_ = 24V,
                               3.5                                                                                                             2.7                                                                                                                    RREFDI = 7.5kΩ, RIN = 1.5kΩ,
                                                                                                                                                           RREFDI = 7.5kΩ                                                                                 2.5
                                                                                                                                                                                                                                                                      WIRE-BREAK OFF
                                                                                                                INPUT CURRENT LIMIT (mA)
INPUT CURRENT LIMIT (mA)                                                                                                                                                                                                       INPUT CURRENT LIMIT (mA)
                               3.0                                                                                                             2.6
                                                                                                                                                                                                                                                          2.4
                               2.5                                                                                                             2.5
                               2.0                                                                                                             2.4                                                                                                        2.3
                               1.5                                                                                                             2.3
                                                                                                                                                                                                                                                          2.2
                               1.0                                                                                                             2.2
                                                                                                                                                                                                                                                          2.1
                               0.5                                                                                                             2.1
                               0.0                                                                                                             2.0                                                                                                        2.0
                                     5        10             15          20      25    30         35                                                 -50   -25         0        25        50        75    100      125                                          3.0        3.5       4.0         4.5        5.0           5.5
                                                                  RREFDI (kΩ)                                                                                           TEMPERATURE (⁰C)                                                                                          VDD SUPPLY VOLTAGE (V)
                                                  INPUT CURRENT LIMIT IINLIM                                                                                   INPUT CURRENT LIMIT IINLIM                                                                                  INPUT CURRENT LIMIT IINLIM
                                                   vs. VDD SUPPLY VOLTAGE                                                                                        vs. VIN_ INPUT VOLTAGE                                                                                      vs. VIN_ INPUT VOLTAGE
                                                                                                   toc10                                                                                                        toc11                                                                                                  toc12
                               3.8                                                                                                             3.0                                                                                                        3.0
                                            VDD24 UNCONNECTED, VIN_ = 24V,
                               3.7          RREFDI = 5.2kΩ, RIN = 1kΩ,
                                                                                                                                                                                                                         INPUT CURRENT LIMIT (mA)
                                                                                                                                               2.5
                                                                                                             INPUT CURRENT LIMIT (mA)
                                                                                                                                                                                                                                                          2.5
   INPUT CURRENT LIMIT (mA)
                                            WIRE-BREAK OFF
                               3.6
                                                                                                                                               2.0                                                                                                        2.0
                               3.5
                               3.4                                                                                                             1.5                                                                                                        1.5
                               3.3
                                                                                                                                               1.0                                                                                                        1.0
                               3.2
                                                                                                                                               0.5                      VDD24 = 24V, VIN_ AT FIELD SIDE,                                                                           VDD24 = 24V, VIN_ AT THE PIN,
                                                                                                                                                                                                                                                          0.5
                               3.1                                                                                                                                      RREFDI = 7.5kΩ, RIN = 1.5kΩ,                                                                               RREFDI = 7.5kΩ, RIN = 1.5kΩ,
                                                                                                                                                                        WIRE-BREAK OFF                                                                                             WIRE-BREAK OFF
                               3.0                                                                                                             0.0                                                                                                        0.0
                                     3.0          3.5              4.0          4.5    5.0             5.5                                            0    5      10       15        20    25       30    35       40                                           0      5     10     15     20     25   30         35      40
                                                             VDD SUPPLY VOLTAGE (V)                                                                                     INPUT VOLTAGE (V)                                                                                         INPUT VOLTAGE (V)
                                                  INPUT CURRENT LIMIT IINLIM                                                                                     INPUT CURRENT LIMIT IINLIM                                                                                 INPUT CURRENT LIMIT IINLIM
                                                    vs. VIN_ INPUT VOLTAGE                         toc13
                                                                                                                                                                   vs. VIN_ INPUT VOLTAGE                       toc14
                                                                                                                                                                                                                                                                              vs. VIN_ INPUT VOLTAGE                   toc15
                               3.0                                                                                                             3.0                                                                                                        4.0
                               2.5                                                                                                             2.5
    INPUT CURRENT LIMIT (mA)                                                                                        INPUT CURRENT LIMIT (mA)
                                                                                                                                                                                                                                                          3.2
                                                                                                                                                                                                                         INPUT CURRENT LIMIT (mA)
                               2.0                                                                                                             2.0
                                                                                                                                                                                                                                                          2.4
                               1.5                                                                                                             1.5
                                                                                                                                                                                                                                                          1.6
                               1.0                                                                                                             1.0
                               0.5                       VDD24 = 24V, VIN_ AT FIELD SIDE,                                                      0.5                         VDD24 = 24V, VIN_ AT THE PIN,                                                  0.8                     VDD24 = 24V, VIN_ AT FIELD SIDE,
                                                         RREFDI = 7.5kΩ, RIN = 1.5kΩ,                                                                                      RREFDI = 7.5kΩ, RIN = 1.5kΩ,                                                                           RREFDI = 5.2kΩ, RIN = 1kΩ,
                                                         WIRE-BREAK ON                                                                                                     WIRE-BREAK ON                                                                                          WIRE-BREAK OFF
                               0.0                                                                                                             0.0                                                                                                        0.0
                                      0       5         10        15      20     25   30     35        40                                             0    5       10      15        20        25    30   35       40                                           0      5     10     15     20     25   30         35      40
                                                             INPUT VOLTAGE (V)                                                                                          INPUT VOLTAGE (V)                                                                                         INPUT VOLTAGE (V)
www.maximintegrated.com                                                                                                                                                                                                                                                                         Maxim Integrated │ 9


MAX22190                                                                                                                                                                          Octal Industrial Digital Input with Diagnostics
Typical Operating Characteristics (continued)
VDD24 = 24V, VDD = VL = 3.3V, TA = +25°C, RREFDI = 7.5kΩ, RREFWB = 24kΩ, RIN = 1.5kΩ, unless otherwise noted.
                                                          INPUT CURRENT LIMIT IINLIM                                                                                           INPUT CURRENT LIMIT IINLIM                                                                                      INPUT CURRENT LIMIT IINLIM
                                                            vs. VIN_ INPUT VOLTAGE                       toc16
                                                                                                                                                                                 vs. VIN_ INPUT VOLTAGE                         toc17
                                                                                                                                                                                                                                                                                                 vs. VIN_ INPUT VOLTAGE                       toc18
                                     4.0                                                                                                                   4.0                                                                                                             4.0
 INPUT CURRENT LIMIT (mA)
                                     3.2                                                                                                                   3.2                                                                                                             3.2
                                                                                                                                                                                                                                        INPUT CURRENT LIMIT (mA)
                                                                                                                  INPUT CURRENT LIMIT (mA)
                                     2.4                                                                                                                   2.4                                                                                                             2.4
                                     1.6                                                                                                                   1.6                                                                                                             1.6
                                     0.8                            VDD24 = 24V, VIN_ AT THE PIN,                                                          0.8                   VDD24 = 24V, VIN_ AT FIELD SIDE,                                                          0.8                           VDD24 = 24V, VIN_ AT THE PIN,
                                                                    RREFDI = 5.2kΩ, RIN = 1kΩ,                                                                                   RREFDI = 5.2kΩ, RIN = 1kΩ,                                                                                              RREFDI = 5.2kΩ, RIN = 1kΩ,
                                                                    WIRE-BREAK OFF                                                                                               WIRE-BREAK ON                                                                                                           WIRE-BREAK ON
                                     0.0                                                                                                                   0.0                                                                                                             0.0
                                           0       5       10       15        20        25    30    35      40                                                    0      5      10       15        20        25    30    35        40                                            0       5      10       15        20        25    30    35      40
                                                                INPUT VOLTAGE (V)                                                                                                    INPUT VOLTAGE (V)                                                                                               INPUT VOLTAGE (V)
                                                       INPUT VOLTAGE THRESHOLD                                                                                               INPUT VOLTAGE THRESHOLD                                                                                         INPUT VOLTAGE THRESHOLD
                                                           vs. TEMPERATURE                                                                                                       vs. TEMPERATURE    toc20
                                                                                                                                                                                                                                                                                                 vs. TEMPERATURE
                                                                              toc19                                                                                                                                                                                                                                 toc21
                                     11                                                                                                                     11                                                                                                              7
                                                 VDD24 = 24V, RREFDI = 7.5kΩ, RIN = 1.5kΩ                                                                              VDD24 = 24V, RREFDI = 5.2kΩ, RIN = 1kΩ                                                                          VDD24 = 24V, RIN = 0Ω
                                                                                                                             INPUT VOLTAGE THRESHOLD (V)                                                                                     INPUT VOLTAGE THRESHOLD (V)
       INPUT VOLTAGE THRESHOLD (V)
                                     10                         LOW-TO-HIGH                                                                                 10                                                                                                                                             LOW-TO-HIGH
                                                                                                                                                                                         LOW-TO-HIGH                                                                        6
                                      9                                                                                                                      9
                                                                                                                                                                                                                                                                            5
                                      8                                                                                                                      8
                                                                HIGH-TO-LOW                                                                                                                                                                                                 4
                                                                                                                                                                                         HIGH-TO-LOW                                                                                                       HIGH-TO-LOW
                                      7                                                                                                                      7
                                      6                                                                                                                      6                                                                                                              3
                                           -50      -25         0        25        50        75    100     125                                                   -50     -25         0        25        50        75    100       125                                            -50     -25         0        25        50        75    100     125
                                                                TEMPERATURE (⁰C)                                                                                                      TEMPERATURE (⁰C)                                                                                               TEMPERATURE (⁰C)
                                                                                                                                                                             INPUT VOLTAGE HYSTERESIS
                                                                                                                                                                                  vs. TEMPERATURE    toc22
                                                                                                                                                           1.4
                                                                                                                 INPUT VOLTAGE HYSTERESIS (V)
                                                                                                                                                                                                                  RIN = 1.5kΩ
                                                                                                                                                           1.2
                                                                                                                                                                                          RIN = 1kΩ
                                                                                                                                                           1.0
                                                                                                                                                           0.8                                 RIN = 0Ω
                                                                                                                                                           0.6
                                                                                                                                                                 -50    -25       0           25        50        75    100       125
                                                                                                                                                                                     TEMPERATURE (⁰C)
www.maximintegrated.com                                                                                                                                                                                                                                                                                            Maxim Integrated │ 10


MAX22190                                                                                                                                                    Octal Industrial Digital Input with Diagnostics
Typical Operating Characteristics (continued)
VDD24 = 24V, VDD = VL = 3.3V, TA = +25°C, RREFDI = 7.5kΩ, RREFWB = 24kΩ, RIN = 1.5kΩ, unless otherwise noted.
                                           WIRE-BREAK CURRENT THRESHOLD
                                                     vs. RREFWB                                                                                            LDO LOAD REGULATION                                                                                   LDO LINE REGULATION
                                                                                       toc23                                                                                                    toc24                                                                                              toc25
                               0.6                                                                                                 3.35                                                                                                   3.35
                                                                                                                                                                                                                                                       IVDD = 5mA
                               0.5
                                                                                                                                   3.32                                                                                                   3.32
    WIRE-BREAK CURRENT (mA)
                                                                                                 VDD OUTPUT VOLTAGE (V)                                                                                 VDD OUTPUT VOLTAGE (V)
                               0.4
                                                                                                                                   3.29                                                                                                   3.29
                               0.3
                                                                                                                                   3.26                                                                                                   3.26
                               0.2
                                                                                                                                   3.23                                                                                                   3.23
                               0.1
                               0.0                                                                                                 3.20                                                                                                   3.20
                                     0          10         20         30        40        50                                              0        5         10        15        20    25          30                                            5        15        25        35        45    55      65
                                                        RREFWB (kΩ)                                                                                          VDD OUTPUT CURRENT (mA)                                                                                VDD24 SUPPLY VOLTAGE (V)
                                                     LDO OUTPUT VOLTAGE                                                                            LDO SHORT-CIRCUIT CURRENT                                                                              LDO SHORT-CIRCUIT CURRENT
                                                       vs. TEMPERATURE                                                                              vs. VDD24 SUPPLY VOLTAGE                                                                                   vs. TEMPERATURE
                                                                                       toc26                                                                                                    toc27                                                                             toc28
                              3.40                                                                                                   40                                                                                                    40
                                           IVDD = 5mA                                                                                          THERMAL SHUTDOWN TRIGGERED WHEN                                                                         THERMAL SHUTDOWN TRIGGERED TA >
                                                                                                                                                                                                                                                       85⁰C
                                                                                                      SHORT-CIRCUIT CURRENT (mA)
                                                                                                                                     35        VDD24 > 40V AND VDD SHORT TO GND                                                            35
                              3.36
                                                                                                                                                                                                             SHORT-CIRCUIT CURRENT (mA)
 VDD OUTPUT VOLTAGE (V)
                                                                                                                                     30                                                                                                    30
                              3.32
                                                                                                                                     25                                                                                                    25
                              3.28
                                                                                                                                     20                                                                                                    20
                              3.24
                                                                                                                                     15                                                                                                    15
                              3.20                                                                                                   10                                                                                                    10
                                     -50     -25      0     25    50       75    100     125                                              5       10        15    20        25    30       35      40                                            -40       -15           10        35        60       85
                                                        TEMPERATURE (⁰C)                                                                                     SUPPLY VOLTAGE (V)                                                                                     TEMPERATURE (⁰C)
                                                                                                                                                           VDD SUPPLY CURRENT
                                                                                                                                                               vs. DATA RATE                    toc29
                                                                                                                                   0.80
                                                                                                                                              VDD24 UNCONNECTED, VDD = VL = 3.3V,
                                                                                                                                              ALL VIN_ = 0V,
                                                                                                                                   0.75
                                                                                                                                              CS = GND, DAISY-CHAIN MODE,
                                                                                               VDD SUPPLY CURRENT (mA)
                                                                                                                                              SDI = 01010101 PATTERN
                                                                                                                                   0.70
                                                                                                                                   0.65
                                                                                                                                   0.60
                                                                                                                                   0.55
                                                                                                                                   0.50
                                                                                                                                          0            2          4          6         8           10
                                                                                                                                                             SPI DATA RATE (MHz)
www.maximintegrated.com                                                                                                                                                                                                                                                       Maxim Integrated │ 11


MAX22190                                                Octal Industrial Digital Input with Diagnostics
Pin Configurations
                                                                                      REFWB
                          TOP VIEW
                                           GND   VDD    VDD24   M1      M0    REFDI           GND
                                           32    31     30       29     28     27      26     25
                                 IN1   1                                                            24   IN8
                               LED1    2         +                                                  23   LED8
                                 IN2   3                                                            22   IN7
                               LED2    4                                                            21   LED7
                                                                MAX22190
                                 IN3   5                                                            20 IN6
                               LED3    6                                                            19 LED6
                                 IN4   7                                                            18 IN5
                               LED4    8                                                            17   LED5
                                            9    10     11       12     13     14      15     16
                                           CS
                                                 SCLK
                                                        SDI
                                                                LATCH
                                                                        SDO
                                                                              FAULT   READY
                                                                                              VL
                                                           TQFN
                                                         5mm x 5mm
www.maximintegrated.com                                                                                         Maxim Integrated │ 12


MAX22190                                                 Octal Industrial Digital Input with Diagnostics
Pin Description
        PIN              NAME                                                FUNCTION
 SPI INTERFACE
         16                 VL     Logic Interface Supply, 3.0V to 5.5V.
         10               SCLK     Serial Clock Input.
          9                CS      Chip-Select Input. Assert low to latch input states and enable the SPI interface.
                                   Serial Data Output. Data is updated on the falling edge of SCLK. When CS is high SDO is
         13               SDO
                                   high-Z.
          11               SDI     Serial Data Input. Data is clocked into SDI on the rising edge of SCLK.
                                   Active-Low Fault Indicator. Open-drain output, FAULT goes low to indicate that one or
         14              FAULT     more of the flags in the FAULT registers have been set. The faults are: Supply Monitors,
                                   Temperature Monitors, CRC error, wire-break errors, short or open at REFDI or REFWB pins.
                                   LATCH and CS control the data latch at the input of the serializer (after the inputs). The latch
         12              LATCH     is transparent when both CS and LATCH are high. The data at the input of the serializer is
                                   frozen on the falling edge of either LATCH or CS. LATCH is typically used to synchronize
                                   input timing across multiple MAX22190s.
         28                M0
                                   SPI Control Mode. See Table 1 for details.
         29                M1
                                   Open-drain output, READY goes low indicating that MAX22190 is powered and ready for
         15             READY
                                   operation.
 FIELD INPUT PINS
       25,32              GND      Ground return for all data inputs and the field power supply
         30              VDD24     24V field supply. Bypass to GND with 0.1µF capacitor in parallel with 1µF capacitor
                                   3.3V Output from integrated LDO when powered from VDD24, or 3.0 - 5.5V Supply Input
         31                VDD     when VDD24 not driven. Bypass to GND with 0.1µF capacitor in parallel with 1µF capacitor. If
                                   powering MAX22190 from an external supply, leave VDD24 floating.
 1, 3, 5, 7, 18, 20,   IN1 – IN8,  Field inputs. For type 1 and type 3 inputs, place a 1.5kΩ pulse withstanding or MELF resistor
       22, 24         respectively between the field input and IN_.
 2, 4, 6, 8, 17, 19, LED1 – LED8,
                                   Energyless LED Driver Outputs. Connect to GND if LEDs are not used.
       21, 23         respectively
                                   Wire-Break Current-Limit Reference Resistor. Connect a resistor from REFWB to GND to set
         26             REFWB
                                   Wire-Break threshold.
                                   Digital Input Current-Limit Reference Resistor. For 24V Type 1 and Type 3 inputs, place a
         27              REFDI
                                   7.5kΩ resistor from REFDI to GND.
                                   Exposed Pad. Connect to GND. Solder entire exposed pad area (EP = exposed pad on back
         EP                 —
                                   of package) to ground plane for best thermal performance.
www.maximintegrated.com                                                                                       Maxim Integrated │ 13


MAX22190                                                        Octal Industrial Digital Input with Diagnostics
Functional/Block Diagram
                                                        VDD24                 VDD
                                                                   3.3V                  TEMPERATURE                      VL
                                                                REGULATOR                  MONITOR
                                                                                           SUPPLY                       READY
             REFDI
                           REFERENCE
                                           REF_DI                                          MONITOR
             REFWB
                          GENERATORS
                                           REF_WB
                                                                                                                        FAULT
                                                                                       CONTROL REGISTERS
                                                      REF_WB
                                                                             REFWB
                                                                             FILTER
              IN1
                                                                                                                         CS
                                                                              REFDI                         S
                                                      REF_DI                  FILTER                        E
                                                                                                 L          R            SDO
                                                                                                 A          I
                                                                                                 T          A
                                                                                                 C          L            SCLK
                                                                                                 H          I
              LED1                                                                                          Z            SDI
                                                                                                            E
                                   INPUT CHANNEL 1,                                                         R
                                     TYPICAL OF 8
                                                                                                                         M1
               IN8                                                                                                       M0
              LED8                                               INPUT CHANNEL 8
                                                                                                                        LATCH
                                                                                                                        GND
www.maximintegrated.com                                                                                    Maxim Integrated │ 14


MAX22190                                                                 Octal Industrial Digital Input with Diagnostics
Detailed Description                                                                    for Type 1 and Type 3 inputs. The current sunk by each
The MAX22190 senses the state (on, high or off, low) of                                 input pin rises linearly with input voltage until the level
eight digital inputs. The voltages at the IN1–IN8 input pins                            set by the current limiter is reached; any volt­age increase
are compared against internal references to deter­mine                                  beyond this point does not increase the input current.
whether the sensor is on (logic 1) or off (logic 0). All eight                          Limiting the input current ensures compliance with IEC
inputs are simultaneously latched by the assertion of either                            61131-2 while significantly reducing power dissipation
LATCH or CS, and the data made available in a serial-                                   compared to traditional resistive inputs.
ized format through the SPI interface. Placing a 7.5kΩ                                  The current-setting resistor RREFDI can be calculated
current-setting resistor between REFDI and GND, and a                                   using this equation:
1.5kΩ or 1kΩ resistor between each field input and the
corresponding IN_ input pin ensures that the current at                                              RREFDI = 17.63V/IINLIM
the ON and OFF trip points as well as the voltage at
the trip points satisfy the requirements of IEC 61131-2
                                               STANDARD OPERATING RANGE FOR 24V DC DIGITAL INPUTS (CURRENT SINKI NG)
                                     VIN (V)
                                                                                     VHmax
                                                        IHmin                                             ON REGION       IHmax
                                              VLmax                               VHmin or VTmax
                                                      ITmin                                        TRANSITION REGION      ITmax
                                                                                  VLmax or VTmin
                                    ILmin                                                               OFF REGION        ILmax
                                          0
                                                                                                                                IIN (mA)
                                                                                      VLmin
                            Type 1 Limits                                     Type 2 Limits                                              Type 3 Limits
      Type
         of      Off Region  Transition       On Region        Off Region       Transition          On Region         Off Region          Transition    On Region
      Limit      VL      IL  VT       IT     VH       IH       VL       IL       VT          IT    VH        IH       VL           IL     VT      IT   VH      IH
                 (V)   (mA)  (V) (mA)        (V)     (mA)      (V)    (mA)       (V) (mA)          (V)     (mA)       (V)       (mA)      (V) (mA)     (V)    (mA)
      Max       15/5    15    15     15      30       15      11/5     30        11         30     30        30      11/5         15       11     15    30     15
      Min         -3    ND     5     0.5     15        2        -3     ND         5           2    11         6        -3         ND        5    1.5    11      2
     ND = NOT DEFINED
Figure 2. Switching Characteristics for IEC61131-2 Type 1, 2, and 3 24VDC Digital Inputs
www.maximintegrated.com                                                                                                                            Maxim Integrated │ 15


MAX22190                                                                          Octal Industrial Digital Input with Diagnostics
Input Filters                                                                                  low-to-high transition of the filter occurs when the counter
Each input (IN1–IN8) has a programmable filter and                                             reaches the upper limit. The high-to-low transition occurs
input data may be filtered to reduce noise, or it may be                                       when the counter reaches the lower limit. There is no
read directly for more rapid response. Bit FBP in the                                          rollover; counting simply stops when the upper or lower
corresponding FLTx register is used to bypass the filter or                                    limit is hit. The filter delay is the time it takes to reach the
to enable the filter. One of eight filter delays (50µs, 100µs,                                 upper/lower limit in response to a step input when the
400µs, 800µs, 1.6ms, 3.2ms, 12.8ms, 20ms) may be                                               counter starts from the lower/upper limit. If the input is not
independently selected for each channel. Noise rejection                                       a step function, but is bouncing, as shown in Figure 3, the
is accomplished through a no-rollover up-down counter                                          output changes state after a total delay of:
where the state of the field input controls the counting                                       Total Delay = Filter Delay + 2 × (Total Time at the Old State)
direction (up or down), the filter uses an up-down counter
                                                                                               In the example in Figure 3, the filter has a nominal delay
fed by a 200kHz clock. If the input is high, it counts up; if
                                                                                               of 1.6ms, and the input returns high for two 0.2ms periods
the input is low, it counts down. The filter output is updated
                                                                                               after the first transition from high to low. These transitions
when the counter hits the upper or lower limit, with the                                       back to the high state extend the time before the output
upper limit depending on the selected filter delay and the                                     of the filter switches. Total Delay = 1.6ms + 2 × (0.2ms +
lower limit being zero regardless of the filter delay. The                                     0.2ms) = 2.4ms.
                                                                                                                                             CLEAR-ON-READ
                                                                                                                                      R
                                                                                                      CS
                                                                                                                          S      WB STICKY
                  REFWB                                                                          LATCH                                         TO SERIALIZER
                                                       20ms                                                                       LATCH
                                                      FILTER
                                                                                                                              BYPASS CONTROL
                                                                                          FILTER BYPASS
                                                            1MHz SAMPLING
                                                                                                                     M
                                                                                                                     U
                                                                                  FULL                               X
                   REFIN                                                          SCALE   S           Q                          TRANSPARENT
                                         UP/DOWN                                                                                                 TO SERIALIZER
                                                                                                                                    LATCH
                   INx                                     UP/DOWN
                                                           COUNTER
                                                        (NO ROLLOVER)
                                              CLK                                 0                                                                              CS
                                             200kHz                                       R           Q
                                                                                                                                                                 LATCH
                                                      COUNTER FS CONTROL
                                                         50μs TO 20ms
                                                        0.0ms
                                                                  0.5ms     1.2ms
                                                                                              2.4ms
                                                                                                          TOTAL TIME AFTER FIRST EDGE
                                                                  0.7ms     1.4ms
                                        INx
                                                                                                           SATURATED HIGH (1.6ms)
                            COUNTER VALUE                                                                  OUTPUT IS HIGH
                                                                                                           SWITCH THRESHOLD = 0.0ms
                                                       1.6ms
                                                                1.1ms
                                                                  1.3ms
                                                                          0.8ms
                                                                                              0.0ms           AT 0.0ms,
                                                                             1.0ms                            OUTPUT SWITCHES FROM HIGH TO LOW
                                                                                                              SWITCHING THRESHOLD SET TO FULL SCALE (1.6ms)
                                    OUTPUT
Figure 3. MAX22190 Digital Filter
www.maximintegrated.com                                                                                                                                          Maxim Integrated │ 16


MAX22190                                                    Octal Industrial Digital Input with Diagnostics
Wire-Break Detection                                              register have been set. These faults are: VDD24 low
Each input (IN1 – IN8) includes a second threshold                voltage alarm (24VL), VDD24 voltage missing alarm
comparator that can be individually enabled to verify the         (24VM), overtemperature alarm 1 (ALRMT1), overtem-
integrity of field wiring. The comparator senses the pres-        perature alarm 2 (ALRMT2), CRC error detected on the
ence of the small input current produced by a two wire            previous SPI frame (CRC), Power-On-Reset event (POR),
proximity sensor in its open state, or the current from an        wire-break group error detected (WBG), and sources
open switch with a diagnostic resistor placed across it.          from FAULT2 register. Enable bits in the FAULT1EN and
The wire-break current threshold is set by placing a resis-       FAULT2EN registers select which flags in the FAULT1
tor between REFWB and GND, and is adjustable from                 and FAULT2 registers asserts the FAULT pin. The enable
50µA to 470µA. If this current is missing, due to an open         bits do not affect the flags in the FAULT1 register, they
wire or a wire shorted to GND, the comparator trips, and          only affect the FAULT pin. Flags ALRMT1, ALRMT2,
after filtering, sets a corresponding sticky bit in the WB        24VL, and 24VM in the FAULT1 register are latched; they
register. Bits in this register remain set until the register is  remain set until read even if the fault goes away. WBG is
read, which automatically clears all bits in the register. All    equivalent to the ORed output of the individual wire-break
wire-break detectors include a fixed 20ms filter, and like        flags WB[7:0] which are latched until cleared by reading
the input data, the input to the WB latch is frozen when          the WB register. CRC is not latched, but remains set until
either CS or LATCH is held low. The eight wire-break              an uncorrupted SPI frame is received.
flags are ORed together to produce the WBG flag in the
                                                                  The STK bit in the GPO register configures the FAULT
FAULT1 register. This flag remains set until all flags in the
                                                                  pin to be sticky or to clear when the fault is removed. For
WB register have been cleared.
                                                                  example: if a low voltage condition on VDD24 is detected,
The wire-break threshold resistor RREFWB can be calcu-            the 24VL bit in the FAULT1 register is set and FAULT
lated using this equation:                                        asserts low provided bit 24VLE in the FAULT1EN register
                   RREFWB = 2.44V / IWB                           is set. If VDD24 then returns to normal levels, the 24VL bit
                                                                  in the FAULT1 register remains set until read; however
Energyless LED Drivers                                            the state of FAULT pin depends on configuration bit STK.
                                                                  If STK = 0, the FAULT pin is not sticky and clears when
When IN_ is determined to be on, its input current is
                                                                  the fault goes away even though the 24VL bit remains
diverted to the LED pin and flows from that pin to GND.
                                                                  set. If STK = 1, then FAULT pin reflects the state of the
Placing an LED between LED_ and GND provides an
                                                                  bit in the FAULT1 register and remains set until the bit is
indication of the input state without increasing overall
                                                                  cleared by reading the FAULT1 register. The minimum
power dissipation. If the indicator LEDs are not used, connect
                                                                  pulse width for FAULT pin asserting low is 1µs typical.
LED_ to GND.
                                                                  This ensures adequate time for the assertion of FAULT
Fault Detection and Monitoring                                    to be recognized by the host even if the fault was present
FAULT is an open-drain output that can be wire ORed               for a shorter time.
with the other open-drain outputs and used to notify the          The power-on default for the FAULT1EN register is to
host processor of a fault. When enabled, FAULT goes low           enable CRC and POR. FAULT pin is in the non-sticky mode.
to indicate that one or more of the flags in the FAULT1
www.maximintegrated.com                                                                                   Maxim Integrated │ 17


MAX22190                                                                                        Octal Industrial Digital Input with Diagnostics
Clearing Bits in FAULT1 Register                                                                              receives a data frame with a CRC error, the CRC error
24VL and 24VM sticky (or latched) bits in the FAULT1 reg-                                                     flag (CRC) in the FAULT1 register is set and, if CRCE is
ister may be read and cleared either through a direct read                                                    set, FAULT pin is asserted. The CRC bit is not sticky, but
of the FAULT1 register, or through a SPI mode 0 or mode                                                       does remain set until an error-free frame is received. SPI
2 read or write command if bit 24VF in the CFG register is                                                    commands within a corrupted frame are ignored.
equal to 0. SPI modes 0 and 2 transactions read and clear                                                     SPI Interface
bits 24VL, and 24VM (Table 3). This valid SPI transaction
                                                                                                              The MAX22190 has an SPI compatible interface used to
also clears the CRC bit. Note that the CRC bit is only active
                                                                                                              read input data, read diagnostic data, and configure all
in modes 0 and 2 since this is the only time a CRC test is
                                                                                                              of the registers. Each configuration register can be read
performed. The WBG bit in the FAULT1 register is the real-
                                                                                                              back to ensure proper configuration. The interface can
time ORed value of bits WB[7:0] in the WB register and
                                                                                                              be operated in one of four modes as controlled by the
the WBG bit is not cleared by reading the FAULT1 register.
                                                                                                              strapping inputs M0 and M1. Asserting CS low latches
Reading the bits in the WB register clears the WB register
                                                                                                              the state of all inputs and enables the SPI interface. For
and for convenience also clears the WBG bit in the FAULT1
                                                                                                              all modes, data at the SDI input is sampled on the rising
register.
                                                                                                              edge of SCLK and data at SDO is updated on the falling
CRC Generation                                                                                                edge of SCLK. The MSB (READ/WRITE bit) is always the
In SPI interface modes 0 and 2, five CRC bits can be used                                                     first bit of the SPI frame. Transitions of SCLK while CS is
to check data integrity during transfer between the device                                                    deasserted (high) are ignored. SCLK must idle low when
and an external microcontroller. In applications where the                                                    CS is asserted.
integrity of data transferred is not of concern, the CRC bits
can be disabled by operating in SPI modes 1 and 3. The                                                        Table 1. SPI Interface Modes
CRC uses the following polynomial:
                                                                                                                MODE           M1: M0     FRAME LENGTH CRC DAISY CHAIN
                          P(x) = x5 + x4 + x2 + x0
                                                                                                                     0           00               24-bit            Yes          No
The 5-bit CRC value is calculated using the first 19 data
                                                                                                                     1           01               16-bit            No           No
bits padded with the 5-bit initial word 00111. The 5-bit
CRC result is then appended to the original data bits to                                                             2           10               24-bit            Yes          Yes
create the 24-bit SPI data frame. When the MAX22190                                                                  3           11               16-bit            No           Yes
      MODE 0 WRITE CYCLE
           CS
   INPUTS      IN[8:1]
                         1      2       3      4      5       6     7       8       9     10     11    12      13     14    15    16   17   18   19   20    21   22   23   24
         SCLK
          SDI          1*    A6      A5     A4     A3     A2    A1      A0     D7      D6      D5   D4     D3       D2   D1     D0   0    0    0    C4   C3    C2   C1   C0
              HIGH-Z DI7     DI6     DI5    DI4   DI3     DI2                                                                                                                 HIGH-Z
         SDO                                                    DI1     DI0    WB7 WB6 WB5 WB4 WB3 WB2 WB1 WB0 24VL 24VM WBG C4                          C3    C2   C1   C0
               * Read = 0 or Write = 1
               CRC[4:0] for SDI is generated by host such as MCU
               CRC[4:0] for SDO is generated by MAX22190
               Note: Input pins are labelled IN8 – IN1, and map to DI register bits DI7 – DI0, and WB register bits WB7 – WB0
Figure 4. SPI Communication Example
www.maximintegrated.com                                                                                                                                             Maxim Integrated │ 18


MAX22190                                                     Octal Industrial Digital Input with Diagnostics
SPI Protocol                                                          LATCH is used to simultaneously capture the input states
The serial output of the device adheres to the SPI proto­col,         of different MAX22190s that are not controlled by the
running with CPHA = 0 and CPOL = 0. In all modes, the                 same CS. This could be multiple MAX22190s in the same
first 8-bits clocked out of SDO after CS is asserted are              module, or MAX22190s in different modules.
data bits showing the status of inputs IN8 – IN1; this                Clock Count for Multiples of 8
allows for rapid and convenient retrieval of the primary
                                                                      For each SPI cycle (between CS going low and going
data. For write operations in Modes 0 and 1, the next
                                                                      high), the device counts the number of SCLK pulses. If it
8-bits clocked out of SDO are the status bits of the WB
                                                                      is not a multiple of 8, the SPI input data is discarded and
(wire-break) register. This is true even if wire-break detection
                                                                      bit FAULT8CK is set in the FAULT2 register.
is not enabled, in which case all bits are 0. For reads in
Modes 0 and 1, the second 8 bits are the data from the                SPI Power Status
specified register.                                                   Only the SPI port buffers are powered from the VL supply;
Modes 2 and 3 are more complex, since the content of the              internal SPI circuits are powered from the VDD supply.
second byte is determined by the previous instruction. For            Both VDD and VL must be valid for SPI communication to
non-daisy-chain compatible modes (Modes 0 and 1), the                 take place. In addition to powering the SPI circuits, VDD
read instruction is decoded on-the-fly as the SPI frame is            also sustains the SPI memory (configuration and status
clocked in. The instruction is immediately executed and               registers). If power is being supplied through VDD24, then
data from the specified register is clocked out in the same           an auxiliary supply for the memory is also available. The
SPI frame. This is convenient and quick, but not compat-              auxiliary supply only sustains memory, it does not allow
ible with daisy-chaining. When daisy-chaining, each unit              SPI communication. The auxiliary supply takes over if VDD
does not know which portion of the bit stream it should               is lost due to external loading or due to a thermal shutdown
decode until CS is deasserted (the frame is finished).                event. When the event is over, the device configuration is
To accommodate this, all daisy-chainable read instruc-                maintained and fault information is available in the FAULT
tions require two SPI frames. The first frame contains the            registers. Refer to Table 2 for power requirement for SPI
read instruction and register address. The second frame               communication and register map configuration.
returns the register data as the second byte of the frame.
This is true regardless of the instruction being clocked in
during the second frame.
Table 2. SPI Port Power Status
      V DD24           V DD              VL          SPI REGISTER MAP CONFIGURATION                 SPI PORT COMMUNICATION
       Valid           Valid           Valid           Configuration and fault data maintained             Normal Operation
     Not Valid         Valid           Valid           Configuration and fault data maintained            Normal Operation
       Valid        Not Valid             X            Configuration and fault data maintained        CS ignored, SDO is High-Z
         X             Valid          Not Valid        Configuration and fault data maintained        CS ignored, SDO is High-Z
     Not Valid      Not Valid             X               Configuration and fault data lost           CS ignored, SDO is High-Z
www.maximintegrated.com                                                                                        Maxim Integrated │ 19


MAX22190                                                                              Octal Industrial Digital Input with Diagnostics
Daisy-Chaining                                                                                  device. CS and SCLK of all devices in the chain should be
For systems with more than eight sensor inputs, mul-                                            connected together in parallel, see Figure 5 which illus-
tiple devices can be daisy-chained to allow access to                                           trates a 16-input application for daisy-chaining and Figure 6,
all data inputs through a single serial port. When using                                        which shows SPI timing.
a daisy-chain configuration, connect MOSI to SDI of the
first device in the chain. Connect MISO to SDO of the last
device in the chain. For all middle links, connect SDI to
SDO of the previous device and SDO to SDI of the next
                                                                                +3.3V
            RPULLUP                                                                                                                                                  CS           VL
                                                                                                                                                      MOSI
                                                          CS                    +3.3V                          CS                      +3.3V
                                               VL                                                  VL
                                                                   LATCH                                                  LATCH                          MICROCONTROLLER
                                           SDI        MAX22190        SDO                       SDI       MAX22190          SDO                       MISO
                                                      DEVICE A                                            DEVICE B
                                             FAULT      SCLK                                     FAULT        SCLK
                                                                                                                                                      GPI         SCLK
Figure 5. SPI Daisy-Chain Operation
    MODE 3, DAISY CHAIN READ
                                              Frame 1                                                                                            Frame 2
      CS
                  1    2 ... 8    9 10   ...    16     17   18 ... 24    25  26   ...  32             1    2 ... 8     9    10   ...  16      17    18 ... 24   25     26     ...    32
    SCLK
     SDIA        RB  A6B    A0B  0  0  ...     0       RA  A6A    A0A   0   0    ...  0                           “X”                                              “X”
    SDOA HIGH-Z                                                                           HIGH-Z
     SDIB                       “X”                    RB  A6B    A0B   0   0    ...  0             IN8A IN7A   IN1A  D7A      ...   D0A                       “X”
                                                                                          HIGH-Z                                                                                        HIGH-Z
    SDOB                        “X”                                    “X”                         IN8B IN7B    IN1B  D7B      ...   D0B  IN8A IN7A   IN1A D7A            ...     D0A
Figure 6. SPI Timing Diagram Daisy-Chain
www.maximintegrated.com                                                                                                                                          Maxim Integrated │ 20


MAX22190                                                  Octal Industrial Digital Input with Diagnostics
Configuration Flowchart                                         Configurable Mode: The MAX22190 can be configured
The MAX22190 powers on with default register settings           for different parameters based upon the application
and can be used in default mode to read the data inputs,        requirements. The MCU can write to the various registers
or it can be configured to match the individual application     to set the options for Wire-Break, Input Channel Filters,
requirements. Before any register access for configuration      enabling different Fault Sources, or disabling specific
or reading data, the MCU needs to wait until READY goes         Input Channels. In addition, the user can enable features
low indicating that the MAX22190 is powered up and              such as detecting a short on pin REFDI and making FAULT
ready for use. Next, the MCU needs to clear the FAULT           pin sticky or not. Once the configuration is complete,
pin that asserts low after every power-up event due to the      the MAX22190 can be polled to read from DI register
default state (high) of the POR flag.                           to show the logic state of the 8 input channels.
Default Mode: (Power-up mode) In this mode, the                 FAULT Asserted: The MAX22190 uses the open-drain
Wire-Break (WB) function is disabled, all input channel         FAULT pin to indicate to the MCU that a Fault has
filters (FLTx) are set to BYPASS, all input channels are        occurred, often by using this pin to trigger an interrupt
enabled, and all fault sources are disabled on FAULT pin        function within the MCU. The MCU can determine the
except the CRC and POR flags. Upon power-up, the POR            source of the fault by reading regsiter FAULT1. If bit 5 of
flag is set to 1. If the FAULT pin is being used, then a write  FAULT1 is set, then register FAULT2 is indicating a fault
operation must be performed to the FAULT1 register to           and FAULT2 must also be read. Reading the FAULT_
reset POR to 0 for normal operating conditions. Now the         register clears the fault flag, unless the fault condition
MAX22190 can be polled to read data from DI register to         persists, which would immediately reset the flag.
show the logic state of the 8 input channels.
www.maximintegrated.com                                                                                Maxim Integrated │ 21


MAX22190                                                                                                  Octal Industrial Digital Input with Diagnostics
                                                                                                               POWER UP
                                                Wait until MAX22190 is Powered Up                    N
                                                                                                             READY LOW?
                                                READY asserted
                                                FAULT1: POR bit = 1
                                                FAULT asserted                                                         Y
                                                                                                                                          MAX22190 Configured for User Defined Modes
                                                MAX22190 Operates in Default Modes                   Y                            N
                                                                                                            DEFAULT MODE?
                        Wire-Break Feature is Disabled                     WB DISABLED                                                                                        Wire-Break Feature can be
                                                                                                                                                   WRITE WB                   enabled on a per channel basis
                                                                           VALUE = 0x00
                        All Input Channel Filters are set to                FLT1 to FLT8                                                                                      Input Channel Filters can be set on
                        Bypass                                                                                                              WRITE FLT1 to FLT8                a per channel basis
                                                                           VALUE = 0x08
                        All Input Channels are Enabled for                      INEN                                                                                          Enable individual Fault Sources
                        Reading Data                                                                                                         WRITE FAULT2EN
                                                                           VALUE = 0xFF
                        All Fault Sources disabled except                    FAULT1EN                                                                                         Enable individual Fault Sources
                        CRC and POR                                                                                                          WRITE FAULT1EN
                                                                           VALUE = 0xC0
                        Clear POR                                         WRITE FAULT1,                                                        WRITE FAULT1,                  Clear CRC and POR
                        FAULT deasserted                                 SET POR BIT = 0                                                      SET POR BIT = 1                 FAULT deasserted
                                                                                                                                          WRITE CFG, SET CLRF                 Fix filters at mid-scale, enable
                        Read Input Data (polling)                             READ DI                                                                                         detection of short on REFDI
                                                                                                                                        OR REFDI_SH_ENA BITS
                                                                                                                                                 WRITE GPO,                   Make FAULT pin sticky or not
                                                                                                                                                 SET STK BIT
                                                                                                                                                    READ DI                   Read Input Data (polling)
                                                                                                           FAULT INTERRUPT
                                                                                                     N
                                                                                                              FAULT LOW?
                                                                                                                       Y
                                                                                                                                    Determine Fault source, Clear bit on read
                                                                                                             READ FAULT1
                                                                                                      0                           1
                                                                                                             Bit 5: FAULT2 ?             Is FAULT in register FAULT1 or FAULT2?
                                                                                Error is in FAULT1                                          Error is in FAULT2
                                                             Some FAULT1 flags
                                                             are latched                      READ FAULT1                       READ FAULT2                FAULT2 is Clear-On-Read
                                                                                             SERVICE FAULT                     SERVICE FAULT
                                                                                                SOURCE                            SOURCE
                                                             Ensure FAULT
                                                             condition is cleared
                                                                               Y                                                                           Y
                                                                                              FAULT LOW?                        FAULT LOW?
                                                                                                    N                                    N
                                                                                         NORMAL OPERATION                    NORMAL OPERATION
Figure 7. MAX22190 Configuration Flowchart
www.maximintegrated.com                                                                                                                                                                                           Maxim Integrated │ 22


MAX22190                                                Octal Industrial Digital Input with Diagnostics
Table 3. SPI Frames for SPI Modes
Mode 0: M1 = 0, M0 = 0
Write
           MSB = 1               Register Address        Write Data           000 Fill Data   CRC from Host       LSB
 SDI
             1-bit                    7-bits                8-bits               3-bits                5-bits
                    Input data: IN8 – IN1          WB data: WB7 – WB0                           CRC from MAX22190
 SDO                                                                      24VL   24VM     WBG
                            8-bits                          8-bits                                     5-bits
Read
           MSB = 0               Register Address   00000000 Fill Data       000 Fill Data    CRC from Host      LSB
 SDI
              1-bit                    7-bits              8-bits               3-bits                 5-bits
                   Input data: IN8 – IN1          Register Data: D7 – D0                       CRC from MAX22190
 SDO                                                                     24VL   24VM      WBG
                           8-bits                          8-bits                                      5-bits
Mode 1: M1 = 0, M0 = 1
Write
           MSB = 1              Register Address        Write Data
 SDI
             1-bit                    7-bits               8-bits
                   Input data: IN8 – IN1           WB data: WB7 – WB0
 SDO
                           8-bits                          8-bits
Read
           MSB = 0              Register Address    00000000 Fill Data
 SDI
             1-bit                    7-bits               8-bits
                   Input data: IN8 – IN1          Register Data: D7 – D0
 SDO
                           8-bits                          8-bits
Mode 2: M1 = 1, M0 = 0
Write – Preceding frame was a write or no-op
           MSB = 1               Register Address       Write Data           000 Fill Data    CRC from Host      LSB
 SDI
              1-bit                   7-bits               8-bits               3-bits                 5-bits
                   Input data: IN8 – IN1          WB data: WB7 – WB0                           CRC from MAX22190
 SDO                                                                     24VL   24VM      WBG
                           8-bits                          8-bits                                      5-bits
Write – Preceding frame was a read
           MSB = 1              Register Address        Write Data           000 Fill Data    CRC from Host       LSB
 SDI
              1-bit                   7-bits               8-bits               3-bits                 5-bits
                   Input data: IN8 – IN1          Register Data: D7 – D0                       CRC from MAX22190
 SDO                                                                     24VL   24VM      WBG
                           8-bits                          8-bits                                      5-bits
Read – Preceding frame was a write or no-op
           MSB = 0              Register Address   00000000 Fill Data        000 Fill Data    CRC from Host       LSB
 SDI
              1-bit                   7-bits               8-bits               3-bits                 5-bits
                   Input data: IN8 – IN1          WB data: WB7 – WB0                           CRC from MAX22190
 SDO                                                                     24VL   24VM      WBG
                           8-bits                          8-bits                                      5-bits
www.maximintegrated.com                                                                           Maxim Integrated │ 23


MAX22190                                                     Octal Industrial Digital Input with Diagnostics
Table 3: SPI Frames for SPI Modes (continued)
Read – Preceding frame was a read
             MSB = 0             Register Address       00000000 Fill Data          000 Fill Data       CRC from Host         LSB
 SDI
               1-bit                   7-bits                  8-bits                  3-bits                      5-bits
                    Input data: IN8 – IN1             Register Data: D7 – D0                               CRC from MAX22190
 SDO                                                                            24VL   24VM      WBG
                            8-bits                             8-bits                                              5-bits
Mode 3: M1 = 1, M0 = 1
Write – Preceding frame was a write or no-op
            MSB = 1             Register Address             Write Data
 SDI
              1-bit                   7-bits                   8-bits
                    Input data: IN8 – IN1              WB data: WB7 – WB0
 SDO
                            8-bits                             8-bits
Write – Preceding frame was a read
            MSB = 1             Register Address             Write Data
 SDI
              1-bit                   7-bits                   8-bits
                    Input data: IN8 – IN1             Register Data: D7 – D0
 SDO
                            8-bits                             8-bits
Read – Preceding frame was a write or no-op
            MSB = 0             Register Address        00000000 Fill Data
 SDI
              1-bit                   7-bits                   8-bits
                    Input data: IN8 – IN1              WB data: WB7 – WB0
 SDO
                            8-bits                             8-bits
Read – Preceding frame was a read
            MSB = 0             Register Address        00000000 Fill Data
 SDI
              1-bit                   7-bits                   8-bits
                    Input data: IN8 – IN1             Register Data: D7 – D0
 SDO
                            8-bits                             8-bits
Notes:
SDI – CRC generated by external device such as MCU, Data D7 - D0 clocked out from MCU
SDO – CRC generated by MAX22190, Data D7 - D0 clocked out from MAX22190 Register
NO-OP – No Operation, i.e. write cycle with no valid data to specified address
Write Cycle – DI[7:0] and WB[7:0] are from internal latches, whose outputs are frozen when CS or LATCH goes low. Bits 24VL,
24VM and WBG are frozen by CS going low but not by LATCH.
Read Cycle – D7 - D0 are the register data addressed through SDI. Bits 24VL, 24VM, and WBG reflect the corresponding bits in the
FAULT1 register.
Input Channel pins are numbered IN1 – IN8, so input IN1 maps to bit DI0, input IN2 to bit DI1 …. and input IN8 to bit DI7
www.maximintegrated.com                                                                                       Maxim Integrated │ 24


                            Table 4. Register Map
                                                                             POR
                             REGISTER       ADDRESS SYMBOL        TYPE                   7        6           5            4          3          2          1          0
                                                                          (DEFAULT)
                            Wire Break        00h         WB       COR        00h      WB7      WB6         WB5          WB4        WB3        WB2         WB1        WB0    MAX22190
                            Digital Input     02h         DI        R         00h       DI7      DI6         DI5          DI4        DI3        DI2        DI1        DI0
                            Fault 1           04h       FAULT1    MIXED       46h      CRC      POR        FAULT2      ALRMT2     ALRMT1       24VL       24VM       WBG
www.maximintegrated.com
                            Filter IN1        06h        FLT1      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN2        08h        FLT2      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN3        0Ah        FLT3      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN4        0Ch        FLT4      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN5        0Eh        FLT5      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN6        10h        FLT6      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN7        12h        FLT7      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                            Filter IN8        14h        FLT8      RW         08h        0        0           0          WBE        FBP                DELAY[2:0]
                                                                                                                                                                    REFDI_
                            Configuration     18h        CFG       RW         00h        0        0           0          24VF       CLRF         0          0
                                                                                                                                                                    SH_ENA
                            Input Enable      1Ah        INEN      RW        FFh       CH[7]    CH[6]       CH[5]        CH[4]      CH[3]      CH[2]      CH[1]      CH[0]
                            Fault 2           1Ch       FAULT2     COR        02h        0        0      FAULT8CK      OTSHDN      RFDIO      RFDIS      RFWBO      RFWBS
                            Fault 2
                                              1Eh     FAULT2EN     RW         00h        0        0     FAULT8CKE OTSHDNE RFDIOE              RFDISE    RFWBOE RFWBSE
                            Enables
                            GPO               22h        GPO       RW         00h       STK       0           0            0          0          0          0          0
                            Fault 1
                                              24h     FAULT1EN     RW        C0h       CRCE     PORE      FAULT2E     ALRMT2E ALRMT1E         24VLE      24VME       WBGE
                            Enables
                                                                                          Dummy register. Contents of registers DI and WB are clocked out normally during
                            No-Op             26h        NOP        NA         -
                                                                                               attempted SPI writes to this register. Useful for Daisy-Chain mode.
                            Register Type Legend:
                                R: Read only
                                RW: Read and Write
                                COR: Clear-On-Read
                                MIXED: Some bits are Clear-On-Read type, others are cleared differently. See bit descriptions for details.
                                                                                                                                                                             Octal Industrial Digital Input with Diagnostics
    Maxim Integrated │ 25


MAX22190                                                      Octal Industrial Digital Input with Diagnostics
Register Detailed Description
WB (Clear-On-Read)
Address = 0x00
Default = 0x00
   BIT       NAME                                                          DESCRIPTION
                        0: No Wire-Break condition detected for channel x
                        1: Wire-Break condition detected for channel x
    7:0     WB[7:0]
                        Wire-break status for each channel. The bit remains high even if the wire-break condition disappears and is only
                        cleared upon reading the register. Not cleared if the wire-break condition is still present upon reading the register.
Note: Input Channels are numbered IN1–IN8, so IN1 maps to WB0, IN2 to WB1... and IN8 to WB7.
DI (Read)
Address = 0x02
Default = 0x00
   BIT       NAME                                                          DESCRIPTION
                        0: Channel x is driven low
    7:0      DI[7:0]    1: Channel x is driven high
                        Digital input state. DI_ is the state of the corresponding input pin.
Note: Input Channels are numbered IN1–IN8, so IN1 maps to DI0, IN2 to DI1... and IN8 to DI7.
FAULT1 (Mixed)
Address = 0x04
Default = 0x46
   BIT       NAME                                                          DESCRIPTION
                        0: The last received SPI frame was not corrupted
                        1: The last received SPI frame was corrupted
     7        CRC
                        It is not cleared upon read, but when an uncorrupted SPI frame is received.
                        CRC is only active in SPI Interface Modes 0 and 2
                        0: Normal operating conditions
                        1: POR event has reset the register map to its power-on-reset state
     6        POR
                        This bit is cleared only if the user writes “0” to it. The other bits in this register are unaffected by the write
                        access.
                        0: An enabled bit in the FAULT2 register is not set
     5      FAULT2      1: An enabled bit in the FAULT2 register is set
                        This bit is cleared on read only if the FAULT2 register is cleared or the bit is disabled.
                        0: Temperature Alarm 2 threshold has not been exceeded
     4     ALRMT2*      1: Temperature Alarm 2 threshold has been exceeded
                        Cleared upon reading this register.
                        0: Temperature Alarm 1 threshold has not been exceeded
     3     ALRMT1*      1: Temperature Alarm 1 threshold has been exceeded
                        Cleared upon reading this register.
                        0: 24V supply is normal (above the 24VL threshold)
                        1: 24V supply is low (below the 24VL threshold)
     2       24VL*
                        Cleared upon reading this register. If bit 4 in CFG Register (24VF) is 0, 24VL can also be cleared after any
                        SPI transaction while operation in modes 0 or 2.
www.maximintegrated.com                                                                                                  Maxim Integrated │ 26


MAX22190                                                      Octal Industrial Digital Input with Diagnostics
   BIT        NAME                                                         DESCRIPTION
                          0: 24V supply is normal (above the 24VM threshold)
                          1: 24V supply is missing (below the 24VM threshold)
     1        24VM*
                          Cleared upon reading this register. If bit 4 in CFG Register (24VF) is 0, 24VM can also be cleared after any
                          SPI transaction while operation in modes 0 or 2.
                          0: No bit in the WB register is set
     0         WBG        1: One or more bits in the WB register are set
                          Cleared upon reading the WB register.
*These flags are “latched” and they remain set until read even if the fault goes away, and are not cleared if the fault condition is still
present when the register is read.
FLT1 to FLT8 (Read/Write)
Address = 0x06 – 0x14 (increments of 2)
Default = 0x08
   BIT         NAME                                                        DESCRIPTION
    7:5           0        Reserved
                           0: Wire-Break detection is disabled for channel x
                           1: Wire-Break detection is enabled for channel x
     4          WBE        If WBE = 0 the corresponding WBx bit is always low and the WB detection circuits for channel x are off.
                           The REFWB resistor on pin REFWB can be removed if the WBE bits of all the channels are low.
                           The RFWBO bit in the FAULT2 register is set if WBE bits of all channels are low.
                           0: Programmable filter on INx is used
     3          FBP
                           1: Programmable filter on INx is bypassed
                           Programmable filter values for INx (the WBx filter value is 20ms and is not programmable).
                           DELAY[2:0] = 000 = 50µs
                           DELAY[2:0] = 001 = 100µs
                           DELAY[2:0] = 010 = 400µs
    2:0     DELAY[2:0]     DELAY[2:0] = 011 = 800µs
                           DELAY[2:0] = 100 = 1.6ms
                           DELAY[2:0] = 101 = 3.2ms
                           DELAY[2:0] = 110 = 12.8ms
                           DELAY[2:0] = 111 = 20ms
www.maximintegrated.com                                                                                             Maxim Integrated │ 27


MAX22190                                                     Octal Industrial Digital Input with Diagnostics
CFG (Read/Write)
Address = 0x18
Default = 0x00
   BIT       NAME                                                        DESCRIPTION
   7:5          0       Reserved
                        0: Flags 24VL and 24VM are cleared after any full frame SPI transaction or by reading the FAULT1 register
    4         24VF      1: 24VL and 24VM are cleared only by reading the FAULT1 register
                        Only affects SPI modes 0 and 2.
                        0: Filters (INx and WBx) operate normally
    3         CLRF      1: All the filters (INx and WBx) are fixed at the mid-scale value for the chosen delay
                        The filters resume normal operation when CLRF is cleared.
   2:1          0       Reserved
             REFDI_     0: Disables the detection of a short-circuit condition on the REFDI pin
    0
            SH_ENA      1: Enables the detection of a short-circuit condition on the REFDI pin
INEN (Read/Write)
Address = 0x1A
Default = 0xFF
   BIT       NAME                                                       DESCRIPTION
                        0: CH[x] = 0, INx is disabled and the current source is set to 0mA and the DIx bit in the DI register is set to
   7:0       CH[7:0]    0.
                        1: CH[x] = 1, INx is enabled
Note: Input channels are numbered IN1–IN8, so IN1 maps to CH0, IN2 to CH1... and IN8 to CH7.
FAULT2 (Clear-On-Read)
Address = 0x1C
Default = 0x02
   BIT       NAME                                                        DESCRIPTION
   7:6          0       Reserved
                        0: SPI receives a number of clock pulses equal to a multiple of eight, valid transaction
    5      FAULT8CK
                        1: SPI receives a number of clock pulses not equal to a multiple of eight, the SPI command is rejected
                        0: Normal operating conditions
                        1: Overtemperature shutdown (the safe operating temperature has been exceeded).
            OTSHDN
    4                   Overtemperature Shutdown: all inputs and LED drivers are turned off to reduce power dissipation and
                        protect the device. The SPI interface and internal regulator remain active and if the temperature continues
                        to rise, the regulator will be turned off.
                        0: Normal operating conditions
                        1: Open condition is detected on the REFDI pin
    3        RFDIO      This bit remains 1 even if the fault condition disappears and is cleared upon reading this register.
                        This bit is 1 when thermal shutdown happens, because REFDI function turns off in thermal shutdown.
                        No action on the input channels when this condition occurs.
                        0: Normal operating conditions
                        1: Short condition is detected on the REFDI pin
    2        RFDIS
                        The bit remains 1 even if the fault condition disappears and is cleared upon reading this register.
                        All the input channels are disabled as long as the short condition on REFDI is present.
www.maximintegrated.com                                                                                         Maxim Integrated │ 28


MAX22190                                                      Octal Industrial Digital Input with Diagnostics
   BIT       NAME                                                          DESCRIPTION
                         0: Normal operating conditions
                         1: Open condition is detected on the REFWB pin
                         This bit remains 1 even if the fault condition disappears and is cleared upon reading this register.
    1       RFWBO        This bit is 1 when thermal shutdown happens, because REFWB function turns off in thermal shutdown.
                         This bit is 1 after power-on-reset when all input channels’ wire-break detection functions are off.
                         No action on the input channels when this condition occurs and one or more channels’ wire-break function
                         is enabled.
                         0: Normal operating conditions
                         1: Short condition is detected on the REFWB pin
    0        RFWBS       This bit remains 1 even if the fault condition disappears and is cleared upon reading this register.
                         No action on the input channels when this condition occurs and one or more channels’ wire-break function
                         is enabled.
FAULT2EN (Read/Write)
Address = 0x1E
Default = 0x00
   BIT         NAME                                                         DESCRIPTION
   7:6            0           Reserved
                              0: Disable bit FAULT2 in FAULT1 Register
    5       FAULT8CKE
                              1: Enable bit FAULT2 in FAULT1 register to be set when FAULT8CK is high
                              0: Disable bit FAULT2 in FAULT1 Register
    4        OTSHDNE
                              1: Enable bit FAULT2 in FAULT1 register to be set when OTSHDN is high
                              0: Disable bit FAULT2 in FAULT1 Register
    3         RFDIOE
                              1: Enable bit FAULT2 in FAULT1 register to be set when RFDIO is high
                              0: Disable bit FAULT2 in FAULT1 Register
    2         RFDISE
                              1: Enable bit FAULT2 in FAULT1 register to be set when RFDIS is high
                              0: Disable bit FAULT2 in FAULT1 Register
    1        RFWBOE
                              1: Enable bit FAULT2 in FAULT1 register to be set when RFWBO is high
                              0: Disable bit FAULT2 in FAULT1 Register
    0         RFWBSE
                              1: Enable bit FAULT2 in FAULT1 register to be set when RFWBS is high
GPO (Read/Write)
Address = 0x22
Default = 0x00
   BIT       NAME                                                         DESCRIPTION
                        0: FAULT pin is not sticky. FAULT condition is determined by the logical OR of the unmasked real-time
                        FAULT1 register sources, and not the FAULT1 register bits.
    7         STK
                        1: FAULT pin is sticky. If at least one bit in the FAULT1 register is set and unmasked, FAULT remains low
                        until FAULT1 register is read (Figure 8).
   6:0          0       Reserved
www.maximintegrated.com                                                                                          Maxim Integrated │ 29


MAX22190                                                  Octal Industrial Digital Input with Diagnostics
FAULT1EN (Read/Write)
Address = 0x24
Default = 0xC0
   BIT       NAME                                                    DESCRIPTION
                        0: FAULT pin is not asserted when CRC is 1
    7        CRCE
                        1: FAULT pin is asserted when CRC is 1
                        0: FAULT pin is not asserted when POR is 1
    6        PORE
                        1: FAULT pin is asserted when POR is 1
                        0: FAULT pin is not asserted when FAULT2 is 1
    5       FAULT2E
                        1: FAULT pin is asserted when FAULT2 is 1
                        0: FAULT pin is not asserted when ALRMT2 is 1
    4      ALRMT2E
                        1: FAULT pin is asserted when ALRMT2 is 1
                        0: FAULT pin is not asserted when ALRMT1 is 1
    3      ALRMT1E
                        1: FAULT pin is asserted when ALRMT1 is 1
                        0: FAULT pin is not asserted when 24VL is 1
    2        24VLE
                        1: FAULT pin is asserted when 24VL is 1
                        0: FAULT pin is not asserted when 24VM is 1
    1        24VME
                        1: FAULT pin is asserted when 24VM is 1
                        0: FAULT pin is not asserted when WBG is 1
    0        WBGE
                        1: FAULT pin is asserted when WBG is 1
NOP (N/A)
Address = 0x26
Default = N/A
   BIT       NAME                                                    DESCRIPTION
                        Dummy register. DI[7:0] and WB[7:0] bits are clocked out normally during attempted writes to this register.
   7:0      NOP[7:0]
                        Useful for Daisy-Chain mode.
www.maximintegrated.com                                                                                     Maxim Integrated │ 30


MAX22190                                                           Octal Industrial Digital Input with Diagnostics
Applications Information                                                         ●● Keep the input/output traces as short as possible. Avoid
                                                                                     using vias to make low-inductance paths for the signals.
Power Supply Sequencing
                                                                                 ●● Have a solid ground plane underneath the entire EP area
The MAX22190 does not require special power sup-
                                                                                     with multiple thermal vias for best thermal performance.
ply sequencing. The SPI interface logic level (VL) is set
independently from the field supply (VDD24) or LDO out-                          Isolating the SPI Interface
put (VDD) levels.                                                                A companion product, the MAX14483, is available which
Power Supply Decoupling                                                          is optimized to support the MAX22190. The MAX14483
                                                                                 is an 6-channel, 3.75kVRMS, low-power Digital Isolator
To reduce ripple and the chance of introducing data
                                                                                 ideal for interfacing to low-voltage products such as
errors, bypass VDD24, VL, and VDD with 0.1µF||1µF
                                                                                 microcontrollers or FPGAs. Figure 9 demonstrates daisy-
ceramic capacitors to GND. Place the bypass capaci­tors
                                                                                 chain operation, showing SPI signals, control signals, and
as close as possible to the power supply input pins.
                                                                                 power monitoring signals isolated between the “field” and
Powering the MAX22190 With the VDD Pin                                           “logic” sides of the design. A single MAX14483 can be
The MAX22190 can alternatively be powered using a 3.0 -                          used for multiple MAX22190s.
5.5V supply connected to the VDD pin. In this case a 24V                         Figure 10 demonstrates two MAX22190s connected as
supply is no longer needed and the VDD24 pin must be left                        Independent Slaves, meaning they have separate Chip Select
floating (not connected). This configuration has lower power                     (CS) signals from the master (MCU). In order to support the
consumption and heat dissipation since the on-chip LDO                           extra isolated CS channel, a second isolator, MAX12930, is
voltage regulator is disabled (the VDD24 undervoltage lock-                      used. Care must be taken to ensure both MAX22190s are not
out is below threshold and automatically disables the LDO).                      enabled simultaneously to avoid SPI-bus contention.
In this configuration, the device always indicates a “24V                        In both Figure 9 and Figure 10, the READY signal from
FAULT” due to bits 24VL and 24VM in the FAULT1 regis-                            both MAX22190 devices are connected together to the
ter, and the FAULT pin is always active (low) if the bits are                    IRDY pin of the MAX14483. The IRDY is pulled low when
enabled in the FAULT1EN register. To overcome this, set                          one of the MAX22190 devices is ready for operation. Care
bits 24VLE and 24VME in the FAULT1EN register to 0.                              must be taken with the software to determine if both of
PCB Layout Recommendations                                                       the MAX22190 devices are ready. Alternatively, an OR
                                                                                 gate can be used between READY signals to guarantee
The PCB designer should follow some critical recommenda-                         the IRDY signal is only pulled low when both the READY
tions in order to get the best performance from the design.                      signals are low.
                    FAULT2 REGISTER                                 FAULT1 REGISTER                                       VL
                    0
                    0
                                                                    CRC*
                    FAULT8CK
                                                                    POR*
                    OTSHDN                     CLEAR-ON-READ        FAULT2*
                    RFDIO                            (COR)          ALRMT2**               * DYNAMIC
                    RFDIS                                                                                                      FAULT
                                                                    ALRMT1**               ** CLEAR-ON-READ (COR)
                    RFWBO
                                                                    24VL**
                    RFWBS
                                                                    24VM**                                         Register GPO, bit 7 STK:
                                                                    WBG*                                           STK = 0: FAULT pin is not sticky
                    Set bits in FAULT2EN to enable each error flag                                                 STK = 1: FAULT pin is sticky
                                                                    Set bits in FAULT1EN to enable each error flag
                      WB REGISTER
                      WB7
                      WB6
                      WB5
                      WB4
                                                CLEAR-ON-READ
                      WB3
                                                      (COR)
                      WB2
                      WB1
                      WB0
Figure 8. FAULT Output Sources
www.maximintegrated.com                                                                                                                         Maxim Integrated │ 31


MAX22190                                                                                                            Octal Industrial Digital Input with Diagnostics
          24V      150Ω                                                                   3.3V                                                                           2.5V
                                  10µF           0.1µF                                0.1µF           1µF                                                               0.1µF             10µF
                                                               VDD24     VDD         VL                                     VDDA                               VDDB                                     VDD
                           7.5kΩ
                                         REFDI
                                                                                                            4.7kΩ            SBA                                SAA
                           24kΩ                                                                                                                                                            GPI
                                         REFWB
                                                                                                 READY                       IRDY
                 1.5kΩ                                                                           LATCH                       OAUX                              IAUX
                                            IN1                                                                                                                                            GPO
                                                                                                 SCLK                       OSCLK                              ISCLK
                                            LED1                                                                                                                                           SCLK
                                                                   MAX22190                      CS                         OCS                                ICS                                    MICRO
                                                                                                                                                                                           CS
                 1.5kΩ
                                            IN2                       #1                                                             MAX14483                                                       CONTROLLER
                                                                                                 SDO                        ISDO                               OSDO
                                                                                                                                                                                           SDO
                                            LED2                                                         3.3V
                                                                                                                            OSDI                               ISDI
                                                                                                 M1                                                                                        SDI
                                                                                                                                                                                2.5V
                                                                                                 M0 4.7kΩ
                                                                                                                                                                                4.7kΩ
                                                                                                 FAULT                      IFAULT
                  1.5kΩ                     IN8                                                                                                                SDOEN
                                                                                                 SDI
                                            LED8                                                                                                               OFAULT
                                                                                                                                                                                           GPI or INT
                                                                                                                             GNDA
                                                                       GND                                                                                      GNDB
                                                                                                                                                                                                        GND
                                                                                                                                     FIELD SIDE   LOGIC SIDE
                                                         24V                 3.3V
                                                                                    0.1µF     1µF
                             1µF         0.1µF
                                                               VDD24     VDD VL
                           7.5kΩ
                                     REFDI
                           24kΩ
                                     REFWB
                                                                                                 SDO
                                                                                                 FAULT
                1.5kΩ
                                           IN1
                                                                                                 READY
                                           LED1
                                                                                                 LATCH
                1.5kΩ                                             MAX22190
                                           IN2                       #2                          SCLK
                                           LED2
                                                                                                 CS
                                                                                                 SDI
                 1.5kΩ                                                                                 3.3V
                                           IN8
                                                                                                 M1
                                           LED8
                                                                                                 M0
                                                                       GND
     NOTE: READY WILL BE PULLED LOW WHEN ONE OF THE MAX22190S IS READY FOR COMMUNICATION. CARE MUST BE TAKEN ON THE SOFTWARE TO DETERMINE IF BOTH OF THE MAX22190S ARE READY.
Figure 9. 16 Input, SPI Daisy Chain
www.maximintegrated.com                                                                                                                                                                 Maxim Integrated │ 32


MAX22190                                                                                                       Octal Industrial Digital Input with Diagnostics
             150Ω
       24V                                                                 3.3V                                                                                                                                    2.5V
                                                                                       0.1µF   1µF
                            10µF           0.1µF                                                                                                                                            0.1μF     10μF
                                                                                                                        VDDA                                                   VDDB
                                                            VDD24         VDD     VL                                                                                                                                       VDD
                           7.5kΩ
                                         REFDI
                                                                                                       4.7kΩ            SBA                                                    SAA
                           24kΩ                                                                                                                                                                              GPI
                                         REFWB
                                                                                               READY                    IRDY
              1.5kΩ                                                                            LATCH                    OAUX                                                   IAUX
                                            IN1                                                                                                                                                              GPO
                                                                                               SCLK                     OSCLK                                                  ISCLK
                                            LED1                                                                                                                                                             SCLK
                                                                                                                                                                                                                            MICRO
                                                                MAX22190                       CS1                      OCS                                                    ICS                                        CONTROLLER
              1.5kΩ                                                                                                                        MAX14483                                                          CS1
                                            IN2                    #1
                                                                                               SDO                      ISDO                                                   OSDO
                                            LED2                                                                                                                                                             SDO
                                                                                               SDI                      OSDI                                                   ISDI
                                                                                                                                                                                                             SDI
                                                                                                        3.3V
                                                                                               M1                                                                              SDOEN
                                                                                                     4.7kΩ                                                                                                   CS2
                                                                                               M0                                                                                            2.5V
               1.5kΩ
                                            IN8
                                                                                                                                                                                      4.7kΩ
                                                                                               FAULT                   IFAULT                                               OFAULT
                                            LED8
                                                                                                                                                                                                             GPI or INT
                                                                                                                        GNDA
                                                                    GND                                                                                                                                                    GND
                                                                                                                                           FIELD SIDE   LOGIC SIDE
                                                      24V                 3.3V                                                  3.3V                                    2.5V
                                   1µF             0.1µF                               0.1µF          1µF               10µF    0.1µF                                  0.1µF         10µF
                                                            VDD24     VDD        VL                                                 VDDB                             VDDA
                           7.5kΩ         REFDI
                           24kΩ          REFWB                                                 CS2                       OUT1                                                  IN1
                                                                                                                                        MAX12930
                                                                                               FAULT
              1.5kΩ
                                            IN1
                                                                                               READY
                                            LED1                                                                         OUT2                                                  IN2
                                                                                               LATCH
              1.5kΩ                                            MAX22190
                                            IN2                   #2                           SCLK                     GNDB
                                            LED2
                                                                                               SDO
                                                                                               SDI
                                                                                                                                                                               CS2          CS1     OSDO
              1.5kΩ                                                                                                                                                             0             0     NOT A VALID STATE (BUS CONTENTION)
                                            IN8
                                                                                               M1                                                                               0             1     DRIVEN BY SDO2
                                            LED8                                                                                                                                1             0     DRIVEN BY SDO1
                                                                                               M0
                                                                                                                                                                                1             1     HIGH IMPEDANCE
                                                                    GND
      NOTE: READY WILL BE PULLED LOW WHEN ONE OF THE MAX22190S IS READY FOR COMMUNICATION. CARE MUST BE TAKEN ON THE SOFTWARE TO DETERMINE IF BOTH OF THE MAX22190S ARE READY.
Figure 10. 16 Input, Independent Slave SPI (Separate CS for Each SPI Slave)
www.maximintegrated.com                                                                                                                                                                                Maxim Integrated │ 33


MAX22190                                                        Octal Industrial Digital Input with Diagnostics
Type 2 Sensor Inputs                                                       each MAX22190 input has its own resistor. Any two
The additional input current (6mA min) and associated                      MAX22190 channels may be used; they need not be con-
power dissipation of Type 2 input requires the use of two                  tiguous (Figure 11). Either channel may be read to deter-
MAX22190 inputs in parallel. The current of each channel                   mine the input state. The additional power dissipation from
is set to a nominal 3.39mA (6.78mA total) by placing a                     this Type 2 configuration reduces the maximum ambient
5.2kΩ resistor from REFDI to GND. The proper voltage                       operating temperature to 120°C, when all inputs are at
drop across the input resistor is maintained by reducing                   30V, and the MAX22190 is powered from a 30V supply
the resistance from 1.5kΩ to 1kΩ for each MAX22190                         and there is no additional load on VDD.
channel. For proper surge protection, it is important that
                                 150Ω
                          24V                                     VDD24                VDD = VL = 3.3V
                                              10µF      0.1µF                               0.1µF               1µF
                                                                                                                           VL
                                                                        VDD24      VDD  VL
                                                  5.2kΩ                                                      VL
                                                            REFDI
                                                  24kΩ
                                                            REFWB                                      4.7kΩ
                                                                                                 READY                GPI
                               1kΩ                            IN1
                CH1                                                                               LATCH              GPO
                                                              LED1
                                                                                                 SCLK               SCLK
                               1kΩ                            IN2                                CS                   CS
                                                                              MAX22190                                    MCU
                                                              LED2
                                                                                                 SDO                MISO
                                                                                                 SDI                MOSI
                                                                                                  M1
                               1kΩ                            IN7                                 M0
                CH4
                                                                                                             VL
                                                              LED7
                                                                                                       4.7kΩ
                               1kΩ                            IN8
                                                                                                  FAULT               GPI
                                                              LED8
                                                                                                                          GND
                                                                                GND
                                                 MAX22190 IMPLEMENTING A 4-CHANNEL TYPE 2 DIGITAL INPUT SERIALIZER
Figure 11. Implementing Type 2 Digital Inputs with MAX22190
www.maximintegrated.com                                                                                                   Maxim Integrated │ 34


MAX22190                                                           Octal Industrial Digital Input with Diagnostics
EMC Standard Compliance                                                     components are also required to absorb energy from burst
The MAX22190 is required to operate reliably in harsh                       and surge transients. The circuit with external components
industrial environments. Maxim does board-level immunity                    shown in Figure 12 allows the device to operate in harsh
testing for products such as the MAX22190 to address                        industrial environments. Components were chosen to
IEC61000-4-x Transient Immunity Standards:                                  assist in suppression of voltage burst and surge tran-
●● IEC 61000-4-2 Electrostatic Discharge (ESD)                              sients, allowing the system to meet or exceed international
●● IEC 61000-4-4 Electrical Fast Transient /Burst (EFT)                     EMC requirements. The system shown in Figure 12, using
●● IEC 61000-4-5 Surge Immunity                                             the components shown in Table 5, is designed to be
                                                                            robust against IEC ESD, EFT, and Surge specifications
Maxim’s proprietary process technology provides high                        (Table 7).
ESD support with internal ESD structures, but external
      24V       R1                                                                                            3.3V
                   D1        C1            C2                                    C4        C3
                                                                                                        4.7kΩ
                                                             VDD24     VDD    VL
                                     7.5kΩ    REFDI
                                     24kΩ     REFWB
                                                                                    READY                                   VL
                      R2                                                            LATCH
                                                  IN1
                                                                                                                         MICRO
                                                                                    SDI
                                                                                                                      CONTROLLER
                                                  LED1
                                                                                    SCLK
                                                                   MAX22190
                                                                                    CS
                                                                                    SDO
                                                                                                                           GND
                                                                                    M1
                                                                                    M0
                      R2                                                                      3.3V
                                                  IN8
                                                                                                  4.7kΩ
                                                  LED8
                                                                                    FAULT
                                                                     GND
                                                    C5
                                                       Earth
                                                                     GND
Figure 12. Typical EMC Protection Circuitry for the MAX22190
www.maximintegrated.com                                                                                             Maxim Integrated │ 35


MAX22190                                                       Octal Industrial Digital Input with Diagnostics
Table 5. Recommended Components
   COMPONENT                                    DESCRIPTION                                REQUIRED/RECOMMENDED/OPTIONAL
          C1           10μF, 100V ceramic capacitor                                                        Required
          C2           0.1μF, 100V ceramic capacitor                                                       Required
          C3           1μF, 10V low ESR ceramic capacitor                                                  Required
          C4           0.1μF, 10V ceramic capacitor                                                        Required
          C5           3300pF safety rated Y capacitor (2220)                                           Recommended
          D1           Bidirectional TVS diode (SMAJ33CA or SM30T39AY)                                  Recommended
          R1           150Ω, 1W pulse withstanding resistor (CMB0207 or similar)                        Recommended
          R2           1.5kΩ or 1kΩ, 1W pulse withstanding resistor (CMB0207 or similar)                   Required
  All other resistors 1/8W resistor                                                                        Required
        D1 - D8        LEDs for visual input status indication                                          Recommended
Test Levels and Methodology                                             IEC 61000-4-2 Electrostatic Discharge (ESD):
The MAX22190 is tested for Transient Immunity Standards                 This is an international standard which gives immunity
as specified in IEC 61000-4-x. These tests are for indus-               requirements and test procedures related to “electrostatic
trial equipment which are subjected to various transients.              discharge”.
The three main tests are:                                               Contact Discharge method: the electrode of the test generator
●●    IEC 61000-4-2: This ESD standard covering surges                  is held in contact with the EUT, and the discharge
      of tens of ns duration, is more stressful than other              actuated by the discharge switch within the generator.
      standards such as Human Body Model (HBM) or                       Air Gap Discharge method: the charged electrode of the
      Machine Model (MM), both of which are tested as                   generator is brought close to the EUT, and the discharge
      standard for all Maxim products.                                  actuated by a spark to the EUT.
●●    IEC 61000-4-4: This standard indicates the capability             An ESD Test Generator is used with a “sharp point’ to
      of the device or equipment to survive repetitive                  make direct connection to the EUT (pin) under test for
      electrical fast transients and bursts which often occur           Contact ESD testing, and a “round tip” is added to the
      from arcing contacts in switches and relays.                      generator for Air Gap ESD testing.
●●    IEC 61000-4-5: This standard indicates the capability
                                                                                                 Up to 8kV (nominal) for contact
      of the device or equipment to survive surges caused
                                                                                                 discharge
      by events such as lightning strikes or industrial                  Output Voltage
                                                                                                 up to 15kV (nominal) for air gap
      power surges caused by switching heavy loads or
                                                                                                 discharge
      short-circuit fault conditions.
                                                                         Polarity of the output
In all these tests the part or DUT is soldered onto an                                           Positive and negative
                                                                         voltage
application board with bypass capacitors on power supply
pins. In the case of MAX22190 the standard evaluation kit                Holding time            At least 5 seconds
(MAX22190EVKIT#) is used for these tests. See Table 6                                            10 consecutive ESD
for all equipment used in the tests.                                     Number of applications
                                                                                                 discharges for each polarity
www.maximintegrated.com                                                                                          Maxim Integrated │ 36


MAX22190                                                                Octal Industrial Digital Input with Diagnostics
Transient Voltage Suppression (TVS) diodes are used                           Coupling Clamp provides the ability to couple the fast
to meet the ESD transient immunity requirements of IEC                        transients (burst) from the EFT Generator to the pins of
61000-4-2. These diodes have extremely fast response                          the MAX22190 without any galvanic connection to the
times in order to respond to the 1ns rise time of the ESD                     MAX22190’s pins. The waveform is shown in Figure 14.
pulse, Figure 13a shows the IEC 61000-4-2 model and-
Figure 13b shows the current waveform for IEC 61000-                           Polarity                         Positive and negative
4-2 ESD Contact Discharge Test. The TVS diode clamps                           Test Voltage                     Up to ±1kV
the incoming transients at a safe level to avoid damage to                     Repetition Frequency             5kHz
the semiconductor device.
                                                                               Burst Duration                   15ms (at 5kHz)
IEC 61000-4-4 Electrical Fast Transient / Burst (EFT)                          Burst Period                     300ms
An EFT/Surge Generator with an output voltage range                                                             Input Ports and Voltage supply
with 50Ω load of up to 1kV is used to generate the voltage                     Signal Applied To
                                                                                                                (VDD24)
waveforms defined by the IEC specification. The Capacitive
                                                                               Test Duration                    60 seconds
                        RC            RD                                                             I
                   50MΩ TO 100MΩ     330Ω                                                         100%
                                                                                                   90%
                 CHARGE-CURRENT-   DISCHARGE
                  LIMIT RESISTOR   RESISTANCE
                                                                                          IPEAK
        HIGH-                                               DEVICE
       VOLTAGE              Cs     STORAGE                  UNDER
         DC              150pF     CAPACITOR                 TEST
       SOURCE                                                                                     10%
                                                                                     tr = 0.7ns TO 1ns                                     t
                                                                                                         30ns
                                                                                                                   60ns
Figure 13a. ESD Test Circuit                                                  Figure 13b. ESD Contact Discharge Test Waveform
                        U
                                                                PULSE
                                                                                                                           t
                                       200µs at 5kHz
                                                          1/ REPETITION FREQUENCY
                                       10µs at 100kHz
                        U
                                                        BURST
                                      15ms                                                                                 t
                                    at 5kHz
                                             BURST DURATION
                                    0.75ms
                                   at 100kHz
                                                     BURST PERIOD 300ms
                                                                                                                       IEC 636/12
Figure 14. Electrical Fast Transient/Burst Waveform
www.maximintegrated.com                                                                                                        Maxim Integrated │ 37


MAX22190                                                   Octal Industrial Digital Input with Diagnostics
IEC 61000-4-5 Surge Immunity                                           The standard defines 6 classes of test levels which depend
This standard specifies different wave generator                       on the installation conditions (see Annex A, table A.1 in
specifications. The 1.2/50µs combination wave generator is             IEC 61000-4-5 standard). The class determines the pro-
used for testing ports intended for power lines and short-             tection with corresponding voltage levels from 25V to 4kV.
distance signal connections. This is the test Maxim uses               In addition, this defines the coupling mode ((Line-to-Line or
and the waveform is shown in Figure 15.                                Line-to-Ground) and the source impedance (Zs) required.
                                                                       The Class which most closely fits the applications using
 Polarity                        Positive and negative                 products such as MAX22190 are Class 3 for Unsymetrical
 Test Voltage                    Up to ±2kV                            operated circuits/lines with suggested test levels of ±2kV
                                 Front time 1.2µs                      for Line-to-Line and ±1kV for Line-to-Ground.
 Waveform parameters
                                 Time to half-value 50µs               The selection of source impedance is discussed in Annex
                                 Input port-to-Input port,             B of IEC 61000-4-5 with recommended Zs of 42Ω. Since
 Signal applied to                                                     the generator has an internal impedance of 2Ω, an external
                                 Input port-to-Ground
                                                                       40Ω resistor is used in series with the generator, as
 Repetition Rate                 1 per minute                          shown in simplified version in Figure 16.
             U
           1.0
                            B
           0.9
           0.5
                                      t2
           0.3        A
           0.1
           0.0
               O1         t                                                                                         t
                                                                             30% max.
                        t1
                                                                                                                IEC 2323/05
                                          FRONT TIME: t1 = 1.67 x t = 1.2µs ±30%
                                          TIME TO HALF-VALUE: t1 = 50µs ±30%
Figure 15. 1.2/50µs Surge Voltage Waveform
www.maximintegrated.com                                                                                        Maxim Integrated │ 38


MAX22190                                                    Octal Industrial Digital Input with Diagnostics
                                                COUPLING NETW ORK
                                                40Ω        0.5μF                 1kΩ
                     2Ω
                                                                                       IN1
                                                                                                  MAX22190
                                                                                 1kΩ
                                                                                       IN2
                  GENERATOR
                                                                A
                                                                B
                                                                                       GND
                                                          A = LINE-TO-LINE
                                                          B = LINE-TO-GND
Figure 16. Surge Testing Methods
Table 6. Equipment Used for EMC Tests
            EQUIPMENT                                         DESCRIPTION                           TEST(S)
                                       Evaluation board with MAX22190 and recommended
MAX22190EVKIT#                                                                            All
                                       operating circuit
ESD Test Generator                     Teseq NSG438 with Air Gap Discharge Tip 403-826    Contact ESD and Air-Gap ESD
EFT/Surge Generator                    Haefely Technology ECOMPACT4                       EFT and Surge
Signal and Data Line Coupling Network Teseq CDN 117                                       Surge
Coupler with 0.5µF Capacitor           INA 174A                                           Surge
Burst/EFT Date Line Coupling Clamp     Teseq CDN 3425                                      EFT
Table 7. Transient Immunity Test Results
                                         TEST                                                 RESULT
                                                        Contact ESD                              ±8kV
 IEC 61000-4-2 Electrostatic Discharge (ESD)
                                                        Air Gap ESD                             ±15kV
                                                        Input Line                               ±1kV
 IEC 61000-4-4 Electrical Fast Transient/Burst (EFT)
                                                        Power Supply                             ±1kV
                                                        Line-to-Line                             ±2kV
 IEC 61000-4-5 Surge Immunity
                                                        Line-to-Ground                           ±1kV
www.maximintegrated.com                                                                            Maxim Integrated │ 39


MAX22190                                             Octal Industrial Digital Input with Diagnostics
Chip Information
PROCESS: BiCMOS
Ordering Information
       PART            TEMP RANGE         PIN-PACKAGE
 MAX22190ATJ+         -40°C to +125°C        32-TQFN
+Denotes a lead(Pb)-free/RoHS-compliant package.
T = Tape and reel.
www.maximintegrated.com                                                                Maxim Integrated │ 40


MAX22190                                                                     Octal Industrial Digital Input with Diagnostics
Revision History
  REVISION           REVISION                                                                                                                            PAGES
                                                                                  DESCRIPTION
  NUMBER                DATE                                                                                                                          CHANGED
         0              12/17         Initial release                                                                                                        —
                                      Added READY in Electrical Characteristics table VOL row, updated figures, updated
                                      FAULT1EN register table, updated Type 2 Sensor Inputs detailed description, updated
         1                6/18                                                                                                                             1–39
                                      EMC Standard Compliance detailed description, updated Table 5, fixed various typos
                                      and format in the Detailed Descriptions
                                      Updated the Isolated Octal Digital Input, Pin Description, CRC Generation, SPI Inter-
                                      face, Configurable Mode, FAULT Asserted, Isolating the SPI Interface, IEC 61000-4-4                              1–2, 12, 17
         2               11/18        Electrical Fast Transient/Burst (EFT) sections, and Table 5; updated the WB (Clear-                               20–21, 25
                                      On-Read), DI (Read), FLT1 to FLT8 (Read/Write), and INEN (Read/Write) register                                 26–27, 30–36
                                      tables; update Figure 7, Figure 9–Figure 12; corrected typos
                                      Updated the Isolated Octal Digital Input diagram, Fault Detection and Monitoring, and                              2, 8–10,
         3              12/18         Powering the MAX22190 With the VDD Pin sections, and Figure 9–10; updated the                                     16, 30–32
                                      ESD and EMC Characteristics table; replaced all the Typical Operating Characteristics
                                      Replaced TOC11–TOC14, added new TOC15–TOC18, and renumbered remaining                                              6, 9–11,
         4                1/19
                                      TOCs; updated the Detailed Description section; corrected typos                                                     15, 33
For pricing, delivery, and ordering information, please visit Maxim Integrated’s online storefront at https://www.maximintegrated.com/en/storefront/storefront.html.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                   © 2019 Maxim Integrated Products, Inc. │ 41


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX22190ATJ+T MAX22190ATJ+
