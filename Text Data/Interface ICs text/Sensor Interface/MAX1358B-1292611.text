19-5159; Rev 1; 12/10
16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                             General Description                                                                                                                   Features
                                                                                                                                                                                      MAX1358B
The MAX1358B smart data-acquisition system (DAS) is             o +1.8V to +3.6V Single-Supply Operation
based on a 16-bit, sigma-delta analog-to-digital converter      o Multichannel, 16-Bit, Sigma-Delta ADC
(ADC) and system-support functionality for a micro-                  10sps to 477sps Programmable Conversion Rate
processor (µP)-based system. This device integrates                  Self- and System Offset and Gain Calibration
an ADC, DACs, operational amplifiers, internal selec-                PGA with Gains of 1, 2, 4, or 8
table-voltage reference, temperature sensors, analog                 Unipolar and Bipolar Modes
                                                                     10-Input Differential Multiplexer
switches, a 32kHz oscillator, a real-time clock (RTC)
with alarm, a high-frequency-locked loop (FLL) clock,           o 10-Bit Force-Sense DACs
four user-programmable I/Os, an interrupt generator,            o Uncommitted Op Amps
and 1.8V and 2.7V voltage monitors in a single chip.            o Dual SPDT and SPST Analog Switches
The MAX1358B has dual 10:1 differential input multiplex-        o Selectable References
ers (muxes) that accept signal levels from 0 to AVDD. An            1.25V, 2.048V, and 2.5V
on-chip 1x to 8x programmable-gain amplifier (PGA)              o Internal Charge Pump
allows measuring low-level signals and reduces external
                                                                o System Support
circuitry required.                                                  RTC and Alarm Register
The MAX1358B operates from a single +1.8V to +3.6V                   Internal/External Temperature Sensor
supply and consumes only 1.15mA in normal mode and                   Internal Oscillator with Clock Output
only 3µA in sleep mode. The MAX1358B has two DACs                    User-Programmable I/O and Interrupt Generator
with one uncommitted op amp.                                         VDD Monitors
                                                                o SPI/QSPI/MICROWIRE, 4-Wire Serial Interface
The serial interface is compatible with either SPI™/QSPI™
or MICROWIRE™, and is used to power up, configure,              o Space-Saving (6mm x 6mm x 0.8mm), 40-Pin
and check the status of all functional blocks.                    TQFN Package
                                                                                                          Ordering Information
The MAX1358B is available in a space-saving, 40-pin
TQFN package and is specified over the commercial                     PART                               TEMP RANGE                                       PIN-PACKAGE
(0°C to +70°C) and the extended (-40°C to +85°C) tem-            MAX1358BCTL+                             0°C to +70°C                                    40 TQFN-EP*
perature ranges.                                                 MAX1358BETL+                            -40°C to +85°C                                   40 TQFN-EP*
                                        Applications             +Denotes a lead(Pb)-free/RoHS-compliant package.
                                                                 *EP = Exposed pad.
        Battery-Powered and Portable Devices
        Electrochemical and Optical Sensors                                                                                Pin Configuration
        Medical Instruments                                           TOP VIEW
                                                                                          OUTB   FBB     SWB     AVDD    AGND   OUTA   FBA   SWA   IN1+   IN1-
        Industrial Control                                                                30 29 28 27 26 25 24 23 22 21
        Data-Acquisition Systems
                                                                        AIN2   31                                                                                   20   OUT1
                                                                        AIN1   32                                                                                   19   SNC2
                                                                        REF    33                                                                                   18   SCM2
                                                                        REG    34                                                                                   17   SNO2
                                                                         CF-   35                                                                                   16   SNC1
                                                                        CF+    36                                    MAX1358B                                       15   SCM1
                                                                      CPOUT    37                                                                                   14   SNO1
                                                                       DVDD    38                                                                                   13   32KIN
                                                                       DGND    39                                                                                   12   32KOUT
                                                                       UPIO1   40                                                                         *EP       11   RESET
                                                                                      +
                                                                                          1      2       3       4       5      6      7     8      9     10
                                                                                          CLK
                                                                                                 UPIO2   UPIO3   UPIO4   DOUT   SCLK
                                                                                                                                       DIN   CS    INT
                                                                                                                                                          CLK32K
SPI/QSPI are trademarks of Motorola, Inc.                                                                                TQFN
MICROWIRE is a trademark of National Semiconductor Corp.              *EXPOSED PAD.
                        ________________________________________________________________ Maxim Integrated Products                                                                1
For pricing delivery, and ordering information please contact Maxim Direct at 1-888-629-4642,
or visit Maxim’s website at www.maxim-ic.com.


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           ABSOLUTE MAXIMUM RATINGS
MAX1358B
           AVDD to AGND .........................................................-0.3V to +4V       Continuous Current Into Any Pin.........................................50mA
           DVDD to DGND.........................................................-0.3V to +4V        Continuous Power Dissipation (TA = +70°C)
           AVDD to DVDD ............................................................-4V to +4V        40-Pin TQFN (derate 25.6mW/°C above +70°C) ....2051.3mW
           AGND to DGND.....................................................-0.3V to +0.3V          Operating Temperature Range
           CLK32K to DGND ....................................-0.3V to (DVDD + 0.3V)                  MAX1358BCTL+ .................................................0°C to +70°C
           UPIO_ to DGND........................................................-0.3V to +4V          MAX1358BETL+ ..............................................-40°C to +85°C
           Digital Inputs to DGND ............................................-0.3V to +4V          Junction Temperature ......................................................+150°C
           Analog Inputs to AGND ...........................-0.3V to (AVDD + 0.3V)                  Storage Temperature Range .............................-65°C to +150°C
           Digital Output to DGND…........................-0.3V to (DVDD + 0.3V)                    Soldering Temperature (reflow) .......................................+260°C
           Analog Outputs to AGND.........................-0.3V to (AVDD + 0.3V)                    Lead Temperature (soldering, 10s) .................................+300°C
           CPOUT........................................................(DVDD - 0.3V) to +4V
           Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
           operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
           absolute maximum rating conditions for extended periods may affect device reliability.
           ELECTRICAL CHARACTERISTICS
           (AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
           10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                   PARAMETER                                SYMBOL                               CONDITIONS                            MIN         TYP         MAX         UNITS
            ADC DC ACCURACY
                                                                            Data rate = 10sps, PGA gain = 2;
            Noise-Free Resolution                                           data rate = 10sps to 60sps, PGA gain = 1;                   16                                  Bits
                                                                            no missing codes, Table 1 (Note 2)
            Conversion Rate                                                 No missing codes, Table 1                                   10                      477         sps
            Output Noise                                                    No missing codes                                                     Table 1
                                                                            Unipolar mode, AVDD = 3V,
            Integral Nonlinearity                               INL                                                                              ±0.0046                   %FSR
                                                                            PGA gain = 1, data rate = 40sps
                                                                            Uncalibrated                                                           ±1.0
            Unipolar Offset Error (Note 3) or
                                                                            PGA gain = 1, calibrated,                                                                      %FSR
            Bipolar Zero Error (Note 2, 3)                                                                                                                    ±0.003
                                                                            TA = +25°C, data rate = 10sps
            Unipolar Offset-Error or Bipolar                                Bipolar                                                                  1
            Zero-Error Temperature Drift                                                                                                                                   µV/°C
            (Note 4)                                                        Unipolar                                                                 1
                                                                            Uncalibrated                                                           ±0.6
            Gain Error (Notes 3, 5)                                                                                                                                        %FSR
                                                                            PGA = 1, calibrated, data rate = 10sps                                ±0.003
            Gain-Error Temperature
                                                                            (Notes 4, 6)                                                             2                    ppm/ °C
            Coefficient
            DC Positive Power-Supply                                        PGA gain = 1, unipolar mode, measured by
                                                              PSRR                                                                                   85                      dB
            Rejection Ratio                                                 full-scale error with AVDD = 1.8V to 3.6V
            ADC ANALOG INPUTS (AIN1, AIN2)
            DC Input Common-Mode
                                                              CMRR          PGA gain = 1, unipolar mode                                              85                      dB
            Rejection Ratio
           2    _______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                     MAX1358B
(AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
          PARAMETER                  SYMBOL                    CONDITIONS                     MIN      TYP      MAX      UNITS
Normal-Mode 60Hz Rejection                     PGA gain = 1, unipolar mode, data rate =
                                                                                              100                         dB
Ratio                                          40sps (Note 2)
Normal-Mode 50Hz Rejection                     Data rate = 10sps or 40sps, PGA gain = 1,
                                                                                              100                         dB
Ratio                                          unipolar mode (Note 2)
Absolute Input Range                                                                         VAGND              AVDD       V
                                                                                             -0.05/             VREF/
                                               Unipolar mode
                                                                                              Gain              Gain
Differential Input Range                                                                                                   V
                                                                                             -VREF/             VREF/
                                               Bipolar mode
                                                                                              Gain              Gain
                                               ADC not in measurement mode, mux
                                               enabled, TA ≤ +55°C, inputs = +0.1V to                            ±1
DC Input Current (Note 7)                                                                                                 nA
                                               (AVDD - 0.1V)
                                               TA = +85°C                                                        ±5
Input Sampling Capacitance             CIN                                                              5                 pF
Input Sampling Rate                  fSAMPLE                                                          21.94               kHz
External Source Impedance at Input                                                                    Table 3
FORCE-SENSE DAC (RL = 10kΩ and CL = 200pF, FBA = OUTA, unless otherwise noted)
Resolution                                     Guaranteed monotonic                           10                          Bits
Differential Nonlinearity              DNL     Code 3D hex to 3FF hex                                            ±1       LSB
Integral Nonlinearity                  INL     Code 3D hex to 3FF hex                                            ±4       LSB
Offset Error                                   Reference to code 52 hex                                          ±20      mV
Offset-Error Tempco                                                                                     5                µV/°C
Gain Error                                     Excludes offset and voltage reference error                       ±5       LSB
Gain-Error Tempco                              Excludes offset and reference drift                      5.6              ppm/°C
Input Leakage Current at SWA/B                 Switches open (Notes 7, 8)                                        ±1       nA
                                               VFBA = +0.3V to      TA = -40°C to +85°C                          ±1       nA
Input Leakage Current at FBA/B                 (AVDD - 0.3V)        TA = 0°C to +70°C                           ±600
                                               (Note 7)                                                                   pA
                                                                    TA = 0°C to +50°C                           ±400
DAC Output Buffer Leakage
                                               DAC buffer disabled (Note 7)                                      ±75      nA
Current
                                                                                                                AVDD -
Input Common-Mode Voltage                      At FBA                                          0                           V
                                                                                                                 0.35
Line Regulation                                AVDD = +1.8V to +3.6V, TA = +25°C                        40       175      µV/V
Load Regulation                                IOUT = ±2mA, CL = 1000pF (Note 2)                                 0.5     µV/µA
Output Voltage Range                                                                         VAGND              AVDD       V
                        _______________________________________________________________________________________                  3


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           ELECTRICAL CHARACTERISTICS (continued)
MAX1358B
           (AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
           10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                     PARAMETER                SYMBOL                     CONDITIONS                   MIN      TYP     MAX      UNITS
                                                         52 hex to 3FF hex code swing rising or
           Output Slew Rate                                                                                     50               V/ms
                                                         falling, RL = 10kΩ, CL = 100pF
           Output-Voltage Settling Time                  10% to 90% rising or falling to ±0.5 LSB               65                µs
                                                                                      f = 0.1Hz to
                                                                                                                40
                                                         Referred to FBA,             10Hz
           Input-Voltage Noise                                                                                                  µVP-P
                                                         excludes reference noise     f = 10Hz to
                                                                                                               100
                                                                                      10kHz
                                                         OUTA shorted to AGND                                   20
           Output Short-Circuit Current                                                                                          mA
                                                         OUTA shorted to AVDD                                   18
           Input-Output SWA/SWB                          Between SW_ and OUT_, HFCLK enabled
                                                                                                                        150       Ω
           Switch Resistance                             (Note 2)
           SWA/SWB Switch Turn-On/Off
                                                         HFCLK enabled                                         100                ns
           Time
           Power-On Time                                 Excluding reference                                    12                µs
           EXTERNAL REFERENCE (REF)
           Input Voltage Range                                                                        VAGND            AVDD       V
           Input Resistance                              DAC on, internal REF and ADC off                      2.5               MΩ
           DC Input Leakage Current                      Internal REF, DAC, and ADC off (Note 7)                        100       nA
           INTERNAL VOLTAGE REFERENCE (CREF = 4.7µF)
                                                         AVDD ≥ +1.8V,
                                                                                                      1.213    1.25    1.288
                                                         TA = +25°C
                                                         AVDD ≥ +2.2V,
           Reference Output Voltage             VREF                                                  1.987   2.048    2.109      V
                                                         TA = +25°C
                                                         AVDD ≥ +2.7V,
                                                                                                      2.425    2.5     2.575
                                                         TA = +25°C
           Output-Voltage Temperature                    TA = -40°C to +85°C                                    25
                                                 TC                                                                            ppm/oC
           Coefficient (Note 7)                          TA = 0°C to +70°C                                      13
                                                         REF shorted to AGND                                    65               mA
           Output Short-Circuit Current         IRSC
                                                         REF shorted to AVDD                                    90                µA
           Line Regulation                                                                                      25               µV/V
                                                         TA = +25°C,           ISOURCE = 0 to 500µA                     1.2
           Load Regulation                                                                                                      µV/µA
                                                         VREF = 1.25V          ISINK = 0 to 50µA               1.7
           4   _______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                 MAX1358B
(AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
          PARAMETER                 SYMBOL                    CONDITIONS                    MIN     TYP     MAX      UNITS
                                                                                                                     ppm/
Long-Term Stability                           (Note 9)                                              150
                                                                                                                    1000hrs
                                              f = 0.1Hz to 10Hz, AVDD = 3V                           50
Output Noise Voltage                                                                                                 µVP-P
                                              f = 10Hz to 10kHz, AVDD = 3V                          200
Turn-On Settling Time                         Buffer only, settle to 0.1% of final value            100                µs
TEMPERATURE SENSOR
Temperature Measurement
                                              10sps                                                 0.11            °C/LSB
Resolution
                                              External voltage        TA = 0°C to +50°C             ±0.5
Internal Temperature-Sensor
                                              reference, two-                                                          °C
Measurement Error (Note 10)
                                              current method          TA = -40oC to +85°C            ±1
                                              TA = +25°C                                            ±0.5
External Temperature-Sensor
                                              TA = 0°C to +50°C                                     ±0.5               °C
Measurement Error (Note 11)
                                              TA = -40°C to +85°C                                   ±1.0
Temperature Measurement Noise                                                                       0.18             °CRMS
Temperature Measurement
                                                                                                    0.2               °C/V
Power-Supply Rejection Ratio
OP AMP
Input Offset Voltage                  VOS     VCM = 0.5V                                             ±1      ±15      mV
Offset-Error Tempco                                                                                 6.2              µV/oC
                                                                      TA = -40°C to +85°C          0.006     ±1        nA
                                              IN1+                    TA = 0°C to +70°C              4      ±300
                                                                                                                       pA
                                                                      TA = 0°C to +50°C              2      ±200
Input Bias Current (Note 7)           IBIAS
                                                                      TA = -40°C to +85°C          0.025     ±1        nA
                                              IN1-                    TA = 0°C to +70°C              20     ±600
                                                                                                                       pA
                                                                      TA = 0°C to +50°C                     ±400
Input Offset Current                  IOS     VIN1_ = +0.3V to (AVDD - 0.3V) (Note 7)                        ±1        nA
Input Common-Mode Voltage                                                                                  AVDD -
                                     CMVR                                                    0                         V
Range                                                                                                       0.35
                                              0 ≤ VCM ≤ 75mV                                         60
Common-Mode Rejection Ratio          CMRR     75mV < VCM ≤ AVDD - 0.5V, TA = +25°C          60       75                dB
                                              AVDD - 0.5V ≤ VCM ≤ AVDD - 0.35V                       75
                       _______________________________________________________________________________________               5


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           ELECTRICAL CHARACTERISTICS (continued)
MAX1358B
           (AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
           10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                    PARAMETER                SYMBOL                      CONDITIONS                     MIN     TYP    MAX      UNITS
           Power-Supply Rejection Ratio        PSRR      AVDD = +1.8V to +3.6V, TA = +25°C              76.5    100              dB
           Large-Signal Voltage Gain           AVOL      100mV ≤ VOUT_ ≤ AVDD - 100mV (Note 12)          90     116              dB
                                                                                 ISOURCE = 10µA                        0.005
                                                                                 ISOURCE = 50µA                        0.025
                                                         Sourcing                ISOURCE = 100µA                       0.05
                                                                                 ISOURCE = 500µA                       0.25
                                                                                 ISOURCE = 2mA                          0.5
           Output-Voltage Drop (Note 2)        ΔVOUT                                                                              V
                                                                                 ISINK = 10µA                          0.005
                                                                                 ISINK = 50µA                          0.025
                                                         Sinking                 ISINK = 100µA                         0.05
                                                                                 ISINK = 500µA                         0.25
                                                                                 ISINK = 2mA                            0.5
           Gain Bandwidth Product              GBW       Unity-gain configuration, CL = 1nF                     80               kHz
           Phase Margin                                  Unity-gain configuration, CL = 1nF (Note 12)           60             Degrees
           Output Slew Rate                      SR      CL = 200pF                                             0.05             V/µs
                                                         Unity-gain              f = 0.1Hz to 10Hz              50
           Input-Voltage Noise                                                                                                  µVP-P
                                                         configuration           f = 10Hz to 10kHz              100
                                                         VOUT_ shorted to AGND                                  20
           Output Short-Circuit Current                                                                                          mA
                                                         VOUT_ shorted to AVDD                                  18
           Power-On Time                                                                                        12                µs
           SPDT SWITCHES (SNO_, SNC_, SCM_, HFCLK enabled)
                                                         VSCM_ = 0V              TA = 0°C to +50°C                      45
           On-Resistance (Note 2)               RON      VSCM_ = 0.5V            TA = 0°C to +50°C                      50        Ω
                                                         VSCM_ = 0.5V to AVDD TA = -40°C to +85°C                       150
                                                        VSNO_, VSNC_ = +0.5V, TA = -40°C to +85°C                       ±1       nA
                                             ISNO_(OFF)
           SNO_, SNC_ Off-Leakage Current               +1.5V; VSCM_ = +1.5V, TA = 0°C to +70°C                        ±600
                                             ISNC_(OFF)                                                                          pA
                                                        +0.5V (Note 7)        TA = 0°C to +50°C                        ±400
                                                        VSNO_, VSNC_ = +0.5V, TA = -40°C to +85°C                       ±2
           SCM_ Off-Leakage Current          ISCM_(OFF) +1.5V; VSCM_ = +1.5V, TA = 0°C to +70°C                        ±1.2      nA
                                                        +0.5V (Note 7)        TA = 0°C to +50°C                        ±0.8
                                                         VSNO_, VSNC_ = +0.5V, TA = -40°C to +85°C                      ±2
                                                         +1.5V, or unconnected;
           SCM_ On-Leakage Current           ISCM_(ON)                          TA = 0°C to +70°C                      ±1.2      nA
                                                         VSCM_ = +1.5V, +0.5V
                                                         (Note 7)               TA = 0°C to +50°C                      ±0.8
           Input Voltage Range                                                                          VAGND          AVDD       V
           Turn-On/Off Time                   tON/tOFF   Break-before-make                                      100               ns
           6   _______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                 MAX1358B
(AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
          PARAMETER               SYMBOL                     CONDITIONS                     MIN     TYP     MAX      UNITS
                                              SNO_, SNC_, or SCM_ = AVDD or AGND;
Input Capacitance                                                                                   2.5               pF
                                              switch connected to enabled mux input
CHARGE PUMP
Maximum Output Current               IOUT                                                    10                       mA
                                              No load                                        3.2    3.3      3.6
Output Voltage                                                                                                         V
                                              IOUT = 10mA                                    3.0
                                              IOUT = 10mA, excluding ESR of external
Output-Voltage Ripple                                                                                        50      mVP-P
                                              capacitor (Note 2)
                                              IOUT = 10mA, excluding ESR of external
Load Regulation                                                                                     15       20     mV/mA
                                              capacitor
REG Input Voltage Range                       Internal linear regulator disabled (Note 2)    1.6             1.8       V
REG Input Current                             Linear regulator off, charge pump off                  3                nA
CPOUT Input Voltage Range                     Charge pump disabled                           1.8             3.6       V
CPOUT Input Leakage Current                   Charge pump disabled                                   2                nA
SIGNAL-DETECT COMPARATOR
                                              TSEL[2:0] = 0 hex                                      0
                                              TSEL[2:0] = 4 hex                                     50
Differential Input-Detection
                                              TSEL[2:0] = 5 hex                                     100               mV
Threshold Voltage
                                              TSEL[2:0] = 6 hex                                     150
                                              TSEL[2:0] = 7 hex                                     200
Differential Input-Detection
                                                                                                    ±10               mV
Threshold Error
Common-Mode Input Voltage
                                                                                            VAGND           AVDD       V
Range
Turn-On Time                                                                                        45                 µs
VOLTAGE MONITORS
DVDD Monitor Supply Voltage
                                              For valid reset (Note 7)                       1.4             3.6       V
Range
Trip Threshold (DVDD Falling)                                                               1.80    1.85    1.95       V
DVDD Monitor Timeout Reset
                                                                                                    1.5                s
Period
                                              HYSE bit set to logic 1                               225
DVDD Monitor Hysteresis                                                                                               mV
                                              HYSE bit set to logic 0                               40
                     _______________________________________________________________________________________                 7


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           ELECTRICAL CHARACTERISTICS (continued)
MAX1358B
           (AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
           10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                       PARAMETER              SYMBOL                      CONDITIONS                  MIN      TYP     MAX      UNITS
           DVDD Monitor Turn-On Time                                                                            5                ms
           CPOUT Monitor Supply Voltage
                                                         (Note 7)                                     1.4               3.6       V
           Range
           CPOUT Monitor Trip Threshold                                                               2.7      2.8      2.9       V
           CPOUT Monitor Hysteresis                                                                             35               mV
           CPOUT Monitor Turn-On Time                                                                           5                ms
           Internal Power-On Reset Voltage                                                                              1.7       V
           32kHz OSCILLATOR (32KIN, 32KOUT)
           Clock Frequency                               DVDD = 2.7V                                          32.768             kHz
           Stability                                     DVDD = 1.8V to 3.6V, excluding crystal                 25               ppm
           Oscillator Startup Time                                                                            1500               ms
           Crystal Load Capacitance                                                                             6                 pF
           LOW-FREQUENCY CLOCK INPUT/OUTPUT (CLK32K)
           Output Clock Frequency                                                                             32.768             kHz
           Absolute Input to Output Clock
                                                         Cycle to cycle                                         5                 ns
           Jitter
           Input to Output Rise/Fall Time                10% to 90%, 30pF load                                  5                 ns
           Input Duty Cycle                                                                            40               60        %
           Output Duty Cycle                                                                                    54                %
           HIGH-FREQUENCY CLOCK OUTPUT (CLK)
                                                         fOUT = fFLL                                 4.8660   4.9152   4.9644
                                                         fOUT = fFLL/2, power-up default             2.4330   2.4576   2.4822    MHz
           FLL Output Clock Frequency
                                                         fOUT = fFLL/4                               1.2165   1.2288   1.2411
                                                         fOUT = fFLL/8                               608.25   614.4    620.54    kHz
                                                         Cycle to cycle, FLL off                               0.1
           Absolute Clock Jitter                                                                                                  ns
                                                         Cycle to cycle, FLL on                                0.5
           Rise and Fall Time                   tR/tF    10% to 90%, 30pF load                                          10        ns
                                                         fOUT = 4.9152MHz                              40               60
           Duty Cycle                                                                                                             %
                                                         fOUT = 2.4576MHz, 1.2288MHz, 614.4kHz         45               55
           Uncalibrated CLK Frequency
                                                         FLL calibration not performed                                  ±35       %
           Error
           DIGITAL INPUTS (SCLK, DIN, CS, UPIO_, CLK32K)
                                                                                                     0.7 x
           Input High Voltage                    VIH                                                                              V
                                                                                                     DVDD
                                                                                                                       0.3 x
           Input Low Voltage                     VIL                                                                              V
                                                                                                                       DVDD
           8   _______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                MAX1358B
(AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
          PARAMETER                SYMBOL                    CONDITIONS                    MIN      TYP      MAX      UNITS
                                                                                           0.7 x
                                              DVDD supply voltage
                                                                                           DVDD
 UPIO_ Input High Voltage                                                                                              V
                                                                                          0.7 x
                                              CPOUT supply voltage
                                                                                          VCPOUT
                                                                                                            0.3 x
                                              DVDD supply voltage
                                                                                                            DVDD
 UPIO_ Input Low Voltage                                                                                               V
                                                                                                              0.3 x
                                              CPOUT supply voltage
                                                                                                           VCPOUT
 Input Hysteresis                    VHYS     DVDD = 3.0V                                           200                mV
 Input Current                        IIN     VIN = VDGND or DVDD (Note 7)                         ±0.01     ±100      nA
 Input Capacitance                            VIN = VDGND or DVDD                                    4                 pF
                                              VIN = DVDD or VCPOUT, pullup enabled                 ±0.01      1
 UPIO_ Input Current (Note 2)                 VIN = DVDD or VCPOUT or 0V,                                              µA
                                                                                                              1
                                              pullup disabled
                                              VIN = 0V, pullup enabled, unconnected
 UPIO_ Pullup Current                         UPIO_ inputs are pulled up to DVDD or         0.1      2        5        µA
                                              CPOUT with pullup enabled (Note 2)
 DIGITAL OUTPUTS (DOUT, RESET, UPIO_, CLK32K, INT, CLK)
 Output Low Voltage                   VOL     ISINK = 1mA                                                    0.4       V
                                                                                          0.8 x
 Output High Voltage                 VOH      ISOURCE = 500µA                                                          V
                                                                                          DVDD
 DOUT Three-State Leakage
                                       IL                                                          ±0.01      ±1       µA
 Current
 DOUT Three-State Output
                                     COUT                                                            4.5               pF
 Capacitance
 RESET Output Low Voltage             VOL     ISINK = 1mA                                                    0.4       V
                                              Open-drain output, RESET deasserted
 RESET Output Leakage Current                                                                                0.1       µA
                                              (Note 7)
                                              ISINK = 1mA, UPIO_ referenced to DVDD                          0.4
 UPIO_ Output Low Voltage             VOL                                                                              V
                                              ISINK = 4mA, UPIO_ referenced to CPOUT                         0.4
                                              ISOURCE = 500µA, UPIO_ referenced to        0.8 x
                                              DVDD                                        DVDD
 UPIO_ Output High Voltage           VOH                                                                               V
                                              ISOURCE = 4mA, UPIO_ referenced to          VCPOUT
                                              CPOUT                                        - 0.4
 POWER REQUIREMENT
 Analog Supply Voltage Range         AVDD                                                   1.8              3.6       V
 Digital Supply Voltage Range        DVDD                                                   1.8              3.6       V
                      _______________________________________________________________________________________               9


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           ELECTRICAL CHARACTERISTICS (continued)
MAX1358B
           (AVDD = DVDD = +1.8V to +3.6V, VREF = +1.25V, external reference, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT =
           10µF, 10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                      PARAMETER                   SYMBOL                       CONDITIONS                         MIN       TYP       MAX      UNITS
                                                               Everything on,
                                                               charge pump
                                                               unloaded, no digital     AVDD = DVDD = 3.6V                   1.2       2.0
                                                               pins, sinking/sourcing
                                                               current, e.g., RST,
                                                     IMAX      UPIO_, and CLK32K,
                                                               max internal temp-
            Total Supply Current (Note 2)                      sensor current, clock                                                             mA
                                                               output buffers           AVDD = DVDD = 2.7V                  1.15       1.4
                                                               unloaded, ADC at
                                                               477sps
                                                               All on except charge pump and temp
                                                   INORMAL     sensor, ADC at 477sps, CLK output buffer                     1.15       1.5
                                                               enabled, clock output buffers unloaded
                                                                                        AVDD = DVDD = 2.7V                   3.0       5.2
                                                               TA = -40°C to +85°C
            Sleep-Mode Supply Current                                                   AVDD = DVDD = 3.6V                             6.7
                                                    ISLEEP                                                                                       µA
            (IAVDD + IDVDD)                                                             AVDD = DVDD = 2.7V                   3.0
                                                               TA = +25°C
                                                                                        AVDD = DVDD = 3.6V                   4.5
            Shutdown Supply Current                                                     TA = -40°C to +85°C                            2.5
                                                    ISHDN      All off                                                                           µA
            (IAVDD + IDVDD)                                                             TA = +25°C                           1.2
           Note 1: Devices are production tested at TA = room temperature. Specifications to TA = -40°C and TA = +85°C are guaranteed by design.
           Note 2: Guaranteed by design or characterization.
           Note 3: The offset and gain errors are corrected by self-calibration or system calibration. For accurate calibrations, perform cali-
                    bration at the lowest rate. The calibration error is therefore in the order of peak-to-peak noise for the selected rate.
           Note 4: Eliminate drift errors by recalibration at the new temperature.
           Note 5: The gain error excludes reference error, offset error (unipolar), and zero error (bipolar).
           Note 6: Gain-error drift does not include unipolar-offset drift or bipolar zero-error drift. It is effectively the drift of the part if zero-
                    scale error is removed.
           Note 7: These specifications are obtained from characterization during design or from initial product evaluation. Not production
                    tested or guaranteed.
           Note 8: VOUTA = +0.5V or +1.5V, VSWA = +1.5V or +0.5V, TA = 0°C to +50°C.
           Note 9: Long-term stability is characterized using five to six parts. The bandgaps are turned on for 1000hrs at room temperature
                    with the parts running continuously. Daily measurements are taken and any obvious outlying data points are discarded.
           Note 10: Temperature error is the difference in the calculated temperature using the internal circuit vs. measurements made using
                    precision external voltage and current meters. The same diode and diode equation are used for both measurements.
           Note 11: All the stated temperature accuracies assume that 1) the external diode characteristic is precisely known (i.e., ideal) and
                    2) the ADC reference voltage is exactly equal to 1.25V. Any variations to this known reference characteristic and voltage
                    caused by temperature, loading, or power supply results in errors in the temperature measurement. The actual tempera-
                    ture calculation is performed externally by the µC.
           Note 12: Values based on simulation results and are not production tested or guaranteed.
           10   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
Table 1. Output Noise (Notes 13 and 14)
                                                                                                                                        MAX1358B
                                                               OUTPUT NOISE (µVRMS)
    RATE (sps)
                              GAIN = 1                   GAIN = 2                    GAIN = 4                      GAIN = 8
         10                    1.75                       1.75                        1.75                          1.75
         40                     2.92                        2.92                       2.92                          2.92
         50                     3.23                        3.23                       3.23                          3.23
         60                     3.60                        3.60                       3.60                          3.60
        200                     56.06                      56.06                       56.06                        56.06
        240                    102.36                      102.36                     102.36                        102.36
        400                    587.06                      587.06                     587.06                        587.06
        477                    951.07                      951.07                     951.07                        951.07
Note 13: VREF = +1.25V, bipolar mode, VIN = 1.24912V, PGA gain = 1, TA = +25°C.
Note 14: Assume ±3 sigma peak-to-peak variation; noise-free resolution means no code flicker at given bits’ LSB.
Table 2. Peak-to-Peak Resolution
                                                           PEAK-TO-PEAK RESOLUTION (BITS)
       RATE (sps)
                                  GAIN = 1                  GAIN = 2                  GAIN = 4                     GAIN = 8
           10                       17.57                     16.57                     15.57                       14.57
           40                       16.83                     15.83                     14.83                       13.83
           50                       16.68                     15.68                     14.68                       13.68
           60                       16.53                     15.53                     14.53                       13.53
          200                       12.57                     11.57                     10.57                        9.57
          240                       11.70                     10.70                        9.70                      8.70
          400                       9.18                       8.18                        7.18                      6.18
          477                       8.48                       7.48                        6.48                      5.48
Table 3. Maximum External Source Impedance Without 16-Bit Gain Error
                                                              EXTERNAL CAPACITANCE (pF)
      PARAMETER
                              0 (Note 15)           50                100             500             1000                  5000
Resistance (kΩ)                   350               60                30              10                4                    1
Note 15: 2pF parasitic capacitance is assumed, which represents pad and any other parasitic capacitance.
                    ______________________________________________________________________________________                         11


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           TIMING CHARACTERISTICS (Figures 1 and 19)
MAX1358B
           (AVDD = DVDD = +1.8V to +3.6V, external VREF = +1.25V, fCLK32K = 32.768kHz (external clock), CREG = 10µF, CCPOUT = 10µF,
           10µF between CF+ and CF-, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 1)
                     PARAMETER                  SYMBOL                      CONDITIONS                      MIN      TYP       MAX      UNITS
           SCLK Operating Frequency               fSCLK                                                       0                 10       MHz
           SCLK Cycle Time                        tCYC                                                      100                           ns
           SCLK Pulse-Width High                   tCH                                                       40                           ns
           SCLK Pulse-Width Low                    tCL                                                       40                           ns
           DIN to SCLK Setup                       tDS                                                       30                           ns
           DIN to SCLK Hold                        tDH                                                        0                           ns
           SCLK Fall to DOUT Valid                 tDO      CL = 50pF, Figure 2                                                 40        ns
           CS Fall to DOUT Enable                  tDV      CL = 50pF, Figure 2                                                 48        ns
           CS Rise to DOUT Disable                 tTR      CL = 50pF, Figure 2                                                 48        ns
           CS to SCLK Rise Setup                  tCSS                                                       20                           ns
           CS to SCLK Rise Hold                   tCSH                                                        0                           ns
           DVDD Monitor Timeout Period            tDSLP     (Note 16)                                                 1.5                 s
                                                            Minimum pulse width required to detect a
           Wake-Up (WU) Pulse Width                tWU                                                                 1                  µs
                                                            wake-up event
                                                            The delay for SHDN to go high after a valid
           Shutdown Delay                         tDPU                                                                 1                  µs
                                                            wake-up event
                                                            The turn-on time for the high-frequency
                                                                                                                                10        ms
                                                            clock and FLL (FLLE = 1) (Note 17)
           HFCLK Turn-On Time (Note 2)            tDFON
                                                            If FLLE = 0, the turn-on time for the high-
                                                                                                                                10        µs
                                                            frequency clock (Notes 7, 18)
                                                            The delay for CRDY to go low after the
           CRDY to INT Delay                       tDFI     HFCLK clock output has been enabled                      7.82                 ms
                                                            (Note 19)
                                                            The delay after a shutdown command has
           HFCLK Disable Delay                    tDFOF     asserted and before HFCLK is disabled                    1.95                 ms
                                                            (Note 20)
           SHDN Assertion Delay                   tDPD      (Note 21)                                                2.93                 ms
           Note 16: The delay for the sleep voltage monitor output, RESET, to go high after VDD rises above the reset threshold. This is largely
                    driven by the startup of the 32kHz oscillator.
           Note 17: FLLE is gated by an AND function with three inputs—the external RESET signal, the internal DVDD monitor output, and the
                    external SHDN signal. The time delay is timed from the internal LOVDD going high or the external RESET going high,
                    whichever happens later. HFCLK always starts in the low state.
           Note 18: If FLLE = 0, the internal signal CRDY is not generated by the FLL block and INT or INT is deasserted.
           Note 19: CRDY is used as an interrupt signal to inform the µC that the high-frequency clock has started. Only valid if FLLE = 1.
           Note 20: tDFOF gives the µC time to clean up and go into sleep-override mode properly.
           Note 21: tDPD is greater than the HFCLK delay to clean up before losing power.
           12   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                                                                                           MAX1358B
                   CS
                                            tCSH                        tCYC                                tCH                                                                         tCSH
                                                          tCSS
                                                                                     tCL
         SCLK
                                                                        tDS                                       tDH
               DIN
                                                                  tDV                                                                                                      tDO                                 tTR
        DOUT
Figure 1. Detailed Serial-Interface Timing
                                                                                                                                                   DVDD
                                                                                                                                                       6kΩ
                                                         DOUT                                                               DOUT
                                                                   6kΩ               CLOAD = 50pF                            CLOAD = 50pF
                                                         a) FOR ENABLE, HIGH IMPEDANCE                                      b) FOR ENABLE, HIGH IMPEDANCE
                                                            TO VOH AND VOL TO VOH                                              TO VOL AND VOH TO VOL
                                                            FOR DISABLE, VOH TO HIGH IMPEDANCE                                 FOR DISABLE, VOL TO HIGH IMPEDANCE
Figure 2. DOUT Enable and Disable Time Load Circuits
                                                                                                                        Typical Operating Characteristics
(DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                                                                                                                                       DVDD SUPPLY CURRENT
                                     SUPPLY CURRENT vs. SUPPLY VOLTAGE                                                                                               vs. DVDD SUPPLY VOLTAGE
                               1.0                                                                                                          10.000
                                                                                           MAX1358B toc01                                                                                                            MAX1358B toc02
                                       ALL ON WITH ADC AT 477sps AND                                                                                             SLEEP MODE
                                       MAXIMUM INTERNAL TEMP-SENSOR
                               0.9     CURRENT SETTING
                                                                                                                                                   1.000
         SUPPLY CURRENT (mA)                                                                                                 SUPPLY CURRENT (µA)
                               0.8
                                                                         IDVDD                                                                                   SLEEP MODE: ALL OFF EXCEPT
                                                                                                                                                   0.100         32kHz OSC, RTC, AND 1.8V MONITOR
                               0.7
                                                                                                                                                                 SHUTDOWN MODE: ALL OFF
                                                                         IAVDD
                               0.6
                                                                                                                                                   0.010
                               0.5                                                                                                                                                                SHUTDOWN MODE
                               0.4                                                                                                                 0.001
                                     1.8   2.1     2.4      2.7     3.0        3.3     3.6                                                                 1.8       2.1         2.4     2.7       3.0   3.3     3.6
                                                    AVDD, DVDD (V)                                                                                                                     DVDD (V)
                                           ______________________________________________________________________________________                                                                                                     13


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                       Typical Operating Characteristics (continued)
MAX1358B
           (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                        AVDD SUPPLY CURRENT                                                                                                                          DVDD SUPPLY CURRENT                                                                                                          DVDD SUPPLY CURRENT
                                                      vs. AVDD SUPPLY VOLTAGE                                                                                                                          vs. TEMPERATURE                                                                                                              vs. TEMPERATURE
                                  2.0                                                                                                                                  1.0                                                                                                                                      3.0
                                                                                                                            MAX1358B toc03                                                                                                                                                                                                                                             MAX1358B toc05
                                                                                                                                                                                                                                                                       MAX1358B toc04
                                              SLEEP MODE: ALL OFF EXCEPT                                                                                                                       ALL ON WITH ADC AT 512sps AND                                                                                                SLEEP MODE: ALL OFF EXCEPT
                                              32kHz OSC, RTC, AND 1.8V MONITOR                                                                                                                 MAXIMUM INTERNAL TEMP-SENSOR                                                                                                 32kHz OSC, RTC, AND 1.8V MONITOR
                                  1.6         SHUTDOWN MODE: ALL OFF                                                                                                   0.9                     CURRENT SETTING                                                                                                  2.5
            SUPPLY CURRENT (µA)                                                                                                                 SUPPLY CURRENT (mA)                                                                                                                       SUPPLY CURRENT (mA)
                                  1.2                                                                                                                                  0.8                                                                                                                                      2.0
                                                                          SLEEP MODE
                                                                                                                                                                                                             DVDD = 3.0V                                                                                                                      DVDD = 3.0V
                                  0.8                                                                                                                                  0.7                                                                                                                                      1.5
                                                                                     SHUTDOWN MODE
                                  0.4                                                                                                                                                                        DVDD = 1.8V                                                                                        1.0
                                                                                                                                                                       0.6
                                                                                                                                                                                                                                                                                                                                              DVDD = 1.8V
                                   0                                                                                                                                   0.5                                                                                                                                      0.5
                                        1.8        2.1                        2.4        2.7         3.0        3.3    3.6                                                   -40                    -15      10      35       60                                  85                                                  -40        -15          10        35                     60   85
                                                                          SUPPLY VOLTAGE (V)                                                                                                              TEMPERATURE (°C)                                                                                                              TEMPERATURE (°C)
                                                                  DVDD SUPPLY CURRENT                                                                                                               AVDD SUPPLY CURRENT                                                                                                           AVDD SUPPLY CURRENT
                                                                    vs. TEMPERATURE                                                                                                                   vs. TEMPERATURE                                                                                                               vs. TEMPERATURE
                                  20                                                                                                                                  0.55                                                                                                                                      2.5
                                                                                                                           MAX1358B toc06                                                                                                                          MAX1358B toc07                                                                                                    MAX1358B toc08
                                                                                                                                                                                               ALL ON WITH ADC AT 512sps AND                                                                                                SLEEP MODE: ALL OFF EXCEPT
                                               ALL OFF
                                                                                                                                                                                               MAXIMUM INTERNAL TEMP-SENSOR                                                                                                 32kHz OSC, RTC, AND 1.8V MONITOR
                                  16                                                                                                                                  0.53                     CURRENT SETTING                                                                                                  2.1
           SUPPLY CURRENT (nA)                                                                                                               SUPPLY CURRENT (mA)                                                                                                                         SUPPLY CURRENT (mA)
                                                                                                                                                                                                                                                                                                                                                        DVDD = 3.0V
                                  12                                                                                                                                  0.51                                                                                                                                      1.7
                                                                                    DVDD = 3.0V                                                                                                                      DVDD = 3.0V
                                   8                                                                                                                                  0.49                                                                                                                                      1.3
                                                                                                                                                                                                    DVDD = 1.8V
                                                                                                                                                                                                                                                                                                                                                        DVDD = 1.8V
                                   4                                                                                                                                  0.47                                                                                                                                      0.9
                                                                                                 DVDD = 1.8V
                                   0                                                                                                                                  0.45                                                                                                                                      0.5
                                        -40                -15                      10          35           60          85                                                  -40                   -15       10      35      60                                   85                                                  -40        -15          10        35                     60   85
                                                                          TEMPERATURE (°C)                                                                                                                TEMPERATURE (°C)                                                                                                              TEMPERATURE (°C)
                                                                                               AVDD SUPPLY CURRENT                                                                                                                                                                      INTERNAL OSCILLATOR FREQUENCY
                                                                                                 vs. TEMPERATURE                                                                                                                                                                               vs. TEMPERATURE
                                                                       0.50                                                                                                                                                                                     2.60
                                                                                                                                                                              MAX1358B toc09                                                                                                                                                                  MAX1358B toc10
                                                                                     ALL OFF
                                                                       0.45                                                                                                                                                                                     2.55
                                                                                                                                                                                                                                   OSCILLATOR FREQUENCY (MHz)
                                                                                                                                                                                                                                                                                         FLL DISABLED                                       FLL ENABLED
                                                 SUPPLY CURRENT (µA)
                                                                       0.40                                                                                                                                                                                     2.50
                                                                                                           DVDD = 3.0V
                                                                       0.35                                                                                                                                                                                     2.45
                                                                       0.30                                                                                                                                                                                     2.40
                                                                       0.25                                DVDD = 1.8V                                                                                                                                          2.35
                                                                       0.20                                                                                                                                                                                     2.30
                                                                              -40          -15             10         35                     60                              85                                                                                            -40                                 -15          10         35          60        85
                                                                                                     TEMPERATURE (°C)                                                                                                                                                                                                 TEMPERATURE (°C)
           14                      ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                                  Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                                                                       MAX1358B
(DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                                 INTERNAL OSCILLATOR FREQUENCY                                                                                                   REFERENCE OUTPUT VOLTAGE                                                                                                       REFERENCE OUTPUT VOLTAGE
                                                                       vs. SUPPLY VOLTAGE                                                                                                           vs. SUPPLY VOLTAGE                                                                                                             vs. OUTPUT CURRENT
                                                    2.60                                                                                                                          3.0                                                                                                             1.2502
                                                                                                                  MAX1358B toc11                                                                                                                  MAX1358B toc12                                                                                                                  MAX1358B toc13
              INTERNAL OSCILLATOR FREQUENCY (MHz)
                                                                                                                                                                                          50kI LOAD                            VREF = 2.50V
                                                    2.55
                                                                                                                                                   REFERENCE OUTPUT VOLTAGE (V)                                                                                    REFERENCE OUTPUT VOLTAGE (V)
                                                                    FLL ENABLED                                                                                                                                                                                                                   1.2500
                                                    2.50                                                                                                                          2.5
                                                    2.45                                                                                                                                                                                                                                          1.2498
                                                    2.40                                                                                                                          2.0
                                                                                                                                                                                                                                                                                                  1.2496
                                                    2.35                                                                                                                                                                       VREF = 2.048V
                                                                                                                                                                                                  VREF = 1.25V
                                                    2.30           FLL DISABLED                                                                                                   1.5
                                                                                                                                                                                                                                                                                                  1.2494
                                                    2.25
                                                                                              CLK = 2.4576MHz                                                                                                                                                                                                              VREF = 1.25V
                                                    2.20                                                                                                                          1.0                                                                                                             1.2492
                                                           1.8       2.1     2.4        2.7        3.0   3.3    3.6                                                                     1.8       2.1        2.4        2.7        3.0    3.3   3.6                                                                  -50         50       150        250    350      450       550
                                                                     AVDD, DVDD SUPPLY VOLTAGE (V)                                                                                                          SUPPLY VOLTAGE (V)                                                                                                          OUTPUT CURRENT (µA)
                                                                   REFERENCE OUTPUT VOLTAGE                                                                                                      REFERENCE OUTPUT VOLTAGE                                                                                                       REFERENCE OUTPUT VOLTAGE
                                                                      vs. OUTPUT CURRENT                                                                                                            vs. OUTPUT CURRENT                                                                                                              vs. TEMPERATURE
                               2.0496                                                                                                                              2.4970                                                                                                                                    1.251
                                                                                                                 MAX1358B toc14                                                                                                                  MAX1358B toc15                                                                                                                       MAX1358B toc16
REFERENCE OUTPUT VOLTAGE (V)                                                                                                        REFERENCE OUTPUT VOLTAGE (V)                                                                                                              REFERENCE OUTPUT VOLTAGE (V)
                               2.0494                                                                                                                              2.4968                                                                                                                                    1.250
                                                                                                                                                                                                                                                                                                             1.249
                               2.0492                                                                                                                              2.4966
                                                                                                                                                                                                                                                                                                             1.248
                               2.0490                                                                                                                              2.4964
                                                                                                                                                                                                                                                                                                             1.247
                               2.0488                                                                                                                              2.4962
                                                                                                                                                                                                                                                                                                             1.246
                                                             VREF = 2.048V                                                                                                                    VREF = 2.5V                                                                                                                  VREF = 1.25V
                               2.0486                                                                                                                              2.4960                                                                                                                                    1.245
                                                           -50       50      150        250        350   450    550                                                                     -50       50        150         250        350   450    550                                                                  -40          -15           10         35        60        85
                                                                            OUTPUT CURRENT (µA)                                                                                                           OUTPUT CURRENT (µA)                                                                                                             TEMPERATURE (°C)
                                                                    REFERENCE OUTPUT VOLTAGE                                                                                                     REFERENCE OUTPUT VOLTAGE
                                                                        vs. TEMPERATURE                                                                                                              vs. TEMPERATURE                                                                                                        REFERENCE DRIFT (0˚C TO 50˚C)
                                              2.052                                                                                                                         2.500
                                                                                                                   MAX1358B toc17                                                                                                                 MAX1358B toc18                                                                                                                MAX1358B toc18b
                                                                                                                                                                                                                                                                                                                                                                VREF = 1.25V
                                                                                                                                                                                                                                                                                                                                                                BOX METHOD
       REFERENCE OUTPUT VOLTAGE (V)                                                                                                        REFERENCE OUTPUT VOLTAGE (V)
                                              2.050                                                                                                                         2.497
                                                                                                                                                                                                                                                                                                      OCCURRENCES
                                              2.048                                                                                                                         2.494
                                              2.046                                                                                                                         2.491
                                              2.044                                                                                                                         2.488
                                                                 VREF = 2.048V                                                                                                                VREF = 2.5V
                                              2.042                                                                                                                         2.485
                                                           -40        -15          10         35         60     85                                                                      -40         -15            10         35         60     85                                                                          6           11           16         21        26
                                                                             TEMPERATURE (°C)                                                                                                               TEMPERATURE (°C)                                                                                                          ABSOLUTE DRIFT (ppm/NC)
                                                                                   ______________________________________________________________________________________                                                                                                                                                                                                      15


                    16-Bit, Data-Acquisition System with ADC, DACs,
                    UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                Typical Operating Characteristics (continued)
MAX1358B
                    (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                            REFERENCE VOLTAGE OUTPUT NOISE                                                                                                                               REFERENCE NOISE DENSITY vs.
                                    (0.1Hz TO 10Hz)                                                                                                                                             FREQUENCY                                                                                                       ADC INL vs. OUTPUT CODE
                                                                                       MAX1358B toc19
                                                                                                                                                                1000                                                                                                                         0.002
                                                                                                                                                                                                                                                  MAX1358B toc20                                                                                                MAX1358B toc21
                                                                                                                                                                                                                   VREF = 1.25V
                                                                                                                                                                                                                                                                                                 0
                                                                                                                                                                 100                                                                                                                         -0.002
                                                                                                                                               NOISE (nV/√Hz)
                                                                                                                                                                                                                                                                           INL (LSB)
                                                                                                                         50µV/div
                                                                                                                                                                                                                                                                                             -0.004
                                                                                                                         AC-COUPLED
                                                                                                                                                                                                                                                                                             -0.006       VREF = 2.048V
                                                                                                                                                                  10
                                                                                                                                                                                                                                                                                                          UNIPOLAR MODE
                                                                                                                                                                                                                                                                                                          GAIN = 1
                                                                                                                                                                                                                                                                                             -0.008       60sps
                                                                                                                                                                       1                                                                                                                     -0.010
                                                                   1s/div                                                                                                          10            100         1000                              10,000                                                 0     10k    20k    30k    40k   50k               60k   70k
                                                                                                                                                                                                  FREQUENCY (Hz)                                                                                                         OUTPUT CODE
                                                                                                                                                                                              ADC MAXIMUM INL vs.                                                                                                 ADC MAXIMUM INL vs.
                                ADC INL vs. OUTPUT CODE                                                                                                                                         SUPPLY VOLTAGE                                                                                                      SUPPLY VOLTAGE
               0.005                                                                                                                                 -0.0040                                                                                                                            -0.0025
                                                                                                        MAX1358B toc22                                                                                                                              MAX1358B toc23                                                                                                MAX1358B toc24
                            AVDD = DVDD = 1.8V                                                                                                                                          VREF = 2.048V
               0.004                                                                                                                                                                    UNIPOLAR MODE
                            VREF = 1.25V
               0.003        BIPOLAR MODE                                                                                                             -0.0044                            GAIN = 1                                                                                        -0.0024
                                                                                                                                                                                        60sps
                                                                                                                                    ADC MAXIMUM INL (%)                                                                                                                ADC MAXIMUM INL (%)
                            GAIN = 1
               0.002
                            60sps
               0.001                                                                                                                                 -0.0048                                                                                                                            -0.0023
   INL (LSB)       0
               -0.001                                                                                                                                -0.0052                                                                                                                            -0.0022
               -0.002                                                                                                                                                                                                                                                                                     VREF = 1.25V
               -0.003                                                                                                                                -0.0056                                                                                                                            -0.0021           BIPOLAR MODE
                                                                                                                                                                                                                                                                                                          GAIN = 1
               -0.004                                                                                                                                                                                                                                                                                     60sps
               -0.005                                                                                                                                -0.0060                                                                                                                            -0.0020
                        0     10k              20k             30k       40k     50k     60k      70k                                                                              2.7 2.8 2.9 3.0 3.1 3.2 3.3 3.4 3.5 3.6                                                                            1.8 2.0 2.2 2.4 2.6 2.8 3.0 3.2 3.4 3.6
                                                             OUTPUT CODE                                                                                                                        SUPPLY VOLTAGE (V)                                                                                                  SUPPLY VOLTAGE (V)
                                                                    ADC MAXIMUM INL vs. TEMPERATURE                                                                                                                                                                   ADC MAXIMUM INL vs. TEMPERATURE
                                                              0                                                                                                                                                                                0.0030
                                                                                                                                                                  MAX1358B toc25                                                                                                                                                        MAX1358B toc26
                                                                         VREF = 2.048V
                                                          -0.001         UNIPOLAR MODE
                                                                                                                                                                                                                                               0.0025
                                                                         GAIN = 1
                                                                                                                                                                                                                         ADC MAXIMUM INL (%)
                                                                         60sps
                                    ADC MAXIMUM INL (%)
                                                          -0.002
                                                                                                                                                                                                                                               0.0020
                                                          -0.003
                                                                                                                                                                                                                                               0.0015
                                                          -0.004
                                                                                                                                                                                                                                               0.0010
                                                          -0.005                                                                                                                                                                                                           VREF = 1.25V
                                                                                                                                                                                                                                                                           BIPOLAR MODE
                                                          -0.006                                                                                                                                                                               0.0005                      GAIN = 1
                                                                                                                                                                                                                                                                           60sps
                                                          -0.007                                                                                                                                                                                           0
                                                                   -40         -15        10                       35          60                               85                                                                                                   -40                       -15         10       35          60     85
                                                                                       TEMPERATURE (NC)                                                                                                                                                                                                TEMPERATURE (NC)
                    16        ______________________________________________________________________________________


    16-Bit, Data-Acquisition System with ADC, DACs,
    UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                       Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                                                   MAX1358B
     (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                    ADC MAXIMUM INL vs.                                                                                                                   ADC MAXIMUM vs.
                                                 COMMON-MODE INPUT VOLTAGE                                                                                                                OUTPUT DATA RATE                                                                                        ADC MAXIMUM INL vs. PGA GAIN
                            0                                                                                                                         0.030                                                                                                                         0.010
                                                                                                          MAX1358B toc27                                                                                                                   MAX1358B toc28                                                                                                     MAX1358B toc29
                                   VREF = 1.25V                                                                                                                                AVDD = DVDD = 1.8V                                                                                                 AVDD = DVDD = 1.8V
                -0.0005                                                                                                                                                        VREF = 1.25V                                                                                                       VREF = 1.25V
                                   BIPOLAR MODE
                                                                                                                                                      0.025                    BIPOLAR MODE
                -0.0010            GAIN = 1                                                                                                                                                                                                                                         0.008         BIPOLAR MODE
                                   60sps                                                                                                                                       GAIN = 1                                                                                                           60sps
ADC MAXIMUM INL (%)                                                                                                             ADC MAXIMUM INL (%)                                                                                                          ADC MAXIMUM INL (%)
                -0.0015
                                                                                                                                                      0.020
                -0.0020                                                                                                                                                                                                                                                             0.006
                -0.0025                                                                                                                               0.015
                -0.0030                                                                                                                                                                                                                                                             0.004
                                                                                                                                                      0.010
                -0.0035
                -0.0040                                                                                                                                                                                                                                                             0.002
                                                                                                                                                      0.005
                -0.0045
                -0.0050                                                                                                                                   0                                                                                                                             0
                                 0.6                   0.8      1.0    1.2    1.4    1.6   1.8    2.0   2.2                                                                0        100      200      300     400                        500                                                  0            2            4            6                    8
                                                              COMMON-MODE VOLTAGE (V)                                                                                                       DATA RATE (sps)                                                                                                          PGA GAIN
                                                               ADC OFFSET ERROR vs.                                                                                                    ADC GAIN ERROR vs.                                                                                                 ADC OFFSET ERROR vs.
                                                                  TEMPERATURE                                                                                                            TEMPERATURE                                                                                                        SUPPLY VOLTAGE
                        0.0020                                                                                                                        0.006                                                                                                                         0.0035
                                                                                                          MAX1358B toc30                                                                                                                   MAX1358B toc31                                                                                                         MAX1358B toc32
                                        VREF = 2.048V                                                                                                                          VREF = 2.048V                                                                                                      VREF = 1.25V
                                        UNIPOLAR MODE                                                                                                                          UNIPOLAR MODE                                                                                        0.0030        UNIPOLAR MODE
                        0.0015                                                                                                                        0.005                    GAIN = 1
                                        GAIN = 1                                                                                                                                                                                                                                                  GAIN = 1
                                        60sps                                                                                                                                  60sps                                                                                                0.0025        60sps
 ADC OFFSET ERROR (%)                                                                                                      ADC GAIN ERROR (%)                                                                                                                 OFFSER ERROR (%FSR)
                        0.0010                                                                                                                        0.004
                                                                                                                                                                                                                                                                                    0.0020
                        0.0005                                                                                                                        0.003                                                                                                                         0.0015
                                                                                                                                                                                                                                                                                    0.0010
                            0                                                                                                                         0.002
                                                                                                                                                                                                                                                                                    0.0005
                -0.0005                                                                                                                               0.001
                                                                                                                                                                                                                                                                                        0
                -0.0010                                                                                                                                  0                                                                                                                  -0.0005
                                 -40                         -15         10         35       60         85                                                            -40           -15       10      35      60                         85                                                  1.8 2.0 2.2 2.4 2.6 2.8 3.0 3.2 3.4 3.6
                                                                      TEMPERATURE (NC)                                                                                                     TEMPERATURE (NC)                                                                                                    SUPPLY VOLTAGE (V)
                                                                                ADC GAIN ERROR vs.                                                                                                                                                                             ADC MUX INPUT DC CURRENT vs.
                                                                                 SUPPLY VOLTAGE                                                                                                                                                                                       TEMPERATURE
                                                           0.0040                                                                                                                                                          1000.00
                                                                                                                                                          MAX1358B toc33                                                                                                                                                                 MAX1358B toc34
                                                                       VREF = 1.25V
                                                           0.0035      UNIPOLAR MODE
                                                                       GAIN = 1                                                                                                                                                   100.00
                                                           0.0030      60sps
                                       GAIN ERROR (%FSR)                                                                                                                                                            INPUT CURRENT (nA)
                                                                                                                                                                                                                                         10.00                                       ADC CONVERTING
                                                           0.0025
                                                           0.0020                                                                                                                                                                        1.000
                                                                                                                                                                                                                                                                                                     ADC OFF
                                                           0.0015
                                                                                                                                                                                                                                         0.100
                                                           0.0010
                                                                                                                                                                                                                                                                                                                     AIN1 = AVDD/2
                                                                                                                                                                                                                                         0.010                                                                       MUX+ = AIN1
                                                           0.0005
                                                                                                                                                                                                                                                                                                                     MUX- = AGND
                                                               0                                                                                                                                                                         0.001
                                                                    1.8 2.0 2.2 2.4 2.6 2.8 3.0 3.2 3.4 3.6                                                                                                                                                 -40                         -15          10         35          60       85
                                                                                    SUPPLY VOLTAGE (V)                                                                                                                                                                                            TEMPERATURE (NC)
                                                                         ______________________________________________________________________________________                                                                                                                                                                                           17


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                    Typical Operating Characteristics (continued)
MAX1358B
           (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                                    AIN_ LEAKAGE CURRENT                                                                                                          SW_ LEAKAGE CURRENT                                                                                                    FB LEAKAGE CURRENT
                                                                      vs. INPUT VOLTAGE                                                                                                             vs. INPUT VOLTAGE                                                                                                     vs. INPUT VOLTAGE
                                   4.0                                                                                                                              0.4                                                                                                                               0.4
                                                                                                                          MAX1358B toc35                                                                                                               MAX1358B toc36                                                                                                         MAX1358B toc37
                                                                                                                                                                                            OUT_ = AVDD/2
                                   3.5                                                                                                                                                                                                                                                                                               TA = +85°C
                                                                                                                                                                    0.3                                                                                                                               0.3
                                   3.0                                                                                                                                                                                     TA = +85°C
                                                                                                                                                                    0.2                                                                                                                               0.2
             INPUT CURRENT (nA)                                                                                                              INPUT CURRENT (nA)
                                                                                               TA = +85°C
                                                                                                                                                                                                                                                                                INPUT CURRENT (nA)
                                   2.5                                                                                                                                                                                                                                                                                    TA = +55°C
                                                                                                                                                                                                             TA = +55°C
                                   2.0                                                                                                                              0.1                                                                                                                               0.1
                                   1.5                                                                                                                                0                                                                                                                                0
                                                           TA = +55°C                           TA = +25°C
                                   1.0
                                                                                                                                                                    -0.1                                                                                                                             -0.1
                                   0.5                                                                                                                                                                                   TA = +25°C                                                                                               TA = +25°C
                                                                                                                                                                    -0.2                                                                                                                             -0.2
                                     0
                                  -0.5                                                                                                                              -0.3                                                                                                                             -0.3
                                         0                    0.5         1.0       1.5         2.0       2.5      3.0                                                                  0       0.5    1.0     1.5        2.0       2.5               3.0                                                   0      0.5      1.0      1.5      2.0                   2.5      3.0
                                                                                  VAIN_ (V)                                                                                                                  VSW_ (V)                                                                                                              VFB (V)
                                                                   SNO_ LEAKAGE CURRENT                                                                                                           SNC_ LEAKAGE CURRENT                                                                                               SCM_ LEAKAGE CURRENT
                                                                     vs. INPUT VOLTAGE                                                                                                              vs. INPUT VOLTAGE                                                                                                  vs. INPUT VOLTAGE
                                  0.20                                                                                                                              0.20                                                                                                                             0.20
                                                                                                                        MAX1358B toc38                                                                                                                     MAX1358B toc39                                                                                                      MAX1358B toc40
                                             SCM_ = AVDD/2                                                                                                                                  SCM_ = AVDD/2                                                                                                       SN0_ = SNC_ = AVDD/2
                                  0.15                                                                                                                              0.15                                                                                                                             0.15
                                                                                                TA = +85°C
                                                                                                                                                                                                                                TA = +85°C                                                                                                                      TA = +85°C
                                  0.10                                        TA = +55°C                                                                            0.10                                       TA = +55°C                                                                            0.10                              TA = +55°C
           INPUT CURRENT (nA)                                                                                                                  INPUT CURRENT (nA)                                                                                                               INPUT CURRENT (nA)
                                  0.05                                                                                                                              0.05                                                                                                                             0.05
                                    0                                                                                                                                  0                                                                                                                               0
                            -0.05                                                                                                                                 -0.05                                                                                                                          -0.05
                                                                                              TA = +25°C                                                                                                                    TA = +25°C                                                                                                                         TA = +25°C
                            -0.10                                                                                                                                 -0.10                                                                                                                          -0.10
                            -0.15                                                                                                                                 -0.15                                                                                                                          -0.15
                            -0.20                                                                                                                                 -0.20                                                                                                                          -0.20
                                         0                  0.5           1.0       1.5         2.0       2.5      3.0                                                                  0       0.5    1.0      1.5       2.0       2.5               3.0                                                   0      0.5      1.0      1.5      2.0                   2.5      3.0
                                                                                 VSNO_ (V)                                                                                                                   VSNC_ (V)                                                                                                            VSCM_ (V)
                                                                                     IN1- LEAKAGE CURRENT
                                                                                       vs. INPUT VOLTAGE                                                                                                                                                                        DAC INL vs. OUTPUT CODE
                                                                   0.20                                                                                                                                                                        0.5
                                                                                                                                                                       MAX1358B toc41                                                                                                                                                         MAX1358B toc42
                                                                                                                                                                                                                                                                            AVDD = 1.8V
                                                                                                              TA = +85NC                                                                                                                       0.4
                                                                   0.15                                                                                                                                                                                                     VREF = 1.25V
                                                                                                                                                                                                                                               0.3
                                                                   0.10
                                                                                    TA = +55NC
                                              INPUT CURRENT (nA)
                                                                                                                                                                                                                                               0.2
                                                                   0.05                                                                                                                                                                        0.1
                                                                     0                                                                                                                                                             INL (LSB)     0
                                                                                                                                                                                                                                               -0.1
                                                               -0.05
                                                                                                        TA = +25NC                                                                                                                             -0.2
                                                               -0.10
                                                                                                                                                                                                                                               -0.3
                                                               -0.15                                                                                                                                                                           -0.4
                                                               -0.20                                                                                                                                                                           -0.5
                                                                          0       0.5         1.0       1.5       2.0                      2.5                       3.0                                                                               0 100 200 300 400 500 600 700 800 900 1000 1100
                                                                                                      VIN1- (V)                                                                                                                                                                                             OUTPUT CODE
           18                        ______________________________________________________________________________________


                         16-Bit, Data-Acquisition System with ADC, DACs,
                         UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                                       Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                                                                                                        MAX1358B
                         (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                                      DAC INL vs. OUTPUT CODE                                                                                                                          DAC DNL vs. OUTPUT CODE                                                                                              DAC DNL vs. OUTPUT CODE
                                     0.5                                                                                                                                               0.5                                                                                                                               0.5
                                                                                                                                   MAX1358B toc43                                                                                                                                 MAX1358B toc44                                                                                                      MAX1358B toc45
                                                                                                      VREF = 2.048V                                                                                                                                   AVDD = 1.8V                                                                                                           VREF = 2.048V
                                     0.4                                                                                                                                               0.4                                                                                                                               0.4
                                                                                                                                                                                                                                                      VREF = 1.25V
                                     0.3                                                                                                                                               0.3                                                                                                                               0.3
                                     0.2                                                                                                                                               0.2                                                                                                                               0.2
                                     0.1                                                                                                                                               0.1                                                                                                                               0.1
                         INL (LSB)     0                                                                                                                                   INL (LSB)         0                                                                                                            INL (LSB)       0
                                     -0.1                                                                                                                                              -0.1                                                                                                                             -0.1
                                     -0.2                                                                                                                                              -0.2                                                                                                                             -0.2
                                     -0.3                                                                                                                                              -0.3                                                                                                                             -0.3
                                     -0.4                                                                                                                                              -0.4                                                                                                                             -0.4
                                     -0.5                                                                                                                                              -0.5                                                                                                                             -0.5
                                            0
                                                  100                 200   300   400    500   600   700    800   900   1000   1100
                                                                                                                                                                                                          0
                                                                                                                                                                                                                 100   200   300   400   500   600   700   800   900   1000   1100
                                                                                                                                                                                                                                                                                                                               0
                                                                                                                                                                                                                                                                                                                                      100   200   300   400   500   600    700   800   900   1000   1100
                                                                                      OUTPUT CODE                                                                                                                                  OUTPUT CODE                                                                                                          OUTPUT CODE
                                                          DAC OUTPUT VOLTAGE                                                                                                                                             DAC OUTPUT VOLTAGE                                                                                            DAC FB_ INPUT BIAS CURRENT
                                                      vs. ANALOG SUPPLY VOLTAGE                                                                                                                                           vs. TEMPERATURE                                                                                                   vs. TEMPERATURE
                         0.62420                                                                                                                                                  0.6250                                                                                                                                250
                                                                                                                                 MAX1358B toc46                                                                                                                                                                                                                                                                        MAX1358B toc48
                         0.62415                                                                                                                                                                                                                                                MAX1358B toc47
                                                                                                                                                                                                                                                                                                                        200
                                                                                                                                                                                  0.6246
DAC OUTPUT VOLTAGE (V)                                                                                                                                   DAC OUTPUT VOLTAGE (V)
                         0.62410
                                                                                                                                                                                                                                                                                                   INPUT CURRENT (pA)
                         0.62405
                                                                                                                                                                                                                                                                                                                        150
                                                                                                                                                                                  0.6242
                         0.62400                                                                                                                                                                                                                                                                                        100                                   FB_ = AVDD
                         0.62395                                                                                                                                                  0.6238
                                                                                                                                                                                                                                                                                                                         50                                                            FB_ = 0
                         0.62390                                                                     VREF = 1.25V                                                                                               VREF = 1.25V EXTERNAL
                                                                                                     CODE = 0x200                                                                 0.6234                        CODE = 0x200
                         0.62385                                                                     RLOAD = 10kI                                                                                               RLOAD = 10kI                                                                                              0
                                                                                                                                                                                                                AVDD = DVDD = 1.8V
                         0.62380                                                                                                                                                  0.6230
                                            1.8             2.1                 2.4       2.7         3.0         3.3          3.6                                                                        -40          -15          10           35              60           85                                        -50
                                                                                                                                                                                                                                                                                                                               -40          -15           10              35           60             85
                                                                                        AVDD (V)                                                                                                                               TEMPERATURE (°C)
                                                                                                                                                                                                                                                                                                                                                    TEMPERATURE (°C)
                                                                                  DAC GAIN ERROR vs.TEMPERATURE                                                                                                                                                               DAC OUTPUT NOISE (0.1Hz TO 10Hz)
                                                                                                                                                                                                                                                                                                                                                          MAX1358B toc50
                                                                        0.5
                                                                                                                                                                                         MAX1358B toc49
                                                                                                     VREF = 1.25V EXTERNAL                                                                                                                                                    REF = 1.25V
                                                                        0.4
                                                                                                      AVDD = DVDD = 1.8V                                                                                                                                                      AVDD = DVDD = 1.8V
                                                                        0.3                                                                                                                                                                                                   CODE = 0x3FF
                                                   GAIN ERROR (LSB)
                                                                        0.2
                                                                        0.1                                                                                                                                                                                                                                                                                                    20µV/div
                                                                                                                                                                                                                                                                                                                                                                               AC-COUPLED
                                                                            0
                                                                                                     VREF = 2.5V EXTERNAL
                                                                       -0.1
                                                                                                      AVDD = DVDD = 3.0V
                                                                       -0.2
                                                                                      OFFSET MEASURED AT CODE 0x52
                                                                       -0.3
                                                                                -40        -15             10           35                          60                                 85                                                                                                                                            1s/div
                                                                                                     TEMPERATURE (°C)
                                                                                        ______________________________________________________________________________________                                                                                                                                                                                                                        19


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                          Typical Operating Characteristics (continued)
MAX1358B
           (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                                                     DAC OUTPUT-NOISE DENSITY                                                                                                                    DAC LARGE-SIGNAL STEP RESPONSE
                                                                                          vs. FREQUENCY                                                                                                                                  (0x052 TO 0x3FF)
                                                                                                                                                                                                                                                                                                MAX1358B toc52
                                                                     1000
                                                                                                                                                               MAX1358B toc51
                                                                                                                VREF = 1.25V                                                                                                     OUT_ = FB_
                                                                                                                AVDD = DVDD = 1.8V
                                                                                                                CODE = 3FF                                                                                                                                                                                                        SCLK
                                                                                                                                                                                                                                                                                                                                  2V/div
                                                                     100
                                                    NOISE (nV/√Hz)
                                                                      10                                                                                                                                                                                                                                                          OUTA
                                                                                                                                                                                                                                                                                                                                  500mV/div
                                                                                                                                                                                                                                                                                                                                  0V
                                                                       1
                                                                            0.01              0.10        1.00                           10.00             100.00                                                                                                        10µs/div
                                                                                                     FREQUENCY (kHz)
           DAC LARGE-SIGNAL STEP RESPONSE                                                                                                             OP-AMP INPUT OFFSET VOLTAGE
                   (0x3FF to 0x052)                                                                                                                        vs. TEMPERATURE                                                                                                 OP-AMP INPUT OFFSET HISTOGRAM
                                                                             MAX1358B toc53
                                                                                                                                          0                                                                                                                         35
                                                                                                                                                                                                                                    MAX1358B toc54
                                                                                                                                                                                                                                                                                                                                              MAX1358B toc55
                                                                                                                                                     VCM = 0.5V
           OUT_ = FB_
                                                                                                                                                                                                                                                                    30
                                                                                                                                        -0.1
                                                                                                SCLK
                                                                                                                  OFFSET VOLTAGE (mV)
                                                                                                                                                                                                                                                                    25
                                                                                                                                                                                                                                                     OCCURRENCES
                                                                                                                                        -0.2
                                                                                                                                                                                                                                                                    20
                                                                                                                                        -0.3                                                                                                                        15
                                                                                                OUTA
                                                                                                500mV/div                                                                                                                                                           10
                                                                                                                                        -0.4
                                                                                                0V                                                                                                                                                                   5
                                                                                                                                        -0.5                                                                                                                         0   -2.92
                        10µs/div                                                                                                               -40         -15                    10       35                            60        85
                                                                                                                                                                                                                                                                         -2.62
                                                                                                                                                                                                                                                                         -2.32
                                                                                                                                                                                                                                                                         -2.02
                                                                                                                                                                                                                                                                         -1.72
                                                                                                                                                                                                                                                                         -1.42
                                                                                                                                                                                                                                                                         -1.12
                                                                                                                                                                                                                                                                         -0.82
                                                                                                                                                                                                                                                                         -0.52
                                                                                                                                                                                                                                                                         -0.22
                                                                                                                                                                                                                                                                          0.08
                                                                                                                                                                                                                                                                          0.38
                                                                                                                                                                                                                                                                          0.68
                                                                                                                                                                                                                                                                          0.98
                                                                                                                                                                                TEMPERATURE (°C)
                                                                                                                                                                                                                                                                          1.28
                                                                                                                                                                                                                                                                                                OFFSET (mV)
                                                                                       OP-AMP OUTPUT VOLTAGE                                                                                                                                    OP-AMP OUTPUT VOLTAGE
                                                                                          vs. LOAD CURRENT                                                                                                                                         vs. LOAD CURRENT
                                                        0.89970                                                                                                                                                     1.49970
                                                                                                                                                              MAX1358B toc56                                                                                                                                     MAX1358B toc57
                                                                               UNITY GAIN                                                                                                                                        UNITY GAIN
                                                        0.89968                VIN = 0.9V
                                                                                                                                                                                                                    1.49965      VIN = 1.5V
                                                                               AVDD = DVDD = 1.8V
                            OP-AMP OUTPUT VOLTAGE (V)                                                                                                                                        OP-AMP OUTPUT VOLTAGE (V)
                                                        0.89966                                                                                                                                                                  AVDD = DVDD = 3.0V
                                                        0.89964
                                                                                                                                                                                                                    1.49960
                                                        0.89962
                                                        0.89960                                                                                                                                                     1.49955
                                                        0.89958
                                                                                                                                                                                                                    1.49950
                                                        0.89956
                                                        0.89954
                                                                                                                                                                                                                    1.49945
                                                        0.89952
                                                        0.89950                                                                                                                                                     1.49940
                                                                            -2.0 -1.5 -1.0 -0.5             0            0.5               1.0       1.5    2.0                                                               -2.0 -1.5 -1.0 -0.5                           0       0.5   1.0      1.5     2.0
                                                                                                 LOAD CURRENT (mA)                                                                                                                                                 LOAD CURRENT (mA)
           20   ______________________________________________________________________________________


                               16-Bit, Data-Acquisition System with ADC, DACs,
                               UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                     Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                                                          MAX1358B
                               (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                               OP-AMP OUTPUT VOLTAGE                                                                                                                                      OP-AMP OUTPUT VOLTAGE
                                                  vs. TEMPERATURE                                                                                                                                           vs. SUPPLY VOLTAGE                                                                  OP-AMP OUTPUT NOISE (0.1Hz TO 10Hz)
                                                                                                                                                                                                                                                                                                                                                              MAX1358B toc60
                     0.8987                                                                                                                                   0.50000
                                                                                                       MAX1358B toc58                                                                                                                                     MAX1358B toc59
                                           UNITY GAIN                                                                                                                                                UNITY GAIN
                                                                                                                                                              0.49995                                VIN = 0.5V                                                                                      UNITY GAIN
                     0.8986                AVDD = DVDD = 1.8V
                                                                                                                                                                                                     RLOAD = 10kI                                                                                    VIN1+ = 0.5V
                                                                                                                                  OP-AMP OUTPUT VOLTAGE (V)
                                           VIN+ = AVDD/2
                                                                                                                                                              0.49990                                                                                                                                AVDD = DVDD = 1.8V
                                           RLOAD = 10kI
OUTPUT VOLTAGE (V)
                     0.8985
                                                                                                                                                              0.49985
                                                                                                                                                                                                                                                                                                                                                                               20µV/div
                     0.8984                                                                                                                                   0.49980
                                                                                                                                                                                                                                                                                                                                                                               AC-COUPLED
                                                                                                                                                              0.49975
                     0.8983
                                                                                                                                                              0.49970
                     0.8982
                                                                                                                                                              0.49965
                     0.8981                                                                                                                                   0.49960
                                    -40        -15             10              35        60         85                                                                                           1.8 2.0 2.2 2.4 2.6 2.8 3.0 3.2 3.4 3.6                                                                                   1s/div
                                                            TEMPERATURE (°C)                                                                                                                                   SUPPLY VOLTAGE (V)
                                           OP-AMP OUTPUT-NOISE DENSITY                                                                                                                                                                                                                          CLOSED-LOOP OP-AMP GAIN AND PHASE
                                                  vs. FREQUENCY                                                                                                                                      OP-AMP UNITY-GAIN INPUT RANGE                                                                        vs. FREQUENCY
                                                                                                                                                                                                                                                                                                                                                              MAX1358B toc63
                             1000                                                                                                                                                10                                                                                                        80                                                                                  180
                                                                                                                                                                                                                                                            MAX1358B toc62
                                                                                                          MAX1358B toc61
                                                                          VIN+ = 0.5V                                                                                                                 AVDD = DVDD = 3.6V
                                                                                                                                                                                             8                                                                                             60                                                                                  135
                                                                          AVDD = DVDD = 1.8V                                                                                                          UNITY GAIN
                                                                                                                                                                                             6        NO LOAD
                                                                          UNITY GAIN                                                                                                                                                                                                       40                                   GAIN                                           90
                                                                                                                                                                                             4
                             100
            NOISE (nV/√Hz)                                                                                                                                VOUT - VIN (mV)
                                                                                                                                                                                             2                                                                                             20                                                                                  45
                                                                                                                                                                                                                                                                             GAIN (dB)                                                                                                PHASE (°)
                                                                                                                                                                                             0                                                                                              0                                                                                  0
                                                                                                                                                                                    -2                                                                                                   -20                                                                                   -45
                              10                                                                                                                                                                                                                                                                                          PHASE
                                                                                                                                                                                    -4
                                                                                                                                                                                                                                                                                         -40                                                                                   -90
                                                                                                                                                                                    -6                                                                                                               CLOSED-LOOP GAIN = 1000
                                                                                                                                                                                    -8                                                                                                   -60         RLOAD = 10kI                                                              -135
                                                                                                                                                                                                                                                                                                     CLOAD = 200pF
                               1                                                                                                                                            -10                                                                                                          -80                                                                                   -180
                                    0.01         0.10                   1.00          10.00       100.00                                                                                         0       0.6     1.2       1.8   2.4       3.0        3.6                                       10        100         1k            10k                      100k         1M
                                                            FREQUENCY (kHz)                                                                                                                                            VIN (V)                                                                                      FREQUENCY (Hz)
                                                                                     SPDT ON-RESISTANCE
                                                                                      vs. SCM_ VOLTAGE                                                                                                                                                SPST ON-RESISTANCE vs. SW_ VOLTAGE
                                                             45                                                                                                                                                                                  70
                                                                                                                                                                            MAX1358B toc64                                                                                                                                                  MAX1358B toc65
                                                                                                                                                                                                                                                            ISW_ = 1mA
                                                                         ISCM_ = 1mA
                                                                                                                                                                                                                                                 65
                                                             40
                                                                                                                                                                                                                                                 60
                                                             35
                                                                                                                                                                                                                                       RON (I)
                                                                                                                                                                                                                                                 55
                                                  RON (I)                                                                                                                                                                                                                                               AVDD = 3V
                                                                                                                                                                                                                                                 50
                                                             30
                                                                                        AVDD = 3V                                                                                                                                                45                                             AVDD = 1.8V
                                                             25
                                                                                                                                                                                                                                                 40
                                                                         AVDD = 1.8V
                                                             20                                                                                                                                                                                  35
                                                                    0          0.5      1.0      1.5                       2.0   2.5                                  3.0                                                                             0                              0.5         1.0       1.5      2.0       2.5         3.0
                                                                                              VSCM_ (V)                                                                                                                                                                                                 VSW_ (V)
                                                                           ______________________________________________________________________________________                                                                                                                                                                                                              21


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                Typical Operating Characteristics (continued)
MAX1358B
           (DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                                  SPDT ON-RESISTANCE                                                                                                              SPDT ON-RESISTANCE                                                                                                                       SPST LEAKAGE CURRENT
                                                   vs. TEMPERATURE                                                                                                                 vs. TEMPERATURE                                                                                                                           vs. TEMPERATURE
                       50                                                                                                                       70                                                                                                                                                   1.000
                                                                                                                                                                                                                                                            MAX1358B toc67
                                                                                                                                                                                                                                                                                                                                                                               MAX1358B toc68
                                                                                                                   MAX1358B toc66
                                  VSCM_ = AVDD                                                                                                                  VSCM_ = AVDD                                                                                                                                           VIN = AVDD
                                  ISCM_ = 1mA                                                                                                                   ISCM_ = 1mA
                       40                                                                                                                       60
                                                                                                                                                                                                                                                                              LEAKAGE CURRENT (nA)
                                                                                                                                                                                                                                                                                                     0.100
           RON (I)     30                                               AVDD = DVDD = 3.0V                                          RON (I)     50                                       AVDD = DVDD = 3.0V
                                                                                                                                                                                                                                                                                                     0.010
                       20                                                                                                                       40
                                                                                    AVDD = DVDD = 1.8V                                                                                              AVDD = DVDD = 1.8V
                       10                                                                                                                       30                                                                                                                                                   0.001
                            -40       -15                                     10           35            60      85                                  -40                     -15               10         35         60                                 85                                                      -40       -15        10          35                      60   85
                                                                        TEMPERATURE (°C)                                                                                                 TEMPERATURE (°C)                                                                                                                       TEMPERATURE (°C)
                                            SPDT SWITCHING TIME                                                                                                                   SPST SWITCHING TIME                                                                                                                    SPDT/SPST SWITCHING TIME
                                             vs. SUPPLY VOLTAGE                                                                                                                    vs. SUPPLY VOLTAGE                                                                                                                        vs. TEMPERATURE
                       70                                                                                                                       70                                                                                                                                                         50
                                                                                                                   MAX1358B toc69                                                                                                                            MAX1358B toc70                                                                                                    MAX1358B toc71
                                                                                                                                                                                                                                                                                                                      RLOAD = 1kI
                                                                                                                                                                                                                                                                                                                      CLOAD = 35pF
                       60                                                                                                                       60                                                                                                                                                         40                                tON
                                                                                                                                                                                  tON
                                                                                                                                                                                                                                                                                   SWITCHING TIME (ns)
                       50                                                                                                                       50                                                                                                                                                         30
           TIME (ns)                                                                                                                TIME (ns)
                                                                                          tON
                       40                                                                                                                       40                                                                                                                                                         20
                       30                                                                                                                       30                                                                                                                                                                                        tOFF
                                                                                                                                                                                                                                                                                                           10
                                                                                                                                                                                  tOFF
                                                                                          tOFF
                       20                                                                                                                       20                                                                                                                                                          0
                            1.8      2.1                                2.4         2.7          3.0      3.3    3.6                                 1.8                    2.1          2.4        2.7        3.0    3.3                               3.6                                                     -40       -15        10          35                      60   85
                                                                          AVDD, DVDD (V)                                                                                                   AVDD, DVDD (V)                                                                                                                       TEMPERATURE (°C)
                                                                              INTERNAL TEMPERATURE SENSOR ERROR                                                                                                                                             INTERNAL TEMPERATURE SENSOR ERROR
                                                                                    vs. AMBIENT TEMPERATURE                                                                                                                                                        vs. REFERENCE VOLTAGE
                                                                       2.0                                                                                                                                                                            15
                                                                                                                                                           MAX1358B toc72                                                                                                                                                                               MAX1358B toc73
                                                                                                                          VREF = 1.250V                                                                                                                                                   TA = +85°C
                                                                       1.5
                                       TEMPERATURE SENSOR ERROR (°C)                                                                                                                                                  TEMPERATURE SENSOR ERROR (°C)
                                                                                                                                                                                                                                                      10                                                         TA = +27°C
                                                                       1.0
                                                                                                                                                                                                                                                       5
                                                                       0.5
                                                                         0                                                                                                                                                                             0
                                                                                                                                                                                                                                                                                                         TA = -40°C
                                                                       -0.5
                                                                                                                                                                                                                                                       -5
                                                                       -1.0
                                                                                                                                                                                                                                                      -10
                                                                       -1.5
                                                                       -2.0                                                                                                                                                                           -15
                                                                              -40          -15            10      35                  60              85                                                                                                    1.21                                          1.23           1.25        1.27             1.29
                                                                                                       TEMPERATURE (°C)                                                                                                                                                                                     REFERENCE VOLTAGE (V)
           22           ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                           Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                                                                MAX1358B
(DVDD = AVDD = 1.8V, VREF = +1.25V, CCPOUT = 10µF, TA = +25°C, unless otherwise noted.)
                                      VOLTAGE SUPERVISOR THRESHOLD                                                                                                               CHARGE-PUMP OUTPUT VOLTAGE                                                                                                               CHARGE-PUMP OUTPUT VOLTAGE
                                            vs. TEMPERATURE                                                                                                                          vs. OUTPUT CURRENT                                                                                                                        vs. TEMPERATURE
                        3.0                                                                                                                               3.5                                                                                                                                               3.30
                                                                                                        MAX1358B toc74                                                                                                                                           MAX1358B toc75                                                                                                MAX1358B toc76
                                         FALLING                                                                                                                                AVDD = DVDD = 1.8V                                                                                                                       AVDD = DVDD = 1.8V
                                                                                                                         CHARGE-PUMP OUTPUT VOLTAGE (V)
                                                                                                                                                                                                                                                                                                                         ILOAD = 10mA
                        2.7                                                                                                                               3.4                                                                                                                                               3.26
VOLTAGE THRESHOLD (V)                                                                                                                                                                                                                                                                  OUTPUT VOLTAGE (V)
                                                                       CPOUT SUPERVISOR
                        2.4                                                                                                                               3.3                                                                                                                                               3.22
                        2.1                                                                                                                               3.2                                                                                                                                               3.18
                        1.8                                                                                                                               3.1                                                                                                                                               3.14
                                                                        DVDD SUPERVISOR
                        1.5                                                                                                                               3.0                                                                                                                                               3.10
                              -40                            -15          10       35        60        85                                                                   0         2        4      6         8                                               10                                                 -40         -15       10       35                     60   85
                                                                       TEMPERATURE (°C)                                                                                                   OUTPUT CURRENT (mA)                                                                                                                        TEMPERATURE (°C)
                                                                       CHARGE-PUMP OUTPUT RESISTANCE                                                                                                                                                                                  CHARGE-PUMP OUTPUT-VOLTAGE
                                                                              vs. CAPACITANCE                                                                                                                                                                                           RIPPLE vs. OUTPUT CURRENT
                                                                                                                                                                                                                    CHARGE-PUMP OUTPUT-VOLTAGE RIPPLE (mVP-P)
                                                            100                                                                                                                                                                                                  50
                                                                                                                                                                                                                                                                                                                                                        MAX1358B toc78
                                                                                                                                                           MAX1358B toc77
                                                                                             AVDD = DVDD = 1.8V                                                                                                                                                                       AVDD = DVDD = 1.8V
                                                                                             IOUT = 10mA
                                                            80                                                                                                                                                                                                   40
                                    OUTPUT RESISTANCE (I)
                                                            60                                                                                                                                                                                                   30
                                                            40                                                                                                                                                                                                   20
                                                            20                                                                                                                                                                                                   10
                                                             0                                                                                                                                                                                                            0
                                                                   0           5        10        15             20                                       25                                                                                                                      0                          2             4         6        8        10
                                                                                   CAPACITANCE (µF)                                                                                                                                                                                                                OUTPUT CURRENT (mA)
                                                                           ______________________________________________________________________________________                                                                                                                                                                                                             23


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                                                                               Pin Description
                PIN     NAME                                                        FUNCTION
                1        CLK    Clock Output. Default is 2.457MHz output clock for the μC.
                2       UPIO2   User-Programmable Input/Output 2. See the UPIO2_CTRL Register section for functionality.
                3       UPIO3   User-Programmable Input/Output 3. See the UPIO3_CTRL Register section for functionality.
                4       UPIO4   User-Programmable Input/Output 4. See the UPIO4_CTRL Register section for functionality.
                                Serial-Data Output. Data is clocked out on SCLK’s falling edge. High impedance when CS is high, when
                5       DOUT
                                UPIO/SPI pass-through mode is enabled, DOUT mirrors the state of UPIO1.
                6       SCLK    Serial-Clock Input. Clocks data in and out of the serial interface.
                7        DIN    Serial-Data Input. Data is clocked in on SCLK’s rising edge.
                                Active-Low Chip-Select Input. Data is not clocked into DIN unless CS is low. When CS is high, DOUT is high
                8        CS     impedance. High impedance when CS is high; when UPIO/SPI pass-through mode is enabled, DOUT
                                mirrors the state of UPIO1.
                9        INT    Programmable Active-High/Low Interrupt Output. ADC, UPIO wake-up, alarm, and voltage-monitor events.
                                32kHz Clock Input/Output. Outputs 32kHz clock for the μC. Can be programmed as an input by enabling
                10     CLK32K   the IO32E bit to accept an external 32kHz input clock. The RTC, PWM, and watchdog timer always use the
                                internal 32kHz clock derived from the 32kHz crystal.
                                Active-Low, Open-Drain Reset Output. Remains low while DVDD is below the 1.8V voltage threshold and
                11      RESET   stays low for a timeout period (tDSLP) after DVDD rises above the 1.8V threshold. RESET also pulses low
                                when the watchdog timer times out and holds low during POR until the 32kHz oscillator stabilizes.
                12     32KOUT   32kHz Crystal Output. Connect an external 32kHz watch crystal between 32KIN and 32KOUT.
                13      32KIN   32kHz Crystal Input. Connect an external 32kHz watch crystal between 32KIN and 32KOUT.
                14      SNO1    Analog Switch 1 Normally Open Terminal. Analog input to mux.
                15      SCM1    Analog Switch 1 Common Terminal. Analog input to mux.
                16      SNC1    Analog Switch 1 Normally Closed Terminal. Analog input to mux (open on POR).
                17      SNO2    Analog Switch 2 Normally Open Terminal. Analog input to mux.
                18      SCM2    Analog Switch 2 Common Terminal. Analog input to mux (open on POR).
                19      SNC2    Analog Switch 2 Normally Closed Terminal. Analog input to mux.
                20      OUT1    Amplifier 1 Output. Analog input to mux.
                21       IN1-   Amplifier 1 Inverting Input. Analog input to mux.
                22      IN1+    Amplifier 1 Noninverting Input
           24    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                            Pin Description (continued)
                                                                                                                                  MAX1358B
 PIN   NAME                                                       FUNCTION
 23    SWA       DACA SPST Shunt Switch Input. Connects to OUTA through an SPST switch.
 24     FBA      DACA Force-Sense Feedback Input. Analog input to mux.
 25    OUTA      DACA Force-Sense Output. Analog input to mux.
 26    AGND      Analog Ground
                 Analog Supply Voltage. Also ADC reference voltage during AVDD measurement. Bypass to AGND with
 27    AVDD
                 10μF and 0.1μF capacitors in parallel as close to the pin as possible.
 28    SWB       DACB SPST Shunt Switch Input. Connects to OUTB through an SPST switch.
 29     FBB      DACB Force-Sense Feedback Input. Analog input to mux.
 30    OUTB      Force-Sense DACB Ouput. Analog input to mux.
                 Analog Input 2. Analog input to mux. Inputs have internal programmable current source for external
 31    AIN2
                 temperature measurement.
                 Analog Input 1. Analog input to mux. Inputs have internal programmable current source for external
 32    AIN1
                 temperature measurement.
                 Reference Input/Output. Output of the reference buffer amplifier or external reference input. Disabled at
 33     REF
                 power-up to allow external reference. Reference voltage for ADC and DACs.
                 Linear Voltage-Regulator Output. Charge-pump-doubler input voltage. Bypass REG with a 10μF capacitor
 34     REG
                 to DGND for charge-pump regulation.
 35     CF-
                 Charge-Pump Flying Capacitor Terminals. Connect an external 10μF (typ) capacitor between CF+ and CF-.
 36     CF+
                 Charge-Pump Output. Connect an external 10μF (typ) reservoir capacitor between CPOUT and DGND. There is
 37    CPOUT     a low threshold diode between DVDD and CPOUT. When the charge pump is disabled, CPOUT is pulled up
                 within 300mV (typ) of DVDD.
                 Digital Supply Voltage. Bypass to DGND with 10μF and 0.1μF capacitors in parallel as close to the pin as
 38    DVDD
                 possible.
 39    DGND      Digital Ground. Also ground for cascaded linear voltage regulator and charge-pump doubler.
 40    UPIO1     User-Programmable Input/Output 1. See the UPIO1_CTRL Register for functionality.
 —      EP       Exposed Pad. Leave unconnected or connect to AGND.
              ______________________________________________________________________________________                         25


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                      Detailed Description                                          The DAS directly interfaces to various sensor outputs
MAX1358B
                                                                                                    and, once configured, provides the stimulus, signal con-
           The MAX1358B DAS features a multiplexed differential
                                                                                                    ditioning, and data conversion, as well as µP support.
           16-bit ADC, 10-bit force-sense DACs, an RTC with an
                                                                                                    See the Applications section for sample MAX1358B
           alarm, a selectable bandgap voltage reference, a signal-
                                                                                                    applications.
           detect comparator, 1.8V and 2.7V voltage monitors, and
           wake-up control circuitry, all controlled by a 4-wire serial                             The 16-bit ADC features programmable continuous con-
           interface (see Figure 3 for the functional diagram).                                     version rates as shown in Table 4, and gains of 1, 2, 4,
                                                                                                    and 8 (Table 5) to suit applications with different power
                              DVDD           32KIN         32KOUT          CLK32K                       CLK                      INT              AVDD
                   CS                               32.768kHz              CLK32K   M32K          4.9152MHz HF
                                                                                                                           INTERRUPT                               UPIO1
                                                   OSCILLATOR          INPUT/OUTPUT               OSCILLATOR
                                                                          CONTROL                    AND FLL
                 SCLK                                                                                                                                              UPIO2
                              SERIAL                                                                                               16              UPIO
                            INTERFACE                                                                     HFCLK
                  DIN                                                                                                                      4                       UPIO3
                                                    CONTROL         32K                                                  CRDY UPR<4:1>
                 DOUT                                                                                   PWM                     UPF<4:1>   4                       UPIO4
                                                     LOGIC
                                                                                                                             STATUS
                                                                           RTC AND                                       ALD
                                                                           ALARM                                         SDC
                                                                                                   WATCHDOG              ADD                     DVDD (1.8V)
                                                                                                     TIMER               ADOU      LDVD           VOLTAGE          RESET
                                                                                                                              LCPD
                                                                                                          WDTO                                    MONITOR
                                                 AIN1
                             PROG
                            CURRENT              AIN2                                                                     CPOUT (2.7V)                             CPOUT
                            SOURCE                                                                                         VOLTAGE
                                                                                                                           MONITOR
                                                   TEMP          TEMP+                                                                           CHARGE-           CF+
                                                  SENSOR         TEMP-                   MAX1358B                             DVDD M32K           PUMP
                                                                                                                                                 DOUBLER           CF-
                                                                                                                          LINEAR 1.65V
                                                                                                                            VOLTAGE                                REG
                                        AIN1                                                                               REGULATOR
                  AIN1                                                                 M32K
                                       SNO1
                                        FBA                                PROG. VOS
                 AIN2
                                       SCM1                                                                                                        PGA
                                                        10:1                                                             1.25V BANDGAP                             REF
                                        FBB
                                                        MUX                            CMP
                                       SNC1             POS
                                        IN1-                                                                                               AV = 1, 1.6384, 2 V/V
                 SNO1
                                      TEMP+                                                                                REF
                                         REF
                 SNC1                  AGND                                                           REF                10-BIT DAC
                                                                                                  IN+                                                              OUTA
                                                                                                                 HFCLK                     BUF
                                                                                PGA              16-BIT ADC
                 SCM1
                          SPDT1         TEMP-                                                     IN-
                                                                                                                                                                   SWA
                                         SNO2
                                                                POLARITY   AV = 1, 2, 4, 8 V/V
                                         OUTA                    FLIPPER                                                                                           FBA
                 SNO2                   SCM2                                                                               REF
                                         OUTB           10:1
                                                        MUX                                                              10-BIT DAC
                 SNC2                    SNC2           NEG                                                                                BUF                     OUTB
                                         OUT1
                 SCM2                     AIN2                                                    OP1                                                              SWB
                          SPDT2            REF
                                        AGND                                                                                                                       FBB
                                                                             IN1+       IN1-             OUT1
                             DGND                                                                                                                 AGND
           Figure 3. Functional Diagram
           26   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
and dynamic range constraints. The force-sense DAC                                                      ADC Modulator
                                                                                                                           MAX1358B
provides 10-bit resolution for precise sensor applica-       The MAX1358B performs analog-to-digital conversions
tions. The ADC and DACs both utilize a low-drift 1.25V       using a single-bit, 3rd-order, switched-capacitor sigma-
internal bandgap reference for conversions and full-         delta modulator. The sigma-delta modulation converts
scale range setting. The RTC has a 138-year range and        the input signal into a digital pulse train whose average
provides an alarm function that can be used to wake up       duty cycle represents the digitized signal information.
the system or cause an interrupt at a predefined time.       The pulse train is then processed by a digital decimation
The power-supply voltage monitor detects when DVDD           filter. The modulator provides 2nd-order frequency shap-
falls below a trip threshold voltage of +1.8V and asserts    ing of the quantization noise resulting from the single-bit
RESET. The MAX1358B uses a 4-wire serial interface to        quantizer. The modulator is fully differential for maximum
communicate directly among SPI, QSPI, or                     signal-to-noise ratio and minimum susceptibility to
MICROWIRE devices for system configuration and               power-supply noise.
readback functions.
                                                                                    Signal-Detect Comparator
            Analog-to-Digital Converter (ADC)                INT asserts (and remains asserted) within 30µs when
The MAX1358B includes a sigma-delta ADC with pro-            the differential voltage on the selected analog inputs
grammable conversion rate, a PGA, and a dual 10:1            exceeds the signal-detect comparator trip threshold.
input mux. When performing continuous conversions at         The signal-detect comparator’s differential input trip
10sps or single conversions at the 40sps setting (effec-     threshold (i.e., offset) is user selectable and can be pro-
tively 10sps due to four sample sigma-delta settling),       grammed to the following values: 0mV, 50mV, 100mV,
the ADC has 16-bit noise-free resolution. The noise-free     150mV, or 200mV.
resolution drops to 10 bits at the maximum sampling
rate of 477sps. Differential inputs support unipolar                                                 Analog Inputs
(between 0 and VREF) and bipolar (between ±VREF)             The ADC provides two external analog inputs: AIN1
modes of operation. Note: Avoid combinations of input        and AIN2. The rail-to-rail inputs accept differential or
signal and PGA gains that exceed the reference range         single-ended voltages, or external temperature-sensing
at the ADC input. The ADOU bit in the STATUS register        diodes. The unused op amps, switches, or DAC inputs
indicates if the ADC has overranged or underranged.          and output pins can also be used as rail-to-rail analog
                                                             inputs if the associated function is disabled.
Zero-scale and full-scale calibrations remove offset and
gain errors. Direct access to gain and zero-scale cali-                                      Analog Input Protection
bration registers allows system-level offset and gain cal-   Internal protection diodes clamp the analog inputs to
ibration. The zero-scale adjustment register allows          AVDD and AGND and allow the channel input to swing
intentional positive offset skewing to preserve unipolar-    from (AGND - 0.3V) to (AVDD + 0.3V). For accurate
mode resolution for signals that have a slight negative      conversions near full scale, the inputs must not exceed
offset (i.e., unipolar clipping near zero can be removed).   AVDD by more than 50mV or be lower than AGND by
Perform ADC calibration whenever the ADC configura-          50mV. If the inputs exceed (AGND - 0.3V) to (AVDD +
tion, temperature, or AVDD changes. The ADC-done sta-        0.3V), limit the current to 50mA.
tus can be programmed to provide an interrupt on INT
or on any UPIO_.                                                                                       Analog Mux
                                                             The MAX1358B includes a dual 10:1 mux for the positive
                                                  PGA Gain   and negative inputs of the ADC. Figure 3 illustrates which
An integrated PGA provides four selectable gains (+1V/V,     signals are present at the inputs of each mux for the
+2V/V, +4V/V, and +8V/V) to maximize the dynamic             MAX1358B. The MUXP[3:0] and MUXN[3:0] bits of the
range of the ADC. Bits GAIN1 and GAIN0 set the gain          MUX register select the input to the ADC and the signal-
(see the ADC Register for more information). The PGA         detect comparator (Tables 8 and 9). See the MUX register
gain is implemented in the digital filter of the ADC.        description in the Register Definitions section for multi-
                                                             plexer functionality. The POL bit of the ADC register
                                                             swaps the polarity of mux output signals to the ADC.
                  ______________________________________________________________________________________             27


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                 Digital Filtering                                    Force-Sense DAC
MAX1358B
           The MAX1358B contains an on-chip digital lowpass fil-                     The MAX1358B incorporates two 10-bit force-sensing
           ter that processes the data stream from the modulator                     DACs. The DACs’ reference voltage sets the full-scale
           using a sinc4 (sinx/x)4 response. The sinc4 filter has a                  range. Program the DACA_OP register using the serial
           settling time of four output data periods (4 x 200ms).                    interface to set the output voltages of the DAC at OUTA.
           The MAX1358B has 25% overrange capability built into                      Connecting resistors in a voltage-divider configuration
           the modulator and digital filter:                                         between OUTA, FBA, and GND sets a different closed-
                                                                                     loop gain for the output amplifier (see the Applications
                                                   ⎡               4
                                                        ⎛    f ⎞⎤                    Information section).
                                                   ⎢ SIN⎜ Nπ ⎟ ⎥                     The DAC output amplifier typically settles to ±0.5 LSB
                                                        ⎝   fm ⎠ ⎥
                                           H(f) = ⎢⎢
                                                      1
                                                                                     from a full-scale transition within 65µs (unity gain and
                                                      N  ⎛    ⎞ ⎥
                                                   ⎢ SIN⎜ π f ⎟ ⎥                    loaded with 10kΩ in parallel with 200pF). Loads of less
                                                   ⎢⎣    ⎝ fm ⎠ ⎥⎦                   than 1kΩ could degrade performance. See the Typical
                                                                                     Operating Characteristics for the source-and-sink
           Figure 4 shows the filter frequency response. The sinc4                   capability of the DAC output.
           characteristic -3dB cutoff frequency is 0.228 times the                   The MAX1358B features a software-programmable
           first notch frequency.                                                    shutdown mode for the DAC. Power down DACA or
           The output data rate for the digital filter corresponds                   DACB independently or simultaneously by clearing the
           with the positioning of the first notch of the filter’s fre-              DAE and DBE bits (see the DACA_OP Register and
           quency response. The notches of the sinc4 filter are                      DACB_OP Register sections). DAC output OUTA and
           repeated at multiples of the first notch frequency. The                   OUTB go high impedance when powered down. The
           sinc4 filter provides an attenuation of better than 100dB                 DACs are normally powered down at power-on reset.
           at these notches. For example, 50Hz is equal to five
           times the first notch frequency and 60Hz is equal to six                                                        Charge Pump
           times the first notch frequency.                                          The charge pump provides > 3V at CPOUT with a maxi-
                                                                                     mum 10mA load. Enable the charge pump through the
                                                                                     PS_VMONS register. The charge pump is powered
                                                                                     from DVDD. See Figures 5 and 6 for block diagrams of
                                                                                     the charge pump and linear regulator. The charge
                                  0                                                  pump is disabled at power-on reset.
                                                                                     An internal clock drives the charge-pump clock and
                                 -40                                                 ADC clock. The charge pump delivers a maximum
                                                                                     10mA of current to external devices. The droop and the
                                                                                     ripple depend on the clock frequency (f CLK =
                                 -80
                    GAIN (dB)
                                                                                     32.768kHz/2), switch resistances (RSWITCH = 5Ω), and
                                                                                     the external capacitors (10µF) along with their respec-
                                -120                                                 tive ESRs, as shown below.
                                                                                                   VDROOP = IOUTROUT
                                -160
                                                                                                  1
                                                                                      ROUT =            + 2RSWITCH + 4ESRCF + ESRCCPOUT
                                -200                                                           fCLKCF
                                       0      20    40    60    80     100   120                          IOUT
                                                    FREQUENCY (Hz)                        VRIPPLE =               + 2IOUTESRCCPOUT
                                                                                                      fCLKCCPOUT
           Figure 4. Filter Frequency Response
           28   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                              MAX1358B
 DVDD
                           LDOE
                                                                                     CPE                         CPOUT
               1.22V
                          OP                                                       NONOVERLAP
                                                                      M32K      CLOCK GENERATOR
                                            1.65V    REG                                                         CF+
                                                                REG
                                                                                                                 CF-
            LDOE
                                                                                           CHARGE-PUMP DOUBLER
           LINEAR 1.65V VOLTAGE REGULATOR
Figure 5. Linear-Regulator Block Diagram                       Figure 6. Charge-Pump Block Diagram
                                    Voltage Supervisors        set to flag the condition. The CPOUT monitor output
The MAX1358B provides voltage supervisors to monitor           can also be mapped to the interrupt generator and out-
DVDD and CPOUT. The first supervisor monitors the              put on INT. The CPOUT monitor can be used as a 3V
DVDD supply voltage. RESET asserts and sets the corre-         AVDD monitor in applications where the charge pump is
sponding LDVD status bit when DVDD falls below the             disabled and CPOUT is connected to AV DD . AV DD
1.8V threshold voltage. When the DVDD supply voltage           must be greater or equal to DVDD when CPOUT is used
rises above the threshold during power-up, RESET               to monitor AVDD. See Figure 8 for a block diagram of the
deasserts after a nominal 1.5s timeout period to give the      CPOUT voltage supervisor.
crystal oscillator time to stabilize. Set the threshold hys-
teresis using the HYSE bit of the PS_VMONS register.                                    Interrupt Generator (INT)
See the PS_VMONS Register section for configuring hys-         The interrupt generator provides an interrupt to an
teresis. There is no separate voltage monitor for AVDD,        external µC. The source of the interrupt is generated by
but the analog supply is covered by the DVDD monitor in        the status register and can be masked and unmasked
many applications where DVDD and AVDD are externally           through the IMSK register. CRDY is unmasked by
connected together. Multiple supply applications where         default, and INT is active-high at power-on reset. INT is
AVDD and DVDD are not connected together require a             programmable as active-high and active-low. Possible
separate external voltage monitor for AVDD. See Figure 7       sources include a rising or falling edge of UPIO_, an
for a block diagram of the DVDD voltage supervisor.            RTC alarm, an ADC conversion completion, or the volt-
                                                               age-supervisor outputs. The interrupt causes INT to
The second voltage monitor tracks the charge-pump              assert when configured as an interrupt output.
output voltage, CPOUT. If CPOUT falls below the 2.7V
threshold, a corresponding register status bit (LCPD) is
                       ______________________________________________________________________________________            29


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                 WDTO
                                 DVDD
                                                                                         HYSE POR
                                                                                                    RSTE                                        RESET
                                             1.8VTH                               LSDE
                                                       ANALOG
                                                       2:1 MUX                           CONTROL
                                              2.0VTH                              CMP
                                                                                          LOGIC
                                                                       1.25V
                                                                                                                                         LDVD
                               LSDE
                                                                                                           DVDD (1.8V) VOLTAGE MONITOR
           Figure 7. DVDD Voltage-Supervisor Block Diagram
                                                                                          as the C-002RX32-E from Epson Crystal. Using a crys-
                         CPOUT
                                                                                          tal with a CL that is larger than the load capacitance of
                                                                                          the oscillator circuit causes the oscillator to run faster
                                                           CPDE                           than the specified nominal frequency of the crystal or to
                                         2.7VTH                                           not start up. See Figures 9 and 10 for block diagrams
                                                                                          of the crystal oscillator and the CLK32K I/O.
                                                          CMP                  LCPD
                                              1.25V                                                                        Real-Time Clock (RTC)
                                                                                          The integrated RTC provides the current time information
                                                                                          from a 32-bit counter and subsecond counts from an
                        CPDE                                                              8-bit ripple counter. An internally generated reference
                                                                                          clock of 256Hz (derived from the 32.768kHz crystal) dri-
                                                                                          ves the 8-bit subsecond counter. An overflow of the 8-bit
                                                                                          subsecond counter inputs a 1Hz clock to increment the
                                        CPOUT (2.7V) VOLTAGE MONITOR                      32-bit second counter. The RTC 32-bit second counter is
                                                                                          translatable to calendar format with firmware. All 40 bits
           Figure 8. CPOUT Voltage-Supervisor Block Diagram                               (32-bit second counter and 8-bit subsecond counter)
                                                                                          must be clocked in or out for valid data. The RTC and
                                                         Crystal Oscillator               the 32.768kHz crystal oscillator consume less than 1µA
           The on-chip oscillator requires an external crystal (or                        when the rest of the device is powered down.
           resonator) connected between 32KIN and 32KOUT
           with a 32.768kHz operating frequency. This oscillator is                                                               Time-of-Day Alarm
           used for the RTC, alarm, PWM, watchdog, charge                                 Program the AL_DAY register with a 20-bit value, which
           pump, and FLL. In any crystal-based oscillator circuit,                        corresponds to a time 1s to 12 days later than the cur-
           the oscillator frequency is sensitive to the capacitive                        rent time with a 1s resolution. The alarm status bit, ALD,
           load (CL). CL is the capacitance that the crystal needs                        asserts when the 20 bits of the AL_DAY register match-
           from the oscillator circuit and not the capacitance of the                     es the 20 LSBs of the 32-bit second counter. The ADE
           crystal. The input capacitance across 32KIN and                                bit automatically clears when the time-of-day alarm
           32KOUT is 6pF. Choose a crystal with a 32.768kHz                               trips. The time-of-day alarm causes the device to exit
           oscillation frequency and a 6pF capacitive load such                           sleep mode.
           30   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                      Watchdog                 locked to the 32.768kHz reference. If the FLL is dis-
                                                                                                                                                          MAX1358B
Enable the watchdog timer by writing a 1 to the WDE                            abled, the high-frequency clock is free-running. At
bit in the CLK_CTRL register. After enabling the watch-                        power-up, the CLK pin defaults to a 2.4576MHz clock
dog timer, the device asserts RESET for 250ms, if the                          output, which is compatible with most µCs. See Figure
watchdog address register is not written every 500ms.                          12 for a block diagram of the high-frequency clock.
Due to the asynchronous nature of the watchdog timer,
the watchdog timeout period varies between 500ms                                                                 User-Programmable I/Os
and 750ms. Write a 0 to the WDE bit to disable the                             The MAX1358B provides four digital programmable
watchdog timer. See Figure 11 for a block diagram of                           I/Os (UPIO1–UPIO4). Configure UPIOs as logic inputs
the watchdog timer.                                                            or outputs using the UPIO control register. Configure
                                                                               the internal pullups using the UPIO setup register, if
                                High-Frequency Clock                           required. At power-up, the UPIOs are internally pulled
An internal oscillator and an FLL are used to generate a                       up to DVDD. UPIO_ outputs can be referenced to DVDD
4.9152MHz ±1% high-frequency clock. This clock and                             or CPOUT. See the UPIO__CTRL Register and
derivatives are used internally by the ADC, analog                             UPIO_SPI Register sections for more details on config-
switches, and PWM. This clock signal outputs to CLK.                           uring the UPIO_ pins.
When the FLL is enabled, the high- frequency clock is
                                    OSCE
                                                                                         32K
       32KOUT
                                                                                                         OSCE                          IO32E
                                                                                                        CK32E
                                    32kHz                                                                IO32E
                                                                32K
                                  OSCILLATOR
                                                                                                                                        0
                                                                                                                 IO32E                   2:1
                                                                                                                                                  M32K
        32KIN                                                                                                                           MUX
                                                                                CLK32K                                                  1
                                   32.768kHz OSCILLATOR
                                                                                                                             CLK32K I/O CONTROL
Figure 9. 32kHz Crystal-Oscillator Block Diagram                               Figure 10. CLK32K I/O Block Diagram
                   POR PULSES HIGH DURING POWER-UP.
                   WDW PULSES HIGH DURING WATCHDOG REGISTER WRITE.
                                                                                                                                    WDTO
                                                                                               D        Q
                                                                 D         Q
            32K                             DIVIDE-       4Hz                                  CK       Q
                                           BY-8192                CK       Q
                       WDE                                                                          R
                                                                       R
                                               POR
                                               WDW
                                                                                                            WATCHDOG TIMER
Figure 11. Watchdog Timer Block Diagram
                    ______________________________________________________________________________________                                           31


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                       32.768kHz                               CKSEL2
                                                                                                            CKSEL<1:0>
                                                                                   HFCE                                      CLKE
                                FLLE                                                           0
                                                                                                 2:1          1, 2, 4, 8
                                                FREQ                                            MUX           DIVIDER                           CLK
                M32K                                                TUNE<8:0>    DIGITALLY
                                   FREQUENCY   ERROR   FREQUENCY
                                    COMPARE                                     CONTROLLED     1
                                                       INTEGRATOR
                                                                                OSCILLATOR
                                                                                                             4.9152MHz
                                                                                                                                       HFCLK
                                                                                                                                       CRDY
                                                                                                   4.9152MHz HF OSCILLATOR AND FLL
           Figure 12. High-Frequency Clock and FLL Block Diagram
           Program each UPIO1–UPIO4 as one of the following:
           • General-purpose input
                                                                                                                PROGRAMMABLE CURRENT SOURCE
           • Power-mode control
           • Analog switch (SPST) and SPDT control input                                                                   CURRENT
                                                                                                        IVAL<1:0>
                                                                                                                            SOURCE
           • ADC data-ready output
           • General-purpose output
                                                                                                                              1:3
                                                                                                        IMUX<1:0>
           • PWM output                                                                                                     DEMUX
           • Alarm output                                                             AIN1                                                     AIN1
           • SPI pass-through
                                                                                      AIN2                                                     AIN2
                           Internal and External (Remote)
                                     Temperature Sensors
           An internal transistor or a remote transistor (or diode) is
           used with the ADC and a programmable current source                                                                                 TEMP+
           to measure the ambient temperature. Depending on the
           method, either two or four currents are passed through
           the PN junction. The voltage across the PN junction is
           measured at each current. For each current, the voltage                                                                             TEMP-
           across a series resistor is also measured. Measuring the
           voltage across the resistor allows the user to determine
           the precise current ratios. A microcontroller can then
           use the diode equation to calculate the temperature.
           The four-current method eliminates errors caused by
           parasitic resistance in series with the diode, which
           increases the apparent voltage across the PN junction.                                                   TEMP SENSOR
           When measuring temperature using the internal transis-
           tor for a sensor, the two-current method is usually ade-
           quate although the four-current method can also be                       Figure 13. Temperature-Sensor Measurement Block Diagram
           used. Refer to Application Note 4296: Measuring
           Temperature with the MAX1358 Data Acquisition System
           for details on the measurement procedure.
           32     ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
The temperature equations for the two-current and four-      q = electron charge = 1.60219 x 10-19 coulombs
                                                                                                                             MAX1358B
current methods are as follows:                              n = diode ideality = 1.000 (typ)
Two-current method:                                          k = Boltzmann's constant = 1.3807 x 10-23 Joules/Kelvin
           T = q(VBE2 - VBE1)/(n k ln(VR2/VR1))              I1 = Nominal current (4µA)
Four-current method:                                         I2 = Nominal current ng (60µA)
     T = q(VBE2 + VBE3 - VBE1 - VBE4)/(n k ln((VR2 x         I3 = Nominal current (64µA)
                      VR3)/(VR1 x VR4))
                                                             I4 = Nominal current (120µA)
where T is the temperature in degrees Kelvin, VBEX is
the base to emitter voltage at current X, VRX is the volt-   To convert the measured temperature in Kelvin to
age across the current-sensing resistor at current X, q      degrees Celsius, the following formula is used:
is the charge on an electron, k is Boltzmann’s constant,                         °C = K - 273.15
and n is the ideality factor for the diode. From a practi-   For the external temperature measurement, a transistor
cal standpoint, it is easiest to combine all the constants   such as the 2N3904 is recommended.
into one constant that also includes the voltage resolu-
tion of the ADC in unipolar mode. This requires intro-                          Voltage Reference and Buffer
ducing the term VREF, which is the reference voltage of      An internal 1.25V bandgap reference has a buffer with
the ADC. An N prefix on a term indicates that it is the      a selectable 1.0V/V, 1.638V/V, or 2.0V/V gain, result-
integer value read directly from the ADC.                    ing in nominally 1.25V, 2.048V, or 2.5V reference volt-
Two-current method:                                          age at REF. The ADC and DACs use this reference
                                                             voltage. The state of the internal voltage reference
    T = 0.1771 x VREF(NVBE2 - NVBE1)/ln(NVR2/NVR1)           output buffer at POR is disabled so it can be driven, at
Four-current method:                                         REF, with an external reference between AGND and
       T = 0.1771 x VREF((NVBE2 + NVBE3 - NVBE1 -            AVDD. The MAX1358B reference has an initial toler-
            NVBE4)/ln(NVR2 x NVR3/NVR1/NVR4)                 ance of ±1%. Program the reference buffer through
                                                             the serial interface. Bypass REF with a 4.7µF capaci-
The natural log function (ln) is eliminated from the cal-    tor to AGND.
culation by using an approximation. Due to the small
part-to-part variation in current ratios, this approxima-                            Uncommitted Operational
tion is extremely accurate.                                                              Amplifiers (Op Amps)
Two-current method without an ln function:                   The MAX1358B includes one op amp. The op amp fea-
                                                             tures rail-to-rail outputs, near rail-to-rail inputs, and has
       T = 0.1771 x VREF(NVBE2 – NVBE1)/(2.7081 +
                                                             an 80kHz (1nF load) input bandwidth. The DACA_OP
           2_(NVR2/NVR1 - 15)/(NVR2/NVR1 + 15)
                                                             (DACB_OP) register controls the power state of the op
Four-current method without an ln function:                  amps. When powered down, the outputs of the op
     T = 0.1771 x VREF(NVBE2 + NVBE3 - NVBE1 -               amps is high impedance.
   NVBE4)/(2.0794 + 2(NVR2 x NVR3/NVR1/NVR4 - 8)/
            (NVR2 x NVR3/NVR1/NVR4 + 8)
                   ______________________________________________________________________________________              33


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           Single-Pole/Double-Throw (SPDT) Switches                                                       Serial Interface
MAX1358B
           The MAX1358B provides two uncommitted SPDT switch-         The MAX1358B features a 4-wire serial interface con-
           es. Each switch has a typical 35Ω on-resistance. Control   sisting of a chip select (CS), serial clock (SCLK), data
           the switches through the SW_CTRL register, the PWM         in (DIN), and data out (DOUT). CS must be low to allow
           output, and/or a UPIO port configured to control the       data to be clocked into or out of the device. DOUT is
           switches (UPIO1–UPIO4_CTRL register).                      high impedance while CS is high. The data is clocked
                                                                      in at DIN on the rising edge of SCLK. Data is clocked
                            Pulse-Width Modulator (PWM)               out at DOUT on the falling edge of SCLK. The serial
           A single 8-bit PWM is available for various system tasks   interface is compatible with SPI modes CPOL = 0,
           such as LCD bias control, sensor bias voltage trim,        CPHA = 0 and CPOL = 1, CPHA = 1. A write operation
           buzzer drive, and duty-cycled sleep-mode power-con-        to the MAX1358B takes effect on the last rising edge of
           trol schemes. PWM input clock sources include the          SCLK. If CS goes high before the complete transfer, the
           4.9512MHz FLL output, the 32kHz clock, and frequen-        write is ignored. Every data transfer is initiated by the
           cy-divided versions of each. Although most µCs have        command byte. The command byte consists of a start
           built-in PWM functions, the MAX1358B PWM is more           bit (MSB), R/W bit, and 6 address bits. The start bit
           flexible by allowing the UPIO outputs to be driven to      must be 1 to perform data transfers to the device.
           DVDD or regulated CPOUT logic-high voltage levels.         Zeros clocked in are ignored. For SPI pass-through
           For duty-cycled power-control schemes, use the             mode, see the UPIO_SPI Register section. An address
           32kHz-derived input clock. The PWM output is avail-        byte identifies each register. Table 4 shows the com-
           able independent of µC power state. The FLL is typical-    plete register address map for this family of DAS.
           ly disabled in sleep-override mode.                        Figures 14, 15, and 16 provide timing diagrams for
                                                                      read and write commands.
           34   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                    MAX1358B
            CS
       SCLK
         DIN          X        1       0       A5   A4    A3        A2   A1          A0    DN   DN -1     DN-2    DN-3          D2     D1       D0      X
       DOUT
        X = DON’T CARE.
Figure 14. Serial-Interface Register Write with 8-Bit Control Word, Followed by a Variable Length Data Write
            CS
         SCLK
            DIN        X           1       1   A5   A4     A3       A2   A1          A0     X      X        X       X            X      X        X      X
        DOUT                                                                               DN     DN-1     DN-2    DN-3         D2      D1      D0
         X = DON’T CARE.
Figure 15. Serial-Interface Register Read with 8-Bit Control Word, Followed by a Variable Length Data Read
       CS
     SCLK
      DIN         1    0 A4 A3 A2 A1 A0 X D7 D6 D5 D4 D3 D2 D1 D0               1    1 A4 A3 A2 A1 A0 X
                                                                              ADC
                                                                              CONV                        D15D14 D13D12 D11D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    DOUT
                                                                                                                                             CHANGES
    DRDY
     X = DON’T CARE.
Figure 16. Performing an ADC Conversion (DRDY Function Can Be Accessed at UPIO Pins)
                           ______________________________________________________________________________________                                              35


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           Register Definitions
MAX1358B
           Table 4. Register Address Map
             REGISTER                 CTL             ADR<5:0>                    D<39:0>, D<23:0>, D<15:0> OR D<7:0>
                             START
               NAME                  (R/W)           (ADDRESS)                                  (DATA)
                                                                          ADCE STRT     BIP   POL CONT ADCREF GAIN<1:0>
                 ADC           1     R/W     0   0     0   0     0    X
                                                                              RATE<2:0>             MODE<2:0>          X X
              MUX              1     R/W     0   0     0   0     1    S         MUXP<3:0>                     MUXN<3:0>
              DATA             1      R      0   0     0   1     0    X                       ADC<15:0>
           OFFSET CAL          1     R/W     0   0     0   1     1    X                      OFFSET<23:0>
            GAIN CAL           1     R/W     0   0     1   0     0    X                       GAIN<23:0>
           RESERVED            1     R/W     0   0     1   0     1    X                   Reserved. Do not use.
                                                                          DAE     DBE    OP1E    X      X       X      DACA<9:8>
             DACA_OP           1     R/W     0   0     1   1     0    X
                                                                                                DACA<7:0>
                                                                          DAE     DBE   OP1E     X      X       X      DACB<9:8>
             DACB_OP           1     R/W     0   0     1   1     1    X
                                                                                                 DACB<7:0>
                REF_SDC        1     R/W     0   1     0   0     0    X    REFV<1:0>    AOFF    AON SDCE             TSEL<2:0>
                                                                                                ASEC<19:4>
                AL_DAY         1     R/W     0   1     0   0     1    X
                                                                                 ASEC<3:0>               X         X       X    X
            RESERVED           1     R/W     0   1     0   1     0    X                     Reserved. Do not use.
                                                                          AWE    ADE      X     RWE RTCE        OSCE     FLLE HFCE
             CLK_CTRL          1     R/W     0   1     0   1     1    X
                                                                              CKSEL<2:0>       IO32E CK32E       CLKE    INTP WDE
                                                                                                 SEC<31:0>
                 RTC           1     R/W     0   1     1   0     0    X
                                                                                                  SUB<7:0>
                                                                         PWME        FSEL<2:0>         SWAH      SWAL SWBH SWBL
            PWM_CTRL           1     R/W     0   1     1   0     1    X
                                                                          SPD1 SPD2       X       X      X         X       X   X
                                                                                               PWMTH<7:0>
            PWM_THTP           1     R/W     0   1     1   1     0    X
                                                                                                PWMTP<7:0>
           WATCHDOG            1      W      0   1     1   1     1    X     X      X      X       X      X         X       X    X
            NORM_MD            1      W      1   0     0   0     0    X     X      X      X       X      X         X       X    X
             SLEEP             1      W      1   0     0   0     1    X     X      X      X       X      X         X       X    X
           SLEEP_CFG           1     R/W     1   0     0   1     0   SLP SOSCE SCK32E SPWME SHDN         X         X       X   X
           UPIO4_CTRL          1     R/W     1   0     0   1     1    X         UP4MD<3:0>             PUP4       SV4    ALH4 LL4
           UPIO3_CTRL          1     R/W     1   0     1   0     0    X         UP3MD<3:0>             PUP3       SV3    ALH3 LL3
           UPIO2_CTRL          1     R/W     1   0     1   0     1    X         UP2MD<3:0>             PUP2       SV2    ALH2 LL2
           UPIO1_CTRL          1     R/W     1   0     1   1     0    X         UP1MD<3:0>             PUP1       SV1    ALH1 LL1
            UPIO_SPI           1     R/W     1   0     1   1     1    X   UP4S UP3S UP2S UP1S            X         X       X    X
            SW_CTRL            1     R/W     1   1     0   0     0    X   SWA    SWB SPDT1<1:0>          SPDT2<1:0>        X   X
           TEMP_CTRL           1     R/W     1   1     0   0     1    X    IMUX<1:0>     IVAL<1:0>       X         X       X    X
           RESERVED            1      R      1   1     0   1     0    X                     Reserved. Do not use.
                                                                         MLDVD MLCPD MADO MSDC MCRDY MADD MALD X
                 IMSK          1     R/W     1   1     0   1     1    X
                                                                                 MUPR<4:1>                      MUPF<4:1>
            RESERVED           1     R/W     1   1     1   0     0    X                     Reserved. Do not use.
            PS_VMONS           1     R/W     1   1     1   0     1    X   LDOE    CPE LSDE CPDE HYSE              RSTE     X   X
            RESERVED           1     R/W     1   1     1   1     0    X                     Reserved. Do not use.
                                                                          LDVD LCPD ADOU SDC CRDY                 ADD     ALD  X
                STATUS         1      R      1   1     1   1     1    X
                                                                                  UPR<4:1>                        UPF<4:1>
           X = Don’t care.
           36    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
Register Bit Descriptions
                                                                                                                                       MAX1358B
ADC Register (Power-On State: 0000 0000 0000 00XX)
      MSB                                                                                                              LSB
      ADCE              STRT               BIP                 POL                 CONT          ADCREF           GAIN<1:0>
                     RATE<2:0>                                                MODE<2:0>                           X           X
The ADC register configures the ADC and starts                       CONT: Continuous conversion bit. CONT = 1 enables
a conversion.                                                        continuous conversions following completion of the first
ADCE: ADC power-enable bit. ADCE = 1 powers up                       conversion or calibration(s) initiated by the STRT or S
the ADC, and ADCE = 0 powers down the ADC.                           bit. Set CONT = 0 while asserting the STRT bit, or prior
                                                                     to asserting the S bit to perform a single conversion or to
STRT: ADC start bit. STRT = 1 resets the registers                   prevent conversions following a calibration. Set
inside the ADC filter and initiates a conversion or cali-            CONT = 0 to abort continuous conversions already in
bration. The conversion begins immediately after the                 progress. When the ADC is stopped in this way, the last
16th ADC control bit is clocked by the rising edge of                complete conversion result remains in the DATA register
SCLK. The initial conversion requires four conversion                and the internal ADC state information is lost. Asserting
cycles for valid output data. If CONT = 0 when STRT is               the CONT bit does not restart the ADC, but results in
asserted, the ADC stops after a single conversion and                continuous conversions once the ADC is restarted with
holds the result in the DATA register. If CONT = 1 when              the STRT or S bit.
STRT is asserted, the ADC performs continuous conver-
sions at the rate specified by the RATE<2:0> bits until              ADCREF: ADC reference source bit. Set ADCREF = 0
CONT is deasserted or ADCE is deasserted, powering                   to select REF as the ADC reference. Set ADCREF = 1
down the ADC. The STRT bit is automatically deasserted               to select AVDD as the ADC reference. To measure the
after the initial conversion is complete (four conversion            AVDD voltage without having to attenuate the supply
cycles; the ADC status bit ADD in the STATUS register                voltage, select REF and AGND as the differential inputs
asserts). The current ADC configurations are not affect-             to the ADC, with POL = 0 and while ADCREF = 1.
ed if the ADC register is written with STRT = 0. This                GAIN<1:0>: ADC gain-setting bits. These two bits
allows the ADC and mux configurations to be updated                  select the gain of the ADC as shown in Table 5.
simultaneously with the S bit in the MUX register.
BIP: Unipolar/bipolar bit. Set BIP = 0 for unipolar mode             Table 5. Setting the Gain of the ADC
and BIP = 1 for bipolar mode. Unipolar-mode data is                   GAIN SETTING (V/V)         GAIN1                GAIN0
unsigned binary format and bipolar is two’s complement.
                                                                               1                    0                   0
See the ADC Transfer Functions section for more details.
                                                                               2                    0                   1
POL: Polarity flipper bit. POL = 1 flips the polarity of the
differential signal to the ADC and the input to the signal-                    4                    1                   0
detect comparator (SDC). POL = 0 sets the positive mux                         8                    1                   1
output to the positive ADC and SDC inputs, and the neg-
ative mux output to the negative ADC and SDC inputs.
POL = 1 sets the positive mux output to the negative
ADC and SDC inputs, and the negative mux output to
the positive ADC and SDC inputs.
                   ______________________________________________________________________________________                         37


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                          RATE<2:0>: ADC conversion-rate-setting bits. These
MAX1358B
           Table 6a. Setting the ADC Conversion Rate*
                                                                          three bits set the conversion rate of the ADC as shown
           CONTINUOUS           SINGLE                                    in Table 6. The initial conversion requires four conver-
           CONVERSION         CONVERSION       RATE2   RATE1     RATE0    sion cycles for valid data, and subsequent conversions
            RATE (sps)         RATE (sps)                                 require only one cycle (if CONT = 1). A full-scale input
                  10              2.5            0       0            0   change can require up to five cycles for valid data if
                  40              10             0       0            1   the digital filter is not reset with the STRT or S bit.
                  50             12.5            0       1            0   MODE<2:0>: Conversion-mode bits. These three bits
                                                                          determine the type of conversion for the ADC as shown
                  60              15             0       1            1
                                                                          in Table 7. When the ADC finishes an offset calibration
                  200             50             1       0            0   and/or gain calibration, the MODE<2:0> bits clear to 0
                  240             60             1       0            1   hex, the ADD bit in the STATUS register asserts, and
                  400             100            1       1            0   an interrupt asserts on INT (or UPIO_ if programmed as
                                                                          DRDY) if MADD is unmasked. Perform a gain calibra-
                  477             128            1       1            1
                                                                          tion after achieving the desired offset (calibrated or
                                                                          not). If an offset and gain calibration are performed
           Table 6b. Actual ADC Conversion Rates                          together (MODE<2:0> = 7 hex), the offset calibration is
                                                                          performed first followed by the gain calibration, and the
                  NOMINAL                                 ACTUAL          µC is interrupted by INT (or UPIO_ if programmed as
                CONTINUOUS         DECIMATION           CONTINUOUS        DRDY) if MADD is unmasked only upon completion of
                CONVERSION           RATIO              CONVERSION        both offset and gain calibration. After power-on or cali-
                 RATE (sps)                              RATE (sps)       bration, the ADC does not begin conversions until initi-
                    10                  1096                 10.01
                                                                          ated by the user (see the ADCE and STRT bit
                                                                          descriptions in this section and see the S bit descrip-
                    40                  274                  40.04        tions in the MUX Register section). See the GAIN CAL
                    50                  220                  49.87        Register and OFFSET CAL Register sections for details
                    60                  183                  59.95        on system calibration.
                    200                 55                   199.48
                                                                          Table 7. Setting the ADC Conversion Mode
                    240                 46                   238.51
                    400                 27                   406.35           CONVERSION MODE          MODE2     MODE1    MODE0
                    477                 23                   477.02       Normal                          0         0        0
                                                                          System Offset Calibration       0         0        1
           *Calculate the ADC sampling rate using the following
           equation:                                                      System Gain Calibration         0         1        0
                                                                          Normal                          0         1        1
                                      fHFCLK
                          fS =                                            Normal                          1         0        0
                               448 × decimation ratio                     Self-Offset Calibration         1         0        1
           where fHFCLK = 4.9152MHz nominally.                            Self-Gain Calibration           1         1        0
                                                                          Self-Offset and Gain
                                                                                                          1         1        1
                                                                          Calibration
           38    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
MUX Register (Power-On State: 0000 0000)
                                                                                                                          MAX1358B
                  MSB                                                                                         LSB
  S (ADR0)        MUXP3      MUXP2           MUXP1       MUXP0      MUXN3        MUXN2           MUXN1       MUXN0
The MUX register configures the positive and negative        specified by the RATE<2:0> bits until CONT deasserts
mux inputs and can start an ADC conversion.                  or ADCE deasserts, powering down the ADC. When a
S (ADR0): Conversion start bit. The S bit is the LSB of      conversion initiates using the S bit, the STRT bit asserts
the MUX register address byte. S = 1 resets the regis-       and deasserts automatically after the initial conversion
ters inside the ADC filter and initiates a conversion or     completes. Writing to the MUX register with S = 0 caus-
calibration. The conversion begins immediately after         es the MUX settings to change immediately and the
the eighth MUX register data bit, when S = 1 and when        ADC continues in its prior state with its settings unaf-
writing to the MUX register. This allows the new MUX         fected. When the ADC is powered down, MUX inputs
and ADC register settings to take effect simultaneously      are open.
for a new conversion, if STRT = 0 during the last write      MUXP<3:0>: MUX positive input bits. These four bits
to the ADC register. If the S bit is asserted and the        select one of 10 inputs from the positive MUX to go to the
command is a read from the MUX register, the conver-         positive output of the MUX as shown in Table 8. Any
sion starts immediately after the S bit (ADR0) is clocked    writes to the MUX register take effect immediately once
in by the rising edge of SCLK.                               the LSB (MUXN0) is clocked by the rising edge of SCLK.
Read the MUX register with S = 1 for the fastest method      MUXN<3:0> MUX negative input bits. These four bits
of initiating a conversion because only 8 bits are           select one of 10 inputs from the negative MUX to go to
required. The subsequent MUX register read is valid,         the negative output of the MUX as shown in Table 9. Any
but can be aborted by raising CS with no harmful side        writes to the MUX register take effect immediately once
effects. The initial conversion requires four conversion     the LSB (MUXN0) is clocked by the rising edge of SCLK.
cycles for valid output data. If CONT = 0 and S = 1, the     The DATA register contains the data from the most
ADC stops after a single conversion and holds the            recently completed conversion.
result in the DATA register. If CONT = 1 and S = 1, the
ADC performs continuous conversions at the rate              The OFFSET CAL register contains the 24-bit data of
                                                             the most recently completed offset calibration.
Table 8. Selecting the Positive MUX Inputs                   Table 9. Selecting the Negative MUX Inputs
POSITIVE MUX                                                     NEGATIVE
                  MUXP3    MUXP2      MUXP1      MUXP0                         MUXN3      MUXN2     MUXN1     MUXN0
   INPUT                                                         MUX INPUT
      AIN1          0         0          0           0            TEMP-           0          0           0       0
     SNO1           0         0          0           1             SNO2           0          0           0       1
      FBA           0         0          1           0            OUTA            0          0           1       0
     SCM1           0         0          1           1            SCM2            0          0           1       1
      FBB           0         1          0           0            OUTB            0          1           0       0
     SNC1           0         1          0           1             SNC2           0          1           0       1
      IN1-          0         1          1           0             OUT1           0          1           1       0
    TEMP+           0         1          1           1             AIN2           0          1           1       1
      REF           1         0          0           0             REF            1          0           0       0
     AGND           1         0          0           1            AGND            1          0           0       1
                    1         0          1           X                            1          0           1       X
     Open                                                          Open
                    1         1          X           X                            1          1           X       X
X = Don’t care.                                              X = Don’t care.
                   ______________________________________________________________________________________            39


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           DATA Register (Power-On State: 0000 0000 0000 0000)
MAX1358B
                  MSB
                 ADC15         ADC14          ADC13           ADC12        ADC11          ADC10          ADC9           ADC8
                                                                                                                        LSB
                 ADC7          ADC6            ADC5            ADC4         ADC3          ADC2           ADC1           ADC0
           ADC<15:0> Analog-to-digital conversion data bits.              binary for unipolar mode, and two’s complement for
           These 16 bits are the results from the most recently           bipolar mode.
           completed conversion. The data format is unsigned,
           OFFSET CAL Register (Power-On State: 0000 0000 0000 0000 0000 0000)
                  MSB
                OFFSET23     OFFSET22        OFFSET21       OFFSET20      OFFSET19      OFFSET18       OFFSET17       OFFSET16
                OFFSET15     OFFSET14        OFFSET13       OFFSET12      OFFSET11      OFFSET10        OFFSET9       OFFSET8
                                                                                                                        LSB
                OFFSET7       OFFSET6        OFFSET5         OFFSET4      OFFSET3        OFFSET2        OFFSET1       OFFSET0
           OFFSET<23:0>: Offset-calibration bits. The data format         ibration for the entire signal path. See the ADC
           is two’s complement and is subtracted from the ADC             Calibration section for more details.
           output before being written to the DATA register. The          The ADC input voltage range specifications must
           offset calibration allows input offset errors between          always be obeyed, and the OFFSET CAL register effec-
           VREF ±50% to be corrected in unipolar or bipolar mode.         tively offsets the ADC digital scale to a “zero” value
           The MAX1358B can perform system offset calibration             determined by the calibration.
           or self-offset calibration. Self-calibration performs a cal-
           GAIN CAL Register (Power-On State: 1000 0000 0000 0000 0000 0000)
                  MSB
                GAIN23        GAIN22          GAIN21          GAIN20       GAIN19         GAIN18        GAIN17         GAIN16
                GAIN15        GAIN14          GAIN13          GAIN12       GAIN11         GAIN10         GAIN9         GAIN8
                                                                                                                        LSB
                 GAIN7         GAIN6           GAIN5          GAIN4        GAIN3          GAIN2          GAIN1         GAIN0
           GAIN<23:0>: Gain-calibration bits. The data format is          tion for offsets in the ADC, and system calibration per-
           unsigned binary with 23 bits to the right of the decimal       forms a calibration for the entire signal path. See the
           point and scales the ADC output before being written to        ADC Calibration section for more details.
           the DATA register. The gain calibration allows full-scale      The ADC input voltage range specifications must always
           errors between -VREF/2 and +VREF/2 to be corrected in          be obeyed, and the GAIN CAL register effectively scales
           unipolar mode and full-scale errors between (+50% x            the ADC digital output to a full-scale value determined
           VREF) and (+200% x VREF) in unipolar or bipolar mode.          by the calibration. The usable gain-calibration range is
           The MAX1358B can perform system gain calibration or            limited to less than the full GAIN CAL register digital-
           self-gain calibration. Self-calibration performs a calibra-    scaling range by the internal noise of the ADC.
           40    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
DACA_OP Register (Power-On State: 000X XX00 0000 0000)
                                                                                                                     MAX1358B
    MSB
    DAE           DBE            OP1E            X            X             X           DACA9         DACA8
                                                                                                        LSB
   DACA7         DACA6          DACA5         DACA4        DACA3         DACA2          DACA1         DACA0
Writing to the DACA_OP output register updates DACA        DAE: DACA enable bit. Set DAE = 1 to power up the
on the rising SCLK edge of the LSB data bit. The output    DACA and the DACA output buffer in the MAX1358B.
voltage can be calculated as follows:                      DBE: DACB enable bit. Set DBE = 1 to power up the
                 VOUTA = VREF x N/210                      DACB and the DACB output buffer in the MAX1358B.
where VREF is the reference voltage for the DAC, and N     This bit is mirrored in the DACB_OP register.
is the integer value of the DACA<9:0> output register.     OP1E: OP1 power-enable bit. Set OP1E = 1 to power
The output buffer is in unity gain. The DACA data is 10    up OP1 in the MAX1358B. This bit is mirrored in the
bits long and right justified.                             DACB_OP register.
                                                           DACA<9:0>: DACA data bits.
DACB_OP Register (Power-On State: 000X XX00 0000 0000)
   MSB
   DAE            DBE           OP1E             X           X             X              X             X
                                                                                                       LSB
     X             X              X              X           X             X              X             X
Writing to the DACB_OP output register updates DACB        DAE: DACA enable bit. Set DAE = 1 to power up
on the rising SCLK edge of the LSB. The output voltage     DACA and the DACA output buffer in the MAX1358B.
can be calculated as follows:                              This bit is mirrored in the DACA_OP register.
                  VOUTB = VREF x N/210                     DBE: DACB enable bit. Set DBE = 1 to power up DACB
where VREF is the reference voltage for the DAC, and N     and the DACB output buffer in the MAX1358B. This bit is
is the integer value of DACB<9:0> output register. The     mirrored in the DACA_OP register.
output buffer is in unity gain. The DACB data is 10 bits   OP1E: OP1 power-enable bit. Set OP1E = 1 to power
long and right justified.                                  up OP1 in the MAX1358B. This bit is mirrored in the
                                                           DACA_OP register.
                                                           DACB<9:0>: DACB data bits.
                  ______________________________________________________________________________________       41


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           REF_SDC Register (Power-On State: 0000 0000)
MAX1358B
                MSB                                                                                                 LSB
                REFV1         REFV0          AOFF           AON         SDCE            TSEL2           TSEL1       TSEL0
           The REF_SDC register contains bits to control the refer-   AON: ADC and DAC/op-amp power-on bit. This bit pro-
           ence voltage and signal-detect comparator.                 vides a method of turning on several analog functions
           REFV<1:0>: Reference buffer voltage gain and enable        with a single write. Setting AON = 1 asserts the ADCE
           bits. Enables the output buffer, and sets the gain and     bit in the ADC register and DAE, DBE, and OP1E bits in
           the voltage at the REF pin as shown in Table 10. Power-    the DACA_OP and DACB_OP register, powering up
           on state is off to enable an external reference to drive   these blocks. Setting AON = 0 has no effect. The AON
           the REF pin without contention.                            bit has priority when both AON and AOFF bits are
                                                                      asserted.
           AOFF: ADC and DAC/op-amp power-off bit. This bit pro-
           vides a method for turning off several analog functions    Most of the analog functions can be enabled with a sin-
           with a single write. Setting AOFF = 1 deasserts the        gle write to the REF_SDC register using AON,
           ADCE in the ADC register and the DAE, DBE, and OP1E        REFV<1:0>, and SDCE.
           bits in the DACA_OP and DACB_OP registers, powering        SDCE: Signal-detect comparator power-enable bit. Set
           down these analog blocks. Setting AOFF = 0 has no          SDCE = 1 to power up the signal-detect comparator,
           effect. The AON bit has priority when both AON and         and set SDCE = 0 to power down the signal-detect
           AOFF bits are asserted.                                    comparator. The ADCE bit in the ADC register must be
           Most of the analog functions can be disabled with a        set to 1 to use the signal-detect comparator.
           single write to the REF_SDC register by using AOFF,        TSEL<2:0>: Threshold-select bits. These bits select the
           REFV<1:0>, and SDCE.                                       threshold for the signal-detect comparator as shown in
                                                                      Table 11.
           Table 10. Setting the Reference Output                     Table 11. Setting the Signal-Detect
           Voltage                                                    Comparator Threshold
             REFERENCE                                                    NOMINAL
                              REF OUTPUT                                                        TSEL2      TSEL1     TSEL0
             BUFFER GAIN                       REFV1      REFV0        THRESHOLD (mV)
                              VOLTAGE (V)
                (V/V)                                                           0                 0             X      X
                                Off (High                                      50                 1             0      0
                Disabled       Impedance          0          0                 100                1             0      1
                                 at REF)                                       150                1             1      0
                  1.0             1.25            0          1                 200                1             1      1
                 1.638            2.048           1          0        X = Don’t care.
                  2.0              2.5            1          1
           42   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
AL_DAY Register (Power-On State: 0000 0000 0000 0000 0000 XXXX)
                                                                                                                         MAX1358B
     MSB
   ASEC19         ASEC18         ASEC17         ASEC16       ASEC15         ASEC14         ASEC13         ASEC12
   ASEC11         ASEC10          ASEC9          ASEC8       ASEC7           ASEC6          ASEC5          ASEC4
                                                                                                            LSB
    ASEC3          ASEC2          ASEC1          ASEC0          X              X              X              X
The AL_DAY register stores the second information of        existing value remains. When the lower 20 bits in the RTC
the time-of-day alarm.                                      second counter match the contents of this register, the
ASEC<19:0>: Alarm-second bits. These 20 bits store          alarm triggers and asserts ALD in the STATUS register. It
the time-of-day alarm, which corresponds to the lower       also asserts an interrupt on the INT pin unless masked by
20 bits of the RTC second counter or SEC<19:0>.             the MALD bit in the IMSK register. The part enters normal
Program the time-of-day alarm trigger between 1s to         mode if an alarm triggers while in sleep mode. The time-
just over 12 days beyond the current RTC second             of-day alarm is intended to trigger single events.
counter value in increments of 1s.                          Therefore, once it triggers, in the CLK_CTRL register, the
                                                            ADE bit is automatically cleared, disabling the time-of-
Assert the AWE bit in the CLK_CTRL register (see the        day alarm. Implement a recurring alarm with repeated
CLK_CTRL Register section) to enable writing to the         software writes over the serial interface each time the
AL_DAY register. Enabling the time-of-day alarm requires    time-of-day alarm triggers. The time-of-day alarm can
two writes to the CLK_CTRL register. Write the 20 alarm-    also be programmed to output at the UPIO pins.
second bits in 3 bytes, MSB first. If CS is raised before
the LSB is written, the alarm write is aborted, and the     When configured this way the MALD bit does not mask
                                                            the UPIO alarm output.
                  ______________________________________________________________________________________           43


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           CLK_CTRL Register (Power-On State: 00X0 1111 0010 1110)
MAX1358B
                 MSB
                 AWE           ADE              X            RWE          RTCE           OSCE           FLLE           HFCE
                                                                                                                       LSB
                CKSEL2        CKSEL1         CKSEL0          IO32E       CK32E           CLKE           INTP           WDE
           The CLK_CTR register contains the control bits for the       therefore, a second write to this register is required to
           RTC alarms and clocks.                                       change the value of the RTCE bit. The power-on default
           AWE: Alarm write-enable bit. Set AWE = 1 to write data       state is 0.
           to the AL_DAY register as well as the ADE bit in this        RTCE: Real-time-clock enable bit. Set RTCE = 1 to
           register. When AWE = 0, all writes are prevented to the      enable the RTC, and set RTCE = 0 to disable the RTC.
           AL_DAY register and the ADE bit in this register. A sec-     The RTC has a 32-bit second and an 8-bit subsecond
           ond write to this register is required to change the value   counter. The power-on default state is 1.
           of the ADE bit. The power-on default state is 0.             OSCE: 32kHz crystal-oscillator enable bit. Set OSCE =
           ADE: Alarm (time-of-day) enable bit. Set ADE = 1 to          1 to power up the 32kHz oscillator, and set OSCE = 0
           enable the time-of-day alarm, and set ADE = 0 to dis-        to power down the oscillator. The power-on default
           able the time-of-day alarm. When enabled, the ALD bit        state is 1.
           in the STATUS register asserts when the RTC second           FLLE: Frequency-locked-loop enable bit. Set FLLE = 1
           counter time matches AL_DAY register. The device             to enable the FLL, and set FLLE = 0 to disable the FLL.
           wakes up from sleep to normal mode if not already            If HFCE = 1 and FLLE = 0, the internal high-frequency
           awake. The ADE bit can only be written if the AWE = 1        oscillator is enabled, but it is not frequency-locked to
           from a previous write. The power-on default state is 0.      the 32kHz clock. When FLLE is asserted, it typically
           RWE: RTC write-enable bit. Set RWE = 1 prior to writing      takes 3.5ms for the high-frequency clock to settle to
           to the RTC register and the RTCE bit in this register. If    within 1% of the 32kHz reference clock frequency.
           RWE = 0, all writes are prevented to the RTC register        Switching the FLL on or off with this bit does not cause
           as well as the RTCE bit in this register. The RWE signal     high-frequency clock glitching. The power-on default
           takes effect after the rising edge of the 16th clock;        state is 1.
           44   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
HFCE: High-frequency-clock enable bit. Set HFCE = 1        power in cases where the high-frequency clock is used
                                                                                                                            MAX1358B
to enable the internal high-frequency clock source, and    internally but is not needed externally. If HFCE = 0, or if
set HFCE = 0 to disable the high-frequency clock           CLKE = 0, CLK remains low. The power-on default
source.                                                    state is 1.
If HFCE = 1 and CLKE = 1, the internal high-frequency      INTP: Interrupt pin polarity bit. Set INTP = 1 to make
oscillator is enabled and is present at CLK. The power-    INT an active-high output when asserted, and set INTP
on default state is 1.                                     = 0 to make INT an active-low output when asserted.
CKSEL<2:0>: Clock selection bits. These bits select        The power-on default state is 1.
the FLL-based output clock frequency at the high-fre-      WDE: Watchdog-enable bit. Set WDE = 1 to enable the
quency CLK pin as shown in Table 12. The power-on          watchdog timer, which asserts RESET low within 500ms
default state is 001.                                      if the WATCHDOG register is not written. Set WDE = 0
IO32E: Input/output 32kHz clock select bit. Set IO32E      to disable the watchdog timer. The power-on default
= 0 to configure the CLK32K pin as an output, and set      state is 0.
IO32E = 1 to configure the CLK32K pin as an input,
regardless of the signal on the 32KIN pin as shown in       Table 12. Setting the CLK Frequency
Table 13.
                                                            CLOCK FREQUENCY
External clock frequencies applied to CLK32K are                                   CKSEL2       CKSEL1       CKSEL0
                                                                  (kHz)
clock sources to the FLL, charge pump, and the signal-
detect comparator. The default power-on state is 0.                4915.2              0           0               0
CK32E: CLK32K output-buffer enable bit. Set CK32E =                2457.6              0           0               1
1 to enable the CLK32K output buffer as long as OSCE               1228.8              0           1               0
= 1 and IO32E = 0; otherwise, the CK32E bit is not                  614.4              0           1               1
asserted. Set CK32E = 0 to disable the CLK32K output
                                                                   32.768              1           0               0
buffer. The power-on default state is 1.
                                                                   16.384              1           0               1
CLKE: CLK output-buffer enable bit. Set CLKE = 1 to
                                                                    8.192              1           1               0
enable the CLK output buffer. Set CLKE = 0 to disable
the buffer. Disabling the buffer is useful for saving               4.096              1           1               1
Table 13. Configuring the CLK32K as an Input or Output
                                                    RTC, PWM, WDT       FLL, C/P, SDC INPUT
 CLK32K     CLK32K     IO32E     32KIN, 32KOUT                                                 ADC CLOCK SOURCE
                                                    CLOCK SOURCE              SOURCE
  Output       1         0       XTAL attached            XTAL                  XTAL                   FLL/HFCLK
   Input       0         1       XTAL attached            XTAL                CLK32K                   FLL/HFCLK
                   ______________________________________________________________________________________              45


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           RTC Register (Power-On State: 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000)
MAX1358B
                MSB
                SEC31          SEC30          SEC29          SEC28        SEC27           SEC26          SEC25          SEC24
                SEC23          SEC22          SEC21          SEC20        SEC19           SEC18          SEC17          SEC16
                SEC15          SEC14          SEC13          SEC12        SEC11           SEC10          SEC9            SEC8
                SEC7           SEC6            SEC5           SEC4         SEC3           SEC2           SEC1            SEC0
                                                                                                                         LSB
                SUB7           SUB6            SUB5           SUB4         SUB3           SUB2           SUB1           SUB0
           The RTC register stores the 40-bit second and subsec-         of the RTC register in less than 1ms. The power-on
           ond count of the respective time-of-day and system            default state is 0000 0000 hex.
           clocks.                                                       SUB<7:0>: The subsecond bits store the system clock.
           SEC<31:0>: The second bits store the time-of-day              This 8-bit binary counter has 3.9ms resolution (1/256Hz)
           clock settings. It is a 32-bit binary counter with 1s reso-   and a span of 1s. The subsecond counter increments in
           lution that can keep time for a span of over 136 years.       single counts from 00 hex to FF hex before rolling over
           Firmware in the µC can translate this time count to units     again to 00 hex, at which time the RTC second counter
           that are meaningful to the system (i.e., translate to cal-    (SEC<31:0>) increments. The RTC runs continuously
           endar time or as an elapsed time from some predefined         (as long as RTCE = 1) and does not stop for reads or
           time = 0, such as January 1, 2000). The RTC runs con-         writes. A 256Hz clock, derived from the 32kHz crystal,
           tinuously as long as RTCE = 1 (see the CLK_CNTL               increments this counter. Set the RWE = 1 bit to enable
           Register section) and does not stop for reads or writes.      writing to the RTC register. After writing to RWE, perform
           The counter increments when the subsecond counter             another write, setting RTCE = 1, to enable the RTC. A
           overflows. Set RWE = 1 to enable writing to the RTC           40-bit burst write operation, starting with SEC31 and fin-
           register. After writing to RWE, perform another write         ishing with SUB0, is required to set the RTC second and
           and set RTCE = 1 to enable the RTC. A 40-bit burst            subsecond bits. If CS is brought high before the 40th
           write operation, starting with SEC31 and finishing with       rising SCLK edge, the write is aborted and the RTC con-
           SUB0 is required to set the RTC second and subsec-            tents are unchanged. The RTC register is loaded on the
           ond bits. If CS is brought high before the 40th rising        rising SCLK edge of the 40th bit (SUB0). A 40-bit burst
           SCLK edge, the write is aborted and the RTC contents          read operation, starting with SEC31 and finishing with
           are unchanged. The RTC register is loaded on the ris-         SUB0, is required to retrieve the current RTC second
           ing SCLK edge of the 40th bit (SUB0). A 40-bit burst          and subsecond counts. The read command can be
           read operation, starting with SEC31 and finishing with        aborted prior to receiving the 40th bit (SUB0) by raising
           SUB0, is required to retrieve the current RTC second          CS, and any RTC data read to that point is valid. When
           and subsecond counts. The read command can be                 the read command is received, a snapshot of a valid
           aborted prior to receiving the 40th bit (SUB0) by raising     RTC second count is latched to avoid reading an erro-
           CS and any RTC data read to that point is valid. When         neous, transitioning RTC value. Due to the asynchro-
           the read command is received, a snapshot of a valid           nous nature of RTC reads, it is possible to have a
           RTC second count is latched to avoid reading an erro-         maximum 1s error between the actual and reported
           neous, transitioning RTC value. Due to the asynchro-          times from the time-of-day clock. To prevent the data
           nous nature of RTC reads, it is possible to have a            from changing during a read operation, complete reads
           maximum 1s error between the actual and reported              of the RTC registers occur in less than 1ms. The power-
           times from the time-of-day clock. To prevent the data         on default state is 00 hex.
           from changing during a read operation, complete reads
           46   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
PWM_CTRL Register (Power-On State: 0000 0000 00XX XXXX)
                                                                                                                                MAX1358B
     MSB
    PWME              FSEL2            FSEL1             FSEL0        SWAH           SWAL           SWBH           SWBL
                                                                                                                   LSB
     SPD1             SPD2                X                X             X             X              X              X
The PWM_CTRL register contains control bits for the                  SWAH: SWA-switch PWM-high control bit. Set SWAH =
8-bit PWM.                                                           1 to enable the PWM output to directly control the SWA
PWME: PWM-enable bit. Set PWME = 1 to enable the                     switch. When SWAH = SWAL, the PWM output is dis-
internal PWM, and set PWME = 0 to disable the internal               abled from controlling the SWA switch. When SWAH =
PWM. Enable the high-frequency clock before enabling                 1, a PWM high output closes the SWA switch and a
the PWM when using input clock frequencies above                     PWM low output opens the SWA switch. The PWM high
32.768kHz. The power-on default state is 0.                          output refers to the beginning of the period when the
                                                                     output is logic-high. See Table 17 for more details. The
FSEL<2:0>: Frequency selection bits. Selects the PWM                 power-on default is 0.
input clock frequency as shown in Table 14. The
power-on default is 000.                                             SWAL: SWA-switch PWM-low control bit. Set SWAL = 1
                                                                     to enable the inverted PWM output to directly control
                                                                     the SWA switch. When SWAH = SWAL, the PWM output
Table 14. Setting the PWM Frequency                                  is disabled from controlling the SWA switch. When
                                                                     SWAL = 1, a PWM low output closes the SWA switch
 PWM INPUT FREQUENCY*
                                   FSEL2     FSEL1      FSEL0        and a PWM high output opens the SWA switch. The
             (kHz)
                                                                     PWM low output refers to the end of the period when
           4915.2**                  0          0           0        the output is logic-low. See Table 17 for more details.
           2457.6**                  0          0           1        The power-on default is 0.
           1228.8**                  0          1           0
                                                                     SPD1: SPDT1-switch PWM drive control bit. Set SPD1
            32.768                   0          1           1        = 1 to enable the PWM output to directly control the
             8.192                   1          0           0        SPDT1 switch, and set SPD1 = 0 to disable the PWM
             1.024                   1          0           1        output controlling the SPDT1 switch. The SPDT1<1:0>
             0.256                   1          1           0        bits, the UPIO pins (if programmed), and the PWM out-
             0.032                   1          1           1        put (if enabled), determine the SPDT1-switch state. See
*The lower PWM frequencies are useful for power-supply duty          Table 18 for more details. The power-on default is 0.
cycling to conserve battery life and enable a single-battery cell-   SPD2: SPDT2-switch PWM drive control bit. Set SPD2
powered system. The higher frequencies allow reasonably small,       = 1 to enable the PWM output to directly control the
external components for RC filtering when used as a DAC for bias     SPDT2 switch, and set SPD2 = 0 to disable the PWM
adjustments.
**When the part is in sleep mode, the HFCLK is shut down. In this
                                                                     output controlling the SPDT2 switch. The SPDT2<1:0>
case, PWM frequencies above 32kHz are not available (see             bits, the UPIO pins (if programmed), and the PWM out-
SPWME in the SLEEP_CFG Register section).                            put (if enabled), determine the SPDT2-switch state. See
                                                                     Table 19 for more details. The power-on default is 0.
                     ______________________________________________________________________________________               47


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           PWM_THTP Register (Power-On State: 0000 0000 0000 0000)
MAX1358B
                 MSB
                PWMTH7       PWMTH6        PWMTH5        PWMTH4       PWMTH3        PWMTH2         PWMTH1         PWMTH0
                                                                                                                    LSB
                PWMTP7       PWMTP6        PWMTP5        PWMTP4       PWMTP3         PWMTP2        PWMTP1         PWMTP0
           The PWM_THTP register contains the bits that set the                WATCHDOG Register (Power-On State: N/A)
           PWM on-time and period.                                   Writing to the WATCHDOG register address sets the
           PWMTH<7:0>: PWM time high bits. These bits define         watchdog timer to 0ms. If the watchdog is enabled
           the PWM on (or high)-time and when combined with the      (WDE = 1) and the WATCHDOG register is not written
           PWMTP<7:0> bits, they determine the duty cycle and        to before the 750ms expiration, RESET asserts low for
           period. The on-time duty cycle is defined as:             250ms and the watchdog timer restarts at 0ms when
                                                                     the watchdog timer is enabled. There are no data bits
                    (PWMTH<7:0> + 1)/(PWMTP<7:0> + 1)                for this register, and the watchdog timer is reset on the
           To get 50% duty cycle, set PWMTH<7:0> to 126 deci-        rising edge of SCLK during the ADR0 bit in the
           mal and PWMTP<7:0> to 253 decimal. Note that setting      WATCHDOG register address control byte. Figure 17
           PWMTP<7:0> to 255 decimal is not valid as the denom-      shows an example of watchdog timing.
           inator in the above formula becomes 0. A 100% duty
           cycle (i.e., always on) is possible with a value of                  NORM_MD Register (Power-On State: N/A)
           PWMTH<7:0> ≥ PWMTP<7:0> > 0. A 0% duty cycle is           Exit sleep mode and enter normal mode by writing to
           possible by setting PWMTH<7:0> = 0 or PWME = 0 in         the NORM_MD register. The specific normal-mode
           the PWM_CTRL register. If the PWM is selected to drive    state of all circuit blocks is set by the user, who must
           the UPIO_ pin(s), the ALH_ bit(s) (UPIO_CTRL register)    configure the individual power-enable bits before enter-
           determine the on-time polarity at the beginning of the    ing sleep mode (Table 15). There are no data bits for
           PWM cycle. If ALH_ = 1, the on-time at the start of the   this register, and normal mode begins on the rising
           PWM period causes a logic-high level (DV DD or            edge of SCLK during the ADR0 bit in the NORM_MD
           CPOUT) at the UPIO_ pin. When ALH_ = 0, it causes a       register address control byte.
           logic-low level (DGND) during the on-time. When the                      SLEEP Register (Power-On State: N/A)
           PWM output drives the SWA/B switches, the SWA(B)H         Enter sleep mode by writing to the SLEEP register. This
           or SWA(B)L bits in the PWM_CTRL register determine        low-power state overrides most of the normal power-
           which PWM phase closes these switches. The SPDT1          control bits. Table 15 shows which functions are off,
           and SPDT2 switches do not have PWM polarity inver-        which functions are unaffected (ADE, RTCE, LSDE, and
           sion bits (see the SPDT1<1:0> and SPDT2<1:0> bit          HYSE), and which functions are controlled by special
           descriptions in the SW_CTRL Register section), but        sleep-mode bits (SOSCE, SCK32E, and SPWME) while
           their effective polarity is set by how the switches are   in sleep mode. There are no data bits for this register,
           connected externally. The power-on default is 00 hex.     and sleep mode begins on the rising edge of SCLK
           PWMTP<7:0>: PWM time period bits. These bits con-         during the ADR0 bit in the SLEEP register address con-
           trol the PWM output period defined. The PWM output        trol byte.
           period is defined as:
                 (PWMTP<7:0> + 1)/(PWM input frequency)
           Set the PWM input frequency by selecting the
           FSEL<2:0> bits as described in Table 14. The power-
           on default is 00 hex.
           48    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
Table 15. Normal-Mode and Sleep-Register Summary
                                                                                                           MAX1358B
  REGISTER        CIRCUIT BLOCK
                                             POR DEFAULT          NORMAL MODE              SLEEP
    NAME           DESCRIPTION
    ADC                 ADC                    ADCE = 0                ADCE                 OFF
                       DACA                     DAE = 0                DAE                  OFF
  DACA_OP,
                       DACB                     DBE = 0                DBE                  OFF
  DACB_OP
                        OP1                     OP1E = 0               OP1E                 OFF
              Reference Buffer Gain and
                                             REFV<1:0> = 00          REFV<1:0>              OFF
  REF_SDC              Enable
              Signal-Detect Comparator         SDCE = 0                SDCE                 OFF
              Time-of-Day Alarm Enable          ADE = 0                ADE                  ADE
                        RTC                     RTCE = 1               RTCE                 RTCE
                CK32 XTAL Oscillator           OSCE = 1                OSCE                SOSCE
                 CK32 Output Buffer            CK32E = 1              CK32E                SCK32E
  CLK_CTRL      High-Frequency Clock           HFCE = 1                HFCE                 OFF
             High-Frequency Clock Output
                                                CLKE = 1               CLKE                 OFF
                        Buffer
                     FLL Enable                 FLLE = 1               FLLE                 OFF
                   Watchdog Timer               WDE = 0                WDE                  OFF
 PWM_CTRL               PWM                    PWME = 0                PWME                SPWME
                   Linear Regulator            LDOE = 0                LDOE                 OFF
                Charge-Pump Doubler             CPE = 0                CPE                  OFF
 PS_VMONS      CPOUT Voltage Monitor           CPDE = 0                CPDE                 OFF
                 1.8V DVDD Monitor              LSDE = 1               LSDE                 LSDE
               1.8V Monitor Hysteresis         HYSE = 0                HYSE                 HYSE
 TEMP_CTRL    Temperature Sense Source       IMUX<1:0> = 00          IMUX<1:0>              OFF
                   UPIO_ Function          UP_MD<3:0> = 0 hex       UP_MD<3:0>           UP_MD<3:0>
                    UPIO_ Pullup                PUP_ = 1               PUP_                 PUP_
 UPIO_CTRL
                UPIO_ Supply Voltage            SV_ = 0                 SV_                 SV_
                UPIO_ Assertion Level           ALH_ = 0               ALH_                 ALH_
             ______________________________________________________________________________________   49


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           SLEEP_CFG Register (Power-On State: 1100 XXXX)
MAX1358B
                                 MSB                                                                                                                     LSB
            SLP (ADR0)          SOSCE        SCK32E               SPWME              SHDN                       X                   X               X     X
           The SLEEP_CFG register allows users to program spe-                            SPWME: Sleep-mode PWM enable bit. SPWME = 1
           cific behavior for the 32kHz oscillator, buffer, and PWM                       enables the internal PWM in sleep mode, and
           in sleep mode. It also contains a sleep-control bit (SLP)                      SPWME = 0 disables it in sleep mode, regardless of the
           to enable sleep mode.                                                          state of the PWME bit.
           SLP (ADR0): Sleep bit. The SLP bit is the LSB in the                           Input frequencies are limited to 32.768kHz or lower
           SLEEP_CFG address control byte. Set SLP = 1 to                                 since the high-frequency clock is disabled in sleep
           assert the SHDN bit and enter sleep mode. Writing the                          mode. SOSCE must be asserted to have 32kHz avail-
           register with SLP = 0 or reading with SLP = 0 or                               able as an input to the PWM. The power-on default is 0.
           SLP = 1 has no effect on the SHDN bit.                                         SHDN: Shutdown bit. This bit is read only. SHDN is
           SOSCE: Sleep-mode 32kHz crystal oscillator enable                              asserted by writing to the SLEEP register address or by
           bit. SOSCE = 1 enables the 32kHz oscillator in sleep                           writing to the SLEEP_CFG register with SLP = 1. When
           mode, and SOSCE = 0 disables it in sleep mode,                                 SHDN is asserted, the device is in sleep mode even if
           regardless of the state of the OSCE bit. The power-on                          the SLEEP or SLEEP function on the UPIO is deassert-
           default is 1.                                                                  ed. The SHDN bit is deasserted by writing to the
           SCK32E: Sleep-mode CK32K-pin output-buffer enable                              NORM_MD register or by other defined events. Events
           bit. SCK32E = 1 enables the 32kHz output buffer in                             that cause SHDN to be deasserted are a day alarm or
           sleep mode, and SCK32E = 0 disables it in sleep                                an edge on the UPIO wake-up pin causing wake-up to
           mode, regardless of the state of the CK32E bit. The                            be asserted. The power-on default is 0.
           power-on default is 1.
                                                                                                                                                         RESET
                                                                                                D           Q
                                                              D            Q
                32K                          DIVIDE-    4Hz                                     CK          Q
                                                              CK           Q
                          WDE               BY-8192                                                   R
                                                                      R
                                              POR
                                             WDW                                                                                        WATCHDOG TIMER
                                                                                                    750ms
                         4Hz CLOCK
                      2-BIT COUNTER     X               0         1        2     0    1     0         1             2    3      0        1    2      0
                         SPI WRITES
                                              WDE = 1                     WATCHDOG   WATCHDOG                                                WATCHDOG
                             RESET                                         ADDRESS    ADDRESS                                                 ADDRESS
                                                                                                                        250ms
           Figure 17. Watchdog Timer Architecture
           50    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
UPIO4_CTRL Register (Power-On State: 0000 1000)
                                                                                                                      MAX1358B
     MSB                                                                                                 LSB
   UP4MD3        UP4MD2         UP4MD1        UP4MD0        PUP4            SV4           ALH4           LL4
The UPIO4_CTRL register configures the UPIO4 pin          ALH4: Active logic-level assertion high UPIO4 bit. Set
functionality.                                            ALH4 = 0 to define the input or output assertion level
UP4MD<3:0>: UPIO4-mode selection bits. These bits         for UPIO4 as low except when in GPI and GPO modes.
configure the mode for the UPIO4 pin. See Table 16 for    Set ALH4 = 1 to define the input or output assertion
a detailed description. The power-on default is 0 hex.    level as high. For example, asserting ALH4 defines the
                                                          UPIO4 output signal as ALARM, while deasserting
PUP4: Pullup UPIO4 control bit. Set PUP4 = 1 to enable    ALH4 defines it as ALARM. Similarly, asserting ALH4
a weak pullup resistor on the UPIO4 pin, and set PUP4     defines the UPIO4 input signal as WU, while deassert-
= 0 to disable it. The pullup resistor is connected to    ing ALH4 defines it as WU. The power-on default is 0.
either DVDD or CPOUT as programmed by the SV4 bit.
The pullup is enabled only when UPIO4 is configured as    LL4: Logic-level UPIO4 bit. When UPIO4 is configured
an input. Open-drain behavior can be simulated at         as GPO, LL4 = 0 sets the output to a logic-low and LL4
UPIO4 by setting the mode to GPO with LL4 = 0 and by      = 1 sets the output to a logic-high. A read of LL4
changing the mode to GPI with PUP4 = 0, allowing          returns the voltage level at the UPIO4 pin at the time of
external high pullup. The power-on default is 1.          the read, regardless of how it is programmed. The
                                                          power-on default is 0.
SV4: Supply-voltage UPIO4 selection bit. Set SV4 = 0
to select DVDD as the supply voltage for the UPIO4 pin,
and set SV4 = 1 to select CPOUT as the supply volt-
age. The selected supply voltage applies to all modes
for the UPIO4 pin. The power-on default is 0.
UPIO3_CTRL Register (Power-On State: 0000 1000)
      MSB                                                                                                 LSB
    UP3MD3        UP3MD2         UP3MD1        UP3MD0        PUP3            SV3           ALH3            LL3
The UPIO3_CTRL register configures the UPIO3 pin          ALH3: Active logic-level assertion high UPIO3 bit. Set
functionality.                                            ALH3 = 0 to define the input or output assertion level
UP3MD<3:0>: UPIO3-mode selection bits. These bits         for UPIO3 as low except when in GPI and GPO modes.
configure the mode for the UPIO3 pin. See Table 16 for    Set ALH3 = 1 to define the input or output assertion
a detailed description. The power-on default is 0 hex.    level as high. For example, asserting ALH3 defines the
                                                          UPIO3 output signal as ALARM, while deasserting
PUP3: Pullup UPIO3 control bit. Set PUP3 = 1 to enable    ALH3 defines it as ALARM. Similarly, asserting ALH3
a weak pullup resistor on the UPIO3 pin, and set PUP3     defines the UPIO3 input signal as WU, while deassert-
= 0 to disable it. The pullup resistor is connected to    ing ALH3 defines it as WU. The power-on default is 0.
either DVDD or CPOUT as programmed by the SV3 bit.
The pullup is enabled only when UPIO3 is configured as    LL3: Logic-level UPIO3 bit. When UPIO3 is configured
an input. Open-drain behavior can be simulated at         as GPO, LL3 = 0 sets the output to a logic-low and LL3
UPIO3 by setting the mode to GPO with LL3 = 0 and by      = 1 sets the output to a logic-high. A read of LL3
changing the mode to GPI with PUP3 = 0, allowing          returns the voltage level at the UPIO3 pin at the time of
external high pullup. The power-on default is 1.          the read, regardless of how it is programmed. The
                                                          power-on default is 0.
SV3: Supply-voltage UPIO3 selection bit. Set SV3 = 0
to select DVDD as the supply voltage for the UPIO3 pin,
and set SV3 = 1 to select CPOUT as the supply volt-
age. The selected supply voltage applies to all modes
for the UPIO3 pin. The power-on default is 0.
                  ______________________________________________________________________________________         51


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           UPIO2_CTRL Register (Power-On State: 0000 1000)
MAX1358B
                 MSB                                                                                                LSB
                UP2MD3       UP2MD2        UP2MD1        UP2MD0        PUP2            SV2           ALH2            LL2
           The UPIO2_CTRL register configures the UPIO2 pin          ALH2: Active logic-level assertion high UPIO2 bit. Set
           functionality.                                            ALH2 = 0 to define the input or output assertion level
           UP2MD<3:0>: UPIO2-mode selection bits. These bits         for UPIO2 as low except when in GPI and GPO modes.
           configure the mode for the UPIO2 pin. See Table 16 for    Set ALH2 = 1 to define the input or output assertion
           a detailed description. The power-on default is 0 hex.    level as high. For example, asserting ALH2 defines the
                                                                     UPIO2 output signal as ALARM, while deasserting
           PUP2: Pullup UPIO2 control bit. Set PUP2 = 1 to enable    ALH2 defines it as ALARM. Similarly, asserting ALH2
           a weak pullup resistor on the UPIO2 pin, and set PUP2     defines the UPIO2 input signal as WU, while deassert-
           = 0 to disable it. The pullup resistor is connected to    ing ALH2 defines it as WU. The power-on default is 0.
           either DVDD or CPOUT as programmed by the SV2 bit.
           The pullup is enabled only when UPIO2 is configured as    LL2: Logic-level UPIO2 bit. When UPIO2 is configured
           an input. Open-drain behavior can be simulated at         as GPO, LL2 = 0 sets the output to a logic-low and LL2
           UPIO2 by setting the mode to GPO with LL2 = 0 and by      = 1 sets the output to a logic-high. A read of LL2
           changing the mode to GPI with PUP2 = 0, allowing          returns the voltage level at the UPIO2 pin at the time of
           external high pullup. The power-on default is 1.          the read, regardless of how it is programmed. The
                                                                     power-on default is 0.
           SV2: Supply-voltage UPIO2 selection bit. Set SV2 = 0
           to select DVDD as the supply voltage for the UPIO2 pin,
           and set SV2 = 1 to select CPOUT as the supply volt-
           age. The selected supply voltage applies to all modes
           for the UPIO2 pin. The power-on default is 0.
           UPIO1_CTRL Register (Power-On State: 0000 1000)
                 MSB                                                                                                LSB
                UP1MD3       UP1MD2        UP1MD1        UP1MD0        PUP1            SV1           ALH1            LL1
           The UPIO1_CTRL register configures the UPIO1 pin          age. The selected supply voltage applies to all modes
           functionality.                                            for the UPIO1 pin. The power-on default is 0.
           UP1MD<3:0>: UPIO1-mode selection bits. These bits         ALH1: Active logic-level assertion high UPIO1 bit. Set
           configure the mode for the UPIO1 pin. See Table 16 for    ALH1 = 0 to define the input or output assertion level
           a detailed description. The power-on default is 0 hex.    for UPIO1 as low except when in GPI and GPO modes.
           PUP1: Pullup UPIO1 control bit. Set PUP1 = 1 to enable    Set ALH1 = 1 to define the input or output assertion
           a weak pullup resistor on the UPIO1 pin, and set PUP1     level as high. For example, asserting ALH1 defines the
           = 0 to disable it. The pullup resistor is connected to    UPIO1 output signal as ALARM, while deasserting
           either DVDD or CPOUT as programmed by the SV1 bit.        ALH1 defines it as ALARM. Similarly, asserting ALH1
           The pullup is enabled only when UPIO1 is configured as    defines the UPIO1 input signal as WU, while deassert-
           an input. Open-drain behavior can be simulated at         ing ALH1 defines it as WU. The power-on default is 0.
           UPIO1 by setting the mode to GPO with LL1 = 0 and by      LL1: Logic-level UPIO1 bit. When UPIO1 is configured
           changing the mode to GPI with PUP1 = 0, allowing          as GPO, LL1 = 0 sets the output to a logic-low and LL1
           external high pullup. The power-on default is 1.          = 1 sets the output to a logic-high. A read of LL1
           SV1: Supply-voltage UPIO1 selection bit. Set SV1 = 0      returns the voltage level at the UPIO1 pin at the time of
           to select DVDD as the supply voltage for the UPIO1 pin,   the read, regardless of how it is programmed. The
           and set SV1 = 1 to select CPOUT as the supply volt-       power-on default is 0.
           52   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
Table 16. UPIO Mode Configuration
                                                                                                                                           MAX1358B
      UP4MD<3:0>,
      UP3MD<3:0>,                       MODE                                            DESCRIPTION
 UP2MD<3:0>, UP1MD<3:0>
                                                         General-purpose digital input. Active edges detected by UPR_ or UPF_
   0      0       0       0              GPI
                                                         status register bits. ALH_ has no effect with this setting.
                                                         General-purpose digital output. Logic level set by LL_ bit. ALH_ has no
   0      0       0       1              GPO
                                                         effect with this setting.
                                                         Digital input. DAC A buffer switch control. See the SWA bit description in
   0      0       1       0          SWA or SWA
                                                         the SW_CTRL Register section.
                                                         Digital input. DAC B buffer switch control. See the SWB bit description in
   0      0       1       1          SWB or SWB
                                                         the SW_CTRL Register section.
                                                         Digital input. SPDT1 switch control. See the SPDT1<1:0> bit description in the
   0      1       0       0        SPDT1 or SPDT1
                                                         SW_CTRL Register section.
                                                         Digital input. SPDT2 switch control. See the SPDT2<1:0> bit description in the
   0      1       0       1        SPDT2 or SPDT2
                                                         SW_CTRL Register section.
                                                         Sleep-mode digital input. Overrides power-control register and puts the
                                                         part into sleep mode when asserted. The clock buffers must be powered
   0      1       1       0        SLEEP or SLEEP
                                                         down separately. When deasserted, power mode is determined by the
                                                         SHDN bit.
   0      1       1       1           WU or WU           Wake-up digital input. Asserted edge clears SHDN bit.
   1      0       0       0
   1      0       0       1            Reserved          Reserved. Do not use these settings.
   1      0       1       0
                                                         PWM digital output. Signal defined by the PWM_CTRL register. PWM on
                                                         (or high or “1”); assertion level defined by the ALH_ bit. When PWM is
   1      0       1       1          PWM or PWM
                                                         disabled (PWME = 0), the UPIO pin idles high (DVDD or CPOUT) if
                                                         ALH = 1, and low (DGND) if ALH = 0.
                                                         Power-supply shutdown digital output. Equivalent to SHDN bit. Power-on
   1      1       0       0         SHDN or SHDN         default of GPI with pullup ensures initial power-supply turn-on when UPIO
                                                         is connected to a power supply with a SHDN input.
                                                         RTC alarm digital output. Asserts for time-of-day alarm events; equivalent
   1      1       0       1      AL_DAY or AL_DAY
                                                         to ALD in STATUS register.
   1      1       1       0            Reserved           Reserved. Do not use these settings.
                                                         ADC data-ready digital output. Asserts when analog-to-digital conversion
   1      1       1       1         DRDY or DRDY
                                                         or calibration completes. Not masked by MADD bit.
Note: When multiple UPIO inputs are configured for the same input function, the inputs are ORed together.
                      ______________________________________________________________________________________                          53


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           UPIO_SPI Register (Power-On State: 0000 XXXX)
MAX1358B
                  MSB                                                                                                                                                LSB
                  UP4S              UP3S                   UP2S             UP1S                       X                  X                      X                    X
           The UPIO_SPI pass-through control register bits map                                   UP4S: UPIO4 SPI pass-through-mode enable bit. A
           the serial interface signals to the UPIO pins, allowing                               logic 1 maps the inverted CS signal to the UPIO4 pin.
           the DAS to drive other devices at CPOUT or DVDD volt-                                 Therefore, UPIO4 is low (near DGND) when SPI pass-
           age levels, depending on the SV_ bit setting found in                                 through mode is active, and is high (near DV DD or
           the UPIO_CTRL register. Individual bits are provided to                               CPOUT) when the mode is inactive. A logic 0 disables
           set only the desired UPIO inputs to the SPI pass-                                     the UPIO4 SPI pass-through mode. The power-on
           through mode. This mode becomes active when CS is                                     default is 0.
           driven high to complete the write to this register, and                               UP3S: UPIO3 SPI pass-through-mode enable bit. A
           remains active as long as CS stays high (i.e., multiple                               logic 1 maps the SCLK signal to UPIO3 (directly with no
           pass-through writes are possible). The SPI pass-                                      inversion), while a logic 0 disables the UPIO3 SPI pass-
           through mode is deactivated immediately when CS is                                    through mode. The power-on default is 0.
           pulled low for the next DAS write.
                                                                                                 UP2S: UPIO2 SPI pass-through-mode enable bit. A
           The UPIO_ state (both before and after the SPI pass-                                  logic 1 maps the DIN signal to UPIO2 (directly with no
           through mode) is set by the UP_MD<3:0> and LL_ bits.                                  inversion), while a logic 0 disables the UPIO2 SPI pass-
           When a UPIO is configured for SPI pass-through mode                                   through mode. The power-on default is 0.
           and the CS is high, UPR_, UPF_, and LL_ continue to
           detect UPIO_ edges, which can still generate interrupts.                              UP1S: UPIO1 SPI pass-through-mode enable bit. A
           See Figure 18 for an SPI pass-through timing diagram.                                 logic 1 maps the UPIO1 input signal to DOUT (directly
                                                                                                 with no inversion), while a logic 0 disables the UPIO1
                                                                                                 SPI pass-through mode. The power-on default is 0.
                  CS           WRITE TO DAS TO ENABLE SPI MODE              WRITE THROUGH DAS TO UPIO DEVICE                         NORMAL WRITE TO DAS
                SCLK
                  DIN    DN   DN-1 DN-2 DN-3     D3   D2     D1   D0   EN   EN-1   EN-2   EN-3    X        X   X    X    D7   D6     D5     D4   D3     D2      D1   D0
                DOUT                                                                              E3   E2      E1   E0
                UPIO4           SET BY UPIO4_CTRL REGISTER                                                                         SET BY UPIO4_CTRL REGISTER
                UPIO3           SET BY UPIO3_CTRL REGISTER                                                                         SET BY UPIO3_CTRL REGISTER
                UPIO2           SET BY UPIO2_CTRL REGISTER             EN   EN-1   EN-2   EN-3    X        X   X    X              SET BY UPIO2_CTRL REGISTER
                UPIO1           SET BY UPIO1_CTRL REGISTER                                        E3   E2      E1   E0             SET BY UPIO1_CTRL REGISTER
           Figure 18. SPI Pass-Through Timing Diagram
           54     ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
SW_CTRL Register (Power-On State: 0000 00XX)
                                                                                                                                    MAX1358B
     MSB                                                                                                                LSB
     SWA            SWB           SPDT11         SPDT10       SPDT21            SPDT20                X                   X
The switch-control register controls the two SPDT             Table 17. SWA States
switches (SPDT1 and SPDT2) and the DACA output
buffer SPST switch (SWA). Control this switch by the           SW_ BIT*      UPIO_*        PWM*           SW_ SWITCH STATE
serial bits in this register, by any of the UPIO pins that          0            0             0          Switch open
are enabled for that function, or by the PWM.                       X            X             1          Switch closed
SWA: DACA output buffer SPST-switch A control bit.                  X            1             X          Switch closed
The SWA bit, the UPIO inputs (if configured), and the
                                                                    1            X             X          Switch closed
PWM (if configured) control the state of the SWA switch
as shown in Table 17. The UPIO_ states of 0 and 1 in the      X = Don’t care.
table correspond to respective deasserted and asserted        *Switch SW_ control is effectively an OR of the SW_ bit, UPIO_
logic states as defined by the ALH_ bit of the                pins, and PWM.
UPIO_CTRL register. If a UPIO is not configured for this
mode, its value applied to the table is 0. The PWM            Table 18. SPDT Switch 1 States
states of 0 and 1 in the table correspond to the respec-
                                                              SPDT1<1:0>      UPIO_* PWM* SPDT1 SWITCH STATE
tive PWM off (or low) and on (or high) states defined by
the SWAH and SWAL bits (see the PWM_CTRL Register               0       0        0         0       SNO1 open, SNC1 open
section). If the PWM is not configured for this mode, its       0       X        X         1       SNO1 closed, SNC1 closed
value applied to the table is 0. The power-on default is 0.     0       X        1        X        SNO1 closed, SNC1 closed
SWB: DACB output buffer SPST-switch B control bit.              0       1        X        X        SNO1 closed, SNC1 closed
The SWB bit, the UPIO inputs (if configured), and the
                                                                1       0        0         0       SNC1 closed, SNO1 open
PWM (if configured) control the state of the SWB switch
as shown in Table 18. The UPIO_ states of 0 and 1 in the        1       X        X         1       SNC1 open, SNO1 closed
table correspond to respective deasserted and asserted          1       X        1        X        SNC1 open, SNO1 closed
logic states as defined by the ALH_ bit (see the                1       1        X        X        SNC1 open, SNO1 closed
UPIO_CTRL Register section). If a UPIO is not config-
ured for this mode, its value applied to the table is 0.      X = Don’t care.
The PWM states of 0 and 1 in the table correspond to          *Switch SPDT1 control is effectively an OR of the SPDT10 bit, the
the respective PWM off (or low) and on (or high) states       UPIO_ pins, and the PWM output. The SPDT11 bit determines if
                                                              the switches open and close together or if they toggle.
defined by the SWBH and SWBL bits (see the
PWM_CTRL Register section). If the PWM is not config-
ured for this mode, its value applied to the table is 0.      Table 19. SPDT Switch 2 States
The power-on default is 0.
                                                               SPDT2<1:0> UPIO_* PWM* SPDT2 SWITCH STATE
SPDT1<1:0>: Single-pole double-throw switch 1 con-               0      0        0         0     SNO2 open, SNC2 open
trol bits. The SPDT1<1:0> bits, the UPIO pins (if config-        0      X       X          1     SNO2 closed, SNC2 closed
ured), and the PWM (if configured) control the state of
                                                                 0      X        1         X     SNO2 closed, SNC2 closed
the switch as shown in Table 18. The UPIO_ states of 0
and 1 in the table correspond to respective deasserted           0      1       X          X     SNO2 closed, SNC2 closed
and asserted logic states as defined by the ALH_ bit of          1      0        0         0     SNC2 closed, SNO2 open
the UPIO_CTRL register. If a UPIO is not configured for          1      X       X          1     SNC2 open, SNO2 closed
this mode, its value applied to Table 18 is 0. The PWM           1      X        1         X     SNC2 open, SNO2 closed
states of 0 and 1 in Table 18 correspond to the respec-          1      1       X          X     SNC2 open, SNO2 closed
tive PWM off (low) and on (high) states defined by the        X = Don’t care.
SPD1 bit in the PWM_CTRL register. If the PWM is not          *Switch SPDT2 control is effectively an OR of the SPDT20 bit, the
configured for this mode, its value applied to Table 18       UPIO_ pins, and the PWM output. The SPDT21 bit determines if
is 0. The power-on default is 00.                             the switches open and close together or if they toggle.
                   ______________________________________________________________________________________                      55


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           SPDT2<1:0>: Single-pole double-throw switch 2 control     this mode, its value applied to Table 19 is 0. The PWM
MAX1358B
           bits. The SPDT2<1:0> bits, the UPIO pins (if config-      states of 0 and 1 in Table 19 correspond to the respec-
           ured), and the PWM (if configured) control the state of   tive PWM off (low) and on (high) states defined by the
           the switch as shown in Table 19. The UPIO_ states of 0    SPD2 bit in the PWM_CTRL register. If the PWM is not
           and 1 in the table correspond to respective deasserted    configured for this mode, its value applied to Table 19 is
           and asserted logic states as defined by the ALH_ bit in   0. The power-on default is 00.
           the UPIO_CTRL register. If a UPIO is not configured for
           TEMP_CTRL Register (Power-On State: 0000 XXXX)
                MSB                                                                                                   LSB
                IMUX1          IMUX0        IVAL1         IVAL0          X              X              X               X
           The temperature-sensor control register controls the      IVAL<1:0>: Internal current-source value bits. Selects
           internal and external temperature measurement.            the value of the internal current source as shown in
           IMUX<1:0>: Internal current-source MUX bits. Selects      Table 21. The power-on default is 00.
           the pin to be driven by the internal current sources as
           shown in Table 20. The power-on default is 00.
           Table 20. Selecting Internal Current Source               Table 21. Setting the Current Level
                 CURRENT SOURCE            IMUX1        IMUX0         CURRENT      TYPICAL CURRENT (µA)       IVAL1        IVAL0
                        Disabled             0            0                  I1               4                 0            0
             Internal temperature sensor     0            1                  I2              60                 0            1
                          AIN1               1            0                  I3              64                 1            0
                          AIN2               1            1                  I4              120                1            1
           56   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
IMSK Register (Power-On State: 1111 011X 1111 1111)
                                                                                                                        MAX1358B
     MSB
    MLDVD         MLCPD          MADO          MSDC        MCRDY           MADD            MALD             X
                                                                                                           LSB
    MUPR4         MUPR3          MUPR2         MUPR1       MUPF4           MUPF3          MUPF2           MUPF1
The IMSK register determines which bits of the STATUS     MCRDY = 1 to mask the CRDY status bit interrupt. The
register generate an interrupt on INT. The bits in this   power-on default value is 0.
register do not mask output signals routed to UPIO        MADD: ADD status bit mask. Set MADD = 0 to enable
since the output signals are masked by disabling that     the ADD status bit interrupt to INT, and set MADD = 1
UPIO function.                                            to mask the ADD status bit interrupt. The power-on
MLDVD: LDVD status bit mask. Set MLDVD = 0 to             default value is 1.
enable the LDVD status bit interrupt to INT, and set      MALD: ALD status bit mask. Set MALD = 0 to enable
MLDVD = 1 to mask the LDVD status bit interrupt. The      the ALD status bit interrupt to INT, and set MALD = 1 to
power-on default value is 1.                              mask the ALD status bit interrupt. The power-on default
MLCPD: LCP status bit mask. Set MLCPD = 0 to              value is 1.
enable the LCP status bit interrupt to INT, and set       MUPR<4:1>: UPR<4:1> status bits mask. Set MUPR_ =
MLCPD = 1 to mask the LCP status bit interrupt. The       0 to enable the UPR_ status bit interrupt to INT, and set
power-on default value is 1.                              MUPR_ = 1 to mask the UPR_ status bit interrupt. (_ =
MADO: ADO status bit mask. Set MADO = 0 to enable         1, 2, 3, or 4 and corresponds to the UPIO1, UPIO2,
the ADO status bit interrupt to INT, and set MADO = 1     UPIO3, or UPIO4 pins, respectively.) The power-on
to mask the ADO status bit interrupt. The power-on        default value is F hex.
default value is 1.                                       MUPF<4:1>: UPF<4:1> status bits mask. Set MUPF_ =
MSDC: SDC status bit mask. Set MSDC = 0 to enable         0 to enable the UPF_ status bit interrupt to INT, and set
the SDC status bit interrupt to INT, and set MSDC = 1     MUPF_ = 1 to mask the UPF_ status bit interrupt. (_ = 1,
to mask the SDC status bit interrupt. The power-on        2, 3, or 4 and corresponds to the UPIO1, UPIO2,
default value is 1.                                       UPIO3, or UPIO4 pins, respectively.) The power-on
MCRDY: CRD status bit mask. Set MCRDY = 0 to              default value is F hex.
enable the CRDY status bit interrupt to INT, and set
PS_VMONS Register (Power-On State: 0010 01XX)
     MSB                                                                                                   LSB
    LDOE           CPE           LSDE           CPDE        HYSE            RSTE             X              X
This register is the power-supply and voltage monitors    disable the DV DD low-supply-voltage detector. The
control register.                                         power-on default value is 1.
LDOE: Low-dropout linear-regulator enable bit. Set        CPDE: CPOUT low-supply voltage-detector power-
LDOE = 1 to enable the low-dropout linear regulator to    enable bit. Set CPDE = 1 to enable the +2.7V CPOUT
provide the internal source voltage for the charge        low-supply voltage-detector comparator, and set CPDE
pump. Set LDOE = 0 to disable the LDO, allowing an        = 0 to disable the CPOUT low-supply voltage-detector
external drive to the charge-pump input through REG.      comparator. The power-on default value is 0.
The power-on default value is 0.                          HYSE: DVDD low-supply voltage-detector hysteresis-
CPE: Charge-pump enable bit. Set CPE = 1 to enable the    enable bit. Set HYSE = 1 to set the hysteresis for the
charge-pump doubler, and set CPE = 0 to disable the       +1.8V (DVDD) low-supply-voltage detector to +200mV,
charge-pump doubler. The power-on default value is 0.     and set HYSE = 0 to set the hysteresis to +20mV. On initial
LSDE: DV DD low-supply voltage-detector power-            power-up, the hysteresis is +20mV and can be pro-
enable bit. Set LSDE = 1 to enable the +1.8V (DVDD)       grammed to 200mV once RESET goes high. Once pro-
low-supply-voltage detector, and set LSDE = 0 to          grammed to +200mV, the DVDD falling threshold is +1.8V
                                                          nominally and the rising threshold is +2.0V nominally. The
                  ______________________________________________________________________________________          57


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           hysteresis helps eliminate chatter when running directly off   RSTE: RESET output enable bit. Set RSTE = 1 to
MAX1358B
           unregulated batteries. If DVDD falls below +1.3V (typ), the    enable RESET to be controlled by the +1.8V DVDD low-
           power-on reset circuitry is enabled and the HYSE bit is        supply-voltage detector, and set RSTE = 0 to disable
           deasserted setting the hysteresis back to +20mV. The           this control. The power-on default is 1.
           power-on default is 0.
           STATUS Register (Power-On State: 0000 000X 0000 0000)
                MSB
                LDVD            LCPD           ADOU             SDC         CRDY            ADD            ALD             X
                                                                                                                          LSB
                UPR4            UPR3           UPR2            UPR1         UPF4           UPF3           UPF2            UPF1
           The STATUS register contains the status bits of events in      ADOU: ADC overflow/underflow status bit. ADOU = 1
           various system blocks. Any status bits not masked in the       indicates an ADC underflow or overflow condition in the
           IMSK register cause an interrupt on INT. Some of the           current ADC result. New conversions that are valid
           status bit setting events (GPI, WAKEUP, ALARM, DRDY)           clear the ADOU bit. ADOU = 0 when the ADC data is
           can be directed to UPIO_ to provide multiple µC inter-         valid or the ADC is disabled (ADCE = 0). An underflow
           rupt inputs. There are no specific mask bits for the UPIO      condition occurs when the ADC data is theoretically
           interrupt signals since the bits are effectively masked by     less than 0000 hex in unipolar mode and less than
           selecting a different function for UPIO. The STATUS bits       8000 hex in bipolar mode. An overflow condition occurs
           always record the triggering event(s), even for masked         when the ADC data is theoretically greater than FFFF
           bits, which do not generate an interrupt on INT. It is pos-    hex in unipolar mode and greater than 7FFF hex in
           sible to set multiple STATUS bits during a single INT          bipolar mode. Use this bit to determine the validity of
           interrupt event. Clear all STATUS bits except for ADD          an ADC result at the maximum or minimum code values
           and ADOU by reading the STATUS register. During a              (i.e., 0000 hex or FFFF hex for unipolar mode and 8000
           STATUS register read, INT deasserts when the first             hex and 7FFF hex for bipolar mode). The power-on
           STATUS data bit (LDVD) reads out (9th rising SCLK) and         default is 0. Reading the STATUS register does not
           remains deasserted until shortly after the last STATUS         clear the ADOU bit.
           data bit (~15ns). At this point, INT reasserts if any          SDC: Signal-detect comparator status bit. When
           STATUS bit is set during the STATUS register read. If the      SDC = 1, the positive input to the signal-detect compara-
           STATUS register is partially read (i.e., the read is aborted   tor exceeds the negative input plus the programmed
           midway), none of the STATUS bits are cleared. New              threshold voltage. The SDC bit clears during the STATUS
           events occurring during a STATUS register read, or             register read unless the condition remains true. The SDC
           events that persist after reading the STATUS bits result in    bit also deasserts when the signal-detect comparator
           another interrupt immediately after the STATUS register        powers down (SDCE = 0). The power-on default is 0.
           read finishes. This is a read-only register.
                                                                          CRDY: High-frequency-clock ready status bit.
           LDVD: Low DVDD voltage-detector status bit. LDVD = 1           CRDY = 1 indicates a locked high-frequency clock to
           indicates DVDD is below the +1.8V threshold; otherwise         the 32kHz reference frequency by the FLL. The CRDY
           LDVD = 0. LDVD clears during the STATUS register               bit clears during the STATUS register read. This bit only
           read as long as the condition does not persist.                asserts after power-up or after enabling the FLL using
           Otherwise, the LDVD bit reasserts immediately. If the          the FLLE bit. The power-on default is 0.
           DVDD low voltage detector is disabled, LDVD = 0. The
           power-on default is 0.                                         ADD: ADC-done status bit. ADD = 1 indicates a com-
                                                                          pleted ADC conversion or calibration. Clear the ADD bit
           LCPD: Low CPOUT voltage-detector status bit. LCPD =            by reading the appropriate ADC data, offset, or gain-cali-
           1 indicates CPOUT is below the +2.7V threshold; other-         bration registers. The ADC status bit also clears when a
           wise LCPD = 0. LCPD clears during the STATUS regis-            new ADC result updates to the data or calibration regis-
           ter read as long as the condition does not persist.            ters (i.e., it follows the assertion level of the UPIO =
           Otherwise the LCPD bit reasserts immediately. LCPD =           DRDY signal). Reading the STATUS register does not
           0 when the CPOUT low voltage detector is disabled.             clear this bit. This bit is equivalent to the DRDY signal
           The power-on default is 0.                                     available through UPIO_. The power-on default is 0.
           58   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
ALD: Alarm (day) status bit. ALD = 1 when the value              When placing passive components in front of the
                                                                                                                               MAX1358B
programmed in ASEC<19:0> in the AL_DAY register                  MAX1358B, ensure a low enough source impedance to
matches SEC<19:0> in the RTC register. Clear the ALD             prevent introducing gain errors to the system. This con-
bit by reading the STATUS register or by disabling the           figuration significantly limits the amount of passive anti-
day alarm (ADE = 0). The power-on default is 0.                  aliasing filtering that can be applied in front of the
UPR<4:1>: User-programmable I/O rising-edge status               MAX1358B. See Table 3 for acceptable source imped-
bits. UPR_ = 1 indicates a rising edge on the respec-            ances.
tive UPIO_ pin has occurred. Clear UPR_ by reading                                  Power-On Reset or Power-Up
the STATUS register. Rising edges are detected inde-             After a power-on reset, the DVDD voltage supervisor is
pendent of UPIO_ configuration, providing the ability to         enabled and all UPIOs are configured as inputs with
capture and record rising input (e.g., WU) or output             pullups enabled. The internal oscillators are enabled and
(e.g., PWM) edge events on the UPIO_. Set the appro-             are output at CLK and CLK32K once the DVDD voltage
priate mask to determine if the edge will generate an            supervisor is cleared and the subsequent timeout period
interrupt on INT. If the UPIO_ is configured as an out-          has expired. All interrupts are masked except CRDY.
put, INT provides confirmation that an intended rising           Figure 19 illustrates the timing of various signals during
edge output occurred and has reached the desired                 initial power-up, sleep mode, and wake-up events. The
DVDD or CPOUT level (i.e., was not loaded down exter-            ADC, charge pump, internal reference, op amp(s), DAC,
nally). The power-on default is 0.                               and switches are disabled after power-up.
UPF<4:1>: User-programmable I/O falling-edge status
bit. UPF_ = 1 indicates a falling edge on the respective                                                 Power Modes
UPIO_ has occurred. Clear UPF_ by reading the                    Two power modes are available for the MAX1358B:
STATUS register. Falling edges are detected indepen-             sleep and normal mode. In sleep mode, all functional
dent of UPIO_ configuration, providing the ability to cap-       blocks are powered down except the serial interface,
ture and record falling input (e.g., WU) or output (e.g.,        data registers, internal bandgap, wake-up circuitry (if
PWM) edge events on the UPIO_. Set the appropriate               enabled), DVDD voltage supervisor (if enabled), and
mask to determine if that edge should generate an inter-         the 32kHz oscillator (if enabled), which remain active.
rupt on the INT pin. If the UPIO is configured as an out-        See Table 15 for details of the sleep-mode and normal-
put, INT provides confirmation that an intended falling          mode power states of the various internal blocks.
edge output occurred at the pin and it reached the               Each analog block can be shut down individually
desired DGND level. The power-on default is 0.                   through its respective control register with the excep-
                                                                 tion of the bandgap reference.
                 Applications Information
                                                                                                          Sleep Mode
                                       Analog Filtering          Sleep mode is entered one of three ways:
The internal digital filter does not provide rejection
close to the harmonics of the modulator sample fre-              • Writing to the SLEEP register address. The result is
quency. However, due to high oversampling ratios in                 the SHDN bit is set to 1.
the MAX1358B, these bands typically occupy a small               • Asserting the SLEEP or SLEEP function on a UPIO
fraction of the spectrum and most broadband noise is               (SLEEP takes precedence over software writes or
filtered. Therefore, the analog filtering requirements in          wake-up events). The SHDN bit is unaffected.
front of the MAX1358B are considerably reduced com-              • Asserting the SHDN bit by writing SLP = 1 in the
pared to a conventional converter with no on-chip filter-          SLEEP_CFG register.
ing. In addition, because the device’s common-mode
rejection (60dB) extends out to several kHz, the com-            Entering sleep mode is an OR function of the UPIO or
mon-mode noise susceptibility in this frequency range            SHDN bit. Before entering sleep mode, configure the
is substantially reduced.                                        normal mode conditions.
Depending on the application, provide filtering prior to the     Exit sleep mode and enter normal mode by one of the
MAX1358B to eliminate unwanted frequencies the digital           following methods:
filter does not reject. Providing additional filtering in some   • With the SHDN bit = 0, deassert the SLEEP or
applications ensures that differential noise signals outside         SLEEP function on UPIO, only if SLEEP or SLEEP
the frequency band of interest do not saturate the analog            function is used for entering sleep mode.
modulator.
                    ______________________________________________________________________________________               59


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                                                                         INITIAL POWER, WAKE-UP, AND SLEEP
                                    2                  1.8V                                              XTAL BETWEEN 32KIN AND 32KOUT PIN
                           AVDD     1
                                   0V
                                    2                         1.8V
                           DVDD     1
                                   0V
                                   HI
                            POR
                                   LO
                                                                                      OSCE = 1                                                SOSCE = 1                    OSCE = 1
                       XIN, XOUT HI
                          (32kHz) LO
                                                                                             CK32E = 1                                                                    CK32E = 1
                                 HI                                                                                                        SCK32E = 0
                          CK32K                                                                                                         BUFFER DISABLED
                         (32kHz) LO
                           RESET HI
                                                              INTERNAL           EXTERNAL
                    (OPEN DRAIN) LO
                                                          OUTPUT DISABLED,
                              HI                                BUT
                     INTERNAL                                                                                        OUTPUT ENABLED
            LOW DVDD DETECTOR LO                            PULLED LOW
                        UPIO (WU) HI
                                                                                                                                             tWU
                    (INT. PULLUP) LO
                                                                                                                                                         tDPU
                                   HI
                    UPIO (SHDN)                                                                          INTERNAL
                                   LO
                                                                                                                              tDPD
                                   HI
                            CLK                                                                                                                    INTERNAL
                                   LO
                                                                              tDFON                                   tDFOF                                     tDFON
                        INTERNAL HI
                            CRDY                                                                                                                                IF FLLE = 0, CRDY WILL
                                                                                                                                                                STAY LOW, DFON = 0
                HFCE = 1, FLLE = 1 LO
                                                                                      tDFI                                                                               tDFI
                                   HI
                             INT
                                   LO
                                                                                             PWME = 0                                        SPWME = 1                   PWME = 0
                    UPIO (PWM) HI
           CONNECTED TO POWER                                            POWER SUPPLY OFF                                                                           POWER SUPPLY OFF
               SUPPLY SHDN PIN LO
                       INTERNAL    HI
                           DRDY
                                   LO
                                   HI
                           DOUT         THREE-STATED
                                   LO
                                   HI                                                                     SLEEP
                             CS
                                                                                                          WRITE
                                   LO
                                 HI
                           SCLK,
                             DIN LO
           Figure 19. Initial Power-Up, Sleep Mode, and Wake-Up Timing Diagram with AVDD > 1.8V
           60    ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                                                                                                    MAX1358B
                                                                           VREF/GAIN                                                                                          VREF/GAIN                       VREF/GAIN
                     1111 1111 1111 1111                                                                                                     0111 1111 1111 1111
                                                                  FULL-SCALE TRANSITION
                     1111 1111 1111 1110                                                                                                     0111 1111 1111 1110
                                                                                                                                                                                                                                   VREF/GAIN
                     1111 1111 1111 1101                                                                                                     0111 1111 1111 1101
                     1111 1111 1111 1100
                                                             VREF                                                                                                                  VREF
                                               1 LSB =                                                                                                              1 LSB =                   x2
BINARY OUTPUT CODE                                                                                                      BINARY OUTPUT CODE
                                                         (GAIN x 65,536)                                                                                                      (GAIN x 65,536)
                                                                                                            VREF/GAIN
                                                                                                                                             0000 0000 0000 0001
                                                                                                                                             0000 0000 0000 0000
                                                                                                                                             1111 1111 1111 1111
                     0000 0000 0000 0011                                                                                                                                                                                           VREF/GAIN
                     0000 0000 0000 0010                                                                                                     1000 0000 0000 0010
                     0000 0000 0000 0001                                                                                                     1000 0000 0000 0001
                     0000 0000 0000 0000                                                                                                     1000 0000 0000 0000
                                           0     1       2   3                            65,533   65,535                                                      -32,768    -32,766           -1     0   +1          +32,765   +32,767
                                                                  INPUT VOLTAGE (LSB)                                                                                                  INPUT VOLTAGE (LSB)
Figure 20. ADC Unipolar Transfer Function                                                                               Figure 21. ADC Bipolar Transfer Function
• With the SLEEP or SLEEP function deasserted on
  UPIO, clear the SHDN bit by writing to the normal-
  mode register address control byte.                                                                                                                          MAX1358B                                      FBA
• With the SLEEP or SLEEP function deasserted,
  assert WU or WU (wake-up) function on UPIO.
                                                                                                                                                                    DAC A                                               OUTA
• With the SLEEP or SLEEP function deasserted, the
  day alarm triggers.
                                                                                                                                                   REF                                                       FBB
                                                                                               Wake-Up
A wake-up event, such as an assertion of a UPIO con-
                                                                                                                                                                    DAC B                                               OUTB
figured as WU or a time-of-day alarm causes the
MAX1358B to exit sleep mode, if in sleep mode. A
wake-up event in normal mode results only in a wake-up
event being recorded in the STATUS register.                                                                            Figure 22. DAC Unipolar Output Circuit
                                                RESET
The RESET output pulls low for any one of the following                                                                                                                  Supply Voltage Measurement
cases: power-on reset, DV DD monitor trips and                                                                          The AVDD supply voltage can be measured with the
RSTE = 0, watchdog timer expires, crystal oscillator is                                                                 ADC by reversing the normal input and reference sig-
attached, and 32kHz clock not ready.                                                                                    nals. The REF voltage is applied to one multiplexer
                                                                                                                        input, and AGND is selected in the other. The AVDD
The RESET output can be turned off through the RSTE                                                                     signal is then switched in as the ADC reference voltage
bit in the PS_VMONS register, causing DVDD low sup-                                                                     and a conversion is performed. The AVDD value can
ply voltage events to issue an interrupt or poll through                                                                then be calculated directly as:
the LDVD status bit. This allows brownout detection
µCs that operate with DVDD < 1.8V.                                                                                                 VAVDD = (VREF x Gain x 65,536)/N
                                                                                                                        where VREF is the reference voltage for the ADC, Gain
        Driving UPIO Outputs to AVDD Levels                                                                             is the PGA gain before the ADC, and N is the ADC
UPIO outputs can be driven to AVDD levels in systems                                                                    result. Note the AVDD voltage must be greater than the
with separate AVDD and DVDD supplies. Disable the                                                                       gained-up REF voltage (AVDD > VREF x Gain). This
charge-pump doubler by setting CPE = 0 in the                                                                           measurement must be done in unipolar mode.
PS_VMONS register, and connect the system’s analog
supply to AVDD and CPOUT. Setting UPIO outputs to
drive to CPOUT results in AVDD-referenced logic levels.
                                                 ______________________________________________________________________________________                                                                                                        61


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                                                   VREF
                                                                                                     R1                    R2
                                                             10kΩ
                               MAX1358B              FBA
                                                                                                           FB_             +3.3V
                                                           10kΩ
                                                                                                                                    VOUT
                                  DAC A                             OUTA            DAC_
                                                                                                             OUT_          -3.3V
                     REF                                     10kΩ
                                                     FBB                                                            R2 = R1
                                                                                                                    VREF = 1.25V
                                                           10kΩ                           MAX1358B
                                  DAC B                             OUTB
                                                                           Figure 24. DAC Bipolar Output Circuit
                                                                           In unipolar mode, the output code ranges from 0 to
                VREF = 1.25V
                                                                           65,535 for inputs from zero to full-scale. In bipolar
           Figure 23. DAC Unipolar Rail-to-Rail Output Circuit             mode, the output code ranges from -32,768 to +32,767
                                                                           for inputs from negative full-scale to positive full-scale.
                                                   Power Supplies
           AVDD and DVDD provide power to the MAX1358B. The                                                DAC Unipolar Output
           AVDD powers up the analog section, while the DVDD pow-          For a unipolar output, the output voltages and the refer-
           ers up the digital section. The power supply for both AVDD      ence have the same polarity. Figure 22 shows the
           and DVDD ranges from +1.8V to +3.6V. Both AVDD and              unipolar output circuit of the MAX1358B, which is also
           DVDD must be greater than +1.8V for device operation.           the typical operating circuit for the DAC. Table 22 lists
           AVDD and DVDD can connect to the same power supply.             some unipolar input codes and their corresponding
           Bypass AVDD to AGND with a 10µF electrolytic capacitor          output voltages.
           in parallel with a 0.1µF ceramic capacitor, and bypass          For larger output swing, see Figure 23. This circuit
           DVDD to DGND with a 10µF electrolytic capacitor in paral-       shows the output amplifiers configured with a closed-
           lel with a 0.1µF ceramic capacitor. For improved perfor-        loop gain of +2V/V to provide 0 to 2.5V full-scale range
           mance, place the bypass capacitors as close to the device       with the 1.25V reference.
           as possible.
                                                                                                            DAC Bipolar Output
                                          ADC Transfer Functions           The MAX1358B DAC output can be configured for
           Figures 20 and 21 provide the ADC transfer functions            bipolar operation using the application circuit in
           for unipolar and bipolar mode. The digital output code          Figure 24:
           format is binary for unipolar mode and two’s comple-                                          ⎡⎛ 2N ⎞      ⎤
           ment for bipolar mode. Calculate 1 LSB using the fol-                             VOUT = VREF ⎢⎜      ⎟ − 1⎥
           lowing equations:                                                                             ⎣⎝ 1024 ⎠    ⎦
                1 LSB (Unipolar Mode) = VREF/(Gain x 65,536)               where N is the decimal value of the DAC’s binary input code.
               1 LSB (Bipolar Mode) = ±2VREF/(Gain x 65,536)               Table 23 shows digital codes (offset binary) and corre-
           where VREF equals the reference voltage at REF and              sponding output voltages for Figure 24 assuming
           Gain equals the PGA gain.                                       R1 = R2.
           Table 22. Unipolar Code                                         Table 23. Bipolar Code
                   DAC CONTENTS                                                   DAC CONTENTS
                                                ANALOG OUTPUT                                                       ANALOG OUTPUT
                    MSB     LSB                                                    MSB     LSB
                    1111 1111 11                +VREF (1023/1024)                  1111 1111 11                     +VREF (511/512)
                    1000 0000 01                +VREF (513/1024)                   1000 0000 01                       +VREF (1/512)
                    1000 0000 00            +VREF (512/1024) = +VREF/2             1000 0000 00                             0
                    0111 1111 11                +VREF (511/1024)                   0111 1111 11                       -VREF (1/512)
                    0000 0000 01                  +VREF (1/1024)                   0000 0000 01                      -VREF (511/512)
                    0000 0000 00                        0                          0000 0000 00                  -VREF (512/512) = -VREF
           62     ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                    Clocking with a CMOS Signal                                  Temperature Measurement with
                                                                                                                                               MAX1358B
A CMOS signal can be used to drive 32KIN if it is divid-                                  Two Remote Sensors
ed down. Figure 25 is an example circuit, which works        Use two diode-connected 2N3904 transistors for exter-
well.                                                        nal temperature sensing in Figure 29. Select AIN1 and
                                                             AIN2 through the positive and negative mux, respec-
                                    Input Multiplexer        tively. For internal temperature sensor measurements,
The mux inputs can range between AGND and AVDD.              set MUXP<3:0> to 0111, and set MUXN<3:0> to 0000.
However, when the internal temperature sensor is             The analog input signals feed through a PGA to the
enabled, AIN1 and AIN2 cannot exceed 0.7V. This              ADC for conversion.
necessitates additional circuitry to divide down the
input signal. See Figure 26 for an example circuit that      The MAX1358B integrated PWM is available for LCD
divides down backlight VDD to work properly with the         bias control, sensor-bias voltage trimming, buzzer drive,
AIN1 pin.                                                    and duty-cycled sleep-mode power-control schemes.
                                                             Figure 30 shows the MAX1358B performing LCD bias
     Optical Reflectometry Application with                  control. A sensor-bias voltage trimming application is
            Dual LED and Single Photodiode                   shown in Figure 31. Figures 33 and 34 show the PWM
Figure 27 illustrates the MAX1358B in a complete opti-       circuitry being used in a single-ended and differential
cal reflectometry application with two transmitting LEDs     piezoelectric buzzer-driving application.
and one receiving photodiode. The LEDs transmit light
at a specific wavelength onto the sample strip, and the                                                          ADC Calibration
photodiode receives the reflections from the strip. Set      Internal to the MAX1358B, the ADC is 24 bits and is
the DAC to provide appropriate bias currents for the         always in bipolar mode. The OFFSET CAL and GAIN
LEDs. Always keep the photodiodes reverse-biased or          CAL data is also 24 bits. The conversion to unipolar and
zero-biased. SPDT1 and SPDT2 switch between the              the gain are performed digitally. The default values for
two LEDs.                                                    the OFFSET CAL and GAIN CAL registers in the
                                                             MAX1358B are 00 0000h and 80 0000h, respectively.
             Electrochemical Sensor Operation                The calibration works as follows:
The MAX1358B family interface with electrochemical
sensors. The 10-bit DAC with the force-sense buffers                   ADC = (RAW - OFFSET) x Gain x PGA
have the flexibility to connect to many different types of   where ADC is the conversion result in the DATA register,
sensors. An external precision resistor completes the        RAW is the output of the decimation filter internal to the
transimpedance amplifier configuration to convert the        MAX1358B, OFFSET is the value stored in the OFFSET
current generated by the sensor to a voltage measure-        CAL register, Gain is the value stored in the GAIN CAL
ment using the ADC. The induced error from this source       register, and PGA is the selected PGA gain found in the
is negligible due to FBA’s extremely low input bias cur-     ADC register as GAIN<1:0>. In unipolar mode, all nega-
rent. Internally, the ADC can differentially measure         tive values return a zero result and an additional gain of 2
directly across the external transimpedance resistor,        is added.
RF, eliminating any errors due to voltages drifting over
time, temperature, or supply voltage.
                                                                                                                           BACKLIGHT
                                                                                   VBATT2
                                                                                                                           VDD
                     100kΩ                                    VBATT1
     CMOS CLOCK
                                     32KIN                                                   GPIOn
      (0 TO DVDD)
                                                                                  UPIO1
                         100kΩ                                                                                        NOTE:
                                                                        MAX1358B                                      GPIOn IS LOW = LED ON,
                                                                                             BATTVCHECK   < 0.6125V   HIGH-Z = LED OFF
                                         MAX1358B                           x2
                                                                                      AIN1
                                                                       VREF = 1.25V
                                                                           μP
Figure 25. Clocking with a CMOS Signal                       Figure 26. Input Multiplexer
                    ______________________________________________________________________________________                                63


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                        VCP
                                           TXD                                                 SERIAL-PORT INTERFACE
                                           RXD
                                                                                                                               VSS
                                                        VSS
                                     μC
                                                                                                                               VBAT
                                                                    VSS                               EEPROM
                                          MOSI                                        SI                                 VCC
                                          MISO                                        SO
                                           SCK                                        SCK
                                           CS1                                        CS                                GND
                                                                                                                               VSS
                                                                                                                                                                                            VCP
                                                                                                      MAX1358B                           BDIN                              LCD MODULE
                                                                                                                       UPIO1
                                                                                                                                        BDOUT
                                                                                      DIN                              UPIO2
                                                                                                                                        BSCLK
                                                                                                                       UPIO3
                                                                                      DOUT
                                                                                                                                        BCS2
                                                                                                                       UPIO4
                                                                                      SCLK
                                                                                                                                                                                            VSS
                                                              CS2
                                           CS2                                        CS
                      MEM
                             INPUT        RESET                                       RESET
                       UP                 INPUT                                       INT
                             INPUT
                                                  HIGH-FREQUENCY MICRO CLOCK
                      DOWN                 X2IN                                       CLK                               IN1-
                             INPUT
                                                      32kHz MICRO CLOCK
                                          32KIN                                       CLK32K
                VSS                                                                                                     IN1+
                                                                                      AVDD
                                                                VBAT                                                   OUT1
                                                                                      DVDD                                       VSS
                                                                                                                                                             VSS
                                           VDD
                                                                    2 AAA OR                                                             1nF
                                                                    1 LITHIUM
                                                                                                                       SNO2
                                                                    COIN CELL                  ADC                                                                                  TEST
                                                                                                                       SCM2                                                         STRIP
                                            VSS                                       AGND
                                                                                                                       SNC2     VSS
                                                              VSS
                                                                                      DGND           PWM
                                                                                                                        AIN1                                 AMBIENT LIGHT
                                                                                                                        AIN2
                                                                                               DACA                                                              LED SOURCES
                                                                                                                       OUTA                          VCP
                                                                                      32KIN
                                                                                                                       SWA                     LED
                                                                                                                        FBA                                      VCP
                                                                    32.768kHz                                          SNO1
                                                                                                                                                           LED
                                                                                                                       SCM1
                                                                                      32KOUT
                                                                                        DVDD
                                                                                                                       SNC1
                                                                                                 LINEAR
                                                                                                   REG
                                                                                      REG
                                                                                      CF+
                                                                                                CHARGE-                REF
                                                                       VSS                       PUMP
                                                                                      CF-                   BG
                                                                                                DOUBLER
                                                                                      CPOUT
                                                                     VCP
                                                                                                                                       VSS                       VSS
                                                                                VSS
           Figure 27. Optical Reflectometry Application with Dual LED and Single Photodiode
           64   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                                                                                      MAX1358B
                                  VCP           μC                                                                     LCD GLASS
                                                     COM<3:0>
                       LCDBIAS                       SEG<23:0>
                                                                 RX_WAKEUP                                                                               SERIAL-PORT INTERFACE
                                                          RXD
                                                                                                                                                                                           VSS
                                             LCD
                                           DRIVERS
                                                                                      VSS
                                                       BUZ_HI                                                                 PIEZO
                                                       BUZ_LO                                                                 ALARM
                                                                                                                                              VBAT
                                                                                                                        EEPROM
                                                         MOSI                                           SI                             VCC
                                  VSS
                                                         MISO                                           SO
                                                          SCK                                           SCK
                                                          CS1                                           CS                             GND
                                                                                                                                              VSS
                                                                                                                       MAX1358B
                                                                                                                           CPOUT
                                                                                                                                      UPIO2
                                                          TXD                                           DIN
                                                                                                        DOUT                          UPIO1                          RX_WAKEUP
                                                                                                                           CPOUT
                                                                                                                                      UPIO3
                                                                                                                 PWM                                                               LCDBIAS
                                                                                                        SCLK
                                                                              CS2                                                             STRIP INSERTED
                                                          CS2                                           CS                            UPIO4
                                                                                                                                                                             VSS
                                 MEM
                                        INPUT           RESET                                           RESET                         OUTA
                                  UP                                                                                                                                               TEST
                                        INPUT           INPUT                                           INT                            SWA                                         STRIP
                                                                    HIGH-FREQUENCY MICRO CLOCK
                                 DOWN                    X2IN                                           CLK                            FBA
                                        INPUT
                                                                        32kHz MICRO CLOCK
                                                        32KIN                                           CLK32K
                     VSS
                                                                                                        AVDD
                                                                                    VBAT
                                                                                                                                                                       VSS
                                                                                                        DVDD           DACA
                                                          VDD                                                                         OUTB
                                                                                      2 AAA OR
                                                                                      1 LITHIUM
                                                                                                                                       SWB
                                                                                      COIN CELL
                                                                                                                                       FBB
                                                          VSS                                           AGND     ADC
                                                                               VSS
                                                                                                        DGND
                                                                                                                       DACB           SNO1
                                                                                                                                      SCM1
                                                                                                        32KIN                         SNC1
                                                                                                                                      OUT1
                                                                                      32.768kHz
                                                                                                                                       IN1-
                                                                                                        32KOUT                         IN1+
                                                                                                          DVDD
                                                                                                                  LINEAR               REF
                                                                                                                              BG
                                                                                                                    REG
                                                                                                        REG
                                                                                                        CF+
                                                                                                                 CHARGE-              SNO2
                                                                                           VSS                    PUMP
                                                                                                        CF-      DOUBLER              SCM2
                                                                                                        CPOUT                         SNC2
                                                                                       VCP
                                                                                                  VSS                                  AIN1                                  VSS
                                                                                                                                                       REMOTE TEMPERATURE-
                                                                                                                                                       MEASUREMENT DIODE
                                                                                                                                       AIN2
                                                                                                                                                 VSS
Figure 28. Electrochemical Meter Application Circuit (Traditional and Counter Configuration)
                    ______________________________________________________________________________________                                                                                       65


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
           For self-calibration, the offset value is the RAW result      log ground plane under the MAX1358B to minimize
MAX1358B
           when the inputs are shorted internally and the gain value     coupling of digital noise. Make the power-supply lines
           is 1/(RAW - OFFSET) with the reference connected to the       to the MAX1358B as wide as possible to provide low-
           input. This is done automatically when these modes are        impedance paths and reduce the effects of glitches on
           selected. The self-offset and gain calibration corrects for   the power-supply line.
           errors internal to the ADC and the results are stored and     Shield fast-switching signals such as clocks with digital
           used automatically in the OFFSET CAL and GAIN CAL             ground to avoid radiating noise to other sections of the
           registers. For best results, use the ADC in the same con-     board. Avoid running clock signals near the analog
           figuration as the calibration. This pertains to conversion    inputs. Avoid crossover of digital and analog signals.
           rate only because the PGA gain and unipolar/bipolar
           modes are performed digitally.                                Good decoupling is important when using high-resolu-
                                                                         tion ADCs. Decouple all analog supplies with 10µF
           For system calibration, the offset and gain values cor-       capacitors in parallel with 0.1µF HF ceramic capacitors
           rect for errors in the whole signal path including the        to AGND. Place these components as close to the
           internal ADC and any external circuits in the signal          device as possible to achieve the best decoupling.
           path. For the system calibration, a user-provided zero-
           input condition is required for the offset calibration and                                         Crystal Layout
           a user-provided full-scale input is required for the gain     Follow basic layout guidelines when placing a crystal
           calibration. These values are automatically written to        on a PCB with a DAS to avoid coupled noise:
           the OFFSET CAL and GAIN CAL registers. The order of           1) Place the crystal as close as possible to 32KIN and
           the calibrations should be offset followed by gain.               32KOUT. Keeping the trace lengths between the
           The offset correction value is in two’s complement. The           crystal and inputs as short as possible reduces the
           default value is 000000h, 00...00b, or 0 decimal.                 probability of noise coupling by reducing the length
           The gain correction value is an unsigned binary number            of the “antennae”. Keep the 32KIN and 32KOUT
           with 23 bits to the right of the decimal point. The largest       lines close to each other to minimize the loop area
           number is therefore 1.1111...1b = 2 - 2-23 and the small-         of the clock lines. Keeping the trace lengths short
           est is 0.000...0b = 0, although it does not make sense to         also decreases the amount of stray capacitance.
           use a number smaller than 0.1000...0b = 0.5. The default      2) Keep the crystal solder pads and trace width to
           value is 800000h, 1.000...0b or 1 decimal.                       32KIN and 32KOUT as small as possible. The larg-
           Changing the offset or gain calibration values does not          er these bond pads and traces are, the more likely
           affect the value in the DATA register until a new conver-        it is that noise will couple from adjacent signals.
           sion has completed. This applies to all the mode bits         3) Place a guard ring (connect to ground) around the
           for PGA gain, unipolar/bipolar, etc.                             crystal to isolate the crystal from noise coupled
                                                                            from adjacent signals.
                                       Grounding and Layout
           For best performance, use a PCB with separate analog          4) Ensure that no signals on other PCB layers run
           and digital ground planes.                                       directly below the crystal or below the traces to
                                                                            32KIN and 32KOUT. The more the crystal is isolat-
           Design the PCB so that the analog and digital sections           ed from other signals on the board, the less likely it
           are separated and confined to different areas of the             is that noise will be coupled into the crystal.
           board. Join the digital and analog ground planes at one          Maintain a minimum distance of 5mm between any
           point. If the DAS is the only device requiring an AGND-to-       digital signal and any trace connected to 32KIN or
           DGND connection, connect planes to the AGND pin of the           32KOUT.
           DAS. In systems where multiple devices require AGND-to-
           DGND connections, the connection should still be made         5) Place a local ground plane on the PCB layer imme-
           at only one point. Make the star ground as close as possi-       diately below the crystal guard ring. This helps to
           ble to the MAX1358B.                                             isolate the crystal from noise coupling from signals
                                                                            on other PCB layers.
           Avoid running digital lines under the device because
           these may couple noise onto the device. Run the ana-             Note: The ground plane must be in the vicinity of the
                                                                            crystal only and not on the entire board.
           66   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                       MAX1358B
                                                 AIN1
                                                          MUX      PGA               16-BIT ADC         REF
                                                 AGND
                            2N3904                                 AV = 1, 2, 4, 8
                                                 AIN2
                                                                                        MAX1358B
                                                          MUX
                                                 AGND
                                                                                     AV = 1, 1.638, 2
                            2N3904                                                                            CREF
                                                         TEMP               1.25V                       REF
                                                        SENSOR               REF
Figure 29. Temperature Measurement with Two Remote Sensors
                       Parameter Definitions                                                                              Gain Error
                                                                      Gain error is the amount of deviation between the mea-
                                                          INL         sured full-scale transition point and the ideal full-scale
Integral nonlinearity (INL) is the deviation of the values            transition point.
on an actual transfer function from a straight line. This
straight line is either a best-straight-line fit or a line drawn                                              Common-Mode Rejection
between the end points of the transfer function, once off-            Common-mode rejection (CMR) is the ability of a
set and gain errors have been nulled. INL for the                     device to reject a signal that is common to both input
MAX1358B is measured using the end-point method.                      terminals. The common-mode signal can be either an
                                                                      AC or a DC signal or a combination of the two. CMR is
                                                         DNL          often expressed in decibels.
Differential nonlinearity (DNL) is the difference between
an actual step width and the ideal value of 1 LSB. A DNL                             Power-Supply Rejection Ratio (PSRR)
error specification of greater than -1 LSB guarantees no              Power-supply rejection ratio (PSRR) is the ratio of the
missing codes and a monotonic transfer function.                      input supply change (in volts) to the change in the
                                                                      converter output (in volts). It is typically measured in
                                                                      decibels.
                    ______________________________________________________________________________________                        67


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                              MAX1358B         DVDD CPOUT     CPOUT
                                         SV_      MUX
                                                                                      100kΩ
                                                                            200kΩ
                                                              UPIO_                            (1.8V                    μC
                              PWM
                                                                                               TO
                                                                                      0.01μF   2.6V)
                                                                                      100kΩ
                                                    EN_
                                                                                                                                 SEG     n
                                          ALH_
                                                                                      100kΩ                         LCD                         LCD
                                                                                                                  DRIVERS
                                                                                                                                 COM m
                                                                                      100kΩ
           Figure 30. LCD Contrast-Adjustment Application
                                                                                                 ~1.25V
                                                                                       REF
                                                                      MAX1358B                                      ~19kHz
                                                                                                                   VOLTAGE
                                                                                                                                        240kΩ
                                                                                    SNO1                         RIPPLE < 1mV
                                                                                                               350kΩ
                                                                                    SCM1
                                                            PWM                                                                         ~0.3V
                                                                                    SNC1
                                                                    SPDT1                                       0.1μF                   60kΩ
                                                                                     AGND
                                                                                     IN1+
                                                                  OUT1               IN1-
                                                                                                          IT
                                                                                                               TRANSDUCER
                                                                                                                                0.300V (±1mV)
           Figure 31. Sensor-Bias Voltage Trim Application
           68   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                                            MAX1358B
                                                                                               VDD
                                                         AVDD
                                                         DVDD
                            MAX1358B
                                                DVDD   CPOUT                                                  < 10μA
                                                                                         VIN         VOUT                   VDD
                                       SV_         MUX
                                                                       VBATT             POWER SUPPLY              100μF          μC
                                                                                  10MΩ
                                                        UPIO_
                          PWM                                                            SHDN
                                                                 PSCTL
                                                                                          ON-TIME <100ms TYP
                                                                                           10s PERIOD TYP
                                                       EN_                 PSCTL
                                                                          +3.3V
                                         ALH_                              VDD
                                                                          +2.3V
Figure 32. Power-Supply Sleep-Mode Duty-Cycle Control
                                                                DVDD     CPOUT
                                        MAX1358B
                                                       SV_         MUX                         CPOUT(+3.2V)
                                                                                                        0V
                                                                                                                  1kHz TO 8kHz TYP
                                                                          UPIO_                1kΩ
                                        PWM
                                                                                                                ~10,000pF
                                                         ALH_
Figure 33. Single-Ended Piezoelectric Buzzer Drive
                    ______________________________________________________________________________________                             69


           16-Bit, Data-Acquisition System with ADC, DACs,
           UPIOs, RTC, Voltage Monitors, and Temp Sensor
MAX1358B
                                                           DVDD CPOUT
                                          MAX1358B                               CPOUT(+3.2V)
                                                     SV_      MUX                         0V
                                                                                                 1kHz TO 8kHz TYP
                                                                                 1kΩ
                                                                        UPIO_
                                        PWM
                                                                                                             CPOUT
                                                                                                                +
                                                                                                ~10,000pF   6.4V DIFF
                                                      ALH_                                                      -
                                                           DVDD CPOUT                                       -CPOUT
                                                     SV_      MUX
                                                                                 1kΩ
                                                                        UPIO_
                                                                                CPOUT(~+3.2V)
                                                                                          0V
                                                                                                 1kHz TO 8kHz TYP
                                                      ALH_
           Figure 34. Differential Piezoelectric Buzzer Drive
                                            Chip Information                                                        Package Information
           PROCESS: BiCMOS                                                             For the latest package outline information and land patterns,
                                                                                       go to www.maxim-ic.com/packages. Note that a “+”, “#”, or
                                                                                       “-” in the package code indicates RoHS status only. Package
                                                                                       drawings may show a different suffix character, but the drawing
                                                                                       pertains to the package regardless of RoHS status.
                                                                                         PACKAGE              PACKAGE    OUTLINE         LAND
                                                                                           TYPE                 CODE       NO.        PATTERN NO.
                                                                                         40 TQFN-EP            T4066+5    21-0141        90-0055
           70   ______________________________________________________________________________________


16-Bit, Data-Acquisition System with ADC, DACs,
UPIOs, RTC, Voltage Monitors, and Temp Sensor
                                                                                                                  Revision History
                                                                                                                                                        MAX1358B
  REVISION          REVISION                                                                                                       PAGES
                                                                       DESCRIPTION
  NUMBER             DATE                                                                                                         CHANGED
                                   Initial release of data sheet. The MAX1358B previously appeared on a different
       0               8/10                                                                                                           1–70
                                   data sheet.
       1              12/10        Changed test conditions                                                                          2–10, 12
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are
implied. Maxim reserves the right to change the circuitry and specifications without notice at any time.
Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600 ____________________ 71
© 2010 Maxim Integrated Products                                         Maxim is a registered trademark of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX1358BETL+ MAX1358BETL+T MAX1358BETL+TW MAX1358BETL+W
