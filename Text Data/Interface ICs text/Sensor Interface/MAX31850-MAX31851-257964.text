                                                                                                          EVALUATION KIT AVAILABLE
                                                                                   MAX31850/MAX31851
                                          Cold-Junction Compensated, 1-Wire
                                          Thermocouple-to-Digital Converters
                              General Description                                                       Benefits and Features
The MAX31850/MAX31851 cold-junction compensat-                               S Integration Reduces Design Time and Lowers
ed, 1-WireM thermocouple-to-digital converters perform                         System Cost
cold-junction compensation and digitize the signal from                         • 14-Bit, 0.25NC Resolution
a K-, J-, N-, T-, S-, R-, or E-type thermocouple. The con-                      • Integrated Cold-Junction Compensation
verters resolve temperatures to 0.25NC, allow readings
                                                                                • Available for Multiple Thermocouples Types:
as high as +1768NC and as low as -270NC, and exhibit
                                                                                  Supports K-, J-, N-, T-, and E-Type (MAX31850);
thermocouple accuracy of 8 LSBs (2NC) for temperatures
                                                                                  S- and R-Type (MAX31851)
ranging from -200NC to +700NC.
                                                                                • Detects Thermocouple Shorts to GND or VDD
Communication with the master microcontroller is over a
                                                                                • Detects Open Thermocouple
1-Wire bus that by definition requires only one data line
(and ground) for communication. Operating power can                          S 1-Wire Multiddrop Capability Simplifies
be obtained directly from the data line (“parasite power”),                    Multisensor Systems
eliminating the need for an external power supply.                              • 1-Wire Interface (Read-Only); Power Can Be
Each device has a unique 64-bit serial code, which                                Obtained from Interface (Parasite-Powered Mode)
allows multiple units to function on the same 1-Wire bus.                                                                Applications
Therefore, it is simple to use one microcontroller (the
master device) to monitor temperature from many ther-                               Industrial                          HVAC
mocouples distributed over a large area.                                            Appliances                          Medical
Four location address inputs simplify mapping of
                                                                             Ordering Information appears at end of data sheet.
individual units to specific locations.
                                                                                                                    Block Diagram
                                                                                                                                DQ
                                                                      MAX31850
                                                                                                              PARASITE-
                                                  S5                  MAX31851                                 POWER
                                COLD-JUNCTION
                                COMPENSATION                                                                   CIRCUIT
                                                                                           64-BIT ROM
                                                                                              AND
                                                                                           1-Wire PORT       CPP
             T+                                   S4
                                                                       ADC                                     POWER-
             T-                                                                                                SUPPLY           VDD
                                                                                                                SENSE
                           S1
                                       FAULT                                                MEMORY
                           S2        DETECTION                                           CONTROL LOGIC
                     S3                           REFERENCE                               SCRATCHPAD
                                                   VOLTAGE
                                                                                        ADDRESS PIN INPUT                       GND
                                                                                       AD0 AD1 AD2 AD3
1-Wire is a registered trademark of Maxim Integrated Products, Inc.
For related parts and recommended products to use with this part, refer to: www.maximintegrated.com/MAX31850.related
For pricing, delivery, and ordering information, please contact Maxim Direct at
1-888-629-4642, or visit Maxim Integrated’s website at www.maximintegrated.com.                                             19-6725; Rev 2; 1/15


                                                                                              MAX31850/MAX31851
                                                         Cold-Junction Compensated, 1-Wire
                                                         Thermocouple-to-Digital Converters
ABSOLUTE MAXIMUM RATINGS
Supply Voltage Range (VDD to GND)...................-0.3V to +4.0V                     Operating Temperature Range......................... -40NC to +125NC
All Other Pins............................................. -0.3V to (VDD + 0.3V)      Junction Temperature......................................................+150NC
Continuous Power Dissipation (TA = +70NC)                                              Storage Temperature Range ........................... -65NC to +150NC
    TDFN (derate 16.70mW/NC above +70NC)............1333.30mW                          Lead Temperature (soldering, 10s).................................+300NC
ESD Protection (All Pins, Human Body Model)....................±2kV                    Soldering Temperature (reflow) ......................................+260NC
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional opera-
tion of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect device reliability.
PACKAGE THERMAL CHARACTERISTICS (Note 1)
TDFN
    Junction-to-Ambient Thermal Resistance (BJA)...........60NC/W
    Junction-to-Case Thermal Resistance (BJC)................30NC/W
Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer
            board. For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
DC ELECTRICAL CHARACTERISTICS
(TA = -40NC to +125NC, unless otherwise noted.) (Note 2)
                 PARAMETER                                   SYMBOL                   CONDITIONS                      MIN           TYP           MAX           UNITS
  Supply Voltage                                                VDD      Local power (Note 3, 4)                       3.0           3.3            3.7             V
  Pullup Supply Voltage                                                  Parasite power (Note 3)                       3.0                          3.7
                                                                 VPU                                                                                                V
  (Notes 3, 4)                                                           Local power (Note 3)                          3.0                         VDD
  Input Logic-Low                                                VIL     (Notes 4, 6)                                 -0.3                         +0.8             V
                                                                                                                                                  lower
                                                                                                                                                of 3.7V
                                                                         Local power                                   2.2                          or
                                                                                                                                                (VDD +
                                                                                                                                                  0.3V)
  Input Logic-High (Note 4)                                      VIH                                                                                                V
                                                                                                                                                  lower
                                                                                                                                                of 3.7V
                                                                         Parasite power                                3.0                          or
                                                                                                                                                (VDD +
                                                                                                                                                  0.3V)
  Output Sink Current                                             IL     VI/O = 0.4V (Note 4)                          4.0                                         mA
  Standby Supply Current                                        IDDS     (Notes 7, 8)                                               280           1000             nA
  Active Supply Current                                          IDD     VDD = 3.7V (Note 9)                                        900           1750             FA
  DQ Input Current                                               IDQ     (Note 10)                                                    5                            FA
  Power-Supply Rejection                                                                                                            -0.3                          °C/V
  Input Leakage Current (AD0–AD3 Pins)                                   (Note 3)                                      -1                           +1             FA
                                                                         TA = -40°C to +125°C, 100mV across
  Thermocouple Input Bias Current                               IBTC                                                  -100                        +100             nA
                                                                         the thermocouple inputs (Note 3)
Maxim Integrated                                                                                                                                                        2


                                                                          MAX31850/MAX31851
                                      Cold-Junction Compensated, 1-Wire
                                      Thermocouple-to-Digital Converters
THERMAL CHARACTERISTICS
(3.0V P VDD P 3.6V, TA = -40NC to +125NC, unless otherwise noted.) (Note 2)
            PARAMETER               SYMBOL                    CONDITIONS          MIN TYP MAX UNITS
                                               TTHERMOCOUPLE = -100NC to +100NC,
                                                                                   -1      +1
                                               TA = 0NC to +70NC (Note 12)
 MAX31850K Thermocouple                        TTHERMOCOUPLE = -200NC to +700NC,
                                                                                   -2      +2
 Temperature Gain and Offset                   TA = -20NC to +85NC (Note 12)
                                                                                               NC
 Error (41.276FV/NC nominal                    TTHERMOCOUPLE = +700NC to +1372NC,
 sensitivity) (Note 11)                                                            -4      +4
                                               TA = -20NC to +85NC (Note 12)
                                               TTHERMOCOUPLE = -270NC to +1372NC,
                                                                                   -6      +6
                                               TA = -40NC to +125NC (Note 12)
                                               TTHERMOCOUPLE = -100NC to +100NC,
                                                                                   -1      +1
 MAX31850J Thermocouple                        TA = 0NC to +70NC (Note 12)
 Temperature Gain and Offset                   TTHERMOCOUPLE = -210NC to +750NC,
                                                                                   -2      +2  NC
 Error (57.953FV/NC nominal                    TA = -20NC to +85NC (Note 12)
 sensitivity) (Note 11)                        TTHERMOCOUPLE = -210NC to +1200NC,
                                                                                   -4      +4
                                               TA = -40NC to +125NC (Note 12)
                                               TTHERMOCOUPLE = -100NC to +100NC,
                                                                                   -1      +1
                                               TA = 0NC to +70NC (Note 12)
 MAX31850N Thermocouple                        TTHERMOCOUPLE = -200NC to +700NC,
                                                                                   -2      +2
 Temperature Gain and Offset                   TA = -20NC to +85NC (Note 12)
                                                                                               NC
 Error (36.256FV/NC nominal                    TTHERMOCOUPLE = +700NC to +1300NC,
 sensitivity) (Note 11)                                                            -4      +4
                                               TA = -20NC to +85NC (Note 12)
                                               TTHERMOCOUPLE = -270NC to +1300NC,
                                                                                   -6      +6
                                               TA = -40NC to +125NC (Note 12)
                                               TTHERMOCOUPLE = -100NC to +100NC,
                                                                                   -1      +1
 MAX31850T Thermocouple                        TA = 0NC to +70NC (Note 12)
 Temperature Gain and Offset                   TTHERMOCOUPLE = -270NC to +400NC,
                                                                                   -2      +2  NC
 Error (52.18FV/NC nominal                     TA = -20NC to +85NC (Note 12)
 sensitivity) (Note 11)                        TTHERMOCOUPLE = -270NC to +400NC,
                                                                                   -4      +4
                                               TA = -40NC to +125NC (Note 12)
                                               TTHERMOCOUPLE = -120NC to +100NC,
                                                                                   -1      +1
                                               TA = -20NC to +85NC (Note 12)
 MAX31850E Thermocouple                        TTHERMOCOUPLE = -200NC to +700NC,
                                                                                   -2      +2
 Temperature Gain and Offset                   TA = -20NC to +85NC (Note 12)
                                                                                               NC
 Error (76.373FV/NC nominal                    TTHERMOCOUPLE = +700NC to +1000NC,
 sensitivity) (Note 11)                                                            -4      +4
                                               TA = -20NC to +85NC (Note 12)
                                               TTHERMOCOUPLE = -270NC to +1000NC,
                                                                                   -5      +5
                                               TA = -40NC to +125NC (Note 12)
Maxim Integrated                                                                                    3


                                                                          MAX31850/MAX31851
                                      Cold-Junction Compensated, 1-Wire
                                      Thermocouple-to-Digital Converters
THERMAL CHARACTERISTICS (continued)
(3.0V P VDD P 3.6V, TA = -40NC to +125NC, unless otherwise noted.) (Note 2)
            PARAMETER               SYMBOL                    CONDITIONS          MIN  TYP   MAX UNITS
                                               TTHERMOCOUPLE = -50NC to +100NC,
                                                                                   -2         +2
                                               TA = 0NC to +70NC (Note 12)
 MAX31851R Thermocouple                        TTHERMOCOUPLE = -50NC to +700NC,
                                                                                   -3         +3
 Temperature Gain and Offset                   TA = -20NC to +85NC (Note 12)
                                                                                                  NC
 Error (10.506FV/NC nominal                    TTHERMOCOUPLE = +700NC to +1768NC,
 sensitivity) (Note 11)                                                            -5         +5
                                               TA = -20NC to +85NC (Note 12)
                                               TTHERMOCOUPLE = -50NC to +1768NC,
                                                                                   -7         +7
                                               TA = -40NC to +125NC (Note 12)
                                               TTHERMOCOUPLE = -50NC to +150NC,
                                                                                   -2         +2
                                               TA = 0NC to +70NC (Note 12)
 MAX31851S Thermocouple                        TTHERMOCOUPLE = -50NC to +700NC,
                                                                                   -3         +3
 Temperature Gain and Offset                   TA = -20NC to +85NC (Note 12)
                                                                                                  NC
 Error (9.587FV/NC nominal                     TTHERMOCOUPLE = +700NC to +1768NC,
 sensitivity) (Note 11)                                                            -5         +5
                                               TA = -20NC to +85NC (Note 12)
                                               TTHERMOCOUPLE = -50NC to +1768NC,
                                                                                   -7         +7
                                               TA = -40NC to +125NC (Note 12)
 Thermocouple Temperature Data
                                                                                       0.25       NC
 Resolution
 Thermocouple Temperature Data
                                               Hot junction temperature = +400NC      ±0.24       NC
 Long-Term Drift
 Internal Cold-Junction
                                               TA = -40NC to +100NC (Note 13)      -2         +2  NC
 Temperature Error
 Cold-Junction Temperature Data
                                               TA = -40NC to +125NC                   0.0625      NC
 Resolution
 Temperature Conversion Time
 (Thermocouple, Cold Junction,       tCONV     (Note 14)                                72   100  ms
 Fault Detection)
Maxim Integrated                                                                                       4


                                                                              MAX31850/MAX31851
                                           Cold-Junction Compensated, 1-Wire
                                            Thermocouple-to-Digital Converters
1-Wire TIMING CHARACTERISTICS
(3.0V P VDD P 3.6V, TA = -40NC to +125NC, unless otherwise noted.) (Notes 2, 3)
            PARAMETER                  SYMBOL                     CONDITIONS                         MIN      TYP       MAX      UNITS
 Time to Strong Pullup On                tSPON     Start Convert T command issued                                         8        µs
 Time Slot                                tSLOT    (Note 15)                                          60                120        µs
 Recovery Time                             tREC    (Note 15)                                          1                            µs
 Write-0 Low Time                        tLOW0     (Note 15)                                          60                120        µs
 Write-1 Low Time                        tLOW1     (Note 15)                                          1                  15        µs
 Read Data Valid                           tRDV    (Note 15)                                                             15        µs
 Reset Time High                          tRSTH    (Note 15)                                         480                           µs
 Reset Time Low                           tRSTL    (Notes 15, 16)                                    480                           µs
 Presence Detect High                   tPDHIGH    (Note 15)                                          15                 60        µs
 Presence Detect Low                    tPDLOW     (Note 15)                                          60                240        µs
 Capacitance: DQ                        CIN/OUT    (Note 17)                                                             25        pF
 Capacitance: AD0–AD3                  CIN_ADD     (Note 17)                                                             50        pF
Note 2: Limits are 100% production tested at TA = +25NC. Limits over the operating temperature range and relevant supply volt-
          age range are guaranteed by design and characterization.
Note 3: Limits are 100% production tested at TA = +25NC and +85NC. Limits over the operating temperature range and relevant sup-
          ply voltage are guaranteed by design and characterization.
Note 4: All voltages are referenced to GND. Currents entering the IC are specified positive and currents exiting the IC are negative.
Note 5: The pullup supply voltage specification assumes that the pullup device is ideal, and therefore the high level of the pullup
          is equal to VPU. To meet the device’s VIH specification, the actual supply rail for the strong pullup transistor must include
          margin for the voltage drop across the transistor when it is turned on. Thus: VPU_ACTUAL = VPU_IDEAL + VTRANSISTOR.
Note 6: To guarantee a presence pulse under low-voltage parasite power conditions, VILMAX, may have to be reduced to as low
          as 0.5V.
Note 7: Standby current specified up to +70NC.
Note 8: To minimize IDDS, DQ should be within the following ranges: VGND P VDQ P VGND + 0.3V or VDD - 0.3V P VDQ P VDD.
Note 9: Active current refers to supply current during active temperature conversions.
Note 10: DQ is high (high-impedance state with external pullup).
Note 11: Not including cold-junction temperature error or thermocouple nonlinearity.
Note 12: Guaranteed by design. These limits represent six sigma distribution for TA = +25NC to +85NC. Outside this temperature
          range, these limits are three sigma distribution.
Note 13: Guaranteed by design. These limits represent a three sigma distribution.
Note 14: After minimum VDD has been reached during power-up, wait 10ms before initiating temperature conversions.
Note 15: See the 1-Wire Timing Diagrams.
Note 16: Under parasite power, if tRSTL > 960Fs, a power-on reset (POR) may occur.
Note 17: Represents the maximum capacitive load that may be applied to the pins and still maintain timing and logic state.
Maxim Integrated                                                                                                                        5


                                                                                  MAX31850/MAX31851
                                           Cold-Junction Compensated, 1-Wire
                                           Thermocouple-to-Digital Converters
                                                                                      1-Wire Timing Diagrams
                1-Wire WRITE-ZERO TIME SLOT
                                                                                       START OF NEXT CYCLE
                                                                 tSLOT
                                            tREC
                                                                    tLOW0
                1-Wire READ-ZERO TIME SLOT
                                                                       tSLOT               START OF NEXT CYCLE
                                               tREC
                                                     tRDV
                1-Wire RESET PULSE
                                              RESET PULSE FROM HOST
                                                       tRSTL                           tRSTH
                1-Wire PRESENCE DETECT
                                                                                      PRESENCE DETECT
                                                                             tPDHIGH
                                                                                         tPDLOW
Maxim Integrated                                                                                                 6


                                                                                                                                                                                                                                     MAX31850/MAX31851
                                                                                                            Cold-Junction Compensated, 1-Wire
                                                                                                            Thermocouple-to-Digital Converters
                                                                                                                                                                                                               Typical Operating Characteristics
(VCC = +3.3V, TA = +25NC, unless otherwise noted.)
                                              ACTIVE SUPPLY CURRENT                                                                                                              STANDBY SUPPLY CURRENT                                                                                                               INTERNAL TEMPERATURE
                                                 vs. TEMPERATURE                                                                                                                     vs. TEMPERATURE                                                                                                                     SENSOR ACCURACY
                             1400                                                                                                                                0.50                                                                                                                              0.5
                                                                                                               MAX31850 toc01                                                                                                                           MAX31850 toc02                                                                                              MAX31850 toc03
                                      VCC = 3.7V                                                                                                                          VCC = 3.7V                                                                                                                        VCC = 3.3V
                                                                                                                                                                 0.45                                                                                                                              0.4
                             1200
                                                                                                                                   STANDBY SUPPLY CURRENT (nA)
                                                                                                                                                                 0.40
ACTIVE SUPPLY CURRENT (µA)
                                                                                                                                                                                                                                                                                                   0.3
                                                                                                                                                                                                                                                                          MEASUREMENT ERROR (°C)
                             1000                                                                                                                                0.35
                                                                                                                                                                                                                                                                                                   0.2
                                                                                                                                                                 0.30
                             800                                                                                                                                                                                                                                                                   0.1
                                                                                                                                                                 0.25
                             600                                                                                                                                                                                                                                                                     0
                                                                                                                                                                 0.20
                                                                                                                                                                                                                                                                                                   -0.1
                             400                                                                                                                                 0.15
                                                                                                                                                                 0.10                                                                                                                              -0.2
                             200
                                                                                                                                                                 0.05                                                                                                                              -0.3
                                0                                                                                                                                  0                                                                                                                               -0.4
                                    -40 -20     0                       20       40     60    80     100 120                                                            -40 -20                0    20   40       60                 80       100 120                                                     -40   -20     0     20               40    60   80   100 120
                                                              TEMPERATURE (°C)                                                                                                                     TEMPERATURE (°C)                                                                                                         TEMPERATURE (°C)
                                                                                 ADC ACCURACY vs. ADC INPUT VOLTAGE                                                                                                                             ADC ACCURACY vs. ADC INPUT
                                                                                        ACROSS TEMPERATURE                                                                                                                                         VOLTAGE ACROSS VCC
                                                                         2.0                                                                                                                                                      0.20
                                                                                                                                                                              MAX31850 toc04                                                                                                                                        MAX31850 toc05
                                                                                      VCC = 3.3V                                                                                                                                              INTERNAL TEMPERATURE = +25°C
                                                                                                                                                                                                                                  0.15
                                                                         1.5                                                                                                                                                      0.10
                                                                                                                                                                                                                                  0.05
                                                    ADC ACCURACY (°C)                                                                                                                                         ADC ACCURACY (°C)
                                                                                                                                                                                                                                                        VCC = 3.7V
                                                                         1.0                                                                                                                                                         0
                                                                                       TA = +125°C
                                                                                                                                                                                                                                  -0.05
                                                                         0.5                                                    TA = -40°C                                                                                        -0.10                                                                   VCC = 3.3V
                                                                                                                                                                                                                                  -0.15
                                                                                                        TA = +85°C                                                                                                                                                                VCC = 3.0V
                                                                             0                                                                                                                                                    -0.20
                                                                                                                                      TA = +25°C                                                                                  -0.25
                                                                        -0.5                                                                                                                                                      -0.30
                                                                                 0                 20                              40                                        60                                                           0                              20                                     40                 60
                                                                                              ADC INPUT VOLTAGE (mV)                                                                                                                                        ADC INPUT VOLTAGE (mV)
Maxim Integrated                                                                                                                                                                                                                                                                                                                                                     7


                                                                       MAX31850/MAX31851
                                Cold-Junction Compensated, 1-Wire
                                 Thermocouple-to-Digital Converters
                                                                                              Pin Configuration
                                       TOP VIEW
                                                DNC AD3 AD2 AD1 AD0
                                                 10   9     8  7     6
                                                       MAX31850
                                                       MAX31851
                                                +                   EP
                                                  1   2     3  4     5
                                                GND   T-   T+ VDD   DQ
                                                       TDFN-EP
                                                    (3mm x 4mm)
                                                                                                 Pin Description
    PIN        NAME                                                FUNCTION
     1         GND  Ground
     2           T- Thermocouple Input. See Table 1. Do not connect to GND.
     3           T+ Thermocouple Input. See Table 1.
     4          VDD Power-Supply Voltage
                    Data Input/Output. Open-drain 1-Wire interface pin. Also provides power to the device when used in
     5          DQ
                    parasite-power mode (see the Parasite Power section.)
     6          AD0 Location Address Input (Least Significant Bit)
     7          AD1 Location Address Input
     8          AD2 Location Address Input
     9          AD3 Location Address Input (Most Significant Bit)
    10          DNC Do Not Connect
    —            EP Exposed Pad. No internal connection. Connect to GND or leave unconnected.
Maxim Integrated                                                                                                         8


                                                                    MAX31850/MAX31851
                                      Cold-Junction Compensated, 1-Wire
                                      Thermocouple-to-Digital Converters
                          Detailed Description               the introduction of noise errors from the thermocouple
                                                             wires.
The MAX31850/MAX31851 are sophisticated thermo-              Before converting the thermoelectric voltages into equiva-
couple-to-digital converters with a built-in 14-bit analog-  lent temperature values, it is necessary to compensate for
to-digital converter (ADC), cold-junction compensation       the difference between the thermocouple cold-junction
sensing and correction, a digital controller, a 1-Wire       side (device ambient temperature) and a 0NC virtual refer-
data interface, and associated control logic. The devices    ence. For a K-type thermocouple, the voltage changes by
are available in several versions, each optimized and        approximately 41FV/NC, which approximates the thermo-
trimmed for a specific thermocouple type (K, J, N, T, S,     couple characteristic with the following linear equation:
R, or E.). The thermocouple type is indicated in the suffix
                                                                        VOUT = (41.276FV/NC) x (TR - TAMB)
of the part number (e.g., MAX31850K). See the Ordering
Information table for all options.                           where VOUT is the thermocouple output voltage (FV), TR
                                                             is the temperature of the remote thermocouple junction
The 1-Wire bus by definition requires only one data line
                                                             (NC), and TAMB is the temperature of the device (NC).
(and ground) for communication with a central microcon-
troller. The data line requires a weak pullup resistor since Other thermocouple types use a similar straight-line
all devices are linked to the bus through a three-state or   approximation but with different gain terms. Note that
open-drain port (i.e., the DQ pin). Four location address    the MAX31850/MAX31851 assume a linear relationship
inputs simplify mapping of individual devices to specific    between temperature and voltage. Because all thermo-
locations.                                                   couples exhibit some level of nonlinearity, apply appro-
                                                             priate correction to the device’s output data.
Each device has a unique 64-bit serial code, allowing
multiple devices to function on the same 1-Wire bus.                              Cold-Junction Compensation
Therefore, it is simple to use one microcontroller to con-   The function of the thermocouple is to sense a difference
trol many devices distributed over a large area. In this     in temperature between two ends of the thermocouple
bus system, the microcontroller identifies and addresses     wires. The thermocouple’s “hot” junction can be read
devices on the bus using each device’s unique 64-bit         across the operating temperature range (Table 1). The
code. Because each device has a unique code, the             reference junction, or “cold” end (which should be at
number of devices that can be addressed on one bus           the same temperature as the board on which the device
is virtually unlimited. The 1-Wire bus protocol, including   is mounted) can range from -55NC to +125NC. While the
detailed explanations of the commands and time slots, is     temperature at the cold end fluctuates, the device con-
described in the 1-Wire Bus System section.                  tinues to accurately sense the temperature difference at
The scratchpad memory contains the 2-byte temperature        the opposite end.
register that stores the cold-junction-compensated ther-     The device senses and corrects for the changes in
mocouple temperature data. A second 2-byte register          the reference junction temperature with cold-junction
stores the local cold-junction temperature. Both of these    compensation. It does this by first measuring its internal
registers also store fault data for open thermocouple as     die temperature, which should be held at the same tem-
well as shorts to supply and ground.                         perature as the reference junction. It then measures the
Power may be obtained either from a power supply con-        voltage from the thermocouple’s output at the reference
nected to VDD, or from the 1-Wire pullup resistor through    junction and converts this to the noncompensated ther-
the DQ pin when the bus is high. The high bus signal also    mocouple temperature value. This value is then added
charges an internal capacitor (CPP), which then supplies     to the device’s die temperature to calculate the thermo-
power to the device when the bus is low. This method         couple’s “hot junction” temperature. Note that the “hot
of deriving power from the 1-Wire bus is referred to as      junction” temperature can be lower than the cold junction
“parasite power.”                                            (or reference junction) temperature.
                                                             Optimal performance from the device is achieved when
                           Temperature Conversion
                                                             the thermocouple cold junction and the device are at
The devices include signal-conditioning hardware to
                                                             the same temperature. Avoid placing heat-generating
convert the thermocouple’s signal into a voltage com-
                                                             devices or components near the MAX31850/MAX31851
patible with the input channels of the ADC. The T+
                                                             because this could produce cold-junction-related errors.
and T- inputs connect to internal circuitry that reduces
Maxim Integrated                                                                                                        9


                                                                          MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
Table 1. Thermocouple Wire Connections and Nominal Sensitivities
                                                                                                        COLD-JUNCTION
   TYPE          T- WIRE           T+ WIRE           TEMP RANGE (°C)         SENSITIVITY (µV/°C)      SENSITIVITY (µV/°C)
                                                                                                         (0NC TO +70NC)
                                                                                    41.276
     K            Alumel            Chromel            -270 to +1372                                           40.73
                                                                               (0NC to +1000NC)
                                                                                    57.953
     J         Constantan             Iron             -210 to +1200                                          52.136
                                                                                (0NC to +750NC)
                                                                                    36.256
     N             Nisil            Nicrosil           -270 to +1300                                          27.171
                                                                               (0NC to +1000NC)
                                                                                    10.506
     R           Platinum     Platinum/Rhodium          -50 to +1768                                           6.158
                                                                               (0NC to +1000NC)
                                                                                     9.587
     S           Platinum     Platinum/Rhodium          -50 to +1768                                           6.181
                                                                               (0NC to +1000NC)
                                                                                     52.18
     T         Constantan           Copper              -270 to +400                                           41.56
                                                                                (0NC to +400NC)
                                                                                    76.373
     E         Constantan           Chromel            -270 to +1000                                          44.123
                                                                               (0NC to +1000NC)
                                Conversion Functions               the T+ and T- terminals. If T+ and T- are unconnected,
During the conversion time, tCONV, three functions are             the thermocouple temperature sign bit is 0 (MSbit of
performed: the temperature conversion of the internal              Scratchpad Byte 1), and the remainder of the thermo-
cold-junction temperature, the temperature conversion of           couple temperature value is 1.
the external thermocouple, and the detection of thermo-            During fault detection, the connections from the exter-
couple faults.                                                     nal thermocouple and cold-junction compensation
When executing the temperature conversion for the inter-           circuit to the ADC are opened (switches S4 and S5,
nal cold-junction compensation circuit, the connection to          see the Block Diagram). The internal ground reference
signal from the external thermocouple is opened (switch            on T- is also opened (switch S3). The connections to
S4) and the connection to the cold-junction compensa-              the internal fault-detection circuit are closed (switch
tion circuit is closed (switch S5). The internal T- reference      S1 and S2). The fault-detection circuit tests for shorted
to ground is still maintained (switch S3 is closed) and            connections to VDD or GND on the T+ and T- inputs,
the connections to the fault-detection circuit are open            as well as looking for an open thermocouple condi-
(switches S1 and S2).                                              tion. Bits 0, 1, and 2 of the internal (cold junction)
When executing the temperature conversion of the                   temperature data are normally low. Bit 2 goes high to
external thermocouple, the connections to the internal             indicate a thermocouple short to VDD, bit 1 goes high
fault-detection circuit are opened (switches S1 and S2 in          to indicate a thermocouple short to GND, and bit 0
the Block Diagram) and the switch connecting the cold-             goes high to indicate a thermocouple open circuit. If
junction compensation circuit is opened (switch S5). The           any of these conditions exists, bit 0 of the cold-junction
internal ground reference connection (switch S3) and               compensated thermacouple temperature data, which
the connection to the ADC (switch S4) are closed. This             is normally low, also goes high to indicate that a fault
allows the ADC to process the voltage detected across              has occurred.
Maxim Integrated                                                                                                           10


                                                                                   MAX31850/MAX31851
                                       Cold-Junction Compensated, 1-Wire
                                       Thermocouple-to-Digital Converters
                                                       VPU
                                                                               MAX31850
                                                                               MAX31851
                                         VPU                                GND   DQ   VDD
                                µP
                                             4.7kΩ
                                                                1-Wire BUS
                                                                                              TO OTHER 1-Wire DEVICES
Figure 1. Supplying the Parasite-Powered MAX31850/MAX31851 During Temperature Conversions
                                                                           MAX31850
                                                                           MAX31851        VDD (EXTERNAL SUPPLY)
                                              VPU                       GND   DQ   VDD
                                   µP
                                                  4.7kΩ
                                                           1-Wire BUS
                                                                                         TO OTHER 1-Wire DEVICES
Figure 2. Powering the MAX31850/MAX31851 with an External Supply
Powering the MAX31850/MAX31851                                             can be supplied by CPP. To ensure that the device has
                                                                           sufficient supply current, it is necessary to provide a
The MAX31850/MAX31851 can be powered by an                                 strong pullup on the 1-Wire bus whenever temperature
external supply on the VDD pin, or they can operate                        conversions are taking place. This can be accomplished
in “parasite power” mode, which allows the device to                       by using a MOSFET to pull the bus directly to the rail
function without a local external supply. Parasite power                   as shown in Figure 1. The 1-Wire bus must be switched
is useful for applications that require remote tempera-                    to the strong pullup within 10Fs (max) after a Convert T
ture sensing or those that are very space-constrained.                     [44h] command is issued, and the bus must be held high
Figure 1 shows the device’s parasite-power control cir-                    by the pullup for the duration of the conversion (tCONV).
cuitry, which “steals” power from the 1-Wire bus through                   No other activity can take place on the 1-Wire bus while
DQ when the bus is high. The stolen charge powers the                      the pullup is enabled.
device while the bus is high, and some of the charge is                    The device can also be powered by the conventional
stored on the internal parasite-power capacitor (CPP) to                   method of connecting an external power supply to VDD,
provide power when the bus is low. When the device is                      as shown in Figure 2. The advantage of this method is
used in parasite-power mode, VDD must be connected                         that the MOSFET pullup is not required, and the 1-Wire
to ground.                                                                 bus is free to carry other traffic during the temperature
In parasite-power mode, the 1-Wire bus and CPP can                         conversion period.
provide sufficient current to the device for most opera-                   The use of parasite power is not recommended for tem-
tions as long as the specified timing and voltage require-                 peratures above 100NC because the device may not be
ments are met (see the DC Electrical Characteristics                       able to sustain communications due to the higher leak-
and the 1-Wire Timing Characteristics tables). However,                    age currents that can exist at these temperatures. For
when the device is performing temperature conversions,                     applications in which such temperatures are likely, it is
the operating current can be as high as 1.5mA. This                        strongly recommended that the device be powered by
current can cause an unacceptable voltage drop across                      an external power supply.
the weak 1-Wire pullup resistor and is more current than
Maxim Integrated                                                                                                                  11


                                                                                          MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                          Thermocouple-to-Digital Converters
            MSb                                                                                                                           LSb
                     8-BIT                                                                                              8-BIT FAMILY CODE
                                                                    48-BIT SERIAL NUMBER
                   CRC CODE                                                                                                    (3Bh)
            MSb               LSb MSb                                                                           LSb MSb                   LSb
Figure 3. 64-Bit ROM Code
                                                   SCRATCHPAD (POWER-UP STATE SHOWN IN PARENTHESES)
                            BYTE 0  COLD-JUNCTION-COMPENSATED THERMOCOUPLE TEMPERATURE LSB AND FAULT STATUS (00h)
                            BYTE 1           COLD-JUNCTION-COMPENSATED THERMOCOUPLE TEMPERATURE MSB (00h)
                            BYTE 2             INTERNAL (COLD JUNCTION) TEMPERATURE AND FAULT STATUS LSB (00h)
                            BYTE 3                       INTERNAL (COLD JUNCTION) TEMPERATURE MSB (00h)
                            BYTE 4                                   CONFIGURATION REGISTER*
                            BYTE 5                                         RESERVED (FFh)
                            BYTE 6                                         RESERVED (FFh)
                            BYTE 7                                         RESERVED (FFh)
                            BYTE 8                                              CRC
                            *THE LOWER 4 BITS (AD[3:0]) OF THE CONFIGURATION REGISTER ARE HARDWIRED THROUGH AD0–AD3.
Figure 4. Memory Map
In some situations the bus master might not know whether                           ROM function control logic allow the device to operate as
the devices on the bus are parasite powered or powered                             a 1-Wire device using the protocol detailed in the 1-Wire
by external supplies. The master needs this information                            Bus System section.
to determine if the strong bus pullup should be used dur-
ing temperature conversions. To get this information, the                                                                           Scratchpad
master can issue a Skip ROM [CCh] command, followed
by a Read Power Supply [B4h] command, followed by a                                The device’s scratchpad is organized as shown
read time slot. During the read time slot, parasite-pow-                           in Figure 4. All memory commands are described
ered devices pull the bus low, and externally powered                              in detail in the MAX31850/MAX31851 Function
devices let the bus remain high. If the bus is pulled low,                         Commands section.
the master knows that it must supply the strong pullup on                          Byte 0 and byte 1 of Scratchpad contain the least sig-
the 1-Wire bus during temperature conversions.                                     nificant byte and the most significant byte of the thermo-
                                                                                   couple temperature register, respectively. Bytes 2 and 3
                                 64-Bit ROM Code                                   contain the LSB and MSB of the internal (cold-junction)
                                                                                   temperature value, as well as fault status. Byte 4 con-
Each device contains a unique 64-bit code stored in ROM                            tains the configuration information. Bytes 5, 6, and 7 are
(Figure 3). The least significant 8 bits of the ROM code                           reserved for internal use by the device and cannot be
contain the device’s 1-Wire family code, 3Bh. The next 48                          overwritten; these bytes return all ones when read.
bits contain a unique serial number. The most significant
8 bits contain a cyclic redundancy check (CRC) byte that                           Byte 8 of Scratchpad is read-only and contains the CRC
is calculated from the first 56 bits of the ROM code. See                          code for bytes 0–7 of the scratchpad. The device gener-
the CRC Generation section for a detailed explanation                              ates this CRC using the method described in the CRC
of the CRC bits. The 64-bit ROM code and associated                                Generation section.
Maxim Integrated                                                                                                                                12


                                                                          MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
                               Configuration Register              logic 1, and pins connected to GND are reported as
Byte 4 of Scratchpad contains the configuration reg-               logic 0. Pins connected to DQ or GND through a resis-
ister, which is organized as shown in Configuration                tor are valid logic 1s or logic 0s if the resistor is less
Register Format. The configuration register allows the             than 10kI. Unconnected or high-impedance ( > 10kI)
user to read the programmed value of the address pins.             connections are indeterminate. Bits [7:4] are reserved
The AD[3:0] bits report the pin-programmed location                for internal use and cannot be overwritten; they return
information. Pins connected to DQ are reported with                a 1 when read.
                                                                                       Configuration Register Format
      BIT 7            BIT 6            BIT 5           BIT 4         BIT 3           BIT 2           BIT 1            BIT 0
        —                —               —                —            AD3             AD2            AD1               AD0
Note: Bits [3:0] are programmed through the four location programming address pins, AD[3:0]. Reading the configuration register
provides location information on up to 16 individual devices.
Table 2. Temperature Data Format
  Cold-Junction-Compensated Thermocouple Temperature Data (Bytes 0 and 1)
            BIT                 7              6            5         4             3           2           1              0
   LSByte (Scratchpad
                               23             22           21        20           2-1          2-2      Reserved       1 = Fault
         Byte 0)
            BIT                15             14           13        12            11          10           9              8
  MSByte (Scratchpad
                              Sign           210           29        28            27           26          25            24
         Byte 1)
  Internal (Cold-Junction) Temperature Data (Bytes 2 and 3)
            BIT                 7              6            5         4             3           2           1              0
   LSByte (Scratchpad                                                                       1 = Short   1 = Short     1 = Open
                               2-1           2-2          2-3        2-4      Reserved
         Byte 2)                                                                             to VDD      to GND         Circuit
            BIT                15             14           13        12            11          10           9              8
  MSByte (Scratchpad
                              Sign            26           25        24            23           22          21            20
         Byte 3)
Table 3. Thermocouple Temperature Data                             Table 4. Internal (Cold-Junction)
Format                                                             Temperature Data Format
        TEMPERATURE                    DIGITAL OUTPUT                     TEMPERATURE                   DIGITAL OUTPUT
               (NC)                         (D[31:18])                           (NC)                        (D[15:4])
            +1600.00                   0110 0100 0000 00                     +127.0000                   0111 1111 0000
            +1000.00                   0011 1110 1000 00                     +100.5625                   0110 0100 1001
             +100.75                   0000 0110 0100 11                      +25.0000                   0001 1001 0000
             +25.00                    0000 0001 1001 00                       0.0000                    0000 0000 0000
               0.00                    0000 0000 0000 00                       -0.0625                   1111 1111 1111
              -0.25                    1111 1111 1111 11                       -1.0000                   1111 1111 0000
              -1.00                    1111 1111 1111 00                      -20.0000                   1110 1100 0000
             -250.00                   1111 0000 0110 00                      -55.0000                   1100 1001 0000
Maxim Integrated                                                                                                               13


                                                                                   MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
                                   CRC Generation                        shift register. After shifting in the 56th bit from the ROM
                                                                         or the most significant bit of byte 7 from the scratchpad,
CRC bytes are provided as part of the device’s 64-bit                    the polynomial generator contains the recalculated CRC.
ROM code, in the 9th byte of Scratchpad. The ROM code                    Next, the 8-bit ROM code or scratchpad CRC from the
CRC is calculated from the first 56 bits of the ROM code                 device must be shifted into the circuit. At this point, if the
and is contained in the most significant byte of the ROM.                recalculated CRC was correct, the shift register contains
The scratchpad CRC is calculated from the data in the                    all zeros. Additional information about the Maxim 1-Wire
scratchpad, and therefore changes when the data in it                    CRC is available in Application Note 27: Understanding
associated scratchpad changes. The CRC provides the                      and Using Cyclic Redundancy Checks with Maxim iBut-
bus master with a method of data validation when data is                 ton® Products.
read from the device. To verify that data has been read
correctly, the bus master must recalculate the CRC from                                                1-Wire Bus System
the received data and then compare this value to either
the ROM code CRC (for ROM reads) or to the scratch-                      The 1-Wire bus system uses a single bus master to
pad CRC (for scratchpad reads). If the calculated CRC                    control one or more slave devices. The MAX31850/
matches the read CRC, the data has been received                         MAX31851 are always a slave. When there is only one
error-free. The comparison of CRC values and the deci-                   slave on the bus, the system is referred to as a single-
sion to continue with an operation are determined entirely               drop system; the system is multidrop if there are multiple
by the bus master. There is no circuitry inside the device               slaves on the bus. All data and commands are transmit-
that prevents a command sequence from proceeding if                      ted least significant bit first over the 1-Wire bus.
the device CRC (ROM or scratchpad) does not match the                    The following discussion of the 1-Wire bus system is
value generated by the bus master.                                       broken down into three topics: hardware configuration,
The equivalent polynomial function of the CRC (ROM or                    transaction sequence, and 1-Wire signaling (signal types
scratchpad) is:                                                          and timing).
                   CRC = X8 + X5 + X4 + 1                                                              Hardware Configuration
                                                                         The 1-Wire bus has by definition only a single data line.
The bus master can recalculate the CRC and compare it
                                                                         Each device (master or slave) interfaces to the data line
to the CRC values from the device using the polynomial
                                                                         by using an open-drain or three-state port. This allows
generator shown in Figure 5. This circuit consists of a
                                                                         each device to “release” the data line when the device
shift register and XOR gates, and the shift register bits
                                                                         is not transmitting data so the bus is available for use by
are initialized to 0. Starting with the least significant bit
                                                                         another device. The device’s 1-Wire port (DQ) is open
of the ROM code or the least significant bit of byte 0 in
                                                                         drain with an internal circuit equivalent to that shown in
the scratchpad, one bit at a time should shifted into the
                                                                         Figure 6.
                                                     POLYNOMIAL = X8 + X5 + X4 + 1
              1ST         2ND       3RD        4TH                       5TH                    6TH         7TH         8TH
             STAGE       STAGE     STAGE      STAGE                     STAGE                  STAGE       STAGE      STAGE
        X0           X1        X2        X3                       X4                      X5          X6         X7          X8
                                                                                                                  INPUT DATA
Figure 5. CRC Generator
iButton is a registered trademark of Maxim Integrated Products, Inc.
Maxim Integrated                                                                                                                    14


                                                                                   MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
                                                                 VPU
                                   BUS MASTER                                      MAX31850/MAX31851 1-Wire PORT
                                                                     4.7kΩ
                                                                                DQ
                               Rx                                                                             Rx
                                                                                 5µA
                               Tx                                                                             Tx
                                                            Rx = RECEIVE         TYP
                                                           Tx = TRANSMIT
                                        OPEN-DRAIN
                                                                                                 100Ω MOSFET
                                         PORT PIN
Figure 6. Hardware Configuration
The 1-Wire bus requires an external pullup resistor of                     are ready to operate. Timing for the reset and presence
approximately 5kI; thus, the idle state for the 1-Wire bus                 pulses is detailed in the 1-Wire Signaling section.
is high. If for any reason a transaction needs to be sus-
                                                                                                                   ROM Commands
pended, the bus must be left in the idle state if the transac-
                                                                           After the bus master has detected a presence pulse, it
tion is to resume. Infinite recovery time can occur between
                                                                           can issue a ROM command. These commands operate
bits so long as the 1-Wire bus is in the inactive (high) state
                                                                           on the unique 64-bit ROM codes of each slave device
during the recovery period. If the bus is held low for more
                                                                           and allow the master to single out a specific device if
than 480Fs, all components on the bus are reset.
                                                                           many are present on the 1-Wire bus. These commands
                                Transaction Sequence                       also allow the master to determine how many and what
The transaction sequence for accessing the device is as                    types of devices are present on the bus. There are four
follows:                                                                   ROM commands, and each command is 8 bits long. The
                                                                           master device must issue an appropriate ROM command
1) Step 1: Initialization
                                                                           before issuing a MAX31850/MAX31851 function com-
2) Step 2: ROM Command (followed by any required                           mand. Figure 7 shows a flowchart for operation of the
     data exchange)                                                        ROM commands.
3) Step 3: MAX31850/MAX31851 Function Command                              Search ROM [F0h]
     (followed by any required data exchange)                              When a system is initially powered up, the master must
It is very important to follow this sequence every time the                identify the ROM codes of all slave devices on the
device is accessed, as the device does not respond if                      bus, which allows the master to determine the number
any steps in the sequence are missing or out of order. An                  of slaves and their device types. The master learns
exception to this rule is the Search ROM [F0h] command.                    the ROM codes through a process of elimination that
After issuing this ROM command, the master must return                     requires the master to perform a Search ROM cycle (i.e.,
to step 1 in the sequence.                                                 Search ROM command followed by data exchange) as
                                                   Initialization          many times as necessary to identify all the slave devices.
All transactions on the 1-Wire bus begin with an initializa-               If there is only one slave on the bus, the simpler Read
tion sequence. The initialization sequence consists of a                   ROM command can be used in place of the Search ROM
reset pulse transmitted by the bus master followed by                      process. For a detailed explanation of the Search ROM
presence pulse(s) transmitted by the slave(s). The pres-                   command procedure, refer to Application Note 937: Book
ence pulse lets the bus master know that slave devices                     of iButton® Standards. After every Search ROM cycle,
(such as the MAX31850/MAX31851) are on the bus and                         the bus master must return to step 1 (initialization) in the
                                                                           transaction sequence.
Maxim Integrated                                                                                                                     15


                                                                           MAX31850/MAX31851
                                        Cold-Junction Compensated, 1-Wire
                                        Thermocouple-to-Digital Converters
Read ROM [33h]                                                                   MAX31850/MAX31851 Function Commands
This command can be used only when there is one slave               After the bus master has used a ROM command
on the bus. It allows the bus master to read the slave’s            to address the MAX31850/MAX31851 with which it
64-bit ROM code without using the Search ROM com-                   wishes to communicate, the master can issue one of
mand procedure. If this command is used when there is               the MAX31850/MAX31851 function commands. These
more than one slave present on the bus, a data collision            commands allow the master to read from the device’s
occurs when all the slaves attempt to respond at the                scratchpad memories, initiate temperature conversions,
same time.                                                          and determine the power-supply mode. The MAX31850/
                                                                    MAX31851 function commands are summarized in
Match ROM [55h]
                                                                    Table 5 and illustrated by the flowchart in Figure 8.
The Match ROM command followed by a 64-bit ROM
code sequence allows the bus master to address a                    Convert T [44h]
specific slave device on a multidrop or single-drop bus.            This command initiates a single thermocouple tempera-
Only the slave that exactly matches the 64-bit ROM code             ture conversion, which consists of measuring the internal
sequence responds to the function command issued by                 (cold junction) temperature, measuring the thermocouple
the master; all other slaves on the bus wait for a reset            temperature, and detecting any faults. Following the con-
pulse.                                                              version, the resulting cold-junction-compensated thermo-
                                                                    couple data, internal temperature data, and fault status
Skip ROM [CCh]
                                                                    are stored in the two 2-byte temperature registers in
The master can use this command to address all devices
                                                                    the scratchpad memory, and the MAX31850/MAX31851
on the bus simultaneously without sending out any ROM
                                                                    returns to its low-power idle state. If the device is being
code information. For example, the master can make all
                                                                    used in parasite-power mode, within 10Fs (max) after this
devices on the bus perform simultaneous temperature
                                                                    command is issued the master must enable a strong pul-
conversions by issuing a Skip ROM command followed
                                                                    lup on the 1-Wire bus for the duration of the conversion
by a Convert T [44h] function command.
                                                                    (tCONV) as described in the Powering the MAX31850/
Note that the Read Scratchpad command can follow the                MAX31851 section. If the device is powered by an exter-
Skip ROM command only if there is a single slave device             nal supply, the master can issue read time slots after the
on the bus. In this case, time is saved by allowing the             Convert T command and the device responds by trans-
master to read from the slave without sending the device’s          mitting 0 while the temperature conversion is in progress
64-bit ROM code. A Skip ROM command followed by a                   and 1 when the conversion is done. In parasite-power
Read Scratchpad command causes a data collision on                  mode, this notification technique cannot be used because
the bus if there is more than one slave because multiple            the bus is pulled high by the strong pullup during the
devices attempt to transmit data simultaneously.                    conversion.
Table 5. MAX31850/MAX31851 Function Command Set
                                                                                  1-Wire BUS ACTIVITY AFTER COMMAND IS
      COMMAND                       DESCRIPTION                 PROTOCOL
                                                                                                     ISSUED
       Convert T                                                               The device transmits conversion status to master
                        Initiates temperature conversion.          44h
        (Note 1)                                                               (not applicable for parasite-powered devices).
   Read Scratchpad      Reads the 9-byte scratchpad                            The device transmits up to 9 data bytes to master.
                                                                   BEh
        (Note 2)        including the CRC byte.                                The 9th byte is the CRC byte.
  Read Power Supply     Signals the device’s power-supply
                                                                   B4h         The device transmits supply status to the master.
        (Note 3)        mode to the master.
Note 1: For parasite-powered devices, the master must enable a strong pullup on the 1-Wire bus during temperature conversions.
         No other bus activity can take place during this time.
Note 2: The master can interrupt the transmission of data at any time by issuing a reset.
Note 3: During the read time slot, parasite-powered devices pull the DQ bus low, and externally powered units let the bus remain
         high.
Maxim Integrated                                                                                                                 16


                                                                                  MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
                                              MASTER Tx
                                             RESET PULSE
                          INITIALIZATION
                            SEQUENCE
                                              DEVICE Tx
                                           PRESENCE PULSE
                                              MASTER Tx
                                           ROM COMMAND
                            33h                  55h                       F0h           CCh
                           READ        N       MATCH       N             SEARCH       N SKIP N
                           ROM?                 ROM?                      ROM?          ROM?
                               Y                    Y                         Y            Y
                                                                      DEVICE Tx BIT 0
                                              MASTER Tx
                                                                      DEVICE Tx BIT 0
                                                BIT 0
                                                                     MASTER Tx BIT 0
                                                BIT 0      N       N      BIT 0
                                               MATCH?                    MATCH?
                                                    Y                         Y
                        DEVICE Tx                                     DEVICE Tx BIT 1
                      FAMILY CODE             MASTER Tx
                                                                      DEVICE Tx BIT 1
                          1 BYTE                BIT 1
                                                                     MASTER Tx BIT 1
                       DEVICE Tx
                     SERIAL NUMBER
                         6 BYTES                BIT 1      N       N      BIT 1
                                               MATCH?                    MATCH?
                       DEVICE Tx                    Y                         Y
                        CRC BYTE
                                                                     DEVICE Tx BIT 63
                                              MASTER Tx
                                                                     DEVICE Tx BIT 63
                                                BIT 63
                                                                     MASTER Tx BIT 63
                                                BIT 63     N       N      BIT 63
                                               MATCH?                    MATCH?
                                                    Y                         Y
                                                           MASTER Tx
                                                       FUNCTION COMMAND
Figure 7. ROM Commands Flowchart
Maxim Integrated                                                                                    17


                                                                                   MAX31850/MAX31851
                                     Cold-Junction Compensated, 1-Wire
                                     Thermocouple-to-Digital Converters
                                    MASTER Tx                       44h          N
                               FUNCTION COMMAND                 CONVERT T?
                                                                      Y
                                                       N         PARASITE       Y
                                                                  POWER?
                                  DEVICE BEGINS
                                   CONVERSION                             MASTER ENABLES
                                                                        STRONG PULLUP ON DQ
                                      DEVICE
                                                     N                    DEVICE CONVERTS
                                   CONVERTING
                                                                            TEMPERATURE
                                  TEMPERATURE?
                                          Y                               MASTER DISABLES
                                                                           STRONG PULLUP
                                    MASTER Rx          MASTER Rx
                                       “0s”              “1s”
                                                B4h                                     BEh
                                    N          READ                         N          READ
                                           POWER SUPPLY?                           SCRATCHPAD?
                                                  Y                                       Y
                                    N        PARASITE        Y
                                              POWER?
                              MASTER Rx                   MASTER Rx            MASTER Rx DATA BYTE
                                 “1s”                         “0s”              FROM SCRATCHPAD
                                                                                    MASTER Tx         Y
                                                                                      RESET?
                                                                                          N
                                                                            N      HAVE 8 BYTES
                                                                                    BEEN READ?
                                                                                          Y
                                                                                    MASTER Rx
                                                                               SCRATCHPAD CRC BYTE
                                                                                 RETURN TO INITIALIZATION SEQUENCE
                                                                                      FOR NEXT TRANSACTION
Figure 8. MAX31850/MAX31851 Function Commands Flowchart
Maxim Integrated                                                                                                     18


                                                                                     MAX31850/MAX31851
                                         Cold-Junction Compensated, 1-Wire
                                         Thermocouple-to-Digital Converters
                                                  SEARCH ALL
                                                ROM IDs ON BUS              BUILDING CROSS-REFERENCE TABLE
                                                      AND                  USING ROM IDs AND 4-BIT ADDRESSES
                                                 STORE ROM IDs
                                                (F0h COMMAND)
                           INCREMENT COUNTER                    Y
                                                   N > NMAX?                                 DONE
                                N=N+1
                                                              NMAX IS THE NUMBER
                                                              OF ROM IDs FOUND
                                                        N
                                                   MASTER Tx
                                                  NEXT ROM ID                   CROSS-REFERENCE TABLE
                                                                                   ROM ID       AD3−AD0
                                                                                  ROM ID(0)       0000
                                               READ SCRATCHPAD
                                                                                  ROM ID(1)       0001
                                              (USE AD3−AD0 FROM
                                                                                  ROM ID(2)       0010
                                               CONFIG REGISTER)
                                                                                  ROM ID(3)       0011
                                               MATCH ROM ID TO                    ROM ID(12)      1100
                                             ADDRESS AND ADD TO                   ROM ID(13)      1101
                                               CROSS-REFERENCE                    ROM ID(14)      1110
                                                     TABLE                        ROM ID(15)      1111
                                                                                NOTE: TEMPERATURE SENSORS ARE ADDRESSED
                                                                                BY ROM ID, NOT BY BINARY ADDRESS.
Figure 9. Building a Cross-Reference Table
Read Scratchpad [BEh]                                                                                                  1-Wire Signaling
This command allows the master to read the contents of
Scratchpad. The data transfer starts with the least signifi-                 The device uses a strict 1-Wire communication protocol
cant bit of byte 0 and continues through the scratchpad                      to ensure data integrity. Several signal types are defined
until the 9th byte (byte 8, CRC) is read. The master can                     by this protocol: reset pulse, presence pulse, write-zero,
issue a reset to terminate reading at any time if only part                  write-one, read-zero, and read-one. The bus master
of the scratchpad data is needed. The CRC is computed                        initiates all these signals except the presence pulse. All
while data is read from bytes 0–7, and is shifted out as                     MAX31850/MAX31851s on the bus are slaves.
byte 8.
                                                                                                                  Initialization Procedure:
Read Power Supply [B4h]                                                                                     Reset and Presence Pulses
The master device issues this command followed by a read                     All communication with the device begins with an initial-
time slot to determine if any devices on the bus are using                   ization sequence that consists of a reset pulse from the
parasite power. During the read time slot, parasite-powered                  master followed by a presence pulse from the device.
devices pull the bus low, and externally powered devices                     This is illustrated in Figure 10. When the device sends the
do not pull the bus low. See the Powering the MAX31850/                      presence pulse in response to the reset, it is indicating
MAX31851 section for more information.                                       to the master that it is on the bus and ready to operate.
                                                                             During the initialization sequence, the bus master trans-
    Building a Cross-Reference Table
                                                                             mits (Tx) the reset pulse by pulling the 1-Wire bus low for
The procedure in Figure 9 uses the Search ROM com-                           480Fs (min). The bus master then releases the bus and
mand to find all MAX31850/MAX31851s on the 1-Wire bus                        goes into receive mode (Rx). When the bus is released,
(16 maximum) and then reads each configuration register                      the 5kI pullup resistor pulls the 1-Wire bus high. When
to match the ROM IDs to the hardwired addresses.                             the device detects this rising edge, it waits 15Fs to 60Fs
Maxim Integrated                                                                                                                          19


                                                                                MAX31850/MAX31851
                                             Cold-Junction Compensated, 1-Wire
                                             Thermocouple-to-Digital Converters
                                 MASTER Tx RESET PULSE                                          MASTER Rx
                                    480µs MINIMUM                                             480µs MINIMUM
                                                                         MAX31850/MAX31851 Tx PRESENCE PULSE
                                      MAX31850/MAX31851 WAITS                       60µs TO 240µs
                                                    15µs TO 60µs
       VPU
          1-Wire BUS
      GND
                                  BUS MASTER PULLING LOW           MAX31850/MAX31851 PULLING LOW             RESISTOR PULLUP
Figure 10. Initialization Timing
and then transmits a presence pulse by pulling the                                                                       Read Time Slots
1-Wire bus low for 60Fs to 240Fs.                                       The slave can only transmit data to the master when
                                                                        the master issues read time slots. Therefore, the master
                                  Read/Write Time Slots                 must generate read time slots immediately after issuing
The bus master writes data to the device during write
                                                                        a Read Scratchpad [BEh] command or Read Power
time slots and reads data from the device during read
                                                                        Supply [B4h] command, so that the device can provide
time slots. One bit of data is transmitted over the 1-Wire
                                                                        the requested data. In addition, the master can gener-
bus per time slot.
                                                                        ate read time slots after issuing a Convert T [44h] com-
                                                  Write Time Slots      mand to verify the operation status as explained in the
There are two types of write time slots: write-one time                 MAX31850/MAX31851 Function Commands section.
slots and write-zero time slots. The bus master uses a                  All read time slots must be 60Fs (min) in duration with a
write-one time slot to write a logic 1 to the slave and a               1Fs (min) recovery time between slots. A read time slot is
write-zero time slot to write a logic 0 to the slave. All write         initiated by the master device pulling the 1-Wire bus low
time slots must have a 60Fs (min) duration with a 1Fs                   for a minimum of 1Fs (tINIT) and then releasing the bus
(min) recovery time between individual write slots. Both                (Figure 11). After the master initiates the read time slot,
types of write time slots are initiated by the master pulling           the slave begins transmitting a 1 or 0 on bus. The slave
the 1-Wire bus low (Figure 11).                                         transmits a 1 by leaving the bus high and transmits a 0
To generate a write-one time slot, after pulling the 1-Wire             by pulling the bus low. When transmitting a 0, the slave
bus low, the bus master must release the 1-Wire bus                     releases the bus by the end of the time slot, and the
within 15Fs. When the bus is released, the 5kI pullup                   pullup resistor pulls the bus back to its high idle state.
resistor pulls the bus high. To generate a write-zero time              Output data from the slave is valid for 15Fs after the fall-
slot, after pulling the 1-Wire bus low, the bus master must             ing edge that initiated the read time slot. Therefore, the
continue to hold the bus low for the duration of the time               master must release the bus and then sample the bus
slot (at least 60Fs).                                                   state within 15Fs from the start of the slot.
The slave samples the 1-Wire bus during a window that                   Figure 12 illustrates that the sum of tINIT, tRC, and the
lasts from 15Fs to 60Fs after the master initiates the write            master sample window must be less than 15Fs for a read
time slot. If the bus is high during the sampling window,               time slot. tRC is the rise time due to the resistive and
a 1 is written to the slave. If the line is low, a 0 is written         capacitive characteristics of the bus. Figure 13 shows
to the device.                                                          that system timing margin is maximized by keeping tINIT
                                                                        and tRC as short as possible and by locating the master
                                                                        sample time during read time slots towards the end of
                                                                        the 15Fs period.
Maxim Integrated                                                                                                                      20


                                                                                      MAX31850/MAX31851
                                               Cold-Junction Compensated, 1-Wire
                                               Thermocouple-to-Digital Converters
                    START                                                          START
                   OF SLOT                                                        OF SLOT
                                     MASTER WRITE-ZERO SLOT                                                     MASTER WRITE-ONE SLOT
                                                                                            1µs < tREC < ∞
                                         60µs < Tx “0” < 120µs
                                                                                       > 1µs
      VPU
          1-Wire BUS
      GND
                                              MAX31850/MAX31851 SAMPLES                                             MAX31850/MAX31851 SAMPLES
                                       MIN              TYP             MAX                                    MIN          TYP               MAX
                              15µs           15µs                 30µs                        15µs                 15µs                 30µs
                                     MASTER READ-ZERO SLOT                                                      MASTER READ-ONE SLOT
                                                                                            1µs < tREC < ∞
      VPU
          1-Wire BUS
      GND
                                         MASTER SAMPLES                                > 1µs
                                                                                                                MASTER SAMPLES
                        > 1µs
                              15µs                          45µs                              15µs
                                   BUS MASTER PULLING LOW               MAX31850/MAX31851PULLING LOW                      RESISTOR PULLUP
Figure 11. Read/Write Time Slot Timing Diagram
       VPU
                                                                                                           VIH OF MASTER
          1-Wire BUS
      GND
                                      tINIT > 1µs                             tRC                                 MASTER SAMPLES
                                                                             15µs
                                   BUS MASTER PULLING LOW               RESISTOR PULLUP
Figure 12. Detailed Master Read-One Timing
Maxim Integrated                                                                                                                                    21


                                                                                         MAX31850/MAX31851
                                                  Cold-Junction Compensated, 1-Wire
                                                  Thermocouple-to-Digital Converters
      VPU
                                                  VIH OF MASTER
         1-Wire BUS
      GND
                        tINIT =   tRC =                                                                     MASTER SAMPLES
                       SMALL     SMALL
                                                                                15µs
                                        BUS MASTER PULLING LOW             RESISTOR PULLUP
Figure 13. Recommended Master Read-One Timing
Table 6. Operation Example
  MASTER
                  DATA (LSB FIRST)                                                         COMMENTS
   MODE
     Tx                     Reset              Master issues reset pulse.
     Rx                  Presence              Devices respond with presence pulse.
     Tx                       F0h              Master issues Search ROM command
     Tx                     Reset              Master issues reset pulse.
     Rx                  Presence              Devices respond with presence pulse.
     Tx                       55h              Master issues Match ROM command for desired address
     Tx             64-bit ROM code            Master sends device ROM code.
     Tx                       44h              Master issues Convert T command.
                 DQ line held high by
     Tx                                        Master applies strong pullup to DQ for the duration of the conversion (tCONV).
                      strong pullup
     Tx                     Reset              Master issues reset pulse.
     Rx                  Presence              Devices respond with presence pulse.
     Tx                       55h              Master issues Match ROM command.
     Tx             64-bit ROM code            Master sends device ROM code.
     Tx                       BEh              Master issues Read Scratchpad command.
                                               Master reads entire scratchpad including CRC. The master then recalculates the CRC of the
     Rx               9 data bytes             first 8 data bytes from the scratchpad and compares the calculated CRC with the read CRC
                                               (byte 9). If they match, the master continues; if not, the read operation is repeated.
                                             Operation Example                   bus master initiates a temperature conversion in a spe-
Table 6 shows an operation example in which there are                            cific MAX31850/MAX31851 and then reads Scratchpad
multiple devices on the bus using parasite power. The                            and recalculates the CRC to verify the data.
Maxim Integrated                                                                                                                        22


                                                                                    MAX31850/MAX31851
                                               Cold-Junction Compensated, 1-Wire
                                               Thermocouple-to-Digital Converters
                                                              LOCATION 0                                                                 LOCATION 0
   1-Wire BUS                                                                 1-Wire BUS
                           DQ               AD0               AD0 = GND                               DQ               AD0               AD0 = GND
                                  MAX31850  AD1               AD1 = GND                                      MAX31850  AD1               AD1 = GND
                  VDD      VDD    MAX31851  AD2               AD2 = GND                                      MAX31851                    AD2 = GND
                                                                                                      VDD              AD2
                           GND              AD3               AD3 = GND                               GND              AD3               AD3 = GND
                VDD
                                                              LOCATION 1                                                                 LOCATION 1
                           DQ               AD0               AD0 = VDD                               DQ               AD0               AD0 = DQ
                                  MAX31850  AD1               AD1 = GND                                      MAX31850  AD1               AD1 = GND
                           VDD    MAX31851  AD2               AD2 = GND                                      MAX31851                    AD2 = GND
                                                                                                      VDD              AD2
                           GND              AD3               AD3 = GND                               GND              AD3               AD3 = GND
                VDD
                                                              LOCATION 2                                                                 LOCATION 2
                           DQ               AD0               AD0 = GND                               DQ               AD0               AD0 = GND
                                  MAX31850  AD1               AD1 = VDD                                      MAX31850  AD1               AD1 = DQ
                           VDD    MAX31851  AD2               AD2 = GND                                      MAX31851                    AD2 = GND
                                                                                                      VDD              AD2
                           GND              AD3               AD3 = GND                               GND              AD3               AD3 = GND
                VDD
                                                              LOCATION 15                                                                LOCATION 15
                           DQ               AD0               AD0 = VDD                               DQ               AD0               AD0 = DQ
                                  MAX31850  AD1               AD1 = VDD                                      MAX31850  AD1               AD1 = DQ
                           VDD    MAX31851  AD2               AD2 = VDD                                      MAX31851                    AD2 = DQ
                                                                                                      VDD              AD2
                           GND              AD3               AD3 = VDD                               GND              AD3               AD3 = DQ
        NOTE: AD3–AD0 CANNOT BE LEFT UNCONNECTED; EACH PIN MUST BE                 NOTE: AD3–AD0 CANNOT BE LEFT UNCONNECTED; EACH PIN MUST BE
        CONNECTED TO EITHER VDD OR GND.                                            CONNECTED TO EITHER DQ OR GND.
Figure 14. Address Programming Diagram—VDD Powered                        Figure 15. Address Programming Diagram—Parasite Powered
                       Applications Information                                                                   Noise Considerations
                                                                          Because of the small signal levels involved, thermocouple
  Open and Shorted Thermocouple Detection                                 temperature measurement is susceptible to power supply
The LSB of Byte 0 in Scratchpad is normally low and                       coupled noise. The effects of power-supply noise can be
goes high if the thermocouple input is open or shorted                    minimized by placing a 0.1FF ceramic bypass capacitor
to ground or VDD. Bits 0, 1, and 2 of Byte 2 are normally                 close to the VDD pin of the device and to GND.
low. When bit 2 (SCV) is high, it indicates a thermocouple                The input amplifier is a low-noise amplifier designed
short to VDD. When bit 1 (SCG) is high, it indicates a                    to enable high-precision input sensing. Keep the
thermocouple short to ground. When bit 0 (OC) is high, it                 thermocouple and connecting wires away from electrical
indicates a thermocouple open circuit.                                    noise sources.
                                                                          It is strongly recommended to add a 10nF ceramic surface-
                                                                          mount differential capacitor, placed across the T+ and
                                                                          T- pins, in order to filter noise on the thermocouple lines.
Maxim Integrated                                                                                                                                    23


                                                                             MAX31850/MAX31851
                                        Cold-Junction Compensated, 1-Wire
                                        Thermocouple-to-Digital Converters
                              Thermal Considerations                 • Avoid mechanical stress and vibration, which could
Self-heating degrades the temperature measurement                        strain the wires.
accuracy of the MAX31850/MAX31851 in some                            • When using long thermocouple wires, use a twisted
applications. The magnitude of the temperature errors                    pair extension wire.
depends on the thermal conductivity of the MAX31850/
                                                                     • Avoid steep temperature gradients.
MAX31851 package, the mounting technique, and the
effects of airflow. Use a large ground plane to improve the          • Try to use the thermocouple wire well within its tem-
temperature measurement accuracy of the MAX31850/                        perature rating.
MAX31851.                                                            • Use the proper sheathing material in hostile environ-
The accuracy of a thermocouple system can also be                        ments to protect the thermocouple wire.
improved by following these precautions:                             • Use extension wire only at low temperatures and only
• Use the largest wire possible that does not shunt heat                 in regions of small gradients.
    away from the measurement area.                                  • Keep an event log and a continuous record of thermo-
• If a small wire is required, use it only in the region                 couple resistance.
    of the measurement, and use extension wire for the
    region with no temperature gradient.
                                                                                              Ordering Information
               PART                  THERMOCOUPLE TYPE              MEASURED TEMP RANGE                   PIN-PACKAGE
  MAX31850KATB+                                  K                        -270NC to +1372NC                10 TDFN-EP*
  MAX31850KATB+T                                 K                        -270NC to +1372NC                10 TDFN-EP*
  MAX31850JATB+                                  J                        -210NC to +1200NC                10 TDFN-EP*
  MAX31850JATB+T                                 J                        -210NC to +1200NC                10 TDFN-EP*
  MAX31850NATB+                                  N                        -270NC to +1300NC                10 TDFN-EP*
  MAX31850NATB+T                                 N                        -270NC to +1300NC                10 TDFN-EP*
  MAX31850TATB+                                  T                         -270NC to +400NC                10 TDFN-EP*
  MAX31850TATB+T                                 T                         -270NC to +400NC                10 TDFN-EP*
  MAX31850EATB+                                  E                        -270NC to +1000NC                10 TDFN-EP*
  MAX31850EATB+T                                 E                        -270NC to +1000NC                10 TDFN-EP*
  MAX31851SATB+                                  S                        -270NC to +1768NC                10 TDFN-EP*
  MAX31851SATB+T                                 S                        -270NC to +1768NC                10 TDFN-EP*
  MAX31851RATB+                                  R                        -270NC to +1768NC                10 TDFN-EP*
  MAX31851RATB+T                                 R                        -270NC to +1768NC                10 TDFN-EP*
Note: All devices are specified over the -40°C to +125°C operating temperature range.
+Denotes a lead(Pb)-free/RoHS-compliant package.
T = Tape and reel.
*EP = Exposed pad.
                                                                                              Package Information
For the latest package outline information and land patterns (footprints), go to www.maximintegrated.com/packages. Note that a
“+”, “#”, or “-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the
drawing pertains to the package regardless of RoHS status.
        PACKAGE TYPE                     PACKAGE CODE                        OUTLINE NO.                LAND PATTERN NO.
           10 TDFN-EP                        T1034N+1                           21-0268                      90-0247
Maxim Integrated                                                                                                             24


                                                                                            MAX31850/MAX31851
                                                  Cold-Junction Compensated, 1-Wire
                                                  Thermocouple-to-Digital Converters
                                                                                                                              Revision History
   REVISION        REVISION                                                                                                                       PAGES
                                                                               DESCRIPTION
   NUMBER             DATE                                                                                                                       CHANGED
        0              6/13         Initial release                                                                                                  —
                                                                                                                                                  1, 4, 11,
        1              8/13         Clarify that MAX31850 can be used for R- and S- thermocouples
                                                                                                                                                   16, 24
        2              1/15         Revised the Benefits and Features section                                                                         1
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent
licenses are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and
max limits) shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated 160 Rio Robles, San Jose, CA 95134 USA 1-408-601-1000                                                                                      25
© 2015 Maxim Integrated Products, Inc.                  Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX31850NATB+ MAX31850NATB+T MAX31850KATB+ MAX31851RATB+ MAX31851SATB+T
MAX31850TATB+T MAX31851SATB+ MAX31850EATB+T MAX31850JATB+T MAX31850TATB+
MAX31851RATB+T MAX31850KATB+T MAX31850EATB+ MAX31850JATB+
