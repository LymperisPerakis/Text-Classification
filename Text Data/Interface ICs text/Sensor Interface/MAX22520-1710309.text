                                                                                                    EVALUATION KIT AVAILABLE
Click here for production status of specific part numbers.
MAX22520                                                                    One-Time Programmable (OTP)
                                                                            Industrial Sensor Output Driver
General Description                                                 Benefits and Features
The MAX22520 24V line driver for industrial sensors incor-          ●● High Configurability Supports a Wide Range of
porates a one-time programmable (OTP) analog interface                 Sensor Designs
for signal conditioning of binary switching sensors. Sensor            • Programmable Driver Configuration: High-Side
calibration and configuration settings can be permanently                 (PNP), Low-Side (NPN), or Push-Pull
programmed with the inline data interface using one-time               • Programmable Driver Current Limit: 100mA (min),
programming (OTP). Additionally, an accurate integrated                   200mA (min)
linear regulator provides a programmable (3.3V or 5V)                  • Programmable Linear Regulator Voltage: 3.3V
low-noise supply for analog signal sensing circuitry.                     (typ), 5V (typ)
The driver output (DO) is configurable using the Maxim®                • Input Comparator with Programmable Thresholds
1-Wire® protocol and an OTP interface to permanently                   • Digital Potentiometer with Programmable 6-bit Tap
operate in a normally-open or normally-closed state                    • PWM Oscillator with Programmable Duty Cycles
and in a high-side (PNP), low-side (NPN), or push-pull                 • 4.75V/8V (min) to +36V Supply Voltage
configuration. The maximum driver load current can be                  • Integrated LED Driver for Visual Feedback
programmed to 100mA (min) or 200mA (min).
                                                                    ●● Robust Design for Harsh Industrial Environments
Configuration and OTP programming are done using                       • Reverse Polarity Protection on DO, VCC, and GND
VCC, DO, and GND. This use of the standard three-wire                  • Short Circuit Protection on DO
interface pins simplifies programming at the end-of-line,              • Thermal Shutdown Protection
when the sensor is already in its final housing.
                                                                       • ±6kV IEC 61000-4-2 Air-Gap ESD Protection
The MAX22520 also features a programmable com-                         • ±6kV IEC 61000-4-2 Contact Discharge ESD
parator, PWM oscillator, and digital potentiometer. These                 Protection
integrated functions further support sensor calibration for            • ±1kV/500Ω IEC 61000-4-5 Surge Protection
analog sensing circuitry. Additionally, an on-board LED                • -40°C to +105°C Operating Temperature Range
driver provides visual feedback of the logic state of the              • 1µF Capacitive Load Drive Capability
sensor DO output.                                                      • Fast Demagnetization of Inductive Loads
Robust protection enables the MAX22520 to function in               ●● Small Form Factor for Compact Designs
harsh industrial environments. DO, VCC, and GND are
                                                                       • Ultra-Small (2mm x 2.5mm) 20-bump WLP
all protected against hot-plug events, ±1kV/500Ω surge
events, reverse-polarity, short circuits, and ESD strikes.          Ordering Information appears at end of data sheet.
The MAX22520 operates from a wide 4.75V/8V to 36V
supply and is available in a 20-bump wafer-level package
(WLP) (2mm x 2.5mm, 0.5mm pitch). The device operates
over the -40°C to +105°C temperature range.
Applications
●● Industrial Binary Sensors
●● Proximity Switches
●● Inductive and Magnetic Sensors
1-Wire is a registered trademark of Maxim Integrated Products, Inc.
Maxim is a registered trademark of Maxim Integrated Products, Inc.
19-100601; Rev 1; 12/19


MAX22520                                                     One-Time Programmable (OTP)
                                                              Industrial Sensor Output Driver
Simplified Block Diagram
                             LED        VLDO      REGEN
                    RT
                                                  LINEAR         INTEGRATED
                   WP     LED DRIVER                                            VCC
                                                REGULATOR        PROTECTION
                   RB
                                           POR
                 CMPO
                                                                 INTEGRATED
                                         DRIVER                                 DO
                   AIN                                           PROTECTION
                         STRETCH
                  LO3               DAC
                                                         OTP
                                                                 OSC            PWM
                  LO2
                                                  MAX22520
                  LO1
                            GND                          PGND
www.maximintegrated.com                                                          Maxim Integrated │ 2


MAX22520                                                                                                              One-Time Programmable (OTP)
                                                                                                                        Industrial Sensor Output Driver
Absolute Maximum Ratings
All voltages referenced to GND unless otherwise specified.                                            RT, RB, WP............................................. -0.3V to (VLDO + 0.3V)
VCC..........................................................................-36V to +36V             Continuous Current into VCC and GND.................................±1A
PGND....................................................................-0.3V to +0.3V                Continuous Current into DO............................................±500mA
DO.......................................................... max[(VCC – 36V), -36V]                   Continuous Current into Any Other Pin.............................±50mA
                                                         to min[(VCC + 36V), +36V]                    Continuous Power Dissipation (Multilayer Board)
REGEN......................................-0.3V to min[(VCC + 0.3V), +6V]                                (TA = +70°C, derate at 21mW/°C above +70°C).......1500mW
VLDO..........................................-0.3V to min[(VCC + 0.3V), +6V]                         Operating Temperature Range.......................... -40°C to +105°C
LO1, LO2, LO3, CMPO,                                                                                  Junction Temperature.......................................................+150°C
    AIN, PWM, LED................................... -0.3V to (VLDO + 0.3V)                           Storage Temperature Range............................. -40°C to +150°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Package Information
 PACKAGE TYPE: WLP20
 Package Code                                                                    W201K2+1
 Outline Number                                                                  21-1000314
 Land Pattern Number                                                             Refer to Application Note 1891
 THERMAL RESISTANCE, FOUR-LAYER BOARD
 Junction to Ambient (θJA)                                                       47.6°C/W
For the latest package outline information and land patterns (footprints), go to www.maximintegrated.com/packages. Note that a “+”,
“#”, or “-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the drawing
pertains to the package regardless of RoHS status.
Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer board.
For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
www.maximintegrated.com                                                                                                                                            Maxim Integrated │ 3


MAX22520                                                                      One-Time Programmable (OTP)
                                                                                Industrial Sensor Output Driver
Electrical Characteristics
(VCC = VCC(MIN) to 36V, GND = 0V, CLDO = 0.1μF to 1.2μF, CLOAD on DO = 1nF, REGEN is unconnected, all logic inputs at VLDO or
GND, TA = -40°C to +105°C, unless otherwise noted. Typical values are at VCC = 24V and TA = +25°C.) (Note 1)
          PARAMETER               SYMBOL                      CONDITIONS                    MIN       TYP    MAX      UNITS
  SUPPLY (VCC)
                                                VLDO = 3.3V                                 4.75               36
  Supply Voltage                      VCC                                                                                 V
                                                VLDO = 5V                                     8                36
  VCC Undervoltage Lockout                      VCC rising,              VLDO = 3.3V         4.1               4.7
                                      VTH                                                                                 V
  (UVLO) Threshold                              DO active                VLDO = 5V           6.0               7.0
  VCC UVLO Threshold
                                     VHTH       VLDO = 3.3V or 5V                                     0.5                 V
  Hysteresis
  VCC UVLO Debounce Filter        tUVLO_FLT     VCC rising                                   50        64      80        μs
                                                                         Normal operation,
                                                VCC = 24V,               PWM enabled,
                                                                                                      2.2      3.5
                                                no external load on      DO in NPN or
                                                VLDO, LED is off,        push-pull mode
  VCC Supply Current                  ICC                                                                                mA
                                                RT, WP, and RB are       Slave mode
                                                unconnected, no          operation, PWM
                                                load on DO                                            1.3      2.2
                                                                         disabled, DO is in
                                                                         PNP mode
  OTP PROGRAMMING MODE (VCC, DO)
  VCC Supply in 1-Wire Access
                                    VCC_OA                                                   3.5               4.1        V
  Mode
  ICC Supply Current in 1-Wire
                                    ICC_OA                                                                      3        mA
  Access Mode
  VCC Supply 1-Wire RAM
                                  VCC_OWA                                                    3.5               36         V
  Mode
  ICC Supply Current in
                                   ICC_OWA      3.8V ≤ VCC ≤ 36V                                                5        mA
  1-Wire RAM Mode
  VCC Supply During OTP Burn        VCC_OB                                                   12                34         V
  ICC Supply Current in OTP
                                    ICC_OB      VCC = VCC_OB                                           24                mA
  Burn
  DO Receiver Rising Input
                                  VDO_RX_R      1-Wire OTP access and 1-Wire RAM                      1.2       2         V
  Threshold
  DO Receiver Falling Input
                                  VDO_RX_F      1-Wire OTP access and 1-Wire RAM             0.6      1.1                 V
  Threshold
  Required External Pullup
  Voltage on DO During 1-Wire       VDO_PU      1-Wire OTP access and 1-Wire RAM                               5.5        V
  Communication
  DO Output Low Voltage                         100Ω pullup between DO and VCC,
                                      VOL                                                                      0.3        V
  During 1-Wire Communication                   VCC = VDO_PU
www.maximintegrated.com                                                                                    Maxim Integrated │ 4


MAX22520                                                                     One-Time Programmable (OTP)
                                                                               Industrial Sensor Output Driver
Electrical Characteristics (continued)
(VCC = VCC(MIN) to 36V, GND = 0V, CLDO = 0.1μF to 1.2μF, CLOAD on DO = 1nF, REGEN is unconnected, all logic inputs at VLDO or
GND, TA = -40°C to +105°C, unless otherwise noted. Typical values are at VCC = 24V and TA = +25°C.) (Note 1)
          PARAMETER                SYMBOL                     CONDITIONS                    MIN       TYP    MAX      UNITS
  LINEAR REGULATOR (VLDO, REGEN)
                                                REGEN is uncon-          LDOVSET = 0        3.17      3.30    3.43
                                                nected, VCC(MIN)
  LDO Output Voltage                 VLDO                                                                                 V
                                                ≤ VCC ≤ 36V,
                                                ILOAD = 30mA             LDOVSET = 1         4.8       5.0     5.2
                                                REGEN = GND,             LDOVSET = 0         2.3      2.47     2.7
  External VLDO Supply
                                   VLDO_OK      VCC(MIN) ≤ VCC ≤                                                          V
  Power-OK Threshold                                                     LDOVSET = 1         3.6      3.75     3.9
                                                36V (Note 2)
  External VLDO Supply                          REGEN = GND,             LDOVSET = 0         1.9      2.07     2.2
  Undervoltage Lockout           VLDO_UVLO      VCC(MIN) ≤ VCC ≤                                                          V
  Threshold Voltage                             36V (Note 2)             LDOVSET = 1         3.2      3.35     3.5
  LDO Short Circuit Current
                                   ILDO_SC      VLDO shorted to GND                           35                         mA
  Limit
  VLDO Change Over                              ILOAD = 1mA,             VLDO = 3.3V                   5.6
                                    ΔVLDO                                                                                mV
  Temperature                                   -40°C ≤ TA ≤ 105°C       VLDO = 5V                     7.5
  VLDO Line Regulation                          8V ≤ VCC ≤ 36V, ILOAD = 1mA                              1               mV
  VLDO Load Regulation                          VLDO = 3.3V or 5V, 1mA ≤ ILOAD ≤ 30mA                    6               mV
  LDO Power Supply
                                     PSRR       ILOAD = 10mA, f = 100Hz, 500mVPP                        60               µV
  Rejection Ratio
  DRIVER (DO)
  DO High-Side On-Resistance        RON_H       ISOURCE = 200mA                                          2     4.2       Ω
  DO Low-Side On-Resistance         RON_L       ISINK = 200mA                                            2     4.2       Ω
                                                                         DOILIM = 0          110       132     159
  DO Current Limit                 |IDO_CL|     DO enabled                                                               mA
                                                                         DOILIM = 1          220       264     317
                                                DO in push-pull mode and high
  DO Leakage Current             ILKG_DO_PP                                                  -12              +12        μA
                                                impedance, 0V ≤ VDO ≤ VCC (Note 3)
                                                DO in PNP mode and high impedance,
  DO Weak Pulldown               ILKG_DO_HS                                                 +150     +347    +450        μA
                                                0V ≤ VDO ≤ VCC, DOPUPD[1:0] = 10
                                                DO in NPN mode and high impedance,
  DO Weak Pullup                 ILKG_DO_LS                                                 -450      -320    -150       μA
                                                0V ≤ VDO ≤ VCC, DOPUPD[1:0] = 01
  DO Output Negative                            DO in PNP mode, 200mA clamp current                  VCC-    VCC-
                                     VCLN                                                                                 V
  Clamp Voltage                                 flowing into DO                                       42V     36V
  DO Output Positive                            DO in NPN mode, 200mA clamp current
                                     VCLP                                                     36        42                V
  Clamp Voltage                                 flowing out of DO
www.maximintegrated.com                                                                                    Maxim Integrated │ 5


MAX22520                                                                     One-Time Programmable (OTP)
                                                                               Industrial Sensor Output Driver
Electrical Characteristics (continued)
(VCC = VCC(MIN) to 36V, GND = 0V, CLDO = 0.1μF to 1.2μF, CLOAD on DO = 1nF, REGEN is unconnected, all logic inputs at VLDO or
GND, TA = -40°C to +105°C, unless otherwise noted. Typical values are at VCC = 24V and TA = +25°C.) (Note 1)
          PARAMETER                SYMBOL                     CONDITIONS                    MIN       TYP    MAX      UNITS
  LOGIC OUTPUTS (LO1, LO2, LO3, CMPO, PWM, LED)
  Logic Output Low Voltage            VOL       ISINK = 5mA                                                    0.4        V
                                                LED, CMPO, PWM in push-pull,               VLDO-
  Logic Output High Voltage           VOH                                                                                 V
                                                ISOURCE = 5mA                                 0.4
                                                LO1, LO2, LO3, PWM in open-drain,
  Open-Drain Leakage               ILEAK_LO     output is high impedance,                     -1               +1        μA
                                                VOUT = VLDO or GND
  COMPARATOR (AIN)
  Number of OTP
                                     NVTH       VT1, VT2 (Note 4)                                       2
  Programmable Thresholds
                                                                                                             VLDO
  Comparator Threshold Range         VTH_R                                                     0                          V
                                                                                                              - 0.9
  Comparator Threshold
                                   VTH_RES                                                              6               Bits
  Resolution in OTP
  Comparator Threshold
                                   VTH_DNL                                                   -0.9             +0.9      LSB
  Differential Nonlinearity (DNL)
                                                Includes comparator and DAC,
  Comparator Threshold
                                     ΔVTH       REGEN = GND, 3.1V ≤ VLDO ≤ 5.2V               -9               +9        mV
  Temperature Variation
                                                (Note 5)
  PWM OSCILLATOR (PWM)
  Number of OTP
                                   NPWMDC       (Note 6)                                                2
  Programmable Duty Cycles
  Number of Programmable
                                   DCSTEPS      High-to-low/Open-to-closed ratio                      512
  PWM Duty Cycle Steps
  PWM Duty Cycle Range              DCRNG       High-to-low/Open-to-closed ratio               0              99.8       %
  PWM Duty Cycle Variation
                                  ΔDCTMPCO                                                     0                0        %
  Over Temperature
  DIGIPOT (RT, RB, WP)
  End-to-End Resistance               REE       RT to RB, WP unconnected                      6.5      10     13.5       kΩ
  End-to-End Temperature                        RT to RB, WP unconnected,
                                     TCEE                                                             -25             ppm/°C
  Coefficient                                   -40°C ≤ TA ≤ +105°C
                                                RT = VLDO,               VLDO = 3.3V                           7.6       kΩ
  Wiper Output Impedance              RWP
                                                RB = GND                 VLDO = 5V                              9        kΩ
  Wiper Output Impedance                        RT = VLDO, RB = GND,
                                    RWP_TC                                                            0.18              %/°C
  Temperature Variation                         ILOAD = 1μA on WP
www.maximintegrated.com                                                                                    Maxim Integrated │ 6


MAX22520                                                                     One-Time Programmable (OTP)
                                                                               Industrial Sensor Output Driver
Electrical Characteristics (continued)
(VCC = VCC(MIN) to 36V, GND = 0V, CLDO = 0.1μF to 1.2μF, CLOAD on DO = 1nF, REGEN is unconnected, all logic inputs at VLDO or
GND, TA = -40°C to +105°C, unless otherwise noted. Typical values are at VCC = 24V and TA = +25°C.) (Note 1)
          PARAMETER               SYMBOL                      CONDITIONS                    MIN       TYP    MAX      UNITS
  Number of Programmable
                                  WPSTEPS       Linear                                                 64
  Digipot Wiper Steps
  Wiper Setting Minimum Value         SMIN      DIGIPOTSET[5:0] = 000000                                0                %
  Wiper Setting Maximum Value        SMAX       DIGIPOTSET[5:0] = 111111                              100                %
  Wiper Setting Differential
                                   RESDNL                                                    -0.5             +0.5      LSB
  Nonlinearity (DNL)
  PROTECTION
  Thermal Shutdown                  TSHDN       Junction temperature rising                          +150                °C
  Thermal Shutdown Hysteresis      TSH_HYS                                                             15                °C
  Reverse Polarity Current              IRP     Any combination of VCC, DO, and GND                  ±0.55               mA
                                                IEC 61000-4-2 Contact Discharge,
                                                                                                       ±6
  ESD Protection                                CLOAD = 1nF on DO
                                                                                                                         kV
  (VCC, DO)                                     IEC 61000-4-2 Airgap Discharge,
                                                                                                       ±6
                                                CLOAD = 1nF on DO
  ESD Protection
                                                Human Body Model                                       ±2                kV
  (All Other Pins)
  SWITCHING CHARACTERISTICS / POWER ON RESET (POR) TIMING
                                                                        PORDLY[1:0] = 00       6        8      10
                                                Delay after VCC
                                                rises above VTH         PORDLY[1:0] = 01       9       12      15
  DO, LED POR Delay                 tPU_DO                                                                               ms
                                                until DO and LED        PORDLY[1:0] = 10      12       16      20
                                                are active
                                                                        PORDLY[1:0] = 11      30       40      50
  POR Delay (All Other Pins)         tPU_O                                                                      1        ms
  SWITCHING CHARACTERISTICS / DO DRIVER TIMING
                                                AIN to DO, VCC = 24V, CL = 4nF, RL =
  Low-to-High Driver
                                       tPLH     5kΩ, to 50%, Push-pull or PNP mode,                     9     16.5       μs
  Propagation Delay
                                                Figure 1
                                                AIN to DO, VCC = 24V, CL = 4nF, RL =
  High-to-Low Driver
                                       tPHL     5kΩ, to 50%, Push-pull or NPN mode,                     9     16.5       μs
  Propagation Delay
                                                Figure 1
                                                VCC = 24V, CL = 4nF, RL = 5 kΩ, 10% to
  DO Output Rise Time                 tRISE                                                             6      12        µs
                                                90%, Push-pull mode, Figure 1
                                                VCC = 24V, CL = 4nF, RL = 5 kΩ, 90% to
  DO Output Fall Time                 tFALL                                                             6      12        µs
                                                10%, Push-pull mode, Figure 1
www.maximintegrated.com                                                                                    Maxim Integrated │ 7


MAX22520                                                                       One-Time Programmable (OTP)
                                                                                Industrial Sensor Output Driver
Electrical Characteristics (continued)
(VCC = VCC(MIN) to 36V, GND = 0V, CLDO = 0.1μF to 1.2μF, CLOAD on DO = 1nF, REGEN is unconnected, all logic inputs at VLDO or
GND, TA = -40°C to +105°C, unless otherwise noted. Typical values are at VCC = 24V and TA = +25°C.) (Note 1)
         PARAMETER                  SYMBOL                      CONDITIONS                     MIN      TYP        MAX      UNITS
  SWITCHING CHARACTERISTICS / DO DRIVER PULSE STRETCH TIMING
                                                  DO pulse stretching enabled
  DO Stretched Pulse Length               tPS     (PLSTEN = 1), AIN positive input              3.5      4.0        4.5      ms
                                                  pulse length < tPS.
  SWITCHING CHARACTERISTICS / COMPARATOR TIMING (AIN, CMPO)
  Comparator AIN to CMPO
                                     tCOM_PD      AIN to CMPO                                   0.5     0.65        0.9       µs
  Propagation Delay
  AIN Rejected Input Pulse               tPR                                                     0                  200       ns
  SWITCHING CHARACTERISTICS / DO DRIVER OVERCURRENT AUTORETRY TIMING
  DO Overcurrent Detection
                                      tILIMDET                                                          500                   μs
  Time
  DO Overcurrent Turn-off Time        tILIMOFF                                                           50                  ms
  SWITCHING CHARACTERISTICS / PWM OSCILLATOR TIMING
  PWM Oscillator Start-up Time          tPWM      VCC rises above VTH to PWM active                      64                   μs
  PWM Oscillator Center
                                      fPWM_C                                                    28       34          40      kHz
  Frequency
  PWM Duty Cycle Switching                        Duty cycle switches after comparator
                                    tPWM_SW                                                              50                   µs
  Delay                                           logic output change
Note 1: All devices are 100% production tested at TA = +25°C. Limits over the operating temperature range are guaranteed by
        design.
Note 2: Program the LDOVSET bit in the OTP registers to set the UVLO threshold for VLDO when the internal regulator is disabled
        (REGEN = GND) and an external supply is connected to VLDO.
Note 3: DO driver cannot be disabled during normal operation. When in push-pull configuration, the DO driver is in a high imped-
        ance state during thermal shutdown or during the power-on-reset (POR) delay.
Note 4: Up to two comparator thresholds (VT1 and VT2) can be programmed in the OTP registers. If only one threshold is needed,
        set VT1 = VT2. See the Input Comparator (AIN, CMPO) section for more information.
Note 5: Not production tested. Guaranteed by design.
Note 6: Up to two duty cycles (DC1 and DC2) can be programmed for the PWM output in the OTP registers. If only one duty cycle
        is needed, set DC1 = DC2. See the PWM Oscillator section for more information.
www.maximintegrated.com                                                                                        Maxim Integrated │ 8


MAX22520                                                       One-Time Programmable (OTP)
                                                                Industrial Sensor Output Driver
                                  AIN       MAX22520    DO
                                                           4nF          5kΩ
                                              GND
                                                                                           VLDO
       AIN       50%                                                50%
                                                                                            0V
                          tPHL
                                                                     tPLH
                                      90%                                                   V24
                                                                   90%
        DO               50%                                                    50%
                                      10%                          10%
                                                                                            0V
                               tFALL                                      tRISE
Figure 1. DO Driver Propagation Delays (Push-Pull Mode)
www.maximintegrated.com                                                             Maxim Integrated │ 9


MAX22520                                                                                                                                                                                    One-Time Programmable (OTP)
                                                                                                                                                                                             Industrial Sensor Output Driver
Typical Operating Characteristics
(VCC = 24V, TA=+25°C, VLDO unloaded)
                                           NORMALIZED LDO OUTPUT                                                                        LOGIC VOLTAGE OUTPUT HIGH                                                                        LOGIC VOLTAGE OUTPUT LOW
                                          VOLTAGE vs. LOAD CURRENT                                                                           vs. LOAD CURRENT                                                                                 vs. SINK CURRENT
                                                                                    toc01                                                                                             toc02                                                                                         toc03
                    1.010                                                                                                   6                                                                                              1.0
                                                                                                                                                                  VLDO = 5V                                                          PWM ENABLED AND IN PP MODE
                    1.008                                                                                                                                                                                                  0.9       PWM FORCE LOW ENABLED
                                                                                                                            5
                    1.006                                                                                                                                                                                                  0.8
                    1.004                                                                                                   4                                                                                              0.7
                                                                                                                                                                                                                                                             VLDO = 5V
                    1.002                                                                                                                                                                                                  0.6
VLDO (V)
                                                                      VLDO = 5V                                             3
                    1.000
                                                                                                                 VPWM (V)                                                                                     VPWM (V)     0.5
                                                                                                                            2
                    0.998                                                                                                                     VLDO = 3.3V                                                                  0.4                VLDO = 3.3V
                    0.996                                                                                                   1                                                                                              0.3
                    0.994                                                                                                                                                                                                  0.2
                                                   VLDO = 3.3V                                                              0
                    0.992                                                                                                            PWM ENABLED AND IN PP MODE                                                            0.1
                                                                                                                                     PWM FORCE HIGH ENABLED
                    0.990                                                                                                   -1                                                                                             0.0
                                    0     -5       -10      -15      -20    -25        -30                                       0       -5      -10        -15      -20      -25       -30                                      0        5        10       15        20      25       30
                                                    LOAD CURRENT (mA)                                                                            LOAD CURRENT (mA)                                                                                SINK CURRENT (mA)
                                                LDO LOAD TRANSIENT                                                                     DO SHORT CIRCUIT RESPONSE                                                                                        LDO PSRR
                                                                                  toc04                                                                                             toc05                                                                                           toc06
                                                                                                                                                                                                                             0
                                                                                                                                                                         DO IN PP
                                                                                                                                                                     DODRVILIM = 1
                                                                                                                                                                                                                           -10
                                                                                                                                                                                            DO
                                                                                          ILOAD                                                                                             10V/div
                                                                                          10mA/DIV                                                                                                                         -20
                                                                                          0mA                                                                                               0V
                                                                                                                                                                                                        PSRR (dB)
                                                                                                                                                                                                                           -30
                                                                                                                                                                                                                           -40
                                                                                          VLDO
                                                                                          AC-                                                                                               ISHORT
                                                                                                                                                                                            100mA/div                      -50
                                                                                          COUPLED
                                                                                          50mV/div
                                                                                                                                                                                            0mA                            -60
                                                                                                                                                                                                                                                                              VLDO = 5V
                                    VLDO = 5V                                                                                                                                                                                                                              ILOAD = 10mA
                                                                                                                                                                                                                           -70
                                                         20µs/div                                                                                      10ms/div                                                               0.01         0.1          1        10         100       1000
                                                                                                                                                                                                                                                  FREQUENCY (kHz)
                                               DO PROPAGATION DELAY                                                                       DO OUTPUT VOLTAGE HIGH                                                                           DO OUTPUT VOLTAGE LOW
                                                 vs. LOAD CURRENT                                                                             vs. LOAD CURRENT                                                                                 vs. SINK CURRENT
                                                                                     toc07                                                                                            toc08                                                                                         toc09
                               12                                                                                     24.0                                                                                                 1.0
                                                                                                                                                                                                                                      DO IN PP MODE AND SET LOW
                                                                                                                      23.9                                                                                                 0.9
                                                                                                                                                                                                                                      DODRVILIM = 1
                               10
                                                                                                                      23.8                                                                                                 0.8
                                                             tPLH
      PROPAGATION DELAY (µs)
                                                                                                                      23.7                                                                                                 0.7
                                8
                                                                                                     DO VOLTAGE (V)                                                                                       DO VOLTAGE (V)
                                                                                                                      23.6                                                                                                 0.6
                                6                                                                                     23.5                                                                                                 0.5
                                                              tPHL
                                                                                                                      23.4                                                                                                 0.4
                                4
                                                                                                                      23.3                                                                                                 0.3
                                                                                                                      23.2                                                                                                 0.2
                                2
                                                                                                                      23.1           DO IN PP MODE AND SET HIGH                                                            0.1
                                                                     DO IN PNP MODE                                                  DODRVILIM = 1
                                0                                                                                     23.0                                                                                                 0.0
                                    0   25 50 75 100 125 150 175 200 225 250 275                                                 0 -25 -50 -75 -100 -125 -150 -175 -200 -225 -250 -275                                           0     25 50 75 100 125 150 175 200 225 250 275
                                                   LOAD CURRENT (mA)                                                                             LOAD CURRENT (mA)                                                                                 LOAD CURRENT (mA)
www.maximintegrated.com                                                                                                                                                                                                                                      Maxim Integrated │ 10


MAX22520                                                                                                                                                                                                    One-Time Programmable (OTP)
                                                                                                                                                                                                             Industrial Sensor Output Driver
Typical Operating Characteristics (continued)
(VCC = 24V, TA=+25°C, VLDO unloaded)
                                                 DO HIGH-SIDE CURRENT LIMIT                                                                         DO LOW-SIDE CURRENT LIMIT
                                                     vs. SUPPLY VOLTAGE                                                                                vs. SUPPLY VOLTAGE                                                                                                          POR DELAY
                                                                                            toc10                                                                                                       toc11                                                                                                 toc12
                                 -250                                                                                             300
                                                                                                                                             DO IN PP MODE AND SET LOW
                                 -255                                                                                             295        DODRVILIM = 1
                                 -260                                                                                             290                                                                                                                                                                                 VCC
                                                                                                                                                                                                                                                                                                                      10V/div
                                 -265                                                                                             285
CURRENT LIMIT (mA)                                                                                          CURRENT LIMIT (mA)
                                                                                                                                                                                                                                                                                                                      0V
                                 -270                                                                                             280
                                 -275                                                                                             275                                                                                                                                                                                 VLDO
                                                                                                                                                                                                                                                                                                                      5V/div
                                 -280                                                                                             270                                                                                                                                                                                 0V
                                 -285                                                                                             265                                                                                                                            VLDO = 3.3V
                                                                                                                                                                                                                                                                 POR DELAY IS 8ms
                                 -290                                                                                             260                                                                                                                                                                             VDO
                                                                                                                                                                                                                                                                 DO IN PP
                                                                                                                                                                                                                                                                 IDO = 20mA                                       10V/div
                                 -295                       DO IN PP MODE AND SET HIGH                                            255
                                                                         DODRVILIM = 1
                                 -300                                                                                             250                                                                                                                                                                             0V
                                        4    8      12      16      20     24   28     32       36                                       4      8     12       16     20       24        28        32       36                                                                       2ms/div
                                                                 VCC (V)                                                                                             VCC (V)
                                                                                                                                                                                                                                                                            DIGITPOT RT TO RB
                                             INDUCTIVE DEMAG RESPONSE                                                                          INDUCTIVE DEMAG RESPONSE                                                                                                RESISTANCE vs. TEMPERATURE
                                                                                        toc13                                                                                                       toc14                                                                                                       toc15
                                                                                                                                                                                                                                                            13
                                                                1.5H INDUCTOR TO GND                                                                  46.0V
                                                                                                                                                                                                                                                                   WP IS UNCONNECTED
                                                                       HIGH-SIDE MODE                                                                                                                                                                       12
                                                             120Ω SERIES RESISTANCE
                                                                                                                                                                                                                                 RT-TO-RB RESISTANCE (kΩ)
                                                                                                DO                                                                                                          DO
                                                                                                                                                                                                            20V/div                                         11
                                                                                                20V/div
                                                                                                0V                                                                                                          0V
                                                                                                                                                                                                                                                            10
                                                   -20.4V
                                                                                                                                                                                                                                                             9
                                                                                              ISHORT                                                                                                        ISHORT
                                                                                              100mA/div                                                                                                     100mA/div
                                                                                                                                                                                                                                                             8
                                                                                              0mA                                                                                                           0mA
                                                                                                                                         1.5H INDUCTOR TO VCC
                                                                                                                                         LOW-SIDE MODE                                                                                                       7
                                                                                                                                         120Ω SERIES RESISTANCE
                                                                                                                                                                                                                                                             6
                                                                 4ms/div                                                                                        10ms/div                                                                                         -40 -25 -10   5    20   35    50   65   80   95 110
                                                                                                                                                                                                                                                                               TEMPERATURE (°C)
                                                 WIPER OUTPUT RESISTANCE                                                                      NORMALIZED COMPARATOR INPUT                                                                                                 NORMALIZED PWM DUTY
                                                        vs. VOLTAGE                                                                            THRESHOLD vs. TEMPERATURE                                                                                                  CYCLE vs. TEMPERATURE
                                                                                            toc16                                                                                                       toc17                                                                                                   toc18
                                   9                                                                                             1.010                                                                                                           1.004
                                                                                                                                                                                                                                                                   PWM ENABLED AND IN PP MODE
                                   8                                                                                             1.008                                                                                                           1.003
                                   7                                                                                             1.006
                                                                                                                                                                                                                                                 1.002
         WIPER RESISTANCE (kΩ)
                                                                                                                                 1.004
                                                                                                          AIN THRESHOLD (V)
                                   6
                                                                                                                                                                                                                        DUTY CYCLE (%)
                                                                                                                                 1.002                                                                                                           1.001
                                   5
                                                                                                                                 1.000                                                                                                           1.000
                                   4
                                                    VLDO = 3.3V                                                                  0.998
                                                                                                                                                                                                                                                 0.999
                                   3
                                                                           VLDO = 5V                                             0.996
                                   2                                                                                                                                                                                                             0.998
                                                                                                                                 0.994
                                   1                                              RT = VLDO                                      0.992                                                                                                           0.997
                                                                                  RB = GND
                                   0                                                                                             0.990                                                                                                           0.996
                                        0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0                                                      -40 -25 -10       5    20    35   50       65        80    95 110                                                       -40 -25 -10   5    20   35    50   65   80   95 110
                                                            WP VOLTAGE (V)                                                                                 TEMPERATURE (°C)                                                                                                    TEMPERATURE (°C)
www.maximintegrated.com                                                                                                                                                                                                                                                                   Maxim Integrated │ 11


MAX22520                                                                         One-Time Programmable (OTP)
                                                                                  Industrial Sensor Output Driver
Pin Configuration
                                     TOP VIEW
                                 (BUMP SIDE DOWN)
                                                              MAX22520
                                              1         2           3         4        5
                                          +
                                      A      WP        RT        VLDO        RB       VCC
                                      B      LO1       I.C.       I.C.      GND      PGND
                                      C      LO2       I.C.       I.C.     REGEN      LED
                                      D      LO3       AIN       PWM       CMPO       DO
                                                                WLP
                                                           2mm × 2.5mm
Pin Description
  PIN       NAME                                                         FUNCTION
 POWER
   A5        VCC       Supply Voltage. Bypass VCC to GND with a 10nF capacitor as close to the pin as possible.
   B4        GND       Ground.
   B5       PGND       Power Ground. Connect PGND to GND.
 LINEAR REGULATOR
                       LDO Supply Input/Linear Regulator Output. Bypass VLDO to GND with a 1μF capacitor. Leave REGEN un-
                       connected to enable the internal regulator. VLDO can be 3.3V (typ) or 5V (typ) when the part is powered up
                       and the part is not OTP programmed. Program the LDOVSET bit in the OTP registers to set VLDO to 3.3V
                       (typ) or 5V (typ) when the internal regulator is enabled.
   A3       VLDO
                       Connect REGEN to GND to disable the internal regulator. Connect an external supply of 3.3V or 5V to
                       VLDO when the internal regulator is disabled. Program the LDOVSET bit in the OTP registers to set the
                       UVLO threshold for VLDO when the internal linear regulator is disabled and an external supply is connected
                       to VLDO.
                       Linear Regulator Enable. Leave REGEN unconnected to enable the VLDO linear regulator.
                       Do not apply an external voltage to REGEN.
   C4      REGEN
                       Connect REGEN to GND to disable the internal linear regulator. Apply an external 3.3V
                       or 5V supply to VLDO when the internal regulator is disabled.
www.maximintegrated.com                                                                                       Maxim Integrated │ 12


MAX22520                                                                        One-Time Programmable (OTP)
                                                                                  Industrial Sensor Output Driver
Pin Description (continued)
  PIN       NAME                                                         FUNCTION
 DRIVER
                       Driver Output. DO is configurable in the OTP registers for PNP, NPN, push-pull,
                       normally-open, or normally-closed operation. See the Table 2. Logic Truth Table and
   D5        DO        OTP Register Map for more information.
                       DO is the 1-Wire I/O when programming OTP registers or when the device is in OTP-
                       transparent RAM mode. See the One-Time Programming (OTP) section for more information.
 COMPARATOR
                       Analog Input of the Internal Comparator. Program up to two comparator thresholds (VT1, VT2) in the OTP
   D2        AIN
                       registers. See the Table 2. Logic Truth Table and OTP Register Map for more information.
   D4       CMPO       Comparator Logic Output.
 LED DRIVER
                       Push-pull Logic LED Driver Output. Connect an LED and current limiting resistor between LED and GND.
   C5        LED
                       See the Table 2. Logic Truth Table for more information.
 DIGIPOT
                       Digipot Wiper. Set the internal digipot resistance at WP by programming the DIGIPOTSET[5:0] bits in OTP.
   A1        WP
                       See the OTP Register Map for more information.
   A2         RT       Digipot Top Terminal. Connect RT to VLDO or another external voltage.
   A4         RB       Digipot Bottom Terminal. Connect RB to a voltage between GND and VRT.
 LOGIC OUTPUTS
                       Open-drain Logic Output 1. Set the LO1CFG[1:0] bits in the OTP registers to configure LO1 operation. See
   B1        LO1
                       the OTP Register Map for more information.
                       Open-drain Logic Output 2. Set the LO2CFG[2:0] bits in the OTP registers to configure LO2 operation. See
   C1        LO2
                       the OTP Register Map for more information.
                       Open-drain Logic Output 3. Set the LO3CFG bit in the OTP registers to configure LO3
   D1        LO3
                       operation. See the OTP Register Map for more information.
                       Internal PWM Oscillator Output. Program the OTP registers to configure the PWM output for open-drain or
   D3       PWM        push-pull operation and to set the duty cycle(s). See the OTP Register Map
                       for more information.
 B2, B3,
             I.C.      Internally Connected. Do not connect.
 C2, C3
www.maximintegrated.com                                                                                      Maxim Integrated │ 13


MAX22520                                                               One-Time Programmable (OTP)
                                                                         Industrial Sensor Output Driver
Detailed Description                                        individually, in a separate burn step. See the One-Time
The MAX22520 24V driver is optimized for use in             Programming (OTP) section for more information.
3-wire sensors operated in harsh industrial environments.   LDO Linear Regulator (VLDO)
Integrated analog interface I/Os are included to support
                                                            The MAX22520 includes an integrated programmable
sensor signal generation and signal conditioning for sens-
                                                            3.3V/5V linear regulator output, VLDO. Leave REGEN
ing circuitry.
                                                            unconnected to enable the internal regulator. Set the
This device is configurable through one-time program-       LDOVSET bit in the OTP registers to 0 to set VLDO = 3.3V
ming (OTP) using a 1-Wire interface with the VCC, DO,       (typ). Set LDOVSET = 1 to set VLDO = 5V (typ).
and GND pins. OTP programming can be done at the
                                                            VLDO can be 3.3V (typ) or 5V (typ) when the part is pow-
end-of-line, during sensor calibration and test. The 1-Wire
                                                            ered up and the part is not OTP programmed.
interface allows the user to set analog and logic param-
eters (PWM duty cycles, comparator thresholds, and an       Connect REGEN to GND to disable the internal regulator.
integrated digipot). During programming, the comparator     Apply an external voltage of 3.3V or 5V to VLDO when
output (CMPO) logic state is available, providing a logic-  the internal regulator is disabled. A voltage must be pres-
level representation of the binary sensor output, allowing  ent on VLDO when REGEN = GND for normal operation.
on-board calibration.                                       Program the LDOVSET bit in the OTP registers to set the
                                                            UVLO threshold for VLDO when the internal regulator is
OTP Configurable Functions                                  disabled and an external supply is connected to VLDO.
Table 1 shows the OTP configurable functions in the         The logic outputs (LO1, LO2, LO3, PWM, and CMPO)
MAX22520. Two OTP banks are available to configure          and the internal comparator are referenced to VLDO and
the device. Note that each OTP bank must be burnt           GND.
Table 1. OTP Configurable Functions
                           PROGRAMMABLE             OTP                                  PROGRAMMABLE             OTP
        FUNCTION                                                    FUNCTION
                                 OPTIONS           BANK                                      OPTIONS             BANK
   VLDO Linear Regulator            3.3V                                                     DC1, DC2
                                                      1
       Output Voltage                5V                          PWM Duty Cycle              Switching              2
                           VT1, VT2 Thresholds                                             Dependencies
      AIN Comparator                                  1
                              Output Polarity                                                Static Low
          DO Pulse            Enable/Disable                      LO2 Open-Drain             Static High
                                                      1                                                             2
         Stretching            Pulse Polarity                       Logic Output            Fault Output
                                                                                           Dependencies
                              Enable/Disable
           PWM
                               Configuration          1           LO3 Open-Drain             Static Low
       Configuration                                                                                                2
                             Normal Operation                       Logic Output             Static High
           Digipot              0kΩ to 10kΩ                                                     NPN
                                                      1              DO Driver
         Resistance            Dependencies                                                     PNP                 2
                                                                   Configuration
                                                                                             Push-Pull
                                 Static Low
      LO1 Open-Drain                                                 DO Driver             Normally-Open
                                 Static High          1                                                             2
        Logic Output                                              Operating State         Normally-Closed
                               Dependencies
                                    8ms                                                       Disabled
                                                                  DO Driver Weak
                                   12ms                                                     Weak Pullup             2
         POR Delay                                    1           Pullup/Pulldown
                                   16ms                                                    Weak Pulldown
                                   40ms                              DO Driver                 100mA
                                                                                                                    2
                                                                   Current Limit               200mA
www.maximintegrated.com                                                                              Maxim Integrated │ 14


MAX22520                                                                        One-Time Programmable (OTP)
                                                                                 Industrial Sensor Output Driver
Input Comparator (AIN, CMPO)                                          To disable hysteresis, or if only one threshold is needed, set
A configurable integrated comparator provides the input               VT2 = VT1.
signal that drives the DO driver output. The PWM output,              Pulse Stretching
digipot wiper position, and the logic states of the LO1 and
                                                                      When enabled in the OTP registers (PLSTEN = 1), positive
LO2 outputs can also be configured to be dependent on the
                                                                      or negative pulses received at AIN that are shorter than 4ms
comparator output.
                                                                      are stretched to 4ms (typ) at the output of the pulse stretcher
AIN is the input of the comparator. Two comparator                    circuitry. Pulses on DO are lengthened to match this output.
thresholds (VT1, VT2) can be programmed in the OTP
                                                                      Select the AIN pulse polarity to be stretched at DO by set-
registers to define the switching hysteresis.
                                                                      ting the PLSTPOL bit in the OTP registers. Set PLSTPOL
CMPO is a logic-level comparator output. CMPO can                     to 0 to stretch positive pulses on DO (PLSTEN = 1), as
be programmed in the OTP registers to be in-phase or                  shown in Figure 3. Set PLSTPOL to 1 to stretch negative
inverted compared to AIN.                                             DO pulses on DO (PLSTEN = 1).
Comparator Threshold Voltages (VT1, VT2)                              Very short pulses on AIN (< 200ns, max) are filtered out
Two threshold voltages (VT1, VT2) can be programmed for               by the glitch filter that precedes the pulse stretcher and
the internal comparator, each with a 6-bit resolution relative to     are not stretched when pulse stretching is enabled.
VLDO. Set the thresholds by programming the VT1SET[5:0]               CMPO pulses are not stretched when pulse stretch is
and VT2SET[5:0] bits in the OTP registers. Calculate the              enabled.
programmed threshold voltages using the following equation::
                        VT_SET[5 : 0]
     =V T_                            × VLDO                                      CMPO LOGIC
                            63
                                                                                    STATE
VT_SET are the 6-bit words programmed into the C1_
                                                                               HIGH
OTP2 and C1_OTP3 registers. The VT1 and VT2 thresh-
olds must be in the range of the 0V to (VLDO - 0.9V).
If VT1 and VT2 are not the same, ensure that the VT1
threshold is greater than the VT2 threshold (VT1 ≥ VT2).
Multiple functions can be configured to depend on the AIN,                      LOW
VT1, and VT2 voltages including the CMPO output, the state
                                                                                                                       AIN (V)
of the DO driver, and the PWM duty cycle. Figure 2 shows                                             VT2   VT1
an example of the CMPO output operation when a compara-
tor threshold and hysteresis are programmed.                          Figure 2. Comparator Operation with Hysteresis
                                                                            < 4ms
                                                                                                                                 VLDO
     AIN            < 4ms                                           < 4ms                      4ms
                                                                                                                                 0V
                                                                                                                                 VCC
      DO                4ms                   4ms                   < 4ms   < 4ms              4ms
                                                                                                                                 0V
           *DO IS CONFIGURED IN PUSH-PULL MODE, NORMALLY-OPEN STATE
Figure 3. Sample Waveform with Positive Pulse Stretching
www.maximintegrated.com                                                                                          Maxim Integrated │ 15


MAX22520                                                                  One-Time Programmable (OTP)
                                                                            Industrial Sensor Output Driver
Driver Output (DO)                                             Driving Inductive Loads
The DO driver output is configurable for high-side operation   Inductive loads can be turned-off/demagnetized by the
(PNP), low-side operation (NPN), or push-pull operation in     MAX22520 in NPN, PNP, and push-pull modes. The
a normally-open (NO) or normally-closed (NC) state in the      internal clamps on DO turn off both GND-connected and
OTP registers. An integrated LED output provides visual        24V-connected inductive loads fast due to their 42V (typ)
feedback of the state of DO at all times. See Table 2.         positive clamping voltage and (VCC – 42V) (typ) negative
                                                               clamping voltage. Inductive loads of up to 1.2H, with up to
DO Short Circuit Protection                                    200mA load current, can be turned off safely with supply
When the DO driver load current exceeds the pro-               voltages up to +36V.
grammed current limit threshold for longer than 500μs
(typ), DO is disabled and the device enters autoretry          Integrated Digipot (RT, RB, WP)
mode. In autoretry mode, the driver is disabled for 50ms       The MAX22520 features an integrated 10kΩ (typ) linear
and then reenabled. If the fault condition is still present,   digital potentiometer that can be used for on-board sensor
the MAX22520 waits for 500μs (typ) and disables the driv-      calibration. Connect the top of the digital potentiometer
er again. The MAX22520 remains in autoretry mode until         (RT) to VLDO or to another external voltage up to VLDO.
the fault condition is removed. The DO driver remains          Connect the bottom of the digital potentiometer (RB) to a
enabled and operates normally after the fault condition        voltage between ground and RT.
has been removed.                                              Set the wiper position by programming the DIGIPOTSET[7:2]
Select the DO driver current limit threshold to 100mA (min) or bits in the OTP registers. Calculate the voltage at WP
200mA (min) by setting the DOILIM bit in the OTP registers.    using the following equation:
                                                                                DIGIPOTSET[5:0]
                                                                  =     V WP                       × ( VRT − VRB )
Table 2. Logic Truth Table                                                                64
                      DO CONFIGURATION
      AIN
                                                               LED Output
                                              PUSH-    LED
  VOLTAGE       NO/NC     PNP         NPN                      The MAX22520 includes an integrated LED output for
                                               PULL            visual feedback on the state of the DO driver. The LED
                  NO     HIGH-Z HIGH-Z           L     OFF     current source is on, when the DO driver is on (in PNP
       L                                                       or NPN mode) or when DO is driven high in push-pull
                  NC        H          L         H      ON
                                                               mode. See the Table 2. Logic Truth Table. The LED might
                  NO        H          L         H      ON     turn on during power up while VCC ≤ VCC_OA. The LED
       H                                                       is guaranteed to be off for the power-on-reset POR delay
                  NC     HIGH-Z HIGH-Z           L     OFF
                                                               (tPU_DO) once VCC rises above the VCC_OA.
                                                               PWM Oscillator
                      VCC                                      The MAX22520 features an internal 34kHz (typ) oscillator
                                                               output, PWM. The PWM output is configurable in the OTP
             MAX22520                                          registers and is disabled by default.
                                                                                                       VCC
                           DO                                                 MAX22520
                                                                                            DO
Figure 4. High-Side Mode with Ground-Connected Load
                                                               Figure 5. Low-Side Mode with Supply-Connected Load
www.maximintegrated.com                                                                                 Maxim Integrated │ 16


MAX22520                                                               One-Time Programmable (OTP)
                                                                        Industrial Sensor Output Driver
Configuring the PWM Output                                   down and the DO driver, the LED driver, and the internal
The PWM oscillator is disabled by default but can be         linear regulator (VLDO) are disabled. DO, LED, and VLDO
enabled and configured in the OTP registers. Set PWMEN       are reenabled when the die temperatures fall below the
to 1 to enable the PWM output. Set the PWMCFG bit to         15°C thermal shutdown hysteresis to 135°C (typ).
configure PWM as an open-drain or push-pull output. Set      One-Time Programming (OTP)
the PWM output permanently high, permanently low, or as
                                                             The MAX22520 features a high level of configurability
a switching output by setting the PWMFH and PWMFL bits.
                                                             through one-time programmable (OTP) registers. The
PWM Duty Cycle                                               state of the OTP bits are unknown if the part is powered
The PWM output can be configured with up to two              up and has not been programmed. Once programmed, the
duty cycles (DC1 and DC2). Duty cycles can vary from         selected functionality cannot be reprogrammed. Program
0% (min) to 99.8% (max) and have a 9-bit resolution.         the configurable options using the sensor interface pins
Calculate the duty cycle using the the following equation:   (VCC, DO, and GND) and the 1-Wire interface protocol.
                                                             For protocol information on the 1-Wire interface, refer
                      PMWD_[8:0]                             to the design resources section on the 1-Wire Devices
       =DC_                      × 100%
                         512                                 page and the 1-Wire tutorial video. The MAX22520 is
                                                             only compatible with standard 1-Wire mode and requires
During normal operation, the PWM duty cycle is deter-        a MSB-first data exchange.
mined by the state of the comparator AIN input voltage
and programmed input voltage hysteresis (Figure 6).          Two OTP banks are provided for all of the configurable
Set the VT1 and VT2 thresholds in the C1_OTP2 and            options. Each OTP bank must be burnt individually, in
C1_OTP3 registers.                                           a separate OTP burn. The flow charts in Figure 9 and
                                                             Figure 10 outline the automatic OTP burn procedure.
Set DC1 = DC2, if only one duty cycle is required.
                                                             Registers in the MAX22520 can be configured and verified
Use the following procedure to set the DC1 and DC2 duty
                                                             by entering OTP-transparent mode before OTP is burned,
cycles when the MAX22520 is in OTP-transparent RAM
                                                             or after. In this mode, all of the functionality, except DO,
mode:
                                                             is available for programming. OTP registers return to their
1)   Write bit values to the C2_OTP1 (0x1A) and/or C2_       burned values (if already burned), or the default values (if
     OTP2 (0x1B) registers to set the PWMD1[7:0] and/ or     not burned), when the VCC supply is cycled.
     PWMD2[7:0] duty cycle bits.
                                                             1-Wire Interface
2)   Write bit values to the C2_OTP0 (0x19) register.
                                                             Enable the 1-Wire interface for the MAX22520 by cycling the
Note that the C2_OTP0 (0x19) register must be written to     VCC power supply to 0V and then raising VCC to 3.8V (typ).
after setting PWMD1[7:0] and/or PWMD2[7:0], even if the
PWMD1[8] and/or PWMD2[8] bit values do not change.           A 1-Wire access cycle is always initiated by the master
PWM duty cycles are not updated if step (2) is skipped.      controller sending a command byte that contains the
                                                             access type (read or write) and the register address. The
Voltage Transients                                           MAX22520 reads/writes the MSB first.
Short-duration voltage transients that rise above the
absolute maximum rating of the VCC pin occurs during
ESD, surge, and hot plug events. With a 10nF bypass                   PWM DUTY
capacitor on the VCC line, the device is not damaged.                 CYCLE (%)
Transients due to inductive kickback on DO when driving
inductive loads up to 1.5H at 200mA or less may also
                                                                     DC2
bring the DO voltage above the absolute maximum rating,
yet the device is not damaged. The absolute maximum
ratings for VCC and DO should not be violated for any                DC1
length of time by external sources.
Thermal Protection
Integrated circuitry protects the MAX22520 from thermal                               VT2    VT1    VLDO    AIN (V)
overload conditions. When the die temperature rises
above 150°C (typ), the MAX22520 enters thermal shut-         Figure 6. PWM Duty Cycle Hysteresis, Dependent on
                                                             Comparator Thresholds
www.maximintegrated.com                                                                             Maxim Integrated │ 17


MAX22520                                                                              One-Time Programmable (OTP)
                                                                                         Industrial Sensor Output Driver
1-Wire Write Byte                                                       2)      Using the 1-Wire interface, write the RAM mode en-
The first bit of the command byte is always 0 and is used                       able code (0x3C) to the 0x2A register. This write en-
by the MAX22520 as a START bit. Set the R/W bit to 0 for                        ables 1-Wire RAM mode, but the device does not yet
write access. Send an 8-bit data byte after the command                         enter RAM mode.
byte is sent (Figure 7).                                                3)      Write the RAM mode latch code (0x96) to the
                                                                                0x36 register to enter RAM mode. At this point, the
1-Wire Read Byte
                                                                                MAX22520 is set into RAM mode and VCC can be set
1-Wire access is always initiated by the master controller.                     to the normal operating voltage.
The first bit of the command byte is 0 and is used by the
MAX22520 as a START bit. Set the R/W bit to 1 for read                  4)      Verify that the bank C1LOCK or C2LOCK bit is not set
access. The following bits in the command byte are the                          (indicating that the OTP has not been burned).
OTP register address.                                                   5)      Enter 1-Wire RAM mode to set the OTP register val-
The MAX22520 sends an 8-bit data byte to the master con-                        ues and verify operation before OTP burn.
troller after the read command byte is received (Figure 8).             6)      Enable OTP autoburn functionality and send the com-
The master must time the read slots during a read cycle.                        mand to start OTP burn.
Entering OTP Mode                                                       The MAX22520 includes two OTP banks that must be
                                                                        burned individually, in separate burn steps, and the VCC
To enter OTP mode, ensure the die temperature is at
                                                                        supply must be cycled after each burn. Figure 9 shows
room temperature (25°C) and follow these steps:
                                                                        the burn sequence for the C1 OTP bank. Figure 10 shows
1)    Power cycle the MAX22520 and set the VCC voltage                  the burn sequence for the C2 OTP bank.
      between 3.5V and 4.1V. This enables the 1-Wire in-
      terface on the DO pin.
                                                    COMMAND BYTE (MASTER-TO-SLAVE)
                             MSB                                                                           LSB
                             BIT 7  BIT 6     BIT 5       BIT 4           BIT 3        BIT 2      BIT 1   BIT 0
                            START   R/W      ADD5         ADD4           ADD3          ADD2      ADD1     ADD0
                                                      DATA BYTE (MASTER-TO-SLAVE)
                             MSB                                                                           LSB
                             BIT 7  BIT 6     BIT 5       BIT 4           BIT 3        BIT 2      BIT 1   BIT 0
                            DATA7  DATA6     DATA5       DATA4           DATA3        DATA2      DATA1   DATA0
Figure 7. 1-Wire Write Byte
                                                    COMMAND BYTE (MASTER-TO-SLAVE)
                             MSB                                                                           LSB
                             BIT 7  BIT 6     BIT 5       BIT 4           BIT 3        BIT 2      BIT 1   BIT 0
                            START   R/W      ADD5         ADD4           ADD3          ADD2      ADD1     ADD0
                                                      DATA BYTE (SLAVE-TO-MASTER)
                             MSB                                                                           LSB
                             BIT 7  BIT 6     BIT 5       BIT 4           BIT 3        BIT 2      BIT 1   BIT 0
                            DATA7  DATA6     DATA5       DATA4           DATA3        DATA2      DATA1   DATA0
Figure 8. 1-Wire Read Byte
www.maximintegrated.com                                                                                           Maxim Integrated │ 18


MAX22520                                                                        One-Time Programmable (OTP)
                                                                                   Industrial Sensor Output Driver
                                               POWER UP WITH
                                                3.6V ≤ VCC ≤ 4V
                                              WRITE(0x2A, 0x3C)
                                               WRITE(0x36, 0x96)
                                                 SET VCC = 12V
                                               READ(0x21, DATA)
           CHECK C1LOCK BIT TO SEE IF C1                                  C1 OTP BANK IS
                                                                 YES
             OTP BANK HAS ALREADY BEEN            DATA[2] = 1?               ALREADY
                                  BURNED                                      BURNED
                                                         NO
          THIS COMMAND SETS THE DEVICE
                     IN 1-WIRE RAM MODE.
              DATA WRITTEN TO THE C1 OTP       WRITE(0x17, 0x34)
          REGISTERS CONFIGURE THE PART
                      UNTIL VCC IS CYCLED
                                              WRITE(0x12, DATA1)
            WRITE CONFIGURATION TO OTP        WRITE(0x13, DATA2)
                              REGISTERS       WRITE(0x14, DATA3)
                                              WRITE(0x15, DATA4)
             PART ENTERS OTP AUTOBURN
            MODE AND IS WAITING FOR THE        WRITE(0x21, 0x80)
                         START COMMAND
            COMMAND TO START OTP BURN         WRITE(0x39, 0xA5)
           POLL C1BURNCK STATUS BITS          READ (0x21, DATA)                                OTP BURNING IS STILL IDLE.
         TO KNOW WHEN THE OTP BURN                                                             IF THIS CONDITION PERSISTS,
                 SEQUENCE IS FINISHED                                                          THEN IT IS LIKELY OTP BANK IS
                                                                                               ALREADY BURNED.
                                          YES    DATA[5:4] = 01
                                               (BURN RUNNING)
                                                         NO
                                                 DATA[5:4] = 10  NO    DATA[5:4] = 11   NO
                                              (GOOD OTP BURN)         (BAD OTP BURN)
                                                         YES                   YES
                                                   OTP BURN
                                                 SUCCESSFUL            BAD OTP BURN
                                                                     DISREGARD PART
                                                  SET VCC = 0V
Figure 9. Bank 1 OTP Configuration Flow Chart
www.maximintegrated.com                                                                                       Maxim Integrated │ 19


MAX22520                                                                        One-Time Programmable (OTP)
                                                                                   Industrial Sensor Output Driver
                                              POWER UP WITH
                                               3.6V ≤ VCC ≤ 4V
                                             WRITE(0x2A, 0x3C)
                                              WRITE(0x36, 0x96)
                                                SET VCC = 12V
                                             READ(0x22, DATA)
          CHECK C2LOCK BIT TO SEE IF C2                                  OTP BANK C2 IS
                                                                YES
            OTP BANK HAS ALREADY BEEN            DATA[2] = 1?               ALREADY
                                BURNED                                       BURNED
                                                        NO
                    THIS COMMAND SETS
                      1-WIRE RAM MODE.
             DATA WRITTEN TO THE C2 OTP      WRITE(0x1E, 0x34)
        REGISTERS CONFIGURE THE PART
                    UNTIL VCC IS CYCLED
                                            WRITE(0x19, DATA1)
           WRITE CONFIGURATION TO OTP       WRITE(0x1A, DATA2)
                             REGISTERS      WRITE(0x1B, DATA3)
                                            WRITE(0x1C, DATA4)
            PART ENTERS OTP AUTOBURN
           MODE AND IS WAITING FOR THE        WRITE(0x22, 0x80)
                       START COMMAND
          COMMAND TO START OTP BURN          WRITE(0x3A, 0x5A)
         POLL C2BURNCK STATUS BITS           READ (0x22, DATA)                                OTP BURNING IS STILL IDLE.
            TO KNOW WHEN OTP BURN                                                             IF THIS CONDITION PERSISTS,
                SEQUENCE IS FINISHED                                                          THEN IT IS LIKELY OTP BANK IS
                                                                                              ALREADY BURNT.
                                        YES     DATA[5:4] = 01
                                              (BURN RUNNING)
                                                        NO
                                                DATA[5:4] = 10  NO    DATA[5:4] = 11   NO
                                             (GOOD OTP BURN)         (BAD OTP BURN)
                                                        YES                   YES
                                                  OTP BURN
                                                SUCCESSFUL            BAD OTP BURN
                                                                    DISREGARD PART
                                                 SET VCC = 0V
Figure 10. Bank 2 OTP Configuration Flow Chart
www.maximintegrated.com                                                                                       Maxim Integrated │ 20


MAX22520                                                                    One-Time Programmable (OTP)
                                                                             Industrial Sensor Output Driver
Verify OTP Burn
Once OTP burn is complete for the C1 or C2 banks, verify that the registers in the bank have been correctly programmed
as shown in the Figure 11 and Figure 12 flow charts.
                                                           POWER UP WITH
                                                           3.6V ≤ VCC ≤ 4V
                                                          WRITE(0x2A, 0x3C)
                                                          WRITE(0x36, 0x96)
                                                            SET VCC = 12V
                                                          READ(0x21, DATA)
                         CHECK C1LOCK BIT TO SEE IF C1                               BAD OTP BURN
                                                                             NO
                           OTP BANK HAS ALREADY BEEN         DATA[2] = 1?             DISREGARD
                                              BURNED                                     PART
                                                                    YES
                                                          READ(0x12, DATA1)
                                                          READ(0x13, DATA2)
                                                          READ(0x14, DATA3)
                                                          READ(0x15, DATA4)
                       VERIFY OTP CONFIGURATION DATA
                                                                             NO
                            READ FROM REGISTERS WITH       DATA VERIFIED?
                        PROGRAMMED/EXPECTED VALUES
                                                                    YES
                                                              OTP BURN
                                                            SUCCESSFUL
                                                                PART
                                                            PROGRAMMED
Figure 11. Bank C1 OTP Configuration Check
www.maximintegrated.com                                                                             Maxim Integrated │ 21


MAX22520                                                                   One-Time Programmable (OTP)
                                                                            Industrial Sensor Output Driver
                                                          POWER UP WITH
                                                           3.6V ≤ VCC ≤ 4V
                                                         WRITE(0x2A, 0x3C)
                                                          WRITE(0x36, 0x96)
                                                            SET VCC = 12V
                                                          READ(0x22, DATA)
                                                                                   BAD OTP BURN
                       CHECK C2LOCK BIT TO SEE IF C2 OTP                     NO
                                                             DATA[2] = 1?           DISREGARD
                         BANK HAS ALREADY BEEN BURNED
                                                                                       PART
                                                                    YES
                                                         READ(0x19, DATA1)
                                                         READ(0x1A, DATA2)
                                                         READ(0x1B, DATA3)
                                                         READ(0x1C, DATA4)
                        VERIFY OTP CONFIGURATION DATA
                                                                             NO
                             READ FROM REGISTERS WITH     DATA VERIFIED?
                         PROGRAMMED/EXPECTED VALUES
                                                                    YES
                                                              OTP BURN
                                                            SUCCESSFUL
                                                                PART
                                                           PROGRAMMED
Figure 12. Bank C2 OTP Configuration Check
www.maximintegrated.com                                                                         Maxim Integrated │ 22


MAX22520                                                 One-Time Programmable (OTP)
                                                           Industrial Sensor Output Driver
Register Map
OTP Register Map
 ADDRESS               NAME     MSB                                                            LSB
 OTP BANK1/BANK2
   0x00       REV_ID[7:0]                                  REVID[7:0]
                                                                                              LDOV-
   0x12       C1_OTP0[7:0]                     DIGIPOTSET[5:0]                    PLSTEN
                                                                                               SET
                                                                  PWM-
   0x13       C1_OTP1[7:0]        PORDLY[1:0]    L01CFG[1:0]              PWMFH   PWMFL      PWMEN
                                                                  CFG
   0x14       C1_OTP2[7:0]         –        –                       VT1SET[5:0]
                                CMPO    PLST-
   0x15       C1_OTP3[7:0]                                          VT2SET[5:0]
                                 POL      POL
   0x17       C1RAMEN[7:0]                             C1RAMMODE[7:0]
                               PWMD2   PWMD1
   0x19       C2_OTP0[7:0]                     DOILIM     DOPUPD[1:0]      DOST      DOCFG[1:0]
                                  [8]      [8]
   0x1A       C2_OTP1[7:0]                                PWMD1[7:0]
   0x1B       C2_OTP2[7:0]                                PWMD2[7:0]
   0x1C       C2_OTP3[7:0]         –        –    –        –     LO3CFG          LO2CFG[2:0]
   0x1E       C2RAMEN[7:0]                             C2RAMMODE[7:0]
                                C1AU-    AINC-
   0x21       C1_CHK[7:0]                       C1BURNCK[1:0]       –    C1LOCK      –           –
                               TOBURN   MPOUT
                                C2AU-    AINC-
   0x22       C2_CHK[7:0]                       C2BURNCK[1:0]       –    C2LOCK      –           –
                               TOBURN   MPOUT
   0x2A       RAMMODEEN[7:0]                              RAMEN[7:0]
   0x36       RAMMODEVAL[7:0]                             RAMVAL[7:0]
   0x39       C1_OTP_BURN[7:0]                            C1BURN[7:0]
   0x3A       C2_OTP_BURN[7:0]                            C2BURN[7:0]
www.maximintegrated.com                                                           Maxim Integrated │ 23


MAX22520                                                   One-Time Programmable (OTP)
                                                             Industrial Sensor Output Driver
Register Details
REV_ID (0x00)
      BIT            7  6     5              4              3            2              1               0
 Field                                         REVID[7:0]
 Reset                                            0x02
 Access Type                                   Write, Read
       BITFIELD         BITS                                    DESCRIPTION
 REVID                   7:0    Chip Revision
C1_OTP0 (0x12)
      BIT            7  6     5              4              3            2              1               0
 Field                       DIGIPOTSET[5:0]                                        PLSTEN         LDOVSET
 Reset                            00000                                                 0               0
 Access Type                    Write, Read                                       Write, Read     Write, Read
       BITFIELD         BITS                                    DESCRIPTION
                                Digipot Wiper Set Bits. Set the DIGIPOTSET[5:0] bits to set the resistance at
 DIGIPOTSET              7:2
                                WP. See the Integrated Digipot (RT, RB, WP) section for more information.
                                DO Pulse Stretch Enable
 PLSTEN                   1     0 = Pulse stretching is disabled.
                                1 = Pulse stretching is enabled.
                                Set the VLDO Output Voltage
 LDOVSET                  0     0 = VLDO is 3.3V (typ)
                                1 = VLDO is 5V (typ)
www.maximintegrated.com                                                                  Maxim Integrated │ 24


MAX22520                                                              One-Time Programmable (OTP)
                                                                         Industrial Sensor Output Driver
C1_OTP1 (0x13)
      BIT            7             6    5               4              3             2          1              0
 Field                PORDLY[1:0]         L01CFG[1:0]              PWMCFG        PWMFH      PWMFL           PWMEN
 Reset                      0                  00                      0             0          0              0
 Access Type           Write, Read        Write, Read             Write, Read  Write, Read Write, Read    Write, Read
       BITFIELD                    BITS                                    DESCRIPTION
                                           Power-On Reset Delay Select
                                           00 = 8ms
 PORDLY                             7:6    01 = 12ms
                                           10 = 16ms
                                           11 = 40ms
                                           L01 Open-Drain Logic Output Configuration
                                           00 = Static low
                                           01 = Static open
                                           10 = L01 is set by the comparator output:
 L01CFG                             5:4         Comparator Output High: L01 is ON
                                                Comparator Output Low: L01 is OFF
                                           11 = L01 is set by the comparator output:
                                                Comparator Output High: L01 is OFF
                                                Comparator Output Low: L01 is ON
                                           PWM Output Configuration
 PWMCFG                              3     0 = Push-pull
                                           1 = Open-drain
                                           PWM Output Force High Enable
                                           Set PWMEN = 1. This bit is ignored when PWMEN = 0.
 PWMFH                               2
                                           0 = Disabled
                                           1 = PWM output is forced high. PWMFL must be 0.
                                           PWM Output Force Low Enable
                                           Set PWMEN = 1. This bit is ignored when PWMEN = 0.
 PWMFL                               1
                                           0 = Disabled
                                           1 = PWM output is forced low. PWMFH must be 0.
                                           PWM Output Enable
 PWMEN                               0     0 = PWM output is disabled.
                                           1 = PWM output is enabled.
www.maximintegrated.com                                                                           Maxim Integrated │ 25


MAX22520                                                             One-Time Programmable (OTP)
                                                                       Industrial Sensor Output Driver
C1_OTP2 (0x14)
      BIT            7           6      5              4              3             2         1              0
 Field               –           –                                      VT1SET[5:0]
 Reset               –           –                                        00 0000
 Access Type         –           –                                      Write, Read
       BITFIELD                  BITS                                     DESCRIPTION
                                          Comparator Threshold Voltage 1 (VT1). See the Comparator Threshold Volt-
 VT1SET                            5:0
                                          ages (VT1, VT2) section for more information.
C1_OTP3 (0x15)
      BIT            7           6      5              4              3             2         1              0
 Field          CMPOPOL     PLSTPOL                                     VT2SET[5:0]
 Reset               0           0                                        00 0000
 Access Type    Write, Read Write, Read                                 Write, Read
       BITFIELD                  BITS                                     DESCRIPTION
                                          CMPO Output Polarity Select
 CMPOPOL                            7     0 = Normal
                                          1 = Inverted
                                          DO Pulse Stretch Polarity
 PLSTPOL                            6     0 = Positive pulses are stretched.
                                          1 = Negative pulses are stretched.
                                          Comparator Threshold Voltage 2 (VT2). See the Comparator Threshold Volt-
 VT2SET                            5:0
                                          ages (VT1, VT2) section for more information.
C1RAMEN (0x17)
      BIT            7           6      5              4              3             2         1              0
 Field                                               C1RAMMODE[7:0]
 Reset                                                      0x35
 Access Type                                             Write Only
       BITFIELD                  BITS                                     DESCRIPTION
                                          C1 1-Wire Access Enable. Write 0x34 to C1RAMMODE[7:0] to access the C1
 C1RAMMODE                         7:0
                                          OTP bank when in 1-Wire RAM mode.
www.maximintegrated.com                                                                        Maxim Integrated │ 26


MAX22520                                                                  One-Time Programmable (OTP)
                                                                            Industrial Sensor Output Driver
C2_OTP0 (0x19)
      BIT            7           6           5               4             3              2              1             0
 Field          PWMD2[8]    PWMD1[8]     DOILIM               DOPUPD[1:0]               DOST               DOCFG[1:0]
 Reset               0           0           0                      00                    0                     00
 Access Type    Write, Read Write, Read Write, Read            Write, Read           Write, Read           Write, Read
       BITFIELD                  BITS                                          DESCRIPTION
                                                MSB of the PWM Output Duty Cycle 2 PWMD2[8:0] bits.
 PWMD2[8]                           7
                                                See the PWM Duty Cycle section for more information.
                                                MSB of the PWM Output Duty Cycle 1 PWMD1[8:0] bits.
 PWMD1[8]                           6
                                                See the PWM Duty Cycle section for more information.
                                                DO Driver Current Limit
 DOILIM                             5           0 = 100mA (min)
                                                1 = 200mA (min)
                                                DO Driver Pullup/Pulldown Configuration
                                                00 = Disabled
 DOPUPD                            4:3          01 = Weak pullup enabled
                                                10 = Weak pulldown enabled
                                                11 = Reserved
                                                DO Driver State
                                                0 = Normally-open
 DOST                               2
                                                1 = Normally-closed
                                                See the Table 2. Logic Truth Table for more information.
                                                DO Driver Configuration
                                                00 = PNP
 DOCFG                             1:0          01 = NPN
                                                10 = Push-pull
                                                11 = Reserved
C2_OTP1 (0x1A)
      BIT            7           6           5               4             3              2              1             0
 Field                                                         PWMD1[7:0]
 Reset                                                            0x00
 Access Type                                                   Write, Read
       BITFIELD                  BITS                                          DESCRIPTION
                                                PWM Output Duty Cycle 1. See the PWM Duty Cycle section for more
 PWMD1                             7:0
                                                information.
www.maximintegrated.com                                                                                   Maxim Integrated │ 27


MAX22520                                                   One-Time Programmable (OTP)
                                                              Industrial Sensor Output Driver
C2_OTP2 (0x1B)
      BIT            7  6    5              4               3            2           1              0
 Field                                        PWMD2[7:0]
 Reset                                            0x00
 Access Type                                   Write, Read
       BITFIELD         BITS                                    DESCRIPTION
                               PWM Output Duty Cycle 2. See the PWM Duty Cycle section for more
 PWMD2                   7:0
                               information.
C2_OTP3 (0x1C)
      BIT            7  6    5              4               3            2           1              0
 Field               –  –    –              –           LO3CFG                 LO2CFG[2:0]
 Reset               –  –    –              –               0                       000
 Access Type         –  –    –              –          Write, Read              Write, Read
       BITFIELD         BITS                                    DESCRIPTION
                               LO3 Open-Drain Logic Output
 LO3CFG                   3    0 = Static low
                               1 = Static high
                               LO2 Open-Drain Logic Output
                               000 = Static low
                               001 = Static open
                               010 = Dependent on the comparator output.
                                     Comparator Output High: L02 is ON
 LO2CFG                  2:0         Comparator Output Low: L02 is OFF
                               011 = Dependent on the comparator output.
                                     Comparator Output High: L02 is OFF
                                     Comparator Output Low: L02 is ON
                               100 = DO fault output. LO2 asserts low when DO goes high impedance due to
                               an overcurrent or thermal overload fault.
C2RAMEN (0x1E)
      BIT            7  6    5              4               3            2           1              0
 Field                                     C2RAMMODE[7:0]
 Reset                                            0x35
 Access Type                                   Write Only
       BITFIELD         BITS                                    DESCRIPTION
                               C2 1-Wire Access Enable. Write 0x34 to C2RAMMODE[7:0] to access the C2
 C2RAMMODE               7:0
                               OTP bank when in 1-Wire RAM mode.
www.maximintegrated.com                                                                Maxim Integrated │ 28


MAX22520                                                         One-Time Programmable (OTP)
                                                                   Industrial Sensor Output Driver
C1_CHK (0x21)
      BIT            7          6     5            4              3             2     1             0
                 C1AUTO       AINC
 Field                                C1BURNCK[1:0]               –         C1LOCK    –             –
                   BURN      MPOUT
 Reset               0          0           00                    –             0     –             –
 Access Type    Write, Read Read Only   Read Only                 –        Read Only  –             –
       BITFIELD                 BITS                                   DESCRIPTION
                                        C1 OTP Bank Autoburn Mode Enable
 C1AUTOBURN                       7     0 = OTP autoburn mode is disabled.
                                        1 = OTP autoburn mode is enabled.
                                        AIN Comparator Output
 AINCMPOUT                        6     0 = CMPO is low.
                                        1 = CMPO is high.
                                        C1 OTP Bank Self-Burn Results
                                        00 = OTP burn process is idle.
 C1BURNCK                        5:4    01 = OTP burn process is ongoing.
                                        10 = OTP burn process is completed with GOOD.
                                        11 = OTP burn process completed with FAIL.
                                        C1 OTP Bank Lock Bit:
 C1LOCK                           2     0 = C1 OTP bank is not burned.
                                        1 = C1 OTP bank is burned.
C2_CHK (0x22)
      BIT            7          6     5            4              3             2     1             0
                 C2AUTO       AINC
 Field                                C2BURNCK[1:0]               –         C2LOCK    –             –
                   BURN      MPOUT
 Reset               0          0           00                    –             0     –             –
 Access Type    Write, Read Read Only   Read Only                 –        Read Only  –             –
       BITFIELD                 BITS                                   DESCRIPTION
                                        C2 OTP Bank Autoburn Mode Enable
 C2AUTOBURN                       7     0 = OTP autoburn mode is disabled.
                                        1 = OTP autoburn mode is enabled.
                                        AIN Comparator Output
 AINCMPOUT                        6     0 = CMPO is low.
                                        1 = CMPO is high.
                                        C2 OTP Bank Self-Burn Results:
                                        00 = OTP burn process is idle
 C2BURNCK                        5:4    01 = OTP burn process is ongoing
                                        10 = OTP burn process is completed with GOOD.
                                        11 = OTP burn process completed with FAIL.
                                        C2 OTP Bank Lock Bit:
 C2LOCK                           2     0 = C2 OTP bank is not burned.
                                        1 = C2 OTP bank is burned.
www.maximintegrated.com                                                                Maxim Integrated │ 29


MAX22520                                                  One-Time Programmable (OTP)
                                                            Industrial Sensor Output Driver
RAMMODEEN (0x2A)
      BIT            7  6    5             4               3            2              1             0
 Field                                       RAMEN[7:0]
 Reset                                           0x00
 Access Type                                  Write Only
       BITFIELD         BITS                                  DESCRIPTION
                               1-Wire RAM Mode Enable. Write 0x3C to this register to enable
 RAMEN                   7:0
                               1-Wire RAM mode.
RAMMODEVAL (0x36)
      BIT            7  6    5             4               3            2              1             0
 Field                                      RAMVAL[7:0]
 Reset                                           0x00
 Access Type                                  Write Only
       BITFIELD         BITS                                  DESCRIPTION
                               1-Wire RAM Mode Latch. Wite 0x96 to this register to latch the MAX22520 in
 RAMVAL                  7:0   1-Wire RAM mode. VCC can be raised above 4V after this write is complete
                               and the MAX22520 stays in 1-Wire RAM mode.
C1_OTP_BURN (0x39)
      BIT            7  6    5             4               3            2              1             0
 Field                                      C1BURN[7:0]
 Reset                                           0x00
 Access Type                                  Write Only
       BITFIELD         BITS                                  DESCRIPTION
                               C1 OTP Bank Burn Mode
 C1BURN                  7:0
                               Write 0xA5 to start burning C1 OTP bank. C1AUTOBURN must be set to 1.
C2_OTP_BURN (0x3A)
      BIT            7  6    5             4               3            2              1             0
 Field                                      C2BURN[7:0]
 Reset                                           0x00
 Access Type                                  Write Only
       BITFIELD         BITS                                  DESCRIPTION
                               C2 OTP Bank Burn Mode
 C2BURN                  7:0
                               Write 0x5A to start burning C2 OTP bank. C2AUTOBURN must be set to 1.
www.maximintegrated.com                                                                 Maxim Integrated │ 30


MAX22520                                                       One-Time Programmable (OTP)
                                                                 Industrial Sensor Output Driver
Typical Application Circuits
Inductive Sensor
                                                     RT   VLDO    REGEN
                                                                            VCC                 24V
                                                 RB
                                                                             DO                 OUT
                                                        MAX22520
                                                                            GND                 GND
                                                 AIN                      PGND
                                                                            LED
                                                 WP
Ordering Information
        PART NUMBER                    TEMP RANGE         PIN-PACKAGE            BALL PITCH
 MAX22520GWP+                         -40°C to +105°C         20 WLP                0.5mm
 MAX22520GWP+T                        -40°C to +105°C         20 WLP                0.5mm
+Denotes a lead(Pb)-free/RoHS-compliant package.
T = tape and reel.
www.maximintegrated.com                                                            Maxim Integrated │ 31


MAX22520                                                                                              One-Time Programmable (OTP)
                                                                                                         Industrial Sensor Output Driver
Revision History
  REVISION           REVISION                                                                                                                           PAGES
                                                                                 DESCRIPTION
  NUMBER                DATE                                                                                                                        CHANGED
        0                7/19        Initial release                                                                                                       —
                                     Updated the Electrical Characteristics, Pin Description, Input Comparator (AIN,
                                                                                                                                                       6, 11, 13
        1               12/19        CMPO), Comparator Threshold Voltages (VT1, VT2), and LED Output sections;
                                                                                                                                                         15, 16
                                     replaced TOC16
For pricing, delivery, and ordering information, please visit Maxim Integrated’s online storefront at https://www.maximintegrated.com/en/storefront/storefront.html.
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent licenses
are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits)
shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.                  © 2019 Maxim Integrated Products, Inc. │ 32


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX22520GWP+
