19-2287; Rev 0; 1/02
                                                        Quad Bus LVDS Transceiver
                                 General Description                                                           Features
                                                                                                                                   MAX9157
The MAX9157 is a quad bus LVDS (BLVDS) transceiver               ♦ 32-TQFP and Space-Saving 32-QFN Packages
for heavily loaded, half-duplex multipoint buses. Small
32-pin QFN and TQFP packages and flow-through                    ♦ 52mV LVDS Input Hysteresis
pinouts allow the transceiver to be placed near the con-         ♦ 1ns (min) Transition Time (0% to 100%) Minimizes
nector for the shortest possible stub length. The                  Reflections
MAX9157 drives LVDS levels into a 27Ω load (double
terminated, heavily loaded LVDS bus) at up to                    ♦ Guaranteed 7.2pF (max) Bus Load Capacitance
200Mbps. An input fail-safe circuit ensures the receiver         ♦ Glitch-Free Power-Up and Power-Down
output is high when the differential inputs are open, or
undriven and shorted, or undriven and terminated. The            ♦ Hot-Swappable, High-Impedance I/O with VCC = 0
MAX9157 differential inputs feature 52mV hysteresis for            or Open
greater immunity to bus noise and reflections. The
                                                                 ♦ Guaranteed 200Mbps Driver Data Rate
MAX9157 operates from a single 3.3V supply, consum-
ing 80.9mA supply current with drivers enabled, and              ♦ Fail-Safe Circuit
22.7mA with drivers disabled.
                                                                 ♦ Flow-Through Pinout
The MAX9157’s high-impedance I/Os (except for
receiver outputs) when VCC = 0 or open, combined
with glitch-free power-up and power-down, allow hot
swapping of cards in multicard bus systems; 7.2pF
(max) BLVDS I/O capacitances minimize bus loading.
The MAX9157 is offered in 5mm ✕ 5mm 32-pin QFN and
TQFP packages. The MAX9157 is fully specified for the                                   Ordering Information
-40°C to +85°C extended temperature range. Refer to
the MAX9129 data sheet for a quad BLVDS driver, ideal                  PART        TEMP RANGE       PIN-PACKAGE
for dual multipoint full-duplex buses.                            MAX9157EGJ      -40°C to +85°C    32 QFN (5mm ✕ 5mm)
                                         Applications             MAX9157EHJ      -40°C to +85°C    32 TQFP (5mm ✕ 5mm)
  Add/Drop Muxes                     Cellular Phone Base         Pin Configurations appear at end of data sheet.
  Digital Cross-Connects             Stations                    Functional Diagram appears at end of data sheet.
  Network                            DSLAMs
  Switches/Routers                   Multipoint Buses
                                                                                 Typical Operating Circuit
                       MAX9157                              MAX9157                                  MAX9157
                       CARD 1                                CARD 15                                 CARD 16
                                           1in CARD
                                           SPACING
   Rt = 54Ω                                                                                                         Rt = 54Ω
                       ________________________________________________________________ Maxim Integrated Products              1
For pricing, delivery, and ordering information, please contact Maxim/Dallas Direct! at
1-888-629-4642, or visit Maxim’s website at www.maxim-ic.com.


          Quad Bus LVDS Transceiver
          ABSOLUTE MAXIMUM RATINGS
MAX9157
          VCC, AVCC to GND................................................-0.3V to +4.0V           MAX9157EHJ (derate 11.1mW/°C above +70°C).........889mW
          DO_+/RIN_+, DO_-/RIN_-, to GND .......................-0.3V to +4.0V                   Storage Temperature Range .............................-65°C to +150°C
          DIN_, DE_, RE_ to GND.........................................-0.3V to +4.0V           Maximum Junction Temperature .....................................+150°C
          RO_ to GND................................................-0.3V to (VCC + 0.3V)        Operating Temperature Range ...........................-40°C to +85°C
          AGND to GND .......................................................-0.3V to +0.3V      ESD Protection
          Short-Circuit Duration (DO_+/RIN_+, DO_-/RIN_-) ....Continuous                           Human Body Model (DO_+/RIN_+, DO_-/RIN_-).............±4kV
          Continuous Power Dissipation (TA = +70°C)                                              Lead Temperature (soldering, 10s) .................................+300°C
            MAX9157EGJ (derate 21.2mW/°C above +70°C) .....1702mW
          Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
          operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
          absolute maximum rating conditions for extended periods may affect device reliability.
          DC ELECTRICAL CHARACTERISTICS
          (VCC = 3.0V to 3.6V, RL = 27Ω ±1%, differential input voltage |VID| = 0.1V to VCC, input common-mode voltage VCM = 0.05V to 2.4V,
          input voltage range = 0 to VCC, DE_ = high, RE_ = low, TA = -40°C to +85°C, unless otherwise noted. Typical values are at VCC =
          3.3V, |VID| = 0.2V, VCM = 1.2V, and TA = +25°C.) (Notes 1 and 2)
                       PARAMETER                         SYMBOL                               CONDITIONS                          MIN       TYP        MAX       UNITS
           BLVDS (DO_+/RIN_+, DO_-/RIN_-)
           Differential Input High Threshold                 VTH        DE_ = low                                                            26        100         mV
           Differential Input Low Threshold                  VTL        DE_ = low                                                -100        -26                   mV
                                                                                               TA = +25°C, VCC = 3.3V,
                                                                                                                                  12         26         43
           Threshold Hysteresis (Note 3)                   VHYST        DE_ = low              VCM = 1.2V                                                          mV
                                                                                               Full operating range                9         26         78
                                                                        0.1V ≤VID≤ 0.6V, DE_ = low                              -15       ±1.8        15         µA
           Input Current                                  IIN+, IIN-
                                                                        0.6V < VID≤ 1.2V, DE_ = low                             -20       ±2.5        20         µA
                                                            RIN1        VCC = 3.6V, 0 or open, Figure 1                           53                               kΩ
           Input Resistance
                                                            RIN2        VCC = 3.6V, 0 or open, Figure 1                           148                              kΩ
                                                           IINO+,       0.1V ≤ VID≤ 0.6V, VCC = 0 or open                       -15       ±0.9        15         µA
           Power-Off Input Current
                                                            IINO-       0.6V < VID≤ 1.2V, VCC = 0 or open                       -20       ±1.8        20         µA
           Differential Output Voltage                      VOD         Figure 2                                                  250        405       460         mV
           Change in Magnitude of VOD for
                                                           ∆VOD         Figure 2                                                              1         25         mV
           Complementary Output States
           Offset Voltage                                   VOS         Figure 2                                                 1.185      1.302     1.435         V
           Change in Magnitude of VOS for
                                                           ∆VOS         Figure 2                                                             3.3        25         mV
           Complementary Output States
           Output High Voltage                              VOH         Figure 2                                                            1.505       1.6         V
           Output Low Voltage                               VOL         Figure 2                                                  0.9       1.099                   V
                                                                        DIN_ = high, DO_+/RIN_+ = 0 or
                                                                                                                                  -30       -14.8       30
                                                                        VCC, DO_-/RIN_- = 0 or VCC
           Output Short-Circuit Current                      IOS                                                                                                   mA
                                                                        DIN_ = low, DO_-/RIN_- = 0 or
                                                                                                                                  -30       -14.8       30
                                                                        VCC, DO_+/RIN_+ = 0 or VCC
          2    _______________________________________________________________________________________


                                                      Quad Bus LVDS Transceiver
DC ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                    MAX9157
(VCC = 3.0V to 3.6V, RL = 27Ω ±1%, differential input voltage |VID| = 0.1V to VCC, input common-mode voltage VCM = 0.05V to 2.4V,
input voltage range = 0 to VCC, DE_ = high, RE_ = low, TA = -40°C to +85°C, unless otherwise noted. Typical values are at VCC =
3.3V, |VID| = 0.2V, VCM = 1.2V, and TA = +25°C.) (Notes 1 and 2)
          PARAMETER                 SYMBOL                     CONDITIONS                     MIN      TYP      MAX      UNITS
Differential Output Short-Circuit
                                     IOSD      DIN_ = high or low, VOD = 0                             14.8      30       mA
Current (Note 3)
Capacitance at Bus Pins                        Capacitance from DO_+/RIN_+ or
                                    COUTPUT                                                                      7.2      pF
(Note 3)                                       DO_-/RIN_- to GND, VCC = 3.6V or 0
LVCMOS/LVTTL OUTPUTS (RO_)
                                                                 Open, undriven short, or
                                                                                             VCC -     VCC -
                                                                 undriven 27Ω parallel
                                               IOH = -4.0mA,                                  0.3      0.172
Output High Voltage                  VOH                         termination                                               V
                                               DE_ = low
                                                                                             VCC -     VCC -
                                                                 VID = 100mV
                                                                                              0.3      0.172
Output Low Voltage                    VOL      IOL = 4.0mA, VID = -100mV, DE_ = low                    0.179    0.25       V
                                               VID = 100mV, VRO_ = VCC - 1.0V, DE_ = low      -15      -22.7              mA
Dynamic Output Current                IOD
                                               VID = -100mV, VRO_ = 1.0V, DE_ = low            12      19.9               mA
Output Short-Circuit Current
                                      IOS      VID = 100mV, VRO_ = 0, DE_ = low                         -52     -130      mA
(Note 4)
Output High-Impedance Current         IOZ      RE_ = high, VRO = 0 or VCC                     -10       0.1     +10       µA
Capacitance at Receiver Output                 Capacitance from RO_ to GND, VCC = 3.6V
                                    COUTPUT                                                                      4.5      pF
(Note 3)                                       or 0
LVCMOS/LVTTL INPUTS (DIN, DE, RE)
Input High Voltage                    VIH                                                      2.0     1.825    VCC        V
Input Low Voltage                     VIL                                                     GND      1.315     0.8       V
Input Current                         IIN      VDE_, VRE_, VDIN_ = high or low                -20      ±9.2      20       µA
                                               VDE_, VRE_, VDIN_ = 3.6V or 0, VCC = 0
Power-Off Input Current              IINO                                                     -20      ±2.4      20       µA
                                               or open
SUPPLY
Supply Current Drivers and
                                      ICC      DE_ = high, RE_ = low, RL = 27Ω                         80.9      95       mA
Receivers Enabled
Supply Current Drivers Enabled
                                     ICCD      DE_ = high, RE_ = high, RL = 27Ω                        80.9      95       mA
and Receivers Disabled
Supply Current Drivers Disabled
                                     ICCR      DE_ = low, RE_ = low                                    22.7      30       mA
and Receivers Enabled
Supply Current Drivers Disabled
                                     ICCZ      DE_ = low, RE_ = high                                   22.7      30       mA
and Receivers Disabled
                     _______________________________________________________________________________________                   3


          Quad Bus LVDS Transceiver
          AC ELECTRICAL CHARACTERISTICS
MAX9157
          (VCC = 3.0V to 3.6V, RL = 27Ω ±1%, differential input voltage |VID| = 0.2V to VCC, input frequency to LVDS inputs = 85MHz, input fre-
          quency to LVCMOS/LVTTL inputs = 100MHz, LVCMOS/LVTTL inputs = 0 to 3V with 2ns (10% to 90%) transition times. Differential input
          voltage transition time = 1ns (20% to 80%). Input common-mode voltage VCM = 1.2V to 1.8V, DE_ = high, RE_ = low, TA = -40°C to
          +85°C, unless otherwise noted. Typical values are at VCC = 3.3V, |VID| = 0.2V, VCM = 1.2V, and TA = +25°C.) (Notes 3 and 5)
                      PARAMETER                 SYMBOL                   CONDITIONS                        MIN      TYP      MAX      UNITS
          DRIVER
          Differential Propagation Delay                  RE_ = high, CL = 10pF,        MAX9157EGJ          1.2     1.96      2.5
                                                 tPHLD                                                                                  ns
          High to Low                                     Figures 3, 4                  MAX9157EHJ          1.1     1.87      2.4
          Differential Propagation Delay                  RE_ = high, CL = 10pF,        MAX9157EGJ          1.2     1.94      2.5
                                                 tPLHD                                                                                  ns
          Low to High                                     Figures 3, 4                  MAX9157EHJ          1.1     1.84      2.4
          Differential Skew | tPHLD - tPLHD |
                                                 tSKD1    RE_ = high, CL = 10pF, Figures 3, 4                        33       160       ps
          (Note 6)
          Channel-to-Channel Skew
                                                 tCCSK    RE_ = high, CL = 10pF, Figures 3, 4                        58       300       ps
          (Note 7)
          Chip-to-Chip Skew (Note 8)             tSKD2    RE_ = high, CL = 10pF, Figures 3, 4                       0.38      0.8       ns
          Chip-to-Chip Skew (Note 9)             TSKD3    RE_ = high, CL = 10pF, Figures 3, 4                                 1.3       ns
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ          0.6     1.13      1.4
          Rise Time                              tTLH                                                                                   ns
                                                          Figures 3, 4                  MAX9157EHJ          0.6     1.07      1.4
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ          0.6     1.16      1.4
          Fall Time                              tTHL                                                                                   ns
                                                          Figures 3, 4                  MAX9157EHJ          0.6     1.11      1.4
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ                  6.79       8
          Disable Time High to Z                 tPHZ                                                                                   ns
                                                          Figures 5, 6                  MAX9157EHJ                  6.79       8
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ                  3.16       8
          Disable Time Low to Z                  tPLZ                                                                                   ns
                                                          Figures 5, 6                  MAX9157EHJ                  3.48       8
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ                  4.67       7
          Enable Time Z to High                  tPZH                                                                                   ns
                                                          Figures 5, 6                  MAX9157EHJ                  4.71       7
                                                          RE_ = high, CL = 10pF,        MAX9157EGJ                  4.36       7
          Enable Time Z to Low                   tPZL                                                                                   ns
                                                          Figures 5, 6                  MAX9157EHJ                  4.39       7
          Maximum Operating Frequency
                                                 fMAX     RE_ = high, CL = 10pF, Figures 5, 6             100                          MHz
          (Note 10)
          RECEIVER
          Differential Propagation Delay                  DE_ = low, Figures 7, 8;      MAX9157EGJ          1.8     2.58      4.1
                                                 tPHLD                                                                                  ns
          High to Low                                     CL =15pF                      MAX9157EHJ          1.8     2.61      4.1
          Differential Propagation Delay                  DE_ = low, Figures 7, 8;      MAX9157EGJ          1.8     2.49      4.1
                                                 tPLHD                                                                                  ns
          Low to High                                     CL =15pF                      MAX9157EHJ          1.8     2.52      4.1
          Differential Skew | tPHLD -
                                                 tSKD1    DE_ = low, Figures 7, 8; CL = 15pF                         90       450       ps
          tPLHD | (Note 6)
          Channel-to-Channel Skew
                                                 tCCSK    DE_ = low, Figures 7, 8; CL = 15pF                         131      580       ps
          (Note 7)
          Chip-to-Chip Skew (Note 8)             tSKD2    DE_ = low, Figures 7, 8; CL =15pF                          0.7      1.7       ns
          Chip-to-Chip Skew (Note 9)             tSKD3    DE_ = low, Figures 7, 8; CL =15pF                          0.7      1.7       ns
          Rise Time                              tTLH     DE_ = low, Figures 7, 8; CL = 15pF                0.5      1.1      1.6       ns
          4   _______________________________________________________________________________________


                                                                                                                                                 Quad Bus LVDS Transceiver
AC ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                                                                                                                                                                                     MAX9157
(VCC = 3.0V to 3.6V, RL = 27Ω ±1%, differential input voltage |VID| = 0.2V to VCC, input frequency to LVDS inputs = 85MHz, input fre-
quency to LVCMOS/LVTTL inputs = 100MHz, LVCMOS/LVTTL inputs = 0 to 3V with 2ns (10% to 90%) transition times. Differential input
voltage transition time = 1ns (20% to 80%). Input common-mode voltage VCM = 1.2V to 1.8V, DE_ = high, RE_ = low, TA = -40°C to
+85°C, unless otherwise noted. Typical values are at VCC = 3.3V, |VID| = 0.2V, VCM = 1.2V, and TA = +25°C.) (Notes 3 and 5)
                                     PARAMETER                            SYMBOL                                                                          CONDITIONS                                                                         MIN            TYP        MAX    UNITS
    Fall Time                                                                  tTHL                                                 DE_ = low, Figures 7, 8; CL = 15pF                                                                           0.7        1.2        1.8      ns
                                                                                                                                    DE_ = low, RL = 500Ω, CL                 MAX9157EGJ                                                                     6.74        8
    Disable Time High to Z                                                     tPHZ                                                                                                                                                                                             ns
                                                                                                                                    = 15pF, Figures 9, 10                    MAX9157EHJ                                                                     6.82        8
                                                                                                                                    DE_ = low, RL = 500Ω, CL                 MAX9157EGJ                                                                     6.49        8
    Disable Time Low to Z                                                      tPLZ                                                                                                                                                                                             ns
                                                                                                                                    = 15pF, Figures 9, 10                    MAX9157EHJ                                                                     6.79        8
                                                                                                                                    DE_ = low, RL = 500Ω, CL                 MAX9157EGJ                                                                     4.67        7
    Enable Time Z to High                                                      tPZH                                                                                                                                                                                             ns
                                                                                                                                    = 15pF, Figures 9, 10                    MAX9157EHJ                                                                     4.57        7
                                                                                                                                    DE_ = low, RL = 500Ω, CL                 MAX9157EGJ                                                                     5.43        7
    Enable Time Z to Low                                                       tPZL                                                                                                                                                                                             ns
                                                                                                                                    = 15pF, Figures 9, 10                    MAX9157EHJ                                                                     4.71        7
    Maximum Operating Frequency
                                                                               fMAX                                                 DE_ = low, CL = 15pF                                                                                         85                           MHz
    (Note 10)
Note 1: Current into a pin is defined as positive. Current out of a pin is defined as negative. All voltages are referenced to ground
        except VTH, VTL, VID, VHYST, VOD, and ∆VOD.
Note 2: Maximum and minimum limits over temperature are guaranteed by design and characterization. Devices are production
        tested at TA = +25°C.
Note 3: Guaranteed by design and characterization.
Note 4: Short only one output at a time. Do not exceed the absolute maximum junction temperature specification.
Note 5: CL includes scope probe and test jig capacitance.
Note 6: tSKD1 is the magnitude difference of differential propagation delays in a channel. tSKD1 = | tPHLD - tPLHD |.
Note 7: tCCSK is the magnitude difference of the tPLHD or tPHLD of one channel and the tPLHD or tPHLD of any other channel on the
        same part.
Note 8: tSKD2 is the magnitude difference of any differential propagation delays between parts operating over rated conditions at
        the same VCC and within 5°C of each other.
Note 9: tSKD3 is the magnitude difference of any differential propagation delays between parts operating over rated conditions.
Note 10: Meets data sheet specifications while operating at minimum fMAX rating.
                                                                                                                                                                     Typical Operating Characteristics
(VCC = 3.3V, RL = 27Ω, driver CL = 10pF, receiver CL = 15pF, |VID| = 200mV, VCM = 1.2V, fIN = 20MHz, TA = +25°C, unless otherwise noted.)
                                                                                                                                                 DIFFERENTIAL OUTPUT VOLTAGE                                                                      DIFFERENTIAL OUTPUT VOLTAGE
                                    SUPPLY CURRENT vs. FREQUENCY                                                                                      vs. SUPPLY VOLTAGE                                                                                vs. OUTPUT LOAD
                       105                                                                                                         0.405                                                                                              2.0
                                                                                 MAX9157 toc01                                                                                      MAX9157 toc02                                                                                    MAX9157 toc03
                                    FOUR CHANNELS
                                    DRIVEN                                                                                                                                                                                            1.8
                                                                                                 DIFFERENTIAL OUTPUT VOLTAGE (V)                                                                    DIFFERENTIAL OUTPUT VOLTAGE (V)
                       100                                                                                                                                                                                                            1.6
                                                                                                                                   0.404
 SUPPLY CURRENT (mA)
                                                                                                                                                                                                                                      1.4
                        95                           VCC = 3.6V
                                                                                                                                   0.403                                                                                              1.2
                        90                                                                                                                                                                                                            1.0
                                                VCC = 3.3V                                                                         0.402                                                                                              0.8
                        85
                                                                                                                                                                                                                                      0.6
                                                                                                                                   0.401                                                                                              0.4
                        80                                        VCC = 3.0V
                                                                                                                                                                                                                                      0.2
                        75                                                                                                         0.400                                                                                               0
                             0.01       0.1      1          10      100        1000                                                        3.0    3.1    3.2   3.3    3.4    3.5   3.6                                                      15         45         75    105   135
                                              FREQUENCY (MHz)                                                                                           SUPPLY VOLTAGE (V)                                                                                  OUTPUT LOAD (Ω)
                                                 _______________________________________________________________________________________                                                                                                                                                5


          Quad Bus LVDS Transceiver
MAX9157
                                                                                                                     Typical Operating Characteristics (continued)
          (VCC = 3.3V, RL = 27Ω, driver CL = 10pF, receiver CL = 15pF, |VID| = 200mV, VCM = 1.2V, fIN = 20MHz, TA = +25°C, unless otherwise noted.)
                                                                      DRIVER TRANSITION TIME                                                                                             DRIVER TRANSITION TIME
                                                                       vs. LOAD CAPACITANCE                                                                                                 vs. TEMPERATURE
                                                         1.3                                                                                                                 1.3
                                                                                                                             MAX9157 toc04                                                                                         MAX9157 toc05
                                                                                                                                                                             1.2
                          DRIVER TRANSITION TIME (ns)                                                                                         DRIVER TRANSITION TIME (ns)
                                                                                                                                                                                                          tTHL
                                                         1.2                                                                                                                 1.1
                                                                                      tTHL                                                                                                                tTLH
                                                                                                                                                                             1.0
                                                                                                         tTLH
                                                         1.1                                                                                                                 0.9
                                                                                                                                                                             0.8
                                                         1.0                                                                                                                 0.7
                                                                5          10                15                 20         25                                                      -40    -15        10          35          60   85
                                                                           LOAD CAPACITANCE (pF)                                                                                                  TEMPERATURE (°C)
                                                                      DRIVER TRANSITION TIME                                                                                             RECEIVER TRANSITION TIME
                                                                        vs. SUPPLY VOLTAGE                                                                                                 vs. LOAD CAPACITANCE
                                                        1.20                                                                                                                 3.0
                                                                                                                             MAX9157 toc06                                                                                          MAX9157 toc07
                                                        1.15
                                                                                                                                             RECEIVER TRANSITION TIME (ns)
                                                                                                                                                                             2.5
                          DRIVER TRANSITION TIME (ns)
                                                                                              tTHL
                                                                                                                                                                                                                      tTHL
                                                        1.10                                                                                                                 2.0
                                                                                                  tTLH
                                                        1.05                                                                                                                 1.5
                                                                                                                                                                                                                      tTLH
                                                        1.00                                                                                                                 1.0
                                                        0.95                                                                                                                 0.5
                                                        0.90                                                                                                                   0
                                                               3.0   3.1        3.2      3.3         3.4             3.5   3.6                                                      5     10         15          20          25   30
                                                                            SUPPLY VOLTAGE (V)                                                                                                  LOAD CAPACITANCE (pF)
          6   _______________________________________________________________________________________


                                                   Quad Bus LVDS Transceiver
                                                                                                   Pin Description
                                                                                                                                    MAX9157
        PIN              NAME                                               FUNCTION
  1, 2, 22, 23, 24        N.C.        No Connection. Not internally connected.
         3                VCC         Digital Power Supply
       4, 21              GND         Digital Ground
                                      Receiver Channels 3 and 4 Enable (Enable Low). Drive RE34 low to enable receiver
         5                RE34
                                      channels 3 and 4.
                                      Driver Channels 3 and 4 Enable (Enable High). Drive DE34 high to enable driver channels
         6                DE34
                                      3 and 4.
       7, 17             AGND         Analog Ground
       8, 19              AVCC        Analog Power Supply
         9             DO4-/RIN4-     Channel 4 Inverting BLVDS Input/Output
        10             DO4+/RIN4+     Channel 4 Noninverting BLVDS Input/Output
        11             DO3-/RIN3-     Channel 3 Inverting BLVDS Input/Output
        12             DO3+/RIN3+     Channel 3 Noninverting BLVDS Input/Output
        13             DO2-/RIN2-     Channel 2 Inverting BLVDS Input/Output
        14             DO2+/RIN2+     Channel 2 Noninverting BLVDS Input/Output
        15             DO1-/RIN1-     Channel 1 Inverting BLVDS Input/Output
        16             DO1+/RIN1+     Channel 1 Noninverting BLVDS Input/Output
                                      Driver Channels 1 and 2 Enable (Enable High). Drive DE12 high to enable driver channels
        18                DE12
                                      1 and 2.
                                      Receiver Channels 1 and 2 Enable (Enable Low). Drive RE12 low to enable receiver
        20                RE12
                                      channels 1 and 2.
        25                DIN1        Driver Channel 1 Input
        26                RO1         Receiver Channel 1 Output
        27                DIN2        Driver Channel 2 Input
        28                RO2         Receiver Channel 2 Output
        29                DIN3        Driver Channel 3 Input
        30                RO3         Receiver Channel 3 Output
        31                DIN4        Driver Channel 4 Input
        32                RO4         Receiver Channel 4 Output
        EP*           EXPOSED PAD     Exposed Pad. Solder exposed pad to GND.
*MAX9157EGJ only.
                     _______________________________________________________________________________________                    7


          Quad Bus LVDS Transceiver
                                  Detailed Description                                               Effect of Capacitive Loading
MAX9157
                                                                         The characteristic impedance of a differential PC board
          The MAX9157 is a four-channel, 200Mbps, 3.3V BLVDS
                                                                         trace is uniformly reduced when equal capacitive loads
          transceiver in 32-lead TQFP and QFN packages, ideal
                                                                         are attached at equal intervals (provided the transition
          for driving heavily loaded multipoint buses, typically 16
                                                                         time of the signal being driven on the trace is longer
          to 20 cards plugged into a backplane. The MAX9157
                                                                         than the delay between loads). This kind of loading is
          receivers accept a differential input and have a fail-safe
                                                                         typical of multipoint buses where cards are attached at
          input circuit. The devices detect differential signals as
                                                                         1in or 0.8in intervals along the length of a backplane.
          low as 100mV and as high as VCC.
                                                                         The reduction in characteristic impedance is approxi-
          The MAX9157 driver outputs use a current-steering
                                                                         mated by the following formula:
          configuration to generate a 9.25mA to 17mA output
          current. This current-steering approach induces less                       ZDIFF-loaded = ZDIFF-unloaded ✕
          ground bounce and no shoot-through current, enhanc-                        SQRT [Co / (Co + N ✕ CL / L)]
          ing noise margin and system speed performance. The             where:
          outputs are short-circuit current limited.
                                                                         ZDIFF-unloaded = unloaded differential characteristic
          The MAX9157 current-steering output requires a resis-          impedance
          tive load to terminate the signal and complete the trans-
                                                                         Co = unloaded trace capacitance (pF/unit length)
          mission loop. Because the devices switch the direction
          of current flow and not voltage levels, the output volt-       CL = value of each capacitive load (pF)
          age swing is determined by the value of the termination        N = number of capacitive loads
          resistor multiplied by the output current. With a typical
                                                                         L = trace length
          15mA output current, the MAX9157 produces a 405mV
          output voltage when driving a bus terminated with two          For example, if Co = 2.5pF/in, CL = 10pF, N = 18, L =
          54Ω resistors (15mA ✕ 27Ω = 405mV). Logic states are           18in, and ZDIFF-unloaded = 120Ω, the loaded differen-
          determined by the direction of current flow through the        tial impedance is:
          termination resistor.                                                   ZDIFF-loaded = 120Ω ✕
                                                                                  SQRT [2.5pF / (2.5pF + 18 x 10pF / 18in)]
                                  Fail-Safe Receiver Inputs
          The fail-safe feature of the MAX9157 sets the output                    ZDIFF-loaded = 54Ω
          high when the differential input is:                           In this example, capacitive loading reduces the charac-
          • Open                                                         teristic impedance from 120Ω to 54Ω. The load seen by
          • Undriven and shorted
          • Undriven and terminated                                                                        VCC
          Without a fail-safe circuit, when the input is undriven,
          noise at the input may switch the outputs and it may                                      RIN2
          appear to the system that data is being sent. Open or
          undriven terminated input conditions can occur when a
          cable is disconnected or cut, or when driver output is in
          high impedance. A shorted input can occur because of
          a cable failure.
          When the input is driven with a differential signal with a                                         VCC - 0.3V
          common-mode voltage of 0.05V to 2.4V, the fail-safe                   DO_+/RIN_+
          circuit is not activated. If the input is open, undriven
          and shorted, or undriven and parallel terminated, an                               RIN1
          internal resistor in the fail-safe circuit pulls both inputs                                                              RO_
          above VCC - 0.3V, activating the fail-safe circuit and
          forcing the outputs high (Figure 1).                                               RIN1
                                                                                                                          MAX9157
                                                                                D0_-/RIN_-
                                                                         Figure 1. Internal Fail-Safe Circuit
          8   _______________________________________________________________________________________


                                                   Quad Bus LVDS Transceiver
a driver located on a card in the middle of the bus is                            Input Internal Pullup/Pulldown
                                                                                                                               MAX9157
27Ω because the driver sees two 54Ω loads in parallel.                                                 Resistors
A typical LVDS driver (rated for a 100Ω load) would not       The MAX9157 includes pullup or pulldown resistors
develop a large enough differential signal to be reliably     (300kΩ) to ensure that unconnected inputs are defined
detected by an LVDS receiver. The MAX9157 BLVDS               (Table 4).
drivers are designed and specified to drive a 27Ω load
to differential voltage levels of 250mV to 460mV. A stan-                        Applications Information
dard LVDS receiver is able to detect this level of differ-
                                                                                                  Supply Bypassing
ential signal. Short extensions off the bus, called stubs,
                                                              Bypass each supply pin with high-frequency surface-
contribute to capacitive loading. Keep stubs less than
                                                              mount ceramic 0.1µF and 1nF capacitors in parallel as
1in for a good balance between ease of component
                                                              close to the device as possible, with the smaller value
placement and good signal integrity.
                                                              capacitor closest to the device.
The MAX9157 driver outputs are current-source drivers
and drive larger differential signal levels into loads                                                     Termination
lighter than 27Ω and smaller levels into loads heavier        In the example given in the Effect of Capacitive Loading
than 27Ω (see Typical Operating Characteristics               section, the loaded differential impedance of a bus is
curves). To keep loading from reducing bus impedance          reduced to 54Ω. Since the bus can be driven from any
below the rated 27Ω load, PC board traces can be              card position, the bus must be terminated at each end. A
designed for higher unloaded characteristic impedance.        parallel termination of 54Ω at each end of the bus placed
                                                              across the traces that make up the differential pair pro-
                       Effect of Transition Times             vides a proper termination. The total load seen by the dri-
For transition times (measured from 0% to 100%) short-        ver is 27Ω. The MAX9157 drives higher differential signal
er than the delay between capacitive loads, the loads         levels into lighter loads. (See Differential Output Voltage
are seen as low-impedance discontinuities from which          vs. Output Load graph in the Typical Operating Char-
the driven signal is reflected. Reflections add and sub-      acteristics section). A multidrop bus with the driver at one
tract from the signal being driven and cause decreased        end and receivers connected at regular intervals along
noise margin and jitter. The MAX9157 output drivers           the bus has a lowered impedance due to capacitive load-
are designed for a minimum transition time of 1ns             ing. Assuming a 54Ω impedance, the multidrop bus can
(rated 0.6ns from 20% to 80%, or about 1ns from 0% to         be terminated with a single, parallel-connected 54Ω resis-
100%) to reduce reflections while being fast enough for       tor at the far end from the driver. Only a single resistor is
high-speed backplane data transmission.                       required because the driver sees one 54Ω differential
                                                              trace. The signal swing is larger with a 54Ω load. In gen-
                                    Power-On Reset            eral, parallel terminate each end of the bus with a resistor
The power-on reset voltage of the MAX9157 is typically
2.25V. When the supply falls below this voltage, the
devices are disabled and the receiver inputs/driver out-
                                                              Table 1. I/O Enable Functional Table
puts are in high impedance. The power-on reset                         MODE SELECTED                 DE_          RE_
ensures glitch-free power-up and power-down, allow-            Driver Mode                           H             H
ing hot swapping of cards in a multicard bus system
without disrupting communications.                             Receiver Mode                          L            L
                                                               High-Impedance Mode                    L            H
                       Receiver Input Hysteresis               Loopback Mode                         H             L
The MAX9157 receiver inputs feature 52mV hysteresis to
increase noise immunity for low-differential input signals.
                                                              Table 2. Driver Mode
                                   Operating Modes
The MAX9157 features driver/receiver enable inputs                      INPUTS                       OUTPUTS
that select the bus I/O function (Table 1). Tables 2 and          DE_            DIN_      DO_+/RIN_+         DO_-/RIN_-
3 show the driver and receiver truth tables.                       H              L              L                H
                                                                   H              H             H                 L
                                                                   L              X              Z                Z
                   _______________________________________________________________________________________                 9


          Quad Bus LVDS Transceiver
                                                                          Avoid the use of unbalanced cables, such as ribbon
MAX9157
          Table 3. Receiver Mode
                                                                          cable. Balanced cables, such as twisted pair, offer
                                   INPUTS                       OUTPUTS   superior signal quality and tend to generate less EMI
           RE_            VID = (VDO_+/RIN_+) - (VDO_-/RIN_-)     RO_     due to canceling effects. Balanced cables tend to pick
               L                    VID < -100mV                   L
                                                                          up noise as common mode, which is rejected by the
                                                                          receiver.
               L                     VID > 100mV                  H
                         Fail-safe operation guaranteed when                                                               Board Layout
                         DO_+/RIN_+ and DO_-/RIN_- are                    A four-layer PC board that provides separate power,
               L                                                  H       ground, input, and output signals is recommended.
                         open, undriven and shorted, or
                         undriven and parallel terminated                 Keep the LVTTL/LVCMOS and BLVDS signals separat-
               H                          X                        Z
                                                                          ed to prevent coupling.
          Table 4. Input Internal Pullup/Pulldown
          Resistors                                                                                          D0_+/RIN_+
                   PIN                    INTERNAL RESISTOR
                   DE12                       Pulldown to GND                                              RL/2
                                                                                VCC         DIN_                            S
                   DE34                       Pulldown to GND                                                       VOS    VOD
                                                                                                                           VO
                                                                                GND
                   RE12                        Pullup to VCC                                               RL/2
                   RE34                        Pullup to VCC
                   DIN_                        Pullup to VCC                                                  DO_-/RIN_-
                                                                          Figure 2. Driver VOD and VOS Test Circuit
          matching the differential impedance of the bus (taking
          into account any reduced impedance due to loading).
                               Traces, Cables, and Connectors
          The characteristics of input and output connections
          affect the performance of the MAX9157. Use con-                                                           CL
          trolled-impedance traces, cables, and connectors with
          matched characteristic impedance.                                                                                          DO_+/RIN_+
          Ensure that noise couples as common mode by run-                                          DIN_
                                                                                GENERATOR                                       RL
          ning the traces of a differential pair close together.
          Reduce within-pair skew by matching the electrical                                       50Ω                               DO_-/RIN_-
          length of the traces of a differential pair. Excessive
                                                                                                                     CL
          skew can result in a degradation of magnetic field can-
          cellation. Maintain the distance between traces of a dif-       Figure 3. Driver Propagation Delay and Transition Time Test Circuit
          ferential pair to avoid discontinuities in differential
          impedance. Minimize the number of vias to further pre-
          vent impedance discontinuities.
          10       ______________________________________________________________________________________


                                                                                         Quad Bus LVDS Transceiver
                                                                                                                                                                                                           MAX9157
                                                                                             VCC
                                                                                                                                                                             CL
              50%                                                   50%
   DIN_
                                                                                             0
              tPLHD                                                 tPHLD                                                                                                                DO_+/RIN_+
   RIN_-                                                                                     VOH                              VCC                     DIN_                        RL/2
                              0 DIFFERENTIAL                                       0
                                                                                                                              GND
   RIN_+                                                                                     VOL
                                                                                                                                                           DE_                               +1.2V
                                                                                                                  GENERATOR                                                       RL/2
                               80%                              80%
                               0                                                                                                    50Ω                                                  DO_-/RIN_-
                                                                                   0
    VOD                                                                                                                                         1/4 MAX9157                  CL
            20%                 VOD = (VDO_+/RIN_+ - VDO_-/RIN_-)                      20%
                      tTLH                                                  tTHL
Figure 4. Driver Propagation Delay and Transition Time                                                           Figure 5. Driver High-Impedance Delay Test Circuit
Waveforms
                                                 DE_                                                                                                                   VCC
                                                                                                 50%                                       50%
                                                                                                                                                                       0
                                                                                             tPHZ                                                  tPZH
                  D0_+/RIN_+ WHEN DIN_ = VCC                                                                                                                           VOH
                    DO_-/RIN_- WHEN DIN_ = 0
                                                                                                       50%                                                       50%
                                                                                                                                                                       1.2V
                                                                                                                                                                       1.2V
                                                                                                       50%                                                       50%
                   DO_+/RIN_+ WHEN DIN_ = 0                                                                                                                            VOL
                  DO_-/RIN_- WHEN DIN_ = VCC
                                                                                             tPLZ                                                   tPZL
Figure 6. Driver High-Impedance Delay Waveform
                                                                                                    DO_+/RIN_+
                                                                  PULSE
                                                                GENERATOR                                                                 RO_
                                                                                                    DO_-/RIN_-                       CL
                                                                                       50Ω*              50Ω*
                                                                                                                       RECEIVER ENABLED
                                                                                                                       1/4 MAX9157
                                                                *50Ω REQUIRED FOR PULSE GENERATOR TERMINATION.
Figure 7. Receiver Transition Time and Propagation Delay Test Circuit
                             ______________________________________________________________________________________                                                                                   11


          Quad Bus LVDS Transceiver
MAX9157
               DO_-/RIN_-
                                                       VCM                                       VID                           VCM
               DO_+/RIN_+
                                                        tPLHD                                                                   tPHLD
                                                                                                                                                           VOH
                                                                                  80%                                          80%
                                                                                  50%                                                          50%
                                                       20%                                                                                       20%
                     RO_                                                                                                                                   VOL
                                                                     tTLH                                                               tTHL
          Figure 8. Receiver Transition Time and Propagation Delay Timing Diagram
                                                                                                   VCC   S1
                                                                                                              RL
                                                                             DO_+/RIN_+
                                                                                                                   RO_
                                                                              DO_-/RIN_-                      CL
                                                                       RE_
                                                   GENERATOR
                                                                            50Ω
                                                                                   1/4 MAX9157
                                                      CL INCLUDES LOAD AND TEST JIG CAPACITANCE.
                                                      S1 = VCC FOR tPZL AND tPLZ MEASUREMENTS.
                                                      S1 = GND FOR tPZH AND tPHZ MEASUREMENTS.
          Figure 9. Receiver High-Impedance Delay Test Circuit
                                                                                                                                                     VCC
                                           50%                                                    50%
                              RE_                                                                                                                    0
                                                                                                          tPZL
                                                                                                                                                     VCC
                                            tPLZ
                                                                                                                     50%
                        RO_ WHEN                             0.5V                                                                                    VOL
                      VID = -100mV
                                            tPHZ                                                          tPZH
                        RO_ WHEN                                                                                                                     VOH
                     VID = +100mV                             0.5V
                                                                                                                         50%
                                                                                                                                                     GND
          Figure 10. Receiver High-Impedance Waveforms
          12   ______________________________________________________________________________________


                                               Quad Bus LVDS Transceiver
                   Functional Diagram                                                                              Pin Configurations
                                                                                                                                                                                                                                                 MAX9157
                                                            TOP VIEW
                                  DO1+/RIN1+
      DIN1                                                             RO4            DIN4            RO3               DIN3                RO2                 DIN2                       RO1                  DIN1
                                                                       32             31              30                29                 28                   27                         26                   25
      DE12                        DO1-/RIN1-
                                                          N.C.   1                                                                                                                                                                24 N.C.
       RO1
      RE12                                                N.C.   2                                                                                                                                                                23 N.C.
                                  DO2+/RIN2+              VCC    3                                                                                                                                                                22 N.C.
      DIN2
                                                          GND    4                                                                                                                                                                21 GND
                                                                                                                   MAX9157
                                  DO2-/RIN2-              RE34   5                                                                                                                                                                20 RE12
      RO2                                                DE34    6                                                                                                                                                                19 AVCC
                                                         AGND    7                                                                                                                                                                18 DE12
                                  DO3+/RIN3+
                                                         AVCC    8                                                                                                                                                                17 AGND
      DIN3
      DE34                        DO3-/RIN3-                             9           10              11                 12                 13                  14                          15                   16
                                                                       DO4-/RIN4-      DO4+/RIN4+     DO3-/RIN3-         DO3+/RIN3+        DO2-/RIN2-            DO2+/RIN2+                DO1-/RIN1-           DO1+/RIN1+
       RO3
      RE34
                                  DO4+/RIN4+
                                                                                                                       TQFP
      DIN4
                                  DO4-/RIN4-
      RO4                                                   TOP VIEW
                                                                       RO4           DIN4           RO3             DIN3              RO2               DIN2                  RO1                  DIN1
                                                                        32           31             30              29                28                27                    26                  25
                 MAX9157
                                                          N.C.   1                                                                                                                                                           24      N.C.
                                                          N.C.   2                                                                                                                                                           23      N.C.
                                                          VCC    3                                                                                                                                                           22      N.C.
                                                         GND     4                                                                                                                                                           21      GND
                                                         RE34    5                                                 MAX9157                                                                                                   20      RE12
                       Chip Information                  DE34    6                                                                                                                                                           19      AVCC
TRANSISTOR COUNT: 1826                                   AGND    7                                                                                                                                                           18      DE12
PROCESS: CMOS                                            AVCC    8                                                                                                                                                           17      AGND
                                                                        9            10             11              12                13                14                    15                   16
                                                                        DO4-/RIN4-   DO4+/RIN4+     DO3-/RIN3-      DO3+/RIN3+        DO2-/RIN2-        DO2+/RIN2+            DO1-/RIN1-           DO1+/RIN1+
                                                                                                                       QFN
              ______________________________________________________________________________________                                                                                                                                        13


          Quad Bus LVDS Transceiver
                                                                                      Package Information
MAX9157
          14   ______________________________________________________________________________________


                            Quad Bus LVDS Transceiver
                                         Package Information (continued)
                                                                                              MAX9157
______________________________________________________________________________________   15


          Quad Bus LVDS Transceiver
                                                                                           Package Information (continued)
MAX9157                                                                                                                                 32L TQFP, 5x5x01.0.EPS
          Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are
          implied. Maxim reserves the right to change the circuitry and specifications without notice at any time.
          Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600 ____________________ 16
          © 2002 Maxim Integrated Products                 Printed USA                         is a registered trademark of Maxim Integrated Products.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX9157EHJ+T MAX9157EHJ+ MAX9157EGJ+ MAX9157EGJ+T
