                                                                                                                        LTC4315
                                                                                                           2-Wire Bus Buffer with
                                                                                                              High Noise Margin
FEATURES                                                                               DESCRIPTION
n   Bidirectional Buffer Increases Fanout                                              The LTC4315 is a hot-swappable 2-wire bus buffer
n   High Noise Margin with VIL = 0.3 • VCC                                             that provides bidirectional buffering, while maintain-
n   Compatible with Non-Compliant I2C Devices That                                     ing a low offset voltage and high noise margin up to
    Drive a High VOL                                                                   0.3 • VCC. The high noise margin allows the LTC4315 to be
n   Selectable Rise Time Accelerator Current                                           interoperable with devices that drive a high VOL (>0.4V)
n   Level Shift 1.5V, 1.8V, 2.5V, 3.3V and 5V Busses                                   and allows multiple LTC4315s to be cascaded. The LTC4315
n   Prevents SDA and SCL Corruption During Live Board                                  supports level translation between 1.5V, 1.8V, 2.5V, 3.3V
    Insertion and Removal from Backplane                                               and 5V busses.
n   Stuck Bus Disconnect and Recovery
                                                                                       During insertion, the SDA and SCL lines are precharged to
n   Compatible with I2C, I2C Fast Mode and SMBus
n
                                                                                       1V to minimize bus disturbances. Connection is established
    ±4kV Human Body Model ESD Ruggedness
n
                                                                                       between the input and output after ENABLE is asserted
    High Impedance SDA, SCL pins When Unpowered
n
                                                                                       high and a stop bit or bus idle condition has been detected
    12-Lead (4mm × 3mm) DFN and 12-Lead MSOP
                                                                                       on the SDA and SCL pins.
    Packages
                                                                                       If both data and clock are not simultaneously high at
                                                                                       least once in 45ms and DISCEN is high, a FAULT signal
APPLICATIONS                                                                           is generated indicating a stuck bus low condition and the
n   Capacitance Buffers/Bus Extender                                                   input is disconnected from the output. Up to 16 clock
n   Live Board Insertion                                                               pulses are subsequently generated to free the stuck bus.
n   Telecommunications Systems Including ATCA                                          A three state ACC pin enables input and output side rise
n   Level Translation                                                                  time accelerators of various strengths.
n   PMBus                                                                               L, LT, LTC, LTM, Linear Technology and the Linear logo are registered trademarks and Hot Swap
                                                                                        is a trademark of Linear Technology Corporation. All other trademarks are the property of their
n   Servers                                                                             respective owners. Protected by U.S. patents, including 6356140, 6650174, 7032051, 7478286.
TYPICAL APPLICATION
                                                                                                                                           400kHz Operation
                 3.3V                                               5V
                                                                                                                             RBUS_IN = 2.7kΩ, CBUS_IN = 50pF
                                                                                                                             RBUS_OUT = 1.3kΩ, CBUS_OUT = 400pF, ACC = 0V
     0.01μF   2.7k   2.7k     VCC              VCC2           10k        1.3k   1.3k   10k
                                                                                                                                     SCLOUT
                                                                                                                    1V/DIV
                            DISCEN
                            ENABLE                                                                                                   SCLIN
                                     LTC4315
                                                READY                                        READY
     SCL1                   SCLIN              SCLOUT                                        SCL2
     SDA1                   SDAIN              SDAOUT                                        SDA2
                                                                                                                                                                            4315 TA01b
                                                                                                                                                 500ns/DIV
                            ACC                 FAULT                                        FAULT
                                      GND
                                                 4315 TA01a
                                                                                                                                                                                     4315f
                                                                                                                                                                                    1


LTC4315
ABSOLUTE MAXIMUM RATINGS
(Notes 1, 2)
Supply Voltages VCC, VCC2 ........................... –0.3V to 6V                Operating Ambient Temperature Range
Input Voltages ACC, DISCEN, ENABLE ......... –0.3V to 6V                             LTC4315C ................................................ 0°C to 70°C
Input/Output Voltages SDAIN, SCLIN, SCLOUT,                                          LTC4315I.............................................. –40°C to 85°C
SDAOUT ....................................................... –0.3V to 6V       Storage Temperature Range .................. –65°C to 150°C
Output Voltages FAULT, READY ................... –0.3V to 6V                     Lead Temperature (Soldering, 10 sec)
Output Sink Currents                                                                 MSOP ............................................................... 300°C
    FAULT, READY ...................................................50mA
PIN CONFIGURATION
                                      TOP VIEW
                                                                                                                  TOP VIEW
                      ENABLE     1                  12 VCC
                                                                                                  ENABLE   1                       12  VCC
                      DISCEN     2                  11 VCC2                                                2                       11
                                                                                                  DISCEN                               VCC2
                      SCLOUT     3                  10 SDAOUT                                    SCLOUT    3                       10  SDAOUT
                                          13                                                        SCLIN  4                       9   SDAIN
                       SCLIN     4                   9  SDAIN                                         ACC  5                       8   FAULT
                          ACC    5                   8  FAULT                                        GND   6                       7   READY
                         GND     6                   7  READY                                                    MS PACKAGE
                                                                                                           12-LEAD PLASTIC MSOP
                                     DE PACKAGE                                                          TJMAX = 150°C, θJA = 135°C/W
                        12-LEAD (4mm × 3mm) PLASTIC DFN
                            TJMAX = 150°C, θJA = 43°C/W
             EXPOSED PAD (PIN 13) PCB CONNECTION TO GND IS OPTIONAL
ORDER INFORMATION
LEAD FREE FINISH              TAPE AND REEL                   PART MARKING*           PACKAGE DESCRIPTION                             TEMPERATURE RANGE
LTC4315CDE#PBF                LTC4315CDE#TRPBF                4315                    12-Lead (4mm × 3mm) DFN                         0°C to 70°C
LTC4315IDE#PBF                LTC4315IDE#TRPBF                4315                    12-Lead (4mm × 3mm) DFN                         –40°C to 85°C
LTC4315CMS#PBF                LTC4315CMS#TRPBF                4315                    12-Lead Plastic MSOP                            0°C to 70°C
LTC4315IMS#PBF                LTC4315IMS#TRPBF                4315                    12-Lead Plastic MSOP                            –40°C to 85°C
Consult LTC Marketing for parts specified with wider operating temperature ranges. *The temperature grade is identified by a label on the shipping container.
Consult LTC Marketing for information on non-standard lead based finish parts.
For more information on lead free part marking, go to: http://www.linear.com/leadfree/
For more information on tape and reel specifications, go to: http://www.linear.com/tapeandreel/
                                                                                                                                                            4315f
2


                                                                                                                          LTC4315
ELECTRICAL CHARACTERISTICS                                     The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. VCC = VCC2 = 3.3V unless otherwise noted.
SYMBOL         PARAMETER                     CONDITIONS                                                   MIN         TYP         MAX      UNITS
Power Supply/Start-Up
VCC            Input Supply Voltage                                                                  l     2.9                     5.5         V
VDD,BUS        2-Wire Bus Supply Voltage     (Note 3)                                                l     1.4                     5.5         V
VCC2           Output Side Accelerator                                                               l    2.25                     5.5         V
               Supply Voltage
ICC            Input Supply Current          VENABLE = VCC = VCC2 = 5.5V, VSDAIN,SCLIN = 0V (Note 4) l      6          8.1         10        mA
ICC(DISABLED)  Input Supply Current          VENABLE = 0V, VCC = VCC2 = 5.5V, VSDAIN,SCLIN = 0V      l     2.3         3.3         4.3       mA
ICC2           VCC2 Supply Current           VENABLE = VCC = VCC2 = 5.5V, VSDAIN,SCLIN = 0V (Note 4) l     0.2        0.31         0.4       mA
ICC2(DISABLED) VCC2 Supply Current           VENABLE = 0V, VCC = VCC2 = 5.5V, VSDAIN,SCLIN = 0V      l    0.15        0.25        0.35       mA
VTH_UVLO       VCC UVLO Threshold            VCC Rising                                              l    2.55         2.7        2.85         V
VCC_UVLO(HYST) UVLO Threshold Hysteresis                                                                              200                    mV
               Voltage
VPRE           Precharge Voltage             SDA, SCL Pins Open                                      l     0.8          1          1.2         V
Buffers
VOS(SAT)       Buffer Offset Voltage         IOL = 4mA, Driven VSDA,SCL = 50mV                       l    100         190         280        mV
                                             IOL = 500μA, Driven VSDA,SCL = 50mV                     l     15          60         120        mV
VOS            Buffer Offset Voltage         IOL = 4mA, Driven VSDA,SCL = 200mV                      l     50         120         180        mV
                                             IOL = 500μA, Driven VSDA,SCL = 200mV                    l     15          60         115        mV
VIL(FALLING)   Buffer Input Logic Low        (Notes 5 and 6)                                         l 0.3 • VMIN 0.33 • VMIN 0.36 • VMIN      V
               Voltage
VIL(HYST)      VIL Hysteresis Voltage                                                                                  50                    mV
ILEAK          Input Leakage Current         SDA, SCL Pins = 5.5V, VCC = 5.5V, 0V                    l                            ±10         μA
CIN            Input Capacitance             SDA, SCL Pins (Note 7)                                  l                             10         pF
Rise Time Accelerators
 dV            Minimum Slew Rate             SDA, SCL Pins, VCC = VCC2 = 5V                          l     0.1         0.2         0.4      V/μs
 dt (RTA)      Requirement
VRTA(TH)       Rise Time Accelerator DC      VCC = VCC2 = 5V (Note 5)                                l 0.38 • VMIN 0.41 • VMIN 0.44 • VMIN     V
               Threshold Voltage
ΔVACC          Buffers Off to Accelerator On SDA, SCL Pins, VCC = VCC2 = 5V (Note 5)                 l 0.05 • VMIN 0.07 • VMIN                 V
               Voltage
IRTA           Rise Time Accelerator Pull-Up SDA, SCL Pins
               Current                       ACC Grounded, VCC = VCC2 = 5V (Note 8)                  l     15          25          40        mA
                                             ACC Open, VCC = VCC2 = 5V (Note 8)                      l     1.5         2.5         3.5       mA
Enable/Control
VEN(TH)        ENABLE Threshold Voltage                                                              l      1          1.4         1.8         V
VDISCEN(TH)    DISCEN Threshold Voltage                                                              l      1          1.4         1.8         V
ILEAK          Input Leakage Current         DISCEN, ENABLE Pins, VCC = 5.5V                         l                 0.1         ±1         μA
VACC(L,TH)     ACC Input Low Threshold       VCC = 5V                                                l  0.2 • VCC   0.3 • VCC   0.4 • VCC      V
               Voltage
VACC(H,TH)     ACC Input High Threshold      VCC = 5V                                                l  0.7 • VCC   0.8 • VCC   0.9 • VCC      V
               Voltage
IACC(IN,HL)    ACC High, Low Input Current   VCC = VCC2 = 5V, VACC = 5V, 0V                          l                ±23         ±40         μA
                                                                                                                                            4315f
                                                                                                                                            3


LTC4315
ELECTRICAL CHARACTERISTICS                                            The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. VCC = VCC2 = 3.3V unless otherwise noted.
SYMBOL             PARAMETER                       CONDITIONS                                                            MIN        TYP       MAX    UNITS
IACC(IN, Z)        Allowable Leakage Current in    VCC = VCC2 = 5V                                                l                             ±5        μA
                   the Open State
VREADY(OL)         READY Output Low Voltage        IREADY = 3mA, VCC = 5V                                         l                            0.4         V
IREADY(OH)         READY Off Leakage Current       VCC = VREADY = 5V                                              l                  0.1        ±5        μA
Stuck Low Timeout Circuitry
tTIMEOUT           Bus Stuck Low Timer             SDAOUT or SCLOUT < 0.3 • VMIN (Note 5)                         l       35         45         55        ms
VFAULT(OL)         FAULT Output Low voltage        IFAULT = 3mA                                                   l                            0.4         V
IFAULT(OH)         FAULT Off Leakage Current       VCC = VFAULT = 5V                                              l                  0.1        ±5        μA
I2C Interface Timing
fSCL(MAX)          I2C Frequency Max                                                                              l      400                             kHz
tPDHL              SCL, SDA Fall Delay             VCC = VCC2 = VDD(BUS) = 5V, CBUS = 100pF,                                        130        250        ns
                                                   RBUS = 10kΩ (Note 7)
tf                 SCL, SDA Fall Times             VCC = VCC2 = VDD(BUS) = 5V, CBUS = 100pF,                              20                   300        ns
                                                   RBUS = 10kΩ (Note 7)
tIDLE              Bus Idle Time                                                                                  l       55         95        175        μs
Note 1: Stresses beyond those listed under Absolute Maximum Ratings              Note 5: VMIN = minimum of VCC and VCC2 if VCC2 > 2.25V, otherwise
may cause permanent damage to the device. Exposure to any Absolute               VMIN = VCC.
Maximum Rating condition for extended periods may affect device                  Note 6: VIL is tested for the following (VCC, VCC2) combinations;
reliability and lifetime.                                                        (2.9V, 5.5V), (5.5V, 2.25V), (3.3V, 3.3V) and (5V, 0V).
Note 2: All currents into pins are positive and all voltages are referenced      Note 7: Guaranteed by design and not tested.
to GND unless otherwise indicated.                                               Note 8: Measured in a special DC mode with VSDA,SCL = VRTA(TH) + 1V.
Note 3: The LTC4315 can level translate bus voltages ranging from                The transient IRTA during rising edges, when ACC is LOW, will depend on
2.25V to 5.5V. In special cases, it can also level translate down to 1.4V.       the bus loading condition and the slew rate of the bus. The LTC4315’s
See the Applications Information section for more details.                       internal slew rate control circuitry limits the maximum bus rise rate to
Note 4: Test performed with SDA, SCL buffers active.                             75V/μs by controlling the transient IRTA .
                                                                                                                                                        4315f
4


                                                                                                                                                                                                                        LTC4315
TYPICAL PERFORMANCE CHARACTERISTICS                                                                                                                       TA = 25°C, VCC = VCC2 = 3.3V unless otherwise noted.
                  ICC Enabled Current vs Supply                                                      ICC Disabled Current vs Supply                                                          ICC2 Enabled Current vs Supply
                  Voltage                                                                            Voltage                                                                                 Voltage
            9.0                                                                                4.0                                                                                     0.4
                      VSDAIN,SCLIN = 0V                                                                  VSDAIN,SCLIN = 0V                                                                       VSDAIN,SCLIN = 0V
                      VENABLE = 5.5V                                                                     VENABLE = 0V                                                                            VENABLE = 5.5V
            8.5
                                                                                               3.5
            8.0                                                                                                                                                                        0.3
ICC (mA)    7.5                                                                   ICC (mA)     3.0                                                                    ICC2 (mA)
            7.0                                                                                                                                                                        0.2
                                                                                               2.5
            6.5
            6.0                                                                                2.0                                                                                     0.1
                  2     2.5     3    3.5     4       4.5    5     5.5       6                        2     2.5        3   3.5     4       4.5   5        5.5     6                           2     2.5      3    3.5     4 4.5         5    5.5       6
                                           VCC (V)                                                                              VCC (V)                                                                                VCC (V)
                                                                      4315 G01                                                                            4315 G02                                                                              4315 G03
                                                                                                     VOS vs IBUS Different Driven
                  Buffer DC IOL vs Temperature                                                       Voltage Levels                                                                          IRTA vs Temperature
             12                                                                                250                                                                                     16
                                                                                                                                                                                                 VCC = VCC2 = VDD,BUS
             11                                                                                                                                                                                  VSDA,SCLt7DD,BUS
                                                                                                                                                                                                 CBUS = 400pF, RBUS = 10kΩ
                                                                                               200                                                                                     14
             10         VSDA,SCL = 0.6V                                                                          DRIVEN VSDA,SCL = 50mV                                                          ACC = 0V
                                                                                                                                                    100mV
              9                                                                                                                                                                        12
                                                                                               150
 IOL (mA)     8
                                                 VSDA,SCL = 0.4V                  VOS (mV)                                                                                 IRTA (mA)
                                                                                                                                                ≥200mV                                                   5V
              7                                                                                100                                                                                     10
              6                                                                                                                                                                                      3.3V
                                                                                                50                                                                                       8
              5
              4                                                                                  0                                                                                       6
               –50        –25        0    25     50              75        100                       0            1         2       3               4            5                        –50        –25         0    25     50            75        100
                                    TEMPERATURE (°C)                                                                        IBUS (mA)                                                                           TEMPERATURE (°C)
                                                                      4315 G04                                                                            4315 G05                                                                              4315 G06
                  tF (70% to 30%) vs                                                                 tPDHL (50% to 50%) vs
                  Bus Capacitance                                                                    Bus Capacitance                                                                         Bus Rise Time (40% to 70%) vs CBUS
            100                                                                                200                                                                                   100
                      VCC = VCC2 = VDD,BUS                                                               VCC = VCC2 = VDD,BUS                                                                    VCC = VCC2 = VDD,BUS
                      RBUS = 10kΩ                                                                        RBUS = 10kΩ                                                                             ACC = 0V
                                                                                                                                                    5V
             75                                                                                175                                                                                                                              5V
                                                 5V                                                                                                                                    75
 tF (ns)     50                                                                   tPDHL (ns)   150                                                                      tRISE (ns)                                              3.3V
                                                                                                                                      3.3V
                                                     3.3V
                                                                                                                                                                                        50
             25                                                                                125
              0                                                                                100                                                                                      25
                  0           200     400     600               800        1000                      0           200      400     600           800            1000                          0             200        400            600             800
                                       CBUS (pF)                                                                           CBUS (pF)                                                                                CBUS (pF)
                                                                      4315 G07                                                                            4315 G08
                                                                                                                                                                                                                                                4315 G09
                                                                                                                                                                                                                                                    4315f
                                                                                                                                                                                                                                                   5


LTC4315
PIN FUNCTIONS
ACC (Pin 5): Three-State Acceleration Strength Selector.     READY (Pin 7): Connection Ready Status Output. This
This pin controls the current strength of the rise time      open drain N-channel MOSFET output pulls low when
accelerators on both the input and output sides. Rise        the input and output sides are disconnected. READY is
time accelerators (RTAs) are disabled if ACC is high,        pulled high when ENABLE is high and a connection has
in current source mode if ACC is open and in the slew        been established between the input and output. Connect
limited switch mode if ACC is low. See Table 1 in the        a pull-up resistor, typically 10k, from this pin to the bus
Applications Information section. Grounding VCC2 selec-      pull-up supply. Leave open or tie to GND if unused.
tively disables the output side RTAs independent of the
                                                             SCLIN (Pin 4): Serial Bus 1 Clock Input/Output. Connect
ACC setting.
                                                             this pin to the SCL line on the upstream bus. Connect an
DISCEN (Pin 2): Enable Input to Disconnect Stuck Bus.        external pull-up resistor or current source between this
When this pin is high, stuck busses are automatically        pin and the bus supply. The bus supply must be ≥ VCC
disconnected after a timeout period of 45ms and FAULT        if rise time accelerators are enabled. Do not leave open.
is pulled low. Up to sixteen clock pulses are subsequently   SCLOUT (Pin 3): Serial Bus 2 Clock Input/Output. Con-
applied to SCLOUT. When DISCEN is low, stuck busses          nect this pin to the SCL bus segment where stuck low
are neither disconnected nor clocked but FAULT is pulled     recovery is desired. Connect an external pull-up resistor
low. Connect to GND if unused.                               or current source between this pin and the bus supply.
ENABLE (Pin 1): Connection Enable Input. When driven         The bus supply must be ≥ VCC2 if rise time accelerators
low, the ENABLE pin isolates SDAIN and SCLIN from            are enabled. Do not leave open.
SDAOUT and SCLOUT, asserts READY low, disables rise          SDAIN (Pin 9): Serial Bus 1 Data Input/Output. Connect
time accelerators and inhibits automatic clock and stop bit  this pin to the SDA line on the upstream bus. Connect an
generation during a bus stuck low fault condition. When      external pull-up resistor or current source between this pin
driven high, the ENABLE pin connects SDAIN and SCLIN         and the bus supply. The bus supply must be ≥ VCC if rise time
to SDAOUT and SCLOUT after a stop bit or bus idle has        accelerators are enabled. Do not leave open.
been detected on both busses. Driving ENABLE high also
enables automatic clock generation during a fault condition, SDAOUT (Pin 10): Serial Bus 2 Data Input/Output. Con-
if DISCEN is tied high. During a fault condition, a rising   nect this pin to the SDA bus segment where stuck low
edge on the ENABLE pin forces a connection between           recovery is desired. Connect an external pull-up resistor
SDAIN and SDAOUT and SCLIN and SCLOUT. When using            or current source between this pin and the bus supply.
the LTC4315 in a Hot Swap™ application with staggered        The bus supply must be ≥ VCC2 if rise time accelerators
pins, connect a 10k resistor between ENABLE and GND          are enabled. Do not leave open.
to ensure correct functionality. Connect to VCC if unused.   VCC (Pin 12): Power Supply Voltage. Power this pin from
Exposed Pad (DE12 Package Only): Exposed pad may             a supply between 2.9V and 5.5V. Bypass with at least
be left open or connected to device GND.                     0.01μF to GND.
FAULT (Pin 8): Stuck Bus Fault Output. This open drain       VCC2 (Pin 11): SDAOUT, SCLOUT Rise Time Accelerator
N-channel MOSFET output pulls low if a simultaneous          Power Supply Voltage. When powering VCC2, use a supply
high on SCLOUT and SDAOUT does not occur in 45ms. In         voltage ranging from 2.25V to 5.5V and bypass with at
normal operation FAULT is high. Connect a pull-up resis-     least 0.01μF to GND. Output side rise time accelerators are
tor, typically 10k, from this pin to the bus pull-up supply. active if VCC2 ≥ 2.25V and ACC is low or open. Grounding
Leave open or tie to GND if unused.                          VCC2 disables output side rise time accelerators indepen-
                                                             dent of the state of ACC.
GND (Pin 6): Device Ground.
                                                                                                                       4315f
6


                                                                                                                   LTC4315
BLOCK DIAGRAM
                           VCC                    200k                         200k                               VCC2
                                                  200k    PRECHARGE            200k
                                  IRTA                                                                                 IRTA
                                             PRECHARGE                        PRECHARGE
                                               CONNECT                        CONNECT
  SCLIN                                                                                                                        SCLOUT
            VCC                                                                                                         VCC2
                                                SLEW RATE               SLEW RATE
                                                 DETECTOR                DETECTOR
                  IRTA                            0.2V/μs                 0.2V/μs                                            IRTA
                                                          CONNECT
  SDAIN                                                                                                                        SDAOUT
                                                SLEW RATE               SLEW RATE
                                                 DETECTOR                DETECTOR
                                                  0.2V/μs                 0.2V/μs
                                                                    RTA_SCLOUT_EN
                                         RTA_SCLIN_EN
                            RTA_SDAIN_EN
                                 I2C Hot SwapTM                                  I2C Hot Swap
                                       LOGIC                                        LOGIC
                                                            LOGIC
                                   +                                                          +
             VILt7MIN     –                                                          – VILt7MIN
                                                                      45ms
                                                                      TIMER
                                   +                                                          +
             VILt7MIN     –                                                          – VILt7MIN
  DISCEN
                                                                              RTA_SDAOUT_EN
  ACC                                                                                                                           READY
  VCC2                                              95μs
                                       UVLO                                       CONNECT
                                                   TIMER
  VCC
                       +
                                                                      PRECHARGE
         2.7V/2.5V     –                                              CONNECT                                                     FAULT
  ENABLE
                               +
                1.4V/1.3V      –                                                                                                   GND
                                                                                                                                     4315 BD
                                                                                                                                      4315f
                                                                                                                                     7


LTC4315
OPERATION
The Block Diagram shows the major functional blocks          and data pins for 95μs after that transition. A stop bit or
of the LTC4315. The LTC4315 is a high noise margin bus       bus idle is required on both sides to reactivate the buffers
buffer which provides capacitance buffering for I2C signals. and RTAs. The precharge circuit is not affected by VCC2.
Capacitance buffering is achieved by using back to back      When a SDA/SCL pin is driven below the VIL level, the
buffers on the clock and data channels, which isolate        buffers are turned on and the logic low level is propagated
the SDAIN and SCLIN capacitances from the SDAOUT             though the LTC4315 to the other side. A high occurs when
and SCLOUT capacitances respectively. All SDA and SCL        all devices on the input and output sides release high.
pins are fully bidirectional. The high noise margin allows   Once the bus voltages rise above the VIL level, the buffers
the LTC4315 to operate with non-compliant I2C devices        are turned off. The RTAs are turned on at a slightly higher
that drive a high VOL, permits a number of LTC4315s to       voltage. The RTAs accelerate the rising edges of the SDA/
be connected in series and improves the reliability of I2C   SCL inputs and outputs up to voltages of 0.9 • VCC and
communications in large noisy systems. When enabled,         0.9 • VCC2 respectively, provided that the busses on their
rise time accelerator (RTA) pull-up currents (IRTA) turn on  own are rising at a minimum rate of 0.4V/μs as determined
during rising edges to reduce bus rise time. In a typical    by internal slew rate detectors. ACC is a three-state input
application, the input bus is pulled up to VCC and the       that controls the RTA pull-up current strength IRTA.
output bus is pulled up to VCC2, although these are not
requirements. VCC is the primary power supply to the         The LTC4315 detects a bus stuck low (fault) condition
LTC4315. VCC and VCC2 serve as the input and output side     when both clock and data busses are not simultaneously
rise time accelerator supplies respectively. Grounding VCC2  high at least once in 45ms. When a stuck bus occurs, the
selectively disables the output side RTAs.                   LTC4315 asserts the FAULT flag. If DISCEN is tied high, the
                                                             LTC4315 also disconnects the input and output sides and
When the LTC4315 first receives power on its VCC pin, it     after waiting at least 40μs, generates up to sixteen 5.5kHz
starts out in an under voltage lockout mode (UVLO) until     clock pulses on the SCLOUT pin and a stop bit to attempt
its VCC exceeds 2.7V. The buffers and RTAs are disabled      to free the stuck bus. Should the stuck bus release high
and the LTC4315 ignores the logic state of its clock and     during this period, clock generation is terminated and the
data pins. During this time the precharge circuit forces a   FAULT flag is cleared.
nominal voltage of 1V on the SDA and SCL pins through
200k resistors.                                              If DISCEN is tied low, a stuck bus event only causes FAULT
                                                             flag assertion. Disconnection of the input and output sides
Once the LTC4315 exits UVLO and its ENABLE pin has           and clock generation are not done. Once the stuck bus
been asserted high, it monitors the clock and data pins      recovers and FAULT flag has been cleared, connection is
for a stop bit or a bus idle condition. When a combination   re-established between the input and output after a stop
of either condition is detected simultaneously on the input  bit or bus idle condition is detected. Toggling the ENABLE
and output sides, the LTC4315 activates the connections      pin after a fault condition has occurred forces a connec-
between SDAIN and SDAOUT, and SCLIN and SCLOUT               tion between the input and output. When powering into
respectively, asserts READY high and deactivates the         a stuck low condition, the input and output sides remain
precharge circuit. If ACC is low or open, RTAs are also      disconnected. After the timeout period, a stuck low fault
enabled at this time. VCC2 transitions from a high to a low  condition is detected and the behavior is as described
or vice versa across a 1.8V threshold cause the LTC4315      previously.
to disable the buffers and RTAs and to ignore the clock
                                                                                                                      4315f
8


                                                                                                                LTC4315
APPLICATIONS INFORMATION
The LTC4315 provides capacitance buffering, data and           Figures 1 and 2 show the rising waveforms of heavily
clock Hot Swap capability and level translation of I2C signals loaded SDAIN and SDAOUT busses with the ACC pin set for
on its clock and data pins. The high noise margin of the       strong mode and 2.5mA current source mode respectively.
LTC4315 permits interoperability with I2C devices that drive   In both figures, during a rising edge, the buffers are active
a high VOL, permits series connection of multiple LTC4315s     and the input and output sides connected, until the bus
and provides improved I2C communication reliability.           voltages on both the input and output sides are greater than
The LTC4315 isolates backplane and card capacitances,          0.33 • VMIN, where VMIN is the lower of the VCC and VCC2
provides slew limited acceleration of rising edges and slew    voltages. When each individual bus voltage rises above
control of falling edges while level translating 1.5V, 1.8V,   0.41 • VMIN, the RTA on that bus turns on. The effect of the
2.5V, 3.3V and 5V busses. These features are illustrated       acceleration strength is shown in the SDA waveforms in
in the following subsections.                                  Figures 1 and 2 for identical bus loads. The RTAs supply
                                                               10mA and 2.5mA of pull-up current IRTA in the strong and
RISE TIME ACCELERATOR (RTA) PULL-UP CURRENT                    current source modes respectively for the bus conditions
STRENGTH                                                       shown in Figures 1 and 2. For identical bus loads, the bus
After an input to output connection has been established       rises faster in Figure 1 compared to Figure 2 because of
the RTAs on both the input and output sides of the SDA         the higher IRTA.
and SCL busses are activated based on the state of the
ACC pin and the VCC2 supply voltage. During positive bus
transitions of at least 0.4V/μs, the RTAs provide pull-up
                                                                                         SDAOUT
currents to reduce rise time. Enabling the RTAs allows
users to choose larger bus pull-up resistors to reduce
power consumption and improve logic low noise margins,
to design with bus capacitances outside of the I2C speci-             2V/DIV              SDAIN       VCC = VCC2 = 5V
                                                                                                      RBUS = 20k
                                                                                                      CIN = COUT = 200pF
fication and to operate at a higher clock frequency. The                                              ACC = 0V
function of the ACC pin in setting IRTA is summarized in                                      1μs/DIV                4315 F01
Table 1. In the strong mode (ACC low) the acceleration is
                                                                  Figure 1. Bus Rising Edge for the Strong Acceleration Mode.
slew limited to a maximum bus rise rate of 75V/μs. The            VCC = VCC2 = 5V
strong mode current is therefore directly proportional to
the bus capacitance. The LTC4315 is capable of sourcing
up to 40mA of current in the strong mode. If ACC is left
open, rise time acceleration is provided by a 2.5mA pull up.
                                                                                         SDAOUT
TABLE 1: ACC Control of the RTA Current IRTA
              ACC                             IRTA
              Low                            Strong                                        SDAIN      VCC = VCC2 = 5V
                                                                      2V/DIV
                                                                                                      RBUS = 20k
              Hi-Z                           2.5mA                                                    CIN = COUT = 200pF
                                                                                                      ACC = OPEN
              High                            None                                                                   4315 F02
                                                                                              1μs/DIV
                                                                        Figure 2. Bus Rising Edge for the Current Source
The ACC pin has a resistive divider between VCC and ground              Acceleration Mode. VCC = VCC2 = 5V
to set its voltage to 0.5 • VCC if left open.
                                                                                                                              4315f
                                                                                                                              9


LTC4315
APPLICATIONS INFORMATION
If VCC2 is tied low, output RTAs are disabled independent of                              3.3V                               2.5V
the state of the ACC pin. Using a combination of the ACC pin
and the VCC2 voltage, the input and output side RTAs can                       C1
                                                                           0.01μF
                                                                                       R1
                                                                                       10k
                                                                                              R2
                                                                                              10k
                                                                                                     VCC        VCC2
                                                                                                                          R3
                                                                                                                          10k
                                                                                                                                R4
                                                                                                                                10k
                                                                                                                                    R5
                                                                                                                                    10k
                                                                                                                                        R6
                                                                                                                                        10k
                                                                                                                                                C2
                                                                                                                                                0.01μF
be controlled independently. The RTAs are also internally                                            DISCEN
disabled during power up, VCC2 transitions described in                                              ENABLE
the Operation section and during a bus stuck low event.                                                  LTC4315
                                                                                                               READY                      READY
The RTAs when activated pull the bus up to                                        SCL1               SCLIN   SCLOUT                       SCL2
                                                                                                     SDAIN                                SDA2
0.9 • VCC and 0.9 • VCC2 on the input and output sides of                         SDA1                       SDAOUT
                                                                                                     ACC       FAULT                      FAULT
the SDA and SCL pins. Independent supply voltages VCC                                                      GND
and VCC2 maximize acceleration range on both inputs and                                                          4315 F04
outputs by allowing the RTA turn-off voltage to be set inde-
pendently on the two sides. In order to prevent bus overdrive
by the RTA, the bus supplies on the input and output sides                   Figure 4. Level Shift Application Where the LTC4315 VCC and
                                                                             VCC2 Pins are Connected to the Bus Pull-Up Supply Voltages
of the LTC4315 must be greater than or equal to 0.9 • VCC
and 0.9 • VCC2 respectively. An example is shown in Figure 3
where the input bus voltage is greater than VCC. During a
                                                                          PULL-UP RESISTOR VALUE SELECTION
rising edge, the input bus rise rate will be accelerated by
the RTA up to a voltage of 2.97V after which the bus rise                 To guarantee that the RTAs are activated during a rising
rate will reduce to a value that is determined by the bus                 edge, the bus must rise on its own with a positive slew
current and bus capacitance. The RTA turn-off voltage is                  rate of at least 0.4V/μs. To achieve this, choose a maximum
less than the bus supply and the bus is not over driven.                  RBUS using the formula:
This can also be accomplished by tying VCC to the input
bus supply and VCC2 to the output bus supply as shown                          R BUS ≤
                                                                                        ( VDD,BUS(MIN) – VRTA(TH) )
                                                                                                                                                  (1)
in Figure 4. In this case the input and output busses are                                              V
                                                                                                  0.4 • CBUS
accelerated to 2.97V and 2.25V respectively                                                           µs
         5V                   3.3V                                        RBUS is the bus pull-up resistor, VDD,BUS(MIN) is the
                                                                          minimum bus pull-up supply voltage, VRTA(TH) is the
        R1    R2                              R3  R4  R5  R6       C1
        10k   10k
                        VCC         VCC2
                                              10k 10k 10k 10k      0.01μF maximum voltage at which the RTA turns on and CBUS is
                       DISCEN                                             the equivalent bus capacitance. RBUS must also be large
                       ENABLE
                                                                          enough to guarantee that:
                            LTC4315
  SCL1                 SCLIN
                       SDAIN
                                   READY
                                 SCLOUT
                                 SDAOUT
                                                             READY
                                                             SCL2
                                                             SDA2              RBUS ≥
                                                                                        ( VDD,BUS(MAX) – 0.4V )                                   (2)
  SDA1
                       ACC         FAULT                     FAULT
                                                                                                     4mA
                              GND
                                     4315 F03                             This criterion ensures that the maximum bus current is
                                                                          less than 4mA.
 Figure 3. Level Shift Application Where the SDAIN, SCLIN Bus
 Pull-Up Supply Voltages are Higher Than the Supply Voltages of
 the LTC4315
                                                                                                                                                 4315f
10


                                                                                                            LTC4315
APPLICATIONS INFORMATION
INPUT TO OUTPUT OFFSET VOLTAGE                               STUCK BUS DISCONNECT AND RECOVERY
While propagating a logic low voltage on its SDA and SCL     During an output bus stuck low condition (SCLOUT or
pins, the LTC4315 introduces a positive offset voltage       SDAOUT stuck low for at least 45ms) if DISCEN is tied
between the input and output. When a logic low voltage       high, the LTC4315 attempts to unstick the bus by first
≥200mV is driven on any of the LTC4315’s data or clock       breaking the connection between the input and output. The
pins, the LTC4315 regulates the voltage on the oppo-         LTC4315 then asserts FAULT low and after 40μs, gener-
site side to a slightly higher value. This is illustrated in ates up to sixteen 5.5KHz clock pulses on the SCLOUT
Equation 3, which uses SDA as an example:                    pin. Should the stuck bus release high during this period,
                                                             clock generation is stopped, a stop bit is generated and the
                                           VDD,BUS           FAULT flag is cleared. This process is shown in Figure 5
    VSDAOUT = VSDAIN + 50mV +15Ω •                       (3)
                                            RBUS             for the case where SDAOUT starts out stuck low and then
                                                             recovers. As seen from the figure, the LTC4315 pulls FAULT
In Equation 3, VDD,BUS is the output bus supply voltage      and READY low and breaks the connection between the
and RBUS is the SDAOUT bus pull-up resistance.               input and output sides, when a stuck low condition on
For driven logic low voltages < 200mV Equation 3 does        SDA is detected. Clock pulses are then issued on SCLOUT
not apply as the saturation voltage of the open collector    to attempt to unstick the SDAOUT bus. When SDAOUT
output transistor results in a higher offset. However, for   recovers, clock pulsing is stopped, a stop bit is generated
any input logic low below 220mV, the output is guaranteed    on the output and FAULT and READY are released high. If
to be below a VOL of 400mV for bus pull-up currents up       DISCEN is low and a stuck bus event occurs, the FAULT
to 4mA. See the Typical Performance section for offset       flag is driven low but the input and output sides stay con-
variation as a function of the driven logic low voltage and  nected and no clocking or stop bit generation occurs. When
bus pull-up current.                                         powering up into a stuck low condition, a connection is
                                                             never made between the input and the output, as a stop
                                                             bit or bus idle condition is never detected. After a timeout
FALLING EDGE CHARACTERISTICS                                 period of 45ms, the FAULT flag is asserted low and the
The LTC4315 introduces a propagation delay on falling        behavior is the same as described previously.
edges due to the finite response time and finite current
sink capability of its buffers. In addition the LTC4315 also       READY
                                                                   5V/DIV
slew limits the falling edge to an edge rate of 45V/μs.
The slew limited falling edge eliminates fast transitions           FAULT
                                                                   5V/DIV
on the busses and minimizes transmission line effects                                   AUTOMATIC CLOCKING
in systems. Refer to the Typical Performance section for          SCLOUT
the propagation delay and fall times as a function of the          5V/DIV
                                                                                                             RECOVERS
                                                                                 DISCONNECT                       HIGH
bus capacitance.                                                   SDAIN          AT TIMEOUT
                                                                   5V/DIV
                                                                 SDAOUT                            STOP BIT     DRIVEN
                                                                   5V/DIV STUCK LOW > 45ms      GENERATED       LOW
                                                                                                                     4315 F05
                                                                                               1ms/DIV
                                                                   Figure 5. Bus Waveforms During SDAOUT Stuck Low
                                                                   and Recovery Event
                                                                                                                              4315f
                                                                                                                          11


LTC4315
APPLICATIONS INFORMATION
LIVE INSERTION, CAPACITANCE BUFFERING AND                              directly add together, making rise time requirements dif-
LEVEL TRANSLATION APPLICATION                                          ficult to meet. Placing an LTC4315 on the edge of each
Figures 6 illustrates an application of the LTC4315 that               card isolates the card capacitance from the backplane.
takes advantage of the LTC4315’s Hot Swap, capacitance                 For a given I/O card, the LTC4315 drives the capacitance
buffering and level translation features. If the I/O cards             of everything on the card and devices on the backplane
were plugged directly into the backplane without LTC4315               must drive only the small capacitance of the LTC4315
buffers, all of the backplane and card capacitances would              which is <10pF.
                                                 BACKPLANE   CARD
                                                 CONNECTOR CONNECTOR              I/O PERIPHERAL CARD 1
            5V
           3.3V                                                                                                                 C1
                                                                                                                                0.01μF
                                                                                          VCC         VCC2
                                                                                                                   R5    R6
                        R1    R2    R3    R4                                                                       10k   10k
                                                                                       DISCEN
                        10k   10k   10k   10k
                                                                              C2                         ACC
                                                                              0.01μF
                                                                                               LTC4315
         READY                                                                         READY
         FAULT                                                                         FAULT          SCLOUT                   CARD 1_SCL
           SCL                                                                         SCLIN        SDAOUT                     CARD 1_SDA
           SDA                                                                         SDAIN
       ENABLE 1                                                                        ENABLE
                                                                            R7                  GND
                                                                            10k
                                                                                                             sss
                                                                                  I/O PERIPHERAL CARD N
                                                                                                                                C3
                  sss
                                                                                                                                0.01μF
                                                                                          VCC         VCC2
                                                                                                                   R8    R9
                                                                                       DISCEN                      10k   10k
                                                                              C4                         ACC
                                                                              0.01μF
                                                                                               LTC4315
                                                                                       READY
                                                                                       FAULT          SCLOUT                   CARD N_SCL
                                                                                       SCLIN        SDAOUT                     CARD N_SDA
                                                                                       SDAIN
       ENABLE N                                                                        ENABLE
                                                                            R10                 GND
                                                                            10k
                                                                                                                                     4315 F06
                                Figure 6. LTC4315 in an I2C Hot Swap Application with a Staggered Connector
                                                                                                                                                4315f
12


                                                                                                               LTC4315
APPLICATIONS INFORMATION
In Figure 6, a staggered connector is used to connect the      in order to meet the VIH = 0.7 • VDD,BUS requirement and
LTC4315 to the backplane. VCC and GND are the longest          not impact the logic high noise margin. Voltage level
pins to ensure that the LTC4315 is powered and forcing         translation down to 1.4V is allowed, but the logic high
a 1V precharge voltage on the medium length SDA and            noise margin will be lowered. An example of voltage level
SCL pins before they contact the backplane. The 1V pre-        translation from 3.3V to 1.8V is illustrated in Figure 7,
charge voltage is applied to the SDA and SCL pins through      where a 3.3V input voltage bus is translated to a 1.8V
200k resistors. Since cards are being plugged into a live      output voltage bus. Tying VCC to 3.3V satisfies Equation 4.
backplane whose SDA and SCL busses could be at any             Grounding VCC2 disables the output RTAs. VMIN defaults
voltage between 0 and VCC, precharging the LTC4315’s           to VCC under these conditions, making the buffer turn-off
SDA and SCL pins to 1V minimizes disturbances to the           voltage 1.089V. A similar voltage translation can also be
backplane bus when cards are being plugged in. The low         performed going from a 3.3V bus supply on the output
(<10pF) input capacitance of the LTC4315 also contributes      side to a 1.8V bus supply on the input side if ACC is tied
to minimizing bus disturbance as cards are being plugged       high to disable the input RTAs and if VCC and VCC2 are
in. With ENABLE being the shortest pin and also pulled to      tied to the 3.3V bus supply.
GND by a resistor, the staggered approach provides ad-
ditional time for transients associated with live insertion to                          3.3V                   1.8V
settle before the LTC4315 can be enabled. A 10k or lower
pull-down resistor from ENABLE to GND is recommended.               C1
                                                                    0.01μF
                                                                            R1
                                                                            10k
                                                                                 R2
                                                                                 10k
                                                                                         VCC     VCC2
                                                                                                            R3
                                                                                                            10k
                                                                                                                  R4
                                                                                                                  10k
                                                                                                                      R5
                                                                                                                      10k
                                                                                                                          R6
                                                                                                                          10k
If a connector is used where all pins are of equal length,                             DISCEN
the benefit of the precharge circuit is lost. Also, the                                ENABLE
ENABLE signal to the LTC4315 must be held low until all                                    LTC4315
                                                                                                 READY                     READY
transients associated with the plugging in of a card into
                                                                    SCL1               SCLIN    SCLOUT                     SCL2
a live system die out.                                              SDA1               SDAIN   SDAOUT                      SDA2
                                                                                       ACC       FAULT                     FAULT
                                                                                             GND
LEVEL TRANSLATING TO VOLTAGES <2.25V                                                               4315 F07
The LTC4315 can be used for level translation to bus volt-
ages below 2.25V if certain conditions are met. In order
to perform this level translation, RTAs on the low voltage        Figure 7. Voltage Level Translation from 3.3V to 1.8V Using
side need to be disabled in order to prevent an overdrive         the LTC4315
of the low voltage bus. Since the maximum buffer turn-on
and turn-off voltages are 0.36 • VMIN, the minimum bus
supply voltage is determined by the following equation,
                     0.36 • VMIN
    VDD,BUS(MIN) ≥                                         (4)
                         0.7
                                                                                                                              4315f
                                                                                                                          13


LTC4315
APPLICATIONS INFORMATION
TELECOMMUNICATIONS SYSTEMS                                               being hot swapped. In Figure 8, the RTA of the LTC4315
The LTC4315 has several features that make it an excel-                  on the shelf manager supplies 2.5mA of pull-up current,
lent choice for use in telecommunications systems such                   allowing the 1μs rise time requirement to be met on the
as ATCA. Referring to Figures 8 and 9, buffers are used                  heavily loaded backplane for loads well beyond the 690pF
on the edges of the field replaceable units (FRUs) and                   maximum specification. The 0.33 • VMIN turn-off voltage
                                                                         of the LTC4315’s buffers provides a large logic low noise
shelf managers to shield devices on these cards from the
                                                                         margin in these systems.
large backplane capacitance. The input capacitance of the
LTC4315 is less than the 10pF maximum specification for                  In the bused ATCA application shown in Figure 8, the
buffers used in bussed ATCA applications. The LTC4315                    LTC4315s located on the shelf managers #1 and #2 and on
buffers can drive capacitances >1nF, which is greater than               the FRUs, drive the large backplane capacitance while the
the maximum backplane capacitance of 690pF in bused                      microcontrollers on the shelf managers and the I2C slave
ATCA systems. The precharge feature, the low input                       devices on the FRUs drive the small input capacitance of the
capacitance of the LTC4315 and the high impedance of                     LTC4315. The LTC4315 on only one of the shelf managers
the SDA and SCL pins of the LTC4315 when it is unpow-                    is enabled at any given time. The hot insertion logic on
ered, minimize disturbances to the bus when cards are                    the LTC4315 allows the FRUs to be plugged or unplugged
                                                                              FRU #1
                               SHELF MANAGER #1                   BACKPLANE
                        3.3V                                                                                   3.3V
                                                          R2                            VCC           VCC2         R3    R4
                            R1       VCC     VCC2                    IPMB-A
                            10k                           2.7k                               LTC4315               10k   10k
                                                                       SCL
                                   SCLIN        SCLOUT                                 SCLIN     SCLOUT
                 μP                        LTC4315                             3.3V    ACC
                                   ENABLE                                                                                        I2C
                                                                                               3.3V
                                   ACC                   IPMB-B                                                                DEVICE
            IPMB-B DETAILS (NOT SHOWN) ARE IDENTICAL TO IPMB-A                          VCC           VCC2
                                                                                             LTC4315
                                                                                       SCLIN     SCLOUT
                                                                               3.3V    ACC
                                                                              FRU #N
                                                                                                             sss
                                                                                                               3.3V
                                                                                        VCC           VCC2         R5    R6
                                                                                             LTC4315               10k   10k
                                                         IPMB-A                        SCLIN     SCLOUT
                                                                               3.3V    ACC
                                                                                               3.3V                              I2C
                                   SHELF MANAGER #2                                                                            DEVICE
                      IDENTICAL TO SHELF MANAGER #1
                                                                                        VCC           VCC2
                                                                     IPMB-B                  LTC4315
                                                                       SCL
                                                         IPMB-B                        SCLIN     SCLOUT
                                                                               3.3V    ACC
                                                                                                                                        4315 F08
                  Figure 8. LTC4315s Used in a Bused ATCA Application. Only the Clock Path Is Shown for Simplicity.
                                                                                                                                                   4315f
14


                                                                                                                                            LTC4315
APPLICATIONS INFORMATION
from a live backplane. The features mentioned previously                        Cascading and Interoperability with Other LTC Buffers
provide noise immunity and allow timing specifications to                       and Non-Compliant I2C Devices
be met for a wide range of backplane loading conditions.                        Multiple LTC4315s can be cascaded or the LTC4315 can be
In the 6 × 4 radial configuration shown in Figure 9, the                        cascaded with other LTC bus buffers. Cascades often exist
LTC4314s on the shelf managers and the LTC4315s on                              in large I2C systems, where multiple I/O cards having bus
the FRUs drive the large backplane capacitance while the                        buffers connect to a common backplane bus. Two issues
I2C slave devices on the FRUs only drive the small input                        need to be considered when using such cascades—the
capacitance of the LTC4315. The LTC4314s on only one                            additive nature of the buffer logic low offset voltages and the
of the shelf managers are enabled at a given time. All the                      impact of the RTA-buffer interaction on the noise margin.
benefits provided by the LTC4315 in Figure 8 apply to
Figure 9 as well.
                                                                                                   FRU #1
                          3.3V       SHELF MANAGER #1                         BACKPLANE
                                                                                                                                     3.3V
                               R1
                               10k        VCC    VCC2         R2                                              VCC           VCC2         R3    R4
                                           LTC4314#1          10k                IPMB-A                            LTC4315               10k   10k
                                                                                  SCL1
                                       SCLIN       SCLOUT1                                                   SCLIN     SCLOUT
                    ENABLE1A           ENABLE1     SCLOUT2                                          3.3V     ACC
          μP        ENABLE2A           ENABLE2     SCLOUT3
                                                                                                                     3.3V                              I2C
                    ENABLE3A           ENABLE3     SCLOUT4                                                                                           DEVICE
                    ENABLE4A           ENABLE4
                           3.3V        ACC                                                                    VCC           VCC2
                                                                                          IPMB-B                   LTC4315
                                                                                           SCL1
                                          3.3V   sss                                                         SCLIN     SCLOUT
                                                                                                    3.3V     ACC
                                          VCC    VCC2         R5                  sss              FRU #24
                                                                                                                                   sss
                                           LTC4314#6          10k
                                       SCLIN                                                                                         3.3V
                   ENABLE21A           ENABLE1     SCLOUT1
                   ENABLE22A           ENABLE2     SCLOUT2                                                    VCC           VCC2         R6    R7
                                                                                 IPMB-A
                   ENABLE23A           ENABLE3     SCLOUT3                                                         LTC4315               10k   10k
                                                                                  SCL24
                   ENABLE24A           ENABLE4     SCLOUT4                                                   SCLIN     SCLOUT
                           3.3V        ACC                            SCL1                          3.3V     ACC
                                                             IPMB-B   sss                                            3.3V                              I2C
     IPMB-B DETAILS (NOT SHOWN) ARE IDENTICAL TO IPMB-A                                                                                              DEVICE
                                                                      SCL24
                                                                                                              VCC           VCC2
                                                                                          IPMB-B                   LTC4315
                                                        IPMB-A(X24)                        SCL24
                                                                                                             SCLIN     SCLOUT
                                 SHELF MANAGER #2                     SCL1                          3.3V     ACC
                    IDENTICAL TO SHELF MANAGER #1
                                                        IPMB-B(X24)   sss                                                                                     4315 F09
                                                                      SCL24
               Figure 9. LTC4315s Used in a Radially Connected Telecommunications System in a 6 × 4 Arrangement. Only the
               Clock Path Is Shown for Simplicity. The Data Pathway Is Identical.
                                                                                                                                                                4315f
                                                                                                                                                       15


LTC4315
APPLICATIONS INFORMATION
First, when two or more buffers are connected in a cas-                  Figure 10 shows the LTC4315 operating on a bus shared
cade configuration, if the sum of the offsets across the                 with LTC4300A and LTC4307 buffers. The correspond-
cascade (refer to Equation 3 and the data sheets of the                  ing SCL waveforms are shown in Figure 11. The RTAs
corresponding buffers) plus the worst-case driven logic                  on the LTC4300A and the LTC4307 cannot be disabled.
low voltage exceeds the minimum buffer turn-off voltage,                 The backplane in Figure 11 has five I/O cards connected
signals will not be propagated across the cascade. The                   to it. Each I/O card has a LTC bus buffer on its outside
maximum driven logic low voltage must be set accord-                     edge for SDA/SCL hot swap onto the backplane. In this
ingly, for correct operation in such cascades.
Second, noise margin is affected by cascading the LTC4315                                             LTC4300A/
with buffers whose RTA turn-on voltage is lower than the                          SCL3
                                                                                                      LTC4307
                                                                                                      RTAs
LTC4315 buffer turn-off voltage. The VIL for the LTC4315                         2V/DIV               TURN ON
is set to 0.3 • VMIN to achieve high noise margin provided
that the LTC4315 buffers do not contend with RTAs of                                                   LTC4315
other products. To maximize logic low noise margin,                               SCL2                 BUFFERS
                                                                                                       TURN OFF
                                                                                 2V/DIV
disable the RTAs of the other LTC buffers if possible and
use the RTAs of the LTC4315 in cascading applications.                                                                 LTC4315
                                                                                  SCL1
To permit interoperability with other LTC buffers whose                          2V/DIV
                                                                                                                       RTA
                                                                                                                       TURNS ON
RTAs cannot be disabled, the LTC4315 senses the RTA                                                            1μs/DIV                    4315 F11
current and turns off its buffers below 0.3 • VMIN. This
eliminates contention between the LTC4315 buffers and                      Figure 11. Corresponding SCL Switching Waveforms. No Glitches
other RTAs, making the SDA/SCL waveforms monotonic.                        Are Seen.
                                                  I/O CARD #1                              I/O CARD #2 TO #4
                                                                   5V
                      3.3V
               C1
                         R1                                           R2                                                       R3
               0.01μF                    VCC   VCC2                                                           VCC
                         5k                                           2.7k                                                     2.7k
                                            LTC4315                                                        LTC4300A
                                                              SCL2
             SCL1                     SCLIN       SCLOUT                                              SCLIN       SCLOUT            SCL3
                                      ACC                                                                     GND
                                                                        *CB2
                                              GND
                                                                        690pF
                           CB1
                           100pF
                                                                                                I/O CARD #5
                       *PARASITIC BACKPLANE CAPACITANCE                                                       VCC              R4
                                                                                                                               5k
                                                                                                            LTC4307
                                                                                                      SCLIN       SCLOUT            SCL4
                                                                                                              GND
                                                                   BACKPLANE
                                                                                                                                    4315 F10
Figure 10. The LTC4315 Operating in a Cascade with Other LTC Buffers with Active RTAs. Only the Clock Pathway Is Shown for Simplicity
                                                                                                                                                   4315f
16


                                                                                                                     LTC4315
APPLICATIONS INFORMATION
example, there are three LTC4300As, one LTC4307 and                                 1000
one LTC4315. The SCL1 bus is driven by an I2C master
(master not shown). When the SCL2 voltage crosses
0.6V and 0.8V, the RTAs on the LTC4300A and LTC4307
turn on respectively and source current into SCL2. The
LTC4315 detects this and turns off its buffers, releasing               CBUS (pF)    100
                                                                                                               M=1
SCL1 and SCL2 high. Contention between the LTC4315
                                                                                                               M=2
buffers and the LTC4300A and LTC4307 RTAs is prevented
                                                                                                         M=3
and the SCL1, SCL2 and SCL3 waveforms in Figure 11 are
monotonic. The logic low noise margin is reduced because
                                                                                      10
the LTC4315 buffers turn off when the SCL1 voltage is                                      0   2   4       6    8          10
                                                                                                   RBUS (kΩ)
approximately 0.6V.                                                                                                  4315 F12
Generally, noise margin will be reduced if other RTAs           Figure 12. Recommended Maximum R1 and CB1 Values for the
turn on at a voltage less than 0.3 • VMIN. The reduction        LTC4315 Operating with Multiple LTC4300As in a 3.3V System.
in noise margin is a function of the number of LTC4315s
and the number and turn-on voltage of other RTAs, whose
current must be sunk by the LTC4315 buffers. The same                       10000
arguments apply for non-LTC buffer products whose RTA
turn-on voltage is less than 0.3 • VMIN.
Interoperability is improved by reducing the interaction time
                                                                       CBUS (pF)
between the LTC4315 buffers and other RTAs by reducing                             1000
R1 and CB1. The following guidelines are recommended
for single supply systems,                                                                            M=1
a. For 5V systems choose R1 < 20k and CB1 < 1nF. There
   are no other constraints.
                                                                                    100
                                                                                           0   2   4       6    8         10
b. For 3.3V systems, refer to Figures 12 and 13 for opera-                                         RBUS (kΩ)
   tion with LTC4300As and LTC4307s. In the figures:                                                                 4315 F13
        Number of LTC4300As or LTC4307s
   M=                                                           Figure 13. Recommended Maximum R1 and CB1 Values for the
              Number of LTC4315s                                LTC4315 Operating with Multiple LTC4307s in a 3.3V System.
R1 and CB1 must be chosen to be below the curves for a
specific value of M. For M greater than the values shown
in the figures, non-idealities do not result. R1 < 20k and
CB1 <1nF are still recommended.
                                                                                                                                 4315f
                                                                                                                                17


LTC4315
APPLICATIONS INFORMATION
The LTC4315 is interoperable with non-compliant I2C                                       Repeater Application
devices that drive a high VOL > 0.4V. Figure 14 shows the                                 Multiple LTC4315s can be cascaded in a repeater applica-
LTC4315 in an application where a microcontroller com-
                                                                                          tion where a large 2-wire system is broken into smaller
municates through the LTC4315 with a non-compliant I2C
                                                                                          sections as shown in Figure 15. The high noise margin
device that drives a VOL of 0.6V. The LTC4313 buffers are
                                                                                          and low offset of the LTC4315 allows multiple devices
active up to a bus voltage of 0.3 • VMIN which is 1.089V in
                                                                                          to be cascaded while still providing good system level
this case, yielding a noise margin of 0.489V.
                                                                                          noise margin. In the repeater circuit shown in Figure 15,
                                             3.3V                5V                       if SCL1/SDA1 is driven externally to 200mV, SCL2/SDA2
    C1
                                                                                          is regulated to ~440mV worst-case by the cascade of
            R1    R2    R3     R4                            R5     R6
    0.01μF
            10k   10k   10k    10k
                                      VCC          VCC2
                                                             10k    10k                   LTC4315s. The buffer turn-off voltage is 1.089V yielding
                                          LTC4315
                                      DISCEN                                              a minimum logic low noise margin of ~650mV. In Figure
                                      ENABLE                                              15, use of RTAs combined with an increased level of
                                      FAULT
                                                                                          buffering reduces transition times and permits operation
 μP                                   READY
                                      SCLIN    SCLOUT
                                                                                          at a higher frequency.
                                      SDAIN    SDAOUT
                                      ACC
                                                                  NON-COMPLIANT
                                             GND                      I2C DEVICE
                                                    4315 F14
                                                                      VOL = 0.6V
   Figure 14. Communication with a Non-Compliant I2C Device
   Using the LTC4315.
                              3.3V
           C1        R1    R2                                 R3     R4                            R5   R6                      R7  R8  R9  R10
                                    VCC       VCC2                              VCC      VCC2                 VCC     VCC2
           0.01μF    10k   10k                                10k    10k                           10k  10k                     10k 10k 10k 10k
                                   DISCEN                                      DISCEN                        DISCEN
                                   ENABLE READY                                ENABLE READY                  ENABLE READY                     READY
                                       LTC4315                                     LTC4315                      LTC4315
             SCL1                  SCLIN   SCLOUT                              SCLIN   SCLOUT                SCLIN SCLOUT                     SCL2
             SDA1                  SDAIN SDAOUT                                SDAIN SDAOUT                  SDAIN SDAOUT                     SDA2
                                   ACC       FAULT                             ACC      FAULT                ACC     FAULT                    FAULT
                                         GND                                         GND                          GND
                                                                                                                       4315 F15
                                                      Figure 15. LTC4315s in a Repeater Application
                                                                                                                                                    4315f
18


                                                                                                                                                                                         LTC4315
PACKAGE DESCRIPTION
Please refer to http://www.linear.com/designtools/packaging/ for the most recent package drawings.
                                                                                                 MS Package
                                                                                        12-Lead Plastic MSOP
                                                                            (Reference LTC DWG # 05-08-1668 Rev Ø)
                                                                                                                                                                        4.039 ± 0.102
                                                                                                                                                                         (.159 ± .004)
                                                    0.889 ± 0.127                                                                                                          (NOTE 3)          0.406 ± 0.076
                                                    (.035 ± .005)
                                                                                                                                                                       12 11 10 9 8 7         (.016 ± .003)
                                                                                                                                                                                                    REF
                  5.23                                                                                DETAIL “A”                                                                           3.00 ± 0.102
                                                      3.20 – 3.45                         0.254                                                      4.90 ± 0.152
                 (.206)                                                                                                                                                                   (.118 ± .004)
                  MIN                                (.126 – .136)                        (.010)                                                     (.193 ± .006)                           (NOTE 4)
                                                                                                               0° – 6° TYP
                                                                         GAUGE PLANE
                                                                                                                       0.53 ± 0.152
                                                                                                                                                                       1 2 3 4 5 6
         0.42 ± 0.038                                 0.65                                                             (.021 ± .006)                          1.10                              0.86
       (.0165 ± .0015)                              (.0256)                                                                                                                                    (.034)
                                                                                                                                                             (.043)
             TYP                                      BSC                                               DETAIL “A”
                                                                                                                                                              MAX                               REF
                                                                           0.18                                                        SEATING
                   RECOMMENDED SOLDER PAD LAYOUT
                                                                          (.007)                                                         PLANE
                                                                                                                                                   0.22 – 0.38                                   0.1016 ± 0.0508
         NOTE:
         1. DIMENSIONS IN MILLIMETER/(INCH)
                                                                                                                                                  (.009 – .015)                                    (.004 ± .002)
                                                                                                                                                        TYP          0.650
         2. DRAWING NOT TO SCALE                                                                                                                                    (.0256)
                                                                                                                                                                                              MSOP (MS12) 1107 REV Ø
         3. DIMENSION DOES NOT INCLUDE MOLD FLASH, PROTRUSIONS OR GATE BURRS.                                                                                         BSC
            MOLD FLASH, PROTRUSIONS OR GATE BURRS SHALL NOT EXCEED 0.152mm (.006") PER SIDE
         4. DIMENSION DOES NOT INCLUDE INTERLEAD FLASH OR PROTRUSIONS.
            INTERLEAD FLASH OR PROTRUSIONS SHALL NOT EXCEED 0.152mm (.006") PER SIDE
         5. LEAD COPLANARITY (BOTTOM OF LEADS AFTER FORMING) SHALL BE 0.102mm (.004") MAX
                                                                                              DE/UE Package
                                                                              12-Lead Plastic DFN (4mm × 3mm)
                                                                            (Reference LTC DWG # 05-08-1695 Rev D)
                                                                                                        4.00 ±0.10                                                        R = 0.115                 0.40 ± 0.10
                                                                                                        (2 SIDES)                                                               TYP
                                                                                                                                                                     7                        12
                                                         0.70 ±0.05                                                                           R = 0.05
                                                                                                                                                   TYP
                                  3.30 ±0.05                                                                                                                                  3.30 ±0.10
3.60 ±0.05                                                                                                                         3.00 ±0.10
       2.20 ±0.05       1.70 ± 0.05                                                                                                 (2 SIDES)                      1.70 ± 0.10
                                                                                 PIN 1                                                                                                                      PIN 1 NOTCH
                                                                             TOP MARK                                                                                                                       R = 0.20 OR
                                                             PACKAGE          (NOTE 6)                                                                                                                      0.35 × 45°
                                                             OUTLINE                                                                                                                                        CHAMFER
                                                                                                                                                                   6                            1           (UE12/DE12) DFN 0806 REV D
                        0.25 ± 0.05                                               0.200 REF                                        0.75 ±0.05                      0.25 ± 0.05
                                             0.50 BSC                                                                                                                                     0.50 BSC
                                   2.50 REF                                                                                                                                    2.50 REF
          RECOMMENDED SOLDER PAD PITCH AND DIMENSIONS                                                                                       0.00 – 0.05           BOTTOM VIEW—EXPOSED PAD
       APPLY SOLDER MASK TO AREAS THAT ARE NOT SOLDERED
      NOTE:
      1. DRAWING PROPOSED TO BE A VARIATION OF VERSION
         (WGED) IN JEDEC PACKAGE OUTLINE M0-229
      2. DRAWING NOT TO SCALE
      3. ALL DIMENSIONS ARE IN MILLIMETERS
      4. DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE
         MOLD FLASH. MOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.15mm ON ANY SIDE
      5. EXPOSED PAD SHALL BE SOLDER PLATED
      6. SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION
         ON THE TOP AND BOTTOM OF PACKAGE
                                                                                                                                                                                                                             4315f
                                                   Information furnished by Linear Technology Corporation is believed to be accurate and reliable.
                                                   However, no responsibility is assumed for its use. Linear Technology Corporation makes no representa-
                                                   tion that the interconnection of its circuits as described herein will not infringe on existing patent rights.                                              19


LTC4315
TYPICAL APPLICATION
                          Cascaded Application with Level Shifting and Operation with a Non-Compliant I2C Device.
                    2.5V                                       3.3V                                                      5V
                     R1    R2                                      R3    R4        C1                                       R5     R6
                                        VCC      VCC2                                              VCC      VCC2
                     10k   10k                                     10k   10k       0.01μF                                   10k    10k
                                     DISCEN                                                     DISCEN
                                     ENABLE       READY                                         ENABLE       READY
                                           LTC4315                                                    LTC4315
           SCL1                      SCLIN      SCLOUT                                          SCLIN       SCLOUT                               SCL2
           SDA1                      SDAIN      SDAOUT                                          SDAIN      SDAOUT                                SDA2
                                     ACC          FAULT                 BACKPLANE OR            ACC          FAULT
                                             GND                        LONG CABLE RUN                  GND
                                                                                                                                NON-COMPLIANT
                                                                                                                                I2C DEVICE
                                                                                                                                VOL = 0.6V
                                                                                                                                             4315 TA02
RELATED PARTS
PART NUMBER DESCRIPTION                                       COMMENTS
LTC4300A-1/       Hot-Swappable 2-Wire Bus Buffers            -1: Bus Buffer with READY and ENABLE
LTC4300A-2/                                                   -2: Dual Supply Buffer with ACC
LTC4300A-3                                                    -3: Dual Supply Buffer and ENABLE
LTC4302-1/        Addressable 2-Wire Bus Buffer               Address Expansion, GPIO, Software Controlled
LTC4302-2
LTC4303/          Hot-Swappable 2-Wire Bus Buffer with        Provides Automatic Clocking to Free Stuck I2C Busses
LTC4304           Stuck Bus Recovery
LTC4305/          2- or 4-Channel, 2 Wire Bus                 Two or Four Software Selectable Downstream Busses, Stuck Bus Disconnect, Rise Time
LTC4306           Multiplexers with Capacitance Buffering     Accelerators, Fault Reporting, ±10kV HBM ESD
LTC4307           Low Offset Hot-Swappable 2-Wire Bus         60mV Bus Offset, 30ms Stuck Bus Disconnect and Recovery, Rise Time Accelerators, ±5kV
                  Buffer with Stuck Bus Recovery              HBM ESD
LTC4307-1         High Definition Multimedia Interface        60mV Buffer Offset, 3.3V to 5V Level Shifting, ±5kV HBM ESD
                  (HDMI) Level Shifting 2-Wire Bus Buffer
LTC4308           Low Voltage, Level Shifting                 Bus Buffer with 1V Precharge, ENABLE and READY, 0.9V to 5.5V Level Translation, 30ms
                  Hot-Swappable 2-Wire Bus Buffer with        Stuck Bus Disconnect and Recovery, Output Side Rise Time Accelerators, ±6kV HBM ESD
                  Stuck Bus Recovery
LTC4309           Low Offset Hot-Swappable 2-Wire Bus         60mV Buffer Offset, 30ms Stuck Bus Disconnect and Recovery, Rise Time Accelerators, ±5kV
                  Buffer with Stuck Bus Recovery              HBM ESD, 1.8V to 5.5V Level Translation
LTC4310-1/        Hot-Swappable I2C Isolators                 Bidirectional I2C Communication Between Two Isolated Busses, LTC4310-1: 100kHz Bus,
LTC4310-2                                                     LTC4310-2: 400kHz Bus
LTC4311           Low Voltage I2C/SMBus Accelerator           Rise Time Acceleration with ENABLE, ±8kV HBM ESD
LTC4312/          2- or 4-Channel, Hardware Selectable 2      Two or Four Pin Selectable Downstream Busses, VIL Up to 0.3 • VCC, Stuck Bus Disconnect,
LTC4314           Wire Bus Multiplexers with Capacitance      Rise Time Accelerators, 45ms Stuck Bus Disconnect and Recovery, ±4kV HBM ESD
                  Buffering
LTC4313-1/        High Noise Margin 2-Wire Bus Buffers        VIL = 0.3 • VCC, Rise Time Accelerators, Stuck Bus Disconnect, 1V Precharge, ±4kV HBM ESD
LTC4313-2/
LTC4313-3
                                                                                                                                                             4315f
20 Linear Technology Corporation
                                                                                                                                         LT 1011 • PRINTED IN USA
            1630 McCarthy Blvd., Milpitas, CA 95035-7417
            (408) 432-1900 ● FAX: (408) 434-0507   ●  www.linear.com                                                   © LINEAR TECHNOLOGY CORPORATION 2011


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 LTC4315CDE#PBF LTC4315IMS#PBF LTC4315CMS#TRPBF LTC4315IMS#TRPBF LTC4315IDE#TRPBF
LTC4315CDE#TRPBF LTC4315IDE#PBF LTC4315CMS#PBF
