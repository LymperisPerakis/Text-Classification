                                                             QUAD CHANNEL T1/E1/J1 LONG HAUL/
                                                             SHORT HAUL LINE INTERFACE UNIT                                                  IDT82V2084
FEATURES:
•      Four channel T1/E1/J1 long haul/short haul line interfaces                   -  Active level of transmit data (TDATA) and receive data (RDATA)
•      Supports HPS (Hitless Protection Switching) for 1+1 protection               -  Receiver or transmitter power down
       without external relays                                                      -  High impedance setting for line drivers
•      Receiver sensitivity exceeds -36 dB@772KHz and -43 dB@1024                   -  PRBS (Pseudo Random Bit Sequence) generation and detection
       KHz                                                                            with 215-1 PRBS polynomials for E1
•      Programmable T1/E1/J1 switchability allowing one bill of ma-                 - QRSS (Quasi Random Sequence Signals) generation and detection
       terial for any line condition
                                                                                      with 220-1 QRSS polynomials for T1/J1
•      Single 3.3 V power supply with 5 V tolerance on digital interfaces
                                                                                    - 16-bit BPV (Bipolar Pulse Violation)/Excess Zero/PRBS or QRSS
•      Meets or exceeds specifications in
                                                                                      error counter
       - ANSI T1.102, T1.403 and T1.408
                                                                                    - Analog loopback, Digital loopback, Remote loopback and Inband
       - ITU I.431, G.703,G.736, G.775 and G.823
                                                                                      loopback
       - ETSI 300-166, 300-233 and TBR 12/13
                                                                               •    Per channel cable attenuation indication
       - AT&T Pub 62411
                                                                               •    Adaptive receive sensitivity
•      Per channel software selectable on:
                                                                               •    Non-intrusive monitoring per ITU G.772 specification
       - Wave-shaping templates for short haul and long haul LBO (Line Build
                                                                               •    Short circuit protection for line drivers
         Out)
                                                                               •    LOS (Loss Of Signal) & AIS (Alarm Indication Signal) detection
       - Line terminating impedance (T1:100 Ω, J1:110 Ω, E1:75 Ω/120 Ω)
                                                                               •    JTAG interface
       - Adjustment of arbitrary pulse shape
                                                                               •    Supports serial control interface, Motorola and Intel Non-Multi-
       - JA (Jitter Attenuator) position (receive path or transmit path)
                                                                                    plexed interfaces
       - Single rail/dual rail system interfaces
                                                                               •    Package:
      - B8ZS/HDB3/AMI line encoding/decoding
                                                                                    IDT82V2084: 128-pin TQFP
       - Active edge of transmit clock (TCLK) and receive clock (RCLK)
DESCRIPTION:
    The IDT82V2084 can be configured as a quad T1, quad E1 or quad J1          both serial and parallel control interfaces. To facilitate the network mainte-
Line Interface Unit. In receive path, an Adaptive Equalizer is integrated to   nance, a PRBS/QRSS generation/detection circuit is integrated in each
remove the distortion introduced by the cable attenuation. The IDT82V2084      channel, and different types of loopbacks can be set on a per channel basis.
also performs clock/data recovery, AMI/B8ZS/HDB3 line decoding and             Four different kinds of line terminating impedance, 75Ω, 100 Ω, 110 Ω and
detects and reports the LOS conditions. In transmit path, there is an AMI/     120 Ω are selectable on a per channel basis. The chip also provides driver
B8ZS/HDB3 encoder, Waveform Shaper and LBOs. There is one Jitter               short-circuit protection and supports JTAG boundary scanning.
Attenuator for each channel, which can be placed in either the receive path
                                                                                  The IDT82V2084 can be used in SDH/SONET, LAN, WAN, Routers,
or the transmit path. The Jitter Attenuator can also be disabled. The
                                                                               Wireless Base Stations, IADs, IMAs, IMAPs, Gateways, Frame Relay
IDT82V2084 supports both Single Rail and Dual Rail system interfaces and
                                                                               Access Devices, CSU/DSU equipment, etc.
The IDT logo is a registered trademark of Integrated Device Technology, Inc.
INDUSTRIAL TEMPERATURE RANGES                                                                                                February 11, 2009
                                                                             1
 2003 Integrated Device Technology, Inc. All rights reserved.                                                                                     DSC-6221/5


                                                                                                                                              One of the Four Identical Channels
                                                                LOS/AIS
                                LOSn
                                                                Detector
                                RCLKn                             B8ZS/                            Clock and                                              Receiver                           RTIPn
                                                                                    Jitter                            Data               Adaptive          Internal
                             RDn/RDPn                           HDB3/AMI                             Data
                                                                                 Attenuator                           Slicer             Equalizer       Termination                         RRINGn
                             CVn/RDNn                            Decoder                           Recovery
                                                                                                                                                                                                      FUNCTIONAL BLOCK DIAGRAM
                                        PRBS Detector                  Remote                  Digital                                                                  Analog
                                        IBLC Detector                 Loopback                Loopback                                                                 Loopback
                                TCLKn                             B8ZS/                                                                                 Transmitter                          TTIPn
                                                                                    Jitter                Waveform               Line
2                            TDn/TDPn                           HDB3/AMI                                                                                  Internal
                                                                                 Attenuator              Shaper/LBO             Driver
                                 TDNn                            Encoder                                                                                Termination                          TRINGn
                                        PRBS Generator
                                        IBLC Generator
                                            TAOS
    Figure-1 Block Diagram
                                                                                                                                                                                                                                      QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                 Microprocessor                                                                          VDDD      G.772
                                          Clock                                                                        Basic
                                                                                    Interface                                                JTAG TAP                    VDDIO
                                         Generator                                                                    Control                                                      Monitor
                                                                                                                                                                         VDDA
                                                                                                                                                                         VDDT
                                                                                                                                                                         VDDR
                                                                           SCLKE
                                                                           INT/MOT                                    RST                 TDO
                                                                                                                                          TDI
                                                                           P/S                                        REF                 TMS
                                                                           A[7:0]
                                                                           D[7:0]                                     THZ                 TCK
                                            MCLK
                                                        MCLKS               INT                                                           TRST
                                                                           SDO
                                                                           SDI/R/W/WR
                                                                            DS/RD
                                                                           SCLK
                                                                            CS
                                                                                                                                                                                                                                          INDUSTRIAL
                                                                                                                                                                                                                                 TEMPERATURE RANGES


                                                                                                                              INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                             TEMPERATURE RANGES
TABLE OF CONTENTS
1   IDT82V2084 PIN CONFIGURATIONS .......................................................................................... 8
2   PIN DESCRIPTION ....................................................................................................................... 9
3   FUNCTIONAL DESCRIPTION .................................................................................................... 14
    3.1   T1/E1/J1 MODE SELECTION .......................................................................................... 14
    3.2   TRANSMIT PATH ............................................................................................................. 14
          3.2.1 TRANSMIT PATH SYSTEM INTERFACE.............................................................. 14
          3.2.2 ENCODER .............................................................................................................. 14
          3.2.3 PULSE SHAPER .................................................................................................... 14
                 3.2.3.1 Preset Pulse Templates .......................................................................... 14
                 3.2.3.2 LBO (Line Build Out) ............................................................................... 15
                 3.2.3.3 User-Programmable Arbitrary Waveform ................................................ 15
          3.2.4 TRANSMIT PATH LINE INTERFACE..................................................................... 19
          3.2.5 TRANSMIT PATH POWER DOWN ........................................................................ 19
    3.3   RECEIVE PATH ............................................................................................................... 20
          3.3.1 RECEIVE INTERNAL TERMINATION.................................................................... 20
          3.3.2 LINE MONITOR ...................................................................................................... 21
          3.3.3 ADAPTIVE EQUALIZER......................................................................................... 21
          3.3.4 RECEIVE SENSITIVITY ......................................................................................... 21
          3.3.5 DATA SLICER ........................................................................................................ 21
          3.3.6 CDR (Clock & Data Recovery)................................................................................ 21
          3.3.7 DECODER .............................................................................................................. 21
          3.3.8 RECEIVE PATH SYSTEM INTERFACE ................................................................ 21
          3.3.9 RECEIVE PATH POWER DOWN........................................................................... 21
          3.3.10 G.772 NON-INTRUSIVE MONITORING ................................................................ 22
    3.4   JITTER ATTENUATOR .................................................................................................... 23
          3.4.1 JITTER ATTENUATION FUNCTION DESCRIPTION ............................................ 23
          3.4.2 JITTER ATTENUATOR PERFORMANCE ............................................................. 23
    3.5   LOS AND AIS DETECTION ............................................................................................. 24
          3.5.1 LOS DETECTION ................................................................................................... 24
          3.5.2 AIS DETECTION .................................................................................................... 25
    3.6   TRANSMIT AND DETECT INTERNAL PATTERNS ........................................................ 26
          3.6.1 TRANSMIT ALL ONES ........................................................................................... 26
          3.6.2 TRANSMIT ALL ZEROS......................................................................................... 26
          3.6.3 PRBS/QRSS GENERATION AND DETECTION.................................................... 26
    3.7   LOOPBACK ...................................................................................................................... 26
          3.7.1 ANALOG LOOPBACK ............................................................................................ 26
          3.7.2 DIGITAL LOOPBACK ............................................................................................. 26
          3.7.3 REMOTE LOOPBACK............................................................................................ 26
          3.7.4 INBAND LOOPBACK.............................................................................................. 28
                 3.7.4.1 Transmit Activate/Deactivate Loopback Code......................................... 28
                 3.7.4.2 Receive Activate/Deactivate Loopback Code.......................................... 28
                 3.7.4.3 Automatic Remote Loopback .................................................................. 28
                                                            3


                                                                                                                         INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                         TEMPERATURE RANGES
    3.8   ERROR DETECTION/COUNTING AND INSERTION ...................................................... 29
          3.8.1 DEFINITION OF LINE CODING ERROR ............................................................... 29
          3.8.2 ERROR DETECTION AND COUNTING ................................................................ 29
          3.8.3 BIPOLAR VIOLATION AND PRBS ERROR INSERTION ...................................... 30
    3.9   LINE DRIVER FAILURE MONITORING ........................................................................... 30
    3.10  MCLK AND TCLK ............................................................................................................. 31
          3.10.1 MASTER CLOCK (MCLK) ...................................................................................... 31
          3.10.2 TRANSMIT CLOCK (TCLK).................................................................................... 31
    3.11  MICROCONTROLLER INTERFACES ............................................................................. 32
          3.11.1 PARALLEL MICROCONTROLLER INTERFACE................................................... 32
          3.11.2 SERIAL MICROCONTROLLER INTERFACE ........................................................ 32
    3.12  INTERRUPT HANDLING .................................................................................................. 33
    3.13  5V TOLERANT I/O PINS .................................................................................................. 33
    3.14  RESET OPERATION ........................................................................................................ 33
    3.15  POWER SUPPLY ............................................................................................................. 33
4   PROGRAMMING INFORMATION .............................................................................................. 34
    4.1   REGISTER LIST AND MAP ............................................................................................. 34
    4.2   REGISTER DESCRIPTION .............................................................................................. 36
          4.2.1 GLOBAL REGISTERS............................................................................................ 36
          4.2.2 JITTER ATTENUATION CONTROL REGISTER ................................................... 37
          4.2.3 TRANSMIT PATH CONTROL REGISTERS........................................................... 38
          4.2.4 RECEIVE PATH CONTROL REGISTERS ............................................................. 40
          4.2.5 NETWORK DIAGNOSTICS CONTROL REGISTERS ........................................... 42
          4.2.6 INTERRUPT CONTROL REGISTERS ................................................................... 45
          4.2.7 LINE STATUS REGISTERS ................................................................................... 48
          4.2.8 INTERRUPT STATUS REGISTERS ...................................................................... 51
          4.2.9 COUNTER REGISTERS ........................................................................................ 52
          4.2.10 TRANSMIT AND RECEIVE TERMINATION REGISTER ....................................... 53
5   IEEE STD 1149.1 JTAG TEST ACCESS PORT ........................................................................ 54
    5.1   JTAG INSTRUCTIONS AND INSTRUCTION REGISTER ............................................... 55
    5.2   JTAG DATA REGISTER ................................................................................................... 55
          5.2.1 DEVICE IDENTIFICATION REGISTER (IDR) ........................................................ 55
          5.2.2 BYPASS REGISTER (BR)...................................................................................... 55
          5.2.3 BOUNDARY SCAN REGISTER (BSR) .................................................................. 55
          5.2.4 TEST ACCESS PORT CONTROLLER .................................................................. 56
6   TEST SPECIFICATIONS ............................................................................................................ 58
7   MICROCONTROLLER INTERFACE TIMING CHARACTERISTICS ......................................... 70
    7.1   SERIAL INTERFACE TIMING .......................................................................................... 70
    7.2   PARALLEL INTERFACE TIMING ..................................................................................... 71
                                                        4


                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
LIST OF TABLES
Table-1     Pin Description ................................................................................................................ 9
Table-2     Transmit Waveform Value For E1 75 Ω ........................................................................ 16
Table-3     Transmit Waveform Value For E1 120 Ω ...................................................................... 16
Table-4     Transmit Waveform Value For T1 0~133 ft................................................................... 16
Table-5     Transmit Waveform Value For T1 133~266 ft............................................................... 16
Table-6     Transmit Waveform Value For T1 266~399 ft............................................................... 17
Table-7     Transmit Waveform Value For T1 399~533 ft............................................................... 17
Table-8     Transmit Waveform Value For T1 533~655 ft............................................................... 17
Table-9     Transmit Waveform Value For J1 0~655 ft ................................................................... 17
Table-10    Transmit Waveform Value For DS1 0 dB LBO.............................................................. 18
Table-11    Transmit Waveform Value For DS1 -7.5 dB LBO ......................................................... 18
Table-12    Transmit Waveform Value For DS1 -15.0 dB LBO ....................................................... 18
Table-13    Transmit Waveform Value For DS1 -22.5 dB LBO ....................................................... 18
Table-14    Impedance Matching for Transmitter ............................................................................ 19
Table-15    Impedance Matching for Receiver ................................................................................ 20
Table-16    Criteria of Starting Speed Adjustment........................................................................... 23
Table-17    LOS Declare and Clear Criteria for Short Haul Mode ................................................... 24
Table-18    LOS Declare and Clear Criteria for Long Haul Mode.................................................... 25
Table-19    AIS Condition ................................................................................................................ 25
Table-20    Criteria for Setting/Clearing the PRBS_S Bit ................................................................ 26
Table-21    EXZ Definition ............................................................................................................... 29
Table-22    Interrupt Event............................................................................................................... 33
Table-23    Global Register List and Map........................................................................................ 34
Table-24    Per Channel Register List and Map .............................................................................. 35
Table-25    ID: Chip Revision Register ............................................................................................ 36
Table-26    RST: Reset Register ..................................................................................................... 36
Table-27    GCF0: Global Configuration Register 0 ........................................................................ 36
Table-28    GCF1: Global Configuration Register 1 ........................................................................ 37
Table-29    INTCH: Interrupt Channel Indication Register............................................................... 37
Table-30    JACF: Jitter Attenuator Configuration Register ............................................................. 37
Table-31    TCF0: Transmitter Configuration Register 0 ................................................................. 38
Table-32    TCF1: Transmitter Configuration Register 1 ................................................................. 38
Table-33    TCF2: Transmitter Configuration Register 2 ................................................................. 39
Table-34    TCF3: Transmitter Configuration Register 3 ................................................................. 39
Table-35    TCF4: Transmitter Configuration Register 4 ................................................................. 39
Table-36    RCF0: Receiver Configuration Register 0..................................................................... 40
Table-37    RCF1: Receiver Configuration Register 1..................................................................... 41
Table-38    RCF2: Receiver Configuration Register 2..................................................................... 42
Table-39    MAINT0: Maintenance Function Control Register 0...................................................... 42
Table-40    MAINT1: Maintenance Function Control Register 1...................................................... 43
                                                              5


                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
Table-41    MAINT2: Maintenance Function Control Register 2......................................................                          43
Table-42    MAINT3: Maintenance Function Control Register 3......................................................                          43
Table-43    MAINT4: Maintenance Function Control Register 4......................................................                          44
Table-44    MAINT5: Maintenance Function Control Register 5......................................................                          44
Table-45    MAINT6: Maintenance Function Control Register 6......................................................                          44
Table-46    INTM0: Interrupt Mask Register 0 .................................................................................             45
Table-47    INTM1: Interrupt Mask Register 1 .................................................................................             46
Table-48    INTES: Interrupt Trigger Edges Select Register ...........................................................                     47
Table-49    STAT0: Line Status Register 0 (real time status monitor).............................................                          48
Table-50    STAT1: Line Status Register 1 (real time status monitor).............................................                          50
Table-51    INTS0: Interrupt Status Register 0 ................................................................................            51
Table-52    INTS1: Interrupt Status Register 1 ................................................................................            52
Table-53    CNT0: Error Counter L-byte Register 0.........................................................................                 52
Table-54    CNT1: Error Counter H-byte Register 1 ........................................................................                 52
Table-55    TERM: Transmit and Receive Termination Configuration Register ..............................                                   53
Table-56    Instruction Register Description ....................................................................................          55
Table-57    Device Identification Register Description.....................................................................                55
Table-58    TAP Controller State Description ..................................................................................            56
Table-59    Absolute Maximum Rating ............................................................................................           58
Table-60    Recommended Operation Conditions ...........................................................................                   58
Table-61    Power Consumption......................................................................................................        59
Table-62    DC Characteristics ........................................................................................................    59
Table-63    E1 Receiver Electrical Characteristics ..........................................................................              60
Table-64    T1/J1 Receiver Electrical Characteristics......................................................................                61
Table-65    E1 Transmitter Electrical Characteristics ......................................................................               62
Table-66    T1/J1 Transmitter Electrical Characteristics..................................................................                 63
Table-67    Transmitter and Receiver Timing Characteristics .........................................................                      64
Table-68    Jitter Tolerance ............................................................................................................. 65
Table-69    Jitter Attenuator Characteristics ....................................................................................         67
Table-70    JTAG Timing Characteristics ........................................................................................           69
Table-71    Serial Interface Timing Characteristics .........................................................................              70
Table-72    Non_multiplexed Motorola Read Timing Characteristics ..............................................                            71
Table-73    Non_multiplexed Motorola Write Timing Characteristics ..............................................                           72
Table-74    Non_multiplexed Intel Read Timing Characteristics .....................................................                        73
Table-75    Non_multiplexed Intel Write Timing Characteristics......................................................                       74
                                                              6


                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
LIST OF FIGURES
Figure-1    Block Diagram ................................................................................................................. 2
Figure-2    IDT82V2084 TQFP128 Package Pin Assignment .......................................................... 8
Figure-3    E1 Waveform Template Diagram .................................................................................. 14
Figure-4    E1 Pulse Template Test Circuit ..................................................................................... 14
Figure-5    DSX-1 Waveform Template .......................................................................................... 14
Figure-6    T1 Pulse Template Test Circuit ..................................................................................... 15
Figure-7    Receive Path Function Block Diagram .......................................................................... 20
Figure-8    Transmit/Receive Line Circuit ....................................................................................... 20
Figure-9    Monitoring Receive Line in Another Chip ...................................................................... 21
Figure-10   Monitor Transmit Line in Another Chip .......................................................................... 21
Figure-11   G.772 Monitoring Diagram ............................................................................................ 22
Figure-12   Jitter Attenuator ............................................................................................................. 23
Figure-13   LOS Declare and Clear ................................................................................................. 24
Figure-14   Analog Loopback .......................................................................................................... 27
Figure-15   Digital Loopback ............................................................................................................ 27
Figure-16   Remote Loopback ......................................................................................................... 27
Figure-17   Auto Report Mode ......................................................................................................... 29
Figure-18   Manual Report Mode ..................................................................................................... 30
Figure-19   TCLK Operation Flowchart ............................................................................................ 31
Figure-20   Serial Processor Interface Function Timing .................................................................. 32
Figure-21   JTAG Architecture ......................................................................................................... 54
Figure-22   JTAG State Diagram ..................................................................................................... 57
Figure-23   Transmit System Interface Timing ................................................................................ 65
Figure-24   Receive System Interface Timing ................................................................................. 65
Figure-25   E1 Jitter Tolerance Performance .................................................................................. 66
Figure-26   T1/J1 Jitter Tolerance Performance .............................................................................. 66
Figure-27   E1 Jitter Transfer Performance ..................................................................................... 68
Figure-28   T1/J1 Jitter Transfer Performance ................................................................................ 68
Figure-29   JTAG Interface Timing .................................................................................................. 69
Figure-30   Serial Interface Write Timing ......................................................................................... 70
Figure-31   Serial Interface Read Timing with SCLKE=1 ................................................................ 70
Figure-32   Serial Interface Read Timing with SCLKE=0 ................................................................ 70
Figure-33   Non_multiplexed Motorola Read Timing ....................................................................... 71
Figure-34   Non_multiplexed Motorola Write Timing ....................................................................... 72
Figure-35   Non_multiplexed Intel Read Timing .............................................................................. 73
Figure-36   Non_multiplexed Intel Write Timing .............................................................................. 74
                                                              7


                                                                                       INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                              TEMPERATURE RANGES
1    IDT82V2084 PIN CONFIGURATIONS
                     VDDT1
                     VDDT1
                     NC
                     VDDIO
                     GNDIO
                     TCLK1
                     TD1/TDP1
                     TDN1
                     RCLK1
                     RD1/RDP1
                     CV1/RDN1
                     TCLK2
                     TD2/TDP2
                     TDN2
                     RCLK2
                     RD2/RDP2
                     CV2/RDN2
                     VDDD
                     GNDD
                     GNDIO
                     TCLK3
                     VDDIO
                     TD3/TDP3
                     TDN3
                     RCLK3
                     RD3/RDP3
                     CV3/RDN3
                     TCLK4
                     TD4/TDP4
                     TDN4
                     RCLK4
                     RD4/RDP4
                     CV4/RDN4
                     GNDIO
                     VDDIO
                     NC
                     NC
                     NC
                     102
                     101
                     100
                      99
                      98
                      97
                      96
                      95
                      94
                      93
                      92
                      91
                      90
                      89
                      88
                      87
                      86
                      85
                      84
                      83
                      82
                      81
                      80
                      79
                      78
                      77
                      76
                      75
                      74
                      73
                      72
                      71
                      70
                      69
                      68
                      67
                      66
                      65
     TRING1    103                                                                 64   VDDR4
       TTIP1   104                                                                 63   RTIP4
      GNDT1    105                                                                 62   RRING4
      GNDT1    106                                                                 61   GNDR4
     GNDR1     107                                                                 60   GNDT4
     RRING1    108                                                                 59   GNDT4
       RTIP1   109                                                                 58   TTIP4
      VDDR1    110                                                                 57   TRING4
      VDDT2    111                                                                 56   VDDT4
      VDDT2    112                                                                 55   VDDT4
     TRING2    113                                                                 54   VDDR3
       TTIP2   114                                                                 53   RTIP3
      GNDT2    115                                                                 52   RRING3
      GNDT2    116                          IDT82V2084                             51   GNDR3
     GNDR2     117                                                                 50   GNDT3
     RRING2    118                                                                 49   GNDT3
       RTIP2   119                                                                 48   TTIP3
      VDDR2    120                                                                 47   TRING3
       VDDA    121                                                                 46   VDDT3
       GNDA    122                                                                 45   VDDT3
       TRST    123                                                                 44   VDDA
        TMS    124                                                                 43   REF
         TDI   125                                                                 42   IC
        TDO    126                                                                 41   GNDA
        TCK    127                                                                 40   MCLKS
       LOS1    128                                                                 39   IC
                     1
                     2
                     3
                     4
                     5
                     6
                     7
                     8
                     9
                     10
                     11
                     12
                     13
                     14
                     15
                     16
                     17
                     18
                     19
                     20
                     21
                     22
                     23
                     24
                     25
                     26
                     27
                     28
                     29
                     30
                     31
                     32
                     33
                     34
                     35
                     36
                     37
                     38
                           LOS2
                           LOS3
                           LOS4
                            THZ
                          SCLKE
                        INT/MOTIC
                             P/S
                           VDDD
                           MCLK
                           GNDD
                          GNDIO
                          VDDIO
                              D7
                              D6
                              D5
                              D4
                              D3
                              D2
                              D1
                              D0
                          VDDIO
                          GNDIO
                              A7
                              A6
                              A5
                              A4
                              A3
                              A2
                              A1
                              A0
                              CS
                           SCLK
                          DS/RD
                     SDI/R/W/WR
                            SDO
                             INT
                            RST
                         Figure-2 IDT82V2084 TQFP128 Package Pin Assignment
                                                  8


                                                                                                                                                                          INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                                      TEMPERATURE RANGES
2         PIN DESCRIPTION
Table-1 Pin Description
      Name              Type     TQFP128                                                                   Description
                                                                       Transmit and Receive Line Interface
      TTIP1           Output        104      TTIPn1/TRINGn: Transmit Bipolar Tip/Ring for Channel 1~4
      TTIP2           Analog        114      These pins are the differential line driver outputs and can be set to high impedance state globally or individually. A logic high on
      TTIP3                          48
                                             THZ pin turns all these pins into high impedance state. When THZ bit (TCF1, 03H...)2 is set to ‘1’, the TTIPn/TRINGn in the cor-
      TTIP4                          58
                                             responding channel is set to high impedance state.
     TRING1                         103
                                             In summary, these pins will become high impedance in the following conditions:
     TRING2                         113
                                             •      THZ pin is high: all TTIPn/TRINGn enter high impedance.
     TRING3                          47
                                             •      THZn bit is set to 1: the corresponding TTIPn/TRINGn become high impedance;
     TRING4                          57
                                             •      Loss of MCLK: all TTIPn/TRINGn pins become high impedance;
                                             •      Loss of TCLKn: the corresponding TTIPn/TRINGn become high impedance (exceptions: Remote Loopback; Transmit
                                                    internal pattern by MCLK);
                                             •      Transmitter path power down: the corresponding TTIPn/TRINGn become high impedance;
                                             •      After software reset; pin reset and power on: all TTIPn/TRINGn enter high impedance.
      RTIP1            Input        109      RTIPn/RRINGn: Receive Bipolar Tip/Ring for Channel 1~4
      RTIP2           Analog        119      These pins are the differential line receiver inputs.
      RTIP3                          53
      RTIP4                          63
     RRING1                         108
     RRING2                         118
     RRING3                          52
     RRING4                          62
                                                                    Transmit and Receive Digital Data Interface
    TD1/TDP1           Input         96      TDn: Transmit Data for Channel 1~4
    TD2/TDP2                         90      In Single Rail Mode, the NRZ data to be transmitted is input on these pins. Data on TDn is sampled into the device on the active
    TD3/TDP3                         80      edge of TCLKn. The active edge of TCLKn is selected by the TCLK_SEL bit (TCF0, 02H...). Data is encoded by AMI, HDB3 or
    TD4/TDP4                         74      B8ZS line code rules before being transmitted to the line. In this mode, TDNn should be connected to ground.
                                             TDPn/TDNn: Positive/Negative Transmit Data for Channel 1~4
      TDN1                           95      In Dual Rail Mode, the NRZ data to be transmitted is input on these pins. Data on TDPn/TDNn is sampled into the device on
      TDN2                           89      the active edge of TCLKn. The active edge of the TCLKn is selected by the TCLK_SEL bit (TCF0, 02H...) The line code in Dual
      TDN3                           79      Rail Mode is as follows:
      TDN4                           73
                                                           TDPn         TDNn            Output Pulse
                                                             0             0       Space
                                                             0             1       Positive Pulse
                                                             1             0       Negative Pulse
                                                             1             1       Space
     TCLK1             Input         97      TCLKn: Transmit Clock for Channel 1~4
     TCLK2                           91      These pins input 1.544 MHz for T1/J1 mode or 2.048 MHz for E1 mode transmit clock. The transmit data on TDn/TDPn or TDNn
     TCLK3                           82      is sampled into the device on the active edge of TCLKn. If TCLKn is missing3 and the TCLKn missing interrupt is not masked,
     TCLK4                           75      an interrupt will be generated.
Notes:
1. The footprint ‘n’ (n = 1~4) represents one of the four channels.
2. The name and address of the registers that contain the preceding bit. Only the address of channel 1 register is listed, the rest addresses are represented by '...'. Users can find
these omitted addresses in the Register Description section.
3. TCLKn missing: the state of TCLKn continues to be high level or low level over 70 clock cycles.
                                                                                           9


                                                                                                                                             INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                             TEMPERATURE RANGES
Table-1 Pin Description (Continued)
    Name       Type  TQFP128                                                                Description
  RD1/RDP1    Output     93   RDn: Receive Data for Channel 1~4
  RD2/RDP2               87   In Single Rail Mode, the NRZ receive data is output on these pins. Data is decoded according to AMI, HDB3 or B8ZS line code
  RD3/RDP3               77   rules. The active level on RDn pin is selected by the RD_INV bit (RCF0, 07H...).
  RD4/RDP4               71
                              CVn: Code Violation for Channel 1~4
  CV1/RDN1               92   In Single Rail Mode, the BPV/CV errors in received data streams will be reported by driving pin CVn to high level for a full clock
  CV2/RDN2               86   cycle. The B8ZS/HDB3 line code violation can be indicated when the B8ZS/HDB3 decoder is enabled. When AMI decoder is
  CV3/RDN3               76   selected, the bipolar violation can be indicated.
  CV4/RDN4               70
                              RDPn/RDNn: Positive/Negative Receive Data for Channel 1~4
                              In Dual Rail Mode with Clock & Data Recovery (CDR), these pins output the NRZ data with the recovered clock. An active level
                              on RDPn indicates the receipt of a positive pulse on RTIPn/RRINGn while an active level on RDNn indicates the receipt of a neg-
                              ative pulse on RTIPn/RRINGn. The active level on RDPn/RDNn is selected by the RD_INV bit (RCF0, 07H...). When CDR is
                              disabled, these pins directly output the raw RZ sliced data. The output data on RDn and RDPn/RDNn is updated on the active
                              edge of RCLKn.
   RCLK1      Output     94   RCLKn: Receive Clock for Channel 1~4
   RCLK2                 88   These pins output 1.544 MHz for T1/J1 mode or 2.048 MHz for E1 mode receive clock. Under LOS conditions, if AISE bit
   RCLK3                 78   (MAINT0, 0AH...) is ‘1’, RCLKn is derived from MCLK.
   RCLK4                 72   In clock recovery mode, these pins provide the clock recovered from the signal received on RTIPn/RRINGn. The receive data
                              (RDn in Single Rail Mode or RDPn/RDNn in Dual Rail Mode) is updated on the active edge of RCLKn. The active edge is
                              selected by the RCLK_SEL bit (RCF0, 07H...).
                              If clock recovery is bypassed, RCLKn is the exclusive OR(XOR) output of the Dual Rail sliced data RDPn and RDNn. This signal
                              can be used in the applications with external clock recovery circuitry.
    MCLK       Input     10   MCLK: Master Clock
                              MCLK is an independent, free-running reference clock. It is a single reference for all operation modes and provides selectable
                              1.544 MHz or 37.056 MHz for T1/J1 operating mode, while 2.048 MHz or 49.152 MHz for E1 operating mode.
                              The reference clock is used to generate several internal reference signals:
                              •      Timing reference for the integrated clock recovery unit.
                              •      Timing reference for the integrated digital jitter attenuator.
                              •      Timing reference for microcontroller interface.
                              •      Generation of RCLKn signal during a loss of signal condition.
                              •      Reference clock during Transmit All Ones (TAO) and all zeros condition. When sending PRBS/QRSS or Inband Loopback
                                     code, either MCLK or TCLKn can be selected as the reference clock.
                              •      Reference clock for ATAO and AIS.
                              The loss of MCLK will turn all the four TTIP/TRING into high impedance status.
   MCLKS       Input     40   MCLKS: Master Clock Select
                              If 2.048 MHz (E1) or 1.544 MHz (T1/J1) is selected as the MCLK, this pin should be connected to ground; and if the 49.152 MHz
                              (E1) or 37.056 MHz (T1/J1) is selected as the MCLK, this pin should be pulled high.
    LOS1      Output    128   LOSn: Loss of Signal Output for Channel 1~4
    LOS2                  1   These pins are used to indicate the loss of received signals. When LOSn pin becomes high, it indicates the loss of received sig-
    LOS3                  2   nals in channel n. The LOSn pin will become low automatically when valid received signal is detected again. The criteria of loss
    LOS4                  3   of signal are described in 3.5 LOS AND AIS DETECTION.
                                                                   Control Interface
     P/S       Input      8   P/S: Parallel or Serial Control Interface Select
                              Level on this pin determines which control mode is selected to control the device as follows:
                                             P/S                   Control Interface
                                            High           Parallel Microcontroller Interface
                                             Low            Serial Microcontroller Interface
                              The serial microcontroller interface consists of CS, SCLK, SDI, SDO and SCLKE pins. Parallel microcontroller interface consists
                              of CS, A[7:0], D[7:0], DS/RD and R/W/WR pins. The device supports non-multiplexed parallel interface as follows:
                                              P/S, INT/MOT                Microcontroller Interface
                                                    10                    Motorola non-multiplexed
                                                    11                       Intel non-multiplexed
                                                                          10


                                                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                      TEMPERATURE RANGES
Table-1 Pin Description (Continued)
     Name      Type    TQFP128                                                                Description
   INT/MOT     Input      6    INT/MOT: Intel or Motorola Microcontroller Interface Select
                               In microcontroller mode, the parallel microcontroller interface is configured for Motorola compatible microcontrollers when this
                               pin is low, or for Intel compatible microcontrollers when this pin is high.
      CS       Input     32    CS: Chip Select
                               In microcontroller mode, this pin is asserted low by the microcontroller to enable microcontroller interface. For each read or write
                               operation, this pin must be changed from high to low, and will remain low until the operation is over.
     SCLK      Input     33    SCLK: Shift Clock
                               In serial microcontroller mode, signal on this pin is the shift clock for the serial interface. Configuration data on pin SDI is sampled
                               on the rising edges of SCLK. Configuration and status data on pin SDO is clocked out of the device on the rising edges of SCLK
                               if pin SCLKE is low, or on the falling edges of SCLK if pin SCLKE is high.
    DS/RD      Input     34    DS: Data Strobe
                               In parallel Motorola microcontroller interface mode, signal on this pin is the data strobe of the parallel interface. During a write
                               operation (R/W =0), data on D[7:0] is sampled into the device. During a read operation (R/W =1), data is output to D[7:0] from
                               the device.
                               RD: Read Operation
                               In parallel Intel microcontroller interface mode, this pin is asserted low by the microcontroller to initiate a read cycle. Data is out-
                               put to D[7:0] from the device during a read operation.
 SDI/R/W/WR    Input     35    SDI: Serial Data Input
                               In serial microcontroller mode, data is input on this pin. Input data is sampled on the rising edges of SCLK.
                               R/W: Read/Write Select
                               In parallel Motorola microcontroller interface mode, this pin is low for write operation and high for read operation.
                               WR: Write Operation
                               In parallel Intel microcontroller interface mode, this pin is asserted low by the microcontroller to initiate a write cycle. Data on
                               D[7:0] is sampled into the device during a write operation.
     SDO      Output     36    SDO: Serial Data Output
                               In serial microcontroller mode, signal on this pin is the output data of the serial interface. Configuration and status data on pin
                               SDO is clocked out of the device on the active edge of SCLK.
      INT     Output     37    INT: Interrupt Request
                               This pin outputs the general interrupt request for all interrupt sources. If INTM_GLB bit (GCF0, 40H) is set to ‘1’ all the interrupt
                               sources will be masked. And these interrupt sources also can be masked individually via registers (INTM0, 11H) and (INTM1,
                               12H). Interrupt status is reported via byte INT_CH (INTCH, 80H), registers (INTS0, 16H) and (INTS1, 17H).
                               Output characteristics of this pin can be defined to be push-pull (active high or low) or be open-drain (active low) by bits
                               INT_PIN[1:0] (GCF0, 40H).
       D7       I/O      14    Dn: Data Bus 7~0
       D6    Tri-state   15    These pins function as a bi-directional data bus of the microcontroller interface.
       D5                16
       D4                17
       D3                18
       D2                19
       D1                20
       D0                21
       A7      Input     24    An: Address Bus 7~0
       A6                25    These pins function as an address bus of the microcontroller interface.
       A5                26
       A4                27
       A3                28
       A2                29
       A1                30
       A0                31
      RST      Input     38    RST: Hardware Reset
                               The chip is reset if a low signal is applied on this pin for more than 100ns. All the drivers output are in high-impedance state,
                               all the internal flip-flops are reset and all the registers are initialized to their default values.
                                                                              11


                                                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
Table-1 Pin Description (Continued)
    Name       Type    TQFP128                                                                 Description
     THZ       Input        4   THZ: Transmit Driver Enable
                                This pin enables or disables all transmitter drivers on a global basis. A low level on this pin enables the drivers while a high level
                                turns all drivers into high impedance state. Note that functionality of internal circuits is not affected by signal on this pin.
     REF       Input        43  REF: Reference Resistor
                                An external resistor (3 KΩ, 1%) is used to connect this pin to ground to provide a standard reference current for internal circuit.
   SCLKE       Input        5   SCLKE: Serial Clock Edge Select
                                Signal on this pin determines the active edge of SCLK to output SDO. The active clock edge is selected as shown below:
                                                     SCLKE                       SCLK
                                                       Low       Rising edge is active edge
                                                       High      Falling edge is active edge
                                                                        JTAG Signals
    TRST       Input      123   TRST: JTAG Test Port Reset
              Pullup            This is the active low asynchronous reset to the JTAG Test Port. This pin has an internal pull-up resistor. To ensure deterministic
                                operation of the test logic, TMS should be held high while the signal applied to TRST changes from low to high.
                                For normal signal processing, this pin should be connected to ground.
     TMS       Input      124   TMS: JTAG Test Mode Select
              Pullup            This pin is used to control the test logic state machine and is sampled on the rising edges of TCK. TMS has an internal pull-up
                                resistor.
     TCK       Input      127   TCK: JTAG Test Clock
                                This pin is the input clock for JTAG. The data on TDI and TMS is clocked into the device on the rising edges of TCK while the
                                data on TDO is clocked out of the device on the falling edges of TCK. When TCK is idle at a low level, all stored-state devices
                                contained in the test logic will retain their state indefinitely.
     TDO      Output      126   TDO: JTAG Test Data Output
             Tri-state          This is a tri-state output signal and used for reading all the serial configuration and test data from the test logic. The data on TDO
                                is clocked out of the device on the falling edges of TCK.
     TDI       Input      125   TDI: JTAG Test Data Input
              Pullup            This pin is used for loading instructions and data into the test logic and has an internal pullup resistor. The data on TDI is clocked
                                into the device on the rising edges of TCK.
                                                               Power Supplies and Grounds
   VDDIO         -       13, 22 3.3V I/O Power Supply
                         68, 81
                           99
   GNDIO         -       12, 23 I/O Ground
                         69, 83
                           98
   VDDT1         -     101, 102 3.3V Power Supply for Transmitter Driver
   VDDT2               111, 112
   VDDT3                 45, 46
   VDDT4                 55, 56
   GNDT1         -     105, 106 Analog Ground for Transmitter Driver
   GNDT2               115, 116
   GNDT3                 49, 50
   GNDT4                 59, 60
    VDDA         -      44, 121 3.3V Analog Core Power Supply
    GNDA         -      41, 122 Core Analog Ground
    VDDD         -        9, 85 3.3V Digital Core Power Supply
    GNDD         -       11, 84 Core Digital Ground
   VDDR1         -         110  3.3V Power Supply for Receiver
   VDDR2                  120
   VDDR3                    54
   VDDR4                    64
                                                                              12


                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
Table-1 Pin Description (Continued)
    Name      Type   TQFP128                                                          Description
   GNDR1        -       107   Analog Ground for Receiver
   GNDR2                117
   GNDR3                 51
   GNDR4                 61
                                                                       Others
     IC         -        39   IC: Internal Connection
                          7   Internal Use. These pins should be connected to ground when in normal operation.
     IC         -        42   IC: Internal Connection
                              Internal Use. This pin should be left open when in normal operation.
     NC         -      65, 66 NC: No Connection
                      67, 100
                                                                         13


                                                                                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                                                                                             TEMPERATURE RANGES
3       FUNCTIONAL DESCRIPTION                                                       bits (TCF1, 03H...) should be set to ‘0000’; if the cable impedance is 120
                                                                                     Ω, the PULS[3:0] bits (TCF1, 03H...) should be set to ‘0001’. In external
3.1     T1/E1/J1 MODE SELECTION                                                      impedance matching mode, for both E1/75 Ω and E1/120 Ω cable imped-
                                                                                     ance, PULS[3:0] should be set to ‘0001’.
    The IDT82V2084 can be used as a four-channel E1 LIU or a four-chan-
nel T1/J1 LIU. In E1 application, the T1E1 bit (GCF0, 40H) should be set
to ‘0’. In T1/J1 application, the T1E1 bit should be set to ‘1’.                                                                             1 .2 0
                                                                                                                                             1 .0 0
3.2     TRANSMIT PATH
                                                                                                                                             0 .8 0
    The transmit path of each channel of the IDT82V2084 consists of an
                                                                                                                  Normalized Amplitude
Encoder, an optional Jitter Attenuator, a Waveform Shaper, a set of LBOs,                                                                    0 .6 0
a Line Driver and a Programmable Transmit Termination.
                                                                                                                                             0 .4 0
3.2.1   TRANSMIT PATH SYSTEM INTERFACE
                                                                                                                                             0 .2 0
    The transmit path system interface consists of TCLKn pin, TDn/TDPn
pin and TDNn pin. In E1 mode, the TCLKn is a 2.048 MHz clock. In T1/J1                                                                       0 .0 0
mode, the TCLKn is a 1.544 MHz clock. If the TCLKn is missing for more                                                                       -0 .2 0
than 70 MCLK cycles, an interrupt will be generated if it is not masked.                                                                               -0 .6     - 0 .4       - 0 .2                 0
                                                                                                                                                                                       T im e in U n it In te rv a ls
                                                                                                                                                                                                                        0 .2      0 .4   0 .6
   Transmit data is sampled on the TDn/TDPn and TDNn pins by the active
edge of TCLKn. The active edge of TCLKn can be selected by the                                                               Figure-3 E1 Waveform Template Diagram
TCLK_SEL bit (TCF0, 02H...). And the active level of the data on TDn/TDPn
and TDNn can be selected by the TD_INV bit (TCF0, 02H...).                                                                                                           TTIPn
     The transmit data from the system side can be provided in two different
ways: Single Rail and Dual Rail. In Single Rail mode, only TDn pin is used                                                       IDT82V2084                                                                                    RLOAD     VOUT
for transmitting data and the T_MD[1] bit (TCF0, 02H...) should be set to
                                                                                                                                                                     TRINGn
‘0’. In Dual Rail Mode, both TDPn and TDNn pins are used for transmitting
data, the T_MD[1] bit (TCF0, 02H...) should be set to ‘1’.
                                                                                       Note: 1. For RLOAD = 75 Ω (nom), Vout (Peak)=2.37V (nom)
3.2.2   ENCODER                                                                              2. For RLOAD =120 Ω (nom), Vout (Peak)=3.00V (nom)
   When T1/J1 mode is selected, in Single Rail mode, the Encoder can be
selected to be a B8ZS encoder or an AMI encoder by setting T_MD[0] bit                                                                   Figure-4 E1 Pulse Template Test Circuit
(TCF0, 02H...).                                                                         For T1 applications, the pulse shape is shown in Figure-5 according to
    When E1 mode is selected, in Single Rail mode, the Encoder can be con-           the T1.102 and the measuring diagram is shown in Figure-6. This also
figured to be a HDB3 encoder or an AMI encoder by setting T_MD[0] bit                meets the requirement of G.703, 2001. The cable length is divided into five
(TCF0, 02H...).                                                                      grades, and there are five pulse templates used for each of the cable length.
                                                                                     The pulse template is selected by PULS[3:0] bits (TCF1, 03H...).
    In both T1/J1 mode and E1 mode, when Dual Rail mode is selected (bit
T_MD[1] is ‘1’), the Encoder is by-passed. In the Dual Rail mode, a logic ‘1’
on the TDPn pin and a logic ‘0’ on the TDNn pin results in a negative pulse                                     1.2
on the TTIPn/TRINGn; a logic ‘0’ on TDPn pin and a logic ‘1’ on TDNn pin                                          1
results in a positive pulse on the TTIPn/TRINGn. If both TDPn and TDNn                                          0.8
are logic ‘1’ or logic ‘0’, the TTIPn/TRINGn outputs a space (Refer to TDn/
                                                                                                                0.6
                                                                                         Normalized Amplitude
TDPn, TDNn Pin Description).
                                                                                                                0.4
3.2.3   PULSE SHAPER
                                                                                                                0.2
    The IDT82V2084 provides three ways of manipulating the pulse shape                                            0
before sending it. The first is to use preset pulse templates for short haul
application, the second is to use LBO (Line Build Out) for long haul appli-                                     -0.2
cation and the other way is to use user-programmable arbitrary waveform                                         -0.4
template.                                                                                                       -0.6
                                                                                                                                         0                     250              500                            750               1000           1250
3.2.3.1 Preset Pulse Templates                                                                                                                                                              Time (ns)
   For E1 applications, the pulse shape is shown in Figure-3 according to
the G.703 and the measuring diagram is shown in Figure-4. In internal                                                                          Figure-5 DSX-1 Waveform Template
impedance matching mode, if the cable impedance is 75 Ω, the PULS[3:0]
                                                                                14


                                                                                                                                                INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                 TEMPERATURE RANGES
                                                                                     Secondly, through the value of SCAL[5:0] bits increased or decreased
                                                                                  by 1, the pulse amplitude can be scaled up or down at the percentage ratio
                      TTIPn                                                       against the standard pulse amplitude if needed. For different pulse shapes,
                                                   Cable                          the value of SCAL[5:0] bits and the scaling percentage ratio are different.
     IDT82V2084                                                    RLOAD VOUT     The following twelve tables list these values.
                      TRINGn                                                         Do the followings step by step, the desired waveform can be pro-
                                                                                  grammed, based on the selected waveform template:
    Note: RLOAD = 100 Ω ± 5%                                                         (1).Select the UI by UI[1:0] bits (TCF3, 05H...)
                                                                                     (2).Specify the sample address in the selected UI by SAMP [3:0] bits
            Figure-6 T1 Pulse Template Test Circuit                                       (TCF3, 05H...)
                                                                                     (3).Write sample data to WDAT[6:0] bits (TCF4, 06H...). It contains the
     For J1 applications, the PULS[3:0] (TCF1, 03H...) should be set to                   data to be stored in the RAM, addressed by the selected UI and the
‘0111’. Table-14 lists these values.                                                      corresponding sample address.
3.2.3.2 LBO (Line Build Out)                                                         (4).Set the RW bit (TCF3, 05H...) to ‘0’ to implement writing data to RAM,
     To prevent the cross-talk at the far end, the output of TTIP/TRING could             or to ‘1’ to implement read data from RAM
be attenuated before transmission for long haul applications. The FCC Part           (5).Implement the Read from RAM/Write to RAM by setting the DONE
68 Regulations specifies four grades of attenuation with a step of 7.5 dB.                bit (TCF3, 05H...)
Three LBOs are used to implement the pulse attenuation. The PULS[3:0]                Repeat the above steps until all the sample data are written to or read
bits (TCF1, 03H...) are used to select the attenuation grade. Both Table-14       from the internal RAM.
and Table-15 list these values.                                                      (6).Write the scaling data to SCAL[5:0] bits (TCF2, 04H...) to scale the
3.2.3.3 User-Programmable Arbitrary Waveform                                              amplitude of the waveform based on the selected standard pulse
                                                                                          amplitude
     When the PULS[3:0] bits are set to ‘11xx’, user-programmable arbitrary
waveform generator mode can be used in the corresponding channel. This               When more than one UI is used to compose the pulse template, the over-
allows the transmitter performance to be tuned for a wide variety of line con-    lap of two consecutive pulses could make the pulse amplitude overflow
dition or special application.                                                    (exceed the maximum limitation) if the pulse amplitude is not set properly.
                                                                                  This overflow is captured by DAC_OV_IS bit (INTS1, 17H...), and, if
     Each pulse shape can extend up to 4 UIs (Unit Interval), addressed by        enabled by the DAC_OV_IM bit (INTM1, 12H...), an interrupt will be gen-
UI[1:0] bits (TCF3, 05H...) and each UI is divided into 16 sub-phases,            erated.
addressed by the SAMP[3:0] bits (TCF3, 05H...). The pulse amplitude of
each phase is represented by a binary byte, within the range from +63 to -           The following tables give all the sample data based on the preset pulse
63, stored in WDAT[6:0] bits (TCF4, 06H...) in signed magnitude form. The         templates and LBOs in detail for reference. For preset pulse templates and
most positive number +63 (D) represents the maximum positive amplitude            LBOs, scaling up/down against the pulse amplitude is not supported.
of the transmit pulse while the most negative number -63 (D) represents the          1.Table-2 Transmit Waveform Value For E1 75 Ω
maximum negative amplitude of the transmit pulse. Therefore, up to 64                2.Table-3 Transmit Waveform Value For E1 120 Ω
bytes are used. For each channel, a 64 bytes RAM is available.                       3.Table-4 Transmit Waveform Value For T1 0~133 ft
                                                                                     4.Table-5 Transmit Waveform Value For T1 133~266 ft
     There are twelve standard templates which are stored in a local ROM.            5.Table-6 Transmit Waveform Value For T1 266~399 ft
User can select one of them as reference and make some changes to get                6.Table-7 Transmit Waveform Value For T1 399~533 ft
the desired waveform.                                                                7.Table-8 Transmit Waveform Value For T1 533~655 ft
     User can change the wave shape and the amplitude to get the desired             8.Table-9 Transmit Waveform Value For J1 0~655 ft
pulse shape. In order to do this, firstly, users can choose a set of waveform        9.Table-10 Transmit Waveform Value For DS1 0 dB LBO
value from the following twelve tables, which is the most similar to the             10.Table-11 Transmit Waveform Value For DS1 -7.5 dB LBO
desired pulse shape. Table-2, Table-3, Table-4, Table-5, Table-6, Table-7,           11.Table-12 Transmit Waveform Value For DS1 -15.0 dB LBO
Table-8, Table-9, Table-10, Table-11, Table-12 and Table-13 list the sample          12.Table-13 Transmit Waveform Value For DS1 -22.5 dB LBO
data and scaling data of each of the twelve templates. Then modify the cor-
responding sample data to get the desired transmit pulse shape.
                                                                               15


                                                                                                                                             INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                           TEMPERATURE RANGES
Table-2 Transmit Waveform Value For E1 75 Ω                                 Table-4 Transmit Waveform Value For T1 0~133 ft
   Sample            UI 1         UI 2             UI 3        UI 4            Sample            UI 1           UI 2             UI 3              UI 4
       1           0000000      0000000          0000000     0000000                1          0010111        1000010         0000000            0000000
       2           0000000      0000000          0000000     0000000                2          0100111        1000001         0000000            0000000
       3           0000000      0000000          0000000     0000000                3          0100111        0000000         0000000            0000000
       4           0001100      0000000          0000000     0000000                4          0100110        0000000         0000000            0000000
       5           0110000      0000000          0000000     0000000                5          0100101        0000000         0000000            0000000
       6           0110000      0000000          0000000     0000000                6          0100101        0000000         0000000            0000000
       7           0110000      0000000          0000000     0000000                7          0100101        0000000         0000000            0000000
       8           0110000      0000000          0000000     0000000                8          0100100        0000000         0000000            0000000
       9           0110000      0000000          0000000     0000000                9          0100011        0000000         0000000            0000000
       10          0110000      0000000          0000000     0000000               10          1001010        0000000         0000000            0000000
       11          0110000      0000000          0000000     0000000               11          1001010        0000000         0000000            0000000
       12          0110000      0000000          0000000     0000000               12          1001001        0000000         0000000            0000000
       13          0000000      0000000          0000000     0000000               13          1000111        0000000         0000000            0000000
       14          0000000      0000000          0000000     0000000               14          1000101        0000000         0000000            0000000
       15          0000000      0000000          0000000     0000000               15          1000100        0000000         0000000            0000000
       16          0000000      0000000          0000000     0000000               16          1000011        0000000         0000000            0000000
SCAL[5:0] = 100001 (default), One step change of this value of SCAL[5:0]    SCAL[5:0] =   1101101  (default), One step change of this value of SCAL[5:0]
results in 3% scaling up/down against the pulse amplitude.                  results in 2% scaling up/down against the pulse amplitude.
                                                                            1. In T1 mode, when arbitrary pulse for short haul application is configured,
                                                                            users should write ‘110110’ to SCAL[5:0] bits if no scaling is required.
Table-3 Transmit Waveform Value For E1 120 Ω
   Sample            UI 1         UI 2             UI 3        UI 4
       1           0000000      0000000          0000000     0000000
                                                                            Table-5 Transmit Waveform Value For T1 133~266 ft
       2           0000000      0000000          0000000     0000000           Sample            UI 1           UI 2             UI 3              UI 4
       3           0000000      0000000          0000000     0000000                1          0011011        1000011         0000000            0000000
       4           0001111      0000000          0000000     0000000                2          0101110        1000010         0000000            0000000
       5           0111100      0000000          0000000     0000000                3          0101100        1000001         0000000            0000000
       6           0111100      0000000          0000000     0000000                4          0101010        0000000         0000000            0000000
       7           0111100      0000000          0000000     0000000                5          0101001        0000000         0000000            0000000
       8           0111100      0000000          0000000     0000000                6          0101000        0000000         0000000            0000000
       9           0111100      0000000          0000000     0000000                7          0100111        0000000         0000000            0000000
       10          0111100      0000000          0000000     0000000                8          0100110        0000000         0000000            0000000
       11          0111100      0000000          0000000     0000000                9          0100101        0000000         0000000            0000000
       12          0111100      0000000          0000000     0000000               10          1010000        0000000         0000000            0000000
       13          0000000      0000000          0000000     0000000               11          1001111        0000000         0000000            0000000
       14          0000000      0000000          0000000     0000000               12          1001101        0000000         0000000            0000000
       15          0000000      0000000          0000000     0000000               13          1001010        0000000         0000000            0000000
       16          0000000      0000000          0000000     0000000               14          1001000        0000000         0000000            0000000
SCAL[5:0] = 100001 (default), One step change of this value of SCAL[5:0]           15          1000110        0000000         0000000            0000000
results in 3% scaling up/down against the pulse amplitude.                         16          1000100        0000000         0000000            0000000
                                                                                                              See Table-4
                                                                         16


                                                                                                                     INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                        TEMPERATURE RANGES
Table-6 Transmit Waveform Value For T1 266~399 ft         Table-8 Transmit Waveform Value For T1 533~655 ft
   Sample      UI 1      UI 2         UI 3        UI 4       Sample            UI 1         UI 2             UI 3        UI 4
     1       0011111   1000011      0000000    0000000            1          0100000      1000011          0000000     0000000
     2       0110100   1000010      0000000    0000000            2          0111111      1000010          0000000     0000000
     3       0101111   1000001      0000000    0000000            3          0111000      1000001          0000000     0000000
     4       0101100   0000000      0000000    0000000            4          0110011      0000000          0000000     0000000
     5       0101011   0000000      0000000    0000000            5          0101111      0000000          0000000     0000000
     6       0101010   0000000      0000000    0000000            6          0101110      0000000          0000000     0000000
     7       0101001   0000000      0000000    0000000            7          0101101      0000000          0000000     0000000
     8       0101000   0000000      0000000    0000000            8          0101100      0000000          0000000     0000000
     9       0100101   0000000      0000000    0000000            9          0101001      0000000          0000000     0000000
     10      1010111   0000000      0000000    0000000           10          1011111      0000000          0000000     0000000
     11      1010011   0000000      0000000    0000000           11          1011110      0000000          0000000     0000000
     12      1010000   0000000      0000000    0000000           12          1010111      0000000          0000000     0000000
     13      1001011   0000000      0000000    0000000           13          1001111      0000000          0000000     0000000
     14      1001000   0000000      0000000    0000000           14          1001001      0000000          0000000     0000000
     15      1000110   0000000      0000000    0000000           15          1000111      0000000          0000000     0000000
     16      1000100   0000000      0000000    0000000           16          1000100      0000000          0000000     0000000
                        See Table-4                                                       See Table-4
Table-7 Transmit Waveform Value For T1 399~533 ft         Table-9 Transmit Waveform Value For J1 0~655 ft
   Sample      UI 1      UI 2         UI 3        UI 4       Sample            UI 1         UI 2             UI 3        UI 4
     1       0100000   1000011      0000000    0000000            1          0010111      1000010          0000000     0000000
     2       0111011   1000010      0000000    0000000            2          0100111      1000001          0000000     0000000
     3       0110101   1000001      0000000    0000000            3          0100111      0000000          0000000     0000000
     4       0101111   0000000      0000000    0000000            4          0100110      0000000          0000000     0000000
     5       0101110   0000000      0000000    0000000            5          0100101      0000000          0000000     0000000
     6       0101101   0000000      0000000    0000000            6          0100101      0000000          0000000     0000000
     7       0101100   0000000      0000000    0000000            7          0100101      0000000          0000000     0000000
     8       0101010   0000000      0000000    0000000            8          0100100      0000000          0000000     0000000
     9       0101000   0000000      0000000    0000000            9          0100011      0000000          0000000     0000000
     10      1011000   0000000      0000000    0000000           10          1001010      0000000          0000000     0000000
     11      1011000   0000000      0000000    0000000           11          1001010      0000000          0000000     0000000
     12      1010011   0000000      0000000    0000000           12          1001001      0000000          0000000     0000000
     13      1001100   0000000      0000000    0000000           13          1000111      0000000          0000000     0000000
     14      1001000   0000000      0000000    0000000           14          1000101      0000000          0000000     0000000
     15      1000110   0000000      0000000    0000000           15          1000100      0000000          0000000     0000000
     16      1000100   0000000      0000000    0000000           16          1000011      0000000          0000000     0000000
                        See Table-4                       SCAL[5:0] = 110110 (default), One step change of this value of SCAL[5:0]
                                                          results in 2% scaling up/down against the pulse amplitude.
                                                       17


                                                                                                                                           INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                           TEMPERATURE RANGES
Table-10 Transmit Waveform Value For DS1 0 dB LBO                            Table-12 Transmit Waveform Value For DS1 -15.0 dB LBO
   Sample           UI 1          UI 2             UI 3         UI 4            Sample            UI 1         UI 2             UI 3           UI 4
       1          0010111       1000010          0000000      0000000                1         0000000       0110101          0001111        0000011
       2          0100111       1000001          0000000      0000000                2         0000000       0110011          0001101        0000010
       3          0100111       0000000          0000000      0000000                3         0000000       0110000          0001100        0000010
       4          0100110       0000000          0000000      0000000                4         0000001       0101101          0001011        0000010
       5          0100101       0000000          0000000      0000000                5         0000100       0101010          0001010        0000010
       6          0100101       0000000          0000000      0000000                6         0001000       0100111          0001001        0000001
       7          0100101       0000000          0000000      0000000                7         0001110       0100100          0001000        0000001
       8          0100100       0000000          0000000      0000000                8         0010100       0100001          0000111        0000001
       9          0100011       0000000          0000000      0000000                9         0011011       0011110          0000110        0000001
       10         1001010       0000000          0000000      0000000               10         0100010       0011100          0000110        0000001
       11         1001010       0000000          0000000      0000000               11         0101010       0011010          0000101        0000001
       12         1001001       0000000          0000000      0000000               12         0110000       0010111          0000101        0000001
       13         1000111       0000000          0000000      0000000               13         0110101       0010101          0000100        0000001
       14         1000101       0000000          0000000      0000000               14         0110111       0010100          0000100        0000000
       15         1000100       0000000          0000000      0000000               15         0111000       0010010          0000011        0000000
       16         1000011       0000000          0000000      0000000               16         0110111       0010000          0000011        0000000
SCAL[5:0] = 110110 (default), One step change of this Value results in 2%    SCAL[5:0] = 001000 (default), One step change of the value of SCAL[5:0]
scaling up/down against the pulse amplitude.                                 results in 12.5% scaling up/down against the pulse amplitude.
Table-11 Transmit Waveform Value For DS1 -7.5 dB LBO                         Table-13 Transmit Waveform Value For DS1 -22.5 dB LBO
   Sample           UI 1          UI 2             UI 3         UI 4            Sample            UI 1         UI 2             UI 3           UI 4
       1          0000000       0010100          0000010      0000000                1         0000001       0110101          0011011        0000111
       2          0000010       0010010          0000010      0000000                2         0000011       0110101          0011001        0000110
       3          0001001       0010000          0000010      0000000                3         0000101       0110100          0010111        0000110
       4          0010011       0001110          0000010      0000000                4         0001000       0110011          0010101        0000101
       5          0011101       0001100          0000010      0000000                5         0001100       0110010          0010100        0000101
       6          0100101       0001011          0000001      0000000                6         0010001       0110000          0010010        0000101
       7          0101011       0001010          0000001      0000000                7         0010110       0101110          0010001        0000100
       8          0110001       0001001          0000001      0000000                8         0011011       0101101          0010000        0000100
       9          0110110       0001000          0000001      0000000                9         0100001       0101011          0001110        0000100
       10         0111010       0000111          0000001      0000000               10         0100110       0101001          0001101        0000100
       11         0111001       0000110          0000001      0000000               11         0101010       0100111          0001100        0000011
       12         0110000       0000101          0000001      0000000               12         0101110       0100100          0001011        0000011
       13         0101000       0000100          0000000      0000000               13         0110001       0100010          0001010        0000011
       14         0100000       0000100          0000000      0000000               14         0110011       0100000          0001001        0000011
       15         0011010       0000011          0000000      0000000               15         0110100       0011110          0001000        0000011
       16         0010111       0000011          0000000      0000000               16         0110100       0011100          0001000        0000010
SCAL[5:0] = 010001 (default), One step change of this value of SCAL[5:0]     SCAL[5:0] = 000100 (default), One step change of this value of SCAL[5:0]
results in 6.25% scaling up/down against the pulse amplitude.                results in 25% scaling up/down against the pulse amplitude.
                                                                          18


                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
3.2.4      TRANSMIT PATH LINE INTERFACE                                            of the recommended impedance matching for transmitter.
     The transmit line interface consists of TTIPn pin and TRINGn pin. The              The TTIPn/TRINGn can be turned into high impedance globally by pull-
impedance matching can be realized by the internal impedance matching              ing THZ pin to high or individually by setting the THZ bit (TCF1, 03H...) to
circuit or the external impedance matching circuit. If T_TERM[2] is set to         ‘1’. In this state, the internal transmit circuits are still active.
‘0’, the internal impedance matching circuit will be selected. In this case,
                                                                                        Besides, in the following cases, TTIPn/TRINGn will also become high
the T_TERM[1:0] bits (TERM, 1AH...) can be set to choose 75 Ω, 100 Ω,
                                                                                   impedance:
110 Ω or 120 Ω internal impedance of TTIPn/TRINGn. If T_TERM[2] is set
                                                                                   •      Loss of MCLK: all TTIPn/TRINGn pins become high impedance;·
to ‘1’, the internal impedance matching circuit will be disabled. In this case,
                                                                                   •      Loss of TCLKn: corresponding TTIPn/TRINGn become HZ (excep-
the external impedance matching circuit will be used to realize the imped-
                                                                                          tions: Remote Loopback; Transmit internal pattern by MCLK);
ance matching. For T1/J1 mode, the external impedance matching circuit
                                                                                   •      Transmit path power down;
for the transmitter is not supported. Figure-8 shows the appropriate external
                                                                                   •      After software reset; pin reset and power on.
components to connect with the cable for one channel. Table-14 is the list
Table-14 Impedance Matching for Transmitter
         Cable Configuration                              Internal Termination                                         External Termination
                                            T_TERM[2:0]               PULS[3:0]      RT              T_TERM[2:0]              PULS[3:0]                   RT
                E1/75 Ω                           000                   0000         0Ω                   1XX                    0001                   9.4 Ω
                E1/120 Ω                          001                   0001                                                     0001
               T1/0~133 ft                        010                   0010                                -                       -                      -
             T1/133~266 ft                                              0011
             T1/266~399 ft                                              0100
             T1/399~533 ft                                              0101
             T1/533~655 ft                                              0110
               J1/0~655 ft                        011                   0111
                0 dB LBO                          010                   1000
              -7.5 dB LBO                                               1001
             -15.0 dB LBO                                               1010
             -22.5 dB LBO                                               1011
     Note: The precision of the resistors should be better than ± 1%
3.2.5      TRANSMIT PATH POWER DOWN
     The transmit path can be powered down individually by setting the
T_OFF bit (TCF0, 02H...) to ‘1’. In this case, the TTIPn/TRINGn pins are
turned into high impedance.
                                                                                19


                                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                                        TEMPERATURE RANGES
3.3       RECEIVE PATH                                                                             is set to ‘0’, the internal impedance matching circuit will be selected. In this
                                                                                                   case, the R_TERM[1:0] bits (TERM, 1AH...) can be set to choose 75 Ω, 100
   The receive path consists of Receive Internal Termination, Monitor
                                                                                                   Ω, 110 Ω or 120 Ω internal impedance of RTIPn/RRINGn. If R_TERM[2]
Gain, Amplitude/Wave Shape Detector, Digital Tuning Controller, Adaptive
                                                                                                   is set to ‘1’, the internal impedance matching circuit will be disabled. In this
Equalizer, Data Slicer, CDR (Clock and Data Recovery), Optional Jitter
                                                                                                   case, the external impedance matching circuit will be used to realize the
Attenuator, Decoder and LOS/AIS Detector. Refer to Figure-7.
                                                                                                   impedance matching.
3.3.1     RECEIVE INTERNAL TERMINATION                                                                Figure-8 shows the appropriate external components to connect with
  The impedance matching can be realized by the internal impedance                                 the cable for one channel. Table-15 is the list of the recommended imped-
matching circuit or the external impedance matching circuit. If R_TERM[2]                          ance matching for receiver.
                                                                                                                                                        LOS/AIS
                                                                                                                                                                                   LOS
                                                                                                                                                        Detector
 RTIP             Receive                                                                                                                                                          RCLK
                                                               Adaptive                                      Clock                     Jitter
                  Internal          Monitor Gain                                         Data Slicer        and Data                                    Decoder                    RDP
  RRING         termination                                    Equalizer                                                            Attenuator
                                                                                                            Recovery                                                               RDN
                                                   Figure-7 Receive Path Function Block Diagram
Table-15 Impedance Matching for Receiver
      Cable Configuration                               Internal Termination                                                              External Termination
                                               R_TERM[2:0]                                   RR                               R_TERM[2:0]                                   RR
           E1/75 Ω                                      000                              120 Ω                                   1XX                                       75 Ω
           E1/120 Ω                                     001                                                                                                                120 Ω
              T1                                        010                                                                                                                100 Ω
              J1                                        011                                                                                                                110 Ω
                                                                                     VDDRn
                                                                                                  One of the Four Identical Channels
                                                    1:1                                D8
                                         A         • •                     •                 •·    RTIPn                                                           3.3 V
                                                                                       D7                                        VDDRn
                                   RX Line                                                                                                                68 F 1
                                                                     RR      VDDRn                                                          0.1 F
                                                                               D6
                                                                                                                 IDT82V2084
                                         B                                 •      •·               RRINGn                        GNDRn              •
                                                                               D5 VDDTn
                                                       2:1                  RT       D4
                                                   •      •                             •·         TTIPn
                                                                                     D3                                                                            3.3 V
                                                                                                                                  VDDTn
                                     TX Line                   Cp
                                                                 2                                                                                        68 F 1
                                                                                                                                            0.1 F
                                                                                    VDDTn
                                                                                      D2                                         GNDTn              •
                                                                                             •·    TRINGn
                                                                               RT      D13
                              Note: 1. Common decoupling capacitor
                                    2. Cp 0-560 (pF)
                                    3. D1 - D8, Motorola - MBR0540T1;               International Rectifier - 11DQ04 or 10BQ060
                                                              Figure-8 Transmit/Receive Line Circuit
                                                                                              20


                                                                                                                                                          INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                          TEMPERATURE RANGES
3.3.2      LINE MONITOR                                                                     by UPDW[1:0] bits (RCF2, 09H...). A shorter observation period allows
                                                                                            quicker response to pulse amplitude variation while a longer observation
    In both T1/J1 and E1 short haul applications, the non-intrusive monitor-
                                                                                            period can minimize the possible overshoots. The default observation
ing on channels located in other chips can be performed by tapping the mon-
itored channel through a high impedance bridging circuit. Refer to Figure-                  period is 128 symbol periods.
9 and Figure-10.                                                                                Based on the observed peak value for a period, the equalizer will be
    After a high resistance bridging circuit, the signal arriving at the RTIPn/             adjusted to achieve a normalized signal. LATT[4:0] bits (STAT1, 15H...)
RRINGn is dramatically attenuated. To compensate this attenuation, the                      indicate the signal attenuation introduced by the cable in approximately 2
Monitor Gain can be used to boost the signal by 22 dB, 26 dB and 32 dB,                     dB per step.
selected by MG[1:0] bits (RCF2, 09H...). For normal operation, the Monitor                  3.3.4     RECEIVE SENSITIVITY
Gain should be set to 0 dB.
                                                                                                For short haul application, the Receive Sensitivity for both E1 and T1/
                                                                                            J1 is -10 dB. For long haul application, the receive sensitivity is -43 dB for
            DSX cross connect
                   point                                                                    E1 and -36 dB for T1/J1.
                                                              RTIP
                                                                                            3.3.5     DATA SLICER
                                                                        monitor
                                                                       gain=0dB
                                                                                                The Data Slicer is used to generate a standard amplitude mark or a
                                                             RRING
                                                                                            space according to the amplitude of the input signals. The threshold can
                         R
                                                                     normal receive mode    be 40%, 50%, 60% or 70%, as selected by the SLICE[1:0] bits (RCF2,
                                                                                            09H...). The output of the Data Slicer is forwarded to the CDR (Clock & Data
                                                             RTIP                           Recovery) unit or to the RDPn/RDNn pins directly if the CDR is disabled.
                                                                        monitor gain
                                                                        =22/26/32dB
                                                                                            3.3.6     CDR (Clock & Data Recovery)
                                                            RRING
                                                                                                The CDR is used to recover the clock from the received signals. The
                                                                      monitor mode
                                                                                            recovered clock tracks the jitter in the data output from the Data Slicer and
                                                                                            keeps the phase relationship between data and clock during the absence
    Figure-9 Monitoring Receive Line in Another Chip                                        of the incoming pulse. The CDR can also be by-passed in the Dual Rail
                                                                                            mode. When CDR is by-passed, the data from the Data Slicer is output to
            DSX cross connect                                                               the RDPn/RDNn pins directly.
                  point
                                                       TTIP
                                                                                            3.3.7     DECODER
                                                                                                In T1/J1 applications, the R_MD[1:0] bits (RCF0, 07H...) is used to
                                                       TRING                                select the AMI decoder or B8ZS decoder. In E1 applications, the R_MD[1:0]
                         R                                          normal transmit mode    bits (RCF0, 07H...) are used to select the AMI decoder or HDB3 decoder.
                                                                                            3.3.8     RECEIVE PATH SYSTEM INTERFACE
                                                       RTIP
                                                                                                The receive path system interface consists of RCLKn pin, RDn/RDPn
                                                                   monitor gain
                                                                    monitor gain
                                                                   =22/26/32dB              pin and RDNn pin. In E1 mode, the RCLKn outputs a recovered 2.048 MHz
                                                       RRING
                                                                                            clock. In T1/J1 mode, the RCLKn outputs a recovered 1.544 MHz clock. The
                                                                                            received data is updated on the RDn/RDPn and RDNn pins on the active
                                                                        monitor mode
                                                                                            edge of RCLKn. The active edge of RCLKn can be selected by the
    Figure-10 Monitor Transmit Line in Another Chip                                         RCLK_SEL bit (RCF0, 07H...). And the active level of the data on RDn/
                                                                                            RDPn and RDNn can also be selected by the RD_INV bit (RCF0, 07H...).
3.3.3      ADAPTIVE EQUALIZER
                                                                                                The received data can be output to the system side in two different ways:
    The adaptive equalizer can remove most of the signal distortion due to
                                                                                            Single Rail or Dual Rail, as selected by R_MD bit [1] (RCF0, 07H...). In Sin-
intersymbol interference caused by cable attenuation. It can be enabled or
                                                                                            gle Rail mode, only RDn pin is used to output data and the RDNn/CVn pin
disabled by setting EQ_ON bit to ‘1’ or ‘0’ (RCF1, 08H...).
                                                                                            is used to report the received errors. In Dual Rail Mode, both RDPn pin and
    When the adaptive equalizer is out of range, EQ_S bit (STAT0, 14H...)                   RDNn pin are used for outputting data.
will be set to ‘1’ to indicate the status of equalizer. If EQ_IES bit (INTES,
                                                                                                In the receive Dual Rail mode, the CDR unit can be by-passed by setting
13H...) is set to ‘1’, any changes of EQ_S bit will generate an interrupt and
                                                                                            R_MD[1:0] to ‘11’ (binary). In this situation, the output data from the Data
EQ_IS bit (INTS0, 16H...) will be set to ‘1’ if it is not masked. If EQ_IES bit
                                                                                            Slicer will be output to the RDPn/RDNn pins directly, and the RCLKn out-
is set to ‘0’, only the ‘0’ to ‘1’ transition of the EQ_S bit will generate an inter-
                                                                                            puts the exclusive OR (XOR) of the RDPn and RDNn.
rupt and EQ_IS bit will be set to ‘1’ if it is not masked. The EQ_IS bit will be
reset after being read.                                                                     3.3.9     RECEIVE PATH POWER DOWN
    The Amplitude/wave shape detector keeps on measuring the ampli-                             The receive path can be powered down individually by setting R_OFF
tude/wave shape of the incoming signals during an observation period. This                  bit (RCF0, 07H...) to ‘1’. In this case, the RCLKn, RDn/RDPn, RDPn and
observation period can be 32, 64, 128 or 256 symbol periods, as selected                    LOSn will be logic low.
                                                                                         21


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                  TEMPERATURE RANGES
3.3.10 G.772 NON-INTRUSIVE MONITORING                                                     The monitored line signal (transmit or receive) goes through Channel
                                                                                     1's Clock and Data Recovery. The signal can be observed digitally at the
    In applications using only three channels, channel 1 can be configured
                                                                                     RCLK1, RD1/RDP1 and RDN1. If Channel 1 is configured to Remote Loop-
to monitor the data received or transmitted in any one of the remaining chan-
nels. The MON[3:0] bits (GCF1, 60H) determine which channel and which                back while in the Monitoring mode, the monitored data will be output on
direction (transmit/receive) will be monitored. The monitoring is non-intru-         TTIP1/TRING1.
sive per ITU-T G.772. Figure-11 illustrates the concept.
                                                                                                        Channel N (N > 2)
                        LOS/AIS
        LOSn
                        Detector
       RCLKn              B8ZS/                                 Clock and                                              Receiver                      RTIPn
                                             Jitter                                 Data            Adaptive            Internal
   RDn/RDPn             HDB3/AMI                                  Data
                                          Attenuator                                Slicer          Equalizer         Termination                    RRINGn
   CVn/RDNn              Decoder                                Recovery
       TCLKn              B8ZS/                                                                                       Transmitter                    TTIPn
                                             Jitter                    Waveform                  Line
   TDn/TDPn             HDB3/AMI                                                                                        Internal
                                          Attenuator                  Shaper/LBO                Driver
        TDNn             Encoder                                                                                      Termination                    TRINGn
                                                                                                              Channel 1
                                                                                                                                         G.772
                        LOS/AIS                                                                                                         Monitor
        LOS1
                        Detector
       RCLK1              B8ZS/                                 Clock and                                              Receiver                      RTIP1
                                             Jitter                                 Data            Adaptive            Internal
   RDn/RDP1             HDB3/AMI                                  Data
                                          Attenuator                                Slicer          Equalizer         Termination                    RRING1
   CVn/RDN1              Decoder                                Recovery
                               Remote
                              Loopback
       TCLK1              B8ZS/                                                                                       Transmitter                    TTIP1
                                             Jitter                    Waveform                  Line
   TDn/TDP1             HDB3/AMI                                                                                        Internal
                                          Attenuator                  Shaper/LBO                Driver
        TDN1             Encoder                                                                                      Termination                    TRING1
                                                      Figure-11 G.772 Monitoring Diagram
                                                                                 22


                                                                                                                                                       INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                    TEMPERATURE RANGES
3.4        JITTER ATTENUATOR                                                             In E1 applications, the Corner Frequency of the DPLL can be 0.9 Hz or
                                                                                    6.8 Hz, as selected by the JABW bit (JACF, 01H...). In T1/J1 applications,
    There is one Jitter Attenuator in each channel of the LIU. The Jitter Atten-
                                                                                    the Corner Frequency of the DPLL can be 1.25 Hz or 5.00 Hz, as selected
uator can be deployed in the transmit path or the receive path, and can also
                                                                                    by the JABW bit (JACF, 01H...). The lower the Corner Frequency is, the
be disabled. This is selected by the JACF[1:0] bits (JACF, 01H...).
                                                                                    longer time is needed to achieve synchronization.
3.4.1      JITTER ATTENUATION FUNCTION DESCRIPTION                                       When the incoming data moves faster than the outgoing data, the FIFO
    The Jitter Attenuator is composed of a FIFO and a DPLL, as shown in             will overflow. This overflow is captured by the JAOV_IS bit (INTS1, 17H...).
Figure-12. The FIFO is used as a pool to buffer the jittered input data, then       If the incoming data moves slower than the outgoing data, the FIFO will
the data is clocked out of the FIFO by a de-jittered clock. The depth of the        underflow. This underflow is captured by the JAUD_IS bit (INTS1, 17H...).
FIFO can be 32 bits, 64 bits or 128 bits, as selected by the JADP[1:0] bits         For some applications that are sensitive to data corruption, the JA limit
(JACF, 01H...). Consequently, the constant delay of the Jitter Attenuator           mode can be enabled by setting JA_LIMIT bit (JACF, 01H...) to ‘1’. In the
will be 16 bits, 32 bits or 64 bits. Deeper FIFO can tolerate larger jitter, but    JA limit mode, the speed of the outgoing data will be adjusted automatically
at the expense of increasing data latency time.                                     when the FIFO is close to its full or emptiness. The criteria of starting speed
                                                                                    adjustment are shown in Table-16. The JA limit mode can reduce the pos-
                                                                                    sibility of FIFO overflow and underflow, but the quality of jitter attenuation
                                                                                    is deteriorated.
                                                                RDn/RDPn
                                  FIFO                                              3.4.2      JITTER ATTENUATOR PERFORMANCE
     Jittered Data                                De-jittered Data
                              32/64/128                                                  The performance of the Jitter Attenuator in the IDT82V2084 meets the
                                                                RDNn
                                                                                    ITU-T I.431, G.703, G.736-739, G.823, G.824, ETSI 300011, ETSI TBR12/
                                                                                    13, AT&T TR62411 specifications. Details of the Jitter Attenuator perfor-
                        W                      R                                    mance is shown in Table-68 Jitter Tolerance and Table-69 Jitter Attenuator
     Jittered Clock                               De-jittered Clock                 Characteristics.
                                  DPLL                           RCLKn              (To properly configure IDT82V2081 for ITU-T G.703 Chapter 13
                                                                                    compliance, please refer to application note AN-875 or contact IDT
                                                                                    for more information)
                                     MCLK                                           Table-16 Criteria of Starting Speed Adjustment
                    Figure-12 Jitter Attenuator                                          FIFO Depth            Criteria for Adjusting Data Outgoing Speed
                                                                                            32 Bits                  2 bits close to its full or emptiness
                                                                                            64 Bits                  3 bits close to its full or emptiness
                                                                                           128 Bits                  4 bits close to its full or emptiness
                                                                                 23


                                                                                                                                              INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                               TEMPERATURE RANGES
3.5       LOS AND AIS DETECTION                                                      • LOS detect level threshold
                                                                                       In short haul mode, the amplitude threshold Q is fixed on 800 mVpp,
3.5.1     LOS DETECTION
                                                                                 while P=Q+200 mVpp (200 mVpp is the LOS level detect hysteresis).
    The Loss of Signal Detector monitors the amplitude of the incoming sig-
                                                                                        In long haul mode, the value of Q can be selected by LOS[4:0] bit
nal level and pulse density of the received signal on RTIPn and RRINGn.
                                                                                 (RCF1, 08H...), while P=Q+4 dB (4 dB is the LOS level detect hysteresis).
    • LOS declare (LOS=1)                                                        The LOS[4:0] default value is 10101 (-46 dB).
    A LOS is detected when the incoming signal has “no transitions”, i.e.,           • Criteria for declare and clear of a LOS detect
when the signal level is less than Q dB below nominal for N consecutive
                                                                                     The detection supports the ANSI T1.231 and I.431 for T1/J1 mode and
pulse intervals. Here N is defined by LAC bit (MAINT0, 0AH...). LOS will be
                                                                                 G.775 and ETSI 300233/I.431 for E1 mode. The criteria can be selected
declared by pulling LOSn pin to high (LOS=1) and LOS interrupt will be gen-
                                                                                 by LAC bit (MAINT0, 0AH...) and T1E1 bit (GCF0, 40H).
erated if it is not masked.
    • LOS clear (LOS=0)                                                              Table-17 and Table-18 summarize LOS declare and clear criteria for
                                                                                 both short haul and long haul application.
    The LOS is cleared when the incoming signal has “transitions”, i.e.,
when the signal level is greater than P dB below nominal and has an aver-            • All Ones output during LOS
age pulse density of at least 12.5% for M consecutive pulse intervals, start-        On the system side, the RDPn/RDNn will reflect the input pulse “transi-
ing with the receipt of a pulse. Here M is defined by LAC bit (MAINT0,           tion” at the RTIPn/RRINGn side and output recovery clock (but the quality
0AH...). LOS status is cleared by pulling LOSn pin to low.                       of the output clock can not be guaranteed when the input level is lower than
                                                                                 the maximum receive sensitivity) when AISE bit (MAINT0, 0AH...) is 0; or
                                                                                 output All Ones as AIS when AISE bit (MAINT0, 0AH...) is 1. In this case
                                    LOS=1
                                                                                 RCLKn output is replaced by MCLK.
                                                                                     On the line side, the TTIPn/TRINGn will output All Ones as AIS when
                                                                                 ATAO bit (MAINT0, 0AH...) is 1. The All Ones pattern uses MCLK as the
                                                                                 reference clock.
             signal level>P                        signal level<Q                    LOS indicator is always active for all kinds of loopback modes.
             density=OK
     (observing windows= M)                        (observing windows= N)
                                    LOS=0
                 Figure-13 LOS Declare and Clear
Table-17 LOS Declare and Clear Criteria for Short Haul Mode
              Control bit                             LOS declare threshold                                          LOS clear threshold
       T1E1                 LAC
                                   Level < 800 mVpp                                              Level > 1 Vpp
                                   N=175 bits                                                    M=128 bits
                      0=T1.231                                                                   12.5% mark density
      1=T1/J1                                                                                    <100 consecutive zeroes
                                   Level < 800 mVpp                                              Level > 1 Vpp
                                   N=1544 bits                                                   M=128 bits
                      1=I.431                                                                    12.5% mark density
                                                                                                 <100 consecutive zeroes
                                   Level < 800 mVpp                                              Level > 1 Vpp
                                   N=32 bits                                                     M=32 bits
                      0=G.775                                                                    12.5% mark density
       0=E1                                                                                      <16 consecutive zeroes
                                   Level < 800 mVpp                                              Level > 1 Vpp
                                   N=2048 bits                                                   M=32 bits
                      1=I.431/ETSI                                                               12.5% mark density
                                                                                                 <16 consecutive zeroes
                                                                              24


                                                                                                                                                    INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                   TEMPERATURE RANGES
Table-18 LOS Declare and Clear Criteria for Long Haul Mode
                               Control bit                             LOS declare threshold      LOS clear threshold                        Note
       T1E1               LAC              LOS[4:0]          Q (dB)
                                     00000               -4           Level < Q                Level > Q+ 4dB
                                     00001               -6           N=175 bits               M=128 bits
                                     …                   …                                     12.5% mark density
                      0     T1.231 10001                 -38                                   <100 consecutive zeroes
                                     …                   …
                                     10101               -46
                                     10110-11111         -48
                                     00000                -4          Level < Q                Level > Q+ 4dB              I.431 Level detect range is -18 to -30 dB.
                                 -   …                                N=1544 bits              M=128 bits
                                     00110               -16                                   12.5% mark density
     1=T1/J1                                                                                   <100 consecutive zeroes
                              I.431 00111                -18
                                     …                   …
                                     01101               -30
                      1
                                     01110               -32
                                     …                   …
                                 -   10001               -38
                                     …                   …
                                     10101               -46
                                     10110-11111         -48
                                     00000               -4           Level < Q                Level > Q+ 4dB              G.775 Level detect range is -9 to -35 dB.
                                 -   …                   …            N=32 bits                M=32 bits
                                     00010               -8                                    12.5% mark density
                                     00011               -10                                   <16 consecutive zeroes
                             G.775 …                     …
                      0              10000                -36
                                     10001                -38
                                 -   …                   …
                                     10101(default)       -46
                                     10110-11111          -48
       0=E1                          00000                -4          Level < Q                Level > Q+ 4dB              I.431 Level detect range is -6 to -20 dB.
                                 -                                    N=2048 bits              M=32 bits
                                     00001               -6                                    12.5% mark density
                             I.431/ …                    …                                     <16 consecutive zeroes
                      1       ETSI 01000                 -20
                                     01001                -22
                                 -   …                   …
                                     10101(default)       -46
                                     10110-11111          -48
3.5.2    AIS DETECTION                                                               T1.231. In E1 applications, the criteria for declaring/clearing AIS detection
    The Alarm Indication Signal can be detected by the IDT82V2084 when               comply with the ITU G.775 or the ETSI 300233, as selected by the LAC bit
the Clock&Data Recovery unit is enabled. The status of AIS detection is              (MAINT0, 0AH...). Table-19 summarizes different criteria for AIS detection
reflected in the AIS_S bit (STAT0, 14H...). In T1/J1 applications, the criteria      Declaring/Clearing.
for declaring/clearing AIS detection are in compliance with the ANSI
Table-19 AIS Condition
                                   ITU G.775 for E1                               ETSI 300233 for E1                          ANSI T1.231 for T1/J1
                           (LAC bit is set to ‘0’ by default)                    (LAC bit is set to ‘1’)
      AIS        Less than 3 zeros contained in each of two consecutive Less than 3 zeros contained in a 512-bit Less than 9 zeros contained in an 8192-bit stream
   detected      512-bit streams are received                           stream are received                      (a ones density of 99.9% over a period of 5.3ms)
      AIS        3 or more zeros contained in each of two consecutive 3 or more zeros contained in a 512-bit 9 or more zeros contained in an 8192-bit stream
    cleared      512-bit streams are received                           stream are received                      are received
                                                                                 25


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                  TEMPERATURE RANGES
3.6         TRANSMIT AND DETECT INTERNAL PATTERNS                                      PRBS data can be inverted through setting the PRBS_INV bit (MAINT0,
                                                                                  0AH...).
     The internal patterns (All Ones, All Zeros, PRBS/QRSS pattern and
Activate/Deactivate Loopback Code) will be generated and detected by the               Any change of PRBS_S bit will be captured by PRBS_IS bit (INTS0,
IDT82V2084. TCLKn is used as the reference clock by default. MCLK can             16H...). The PRBS_IES bit (INTES, 13H...) can be used to determine
also be used as the reference clock by setting the PATT_CLK bit (MAINT0,          whether the ‘0’ to ‘1’ change of PRBS_S bit will be captured by the PRBS_IS
0AH...) to ‘1’.                                                                   bit or any changes of PRBS_S bit will be captured by the PRBS_IS bit. When
                                                                                  the PRBS_IS bit is ‘1’, an interrupt will be generated if the PRBS_IM bit
     If the PATT_CLK bit (MAINT0, 0AH...) is set to ‘0’ and the PATT[1:0] bits
                                                                                  (INTM0, 11H...) is set to ‘1’.
(MAINT0, 0AH...) are set to ‘00’, the transmit path will operate in normal
mode.                                                                                  The received PRBS/QRSS logic errors can be counted in a 16-bit
                                                                                  counter if the ERR_SEL [1:0] bits (MAINT6, 10H...) are set to ‘00’. Refer to
3.6.1       TRANSMIT ALL ONES                                                     Refer to 3.8 ERROR DETECTION/COUNTING AND INSERTION for the
     In transmit direction, the All Ones data can be inserted into the data       operation of the error counter.
stream when the PATT[1:0] bits (MAINT0, 0AH...) are set to ‘01’. The trans-
mit data stream is output from TTIPn/TRINGn. In this case, either TCLKn           3.7       LOOPBACK
or MCLK can be used as the transmit clock, as selected by the PATT_CLK                 To facilitate testing and diagnosis, the IDT82V2084 provides four dif-
bit (MAINT0, 0AH...).                                                             ferent loopback configurations: Analog Loopback, Digital Loopback,
3.6.2       TRANSMIT ALL ZEROS                                                    Remote Loopback and Inband Loopback.
     If the PATT_CLK bit (MAINT0, 0AH...) is set to ‘1’, the All Zeros will be    3.7.1     ANALOG LOOPBACK
inserted into the transmit data stream when the PATT[1:0] bits (MAINT0,                When the ALP bit (MAINT1, 0BH...) is set to ‘1’, the corresponding chan-
0AH...) are set to ‘00’.                                                          nel is configured in Analog Loopback mode. In this mode, the transmit sig-
3.6.3       PRBS/QRSS GENERATION AND DETECTION                                    nals are looped back to the Receiver Internal Termination in the receive
                                                                                  path then output from RCLKn, RDn, RDPn/RDNn. At the same time, the
     A PRBS/QRSS will be generated in the transmit direction and detected         transmit signals are still output to TTIPn/TRINGn in transmit direction. Fig-
in the receive direction by IDT82V2084. The QRSS is 220-1 for T1/J1 appli-        ure-14 shows the process.
cations and the PRBS is 215-1 for E1 applications, with maximum zero              3.7.2     DIGITAL LOOPBACK
restrictions according to the AT&T TR62411 and ITU-T O.151.
                                                                                       When the DLP bit (MAINT1, 0BH...) is set to ‘1’, the corresponding chan-
     When the PATT[1:0] bits (MAINT0, 0AH...) are set to ‘10’, the PRBS/          nel is configured in Digital Loopback mode. In this mode, the transmit sig-
QRSS pattern will be inserted into the transmit data stream with the MSB          nals are looped back to the jitter attenuator (if enabled) and decoder in
first. The PRBS/QRSS pattern will be transmitted directly or invertedly.          receive path, then output from RCLKn, RDn, RDPn/RDNn. At the same
     The PRBS/QRSS in the received data stream will be monitored. If the          time, the transmit signals are still output to TTIPn/TRINGn in transmit direc-
PRBS/QRSS has reached synchronization status, the PRBS_S bit                      tion. Figure-15 shows the process.
(STAT0, 14H...) will be set to ‘1’, even in the presence of a logic error rate         Both Analog Loopback mode and Digital Loopback mode allow the
less than or equal to 10-1. The criteria for setting/clearing the PRBS_S bit      sending of the internal patterns (All Ones, All Zeros, PRBS, etc.) which will
are shown in Table-20.                                                            overwrite the transmit signals. In this case, either TCLKn or MCLK can be
                                                                                  used as the reference clock for internal patterns transmission.
Table-20 Criteria for Setting/Clearing the PRBS_S Bit
                                                                                  3.7.3     REMOTE LOOPBACK
 PRBS/QRSS 6 or less than 6 bit errors detected in a 64 bits hopping window.
 Detection                                                                             When the RLP bit (MAINT1, 0BH...) is set to ‘1’, the corresponding chan-
 PRBS/QRSS More than 6 bit errors detected in a 64 bits hopping window.           nel is configured in Remote Loopback mode. In this mode, the recovered
 Missing                                                                          clock and data output from Clock and Data Recovery on the receive path
                                                                                  is looped back to the jitter attenuator (if enabled) and Waveform Shaper in
                                                                                  transmit path. Figure-16 shows the process.
                                                                               26


                                                                                                                                            INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                  TEMPERATURE RANGES
                                                                                              One of the Four Identical Channels
                     LOS/AIS
          LOSn
                     Detector
         RCLKn          B8ZS/                                   Clock and                                           Receiver                RTIPn
                                           Jitter                               Data             Adaptive
     RDn/RDPn        HDB3/AMI                                     Data                                              Internal
                                        Attenuator                              Slicer          Equalizer                                   RRINGn
     CVn/RDNn         Decoder                                   Recovery                                          Termination
                                                                                                                                     Analog
                                                                                                                                   Loopback
         TCLKn          B8ZS/                                                                                     Transmitter               TTIPn
                                           Jitter                 Waveform                  Line
      TDn/TDPn       HDB3/AMI                                                                                       Internal
                                        Attenuator               Shaper/LBO                Driver
          TDNn        Encoder                                                                                     Termination               TRINGn
                                                          Figure-14 Analog Loopback
                                                                                                 One of the Four Identical Channels
               LOS/AIS
      LOSn
               Detector
    RCLKn        B8ZS/                                              Clock and                                                   Receiver       RTIPn
                                   Jitter                                            Data                Adaptive                Internal
  RDn/RDPn     HDB3/AMI                                               Data
                                Attenuator                                           Slicer              Equalizer            Termination       RRINGn
 CVn/RDNn       Decoder                                             Recovery
                                                      Digital
                                                   Loopback
     TCLKn       B8ZS/                                                                                                     Transmitter         TTIPn
                                   Jitter                            Waveform                     Line
  TDn/TDPn     HDB3/AMI                                                                                                       Internal
                                Attenuator                          Shaper/LBO                   Driver
      TDNn      Encoder                                                                                                    Termination         TRINGn
                                                          Figure-15 Digital Loopback
                                                                                              One of the Four Identical Channels
                  LOS/AIS
        LOSn
                  Detector
      RCLKn         B8ZS/                                           Clock and                                                    Receiver      RTIPn
                                                     Jitter                            Data               Adaptive                Internal
   RDn/RDPn       HDB3/AMI                                             Data
                                                  Attenuator                          Slicer              Equalizer            Termination     RRINGn
   CVn/RDNn        Decoder                                           Recovery
                               Remote
                              Loopback
       TCLKn        B8ZS/                                                                                                    Transmitter      TTIPn
                                                     Jitter           Waveform                     Line
   TDn/TDPn       HDB3/AMI                                                                                                     Internal
                                                  Attenuator         Shaper/LBO                   Driver
        TDNn       Encoder                                                                                                  Termination       TRINGn
                                                         Figure-16 Remote Loopback
                                                                           27


                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
3.7.4      INBAND LOOPBACK                                                          6-bit-long or 8-bit-long respectively by repeating itself if it is 3-bit-long or 4-
                                                                                    bit-long.
     When PATT[1:0] bits (MAINT0, 0AH...) are set to ‘11’, the correspond-
ing channel is configured in Inband Loopback mode. In this mode, an                      After the Activate Loopback Code has been detected in the receive data
unframed activate/Deactivate Loopback Code is generated repeatedly in               for more than 30 ms (in E1 mode) / 40 ms (in T1/J1 mode), the IBLBA_S
transmit direction per ANSI T1. 403 which overwrite the transmit signals.           bit (STAT0, 14H...) will be set to ‘1’ to declare the reception of the Activate
In receive direction, the framed or unframed code is detected per ANSI T1.          Loopback Code.
403, even in the presence of 10-2 bit error rate.                                        After the Deactivate Loopback Code has been detected in the receive
     If the Automatic Remote Loopback is enabled by setting ARLP bit                data for more than 30 ms (In E1 mode) / 40 ms (In T1/J1 mode), the IBLBD_S
(MAINT1, 0BH...) to ‘1’, the chip will establish/demolish the Remote Loop-          bit (STAT0, 14H...) will be set to ‘1’ to declare the reception of the Deactivate
back based on the reception of the Activate Loopback Code/Deactivate                Loopback Code.
Loopback Code for 5.1 s. If the ARLP bit (MAINT1, 0BH...) is set to ‘0’, the             When the IBLBA_IES bit (INTES, 13H...) is set to ‘0’, only the ‘0’ to ‘1’
Remote Loopback can also be demolished forcedly.                                    transition of the IBLBA_S bit will generate an interrupt and set the IBLBA_IS
3.7.4.1 Transmit Activate/Deactivate Loopback Code                                  bit (INTS0, 16H...) to ‘1’. When the IBLBA_IES bit is set to ‘1’, any changes
                                                                                    of the IBLBA_S bit will generate an interrupt and set the IBLBA_IS bit
     The pattern of the transmit Activate/Deactivate Loopback Code is
                                                                                    (INTS0, 16H...) to ‘1’. The IBLBA_IS bit will be reset to ‘0’ after being read.
defined by the TIBLB[7:0] bits (MAINT3, 0DH...). Whether the code repre-
sents an Activate Loopback Code or a Deactivate Loopback Code is judged                  When the IBLBD_IES bit (INTES, 13H...) is set to ‘0’, only the ‘0’ to ‘1’
by the far end receiver. The length of the pattern ranges from 5 bits to 8 bits,    transition of the IBLBD_S bit will generate an interrupt and set the IBLBD_IS
as selected by the TIBLB_L[1:0] bits (MAINT2, 0CH...). The pattern can be           bit (INTS0, 16H...) to ‘1’. When the IBLBD_IES bit is set to ‘1’, any changes
programmed to 6-bit-long or 8-bit-long respectively by repeating itself if it       of the IBLBD_S bit will generate an interrupt and set the IBLBD_IS bit
is 3-bit-long or 4-bit-long. When the PATT[1:0] bits (MAINT0, 0AH...) are           (INTS0, 16H...) to ‘1’. The IBLBD_IS bit will be reset to ‘0’ after being read.
set to ‘11’, the transmission of the Activate/Deactivate Loopback Code is           3.7.4.3 Automatic Remote Loopback
initiated. If the PATT_CLK bit (MAINT0, 0AH...) is set to ‘0’ and the
PATT[1:0] bits (MAINT0, 0AH...) are set to ‘00’, the transmission of the Acti-           When ARLP bit (MAINT1, 0BH...) is set to ‘1’, the corresponding chan-
vate/Deactivate Loopback Code will stop.                                            nel is configured into the Automatic Remote Loopback mode. In this mode,
                                                                                    if the Activate Loopback Code has been detected in the receive data for
     The local transmit activate/deactivate code setting should be the same         more than 5.1 s, the Remote Loopback (shown as Figure-16) will be estab-
as the receive code setting in the remote end. It is the same thing for the         lished automatically, and the RLP_S bit (STAT1, 15H...) will be set to ‘1’ to
other way round.                                                                    indicate the establishment of the Remote Loopback. The IBLBA_S bit
3.7.4.2 Receive Activate/Deactivate Loopback Code                                   (STAT0, 14H...) is set to ‘1’ to generate an interrupt. In this case, the Remote
                                                                                    Loopback mode will still be kept even if the receiver stop receiving the Acti-
     The pattern of the receive Activate Loopback Code is defined by the
                                                                                    vate Loopback Code.
RIBLBA[7:0] bits (MAINT4, 0EH...). The length of this pattern ranges from
5 bits to 8 bits, as selected by the RIBLBA_L [1:0] bits (MAINT2, 0CH...).               If the Deactivate Loopback Code has been detected in the receive data
The pattern can be programmed to 6-bit-long or 8-bit-long respectively by           for more than 5.1 s, the Remote Loopback will be demolished automatically,
repeating itself if it is 3-bit-long or 4-bit-long.                                 and the RLP_S bit (STAT1, 15H...) will set to ‘0’ to indicate the demolish-
                                                                                    ment of the Remote Loopback. The IBLBD_S bit (STAT0, 14H...) is set to
     The pattern of the receive Deactivate Loopback Code is defined by the
                                                                                    ‘1’ to generate an interrupt.
RIBLBD[7:0] bits (MAINT5, 0FH...). The length of the receive Deactivate
Loopback Code ranges from 5 bits to 8 bits, as selected by the                           The Remote Loopback can also be demolished forcedly by setting
RIBLBD_L[1:0] bits (MAINT2, 0CH...). The pattern can be programmed to               ARLP bit (MAINT1, 0BH...) to ‘0’.
                                                                                 28


                                                                                                                                                INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
3.8       ERROR DETECTION/COUNTING AND INSERTION                                  •    HDB3/B8ZS Code Violation (CV) Error: In HDB3/B8ZS coding, a
                                                                                       CV error is declared when two consecutive BPV errors are
3.8.1     DEFINITION OF LINE CODING ERROR                                              detected, and the pulses that have the same polarity as the previ-
    The following line encoding errors can be detected and counted by the              ous pulse are not the HDB3/B8ZS zero substitution pulses.
IDT82V2084:                                                                       •    Excess Zero (EXZ) Error: there are two standards defining the EXZ
•     Received Bipolar Violation (BPV) Error: In AMI coding, when two                  errors: ANSI and FCC. The EXZ_DEF bit (MAINT6, 10H...)
      consecutive pulses of the same polarity are received, a BPV error                chooses which standard will be adopted by the corresponding
      is declared.                                                                     channel to judge the EXZ error. Table-21 shows definition of EXZ.
Table-21 EXZ Definition
                                                                                   EXZ Definition
                                                     ANSI                                                                    FCC
          AMI                       More than 15 consecutive 0s are detected                           More than 80 consecutive 0s are detected
         HDB3                       More than 3 consecutive 0s are detected                             More than 3 consecutive 0s are detected
         B8ZS                       More than 7 consecutive 0s are detected                             More than 7 consecutive 0s are detected
3.8.2     ERROR DETECTION AND COUNTING                                            (CNT1, 19H...) should be read within the next second. If the counter over-
    Which type of the receiving errors (Received CV/BPV errors, excess            flows, a counter overflow interrupt which is indicated by CNT_OV_IS bit
zero errors and PRBS logic errors) will be counted is determined by               (INTS1, 17H...) will be generated if it is not masked by CNT_IM bit (INTM1,
ERR_SEL[1:0] bits (MAINT6, 10H...). Only one type of receiving error can          12H...).
be counted at a time except that when the ERR_SEL[1:0] bits are set to ‘11’,
both CV/BPV and EXZ errors will be detected and counted.                                                      Auto Report Mode
                                                                                                                (CNT_MD=1)
    The receiving errors are counted in an internal 16-bit Error Counter.
Once an error is detected, an error interrupt which is indicated by corre-
sponding bit in (INTS1, 17H...) will be generated if it is not masked. This                                        counting
Error Counter can be operated in two modes: Auto Report Mode and Man-
ual Report Mode, as selected by the CNT_MD bit (MAINT6, 10H...). In Sin-                     N                                                next second
                                                                                                                                              repeats the
gle Rail mode, once BPV or CV errors are detected, the CVn pin will be                                  One-Second Timer expired?            same process
driven to high for one RCLK period.
    • Auto Report Mode                                                                                                   Y
                                                                                                    CNT0, CNT1           data in counter
    In Auto Report Mode, the internal counter starts to count the received                          counter         0
errors when the CNT_MD bit (MAINT6, 10H...) is set to ‘1’. A one-second
timer is used to set the counting period. The received errors are counted                                 Bit TMOV_IS is set to '1'
within one second. If the one-second timer expires, the value in the internal
counter will be transferred to (CNT0, 18H...) and (CNT1, 19H...), then the
                                                                                                   read the data in CNT0, CNT1 within
internal counter will be reset and start to count received errors for the next                     the next second
second. The errors occurred during the transfer will be accumulated to the
                                                                                                        Bit TMOV_IS is cleared after
next round. The expiration of the one-second timer will set TMOV_IS bit                                 the interrupt register is read
(INTS1, 17H...) to ‘1’, and will generate an interrupt if the TIMER_IM bit
(INTM1, 12H...) is set to ‘0’. The TMOV_IS bit (INTS1, 17H...) will be cleared                      Figure-17 Auto Report Mode
after the interrupt register is read. The content in the (CNT0, 18H...) and
                                                                               29


                                                                                                                                                   INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                   TEMPERATURE RANGES
     • Manual Report Mode                                                           3.8.3     BIPOLAR VIOLATION AND PRBS ERROR INSERTION
     In Manual Report Mode, the internal Error Counter starts to count the              Only when three consecutive ‘1’s are detected in the transmit data
received errors when the CNT_MD bit (MAINT6, 10H...) is set to ‘0’. When            stream, will a ‘0’ to ‘1’ transition on the BPV_INS bit (MAINT6, 10H...) gen-
there is a ‘0’ to ‘1’ transition on the CNT_TRF bit (MAINT6, 10H...), the data      erate a bipolar violation pulse, and the polarity of the second ‘1’ in the series
in the counter will be transferred to (CNT0, 18H...) and (CNT1, 19H...), then       will be inverted.
the counter will be reset. The errors occurred during the transfer will be
accumulated to the next round. If the counter overflows, a counter overflow             A ‘0’ to ‘1’ transition on the EER_INS bit (MAINT6, 10H...) will generate
interrupt indicated by CNT_OV_IS bit (INTS1, 17H...) will be generated if           a logic error during the PRBS/QRSS transmission.
it is not masked by CNT_IM bit (INTM1, 12H...).
                                                                                    3.9       LINE DRIVER FAILURE MONITORING
                                                                                        The transmit driver failure monitor can be enabled or disabled by setting
                           Manual Report mode                                       DFM_OFF bit (TCF1, 03H...). If the transmit driver failure monitor is
                               (CNT_MD=0)
                                                                                    enabled, the transmit driver failure will be captured by DF_S bit (STAT0,
                                                                                    14H...). The transition of the DF_S bit is reflected by DF_IS bit (INTS0,
                                                                                    16H...), and, if enabled by DF_IM bit (INTM0, 11H...), will generate an inter-
                                   counting                                         rupt. When there is a short circuit on the TTIPn/TRINGn port, the output cur-
                      N                                                             rent will be limited to 100 mA (typical) and an interrupt will be generated.
                            A '0' to '1' transition
                              on CNT_TRF?
                                           Y                    next round
                                                                 repeat the
                          CNT0, CNT1           data in         same process
                          counter
                          counter 0
                           Read the data in CNT0,
                          CNT1 within next round1
                           Reset CNT_TRF for the
                            next '0' to '1' transition
                    Figure-18 Manual Report Mode
Note: 1. It is recommended that users should do the followings within next round
           of error counting: Read the data in CNT0 and CNT1; Reset CNT_TRF
           bit for the next ‘0’ to ‘1’ transition on this bit.
                                                                                 30


                                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                TEMPERATURE RANGES
3.10 MCLK AND TCLK                                                                3.10.2 TRANSMIT CLOCK (TCLK)
3.10.1 MASTER CLOCK (MCLK)                                                            The TCLKn is used to sample the transmit data on TDn/TDPn, TDNn.
                                                                                  The active edge of TCLKn can be selected by the TCLK_SEL bit (TCF0,
    MCLK is an independent, free-running reference clock. MCLK is 1.544           02H...). During Transmit All Ones, PRBS/QRSS patterns or Inband Loop-
MHz or 37.056 MHz for T1/J1 applications and 2.048 MHz or 49.152 MHz              back Code, either TCLKn or MCLK can be used as the reference clock. This
in E1 mode. This reference clock is used to generate several internal ref-        is selected by the PATT_CLK bit (MAINT0, 0AH...).
erence signals:
•     Timing reference for the integrated clock recovery unit.                        But for Automatic Transmit All Ones and AIS, only MCLK is used as the
•     Timing reference for the integrated digital jitter attenuator.              reference clock and the PATT_CLK bit is ignored. In Automatic Transmit
•     Timing reference for microcontroller interface.                             All Ones condition, the ATAO bit (MAINT0, 0AH) is set to ‘1’. In AIS condi-
•     Generation of RCLK signal during a loss of signal condition if AIS is       tion, the AISE bit (MAINT0, 0AH) is set to ‘1’.
      enabled.                                                                        If TCLKn has been missing for more than 70 MCLK cycles, TCLK_LOS
•     Reference clock during a blue alarm Transmit All Ones (TAOS), all           bit (STAT0, 14H...) will be set, and the corresponding TTIPn/TRINGn will
      zeros, PRBS/QRSS and inband loopback patterns if it is selected             become high impedance if this channel is not used for remote loopback or
      as the reference clock. For ATAO and AIS, MCLK is always used as            is not using MCLK to transmit internal patterns (TAOS, All Zeros, PRBS and
      the reference clock.                                                        in-band loopback code). When TCLKn is detected again, TCLK_LOS bit
    Figure-19 shows the chip operation status in different conditions of          (STAT0, 14H...) will be cleared. The reference frequency to detect a TCLKn
MCLK and TCLKn. The missing of MCLK will set all the four TTIP/TRING              loss is derived from MCLK.
to high impedance state.
                                                                                   clocked
                                                                                                                              MCLK=H/L?
                                                                                                                                     yes
                              clocked                                          L/H
                                                   TCLKn status?
                                                                           transmitter n enters high
                                                                             impedance status and                        all transmitters high
            normal operation mode
                                                                        generates transmit clock loss                     impedance status
                                                                            interrupt if not masked
                                                       Figure-19 TCLK Operation Flowchart
                                                                              31


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                 TEMPERATURE RANGES
3.11 MICROCONTROLLER INTERFACES                                                   interface. When pin INT/MOT is pulled to Low, the parallel microcontroller
                                                                                  interface is configured for Motorola compatible hosts. When High, it is for
    The microcontroller interface provides access to read and write the reg-
                                                                                  Intel compatible microcontrollers.
isters in the device. The chip supports serial processor interface and two
kinds of parallel processor interface: Motorola non_multiplexed mode and          3.11.2 SERIAL MICROCONTROLLER INTERFACE
Intel non_multiplexed mode. By pulling pin P/S to low or to High, the micro-          The serial interface pins include SCLK, SDI, SDO, CS as well as SCLKE
controller interface can be set to work in serial mode or in parallel mode        (control pin for the selection of serial clock active edge). By pulling P/S pin
respectively. Refer to 7 MICROCONTROLLER INTERFACE TIMING                         to LOW, the device operates in the serial host Mode. In this mode, the reg-
CHARACTERISTICS for details.                                                      isters are programmed through a 24-bit word which contains an 8-bit
3.11.1 PARALLEL MICROCONTROLLER INTERFACE                                         address byte (A0~A7), a subsequent 8-bit command byte (bit R/W) and an
                                                                                  8-bit data byte (D0~D7). When bit R/W is ‘1’, data is read out from pin SDO.
    The interface is compatible with Motorola or Intel microcontroller. Pin
                                                                                  When bit R/W is ‘0’, data is written into SDI pin. Refer to Figure-20.
INT/MOT is used to select the operating mode of the parallel microcontroller
       CS
       SCLK
      SDI       A0    A1   A2    A3    A4   A5   A6    A7   R/W      D   o   n  '   t     C   a   r   e     D0    D1    D2    D3    D4    D5   D6   D7
                             address byte                                command byte                               input data byte (R/W=0)
    SDO                                                                                                     D0    D1    D2    D3    D4    D5   D6   D7
                                               remains high impedance                                                Output data byte (R/W=1)
                                          Figure-20 Serial Processor Interface Function Timing
                                                                              32


                                                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                       TEMPERATURE RANGES
3.12 INTERRUPT HANDLING                                                              interrupt is acknowledged through reading the Interrupt Status Registers
                                                                                     of all the channels (INTS0, 16H...) or (INTS1, 17H...) will all the bits in the
    All kinds of interrupt of the IDT82V2084 are indicated by the INT pin.
                                                                                     INTCH register (80H) be reset and the INT pin become inactive.
When the INT_PIN[0] bit (GCF0, 40H) is ‘0’, the INT pin is open drain active
low, with a 10 KΩ external pull-up resistor. When the INT_PIN[1:0] bits                   There are totally fourteen kinds of events that could be the interrupt
(GCF0, 40H) are ‘01’, the INT pin is push-pull active low; when the                  source for one channel:
INT_PIN[1:0] bits are ‘10’, the INT pin is push-pull active high.                         (1).LOS Detected
                                                                                          (2).AIS Detected
    All the interrupt can be disabled by the INTM_GLB bit (GCF0, 40H).
                                                                                          (3).Driver Failure Detected
When the INTM_GLB bit (GCF0, 40H) is set to ‘0’, an active level on the
                                                                                          (4).TCLK Loss
INT pin represents an interrupt of the IDT82V2084. The INT_CH[7:0] bits
                                                                                          (5).Synchronization Status of PRBS
(INTCH, 80H) should be read to identify which channel(s) generate the
                                                                                          (6).PRBS Error Detected
interrupt.
                                                                                          (7).Code Violation Received
    The interrupt event is captured by the corresponding bit in the Interrupt             (8).Excessive Zeros Received
Status Register (INTS0, 16H...) or (INTS1, 17H...). Every kind of interrupt               (9).JA FIFO Overflow/Underflow
can be enabled/disabled individually by the corresponding bit in the register             (10).Inband Loopback Code Status
(INTM0, 11H...) or (INTM1, 12H...). Some event is reflected by the corre-                 (11).Equalizer Out of Range
sponding bit in the Status Register (STAT0, 14H...) or (STAT1, 15H...), and               (12).One-Second Timer Expired
the Interrupt Trigger Edge Selection Register can be used to determine how                (13).Error Counter Overflow
the Status Register sets the Interrupt Status Register.                                   (14).Arbitrary Waveform Generator Overflow
    After the Interrupt Status Register (INTS0, 16H...) or (INTS1, 17H...) is             Table-22 is a summary of all kinds of interrupt and their associated Sta-
read, the corresponding bit indicating which channel generates the inter-            tus bit, Interrupt Status bit, Interrupt Trigger Edge Selection bit and Interrupt
rupt in the INTCH register (80H) will be reset. Only when all the pending            Mask bit.
Table-22 Interrupt Event
                 Interrupt Event                          Status bit            Interrupt Status bit         Interrupt Edge Selection bit      Interrupt Mask bit
                                                       (STAT0, STAT1)             (INTS0, INTS1)                        (INTES)                 (INTM0, INTM1)
                  LOS Detected                             LOS_S                       LOS_IS                          LOS_IES                        LOS_IM
                  AIS Detected                              AIS_S                       AIS_IS                          AIS_IES                       AIS_IM
           Driver Failure Detected                          DF_S                        DF_IS                           DF_IES                         DF_IM
                   TCLKn Loss                            TCLK_LOS                  TCLK_LOS_IS                         TCLK_IES                      TCLK_IM
  Synchronization Status of PRBS/QRSS                     PRBS_S                      PRBS_IS                         PRBS_IES                      PRBS_IM
              PRBS/QRSS Error                                                          ERR_IS                                                         ERR_IM
           Code Violation Received                                                      CV_IS                                                          CV_IM
          Excessive Zeros Received                                                     EXZ_IS                                                         EXZ_IM
               JA FIFO Overflow                                                       JAOV_IS                                                        JAOV_IM
              JA FIFO Underflow                                                       JAUD_IS                                                       JAUD_IM
           Equalizer Out of Range                           EQ_S                        EQ_IS                           EQ_IES                         EQ_IM
  Inband Loopback Activate Code Status                    IBLBA_S                     IBLBA_IS                        IBLBA_IES                     IBLBA_IM
 Inband Loopback Deactivate Code Status                   IBLBD_S                     IBLBD_IS                        IBLBD_IES                     IBLBD_IM
         One-Second Timer Expired                                                     TMOV_IS                                                      TIMER_IM
           Error Counter Overflow                                                   CNT_OV_IS                                                         CNT_IM
  Arbitrary Waveform Generator Overflow                                             DAC_OV_IS                                                     DAC_OV_IM
3.13 5V TOLERANT I/O PINS                                                            •      Hardware Reset: Asserting the RST pin low for a minimum of 100 ns
                                                                                            will reset the chip.
    All digital input pins will tolerate 5.0 ± 5% volts and are compatible with
TTL logic.                                                                                After reset, all drivers output are in high impedance state, all the internal
                                                                                     flip-flops are reset, and all the registers are initialized to default values.
3.14 RESET OPERATION
                                                                                     3.15 POWER SUPPLY
    The chip can be reset in two ways:
•     Software Reset: Writing to the RST register (20H) will reset the chip               This chip uses a single 3.3 V power supply.
      in 1 us.
                                                                                 33


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                 TEMPERATURE RANGES
4       PROGRAMMING INFORMATION
4.1     REGISTER LIST AND MAP
   The IDT82V2084 registers can be divided into Global Registers and            Registers. If the configuration of all the four channels is the same, the COPY
Local Registers. The operation on the Global Registers affects all the four     bit (GCF0, 40H) can be set to ‘1’ to establish the Broadcasting mode. In the
channels while the operation on Local Registers only affects that specific      Broadcasting mode, the Writing operation on any of the four channels’ reg-
channel. For different channel, the address of Local Register is different.     isters will be copied to the corresponding registers of all the other channels.
Table-23 is the map of Global Registers and Table-24 is the map of Local
Table-23 Global Register List and Map
 Address (Hex)      Register      R/W                                                             Map
                                              b7            b6               b5             b4              b3             b2             b1             b0
       00         ID           R             ID7           ID6              ID5            ID4             ID3            ID2            ID1            ID0
       20         RST          W
       40         GCF0         R/W             -             -                -          T1E1            COPY         INTM_GLB       INT_PIN1       INT_PIN0
       60         GCF1         R/W          MON3          MON2            MON1          MON0                 -              -              -              -
       80         INTCH        R               -        INT_CH4               -        INT_CH3               -          INT_CH2            -        INT_CH1
       A0         Reserved
       C0         Reserved
       E0         Reserved
                                                                             34


                                                                                                                       INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                          TEMPERATURE RANGES
Table-24 Per Channel Register List and Map
        Address (Hex)          Register R/W                                         Map
           CH1-CH4                               b7        b6        b5         b4           b3        b2          b1         b0
Jitter Attenuation Control Register
          01,41,81,C1          JACF     R/W       -         -     JA_LIMIT   JACF1        JACF0     JADP1       JADP0       JABW
Transmit Path Control Registers
          02,42,82,C2          TCF0     R/W       -         -         -      T_OFF        TD_INV  TCLK_SEL      T_MD1      T_MD0
          03,43,83,C3          TCF1     R/W       -         -    DFM_OFF       THZ        PULS3     PULS2       PULS1      PULS0
          04,44,84,C4          TCF2     R/W       -         -      SCAL5     SCAL4        SCAL3     SCAL2       SCAL1      SCAL0
          05,45,85,C5          TCF3     R/W    DONE        RW        UI1       UI0        SAMP3     SAMP2       SAMP1      SAMP0
          06,46,86,C6          TCF4     R/W       -      WDAT6     WDAT5     WDAT4        WDAT3     WDAT2       WDAT1      WDAT0
Receive Path Control Registers
          07,47,87,C7          RCF0     R/W       -         -         -      R_OFF       RD_INV   RCLK_SEL      R_MD1      R_MD0
          08,48,88,C8          RCF1     R/W       -      EQ_ON        -       LOS4         LOS3      LOS2        LOS1       LOS0
          09,49,89,C9          RCF2     R/W       -         -      SLICE1    SLICE0       UPDW1    UPDW0         MG1         MG0
Network Diagnostics Control Registers
         0A,4A,8A,CA           MAINT0   R/W       -      PATT1     PATT0   PATT_CLK     PRBS_INV      LAC        AISE       ATAO
         0B,4B,8B,CB           MAINT1             -         -         -          -         ARLP       RLP         ALP        DLP
         0C,4C,8C,CC           MAINT2   R/W       -         -    TIBLB_L1  TIBLB_L0    RIBLBA_L1  RIBLBA_L0 RIBLBD_L1 RIBLBD_L0
         0D,4D,8D,CD           MAINT3   R/W   TIBLB7     TIBLB6    TIBLB5    TIBLB4       TIBLB3    TIBLB2      TIBLB1     TIBLB0
         0E,4E,8E,CE           MAINT4   R/W  RIBLBA7    RIBLBA6   RIBLBA5   RIBLBA4      RIBLBA3   RIBLBA2     RIBLBA1    RIBLBA0
          0F,4F,8F,CF          MAINT5   R/W  RIBLBD7    RIBLBD6   RIBLBD5   RIBLBD4      RIBLBD3   RIBLBD2     RIBLBD1    RIBLBD0
          10,50,90,D0          MAINT6   R/W       -    BPV_INS   ERR_INS   EXZ_DEF     ERR_SEL1   ERR_SEL0     CNT_MD     CNT_TRF
Interrupt Control Registers
          11,51,91,D1          INTM0    R/W   EQ_IM    IBLBA_IM  IBLBD_IM  PRBS_IM       TCLK_IM    DF_IM       AIS_IM     LOS_IM
          12,52,92,D2          INTM1    R/W DAC_OV_IM  JAOV_IM    JAUD_IM   ERR_IM        EXZ_IM    CV_IM     TIMER_IM     CNT_IM
          13,53,93,D3          INTES    R/W   EQ_IES  IBLBA_IES IBLBD_IES  PRBS_IES     TCLK_IES   DF_IES      AIS_IES    LOS_IES
Line Status Registers
          14,54,94,D4          STAT0     R     EQ_S     IBLBA_S   IBLBD_S   PRBS_S     TCLK_LOS      DF_S       AIS_S      LOS_S
          15,55,95,D5          STAT1     R        -         -      RLP_S     LATT4         LATT3    LATT2       LATT1       LATT0
Interrupt Status Registers
          16,56,96,D6          INTS0     R     EQ_IS   IBLBA_IS  IBLBD_IS   PRBS_IS   TCLK_LOS_IS   DF_IS       AIS_IS     LOS_IS
          17,57,97,D7          INTS1     R  DAC_OV_IS   JAOV_IS   JAUD_IS   ERR_IS        EXZ_IS    CV_IS     TMOV_IS    CNT_OV_IS
Counter Registers
          18,58,98,D8          CNT0      R      Bit7       Bit6      Bit5      Bit4         Bit3      Bit2        Bit1       Bit0
          19,59,99,D9          CNT1      R      Bit15     Bit14     Bit13     Bit12         Bit11    Bit10        Bit9       Bit8
Transmit and Receive Termination Registers
         1A,5A,9A,DA           TERM     R/W       -         -    T_TERM2   T_TERM1      T_TERM0   R_TERM2     R_TERM1     R_TERM0
                                                                   35


                                                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                      TEMPERATURE RANGES
4.2       REGISTER DESCRIPTION
4.2.1     GLOBAL REGISTERS
Table-25 ID: Chip Revision Register
                (R, Address = 00H)
       Symbol             Bit        Default                                                        Description
        ID[7:0]           7-0         01H    00H is for the first version.
Table-26 RST: Reset Register
                  (W, Address = 20H)
       Symbol             Bit        Default                                                        Description
      RST[7:0]            7-0         01H    Software reset. A write operation on this register will reset all internal registers to their default values, and the sta-
                                             tus of all ports are set to the default status. The content in this register can not be changed.
Table-27 GCF0: Global Configuration Register 0
                    (R/W, Address = 40H)
       Symbol             Bit        Default                                                        Description
           -              7-6           0    Reserved
           -               5            0    Reserved. For normal operation, this bit should be set to ‘0’.
         T1E1              4            0    This bit selects E1 or T1/J1 operation mode globally.
                                             = 0: E1 mode is selected.
                                             = 1: T1/J1 mode is selected.
        COPY               3           0     Enable broadcasting mode.
                                             = 0: Broadcasting mode disabled
                                             = 1: Broadcasting mode enabled. Writing operation on one channel's register will be copied exactly to the corre-
                                             sponding registers in all the other channels.
     INTM_GLB              2            1    Global interrupt enable
                                             = 0: Interrupt is globally enabled. But for each individual interrupt, it still can be disabled by its corresponding Inter-
                                             rupt mask Bit.
                                             = 1: All the interrupts are disabled for all channels.
    INT_PIN[1:0]          1-0          00    Interrupt pin operation mode selection
                                             = x0: open drain, active low (with an external pull-up resistor)
                                             = 01: push-pull, active low
                                             = 11: push-pull, active high
                                                                              36


                                                                                                                                             INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                           TEMPERATURE RANGES
Table-28 GCF1: Global Configuration Register 1
                 (R/W, Address = 60H)
       Symbol          Bit        Default                                                      Description
      MON[3:0]         7-4         0000    MON selects the transmitter or receiver channel to be monitored.
                                           = 0000: receiver 1 is in normal operation without monitoring
                                           = 0001: reserved
                                           = 0010: monitor receiver 2
                                           = 0011: reserved
                                           = 0100: monitor receiver 3
                                           = 0101: reserved
                                           = 0110: monitor receiver 4
                                           = 0111: reserved
                                           = 1000: transmitter 1 is in normal operation without monitoring
                                           = 1001: reserved
                                           = 1010: monitor transmitter 2
                                           = 1011: reserved
                                           = 1100: monitor transmitter 3
                                           = 1101: reserved
                                           = 1110: monitor transmitter 4
                                           = 1111: reserved
          -            3-0         0000    Reserved
Table-29 INTCH: Interrupt Channel Indication Register
                  (R, Address = 80H)
       Symbol          Bit        Default                                                      Description
    INT_CH[7:0]        7-0         00H     INT_CH[0, 2, 4 or 6]=1 indicates that an interrupt was generated by channel 1, 2, 3 or 4 respectively.
4.2.2    JITTER ATTENUATION CONTROL REGISTER
Table-30 JACF: Jitter Attenuator Configuration Register
                 (R/W, Address = 01H,41H,81H,C1H)
       Symbol          Bit        Default                                                      Description
          -            7-6          00     Reserved
      JA_LIMIT          5            0     Wide Jitter Attenuation bandwidth
                                           = 0: normal mode
                                           = 1: JA limit mode
      JACF[1:0]        4-3          00     Jitter Attenuator configuration
                                           = 00/10: JA not used
                                           = 01: JA in transmit path
                                           = 11: JA in receive path
      JADP[1:0]        2-1          00     Jitter Attenuator depth selection
                                           = 00: 128 bits
                                           = 01: 64 bits
                                           = 10/11: 32 bits
        JABW            0            0     Jitter transfer function bandwidth selection
                                                      JABW                               T1/J1                                        E1
                                                        0                                 5 Hz                                      6.8 Hz
                                                        1                               1.25 Hz                                     0.9 Hz
                                                                          37


                                                                                                                                                  INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                      TEMPERATURE RANGES
4.2.3     TRANSMIT PATH CONTROL REGISTERS
Table-31 TCF0: Transmitter Configuration Register 0
                     (R/W, Address = 02H,42H,82H,C2H)
       Symbol               Bit       Default                                                        Description
           -                7-5          000      Reserved
        T_OFF                4            0       Transmitter power down enable
                                                  = 0: Transmitter power up
                                                  = 1: Transmitter power down and line driver high impedance
       TD_INV                3            0       Transmit data invert
                                                  = 0: data on TDn or TDPn/TDNn is active high
                                                  = 1: data on TDn or TDPn/TDNn is active low
     TCLK_SEL                2            0       Transmit clock edge select
                                                  = 0: data on TDn or TDPn/TDNn is sampled on the falling edges of TCLKn
                                                  = 1: data on TDn or TDPn/TDNn is sampled on the rising edges of TCLKn
      T_MD[1:0]             1-0          00       Transmitter operation mode control bits which select different stages of transmit data path
                                                  = 00: enable HDB3/B8ZS encoder and waveform shaper blocks, input on TDn is single rail NRZ data
                                                  = 01: enable AMI encoder and waveform shaper blocks, input on pin TDn is single rail NRZ data
                                                  = 1x: encoder is bypassed, dual rail NRZ transmit data input on pin TDPn/TDNn
Table-32 TCF1: Transmitter Configuration Register 1
                       (R/W, Address = 03H,43H,83H,C3H)
       Symbol              Bit        Default                                                        Description
           -               7-6           00       Reserved. This bit should be ‘0’ for normal operation.
     DFM_OFF                 5            0       Transmit driver failure monitor disable
                                                  = 0: DFM is enabled
                                                  = 1: DFM is disabled
         THZ                 4            1       Transmit line driver high impedance enable
                                                  = 0: normal state
                                                  = 1: transmit line driver high impedance enable (other transmit path still in normal state)
      PULS[3:0]            3-0          0000      These bits select the transmit template/LBO for short-haul/long-haul applications.
                                                                            T1/E1/J1           TCLK               Cable             Cable Range     Cable Loss
                                                                                                               Impedance               or LBO
                                                         00001                 E1           2.048 MHz              75 Ω                   -      0~43 dB (default)
                                                         0001                  E1           2.048 MHz             120 Ω                   -          0~43 dB
                                                         0010                DSX1           1.544 MHz             100 Ω               0~133 ft       0~0.6 dB
                                                         0011                DSX1           1.544 MHz             100 Ω              133~266 ft     0.6~1.2 dB
                                                         0100                DSX1           1.544 MHz             100 Ω              266~399 ft     1.2~1.8 dB
                                                         0101                DSX1           1.544 MHz             100 Ω              399~533 ft     1.8~2.4 dB
                                                         0110                DSX1           1.544 MHz             100 Ω              533~655 ft     2.4~3.0 dB
                                                          0111                 J1           1.544 MHz             110 Ω               0~655 ft       0~3.0 dB
                                                         1000                 DS1           1.544 MHz             100 Ω              0 dB LBO        0~36 dB
                                                         1001                 DS1           1.544 MHz             100 Ω             -7.5 dB LBO     0~28.5 dB
                                                         1010                 DS1           1.544 MHz             100 Ω             -15 dB LBO       0~21 dB
                                                         1011                 DS1           1.544 MHz             100 Ω            -22.5 dB LBO     0~13.5 dB
                                                          11xx         User programmable waveform setting
   1. In internal impedance matching mode, for E1/75 Ω cable impedance, the PULS[3:0] bits (TCF1, 03H...) should be set to ‘0000’. In external impedance matching
mode, for E1/75 Ω cable impedance, the PULS[3:0] bits should be set to ‘0001’.
                                                                                  38


                                                                                                                                           INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                           TEMPERATURE RANGES
Table-33 TCF2: Transmitter Configuration Register 2
              (R/W, Address = 04H,44H,84H,C4H)
     Symbol          Bit        Default                                                           Description
         -           7-6          00     Reserved
    SCAL[5:0]        5-0        100001   SCAL specifies a scaling factor to be applied to the amplitude of the user-programmable arbitrary pulses which is
                                         to be transmitted if needed. The default value of SCAL[5:0] is ‘100001’. Refer to 3.2.3.3 User-Programmable Arbi-
                                         trary Waveform.
                                         = 110110: default value for T1 0~133 ft, T1 133~266 ft, T1 266~399 ft, T1 399~533 ft, T1 533~655 ft, J1 0~655 ft,
                                             DS1 0dB LBO. One step change of this value results in 2% scaling up/down against the pulse amplitude.
                                         = 010001: default value for DS1 -7.5 dB LBO. One step change of this value results in 6.25% scaling up/down
                                             against the pulse amplitude.
                                         = 001000: default value for DS1 -15.0 dB LBO. One step change of this value results in 12.5% scaling up/down
                                             against the pulse amplitude.
                                         = 000100: default value for DS1 -22.5 dB LBO. One step change of this value results in 25% scaling up/down
                                             against the pulse amplitude.
                                         = 100001: default value for E1 75 Ω and 120 Ω. One step change of this value results in 3% scaling up/down
                                             against the pulse amplitude.
Table-34 TCF3: Transmitter Configuration Register 3
              (R/W, Address = 05H,45H,85H,C5H)
     Symbol          Bit        Default                                                           Description
      DONE            7            0     After ‘1’ is written to this bit, a read or write operation is implemented.
       RW             6            0     This bit selects read or write operation
                                         = 0: write to RAM
                                         = 1: read from RAM
      UI[1:0]        5-4          00     These bits specify the unit interval address. There are 4 unit intervals.
                                         = 00: UI address is 0 (The most left UI)
                                         = 01: UI address is 1
                                         = 10: UI address is 2
                                         = 11: UI address is 3
    SAMP[3:0]        3-0         0000    These bits specify the sample address. Each UI has 16 samples.
                                         = 0000: sample address is 0 (The most left Sample)
                                         = 0001: sample address is 1
                                         = 0010: sample address is 2
                                         ......
                                         = 1110: sample address is 14
                                         = 1111: sample address is 15
Table-35 TCF4: Transmitter Configuration Register 4
              (R/W, Address = 06H,46H,86H,C6H)
     Symbol          Bit       Default                                                            Description
         -            7           0      Reserved
    WDAT[6:0]        6-0       0000000   In Indirect Write operation, the WDAT[6:0] will be loaded to the pulse template RAM, specifying the amplitude of
                                         the Sample.
                                         After an Indirect Read operation, the amplitude data of the Sample in the pulse template RAM will be output to the
                                         WDAT[6:0].
                                                                            39


                                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                         TEMPERATURE RANGES
4.2.4    RECEIVE PATH CONTROL REGISTERS
Table-36 RCF0: Receiver Configuration Register 0
                (R/W, Address = 07H,47H,87H,C7H)
       Symbol         Bit        Default                                                        Description
          -           7-5         000     Reserved
       R_OFF           4            0     Receiver power down enable
                                          = 0: Receiver power up
                                          = 1: Receiver power down
       RD_INV          3            0     Receive data invert
                                          = 0: data on RDn or RDPn/RDNn is active high
                                          = 1: data on RDn or RDPn/RDNn is active low
     RCLK_SEL          2            0     Receive clock edge select (this bit is ignored in slicer mode)
                                          = 0: data on RDn or RDPn/RDNn is updated on the rising edges of RCLKn
                                          = 1: data on RDn or RDPn/RDNn is updated on the falling edges of RCLKn
      R_MD[1:0]       1-0          00     Receiver path decoding selection
                                          = 00: receive data is HDB3 (E1) / B8ZS (T1/J1) decoded and output on RDn with single rail NRZ format
                                          = 01: receive data is AMI decoded and output on RDn with single rail NRZ format
                                          = 10: decoder is bypassed, re-timed dual rail data with NRZ format output on RDPn/RDNn (dual rail mode with
                                          clock recovery)
                                          = 11: both CDR and decoder blocks are bypassed, slicer data with RZ format output on RDPn/RDNn (slicer mode)
                                                                       40


                                                                                                                            INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                            TEMPERATURE RANGES
Table-37 RCF1: Receiver Configuration Register 1
              (R/W, Address = 08H,48H,88H,C8H)
     Symbol          Bit       Default                                                     Description
        -             7           0     Reserved
     EQ_ON            6           0     = 0: receive equalizer off (short haul receiver)
                                        = 1: receive equalizer on (long haul receiver)
        -             5           0     Reserved. Should be 0 for normal operation.
     LOS[4:0]        4-0        10101                                      LOS Clear Level (dB)        LOS Declare Level (dB)
                                        00000                              0                           <-4
                                        00001                              >-2                         <-6
                                        00010                              >-4                         <-8
                                        00011                              >-6                         <-10
                                        00100                              >-8                         <-12
                                        00101                              >-10                        <-14
                                        00110                              >-12                        <-16
                                        00111                              >-14                        <-18
                                        01000                              >-16                        <-20
                                        01001                              >-18                        <-22
                                        01010                              >-20                        <-24
                                        01011                              >-22                        <-26
                                        01100                              >-24                        <-28
                                        01101                              >-26                        <-30
                                        01110                              >-28                        <-32
                                        01111                              >-30                        <-34
                                        10000                              >-32                        <-36
                                        10001                              >-34                        <-38
                                        10010                              >-36                        <-40
                                        10011                              >-38                        <-42
                                        10100                              >-40                        <-44
                                        10101                              >-42                        <-46
                                        10110-11111                        >-44                        <-48
                                                                       41


                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                             TEMPERATURE RANGES
Table-38 RCF2: Receiver Configuration Register 2
                (R/W, Address =09H,49H,89H,C9H)
       Symbol          Bit      Default                                                        Description
          -           7-6          00    Reserved
     SLICE[1:0]       5-4          01    Receive slicer threshold
                                         = 00: The receive slicer generates a mark if the voltage on RTIPn/RRINGn exceeds 40% of the peak amplitude.
                                         = 01: The receive slicer generates a mark if the voltage on RTIPn/RRINGn exceeds 50% of the peak amplitude.
                                         = 10: The receive slicer generates a mark if the voltage on RTIPn/RRINGn exceeds 60% of the peak amplitude.
                                         = 11: The receive slicer generates a mark if the voltage on RTIPn/RRINGn exceeds 70% of the peak amplitude.
     UPDW[1:0]        3-2          10    Equalizer observation window
                                         = 00: 32 bits
                                         = 01: 64 bits
                                         = 10: 128 bits
                                         = 11: 256 bits
       MG[1:0]        1-0          00    Monitor gain setting: these bits select the internal linear gain boost
                                         = 00: 0 dB
                                         = 01: 22 dB
                                         = 10: 26 dB
                                         = 11: 32 dB
4.2.5    NETWORK DIAGNOSTICS CONTROL REGISTERS
Table-39 MAINT0: Maintenance Function Control Register 0
                  (R/W, Address = 0AH,4AH,8AH,CAH)
       Symbol          Bit      Default                                                        Description
          -             7           0    Reserved
      PATT[1:0]       6-5          00    These bits select the internal pattern and insert it into the transmit data stream.
                                         = 00: normal operation (PATT_CLK = 0) / insert all zeros (PATT_CLK = 1)
                                         = 01: insert All Ones
                                         = 10: insert PRBS (E1: 215-1) or QRSS (T1/J1: 220-1)
                                         = 11: insert programmable Inband Loopback activate or deactivate code
     PATT_CLK           4           0    Selects reference clock for transmitting internal pattern
                                         = 0: uses TCLKn as the reference clock
                                         = 1: uses MCLK as the reference clock
     PRBS_INV           3           0    Inverts PRBS
                                         = 0: PRBS data is not inverted
                                         = 1: PRBS data is inverted before transmission and detection
         LAC            2           0    The LOS/AIS criterion is selected as below:
                                         = 0: G.775 (E1) / T1.231 (T1/J1)
                                         = 1: ETSI 300233 & I.431 (E1) / I.431 (T1/J1)
        AISE            1           0    AIS enable during LOS
                                         = 0: AIS insertion on RDPn/RDNn/RCLKn is disabled during LOS
                                         = 1: AIS insertion on RDPn/RDNn/RCLKn is enabled during LOS
        ATAO            0           0    Automatically Transmit All Ones (enabled only when PATT[1:0] = 01)
                                         = 0: disabled
                                         = 1: Automatically Transmit All Ones pattern at TTIPn/TRINGn during LOS.
                                                                        42


                                                                                                                                     INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                     TEMPERATURE RANGES
Table-40 MAINT1: Maintenance Function Control Register 1
                 (R/W, Address = 0BH,4BH,8BH,CBH)
     Symbol          Bit       Default                                                       Description
        -            7-4        0000    Reserved
      ARLP            3            0    Automatic Remote Loopback Control
                                        = 0: disables Automatic Remote Loopback (normal transmit and receive operation)
                                        = 1: enables Automatic Remote Loopback
       RLP            2            0    Remote loopback enable
                                        = 0: disables remote loopback (normal transmit and receive operation)
                                        = 1: enables remote loopback
       ALP            1            0    Analog loopback enable
                                        = 0: disables analog loopback (normal transmit and receive operation)
                                        = 1: enables analog loopback
       DLP            0            0    Digital loopback enable
                                        = 0: disables digital loopback (normal transmit and receive operation)
                                        = 1: enables digital loopback
Table-41 MAINT2: Maintenance Function Control Register 2
                 (R/W, Address = 0CH,4CH,8CH,CCH)
     Symbol          Bit       Default                                                       Description
        -            7-6          00    Reserved.
   TIBLB_L[1:0]      5-4          00    Defines the length of the user-programmable transmit Inband Loopback activate/deactivate code contained in
                                        TIBLB register. The default selection is 5 bits length.
                                        = 00: 5-bit activate code in TIBLB [4:0]
                                        = 01: 6-bit activate code in TIBLB [5:0]
                                        = 10: 7-bit activate code in TIBLB [6:0]
                                        = 11: 8-bit activate code in TIBLB [7:0]
  RIBLBA_L[1:0]     3-2           00    Defines the length of the user-programmable receive Inband Loopback activate code contained in RIBLBA regis-
                                        ter.
                                        = 00: 5-bit activate code in RIBLBA [4:0]
                                        = 01: 6-bit activate code in RIBLBA [5:0]
                                        = 10: 7-bit activate code in RIBLBA [6:0]
                                        = 11: 8-bit activate code in RIBLBA [7:0]
  RIBLBD_L[1:0]     1-0           01    Defines the length of the user-programmable receive Inband Loopback deactivate code contained in RIBLBD reg-
                                        ister.
                                        = 00: 5-bit deactivate code in RIBLBD [4:0]
                                        = 01: 6-bit deactivate code in RIBLBD [5:0]
                                        = 10: 7-bit deactivate code in RIBLBD [6:0]
                                        = 11: 8-bit deactivate code in RIBLBD [7:0]
Table-42 MAINT3: Maintenance Function Control Register 3
                (R/W, Address = 0DH,4DH,8DH,CDH)
     Symbol          Bit       Default                                                       Description
    TIBLB[7:0]       7-0     (000)00001 Defines the user-programmable transmit Inband Loopback activate/deactivate code. The default selection is
                                        00001.
                                        TIBLB[7:0] form the 8-bit repeating code
                                        TIBLB[6:0] form the 7-bit repeating code
                                        TIBLB[5:0] form the 6-bit repeating code
                                        TIBLB[4:0] form the 5-bit repeating code
                                                                       43


                                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                             TEMPERATURE RANGES
Table-43 MAINT4: Maintenance Function Control Register 4
                (R/W, Address = 0EH,4EH,8EH,CEH)
     Symbol          Bit       Default                                                            Description
   RIBLBA[7:0]       7-0     (000)00001 Defines the user-programmable receive Inband Loopback activate code. The default selection is 00001.
                                         RIBLBA[7:0] form the 8-bit repeating code
                                         RIBLBA[6:0] form the 7-bit repeating code
                                         RIBLBA[5:0] form the 6-bit repeating code
                                         RIBLBA[4:0] form the 5-bit repeating code
Table-44 MAINT5: Maintenance Function Control Register 5
                 (R/W, Address = 0FH,4FH,8FH,CFH)
     Symbol          Bit       Default                                                            Description
   RIBLBD[7:0]       7-0     (00)001001 Defines the user-programmable receive Inband Loopback deactivate code. The default selection is 001001.
                                         RIBLBD[7:0] form the 8-bit repeating code
                                         RIBLBD[6:0] form the 7-bit repeating code
                                         RIBLBD[5:0] form the 6-bit repeating code
                                         RIBLBD[4:0] form the 5-bit repeating code
Table-45 MAINT6: Maintenance Function Control Register 6
                 (R/W, Address = 10H,50H,90H,D0H)
     Symbol          Bit       Default                                                            Description
        -             7            0     Reserved.
     BPV_INS          6            0     BPV error insertion
                                         A ‘0’ to ‘1’ transition on this bit will cause a single bipolar violation error to be inserted into the transmit data
                                         stream. This bit must be cleared and set again for a subsequent error to be inserted.
    ERR_INS           5            0     PRBS/QRSS logic error insertion
                                         A ‘0’ to ‘1’ transition on this bit will cause a single PRBS/QRSS logic error to be inserted into the transmit PRBS/
                                         QRSS data stream. This bit must be cleared and set again for subsequent error to be inserted.
    EXZ_DEF           4            0     EXZ definition select
                                         = 0: ANSI
                                         = 1: FCC
    ERR_SEL          3-2          00     These bits choose which type of error will be counted
                                         = 00: the PRBS logic error is counted by a 16-bit error counter.
                                         = 01: the EXZ error is counted by a 16-bit error counter.
                                         = 10: the Received CV (BPV) error is counted by a 16-bit error counter.
                                         = 11: both CV (BPV) and EXZ errors are counted by a 16-bit error counter.
     CNT_MD           1            0     Counter operation mode select
                                         = 0: Manual Report Mode
                                         = 1: Auto Report Mode
    CNT_TRF           0            0     = 0: Clear this bit for the next ‘0’ to ‘1’ transition on this bit.
                                         = 1: Error counting result is transferred to CNT0 and CNT1 and the error counter is reset.
                                                                          44


                                                                                                                   INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                          TEMPERATURE RANGES
4.2.6     INTERRUPT CONTROL REGISTERS
Table-46 INTM0: Interrupt Mask Register 0
                  (R/W, Address = 11H,51H,91H,D1H)
        Symbol         Bit        Default                                                    Description
        EQ_IM           7           1      Equalizer out of range interrupt mask
                                           = 0: Equalizer out of range interrupt enabled
                                           = 1: Equalizer out of range interrupt masked
      IBLBA_IM          6           1      In-band Loopback activate code detect interrupt mask
                                           = 0: In-band Loopback activate code detect interrupt enabled
                                           = 1: In-band Loopback activate code detect interrupt masked
      IBLBD_IM          5           1      In-band Loopback deactivate code detect interrupt mask
                                           = 0: In-band Loopback deactivate code detect interrupt enabled
                                           = 1: In-band Loopback deactivate code detect interrupt masked
      PRBS_IM           4           1      PRBS synchronic signal detect interrupt mask
                                           = 0: PRBS synchronic signal detect interrupt enabled
                                           = 1: PRBS synchronic signal detect interrupt masked
       TCLK_IM          3           1      TCLK loss detect interrupt mask
                                           = 0: TCLK loss detect interrupt enabled
                                           = 1: TCLK loss detect interrupt masked
        DF_IM           2           1      Driver failure interrupt mask
                                           = 0: Driver failure interrupt enabled
                                           = 1: Driver failure interrupt masked
        AIS_IM          1           1      Alarm Indication Signal interrupt mask
                                           = 0: Alarm Indication Signal interrupt enabled
                                           = 1: Alarm Indication Signal interrupt masked
       LOS_IM           0           1      Loss Of Signal interrupt mask
                                           = 0: Loss Of Signal interrupt enabled
                                           = 1: Loss Of Signal interrupt masked
                                                                           45


                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                      TEMPERATURE RANGES
Table-47 INTM1: Interrupt Mask Register 1
               (R/W, Address = 12H,52H,92H,D2H)
     Symbol           Bit       Default                                                   Description
   DAC_OV_IM           7          1      DAC arithmetic overflow interrupt mask
                                         = 0: DAC arithmetic overflow interrupt enabled
                                         = 1: DAC arithmetic overflow interrupt masked
    JAOV_IM            6          1      JA overflow interrupt mask
                                         = 0: JA overflow interrupt enabled
                                         = 1: JA overflow interrupt masked
    JAUD_IM            5          1      JA underflow interrupt mask
                                         = 0: JA underflow interrupt enabled
                                         = 1: JA underflow interrupt masked
     ERR_IM            4          1      PRBS/QRSS logic error detect interrupt mask
                                         = 0: PRBS/QRSS logic error detect interrupt enabled
                                         = 1: PRBS/QRSS logic error detect interrupt masked
     EXZ_IM            3          1      Receive excess zeros interrupt mask
                                         = 0: Receive excess zeros interrupt enabled
                                         = 1: Receive excess zeros interrupt masked
      CV_IM            2          1      Receive error interrupt mask
                                         = 0: Receive error interrupt enabled
                                         = 1: Receive error interrupt masked
    TIMER_IM           1          1      One-Second Timer expiration interrupt mask
                                         = 0: One-Second Timer expiration interrupt enabled
                                         = 1: One-Second Timer expiration interrupt masked
     CNT_IM            0          1      Counter overflow interrupt mask
                                         = 0: Counter overflow interrupt enabled
                                         = 1: Counter overflow interrupt masked
                                                                       46


                                                                                                                                                     INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
Table-48 INTES: Interrupt Trigger Edges Select Register
               (R/W, Address = 13H, 53H,93H,D3H)
      Symbol          Bit       Default                                                           Description
      EQ_IES           7           0     This bit determines the Equalizer out of range interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the EQ_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the EQ_S bit in the STAT0
                                         status register.
    IBLBA_IES          6           0     This bit determines the Inband Loopback Activate Code interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the IBLBA_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the IBLBA_S bit in the STAT0
                                         status register.
    IBLBD_IES          5           0     This bit determines the Inband Loopback Deactivate Code interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the IBLBD_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the IBLBD_S bit in the STAT0
                                         status register.
    PRBS_IES           4           0     This bit determines the PRBS/QRSS synchronization status interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the PRBS_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the PRBS_S bit in the STAT0
                                         status register.
     TCLK_IES          3           0     This bit determines the TCLK Loss interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the TCLK_LOS bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the TCLK_LOS bit in the
                                         STAT0 status register.
      DF_IES           2           0     This bit determines the Driver Failure interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the DF_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the DF_S bit in the STAT0
                                         status register.
      AIS_IES          1           0     This bit determines the AIS interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the AIS_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the AIS_S bit in the STAT0
                                         status register.
     LOS_IES           0           0     This bit determines the LOS interrupt event.
                                         = 0: interrupt event is defined as a ‘0’ to ‘1’ transition of the LOS_S bit in the STAT0 status register
                                         = 1: interrupt event is defined as either a ‘0’ to ‘1’ transition or a ‘1’ to ‘0’ transition of the LOS_S bit in the STAT0
                                         status register.
                                                                        47


                                                                                                                                              INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                             TEMPERATURE RANGES
4.2.7    LINE STATUS REGISTERS
Table-49 STAT0: Line Status Register 0 (real time status monitor)
                 (R, Address = 14H,54H,94H,D4H)
       Symbol          Bit       Default                                                       Description
        EQ_S            7           0     Equalizer status indication
                                          = 0: In range
                                          = 1: out of range
      IBLBA_S           6           0     Inband Loopback activate code receive status indication
                                          = 0: no Inband Loopback activate code is detected
                                          = 1: activate code has been detected for more than t ms. Even there is bit error, this bit remains set as long as the
                                          bit error rate is less than 10-2.
                                          Note1:
                                          Automatic remote loopback switching is disabled (ARLP = 0), t = 40 ms. If automatic remote loopback switching is
                                          enabled (ARLP = 1), t = 5.1 s. The rising edge of this bit activates the remote loopback operation in local end.
                                          Note2:
                                          If IBLBA_IM=0 and IBLBA_IES=0, a ‘0’ to ‘1’ transition on this bit will cause an activate code detect interrupt.
                                          If IBLBA_IM=0 and IBLBA_IES=1, any changes on this bit will cause an activate code detect interrupt.
      IBLBD_S           5           0     Inband Loopback deactivate code receive status indication
                                          = 0: no Inband Loopback deactivate code is detected
                                          = 1: the Inband Loopback deactivate code has been detected for more than t. Even there is a bit error, this bit
                                          remains set as long as the bit error rate is less than 10-2.
                                          Note1:
                                          Automatic remote loopback switching is disabled (ARLP = 0), t = 40 ms.If automatic remote loopback switching is
                                          enabled (ARLP = 1), t= 5.1 s. The rising edge of this bit disables the remote loopback operation.
                                          Note2:
                                          If IBLBD_IM=0 and IBLBD_IES=0, a ‘0’ to ‘1’ transition on this bit will cause a deactivate code detect interrupt.
                                          If IBLBD_IM=0 and IBLBD_IES=1, any changes on this bit will cause a deactivate code detect interrupt.
      PRBS_S            4           0     Synchronous status indication of PRBS/QRSS (real time)
                                          = 0: 215-1 (E1) PRBS or 220-1 (T1/J1) QRSS is not detected
                                          = 1: 215-1 (E1) PRBS or 220-1 (T1/J1) QRSS is detected.
                                          Note:
                                          If PRBS_IM=0 and PRBS_IES=0, a ‘0’ to ‘1’ transition on this bit will cause a synchronous status detect interrupt.
                                          If PRBS_IM=0 and PRBS_IES=1, any changes on this bit will cause a synchronous status detect interrupt.
     TCLK_LOS           3           0     TCLKn loss indication
                                          = 0: normal
                                          = 1: TCLKn pin has not toggled for more than 70 MCLK cycles.
                                          Note:
                                          If TCLK_IM=0 and TCLK_IES=0, a ‘0’ to ‘1’ transition on this bit will cause an interrupt.
                                          If TCLK_IM=0 and TCLK_IES=1, any changes on this bit will cause an interrupt.
                                                                          48


                                                                                                                                       INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                              TEMPERATURE RANGES
Table-49 STAT0: Line Status Register 0 (real time status monitor) (Continued)
               (R, Address = 14H,54H,94H,D4H)
     Symbol          Bit       Default                                                       Description
      DF_S            2           0      Line driver status indication
                                         = 0: normal operation
                                         = 1: line driver short circuit is detected.
                                         Note:
                                         If DF_IM=0 and DF_IES=0, a ‘0’ to ‘1’ transition on this bit will cause an interrupt.
                                         If DF_IM=0 and DF_IES=1, any changes on this bit will cause an interrupt.
      AIS_S           1           0      Alarm Indication Signal status detection
                                         = 0: no AIS signal is detected in the receive path
                                         = 1: AIS signal is detected in the receive path
                                         Note:
                                         If AIS_IM=0 and AIS_IES=0, a ‘0’ to ‘1’ transition on this bit will cause an interrupt.
                                         If AIS_IM=0 and AIS_IES=1, any changes on this bit will cause an interrupt.
     LOS_S            0           0      Loss of Signal status detection
                                         = 0: Loss of signal on RTIP/RRING is not detected
                                         = 1: Loss of signal on RTIP/RRING is detected
                                         Note:
                                         IF LOS_IM=0 and LOS_IES=0, a ‘0’ to ‘1’ transition on this bit will cause an interrupt.
                                         IF LOS_IM=0 and LOS_IES=1, any changes on this bit will cause an interrupt.
                                                                           49


                                                                                                                         INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                TEMPERATURE RANGES
Table-50 STAT1: Line Status Register 1 (real time status monitor)
                (R, Address = 15H, 55H,95H, D5H)
     Symbol           Bit       Default                                                       Description
        -            7-6           00    Reserved
     RLP_S             5           0     Indicating the status of Remote Loopback
                                         = 0: The remote loopback is inactive.
                                         = 1: The remote loopback is active (closed).
    LATT[4:0]        4-0         00000   Line Attenuation Indication in dB relative to a 3 V peak pulse level
                                         00000                                                      0 to 2 dB
                                         00001                                                      2 to 4 dB
                                         00010                                                      4 to 6 dB
                                         00011                                                      6 to 8 dB
                                         00100                                                      8 to 10 dB
                                         00101                                                      10 to 12 dB
                                         00110                                                      12 to 14 dB
                                         00111                                                      14 to 16 dB
                                         01000                                                      16 to 18 dB
                                         01001                                                      18 to 20 dB
                                         01010                                                      20 to 22 dB
                                         01011                                                      22 to 24 dB
                                         01100                                                      24 to 26 dB
                                         01101                                                      26 to 28 dB
                                         01110                                                      28 to 30 dB
                                         01111                                                      30 to 32 dB
                                         10000                                                      32 to 34 dB
                                         10001                                                      34 to 36 dB
                                         10010                                                      36 to 38 dB
                                         10011                                                      38 to 40 dB
                                         10100                                                      40 to 42 dB
                                         10101                                                      42 to 44 dB
                                         10110-11111                                                >44 dB
                                                                       50


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                    TEMPERATURE RANGES
4.2.8    INTERRUPT STATUS REGISTERS
Table-51 INTS0: Interrupt Status Register 0
                 (this register is reset after a read operation) (R, Address = 16H, 56H,96H, D6H)
       Symbol           Bit          Default                                                          Description
        EQ_IS            7              0        This bit indicates the occurrence of Equalizer out of range interrupt event.
                                                 = 0: no interrupt event from the Equalizer out of range occurred
                                                 = 1: interrupt event from the Equalizer out of range occurred
      IBLBA_IS           6              0        This bit indicates the occurrence of the Inband Loopback Activate Code interrupt event.
                                                 = 0: no Inband Loopback Activate Code interrupt event occurred
                                                 = 1: Inband Loopback Activate Code Interrupt event occurred
      IBLBD_IS           5              0        This bit indicates the occurrence of the Inband Loopback Deactivate Code interrupt event.
                                                 = 0: no Inband Loopback Deactivate Code interrupt event occurred
                                                 = 1: interrupt event of the received inband loopback deactivate code occurred.
      PRBS_IS            4              0        This bit indicates the occurrence of the interrupt event generated by the PRBS/QRSS synchronization status.
                                                 = 0: no PRBS/QRSS synchronization status interrupt event occurred
                                                 = 1: PRBS/QRSS synchronization status interrupt event occurred
   TCLK_LOS_IS           3              0        This bit indicates the occurrence of the interrupt event generated by the TCLKn loss detection.
                                                 = 0: no TCLKn loss interrupt event.
                                                 = 1:TCLKn loss interrupt event occurred.
        DF_IS            2              0        This bit indicates the occurrence of the interrupt event generated by the Driver Failure.
                                                 = 0: no Driver Failure interrupt event occurred
                                                 = 1: Driver Failure interrupt event occurred
        AIS_IS           1              0        This bit indicates the occurrence of the AIS (Alarm Indication Signal) interrupt event.
                                                 = 0: no AIS interrupt event occurred
                                                 = 1: AIS interrupt event occurred
       LOS_IS            0              0        This bit indicates the occurrence of the LOS (Loss of signal) interrupt event.
                                                 = 0: no LOS interrupt event occurred
                                                 = 1: LOS interrupt event occurred
                                                                                51


                                                                                                                                                INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                    TEMPERATURE RANGES
Table-52 INTS1: Interrupt Status Register 1
                (this register is reset and relevant interrupt request is cleared after a read) (R, Address = 17H, 57H,97H, D7H)
       Symbol           Bit         Default                                                          Description
    DAC_OV_IS            7              0       This bit indicates the occurrence of the pulse amplitude overflow of Arbitrary Waveform Generator interrupt event.
                                                = 0: no pulse amplitude overflow of Arbitrary Waveform Generator interrupt event occurred
                                                = 1: the pulse amplitude overflow of Arbitrary Waveform Generator interrupt event occurred
      JAOV_IS            6              0       This bit indicates the occurrence of the Jitter Attenuator Overflow interrupt event.
                                                = 0: no JA overflow interrupt event occurred
                                                = 1: A overflow interrupt event occurred
      JAUD_IS            5              0       This bit indicates the occurrence of the Jitter Attenuator Underflow interrupt event.
                                                = 0: no JA underflow interrupt event occurred
                                                = 1: JA underflow interrupt event occurred
       ERR_IS            4              0       This bit indicates the occurrence of the interrupt event generated by the detected PRBS/QRSS logic error.
                                                = 0: no PRBS/QRSS logic error interrupt event occurred
                                                = 1: PRBS/QRSS logic error interrupt event occurred
       EXZ_IS            3              0       This bit indicates the occurrence of the Excessive Zeros interrupt event.
                                                = 0: no excessive zeros interrupt event occurred
                                                = 1: EXZ interrupt event occurred
        CV_IS            2              0       This bit indicates the occurrence of the Code Violation interrupt event.
                                                = 0: no code violation interrupt event occurred
                                                = 1: code violation interrupt event occurred
      TMOV_IS            1              0       This bit indicates the occurrence of the One-Second Timer Expiration interrupt event.
                                                = 0: no one-second timer expiration interrupt event occurred
                                                = 1: one-second timer expiration interrupt event occurred
    CNT_OV_IS            0              0       This bit indicates the occurrence of the Counter Overflow interrupt event.
                                                = 0: no counter overflow interrupt event occurred
                                                = 1: counter overflow interrupt event occurred
4.2.9    COUNTER REGISTERS
Table-53 CNT0: Error Counter L-byte Register 0
                 (R, Address = 18H, 58H,98H, D8H)
       Symbol           Bit         Default                                                          Description
     CNT_L[7:0]         7-0           00H       This register contains the lower eight bits of the 16-bit error counter. CNT_L[0] is the LSB.
Table-54 CNT1: Error Counter H-byte Register 1
                 (R, Address = 19H, 59H,99H,D9H)
       Symbol           Bit         Default                                                          Description
     CNT_H[7:0]        7-0            00H       This register contains the upper eight bits of the 16-bit error counter. CNT_H[7] is the MSB.
                                                                               52


                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                          TEMPERATURE RANGES
4.2.10 TRANSMIT AND RECEIVE TERMINATION REGISTER
Table-55 TERM: Transmit and Receive Termination Configuration Register
                (R/W, Address = 1AH, 5AH,9AH,DAH)
      Symbol          Bit       Default                                                       Description
         -            7-6          00    Reserved
    T_TERM[2:0]       5-3         000    These bits select the internal termination for transmit line impedance matching.
                                         = 000: internal 75 Ω impedance matching
                                         = 001: internal 120 Ω impedance matching
                                         = 010: internal 100 Ω impedance matching
                                         = 011: internal 110 Ω impedance matching
                                         =1xx: Selects external impedance matching resistors for E1 mode only. T1/J1 does not require external imped-
                                           ance resistors (see Table-14).
    R_TERM[2:0]       2-0         000    These bits select the internal termination for receive line impedance matching.
                                         = 000: internal 75 Ω impedance matching
                                         = 001: internal 120 Ω impedance matching
                                         = 010: internal 100 Ω impedance matching
                                         = 011: internal 110 Ω impedance matching
                                         = 1xx: Selects external impedance matching resistors (see Table-15).
                                                                        53


                                                                                                                                                 INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                        TEMPERATURE RANGES
5  IEEE STD 1149.1 JTAG TEST                                                                Clock (TCK) pins. Data is shifted into the registers via the Test Data Input
                                                                                            (TDI) pin, and shifted out of the registers via the Test Data Output (TDO)
ACCESS PORT                                                                                 pin. Both TDI and TDO are clocked at a rate determined by TCK.
   The IDT82V2084 supports the digital Boundary Scan Specification as                           The JTAG boundary scan registers include BSR (Boundary Scan Reg-
described in the IEEE 1149.1 standards.                                                     ister), IDR (Device Identification Register), BR (Bypass Register) and IR
    The boundary scan architecture consists of data and instruction regis-                  (Instruction Register). These will be described in the following pages. Refer
ters plus a Test Access Port (TAP) controller. Control of the TAP is per-                   to for architecture.
formed through signals applied to the Test Mode Select (TMS) and Test
                                          Digital output pins                    Digital input pins
                                         parallel latched output
                                                       BSR (Boundary Scan Register)
                                                     IDR (Device Identification Register)                                MUX
              TDI
                                                            BR (Bypass Register)
                                                                                                                                        MUX                  TDO
                                                           IR (Instruction Register)
                                                                               Control<6:0>
               TMS
                                                    TAP                                                         Select
              TRST                           (Test Access Port)
                                                 Controller
                                                                                                              High Impedance Enable
              TCK
                                                            Figure-21 JTAG Architecture
                                                                                       54


                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                     TEMPERATURE RANGES
5.1 JTAG INSTRUCTIONS AND INSTRUCTION REG-
ISTER
    The IR (Instruction Register) with instruction decode block is used to
select the test to be executed or the data register to be accessed or both.
    The instructions are shifted in LSB first to this 3-bit register. See Table-
56 for details of the codes and the instructions related.
Table-56 Instruction Register Description
      IR CODE           INSTRUCTION                                                               COMMENTS
          000               Extest      The external test instruction allows testing of the interconnection to other devices. When the current instruction is the
                                        EXTEST instruction, the boundary scan register is placed between TDI and TDO. The signal on the input pins can be sam-
                                        pled by loading the boundary scan register using the Capture-DR state. The sampled values can then be viewed by shifting
                                        the boundary scan register using the Shift-DR state. The signal on the output pins can be controlled by loading patterns
                                        shifted in through input TDI into the boundary scan register using the Update-DR state.
          100          Sample / Preload The sample instruction samples all the device inputs and outputs. For this instruction, the boundary scan register is placed
                                        between TDI and TDO. The normal path between IDT82V2084 logic and the I/O pins is maintained. Primary device inputs
                                        and outputs can be sampled by loading the boundary scan register using the Capture-DR state. The sampled values can
                                        then be viewed by shifting the boundary scan register using the Shift-DR state.
          110               Idcode      The identification instruction is used to connect the identification register between TDI and TDO. The device's identification
                                        code can then be shifted out using the Shift-DR state.
          111               Bypass      The bypass instruction shifts data from input TDI to output TDO with one TCK clock period delay. The instruction is used to
                                        bypass the device.
5.2       JTAG DATA REGISTER                                                          5.2.2     BYPASS REGISTER (BR)
5.2.1     DEVICE IDENTIFICATION REGISTER (IDR)                                             The BR consists of a single bit. It can provide a serial path between the
                                                                                      TDI input and TDO output, bypassing the BSR to reduce test access times.
   The IDR can be set to define the producer number, part number and
the device revision, which can be used to verify the proper version or re-            5.2.3     BOUNDARY SCAN REGISTER (BSR)
vision number that has been used in the system under test. The IDR is
                                                                                           The BSR can apply and read test patterns in parallel to or from all the
32 bits long and is partitioned as in Table-57. Data from the IDR is shifted
                                                                                      digital I/O pins. The BSR is a 98 bits long shift register and is initialized and
out to TDO LSB first.
                                                                                      read using the instruction EXTEST or SAMPLE/PRELOAD. Each pin is
Table-57 Device Identification Register Description                                   related to one or more bits in the BSR. For details, please refer to the BSDL
                                                                                      file.
       Bit No.                              Comments
           0                                   Set to ‘1’
         1-11                            Producer Number
        12-27                               Part Number
        28-31                             Device Revision
                                                                                  55


                                                                                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                             TEMPERATURE RANGES
5.2.4     TEST ACCESS PORT CONTROLLER                                                     tion registers. The value shown next to each state transition in this figure
                                                                                          states the value present at TMS at each rising edge of TCK. Please refer
   The TAP controller is a 16-state synchronous state machine. Figure-22
                                                                                          to Table-58 for details of the state description.
shows its state diagram following the description of each state. Note that
the figure contains two main branches to access either the data or instruc-
Table-58 TAP Controller State Description
          STATE                                                                              DESCRIPTION
     Test Logic Reset    In this state, the test logic is disabled. The device is set to normal operation. During initialization, the device initializes the instruction register
                         with the IDCODE instruction. Regardless of the original state of the controller, the controller enters the Test-Logic-Reset state when the
                         TMS input is held high for at least 5 rising edges of TCK. The controller remains in this state while TMS is high. The device processor auto-
                         matically enters this state at power-up.
       Run-Test/Idle     This is a controller state between scan operations. Once in this state, the controller remains in the state as long as TMS is held low. The
                         instruction register and all test data registers retain their previous state. When TMS is high and a rising edge is applied to TCK, the control-
                         ler moves to the Select-DR state.
     Select-DR-Scan      This is a temporary controller state and the instruction does not change in this state. The test data register selected by the current instruc-
                         tion retains its previous state. If TMS is held low and a rising edge is applied to TCK when in this state, the controller moves into the Cap-
                         ture-DR state and a scan sequence for the selected test data register is initiated. If TMS is held high and a rising edge applied to TCK, the
                         controller moves to the Select-IR-Scan state.
       Capture-DR        In this state, the Boundary Scan Register captures input pin data if the current instruction is EXTEST or SAMPLE/PRELOAD. The instruc-
                         tion does not change in this state. The other test data registers, which do not have parallel input, are not changed. When the TAP controller
                         is in this state and a rising edge is applied to TCK, the controller enters the Exit1-DR state if TMS is high or the Shift-DR state if TMS is low.
         Shift-DR        In this controller state, the test data register connected between TDI and TDO as a result of the current instruction shifts data on stage
                         toward its serial output on each rising edge of TCK. The instruction does not change in this state. When the TAP controller is in this state
                         and a rising edge is applied to TCK, the controller enters the Exit1-DR state if TMS is high or remains in the Shift-DR state if TMS is low.
         Exit1-DR        This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-DR
                         state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Pause-DR
                         state. The test data register selected by the current instruction retains its previous value and the instruction does not change during this
                         state.
        Pause-DR         The pause state allows the test controller to temporarily halt the shifting of data through the test data register in the serial path between TDI
                         and TDO. For example, this state could be used to allow the tester to reload its pin memory from disk during application of a long test
                         sequence. The test data register selected by the current instruction retains its previous value and the instruction does not change during this
                         state. The controller remains in this state as long as TMS is low. When TMS goes high and a rising edge is applied to TCK, the controller
                         moves to the Exit2-DR state.
         Exit2-DR        This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-DR
                         state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Shift-DR
                         state. The test data register selected by the current instruction retains its previous value and the instruction does not change during this
                         state.
        Update-DR        The Boundary Scan Register is provided with a latched parallel output to prevent changes while data is shifted in response to the EXTEST
                         and SAMPLE/PRELOAD instructions. When the TAP controller is in this state and the Boundary Scan Register is selected, data is latched
                         into the parallel output of this register from the shift-register path on the falling edge of TCK. The data held at the latched parallel output
                         changes only in this state. All shift-register stages in the test data register selected by the current instruction retain their previous value and
                         the instruction does not change during this state.
      Select-IR-Scan     This is a temporary controller state. The test data register selected by the current instruction retains its previous state. If TMS is held low
                         and a rising edge is applied to TCK when in this state, the controller moves into the Capture-IR state, and a scan sequence for the instruc-
                         tion register is initiated. If TMS is held high and a rising edge is applied to TCK, the controller moves to the Test-Logic-Reset state. The
                         instruction does not change during this state.
        Capture-IR       In this controller state, the shift register contained in the instruction register loads a fixed value of '100' on the rising edge of TCK. This sup-
                         ports fault-isolation of the board-level serial test data path. Data registers selected by the current instruction retain their value and the
                         instruction does not change during this state. When the controller is in this state and a rising edge is applied to TCK, the controller enters
                         the Exit1-IR state if TMS is held high, or the Shift-IR state if TMS is held low.
          Shift-IR       In this state, the shift register contained in the instruction register is connected between TDI and TDO and shifts data one stage towards its
                         serial output on each rising edge of TCK. The test data register selected by the current instruction retains its previous value and the instruc-
                         tion does not change during this state. When the controller is in this state and a rising edge is applied to TCK, the controller enters the Exit1-
                         IR state if TMS is held high, or remains in the Shift-IR state if TMS is held low.
         Exit1-IR        This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-IR
                         state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Pause-IR
                         state. The test data register selected by the current instruction retains its previous value and the instruction does not change during this
                         state.
                                                                                      56


                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                    TEMPERATURE RANGES
Table-58 TAP Controller State Description (Continued)
       STATE                                                                          DESCRIPTION
      Pause-IR     The pause state allows the test controller to temporarily halt the shifting of data through the instruction register. The test data register
                   selected by the current instruction retains its previous value and the instruction does not change during this state. The controller remains in
                   this state as long as TMS is low. When TMS goes high and a rising edge is applied to TCK, the controller moves to the Exit2-IR state.
       Exit2-IR    This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-IR
                   state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Shift-IR state.
                   The test data register selected by the current instruction retains its previous value and the instruction does not change during this state.
      Update-IR    The instruction shifted into the instruction register is latched into the parallel output from the shift-register path on the falling edge of TCK.
                   When the new instruction has been latched, it becomes the current instruction. The test data registers selected by the current instruction
                   retain their previous value.
                                     1
                                        Test-logic Reset
                                                 0
                                     0                    1                               1                             1
                                         Run Test/Idle                    Select-DR                       Select-IR
                                                                                 0                               0
                                                                   1                              1
                                                                         Capture-DR                      Capture-IR
                                                                                 0                               0
                                                                                          0                            0
                                                                           Shift-DR                        Shift-IR
                                                                                 1                              1
                                                                           Exit1-DR       1                            1
                                                                                                          Exit1-IR
                                                                                 0                               0
                                                                                          0                             0
                                                                          Pause-DR                        Pause-IR
                                                                                 1                               1
                                                                   0                             0
                                                                           Exit2-DR                       Exit2-IR
                                                                                 1                               1
                                                                          Update-DR                      Update-IR
                                                                              1     0                       1       0
                                                       Figure-22 JTAG State Diagram
                                                                              57


                                                                                                                                                      INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                      TEMPERATURE RANGES
6         TEST SPECIFICATIONS
Table-59 Absolute Maximum Rating
           Symbol                                          Parameter                                    Min                    Max                       Unit
VDDA, VDDD                      Core Power Supply                                                       -0.5                    4.6                        V
VDDIO                           I/O Power Supply                                                        -0.5                   4.6                         V
VDDT1-4                         Transmit Power Supply                                                   -0.5                   4.6                         V
VDDR1-4                         Receive Power Supply                                                    -0.5                   4.6
                                Input Voltage, Any Digital Pin                                       GND-0.5                   5.5                         V
                                Input Voltage, Any RTIP and RRING pin1                               GND-0.5                VDDR+0.5                       V
Vin
                                ESD Voltage, any pin                                                  2000 2                                               V
                                                                                                      500 3                                                V
                                Transient latch-up current, any pin                                                            100                        mA
Iin                                                            4                                        -10                     10                        mA
                                Input current, any digital pin
                                DC Input current, any analog pin 4                                                            ±100                        mA
Pd                              Maximum power dissipation in package                                                           1.69                        W
Tc                              Case Temperature                                                                               120                        °C
Ts                              Storage Temperature                                                     -65                   +150                        °C
CAUTION
Exceeding these values may cause permanent damage. Functional operation under these conditions is not implied. Exposure to absolute maximum rating conditions
for extended periods may affect device reliability.
1.Reference to ground
2.Human body model
3.Charge device model
4.Constant input current
Table-60 Recommended Operation Conditions
                 Symbol                                          Parameter                            Min               Typ               Max                Unit
VDDA,VDDD                                   Core Power Supply                                         3.13              3.3               3.47                 V
VDDIO                                       I/O Power Supply                                          3.13              3.3               3.47                 V
VDDT                                        Transmitter Power Supply                                  3.13              3.3               3.47                 V
VDDR                                        Receive Power Supply                                      3.13              3.3               3.47                 V
TA                                          Ambient operating temperature                              -40               25                85                 °C
                                            E1, 75 Ω Load
                                                                        50% ones density data            -              250                270                mA
                                                                       100% ones density data            -              300                320
                                            E1, 120 Ω Load
                                                                        50% ones density data            -              240                260                mA
                                                                       100% ones density data            -              280                300
Total current dissipation1,2,3              T1, 100 Ω Load
                                                                        50% ones density data            -              270                290                mA
                                                                       100% ones density data            -              360                380
                                            J1, 110 Ω Load
                                                                        50% ones density data            -              230                250                mA
                                                                       100% ones density data            -              300                320
1.Power consumption includes power consumption on device and load. Digital levels are 10% of the supply rails and digital outputs driving a 50 pF capacitive load.
2.Maximum power consumption over the full operating temperature and power supply voltage range.
3.In short haul mode, if internal impedance matching is chosen, E1 75Ω power dissipation values are measured with template PULS[3:0] = 0000; E1 120Ω power dissipation
   values are measured with template PULS[3:0] = 0001; T1 power dissipation values are measured with template PULS[3:0] = 0110; J1 power dissipation values are mea-
   sured with template PULS[3:0] = 0111.
                                                                                   58


                                                                                                                                           INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                  TEMPERATURE RANGES
Table-61 Power Consumption
    Symbol                                    Parameter                                      Min                Typ                Max1,2       Unit
                E1, 3.3 V, 75 Ω Load
                                                              50% ones density data:          -                  830                  -         mW
                                                             100% ones density data:          -                  990                1110
                E1, 3.3 V, 120 Ω Load
                                                              50% ones density data:          -                  790                  -         mW
                                                             100% ones density data:          -                  920                1050
                T1, 3.3 V, 100 Ω Load3
                                                              50% ones density data:          -                 890                   -         mW
                                                             100% ones density data:          -                 1190                1320
                J1, 3.3 V, 110 Ω Load
                                                              50% ones density data:          -                  760                            mW
                                                             100% ones density data:          -                  990                1110
1.Maximum power and current consumption over the full operating temperature and power supply voltage range. Includes all channels.
2.Power consumption includes power absorbed by line load and external transmitter components.
3.T1 is measured with maximum cable length.
Table-62 DC Characteristics
    Symbol                           Parameter                             Min                    Typ                       Max              Unit
VIL             Input Low Level Voltage                                     -                       -                       0.8               V
VIH             Input High Voltage                                         2.0                      -                         -               V
VOL             Output Low level Voltage (Iout=1.6mA)                       -                       -                       0.4               V
VOH             Output High level Voltage (Iout=400µA)                     2.4                      -                      VDDIO              V
VMA             Analog Input Quiescent Voltage (RTIP, RRING                                        1.5                                        V
                pin while floating)
II              Input Leakage Current
                TMS, TDI, TRST                                                                                               50              µA
                All other digital input pins                               -10                                               10              µA
IZL             High Impedance Leakage Current                             -10                                               10              µA
Ci              Input capacitance                                                                                            15               pF
Co              Output load capacitance                                                                                      50               pF
Co              Output load capacitance (bus pins)                                                                          100               pF
                                                                                59


                                                                                                           INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                           TEMPERATURE RANGES
Table-63 E1 Receiver Electrical Characteristics
   Symbol                        Parameter            Min   Typ  Max   Unit                  Test conditions
             Receiver sensitivity
                  Short haul with cable loss@1024kHz:             -10   dB
                  Long haul with cable loss@1024kHz:              -43
             Analog LOS level
                  Short haul                                800       mVp-p  A LOS level is programmable for Long Haul
                  Long haul                            -4         -48   dB
             Allowable consecutive zeros before LOS
                  G.775:                                     32
                  I.431/ETSI300233:                         2048
             LOS reset                                12.5            % ones G.775, ETSI 300 233
             Receive Intrinsic Jitter
             20Hz - 100kHz                                       0.05  U.I.  JA enabled
             Input Jitter Tolerance
                  1 Hz – 20 Hz                         37              U.I.  G.823, with 6 dB cable attenuation
                  20 Hz – 2.4 KHz                       5              U.I.
                  18 KHz – 100 KHz                      2              U.I.
ZDM          Receiver Differential Input Impedance     20              KΩ    Internal mode
             Input termination resistor tolerance                ±1%
             Receive Return Loss
RRX                51 KHz – 102 KHz                    20               dB   G.703 Internal termination
                  102 KHz - 2.048 MHz                  20               dB
                  2.048 MHz – 3.072 MHz                20               dB
             Receive path delay
RPD          Single rail                                      7        U.I.  JA disabled
             Dual rail                                        2        U.I.
                                                           60


                                                                                                              INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                               TEMPERATURE RANGES
Table-64 T1/J1 Receiver Electrical Characteristics
   Symbol                         Parameter            Min    Typ  Max    Unit                  Test conditions
              receiver sensitivity
                   Short haul with cable loss@772kHz:               -10    dB
                   Long haul with cable loss@772kHz:                -36
              Analog LOS level
                   Short haul                                 800        mVp-p  A LOS level is programmable for Long Haul
                   Long haul                            -4          -48    dB
              Allowable consecutive zeros before LOS
                   T1.231-1993                                 175
                    I.431                                     1544
              LOS reset                               12.5               % ones G.775, ETSI 300 233
              Receive Intrinsic Jitter                                          JA enabled ( in receive path)
                   10 Hz – 8 KHz                                   0.02   U.I.
                   10 Hz – 40 KHz                                  0.025  U.I.
                   8 KHz – 40 KHz                                  0.025  U.I.
                   Wide band                                       0.050  U.I.
              Input Jitter Tolerance
                   0.1 Hz – 1 Hz                      138.0               U.I.  AT&T62411
                   4.9 Hz – 300 Hz                     28.0               U.I.
                  10 KHz – 100 KHz                      0.4               U.I.
ZDM           Receiver Differential Input Impedance     20                KΩ    Internal mode
              Input termination resistor tolerance                 ±1%
RRX           Receive Return Loss
                   39 KHz – 77 KHz                      20                 dB   G.703
                   77 KHz - 1.544 MHz                   20                 dB   Internal termination
                   1.544 MHz – 2.316 MHz                20                 dB
RPD           Receive path delay                                                JA disabled
                  Single rail                                   7         U.I.
                  Dual rail                                     2         U.I.
                                                            61


                                                                                                                                    INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                         TEMPERATURE RANGES
Table-65 E1 Transmitter Electrical Characteristics
    Symbol                                                Parameter                                           Min   Typ        Max      Unit
Vo-p          Output pulse amplitudes
                    E1, 75Ω load                                                                              2.14  2.37      2.60        V
                    E1, 120Ω load                                                                              2.7   3.0       3.3        V
Vo-s          Zero (space) level
                    E1, 75 Ω load                                                                            -0.237           0.237       V
                    E1, 120 Ω load                                                                            -0.3             0.3        V
              Transmit amplitude variation with supply                                                         -1              +1        %
              Difference between pulse sequences for 17 consecutive pulses (T1.102)                                            200       mV
Tpw           Output Pulse Width at 50% of nominal amplitude                                                  232   244        256       ns
              Ratio of the amplitudes of Positive and Negative Pulses at the center of the pulse interval     0.95            1.05
              (G.703)
              Ratio of the width of Positive and Negative Pulses at the center of the pulse interval (G.703)  0.95            1.05
RTX           Transmit Return Loss (G.703)
              51 KHz – 102 KHz                                                                                       20                  dB
              102 KHz - 2.048 MHz                                                                                    15                  dB
              2.048 MHz – 3.072 MHz                                                                                  12                  dB
JTXp-p        Intrinsic Transmit Jitter (TCLK is jitter free)
              20 Hz – 100 KHz                                                                                                 0.050      U.I.
Td            Transmit path delay (JA is disabled)
              Single rail                                                                                            8.5                 U.I.
              Dual rail                                                                                              4.5                 U.I.
Isc           Line short circuit current                                                                            100                  mA
                                                                                62


                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                      TEMPERATURE RANGES
Table-66 T1/J1 Transmitter Electrical Characteristics
      Symbol                                    Parameter                    Min  Typ   Max        Unit
Vo-p               Output pulse amplitudes                                   2.4  3.0    3.6         V
Vo-s               Zero (space) level                                       -0.15       0.15         V
                   Transmit amplitude variation with supply                   -1         +1         %
                   Difference between pulse sequences for 17 consecutive                200        mV
                   pulses(T1.102)
TPW                Output Pulse Width at 50% of nominal amplitude            338  350   362         ns
                   Pulse width variation at the half amplitude (T1.102)                  20         ns
                   Imbalance between Positive and Negative Pulses amplitude  0.95       1.05
                   (T1.102)
                   Output power level (T1.102)
                   @772kHz                                                   12.6       17.9       dBm
                   @1544kHz (referenced to power at 772kHz)                  -29                   dBm
RTX                Transmit Return Loss
                         39 KHz – 77 KHz                                           20               dB
                         77 KHz – 1.544 MHz                                        15               dB
                         1.544 MHz – 2.316 MHz                                     12               dB
JTXP-P             Intrinsic Transmit Jitter (TCLK is jitter free)
                         10 Hz – 8 KHz                                                 0.020      U.I.p-p
                          8 KHz – 40 KHz                                               0.025      U.I.p-p
                         10 Hz – 40 KHz                                                0.025      U.I.p-p
                          wide band                                                    0.050      U.I.p-p
Td                 Transmit path delay (JA is disabled)
                   Single rail                                                    8.5              U.I.
                   Dual rail                                                      4.5              U.I.
ISC                Line short circuit current                                     100              mA
                                                                        63


                                                                                                                                                    INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                  TEMPERATURE RANGES
Table-67 Transmitter and Receiver Timing Characteristics
          Symbol                                 Parameter                                Min                 Typ                Max                     Unit
                             MCLK frequency
                             E1:                                                                          2.048/49.152                                   MHz
                             T1/J1:                                                                       1.544/37.056
                             MCLK tolerance                                               -100                                   100                     ppm
                             MCLK duty cycle                                                30                                    70                       %
Transmit path
                             TCLK frequency
                             E1:                                                                             2.048                                       MHz
                             T1/J1:                                                                          1.544
                             TCLK tolerance                                                -50                                   +50                     ppm
                             TCLK Duty Cycle                                                10                                    90                       %
t1                           Transmit Data Setup Time                                       40                                                             ns
t2                           Transmit Data Hold Time                                        40                                                             ns
                             Delay time of THZ low to driver high impedance                                                       10                       us
                             Delay time of TCLK low to driver high impedance                                   75                                         U.I.
Receive path
                             Clock recovery capture E1                                                        ± 80                                       ppm
                             range 1                    T1/J1                                                ± 180
                             RCLK duty cycle 2                                              40                 50                 60                       %
t4                           RCLK pulse width 2
                             E1:                                                           457                488                519                       ns
                             T1/J1:                                                        607                648                689
t5                           RCLK pulse width low time
                             E1:                                                           203                244                285                       ns
                             T1/J1:                                                        259                324                389
t6                           RCLK pulse width high time
                             E1:                                                           203                244                285                       ns
                             T1/J1:                                                        259                324                389
                             Rise/fall time 3                                                                                     20                       ns
t7                           Receive Data Setup Time
                             E1:                                                           200                244                                          ns
                             T1/J1:                                                        200                324
t8                           Receive Data Hold Time
                             E1:                                                           200                244                                          ns
                             T1/J1:                                                        200                324
1.Relative to nominal frequency, MCLK= ± 100 ppm
2.RCLK duty cycle widths will vary depending on extent of received pulse jitter displacement. Maximum and minimum RCLK duty cycles are for worst case jitter conditions
  (0.2UI displacement for E1 per ITU G.823).
3.For all digital outputs. C load = 15pF
                                                                                     64


                                                                                                           INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                         TEMPERATURE RANGES
                  TCLKn
                                                   t1                  t2
                 TDn/TDPn
                   TDNn
                                   Figure-23 Transmit System Interface Timing
                                                      t4
                  RCLKn                   t6                   t5
                                          t7                  t8
                 RDPn/RDn
              (RCLK_SEL = 0)
                 RDNn/CVn
                                                               t7                  t8
                 RDPn/RDn
              (RCLK_SEL = 1)
                 RDNn/CVn
                                   Figure-24 Receive System Interface Timing
Table-68 Jitter Tolerance
                  Jitter Tolerance            Min        Typ       Max        Unit                Standard
E1: 1 Hz                                      37                              U.I.    G.823
    20 Hz – 2.4 KHz                           1.5                             U.I.    Cable attenuation is 6dB
    18 KHz – 100 KHz                          0.2                             U.I.
T1/J1: 1 Hz                                  138.0                            U.I.    AT&T 62411
        4.9 Hz – 300 Hz                      28.0                             U.I.
       10 KHz – 100 KHz                       0.4                             U.I.
                                                         65


                                                                                    INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                           TEMPERATURE RANGES
                               Figure-25 E1 Jitter Tolerance Performance
                              Figure-26 T1/J1 Jitter Tolerance Performance
                                                    66


                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                               TEMPERATURE RANGES
Table-69 Jitter Attenuator Characteristics
                                             Parameter                               Min  Typ    Max       Unit
Jitter Transfer Function Corner (-3dB) Frequency
                                                         E1, 32/64/128 bits FIFO
                                                             JABW = 0:                    6.8               Hz
                                                             JABW = 1:                    0.9               Hz
                                                         T1/J1, 32/64/128 bits FIFO
                                                                JABW = 0:                   5               Hz
                                                                JABW = 1:                 1.25              Hz
Jitter Attenuator
E1: (G.736)
@ 3 Hz                                                                               -0.5
@ 40 Hz                                                                              -0.5                   dB
@ 400 Hz                                                                            +19.5
@ 100 kHz                                                                           +19.5
T1/J1: (Per AT&T pub.62411)
@ 1 Hz                                                                                 0
@ 20 Hz                                                                                0
@ 1 kHz                                                                             +33.3
@ 1.4 kHz                                                                             40
@ 70 kHz                                                                              40
Jitter Attenuator Latency Delay
32 bits FIFO:                                                                              16              U.I.
64 bits FIFO:                                                                              32              U.I.
128 bits FIFO:                                                                             64              U.I.
Input jitter tolerance before FIFO overflow or underflow
32 bits FIFO:                                                                              28              U.I.
64 bits FIFO:                                                                              58              U.I.
128 bits FIFO:                                                                            120              U.I.
                                                                                67


                                                                                   INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                          TEMPERATURE RANGES
                                Figure-27 E1 Jitter Transfer Performance
                              Figure-28 T1/J1 Jitter Transfer Performance
                                                    68


                                                                                               INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                      TEMPERATURE RANGES
Table-70 JTAG Timing Characteristics
       Symbol                          Parameter                   Min          Typ Max          Unit
          t1        TCK Period                                     100                            ns
          t2        TMS to TCK Setup Time                           25                            ns
                    TDI to TCK Setup Time
          t3        TCK to TMS Hold Time                            25                            ns
                    TCK to TDI Hold Time
          t4        TCK to TDO Delay Time                                            50           ns
                                                                 t1
              TCK
                                              t2       t3
              TMS
              TDI
                                                                      t4
              TDO
                                                Figure-29 JTAG Interface Timing
                                                             69


                                                                                                                                INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                  TEMPERATURE RANGES
7        MICROCONTROLLER INTERFACE TIMING CHARACTERISTICS
7.1      SERIAL INTERFACE TIMING
Table-71 Serial Interface Timing Characteristics
   Symbol                                   Parameter                               Min        Typ        Max       Unit         Comments
      t1      SCLK High Time                                                        82                                ns
      t2      SCLK Low Time                                                         82                                ns
      t3      Active CS to SCLK Setup Time                                           5                                ns
      t4      Last SCLK Hold Time to Inactive CS Time                               41                                ns
      t5      CS Idle Time                                                          41                                ns
      t6      SDI to SCLK Setup Time                                                 0                                ns
      t7      SCLK to SDI Hold Time                                                 62                                ns
     t10      SCLK to SDO Valid Delay Time                                                                 75         ns
     t11      Inactive CS to SDO High Impedance Hold Time                                                  70         ns
                 CS
                               t3     t1        t2                                                            t4     t5
                 SCLK
                               t6                       t7                                 t7
                 SDI                LSB                             LSB                                 MSB
                                                  Figure-30 Serial Interface Write Timing
                           1      2      3      4     5          15     16     17    18   19      20   21      22    23     24
        SCLK
                                                                       t10                                                t4
         CS
                                                                                                                             t11
        SDO                                                                    0      1    2       3    4      5     6      7
                                        Figure-31 Serial Interface Read Timing with SCLKE=1
                           1      2      3      4     5        15     16       17    18   19      20   21     22    23     24
         SCLK
                                                                                                                               t4
         CS                                                                t10
                                                                                                                                  t11
         SDO                                                                      0     1     2      3     4      5     6      7
                                        Figure-32 Serial Interface Read Timing with SCLKE=0
                                                                     70


                                                                                                                   INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                          TEMPERATURE RANGES
7.2    PARALLEL INTERFACE TIMING
Table-72 Non_multiplexed Motorola Read Timing Characteristics
        Symbol                                        Parameter                                   Min       Max       Unit
          tRC        Read Cycle Time                                                              190                  ns
          tDW        Valid DS Width                                                               180                  ns
         tRWV        Delay from DS to Valid Read Signal                                                      15        ns
         tRWH        R/W to DS Hold Time                                                           65                  ns
           tAV       Delay from DS to Valid Address                                                          15        ns
         tADH        Address to DS Hold Time                                                       65                  ns
         tPRD        DS to Valid Read Data Propagation Delay                                                175        ns
         tDAZ        Delay from DS inactive to data bus High Impedance                             5         20        ns
       tRecovery     Recovery Time from Read Cycle                                                 5                   ns
                                                         tRC
                                                                                                tRecovery
                                                                            tDW
                          DS+CS
                                                                               tRWH
                                                                       tRWV
                             R/W
                                                                                tADH
                                                                        tAV
                          A[x:0]                                             Valid Address
                                                                                                 tDAZ
                                                                  tPRD
                     READ D[7:0]                                                     Valid Data
                                    Figure-33 Non_multiplexed Motorola Read Timing
                                                                      71


                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
Table-73 Non_multiplexed Motorola Write Timing Characteristics
        Symbol                                         Parameter                                 Min             Max       Unit
          tWC        Write Cycle Time                                                            120                        ns
          tDW        Valid DS Width                                                              100                        ns
         tRWV        Delay from DS to Valid Write Signal                                                          15        ns
         tRWH        R/W to DS Hold Time                                                          65                        ns
           tAV       Delay from DS to Valid Address                                                               15        ns
          tAH        Address to DS Hold Time                                                      65                        ns
          tDV        Delay from DS to Valid Write Data                                                            15        ns
         tDHW        Write Data to DS Hold Time                                                   65                        ns
       tRecovery     Recovery Time from Write Cycle                                               5                         ns
                                                                   tWC                               tRecovery
                             DS+CS                                            tDW
                                                                                  tRWH
                                R/W                                  tRWV
                                                                          tAV       tAH
                             A[x:0]                                                Valid Address
                                                                     tDV              tDHW
                         Write D[7:0]                                               Valid Data
                                      Figure-34 Non_multiplexed Motorola Write Timing
                                                                 72


                                                                                                                        INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                               TEMPERATURE RANGES
Table-74 Non_multiplexed Intel Read Timing Characteristics
        Symbol                                        Parameter                                      Min         Max       Unit
           tRC       Read Cycle Time                                                                 190                    ns
         tRDW        Valid RD Width                                                                  180                    ns
           tAV       Delay from RD to Valid Address                                                               15        ns
           tAH       Address to RD Hold Time                                                          65                    ns
         tPRD        RD to Valid Read Data Propagation Delay                                                     175        ns
          tDAZ       Delay from RD inactive to data bus High Impedance                                5           20        ns
       tRecovery     Recovery Time from Read Cycle                                                     5                    ns
                                                                       tRC
                                                                                                     tRecovery
                                                                               tRDW
                         CS+RD
                                                                                     tAH
                                                                           tAV
                        A[x:0]                                                   Valid Address
                                                                    tPRD                                  tDAZ
                        READ D[7:0]                                                       Valid Data
                        Note: WR should be tied to high
                                       Figure-35 Non_multiplexed Intel Read Timing
                                                                      73


                                                                                                                INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                       TEMPERATURE RANGES
Table-75 Non_multiplexed Intel Write Timing Characteristics
        Symbol                                        Parameter                             Min           Max      Unit
          tWC        Write Cycle Time                                                       120                     ns
         tWRW        Valid WR Width                                                         100                     ns
           tAV       Delay from WR to Valid Address                                                        15       ns
          tAH        Address to WR Hold Time                                                 65                     ns
          tDV        Delay from WR to Valid Write Data                                                     15       ns
         tDHW        Write Data to WR Hold Time                                              65                     ns
       tRecovery     Recovery Time from Write Cycle                                          5                      ns
                                                                     tWC                        tRecovery
                                                                          tWRW
                              WR+CS
                                                                              tAH
                                                                   tAV
                              A[x:0]                                         Valid Address
                                                                             tDHW
                                                                     tDV
                              Write D[7:0]                                       Valid Data
                             Note: RD should be tied to high
                                         Figure-36 Non_multiplexed Intel Write Timing
                                                                74


                                                                                                                                                              INDUSTRIAL
QUAD CHANNEL T1/E1/J1 LONG HAUL/SHORT HAUL LINE INTERFACE UNIT
                                                                                                                                                   TEMPERATURE RANGES
ORDERING INFORMATION
             XXXXXXX                                       XX                                     X
             Device Type                                                                  Process/
                                                                                        Temperature
                                                                                           Range
                                                                                                               Blank            Industrial (-40 °C to +85 °C)
                                                                                                               PF                Thin Quad Flatpack (TQFP, PK128)
                                                                                                               82V2084            Long Haul/Short Haul LIU
DATASHEET DOCUMENT HISTORY
06/26/2003 pgs. 16, 17, 28, 29, 33, 41, 59, 60.
08/22/2003 pgs. 17, 18.
07/19/2004 pgs. 30, 62, 63
02/11/2009 pg. 75 removed IDT from orderable part number
                                         CORPORATE HEADQUARTERS                              for SALES:                                  for Tech Support:
                                         2975 Stender Way                                    800-345-7015 or 408-727-6116                408-330-1753
                                         Santa Clara, CA 95054                               fax: 408-492-8674                           email:TELECOMhelp@idt.com
                                                                                             www.idt.com*
                             To search for sales office near you, please click the sales button found on our home page or dial the 800# above and press 2.
                                                       The IDT logo is a registered trademark of Integrated Device Technology, Inc.
                                                                                             75


 IMPORTANT NOTICE AND DISCLAIMER
 RENESAS ELECTRONICS CORPORATION AND ITS SUBSIDIARIES (“RENESAS”) PROVIDES TECHNICAL
 SPECIFICATIONS AND RELIABILITY DATA (INCLUDING DATASHEETS), DESIGN RESOURCES (INCLUDING
 REFERENCE DESIGNS), APPLICATION OR OTHER DESIGN ADVICE, WEB TOOLS, SAFETY INFORMATION, AND
 OTHER RESOURCES “AS IS” AND WITH ALL FAULTS, AND DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED,
 INCLUDING, WITHOUT LIMITATION, ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 PARTICULAR PURPOSE, OR NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY RIGHTS.
 These resources are intended for developers skilled in the art designing with Renesas products. You are solely responsible
 for (1) selecting the appropriate products for your application, (2) designing, validating, and testing your application, and (3)
 ensuring your application meets applicable standards, and any other safety, security, or other requirements. These
 resources are subject to change without notice. Renesas grants you permission to use these resources only for
 development of an application that uses Renesas products. Other reproduction or use of these resources is strictly
 prohibited. No license is granted to any other Renesas intellectual property or to any third party intellectual property.
 Renesas disclaims responsibility for, and you will fully indemnify Renesas and its representatives against, any claims,
 damages, costs, losses, or liabilities arising out of your use of these resources. Renesas' products are provided only subject
 to Renesas' Terms and Conditions of Sale or other applicable terms agreed to in writing. No use of any Renesas resources
 expands or otherwise alters any applicable warranties or warranty disclaimers for these products.
                                                                                                               (Rev.1.0 Mar 2020)
Corporate Headquarters                                                  Contact Information
TOYOSU FORESIA, 3-2-24 Toyosu,                                          For further information on a product, technology, the most
Koto-ku, Tokyo 135-0061, Japan                                          up-to-date version of a document, or your nearest sales
www.renesas.com                                                         office, please visit:
                                                                        www.renesas.com/contact/
Trademarks
Renesas and the Renesas logo are trademarks of Renesas
Electronics Corporation. All trademarks and registered
trademarks are the property of their respective owners.
                                                                      © 2020 Renesas Electronics Corporation. All rights reserved.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Renesas Electronics:
 82V2084PF 82V2082PFG8 82V2084PF8 82V2084PFG8
