                                                                                                                     Si3016
3.3 V ENHANCED GLOBAL DIRECT ACCESS ARRANGEMENT
Features
Complete DAA includes the following:
 Line voltage monitor                             84 dB dynamic range TX/RX
 Loop current monitor                             Integrated analog front end (AFE)
 3.2 dBm transmit/receive levels                   and 2- to 4-wire hybrid
 Parallel handset detection                       Integrated ring detector                               Ordering Information
 7 µA on-hook line monitor                        Caller ID support                                            See page 46.
    current                                        Pulse dialing support
 Overload protection                              Billing tone detection
 Programmable line interface                      3.3 V or 5 V power supply                                 Pin Assignments
    z AC termination                           Direct interface to DSPs                                              Si3016
    z DC termination                           Up to 5000 V isolation
    z Ring detect threshold                                                                              QE2     1             16    FILT2
                                               Proprietary isolation technology
    z Ringer impedance
                                                                                                         DCT     2             15    FILT
                                                                                                        IGND     3             14    RX
   Polarity reversal detection
                                                                                                         C1B     4             13    REXT
                                                                                                       RNG1      5             12    REXT2
Applications                                                                                                     6             11
                                                                                                       RNG2                          REF
                                                                                                          QB     7             10    VREG2
   V.90 modems                  Set-top boxes                      Internet appliances
                                                                                                          QE     8             9     VREG
 Voice mail systems  Fax machines                               VOIP systems
Description                                                                                        U.S. Patent #5,870,046
                                                                                                   U.S. Patent #6,061,009
The Si3016 is an integrated direct access arrangement (DAA) line-side
device with a programmable line interface to meet global telephone line                            Other Patents Pending
interface requirements. Available in a 16-pin small outline package, it
eliminates the need for an analog front end (AFE), an isolation
transformer, relays, opto-isolators, and a 2- to 4-wire hybrid. The Si3016
dramatically reduces the number of discrete components and cost
required to achieve compliance with global regulatory requirements. The
Si3016 interfaces directly to a Silicon Laboratories integrated DAA
system-side interface.
Functional Block Diagram
                                                        Si3016
                                                                              RX
                                                                              FILT
                                                                              FILT2
                                                              Hybrid          REF
                                                              and DC
                                                                              DCT
                                                            Termination
           Silicon Laboratories                                               VREG
              Integrated DAA                 Isolation                        VREG 2
                                             Interface                        REXT
                  Interface                                                   REXT2
                                                                              RNG 1
                                                            Ring Detect       RNG 2
                                                                              QB
                                                             Off-Hook         QE
                                                                              QE2
Rev. 1.0 8/06                                   Copyright © 2006 by Silicon Laboratories                                                 Si3016
      This information applies to a product under development. Its characteristics and specifications are subject to change without notice.


Si3016
2      Rev. 1.0


                                                                                                                        Si3016
TA B L E O F C O N T E N TS
Section                                                                                                                           Page
1. Electrical Specifications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .4
2. Bill of Materials . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
3. Analog Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
4. Functional Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
     4.1. Initialization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
     4.2. Power Supply . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
     4.3. Isolation Barrier . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
     4.4. Transmit/Receive Full Scale Level . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
     4.5. Parallel Handset Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.6. Line Voltage/Loop Current Sensing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.7. Off-Hook . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
     4.8. DC Termination . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
     4.9. DC Termination Considerations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
     4.10. AC Termination . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
     4.11. Ring Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
     4.12. Ringer Impedance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
     4.13. DTMF Dialing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
     4.14. Pulse Dialing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .19
     4.15. Billing Tone Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
     4.16. Billing Tone Filter (Optional) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
     4.17. On-Hook Line Monitor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
     4.18. Caller ID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
     4.19. Overload Protection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
     4.20. Analog Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
     4.21. Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .23
     4.22. Clocking . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
     4.23. Power Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
     4.24. Calibration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .23
     4.25. In-Circuit Testing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
     4.26. Exception Handling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .24
     4.27. Revision Identification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
5. Control Registers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .26
Appendix A—UL1950 3rd Edition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42
Appendix B—CISPR22 Compliance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43
6. Pin Descriptions: Si3016 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .44
7. Ordering Guide . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46
8. Package Outline: SOIC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .47
Document Change List . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .48
Contact Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .50
                                                            Rev. 1.0                                                                      3


 Si3016
 1. Electrical Specifications
 All Si3016 electrical specifications are based on the assumption that all specifications listed in the data sheet of the
 host processor with the integrated system-side DAA module are met.
Table 1. Recommended Operating Conditions
 Parameter1                                   Symbol         Test Condition              Min2       Typ      Max2       Unit
 Ambient Temperature                             TA              K-Grade                    0        25        70        °C
 Ambient Temperature                             TA              B-Grade                  –40        25        85        °C
 Notes:
     1. The Si3016 specifications are guaranteed when the typical application circuit (including component tolerance) and any
        system-side module and any Si3016 are used. See Figure 6, “Si3016 Typical Application Circuit,” on page 9.
     2. All minimum and maximum specifications are guaranteed and apply across the recommended operating conditions.
        Typical values apply at nominal supply voltages and an operating temperature of 25 °C unless otherwise stated.
 4                                                         Rev. 1.0


                                                                                                              Si3016
Table 2. Loop Characteristics
(TA = 0 to 70 °C for K-Grade and –40 to 85 °C for B-Grade, See Figure 1)
 Parameter                                    Symbol          Test Condition           Min        Typ        Max        Unit
 DC Termination Voltage                         VTR        IL = 20 mA, ACT = 1          —          —          7.5        V
                                                            DCT = 11 (CTR21)
 DC Termination Voltage                         VTR        IL = 42 mA, ACT = 1          —          —         14.5        V
                                                            DCT = 11 (CTR21)
 DC Termination Voltage                         VTR        IL = 50 mA, ACT = 1          —          —          40         V
                                                            DCT = 11 (CTR21)
 DC Termination Voltage                         VTR        IL = 60 mA, ACT = 1          40         —          —          V
                                                            DCT = 11 (CTR21)
 DC Termination Voltage                         VTR        IL = 20 mA, ACT = 0          —          —          6.0        V
                                                             DCT = 01 (Japan)
 DC Termination Voltage                         VTR       IL = 100 mA, ACT = 0          9          —          —          V
                                                             DCT = 01 (Japan)
 DC Termination Voltage                         VTR        IL = 20 mA, ACT = 0          —          —          7.5        V
                                                              DCT = 10 (FCC)
 DC Termination Voltage                         VTR       IL = 100 mA, ACT = 0          9          —          —          V
                                                              DCT = 10 (FCC)
 DC Termination Voltage                         VTR        IL = 15 mA, ACT = 0          —          —          5.2        V
                                                         DCT = 00 (Low Voltage)
 On Hook Leakage Current1                        ILK            VTR = –48 V             —          —           7        µA
 Operating Loop Current                          ILP       FCC / Japan Modes            13         —         120        mA
 Operating Loop Current                          ILP           CTR21 Mode               13         —          60        mA
 DC Ring Current1                                         dc flowing through ring       —          —           7        µA
                                                             detection circuitry
 Ring Detect Voltage2                           VRD                RT = 0               11         —          22       VRMS
 Ring Detect   Voltage2                         VRD                RT = 1               17         —          33       VRMS
 Ring Frequency                                  FR                                     15         —          68         Hz
 Ringer Equivalence Number 3                    REN                                     —          —          0.2
 Notes:
    1. R25 and R26 installed.
    2. The ring signal is guaranteed to not be detected below the minimum. The ring signal is guaranteed to be detected above
        the maximum.
    3. RZ = 0. See "4.12. Ringer Impedance" on page 18.
                                          TIP
                                                +
                                                           600 Ω
                                                                                         IL
                                     Si3016 V TR
                                                             10 µF
                                                –
                                        RING
                                  Figure 1. Test Circuit for Loop Characteristics
                                                            Rev. 1.0                                                         5


 Si3016
 Table 3. DC Characteristics
 (TA = 0 to 70 °C for K-Grade and –40 to 85 °C for B-Grade)
  Parameter                                     Symbol         Test Condition           Min        Typ        Max        Unit
  Input Leakage Current                             IL                                  –10         —          10         µA
  Power Supply Current, Analog*                     IA                                   —          0.3        —          mA
  *Note: This current is required from the integrated system-side interface to communicate with the Si3016 through the isolation
         interface.
Table 4. AC Characteristics
(TA = 0 to 70 °C for K-Grade and –40 to 85 °C for B-Grade; see Figure 6 on page 9)
 Parameter                                      Symbol          Test Condition             Min        Typ       Max       Unit
 Sample Rate                                       Fs           Fs = FPLL2/5120            7.2         —       11.025      KHz
 Transmit Frequency Response                                 Low –3 dBFS Corner            —            0        —         Hz
 Receive Frequency Response                                  Low –3 dBFS Corner            —            5        —         Hz
                              1
 Transmit Full Scale Level                        VFS         FULL = 0 (–1 dBm)            —            1        —       VPEAK
                                                            FULL = 1 (+3.2      dBm)2      —          1.58       —       VPEAK
                             1,3
 Receive Full Scale Level                         VFS         FULL = 0 (–1 dBm)            —            1        —       VPEAK
                                                            FULL = 1 (+3.2 dBm)3           —          1.58       —       VPEAK
 Dynamic    Range4,5,6                             DR       ACT=0, DCT=10 (FCC)            —           82        —         dB
                                                                   IL=100 mA
 Dynamic Range4,5,7                                DR      ACT=0, DCT=01 (Japan)           —           83        —         dB
                                                                    IL=20 mA
 Dynamic Range4,5,6                                DR      ACT=1, DCT=11(CTR21)            —           84        —         dB
                                                                    IL=60 mA
 Transmit Total Harmonic Distortion6,8            THD       ACT=0, DCT=10 (FCC)            —          –85        —         dB
                                                                   IL=100 mA
 Transmit Total Harmonic Distortion7,8            THD      ACT=0, DCT=01 (Japan)           —          –76        —         dB
                                                                    IL=20 mA
 Receive Total Harmonic Distortion7,8             THD      ACT=0, DCT=01 (Japan)           —          –74        —         dB
                                                                    IL=20 mA
 Receive Total Harmonic Distortion6,8             THD      ACT=1, DCT=11 (CTR21)           —          –82        —         dB
                                                                    IL=60 mA
 Dynamic Range (Caller ID mode)                  DRCID      VIN = 1 kHz, –13 dBm           —           60        —         dB
 Notes:
     1. Measured at TIP and RING with 600 Ω termination at 1 kHz, as shown in Figure 1.
     2. R2 should be changed to a 243 Ω resistor when the FULLSCALE bit (FULL) is set to 1 (Register 18, bit 7).
     3. Receive full scale level will produce –0.9 dBFS at SDO.
     4. DR = 20 x log |Vin| + 20 x log (RMS signal/RMS noise).
     5. Measurement is 300 to 3400 Hz. Applies to both transmit and receive paths.
     6. Vin = 1 kHz, –3 dBFS, Fs = 10300 Hz.
     7. Vin = 1 KHz, –6 dBFS, Fs = 10300 Hz.
     8. THD = 20 x log (RMS distortion/RMS signal).
     9. The AOUT pin is an optional pin located on the integrated system-side module. VD refers to the digital power supply of
        the integrated system-side module.
 6                                                           Rev. 1.0


                                                                                                                  Si3016
Table 4. AC Characteristics (Continued)
(TA = 0 to 70 °C for K-Grade and –40 to 85 °C for B-Grade; see Figure 6 on page 9)
 Parameter                                       Symbol            Test Condition              Min       Typ       Max       Unit
 Caller ID Full Scale Level (0 dB gain)            VCID              MODE = 0                   —        0.8         —       VPP
 Caller ID Full Scale Level (ARX = 00)             VCID              MODE = 1                   —        1.4         —       VPP
                  5,6
 Gain Accuracy                                                  2-W to SDO, ATX and            –0.5       0         0.5       dB
                                                               ARX = 000, 001, or 010
 Gain Accuracy5,6                                               2-W to SDO, ATX and             –1        0          1        dB
                                                                   ARX = 011, 1xx
 Notes:
    1. Measured at TIP and RING with 600 Ω termination at 1 kHz, as shown in Figure 1.
    2. R2 should be changed to a 243 Ω resistor when the FULLSCALE bit (FULL) is set to 1 (Register 18, bit 7).
    3. Receive full scale level will produce –0.9 dBFS at SDO.
    4. DR = 20 x log |Vin| + 20 x log (RMS signal/RMS noise).
    5. Measurement is 300 to 3400 Hz. Applies to both transmit and receive paths.
    6. Vin = 1 kHz, –3 dBFS, Fs = 10300 Hz.
    7. Vin = 1 KHz, –6 dBFS, Fs = 10300 Hz.
    8. THD = 20 x log (RMS distortion/RMS signal).
    9. The AOUT pin is an optional pin located on the integrated system-side module. VD refers to the digital power supply of
        the integrated system-side module.
 Table 5. Absolute Maximum Ratings
  Parameter                                                  Symbol                       Value                      Unit
  Operating Temperature Range                                    TA                    –40 to 100                     °C
  Storage Temperature Range                                    TSTG                    –65 to 150                     °C
  Note: Permanent device damage may occur if the absolute maximum ratings are exceeded. Functional operation should be
         restricted to the conditions as specified in the operational sections of this data sheet. Exposure to absolute maximum
         rating conditions for extended periods may affect device reliability.
 Table 6. Digital FIR Filter Characteristics—Transmit and Receive
 (Sample Rate = 8 kHz, TA = 70 °C for K-Grade and –40 to 85 °C for B-Grade)
  Parameter                                          Symbol              Min              Typ            Max             Unit
  Passband (0.1 dB)                                  F(0.1 dB)             0               —              3.3             kHz
  Passband (3 dB)                                      F(3 dB)             0               —              3.6             kHz
  Passband Ripple Peak-to-Peak                                           –0.1              —              0.1             dB
  Stopband                                                                —                4.4            —               kHz
  Stopband Attenuation                                                   –74               —              —               dB
  Group Delay                                            tgd              —              12/Fs            —               sec
  Note: Typical FIR filter characteristics for Fs = 8000 Hz are shown in Figures 2, 3, 4, and 5.
                                                                Rev. 1.0                                                          7


Si3016
Attenuation—dB                                                           Attenuation—dB
                          Input Frequency—Hz                                                        Input Frequency—Hz
                  Figure 2. FIR Receive Filter Response                                   Figure 4. FIR Transmit Filter Response
 Attenuation—dB                                                         Attenuation—dB
                          Input Frequency —Hz                                                       Input Frequency—Hz
          Figure 3. FIR Receive Filter Passband Ripple                       Figure 5. FIR Transmit Filter Passband Ripple
                                 For Figures 2–5, all filter plots apply to a sample rate of
                                 Fs = 8 kHz. The filters scale with the sample rate as follows:
                                 F(0.1 dB) = 0.4125 Fs
                                 F(–3 dB) = 0.45 Fs
                                 where Fs is the sample frequency.
8                                                                 Rev. 1.0


                                                    Decoupling cap for VA
                                                                                             No Ground Plane In DAA Section
                                                  C3         Z4
                                                                               D3                                                                                                                                  Q4                  Q1
                                                                               BAV99
             Host Processor w/ Silicon
                                                                                                                                                                                                                        R5
             Laboratories Integrated
             DAA System-Side Device                                                              R8   R7   R15
                                                                                                                                           C13        C12     +                                              R24
                                                                                                                            U2 Si3016
                                                                                                                      1                   16
                                                                  13                                                  2   QE2     FILT2   15
                                                        VA                                                                DCT      FILT                                                                                                     Q2
                                                                  12           R27                R28                 3                   14
                                   9                   GND        11                                                  4   IGND       RX   13                                       +
                      AOUT             AOUT            C1A                                                                C1B     REXT
                                                                                                                      5                   12                                           C5         R18
                                                                                                                      6   RNG1   REXT2    11
                                                                                       C1                             7   RNG2     REF    10                                                                                                          R6
                                                                                                                      8   QB     VREG2    9
                                                                                                                          QE      VREG
                                                                                                                                                                  R12                       C22
                                                                                                                                                                            R2
                                                                                 C30
                                                                                                                                                                                                        Z1
                                                                                                                                                            R11
                                                                                                                                                                                                                         R19    R17   R16             C20
                                                                                                  D4                                                              C14
                                                                                                                                                 C6         C16         +   R13
                                                                                                  BAV99
                                                                                       C2                        Z5
                                                                                                                                                                                                                                                 Q3
                                                                                                                                                                              C8                                                                                         FB2
                                                                                                                                                                                             R10
                                                                                                                                                                                                                                                                                           RING
                                                                                                                                                                                                                                                                L2
                                                                                                                                                                                                              D2                                      C25
                                                                                                                                          C19                                                                                                                                        C32
                                                                                                                                                                                                                               R26
                                                                                                                                                                                                              C9
Rev. 1.0
                                                                                                                                                                                                                                                                               RV1
                                                                                                                                                                                                              RV2
                                                                                                                                                                                                                               R25                                                   C31
                                                                                                                                          C18                                                                                                         C24
                                                                                                                                                                                                              D1
                                                                                                                                                                              C7                  R9                                                           L1
                                                                                                                                                                                                                                                                                           TIP
           Note 1: Please refer to Appendix B for information regarding                     C4                                                                                                                                                                           FB1
           the installation of L1 and L2.                                                                                                                                                                                                                   See Note 1
           Note 2: R12, R13 and C14 are only required if complex AC
           termination is used (ACT bit = 1).
           Note 3: See "Billing Tone Detection" section for optional billing
           tone filter (Germany, Switzerland, South Africa).
           Note 4: See Appendix A for applications requiring UL 1950
           3rd edition compliance.
                                                                                                           Figure 6. Si3016 Typical Application Circuit
                                                                                                                                                                                                                                                                                                  Si3016
9


Si3016
2. Bill of Materials
                                                Table 7. Si3016 Global Component Values
        Component                                         Value                                                    Supplier(s)
             C1,C4 1                             150 pF, 3 kV, X7R,±20%                           Novacap, Venkel, Johanson, Murata, Panasonic
        C2, C31, C32                                   Not Installed
            C3, C132                            0.22 µF, 16 V, X7R, ±20%
               C5                            0.1 µF, 50 V, Elec/Tant, ±20%
             C6,C16                             0.1 µF, 16 V, X7R, ±20%
             C7,C8                             560 pF, 250 V, X7R, ±20%                               Novacap, Johanson, Murata, Panasonic
               C9                               10 nF, 250 V, X7R, ±20%
               C12                               1.0 µF, 16 V, Tant, ±20%                                            Panasonic
               C14                        0.68 µF, 16 V, X7R/Elec/Tant, ±20%
            C18,C19                              3.9 nF, 16 V, X7R, ±20%
               C20                              0.01 µF, 16 V, X7R, ±20%
               C22                             1800 pF, 50 V, X7R, ±20%
           C24,C251                            1000 pF, 3 kV, X7R, ±10%
              C303                                     Not Installed
             D1,D24                            Dual Diode, 300 V, 225 mA                                      Central Semiconductor
             D3,D4                         BAV99 Dual Diode, 70 V, 350 mW                             Diodes Inc., OnSemiconductor, Fairchild
            FB1,FB2                                    Ferrite Bead                                                    Murata
             L1, L25                      330 μH, DCR < 3 Ω, 120 mA, ±10%                   Taiyo-Yuden, ACT, Transtek Magnetics, Cooper Electronics
             Q1,Q3                                   A42, NPN, 300 V                                        OnSemiconductor, Fairchild
               Q2                                    A92, PNP, 300 V                                        OnSemiconductor, Fairchild
               Q46                           BCP56T1, NPN, 80 V, 1/2 W                                      OnSemiconductor, Fairchild
               RV1                                Sidactor, 275 V, 100 A                             Teccor, ST Microelectronics, Microsemi, TI
              RV27                                     Not Installed
               R28                                 402 Ω, 1/16 W, ±1%
               R5                                  100 kΩ, 1/16 W, ±1%
               R6                                  120 kΩ, 1/16 W, ±5%
   R7,R8,R15,R16,R17,R199                          5.36 kΩ, 1/4 W, ±1%
             R9,R10                                56 kΩ, 1/10 W, ±5%
               R11                                9.31 kΩ, 1/16 W, ±1%
               R12                                 78.7 Ω, 1/16 W, ±1%
               R13                                 215 Ω, 1/16 W, ±1%
               R18                                 2.2 kΩ, 1/10 W, ±5%
               R24                                 150 Ω, 1/16 W, ±5%
            R25,R26                                10 MΩ, 1/16 W, ±5%
            R27,R28                                 10 Ω, 1/10 W, ±5%
               U1                                         Si3021                                                    Silicon Labs
               U2                          Silicon Labs System-Side Device                                          Silicon Labs
                Z1                              Zener Diode, 43 V, 1/2 W                                      Vishay, Motorola, Rohm
              Z4,Z5                             Zener Diode, 5.6 V, 1/2 W                                     Vishay, Motorola, Rohm
 Notes:
     1.  Y2 class capacitors are needed for the Nordic requirements of EN60950 and may also be used to achieve surge performance of 5 kV or better.
     2.  C13 is used to ensure compliance with on-hook pulse dialing and spark quenching requirements in countries, such as Australia and South Africa. If this
         is not a concern, a 0.1 µF cap may be used.
     3.  Install only if needed for improved radiated emissions performance (10 pF, 16 V, NPO, ±10%).
     4.  Several diode bridge configurations are acceptable (suppliers include General Semi., Diodes Inc.).
     5.  See Appendix B for additional requirements.
     6.  Q4 may require copper on board to meet 1/2 W power requirement. (Contact manufacturer for details.)
     7.  RV2 can be installed to improve performance from 2500 V to 3500 V for multiple longitudinal surges (270 V, MOV).
     8.  If supporting +3.2 dBFS voice applications, R2 should be 243 Ω and set the FULLSCALE bit (Reg 18[7]).
     9.  The R7, R8, R15, and R16, R17, and R19 resistors may each be replaced with a single resistor of 1.62 kΩ, 3/4 W, ±1%.
10                                                                         Rev. 1.0


                                                                                                     Si3016
3. Analog Output
Figure 7 illustrates an optional application circuit to support the analog output capability of the DAA system-side
module for call progress monitoring purposes. The ARM bits in Register 6 allow the receive path to be attenuated
by 0, –6, or –12 dB. The ATM bits, which are also in Register 6, allow the transmit path to be attenuated by –20,
–26, or –32 dB. Both the transmit and receive paths can also be independently muted.
                                                               +5 V
                    C2                                          6
                           R3                                3                         C4
                                                                +   5                +
      AOUT                                                   2 –
                                                                4                 C5
                   C1          C6               R1                   C3
                                                                                R2
                                                                                                      Speaker
                   Figure 7. Optional Connection to AOUT for a Call Progress Speaker
                       Table 8. Component Values—Optional Connection to AOUT
                                         Symbol                   Value
                                           C1            2200 pF, 16 V, ±20%
                                       C2, C3, C5         0.1 µF, 16 V, ±20%
                                           C4          100 µF, 16 V, Elec. ±20%
                                           C6             820 pF, 16 V, ±20%
                                           R1             10 kΩ, 1/10 W, ±5%
                                           R2             10 Ω, 1/10 W, ±5%
                                           R3             47 kΩ, 1/10 W, ±5%
                                           U1                    LM386
                                                         Rev. 1.0                                                 11


Si3016
4. Functional Description
The Si3016 is an integrated direct access arrangement           The Si3016 chip can be fully programmed to meet
(DAA) that provides a programmable line interface to            international requirements and is compliant with FCC,
meet global telephone line interface requirements. The          CTR21, JATE, and various other country-specific PTT
device implements Silicon Laboratories’ proprietary             specifications as shown in Table 9. In addition, the
capacitive isolation technology which offers the highest        Si3016 has been designed to meet the most stringent
level of integration by replacing an analog front end           global requirements for out-of-band energy, emissions,
(AFE), an isolation transformer, relays, opto-isolators,        immunity, lightning surges, and safety.
and a 2- to 4-wire hybrid with a 16-pin small outline           The Si3016 is intended for single-channel applications.
integrated circuit (SOIC) package in conjunction with a         For multi-channel applications, up to eight Si3044 DAAs
system-side module that is integrated into another              can be daisy-chained together on one serial port.
device.
                                      Table 9. Country Specific Register Settings
                  Register                                          16                              17          18
                  Country                   OHS       ACT       DCT[1:0]       RZ         RT       LIM         VOL
      Argentina                               0          0          10           0         0         0           0
      Australia1                              1          1          01           0         0         0           0
      Austria                                 0       0 or 1        11           0         0         1           0
      Bahrain                                 0          0          10           0         0         0           0
      Belgium                                 0       0 or 1        11           0         0         1           0
      Brazil1                                 0          0          01           0         0         0           0
      Bulgaria                                0          1          11           0         0         1           0
      Canada                                  0          0          10           0         0         0           0
      Chile                                   0          0          10           0         0         0           0
      China1                                  0          0          01           0         0         0           0
      Colombia                                0          0          10           0         0         0           0
      Croatia                                 0          1          11           0         0         1           0
      CTR211,2                                0       0 or 1        11           0         0         1           0
      Cyprus                                  0          1          11           0         0         1           0
      Czech Republic                          0          1          11           0         0         1           0
      Denmark                                 0       0 or 1        11           0         0         1           0
      Ecuador                                 0          0          10           0         0         0           0
      Egypt1                                  0          0          01           0         0         0           0
      El Salvador                             0          0          10           0         0         0           0
      Finland                                 0       0 or 1        11           0         0         1           0
      France                                  0       0 or 1        11           0         0         1           0
      Germany                                 0       0 or 1        11           0         0         1           0
      Greece                                  0       0 or 1        11           0         0         1           0
      Guam                                    0          0          10           0         0         0           0
      Hong Kong                               0          0          10           0         0         0           0
      Notes:
         1. See "4.9. DC Termination Considerations" on page 17 for more information.
         2. CTR21 includes the following countries: Austria, Belgium, Denmark, Finland, France, Germany, Greece,
             Iceland, Ireland, Italy, Luxembourg, Netherlands, Norway, Portugal, Spain, Sweden, Switzerland, and the
             United Kingdom.
         3. Supported for loop current ≥ 20 mA.
12                                                         Rev. 1.0


                                                                                                      Si3016
                                Table 9. Country Specific Register Settings
            Register                                          16                              17          18
            Country                   OHS       ACT       DCT[1:0]       RZ         RT       LIM         VOL
Hungary                                 0          0          10           0         0         0           0
Iceland                                 0       0 or 1        11           0         0         1           0
India                                   0          0          10           0         0         0           0
Indonesia                               0          0          10           0         0         0           0
Ireland                                 0       0 or 1        11           0         0         1           0
Israel                                  0       0 or 1        11           0         0         1           0
Italy                                   0       0 or 1        11           0         0         1           0
Japan1                                  0          0          01           0         0         0           0
Jordan1                                 0          0          01           0         0         0           0
Kazakhstan1                             0          0          01           0         0         0           0
Kuwait                                  0          0          10           0         0         0           0
Latvia                                  0       0 or 1        11           0         0         1           0
Lebanon                                 0       0 or 1        11           0         0         1           0
Luxembourg                              0       0 or 1        11           0         0         1           0
Macao                                   0          0          10           0         0         0           0
Malaysia1,3                             0          0          01           0         0         0           0
Malta                                   0       0 or 1        11           0         0         1           0
Mexico                                  0          0          10           0         0         0           0
Morocco                                 0       0 or 1        11           0         0         1           0
Netherlands                             0       0 or 1        11           0         0         1           0
New Zealand                             0          1          10           0         0         0           0
Nigeria                                 0       0 or 1        11           0         0         1           0
Norway                                  0       0 or 1        11           0         0         1           0
Oman1                                   0          0          01           0         0         0           0
Pakistan1                               0          0          01           0         0         0           0
Peru                                    0          0          10           0         0         0           0
Philippines1                            0          0          01           0         0         0           0
Poland                                  0          0          10           1         1         0           0
Portugal                                0       0 or 1        11           0         0         1           0
Romania                                 0          0          10           0         0         0           0
Russia1                                 0          0          01           0         0         0           0
Saudi Arabia                            0          0          10           0         0         0           0
Singapore                               0          0          10           0         0         0           0
Slovakia                                0          0          10           0         0         0           0
Slovenia                                0          0          10           1         1         0           0
South Africa                            1          0          10           1         0         0           0
South Korea                             0          0          10           0         0         0           0
Notes:
    1. See "4.9. DC Termination Considerations" on page 17 for more information.
    2. CTR21 includes the following countries: Austria, Belgium, Denmark, Finland, France, Germany, Greece,
       Iceland, Ireland, Italy, Luxembourg, Netherlands, Norway, Portugal, Spain, Sweden, Switzerland, and the
       United Kingdom.
    3. Supported for loop current ≥ 20 mA.
                                                     Rev. 1.0                                                  13


Si3016
                                       Table 9. Country Specific Register Settings
                   Register                                          16                              17          18
                   Country                   OHS       ACT       DCT[1:0]       RZ         RT        LIM        VOL
       Spain                                   0       0 or 1        11           0         0         1           0
       Sweden                                  0       0 or 1        11           0         0         1           0
       Switzerland                             0       0 or 1        11           0         0         1           0
       Syria1                                  0          0          01           0         0         0           0
       Taiwan1                                 0          0          01           0         0         0           0
       Thailand1                               0          0          01           0         0         0           0
       UAE                                     0          0          10           0         0         0           0
       United Kingdom                          0       0 or 1        11           0         0         1           0
       USA                                     0          0          10           0         0         0           0
       Yemen                                   0          0          10           0         0         0           0
       Notes:
          1. See "4.9. DC Termination Considerations" on page 17 for more information.
          2. CTR21 includes the following countries: Austria, Belgium, Denmark, Finland, France, Germany, Greece,
              Iceland, Ireland, Italy, Luxembourg, Netherlands, Norway, Portugal, Spain, Sweden, Switzerland, and the
              United Kingdom.
          3. Supported for loop current ≥ 20 mA.
4.1. Initialization                                              4.3. Isolation Barrier
When the integrated system-side module and the                   The Si3016 achieves an isolation barrier through low-
Si3016 are initially powered up, the DAA registers will          cost, high-voltage capacitors in conjunction with Silicon
have default values that guarantee the line-side chip            Laboratories’ proprietary signal processing techniques.
(Si3016) is powered down with no possibility of loading          These techniques eliminate any signal degradation due
the line (i.e., off-hook). An example initialization             to capacitor mismatches, common mode interference, or
procedure is outlined below:                                     noise coupling. As shown in Figure 6 on page 9, the C1,
1. Program the desired sample rate with the Sample               C4, C24, and C25 capacitors isolate the system side
    Rate Control Register.                                       from the Si3016 (line side). All transmit, receive, control,
                                                                 ring detect, and caller ID data are communicated through
2. Wait until the Si3016 PLL is locked. This time is
                                                                 this barrier.
    between 100 µs and 1 ms.
                                                                 The isolated communications link is disabled by default.
3. Write a 00H into the DAA Control 2 Register. This
                                                                 To enable it, the PDL bit must be cleared. No
    powers up the line-side chip (Si3016) and enables
                                                                 communication between the system-side module and
    the AOUT for call progress monitoring.
                                                                 the Si3016 can occur until this bit is cleared. When the
4. Set the desired line interface parameters (i.e.,              PDL bit is cleared, a check is performed to ensure that
    DCT[1:0], ACT, OHS, RT, LIM[1:0], and VOL) as                the line-side device is an Si3016 device. If it is not, the
    defined by “Country Specific Register Settings”              system-side module will not function.
    shown in Table 9, “Country Specific Register
    Settings,” on page 12.                                       4.4. Transmit/Receive Full Scale Level
After this procedure is complete, the Si3016 is ready for        The Si3016 supports programmable maximum transmit
ring detection and off-hook.                                     and receive levels. The full-scale TX/RX level is
                                                                 established by writing the FULL bit in Register 18. With
4.2. Power Supply                                                FULL = 1, the full scale TX/RX level is increased to
When on-hook, the Si3016 draws power across the                  3.2 dBm to support certain FCC voice applications that
isolation link from the system-side module. When off-            require higher TX/RX levels. When FULL = 1, R2 must
hook, power is drawn from the 2-wire line. Thus, no              be changed from 402 Ω to 243 Ω. The default full scale
power supply connections are needed for the Si3016.              value is –1 dBm (FULL = 0). Note that this higher TX/
                                                                 RX full-scale mode must be used in FCC/600 Ω
                                                                 termination mode.
14                                                          Rev. 1.0


                                                                                                                         Si3016
4.5. Parallel Handset Detection                                              determine the following:
The Si3016 is capable of detecting a parallel handset                            When on-hook, detect if a line is connected.
going off-hook. When the Si3016 is off-hook, the loop                            When on-hook, detect if a parallel phone is off-hook.
current can be monitored via the LVCS bits. A significant                     When off-hook, detect if a parallel phone goes on or
drop in loop current can signal a parallel handset going                          off-hook.
off-hook. If a parallel handset causes the LVCS bits to                       Detect if enough loop current is available to operate.
read all 0s, the Drop-Out Detect (DOD) bit may be                             Detect if there is an overload condition which could
checked to verify that a valid line still exists.                                 damage the DAA (see overload protection feature).
When on-hook, the LVCS bits may also be read to                              4.6.1. Line Voltage Measurement
determine the line voltage. Significant drops in line
voltage may also be used to detect a parallel handset.                       The Si3016 reports the line voltage with the LVCS bits in
For the Si3016 to operate in parallel with another                           Register 19. LVCS has a full scale of 87 V with an LSB
handset, the parallel handset must have a sufficiently                       of 2.75 V. The first code (0 → 1) is skewed such that a 0
high dc termination to support two off-hook DAAs on the                      indicates that the line voltage is < 3 V. The accuracy of
same line. The OFF bit in Register 16 is designed to                         the LVCS bits is ±20%. The user can read these bits
improve parallel handset operation by changing the dc                        directly through the LVCS register when it is on-hook
impedance from 50 Ω to 800 Ω and reducing the DCT                            and the MODE bit is set to 1. A typical transfer function
pin voltage.                                                                 is shown in Figure 8.
                                                                             4.6.2. Loop Current Measurement
4.6. Line Voltage/Loop Current Sensing
                                                                             When the Si3016 is off-hook, the LVCS bits measure
The Si3016 has the ability to measure both line voltage                      loop current in 3 mA/bit resolution. These bits enable
and loop current. The five bit LVCS register reports line                    the user to detect another phone going off-hook by
voltage measurements when on-hook, loop current                              monitoring the dc loop current. The line voltage current
measurements when off-hook, or on-hook line monitor                          sense transfer function is shown in Figure 9 and is
data depending on the state of the MODE, OH, and                             detailed in Table 10.
ONHM bits. Using the LVCS bits, the user can
                         30
                         25
                         20
                 LVCS
                  BITS
                         15
                         10
                          5
                          0
                            0 3 6 9 12 15 18 21 24 27 30 33 36 39 42 45 48 51 54 57 60 63 66 69 72 75 78 81 84 87    100
                                                       Loop Voltage (V)
                            Figure 8. Typical Loop Voltage LVCS Transfer Function
                                                                      Rev. 1.0                                                       15


Si3016
                                                                                                                              Overload
                     30
                     25
                     20
                                                         CTR21
              LVCS
              BITS
                     15
                     10
                     5
                     0
                          0 3 6 9 12 15 18 21 24 27 30 33 36 39 42 45 48 51 54 57 60 63 66 69 72 75 78 81 84 87 90 93                         140
                                                       Loop Current (mA)
                             Figure 9. Typical Loop Current LVCS Transfer Function
                                                                                the 12/Fs filter group delay. If necessary, for the shortest
       Table 10. Loop Current Transfer Function
                                                                                delay, a higher Fs may be established prior to executing
                                                                                the off-hook, such as an Fs of 10.286 kHz. The delay
LVCS[4:0]                          Condition
                                                                                allows for line transients to settle prior to normal use.
     00000   Insufficient line current for normal
             operation. Use the DOD bit to determine if
                                                                                4.8. DC Termination
             a line is still connected.                                         The Si3016 has four programmable dc termination
                                                                                modes that are selected with the DCT[1:0] bits in
     00001   Minimum line current for normal operation.                         Register 16.
     11111   Loop current is excessive (overload).                              FCC mode (DCT[1:0] = 10 b), shown in Figure 10, is the
             Overload > 140 mA in all modes except                              default dc termination mode and supports a transmit full
             CTR21.                                                             scale level of –1 dBm at TIP and RING. This mode
             Overload > 54 mA in CTR21 mode.                                    meets FCC requirements in addition to the requirements
                                                                                of many other countries.
4.7. Off-Hook
                                                                                                                               FCC DCT Mode
The communication system generates an off-hook                                                                   12
command by setting the OH bit. With the OH bit set, the
                                                                                        Voltage Across DAA (V)
                                                                                                                 11
system is in an off-hook state.
The off-hook state is used to seize the line for incoming/                                                       10
outgoing calls and can also be used for pulse dialing.
When the DAA is on-hook, negligible dc current flows                                                             9
through the hookswitch. When the DAA is placed in the
off-hook state, the hookswitch transistor pair, Q1 and                                                            8
Q2, turn on. This applies a termination impedance
                                                                                                                 7
across TIP and RING and causes dc loop current to
flow. The termination impedance has both an ac and dc                                                            6
component.                                                                                                        .01 .02 .03 .04 .05 .06 .07 .08 .09 .1 .11
                                                                                                                              Loop Current (A)
When executing an off-hook sequence, the Si3016
requires 1548/Fs seconds to complete the off-hook and                                  Figure 10. FCC Mode I/V Characteristics
provide phone-line data on the serial link. This includes                       CTR21 mode (DCT[1:0] = 11 b), shown in Figure 11,
16                                                                         Rev. 1.0


                                                                                                                                                                                 Si3016
provides current limiting while maintaining a transmit full
scale level of –1 dBm at TIP and RING. In this mode,                                                                                                         Low Voltage Mode
the dc termination will current limit before reaching                                                                                         10.5
60 mA if the LIM bit is set.                                                                                                                   10
                                                                                                                     Voltage Across DAA (V)
                                                                                                                                               9.5
                                                                 CTR21 DCT Mode                                                                 9
                                         45
                                                                                                                                               8.5
                                         40
                                                                                                                                                8
     Voltage Ac ros s D AA ( V )
                                         35                                                                                                    7.5
                                         30                                                                                                     7
                                                                                                                                               6.5
                                         25
                                                                                                                                                6
                                         20
                                                                                                                                               5.5
                                         15                                                                                                    5.0
                                         10                                                                                                       .01 .02 .03 .04 .05 .06 .07 .08 .09 .1   .11
                                          5                                                                                                                   Loop Current (A)
                                               .015 .02   .025   .03 .035   .04   .045 .05   .055   .06
                                                                                                                                                Figure 13. Low Voltage Mode I/V
                                                                 Loop Current (A)
                                                                                                                                                        Characteristics
   Figure 11. CTR21 Mode I/V Characteristics
Japan mode (DCT[1:0] = 01 b), shown in Figure 12, is a                                                         4.9. DC Termination Considerations
lower voltage mode and supports a transmit full scale                                                          Under certain line conditions, it may be beneficial to use
level of –2.71 dBm. Higher transmit levels for DTMF                                                            other dc termination modes not intended for a particular
dialing are also supported. See "4.13. DTMF Dialing" on                                                        world region. For instance, in countries that comply with
page 19. The low-voltage requirement is dictated by                                                            the CTR21 standard, improved distortion characteristics
countries, such as Japan and Malaysia.                                                                         can be seen for very low loop current lines by switching
                                                                                                               to FCC mode. Thus, after going off-hook in CTR21
                                                                 Japan DCT Mode                                mode, the loop current monitor bits (LVCS[4:0]) may be
                                   10.5
                                     10
                                                                                                               used to measure the loop current, and if LVCS[4:0] < 6,
                                                                                                               it is recommended that FCC mode be used.
              Voltage Across DAA ( V )
                                    9.5
                                           9                                                                   Additionally, for very low-voltage countries, such as
                                         8.5
                                                                                                               Japan and Malaysia, the following procedure should be
                                           8
                                                                                                               used to optimize distortion characteristics and maximize
                                         7.5
                                                                                                               transmit levels:
                                           7                                                                   1. When first going off-hook, use the Low Voltage mode
                                         6.5
                                                                                                                  with the VOL bit set to 1.
                                           6                                                                   2. Measure the loop current using the LVCS[4:0] bits.
                                         5.5                                                                   3. If LVCS[4:0] ≤ 2, maintain the current settings, and
                                             .01 .02 .03 .04 .05 .06 .07 .08 .09              .1 .11
                                                                                                                  proceed with normal operation.
                                                          Loop Current (A)
                                                                                                               4. If LVCS[4:0] > 2 or < 6, switch to Japan mode, leave
   Figure 12. Japan Mode I/V Characteristics                                                                      the VOL bit set, and proceed with normal operation.
Low Voltage mode (DCT[1:0] = 00b), shown in                                                                    5. If LVCS[4:0] ≥ 6, switch to FCC mode, set the VOL
Figure 13, is the lowest line voltage mode supported on                                                           bit to 0, and proceed with normal operation.
the Si3016, with a transmit full scale level of –5 dBm.                                                        Note: A single decision of dc termination mode following off-
Higher transmit levels for DTMF dialing are also                                                                     hook is appropriate for most applications. However,
supported. See "4.13. DTMF Dialing" on page 19. This                                                                 during PTT testing, a false dc termination I/V curve
low-voltage mode is offered for situations that require                                                              may be generated if the dc I/V curve is determined fol-
very low line voltage operation. It is important to note                                                             lowing a single off-hook event.
that this mode should only be used when necessary, as                                                          Finally, Australia has separate dc termination
the dynamic range will be significantly reduced, and                                                           requirements for line seizure versus line hold. Japan
thus the Si3016 will not be able to transmit or receive                                                        mode may be used to satisfy both requirements.
large signals without clipping them.                                                                           However, if a higher transmit level for modem operation
                                                                                                               is desired, switch to FCC mode 500 ms after the initial
                                                                                                          Rev. 1.0                                                                               17


Si3016
off-hook. This will satisfy the Australian dc termination    The RDT bit acts as a one shot. Whenever a new ring
requirements.                                                signal is detected, the one shot is reset. If no new ring
                                                             signals are detected prior to the one shot counter
4.10. AC Termination                                         counting down to zero, the RDT bit will return to zero.
The Si3016 has two ac Termination impedances, which          The length of this count (in seconds) is 65536 divided
are selected with the ACT bit.                               by the sample rate. The RDT will also be reset to zero
ACT = 0 is a real, nominal 600 Ω termination, which          by an off-hook event.
satisfies the impedance requirements of FCC part 68,         The second ring detect method uses the internal serial
JATE, and other countries. This real impedance is set        output of the integrated system-side module (SDO) to
by circuitry internal to the Si3016 as well as the resistor  transmit ring data. If the link is active (PDL = 0) and the
R2 connected to the REXT pin.                                device is not off-hook or not in on-hook line monitor
ACT = 1 is a complex impedance, which satisfies the          mode, the ring data will be sent by the system-side
impedance requirements of Australia, New Zealand,            module to the host processor. The waveform on SDO
South Africa, CTR21, and some European NET4                  depends on the state of the RFWE bit.
countries, such as the UK and Germany. This complex          When the RFWE bit is 0, SDO will be –32768 (0x8000)
impedance is set by circuitry internal to the Si3016 as      while the RNG1-RNG2 voltage is between the
well as the complex network formed by R12, R13, and          thresholds. When a ring is detected, SDO will transition
C14 connected to the REXT2 pin.                              to +32767 while the ring signal is positive, then go back
                                                             to –32768 while the ring is near zero and negative.
4.11. Ring Detection                                         Thus, a near square wave is presented on SDO that
The ring signal is capacitively coupled from TIP and         swings from –32768 to +32767 in cadence with the ring
RING to the RNG1 and RNG2 pins. The Si3016                   signal.
supports either full- or half-wave ring detection. With      When the RFWE bit is 1, SDO will sit at approximately
full-wave ring detection, the designer can detect a          +1228 while the RNG1-RNG2 voltage is between the
polarity reversal as well as the ring signal. See "4.18.     thresholds. When the ring goes positive, SDO will
Caller ID" on page 20. The ring detection threshold is       transition to +32767. When the ring signal goes near
programmable with the RT bit.                                zero, SDO will remain near 1228. Then, as the ring
The ring detector output can be monitored in one of two      goes negative, the SDO will transition to –32768. This
ways. The first method uses the register bits, RDTP,         will repeat in cadence with the ring signal.
RDTN, and RDT. The second method uses the SDO                The best way to observe the ring signal on SDO is
output internal to the integrated system-side module.        simply to observe the MSB of the data. The MSB will
The DSP must detect the frequency of the ring signal in      toggle in cadence with the ring signal independent of
order to distinguish a ring from pulse dialing by            the ring detector mode. This is adequate information for
telephone equipment connected in parallel.                   determining the ring frequency. The MSB of SDO will
A positive ringing signal is defined as a voltage greater    toggle at the same frequency as the ring signal.
than the ring threshold across RNG1-RNG2. RNG1 and           4.12. Ringer Impedance
RNG2 are pins 5 and 6 of the Si3016. Conversely, a
negative ringing signal is defined as a voltage less than    The ring detector in many DAAs is ac-coupled to the
the negative ring threshold across RNG1-RNG2.                line with a large, 1 µF, 250 V decoupling capacitor. The
                                                             ring detector on the Si3016 is also capacitively coupled
The first ring detect method uses the ring detect bits,
                                                             to the line, but it is designed to use smaller, less
RDTP, RDTN, and RDT. RDTP and RDTN behavior is
                                                             expensive 1.8 nF capacitors. Inherently, this network
based on the RNG1-RNG2 voltage. Whenever the
                                                             produces a high ringer impedance to the line of
signal on RNG1-RNG2 is above the positive ring
                                                             approximately 800 to 900 kΩ. This value is acceptable
threshold, the RDTP bit is set. Whenever the signal on
                                                             for the majority of countries, including FCC and CTR21.
RNG1-RNG2 is below the negative ring threshold, the
RDTN bit is set. When the signal on RNG1-RNG2 is             Several countries including Poland, South Africa, and
between these thresholds, neither bit is set.                Slovenia, require a maximum ringer impedance that can
                                                             be met with an internally-synthesized impedance by
The RDT behavior is also based on the RNG1-RNG2
                                                             setting the RZ bit in Register 16.
voltage. When the RFWE bit is a 0 or a 1, a positive
ringing signal will set the RDT bit for a period of time.
The RDT bit will not be set for a negative ringing signal.
18                                                      Rev. 1.0


                                                                                                         Si3016
4.13. DTMF Dialing                                           dealing with this problem is to put a parallel RC shunt
                                                             across the hookswitch relay. The capacitor is large
In CTR21 dc termination mode, the DIAL bit should be
                                                             (~1 µF, 250 V) and relatively expensive. In the Si3016,
set during DTMF dialing if the LVCS[4:0] bits are less
                                                             the OHS bit can be used to slowly ramp down the loop
than 12. Setting this bit increases headroom for large
                                                             current to pass these tests without requiring additional
signals. This bit should not be used during normal
                                                             components.
operation or if the LVCS[4:0] bits are greater than 11.
In Japan dc termination mode, the system-side module         4.15. Billing Tone Detection
attenuates the transmit output by 1.7 dB to meet             “Billing tones” or “metering pulses” generated by the
headroom requirements. Similarly, in Low Voltage             central office can cause modem connection difficulties.
termination mode, the system-side module attenuates          The billing tone is typically either a 12 kHz or 16 kHz
the transmit output by 4 dB. However, when DTMF              signal and is sometimes used in Germany, Switzerland,
dialing is desired in these modes, this attenuation must     and South Africa. Depending on line conditions, the
be removed. This is achieved by entering the FCC dc          billing tone may be large enough to cause major errors
termination mode and setting either the FJM or the           related to the modem data. The Si3016 has a feature
FLVM bits. When in the FCC dc termination modes,             that allows the device to provide feedback as to whether
these bits will enable the respective lower loop current     a billing tone has occurred and when it ends.
termination modes without the associated transmit
                                                             Billing tone detection is enabled by setting the BTE bit.
attenuation. Increased distortion may be observed,
                                                             Billing tones less than 1.1 VPK on the line will be filtered
which is acceptable during DTMF dialing. After DTMF
                                                             out by the low-pass digital filter on the Si3016. The ROV
dialing is complete, the attenuation should be enabled
                                                             bit is set when a line signal is greater than 1.1 VPK,
by returning to either the Japan dc termination mode
                                                             indicating a receive overload condition. The BTD bit is
(DCT[1:0] = 01b) or the Low Voltage termination mode
                                                             set when a line signal (billing tone) is large enough to
(DCT[1:0] = 00b). The FJM and the FLVM bits have no
                                                             excessively reduce the line-derived power supply of the
effect in any other termination mode other than the FCC
                                                             line-side device (Si3016). When the BTD bit is set, the
dc termination mode.
                                                             dc termination is changed to an 800 Ω dc impedance.
Higher DTMF levels may also be achieved if the               This ensures minimum line voltage levels even in the
amplitude is increased and the peaks of the DTMF             presence of billing tones.
signal are clipped at digital full scale (as opposed to
                                                             The OVL bit should be polled following a billing tone
wrapping). Clipping the signal will produce some
                                                             detection. When the OVL bit returns to zero, indicating
distortion and intermodulation of the signal. Generally,
                                                             that the billing tone has passed, the BTE bit should be
somewhat increased distortion (between 10–20%) is
                                                             written to zero to return the dc termination to its original
acceptable during DTMF signaling. Several dB higher
                                                             state. It will take approximately one second to return to
DTMF levels can be achieved with this technique,
                                                             normal dc operating conditions. The BTD and ROV bits
compared with a digital full-scale peak signal.
                                                             are sticky, and they must be written to zero to be reset.
4.14. Pulse Dialing                                          After the BTE, ROV, and BTD bits are all cleared, the
                                                             BTE bit can be set to re-enable billing tone detection.
Pulse dialing is accomplished by going off- and on-hook
to generate make and break pulses. The nominal rate is       Certain line events, such as an off-hook event on a
10 pulses per second. Some countries have very tight         parallel phone or a polarity reversal, may trigger the
specifications for pulse fidelity, including make and        ROV or the BTD bits, after which the billing tone detector
break times, make resistance, and rise and fall times. In    must be reset. The user should look for multiple events
a traditional solid-state dc holding circuit, there are a    before qualifying whether billing tones are actually
number of issues in meeting these requirements.              present.
The Si3016 dc holding circuit has active control of the      Although the DAA will remain off-hook during a billing
on-hook and off-hook transients to maintain pulse            tone event, the received data from the line will be
dialing fidelity.                                            corrupted when a large billing tone occurs. If the user
                                                             wishes to receive data through a billing tone, an external
Spark quenching requirements in countries, such as
                                                             LC filter must be added. A modem manufacturer can
Italy, the Netherlands, South Africa, and Australia deal
                                                             provide this filter to users in the form of a dongle that
with the on-hook transition during pulse dialing. These
                                                             connects on the phone line before the DAA. This keeps
tests provide an inductive dc feed, resulting in a large
                                                             the manufacturer from having to include a costly LC filter
voltage spike. This spike is caused by the line
                                                             internal to the modem when it may only be necessary to
inductance and the sudden decrease in current through
                                                             support a few countries/customers.
the loop when going on-hook. The traditional way of
                                                        Rev. 1.0                                                       19


Si3016
Alternatively, when a billing tone is detected, the system     The billing tone filter affects the ac termination and
software may notify the user that a billing tone has           return loss. The current complex ac termination will
occurred. This notification can be used to prompt the          pass worldwide return loss specifications both with and
user to contact the telephone company and have the             without the billing tone filter by at least 3 dB. The ac
billing tones disabled or to purchase an external LC filter.   termination is optimized for frequency response and
                                                               hybrid cancellation, while having greater than 4 dB of
4.16. Billing Tone Filter (Optional)                           margin with or without the dongle for South Africa,
In order to operate without degradation during billing         Australia, CTR21, German, and Swiss country-specific
tones in Germany, Switzerland, and South Africa, an            specifications.
external LC notch filter is required. (The Si3016 can
remain off-hook during a billing tone event, but modem         4.17. On-Hook Line Monitor
data will be lost in the presence of large billing tone        The Si3016 allows the user to receive line activity when
signals.) The notch filter design requires two notches,        in an on-hook state. This is accomplished through a
one at 12 KHz and one at 16 KHz. Because these                 low-power ADC located on-chip that digitizes the signal
components are fairly expensive and few countries              passed across the RNG1/2 pins and then sends this
supply billing tone support, this filter is typically placed   signal digitally across the isolation link to the system-
in an external dongle or added as a population option          side module. This mode is typically used to detect caller
for these countries. Figure 14 shows an example billing        ID data (see the “Caller ID” section). There are two low-
tone filter.                                                   power ADCs on the Si3016. One is enabled by setting
L1 must carry the entire loop current. The series              the ONHM bit in Register 5. This ADC draws
resistance of the inductors is important to achieve a          approximately 450 µA of current from the line when
narrow and deep notch. This design has more than               activated. A lower-power ADC also exists on the
25 dB of attenuation at both 12 KHz and 16 KHz.                Si3016, which enables a reduced current draw from the
                                                               line of approximately 7 µA. This lower power ADC is
                                                               enabled by setting the MODE bit (in conjunction with the
                             C1
                                                               ONHM bit) to 1. (See the MODE bit description in the
                                                               “Control Registers” section.) Regardless of which ADC
                                                               is being used, the on-hook line monitor function must be
                             C2
                                                               disabled before the device is taken off-hook. Thus,
                                                               ensure that the ONHM bit is cleared before setting the
                             L1                                OH bit.
                                                               The signal to the lower power ADC can be attenuated to
           TIP
                                                               accommodate larger signals. This is accomplished
                                                               through the use of the ARX[2:0] bits. It is important to
                                    L2                         note that while these ARX bits provide gain to the
                                               To
       From Line                                               normal receive path of the DAA, they also function as
                                              DAA
                                                               attenuation bits for the on-hook line monitor low-power
                                    C3
                                                               ADC. Attenuation settings include 0, 1, 2.2, 3.5, and
                                                               5 dB. It is recommended that the new lower-power ADC
         RING
                                                               be used for on-hook line monitoring.
              Figure 14. Billing Tone Filter                   4.18. Caller ID
                                                               The Si3016 provides the designer with the ability to
 Table 11. Component Values—Optional Billing                   pass caller ID data from the phone line to a caller ID
                       Tone Filters                            decoder connected to the serial port.
         Symbol                   Value                        4.18.1. Type I Caller ID
          C1,C2            0.027 µF, 50 V, ±10%                Type I Caller ID sends the CID data while the phone is
                                                               on-hook.
            C3             0.01 µF, 250 V, ±10%
             L1      3.3 mH, >120 mA, <10 Ω, ±10%
             L2       10 mH, >40 mA, <10 Ω, ±10%
20                                                        Rev. 1.0


                                                                                                            Si3016
In systems where the caller ID data is passed on the               passed across the RNG 1/2 pins and presents the
phone line between the first and second rings, the                 data to the DSP via the SDO signal internal to the
following method should be utilized to capture the caller          system-side module.
ID data:                                                       6. Clear the ONHM, MODE, and OFF/SLQ2 bits after
1. After identifying a ring signal using one of the                the caller ID data has been received but prior to the
    methods described in "4.11. Ring Detection" on page            start of the second ring.
    18, determine when the first ring has completed.           4.18.2. Type II Caller ID
2. Set the OFF/SQL2 bit.This bit resets the ac coupling        Type II Caller ID sends the CID data while the DAA is
    network on the ring input in preparation for the caller    off-hook. This mode is often referred to as caller ID/
    ID data. This bit should not be cleared until after the    call waiting (CID/CW). To receive the CID data while off-
    caller ID data has been received.                          hook, the following procedure should be used (also see
3. Assert the MODE bit and then the ONHM bit. This             Figure 15):
    enables the lower current caller ID ADC.                   1. The Caller Alert Signal (CAS) tone is sent from the
4. The low-power ADC (which is powered from the                    Central Office (CO) and is digitized along with the
    system chip, allowing for approximately 7 µA current           line data. The host processor must detect the
    draw from the line) then digitizes the caller ID data          presence of this tone.
    passed across the RNG 1/2 pins and presents the            2. The DAA must then check to see if there is another
    data to the DSP via the SDO signal internal to the             parallel device on the same line. This is
    integrated system-side module.                                 accomplished by briefly going on-hook, measuring
5. Clear the ONHM, MODE, and OFF/SQL2 bits after                   the line voltage, and then returning to an off-hook
    the caller ID data has been received but prior to the          state.
    start of the second ring.                                        a. Set the CALD bit to 1. This disables the
In systems where the caller ID data is preceded by a                    calibration that automatically occurs when going
line polarity (battery) reversal, the following method                  off-hook.
should be used to capture the caller ID data:                        b. With the OH bit set to 1 and the ONHM bit set to
1. Enable full wave rectified ring detection with the                   0, set the MODE bit to 1. This forces the DAA to
    RFWE bit.                                                           go on-hook and disables the off-hook counter
2. Monitor the RDTP and RDTN register bits to identify                  that is normally enabled when going back off-
    whether a polarity reversal or a ring signal has                    hook.
    occurred. A polarity reversal will trip either the RDTP          c. Read the LVCS bits to determine the state of the
    or RDTN ring detection bits, and thus the full-wave                 line.
    ring detector must be used to distinguish a polarity             d. If the LVCS bits read the typical on-hook line
    reversal from a ring. The lowest specified ring                     voltage, there are no parallel devices active on
    frequency is 15 Hz; therefore, if a battery reversal                the line, and CID data reception can be
    occurs, the DSP should wait a minimum of 40 ms to                   continued.
    verify that the event observed is a battery reversal
                                                                     e. If the LVCS bits read well below the typical on-
    and not a ring signal. This time is greater than half
                                                                        hook line voltage, then there are one or more
    the period of the longest ring signal. If another edge
                                                                        devices present and active on the same line that
    is detected during this 40 ms pause, this event is
                                                                        are not compliant with Type II CID. CID data
    characterized as a ring signal and not a battery
                                                                        reception should not be continued.
    reversal.
                                                                     f. Set the MODE bit to 0 to return to an off-hook
3. Once the signal has been identified as a battery
                                                                        state.
    reversal, the ac coupling network on the ring input
    must be reset in preparation for the caller ID data.       3. Immediately after returning to an off-hook state, the
    Set the OFF/SLQ2 bit. This bit should not be cleared           ONHM bit must be set and left enabled for at least
    until after the caller ID data has been received.              30 ms. This allows the line voltage to settle before
                                                                   transmitting or receiving any data. After 30 ms, the
4. Assert the MODE bit and then the ONHM bit. This
                                                                   ONHM bit should be disabled to allow normal data
    enables the lower current caller ID ADC.
                                                                   transmission and reception.
5. The low-power ADC (which is powered from the
    system chip, allowing for approximately 7 µA current
    draw from the line) then digitizes the caller ID data
                                                          Rev. 1.0                                                       21


Si3016
4. If a non-compliant parallel device is present, a reply                  operation.
    tone is not sent by the host tone generator, and the               7. The muting of the upstream data path by the host
    CO does not proceed with sending the CID data.                         processor has the effect of muting the handset in a
5. If all devices on the line are Type II CID compliant,                   telephone application so the user cannot hear the
    the host must mute its upstream data output to avoid                   acknowledgement tone and CID data being sent.
    the propagation of its reply tone and the subsequent               8. The CALD bit can be set to 0 to reenable the
    CID data. After muting its upstream data output, the                   automatic calibration when going off-hook.
    host processor must then send an
                                                                       Due to the nature of the low-power ADC, the data
    acknowledgement (ACK) tone back to the CO to
                                                                       presented on SDO could have up to a 10% dc offset.
    request the transmission of the CID data.
                                                                       The caller ID decoder must use either a high-pass or a
6. The CO then responds with the CID data. After                       band-pass filter to accurately retrieve the caller ID data.
    receiving this, the host processor unmutes the
    upstream data output and continues with normal
                                                 1                                 2              3              4                5
                                Off-Hook Counter                         CAS Tone
        LINE        On-Hook         (1548/Fs)       Off-Hook             Received    Force On-Hook  Fast DCT Mode  Off-Hook   Ack
      O H Bit
  O NHM Bit                                                                                              30 m s
  CALD Bit
  M O DE Bit
Notes:
    1. The off-hook counter is used to prevent transmission or reception of data for 1548/Fs to allow time for the line voltage to
        settle. If the CALD bit is 0, an automatic calibration will also be performed during this time.
    2. The caller alert signal (CAS) tone is transmitted from the CO, which signals an incoming call.
    3. When the MODE bit is set while the device is off-hook, the device is forced on-hook. This is done to read the line voltage
        in the LVCS bits to detect parallel handsets. In this mode, no data is transmitted on the SDO pin.
    4. When the device returns off-hook after being forced on-hook using the MODE bit, the normal off-hook counter is
        disabled. Additionally, if the CALD bit is set, the automatic calibration will not be performed. The fast DCT mode must be
        manually enabled for at least 30 ms in order to properly settle the line voltage. This is done by setting the ONHM bit after
        disabling the MODE bit.
    5. After allowing the line voltage to settle in fast DCT mode, normal off-hook mode should be entered by disabling the
        ONHM bit. If CID data reception is desired, the appropriate signal should be sent to the CO at this time.
                             Figure 15. Implementing Type II Caller ID on the Si3016
4.19. Overload Protection                                              Note: If the OPE bit is enabled before going off-hook, the
                                                                               overload protection circuit can be activated by the line
The Si3016 can detect if an overload condition capable                         transients produced by going off-hook. To avoid this,
of damaging the DAA circuit is present. The DAA may                            the OPE bit should be 0 prior to going off-hook. This bit
be damaged if excessive line voltage or loop current is                        can then be set ~25 ms after going off-hook to enable
sustained.                                                                     the overload protection feature.
The overload protection circuit utilizes the LVCS bits to              4.20. Analog Output
determine an excessive line current or voltage per the
LVCS bit transfer functions outlined in Figures 8 and 9.               The integrated system-side module that the Si3016 is
                                                                       connected to supports an analog output (AOUT) for
When off-hook, if OPE is set and LVCS = 11111, the dc
                                                                       driving the call progress speaker found with most of
termination is disabled (800 Ω presented to the line), the
                                                                       today’s modems. AOUT is an analog signal that is
hookswitch current is reduced, and the OPD bit is set.
                                                                       comprised of a mix of the transmit and receive signals.
22                                                              Rev. 1.0


                                                                                                      Si3016
The receive portion of this mixed signal has a 0 dB gain,   mode supports the popular wake-up-on-ring feature of
while the transmit signal has a gain of –20 dB.             many modems. To enable it, the PDN bit must be set
The transmit and receive signals of the AOUT signal         and the PDL bit then cleared. When the Si3016 is in
have independent controls found in Register 6. The          sleep mode, the host processor clock signal may be
ATM[1:0] bits control the transmit portion, while the       stopped or remain active to the system-side module, but
ARM[1:0] bits control the receive portion. The bits only    it must be active before waking up the DAA. The
affect the AOUT signal and do not affect the modem          system-side module is non-functional except for the link.
data. Figure 7 on page 11 illustrates a recommended         To take the Si3016 out of sleep mode, the system-side
application circuit. In the configuration shown, the        module should be reset.
LM386 provides a gain of 26 dB. Additional gain             In summary, the powerdown/up sequence for sleep
adjustments may be made by varying the voltage              mode is as follows:
divider created by R1 and R3.                               1. Set the PDN bit and clear the PDL bit.
4.21. Gain Control                                          2. The system-side module clock may stay active or
                                                                stop.
The Si3016 supports multiple receive gain and transmit
attenuation settings. The receive path can support gains    3. Restore the system-side module clock before
of 0, 3, 6, 9, and 12 dB, as selected with the ARX[2:0]         initiating the powerup sequence.
bits. The receive path can also be muted with the RXM       4. Reset the system-side module (after system-side
bit. The transmit path can support attenuations of 0, 3,        module clock is present).
6, 9, and 12 dB, as selected with the ATX[2:0] bits. The    5. Program registers to desired settings.
transmit path can also be muted with the TXM bit.
                                                            The Si3016 also supports an additional power-down
The gain control bits, ARXB and ATXB, should be set to      mode. When both the PDN and PDL bits are set, the
0 at all times.                                             chipset enters a complete power-down mode and draws
4.22. Clocking                                              negligible current (deep sleep mode). In this mode, the
                                                            ring detect function does not operate. Normal operation
The system-side module that the Si3016 connects to is       may be restored using the same process for taking the
integrated onto a host processor and is thus clocked        DAA out of sleep mode.
from the processor. The Si3016 receives all clocking
from this system-side module and does not need any          4.24. Calibration
other clock inputs. The sample rate for the Si3016 is       The Si3016 initiates an auto-calibration by default
controlled by the Sample Rate Control register.             whenever the device goes off-hook or experiences a
4.23. Power Management                                      loss in line power. Calibration is used to remove any
                                                            offsets in the on-chip A/D converter that could affect the
The Si3016 supports four basic power management             A/D dynamic range. Auto-calibration is typically initiated
operation modes. The modes are normal operation,            after the DAA dc termination stabilizes and takes 512/Fs
reset operation, sleep mode, and full powerdown mode.       seconds to complete. Due to the large variation in line
The power management modes are controlled by the            conditions and line card behavior that can be presented
PDN and PDL bits in Register 6.                             to the DAA, it may be beneficial to use manual
On powerup or following a reset, the DAA is in reset        calibration in lieu of auto-calibration.
operation. In this mode, the PDL bit is set while the PDN   Manual calibration should be executed as close to 512/
bit is cleared. The system-side module is fully             Fs seconds as possible before valid transmit/receive
operational except for the link. No communication           data is expected.
between the system-side module and Si3016 can occur
                                                            The following steps should be taken to implement
during reset operation. Note that any register bits
                                                            manual calibration:
associated with the Si3016 are not valid in this mode.
                                                            1. The CALD (auto-calibration disable) bit must be set
The most common mode of operation is the normal
                                                                to 1.
operation. In this mode, the PDL and PDN bits are
cleared. The DAA is fully operational, and the link is      2. The MCAL (manual calibration) bit must be toggled
passing information between the system-side module              to one and then zero to begin and complete the
and the Si3016. The desired sample rate should be               calibration.
programmed prior to entering this mode.                     3. The calibration will be completed in 512/Fs seconds.
The Si3016 supports a low-power sleep mode. This
                                                       Rev. 1.0                                                     23


Si3016
4.25. In-Circuit Testing                                     connecting the RJ-11 jack (TIP and RING) to the
                                                             Si3016. To enable this mode, set the AL bit.
The Si3016’s advanced design provides the designer
with an increased ability to determine system                The final testing mode, internal analog loopback, allows
functionality during production line tests, as well as       the system to test the basic operation of the transmit
support for end-user diagnostics. Four loopback modes        and receive paths on the line-side chip and the external
exist allowing increased coverage of system                  components in Figure 6 on page 9. In this test mode,
components. For three of the test modes, a line-side         the data pump provides a digital test waveform on the
power source is needed. While a standard phone line          system-side module. This data is passed across the
can be used, the test circuit in Figure 1 on page 5 is       isolation barrier, transmitted to and received from the
adequate. In addition, an off-hook sequence must be          line, passed back across the isolation barrier, and
performed to connect the power source to the line-side       presented back to the data pump from the system-side
chip.                                                        module. To enable this mode, clear the HBE bit.
For the startup test mode, no line-side power is             When the HBE bit is cleared, this will cause a dc offset
necessary and no off-hook sequence is required. The          which affects the signal swing of the transmit signal. In
startup test mode is enabled by default. When the PDL        this test mode, it is recommended that the transmit
bit is set (the default case), the line side is in a power-  signal be 12 dB lower than normal transmit levels. This
down mode and the system-side module is in a digital         lower level will eliminate clipping caused by the dc offset
loop-back mode. In this mode, data received on SDI is        which results from disabling the hybrid. It is assumed in
passed through the internal filters and transmitted on       this test that the line ac impedance is nominally 600 Ω.
SDO. This path will introduce approximately 0.9 dB of        Note: All test modes are mutually exclusive. If more than one
attenuation on the SDI signal received. The group delay              test mode is enabled concurrently, the results are
of both transmit and receive filters will exist between              unpredictable.
SDI and SDO. Clearing the PDL bit disables this mode,        4.26. Exception Handling
and the SDO data is switched to the receive data from
the line-side. When the PDL bit is cleared, the FDT bit      The Si3016 provides several mechanisms to determine
becomes active, indicating successful communication          if an error occurs during operation. Through the
between the line-side and DSP-side. This can be used         secondary frames of the serial link, the controlling DSP
to verify that the isolation link is operational.            can read several status bits. The bit of highest
                                                             importance is the frame detect bit FDT. This bit indicates
The remaining test modes require an off-hook sequence
                                                             that the system-side module and line-side (Si3016)
to operate. The following sequence defines the off-hook
                                                             device are communicating. During normal operation,
requirements:
                                                             the FDT bit can be checked before reading any bits that
1. Powerup or reset.                                         indicate information about the line side. If FDT is not
2. Program the desired sample rate.                          set, the following bits related to the line side are invalid:
3. Enable the line side by clearing the PDL bit.             RDT, RDTN, RDTP, LCS[3:0], CBID, REVB[3:0],
                                                             LVCS[4:0], ROV, BTD, DOD, OPD, and OVL.
4. Issue off-hook
                                                             Following powerup and reset, the FDT bit is not set
5. Delay 1548/Fs sec to allow calibration to occur.
                                                             because the PDL bit defaults to 1. In this state, the link
6. Set the desired test mode.                                is not operating, and no information about the line side
The isolation link digital loopback mode allows the data     can be determined. The user must program the desired
pump to provide a digital input test pattern on the          sample rate and clear the PDL bit to activate the link.
system-side module and receive that digital test pattern     While the system and line side are establishing
back on the system-side module. To enable this mode,         communication, the system-side does not generate
set the DL bit. In this mode, the isolation barrier is       FSYNC signals. Establishing communication will take
actually being tested. The digital stream is delivered       less than 10 ms.
across the isolation capacitor, C1, of Figure 6 on page 9    The FDT bit can also indicate if the line side executes
to the line side device and returned across the same         an off-hook request successfully. If the line side is not
barrier. Note that in this mode, the 0.9 dB attenuation      connected to a phone line (i.e., the user fails to connect
and filter group delays also exist.                          a phone line to the modem), the FDT bit remains
The analog loopback mode allows an external device to        cleared. The controlling processor must allow sufficient
drive a signal on the telephone line into the Si3016 line-   time for the line side to execute the off-hook request.
side device and have it driven back out onto the line.       The maximum time for FDT to be valid following an off-
This mode allows testing of external components              hook request is 10 ms. If the FDT bit is high, the
24                                                      Rev. 1.0


                                                                   Si3016
LVCS[4:0] bits indicate the amount of loop current
flowing. If the FDT fails to be set following an off-hook
request, the PDL bit in Register 6 must be set high for at
least 1 ms to reset the line side.
Another useful bit is the communication link error (CLE)
bit. The CLE bit indicates a timeout error for the
isolation link. This condition indicates a severe error in
programming or possibly a defective line-side chip.
4.27. Revision Identification
The Si3016 provides the system designer the ability to
determine the revision of the system-side module and/
or the Si3016. The REVA[3:0] bits identify the revision of
the system-side module. The REVB[3:0] and CBID bits
identify the revision of the Si3016. Table 12 lists revision
values for both chips.
               Table 12. Revision Values
      Revision        System-Side           Si3016
                          Module
           C               1010                —
           D                 —               1100
           E                 —               1101
           F                 —               1110
                                                          Rev. 1.0      25


Si3016
5. Control Registers
Note: Any register not listed here is reserved and must not be written.
                                              Table 13. Register Summary
 Register Name                               Bit 7    Bit 6      Bit 5  Bit 4   Bit 3    Bit 2    Bit 1  Bit 0
     1      Control 1                         SR                                                   DL
     2      Control 2                                                            AL               HBE    RXE
    3:4     Reserved
     5      DAA Control 1                            RDTN       RDTP           ONHM      RDT              OH
     6      DAA Control 2                            ATM[1]    ARM[1]   PDL     PDN             ATM[0]  ARM[0]
    7:8     Reserved
     9      Sample Rate Control                                                                SRC[2:0]
    10      Reserved
    11      Chip A Revision                                                                REVA[3:0]
    12      Line Side Status                 CLE      FDT                                   LCS[3:0]
    13      Chip B Revision                           CBID                REVB[3:0]              ARXB    ATXB
    14      Line Side Validation                                                         CHK      CIP    SAFE
    15      TX/RX Gain Control               TXM               ATX[2:0]         RXM            ARX[2:0]
    16      International Control 1         OFF/      OHS        ACT               DCT[1:0]        RZ     RT
                                            SQL2
    17      International Control 2                  MCAL       CALD    LIM     OPE      BTE      ROV    BTD
    18      International Control 3         FULL      DIAL       FJM    VOL    FLVM     MODE     RFWE   SQLH
    19      International Control 4                           LVCS[4:0]                  OVL      DOD    OPD
26                                                        Rev. 1.0


                                                                                                   Si3016
Register 1. Control 1
      Bit          D7             D6            D5             D4         D3      D2           D1         D0
    Name           SR                                                                          DL
     Type          R/W                                                                        R/W
Reset settings = 0000_0000
 Bit      Name                                                      Function
  7         SR      Software Reset.
                    0 = Enables chip for normal operation.
                    1 = Sets all registers to their reset value.
                    Note: Bit will automatically clear after being set.
 6:2    Reserved    Read returns zero.
  1         DL      Isolation Digital Loopback.
                    0 = Digital loopback across isolation barrier disabled.
                    1 = Enables digital loopback mode across isolation barrier. The line side must be enabled
                    prior to setting this mode.
  0     Reserved    Read returns zero.
Register 2. Control 2
      Bit          D7             D6           D5             D4          D3      D2           D1         D0
    Name                                                                  AL                  HBE        RXE
     Type                                                                R/W                  R/W        R/W
Reset settings = 0000_0011
 Bit      Name                                                      Function
 7:4    Reserved    Read returns zero.
  3         AL      Analog Loopback.
                    0 = Analog loopback mode disabled.
                    1 = Enables external analog loopback mode.
  2     Reserved    Read returns zero.
  1        HBE      Hybrid Enable.
                    0 = Disconnects hybrid in transmit path.
                    1 = Connects hybrid in transmit path.
  0        RXE      Receive Enable.
                    0 = Receive path disabled.
                    1 = Enables receive path.
                                                          Rev. 1.0                                            27


Si3016
Register 3. Reserved
       Bit         D7          D6      D5    D4          D3 D2 D1 D0
    Name
      Type
Reset settings = 0000_0000
  Bit      Name                                    Function
 7:0     Reserved   Read returns zero.
Register 4. Reserved
       Bit         D7          D6      D5    D4          D3 D2 D1 D0
    Name
      Type
Reset settings = 0000_0000
  Bit      Name                                    Function
 7:0     Reserved   Read returns zero.
28                                        Rev. 1.0


                                                                                                      Si3016
Register 5. DAA Control 1
      Bit          D7             D6          D5            D4            D3         D2         D1            D0
    Name                        RDTN        RDTP                        ONHM        RDT                      OH
     Type                          R            R                        R/W         R                       R/W
Reset settings = 0000_0000
 Bit      Name                                                    Function
  7     Reserved    Read returns zero.
  6       RDTN      Ring Detect Signal Negative.
                    0 = No negative ring signal is occurring.
                    1 = A negative ring signal is occurring.
  5       RDTP      Ring Detect Signal Positive.
                    0 = No positive ring signal is occurring.
                    1 = A positive ring signal is occurring.
  4     Reserved    Read returns zero.
  3       ONHM      On-Hook Line Monitor.
                    0 = Normal on-hook mode.
                    1 = Enables low-power monitoring mode allowing the DSP to receive line activity without
                    going off-hook. This mode is used for caller-ID detection.
                    When MODE bit = 1 (Register 18, bit 2), the device consumes ~7 µA from the phone line
                    when in on-hook line monitor mode. When MODE = 0, the device consumes ~450 µA from
                    the phone line when in on-hook line monitor mode.
                    Note: This bit should be cleared before setting the OH bit.
  2        RDT      Ring Detect.
                    0 = Reset either 4.5–9 seconds after last positive ring is detected or when the system exe-
                    cutes an off-hook.
                    1 = Indicates a ring is occurring.
  1     Reserved    Read returns zero.
  0         OH      Off-Hook.
                    0 = Line-side device on-hook.
                    1 = Causes the line-side chip to go off-hook. This bit operates independently of the OHE bit
                    and is a logic OR with the off-hook pin when enabled. When the MODE bit (Register 12, bit 2)
                    is set to 1, the device will go on-hook without enabling the off-hook counter, thus allowing the
                    device to go immediately (i.e., no timeout required on the counter) back off-hook when the
                    MODE bit is cleared. This is useful in supporting Type II caller ID.
                    Note: The ONHM bit should be cleared before setting this bit.
                                                        Rev. 1.0                                                   29


Si3016
Register 6. DAA Control 2
       Bit         D7           D6          D5            D4          D3         D2           D1    D0
     Name                     ATM[1]      ARM[1]         PDL         PDN                   ATM[0] ARM[0]
      Type                     R/W          R/W          R/W          R/W                    R/W   R/W
Reset settings = 0111_0000
  Bit      Name                                                Function
   7     Reserved   Read returns zero.
 6,1     ATM[1:0]   AOUT Transmit Path Level Control.
                    00 = –26 dB transmit path attenuation for call progress AOUT pin only.
                    01 = –20 dB transmit path attenuation for call progress AOUT pin only.
                    10 = Mutes transmit path for call progress AOUT pin only.
                    11 = –32 dB transmit path attenuation for call progress AOUT pin only.
 5,0     ARM[1:0]   AOUT Receive Path Level Control.
                    00 = –6 dB receive path attenuation for call progress AOUT pin only.
                    01 = 0 dB receive path attenuation for call progress AOUT pin only.
                    10 = Mutes receive path for call progress AOUT pin only.
                    11 = –12 dB receive path attenuation for call progress AOUT pin only.
   4        PDL     Powerdown Line-Side Chip.
                    0 = Normal operation. Program the clock generator before clearing this bit.
                    1 = Places the Si3016 in lower power mode.
   3       PDN      Powerdown.
                    0 = Normal operation.
                    1 = Powers down the system-side module. An internal RESET to the system-side module is
                    required to restore normal operation.
   2     Reserved   Read returns zero.
Register 7. Reserved
       Bit         D7           D6          D5            D4          D3         D2           D1    D0
     Name
      Type
  Bit      Name                                                Function
 7:0     Reserved   Read returns zero.
30                                                    Rev. 1.0


                                                                                     Si3016
Register 8. Reserved
      Bit          D7            D6          D5          D4            D3   D2   D1     D0
    Name
     Type
 Bit      Name                                                 Function
 7:0    Reserved    Read returns zero.
Register 9. Sample Rate Control
      Bit          D7            D6          D5          D4            D3   D2   D1     D0
    Name                                                                       SRC[2:0]
     Type                                                                        R/W
Reset settings = 0000_0000
 Bit      Name                                                 Function
 7:3    Reserved    Read returns zero.
 2:0    SRC[2:0]    Sample Rate Control.
                    This 3-bit value controls the sampling rate of the DAA.
                    000 = 7200 Hz.
                    001 = 8000 Hz.
                    010 = 8229 Hz.
                    011 = 8400 Hz.
                    100 = 9000 Hz.
                    101 = 9600 Hz.
                    110 = 10286 Hz.
                    111 = Reserved.
Register 10. Reserved
      Bit          D7            D6           D5         D4            D3   D2    D1    D0
    Name
     Type
 Bit      Name                                                 Function
 7:0    Reserved    Read returns zero.
                                                     Rev. 1.0                              31


Si3016
Register 11. Chip A Revision
       Bit         D7            D6          D5            D4           D3          D2            D1       D0
     Name                                                                               REVA[3:0]
      Type                                                                                  R
Reset settings = N/A
  Bit      Name                                                 Function
 7:4     Reserved   Read returns zero.
 3:0    REVA[3:0] Chip A Revision.
                    Four-bit value indicating the revision of the integrated system-side module.
Register 12. Line Side Status
       Bit         D7            D6           D5           D4           D3          D2            D1       D0
     Name          CLE          FDT                                                      LCS[3:0]
      Type         R/W           R                                                          R
Reset settings = N/A
  Bit      Name                                                 Function
   7        CLE     Communications (isolation link) Error.
                    0 = Communication link between the integrated system-side module and Si3016 is operating
                    correctly.
                    1 = Indicates a communication problem between the integrated system-side module and the
                    Si3016. When it goes high, it remains high until a logic 0 is written to it.
   6        FDT     Frame Detect.
                    0 = Indicates link has not established frame lock.
                    1 = Indicates link frame lock has been established.
 5:4     Reserved   Read returns zero.
 3:0      LCS[3:0]  Loop Current Sense.
                    Four-bit value returning the loop current. It is decoded from the LVCS bits. See LVCS bits for
                    line voltage and current monitoring. When off-hook, these bits are decoded as follows from
                    LVCS[4:0]:
                    LCS[3:0] = LVCS[4:1] except
                    when LVCS[4:0] = 11110, LCS[3:0] = 1110 or
                    when LVCS[4:0] = 00001, LCS[3:0] = 0001.
                    When on-hook, LCS[3:0] = LVCS[4:1].
32                                                     Rev. 1.0


                                                                                                           Si3016
Register 13. Chip B Revision
      Bit          D7            D6            D5            D4           D3            D2             D1            D0
    Name                       CBID                             REVB[3:0]                            ARXB          ATXB
     Type                        R                                  R                                 R/W          R/W
Reset settings = N/A
 Bit      Name                                                    Function
  7     Reserved    Read returns zero.
  6       CBID      Chip B ID.
                    0 = Indicates the line side is domestic only.
                    1 = Indicates the line side has international support.
 5:2   REVB[3:0] Chip B Revision.
                    Four-bit value indicating the revision of the Si3016 (line-side) chip.
  1       ARXB      Receive Gain.
                    0 = 0 dB gain is applied.
                    1 = A 6 dB gain is applied to the receive path.
                    Note: This bit should not be used. The Si3016 has the additional receive gain settings ARX[2:0]. ARXB
                           should be set to 0 and the ARX bits should be used.
  0       ATXB      Transmit Attenuation.
                    0 = 0 dB gain is applied.
                    1 = A 3 dB attenuation is applied to the transmit path.
                    Note: This bit should not be used. The Si3016 has the additional transmit gain settings ATX[2:0]. ATXB
                           should be set to 0 and the ATX bits should be used.
                                                        Rev. 1.0                                                         33


Si3016
Register 14. Line Side Validation
       Bit         D7            D6            D5            D4            D3          D2         D1          D0
     Name                                                                             CHK        CIP         SAFE
      Type                                                                             R          R            R
Reset settings = 0000_0100
  Bit      Name                                                     Function
 7:3     Reserved   Read returns zero.
   2       CHK      Line-Side Chip Verification Performed.
                    When the line-side device is first enabled, an automatic safety check is performed internally to
                    ensure that it is the correct device.
                    0 = A check has been performed on the line-side chip to ensure that it is the proper device.
                    1 = A check has not yet been performed on the line-side device to ensure that it is the proper
                    device.
   1        CIP     Line-Side Chip Verification In Progress
                    0 = The line-side device check is not in progress.
                    1 = The line-side device check is currently in progress.
   0       SAFE     Line-Side Chip Verification Result.
                    This bit is only valid after a line side verification check has been performed. Thus, the CHK
                    and CIP bits should be clear when this bit is read.
                    0 = A correct line-side device was detected. Chip operation is normal.
                    1 = An incorrect line-side device was detected. The integrated system-side module will not
                    function properly. Register accesses can still be performed, but data transfer will not occur.
34                                                        Rev. 1.0


                                                                                                     Si3016
Register 15. TX/RX Gain Control
      Bit          D7            D6           D5           D4             D3        D2          D1          D0
    Name          TXM                      ATX[2:0]                      RXM                 ARX[2:0]
     Type          R/W                       R/W                         R/W                    R/W
Reset settings = 0000_0000
 Bit      Name                                                    Function
  7        TXM      Transmit Mute.
                    0 = Transmit signal is not muted.
                    1 = Mutes the transmit signal.
 6:4     ATX[2:0]   Analog Transmit Attenuation.
                    000 = 0 dB attenuation.
                    001 = 3 dB attenuation.
                    010 = 6 dB attenuation.
                    011 = 9 dB attenuation.
                    1xx = 12 dB attenuation.
                    Note: The ATXB bit must be 0 if these bits are used.
  3        RXM      Receive Mute.
                    0 = Receive signal is not muted.
                    1 = Mutes the receive signal.
 2:0    ARX[2:0]    Analog Receive Gain/On-Hook Line Monitor Receive Attenuation.
                    This register functions as both a gain setting for the regular DAA receive path and an attenua-
                    tion setting for the new low-power on-hook line monitor ADC receive path.
                    Receive Gain                           On-Hook Line Monitor Attenuation
                    000 = 0 dB gain.                       000 = 0 dB attenuation.
                    001 = 3 dB gain.                       001 = 1 dB attenuation.
                    010 = 6 dB gain.                       010 = 2.2 dB attenuation.
                    011 = 9 dB gain.                       011 = 3.5 dB attenuation.
                    1xx = 12 dB gain.                      1xx = 5 dB attenuation.
                    Note: The ARXB bit must be 0 if these bits are used.
                                                       Rev. 1.0                                                  35


Si3016
Register 16. International Control 1
       Bit         D7            D6           D5            D4            D3          D2           D1           D0
     Name      OFF/SQL2         OHS          ACT                             DCT[1:0]              RZ           RT
      Type         R/W          R/W          R/W                               R/W                R/W           R/W
Reset settings = 0000_1000
  Bit      Name                                                   Function
   7    OFF/SQL2 DC Termination Off (DAA is off-hook).
                    When the DAA is off-hook, this bit functions as the DC Termination Off bit. When the DAA is
                    on-hook, this bit functions as the Enhanced Ring Detect Network Squelch bit.
                    0 = Normal operation.
                    1 = DC termination disabled and the device presents an 800 Ω dc impedance to the line
                    which is used to enhance operation with a parallel phone. The DCT pin voltage is also
                    reduced for improved low line voltage performance.
                    Enhanced Ring Detect Network Squelch (DAA is on-hook).
                    To properly receive caller ID data, this bit must be set following a polarity reversal or ring sig-
                    nal detection and must be left enabled during the reception of caller ID data. It should be dis-
                    abled before the start of the next ring signal. It is used to recover the offset on the RNG1/2
                    pins after a polarity reversal or ring signal.
                    0 = Normal operation.
                    1 = Enhanced squelch function is enabled.
   6       OHS      On-Hook Speed.
                    0 = The Si3016 will execute a fast on-hook. (Off-hook counter = 1024/Fs seconds.)
                    1 = The Si3016 will execute a slow, controlled on-hook. (Off-hook counter = 4096/Fs
                    seconds.)
   5       ACT      AC Termination Select.
                    0 = Selects the real impedance.
                    1 = Selects the complex impedance.
   4     Reserved   Read returns zero.
 3:2     DCT[1:0]   DC Termination Select.
                    00 = Low Voltage Mode. (Transmit level = –5 dBm).
                    01 = Japan Mode. Lower voltage mode. (Transmit level = –3 dBm).
                    10 = FCC Mode. Standard voltage mode. (Transmit level = –1 dBm).
                    11 = CTR21 Mode. Current limiting mode. (Transmit level = –1 dBm).
   1        RZ      Ringer Impedance.
                    0 = Maximum (high) ringer impedance.
                    1 = Synthesized ringer impedance. C15, R14, Z2, and Z3 must not be installed when setting
                    this bit. See "4.12. Ringer Impedance" on page 18.
   0        RT      Ringer Threshold Select.
                    Used to satisfy country requirements on ring detection. Signals below the lower level will not
                    generate a ring detection; signals above the upper level are guaranteed to generate a ring
                    detection.
                    0 = 11 to 22 VRMS
                    1 = 17 to 33 VRMS
36                                                       Rev. 1.0


                                                                                                           Si3016
Register 17. International Control 2
      Bit          D7             D6             D5            D4          D3             D2          D1            D0
    Name                        MCAL          CALD            LIM         OPE            BTE         ROV           BTD
     Type                        R/W           R/W            R/W         R/W            R/W          R/W          R/W
Reset settings = 0000_0000
 Bit      Name                                                      Function
  7     Reserved    Must be zero.
  6       MCAL      Manual Calibration.
                    0 = No calibration.
                    1 = Initiate calibration.
  5       CALD      Auto-Calibration Disable.
                    0 = Enable auto-calibration.
                    1 = Disable auto-calibration.
  4        LIM      Current Limit
                    This bit only affects chip operation when the CTR21 dc termination mode is selected.
                    0 = No current limiting in CTR21 mode.
                    1 = Enables current limiting in CTR21 mode. The dc termination will current limit before
                    60 mA.
  3        OPE      Overload Protect Enable.
                    0 = Disable overload protection.
                    1 = Enable overload protection.
                    The overload protection feature prevents damage to the DAA when going off-hook with
                    excessive line current or voltage. When off-hook, if OPE is set and LVCS = 11111, the dc ter-
                    mination is disabled (800 Ω presented to the line), the hookswitch current is reduced, and the
                    OPD bit is set. The OPE bit should be written ~25 ms after going off-hook; it should be written
                    to 0 to reset.
  2        BTE      Billing Tone Protect Enable.
                    0 = Disabled.
                    1 = Enabled.
                    When set, the Si3016 will automatically respond to a collapse of the line-derived power supply
                    during a billing tone event. When off-hook, if BTE = 1 and BTD goes high, the dc termination
                    is changed to present 800 Ω to the line, and the DCT pin stops tracking the receive input pin.
                    During normal operation, the DCT pin tracks the receive input.
  1        ROV      Receive Overload.
                    This bit is set when the receive input has an excessive input level (i.e., receive pin goes below
                    ground). This bit is cleared by writing a zero to this location.
                    0 = Normal receive input level.
                    1 = Excessive receive input level.
  0        BTD      Billing Tone Detected.
                    This bit will be set if a billing tone is detected. This bit is cleared by writing a zero to this loca-
                    tion.
                    0 = No billing tone detected.
                    1 = Billing tone detected.
                                                          Rev. 1.0                                                        37


Si3016
Register 18. International Control 3
       Bit          D7           D6            D5          D4           D3          D2           D1           D0
     Name          FULL         DIAL          FJM         VOL          FLVM       MODE         RFWE          SQLH
      Type         R/W           R/W          R/W         R/W           R/W        R/W           R/W          R/W
Reset settings = 0000_0000
  Bit    Name                                                   Function
   7      FULL   Full Scale.
                 0 = Default.
                 1 = Transmit/receive full scale = +3.2 dBm.
                 This bit changes the full scale of the ADC and DAC from –1 dBm min to +3.2 dBm min. When this
                 bit is set, R2 must be changed from 402 Ω to 243 Ω. This mode can be useful for certain voice
                 applications and should only be used in the FCC/600 Ω AC Termination mode.
   6      DIAL   DTMF Dialing Mode.
                 This bit should be set during DTMF dialing in CTR21 mode if LCS[3:0] < 6 or
                 LVCS[4:0] < 12 decimal.
                 0 = Normal operation.
                 1 = Increase headroom for DTMF dialing.
   5       FJM   Force Japan DC Termination Mode.
                 0 = Normal Gain
                 1 = When the DCT[1:0] bits are set to 10b (FCC mode), setting this bit will force the Japan dc ter-
                 mination mode while allowing for a transmit level of –1 dBm. See "4.13. DTMF Dialing" on page
                 19.
   4       VOL   Line Voltage Adjust.
                 When set, this bit will adjust the TIP-RING line voltage. Lowering this voltage will improve margin
                 in low-voltage countries. Raising this voltage may improve large signal distortion performance.
                 0 = Normal operation.
                 1 = Lower DCT voltage.
                 Description                    DCT     OFF      VOL    VDCT      DELTA
                 CTR21/FCC                      1x      0        0      4.00
                 CTR21/FCC+VOL                  1       0        1      3.51      0.49 V
                 JAPAN                          01      0        0      3.15
                 JAPAN+VOL                      01      0        1      2.87      0.28 V
                 LVMode                         00      0        0      2.65
                 LVMode+VOL                     00      0        1      2.47      0.18 V
                 CTR21/FCC+OFF                  1x      1        0      2.33
                 CTR21/FCC+VOL+OFF              1x      1        1      2.21      0.12 V
                 JAPAN+OFF                      01      1        0      2.10
                 JAPAN+VOL+OFF                  01      1        1      2.01      0.09 V
                 LVMode+OFF                     00      1        0      1.94
                 LVMode+VOL+OFF                 00      1        1      1.87      0.07 V
38                                                      Rev. 1.0


                                                                                                                  Si3016
Bit Name                                                        Function
 3  FLVM Force Low Voltage DC Termination Mode.
         0 = Normal gain.
         1 = When the DCT[1:0] bits are set to 10b (FCC mode), setting this bit will force the Low Voltage
         dc termination mode while allowing for a transmit level of –1 dBm. See "4.13. DTMF Dialing" on
         page 19.
 2  MODE MODE Control.
         This bit is used to enable the on-hook line monitor ADC and the line voltage monitor.
         MODE              OH           ONHM           Line Function                    SDO                  LVCS[4:0]
            0                0              0          on-hook                          ring data              0
            0                0              1          on-hook                          line data using 11111 if a line
                                                                                        the higher             voltage
                                                                                        current line           exists, or
                                                                                        monitor                00000 if no
                                                                                                               line voltage
                                                                                                               exists
            0                1              0          off-hook                         line data              loop current
            0                1              1          off-hook/Fast DCT mode line data                        loop current
            1                0              0          on-hook                          ring data              line voltage
            1                0              1          on-hook                          line data using line voltage
                                                                                        the low current
                                                                                        line monitor
            1                1              0          force on-hook                    no data is             line voltage
                                                                                        transmitted on
                                                                                        SDO in this
                                                                                        mode
            1                1              1          force on-hook                    line data using line voltage
                                                                                        the low current
                                                                                        line monitor
         Notes:
             1. If RZ = 1, LVCS[4:0] = either 11111 or 00000 during a ring event. All ones are shown if a line voltage exists; all
                zeroes are shown if no line voltage exists.
             2. Force on-hook mode puts the Si3016 into an on-hook state without restarting the off-hook counter. This is used to
                support Type II caller ID.
             3. The MODE bit is in a different register than the OH and ONHM bits. The user should write the registers in a
                sequence so as not to pass through an undesired state.
             4. Fast DCT mode puts the Si3016 into an off-hook state that is intended to quickly settle the line voltage just after
                going off-hook. While in this mode, data transmission is not recommended. This is used to support Type II caller ID.
             5. The ONHM bit should be cleared before setting the OH bit. If both bits need to be set, the OH bit should be set
                first, and then the ONHM bit should be set in a separate register access.
 1  RFWE Ring Detector Full Wave Rectifier Enable.
         When set, the ring detection circuitry provides full-wave rectification. This will affect the RGDT pin
         as well as the data stream presented on SDO during ring detection.
         0 = Half Wave.
         1 = Full Wave.
 0  SQLH Ring Detect Network Squelch.
         This bit must be set, then cleared after at least 1 ms, following a polarity reversal or ring signal
         detection. It is used to quickly recover the offset on the RNG1/2 pins after a polarity reversal or
         ring signal. If the SQL2 bit is enabled during CID data reception, this bit should not be used.
         0 = Normal operation.
         1 = Squelch function is enabled.
                                                      Rev. 1.0                                                                      39


Si3016
Register 19. International Control 4
       Bit          D7             D6          D5           D4            D3       D2              D1            D0
     Name                                 LVCS [4:0]                               OVL            DOD           OPD
      Type                                    R                                     R               R             R
Reset settings = 0000_0000
  Bit      Name                                                  Function
 7:3     LVCS[4:0] Line Voltage/Current Sense.
                    Represents either the line voltage, loop current, or on-hook line monitor depending on the
                    state of the MODE, OH, and ONHM bits.
                    On-Hook Voltage Monitor (2.75 V/bit).
                    00000 = No line connected.
                    00001 = Minimum line voltage (VMIN = 3 V ± 0.5 V).
                    11111 = Maximum line voltage (87 V ± 20%).
                    The line voltage monitor full scale may be modified by changing R5 as follows:
                    VMAX = VMIN + 4.2 (10M + R5 + 1.6 k)/[(R5 +1.6 k)*5]
                    Off-Hook Loop Current Monitor (3 mA/bit).
                    00000 = Loop current is less than required for normal operation.
                    00001 = Minimum normal loop current.
                    11110 = Maximum normal loop current.
                    11111 = Loop current is excessive (overload).
                                 Overload > 140 mA in all modes except CTR21.
                                 Overload > 54 mA in CTR21 mode.
   2       OVL      Overload Detected.
                    This bit has the same function as ROV in Register 17 but will clear itself after the overload has
                    been removed. See "4.15. Billing Tone Detection" on page 19. This bit is only masked by the
                    off-hook counter and is not affected by the BTE bit.
                    0 = Normal receive input level.
                    1 = Excessive receive input level.
   1       DOD      Recal/Dropout Detect.
                    When the line-side device is off-hook, it is powered from the line itself. If this line-derived
                    power supply collapses, such as when the line is disconnected, this bit is set to 1. Sixteen
                    frames (16/Fs) after the line-derived power supply returns, this bit is set to 0. When on-hook,
                    this bit is set to 0.
                    0 = Normal operation.
                    1 = Line supply dropout detected when on-hook.
   0       OPD      Overload Protect Detected.
                    0 = Inactive.
                    1 = Overload protection active.
                    Note: See description of overload protect operation (OPE bit).
40                                                     Rev. 1.0


         Si3016
Rev. 1.0      41


Si3016
APPENDIX A—UL1950 3RD EDITION
Although designs using the Si3016 comply with             The bottom schematic of Figure 16 shows the
UL1950, 3rd Edition, and pass all overcurrent and         configuration in which the ferrite beads (FB1, FB2) are
overvoltage tests, there are still several issues to      on the protected side of the sidactor (RV1). For this
consider.                                                 design, the ferrite beads can be rated at 200 mA.
Figure 16 shows two designs that can pass the UL1950      In a cost-optimized design, it is important to remember
overvoltage tests, as well as electromagnetic emissions.  that compliance to UL1950 does not always require
The top schematic of Figure 16 shows the configuration    overvoltage tests. It is best to plan ahead and know
in which the ferrite beads (FB1, FB2) are on the          which overvoltage tests will apply to your system.
unprotected side of the sidactor (RV1). For this          System-level elements in the construction, such as fire
configuration, the current rating of the ferrite beads    enclosure and spacing requirements, need to be
needs to be 6 A. However, the higher current ferrite      considered during the design stages. Consult with your
beads are less effective in reducing electromagnetic      professional testing agency during the design of the
emissions.                                                product to determine which tests apply to your system.
                                      C24
                                                                      75 Ω @ 100 MHz, 6 A
                                                    1.25 A                     FB1
                                                                                           TIP
                 RV1                                                  75 Ω @ 100 MHz, 6 A
                                                                               FB2
                                                                                           RING
                                      C25
                           C24
                                     600 Ω @ 100 MHz, 200 mA
                                FB1                              1.25 A
                                                                                           TIP
                                                RV1
                                FB2
                                                                                           RING
                                    600 Ω @ 100 MHz, 200 mA
                           C25
                       Figure 16. Circuits that Pass all UL1950 Overvoltage Tests
42                                                   Rev. 1.0


                                                                                                     Si3016
APPENDIX B—CISPR22 COMPLIANCE
Various countries are expected to adopt the IEC            The direct current resistance (DCR) of the listed
CISPR22 standard over the next few years. For              inductors is an important consideration. If the DCR of
example, the European Union (EU) has adopted a             the inductors used is less than 3 Ω each, then country
standard entitled EN55022, which is based on the           PTT specifications which require 300 Ω or less of dc
CISPR22 standard. Adherence to this standard will be       resistance at TIP and RING with 20 mA of loop current
necessary to display the CE mark on designs intended       can be satisfied with the Japan dc termination mode. If
for sale in the EU. The typical schematic and global bill  the DCR of the inductors is at or slightly above 3 Ω, the
of materials (BOM) (see Figure 6 and Table 7)              low-voltage termination mode may need to be used to
contained in this data sheet are designed to be            satisfy the 300 Ω dc resistance requirement at 20 mA of
compliant to the CISPR22 standard.                         loop current. In all cases, "4.9. DC Termination
If smaller inductors are desired, a notch filter may be    Considerations" on page 17 should be followed.
used and compliance to CISPR22 still achieved. As          If compliance to the CISPR22 standard and certain
shown in Figure 17, a series capacitor-resistor in         other country PTT requirements are not desired, then
parallel with L1 and L2 forms the simple notch filter.     L1 and L2 may be removed. If these inductors are
Table 14 shows corresponding values used for C24,          removed, C24 and C25 should be increased to 2200 pF,
C25, C38, C39, L1, L2, R31, and R32.                       and C9 should be changed to 22 nF, 250 V. With these
                                                           changes, PTT compliance in the following countries will
                   C38                                     not be achieved: India (I/Fax-03/03 standard), Taiwan
                        R31                                (ID0001 standard), Chile (Decree No. 220 1981
                                                           standard), and Argentina (CNC-St2-44.01 standard).
                                                           For questions concerning compliance to CISPR22 or
                       L1              FB1                 other relevant standards, contact a Silicon Laboratories
                                                  TIP      technical representative.
                 C24
      To
     DAA
                   C39
                        R32
                       L2              FB2
                                                 RING
                 C25
        Figure 17. Notch Filter for CISPR22
                      Compliance
    Table 14. Notch Filter Component Values
  C24/C25     C38/C39          L1/L2          R31/R32
  1000 pF      33 pF,      150 µH, DCR         680 Ω,
                50 V     < 3 Ω, I > 120 mA     1/10 W
                                                      Rev. 1.0                                                    43


Si3016
6. Pin Descriptions: Si3016
                                    QE2    1        16   FILT2
                                    DCT    2        15   FILT
                                   IGND    3        14   RX
                                    C1B    4        13   REXT
                                   RNG1    5        12   REXT2
                                   RNG2    6        11   REF
                                     QB    7        10   VREG2
                                     QE    8          9  VREG
                            Table 15. Si3016 Pin Descriptions
  Pin # Pin Name                                        Description
    1      QE2    Transistor Emitter 2.
                  Connects to the emitter of Q4.
    2      DCT    DC Termination.
                  Provides dc termination to the telephone network.
    3     IGND    Isolated Ground.
                  Connects to ground on the line-side interface. Also connects to capacitor C2.
    4      C1B    Isolation Capacitor 1B.
                  Connects to one side of isolation capacitor C1. Used to communicate with the system-
                  side module.
    5     RNG1    Ring 1.
                  Connects through a capacitor to the TIP lead of the telephone line. Provides the ring
                  and caller ID signals to the Si3016.
    6     RNG2    Ring 2.
                  Connects through a capacitor to the RING lead of the telephone line. Provides the ring
                  and caller ID signals to the Si3016.
    7      QB     Transistor Base.
                  Connects to the base of transistor Q3. Used to go on/off-hook.
    8      QE     Transistor Emitter.
                  Connects to the emitter of transistor Q3. Used to go on/off-hook.
    9     VREG    Voltage Regulator.
                  Connects to an external capacitor to provide bypassing for an internal power supply.
   10    VREG2    Voltage Regulator 2.
                  Connects to an external capacitor to provide bypassing for an internal power supply.
   11      REF    Reference.
                  Connects to an external resistor to provide a high-accuracy reference current.
   12    REXT2    External Resistor 2.
                  Sets the complex ac termination impedance.
   13     REXT    External Resistor.
                  Sets the real ac termination impedance.
44                                           Rev. 1.0


                                                                            Si3016
                 Table 15. Si3016 Pin Descriptions (Continued)
Pin # Pin Name                                          Description
 14      RX    Receive Input.
               Serves as the receive side input from the telephone network.
 15      FILT  Filter.
               Provides filtering for the dc termination circuits.
 16     FILT2  Filter 2.
               Provides filtering for the bias circuits.
                                           Rev. 1.0                              45


Si3016
7. Ordering Guide
        Part Number  Package             Pb-Free Temp Range
         Si3016-KS  16-pin SOIC            No     0 to 70 °C
        Si3016-F-FS 16-pin SOIC            Yes    0 to 70 °C
         Si3016-BS  16-pin SOIC            No    –40 to 85 °C
46                              Rev. 1.0


                                                                                                        Si3016
8. Package Outline: SOIC
Figure 18 illustrates the package details for the Si3016. Table 16 lists the values for the dimensions shown in the
illustration.
                   16              9
                                                                                 h
                                            E   H
                                                                                      0.010
                                                                 θ                         GA UGE PLA NE
                    1              8
                            B                                           L
                                                                      Detail F
                              D
                                         A2   A                                         C
                          e           A1                                                L1
                                                                                 See Detail F
                   Seating Plane         γ
                     Figure 18. 16-Pin Small Outline Integrated Circuit (SOIC) Package
                                  Table 16. Package Diagram Dimensions
                                      Symbol                Millimeters
                                                         Min            Max
                                           A             1.35           1.75
                                           A1            .10             .25
                                           A2            1.30           1.50
                                           B             .33             .51
                                           C             .19             .25
                                           D             9.80          10.01
                                           E             3.80           4.00
                                           e          1.27 BSC            —
                                           H             5.80           6.20
                                           h             .25             .50
                                           L             .40            1.27
                                           L1         1.07BSC             —
                                            γ             —             0.10
                                            θ             0º              8º
                                                       Rev. 1.0                                                  47


Si3016
DOCUMENT CHANGE LIST
Revision 0.2 to Revision 0.3
  Pages 9-10: Updated schematic and BOM.
  Page 16: updated Figure 13.
 Page 44: added Appendix B
Revision 0.3 to Revision 0.41
  Table 9 updated.
  “Appendix B—CISPR22 Compliance” updated.
 The “Ringer Impedance Network” figure and the
   “Component Values—Optional Ringer Impedance
   Network” table were deleted from the “Ringer
   Impedance”section as well as a paragraph
   discussing Czech Republic designs.
 The “Dongle Applications Circuit” figure was deleted.
Revision 0.41 to Revision 0.42
  Page 1: updated Features list.
 Table 2, page 5: revised Note 3.
 Page 12: added single-channel information to
   Functional Description.
Revision 0.42 to Revision 0.44
  Table 3 on page 6 updated.
 Page 26: removed SB from Register 1, bit 0.
 Register 1, bit 0: removed SB and description from
   register.
 Register 5, bits 6,1 and 5,0: revised transmit path
   attenuation transmit and receive controls.
Revision 0.44 to Revision 1.0
  Updated "7. Ordering Guide" on page 46.
  Updated "4.27. Revision Identification" on page 25.
48                                                    Rev. 1.0


                Si3016
NOTES:
       Rev. 1.0      49


Si3016
CONTACT INFORMATION
Silicon Laboratories Inc.
4635 Boston Lane
Austin, TX 78735
Tel: 1+(512) 416-8500
Fax: 1+(512) 416-9669
Toll Free: 1+(877) 444-3032
Email: SiDAAinfo@silabs.com
Internet: www.silabs.com
  The information in this document is believed to be accurate in all respects at the time of publication but is subject to change without notice.
  Silicon Laboratories assumes no responsibility for errors and omissions, and disclaims responsibility for any consequences resulting from
  the use of information included herein. Additionally, Silicon Laboratories assumes no responsibility for the functioning of undescribed features
  or parameters. Silicon Laboratories reserves the right to make changes without further notice. Silicon Laboratories makes no warranty, rep-
  resentation or guarantee regarding the suitability of its products for any particular purpose, nor does Silicon Laboratories assume any liability
  arising out of the application or use of any product or circuit, and specifically disclaims any and all liability, including without limitation conse-
  quential or incidental damages. Silicon Laboratories products are not designed, intended, or authorized for use in applications intended to
  support or sustain life, or for any other application in which the failure of the Silicon Laboratories product could create a situation where per-
  sonal injury or death may occur. Should Buyer purchase or use Silicon Laboratories products for any such unintended or unauthorized ap-
  plication, Buyer shall indemnify and hold Silicon Laboratories harmless against all claims and damages.
Silicon Laboratories and Silicon Labs are trademarks of Silicon Laboratories Inc.
Other products or brandnames mentioned herein are trademarks or registered trademarks of their respective holders.
50                                                                     Rev. 1.0


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Silicon Laboratories:
 SI3016-F-FSR
