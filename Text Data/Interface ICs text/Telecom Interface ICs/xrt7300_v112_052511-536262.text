                                                                                    XRT7300
                                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
MAY 2011                                                                                                            REV. 1.1.2
GENERAL DESCRIPTION                                                    FEATURES
The XRT7300 DS3/E3/STS-1 Line Interface Unit is                        • Meets E3/DS3/STS-1 Jitter Tolerance Require-
designed to be used in DS3, E3 or SONET STS-1 ap-                        ments
plications and consists of a line transmitter and re-                  • Full Loop-Back Capability
ceiver integrated on a single chip.                                    • Transmit and Receive Power Down Modes
XRT7300 can be configured to support the E3                            • Full Redundancy Support
(34.368 Mbps), DS3 (44.736 Mbps) or the SONET
                                                                       • Contains a 4-Wire Microprocessor Serial Interface
STS-1 (51.84 Mbps) rates.
                                                                       • Uses Minimum External components
In the transmit direction, the XRT7300 encodes input
data to either B3ZS (for DS3/STS-1 applications) or                    • Requires Single +5V Power Supply
HDB3 (for E3 applications) format and converts the                     • -40°C to +85°C Operating Temperature Range
data into the appropriate pulse shapes for transmis-                   • Available in a 44 pin TQFP package
sion over coaxial cable via a 1:1 transformer.
                                                                       APPLICATIONS
In the receive direction the XRT7300 performs equal-
                                                                       • Interfaces to E3, DS3 or SONET STS-1 Networks
ization on incoming signals, performs Clock Recov-
ery, decodes data from either B3ZS or HDB3 format,                     • CSU/DSU Equipment
converts the receive data into TTL/CMOS format,                        • PCM Test Equipment
checks for LOS or LOL conditions and detects and                       • Fiber Optic Terminals
declares the occurrence of line code violations.
                                                                       • Multiplexers
The XRT7300 also contains a 4-Wire Microprocessor                      NOTE: This Device is Protected by US Patent # 6,157,270
Serial Interface for accessing the on-chip Command
registers.
FIGURE 1. BLOCK DIAGRAM OF THE XRT7300
                   E3          STS-1/DS3         Host/(HW)         RLOL EXCLK             ICT       RCLK2INV
           RTIP         AGC/                                          Clock                                      RCLK1
                                                   Slicer                                             Invert
         RRING        Equalizer                                      Recovery                                    LCV/(RCLK2)
        REQDIS                        Peak                                            Data                       RPOS
                                                                                                       HDB3/
                                    Detector                                       Recovery             B3ZS
                                                                                                      Decoder    RNEG
                                                        LOS Detector
       LOSTHR
            SDI                                                                                                  DECODIS
     SDO/(LCV)          Serial                                                                                   RLOS
          SClk        Processor                                                                                  LLB
                      Interface                 Loop MUX
            CS                                                                                                   RLB
    REGRESET                                                                                                     ENCODIS
                                                                                                                 TAOS
          TTIP                                                 HDB3/           Transmit                          TPDATA
                                             Pulse              B3ZS            Logic                            TNDATA
                                           Shaping            Encoder                         Duty Cycle Adjust  TClk
         TRING
          MTIP                                Tx                                                                 TXLEV
                          Device           Control                                                               TXOFF
        MRING             Monitor
          DMO
Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • FAX (510) 668-7017 • www.exar.com


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
ORDERING INFORMATION
                 PART NUMBER                                    PACKAGE TYPE                                               OPERATING TEMPERATURE RANGE
                  XRT7300IV                            44 Pin TQFP (10mm x 10mm)                                                                           -40°C to +85°C
FIGURE 2. PIN OUT OF THE XRT7300 IN THE 44 PIN TQFP
                               MTIP     MRING    VDD     TTIP   TRING       GND   TNDATA     TPDATA            TCLK        TXOFF                ICT
                               44       43       42      41     40          39    38         37                36          35               34
                 TxLEV   1                                                                                                                                     33   RPOS
                 TAOS    2                                                                                                                                     32   RNEG
                  VDD    3                                                                                                                                     31   RCLK1
                  DMO    4                                                                                                                                     30   LCV/(RCLK2)
                  GND    5                                                                                                                                     29   VDD
                                                                 XRT7300
                                                                (Top View)
                  GND    6                                                                                                                                     28   GND
                  GND    7                                                                                                                                     27   EXCLK
                  RTIP   8                                                                                                                                     26   VDD
                 RRING   9                                                                                                                                     25   GND
                  VDD    10                                                                                                                                    24   RLOS
             REGRESET/   11                                                                                                                                    23   RLOL
              RCLK2INV
                               12       13       14      15     16          17    18         19                20          21               22
                                                                                                                                            CS/(DECODIS)
                                                                                                               SDO/(LCV)
                                                                                              SDI/(LOSMUTEN)
                                        LOSTHR
                                                         RLB
                                                                                                                           SCLK/(ENCODIS)
                                                                            E3
                               REQDIS
                                                                 STS1/DS3          HOST/HW
                                                  LLB
                                                                            2


                                                                                                                                     XRT7300
                                                                                 E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                                                         REV. 1.1.2
                                                           TABLE OF CONTENTS
General description ........................................................................................................... 1
    FEATURES ................................................................................................................................................. 1
    APPLICATIONS .......................................................................................................................................... 1
Figure 1.Block Diagram of the XRT7300............................................................................................................ 1
Ordering Information ......................................................................................................... 2
Figure 2.Pin Out of the XRT7300 in the 44 Pin TQFP........................................................................................ 2
TABLE OF CONTENTS ......................................................................................................... I
Pin Description ................................................................................................................... 3
Electrical Characteristics ................................................................................................ 10
    DC ELECTRICAL CHARACTERISTICS (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHERWISE SPECI-
FIED) ............................................................................................................................................................... 10
    AC ELECTRICAL CHARACTERISTICS (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHERWISE SPECI-
FIED) ............................................................................................................................................................... 10
Figure 3.Timing Diagram of the Transmit Terminal Input Interface .................................................................. 11
Figure 4.Timing Diagram of the Receive Terminal Output Interface ................................................................ 11
    AC ELECTRICAL CHARACTERISTICS (CONTINUED) (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHER-
WISE SPECIFIED) .......................................................................................................................................... 12
    AC ELECTRICAL CHARACTERISTICS (CONTINUED) (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHER-
WISE SPECIFIED) .......................................................................................................................................... 13
ABSOLUTE MAXIMUM RATINGS ..................................................................................... 14
Figure 5.Transmit Pulse Amplitude Test Circuit for DS3, E3 and STS-1 Rates ............................................... 15
Figure 6.ITU-T G.703 Transmit Output Pulse Template for E3 Applications.................................................... 15
Figure 7.Bellcore GR-499-CORE Transmit Output Pulse Template for DS3 Applications ............................... 16
Figure 8.Bellcore GR-253-CORE Transmit Output Pulse Template for SONET STS-1 Applications .............. 16
    MICROPROCESSOR SERIAL INTERFACE TIMING (SEE FIGURE 9) .................................................. 17
Figure 9.Timing Diagram for the Microprocessor Serial Interface .................................................................... 17
System Description ......................................................................................................... 18
    THE TRANSMIT SECTION ....................................................................................................................... 18
    THE RECEIVE SECTION ......................................................................................................................... 18
    THE MICROPROCESSOR SERIAL INTERFACE .................................................................................... 18
Table 1:Role of Microprocessor Serial Interface pins when the XRT7300 is operating in the Hardware Mode 18
1.0 SELECTING THE DATA RATE ............................................................................................................... 19
Table 2:Selecting the Data Rate for the XRT7300 via the E3 and STS-1/DS3 input pins (Hardware Mode)... 19
    COMMAND REGISTER CR4 (ADDRESS = 0X04) .................................................................................. 19
Table 3:Selecting the Data Rate for the XRT7300 Via the STS-1/DS3 and the E3 Bit-fields Within Command
        Register CR4 (HOST Mode)................................................................................................................ 19
2.0 THE TRANSMIT SECTION ...................................................................................................................... 20
    2.1 THE TRANSMIT LOGIC BLOCK ................................................................................................................. 20
Figure 10.The Typical Interface for the Transmission of Data in a Dual-Rail Format From the Transmitting Ter-
         minal Equipment to the Transmit Section of the XRT7300 ................................................................ 20
Figure 11.How the XRT7300 Samples the Data on the TPDATA and TNDATA Input Pins............................. 20
        Accepting Single-Rail Data from the Terminal Equipment .................................................................. 21
    COMMAND REGISTER CR1 (ADDRESS = 0X01) .................................................................................. 21
Figure 12.The Behavior of the TPDATA and TCLK Input Signals While the Transmit Logic Block is Accepting
         Single-Rail Data From the Terminal Equipment................................................................................. 21
                                                                                  I


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
     2.2 THE TRANSMIT CLOCK DUTY CYCLE ADJUST CIRCUITRY ......................................................................... 21
     2.3 THE HDB3/B3ZS ENCODER BLOCK ........................................................................................................ 22
           B3ZS Encoding .................................................................................................................................... 22
Figure 13.An Example of B3ZS Encoding ........................................................................................................ 22
           HDB3 Encoding.................................................................................................................................... 22
Figure 14.An Example of HDB3 Encoding ........................................................................................................ 23
           Enabling/Disabling the HDB3/B3ZS Encoder ...................................................................................... 23
     COMMAND REGISTER CR2 (ADDRESS = 0X02 .................................................................................... 23
     2.4 THE TRANSMIT PULSE SHAPER CIRCUITRY ..............................................................................................23
           Enabling the Transmit Line Build-Out Circuit ....................................................................................... 23
     COMMAND REGISTER CR1 (ADDRESS = 0X01) ................................................................................... 23
           Disabling the Transmit Line Build-Out Circuit ...................................................................................... 23
     COMMAND REGISTER CR1 (ADDRESS = 0X01) ................................................................................... 24
           Design Guideline for Setting the Transmit Line Build-Out Circuit ........................................................ 24
           The Transmit Line Build-Out Circuit and E3 Applications .................................................................... 24
     2.5 INTERFACING THE TRANSMIT SECTION OF THE XRT7300 TO THE LINE ..................................................... 24
Figure 15.Recommended Schematic for Interfacing the Transmit Section of the XRT7300 to the Line........... 24
TRANSFORMER RECOMMENDATIONS ........................................................................................................ 25
3.0 THE RECEIVE SECTION ......................................................................................................................... 25
     3.1 INTERFACING THE RECEIVE SECTION OF THE XRT7300 TO THE LINE ....................................................... 25
Figure 16.Recommended Schematic for Interfacing the Receive Section of the XRT7300 to the Line (Transform-
            er-Coupling) ........................................................................................................................................ 26
Figure 17.Recommended Schematic for Interfacing the Receive Section of the XRT7300 to the Line (Capaci-
            tive-Coupling)...................................................................................................................................... 26
     3.2 THE RECEIVE EQUALIZER BLOCK ............................................................................................................ 26
Figure 18. The Typical Application for the System Installer .............................................................................. 27
     COMMAND REGISTER CR2 (ADDRESS = 0X02) ................................................................................... 28
     3.3 PEAK DETECTOR AND SLICER ................................................................................................................. 28
     3.4 CLOCK RECOVERY PLL .......................................................................................................................... 28
     3.5 THE HDB3/B3ZS DECODER ................................................................................................................... 28
           B3ZS Decoding DS3/STS-1 Applications ............................................................................................ 29
Figure 19.An Example of B3ZS Decoding ........................................................................................................ 29
           HDB3 Decoding E3 Applications.......................................................................................................... 29
Figure 20.An Example of HDB3 Decoding........................................................................................................ 29
           Enabling/Disabling the HDB3/B3ZS Decoder ...................................................................................... 30
     COMMAND REGISTER CR2 (ADDRESS = 0X02) ................................................................................... 30
     3.6 LOS DECLARATION/CLEARANCE ............................................................................................................. 30
           The LOS Declaration/Clearance Criteria for E3 Applications............................................................... 30
Figure 21.The Signal Levels that the XRT7300 Declares and Clears LOS (E3 Mode Only) ............................ 31
Figure 22.The Behavior the LOS Output Indicator In Response to the Loss of Signal and the Restoration of Sig-
            nal .......................................................................................................................................................31
           The LOS Declaration/Clearance Criteria for DS3 and STS-1 Applications.......................................... 32
Table 4:The ALOS Declaration and Clearance Thresholds for a Given Setting of LOSTHR (DS3 and STS-1 Ap-
           plications) for Equalizer Enabled or Disabled ...................................................................................... 32
     COMMAND REGISTER CR0 (ADDRESS = 0X00) ................................................................................... 32
     COMMAND REGISTER CR2 (ADDRESS = 0X02) ................................................................................... 33
     COMMAND REGISTER CR0 (ADDRESS = 0X00) ................................................................................... 33
                                                                                   II


                                                                                                                       XRT7300
                                                                   E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                                           REV. 1.1.2
    COMMAND REGISTER CR2 (ADDRESS = 0X02) .................................................................................. 33
        Muting the Recovered Data while the LOS is being Declared............................................................. 33
    COMMAND REGISTER CR3 (ADDRESS = 0X03) .................................................................................. 33
    3.7 ROUTING THE RECOVERED TIMING AND DATA INFORMATION TO THE RECEIVING TERMINAL EQUIPMENT .... 33
Figure 23. The Typical Interface for the Transmission of Data in a Dual-Rail Format From the Receive Section
         of the XRT7300 to the Receiving Terminal Equipment ...................................................................... 34
Figure 24. How the XRT7300 Outputs Data on the RPOS and RNEG Output Pins ........................................ 34
Figure 25.The Behavior of the RPOS, RNEG and RCLK1 Signals When RCLK1 is Inverted ......................... 35
    COMMAND REGISTER CR3 (ADDRESS = 0X03) .................................................................................. 35
        Routing Single-Rail Format data (Binary Data Stream) to the Receive Terminal Equipment ............. 35
    COMMAND REGISTER CR3 (ADDRESS = 0X03) .................................................................................. 35
Figure 26.The Typical Interface for the Transmission of Data in a Single-Rail Format From the Receive Section
         of the XRT7300 to the Receiving Terminal Equipment ...................................................................... 36
Figure 27.The Behavior of the RPOS and RCLK1 Output Signals While the XRT7300 is Transmitting Single-Rail
         Data to the Receiving Terminal Equipment........................................................................................ 36
4.0 DIAGNOSTIC FEATURES OF THE XRT7300 ........................................................................................ 36
    4.1 THE ANALOG LOCAL LOOP-BACK MODE ................................................................................................. 36
Figure 28.The Analog Local Loop-Back in the XRT7300 ................................................................................. 37
    COMMAND REGISTER CR4 (ADDRESS = 0X04) .................................................................................. 37
    4.2 THE DIGITAL LOCAL LOOP-BACK MODE .................................................................................................. 37
Figure 29.The Digital Local Loop-Back path in the XRT7300 .......................................................................... 38
    COMMAND REGISTER CR4 (ADDRESS = 0X04) .................................................................................. 38
    4.3 THE REMOTE LOOP-BACK MODE ............................................................................................................ 38
Figure 30.The Remote Loop-Back Path in the XRT7300 ................................................................................. 39
    COMMAND REGISTER CR4 (ADDRESS = 0X04) .................................................................................. 39
    4.4 TXOFF FEATURES................................................................................................................................. 40
    COMMAND REGISTER CR1 (ADDRESS = 0X01) .................................................................................. 40
    4.5 THE TRANSMIT DRIVE MONITOR FEATURES ............................................................................................ 40
Figure 31.The XRT7300 Employing the Transmit Drive Monitor Features....................................................... 40
Figure 32. Two LIU’s, Each Monitoring the Transmit Output Signal of the Other LIU IC ................................. 41
    4.6 THE TAOS (TRANSMIT ALL ONES) FEATURE .......................................................................................... 41
    COMMAND REGISTER CR1 (ADDRESS = 0X01) .................................................................................. 41
5.0 THE MICROPROCESSOR SERIAL INTERFACE ................................................................................... 42
    5.1 DESCRIPTION OF THE COMMAND REGISTERS .......................................................................................... 42
Table 5:Addresses and Bit Formats of XRT7300 Command Registers ........................................................... 42
    DESCRIPTION OF BIT-FIELDS FOR EACH COMMAND REGISTER .................................................... 42
        Command Register - CR0 ................................................................................................................... 42
        Command Register - CR1 ................................................................................................................... 43
        Command Register - CR2 ................................................................................................................... 44
        Command Register - CR3 ................................................................................................................... 44
        Command Register - CR4 ................................................................................................................... 45
Table 6:Loop-Back Modes................................................................................................................................ 45
    5.2 OPERATING THE MICROPROCESSOR SERIAL INTERFACE. ......................................................................... 45
Figure 33.Microprocessor Serial Interface Data Structure ............................................................................... 46
Figure 34. How to Interface the XRT7300 IC to the XRT7234/45 E3/DS3 ATM UNI IC .................................. 47
Figure 35.How to Interface the XRT7300 IC to the XRT7250 DS3/E3 Framer IC............................................ 48
    ORDERING INFORMATION ..................................................................................................................... 49
Package Dimensions ....................................................................................................... 49
                                                                   III


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
     REVISION HISTORY ................................................................................................................................ 50
                                                                 IV


                                                                                     XRT7300
                                                      E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                               REV. 1.1.2
PIN DESCRIPTION
PIN DESCRIPTION
  PIN #    SYMBOL TYPE                                        DESCRIPTION
    1      TXLEV     I  Transmit Line Build-Out Enable/Disable Select:
                        This input pin is used to enable or disable the Transmit Line Build-Out circuit in
                        the XRT7300.
                        Setting this pin to “High” disables the Line Build-Out circuit. In this mode, the
                        XRT7300 outputs partially shaped pulses onto the line via the TTIP and TRING
                        output pins.
                        Setting this pin to “Low” enables the Line Build-Out circuit. In this mode, the
                        XRT7300 outputs partially-shaped pulses onto the line via the TTIP and TRING
                        output pins.
                        To comply with the isolated DSX-3/STSX-1 Pulse Template Requirements per
                        Bellcore GR-499-Core or Bellcore GR-253-Core:
                        1. Set this input pin to a "1" if the cable length between the Cross-Connect and
                        the transmit output of the XRT7300 is greater than 225 feet.
                        2. Set this input pin to a "0" if the cable length between the Cross-Connect and
                        the transmit output of the XRT7300 is less than 225 feet.
                        This pin is active only if both of the following are true:
                        (a) The XRT7300 is configured to operate in either the DS3 or SONET STS-1
                        modes and
                        (b) The XRT7300 is configured to operate in the Hardware Mode.
                        NOTE: This pin should be tied to GND if the XRT7300 is to be operated in the
                        HOST mode.
    2       TAOS     I  Transmit All Ones Select:
                        A “High” on this pin causes a continuous AMI all “1’s” pattern to be transmitted
                        onto the line. The frequency of this “1’s” pattern is determined by TCLK.
                        NOTES:
                              1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                              2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                 Mode.
    3        VDD   **** Transmit Digital Power Supply
    4       DMO     O   Drive Monitor Output:
                        If no transmitted AMI signal is present on MTIP and MRING input pins for
                        128±32 TCLK periods, then the DMO pin toggles and remains “High” until the
                        next AMI signal is detected.
    5       GND    **** Transmit Digital GND
    6       GND    **** Analog GND (Substrate)
    7       GND    **** Receive Analog GND
    8       RTIP     I  Receive TIP Input:
                        This input pin along with RRING is used to receive the line signal from the
                        Remote DS3/E3/STS-1 Terminal.
    9      RRING     I  Receive RING Input:
                        This input pin along with RTIP is used to receive the line signal from the Remote
                        DS3/E3/STS-1 Terminal.
   10        VDD   **** Receive Analog VDD
                                             3


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
PIN DESCRIPTION
  PIN #      SYMBOL   TYPE                                      DESCRIPTION
   11       REGRESET/   I  Register Reset Input pin (Invert RCLK2 Output - Select):
           (RCLK2INV)      The function of this pin depends upon whether the XRT7300 is operating in the
                           HOST Mode or in the Hardware Mode.
                           HOST Mode - Register Reset Input pin:
                           Setting this input pin “Low” causes the XRT7300 to reset the contents of the
                           Command Registers to their default settings and operating configuration. This
                           pin is internally pulled “High”.
                           Hardware Mode - Invert RCLK2 Output Select:
                           Setting this input pin “Low” configures the Receive Section of the XRT7300 to
                           output the recovered data via the RPOS and RNEG output pins on the rising
                           edge of the RCLK2 output signal.
                           Setting this input pin “High” configures the Receive Section to output the recov-
                           ered data on the falling edge of the RCLK2 output signal.
   12        REQDIS     I  Receive Equalization Disable Input:
                           Setting this input pin “High” disables the Internal Receive Equalizer in the
                           XRT7300. Setting this pin “Low” enables the Internal Receive Equalizer. The
                           guidelines for enabling and disabling the Receive Equalizer are described in
                           Section 3.2.
                           NOTES:
                                 1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                                 2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                     Mode.
   13        LOSTHR     I  Loss of Signal Threshold Control:
                           The voltage forced on this pin controls the input loss of signal (LOS) threshold.
                           Two settings are provided by forcing this signal to either GND or VDD.
                           NOTE: This pin is only applicable during DS3 or STS-1 operations.
   14          LLB      I  Local Loop-Back Select:
                           This input pin along with RLB dictates which Loop-Back mode the XRT7300 is
                           operating in.
                           A “High” on this pin with RLB being set to “Low” configures the XRT7300 to oper-
                           ate in the Analog Local Loop-Back Mode.
                           A “High” on this pin with RLB also being set to “High” configures the XRT7300 to
                           operate in the Digital Local Loop-Back Mode.
                           NOTES:
                                 1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                                 2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                     Mode.
   15          RLB      I  Remote Loop-Back Select:
                           This input pin along with LLB dictates which Loop-Back mode the XRT7300 is be
                           operating in.
                           A “High” on this pin with LLB being set to “Low” configures the XRT7300 to oper-
                           ate in the Remote Loop-Back Mode.
                           A “High” on this pin with LLB also being set to “High” configures the XRT7300 to
                           operate in the Digital Local Loop-Back Mode.
                           NOTES:
                                 1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                                 2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                     Mode.
                                                 4


                                                                                     XRT7300
                                                       E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                              REV. 1.1.2
PIN DESCRIPTION
  PIN #     SYMBOL  TYPE                                      DESCRIPTION
   16     STS-1/DS3   I  STS-1/DS3 Select Input:
                         A “High” on this pin configures the Clock Recovery Phase Locked Loop to set its
                         VCO Center frequency to around 51.84 MHz (optimal for SONET STS-1 opera-
                         tions). A “Low” on this pin configures the Clock Recovery Phase Locked Loop to
                         set its VCO Center frequency to around 44.736 MHz (optimal for DS3 opera-
                         tions).
                         NOTES:
                               1. The XRT7300 ignores this pin if the E3 pin (pin 17) is set to “1”.
                               2. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                               3. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                  Mode.
   17         E3      I  E3 Select Input:
                         A “High” on this pin configures the XRT7300 to operate in the E3 Mode.
                         A “Low” on this pin configures the XRT7300 to check the state of the STS-1/DS3
                         input pin.
                         NOTES:
                               1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                               2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                  Mode.
   18      HOST/HW    I  HOST/HW Mode Select:
                         This input pin is used to enable or disable the Microprocessor Serial Interface
                         (e.g., consisting of the SDI, SDO, SCLK, CS and REGRESET pins).
                         Setting this input pin “High” enables the Microprocessor Serial Interface (e.g.
                         configures the XRT7300 to operate in the HOST Mode). In this mode, the
                         XRT7300 is configured by writing data into the on-chip Command Registers via
                         the Microprocessor Serial Interface. When the XRT7300 is operating in the
                         HOST Mode, it ignores the states of many of the discrete input pins.
                         Setting this input pin “Low” disables the Microprocessor Serial Interface (e.g.,
                         configures the XRT7300 to operate in the Hardware Mode). In this mode, many
                         of the external input control pins are functional.
   19        SDI/     I  Serial Data Input for the Microprocessor Serial Interface (HOST Mode) or
         (LOSMUTEN)      MUTE-upon-LOS Enable Input (Hardware Mode):
                         The function of this input pin depends upon whether the XRT7300 is operating in
                         the HOST or the Hardware Mode.
                         Serial Data Input for the Microprocessor Serial Interface (HOST Mode):
                         This pin is used to read or write data into the Command Registers of the Micro-
                         processor Serial Interface. The Read/Write bit, the Address Values of the Com-
                         mand Registers and Data Value to be written during Write Operations are
                         applied to this pin.
                         This input is sampled on the rising edge of the SCLK pin (pin 21).
                         MUTE-upon-LOS Enable Input (Hardware Mode):
                         When in the Hardware Mode, this input pin is used to configure the XRT7300 to
                         MUTE the recovered data via the RPOS and RNEG output pins whenever it
                         declares an LOS condition.
                         Setting this input pin “High” configures the XRT7300 to automatically pull the
                         RPOS and RNEG output pins to GND whenever it is declaring an LOS condition,
                         thereby MUTing the data being output to the Terminal Equipment.
                         Setting this input pin “Low” configures the XRT7300 to NOT automatically MUTE
                         the recovered data whenever an LOS condition is declared.
                                              5


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
PIN DESCRIPTION
  PIN #       SYMBOL    TYPE                                      DESCRIPTION
   20       SDO/(LCV)     O   Serial Data Output from the Controller Port/(Line Code Violation Output
                              (LCV) Indicator.):
                              The function of this input pin depends upon whether the XRT7300 is operating in
                              the HOST or the Hardware Mode.
                              HOST Mode - Microprocessor Serial Interface - Serial Data Output.
                              This pin serially outputs the contents of the specified Command Register during
                              Read Operations. The data on this pin is updated on the falling edge of the
                              SCLK input signal. This pin is tri-stated upon completion of data transfer.
                              Hardware Mode - Line Code Violation Output Indicator.
                              This pin pulses “High” for one bit period any time the Receive Section of the
                              XRT7300 detects a Line Code Violation in the incoming E3, DS3 or STS-1 Data
                              Stream.
   21      SCLK/(ENCO-     I  Microprocessor Serial Interface Clock Signal/Encoder Disable:
                DIS)          HOST Mode - Microprocessor Serial Interface Clock Signal
                              This signal is used to sample the data on the SDI pin on the rising edge of this
                              signal. Additionally, during Read operations the Microprocessor Serial Interface
                              updates the SDO output on the falling edge of this signal.
                              Hardware Mode - B3ZS/HDB3 Encoder Disable
                              Setting this input pin “High” disables the B3ZS/HDB3 Encoder and configures
                              the XRT7300 to transmit the line signal in an AMI Format.
                              Setting this input pin “Low” enables the B3ZS/HDB3 Encoder and configures the
                              XRT7300 to transmit the line signal in the B3ZS format (for DS3/STS-1 opera-
                              tion) or in the HDB3 format (for E3 operation).
   22      CS/(DECODIS)    I  Microprocessor Serial Interface - Chip Select/Decoder Disable
                              The function of this input pin depends upon whether the XRT7300 is operating in
                              the HOST or the Hardware Mode.
                              HOST Mode - Chip Select Input:
                              The Local Microprocessor must assert this pin (e.g., set it to “0”) in order to
                              enable communication with the XRT7300 via the Microprocessor Serial Inter-
                              face.
                              Hardware Mode - (B3ZS/HDB3 Decoder Disable)
                              Setting this input pin “High” disables the B3ZS/HDB3 Decoder. Setting this input
                              pin “Low” enables the B3ZS/HDB3 Decoder.
   23          RLOL       O   Receive Loss of Lock Output Indicator
                              This output pin toggles “High” if the XRT7300 has detected a Loss of Lock Con-
                              dition. The XRT7300 declares an LOL (Loss of Lock) Condition if the recovered
                              clock frequency deviates from the Reference Clock frequency (available at the
                              EXCLK input pin) by more than 0.5%.
   24          RLOS       O   Receive Loss of Signal Output Indicator
                              This output pin toggles “High” if the XRT7300 has detected a Loss of Signal
                              Condition in the incoming line signal.
                              The criteria the XRT7300 uses to declare an LOS Condition depends upon
                              whether the device is operating in the E3 or DS3/STS-1 Mode.
   25          GND       **** Digital GND
   26           VDD      **** Digital VDD
                                                   6


                                                                                         XRT7300
                                                         E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                   REV. 1.1.2
PIN DESCRIPTION
  PIN #    SYMBOL    TYPE                                      DESCRIPTION
   27      EXCLK        I  External Reference Clock Input:
                           Apply a 34.368MHz clock signal for E3 applications, a 44.736 MHz clock signal
                           for DS3 applications or a 51.84 MHz clock signal for SONET STS-1 applications.
   28       GND       **** Receiver Digital Ground
   29        VDD      **** Receiver Digital VDD
   30    LCV/(RCLK2)   O   Line Code Violation Indicator/Receive Clock Output pin 2:
                           The function of this pin depends upon whether the XRT7300 is operating in the
                           HOST Mode, the Hardware Mode or User selection.
                           HOST Mode - Line Code Violation Indicator Output:
                           If the XRT7300 is configured to operate in the HOST Mode, then this pin func-
                           tions as the LCV output pin by default. However, by using the on-chip Command
                           Registers, this pin can be configured to function as the second Receive Clock
                           signal output pin (RCLK2).
                           Hardware Mode - Receive Clock Output pin 2:
                           This output pin is the Recovered Clock signal from the incoming line signal. The
                           receive section of the XRT7300 outputs data via the RPOS and RNEG output
                           pins on the rising edge of this clock signal.
                           NOTE: If the XRT7300 is operating in the HOST Mode and this pin is configured
                           to function as the additional Receive Clock signal output pin, then the XRT7300
                           can be configured to update the data on the RPOS and RNEG output pins on the
                           falling edge of this clock signal.
   31      RCLK1       O   Receive Clock Output pin 1:
                           This output pin is the Recovered Clock signal from the incoming line signal. The
                           receive section of the XRT7300 outputs data via the RPOS and RNEG output
                           pins on the rising edge of this clock signal.
                           NOTE: If the XRT7300 device is operating in the “Host” Mode, then the user can
                           configure the device to update the data on the RPOS and RNEG output pins on
                           the falling edge of this clock signal.
   32       RNEG       O   Receive Negative Pulse Output:
                           This output pin pulses “High” whenever the XRT7300 has received a Negative
                           Polarity pulse in the incoming line signal at the RTIP/RRING inputs.
                           NOTE: If the B3ZS/HDB3 Decoder is enabled, then the zero suppression pat-
                           terns in the incoming line signal (such as: "00V", "000V", "B0V", "B00V") is not
                           reflected at this output.
   33       RPOS       O   Receive Positive Pulse Output:
                           This output pin pulses “High” whenever the XRT7300 has received a Positive
                           Polarity pulse in the incoming line signal at the RTIP/RRING inputs.
                           NOTE: If the B3ZS/HDB3 Decoder is enabled, then the zero suppression pat-
                           terns in the incoming line signal (such as: "00V", "000V", "B0V", "B00V") is not
                           reflected at this output.
   34        ICT        I  In-Circuit Test Input:
                           Setting this pin “Low” causes all digital and analog outputs to go into a high-
                           impedance state to allow for in-circuit testing. This pin is internally pulled “High”.
                                                7


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
PIN DESCRIPTION
  PIN #    SYMBOL    TYPE                                       DESCRIPTION
   35      TXOFF       I  Transmitter OFF Input:
                          Setting this input pin “High” configures the XRT7300 to turn off the Transmitter in
                          the device.
                          NOTES:
                                1. This input pin is ignored if the XRT7300 is operating in the HOST Mode.
                                2. Tie this pin to GND if the XRT7300 is going to be operating in the HOST
                                   Mode.
   36       TCLK       I  Transmit Clock Input for TPDATA and TNDATA:
                          This input pin must be driven at 34.368 MHz for E3 applications, 44.736MHz for
                          DS3 applications, or 51.84MHz for SONET STS-1 applications. The XRT7300
                          uses this signal to sample the TPDATA and TNDATA input pins. By default, the
                          XRT7300 is configured to sample these two pins on the falling edge of this sig-
                          nal.
                          If the XRT7300 is operating in the HOST Mode, then the device can be config-
                          ured to sample the TPDATA and TNDATA input pins on the rising edge of TCLK.
   37      TPDATA      I  Transmit Positive Data Input:
                          The XRT73L00 samples this pin on the falling edge of TCLK. If the device sam-
                          ples a “1” at this input pin, then it generates and transmits a positive polarity
                          pulse to the line.
                          NOTES:
                                1. The data should be applied to this input pin if the Transmit Section is
                                   configured to accept Single-Rail data from the Terminal Equipment.
                                2. If the XRT73L00 is operating in the HOST Mode, then the XRT73L00
                                   can be configured to sample the TPDATA pin on either the rising or fall-
                                   ing edge of TCLK.
   38      TNDATA      I  Transmit Negative Data Input:
                          The XRT7300 samples this pin on the falling edge of TCLK. If the device sam-
                          ples a “1” at this input pin, then it generates and transmits a negative polarity
                          pulse to the line.
                          NOTES:
                                1. This input pin is ignored and should be tied to GND if the Transmit Sec-
                                   tion is configured to accept Single-Rail data from the Terminal Equip-
                                   ment.
                                2. If the XRT7300 is operating in the HOST Mode, then the XRT7300 can
                                   be configured to sample the TNDATA pin on either the rising or falling
                                   edge of TCLK.
   39        GND       -  Transmit Analog Ground
   40       TRING     O   Transmit RING Output:
                          The XRT7300 uses this pin, along with TRING, to transmit a bipolar line signal
                          via a 1:1 transformer.
   41        TTIP     O   Transmit TIP Output:
                          The XRT7300 uses this pin, along with TTIP, to transmit a bipolar line signal via
                          a 1:1 transformer.
   42        VDD       -  Transmit Analog Power Supply
                                               8


                                                                                       XRT7300
                                                    E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                 REV. 1.1.2
PIN DESCRIPTION
  PIN #    SYMBOL TYPE                                      DESCRIPTION
   43      MRING    I  Monitor Ring Input:
                       The bipolar line output signal from TRING can be connected to this pin via a 270
                        resistor in order to check for line driver failure. This pin is internally pulled
                       “High”.
   44       MTIP    I  Monitor Tip Input:
                       The bipolar line output signal from TTIP can be connected to this pin via a 270 
                       resistor in order to check for line driver failure. This pin is internally pulled
                       “High”.
                                            9


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
ELECTRICAL CHARACTERISTICS
DC ELECTRICAL CHARACTERISTICS (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHERWISE SPECIFIED)
   SYMBOL                       PARAMETER                     MIN.             TYP.       MAX.     UNITS
     VDDD     DC Supply Voltage                               4.75               5        5.25      V
     VDDA     DC Supply Voltage                               4.75               5        5.25      V
      ICC     Supply Current (Measured while Transmitting and Receiving all “1’s”)
              DS-3 Mode                                                        167        200       mA
              STS-1 Mode                                                       180        220       mA
      VIL     Input Low Voltage                                                            0.8      V
      VIH     Input High Voltage                               2.0                        VDD       V
      VOL     Output Low Voltage, IOUT = -4.0mA                 0                          0.4      V
      VOH     Output High Voltage, IOUT = 4.0mA                2.8                        VDD       V
       IL     Input Leakage Current*                                                      ±10       mA
* Not applicable to pins with pull-up/pull-down resistors.
AC ELECTRICAL CHARACTERISTICS (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHERWISE SPECIFIED)
  SYMBOL                           PARAMETER                        MIN.             TYP.     MAX.  UNITS
 Terminal Side Timing Parameters (See Figure 3 & Figure 4)
            TCLK Clock Duty Cycle (DS3/STS-1)                        30               50       70     %
            TCLK Clock Duty Cycle (E3)                               30               50       70     %
            TCLK Frequency (SONET STS-1)                                            51.84           MHz
            TCLK Frequency (DS3)                                                   44.736           MHz
            TCLK Frequency (E3)                                                    34.368           MHz
    tRTX    TCLK Clock Rise Time (10% to 90%)                                                  4     ns
    tFTX    TCLK Clock Fall Time (90% to 10%)                                                  4     ns
    tTSU    TPDATA/TNDATA to TCLK Falling Set up time                 3                              ns
    tTHO    TPDATA/TNDATA to TCLK Falling Hold time                   3                              ns
   tLCVO    RCLK to rising edge of LCV output delay                                  2.5             ns
    tTDY    TTIP/TRING to TCLK Rising Propagation Delay time         0.6                       14    ns
            RCLK Clock Duty Cycle                                    45               50       55     %
            RCLK Frequency (SONET STS-1)                                            51.84           MHz
            RCLK Frequency (DS3)                                                   44.736           MHz
            RCLK Frequency (E3)                                                    34.368           MHz
                                                           10


                                                                             XRT7300
                                                         E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                  REV. 1.1.2
AC ELECTRICAL CHARACTERISTICS (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHERWISE SPECIFIED)
 SYMBOL                      PARAMETER                    MIN.        TYP.   MAX.      UNITS
   tCO    RCLK to RPOS/RNEG Delay Time                                        4          ns
  tRRX    RCLK Clock Rise Time (10% to 90%)                            2      4          ns
  tFRX    RCLK Clock Fall Time (10% to 90%)                           1.5     3          ns
    Ci     Input Capacitance                                                  10         pF
    CL    Load Capacitance                                                    10         pF
        FIGURE 3. TIMING DIAGRAM OF THE TRANSMIT TERMINAL INPUT INTERFACE
                                  tRTX          tFTX
                   TClk
                                           tTSU             tTHO
            TPDATA or
             TNDATA
             TTIP or              tTDY
              TRING
        FIGURE 4. TIMING DIAGRAM OF THE RECEIVE TERMINAL OUTPUT INTERFACE
                                   tRRX          tFRX
                   RClk
                                     tLCVO
                   LCV
                               tCO
              RPOS or
               RNEG
                                                      11


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
AC ELECTRICAL CHARACTERISTICS (CONTINUED) (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHER-
WISE SPECIFIED)
Line Side Parameters
  SYMBOL                                  PARAMETER                         MIN.  TYP. MAX.  UNITS
 DS3 Application Parameters
 Transmit Line Characteristics (See Figure 5)
           Transmit Output Pulse Amplitude (Measured at 0 feet, TXLEV = 0)  0.68  0.75  0.85  Vpk
           Transmit Output Pulse Amplitude (Measured at 0 feet, TXLEV = 1)  0.90  1.0    1.1  Vpk
           Transmit Output Pulse Width                                     10.10 11.18 12.28   ns
           Transmit Output Pulse Amplitude Ratio                            0.9   1.0    1.1
           Transmit Output Jitter with jitter-free input clock at TCLK            0.02  0.05 UIpp
 Receive Line Characteristics
           Receive Sensitivity (Length of Cable)                            900  1000         feet
           Receive Intrinsic Jitter (All One’s Pattern)                           0.01         UI
           Receive Intrinsic Jitter (100 Pattern) (1)                             0.02         UI
 LOS Level With Equalizer Enabled (Table 4)
           Signal Level to Declare Loss of Signal (LOSTHR = 0)                           55   mV
           Signal Level to Clear Loss of Signal (LOSTHR = 0)                220               mV
           Signal Level to Declare Loss of Signal (LOSTHR = 1)                           22   mV
           Signal Level to Clear Loss of Signal (LOSTHR = 1)                 90               mV
 LOS Level With Equalizer Disabled (Table 4)
           Signal Level to Declare Loss of Signal (LOSTHR = 0)                           35   mV
           Signal Level to Clear Loss of Signal (LOSTHR = 0)                155               mV
           Signal Level to Declare Loss of Signal (LOSTHR = 1)                           17   mV
           Signal Level to Clear Loss of Signal (LOSTHR = 1)                 70               mV
           Max Jitter Tolerance @ Jitter Frequency = 100Hz                   64                UI
           Max Jitter Tolerance @ Jitter Frequency = 1KHz                    64                UI
           Max Jitter Tolerance @ Jitter Frequency = 10KHz                    5                UI
           Max Jitter Tolerance @ Jitter Frequency = 800KHz                 0.4                UI
(1) Measured at Nominal DSX3 level, Equalizer enabled,
VDD = 5V and TA = 25oC
                                                              12


                                                                                           XRT7300
                                                                       E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                  REV. 1.1.2
AC ELECTRICAL CHARACTERISTICS (CONTINUED) (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHER-
WISE SPECIFIED)
Line Side Parameters
 SYMBOL                                   PARAMETER                           MIN.    TYP.   MAX.       UNITS
 E3 Application Parameters
 Transmit Line Characteristics (See Figure 5)
           Transmit Output Pulse Amplitude (Measured at Secondary Out-         0.9    1.00    1.1        Vpk
           put of Transformer)
           Transmit Output Pulse Amplitude Ratio                              0.95    1.00   1.05
           Transmit Output Pulse Width                                        12.5   14.55   16.5         ns
           Transmit Output Pulse Width Ratio                                  0.95    1.00   1.05
           Transmit Output Jitter with jitter-free input clock at TCLK                0.02   0.05        UIpp
 Receive Line Characteristics
           Receive Sensitivity (Length of cable)                              1100                       feet
           Interference Margin                                                 -20    -17                 dB
           Signal Level to Declare Loss of Signal                                            -35          dB
           Signal Level to Clear Loss of Signal                                -15                        dB
           Occurrence of LOS to LOS Declaration Time                            10    100    255          UI
           Termination of LOS to LOS Clearance Time                             10    100    255          UI
           Intrinsic Jitter (all "1’s" Pattern) (1)                                   0.01                UI
           Intrinsic Jitter (100 Pattern)                                             0.03
           Max Jitter Tolerance @ Jitter Frequency = 100Hz                      64                        UI
           Max Jitter Tolerance @ Jitter Frequency = 1KHz                       30                        UI
           Max Jitter Tolerance @ Jitter Frequency = 10KHz                      4                         UI
           Max Jitter Tolerance @ Jitter Frequency = 800KHz                   0.15                        UI
 SONET STS-1 Application Parameters
 Transmit Line Characteristics (See Figure 5)
           Transmit Output Pulse Amplitude (Measured with TXLEV = 0)          0.68    0.75   0.85        Vpk
           Transmit Output Pulse Amplitude (Measured with TXLEV = 1)          0.93    0.98   1.08        Vpk
           Transmit Output Pulse Width                                         8.6    9.65   10.6         ns
           Transmit Output Pulse Amplitude Ratio                               0.9     1.0    1.1
           Transmit Output Jitter with jitter-free clock input at TCLK                0.02   0.05        UIpp
                                                              13


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
AC ELECTRICAL CHARACTERISTICS (CONTINUED) (TA = 25°C, VDD = 5.0V + 5%, UNLESS OTHER-
WISE SPECIFIED)
Line Side Parameters
  SYMBOL                                   PARAMETER                           MIN.         TYP.   MAX.      UNITS
  Receive Line Characteristics
            Receive Sensitivity (Length of cable)                              900                            feet
            Signal Level to Declare or Clear Loss of Signal (see Table 4)                                     mV
            Intrinsic Jitter (all "1’s" Pattern) (2)                                       0.03                UI
            Intrinsic Jitter (100 Pattern)                                                 0.03                UI
            Max Jitter Tolerance @ Jitter Frequency = 100Hz                     64                             UI
            Max Jitter Tolerance @ Jitter Frequency = 1KHz                      64                             UI
            Max Jitter Tolerance @ Jitter Frequency = 10KHz                      5                             UI
            Max Jitter Tolerance @ Jitter Frequency = 800KHz                    0.4                            UI
(1) Measured with Equalizer enabled, 12db cable attenua-
tion, VDD = 5V and TA = 25°C
(2) Measured at nominal STSX-1 level with Equalizer en-
abled, VDD = 5V and TA = 25°C
                                          ABSOLUTE MAXIMUM RATINGS
                                         POWER SUPPLY                               -0.5 TO +6.5V
                                     STORAGE TEMPERATURE                           -65OC TO 150OC
                                   INPUT VOLTAGE AT ANY PIN                     -0.5V TO VDD +0.5V
                             POWER DISSIPATION TQFP PACKAGE                             1.2W
                                   INPUT CURRENT AT ANY PIN                            +100MA
                             ESD RATING (MIL-STD-883, M-3015)                     AT LEAST 1500V
Figure 5 presents the test circuit that was used to test       Figure 6, Figure 7 and Figure 8 present the Pulse
and measure the pulse amplitudes as listed in the              Template requirements for the E3, DS3 and STS-1
ELECTRICAL CHARACTERISTICS tables.                             Rates.
                                                            14


                                                                                        XRT7300
                                                           E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                           REV. 1.1.2
FIGURE 5. TRANSMIT PULSE AMPLITUDE TEST CIRCUIT FOR DS3, E3 AND STS-1 RATES
                                   TTIP
                                                R1
                                               36
                                                               T1
                                                                                     R3
                                                                                    75
                                                               1:1
                                                 R2
                                                36
                                 TRING
FIGURE 6. ITU-T G.703 TRANSMIT OUTPUT PULSE TEMPLATE FOR E3 APPLICATIONS
                                                 17 ns
                                            (14.55 + 2.45)
                                              8.65 ns
               V = 100%
                                                                   N om inal P ulse
               50%
                                               14.55ns
                                                12.1ns
                        10%                 (14.55 - 2.45)
                0%
                            10%
                                        20%
                                                      15


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
FIGURE 7. BELLCORE GR-499-CORE TRANSMIT OUTPUT PULSE TEMPLATE FOR DS3 APPLICATIONS
                                                                                                          DS3 Pulse Template
                                    1.2
                                      1
                                    0.8
             Normalized Amplitude
                                    0.6
                                                                                                                                                                                                              Lower Curve
                                                                                                                                                                                                              Upper Curve
                                    0.4
                                    0.2
                                      0
                                    -0.2
                                     -1    -09    -08    -07    -06    -05    -04    -03    -02    -01    0   0. 1    0. 2   0. 3   0. 4   0. 5   0. 6   0. 7   0. 8   0. 9
                                                                                                                                                                              1   1. 1   1. 2   1. 3   1. 4
                                              .      .      .      .      .      .      .      .      .
                                                                                                                     Time, in UI
FIGURE 8. BELLCORE GR-253-CORE TRANSMIT OUTPUT PULSE TEMPLATE FOR SONET STS-1 APPLICATIONS
                                                                                                          STS-1 Pulse Template
                                    1.2
                                      1
                                    0.8
             Normalized Amplitude
                                    0.6
                                                                                                                                                                                                              Lower Curve
                                                                                                                                                                                                              Upper Curve
                                    0.4
                                    0.2
                                      0
                                    -0.2
                                     -1    -0
                                           -0
                                           -0.9
                                             .8
                                             .7                                                           0   0.      0.     0.     0.     0.     0.     0.     0.     0.     1   1.     1.     1.     1.
                                           -0
                                           -0
                                           -0
                                           -0
                                           -0
                                           -0
                                             .6
                                             .5
                                             .4
                                             .3
                                             .2
                                             .1                                                                  1       2      3      4      5      6      7      8      9          1      2      3      4
                                                                                                                     Time, in UI
                                                                                                                               16


                                                                                        XRT7300
                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                REV. 1.1.2
MICROPROCESSOR SERIAL INTERFACE TIMING (SEE FIGURE 9)
 SYMBOL                             PARAMETER                            MIN.    TYP.       MAX.      UNITS
    t21   CS Low to Rising Edge of SCLK Setup Time                        50                            ns
    t22   CS High to Rising Edge of SCLK Hold Time                        20                            ns
    t23   SDI to Rising Edge of SCLK Setup Time                           50                            ns
    t24   SDI to Rising Edge of SCLK Hold Time                            50                            ns
    t25   SCLK “Low” Time                                                240                            ns
    t26   SCLK “High” Time                                               240                            ns
    t27   SCLK Period                                                    500                            ns
    t28   CS Low to Rising Edge of SCLK Hold Time                         50                            ns
    t29   CS Inactive Time                                               250                            ns
    t30   Falling Edge of SCLK to SDO Valid Time                                            200         ns
    t31   Falling Edge of SCLK to SDO Invalid Time                                          100         ns
    t32   Falling Edge of SCLK or Rising Edge of CS to High Z                    100                    ns
    t33   Rise/Fall time of SDO Output                                                       40         ns
FIGURE 9. TIMING DIAGRAM FOR THE MICROPROCESSOR SERIAL INTERFACE
                                                                                      t29
     CS                    t21
                                                              t27              t28
             t22
   SCLK                                                  t25
                                                                    t26
                 t23         t24
     SDI                 R/W                 A0                     A1
     CS
   SCLK
            t30                   t31                           t33                       t32
    SDO                   D0                 D1                     D2             D7
          Hi-Z
                               Hi-Z
     SDI
                                                        17


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
SYSTEM DESCRIPTION                                              • Adjusts the signal level through an AGC circuit.
A functional block diagram of the XRT7300 E3/DS3/               • Optionally equalizes this signal for cable loss.
STS-1 Transceiver IC (see Figure 1) shows that the              • Attempts to quantify a bit-interval within the line sig-
device contains three distinct sections:                           nal as either a “1”, “-1” or a “0” by slicing this data.
• The Transmit Section                                             This sliced data is used by the Clock Recovery PLL
                                                                   to recover the timing element within the line signal.
• The Receive Section
                                                                • The sliced data is routed to the HDB3/B3ZS
• The Microprocessor Serial Interface
                                                                   Decoder, during which the original data content as
THE TRANSMIT SECTION                                               transmitted by the Remote Terminal Equipment is
The Transmit Section accepts TTL/CMOS level sig-                   restored to its original content.
nals from the Terminal Equipment in either a Single-            • Outputs the recovered clock and data to the Local
Rail or Dual-Rail format. The Transmit Section then                Terminal Equipment in the form of CMOS level sig-
takes this data and does the following:                            nals via the RPOS, RNEG, RCLK1 and RCLK2 out-
• Encodes the data into the B3ZS format if the DS3                 put pins.
   or SONET STS-1 Modes have been selected or                   THE MICROPROCESSOR SERIAL INTERFACE
   into the HDB3 format if the E3 Mode has been
                                                                The XRT7300 can be configured to operate in either
   selected.
                                                                the Hardware Mode or the HOST Mode.
• Converts the CMOS level B3ZS or HDB3 encoded
   data into pulses with shapes that are compliant with         The Hardware Mode
   the various industry standard pulse template                 Connect the HOST/HW input pin (pin 18) to GND to
   requirements.                                                configure the XRT7300 to operate in the Hardware
• Drives these pulses onto the line via the TTIP and            Mode.
   TRING output pins across a 1:1 Transformer.                  When the XRT7300 is operating in the Hardware
NOTE: The Transmit Section drives a "1" (or a Mark) on the      Mode, the following is true:
line by driving either a positive or negative polarity pulse     1. The Microprocessor Serial Interface block is
across the 1:1 Transformer within a given bit period. The
                                                                disabled.
Transmit Section drives a "0" (or a Space) onto the line by
driving no pulse onto the line.                                  2. The XRT7300 is configured via input pin settings.
THE RECEIVE SECTION                                             Each of the pins associated with the Microprocessor
                                                                Serial Interface takes on their alternative role as de-
The Receive Section receives a bipolar signal from
                                                                fined in Table 1.
the line either via a 1:1 Transformer or a 0.01mF Ca-
pacitor. As the Receive Section receives this line sig-          3. All of the remaining input pins become active.
nal it does the following:
      TABLE 1: ROLE OF MICROPROCESSOR SERIAL INTERFACE PINS WHEN THE XRT7300 IS OPERATING IN THE
                                                        HARDWARE MODE
       PIN #                           PIN NAME                           FUNCTION WHILE IN THE HARDWARE MODE
         11                    REGRESET/(RCLK2INV)                                       RCLK2INV
         19                        SDI/(LOSMUTEN)                                       LOSMUTEN
         20                           SDO/(LCV)                                              LCV
         21                        SCLK/(ENCODIS)                                         ENCODIS
         22                         CS/(DECODIS)                                          DECODIS
         30                          LCV/(RCLK2)                                           RCLK2
                                                             18


                                                                                             XRT7300
                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                    REV. 1.1.2
The HOST Mode                                                 • Pin 15 - RLB
To configure the XRT7300 to operate in the HOST               • Pin 16 - STS-1/DS3
Mode, connect the HOST/HW input pin (pin 18) to               • Pin 17 - E3
VDD.
                                                              • Pin 35 - TXOFF
When the XRT7300 is operating in the HOST Mode,            Tie each of these pins to GND if the XRT7300 IC is to
the following is true:                                     be operated in the HOST Mode.
 1. The Microprocessor Serial Interface block is           Please see Section 5.0 for a detailed description on
     enabled. Many configuration selections are            operating the Microprocessor Serial Interface or the
     made by writing the appropriate data into the on-     on-chip Command Registers.
     chip Command Registers via the Microprocessor
     Serial Interface.                                      1.0 SELECTING THE DATA RATE
 2. All of the following input pins are disabled:          The XRT7300 can be configured to support the E3
   • Pin 1 - TXLEV                                         (34.368 Mbps), DS3 (44.736 Mbps) or the SONET
                                                           STS-1 (51.84 Mbps) rates. Selection of the data rate
   • Pin 2 - TAOS                                          is dependent on whether the XRT7300 is operating in
   • Pin 12 - REQDIS                                       the Hardware or HOST Mode.
   • Pin 14 - LLB
  TABLE 2: SELECTING THE DATA RATE FOR THE XRT7300 VIA THE E3 AND STS-1/DS3 INPUT PINS (HARDWARE
                                                       MODE)
                                   STATE OF E3 PIN      STATE OF STS-1/DS3 PIN      MODE OF B3ZS/HDB3 ENCODER/
           DATA RATE
                                       (PIN 17)                  (PIN 16)                 DECODER BLOCKS
        E3 (34.368 Mbps)                 VDD                  X (Don’t Care)                    HDB3
      DS3 (44.736 Mbps)                   0                          0                          B3ZS
      STS-1 (51.84 Mbps)                  0                        VDD                          B3ZS
A. When operating in the Hardware Mode.
To configure the XRT7300 for the desired data rate,             TABLE 3: SELECTING THE DATA RATE FOR THE
the E3 and the STS-1/DS3 pins must be set to the           XRT7300 VIA THE STS-1/DS3 AND THE E3 BIT-FIELDS
appropriate logic states shown in Table 2.                     WITHIN COMMAND REGISTER CR4 (HOST MODE)
B. When operating in the HOST Mode.                          SELECTED DATA RATE         STS-1/DS3           E3
To configure the XRT7300 for the desired data rate,                     E3               Don't Care          1
appropriate values need to be written into the STS-1/
DS3 and E3 bit-fields in Command Register CR4.                         DS3                   0               0
COMMAND REGISTER CR4 (ADDRESS = 0X04)                                STS-1                   1               0
     D4          D3         D2         D1         D0       The results of making these selections are:
     X       STS-1/DS3      E3        LLB       RLB         1. The VCO Center Frequency of the Clock Recov-
                                                                ery Phase-Locked-Loop is configured to match
     X            X          X          X         X             the selected data rate.
                                                            2. The B3ZS/HDB3 Encoder and Decoder blocks
Table 3 relates the values of these two bit-fields with         are configured to support B3ZS Encoding/Decod-
respect to the selected data rates.                             ing if the DS3 or STS-1 data rates were selected
                                                                or,
                                                            3. The B3ZS/HDB3 Encoder and Decoder blocks
                                                                are configured to support HDB3 Encoding/
                                                                Decoding if the E3 data rate was selected.
                                                            4. The on-chip Pulse-Shaping circuitry is configured
                                                                to generate Transmit Output pulses of the correct
                                                        19


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
     shape and width to meet the applicable pulse           3. comply with the applicable pulse template
     template requirement.                                      requirements.
 5. The LOS Declaration/Clearance Criteria is estab-         2.1 THE TRANSMIT LOGIC BLOCK
     lished.                                                The purpose of the Transmit Logic Block is to accept
 2.0 THE TRANSMIT SECTION                                   either Dual-Rail or Single-Rail (a binary data stream)
Figure 1 indicates that the Transmit Section of the         TTL/CMOS level data and timing information from the
XRT7300 consists of the following blocks:                   Terminal Equipment.
• Transmit Logic Block                                      Accepting Dual-Rail Data from the Terminal
                                                            Equipment
• Duty Cycle Adjust Block
                                                            The XRT7300 accepts Dual-Rail data from the Termi-
• HDB3/B3ZS Encoder
                                                            nal Equipment via the following input signals:
• Pulse Shaping Block
                                                            • TPDATA
The purpose of the Transmit Section in the XRT7300
is to take TTL/CMOS level data from the terminal            • TNDATA
equipment and encode it into a format that can:             • TCLK
 1. be efficiently transmitted over coaxial cable at E3,    Figure 10 illustrates the typical interface for the trans-
     DS3 or STS-1 data rates.                               mission of data in a Dual-Rail Format between the
                                                            Terminal Equipment and the Transmit Section of the
 2. be reliably received by the Remote Terminal at
                                                            XRT7300.
     the other end of the E3, DS3 or STS-1 data link.
FIGURE 10. THE TYPICAL INTERFACE FOR THE TRANSMISSION OF DATA IN A DUAL-RAIL FORMAT FROM THE TRANS-
MITTING TERMINAL EQUIPMENT TO THE TRANSMIT SECTION OF THE XRT7300
                                              TxPOS        TPDATA
                             Terminal         TxNEG        TNDATA       Transmit
                               Terminal                                   Transmit
                                                                          Logic
                            Equipment
                              Equipment
                        (E3/DS3  or STS-1
                                                                            Logic
                                                                          Block
                                              TxLineClk    TCLK             Block
                          (E3/DS3  or STS-1
                             Framer)
                               Framer)
                                                             Exar E3/DS3/STS-1 LIU
FIGURE 11. HOW THE XRT7300 SAMPLES THE DATA ON THE TPDATA AND TNDATA INPUT PINS
            Data                     1                   1                   0                   0
         TPDATA
         TNDATA
           TCLK
                                                         20


                                                                                                   XRT7300
                                                                   E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                           REV. 1.1.2
The manner that the LIU handles Dual-Rail data is            B. access the Microprocessor Serial Interface and
described below and illustrated in Figure 11. The                 write a “1” into the TXBIN (TRANSMIT BINary)
XRT7300 typically samples the data on the TPDATA                  bit-field in Command Register 1.
and TNDATA input pins on the falling edge of TCLK.
                                                             COMMAND REGISTER CR1 (ADDRESS = 0X01)
TCLK is typically a clock signal that is of the selected
data rate frequency. For the E3 data rate, TCLK is                 D4            D3         D2           D1         D0
34.368 MHz. For the DS3 data rate, TCLK is 44.736
                                                                TXOFF          TAOS     TXCLKINV        TXLEV     TXBIN
MHz and for the SONET STS-1 rate, TCLK is 51.84
MHz. In general, if the XRT7300 samples a “1” on                   X             X           X            X          1
the TPDATA input pin, the Transmit Section of the de-
vice ultimately generates a positive polarity pulse via
                                                             After taking these steps, the Transmit Logic Block ac-
the TTIP and TRING output pins across a 1:1 trans-
                                                             cepts Single-Rail data via the TPDATA input pin. The
former. If the XRT7300 samples a “1” on the TNDA-            XRT7300 samples this input pin on the falling edge of
TA input pin, the Transmit Section of the device ulti-       the TCLK clock signal and encodes it into the appro-
mately generates a negative polarity pulse via the
                                                             priate bipolar line signal across the TTIP and TRING
TTIP and TRING output pins across a 1:1 transform-
                                                             output pins.
er.
                                                             NOTES:
 2.1.1 Accepting Single-Rail Data from the Ter-
                                                                  1. In this mode the Transmit Logic Block ignores the
 minal Equipment                                                      TNDATA input pin.
Do the following if data is to be transmited from the             2. If the Transmit Section of the XRT7300 is config-
Terminal Equipment to the XRT7300 in Single-Rail                      ured to accept Single-Rail data from the Terminal
format (a binary data stream) without having to con-                  Equipment, the B3ZS/HDB3 Encoder must be
vert it into a Dual-Rail format.                                      enabled.
A. Configure the XRT7300 to operate in the HOST              Figure 12 illustrates the behavior of the TPDATA and
     Mode or,                                                TCLK signals when the Transmit Logic Block has
                                                             been configured to accept Single-Rail data from the
                                                             Terminal Equipment.
FIGURE 12. THE BEHAVIOR OF THE TPDATA AND TCLK INPUT SIGNALS WHILE THE TRANSMIT LOGIC BLOCK IS
ACCEPTING SINGLE-RAIL DATA FROM THE TERMINAL EQUIPMENT
             Data                    1                   1                     0                    0
          TPDATA
            TCLK
 2.2 THE TRANSMIT CLOCK DUTY CYCLE ADJUST CIR-               Template Requirement Specification. Consequently,
        CUITRY                                               the chips ability to generate compliant pulses could
The on-chip Pulse-Shaping circuitry (in the Transmit         depend upon the duty cycle of the clock signal ap-
Section of the XRT7300) has the responsibility for           plied to the TCLK input pin.
generating pulses of the shape and width to comply           In order to combat this phenomenon, the Transmit
with the applicable pulse template requirement. The          Clock Duty Cycle Adjust circuit was designed into the
widths of these output pulses are defined by the width       XRT7300. The Transmit Clock Duty Cycle Adjust Cir-
of the half-period pulses in the TCLK signal.                cuitry is a PLL that was designed to accept clock
Allowing the widths of the pulses in the TCLK clock          pulses via the TCLK input pin at duty cycles ranging
signal to vary significantly could jeopardize the chip’s     from 30% to 70% and to regenerate these signals
ability to generate Transmit Output pulses of the ap-        with a 50% duty cycle.
propriate width, thereby failing the applicable Pulse
                                                          21


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
The XRT7300 Transmit Clock Duty Cycle Adjust cir-         an occurrence of three consecutive zeros, it substi-
cuit alleviates the need to supply a signal with a 50%    tutes these three “0’s” with either a "00V" or a "B0V"
duty cycle to the TCLK input pin.                         pattern.
  2.3 THE HDB3/B3ZS ENCODER BLOCK                         “B” represents a Bipolar pulse that is compliant with
The purpose of the HDB3/B3ZS Encoder Block is to          the Alternating Polarity requirements of the AMI (Al-
aid in the Clock Recovery process (at the Remote          ternate Mark Inversion) line code and “V” represents
Terminal Equipment) by ensuring an upper limit on         a bipolar Violation (e.g., a bipolar pulse that violates
the number of consecutive zeros that can exist in the     the Alternating Polarity requirements of the AMI line
line signal.                                              code).
  2.3.1 B3ZS Encoding                                     The B3ZS Encoder decides whether to substitute
If the XRT7300 is configured to operate in the DS3 or     with either a "00V" or a "B0V" pattern in order to in-
SONET STS-1 Modes, then the HDB3/B3ZS Encoder             sure that an odd number of bipolar pulses exist be-
block operates in the B3ZS Mode. When the Encod-          tween any two consecutive violation pulses.
er is operating in this mode, it parses through and       Figure 13 illustrates the B3ZS Encoder at work with
searches the Transmit Binary Data Stream (from the        two separate strings of three (or more) consecutive
Transmit Logic Block) for the occurrence of three (3)     zeros.
consecutive zeros (“000”). If the B3ZS Encoder finds
FIGURE 13. AN EXAMPLE OF B3ZS ENCODING
              Data 1    0  1 1    0 0  0 1   0   1 1 1  1 0     1 1   0 1    1 0   0 1    1 1   0 0    0   1
           TPDATA
           TNDATA
            TCLK
                                   0 0   V
         Line Signal
                                                                                                B  0 V
  2.3.2 HDB3 Encoding                                     the occurrence of four (4) consecutive zeros (“0000”).
If the XRT7300 is configured to operate in the E3         If the HDB3 Encoder finds an occurrence of four con-
Mode, then the HDB3/B3ZS Encoder block operates           secutive zeros, then it substitutes these four “0’s” with
in the HDB3 Mode. When the Encoder is operating in        either a “000V” or a “B00V” pattern in order to insure
this mode, it parses through and searches the Trans-      that an odd number of bipolar pulses exist between
mit Data Stream (from the Transmit Logic Block) for       any two consecutive violation pulses.
                                                       22


                                                                                                 XRT7300
                                                                   E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                        REV. 1.1.2
Figure 14 illustrates the HDB3 Encoder at work with
two separate strings of four (or more) consecutive ze-
ros.
FIGURE 14. AN EXAMPLE OF HDB3 ENCODING
                Data 1 0 1 1 0 0 0 0 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 0 0 0 0 1
            TPDATA
           TNDATA
              TCLK
                                   0 0 0 V
          Line Signal
                                                                                                B 0 0 V
  2.3.3 Enabling/Disabling the HDB3/B3ZS                    of the XRT7300 to transmit an output pulse which is
 Encoder                                                    compliant to either of the following Bellcore pulse
The XRT7300 allows two methods to enable or dis-            template requirements when measured at the Digital
able the HDB3/B3ZS Encoder.                                 Cross Connect System. Each of these Bellcore spec-
                                                            ifications further state that the cable length between
If the XRT7300 is operating in the Hardware Mode.
                                                            the Transmit Output and the Digital Cross Connect
To enable the HDB3/B3ZS Encoder, set the ENCO-              system can range anywhere from 0 to 450 feet.
DIS input pin (pin 21) to “0”. To disable the HDB3/
                                                            The Isolated DSX-3 Pulse Template Requirement per
B3ZS Encoder, set the ENCODIS input pin (pin 21) to
                                                            Bellcore GR-499-CORE is illustrated in Figure 7.
“1”.
                                                            The Isolated STSX-1 Pulse Template Requirement
If the XRT7300 is operating in the HOST Mode.
                                                            per Bellcore GR-253-CORE is illustrated in Figure 8.
To enable the HDB3/B3ZS Encoder, set the ENCO-
                                                              2.4.1 Enabling the Transmit Line Build-Out Cir-
DIS bit-field in Command Register (CR2) to “0”.
                                                             cuit
                                                            If the Transmit Line Build-Out Circuit is enabled, the
COMMAND REGISTER CR2 (ADDRESS = 0X02                        XRT7300 outputs shaped pulses onto the line via the
      D4          D3        D2         D1         D0        TTIP and TRING output pins.
                                                            Do the following to enable the Transmit Line Build-
 DECODIS ENCODIS ALOSDIS DLOSDIS               REQDIS
                                                            Out circuit in the XRT7300:
      X            0         X          X         X         • If the XRT7300 is operating in the Hardware Mode,
                                                               set theTXLEV input pin (pin 1) to “Low”
To disable the HDB3/B3ZS Encoder, set the ENCO-
                                                            • If the XRT7300 is operating in the HOST Mode, set
DIS bit-field in Command Register (CR2) to “1”.
                                                               the TXLEV bit-field to “0” as illustrated below.
If either of these two methods is employed to disable
the HDB3/B3ZS Encoder, the LIU transmits the data           COMMAND REGISTER CR1 (ADDRESS = 0X01)
onto the line as it is received via the TPDATA and
                                                                D4        D3           D2           D1         D0
TNDATA input pins.
 2.4 THE TRANSMIT PULSE SHAPER CIRCUITRY                      TXOFF     TAOS       TXCLKINV       TXLEV      TXBIN
The Transmit Pulse Shaper Circuitry consists of a                0         X           X             0          1
Transmit Line Build-Out circuit which can be enabled
or disabled by setting the TXLEV input pin (or TXLEV
                                                              2.4.2   Disabling the Transmit Line Build-Out Cir-
bit-field) to “High” or “Low”. The purpose of the
                                                             cuit
Transmit Line Build-Out circuit is to permit configuring
                                                         23


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
If the Transmit Line Build-Out circuit is disabled, then        If the cable length between the Transmitting 
the XRT7300 outputs partially-shaped pulses onto                Terminal and the DSX-3 or STSX-1 is greater than
the line via the TTIP and TRING output pins.                    225 feet, it is advisable to disable the Transmit Line
Disable the Transmit Line Build-Out circuit in the              Build-Out circuit by setting the TXLEV input pin or bit-
XRT7300 by doing the following:                                 field to "1".
                                                                NOTE: In this case the XRT7300 outputs partially-shaped
• If the XRT7300 is operating in the Hardware Mode,
                                                                pulses onto the line via the TTIP and TRING output pins.
   set the TXLEV input pin (pin 1) to “High”
                                                                The cable loss that these pulses experience over long
• If the XRT7300 is operating in the HOST Mode, set             cable lengths (e.g., greater than 225 feet) causes these
   the TXLEV bit-field to “1” as illustrated below.             pulses to be properly shaped and comply with the appropri-
                                                                ate pulse template requirement.
COMMAND REGISTER CR1 (ADDRESS = 0X01)
                                                                  2.4.4 The Transmit Line Build-Out Circuit and
    D4        D3           D2            D1          D0          E3 Applications
                                                                The ITU-T G.703 Pulse Template Requirements for
 TXOFF      TAOS      TXCLKINV        TXLEV        TXBIN
                                                                E3 states that the E3 transmit output pulse should be
     0        X            X              1           1         measured at the Secondary Side of the Transmit Out-
                                                                put Transformer for Pulse Template compliance. In
  2.4.3 Design Guideline for Setting the Transmit               other words, there is no Digital Cross Connect Sys-
 Line Build-Out Circuit                                         tem pulse template requirement for E3 and the Trans-
                                                                mit Line Build-Out circuit in the XRT7300 is disabled
The setting ofTXLEV input pin or bit-field should be
                                                                whenever it is operating in the E3 Mode.
based upon the overall cable length between the
Transmitting Terminal and the Digital Cross Connect              2.5 INTERFACING THE TRANSMIT SECTION OF THE
system (where the pulse template measurements are                       XRT7300 TO THE LINE
made).                                                          The E3, DS3 and SONET STS-1 specification docu-
If the cable length between the Transmitting Terminal           ments all state that line signals transmitted over coax-
and the DSX-3 or STSX-1 is less than 225 feet, it is            ial cable are to be terminated with 75 Ohms. There-
advisable to enable the Transmit Line Build-Out cir-            fore, interface the Transmit Section of the XRT7300,
cuit by setting the TXLEV input pin or bit-field to "0".        as illustrated in Figure 15 which shows two 36 Ohm
                                                                resistors in series with the primary side of the trans-
NOTE: In this case the XRT7300 outputs shaped (e.g., not
                                                                former. These two 36Ohm resistors closely match
square-wave) pulses onto the line via the TTIP and TRING
                                                                the 75Ohm load termination resistor thereby minimiz-
output pins. The shape of this output pulse is such that it
complies with the pulse template requirements even when         ing Transmit Return Loss.
subjected to cable loss ranging from 0 to 225 feet.
FIGURE 15. RECOMMENDED SCHEMATIC FOR INTERFACING THE TRANSMIT SECTION OF THE XRT7300 TO THE LINE
                                                              TTIP
                                                                           R1
                                                                          36.0
                                                                                                         BNC
                                                                                               T1
                                                                                               1:1
                                                                            R2
                                                                          36.0
                                                            TRING
                                                             24


                                                                                        XRT7300
                                                         E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                               REV. 1.1.2
                             TRANSFORMER RECOMMENDATIONS
                                 PARAMETER                         VALUE
                                 Turns Ratio                        1:1
                            Primary Inductance                     40H
                              Isolation Voltage                 1500Vrms
                            Leakage Inductance                     0.6H
                PART NUMBER          VENDOR             INSULATION              PACKAGE TYPE
                  PE-68629            Pulse                3000V               Large Thru-Hole
                  PE-65966            Pulse                1500V               Small Thru-Hole
                  PE-65967            Pulse                1500V                 Small SMT
                   T3001              Pulse                1500V                 Small SMT
TRANSFORMER VENDOR INFORMATION                     FAX: 65-280-0080
Pulse                                                3.0 THE RECEIVE SECTION
Corporate Office                                   Figure 1 indicates that the XRT7300 Receive Section
12220 World Trade Drive                            consists of the following blocks:
San Diego, CA 92128                                • AGC/Equalizer
Tel: (619)-674-8100                                • Peak Detector
                                                   • Slicer
FAX: (619)-674-8262
                                                   • Clock Recovery PLL
Europe
                                                   • Data Recovery
1 & 2 Huxley Road
                                                   • HDB3/B3ZS Decoder
The Surrey Research Park
                                                   The purpose of the XRT7300 Receive Section is to
Guildford, Surrey GU2 5RE                          take an incoming attenuated/distorted bipolar signal
United Kingdom                                     from the line and encode it back into the TTL/CMOS
                                                   format where it can be received and processed by
Tel: 44-1483-401700
                                                   digital circuitry in the Terminal Equipment.
FAX: 44-1483-401701
                                                     3.1 INTERFACING THE RECEIVE SECTION OF THE
Asia                                                      XRT7300 TO THE LINE
150 Kampong Ampat                                  By design, the Receive Section of the XRT7300 can
#07-01/02                                          be transformer-coupled or capacitive-coupled to the
                                                   line. The specification documents for E3, DS3 and
KA Centre                                          STS-1 all specify 75Ohm termination loads when
Singapore 368324                                   transmitting over coaxial cable. It is recommended to
Tel: 65-287-8998
                                                25


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
interface the Receive Section of the XRT7300 to the
line as shown in Figure 16 or Figure 17.
FIGURE 16. RECOMMENDED SCHEMATIC FOR INTERFACING THE RECEIVE SECTION OF THE XRT7300 TO THE LINE
(TRANSFORMER-COUPLING)
                                                     RTIP
                          RxPOS           RPOS
                          RxNEG           RNEG                 R1                         BNC
                        RxLineClk                             37.5                  T2
                                          RCLK1                          C1
                                                                       0.01uF
                           RxLOS          RLOS                 R2                   1:1
                           RxLOL          RLOL                37.5
                                                    RRING
FIGURE 17. RECOMMENDED SCHEMATIC FOR INTERFACING THE RECEIVE SECTION OF THE XRT7300 TO THE LINE
(CAPACITIVE-COUPLING)
                                                                  C1
                                                               0.01uF
                                                  RTIP                                  Receive Line Signal
                                                                            R1
                                                                           75
                                                                  C2
                                                                0.01uF
                                               RRING
  3.2 THE RECEIVE EQUALIZER BLOCK                           the signal is subjected to a greater amount of attenu-
After the XRT7300 has received the incoming line            ation than the lower-frequency components. If this
signal via the RTIP and RRING input pins, the first         line signal travels over reasonably long cable lengths
block that this signal passes through is the AGC cir-       (e.g., greater than 450 feet), then the shape of the
cuit followed by the Receive Equalizer.                     pulses (which were originally square) is distorted and
                                                            inter-symbol interference increases.
As the line signal is transmitted from a given transmit-
ting terminal, the pulse shapes at that location are ba-    The purpose of the Receive Equalizer is to equalize
sically square. Hence, these pulses consist of a com-       the distortion of the incoming signal due to cable loss.
bination of “Low” and “High” frequency Fourier com-         The Receive Equalizer accomplishes this by subject-
ponents. As this line signal travels from the transmit-     ing the received line signal to frequency-dependent
ting terminal via the coaxial cable to the receiving        amplification (which attempts to counter the frequen-
terminal, it is subjected to frequency-dependent loss.      cy dependent loss that the line signal has experi-
In other words, the higher-frequency components of          enced) and to restore the shape of the line signal so
                                                         26


                                                                                                      XRT7300
                                                                       E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                             REV. 1.1.2
that the transmitted data and clock can be recovered              1. By definition, all DS3 or STS-1 line signals that
reliably.                                                            are present at the Digital Cross-Connect system
The Use of the Receive Equalizer in a Typical DS3                    are required to meet the Isolated Pulse Template
or STS-1 Application                                                 Requirements per Bellcore GR-499-CORE for
                                                                     DS3 applications or Bellcore GR-253-CORE for
Most System Manufacturers of equipment supporting                    STS-1 applications.
DS3 and STS-1 lines interface their equipment to a
                                                                  2. Further, these Bellcore documents state that the
Digital Cross-Connect System. While installing their
                                                                     amplitude of these pulses at the DSX-3 or STSX-
equipment, the Transmit Line Build-Out circuit is set
                                                                     1 can range in amplitude from 360mVpk to
to the proper setting that makes the transmit output
                                                                     850mVpk.
pulse compliant with the Isolated DSX-3 or STSX-1
Pulse Template requirements. For the XRT7300 this                 3. Finally, these Bellcore documents stipulate that
is achieved by setting the TXLEV input pin or bit-field              the Receiving Terminal must be able to receive
to the appropriate level.                                            this pulse-template compliant line signal over a
                                                                     cable length of 0 to 450 feet from the Digital
When the System Manufacturer is interfacing the Re-                  Cross Connect system.
ceive Section of the XRT7300 to the Digital Cross-
                                                                 These facts are reflected in Figure 18.
Connect system, they should keep aware of the fol-
lowing facts:
FIGURE 18. THE TYPICAL APPLICATION FOR THE SYSTEM INSTALLER
            Transmitting
               Terminal
                                                                                      Pulses that are
                                                         Digital Cross-              compliant to the
                                                       Connect System               Isolated DSX-3 or
                                                                                      STSX-1 Pulse
                                                                                        Template
                                 0 to 450 feet of
                                      Cable                  DSX-3                     Requirement
                                                                or
                                                             STSX-1
                                                                                 0 to 450 feet of
                                                                                      Cable
                                                                                                   Receiving
                                                                                                   Terminal
Design Considerations for DS3 and STS-1 Appli-                   Receive Equalizer should be disabled is when there
cations                                                          is an off-chip equalizer in the Receive path between
When installing equipment into environments as de-               the Digital Cross-Connect system and the RTIP/
picted in Figure 15, it is recommended that the Re-              RRING input pins or, in applications where the Re-
ceive Equalizer be enabled by setting the REQDIS in-             ceiver is monitoring the transmit output signal directly.
put pin or bit-field to "0". In fact, the only time that the
                                                              27


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
Design Considerations for E3 Applications or if                      3.3 PEAK DETECTOR AND SLICER
the Overall Cable Length is known                                   After the incoming line signal has passed through the
Figure 18 indicates the following:                                  Receive Equalizer it is routed to the Slicer block. The
                                                                    purpose of the Slicer is to quantify a given bit-period
A. the length of cable between the Transmitting Ter-
                                                                    (or symbol) within the incoming line signal as either a
     minal and the Digital Cross-Connect system can
                                                                    “1” or a “0”.
     range between 0 and 450 feet and
                                                                     3.4 CLOCK RECOVERY PLL
B. the length of cable between the Digital Cross-
     Connect system and the Receive Terminal can                    The output of the Slicer, which is now Dual-Rail digital
     range between 0 and 450 feet.                                  pulses, is routed to the Clock Recovery PLL. The
                                                                    purpose of the Clock Recovery PLL is to track the in-
The overall cable length between the Transmitting                   coming Dual-Rail data stream and to derive and gen-
Terminal and the Receiving Terminal can range be-                   erate a recovered clock signal.
tween very short cable length (near 0 feet) up to 900
feet.                                                               It is important to note that the Clock Recovery PLL re-
                                                                    quires a line rate clock signal at the EXCLK input pin.
If during system installation the overall cable length is
known, then (to optimize the performance of the                     The Clock Recovery PLL operates in one of two
XRT7300 in terms of receive jitter performance, etc.),              modes:
the Receive Equalizer should be enabled or disabled                 • The Training Mode.
based upon the following recommendations:                           • The Data/Clock Recovery Mode
The Receive Equalizer should be turned ON if the                     1. The Training Mode
Receive Section is going to receive a line signal with              If the XRT7300 is not receiving a line signal via the
an overall cable length of 300 feet or greater. The                 RTIP and RRING input pins or if the frequency differ-
Receive Equalizer should be turned OFF if the Re-                   ence between the line signal and that applied via the
ceive Section is going to receive a line signal over a              EXCLK input pin exceeds 0.5%, then the XRT7300
cable length of less than 300 feet.                                 LIU IC is operating in the Training Mode. When the
NOTES:                                                              LIU is operating in the Training Mode it does the fol-
      1. If the Receive Equalizer block is turned ON (in a          lowing:
         given Receive Section that is receiving a line signal
                                                                    A. declares a Loss of Lock indication by toggling the
         over short cable length), there is the risk of over-
                                                                          RLOL output pin “High” and
         equalizing the received line signal which could
         degrade performance by increasing the amount of            B. outputs a clock signal via the RCLK1 and RCLK2
         jitter that exists in the recovered data and clock sig-          output pins which is derived from the signal ap-
         nals or by creating bit-errors.                                  plied to the EXCLK input pin.
      2. The Receive Equalizer has been designed to
                                                                     2. The Data/Clock Recovery Mode
         counter the frequency-dependent cable loss that a
         line signal experiences as it travels from the Trans-      If the frequency difference between the line signal
         mitting Terminal to the Receiving Terminal. How-           and that applied via the EXCLK input pin is less than
         ever, Receive Equalizer was not designed to                0.5%, the XRT7300 LIU IC is operating in the Data/
         counter flat loss where all of the Fourier frequency       Clock Recovery Mode. In this mode, the Clock Re-
         components in the line signal are subject to the           covery PLL is locked onto the line signal via the RTIP
         same amount of attenuation. Flat loss is handled           and RRING input pins.
         by the AGC block.
                                                                     3.5 THE HDB3/B3ZS DECODER
The Receive Equalizer block can be disabled setting
                                                                    The Remote Transmitting Terminal typically encodes
the REQDIS input pin “High” when operating in the
                                                                    the line signal into some sort of Zero Suppression
Hardware Mode or writing a "1" to the REQDIS bit-
                                                                    Line Code (e.g., HDB3 for E3 and B3ZS for DS3 and
field in Command Register CR2 when operating the
                                                                    STS-1). The purpose of this encoding activity was to
XRT7300 in the HOST Mode.
                                                                    aid in the Clock Recovery process of this data in the
COMMAND REGISTER CR2 (ADDRESS = 0X02)                               Near-End Receiving Terminal. However, once the
                                                                    data has made it across the E3, DS3 or STS-1 Trans-
     D4            D3            D2         D1          D0          port Medium and has been recovered by the Clock
 DECODIS ENCODIS ALOSDIS DLOSDIS                    REQDIS          Recovery PLL, it is now necessary to restore the orig-
                                                                    inal content of the data. The purpose of the HDB3/
      X             0             X          X           1          B3ZS Decoding block is to restore the data (transmit-
                                                                 28


                                                                                                     XRT7300
                                                                      E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                              REV. 1.1.2
ted over the E3, DS3 or STS-1 line) to its original con-      NOTE: If the B3ZS Decoder detects any bipolar violations
tent prior to Zero Suppression encoding.                      that is not in accordance with the”B3ZS Line Code” format,
                                                              or if the B3ZS Decoder detects a string of 3 (or more) con-
  3.5.1 B3ZS Decoding DS3/STS-1 Applications                  secutive “0’s” in the incoming line signal, then the B3ZS
If the XRT7300 is configured to operate in the DS3 or         Decoder flags this event as a Line Code Violation by puls-
STS-1 Modes, then the HDB3/B3ZS Decoding Block                ing the LCV output pin “High”.
performs B3ZS Decoding. When the Decoder is op-               Figure 19 illustrates the B3ZS Decoder at work with
erating in this mode it parses through the incoming           two separate Zero Suppression patterns in the incom-
Dual-Rail data and checks for the occurrence of ei-           ing Dual-Rail Data Stream.
ther a “00V” or a “B0V” pattern. If the B3ZS Decoder
detects this particular pattern it substitutes these bits
with a “000” pattern.
FIGURE 19. AN EXAMPLE OF B3ZS DECODING
                                       0 0 V
          Line Signal
                                                                                                     B 0 V
             RCLK
             RPOS
             RNEG
              Data      0 1 0 1 1 0 0 0 1 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 1 0 0 0 1
  3.5.2 HDB3 Decoding E3 Applications                         or a “B00V” pattern. If the HDB3 Decoder detects
If the XRT7300 is configured to operate in the E3             this particular pattern, it substitutes these bits with a
Mode, the HDB3/B3ZS Decoding Block performs                   “0000” pattern.
HDB3 Decoding. When the Decoder is operating in               Figure 20 illustrates the HDB3 Decoder at work with
this mode it parses through the incoming Dual-Rail            two separate Zero Suppression patterns in the incom-
data and checks for the occurrence of either a “000V”         ing Dual-Rail Data Stream.
FIGURE 20. AN EXAMPLE OF HDB3 DECODING
                                      0 0 0 V
          Line Signal
                                                                                               B 0 0 V
              RCLK
              RPOS
              RNEG
                Data    0   1 0 1 1 0 0 0 0 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 0 0 0 0 1
NOTE: If the HDB3 Decoder detects any bipolar violation       of 4 (or more) “0’s” in the incoming line signal, then the
(e.g., “V”) pulses that is not in accordance with the HDB3    HDB3 Decoder flags this event as a Line Code Violation by
Line Code format, or if the HDB3 Decoder detects a string     pulsing the LCV output pin “High”.
                                                           29


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
  3.5.3 Enabling/Disabling the HDB3/B3ZS                  2. The number of pulses detected (in the incoming
 Decoder                                                      line signal) within a certain amount of time.
 The HDB3/B3ZS Decoder of the XRT7300 can be             If the XRT7300 determines that the incoming line sig-
enabled or disabled by either of the following means:    nal is missing (either due to insufficient amplitude or a
If the XRT7300 is operating in the Hardware              lack of pulses in the incoming line signal), then it de-
Mode:                                                    clares a Loss of Signal (LOS) condition. The
                                                         XRT7300 declares the LOS condition by toggling the
Enable the HDB3/B3ZS Decoder by pulling the DE-          RLOS output pin “High” and by setting the RLOS bit
CODIS input pin (pin 22) to GND. To disable the          field in Command Register 0 to “1”.
HDB3/B3ZS Decoder, pull the DECODIS input pin to
VDD.                                                     If the XRT7300 determines that the incoming line sig-
                                                         nal has been restored (e.g., there is sufficient ampli-
If the XRT7300 is operating in the HOST Mode:            tude and pulses in the incoming line signal) then it
Enable the XRT7300 HDB3/B3ZS Decoder by writing          clears the LOS condition by toggling the RLOS output
a “0” into the DECODIS bit-field in Command Regis-       pin “Low” and setting the RLOS bit-field to “0”.
ter CR2. To disable the HDB3/B3ZS Decoder, write a       The LOS Declaration/Clearance scheme that is em-
“1” into the DECODIS bit-field.                          ployed in the XRT7300 is based upon ITU-T Recom-
COMMAND REGISTER CR2 (ADDRESS = 0X02)                    mendation G.775 for both E3 and DS3 applications.
                                                         The LOS Declaration and Clearance criteria that the
     D4         D3       D2          D1         D0       XRT7300 uses for each of these modes (e.g., E3 and
                                                         DS3) are presented below.
 DECODIS ENCODIS ALOSDIS DLOSDIS             REQDIS
                                                           3.6.1 The LOS Declaration/Clearance Criteria
      0         X         X           X         X         for E3 Applications
                                                         When the XRT7300 is operating in the E3 Mode, it
  3.6 LOS DECLARATION/CLEARANCE                          declares an LOS Condition if the signal amplitude
The XRT7300 contains circuitry that monitors the fol-    drops to -35dB or below. Further, the XRT7300
lowing two parameters associated with the incoming       clears the LOS Condition if the signal amplitude rises
line signals.                                            back up to -15dB or above. Figure 21 illustrates the
 1. The amplitude of the incoming line signal via the    signal levels at which the XRT7300 asserts and
     RTIP and RRING inputs; and                          clears LOS.
                                                      30


                                                                                              XRT7300
                                                               E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                     REV. 1.1.2
FIGURE 21. THE SIGNAL LEVELS THAT THE XRT7300 DECLARES AND CLEARS LOS (E3 MODE ONLY)
              0 dB
                                                                           Maximum Cable Loss for E3
                                  LOS Signal Must be Cleared
              -12 dB
               -15dB
                                    LOS Signal may be Cleared or Declared
              -35dB
                                     LOS Signal Must be Declared
Timing Requirements associated with Declaring            (or E3 bit-periods) after the actual time the LOS con-
and Clearing the LOS Indicator for E3 Applica-           dition occurred. Further, the XRT7300 clears the
tions                                                    LOS indicator within 10 to 255 UI after restoration of
The XRT7300 was designed to meet the ITU-T G.775         the incoming line signal. Figure 22 illustrates the
specification timing requirements for declaring and      LOS Declaration and Clearance behavior in response
clearing the LOS indicator. In particular, the           to the first loss of signal event and then afterwards to
XRT7300 declares an LOS between 10 and 255 UI            the restoration of the signal.
FIGURE 22. THE BEHAVIOR THE LOS OUTPUT INDICATOR IN RESPONSE TO THE LOSS OF SIGNAL AND THE RESTO-
RATION OF SIGNAL
                                  Actual Occurrence             Line Signal
                                  of LOS Condition              is Restored
        RTIP/
        RRing
                                                    Time Range for
                                 10 UI       255 UI                                     10 UI    255 UI
                                                    LOS Declaration
          RLOS Output Pin
                            0 UI                                                 0 UI
                                          G.775                          Time Range for          G.775
                                       Compliance                        LOS Clearance        Compliance
                                                      31


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
  3.6.2 The LOS Declaration/Clearance Criteria               In the DS3 or STS-1 Modes the LOS output (RLOS)
 for DS3 and STS-1 Applications                              is simply the logical OR of the ALOS and DLOS
When the XRT7300 is operating in the DS3 or STS-1            states.
Modes it declares and clears LOS based on either:             1. The Analog LOS (ALOS) Declaration/Clear-
• Analog LOS (ALOS) Declaration/Clearance Criteria                 ance Criteria
   or,                                                       The XRT7300 declares an Analog LOS (ALOS) Con-
• Digital LOS (DLOS) Declaration/Clearance Criteria          dition if the amplitude of the incoming line signal
                                                             drops below a specific amplitude as defined by the
                                                             state of the LOSTHR input pin.
TABLE 4: THE ALOS DECLARATION AND CLEARANCE THRESHOLDS FOR A GIVEN SETTING OF LOSTHR (DS3 AND
                             STS-1 APPLICATIONS) FOR EQUALIZER ENABLED OR DISABLED
                                                             SIGNAL LEVEL TO DECLARE         SIGNAL LEVEL TO CLEAR
         APPLICATION                  LOSTHR SETTING
                                                                         ALOS                         ALOS
                                           LOS LEVEL WITH EQUALIZER ENABLED
             DS3                             0                          < 55mV                       > 220mV
                                             1                          < 22mV                       > 70mV
         Sonet STS-1                         0                          < 75mV                       > 270mV
                                             1                          < 25mV                       > 110mV
                                           LOS LEVEL WITH EQUALIZER DISABLED
             DS3                             0                          < 35mV                       > 155mV
                                             1                          < 17mV                       > 70mV
         Sonet STS-1                         0                          < 55mV                       > 210mV
                                             1                          < 20mV                       > 90mV
Declaring ALOS                                               in the contents of Command Register 0. The bit-for-
The XRT7300 declares an ALOS (Analog LOS) con-               mat of Command Register 0 is presented below.
dition whenever the amplitude of the input signal falls      COMMAND REGISTER CR0 (ADDRESS = 0X00)
below the Signal Level to Declare ALOS levels speci-
fied in Table 4.                                                   D4          D3         D2         D1        D0
Clearing ALOS                                                    RLOL        RLOS        ALOS       DLOS      DMO
The XRT7300 clears ALOS whenever the amplitude
                                                                  Read        Read       Read       Read      Read
of the input signal rises above the Signal Level to
                                                                  Only        Only       Only       Only      Only
Clear ALOS levels specified in Table 4.
NOTE: There is approximately a 2dB hysteresis in the
received signal level that exists between declaring and      If the ALOS bit-field contains a “1”, the XRT7300 is
clearing ALOS in order to prevent chattering in the RLOS     currently declaring an ALOS condition. If the ALOS
output signal.                                               bit-field contains a “0”, the device is NOT currently
Monitoring the State of ALOS                                 declaring an ALOS condition.
If the XRT7300 is operating in the HOST Mode, the            Disabling the ALOS Detector
state of ALOS can be polled or monitored by reading          It is useful to disable the ALOS Detector in the
                                                             XRT7300 for debugging purposes. If the XRT7300 is
                                                             operating in the HOST Mode, the ALOS Detector can
                                                          32


                                                                                                XRT7300
                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                         REV. 1.1.2
be disabled by writing a “1” into the ALOSDIS bit-field    NOTE: Setting both the ALOSDIS and DLOSDIS bit-fields
in Command Register 2 as depicted below.                   to a “1” disables LOS Declaration in the XRT7300.
                                                             3.6.3 Muting the Recovered Data while the LOS
COMMAND REGISTER CR2 (ADDRESS = 0X02)
                                                            is being Declared
      D4         D3          D2         D1        D0       In some applications it is not desirable for the
                                                           XRT7300 E3/DS3/STS-1 LIU to recover data and
 DECODIS ENCODIS ALOSDIS DLOSDIS                REQDIS
                                                           route it to the Receiving Terminal while the LIU is de-
      X           X           1          X         X       claring an LOS condition. Consequently, the
                                                           XRT7300 includes a LOS Muting feature. This fea-
NOTE: Setting both the ALOSDIS and DLOSDIS bit-fields      ture, if enabled, causes the XRT7300 to halt trans-
to “1” disables LOS Declaration in the XRT7300.            mission of the recovered data to the Receiving Termi-
                                                           nal while the LOS condition is True. In this case, the
 2. The Digital LOS (DLOS) Declaration/Clear-
                                                           RPOS and RNEG output pins are forced to “0”. Once
      ance Criteria
                                                           the LOS condition has been cleared, the XRT7300
The XRT7300 declare a Digital LOS (DLOS) condi-
                                                           resumes the transmission of the recovered data to
tion if the XRT7300 detects 160±32 or more consecu-
                                                           the Receiving Terminal. The XRT7300 allows en-
tive “0’s” in the incoming data.
                                                           abling of the Muting Upon LOS feature by either of
 The XRT7300 clears DLOS if it detects four consecu-       the following means.
tive sets of 32 bit-periods each of which contains at
                                                           If the XRT7300 is Operating in the Hardware
least 10 “1’s” (e.g., average pulse density of greater
                                                           Mode:
than 33%).
                                                           The Muting Upon LOS feature is enabled by pulling
Monitoring the State of DLOS                               the LOSMUTEN input pin (pin 19) to VDD.
If the XRT7300 is operating in the HOST Mode, the
                                                           If the XRT7300 is Operating in the HOST Mode:
state of DLOS can be polled or monitored by reading
in the contents of Command Register 0 as shown.            To enable this feature, access the Microprocessor
                                                           Serial Interface and write a “1” into the LOSMUT bit-
COMMAND REGISTER CR0 (ADDRESS = 0X00)                      field in Command Register 3.
      D4          D3         D2          D1       D0       COMMAND REGISTER CR3 (ADDRESS = 0X03)
    RLOL        RLOS        ALOS       DLOS      DMO            D4           D3         D2           D1           D0
     Read        Read       Read        Read     Read          RNRZ      LOSMUT      CLK2DIS RCLK2INV CLK1INV
     Only        Only       Only        Only      Only
                                                                 X            1          X           X            X
If the DLOS bit-field contains a “1”, the XRT7300 is
                                                           NOTE: The XRT7300 automatically declares an LOS Con-
currently declaring a DLOS condition. If the DLOS
                                                           dition any time it has been configured to operate in either
bit-field contains a “0”, the device is NOT currently
                                                           the Analog Local Loop-Back or Digital Local Loop-Back
declaring the DLOS condition.                              Modes. Consequently, MUTing -upon -LOS must be dis-
Disabling the DLOS Detector                                abled prior to configuring the device to operate in either of
                                                           these local Loop-Back modes.
It is useful to disable the DLOS Detector in the
XRT7300 for debugging purposes. If the XRT7300 is            3.7 ROUTING THE RECOVERED TIMING AND DATA
operating in the HOST Mode, the DLOS Detector can                  INFORMATION TO THE RECEIVING TERMINAL
be disabled by writing a “1” into the DLOSDIS bit-field            EQUIPMENT
in Command Register 2.                                     The XRT7300 ultimately takes the Recovered Timing
                                                           and Data information, converts it into CMOS levels
COMMAND REGISTER CR2 (ADDRESS = 0X02)                      and routes it to the Receiving Terminal Equipment via
      D4         D3          D2         D1        D0       the RPOS, RNEG, RCLK1 and RCLK2 output pins.
                                                           The XRT7300 can deliver the recovered data and
 DECODIS ENCODIS ALOSDIS DLOSDIS                REQDIS
                                                           clock information to the Receiving Terminal in either a
      X           X          X           1         X       Single-Rail or Dual-Rail format.
                                                           Routing Dual-Rail Format Data to the Receiving
                                                           Terminal Equipment
                                                        33


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
Whenever the XRT7300 delivers Dual-Rail format to            • RCLK2
the Terminal Equipment it does so via the following        Figure 23 illustrates the typical interface for the trans-
output signals.                                            mission of data in a Dual-Rail Format from the Re-
   • RPOS                                                  ceive Section of the XRT7300 to the Receiving Termi-
   • RNEG                                                  nal Equipment.
   • RCLK1
FIGURE 23. THE TYPICAL INTERFACE FOR THE TRANSMISSION OF DATA IN A DUAL-RAIL FORMAT FROM THE
RECEIVE SECTION OF THE XRT7300 TO THE RECEIVING TERMINAL EQUIPMENT
                                             RxPOS         RPOS
                             Terminal
                            Equipment        RxNEG         RNEG         Receive
                         (E3/DS3 or STS-1                                Logic
                              Framer)                                    Block
                                              RCLK1, 2     RCLK1, 2
                                                            Exar E3/DS3/STS-1 LIU
The manner that the LIU transmits Dual-Rail data to        updates the data on the RPOS and RNEG output
the Receiving Terminal Equipment is described below        pins on the rising edge RCLK1 (or RCLK2).
and illustrated in Figure 24. The XRT7300 typically
FIGURE 24. HOW THE XRT7300 OUTPUTS DATA ON THE RPOS AND RNEG OUTPUT PINS
          RPOS
         RNEG
         RCLK1
RCLK1 (or RCLK2) is the Recovered Clock signal             the RTIP and RRING input pins, then the XRT7300
from the incoming Received line signal. As a result,       pulses the RNEG output pin “High”.
these clock signals are typically 34.368 MHz for E3        Inverting the RCLK1 or RCLK2 outputs
applications, 44.736 MHz for DS3 applications and
51.84 MHz for SONET STS-1 applications.                    When using the XRT7300, either of the RCLK1 or
                                                           RCLK2 signals can be inverted with respect to the
In general, if the XRT7300 received a positive-polarity    delivery of the RPOS and RNEG output signals to the
pulse in the incoming line signal via the RTIP and         Receiving Terminal Equipment. This feature may be
RRING input pins, then the XRT7300 pulses the              useful for those customers whose Receiving Terminal
RPOS output pin “High”. If the XRT7300 received a          Equipment logic design is such that the RPOS and
negative-polarity pulse in the incoming line signal via    RNEG data must be sampled on the rising edge of
                                                           RCLK1 or RCLK2. Figure 25 illustrates the behavior
                                                        34


                                                                                            XRT7300
                                                                E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                     REV. 1.1.2
of the RPOS, RNEG and RCLK signals when the
RCLK signal has been inverted.
FIGURE 25. THE BEHAVIOR OF THE RPOS, RNEG AND RCLK1 SIGNALS WHEN RCLK1 IS INVERTED
           RPOS
          RNEG
          RCLK1
In order to configure the XRT7300 to invert the          A. configure the XRT7300 to operate in the HOST
RCLK1 output signal, the XRT7300 must be operat-              Mode and
ing in the HOST Mode. This configuration can be im-      B. access the Microprocessor Serial Interface and
plemented by accessing the Microprocessor Serial              write a “1” into the RNRZ bit-field in Command
Interface block and writing a “1” into the RCLK1INV           Register CR3.
bit-field in Command Register CR3 to invert RCLK1.
                                                         COMMAND REGISTER CR3 (ADDRESS = 0X03)
COMMAND REGISTER CR3 (ADDRESS = 0X03)
                                                             D4        D3         D2         D1            D0
    D4        D3        D2          D1          D0
                                                            RNRZ    LOSMUT CLK2DIS RCLK2INV            RCLK1INV
  RNRZ     LOSMUT   CLK2DIS     RCLK2INV RCLK1INV
                                                              1         X          X          X             X
    X          X        X            1           1
                                                         After these steps are taken, the XRT7300 outputs
The RCLK2 output signal can also be inverted when        Single-Rail data to the Receiving Terminal Equipment
the XRT7300 is operating in the Hardware Mode by         via the RPOS and RCLK1 (or RCLK2) output pins as
setting the RCLK2INV input pin “High”.                   illustrated in Figure 26 and Figure 27.
  3.7.1 Routing Single-Rail Format data (Binary          NOTE: The RNEG output pin is internally tied to Ground
 Data Stream) to the Receive Terminal Equipment          whenever this feature is enabled.
To route Single-Rail format data (e.g., a binary data
stream) from the Receive Section of the XRT7300 to
the Receiving Terminal Equipment, do the following:
                                                      35


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
FIGURE 26. THE TYPICAL INTERFACE FOR THE TRANSMISSION OF DATA IN A SINGLE-RAIL FORMAT FROM THE
RECEIVE SECTION OF THE XRT7300 TO THE RECEIVING TERMINAL EQUIPMENT
                                           RxPOS       RPOS
                            Terminal                                  Receive
                           Equipment                                   Logic
                       (E3/DS3 or STS-1                                Block
                            Framer)         RCLK1, 2   RCLK1, 2
                                                         Exar E3/DS3/STS-1 LIU
FIGURE 27. THE BEHAVIOR OF THE RPOS AND RCLK1 OUTPUT SIGNALS WHILE THE XRT7300 IS TRANSMITTING
SINGLE-RAIL DATA TO THE RECEIVING TERMINAL EQUIPMENT
        RPOS
        RCLK1
 4.0 DIAGNOSTIC FEATURES OF THE XRT7300                 PLL and the HDB3/B3ZS Encoder. Finally, this data
The XRT7300 supports equipment diagnostic activi-       outputs to the line via the TTIP and TRING output
ties by supporting the following Loop-Back modes in     pins and is looped back into the AGC/Receive Equal-
the chip:                                               izer Block. Consequently, this data is also processed
                                                        through the Receive Section of the XRT7300. After
• Analog Local Loop-Back
                                                        this post-loop-back data has been processed through
• Digital Local Loop-Back                               the Receive Section it outputs to the Near-End Re-
• Remote Loop-Back.                                     ceiving Terminal Equipment via the RPOS, RNEG,
 4.1 THE ANALOG LOCAL LOOP-BACK MODE                    RCLK1 and RCLK2 output pins.
When the XRT7300 is configured to operate in the        Figure 28 illustrates the path that the data takes when
Analog Local Loop-Back Mode, the XRT7300 ignores        the chip is configured to operate in the Analog Local
any signals that are input to the RTIP and RRING in-    Loop-Back Mode.
put pins. The Transmitting Terminal Equipment trans-    The XRT7300 can be configured to operate in the An-
mits clock and data into the XRT7300 via the TPDA-      alog Local Loop-Back Mode by employing either one
TA, TNDATA and TCLK input pins. This data is pro-       of the following two steps:
cessed through the Transmit Clock Duty Cycle Adjust
                                                     36


                                                                                                                  XRT7300
                                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                            REV. 1.1.2
FIGURE 28. THE ANALOG LOCAL LOOP-BACK IN THE XRT7300
                                                                    RLOL EXCLK
               RTIP         AGC/                                        Clock                                              RCLK1
                                                   Slicer                                              Invert
             RRING        Equalizer                                    Recovery                                            RCLK2
           REQDIS                        Peak                                          Data             HDB3/              RPOS
                                       Detector                                      Recovery            B3ZS              RNEG
                                                                                                       Decoder
                                                          LOS Detector
          LOSTHR
                SDI                                                                                                        DECODIS
         SDO/LCV            Serial                                                                                         RLOS
             SCLK         Processor       Analog Local                            Loop MUX                                 LLB
                          Interface
                CS                       Loop-Back Path                                                                    RLB
       REGRESET                                                                                                            ENCODIS
                                                                                                                           TAOS
              TTIP                                               HDB3/           Transmit                                  TPDATA
                                             Pulse               B3ZS             Logic                                    TNDATA
                                            Shaping             Encoder                        Duty Cycle Adjust           TCLK
            TRING
            TXLEV                                                                                                          MTIP
                                                                  Device
            TXOFF                                                 Monitor
                                                                                                                           MRING
              DMO
If the XRT7300 is operating in the HOST Mode:                                    2. The XRT7300 automatically Declares an LOS Con-
                                                                                     dition anytime it has been configured to operate in
Access the Microprocessor Serial Interface and write
                                                                                     either the Analog Local Loop-Back or Digital Local
a “1” into the LLB bit-field and a “0” into the RLB bit-                             Loop-Back Modes. Consequently, the MUTing -
field in Command Register 4.                                                         upon -LOS must be disabled prior to configuring
                                                                                     the device to operate in either of these local Loop-
COMMAND REGISTER CR4 (ADDRESS = 0X04)
                                                                                     Back modes.
    D4              D3            D2         D1              D0              4.2 THE DIGITAL LOCAL LOOP-BACK MODE
    X         STS-1/DS3           E3         LLB            RLB             When the XRT7300 is configured to operate in the
                                                                            Digital Local Loop-Back Mode, it ignores any signals
    X               X              X          1               0             that are input to the RTIP and RRING input pins. The
                                                                            Transmitting Terminal Equipment transmits clock and
If the XRT7300 is operating in the Hardware                                 data into the XRT7300 via the TPDATA, TNDATA and
Mode:                                                                       TCLK input pins. This data is processed through the
                                                                            Transmit Clock Duty Cycle Adjust PLL and the HDB3/
The LLB input pin (pin 14) must be set to “High” and
                                                                            B3ZS Encoder block and then looped back to the
the RLB input pin (pin 15) must be set to “Low”.
                                                                            HDB3/B3ZS Decoder block.
NOTES:
                                                                            Figure 29 illustrates the path that the data takes when
     1. The Analog Local Loop-Back Mode does not work
                                                                            the chip is configured to operate in the Digital Local
         if the transmitter is turned off via the TXOFF fea-
         ture.                                                              Loop-Back Mode.
                                                                        37


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
FIGURE 29. THE DIGITAL LOCAL LOOP-BACK PATH IN THE XRT7300
                                                                 RLOL EXCLK
                     RTIP    AGC/                                   Clock
                                                 Slicer                                            Invert         RCLK1
                   RRING   Equalizer                               Recovery                                       RCLK2
                  REQDIS               Peak                                         Data            HDB3/         RPOS
                                      Detector                                    Recovery           B3ZS         RNEG
                                                                                                   Decoder
                                                      LOS Detector
                 LOSTHR
                      SDI                                                                                         DECODIS
                                      Digital Local
                SDO/LCV      Serial                                                                               RLOS
                                     Loop-Back Path
                    SCLK   Processor                                                                              LLB
                           Interface                                          Loop MUX
                      CS                                                                                          RLB
               REGRESET                                                                                           ENCODIS
                                                                                                                  TAOS
                     TTIP                                    HDB3/           Transmit                             TPDATA
                                           Pulse              B3ZS            Logic                               TNDATA
                                          Shaping           Encoder                        Duty Cycle Adjust      TCLK
                   TRING
                   TXLEV                                                                                          MTIP
                                                               Device
                  TXOFF                                       Monitor
                                                                                                                  MRING
                    DMO
The Digital Local Loop-Back Mode, along with the Tx-                    NOTES:
OFF feature, is useful in Redundancy System De-                               1. The Digital Local Loop-Back Mode feature works
sign. These two features permit the system to exe-                                 even if the transmitter is turned off via the TXOFF
cute some diagnostic tests in the Back-up Line Card                                feature.
without transmitting data onto the line and interfering                       2. The XRT7300 automatically declares an LOS Con-
with the DS3/E3/STS-1 traffic from the Primary Line                                dition any time it has been configured to operate in
Card.                                                                              either the Analog Local Loop-Back or Digital Local
                                                                                   Loop-Back Modes. Consequently, the MUTing -
The XRT7300 can be configured to operate in the                                    upon -LOS must be disabled prior to configuring
Digital Local Loop-Back Mode by employing either                                   the device to operate in either of these local Loop-
one of the following two-steps.                                                    Back modes.
A. If the XRT7300 is operating in the HOST Mode                          4.3 THE REMOTE LOOP-BACK MODE
Access the Microprocessor Serial Interface and write                    When the XRT7300 is configured to operate in the
a “1” into both the LLB and RLB bit-fields in Com-                      Remote Loop-Back Mode, it ignores any signals that
mand Register 4.                                                        are input to the TPDATA and TNDATA input pins.
                                                                        The XRT7300 receives the incoming line signal via
COMMAND REGISTER CR4 (ADDRESS = 0X04)                                   the RTIP and RRING input pins. This data is pro-
                                                                        cessed through the Receive Section of the XRT7300
   D4          D3          D2          D1               D0
                                                                        and outputs to the Receive Terminal Equipment via
    X      STS-1/DS3       E3         LLB               RLB             the RPOS, RNEG, RCLK1 and RCLK2 output pins.
                                                                        Additionally, this data is internally looped back into
    X           X          X            1                1
                                                                        the Pulse-Shaping block in the Transmit Section. At
                                                                        this point, this data is routed through the remainder of
B. If the XRT7300 is operating in the Hardware                          the Transmit Section of the XRT7300 and transmitted
     Mode                                                               out onto the line via the TTIP and TRING output pins.
Set both the LLB input pin (pin 14) and the RLB input
pin (pin 15) to “High”.
                                                                   38


                                                                                                                XRT7300
                                                                               E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                       REV. 1.1.2
Figure 30 illustrates the path that the data takes in the
XRT7300 when the chip is configured to operate in
the Remote Loop-Back Mode.
FIGURE 30. THE REMOTE LOOP-BACK PATH IN THE XRT7300
                                                                 RLOL EXCLK
                  RTIP       AGC/                                   Clock                                        RCLK1
                                                 Slicer                                            Invert
                RRING     Equalizer                                Recovery                                      RCLK2/LCV
               REQDIS                  Peak                                         Data            HDB3/        RPOS
                                      Detector                                    Recovery           B3ZS        RNEG
                                                                                                   Decoder
                                                      LOS Detector
              LOSTHR
                   SDI                                                                                           DECODIS
             SDO/LCV         Serial                                                                              RLOS
                                          Remote
                 SCLK     Processor                                                                              LLB
                           Interface Loop-Back Path                           Loop MUX
                   CS                                                                                            RLB
           REGRESET                                                                                              ENCODIS
                                                                                                                 TAOS
                  TTIP                                       HDB3/                                               TPDATA
                                                                             Transmit
                                           Pulse              B3ZS            Logic                              TNDATA
                                          Shaping           Encoder                        Duty Cycle Adjust     TCLK
                TRING
                TXLEV                                                                                            MTIP
                                                               Device
               TXOFF                                          Monitor
                                                                                                                 MRING
                 DMO
During Remote Loop-Back operation, any data which                      Access the Microprocessor Serial Interface and write
is inputted via the RTIP and RRING input pins is also                  a “1” into the RLB bit-field and a “0” in the LLB bit-field
outputted to the Terminal Equipment via the RPOS,                      in Command Register CR4.
RNEG and RCLK output pins.
                                                                       COMMAND REGISTER CR4 (ADDRESS = 0X04)
The XRT7300 can be configured to operate in the Re-
mote Loop-Back Mode by employing either one of the                          D4                D3             D2      D1        D0
following two steps
                                                                            X            STS-1/DS3           E3     LLB       RLB
If the XRT7300 is operating in the HOST Mode:
                                                                            X                  X             X        0         1
                                                                       If the XRT7300 is operating in the Hardware
                                                                       Mode:
                                                                       Set the RLB input pin (pin 15) to “High” and the LLB
                                                                       input pin (pin 16) to “Low”.
                                                                    39


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
 4.4 TXOFF FEATURES                                          NOTE: If the Transmitter is shut off via the TXOFF feature,
The XRT7300 allows the Transmit Driver in the                the XRT7300 can NOT be configured to operate in the Ana-
                                                             log Local Loop-Back Mode. To perform diagnostics on the
Transmit Section of the chip to be shut off. This fea-
                                                             chip and still invoke the TXOFF feature as in System
ture can be advantageous for system redundancy
                                                             Redundancy Applications, use the Digital Local Loop-Back
conditions or during diagnostic testing. This feature        feature instead.
can be activated by either of the following ways.
                                                               4.5 THE TRANSMIT DRIVE MONITOR FEATURES
When the XRT7300 is operating in the Hardware
                                                             The Transmit Drive Monitor feature performs monitor-
Mode
                                                             ing of the line in the Transmit Direction for the occur-
Shut off the Transmit Driver by toggling the TXOFF           rence of fault conditions such as a short circuit on the
input pin (pin 35) “High”. Turn on the Transmit Driver       line or a defective Transmit Drive in the XRT7300.
by toggling the TXOFF input pin “Low”.
                                                             The Transmit Drive Monitor is activated by connect-
When the XRT7300 is operating in the HOST                    ing the MTIP pin (pin 44) to the TTIP line through a
Mode                                                         270  resistor connected in series and by connecting
If the XRT7300 is operating in the HOST Mode, the            the MRING pin (pin 43) to the TRING line through a
TXOFF input pin is disabled. Consequently, the-              270  resistor connected in series, as illustrated in
Transmit Driver is turned off by writing to Command          Figure 31.
Register CR1 and setting the TXOFF bit-field (bit D4)
to “1”.
COMMAND REGISTER CR1 (ADDRESS = 0X01)
     D4        D3           D2          D1         D0
   TXOFF      TAOS      TXCLKINV      TXLEV     TXBIN
      1         X           X           X           X
FIGURE 31. THE XRT7300 EMPLOYING THE TRANSMIT DRIVE MONITOR FEATURES
                                                                                 T1
                                   TTIP
                                                             R1 = 36 
                                                                                              R5 = 75
                                 TRING
                                                             R2 = 36            1:1
                                  MTIP
                                          R3 = 270 
                                MRING
                                          R4 = 270 
When the Transmit Drive Monitor circuitry is connect-        on the line for 128±32 TCLK periods, then the DMO
ed to the line as illustrated in Figure 26, then it moni-    signal toggles “High”.
tors the line for transitions. As long as the Transmit       NOTES:
Drive Monitor circuitry detects transitions on the line           1. The Transmit Drive Monitor circuit does not have to
via the MTIP and MRING pins, it keeps the DMO                         be used to operate the Transmit Section of the
(Drive Monitor Output) signal “Low”. However, if the                  XRT7300. This is purely a diagnostic feature.
Transmit Drive Monitor circuit detects no transitions
                                                          40


                                                                                                    XRT7300
                                                                      E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                            REV. 1.1.2
     2. The Transmit Drive Monitor feature can also be
         used to monitor the Transmit Output Line Signal of
         another LIU IC as illustrated in Figure 32.
FIGURE 32. TWO LIU’S, EACH MONITORING THE TRANSMIT OUTPUT SIGNAL OF THE OTHER LIU IC
                                       U1
                                                      TTIP                                          BNC
                                                                                   R1        T1
                        DMO_Channel_2      DMO                                    36
                                                                                   R2
                                                                                  36      PE-68629
                                                     TRING
                                           TXOFF
                                                      MTIP
                                                               R3
                                                              270 
                                                               R4
                                                              270 
                                                     MRING
                                        U2
                                                     MRING
                                                               R5
                                                              270 
                                                                R6
                                                              270 
                                                      MTIP
                                           TXOFF
                                                     TRING                                          BNC
                                                                                              T2
                                                                                   R7
                                                                                  36
                         DMO_Channel_1     DMO
                                                                                    R8
                                                                                   36     PE-68629
                                                      TTIP
Presented in Figure 32, if LIU # 1 (U1) fails, then LIU        Configure the device to transmit an all “1’s” pattern by
# 2 (U2) drives its DMO output pin “High”. Likewise, if        toggling the TAOS input pin (pin 2) “High”. Terminate
LIU # 2 (U2) fails, then LIU # 1 (U1) drives its DMO           the all “1’s” pattern by toggling the TAOS input pin
output pin “High”.                                             “Low”.
The scheme presented in Figure 32 is a better design           When the XRT7300 is operating in the HOST
approach. It overcomes situations in which a LIU               Mode:
monitoring its own signal (Figure 31) may experience           If the XRT7300 is operating in the HOST Mode, the
a failure mode such that it cannot drive a bipolar sig-        TAOS input pin is disabled. Consequently, the
nal onto the line. That same failure mode may pre-             XRT7300 can be configured to transmit an all “1’s”
vent the LIU from driving the DMO output pin “High”.           pattern by writing to Command Register CR1 and set-
 4.6 THE TAOS (TRANSMIT ALL ONES) FEATURE                      ting the TAOS bit-field (bit D3) to “1”.
The XRT7300 can transmit an all “1’s” pattern onto
                                                               COMMAND REGISTER CR1 (ADDRESS = 0X01)
the line by toggling a single input pin or by setting a
single bit-field in one of the Command Registers to                 D4        D3           D2            D1        D0
“1”.
                                                                 TXOFF       TAOS      TXCLKINV         TXLEV    TXBIN
NOTE: When this feature is activated, the Transmit Section
of the XRT7300 overwrites the Terminal Equipment data               0          1           X              X         X
with this all “1’s” pattern.
This feature can be activated by either of the follow-         The all “1’s” pattern can be terminated by writing to
ing methods.                                                   Command Register CR1 and setting the TAOS bit-
When the XRT7300 is operating in the Hardware                  field (D3) to “0".
Mode:
                                                            41


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
 5.0 THE MICROPROCESSOR SERIAL INTER-                           section describes the Command Registers and how
       FACE                                                     to use the Microprocessor Serial Interface.
The on-chip Command Registers of the XRT7300                     5.1 DESCRIPTION OF THE COMMAND REGISTERS
DS3/E3/STS-1 Line Interface Unit IC are accessed to             A listing of these Command Registers, their Address-
configure the XRT7300 into a variety of modes. This             es and their Bit-Formats are listed in Table 5.
                     TABLE 5: ADDRESSES AND BIT FORMATS OF XRT7300 COMMAND REGISTERS
                                                                            REGISTER BIT-FORMAT
  ADDRESS       COMMAND REGISTER        TYPE
                                                         D4            D3             D2              D1          D0
    0x00                 CR0             RO            RLOL          RLOS           ALOS            DLOS         DMO
    0x01                 CR1            R/W           TXOFF          TAOS         TXCLKINV          TXLEV       TXBIN
    0x02                 CR2            R/W         DECODIS        ENCODIS         ALOSDIS         DLOSDIS     REQDIS
    0x03                 CR3            R/W            RNRZ        LOSMUT        RCLK2/LCV        RCLK2INV    RCLK1INV
    0x04                 CR4            R/W          Reserved     STS-1/DS3           E3             LLB         RLB
    0x05                 CR5            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x06                 CR6            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x07                 CR7            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x08                 CR8            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x09                 CR9            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x10               CR10             R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x11                CR11            R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x12               CR12             R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x13               CR13             R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x14               CR14             R/W          Reserved      Reserved        Reserved        Reserved    Reserved
    0x15               CR15             R/W          Reserved      Reserved        Reserved        Reserved    Reserved
Address:                                                        Bit D4 - RLOL (Receive Loss of Lock Status)
The register addresses are in Hexadecimal format.               This Read-Only bit-field reflects the lock status of the
Type:                                                           Clock Recovery Phase-Locked-Loop in the XRT7300.
The Command Registers are either Read-Only (RO)                 This bit-field is set to “0” if the Clock Recovery PLL is
or Read/Write (R/W) registers.                                  in lock with the incoming line signal. This bit-field is
                                                                set to “1” if the Clock Recovery PLL is out of lock with
NOTES:
                                                                the incoming line signal.
    1. The default value for each of the bit-fields in these
        registers is “0”.                                       Bit D3 - RLOS (Receive Loss of Signal Status)
    2. If the REGRESET input pin is asserted, then the          This Read-Only bit-field indicates whether or not the
        contents of the command registers is reset to all       Receiver in the XRT7300 is currently declaring an
        "0's" resulting in the XRT7300 operating in the         LOS (Loss of Signal) Condition.
        mode corresponding to the default values of the
        Command Registers.                                      This bit-field is set to “0” if the XRT7300 is not cur-
                                                                rently declaring the LOS Condition. This bit-field is
DESCRIPTION OF BIT-FIELDS FOR EACH COM-                         set to “1” if the XRT7300 is declaring an LOS Condi-
MAND REGISTER                                                   tion.
 5.1.1    Command Register - CR0                                Bit D2 - ALOS (Analog Loss of Signal Status)
                                                             42


                                                                                                      XRT7300
                                                                       E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                              REV. 1.1.2
This Read-Only bit-field indicates whether or not the           DATA and TNDATA pins on the rising or falling edge
Analog LOS Detector in the XRT7300 is currently de-             of TCLK (the Transmit Line Clock signal).
claring an LOS condition.                                       Writing a “1” to this bit-field configures the Transmitter
This bit-field is set to “0” if the Analog LOS Detector in      to sample the TPDATA and TNDATA input pins on the
the XRT7300 is NOT currently declaring an LOS con-              rising edge of TCLK. Writing a “0” to this bit-field con-
dition. Conversely, this bit-field is set to “1” if the Ana-    figures the Transmitter to sample the TPDATA and
log LOS Detector is currently declaring an LOS condi-           TNDATA input pins on the falling edge of TCLK.
tion.                                                           Bit D1 - TXLEV (Transmit Level Select)
The purpose of this feature is to isolate either the An-        This Read/Write bit-field is used to enable or disable
alog LOS or the Digital LOS detector that is declaring          the XRT7300 Transmit Line Build-Out circuit.
the LOS condition. This feature may be useful for
troubleshooting/debugging purposes.                             Setting this bit-field "High" disables the Line Build-Out
                                                                circuit of the XRT7300. In this mode, the XRT7300
Bit D1 - DLOS (Digital Loss of Signal Status)                   outputs partially-shaped pulses onto the line via the
This Read-Only bit-field indicates whether or not the           TTIP and TRING output pins. Setting this bit-field
Digital LOS Detector in the XRT7300 is currently de-            "Low" enables the Line Build-Out circuit of the
claring an LOS condition.                                       XRT7300. In this mode the XRT7300 outputs shaped
This bit-field is set to “0” if the Digital LOS Detector in     pulses onto the line via the TTIP and TRING output
the XRT7300 is NOT currently declaring an LOS con-              pins.
dition. Conversely, this bit-field is set to “1” if the Dig-    To comply with the Isolated DSX/STSX-1 Pulse Tem-
ital LOS Detector is currently declaring an LOS condi-          plate Requirements per Bellcore GR-499-CORE or
tion.                                                           GR-253-CORE, either:
NOTE: The purpose of this feature is to isolate the Detector     1. set this input pin to "1" if the cable length between
(e.g., either the Analog LOS or the Digital LOS detector)            the Cross-Connect and the transmit output of the
that is declaring the LOS condition. This feature may be             XRT7300 is greater than 225 feet or
useful for troubleshooting/debugging purposes.
                                                                 2. set this input pin to "0" if the cable length between
Bit D0 - DMO (Drive Monitor Output Status)                           the Cross-Connect and the transmit output of the
This Read-Only bit-field reflects the status of the                  XRT7300 is less than 225 feet.
DMO output pin.                                                 NOTE: This option is only available when the XRT7300 is
  5.1.2 Command Register - CR1                                  operating in the DS3 or STS-1 Mode.
Bit D4 - TXOFF (Transmitter OFF)                                Bit D0 - TXBIN (Transmit Binary Data)
This Read/Write bit-field is used to turn off the Trans-        This Read/Write bit-field permits configuring of the
mitter in the XRT7300.                                          Transmitter in the XRT7300 to accept an un-encoded
                                                                binary data stream via the TPDATA input and con-
Writing a “1” to this bit-field turns off the Transmitter
                                                                verts this data into the appropriate bipolar signal to
and tri-states the Transmit Output. Writing a “0” to
                                                                the line.
this bit-field turns on the Transmitter.
                                                                Writing a “1” configures the Transmitter to accept a bi-
Bit D3 - TAOS (Transmit All OneS)
                                                                nary data stream via the TPDATA input.
This Read/Write bit-field is used to command the                NOTE: The TNDATA input is ignored.
XRT7300 Transmitter to generate and transmit an all
                                                                This form of data acceptance is sometimes referred
“1’s” pattern onto the line.
                                                                to as Single-Rail mode operation. The Transmitter
Writing a “1” to this bit-field commands the Transmit-          then encodes this data into the appropriate line code
ter to transmit an all “1’s” pattern onto the line. Writ-       (e.g., B3ZS or HDB3) prior to its transmission over
ing a “0” to this bit-field commands normal operation.          the line.
Bit D2 - TXCLKINV (Transmit Clock Invert)                       Writing a “0” configures the Transmitter to accept da-
This Read/Write bit-field is used to configure the              ta in a Dual-Rail manner (e.g., via both the TPDATA
XRT7300 Transmitter to sample the signal at the TP-             and TNDATA inputs).
                                                             43


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
  5.1.3 Command Register - CR2                              Writing a “1” to this bit-field configures the XRT7300
Bit D4 - DECODIS (B3ZS/HDB3 Decoder-Disable)                to output data to the Terminal Equipment in a Single-
                                                            Rail (binary) format via the RPOS output pin. The
This Read/Write bit-field is used to either enable or
                                                            RNEG is grounded. A “0” to this bit-field configures
disable the B3ZS/HDB3 Decoder in the XRT7300.
                                                            the XRT7300 to output data to the Terminal Equip-
Writing a “1” to this bit-field disables the B3ZS/HDB3      ment in a Dual-Rail format via both the RPOS and
Decoder. Writing a “0” to this bit-field enables the        RNEG output pins.
B3ZS/HDB3 Decoder.
                                                            Bit D3 - LOSMUT (Recovered Data MUTing during
NOTE: This Decoder performs HDB3 Decoding if the            LOS Condition)
XRT7300 is operating in the E3 Mode. Otherwise it per-
forms B3ZS Decoding.                                        This Read/Write bit-field is used to configure the
Bit D3 - ENCODIS (B3ZS/HDB3 Encoder-Disable)                XRT7300 to NOT output any recovered data while it
                                                            is declaring an LOS condition to the terminal equip-
This Read/Write bit-field is used to enable or disable      ment.
the B3ZS/HDB3 Encoder in the XRT7300.
                                                            Writing a “0” to this bit-field configures the chip to out-
Writing a “1” to this bit-field disables the B3ZS/HDB3      put recovered data even while the XRT7300 is declar-
Encoder. Writing a “0” to this bit-field enables the        ing an LOS condition. Writing a “1” to this bit-field
B3ZS/HDB3 Encoder.                                          configures the chip to NOT output the recovered data
NOTE: This Encoder performs HDB3 Encoding if the            while an LOS condition is being declared.
XRT7300 is operating in the E3 Mode. Otherwise, it per-
                                                            NOTE: In this mode, RPOS and RNEG is set to “0” asyn-
forms B3ZS Encoding.
                                                            chronously.
Bit D2 - ALOSDIS (Analog LOS Disable)
                                                            Bit D2 - RCLK2/LCV (Receive Clock Output 2/Line
This Read/Write bit-field is used to disable the Analog     Code Violation)
LOS Detector.
                                                            This Read/Write bit-field is used to select the function
Writing a “0” to this bit-field enables the Analog LOS      of pin 30 (RCLK2/LCV). Pin 30 can be configured to
Detector. Writing a “1” to this bit-field disables the      function as the Line Code Violation output indicator or
Analog LOS Detector.                                        as the additional Receive Clock Output (RCLK2).
NOTE: If the Analog LOS Detector is disabled, then the      Writing a “0” to this bit-field configures the pin to func-
RLOS input pin is only asserted by the DLOS (Digital LOS    tion as the Line Code Violation output pin. Writing a
Detector).                                                  “1” to this bit-field configures this pin to function as
Bit D1 - DLOSDIS (Digital LOS Disable)                      the RCLK2 output pin.
This Read/Write bit-field is used to disable the Digital    Bit D1 - RCLK2INV (Invert RCLK2)
LOS Detector.
                                                            This Read/Write bit-field is used to configure the Re-
Writing a “0” to this bit-field enables the Digital LOS     ceiver in the XRT7300 to output the recovered data
Detector. Writing a “1” to this bit-field disables the      on either the rising edge or the falling edge of the
Digital LOS Detector.                                       RCLK2 clock signal.
NOTE: If the Digital LOS Detector is disabled, then the     Writing a “0” to this bit-field configures the Receiver to
RLOS input pin is only asserted by the ALOS (Analog LOS     output the recovered data on the rising edge of the
Detector).
                                                            RCLK2 output signal. Writing a “1” to this bit-field
Bit D0 - REQDIS (Receive Equalization Disable)              configures the Receiver to output the recovered data
This Read/Write bit-field is used to either enable or       on the falling edge of the RCLK2 output signal.
disable the internal Receive Equalizer in the               Bit D0 - RCLK1INV (Invert RCLK1)
XRT7300.
                                                            This Read/Write bit-field is used to configure the Re-
Writing a “0” to this bit-field enables the Internal        ceiver in the XRT7300 to output the recovered data
Equalizer. Writing a “1” to this bit-field disables the     on either the rising edge or the falling edge of the
Internal Equalizer.                                         RCLK1 clock signal.
  5.1.4 Command Register - CR3                              Writing a “0” to this bit-field configures the Receiver to
Bit D4 - RNRZ (Receive Binary Data)                         output the recovered data on the rising edge of the
This Read/Write bit-field is used to configure the          RCLK1 output signal. Writing a “1” to this bit-field
XRT7300 to output the received data from the Re-            configures the Receiver to output the recovered data
mote Terminal in a binary or Dual-Rail format.              on the falling edge of the RCLK1 output signal.
                                                         44


                                                                                                        XRT7300
                                                                          E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                REV. 1.1.2
  5.1.5 Command Register - CR4                                     The XRT7300 Serial Interface is a simple four wire in-
Bit D4 - Reserved                                                  terface that is compatible with many of the microcon-
                                                                   trollers available in the market. This interface con-
This bit-field has no defined functionality
                                                                   sists of the following signals:
Bit D3 - STS-1/DS3 Mode Select
                                                                   CS         -        Chip Select (Active Low)
This Read/Write bit-field is used to configure the
                                                                   SCLK       -        Serial Clock
XRT7300 to operate in either the SONET STS-1
Mode or the DS3 Mode.                                              SDI        -        Serial Data Input
Writing a “0” into this bit-field configures the XRT7300           SDO        -        Serial Data Output
to operate in the DS3 Mode. Writing a “1” into this bit-           Using the Microprocessor Serial Interface
field configures the XRT7300 to operate in the SO-
                                                                   The following instructions for using the Microproces-
NET STS-1 Mode.
                                                                   sor Serial Interface are best understood by referring
NOTE: This bit-field is ignored if the E3 bit-field (D2 in this    to the diagram in Figure 33.
Command Register) is set to “1”.
                                                                   In order to use the Microprocessor Serial Interface, a
Bit D2 - E3 Mode Select
                                                                   clock signal must be supplied to the SCLK input pin.
This Read/Write bit-field is used to configure the                 A Read or Write operation can then be initiated by as-
XRT7300 to operate in the E3 Mode.                                 serting the active-low Chip Select input pin (CS). It is
Writing a “0” into this bit-field configures the XRT7300           important to assert the CS pin (e.g., toggle it “Low”) at
to operate in either the DS3 or SONET STS-1 Mode                   least 50ns prior to the very first rising edge of the
specified by the setting of the DS3 bit-field in this              clock signal.
Command Register. Writing a “1” into this bit-field                Once the CS input pin has been asserted, the type of
configures the XRT7300 to operate in the E3 Mode.                  operation and the target register address must now
Bit D1 - LLB (Local Loop-Back)                                     be specified. This information is supplied to the Mi-
This Read/Write bit-field along with RLB (bit D0 in this           croprocessor Serial Interface by writing eight serial
Command Register) is used to select which Loop-                    bits of data into the SDI input.
Back mode the XRT7300 operates in. Table 6 relates                 NOTE: Each of these bits is clocked into the SDI input on
the state of the LLB and RLB to the selected Loop-                 the rising edge of SCLK. These eight bits are identified and
Back mode.                                                         described below.
Bit D0 - RLB (Remote Loop-Back)                                    Bit 1 - R/W (Read/Write) Bit
This Read/Write bit-field along with LLB (bit D1 in this           This bit is clocked into the SDI input on the first rising
Command Register) is used to select which Loop-                    edge of SCLK after CS has been asserted. This bit
Back mode the XRT7300 operate in. Table 6 relates                  indicates whether the current operation is a Read or
the state of the LLB and RLB bits to the selected                  Write operation. A “1” in this bit specifies a Read op-
Loop-Back mode.                                                    eration, a “0” in this bit specifies a Write operation.
                                                                   Bits 2 through 5: The four (4) bit Address Values
               TABLE 6: LOOP-BACK MODES                            (labeled A0, A1, A2 and A3)
    LLB         RLB                                                The next four rising edges of the SCLK signal clock in
                                   LOOP-BACK MODE
  (BIT D1)    (BIT D0)                                             the 4-bit address value for this particular Read (or
                                                                   Write) operation. The address selects the Command
     0           0          No Loop-Back Mode (Normal              Register in the XRT7300 that the user is either read-
                                       Operation)
                                                                   ing data from or writing data to. The address bits
     0           1            Remote Loop-Back Mode                must be supplied to the SDI input pin in ascending or-
                                                                   der with the LSB (least significant bit) first.
     1           0             Analog Loop-Back Mode
                                                                   Bits 6 and 7:
     1           1             Digital Loop-Back Mode              The next two bits, A4 and A5 must be set to “0” as
                                                                   shown in Figure 33.
 5.2 OPERATING THE MICROPROCESSOR SERIAL
                                                                   Bit 8:
       INTERFACE.
                                                                   The value of A6 is a “don’t care”.
                                                                45


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
FIGURE 33. MICROPROCESSOR SERIAL INTERFACE DATA STRUCTURE
         CS
       SClk                    1      2    3    4   5   6   7    8    9  10    11    12  13   14    15  16
        SDI                 R/W    A0    A1   A2  A3  0   0    A6   D0  D1    D2   D3   D4  D5    D6   D7
                                       High Z                                                              High Z
       SDO                                                          D0  D1    D2   D3   D4  D5    D6   D7
   Notes:
   Notes:
                                                                 Figure 34 illustrates how to interface the XRT7300 to
       --Denotes
          Denotes a “don’t care”
                     a “don’t    value
                              care”  value                       the XRT7234/45 E3/DS3 ATM UNI IC.
       A4 and A5 are always “0”.
        A4 and A5 are always “0”.
       R/W = “1” for “Read” Operations
                                                                 For more information on the XRT7234 E3 UNI or the
        R/W==“0”“1”
       R/W        forfor “Read”
                      “Write”    Operations
                              Operations                         XRT7245 DS3 UNI IC’s please consult the XRT7234
        R/W = “0” for “Write” Operations                         E3 UNI IC or the XRT7245 DS3 UNI IC Data Sheets.
                                                              46


                                                                                                                            XRT7300
                                                                                  E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                                               REV. 1.1.2
FIGURE 34. HOW TO INTERFACE THE XRT7300 IC TO THE XRT7234/45 E3/DS3 ATM UNI IC
                                                XRT7245
                                 TxSoC   TxSoC
                                 TxEnB   TxEnB
                                  TxClk  TxClk
                                 TxPrty  TxPrty
                                 TxClav  TxClav
                           TxData [15:0]
                                         TxData0
                                         TxData1
                                         TxData2
                                         TxData3
                                         TxData4
                                         TxData5
                                         TxData6
                                         TxData7
                                         TxData8
                                         TxData9
                                         TxData10
                                         TxData11                     XRT7300
                                         TxData12                                                      R1
                                         TxData13                                                     36 
                                         TxData14       TxPOS   TPDATA          TTIP
                                         TxData15                                                          T1
                                                        TxNEG   TNDATA                                            TTIP
                                RESET    RESET
                                    INT  INT          TxLineClk TCLK
                                     CS  CS                                                                       TRING
                                    RW   WR_RW                                                             1:1
                                     DS  RD_DS                                TRING
                       +5V           AS  ALE_AS           DMO   DMO                                    R2
                                DTACK    Rdy_Dtck                                         R3          36
                                                        ExLOS   RLOS                    270 
                                         MOTO                                  MTIP
                                                          RLOL  RLOL
                                         A0
                                         A1
                                         A2             LLOOP   LLB          MRING
                                         A3                                               R4
                                         A4             RLOOP   RLB                     270 
                                         A5
                                         A6              TAOS   TAOS
                                         A7
                                         A8              TxLEV  TxLEV
                                  A[8:0]
                                                      ENCODIS   ENCODIS
                                         D0
                                         D1
                                         D2
                                         D3              REQB   REQDIS
                                         D4
                                         D5
                                         D6
                                         D7                                    RTIP
                                         D8                                                                   T2
                                         D9                                                                           RTIP
                                         D10
                                         D11            RxPOS   RPOS
                                         D12
                                         D13            RxNEG   RNEG                                                  RRING
                                         D14                                                                  1:1
                                         D15          RxLineClk RCLK1         RRING
                                D[15:0]
                                RxLOS    RxLOS
                                                                                      R5             R6
                                RxOOF    RxOOF
                                RxLCS    RxLCS                                       37.5          37.5 
                                RxRED    RxRED
                                 RxAIS   RxAIS
                                RxSOC    RxSOC
                                 RxEnB                                                         C1
                                         RxEnB                                                0.01uF
                                 RxCLk   RxCLk
                                 RxPrty  RxPrty
                                RxClav   RxClav
                                         RxData0
                                         RxData1
                                         RxData2
                                         RxData3
                                         RxData4
                                         RxData5
                                         RxData6
                                         RxData7
                                         RxData8
                                         RxData9
                                         RxData10
                                         RxData11
                                         RxData12
                                         RxData13
                                         RxData14
                                         RxData15
                           RxData[15:0]
                                                                    47


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
Figure 35 illustrates how to interface the XRT7300 to                  For more information on the XRT7250 E3/DS3 Fram-
the XRT7250 E3/DS3 Framer IC. Please note that in                      er IC’s please consult the XRT7250 E3/DS3 Framer
this case, the XRT7300 has been configured to oper-                    IC Data Sheet.
ate in the Hardware Mode.
FIGURE 35. HOW TO INTERFACE THE XRT7300 IC TO THE XRT7250 DS3/E3 FRAMER IC
                                              XRT7250
                              TxSER   TxSER                          XRT7300
                             TXInClk  TXInClk                                                       R1
                            TxFrame   TxFrame                                                      36
                                                      TxPOS   TPDATA          TTIP
                                                                                                       T1
                                                                                                           TTIP
                         NIBBLEINTF   NIBBLEINTF      TxNEG   TNDATA
                                                    TxLineClk TCLK
                             RESET    RESET                                                                TRING
                                                                                                       1:1
                                 INT  INT                                    TRING
                                  CS  CS                DMO   DMO                                   R2
                                 RW   WR_RW                                          R3            36
                                  DS  RD_DS           ExtLOS  RLOS                  270 
                                  AS  ALE_AS                                  MTIP
                                 INT  Rdy Dtck          RLOL  RLOL
                               A[8:0]
                                      A0
                                      A1              LLOOP   LLB            MRING
                                      A2                                             R4
                                      A3              RLOOP   RLB                   270 
                                      A4
                                      A5               TAOS   TAOS
                                      A6
                                      A7               TxLEV  TXLEV
                                      A8
                                                    ENCODIS   ENCODIS
                               D[7:0]
                                      D0
                                      D1
                                  5V  D2               REQB   REQDIS
                                      D3
                                      D4
                                      D5
                                      D6
                                      D7                                      RTIP
                                                                                                       T2
                                      MOTO                                                                  RTIP
                                                      RxPOS   RPOS                        R5
                               RxSer  RxSer                                              37.5 
                               RxClk  RxClk           RxNEG   RNEG                                          RRING
                            RxFrame   RxFrame                                                          1:1
                                                    RxLineClk RCLK1          RRING
                              RxLOS   RxLOS
                             RxOOF    RxOOF                                                      R6
                             RxRED    RxRED                                                     37.5 
                               RxAIS  RxAIS                                        C1
                                                                                   0.01uF
                                                                   48


                                                                                              XRT7300
                                                                E3/DS3/STS-1 LINE INTERFACE UNIT
                                                                                                     REV. 1.1.2
ORDERING INFORMATION
      PART NO.                            PACKAGE                               OPERATING TEMPERATURE RANGE
     XRT7300IV                44 Pin TQFP (10mm x 10mm)                                -40°C to +85°C
PACKAGE DIMENSIONS
                            44 LEAD THIN QUAD FLAT PACK
                                     (10 x 10 x 1.4 mm TQFP)
                                               rev. 1.00
                                                           D
                                                           D1
                                                33                 23
                                    34                                         22
                                                                                  D1 D
                                    44                                         12
                                                 1                 11
                                                            B
                                            A2       e
                                                                             C
                               A
                                                                                   
                Seating Plane
                                 A1
                                                                           L
                                             INCHES              MILLIMETERS
                          SYMBOL         MIN          MAX        MIN          MAX
                              A         0.055         0.063       1.4          1.6
                              A1        0.002         0.006      0.05         0.15
                              A2        0.053         0.057      1.35         1.45
                              B         0.012         0.018       0.3         0.45
                              C         0.004         0.008      0.09          0.2
                              D         0.465          0.48      11.8         12.2
                              D1         0.39         0.398       9.9         10.1
                              e            0.0315 BSC                0.80 BSC
                              L         0.018          0.03      0.45         0.75
                                         0o            7o         0o          7o
                        Note: The control dimension is the millimeter column
                                                       49


XRT7300
E3/DS3/STS-1 LINE INTERFACE UNIT
REV. 1.1.2
REVISION HISTORY                                       ble of contents. Modified figures 3 & 4 for complet-
Rev. 1.0.0 original                                    ness.
Rev. 1.0.1 page 12 Leackage Current Units from mA      Rev. 1.0.7 added Device Monitor function to block di-
to µA                                                  agram, changed figure 22, RxIN to RTIP/RRING.
Rev. 1.0.2 edits to missing symbols                    Rev. 1.1.0 Electrical tables incorrectly stated 3.3V re-
                                                       placed with 5.0V, Rev # made consistent with produc-
Rev. 1.0.3 changes to Notes for Analog and Digital
                                                       tion products.
Loop-Back modes and added ESD Rating
                                                       Rev 1.1.1 Added connection points to various draw-
Rev. 1.0.4 and 1.0.5 Added REQDIS to block dia-
                                                       ings.
gram; renamed REG_RESET* to REGRESET, CS* to
CS, ICT* to ICT, HOST/HW* to HOST/HW, STS-1/           Rev 1.1.2 Changed the description for the TTIP and
DS3* to STS-1/DS3; changed format/style of the data    TRING pins in the PIN DEFINITION table to accu-
sheetand removed uneccessary verbage; added ta-        rately reflect their functions.
                                                    50


                                                    XRT7300
          E3/DS3/STS-1 LINE INTERFACE UNIT
          REV. 1.1.2
                                                      NOTICE
EXAR Corporation reserves the right to make changes to the products contained in this publication in order
to improve design, performance or reliability. EXAR Corporation assumes no responsibility for the use of
any circuits described herein, conveys no license under any patent or other right, and makes no represen-
tation that the circuits are free of patent infringement. Charts and schedules contained here in are only for
illustration purposes and may vary depending upon a user’s specific application. While the information in
this publication has been carefully checked; no responsibility, however, is assumed for inaccuracies.
EXAR Corporation does not recommend the use of any of its products in life support applications where
the failure or malfunction of the product can reasonably be expected to cause failure of the life support sys-
tem or to significantly affect its safety or effectiveness. Products are not authorized for use in such applica-
tions unless EXAR Corporation receives, in writing, assurances to its satisfaction that: (a) the risk of injury
or damage has been minimized; (b) the user assumes all such risks; (c) potential liability of EXAR Corpo-
ration is adequately protected under the circumstances.
Copyright 2001 EXAR Corporation
Datasheet May 2011.
Reproduction, in part or whole, without the prior written consent of EXAR Corporation is prohibited.
                                                           51


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 XRT7300IVTR-F XRT7300ES XRT7300IV-F
