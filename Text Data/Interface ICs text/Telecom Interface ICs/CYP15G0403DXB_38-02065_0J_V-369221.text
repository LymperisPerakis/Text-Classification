                                                                                                        CYP15G0403DXB
                                                       Independent Clock Quad HOTLink II™
                                                                                                             Transceiver
 Features                                                          ■ Per-channel Link Quality Indicator
                                                                     ❐ Analog signal detect
 ■ Second-generation HOTLink® technology                             ❐ Digital signal detect
 ■ Compliant to multiple standards                                 ■ Low-power 3W at 3.3-V typical
   ❐ ESCON, DVB-ASI, Fibre Channel and Gigabit Ethernet
     (IEEE802.3z)                                                  ■ Single 3.3-V supply
   ❐ CPRI™ compliant                                               ■ 256-ball thermally enhanced BGA
   ❐ 8B/10B coded data or 10 bit uncoded data
                                                                   ■ Pb-free package option available
 ■ Quad channel transceiver operates from 195 to 1500 MBaud
   serial data rate                                                ■ 0.25 μ BiCMOS technology
   ❐ Aggregate throughput of up to 12 Gbits/second
                                                                   Functional Description
 ■ Second-generation HOTLink technology
                                                                   The CYP15G0403DXB Independent Clock Quad
 ■ Truly independent channels                                      HOTLink II™ Transceiver is a point-to-point or point-to-multi-
   ❐ Each channel can operate at a different signaling rate        point communications building block enabling transfer of data
   ❐ Each channel can transport a different type of data           over a variety of high-speed serial links like optical fiber,
 ■ Selectable input/output clocking options                        balanced, and unbalanced copper transmission lines. The
                                                                   signaling rate can be anywhere in the range of 195 to
 ■ Internal phase-locked loops (PLLs) with no external PLL         1500 MBaud per serial link. Each channel operates indepen-
   components                                                      dently with its own reference clock allowing different rates.
                                                                   Each transmit channel accepts parallel characters in an Input
 ■ Dual differential PECL-compatible serial inputs per channel     Register, encodes each character for transport, and then
 ■ Internal DC-restoration                                         converts it to serial data. Each receive channel accepts serial
                                                                   data and converts it to parallel data, decodes the data into
 ■ Dual differential PECL-compatible serial outputs per channel    characters, and presents these characters to an Output
   ❐ Source matched for 50-Ω transmission lines                    Register. Figure 1 on page 2 illustrates typical connections
   ❐ No external bias resistors required                           between independent host systems and corresponding
   ❐ Signaling-rate controlled edge-rates                          CYP15G0403DXB chips
 ■ MultiFrame™ Receive Framer provides alignment options           As a second-generation HOTLink device, the
                                                                   CYP15G0403DXB extends the HOTLink family with enhanced
   ❐ Bit and byte alignment
                                                                   levels of integration and faster data rates, while maintaining
   ❐ Comma or Full K28.5 detect
                                                                   serial-link compatibility (data, command, and BIST) with other
   ❐ Single or Multi-byte Framer for byte alignment                HOTLink devices. The transmit (TX) section of the
   ❐ Low-latency option                                            CYP15G0403DXB Quad HOTLink II consists of four
 ■ Synchronous LVTTL parallel interface                            independent byte-wide channels. Each channel can accept
                                                                   either 8-bit data characters or preencoded 10-bit transmission
 ■ JTAG boundary scan                                              characters. Data characters may be passed from the Transmit
                                                                   Input Register to an integrated 8B/10B Encoder to improve
 ■ Built-In Self-Test (BIST) for at-speed link testing
                                                                   their serial transmission characteristics. These encoded
 ■ Compatible with                                                 characters are then serialized and output from dual Positive
   ❐ Fiber-optic modules                                           ECL (PECL) compatible differential transmission-line drivers
   ❐ Copper cables
                                                                   at a bit-rate of either 10 or 20 times the input reference clock
                                                                   for that channel.
   ❐ Circuit board traces
                                                                   .
Cypress Semiconductor Corporation            •    198 Champion Court       •     San Jose, CA 95134-1709          •      408-943-2600
Document #: 38-02065 Rev. *J                                                                                    Revised June 9, 2014


                                                                                                             CYP15G0403DXB
Figure 1. HOTLink II™ System Connections
                                                                                                                        10
                       10                                  Serial Links
                                                                                                                   10
                  10
                                                                                                                        10
                       10                                  Serial Links
    System Host                                                                                                                  System Host
                                                                                                                   10
                  10
                                Independent                                                 Independent
                               CYP15G0403DXB                                              CYP15G0403DXB                 10
                       10                                  Serial Links
                                                                                                                   10
                  10                                       Backplane or
                                                             Cabled
                                                           Connections
                                                                                                                        10
                       10                                  Serial Links
                                                                                                                   10
                  10
The receive (RX) section of the CYP15G0403DXB Quad                        tecture. In addition to clocking the transmit path with a local
HOTLink II consists of four independent byte-wide channels.               reference clock, the receive interface may also be configured to
Each channel accepts a serial bit-stream from one of two                  present data relative to a recovered clock or to a local reference
PECL-compatible differential line receivers, and using a                  clock.
completely integrated Clock and Data Recovery PLL, recovers               Each transmit and receive channel contains an independent
the timing information necessary for data reconstruction. Each            BIST pattern generator and checker. This BIST hardware allows
recovered bit-stream is deserialized and framed into characters,          at-speed testing of the high-speed serial data paths in each
8B/10B decoded, and checked for transmission errors.                      transmit and receive section, and across the interconnecting
Recovered decoded characters are then written to an internal              links.
Elasticity Buffer, and presented to the destination host system.
                                                                          The CYP15G0403DXB is ideal for port applications where
The integrated 8B/10B encoder/decoder may be bypassed for                 different data rates and serial interface standards are necessary
systems that present externally encoded or scrambled data at              for each channel. Some applications include multi-protocol
the parallel interface.                                                   routers, aggregation equipment, and switches.
The parallel I/O interface may be configured for numerous forms
of clocking to provide the highest flexibility in system archi-
Document #: 38-02065 Rev. *J                                                                                                   Page 2 of 49


                                                                                                                                 CYP15G0403DXB
Contents
CYP15G0403DXB Transceiver Logic Block Diagram.... 4                                  AC Electrical Characteristics ........................................ 31
Transmit Path Block Diagram ......................................... 5                  Transmitter LVTTL Switching Characteristics ........... 31
Receive Path Block Diagram ........................................... 6                 Receiver LVTTL Switching Characteristics ............... 31
Device Configuration and Control Block Diagram ........ 7                                REFCLKx Switching Characteristics ......................... 31
Pin Configuration (Top View) .......................................... 8                Bus Configuration Write Timing Characteristics ....... 32
Pin Configuration (Bottom View) .................................... 9                   JTAG Test Clock Characteristics ............................. 32
Pin Descriptions                                                                         Device RESET Characteristics ................................. 32
CYP15G0403DXB Quad HOTLink II Transceiver ......... 10                                   Transmit Serial Outputs and TX PLL Characteristics 32
CYP15G0403DXB HOTLink II Operation ....................... 15                            Receive Serial Inputs and CDR PLL Characteristics 33
    CYP15G0403DXB Transmit Data Path ..................... 15                        Capacitance .................................................................... 33
    Transmit Modes ......................................................... 16      HOTLink II Transmitter Switching Waveforms ............ 34
Transmit BIST ................................................................. 16   Switching Waveforms for the HOTLink II Receiver ..... 35
    Transmit PLL Clock Multiplier .................................... 16            X3.230 Codes and Notation Conventions .................... 39
Serial Output Drivers ...................................................... 17          Notation Conventions ................................................ 39
CYP15G0403DXB Receive Data Path ............................ 17                          8B/10B Transmission Code ....................................... 39
    Serial Line Receivers ................................................ 17            Transmission Order ................................................... 39
    Signal Detect/Link Fault ............................................ 17             Valid and Invalid Transmission Characters ............... 39
    Clock/Data Recovery ................................................. 18             Use of the Tables for Generating Transmission
    Deserializer/Framer ................................................... 18           Characters ................................................................. 40
    10B/8B Decoder Block .............................................. 19               Use of the Tables for Checking the Validity of Received
    Receive BIST Operation ............................................ 19               Transmission Characters .......................................... 40
    Receive Elasticity Buffer ............................................ 20        Ordering Information ...................................................... 46
    Receive Modes .......................................................... 20      Ordering Code Definition ............................................... 46
    Power Control ............................................................ 20    Package Diagram ............................................................ 46
Output Bus ...................................................................... 20 Document History Page ................................................. 47
    Device Configuration and Control Interface .............. 21                     Sales, Solutions, and Legal Information ...................... 48
JTAG Support ................................................................. 26        Worldwide Sales and Design Support ....................... 48
Maximum Ratings ........................................................... 29           Products .................................................................... 48
    Power-up Requirements ............................................ 29                PSoC Solutions ......................................................... 48
Operating Range ............................................................. 29
DC Electrical Characteristics ........................................ 29
AC Test Loads and Waveforms ..................................... 30
Document #: 38-02065 Rev. *J                                                                                                                               Page 3 of 49


                                                                                                                                     CYP15G0403DXB
  CYP15G0403DXB Transceiver Logic Block Diagram
          TXDA[7:0]                  RXDA[7:0]     TXDB[7:0]                 RXDB[7:0]      TXDC[7:0]                  RXDC[7:0]      TXDD[7:0]                  RXDD[7:0]
                       REFCLKA±                                 REFCLKB±                                 REFCLKC±                                  REFCLKD±
          TXCTA[1:0]                 RXSTA[2:0]    TXCTB[1:0]                RXSTB[2:0]     TXCTC[1:0]                 RXSTC[2:0]     TXCTD[1:0]                 RXSTD[2:0]
          x10                         x11           x10                       x11           x10                         x11           x10                         x11
        Phase                                     Phase                                   Phase                                     Phase                     Elasticity
        Align                     Elasticity      Align                    Elasticity     Align                     Elasticity      Align
                                   Buffer                                   Buffer                                   Buffer                                    Buffer
        Buffer                                    Buffer                                  Buffer                                    Buffer
       Encoder                    Decoder         Encoder                  Decoder        Encoder                   Decoder         Encoder                   Decoder
       8B/10B                     8B/10B          8B/10B                   8B/10B         8B/10B                    8B/10B          8B/10B                    8B/10B
                                    Framer                                  Framer                                    Framer                                    Framer
        Serializer                Deserializer    Serializer               Deserializer   Serializer                Deserializer    Serializer                Deserializer
          TX                         RX             TX                        RX            TX                          RX            TX                          RX
         OUTA1±                     INA1±          OUTB1±                    INB1±         OUTC1±                     INC1±          OUTD1±                     IND1±
                                    INA2±                                    INB2±                                    INC2±                                     IND2±
         OUTA2±                                    OUTB2±                                  OUTC2±                                    OUTD2±
Document #: 38-02065 Rev. *J                                                                                                                                         Page 4 of 49


                                                                                                                                                                                              CYP15G0403DXB
     Transmit Path Block Diagram                                                                                                                    TXLB[A..D] are Internal Serial Loopback Signals
   REFCLKA+
                                                                                                       Bit-Rate Clock
                                                                                                                                                                                                      = Internal Signal
   REFCLKA–
                                                                  Transmit    PLL
                                                                    Transmit PLL                                    OEA[2..1]
                TXRATEA
                                                                 Clock  Multiplier
                                                                  Clock Multiplier A
   SPDSELA
   TXCLKOA                                                                                                      ENCBYPA
                                                                 Character-Rate Clock A
   TXERRA
                                                                                                                                                                                                OEA[2..1]
   TXCLKA                                                                              PABRSTA                                                  TXBISTA
                                        0          1
                TXCKSELA
                                                                               Phase-Align
                      8
                                                                               Phase-Align
                                                                                                                                               BIST
                                                                                                                                               BIST LFSR
                                                                                                                                                                                                                   OUTA1+
                                                                                                                                                    LFSR
                                            Input                                                         8B/10B
                                                                                                          Encoder
   TXDA[7:0]                                                  10                               10                       10                                                                                         OUTA1–
                                                                                                                                                                                    Shifter
                                                                                                                                                                10
                      2
                                           Register
                                                                                 Buffer
                                                                                                                                                                                                                   OUTA2+
                                                                                                          Encoder
                                                                                  Buffer
   TXCTA[1:0]
                                                                                                                                                                                                                   OUTA2–
   REFCLKB+                                                                                                                                                                                                TXLBA
                                                                                                        Bit-Rate Clock
   REFCLKB–
                                                               Transmit PLL
                TXRATEB                                                                                         OEB[2..1]
                                                             Clock Multiplier B
   SPDSELB
   TXCLKOB                                                                                                ENCBYPB
                                                            Character-Rate Clock B
   TXERRB
   TXCLKB                                                                    PABRSTB                                                    TXBISTB                                                OEB[2..1]
                                   0       1
                TXCKSELB
                                                                         Phase-Align
                                                                         Phase-Align
                                                                                                                                   BIST
                                                                                                                                   BIST LFSR
                                                                                                                                                                                                              OUTB1+
                                                                                                                                        LFSR
                      8
                                    Input                   10                               10       8B/10B
                                                                                                      Encoder         10                                    10                                                OUTB1–
                                                                                                                                                                          Shifter
   TXDB[7:0]
                                   Register
                                                                           Buffer
                                                                                                                                                                                                              OUTB2+
                                                                                                      Encoder
                                                                            Buffer
   TXCTB[1:0]
                      2                                                                                                                                                                                       OUTB2–
                                                                                                                                                                                                     TXLBB
   REFCLKC+
                                                                                                        Bit-Rate Clock
   REFCLKC–
                                                                Transmit PLL
                TXRATEC                                                                                         OEC[2..1]
                                                              Clock Multiplier C
   SPDSELC
   TXCLKOC                                                                                                    ENCBYPC
                                                             Character-Rate Clock C
   TXERRC
                                                                                                                                                                                               OEC[2..1]
                                                                               PABRSTC                                                         TXBISTC
   TXCLKC
                                   0           1
                TXCKSELC
                      8
                                                                            Phase-Align
                                                                                                                                        BIST LFSR
                                                                                                                                                                                                               OUTC1+
                                        Input                                                          8B/10B
   TXDC[7:0]                                                                                 10
                                                            10                                                        10                                    10
                                                                                                                                                                               Shifter
                                                                                                                                                                                                               OUTC1–
                      2
                                       Register                                                        Encoder
                                                                              Buffer
   TXCTC[1:0]                                                                                                                                                                                                  OUTC2+
                                                                                                                                                                                                               OUTC2–
                                                                                                                                                                                                       TXLBC
   REFCLKD+
                                                                                                          Bit-Rate Clock
   REFCLKD–
                                                          Transmit PLL
                TXRATED                                                                                   OED[2..1]
                                                        Clock Multiplier D
   SPDSELD
                                                                                                        ENCBYPD
   TXCLKOD                                                                                                                                                                                      OED[2..1]
                                                       Character-Rate Clock D
   TXERRD
   TXCLKD                                                                 PABRSTD                                                   TXBISTD
                               0       1
                TXCKSELD
                                                                      Phase-Align
                                                                                                                                                                                                                   OUTD1+
                                                                                                                            BIST LFSR
                                                                                                                                                                                                                   OUTD1–
                                Input                                                               8B/10B
                      8                                10                                 10                      10                                       10
                                                                                                                                                                     Shifter
   TXDD[7:0]                                                                                                                                                                                                       OUTD2+
                               Register
                                                                        Buffer
                      2                                                                             Encoder                                                                                                        OUTD2–
   TXCTD[1:0]
                                                                                                                                                                                                           TXLBD
Document #: 38-02065 Rev. *J                                                                                                                                                                                       Page 5 of 49


                                                                                                               CYP15G0403DXB
  Receive Path Block Diagram                                                                TXLB[A..D] are Internal Serial Loopback Signals
                                                                                                                       = Internal Signal
                                                                                                                              RESET
                                                                                                                              TRST
                                                                                        JTAG                                  TMS
    SPDSELA
              RXPLLPDA
                                                                                       Boundary                               TCLK
              SDASELA[1:0]                                                               Scan                                 TDI
                                                                                       Controller
                                                                                                                              TDO
    LPENA                      Receive
    INSELA                      Signal
                                                                                                                              LFIA
                               Monitor
                                                                               Elasticity
    INA1+
    INA1–                                                        10B/8B
                                                        Framer
                                                                                                     Output
                                                                                                               8
                                              Shifter
                                                                                                                              RXDA[7:0]
                                                                  BIST          Buffer
    INA2+                       Clock &
                                 Data
                                                                                                    Register
    INA2–
              TXLBA            Recovery                                                                        3
                                  PLL                                                                                         RXSTA[2:0]
    ULCA
    SPDSELB
              RXPLLPDB                                                    Clock               ÷2                              RXCLKA+
              SDASELB[1:0]                                                Select                                              RXCLKA–
    LPENB                      Receive
    INSELB
                                Signal                                                                                         LFIB
                               Monitor
    INB1+                                                        10B/8B        Elasticity
                                              Shifter   Framer
                                                                                                    Output
    INB1–                                                                                                      8              RXDB[7:0]
    INB2+                       Clock &                           BIST          Buffer
    INB2–                        Data                                                               Register   3
              TXLBB            Recovery                                                                                       RXSTB[2:0]
                                  PLL
    ULCB
    SPDSELC
              RXPLLPDC                                                    Clock               ÷2                              RXCLKB+
              SDASELC[1:0]                                                Select                                              RXCLKB–
    LPENC                      Receive
     INSELC                     Signal                                                                                        LFIC
                               Monitor
    INC1+
                                                                 10B/8B        Elasticity
                                                        Framer
                                                                                                    Output
                                                                                                               8
                                              Shifter
    INC1–                                                                                                                     RXDC[7:0]
    INC2+                       Clock &                           BIST          Buffer
    INC2–                        Data                                                               Register   3
              TXLBC            Recovery                                                                                       RXSTC[2:0]
    ULCC
                                  PLL
    SPDSELD
              RXPLLPDD                                                    Clock               ÷2                              RXCLKC+
              SDASELD[1:0]                                                Select                                              RXCLKC–
    LPEND                      Receive
     INSELD                     Signal                                                                                        LFID
                               Monitor
                                                                               Elasticity
    IND1+
                                                                 10B/8B
                                                                                                    Output
    IND1–                                                                                                      8
                                                        Framer
                                                                                                                              RXDD[7:0]
                                              Shifter                           Buffer
    IND2+                       Clock &                           BIST
    IND2–                        Data                                                               Register   3
              TXLBD            Recovery                                                                                       RXSTD[2:0]
    ULCD                         PLL
    LDTDEN                                                                Clock               ÷2                              RXCLKD+
                                                                          Select                                              RXCLKD–
                                 RFMODE[A..D][1:0]
                                       RFEN[A..D]
                                  FRAMCHAR[A..D]
                                   DECMODE[A..D]
                                      RXBIST[A..D]
                                    RXCKSEL[A..D]
                                     DECBYP[A..D]
                                     RXRATE[A..D]
Document #: 38-02065 Rev. *J                                                                                                   Page 6 of 49


                                                                     CYP15G0403DXB
  Device Configuration and Control Block Diagram                       = Internal Signal
                                             RFMODE[A..D][1:0]
                                             RFEN[A..D]
                                             FRAMCHAR[A..D]
  WREN                                       DECMODE[A..D]
                      Device Configuration
  ADDR[3:0]                                  RXBIST[A..D]
                      and Control Interface  RXCKSEL[A..D]
  DATA[7:0]
                                             DECBYP[A..D]
                                             RXRATE[A..D]
                                             SDASEL[2..1][A..D][1:0]
                                             RXPLLPD[A..D]
                                             TXRATE[A..D]
                                             TXCKSEL[A..D]
                                             PABRST[A..D]
                                             TXBIST[A..D]
                                             OE[2..1][A..D]
                                             ENCBYP[A..D]
                                             GLEN[11..0]
                                             FGLEN[2..0]
Document #: 38-02065 Rev. *J                                                         Page 7 of 49


                                                                                                   CYP15G0403DXB
Pin Configuration (Top View)
       1       2      3      4     5    6     7     8    9     10    11     12    13   14    15    16    17    18       19     20
  A    IN    OUT      IN    OUT   VCC   IN   OUT   GND   IN    OUT    IN   OUT   GND    IN   OUT   VCC    IN   OUT       IN   OUT
      C1–     C1–    C2–    C2–        D1–   D1–        D2–    D2–   A1–    A1–        A2–   A2–         B1–   B1–      B2–    B2–
  B    IN    OUT      IN    OUT   VCC   IN   OUT   GND   IN    OUT    IN   OUT   GND    IN   OUT   VCC    IN   OUT       IN   OUT
      C1+     C1+    C2+    C2+        D1+   D1+        D2+    D2+   A1+   A1+        A2+    A2+         B1+   B1+      B2+    B2+
  C   TDI    TMS   INSELC INSELB  VCC ULCD  ULCC   GND  DATA  DATA  DATA   DATA  GND   NC    SPD   VCC  LDTD  TRST    LPEND   TDO
                                                         [7]    [5]   [3]    [1]            SELD         EN
  D  TCLK   RESET INSELD INSELA   VCC ULCA   SPD   GND  DATA  DATA  DATA   DATA  GND LPENB  ULCB   VCC LPENA LTEN1     SCAN  TMEN3
                                            SELC         [6]    [4]   [2]    [0]                                        EN2
  E   VCC    VCC     VCC    VCC                                                                         VCC    VCC     VCC    VCC
  F   RX      RX      TX    NC                                                                           NC     RX       TX    RX
     DC[6]   DC[7]  DC[0]                                                                                     STB[1] CLKOB STB[0]
  G    TX   WREN      TX     TX                                                                          SPD    LP      SPD    RX
     DC[7]          DC[4]  DC[1]                                                                        SELB   ENC     SELA   DB[1]
  H  GND     GND    GND    GND                                                                          GND   GND      GND    GND
  J    TX     TX      TX     TX                                                                          RX     RX      RX     RX
     CTC[1]  DC[5]  DC[2]  DC[3]                                                                       STB[2] DB[0]    DB[5]  DB[2]
  K   RX     REF      TX     TX                                                                          RX     RX      RX    LFIB
     DC[2]  CLKC– CTC[0]   CLKC                                                                         DB[3] DB[4]    DB[7]
  L   RX     REF     LFIC    TX                                                                          RX     RX      RX     TX
     DC[3]  CLKC+          DC[6]                                                                        DB[6] CLKB+ CLKB–     DB[6]
 M    RX      RX      NC     TX                                                                          REF   REF       TX    TX
     DC[4]   DC[5]         ERRC                                                                        CLKB+ CLKB–     ERRB   CLKB
  N  GND     GND    GND    GND                                                                          GND   GND      GND    GND
  P   RX      RX      RX    RX                                                                            TX    TX       TX    TX
     DC[1]   DC[0]  STC[0] STC[1]                                                                       DB[5] DB[4]    DB[3]  DB[2]
  R   RX      TX      RX    RX                                                                            TX    TX       TX    TX
     STC[2] CLKOC CLKC+ CLKC–                                                                           DB[1] DB[0]   CTB[1]  DB[7]
  T   VCC    VCC     VCC    VCC                                                                         VCC    VCC     VCC    VCC
  U    TX     TX      TX     TX   VCC  RX    RX    GND   TX   ADDR   REF    TX   GND   TX     TX   VCC   RX     TX      RX     RX
     DD[0]   DD[1]  DD[2]  CTD[1]     DD[2] DD[1]      CTA[1]   [0] CLKD–  DA[1]      DA[4] CTA[0]      DA[2] CTB[0]  STA[2] STA[1]
  V    TX     TX      TX    RX    VCC  RX    RX    GND   RX   ADDR   REF    TX   GND   TX     TX   VCC   RX     RX      RX     RX
     DD[3]   DD[4]  CTD[0] DD[6]      DD[3] STD[0]     STD[2]   [2] CLKD+ CLKOA       DA[3] DA[7]       DA[7] DA[3]    DA[0] STA[0]
 W     TX     TX     LFID   RX    VCC  RX    RX    GND ADDR   ADDR   RX     TX   GND   TX     TX   VCC  LFIA   REF      RX     RX
     DD[5]   DD[7]         CLKD–      DD[4] STD[1]       [3]    [1] CLKA+ ERRA        DA[2] DA[6]             CLKA+    DA[4]  DA[1]
  Y    TX     TX      RX    RX    VCC  RX    RX    GND   TX    NC    TX     RX   GND   TX     TX   VCC    TX   REF      RX     RX
     DD[6]   CLKD   DD[7]  CLKD+      DD[5] DD[0]      CLKOD        CLKA  CLKA–       DA[0] DA[5]      ERRD   CLKA–    DA[6]  DA[5]
Document #: 38-02065 Rev. *J                                                                                         Page 8 of 49


                                                                                                 CYP15G0403DXB
Pin Configuration (Bottom View)
       20     19     18    17    16   15     14    13   12    11    10     9     8    7      6    5    4      3       2      1
  A   OUT      IN   OUT     IN   VCC  OUT     IN  GND  OUT     IN   OUT    IN   GND  OUT     IN  VCC  OUT     IN     OUT     IN
       B2–    B2–    B1–   B1–        A2–    A2–        A1–   A1–   D2–   D2–        D1–    D1–       C2–    C2–     C1–    C1–
  B   OUT      IN   OUT     IN   VCC  OUT     IN  GND  OUT     IN   OUT    IN   GND  OUT     IN  VCC  OUT     IN     OUT     IN
       B2+    B2+   B1+    B1+        A2+   A2+        A1+    A1+   D2+   D2+        D1+    D1+       C2+     2+     C1+    C1+
  C   TDO     LP   TRST   LDTD   VCC  SPD    NC   GND  DATA  DATA  DATA   DATA  GND ULCC   ULCD  VCC   IN     IN     TMS    TDI
             END            EN       SELD                [1]   [3]   [5]   [7]                       SELB   SELC
  D  TMEN3  SCAN   LTEN1    LP   VCC ULCB    LP   GND  DATA  DATA  DATA   DATA  GND  SPD   ULCA  VCC   IN     IN    RESET  TCLK
             EN2           ENA              ENB          [0]   [2]   [4]   [6]      SELC             SELA   SELD
  E   VCC    VCC    VCC    VCC                                                                        VCC    VCC     VCC    VCC
  F    RX     TX     RX     NC                                                                        NC      TX      RX     Rx
     STB[0] CLKOB STB[1]                                                                                    DC[0]    DC[7] DC[6]
  G    RX    SPD     LP    SPD                                                                         TX     TX    WREN     TX
      DB[1]  SELA   ENC   SELB                                                                       DC[1]  DC[4]          DC[7]
  H   GND    GND   GND    GND                                                                        GND    GND      GND   GND
  J    RX     RX     RX     RX                                                                         TX     TX      TX     TX
      DB[2]  DB[5]  DB[0] STB[2]                                                                     DC[3]  DC[2]    DC[5] CTC[1]
  K   LFIB    RX     RX     RX                                                                         TX     TX     REF    RX
             DB[7]  DB[4] DB[3]                                                                      CLKC   CTC[0] CLKC–   DC[2]
  L    TX     RX     RX     RX                                                                         TX    LFIC    REF    RX
      DB[6] CLKB– CLKB+   DB[6]                                                                      DC[6]          CLKC+  DC[3]
 M     TX     TX    REF    REF                                                                         TX     NC      RX    RX
      CLKB  ERRB   CLKB– CLKB+                                                                       ERRC            DC[5] DC[4]
  N   GND    GND   GND    GND                                                                        GND    GND      GND   GND
  P    TX     TX     TX     TX                                                                        RX      RX      RX    RX
      DB[2]  DB[3]  DB[4] DB[5]                                                                      STC[1] STC[0]   DC[0] DC[1]
  R    TX     TX     TX     TX                                                                        RX      RX      TX    RX
      DB[7] CTB[1]  DB[0] DB[1]                                                                      CLKC– CLKC+ CLKOC STC[2]
  T   VCC    VCC    VCC    VCC                                                                        VCC    VCC     VCC    VCC
  U    RX     RX     TX     RX   VCC   TX    TX   GND   TX    REF  ADDR   TXC   GND   RX    RX   VCC   TX     TX      TX     TX
     STA[1] STA[2] CTB[0] DA[2]      CTA[0] DA[4]      DA[1] CLKD–   [0]  TA[1]     DD[1]  DD[2]     CTD[1] DD[2]    DD[1] DD[0]
  V    RX     RX     RX     RX   VCC   TX    TX   GND   TX    REF  ADDR    RX   GND   RX    RX   VCC  RX      TX      TX     TX
     STA[0]  DA[0]  DA[3] DA[7]      DA[7]  DA[3]     CLKOA CLKD+    [2] STD[2]     STD[0] DD[3]     DD[6]  CTD[0]   DD[4] DD[3]
 W     RX     RX    REF    LFIA  VCC   TX    TX   GND   TX    RX   ADDR  ADDR   GND   RX    RX   VCC  RX     LFID     TX     TX
      DA[1]  DA[4] CLKA+             DA[6]  DA[2]     ERRA   CLKA+   [1]   [3]      STD[1] DD[4]     CLKD–           DD[7] DD[5]
  Y    RX     RX    REF     TX   VCC   TX    TX   GND   RX     TX   NC     TX   GND   RX    RX   VCC  RX      RX      TX     TX
      DA[5]  DA[6] CLKA–  ERRD       DA[5]  DA[0]     CLKA–  CLKA        CLKOD      DD[0]  DD[5]     CLKD+  DD[7]   CLKD   DD[6]
Document #: 38-02065 Rev. *J                                                                                       Page 9 of 49


                                                                                                                                   CYP15G0403DXB
Pin Descriptions
CYP15G0403DXB Quad HOTLink II Transceiver
 Name                    I/O Characteristics           Signal Description
 Transmit Path Data and Status Signals
TXDA[7:0]              LVTTL Input,                   Transmit Data Inputs. TXDx[7:0] data inputs are captured on the rising edge of the
TXDB[7:0]              synchronous,                   transmit interface clock. The transmit interface clock is selected by the TXCKSELx
TXDC[7:0]              sampled by the                 latch via the device configuration interface, and passed to the encoder or Transmit
TXDD[7:0]              associated                     Shifter. When the Encoder is enabled, TXDx[7:0] specifies the specific data or
                       TXCLKx↑ or                     command character sent.
                       REFCLKx↑[1]
TXCTA[1:0]             LVTTL Input,                   Transmit Control. TXCTx[1:0] inputs are captured on the rising edge of the transmit
TXCTB[1:0]             synchronous,                   interface clock. The transmit interface clock is selected by the TXCKSELx latch via
TXCTC[1:0]             sampled by the                 the device configuration interface, and passed to the Encoder or Transmit Shifter.
TXCTD[1:0]             associated                     The TXCTA[1:0] inputs identify how the associated TXDx[7:0] characters are inter-
                       TXCLKx↑ or                     preted. When the Encoder is bypassed, these inputs are interpreted as data bits.
                       REFCLKx↑ [1]                   When the Encoder is enabled, these inputs determine if the TXDx[7:0] character is
                                                      encoded as Data, a Special Character code, or replaced with other Special
                                                      Character codes. See Table 3 on page 16 for details.
TXERRA                 LVTTL Output,                  Transmit Path Error. TXERRx is asserted HIGH to indicate detection of a transmit
TXERRB                 synchronous to                 Phase-Align Buffer underflow or overflow. If an underflow or overflow condition is
TXERRC                 REFCLKx↑ [2],                  detected, TXERRx, for the channel in error, is asserted HIGH and remains asserted
TXERRD                 synchronous to                 until either a Word Sync Sequence is transmitted on that channel, or the transmit
                       RXCLKx when                    Phase-Align Buffer is re-centered with the PABRSTx latch via the device configu-
                       selected as                    ration interface. When TXBISTx = 0, the BIST progress is presented on the
                       REFCLKx,                       associated TXERRx output. The TXERRx signal pulses HIGH for one
                       asynchronous to                transmit-character clock period to indicate a pass through the BIST sequence once
                       transmit channel               every 511 or 527 (depending on RXCKSELx) character times. If RXCKSELx = 1, a
                       enable / disable,              one character pulse occurs every 527 character times. If RXCKSELx = 0, a one
                       asynchronous to loss           character pulse occurs every 511 character times.
                       or return of                   TXERRx is also asserted HIGH, when any of the following conditions is true:
                       REFCLKx±
                                                      ■  The TXPLL for the associated channel is powered down. This occurs when OE2x
                                                         and OE1x for a given channel are both disabled by setting OE2x = 0 and OE1x = 0.
                                                      ■  The absence of the REFCLKx± signal
 Transmit Path Clock Signals
REFCLKA±               Differential LVPECL            Reference Clock. REFCLKx± clock inputs are used as the timing references for the
REFCLKB±               or single-ended                transmit and receive PLLs. These input clocks may also be selected to clock the
REFCLKC±               LVTTL input clock              transmit and receive parallel interfaces. When driven by a single-ended LVCMOS
REFCLKD±                                              or LVTTL clock source, connect the clock source to either the true or complement
                                                      REFCLKx input, and leave the alternate REFCLKx input open (floating). When
                                                      driven by an LVPECL clock source, the clock must be a differential clock, using both
                                                      inputs.
TXCLKA                 LVTTL Clock Input,             Transmit Path Input Clock. When configuration latch TXCKSELx = 0, the
TXCLKB                 internal pull-down             associated TXCLKx input is selected as the character-rate input clock for the
TXCLKC                                                TXDx[7:0] and TXCTx[1:0] inputs. In this mode, the TXCLKx input must be
TXCLKD                                                frequency-coherent to its associated TXCLKOx output clock, but may be offset in
                                                      phase by any amount. Once initialized, TXCLKx is allowed to drift in phase as much
                                                      as ±180 degrees. If the input phase of TXCLKx drifts beyond the handling capacity
                                                      of the Phase Align Buffer, TXERRx is asserted to indicate the loss of data, and
                                                      remains asserted until the Phase Align Buffer is initialized. The phase of the TXCLKx
                                                      input clock relative to its associated REFCLKx± is initialized when the configuration
                                                      latch PABRSTx is written as 0. When the associated TXERRx is deasserted, the
                                                      Phase Align Buffer is initialized and input characters are correctly captured.
Notes
 1. When REFCLKx± is configured for half-rate operation, these inputs are sampled relative to both the rising and falling edges of the associated REFCLKx±.
 2. When REFCLKx± is configured for half-rate operation, these outputs are presented relative to both the rising and falling edges of the associated REFCLKx±.
Document #: 38-02065 Rev. *J                                                                                                                          Page 10 of 49


                                                                                                        CYP15G0403DXB
  Pin Descriptions (continued)
  CYP15G0403DXB Quad HOTLink II Transceiver
   Name                I/O Characteristics   Signal Description
  TXCLKOA             LVTTL Output         Transmit Clock Output. TXCLKOx output clock is synthesized by each channel’s
  TXCLKOB                                  transmit PLL and operates synchronous to the internal transmit character clock.
  TXCLKOC                                  TXCLKOx operates at either the same frequency as REFCLKx± (TXRATEx = 0), or
  TXCLKOD                                  at twice the frequency of REFCLKx± (TXRATEx = 1). The transmit clock outputs
                                           have no fixed phase relationship to REFCLKx±.
   Receive Path Data and Status Signals
  RXDA[7:0]           LVTTL Output,        Parallel Data Output. RXDx[7:0] parallel data outputs change relative to the receive
  RXDB[7:0]           synchronous to the   interface clock. The receive interface clock is selected by the RXCKSELx latch. If
  RXDC[7:0]           selected RXCLK±      RXCLKx± is a full-rate clock, the RXCLKx± clock outputs are complementary clocks
  RXDD[7:0]           output or REFCLKx±   operating at the character rate. The RXDx[7:0] outputs for the associated receive
                      input                channels follow rising edge of RXCLKx+ or falling edge of RXCLKx–. If RXCLKx±
                                           is a half-rate clock, the RXCLKx± clock outputs are complementary clocks operating
                                           at half the character rate. The RXDx[7:0] outputs for the associated receive
                                           channels follow both the falling and rising edges of the associated RXCLKx± clock
                                           outputs.
  RXSTA[2:0]          LVTTL Output,        Parallel Status Output. RXSTA[2:0] status outputs change relative to the receive
  RXSTB[2:0]          synchronous to the   interface clock. The receive interface clock is selected by the RXCKSELx latch. If
  RXSTC[2:0]          selected RXCLK±      RXCLKx± is a full-rate clock, the RXCLKx± clock outputs are complementary clocks
  RXSTD[2:0]          output or REFCLKx±   operating at the character rate. The RXSTAx[2:0] outputs for the associated receive
                      input                channels follow rising edge of RXCLKx+ or falling edge of RXCLKx–. If RXCLKx±
                                           is a half-rate clock, the RXCLKx± clock outputs are complementary clocks operating
                                           at half the character rate. The RXSTAx[2:0] outputs for the associated receive
                                           channels follow both the falling and rising edges of the associated RXCLKx± clock
                                           outputs. When the decoder is bypassed, RXSTx[1:0] become the two low-order bits
                                           of the 10-bit received character. RXSTx[2] = HIGH indicates the presence of a
                                           Comma character in the Output Register. When the decoder is enabled, RXSTx[2:0]
                                           provide status of the received signal. See Table 11 on page 28 for a list of received
                                           character status.
   Receive Path Clock Signals
  RXCLKA±             LVTTL Output Clock   Receive Clock Output. RXCLKx± is the receive interface clock used to control
  RXCLKB±                                  timing of the RXDx[7:0] and RXSTA[2:0] parallel outputs. The source of the
  RXCLKC±                                  RXCLKx± outputs is selected by the RXCKSELx latch via the device configuration
  RXCLKD±                                  interface. These true and complement clocks are used to control timing of data
                                           output transfers. These clocks are output continuously at either the dual-character
                                           rate (1/20th the serial bit-rate) or character rate (1/10th the serial bit-rate) of the data
                                           being received, as selected by RXRATEx. When configured such that the output
                                           data path is clocked by the REFCLKx± instead of a recovered clock, the RXCLKx±
                                           output drivers present a buffered or divided form (depending on RXRATEx) of the
                                           associated REFCLKx± that are delayed in phase to align with the data. This phase
                                           difference allows the user to select the optimal clock (REFCLKx± or RXCLK±) for
                                           setup/hold timing for their specific system.
                                           When REFCLKx± is a full-rate clock, the RXCLKx± rate depends on the value of
                                           RXRATEx.
                                           When REFCLKx± is a half-rate clock and RXCKSELx = 0, the RXCLKx± rate
                                           depends on the value of RXRATEx.
                                           When REFCLKx± is a half-rate clock and RXCKSELx=1, the RXCLKx± rate does
                                           not depend on the value of RXRATEx and operates at the same rate as REFCLKx±.
Document #: 38-02065 Rev. *J                                                                                              Page 11 of 49


                                                                                                                                     CYP15G0403DXB
Pin Descriptions (continued)
CYP15G0403DXB Quad HOTLink II Transceiver
 Name                        I/O Characteristics             Signal Description
 Device Control Signals
RESET                      LVTTL Input,                    Asynchronous Device Reset. RESET initializes all state machines, counters, and
                           asynchronous,                   configuration latches in the device to a known state. RESET must be asserted LOW
                           internal pull-up                for a minimum pulse width. When the reset is removed, all state machines, counters
                                                           and configuration latches are at an initial state. As per the JTAG specifications the
                                                           device RESET cannot reset the JTAG controller. Therefore, the JTAG controller has
                                                           to be reset separately. Refer to “JTAG Support” on page 27 for the methods to reset
                                                           the JTAG state machine. See Table 9 on page 22 for the initialize values of the
                                                           device configuration latches.
LDTDEN                     LVTTL Input,                    Level Detect Transition Density Enable. When LDTDEN is HIGH, the Signal Level
                           internal pull-up                Detector, Range Controller, and Transition Density Detector are all enabled to
                                                           determine if the RXPLL tracks REFCLKx± or the selected input serial data stream.
                                                           If the Signal Level Detector, Range Controller, or Transition Density Detector are out
                                                           of their respective limits while LDTDEN is HIGH, the RXPLL locks to REFCLK± until
                                                           such a time they become valid. The (SDASEL[A..D][1:0]) are used to configure the
                                                           trip level of the Signal Level Detector. The Transition Density Detector limit is one
                                                           transition in every 60 consecutive bits. When LDTDEN is LOW, only the Range
                                                           Controller is used to determine if the RXPLL tracks REFCLKx± or the selected input
                                                           serial data stream. For the cases when RXCKSELx = 0 (recovered clock), it is
                                                           recommended to set LDTDEN = HIGH.
ULCA                       LVTTL Input,                    Use Local Clock. When ULCx is LOW, the RXPLL is forced to lock to REFCLKx±
ULCB                       internal pull-up                instead of the received serial data stream. While ULCx is LOW, the LFIx for the
ULCC                                                       associated channel is LOW indicating a link fault.
ULCD                                                       When ULCx is HIGH, the RXPLL performs Clock and Data Recovery functions on
                                                           the input data streams. This function is used in applications in which a stable
                                                           RXCLKx± is needed. In cases when there is an absence of valid data transitions for
                                                           a long period of time, or the high-gain differential serial inputs (INx±) are left floating,
                                                           there may be brief frequency excursions of the RXCLKx± outputs from REFCLKx±.
SPDSELA                    3-Level Select[3]               Serial Rate Select. The SPDSELx inputs specify the operating signaling-rate range
SPDSELB                    static control input            of each channel’s transmit and receive PLL.
SPDSELC                                                    LOW = 195 – 400 MBaud
SPDSELD
                                                           MID = 400 – 800 MBaud
                                                           HIGH = 800 – 1500 MBaud
INSELA                     LVTTL Input,                    Receive Input Selector. The INSELx input determines which external serial bit
INSELB                     asynchronous                    stream is passed to the receiver’s Clock and Data Recovery circuit. When INSELx
INSELC                                                     is HIGH, the Primary Differential Serial Data Input, INx1±, is selected for the
INSELD                                                     associated receive channel. When INSELx is LOW, the Secondary Differential
                                                           Serial Data Input, INx2±, is selected for the associated receive channel.
LPENA                      LVTTL Input,                    Loop-Back-Enable. The LPENx input enables the internal serial loop-back for the
LPENB                      asynchronous,                   associated channel. When LPENx is HIGH, the transmit serial data from the
LPENC                      internal pull-down              associated channel is internally routed to the associated receive Clock and Data
LPEND                                                      Recovery (CDR) circuit. All enabled serial drivers on the channel are forced to differ-
                                                           ential logic-1, and the serial data inputs are ignored. When LPENx is LOW, the
                                                           internal serial loop-back function is disabled.
Note
 3. 3-Level Select inputs are used for static configuration. These are ternary inputs that make use of logic levels of LOW, MID, and HIGH. The LOW level is usually
    implemented by direct connection to VSS (ground). The HIGH level is usually implemented by direct connection to VCC (power). The MID level is usually
    implemented by not connecting the input (left floating), which allows it to self bias to the proper level.
Document #: 38-02065 Rev. *J                                                                                                                          Page 12 of 49


                                                                                                                                CYP15G0403DXB
  Pin Descriptions (continued)
  CYP15G0403DXB Quad HOTLink II Transceiver
   Name                      I/O Characteristics          Signal Description
  LFIA                     LVTTL Output,                 Link Fault Indication Output. LFIx is an output status indicator signal. LFIx is the
  LFIB                     asynchronous                  logical OR of six internal conditions. LFIx is asserted LOW when any of the following
  LFIC                                                   conditions is true:
  LFID                                                   ■ Received serial data rate outside expected range
                                                         ■ Analog amplitude below expected levels
                                                         ■ Transition density lower than expected
                                                         ■ Receive channel disabled
                                                         ■ ULCx is LOW
                                                         ■ Absence of REFCLKx±.
   Device Configuration and Control Bus Signals
  WREN                     LVTTL input,                  Control Write Enable. The WREN input writes the values of the DATA[7:0] bus into
                           asynchronous,                 the latch specified by the address location on the ADDR[3:0] bus.[4]
                           internal pull-up
  ADDR[3:0]                LVTTL input                   Control Addressing Bus. The ADDR[3:0] bus is the input address bus used to
                           asynchronous,                 configure the device. The WREN input writes the values of the DATA[7:0] bus into
                           internal pull-up              the latch specified by the address location on the ADDR[3:0] bus.[4] Table 9 on page
                                                         22 lists the configuration latches within the device, and the initialization value of the
                                                         latches upon the assertion of RESET. Table 10 on page 27 shows how the latches
                                                         are mapped in the device.
  DATA[7:0]                LVTTL input                   Control Data Bus. The DATA[7:0] bus is the input data bus used to configure the
                           asynchronous,                 device. The WREN input writes the values of the DATA[7:0] bus into the latch
                           internal pull-up              specified by address location on the ADDR[3:0] bus.[4 ] Table 9 lists the configuration
                                                         latches within the device, and the initialization value of the latches upon the
                                                         assertion of RESET. Table 10 shows how the latches are mapped in the device.
   Internal Device Configuration Latches
  RFMODE[A..D][1:0] Internal Latch[5]                    Reframe Mode Select.
  FRAMCHAR[A..D]           Internal  Latch[5]            Framing Character Select.
  DECMODE[A..D]            Internal  Latch[5]            Receiver Decoder Mode Select.
  DECBYP[A..D]             Internal  Latch[5]            Receiver Decoder Bypass.
  RXCKSEL[A..D]            Internal  Latch[5]            Receive Clock Select.
  RXRATE[A..D]             Internal  Latch[5]            Receive Clock Rate Select.
  SDASEL[A..D][1:0] Internal         Latch[5]            Signal Detect Amplitude Select.
  ENCBYP[A..D]             Internal  Latch[5]            Transmit Encoder Bypassed.
                                             [5]
  TXCKSEL[A..D]            Internal Latch                Transmit Clock Select.
  TXRATE[A..D]             Internal  Latch[5]            Transmit PLL Clock Rate Select.
  RFEN[A..D]               Internal  Latch[5]            Reframe Enable.
                                             [5]
  RXPLLPD[A..D]            Internal Latch                Receive Channel Power Control.
  RXBIST[A..D]             Internal  Latch[5]            Receive Bist Disabled.
  TXBIST[A..D]             Internal  Latch[5]            Transmit Bist Disabled.
  OE2[A..D]                Internal  Latch[5]            Differential Serial Output Driver 2 Enable.
  OE1[A..D]                Internal  Latch[5]            Differential Serial Output Driver 1 Enable.
  Notes
   4. See “Device Configuration and Control Interface” on page 22 for detailed information on the operation of the Configuration Interface.
   5. See “Device Configuration and Control Interface” on page 22 for detailed information on the internal latches.
Document #: 38-02065 Rev. *J                                                                                                                Page 13 of 49


                                                                                                      CYP15G0403DXB
Pin Descriptions (continued)
CYP15G0403DXB Quad HOTLink II Transceiver
 Name               I/O Characteristics  Signal Description
                                  [5]
PABRST[A..D]       Internal Latch       Transmit Clock Phase Alignment Buffer Reset.
                                  [5]
GLEN[11..0]        Internal Latch       Global Latch Enable.
                                  [5]
FGLEN[2..0]        Internal Latch       Force Global Latch Enable.
Factory Test Modes
LTEN1              LVTTL input,         Factory Test 1. LTEN1 input is for factory testing only. This input may be left as a
                   internal pull-down   NO CONNECT, or GND only.
SCANEN2            LVTTL input,         Factory Test 2. SCANEN2 input is for factory testing only. This input may be left as
                   internal pull-down   a NO CONNECT, or GND only.
TMEN3              LVTTL input,         Factory Test 3. TMEN3 input is for factory testing only. This input may be left as a
                   internal pull-down   NO CONNECT, or GND only.
 Analog I/O
OUTA1±             CML Differential     Primary Differential Serial Data Output. The OUTx1± PECL-compatible CML
OUTB1±             Output               outputs (+3.3V referenced) are capable of driving terminated transmission lines or
OUTC1±                                  standard fiber-optic transmitter modules, and must be AC-coupled for
OUTD1±                                  PECL-compatible connections.
OUTA2±             CML Differential     Secondary Differential Serial Data Output. The OUTx2± PECL-compatible CML
OUTB2±             Output               outputs (+3.3V referenced) are capable of driving terminated transmission lines or
OUTC2±                                  standard fiber-optic transmitter modules, and must be AC-coupled for PECL-compatible
OUTD2±                                  connections.
INA1±              Differential Input   Primary Differential Serial Data Input. The INx1± input accepts the serial data
INB1±                                   stream for deserialization and decoding. The INx1± serial stream is passed to the
INC1±                                   receive CDR circuit to extract the data content when INSELx = HIGH.
IND1±
INA2±              Differential Input   Secondary Differential Serial Data Input. The INx2± input accepts the serial data
INB2±                                   stream for deserialization and decoding. The INx2± serial stream is passed to the
INC2±                                   receiver CDR circuit to extract the data content when INSELx = LOW.
IND2±
 JTAG Interface
TMS                LVTTL Input,         Test Mode Select. Used to control access to the JTAG Test Modes. If maintained
                   internal pull-up     high for ≥5 TCLK cycles, the JTAG test controller is reset.
TCLK               LVTTL Input,         JTAG Test Clock.
                   internal pull-down
TDO                3-State LVTTL Output Test Data Out. JTAG data output buffer. High-Z while JTAG test mode is not
                                        selected.
TDI                LVTTL Input,         Test Data In. JTAG data input port.
                   internal pull-up
TRST               LVTTL Input,         JTAG reset signal. When asserted (LOW), this input asynchronously resets the
                   internal pull-up     JTAG test access port controller.
 Power
VCC                                     +3.3V Power.
GND                                     Signal and Power Ground for all internal circuits.
Document #: 38-02065 Rev. *J                                                                                          Page 14 of 49


                                                                                                            CYP15G0403DXB
CYP15G0403DXB HOTLink II Operation                                   If the phase offset, between the initialized location of the input
                                                                     clock and REFCLKx¦, exceeds the skew handling capabilities of
The CYP15G0403DXB is a highly configurable, independent              the Phase-Align Buffer, an error is reported on that channel’s
clocking, quad-channel transceiver designed to support reliable      TXERRx output. This output indicates an error continuously until
transfer of large quantities of data, using high-speed serial links  the Phase-Align Buffer for that channel is reset. While the error
from multiple sources to multiple destinations. This device          remains active, the transmitter for that channel outputs a
supports four single-byte channels.                                  continuous C0.7 character to indicate to the remote receiver that
                                                                     an error condition is present in the link.
CYP15G0403DXB Transmit Data Path                                     Each Phase-Align Buffer may be individually reset with minimal
Input Register                                                       disruption of the serial data stream. When a Phase-Align Buffer
                                                                     error is present, the transmission of a Word Sync Sequence
The bits in the Input Register for each channel support different    re-centers the Phase-Align Buffer and clears the error indication.
assignments, based on if the input data is encoded or
unencoded. These assignments are shown in Table 1.                   Note. K28.5 characters may be added or removed from the data
                                                                     stream during the Phase Align Buffer reset operation. When
When the ENCODER is enabled, each input register captures            used with non-Cypress devices that require a complete
eight data bits and two control bits on each input clock cycle.      16-character Word Sync Sequence for proper receive Elasticity
When the Encoder is bypassed, the control bits are part of the       Buffer Operation, it is recommend that the Phase Alignment
pre-encoded 10-bit character.                                        Buffer reset be followed by a Word Sync Sequence to ensure
When the Encoder is enabled, the TXCTx[1:0] bits are inter-          proper operation.
preted along with the associated TXDx[7:0] character to
generate a specific 10-bit transmission character.                   Encoder
                                                                     Each character received from the Input Register or Phase-Align
Phase-Align Buffer                                                   Buffer is passed to the Encoder logic. This block interprets each
Data from each Input Register is passed to the associated            character and any associated control bits, and outputs a 10-bit
Phase-Align Buffer, when the TXDx[7:0] and TXCTx[1:0] input          transmission character.
registers are clocked using TXCLKx¦ (TXCKSELx = 0 and                Depending on the operational mode, the generated transmission
TXRATEx = 0). When the TXDx[7:0] and TXCTx[1:0] input                character may be
registers are clocked using REFCLKx± (TXCKSELx = 1) and
REFCLKx± is a full-rate clock, the associated Phase Alignment        ■  the 10-bit pre-encoded character accepted in the Input
Buffer in the transmit path is bypassed. These buffers are used         Register.
to absorb clock phase differences between the TXCLKx input           ■  the 10-bit equivalent of the 8-bit Data character accepted in the
clock and the internal character clock for that channel.                Input Register.
Once initialized, TXCLKx is allowed to drift in phase as much as
                                                                     ■  the 10-bit equivalent of the 8-bit Special Character code
±180 degrees. If the input phase of TXCLKx drifts beyond the
handling capacity of the Phase Align Buffer, TXERRx is asserted         accepted in the Input Register.
to indicate the loss of data, and remains asserted until the Phase   ■  the 10-bit equivalent of the C0.7 violation character if a
Align Buffer is initialized. The phase of the TXCLKx relative to its    Phase-Align Buffer overflow or underflow error is present.
associated internal character rate clock is initialized when the
configuration latch PABRSTx is written as 0. When the                ■  a character that is part of the 511-character BIST sequence.
associated TXERRx is deasserted, the Phase Align Buffer is           ■  a K28.5 character generated as an individual character or as
initialized and input characters are correctly captured.                part of the 16-character Word Sync Sequence.
Table 1. Input Register Bit Assignments[6]
                                                                     Data Encoding
       Signal Name              Unencoded           Encoded          Raw data, as received directly from the Transmit Input Register,
      TXDx[0] (LSB)               DINx[0]            TXDx[0]         is seldom in a form suitable for transmission across a serial link.
                                                                     The characters must usually be processed or transformed to
          TXDx[1]                 DINx[1]            TXDx[1]
                                                                     guarantee
          TXDx[2]                 DINx[2]            TXDx[2]
                                                                     ■  a minimum transition density (to allow the receive PLL to extract
          TXDx[3]                 DINx[3]            TXDx[3]            a clock from the serial data stream).
          TXDx[4]                 DINx[4]            TXDx[4]
                                                                     ■  a DC-balance in the signaling (to prevent baseline wander).
          TXDx[5]                 DINx[5]            TXDx[5]
                                                                     ■  run-length limits in the serial data (to limit the bandwidth require-
          TXDx[6]                 DINx[6]            TXDx[6]            ments of the serial link).
          TXDx[7]                 DINx[7]            TXDx[7]
                                                                     ■  the remote receiver a way of determining the correct character
         TXCTx[0]                 DINx[8]           TXCTx[0]            boundaries (framing).
     TXCTx[1] (MSB)               DINx[9]           TXCTx[1]
Note
 6. LSB shifted out first.
Document #: 38-02065 Rev. *J                                                                                                  Page 15 of 49


                                                                                                          CYP15G0403DXB
When the Encoder is enabled (ENCBYPx = 1), the characters           When the encoder is enabled, the TXCTx[1:0] data control bits
transmitted are converted from Data or Special Character codes      control the interpretation of the TXDx[7:0] bits and the characters
to 10-bit transmission characters, using an integrated 8B/10B       generated by them. These bits are interpreted as listed in
encoder. When directed to encode the character as a Special         Table 3.
Character code, the encoder uses the Special Character              Table 3. Transmit Modes
encoding rules listed in Table 16 on page 46. When directed to
encode the character as a Data character, it is encoded using the     TXCTx[1]       TXCTx[0]          Characters Generated
Data Character encoding rules in Table 15 on page 42.                     0             0       Encoded data character
The 8B/10B encoder is standards compliant with ANSI/NCITS                 0             1       K28.5 fill character
ASC X3.230-1994 Fibre Channel, IEEE 802.3z Gigabit Ethernet,
the IBM® ESCON® and FICON™ channels, ETSI DVB-ASI, and                    1             0       Special character code
ATM Forum standards for data transport.                                   1             1       16-character Word Sync Sequence
Many of the Special Character codes listed in Table 16 may be
generated by more than one input character. The                     Word Sync Sequence
CYP15G0403DXB is designed to support two independent (but           When TXCTx[1:0] = 11, a 16-character sequence of K28.5
non-overlapping) Special Character code tables. This allows the     characters, known as a Word Sync Sequence, is generated on
CYP15G0403DXB to operate in mixed environments with other           the associated channel. This sequence of K28.5 characters may
Cypress HOTLink devices using the enhanced Cypress                  start with either a positive or negative disparity K28.5 (as deter-
command code set, and the reduced command sets of other             mined by the current running disparity and the 8B/10B coding
non-Cypress devices. Even when used in an environment that          rules). The disparity of the second and third K28.5 characters in
normally uses non-Cypress Special Character codes, the              this sequence are reversed from what normal 8B/10B coding
selective use of Cypress command codes can permit operation         rules would generate. The remaining K28.5 characters in the
where running disparity and error handling must be managed.         sequence follow all 8B/10B coding rules. The disparity of the
Following conversion of each input character from eight bits to a   generated K28.5 characters in this sequence follow a pattern of
10-bit transmission character, it is passed to the Transmit Shifter either ++––+–+–+–+–+–+– or ––++–+–+–+–+–+–+.
and is shifted out LSB first, as required by ANSI and IEEE          The generation of this sequence, once started, cannot be
standards for 8B/10B coded serial data streams.                     stopped until all 16 characters have been sent. The content of
                                                                    the associated input registers are ignored for the duration of this
Transmit Modes                                                      sequence. At the end of this sequence, if the TXCTx[1:0] = 11
Encoder Bypass                                                      condition is sampled again, the sequence restarts and remains
                                                                    uninterruptible for the following 15 character clocks.
When the Encoder is bypassed, the character captured from the
TXDx[7:0] and TXCTx[1:0] input register is passed directly to the   Transmit BIST
transmit shifter without modification. With the encoder bypassed,
the TXCTx[1:0] inputs are considered part of the data character     Each transmit channel contains an internal pattern generator that
and do not perform a control function that would otherwise          can be used to validate both the link and device operation. These
modify the interpretation of the TXDx[7:0] bits. The bit usage and  generators are enabled by the associated TXBISTx latch via the
mapping of these control bits when the Encoder is bypassed is       device configuration interface. When enabled, a register in the
shown in Table 2.                                                   associated transmit channel becomes a signature pattern
                                                                    generator by logically converting to a Linear Feedback Shift
Table 2. Encoder Bypass Mode                                        Register (LFSR). This LFSR generates a 511-character (or
                                                                    526-character) sequence that includes all Data and Special
    Signal Name           Bus Weight             10B Name
                                                                    Character codes, including the explicit violation symbols. This
   TXDx[0] (LSB)                20                   a[6]           provides a predictable yet pseudo-random sequence that can be
       TXDx[1]                  21                    b             matched to an identical LFSR in the attached Receiver(s).
       TXDx[2]                  22                    c             A device reset (RESET sampled LOW) presets the BIST Enable
                                                                    Latches to disable BIST on all channels.
       TXDx[3]                  23                    d
                                                                    All data and data-control information present at the associated
       TXDx[4]                  24                    e             TXDx[7:0] and TXCTx[1:0] inputs are ignored when BIST is
       TXDx[5]                  25                    i             active on that channel. If the receive channels are configured for
                                                                    reference clock operation, each pass is preceded by a
       TXDx[6]                  26                    f
                                                                    16-character Word Sync Sequence to allow Elasticity Buffer
       TXDx[7]                  27                    g             alignment and management of clock-frequency variations.
      TXCTx[0]                  28                    h
                                                                    Transmit PLL Clock Multiplier
  TXCTx[1] (MSB)                29                    j
                                                                    Each Transmit PLL Clock Multiplier accepts a character-rate or
                                                                    half-character-rate external clock at the associated REFCLKx±
                                                                    input, and that clock is multiplied by 10 or 20 (as selected by
                                                                    TXRATEx) to generate a bit-rate clock for use by the transmit
                                                                    shifter. It also provides a character-rate clock used by the
Document #: 38-02065 Rev. *J                                                                                              Page 16 of 49


                                                                                                        CYP15G0403DXB
transmit paths, and outputs this character rate clock as           internal logic for that channel is also powered down. A device
TXCLKOx.                                                           reset (RESET sampled LOW) disables all output drivers.
Each clock multiplier PLL can accept a REFCLKx± input              Note. When a disabled transmit channel (i.e., both outputs
between 19.5 MHz and 150 MHz, however, this clock range is         disabled) is re-enabled:
limited by the operating mode of the CYP15G0403DXB clock
                                                                   ■ data on the serial outputs may not meet all timing specifications
multiplier (TXRATEx) and by the level on the associated
SPDSELx input.                                                       for up to 250 μs
SPDSELx are 3-level select[3] inputs that select one of three      ■ the state of the phase-align buffer cannot be guaranteed, and
operating ranges for the serial data outputs and inputs of the       a phase-align reset is required if the phase-align buffer is used
associated channel. The operating serial signaling-rate and
allowable range of REFCLKx± frequencies are listed in Table 4.     CYP15G0403DXB Receive Data Path
Table 4. Operating Speed Settings                                  Serial Line Receivers
                               REFCLKx±                            Two differential Line Receivers, INx1± and INx2±, are available
                                               Signaling Rate      on each channel for accepting serial data streams. The active
  SPDSELx        TXRATE        Frequency          (MBaud)
                                  (MHz)                            Serial Line Receiver on a channel is selected using the
     LOW             1          reserved          195–400          associated INSELx input. The Serial Line Receiver inputs are
                                                                   differential, and can accommodate wire interconnect and filtering
                     0          19.5–40                            losses or transmission line attenuation greater than 16 dB. For
 MID (Open)         1            20–40            400–800          normal operation, these inputs should receive a signal of at least
                                                                   VIDIFF > 100 mV, or 200 mV peak-to-peak differential. Each Line
                     0           40–80
                                                                   Receiver can be DC- or AC-coupled to +3.3V powered fiber-optic
     HIGH           1            40–75           800–1500          interface modules (any ECL/PECL family, not limited to 100K
                     0           80–150                            PECL) or AC-coupled to +5V powered optical modules. The
                                                                   common-mode tolerance of these line receivers accommodates
The REFCLKx± inputs are differential inputs with each input        a wide range of signal termination voltages. Each receiver
internally biased to 1.4V. If the REFCLKx+ input is connected to   provides internal DC-restoration, to the center of the receiver’s
a TTL, LVTTL, or LVCMOS clock source, the input signal is          common mode range, for AC-coupled signals.
recognized when it passes through the internally biased            The local internal loopback (LPENx) allows the serial transmit
reference point. When driven by a single-ended TTL, LVTTL, or      data outputs to be routed internally back to the Clock and Data
LVCMOS clock source, connect the clock source to either the        Recovery circuit associated with each channel. When configured
true or complement REFCLKx input, and leave the alternate          for local loopback, the associated transmit serial driver outputs
REFCLKx input open (floating).                                     are forced to output a differential logic-1. This prevents local
When both the REFCLKx+ and REFCLKx– inputs are                     diagnostic patterns from being broadcast to attached remote
connected, the clock source must be a differential clock. This can receivers.
either be a differential LVPECL clock that is DC-or AC-coupled
or a differential LVTTL or LVCMOS clock.                           Signal Detect/Link Fault
By connecting the REFCLKx– input to an external voltage            Each selected Line Receiver (i.e., that routed to the clock and
source, it is possible to adjust the reference point of the        data recovery PLL) is simultaneously monitored for
REFCLKx+ input for alternate logic levels. When doing so it is     ■ analog amplitude above amplitude level selected by SDASELx
necessary to ensure that the input differential crossing point
remains within the parametric range supported by the input.        ■ transition density above the specified limit
                                                                   ■ range controls report the received data stream inside normal
Serial Output Drivers                                                frequency range (±1500 ppm[27])
The serial output interface drivers use differential Current Mode  ■ receive channel enabled
Logic (CML) drivers to provide source-matched drivers for trans-
mission lines. These drivers accept data from the Transmit         ■ Presence of reference clock
Shifters. These drivers have signal swings equivalent to that of   ■ ULCx is not asserted.
standard PECL drivers, and are capable of driving AC-coupled
optical modules or transmission lines. When configured for local   All of these conditions must be valid for the Signal Detect block
loopback (LPENx = HIGH), all enabled serial drivers are            to indicate a valid signal is present. This status is presented on
configured to drive a static differential logic.                   the LFIx (Link Fault Indicator) output associated with each
                                                                   receive channel, which changes synchronous to the selected
Transmit Channels Enabled                                          receive interface clock.
Each driver can be enabled or disabled separately via the device   Analog Amplitude
configuration interface.
                                                                   While most signal monitors are based on fixed constants, the
When a driver is disabled via the configuration interface, it is   analog amplitude level detection is adjustable to allow operation
internally powered down to reduce device power. If both serial     with highly attenuated signals, or in high-noise environments.
drivers for a channel are in this disabled state, the associated   The analog amplitude level detection is set by the SDASELx
Document #: 38-02065 Rev. *J                                                                                             Page 17 of 49


                                                                                                                                         CYP15G0403DXB
latch via device configuration interface. The SDASELx latch sets                          Receive Channel Enabled
the trip point for the detection of a valid signal at one of three                        The CYP15G0403DXB contains four receive channels that can
levels, as listed in Table 5. This control input affects the analog                       be independently enabled and disabled. Each channel can be
monitors for all receive channels.                                                        enabled or disabled separately through the RXPLLPDx input
Table 5. Analog Amplitude Detect Valid Signal Levels[7]                                   latch as controlled by the device configuration interface. When
                                                                                          the RXPLLPDx latch = 0, the associated PLL and analog circuitry
 SDASEL Typical Signal with Peak Amplitudes Above                                         of the channel is disabled. Any disabled channel indicates a
      00       Analog Signal Detector is disabled                                         constant link fault condition on the LFIx output. When
                                                                                          RXPLLPDx = 1, the associated PLL and receive channel is
      01       140 mV p-p differential                                                    enabled to receive and decode a serial stream.
      10       280 mV p-p differential                                                    Note. When a disabled receive channel is reenabled, the status
       11      420 mV p-p differential                                                    of the associated LFIx output and data on the parallel outputs for
                                                                                          the associated channel may be indeterminate for up to 2 ms.
The Analog Signal Detect monitors are active for the Line
Receiver as selected by the associated INSELx input. When                                 Clock/Data Recovery
configured for local loopback, no input receivers are selected,                           The extraction of a bit-rate clock and recovery of bits from each
and the LFIx output for each channel reports only the receive                             received serial stream is performed by a separate CDR block
VCO frequency out-of-range and transition density status of the                           within each receive channel. The clock extraction function is
associated transmit signal. When local loopback is active, the                            performed by an integrated PLL that tracks the frequency of the
associated Analog Signal Detect Monitor is disabled.                                      transitions in the incoming bit stream and align the phase of the
                                                                                          internal bit-rate clock to the transitions in the selected serial data
Transition Density                                                                        stream.
The Transition Detection logic checks for the absence of transi-                          Each CDR accepts a character-rate (bit-rate ÷ 10) or
tions spanning greater than six transmission characters (60 bits).                        half-character-rate (bit-rate ÷ 20) reference clock from the
If no transitions are present in the data received, the Detection                         associated REFCLKx± input. This REFCLKx± input is used to
logic for that channel asserts LFIx.
                                                                                          ■  ensure that the VCO (within the CDR) is operating at the correct
Range Controls                                                                               frequency (rather than a harmonic of the bit-rate)
The CDR circuit includes logic to monitor the frequency of the                            ■  reduce PLL acquisition time
PLL Voltage Controlled Oscillator (VCO) used to sample the
incoming data stream. This logic ensures that the VCO operates                            ■  limit unlocked frequency excursions of the CDR VCO when
at, or near the rate of the incoming data stream for two primary                             there is no input data present at the selected Serial Line
cases:                                                                                       Receiver.
■  when the incoming data stream resumes after a time in which                            Regardless of the type of signal present, the CDR attempts to
   it has been “missing.”                                                                 recover a data stream from it. If the signalling rate of the
                                                                                          recovered data stream is outside the limits set by the range
■  when the incoming data stream is outside the acceptable                                control monitors, the CDR tracks REFCLKx± instead of the data
   signaling rate range.                                                                  stream. Once the CDR output (RXCLK±) frequency returns back
To perform this function, the frequency of the RXPLL VCO is                               close to REFCLKx± frequency, the CDR input is switched back
periodically compared to the frequency of the REFCLKx± input.                             to the input data stream. If no data is present at the selected line
If the VCO is running at a frequency beyond ±1500 ppm[27] as                              receiver, this switching behavior may result in brief RXCLK±
defined by the REFCLKx± frequency, it is periodically forced to                           frequency excursions from REFCLKx±. However, the validity of
the correct frequency (as defined by REFCLKx±, SPDSELx, and                               the input data stream is indicated by the LFIx output. The
TXRATEx) and then released in an attempt to lock to the input                             frequency of REFCLKx± is required to be within ±1500 ppm[27]
data stream.                                                                              of the frequency of the clock that drives the REFCLKx± input of
                                                                                          the remote transmitter to ensure a lock to the incoming data
The sampling and relock period of the Range Control is calcu-                             stream.
lated as follows: RANGE_CONTROL_ SAMPLING_PERIOD =
(RECOVERED BYTE CLOCK PERIOD) * (4096).                                                   For systems using multiple or redundant connections, the LFIx
                                                                                          output can be used to select an alternate data stream. When an
During the time that the Range Control forces the RXPLL VCO                               LFIx indication is detected, external logic can toggle selection of
to track REFCLKx±, the LFIx output is asserted LOW. After a                               the associated INx1± and INx2± input through the associated
valid serial data stream is applied, it may take up to one RANGE                          INSELx input. When a port switch takes place, it is necessary for
CONTROL SAMPLING PERIOD before the PLL locks to the                                       the receive PLL for that channel to reacquire the new serial
input data stream, after which LFIx should be HIGH.                                       stream and frame to the incoming character boundaries.
 Note
  7. The peak amplitudes listed in this table are for typical waveforms that have generally 3–4 transitions for every ten bits. In a worse case environment the signals
      may have a sine-wave appearance (highest transition density with repeating 0101...). Signal peak amplitudes levels within this environment type could increase
      the values in the table above by approximately 100 mV.
Document #: 38-02065 Rev. *J                                                                                                                               Page 18 of 49


                                                                                                                                          CYP15G0403DXB
Deserializer/Framer                                                                        makes the associated link much more robust to incorrect framing
                                                                                           due to aliased SYNC characters in the data stream. In this mode,
Each CDR circuit extracts bits from the associated serial data
                                                                                           the framer does not adjust the character clock boundary, but
stream and clocks these bits into the Shifter/Framer at the
                                                                                           instead aligns the character to the already recovered character
bit-clock rate. When enabled, the Framer examines the data
                                                                                           clock. This ensures that the recovered clock does not contain
stream looking for one or more COMMA or K28.5 characters at
                                                                                           any significant phase changes or hops during normal operation
all possible bit positions. The location of this character in the data
                                                                                           or framing, and allows the recovered clock to be replicated and
stream is used to determine the character boundaries of all
                                                                                           distributed to other external circuits or components using
following characters.
                                                                                           PLL-based clock distribution elements. In this framing mode the
Framing Character                                                                          character boundaries are only adjusted if the selected framing
                                                                                           character is detected at least twice within a span of 50 bits, with
The CYP15G0403DXB allows selection of different framing                                    both instances on identical 10-bit character boundaries.
characters on each channel. Two combinations of framing
characters are supported to meet the requirements of different                             When RFMODEx[1:0] = 01, the Alternate-mode Multi-Byte
interfaces. The selection of the framing character is made                                 Framer is enabled. Like the Cypress-mode Multi-Byte Framer,
through the FRAMCHARx latches via the configuration interface.                             multiple framing characters must be detected before the
                                                                                           character boundary is adjusted. In this mode, the data stream
The specific bit combinations of these framing characters are                              must contain a minimum of four of the selected framing
listed in Table 6. When the specific bit combination of the                                characters, received as consecutive characters, on identical
selected framing character is detected by the framer, the bound-                           10-bit boundaries, before character framing is adjusted.
aries of the characters present in the received data stream are
known.                                                                                     10B/8B Decoder Block
Table 6. Framing Character Selector                                                        The decoder logic block performs two primary functions:
                                                                                           ■  decoding the received transmission characters to Data and
                                     Bits detected in framer
   FRAMCHARx                                                                                  Special Character codes
                            Character Name                Bits Detected
                                                                                           ■  comparing generated BIST patterns with received characters
            0                    COMMA+                   00111110XX[8]                       to permit at-speed link and device testing.
                                 COMMA–                  or 11000001XX
                                                                                           The framed parallel output of each deserializer shifter is passed
            1                     –K28.5                  0011111010 or                    to its associated 10B/8B Decoder where, if the decoder is
                                  +K28.5                   1100000101                      enabled, the input data is transformed from a 10-bit transmission
                                                                                           character back to the original Data or Special Character code.
Framer                                                                                     This block uses the 10B/8B decoder patterns in Table 15 on page
The framer on each channel operates in one of three different                              42 and Table 16 on page 46. Received Special Code characters
modes. Each framer may be enabled or disabled using the                                    are decoded using Table 16. Valid data characters are indicated
RFENx latches via the configuration interface. When the framer                             by a 000b bit-combination on the associated RXSTx[2:0] status
is disabled (RFENx = 0), no combination of received bits alters                            bits, and Special Character codes are indicated by a 001b
the frame information.                                                                     bit-combination of these status outputs. Framing characters,
                                                                                           Invalid patterns, disparity errors, and synchronization status are
When the Low-Latency framer is selected (RFMODEx[1:0] = 00),                               presented as alternate combinations of these status bits.
the framer operates by stretching the recovered character clock
until it aligns with the received character boundaries. In this                            When DECBYPx = 0, the 10B/8B decoder is bypassed via the
mode the framer starts its alignment process on the first                                  configuration interface. When bypassed, raw 10-bit characters
detection of the selected framing character. To reduce the impact                          are passed through the receiver and presented at the RXDx[7:0]
on external circuits that use the recovered clock, the clock period                        and the RXSTA[1:0] outputs as 10-bit wide characters.
is not stretched by more than two bit-periods in any one clock                             When the decoder is enabled by setting DECBYPx = 1 via the
cycle. When operated with a character-rate output clock, the                               configuration interface, the 10-bit transmission characters are
output of properly framed characters may be delayed by up to                               decoded using Table 15 and Table 16. Received Special
nine character-clock cycles from the detection of the selected                             characters are decoded using Table 16. The columns used in
framing character. When operated with a half-character-rate                                Table 16 are determined by the DECMODEx latch via the device
output clock, the output of properly framed characters may be                              configuration interface. When DECMODEx = 0 the ALTERNATE
delayed by up to 14 character-clock cycles from the detection of                           table is used and when DECMODEx = 1 the CYPRESS table is
the framing character.                                                                     used.
Note. When Receive BIST is enabled on a channel, the
Low-Latency Framer must not be enabled. The BIST sequence                                  Receive BIST Operation
contains an aliased K28.5 framing character, which causes the                              The receiver channel contains an internal pattern checker that
Receiver to update its character boundaries incorrectly.                                   can be used to validate both device and link operation. These
When RFMODEx[1:0] = 10, the Cypress-Mode Multi-Byte framer                                 pattern checkers are enabled by the associated RXBISTx latch
is selected. The required detection of multiple framing characters                         via the device configuration interface. When enabled, a register
Note
  8. The standard definition of a Comma contains only seven bits. However, since all valid Comma characters within the 8B/10B character set also have the eighth
     bit as an inversion of the seventh bit, the compare pattern is extended to a full eight bits to reduce the possibility of a framing error.
Document #: 38-02065 Rev. *J                                                                                                                         Page 19 of 49


                                                                                                          CYP15G0403DXB
in the associated receive channel becomes a signature pattern       frequency and phase from the Elasticity Buffer write clock, or to
generator and checker by logically converting to a Linear           be read using a clock that is frequency coherent but with uncon-
Feedback Shift Register (LFSR). This LFSR generates a               trolled phase relative to the Elasticity Buffer write clock.
511-character or 526-character sequence that includes all Data      If the chip is configured for operation with a recovered clock, the
and Special Character codes, including the explicit violation       Elasticity Buffer is bypassed.
symbols. This provides a predictable yet pseudo-random
sequence that can be matched to an identical LFSR in the            Each Elasticity Buffer is 10 characters deep, and supports and
attached Transmitter(s). When synchronized with the received        an 11 bit wide data path. It is capable of supporting a decoded
data stream, the associated Receiver checks each character in       character and three status bits for each character present in the
the Decoder with each character generated by the LFSR and           buffer. The write clock for these buffers is always the recovered
indicates compare errors and BIST status at the RXSTx[2:0] bits     clock for the associated read channel.
of the Output Register.
                                                                    Receive Modes
When BIST is first recognized as being enabled in the Receiver,
the LFSR is preset to the BIST-loop start-code of D0.0. This code   When the receive channel is clocked by REFCLKx±, the
D0.0 is sent only once per BIST loop. The status of the BIST        RXCLKx± outputs present a buffered or divided (depending on
progress and any character mismatches are presented on the          RXRATEx) and delayed form of REFCLKx±. In this mode, the
RXSTx[2:0] status outputs.                                          receive Elasticity Buffers are enabled. For REFCLKx± clocking,
                                                                    the Elasticity Buffers must be able to insert K28.5 characters and
Code rule violations or running disparity errors that occur as part delete framing characters as appropriate.
of the BIST loop do not cause an error indication. RXSTx[2:0]
indicates 010b or 100b for one character period per BIST loop to    The insertion of a K28.5 or deletion of a framing character can
indicate loop completion. This status can be used to check test     occur at any time on any channel, however, the actual timing of
pattern progress. These same status values are presented when       these insertions and deletions is controlled in part by how the
the decoder is bypassed and BIST is enabled on a receive            transmitter sends its data. Insertion of a K28.5 character can only
channel.                                                            occur when the receiver has a framing character in the Elasticity
                                                                    Buffer. Likewise, to delete a framing character, one must also be
The specific status reported by the BIST state machine are listed   in the Elasticity Buffer. To prevent a buffer overflow or underflow
in Table 11 on page 28. These same codes are reported on the        on a receive channel, a minimum density of framing characters
receive status outputs.                                             must be present in the received data streams.
The specific patterns checked by each receiver are described in     When the receive channel Output Register is clocked by a
detail in the Cypress application note “HOTLink Built-In            recovered clock, no characters are added or deleted and the
Self-Test.” The sequence compared by the CYP15G0403DXB is           receiver Elasticity Buffer is bypassed.
identical to that in the CY7B933, CY7C924DX, and
CYP15G0401DXB, allowing interoperable systems to be built           Power Control
when used at compatible serial signaling rates.
                                                                    The CYP15G0403DXB supports user control of the powered up
If the number of invalid characters received ever exceeds the       or down state of each transmit and receive channel. The receive
number of valid characters by 16, the receive BIST state            channels are controlled by the RXPLLPDx latch via the device
machine aborts the compare operations and resets the LFSR to        configuration interface. When RXPLLPDx = 0, the associated
the D0.0 state to look for the start of the BIST sequence again.    PLL and analog circuitry of the channel is disabled. The transmit
When the receive paths are configured for REFCLKx± operation,       channels are controlled by the OE1x and the OE2x latches via
each pass must be preceded by a 16-character Word Sync              the device configuration interface. When a driver is disabled via
Sequence to allow management of clock frequency variations.         the configuration interface, it is internally powered down to
                                                                    reduce device power. If both serial drivers for a channel are in
The receive BIST state machine requires the characters to be        this disabled state, the associated internal logic for that channel
correctly framed for it to detect the BIST sequence. If the Low     is also powered down.
Latency Framer is enabled, the Framer misaligns to an aliased
SYNC character within the BIST sequence. If the Alternate           Device Reset State
Multi-Byte Framer is enabled and the Receiver outputs are
clocked relative to a recovered clock, it is generally necessary to When the CYP15G0403DXB is reset by assertion of RESET, all
frame the receiver before BIST is enabled. If the receive outputs   state machines, counters, and configuration latches in the device
are clocked relative to REFCLKx±, the transmitter precedes          are initialized to a reset state, and the Elasticity Buffer pointers
every 511 character BIST sequence with a 16                         are set to a nominal offset. Additionally, the JTAG controller must
character-character Word Sync Sequence.                             also be reset to ensure valid operation (even if JTAG testing is
                                                                    not performed). See “JTAG Support” on page 27 for JTAG state
A device reset (RESET sampled LOW) presets the BIST Enable          machine initialization. See Table 9 on page 22 for the initialize
Latches to disable BIST on all channels.                            values of the configuration latches.
Receive Elasticity Buffer                                           Following a device reset, it is necessary to enable the transmit
                                                                    and receive channels used for normal operation. This can be
Each receive channel contains an Elasticity Buffer that is          done by sequencing the appropriate values on the device config-
designed to support multiple clocking modes. These buffers          uration interface.[4]
allow data to be read using a clock that is asynchronous in both
Document #: 38-02065 Rev. *J                                                                                              Page 20 of 49


                                                                                                        CYP15G0403DXB
Output Bus                                                         proper character boundary, and LOW for all other bit combina-
                                                                   tions.
Each receive channel presents an 11-signal output bus              When the low-latency framer and half-rate receive port clocking
consisting of                                                      are also enabled, the framer stretches the recovered clock to the
■  an 8-bit data bus                                               nearest 20-bit boundary such that the rising edge of RXCLKx+
                                                                   occurs when COMDETx is present on the associated output bus.
■  a 3-bit status bus.
                                                                   When the Cypress or Alternate Mode Framer is enabled and
The signals present on this output bus are modified by the         half-rate receive port clocking is also enabled, the output clock
present operating mode of the CYP15G0403DXB as selected by         is not modified when framing is detected, but a single pipeline
the DECBYPx configuration latch. This mapping is shown in          stage may be added or subtracted from the data stream by the
Table 7.                                                           framer logic such that the rising edge of RXCLKx+ occurs when
                                                                   COMDETx is present on the associated output bus.
Table 7. Output Register Bit Assignments
                                                                   This adjustment only occurs when the framer is enabled. When
                       BYPASS ACTIVE            DECODER            the framer is disabled, the clock boundaries are not adjusted,
   Signal Name          (DECBYPx = 0)         (DECBYP = 1)         and COMDETx may be asserted during the rising edge of
 RXSTx[2] (LSB)           COMDETx                RXSTx[2]          RXCLKx– (if an odd number of characters were received
                                                                   following the initial framing).
     RXSTx[1]             DOUTx[0]               RXSTx[1]
     RXSTx[0]             DOUTx[1]               RXSTx[0]          Receive Status Bits
      RXDx[0]             DOUTx[2]                RXDx[0]          When the 10B/8B decoder is enabled, each character presented
                                                                   at the Output Register includes three associated status bits.
      RXDx[1]             DOUTx[3]                RXDx[1]
                                                                   These bits are used to identify
      RXDx[2]             DOUTx[4]                RXDx[2]
                                                                   ■  if the contents of the data bus are valid,
      RXDx[3]             DOUTx[5]                RXDx[3]
                                                                   ■  the type of character present,
      RXDx[4]             DOUTx[6]                RXDx[4]
      RXDx[5]             DOUTx[7]                RXDx[5]          ■  the state of receive BIST operations,
      RXDx[6]             DOUTx[8]                RXDx[6]          ■  character violations.
  RXDx[7] (MSB)           DOUTx[9]                RXDx[7]          These conditions often overlap; e.g. a valid data character
                                                                   received with incorrect running disparity is not reported as a valid
When the 10B/8B decoder is bypassed, the framed 10-bit value       data character. It is instead reported as a decoder violation of
is presented to the associated Output Register, along with a       some specific type. This implies a hierarchy or priority level to the
status output signal indicating if the character in the Output     various status bit combinations. The hierarchy and value of each
Register is one of the selected framing characters. The bit usage  status are listed in Table 11.
and mapping of the external signals to the raw 10B transmission    A second status mapping, listed in Table 11, is used when the
character is shown in Table 8.                                     receive channel is configured for BIST operation. This status is
Table 8. Decoder Bypass Mode                                       used to report receive BIST status and progress.
    Signal Name            Bus Weight          10 Bit Name         BIST Status State Machine
   RXSTx[2] (LSB)          COMDETx                                 When a receive path is enabled to look for and compare the
                                                                   received data stream with the BIST pattern, the RXSTx[2:0] bits
      RXSTx[1]                 20                     a            identify the present state of the BIST compare operation.
      RXSTx[0]                 21                     b            The BIST state machine has multiple states, as shown in
       RXDx[0]                 22                     c            Figure 2 and Table 11. When the receive PLL detects an
       RXDx[1]                 23                     d            out-of-lock condition, the BIST state is forced to the Start-of-BIST
                                                                   state, regardless of the present state of the BIST state machine.
       RXDx[2]                 24                     e            If the number of detected errors ever exceeds the number of
       RXDx[3]                 25                      i           valid matches by greater than 16, the state machine is forced to
                                                                   the WAIT_FOR_BIST state where it monitors the receive path for
       RXDx[4]                 26                      f           the first character of the next BIST sequence (D0.0). Also, if the
       RXDx[5]                 27                     g            Elasticity Buffer ever hits an overflow/underflow condition, the
       RXDx[6]                 28                     h            status is forced to the BIST_START until the buffer is re-centered
                                                                   (approximately nine character periods).
   RXDx[7] (MSB)               29                      j
                                                                   To ensure compatibility between the source and destination
The COMDETx status output operates the same regardless of          systems when operating in BIST modes, the sending and
the bit combination selected for character framing by the          receiving ends of the link must use the same receive clock
FRAMCHARx latch. COMDETx is HIGH when the character in             configuration.
the output register contains the selected framing character at the
Document #: 38-02065 Rev. *J                                                                                             Page 21 of 49


                                                                                                               CYP15G0403DXB
Device Configuration and Control Interface                              for the associated global channel, FGLENx forces the global
                                                                        update of the target latch banks.
The CYP15G0403DXB is highly configurable via the configu-
ration interface. The configuration interface allows the device to      Mask Function
be configured globally or allows each channel to be configured
independently. Table 9 lists the configuration latches within the       An additional latch bank (15) is used as a global mask vector to
device including the initialization value of the latches upon the       control the update of the configuration latch banks on a bit-by-bit
assertion of RESET. Table 10 on page 27 shows how the latches           basis. A logic 1 in a bit location allows for the update of that same
are mapped in the device. Each row in the Table 10 maps to a            location of the target latch bank(s), whereas a logic 0 disables it.
8-bit latch bank. There are 16 such write-only latch banks. When        The reset value of this latch bank is FFh, thereby making its use
WREN = 0, the logic value in the DATA[7:0] is latched to the latch      optional by default. The mask latch bank is not maskable. The
bank specified by the values in ADDR[3:0]. The second column            FGLEN functionality is not affected by the bit 0 value of the mask
of Table 10 specifies the channels associated with the corre-           latch bank.
sponding latch bank. For example, the first three latch banks (0,1
                                                                        Latch Types
and 2) consist of configuration bits for channel A. The latch banks
12, 13 and 14 consist of Global configuration bits and the last         There are two types of latch banks: static (S) and dynamic (D).
latch bank (15) is the Mask latch bank that can be configured to        Each channel is configured by 2 static and 1 dynamic latch
perform bit-by-bit configuration.                                       banks. The S type contain those settings that normally do not
                                                                        change for a given application, whereas the D type controls the
Global Enable Function                                                  settings that could change dynamically during the application's
The global enable function, controlled by the GLENx bits, is a          lifetime.The first row of latches for each channel (address
feature that can be used to reduce the number of write opera-           numbers 0, 3, 7, and 10) are the static receiver control latches.
tions needed to setup the latch banks. This function is beneficial      The second row of latches for each channel (address numbers
in systems that use a common configuration in multiple                  1, 4, 8, and 11) are the static transmitter control latches. The third
channels. The GLENx bit is present in bit 0 of latch banks 0            row of latches for each channel (address numbers 2, 5, 9, and
through 11 only. Its default value (1) enables the global update        12) are the dynamic control latches that are associated with
of the latch bank's contents. Setting the GLENx bit to 0 disables       enabling dynamic functions within the device.
this functionality.                                                     Latch Bank 14 is also useful for those users that do not need the
Latch Banks 12, 13, and 14 are used to load values in the related       latch-based programmable feature of the device. This latch bank
latch banks in a global manner. A write operation to latch bank         could be used in those applications that do not need to modify
12 could do a global write to latch banks 0, 3, 6, and 9 depending      the default value of the static latch banks, and that can afford a
on the value of GLENx in these latch banks; latch bank 13 could         global (i.e., not independent) control of the dynamic signals. In
do a global write to latch banks 1, 4, 7 and 10; and latch banks        this case, this feature becomes available when ADDR[3:0] is left
14 could do a global write to latch banks 2, 5, 8 and 11. The           unchanged with a value of “1110” and WREN is left asserted. The
GLENx bit cannot be modified by a global write operation.               signals present in DATA[7:0] effectively become global control
                                                                        pins, and for the latch banks 2, 5, 8 and 11.
Force Global Enable Function
FGLENx forces the global update of the target latch banks, but
does not change the contents of the GLENx bits. If FGLENx = 1
Table 9. Device Configuration and Control Latch Descriptions
  Name                 Signal Description
 RFMODEA[1:0]        Reframe Mode Select. The initialization value of the RFMODEx [1:0] latches = 10. RFMODEx is used to
 RFMODEB[1:0]        select the operating mode of the framer. When RFMODEx[1:0] = 00, the low-latency framer is selected. This
 RFMODEC[1:0]        frames on each occurrence of the selected framing character(s) in the received data stream. This mode of
 RFMODED[1:0]        framing stretches the recovered clock for one or multiple cycles to align that clock with the recovered data.
                     When RFMODEx[1:0] = 01, the alternate mode Multi-Byte parallel framer is selected. This requires detection
                     of the selected framing character(s) in the received serial bit stream, on identical 10-bit boundaries, on four
                     directly adjacent characters. The recovered character clock remains in the same phasing regardless of
                     character offset. When RFMODEx[1:0] =10, the Cypress-mode Multi-Byte parallel framer is selected. This
                     requires a pair of the selected framing character(s), on identical 10-bit boundaries, within a span of 50 bits,
                     before the character boundaries are adjusted. The recovered character clock remains in the same phasing
                     regardless of character offset. RFMODEx[1:0] = 11 is reserved for test.
 FRAMCHARA           Framing Character Select. The initialization value of the FRAMCHARx latch = 1. FRAMCHARx is used to
 FRAMCHARB           select the character or portion of a character used for framing of each channel’s received data stream. When
 FRAMCHARC           FRAMCHARx = 1, the framer looks for either disparity of the K28.5 character. When FRAMCHARx = 0, the
 FRAMCHARD           framer looks for either disparity of the 8-bit Comma characters. The specific bit combinations of these framing
                     characters are listed in Table 6 on page 19.
Document #: 38-02065 Rev. *J                                                                                                    Page 22 of 49


                                                                                                        CYP15G0403DXB
Table 9. Device Configuration and Control Latch Descriptions (continued)
 Name             Signal Description
DECMODEA         Receiver Decoder Mode Select. The initialization value of the DECMODEx latch = 1. DECMODEx selects
DECMODEB         the Decoder Mode used for the associated channel. When DECMODEx = 1 and decoder is enabled, the
DECMODEC         Cypress Decoding Mode is used. When DECMODEx = 0 and decoder is enabled, the Alternate Decoding
DECMODED         mode is used. When the decoder is enabled (DECBYPx = 1), the 10-bit transmission characters are decoded
                 using Table 15 on page 42 and Table 16 on page 46. The column used in the Special Characters Table 16 is
                 determined by the DECMODEx latch.
DECBYPA          Receiver Decoder Bypass. The initialization value of the DECBYPx latch = 1. DECBYPx selects if the
DECBYPB          Receiver Decoder is enabled or bypassed. When DECBYPx = 1, the decoder is enabled and the Decoder
DECBYPC          Mode is selected by DECMODEx. When DECBYPx = 0, the decoder is bypassed and raw 10-bit characters
DECBYPD          are passed through the receiver.
RXCKSELA         Receive Clock Select. The initialization value of the RXCKSELx latch = 1. RXCKSELx selects the receive
RXCKSELB         clock source used to transfer data to the Output Registers and the clock source for the RXCLK± output. When
RXCKSELC         RXCKSELx = 1, the associated Output Registers, are clocked by REFCLKx± at the associated RXCLKx±
RXCKSELD         output buffer. When RXCKSELx = 0, the associated Output Registers, are clocked by the Recovered Byte
                 clock at the associated RXCLKx± output buffer. These output clocks may operate at the character-rate or half
                 the character-rate as selected by RXRATEx.
RXRATEA          Receive Clock Rate Select. The initialization value of the RXRATEx latch = 1. RXRATEx is used to select
RXRATEB          the rate of the RXCLKx± clock output.
RXRATEC          When RXRATEx = 1 and RXCKSELx = 0, the RXCLKx± clock outputs are complementary clocks that follow
RXRATED          the recovered clock operating at half the character rate. Data for the associated receive channels should be
                 latched alternately on the rising edge of RXCLKx+ and RXCLKx–.
                 When RXRATEx = 0 and RXCKSELx = 0, the RXCLKx± clock outputs are complementary clocks that follow
                 the recovered clock operating at the character rate. Data for the associated receive channels should be latched
                 on the rising edge of RXCLKx+ or falling edge of RXCLKx–.
                 When RXRATEx = 1 with RXCKSELx = 1 and REFCLKx± is a full-rate clock, the RXCLKx± clock outputs are
                 complementary clocks that follow the reference clock operating at half the character rate. Data for the
                 associated receive channels should be latched alternately on the rising edge of RXCLKx+ and RXCLKx–.
                 When RXRATEx = 0 with RXCKSELx = 1 and REFCLKx± is a full-rate clock, the RXCLKx± clock outputs are
                 complementary clocks that follow the reference clock operating at the character rate. Data for the associated
                 receive channels should be latched on the rising edge of RXCLKx+ or falling edge of RXCLKx–.
                 When RXCKSELx = 1 and REFCLKx± is a half-rate clock, the value of RXRATEx is not interpreted and the
                 RXCLKx± clock outputs are complementary clocks that follow the reference clock operating at half the
                 character rate. Data for the associated receive channels should be latched alternately on the rising edge of
                 RXCLKx+ and RXCLKx–.
SDASEL1A[1:0]    Primary Serial Data Input Signal Detector Amplitude Select. The initialization value of the SDASEL1x[1:0]
SDASEL1B[1:0]    latch = 10. SDASEL1x[1:0] selects the trip point for the detection of a valid signal for the INx1± Primary
SDASEL1C[1:0]    Differential Serial Data Inputs.
SDASEL1D[1:0]    When SDASEL1x[1:0] = 00, the Analog Signal Detector is disabled.
                 When SDASEL1x[1:0] = 01, the typical p-p differential voltage threshold level is 140 mV.
                 When SDASEL1x[1:0] = 10, the typical p-p differential voltage threshold level is 280 mV.
                 When SDASEL1x[1:0] = 11, the typical p-p differential voltage threshold level is 420 mV.
SDASEL2A[1:0]    Secondary Serial Data Input Signal Detector Amplitude Select. The initialization value of the
SDASEL2B[1:0]    SDASEL2x[1:0] latch = 10. SDASEL2x[1:0] selects the trip point for the detection of a valid signal for the INx2±
SDASEL2C[1:0]    Secondary Differential Serial Data Inputs.
SDASEL2D[1:0]    When SDASEL2x[1:0] = 00, the Analog Signal Detector is disabled
                 When SDASEL2x[1:0] = 01, the typical p-p differential voltage threshold level is 140 mV.
                 When SDASEL2x[1:0] = 10, the typical p-p differential voltage threshold level is 280 mV.
                 When SDASEL2x[1:0] = 11, the typical p-p differential voltage threshold level is 420 mV.
ENCBYPA          Transmit Encoder Bypassed. The initialization value of the ENCBYPx latch = 1. ENCBYPx selects if the
ENCBYPB          Transmit Encoder is enabled or bypassed. When ENCBYPx = 1, the Transmit encoder is enabled. When
ENCBYPC          ENCBYPx = 0, the Transmit Encoder is bypassed and raw 10-bit characters are transmitted.
ENCBYPD
Document #: 38-02065 Rev. *J                                                                                             Page 23 of 49


                                                                                                        CYP15G0403DXB
Table 9. Device Configuration and Control Latch Descriptions (continued)
 Name              Signal Description
TXCKSELA         Transmit Clock Select. The initialization value of the TXCKSELx latch = 1. TXCKSELx selects the clock
TXCKSELB         source used to write data into the Transmit Input Register. When TXCKSELx = 1, the associated input register,
TXCKSELC         TXDx[7:0] and TXCTx[1:0], is clocked by REFCLKx↑. In this mode, the phase alignment buffer in the transmit
TXCKSELD         path is bypassed. When TXCKSELx = 0, the associated TXCLKx↑ is used to clock in the input registers,
                 TXDx[7:0] and TXCTx[1:0].
TXRATEA          Transmit PLL Clock Rate Select. The initialization value of the TXRATEx latch = 0. TXRATEx is used to
TXRATEB          select the clock multiplier for the Transmit PLL. When TXRATEx = 0, each transmit PLL multiples the
TXRATEC          associated REFCLKx± input by 10 to generate the serial bit-rate clock. When TXRATEx = 0, the TXCLKOx
TXRATED          output clocks are full-rate clocks and follow the frequency and duty cycle of the associated REFCLKx± input.
                 When TXRATEx = 1, each Transmit PLL multiplies the associated REFCLKx± input by 20 to generate the
                 serial bit-rate clock. When TXRATEx = 1, the TXCLKOx output clocks are twice the frequency rate of the
                 REFCLKx± input. When TXCKSELx = 1 and TXRATEx = 1, the Transmit Data Inputs are captured using both
                 the rising and falling edges of REFCLKx. TXRATEx = 1 and SPDSELx is LOW, is an invalid state and this
                 combination is reserved.
RFENA            Reframe Enable. The initialization value of the RFENx latch = 1. RFENx selects if the receiver framer is
RFENB            enabled or disabled. When RFENx = 1, the associated channel’s framer is enabled to frame per the presently
RFENC            enabled framing mode and selected framing character. When RFENx = 0, the associated channel’s framer is
RFEND            disabled, and no received bits alters the frame offset.
RXPLLPDA         Receive Channel Enable. The initialization value of the RXPLLPDx latch = 0. RXPLLPDx selects if the
RXPLLPDB         associated receive channel is enabled or powered-down. When RXPLLPDx = 0, the associated PLL and
RXPLLPDC         analog circuitry is powered-down. When RXPLLPDx = 1, the associated PLL and analog circuitry is enabled.
RXPLLPDD
RXBISTA          Receive Bist Disabled. The initialization value of the RXBISTx latch = 1. RXBISTx selects if receive BIST is
RXBISTB          disabled or enabled. When RXBISTx = 1, the receiver BIST function is disabled. When RXBISTx = 0, the
RXBISTC          receive BIST function is enabled.
RXBISTD
TXBISTA          Transmit Bist Disabled. The initialization value of the TXBISTx latch = 1. TXBISTx selects if the transmit
TXBISTB          BIST is disabled or enabled. When TXBISTx = 1, the transmit BIST function is disabled. When TXBISTx = 0,
TXBISTC          the transmit BIST function is enabled.
TXBISTD
OE2A             Secondary Differential Serial Data Output Driver Enable. The initialization value of the OE2x latch = 0.
OE2B             OE2x selects if the OUT2± secondary differential output drivers are enabled or disabled. When OE2x = 1, the
OE2C             associated serial data output driver is enabled allowing data to be transmitted from the transmit shifter. When
OE2D             OE2x = 0, the associated serial data output driver is disabled. When a driver is disabled via the configuration
                 interface, it is internally powered down to reduce device power. If both serial drivers for a channel are in this
                 disabled state, the associated internal logic for that channel is also powered down. A device reset (RESET
                 sampled LOW) disables all output drivers.
OE1A             Primary Differential Serial Data Output Driver Enable. The initialization value of the OE1x latch = 0. OE1x
OE1B             selects if the OUT1± primary differential output drivers are enabled or disabled. When OE1x = 1, the associated
OE1C             serial data output driver is enabled allowing data to be transmitted from the transmit shifter. When OE1x = 0,
OE1D             the associated serial data output driver is disabled. When a driver is disabled via the configuration interface,
                 it is internally powered down to reduce device power. If both serial drivers for a channel are in this disabled
                 state, the associated internal logic for that channel is also powered down. A device reset (RESET sampled
                 LOW) disables all output drivers.
PABRSTA          Transmit Clock Phase Alignment Buffer Reset. The initialization value of the PABRSTx latch = 1. The
PABRSTB          PABRSTx is used to re-center the Transmit Phase Align Buffer. When the configuration latch PABRSTx is
PABRSTC          written as a 0, the phase of the TXCLKx input clock relative to its associated REFCLKx+/- is initialized.
PABRSTD          PABRST is an asynchronous input, but is sampled by each TXCLKx↑ to synchronize it to the internal clock
                 domain. PABRSTx is a self clearing latch. This eliminates the requirement of writing a 1 to complete the
                 initialization of the Phase Alignment Buffer.
GLEN[11..0]      Global Enable. The initialization value of the GLENx latch = 1. The GLENx is used to reconfigure several
                 channels simultaneously in applications where several channels may have the same configuration. When
                 GLENx = 1 for a given address, that address is allowed to participate in a global configuration. When GLENx
                 = 0 for a given address, that address is disabled from participating in a global configuration.
Document #: 38-02065 Rev. *J                                                                                            Page 24 of 49


                                                                                                   CYP15G0403DXB
Table 9. Device Configuration and Control Latch Descriptions (continued)
 Name             Signal Description
FGLEN[2..0]      Force Global Enable. The initialization value of the FGLENx latch is NA. The FGLENx latch forces a GLobal
                 ENable no matter what the setting is on the GLENx latch. If FGLENx = 1 for the associated Global channel,
                 FGLEN forces the global update of the target latch banks.
Document #: 38-02065 Rev. *J                                                                                      Page 25 of 49


                                                                                                        CYP15G0403DXB
Device Configuration Strategy                                      4. Set the dynamic bank of latches for the target channel. Enable
The following is a series of ordered events needed to load the        the Receive PLLs and transmit channels. May be performed
configuration latches on a per channel basis:                         using a global operation, if the application permits it.
                                                                      [Required step.]
1. Pulse RESET Low after device power-up. This operation
   resets all four channels. Initialize the JTAG state machine to  5. Reset the Phase Alignment Buffer for the target channel. May
   its reset state as detailed in “JTAG Support” on page 27.          be performed using a global operation, if the application
                                                                      permits it. [Optional if phase align buffer is bypassed.]
2. Set the static receiver latch bank for the target channel. May
   be performed using a global operation, if the application      When a receive channel is configured with the decoder
   permits it. [Optional step if the default settings match the   bypassed and the receive clock selected as recovered clock in
   desired configuration.]                                        half-rate mode (DECBYPx = 0, RXRATEx = 1, RXCKSELx = 0),
                                                                  the channel cannot be dynamically reconfigured to enable the
3. Set the static transmitter latch bank for the target channel.  decoder with RXCLKx selected as the REFCLKx (DECBYPx =
   May be performed using a global operation, if the application  1, RXCKSELx = 1). If such a change is desired, a global reset
   permits it. [Optional step if the default settings match the   should be performed and all channels should be reconfigured to
   desired configuration.]                                        the desired settings.
Document #: 38-02065 Rev. *J                                                                                            Page 26 of 49


                                                                                                              CYP15G0403DXB
Table 10. Device Control Latch Configuration Table
  ADDR Channel Type          DATA7        DATA6        DATA5          DATA4        DATA3       DATA2      DATA1     DATA0        Reset
                                                                                                                                 Value
    0        A      S     RFMODEA[1]   RFMODEA[0]   FRAMCHARA      DECMODEA      DECBYPA     RXCKSELA   RXRATEA     GLEN0       10111111
 (0000b)
    1        A      S     SDASEL2A[1]  SDASEL2A[0]  SDASEL1A[1]    SDASEL1A[0]   ENCBYPA     TXCKSELA   TXRATEA     GLEN1      10101101
 (0001b)
    2        A      D       RFENA       RXPLLPDA      RXBISTA        TXBISTA       OE2A        OE1A     PABRSTA     GLEN2      10110011
 (0010b)
    3        B      S     RFMODEB[1]   RFMODEB[0]   FRAMCHARB      DECMODEB      DECBYPB     RXCKSELB   RXRATEB     GLEN3       10111111
 (0011b)
    4        B      S     SDASEL2B[1]  SDASEL2B[0]  SDASEL1B[1]    SDASEL1B[0]   ENCBYPB     TXCKSELB   TXRATEB     GLEN4      10101101
 (0100b)
    5        B      D       RFENB       RXPLLPDB      RXBISTB        TXBISTB       OE2B        OE1B     PABRSTB     GLEN5      10110011
 (0101b)
    6        C      S     RFMODEC[1]   RFMODEC[0]   FRAMCHARC      DECMODEC      DECBYPC     RXCKSELC   RXRATEC     GLEN6       10111111
 (0110b)
    7        C      S    SDASEL2C[1]   SDASEL2C[0]  SDASEL1C[1]    SDASEL1C[0]   ENCBYPC     TXCKSELC   TXRATEC     GLEN7      10101101
 (0111b)
     8       C      D       RFENC       RXPLLPDC      RXBISTC        TXBISTC       OE2C        OE1C     PABRSTC     GLEN8      10110011
 (1000b)
     9       D      S     RFMODED[1]   RFMODED[0]   FRAMCHARD      DECMODED      DECBYPD     RXCKSELD   RXRATE D    GLEN9       10111111
 (1001b)
    10       D      S    SDASEL2D[1]   SDASEL2D[0]  SDASEL1D[1]    SDASEL1D[0]   ENCBYPD     TXCKSELD   TXRATED    GLEN10      10101101
 (1010b)
    11       D      D       RFEND       RXPLLPDD      RXBISTD        TXBISTD       OE2D        OE1D     PABRSTD    GLEN11      10110011
 (1011b)
    12    GLOBAL    S    RFMODEGL[1]     RFMODE    FRAMCHARGL DECMODEGL DECBYPGL RXCKSELGL RXRATEG                 FGLEN0         N/A
 (1100b)                                   GL[0]                                                            L
    13    GLOBAL    S    SDASEL2GL[1] SDASEL2GL[ SDASEL1GL[1] SDASEL1GL[0 ENCBPGL           TXCKSELGL   TXRATEG    FGLEN1         N/A
 (1101b)                                    0]                          ]                                   L
    14    GLOBAL    D       RFENGL     RXPLLPDGL     RXBISTGL       TXBISTGL       OE2GL       OE1GL    PABRSTG    FGLEN2         N/A
 (1110b)                                                                                                    L
    15     MASK     D         D7            D6          D5             D4           D3          D2         D1         D0        11111111
 (1111b)
JTAG Support                                                              that the JTAG controller does not enter any of the test modes
                                                                          after device power-up. In this JTAG reset state, the rest of the
The CYP15G0403DXB contains a JTAG port to allow system                    device will be in normal operation.
level diagnosis of device interconnect. Of the available JTAG             Note. The order of device reset (using RESET) and JTAG initial-
modes, boundary scan, and bypass are supported. This                      ization does not matter.
capability is present only on the LVTTL inputs and outputs and
the REFCLKx± clock input. The high-speed serial inputs and                3-Level Select Inputs
outputs are not part of the JTAG test chain.
                                                                          Each 3-Level select inputs reports as two bits in the scan register.
To ensure valid device operation after power-up (including                These bits report the LOW, MID, and HIGH state of the
non-JTAG operation), the JTAG state machine should also be                associated input as 00, 10, and 11 respectively
initialized to a reset state. This should be done in addition to the
device reset (using RESET). The JTAG state machine can be                 JTAG ID
initialized using TRST (asserting it LOW and de-asserting it or           The JTAG device ID for the CYP15G0403DXB is ‘0C810069’x.
leaving it asserted), or by asserting TMS HIGH for at least 5
consecutive TCLK cycles. This is necessary in order to ensure
Document #: 38-02065 Rev. *J                                                                                                   Page 27 of 49


                                                                                                       CYP15G0403DXB
Table 11. Receive Character Status Bits
                                                                     Description
 RXSTx[2:0] Priority                                                                     Receive BIST Status
                                       Normal Status
                                                                                      (Receive BIST = Enabled)
    000         7    Normal character received. The valid Data         BIST Data Compare. Character compared correctly.
                     character on the output bus meets all the
                     formatting requirements of Data characters
                     listed in Table 15 on page 42.
    001         7    Special code detected. The valid special          BIST Command Compare. Character compared
                     character on the output bus meets all the         correctly.
                     formatting requirements of Special Code
                     characters listed in Table 16 on page 46, but is
                     not the presently selected framing character or a
                     decoder violation indication.
    010         2    Receive Elasticity buffer underrun/overrun        BIST Last Good. Last Character of BIST sequence
                     error. The receive buffer was not able to         detected and valid.
                     add/drop a K28.5 or framing character
    011         5    Framing character detected. This indicates
                     that a character matching the patterns identified
                     as a framing character (as selected by
                     FRAMCHARx) was detected. The decoded
                     value of this character is present in the
                     associated output bus.
    100         4    Codeword violation. The character on the          BIST Last Bad. Last Character of BIST sequence
                     output bus is a C0.7. This indicates that the     detected invalid.
                     received character cannot be decoded into any
                     valid character.
    101         1    Loss of sync. This indicates a PLL Out of Lock BIST Start. Receive BIST is enabled on this channel,
                     condition                                         but character compares have not yet commenced. This
                                                                       also indicates a PLL Out of Lock condition, and
                                                                       Elasticity Buffer overflow/underflow conditions.
    110         6    Running disparity error. The character on the BIST Error. While comparing characters, a mismatch
                     output bus is a C4.7, C1.7, or C2.7.              was found in one or more of the decoded character bits.
    111         3    Reserved                                          BIST Wait. The receiver is comparing characters. but
                                                                       has not yet found the start of BIST character to enable
                                                                       the LFSR.
Document #: 38-02065 Rev. *J                                                                                          Page 28 of 49


                                                                                         CYP15G0403DXB
  Figure 2. Receive BIST State Machine
                                                       Monitor Data                   Receive BIST
                                                         Received        RXSTx =      Detected LOW      RX PLL
                                                                     BIST_START (101)                 Out of Lock
        RXSTx =                      RXSTx =
     BIST_WAIT (111)            BIST_START (101)
                                                         Elasticity
                                            Yes        Buffer Error
                              Start of
                  No      BIST Detected            No
                                        Yes, RXSTx =
               BIST_DATA_COMPARE (000) / BIST_COMMAND_COMPARE (001)
                                           Compare
                                        Next Character                       RXSTx =
                             Mismatch                       Match BIST_COMMAND_COMPARE (001)
                                                            Data or    Command
                            Auto-Abort
                 Yes         Condition                    Command
                                                                                                RXSTx =
                                No                           Data                     BIST_DATA_COMPARE (000)
                           End-of-BIST                   End-of-BIST        No
                              State                          State
                         Yes, RXSTx =                   Yes, RXSTx =
                     BIST_LAST_BAD (100)          BIST_LAST_GOOD (010)
                                          No, RXSTx =
                                       BIST_ERROR (110)
Document #: 38-02065 Rev. *J                                                                          Page 29 of 49


                                                                                                                                      CYP15G0403DXB
Maximum Ratings                                                                           Static Discharge Voltage.......................................... > 2000 V
                                                                                          (per MIL-STD-883, Method 3015)
Above which the useful life may be impaired. User guidelines                              Latch-up Current..................................................... > 200 mA
only, not tested
Storage Temperature .................................. –65°C to +150°C                    Power-up Requirements
Ambient Temperature with                                                                  The CYP15G0403DXB requires one power-supply. The Voltage
Power Applied ............................................ –55°C to +125°C                on any input or I/O pin cannot exceed the power pin during
                                                                                          power-up.
Supply Voltage to Ground Potential................–0.5V to +3.8V
DC Voltage Applied to LVTTL Outputs                                                       Operating Range
in High-Z State....................................... –0.5V to VCC + 0.5V
                                                                                               Range              Ambient Temperature                             VCC
Output Current into LVTTL Outputs (LOW) ................. 60 mA                            Commercial                    0°C to +70°C                        +3.3V ±5%
DC Input Voltage ................................... –0.5V to VCC + 0.5V
DC Electrical Characteristics
   Parameter                              Description                                    Test Conditions                      Min.                 Max.            Unit
   LVTTL-compatible Outputs
 VOHT                Output HIGH Voltage                                        IOH = − 4 mA, VCC = Min.                       2.4                                  V
 VOLT                Output LOW Voltage                                         IOL = 4 mA, VCC = Min.                                              0.4             V
 IOST                Output Short Circuit Current                               VOUT = 0V[9], VCC = 3.3V                      –20                  –100            mA
 IOZL                High-Z Output Leakage Current                              VOUT = 0V, VCC                                –20                    20            µA
   LVTTL-compatible Inputs
 VIHT                Input HIGH Voltage                                                                                        2.0             VCC + 0.3            V
 VILT                Input LOW Voltage                                                                                        –0.5                  0.8             V
 IIHT                Input HIGH Current                                         REFCLKx Input, VIN = VCC                                            1.5            mA
                                                                                Other Inputs, VIN = VCC                                             +40            µA
 IILT                Input LOW Current                                          REFCLKx Input, VIN = 0.0V                                          –1.5            mA
                                                                                Other Inputs, VIN = 0.0V                                            –40            µA
 IIHPDT              Input HIGH Current with internal pull-down                 VIN = VCC                                                          +200            µA
 IILPUT              Input LOW Current with internal pull-up                    VIN = 0.0V                                                         –200            µA
   LVDIFF Inputs: REFCLKx±
 VDIFF[10]           Input Differential Voltage                                                                               400                  VCC             mV
 VIHHP               Highest Input HIGH Voltage                                                                                1.2                 VCC              V
 VILLP               Lowest Input LOW voltage                                                                                  0.0                VCC/2             V
               [11]
 VCOMREF             Common Mode Range                                                                                         1.0            VCC – 1.2V            V
   3-Level Inputs
 VIHH                Three-Level Input HIGH Voltage                             Min. ≤ VCC ≤ Max.                         0.87 * VCC                VCC             V
 VIMM                Three-Level Input MID Voltage                              Min. ≤ VCC ≤ Max.                         0.47 * VCC          0.53 * VCC            V
 VILL                Three-Level Input LOW Voltage                              Min. ≤ VCC ≤ Max.                              0.0            0.13 * VCC            V
 IIHH                Input HIGH Current                                         VIN = VCC                                                           200            µA
 IIMM                Input MID current                                          VIN = VCC/2                                   –50                    50            µA
 IILL                Input LOW current                                          VIN = GND                                                          –200            µA
 Notes
  9. Tested one output at a time, output shorted for less than one second, less than 10% duty cycle.
  10. This is the minimum difference in voltage between the true and complement inputs required to ensure detection of a logic-1 or logic-0. A logic-1 exists when the
      true (+) input is more positive than the complement (−) input. A logic-0 exists when the complement (−) input is more positive than true (+) input.
  11. The common mode range defines the allowable range of REFCLKx+ and REFCLKx− when REFCLKx+ = REFCLKx−. This marks the zero-crossing between
      the true and complement inputs as the signal switches between a logic-1 and a logic-0.
Document #: 38-02065 Rev. *J                                                                                                                                 Page 30 of 49


                                                                                                                                    CYP15G0403DXB
DC Electrical Characteristics                           (continued)
  Parameter                             Description                                    Test Conditions                        Min.              Max.            Unit
  Differential CML Serial Outputs: OUTA1±, OUTA2±, OUTB1±, OUTB2±, OUTC1±, OUTC2±, OUTD1±, OUTD2±
VOHC                 Output HIGH Voltage                                       100Ω differential load                     VCC – 0.5          VCC – 0.2            V
                     (Vcc Referenced)                                          150Ω differential load                     VCC – 0.5          VCC – 0.2            V
VOLC                 Output LOW Voltage                                        100Ω differential load                     VCC – 1.4          VCC – 0.7            V
                     (VCC Referenced)                                          150Ω differential load                     VCC – 1.4          VCC – 0.7            V
VODIF                Output Differential Voltage                               100Ω differential load                         450                900            mV
                     |(OUT+) − (OUT−)|                                         150Ω differential load                         560               1000            mV
  Differential Serial Line Receiver Inputs: INA1±, INA2±, INB1±, INB2±, INC1±, INC2±, IND1±, IND2±
VDIFFs[10]           Input Differential Voltage |(IN+) − (IN−)|                                                               100               1200            mV
VIHE                 Highest Input HIGH Voltage                                                                                                  VCC              V
VILE                 Lowest Input LOW Voltage                                                                             VCC – 2.0                               V
IIHE                 Input HIGH Current                                        VIN = VIHE Max.                                                  1350             μA
IILE                 Input LOW Current                                         VIN = VILE Min.                               –700                                μA
VICOM[12]            Common Mode input range                                   ((VCC – 2.0V)+0.5)min,                        +1.25               +3.1             V
                                                                               (VCC – 0.5V) max.
  Power Supply                                                                                                                Typ.              Max.
ICC  [13, 14]        Max Power Supply Current                                  REFCLKx = Commercial                           910               1270            mA
                                                                               MAX
ICC [13, 14]         Typical Power Supply Current                              REFCLKx = Commercial                           900               1270            mA
                                                                               125 MHz
AC Test Loads and Waveforms
                                                   3.3V
                                                             R1                                            RL = 100Ω                RL
                    R1 = 590Ω
                    R2 = 435Ω            CL                                                        (Includes fixture and
                    CL ≤ 7 pF                                                                      probe capacitance)
                    (Includes fixture and                    R2                                                                        [15]
                    probe capacitance)                                                             (b) CML Output Test Load
                                                              [15]
                        (a) LVTTL Output Test Load
                                        3.0V                                                                             VIHE
                                                                                      VIHE
        Vth = 1.4V             2.0V              2.0V                                                          80%                80%
                                                                 Vth = 1.4V
                               0.8V              0.8V                                          20%                                              20%
      GND                                                                             VILE
                                                                                                                         VILE
            ≤ 1 ns                                                 ≤ 1 ns                ≤ 270 ps                                                 ≤ 270 ps
                                                                 [16]
                       (c) LVTTL Input Test Waveform                                              (d) CML/LVPECL Input Test Waveform
Notes
 12. The common mode range defines the allowable range of INPUT+ and INPUT− when INPUT+ = INPUT−. This marks the zero-crossing between the true and
     complement inputs as the signal switches between a logic-1 and a logic-0.
 13. Maximum ICC is measured with VCC = MAX, RFENx = 0, TA = 25°C, with all channels and Serial Line Drivers enabled, sending a continuous alternating 01
     pattern, and outputs unloaded.
 14. Typical ICC is measured under similar conditions except with VCC = 3.3V, TA = 25°C, RFENx = 0, with all channels enabled and one Serial Line Driver per transmit
     channel sending a continuous alternating 01 pattern. The redundant outputs on each channel are powered down and the parallel outputs are unloaded.
 15. Cypress uses constant current (ATE) load configurations and forcing functions. This figure is for reference only.
 16. The LVTTL switching threshold is 1.4V. All timing references are made relative to where the signal edges cross the threshold voltage.
Document #: 38-02065 Rev. *J                                                                                                                             Page 31 of 49


                                                                                                                                           CYP15G0403DXB
AC Electrical Characteristics
      Parameter                                                          Description                                                 Min.                Max           Unit
Transmitter LVTTL Switching Characteristics Over the Operating Range
fTS                         TXCLKx Clock Cycle Frequency                                                                             19.5                150           MHz
tTXCLK                      TXCLKx Period=1/fTS                                                                                      6.66               51.28           ns
tTXCLKH[17]                 TXCLKx HIGH Time                                                                                          2.2                               ns
tTXCLKL[17]                 TXCLKx LOW Time                                                                                           2.2                               ns
tTXCLKR [17, 18, 19, 20]    TXCLKx Rise Time                                                                                          0.2                 1.7           ns
tTXCLKF [17, 18, 19, 20]    TXCLKx Fall Time                                                                                          0.2                 1.7           ns
tTXDS                       Transmit Data Set-up Time to TXCLKx↑ (TXCKSELx ≠ 0)                                                       2.2                               ns
tTXDH                       Transmit Data Hold Time from TXCLKx↑ (TXCKSELx ≠ 0)                                                       1.0                               ns
fTOS                        TXCLKOx Clock Frequency = 1x or 2x REFCLKx Frequency                                                     19.5                150           MHz
tTXCLKO                     TXCLKOx Period=1/fTOS                                                                                    6.66               51.28           ns
tTXCLKOD                    TXCLKO Duty Cycle centered at 60% HIGH time                                                              –1.9                  0            ns
Receiver LVTTL Switching Characteristics Over the Operating Range
fRS                         RXCLKx± Clock Output Frequency                                                                           9.75                150           MHz
tRXCLKP                     RXCLKx± Period = 1/fRS                                                                                   6.66              102.56           ns
tRXCLKD                     RXCLKx± Duty Cycle Centered at 50% (Full Rate and Half Rate when                                         –1.0                +1.0           ns
                            RXCKSELx = 0)
tRXCLKR [17]                RXCLKx± Rise Time                                                                                         0.3                 1.2           ns
tRXCLKF [17]                RXCLKx± Fall Time                                                                                         0.3                 1.2           ns
          [21]
tRXDv–                      Status and Data Valid Time to RXCLKx± (RXRATEx = 0, RXCKSELx =                                     5UI –    2.0[22]                         ns
                            0) (Full Rate)
                            Status and Data Valid Time to RXCLKx± (RXRATEx = 1, RXCKSELx =                                     5UI – 1.3[22]                            ns
                            0) (Half Rate)
tRXDv+[21]                  Status and Data Valid Time to RXCLKx± (RXRATEx = 0, RXCKSELx =                                      5UI–1.8[22]                             ns
                            0) (Full Rate)
                            Status and Data Valid Time to RXCLKx± (RXRATEx = 1, RXCKSELx =0)                                   5UI – 2.6[22]                            ns
                            (Half Rate)
REFCLKx Switching Characteristics Over the Operating Range
fREF                        REFCLKx Clock Frequency                                                                                  19.5              150[17]         MHz
tREFCLK                     REFCLKx Period = 1/fREF                                                                                  6.66               51.28           ns
tREFH                       REFCLKx HIGH Time (TXRATEx = 1)(Half Rate)                                                             5.9[23]                              ns
                            REFCLKx HIGH Time (TXRATEx = 0)(Full Rate)                                                             2.9[17]                              ns
                                                                                                                                        [23]
tREFL                       REFCLKx LOW Time (TXRATEx = 1)(Half Rate)                                                              5.9                                  ns
                            REFCLKx LOW Time (TXRATEx = 0)(Full Rate)                                                              2.9[17]                              ns
tREFD[24]                   REFCLKx Duty Cycle                                                                                        30                  70            %
tREFR [17, 18, 19, 20]      REFCLKx Rise Time (20%–80%)                                                                                                    2            ns
Notes
 17. Tested initially and after any design or process changes that may affect these parameters, but not 100% tested.
 18. The ratio of rise time to falling time must not vary by greater than 2:1.
 19. For a given operating frequency, neither rise or fall specification can be greater than 20% of the clock-cycle period or the data sheet maximum time.
 20. All transmit AC timing parameters measured with 1 ns typical rise time and fall time.
 21. Parallel data output specifications are only valid if all outputs are loaded with similar DC and AC loads.
 22. Receiver UI (Unit Interval) is calculated as 1/(fREF * 20) (when TXRATEx = 1) or 1/(fREF * 10) (when TXRATEx = 0). In an operating link this is equivalent to tB.
 23. If REFCLKx is selected as receive interface clock (RXCKSELx=1), then this parameter has to be greater than or equal to 6.3 ns.
 24. The duty cycle specification is a simultaneous condition with the tREFH and tREFL parameters. This means that at faster character rates the REFCLKx± duty
     cycle cannot be as large as 30%–70%.
Document #: 38-02065 Rev. *J                                                                                                                                     Page 32 of 49


                                                                                                                                         CYP15G0403DXB
AC Electrical Characteristics                             (continued)
      Parameter                                                     Description                                                    Min.              Max        Unit
tREFF[17, 18, 19, 20]       REFCLKx Fall Time (20%–80%)                                                                                                2         ns
tTREFDS                     Transmit Data Set-up Time to REFCLKx - Full Rate                                                       2.4                           ns
                            (TXRATEx = 0, TXCKSELx = 1)
                            Transmit Data Set-up Time to REFCLKx - Half Rate                                                       2.3                           ns
                            (TXRATEx = 1, TXCKSELx = 1)
tTREFDH                     Transmit Data Hold Time from REFCLKx - Full Rate                                                       1.0                           ns
                            (TXRATEx = 0, TXCKSELx = 1)
                            Transmit Data Hold Time from REFCLKx - Half Rate                                                       1.6                           ns
                            (TXRATEx = 1, TXCKSELx = 1)
tRREFDA                     Receive Data Access Time to REFCLKx (RXCKSELx = 1)                                                                     9.7[25]       ns
tRREFDW                     Receive Data Valid Time Window (RXCKSELx = 1)                                                      10UI – 5.8                        ns
tREFxDV–                    Received Data Valid Time to RXCLK when RXCKSELx = 1                                             10UI[22]   – 6.16                    ns
                            (TXRATEx = 0, RXRATEx = 0)
                            Received Data Valid Time to RXCLK when RXCKSELx = 1                                              5UI – 2.53[26]                      ns
                            (TXRATEx = 0, RXRATEx = 1)
                            Received Data Valid Time to RXCLK when RXCKSELx = 1                                             10UI – 5.86[26]                      ns
                            (TXRATEx = 1)
tREFxDV+                    Received Data Valid Time from RXCLK when RXCKSELx = 1                                                  1.4                           ns
                            (TXRATEx = 0, RXRATEx = 0)
                            Received Data Valid Time from RXCLK when RXCKSELx = 1                                            5UI – 1.83[26]                      ns
                            (TXRATEx = 0, RXRATEx = 1)
                            Received Data Valid Time from RXCLK when RXCKSELx = 1                                                 1.0[26]                        ns
                            (TXRATEx = 1)
tREFRX[27]                  REFCLKx Frequency Referenced to Received Clock Period                                                 –0.15            +0.15          %
Bus Configuration Write Timing Characteristics Over the Operating Range
tDATAH                      Bus Configuration Data Hold                                                                             0                            ns
tDATAS                      Bus Configuration Data Set-up                                                                           10                           ns
tWRENP                      Bus Configuration WREN Pulse Width                                                                      10                           ns
JTAG Test Clock Characteristics Over the Operating Range
fTCLK                       JTAG Test Clock Frequency                                                                                                 20        MHz
tTCLK                       JTAG Test Clock Period                                                                                  50                           ns
Device RESET Characteristics Over the Operating Range
tRST                        Device RESET Pulse Width                                                                                30                           ns
Transmit Serial Outputs and TX PLL Characteristics Over the Operating Range
      Parameter                                       Description                                      Condition                   Min.             Max.        Unit
tB                          Bit Time                                                                                              5128               666         ps
Notes
 25. Since this timing parameter is greater than the minimum time period of REFCLK it sets an upper limit to the frequency in which REFCLKx can be used to clock
     the receive data out of the output register. For predictable timing, users can use this parameter only if REFCLK period is greater than sum of tRREFDA and set-up
     time of the upstream device. When this condition is not true, RXCLKx± (a buffered or divided version of REFCLK when RXCKSELx = 1) could be used to clock
     the receive data out of the device.
 26. Measured using a 50% duty cycle reference clock.
 27. REFCLKx has no phase or frequency relationship with the recovered clock and only acts as a centering reference to reduce clock synchronization time. REFCLKx
     must be within ±1500 ppm (±0.15%) of the remote transmitter’s PLL reference (REFCLKx) frequency. Although transmitting to a HOTLink II receiver channel
     necessitates the frequency difference between the transmitter and receiver reference clocks to be within ±1500 ppm, the stability of the crystal needs to be
     within the limits specified by the appropriate standard when transmitting to a remote receiver that is compliant to that standard. For example, to be IEEE 802.3z
     Gigabit Ethernet compliant, the frequency stability of the crystal needs to be within ±100 ppm.l.
Document #: 38-02065 Rev. *J                                                                                                                                 Page 33 of 49


                                                                                                                                      CYP15G0403DXB
AC Electrical Characteristics                            (continued)
      Parameter                                                  Description                                                    Min.                Max         Unit
tRISE[17]                     CML Output Rise Time 20−80% (CML Test Load)                         SPDSELx = HIGH                 60                  270         ps
                                                                                                  SPDSELx = MID                 100                  500         ps
                                                                                                  SPDSELx =LOW                  180                 1000         ps
tFALL[17]                     CML Output Fall Time 80−20% (CML Test Load)                         SPDSELx = HIGH                 60                  270         ps
                                                                                                  SPDSELx = MID                 100                  500         ps
                                                                                                  SPDSELx =LOW                  180                 1000         ps
tDJ [17, 28, 30]              Deterministic Jitter (peak-peak)[31]                                IEEE 802.3z                                         27         ps
tRJ[17, 29, 30]               Random Jitter (σ)    [31]
                                                                                                  IEEE 802.3z                                         11         ps
tREFJ[17]                     REFCLKx jitter tolerance / Phase noise limits                                                                         TBD
tTXLOCK                       Transmit PLLx lock to REFCLKx±                                                                                         200         μs
Receive Serial Inputs and CDR PLL Characteristics Over the Operating Range
tRXLOCK                       Receive PLL lock to input data stream (cold start)                                                                    376k         UI
                              Receive PLL lock to input data stream                                                                                 376k         UI
tRXUNLOCK                     Receive PLL Unlock Rate                                                                                                 46         UI
tJTOL  [17]                   Total Jitter Tolerance[31]                                          IEEE 802.3z                   600                              ps
         [17]
tDJTOL                        Deterministic Jitter   Tolerance[31]                                IEEE 802.3z                   370                              ps
Capacitance[17]
        Parameter                            Description                                       Test Conditions                            Max.               Unit
CINTTL                            TTL Input Capacitance                    TA = 25°C, f0 = 1 MHz, VCC = 3.3V                                 7                pF
CINPECL                           PECL input Capacitance                   TA = 25°C, f0 = 1 MHz, VCC = 3.3V                                 4                pF
Notes
 28. While sending continuous K28.5s, outputs loaded to a balanced 100Ω load, measured at the cross point of differential outputs, over the operating range.
 29. While sending continuous K28.7s, after 100,000 samples measured at the cross point of differential outputs, time referenced to REFCLKx± input, over the operating
     range.
 30. Total jitter is calculated at an assumed BER of 1E −12. Hence: Total Jitter (tJ) = (tRJ * 14) + tDJ.
 31. Also meets all Jitter Generation and Jitter Tolerance requirements as specified by ESCON, FICON, Fibre Channel, and DVB-ASI.
Document #: 38-02065 Rev. *J                                                                                                                                 Page 34 of 49


                                                                                                                              CYP15G0403DXB
  HOTLink II Transmitter Switching Waveforms
       Transmit Interface                                      tTXCLK
       Write Timing                               tTXCLKH                 tTXCLKL
       TXCLKx selected
         TXCLKx
                                                                             tTXDS                   tTXDH
      TXDx[7:0],
    TXCTx[1:0],
       Transmit Interface
       Write Timing                                          tREFCLK
       REFCLKx selected                           tREFH                    tREFL
       TXRATEx = 0
          REFCLKx
                                                                      tTREFDS                       tTREFDH
      TXDx[7:0],
    TXCTx[1:0],
     Transmit Interface
     Write Timing                                                                   tREFCLK
     REFCLKx selected
     TXRATEx = 1                                             tREFH                                              tREFL
          REFCLKx
                                                                                         Note 32
                                                                              tTREFDS                      tTREFDH       tTREFDS                 tTREFDH
       TXDx[7:0],
     TXCTx[1:0],
      Transmit Interface
                                                                                     tREFCLK
      TXCLKOx Timing
                                                              tREFH                                              tREFL
      TXRATEx = 1
           REFCLKx
                                                                                 Note 33
                                                             tTXCLKO
                                  Note 34
             TXCLKOx
             (internal)
  Notes
   32. When REFCLKx± is configured for half-rate operation (TXRATE = 1) and data is captured using REFCLKx instead of a TXCLKx clock. Data is captured using
       both the rising and falling edges of REFCLKx.
   33. The TXCLKOx output remains at the character rate regardless of the state of TXRATE and does not follow the duty cycle of REFCLKx±.
   34. The rising edge of TXCLKOx output has no direct phase relationship to the REFCLKx± input.
Document #: 38-02065 Rev. *J                                                                                                                  Page 35 of 49


                                                                                                                                   CYP15G0403DXB
HOTLink II Transmitter Switching Waveforms                                         (continued)
      Transmit Interface
      TXCLKOx Timing                                      tREFCLK
                                                 tREFH                    tREFL
      TXRATEx = 0                                        Note33
        REFCLKx
                                                         tTXCLKO
                             Note34         tTXOH                    tTXOL
          TXCLKOx
Switching Waveforms for the HOTLink II Receiver
Receive Interface                                            tREFCLK
Read Timing
REFCLKx Selected                                tREFH                    tREFL
Full-rate RXCLKx±
         REFCLKx
                                                                tRREFDA
                                                                                      tRREFDW                                               tRREFDW
      RXDx[7:0],
    RXSTx[2:0],
                [36]
      TXERRx
                                                                              tREFxDV+
                                                                                                                            tREFxDV–
       RXCLKx
Receive Interface                                                                        tREFCLK
Read Timing
REFCLKx Selected                                            tREFH                                                   tREFL
Half-rate RXCLKx±
         REFCLKx
                                                                                                                   tRREFDA
                                                        tRREFDA                        tRREFDW                                               tRREFDW
      RXDx[7:0],
    RXSTx[2:0],
              [36]
   TXERRx
                                                                              tREFxDV+                                      tREFxDV–
       RXCLKx                                                                                                                                         Note 35
Notes
 35. When operated with a half-rate REFCLKx±, the set-up and hold specifications for data relative to RXCLKx are relative to both rising and falling edges of the
     respective clock output
 36. TXERRx is synchronous to RXCLKx only when RXCLKx is selected as REFCLK.
Document #: 38-02065 Rev. *J                                                                                                                            Page 36 of 49


                                                                       CYP15G0403DXB
Switching Waveforms for the HOTLink II Receiver
Receive Interface
Read Timing                    tRXCLKP
Recovered Clock selected
RXRATEx = 0
    RXCLKx+
    RXCLKx–
           RXDx[7:0],                  tRXDV–
          RXSTx[2:0],
                                                         tRXDV+
Receive Interface
Read Timing                                   tRXCLKP
Recovered Clock selected
RXRATEx = 1
    RXCLKx+
    RXCLKx–
                                      tRXDV–
   RXDx[7:0],
   RXSTx[2:0]
                                                         tRXDV+
Bus Configuration
Write Timing
               ADDR[3:0]
                DATA[7:0]
                                                     tWRENP
                WREN             tDATAS
                                                                tDATAH
Document #: 38-02065 Rev. *J                                                  Page 37 of 49


                                                                                    CYP15G0403DXB
Table 12. Package Coordinate Signal Allocation
 Ball                                  Ball                            Ball
       Signal Name     Signal Type           Signal Name   Signal Type      Signal Name  Signal Type
  ID                                     ID                             ID
 A01       INC1–         CML IN        C07        ULCC    LVTTL IN PU  F17       NC     NO CONNECT
 A02      OUTC1–        CML OUT        C08        GND       GROUND     F18    RXSTB[1]    LVTTL OUT
 A03       INC2–         CML IN        C09      DATA[7]   LVTTL IN PU  F19   TXCLKOB      LVTTL OUT
 A04      OUTC2–        CML OUT        C10      DATA[5]   LVTTL IN PU  F20    RXSTB[0]    LVTTL OUT
 A05        VCC          POWER          C11     DATA[3]   LVTTL IN PU  G01    TXDC[7]      LVTTL IN
 A06       IND1–         CML IN        C12      DATA[1]   LVTTL IN PU  G02      WREN     LVTTL IN PU
 A07      OUTD1–        CML OUT        C13        GND       GROUND     G03    TXDC[4]      LVTTL IN
 A08        GND         GROUND         C14         NC    NO CONNECT    G04    TXDC[1]      LVTTL IN
 A09       IND2–         CML IN        C15     SPDSELD    3-LEVEL SEL  G17   SPDSELB    3-LEVEL SEL
 A10      OUTD2–        CML OUT        C16        VCC        POWER     G18     LPENC     LVTTL IN PD
 A11       INA1–         CML IN        C17      LDTDEN    LVTTL IN PU  G19   SPDSELA    3-LEVEL SEL
 A12      OUTA1–        CML OUT        C18        TRST    LVTTL IN PU  G20    RXDB[1]     LVTTL OUT
 A13        GND         GROUND         C19       LPEND    LVTTL IN PD  H01      GND        GROUND
 A14       INA2–         CML IN        C20        TDO    LVTTL 3-S OUT H02      GND        GROUND
 A15      OUTA2–        CML OUT        D01        TCLK    LVTTL IN PD  H03      GND        GROUND
 A16        VCC          POWER         D02       RESET    LVTTL IN PU  H04      GND        GROUND
 A17       INB1–         CML IN        D03      INSELD      LVTTL IN   H17      GND        GROUND
 A18      OUTB1–        CML OUT        D04      INSELA      LVTTL IN   H18      GND        GROUND
 A19       INB2–         CML IN        D05        VCC        POWER     H19      GND        GROUND
 A20      OUTB2–        CML OUT        D06        ULCA    LVTTL IN PU  H20      GND        GROUND
 B01       INC1+         CML IN        D07     SPDSELC    3-LEVEL SEL  J01    TXCTC[1]     LVTTL IN
 B02      OUTC1+        CML OUT        D08        GND       GROUND     J02    TXDC[5]      LVTTL IN
 B03       INC2+         CML IN        D09      DATA[6]   LVTTL IN PU  J03    TXDC[2]      LVTTL IN
 B04      OUTC2+        CML OUT        D10      DATA[4]   LVTTL IN PU  J04    TXDC[3]      LVTTL IN
 B05        VCC          POWER          D11     DATA[2]   LVTTL IN PU  J17    RXSTB[2]    LVTTL OUT
 B06       IND1+         CML IN        D12      DATA[0]   LVTTL IN PU  J18    RXDB[0]     LVTTL OUT
 B07      OUTD1+        CML OUT        D13        GND       GROUND     J19    RXDB[5]     LVTTL OUT
 B08        GND         GROUND         D14       LPENB    LVTTL IN PD  J20    RXDB[2]     LVTTL OUT
 B09       IND2+         CML IN        D15        ULCB    LVTTL IN PU  K01    RXDC[2]     LVTTL OUT
 B10      OUTD2+        CML OUT        D16        VCC        POWER     K02   REFCLKC–      PECL IN
 B11       INA1+         CML IN        D17       LPENA    LVTTL IN PD  K03    TXCTC[0]     LVTTL IN
 B12      OUTA1+        CML OUT        D18       LTEN1    LVTTL IN PD  K04    TXCLKC     LVTTL IN PD
 B13        GND         GROUND         D19     SCANEN2    LVTTL IN PD  K17    RXDB[3]     LVTTL OUT
 B14       INA2+         CML IN        D20       TMEN3    LVTTL IN PD  K18    RXDB[4]     LVTTL OUT
 B15      OUTA2+        CML OUT         E01       VCC        POWER     K19    RXDB[7]     LVTTL OUT
 B16        VCC          POWER          E02       VCC        POWER     K20      LFIB      LVTTL OUT
 B17       INB1+         CML IN         E03       VCC        POWER     L01    RXDC[3]     LVTTL OUT
 B18      OUTB1+        CML OUT         E04       VCC        POWER     L02   REFCLKC+      PECL IN
 B19       INB2+         CML IN         E17       VCC        POWER     L03      LFIC      LVTTL OUT
 B20      OUTB2+        CML OUT         E18       VCC        POWER     L04    TXDC[6]      LVTTL IN
 C01        TDI       LVTTL IN PU       E19       VCC        POWER     L17    RXDB[6]     LVTTL OUT
 C02        TMS       LVTTL IN PU       E20       VCC        POWER     L18   RXCLKB+      LVTTL OUT
 C03      INSELC        LVTTL IN        F01     RXDC[6]    LVTTL OUT   L19   RXCLKB–      LVTTL OUT
 C04      INSELB        LVTTL IN        F02     RXDC[7]    LVTTL OUT   L20     TXDB[6]     LVTTL IN
 C05        VCC          POWER          F03     TXDC[0]     LVTTL IN   M01    RXDC[4]     LVTTL OUT
 C06       ULCD       LVTTL IN PU       F04        NC    NO CONNECT    M02    RXDC[5]     LVTTL OUT
Document #: 38-02065 Rev. *J                                                                   Page 38 of 49


                                                                                    CYP15G0403DXB
Table 12. Package Coordinate Signal Allocation (continued)
 Ball                                  Ball Signal Name                Ball Signal Name
       Signal Name     Signal Type                         Signal Type                   Signal Type
  ID                                     ID                             ID
 M03         NC       NO CONNECT       U03      TXDD[2]      LVTTL IN  W03      LFID      LVTTL OUT
 M04      TXERRC        LVTTL OUT      U04     TXCTD[1]      LVTTL IN  W04   RXCLKD–      LVTTL OUT
 M17    REFCLKB+         PECL IN       U05       VCC         POWER     W05      VCC        POWER
 M18    REFCLKB–         PECL IN       U06      RXDD[2]     LVTTL OUT  W06    RXDD[4]     LVTTL OUT
 M19      TXERRB        LVTTL OUT      U07      RXDD[1]     LVTTL OUT  W07   RXSTD[1]     LVTTL OUT
 M20      TXCLKB       LVTTL IN PD     U08       GND         GROUND    W08      GND        GROUND
 N01       GND           GROUND        U09     TXCTA[1]      LVTTL IN  W09    ADDR [3]   LVTTL IN PU
 N02       GND           GROUND        U10     ADDR [0]    LVTTL IN PU W10    ADDR [1]   LVTTL IN PU
 N03       GND           GROUND         U11   REFCLKD–       PECL IN   W11   RXCLKA+      LVTTL OUT
 N04       GND           GROUND        U12      TXDA[1]      LVTTL IN  W12    TXERRA      LVTTL OUT
 N17       GND           GROUND        U13       GND         GROUND    W13      GND        GROUND
 N18       GND           GROUND        U14      TXDA[4]      LVTTL IN  W14    TXDA[2]      LVTTL IN
 N19       GND           GROUND        U15     TXCTA[0]      LVTTL IN  W15    TXDA[6]      LVTTL IN
 N20       GND           GROUND        U16       VCC         POWER     W16      VCC        POWER
 P01      RXDC[1]       LVTTL OUT      U17      RXDA[2]     LVTTL OUT  W17      LFIA      LVTTL OUT
 P02      RXDC[0]       LVTTL OUT      U18     TXCTB[0]      LVTTL IN  W18 REFCLKA+        PECL IN
 P03     RXSTC[0]       LVTTL OUT      U19     RXSTA[2]     LVTTL OUT  W19    RXDA[4]     LVTTL OUT
 P04     RXSTC[1]       LVTTL OUT      U20     RXSTA[1]     LVTTL OUT  W20    RXDA[1]     LVTTL OUT
 P17      TXDB[5]        LVTTL IN       V01     TXDD[3]      LVTTL IN  Y01    TXDD[6]      LVTTL IN
 P18      TXDB[4]        LVTTL IN       V02     TXDD[4]      LVTTL IN  Y02    TXCLKD     LVTTL IN PD
 P19      TXDB[3]        LVTTL IN       V03    TXCTD[0]      LVTTL IN  Y03    RXDD[7]     LVTTL OUT
 P20      TXDB[2]        LVTTL IN       V04     RXDD[6]     LVTTL OUT  Y04   RXCLKD+      LVTTL OUT
 R01     RXSTC[2]       LVTTL OUT       V05      VCC         POWER     Y05      VCC        POWER
 R02     TXCLKOC        LVTTL OUT       V06     RXDD[3]     LVTTL OUT  Y06    RXDD[5]     LVTTL OUT
 R03     RXCLKC+        LVTTL OUT       V07    RXSTD[0]     LVTTL OUT  Y07    RXDD[0]     LVTTL OUT
 R04     RXCLKC–        LVTTL OUT       V08      GND         GROUND    Y08      GND        GROUND
 R17      TXDB[1]        LVTTL IN       V09    RXSTD[2]     LVTTL OUT  Y09   TXCLKOD      LVTTL OUT
 R18      TXDB[0]        LVTTL IN       V10    ADDR [2]    LVTTL IN PU Y10       NC     NO CONNECT
 R19     TXCTB[1]        LVTTL IN       V11   REFCLKD+       PECL IN   Y11    TXCLKA     LVTTL IN PD
 R20      TXDB[7]        LVTTL IN       V12    TXCLKOA      LVTTL OUT  Y12   RXCLKA–      LVTTL OUT
 T01        VCC          POWER          V13      GND         GROUND    Y13      GND        GROUND
 T02        VCC          POWER          V14     TXDA[3]      LVTTL IN  Y14    TXDA[0]      LVTTL IN
 T03        VCC          POWER          V15     TXDA[7]      LVTTL IN  Y15    TXDA[5]      LVTTL IN
 T04        VCC          POWER          V16      VCC         POWER     Y16      VCC        POWER
 T17        VCC          POWER          V17     RXDA[7]     LVTTL OUT  Y17    TXERRD      LVTTL OUT
 T18        VCC          POWER          V18     RXDA[3]     LVTTL OUT  Y18   REFCLKA–      PECL IN
 T19        VCC          POWER          V19     RXDA[0]     LVTTL OUT  Y19    RXDA[6]     LVTTL OUT
 T20        VCC          POWER          V20    RXSTA[0]     LVTTL OUT  Y20    RXDA[5]     LVTTL OUT
 U01      TXDD[0]        LVTTL IN      W01      TXDD[5]      LVTTL IN
 U02      TXDD[1]        LVTTL IN      W02      TXDD[7]      LVTTL IN
Document #: 38-02065 Rev. *J                                                                   Page 39 of 49


                                                                                                                    CYP15G0403DXB
X3.230 Codes and Notation Conventions                                     c is set to D, xx is the decimal value of the binary number
                                                                          composed of the bits E, D, C, B, and A in that order, and the y is
Information transmitted over a serial link is encoded eight bits at       the decimal value of the binary number composed of the bits H,
a time into a 10-bit Transmission Character and then sent                 G, and F in that order. When c is set to K, xx and y are derived
serially, bit by bit. Information received over a serial link is          by comparing the encoded bit patterns of the Special Character
collected ten bits at a time, and those Transmission Characters           to those patterns derived from encoded Valid Data bytes and
that are used for data characters are decoded into the correct            selecting the names of the patterns most similar to the encoded
eight-bit codes. The 10-bit Transmission Code supports all 256            bit patterns of the Special Character.
8-bit combinations. Some of the remaining Transmission                    Under the above conventions, the Transmission Character used
Characters (Special Characters) are used for functions other              for the examples above, is referred to by the name D5.2. The
than data transmission.                                                   Special Character K29.7 is so named because the first six bits
The primary use of a Transmission Code is to improve the trans-           (abcdei) of this character make up a bit pattern similar to that
mission characteristics of a serial link. The encoding defined by         resulting from the encoding of the unencoded 11101 pattern (29),
the Transmission Code ensures that sufficient transitions are             and because the second four bits (fghj) make up a bit pattern
present in the serial bit stream to make clock recovery possible          similar to that resulting from the encoding of the unencoded 111
at the Receiver. Such encoding also greatly increases the                 pattern (7).
likelihood of detecting any single or multiple bit errors that may        Note. This definition of the 10-bit Transmission Code is based
occur during transmission and reception of information. In                on the following references, which describe the same 10-bit
addition, some Special Characters of the Transmission Code                transmission code.
selected by Fibre Channel Standard contain a distinct and easily
recognizable bit pattern that assists the receiver in achieving           A.X. Widmer and P.A. Franaszek. “A DC-Balanced, Parti-
character alignment on the incoming bit stream.                           tioned-Block, 8B/10B Transmission Code” IBM Journal of
                                                                          Research and Development, 27, No. 5: 440-451 (September, 1983).
Notation Conventions                                                      U.S. Patent 4,486,739. Peter A. Franaszek and Albert X.
The documentation for the 8B/10B Transmission Code uses                   Widmer. “Byte-Oriented DC Balanced (0.4) 8B/10B Partitioned
letter notation for the bits in an 8-bit byte. Fibre Channel Standard     Block Transmission Code” (December 4, 1984).
notation uses a bit notation of A, B, C, D, E, F, G, H for the 8-bit      Fibre Channel Physical and Signaling Interface (ANS
byte for the raw 8-bit data, and the letters a, b, c, d, e, i, f, g, h, j X3.230-1994 ANSI FC-PH Standard).
for encoded 10-bit data. There is a correspondence between bit
A and bit a, B and b, C and c, D and d, E and e, F and f, G and           IBM Enterprise Systems Architecture/390 ESCON I/O Interface
g, and H and h. Bits i and j are derived, respectively, from              (document number SA22-7202).
(A,B,C,D,E) and (F,G,H).
                                                                          8B/10B Transmission Code
The bit labeled A in the description of the 8B/10B Transmission
                                                                          The following information describes how the tables are used for
Code corresponds to bit 0 in the numbering scheme of the FC-2
                                                                          both generating valid Transmission Characters (encoding) and
specification, B corresponds to bit 1, as shown below.
                                                                          checking the validity of received Transmission Characters
FC-2 bit designation—76543210
                                                                          (decoding). It also specifies the ordering rules followed when
HOTLink D/Q designation—76543210
                                                                          transmitting the bits within a character and the characters within
8B/10B bit designation—HGFEDCBA
                                                                          any higher-level constructs specified by a standard.
To clarify this correspondence, the following example shows the
conversion from an FC-2 Valid Data Byte to a Transmission                 Transmission Order
Character.                                                                Within the definition of the 8B/10B Transmission Code, the bit
                      FC-2 45H                                            positions of the Transmission Characters are labeled a, b, c, d,
                               Bits: 7654 3210                            e, i, f, g, h, j. Bit “a” is transmitted first followed by bits b, c, d, e,
                                         0100 0101                        i, f, g, h, and j in that order.
Converted to 8B/10B notation, note that the order of bits has             Note that bit i is transmitted between bit e and bit f, rather than
been reversed):                                                           in alphabetical order.
       Data Byte Name D5.2
                                                                          Valid and Invalid Transmission Characters
                                 Bits: ABCDE FGH
                                                                          The following tables define the valid Data Characters and valid
                                          10100 010
                                                                          Special Characters (K characters), respectively. The tables are
Translated to a transmission Character in the 8B/10B Trans-               used for both generating valid Transmission Characters and
mission Code:                                                             checking the validity of received Transmission Characters. In the
                                 Bits: abcdei fghj                        tables, each Valid-Data-byte or Special-Character-code entry
                                          101001 0101                     has two columns that represent two Transmission Characters.
                                                                          The two columns correspond to the current value of the running
Each valid Transmission Character of the 8B/10B Transmission              disparity. Running disparity is a binary parameter with either a
Code has been given a name using the following convention:                negative (–) or positive (+) value.
cxx.y, where c is used to show whether the Transmission
Character is a Data Character (c is set to D, and SC/D = LOW)             After powering on, the Transmitter may assume either a positive
or a Special Character (c is set to K, and SC/D = HIGH). When             or negative value for its initial running disparity. Upon trans-
                                                                          mission of any Transmission Character, the transmitter selects
Document #: 38-02065 Rev. *J                                                                                                         Page 40 of 49


                                                                                                              CYP15G0403DXB
the proper version of the Transmission Character based on the            Character transmitted, a new value of the running disparity is
current running disparity value, and the Transmitter calculates a        calculated. This new value is used as the Transmitter’s current
new value for its running disparity based on the contents of the         running disparity for the next Valid Data byte or Special
transmitted character. Special Character codes C1.7 and C2.7             Character byte encoded and transmitted. Table 13 shows
can be used to force the transmission of a specific Special              naming notations and examples of valid transmission
Character with a specific running disparity as required for some         characters.
special sequences in X3.230.
                                                                         Use of the Tables for Checking the Validity of Received
After powering on, the Receiver may assume either a positive or
negative value for its initial running disparity. Upon reception of      Transmission Characters
any Transmission Character, the Receiver decides whether the             The column corresponding to the current value of the Receiver’s
Transmission Character is valid or invalid according to the              running disparity is searched for the received Transmission
following rules and tables and calculates a new value for its            Character. If the received Transmission Character is found in the
Running Disparity based on the contents of the received                  proper column, then the Transmission Character is valid and the
character.                                                               associated Data byte or Special Character code is determined
The following rules for running disparity are used to calculate the      (decoded). If the received Transmission Character is not found
new running-disparity value for Transmission Characters that             in that column, then the Transmission Character is invalid. This
have been transmitted and received.                                      is called a code violation. Independent of the Transmission
                                                                         Character’s validity, the received Transmission Character is
Running disparity for a Transmission Character is calculated             used to calculate a new value of running disparity. The new value
from sub-blocks, where the first six bits (abcdei) form one              is used as the Receiver’s current running disparity for the next
sub-block and the second four bits (fghj) form the other                 received Transmission Character.
sub-block. Running disparity at the beginning of the 6-bit
sub-block is the running disparity at the end of the previous            Table 13. Valid Transmission Characters
Transmission Character. Running disparity at the beginning of
                                                                                                        Data
the 4-bit sub-block is the running disparity at the end of the 6-bit
sub-block. Running disparity at the end of the Transmission                                         DIN or QOUT
Character is the running disparity at the end of the 4-bit                     Byte Name                                  Hex Value
                                                                                                   765      43210
sub-block.
                                                                                   D0.0            000      00000             00
Running disparity for the sub-blocks is calculated as follows:
 1. Running disparity at the end of any sub-block is positive if the               D1.0            000      00001             01
    sub-block contains more ones than zeros. It is also positive at                D2.0            000      00010             02
    the end of the 6-bit sub-block if the 6-bit sub-block is 000111,
    and it is positive at the end of the 4-bit sub-block if the 4-bit                .              .          .               .
    sub-block is 0011.                                                               .              .          .               .
 2. Running disparity at the end of any sub-block is negative if the               D5.2            010      00101             45
    sub-block contains more zeros than ones. It is also negative
    at the end of the 6-bit sub-block if the 6-bit sub-block is                      .              .          .               .
    111000, and it is negative at the end of the 4-bit sub-block if                  .              .          .               .
    the 4-bit sub-block is 1100.                                                  D30.7            111      11110             FE
 3. Otherwise, running disparity at the end of the sub-block is the
    same as at the beginning of the sub-block.                                    D31.7            111      11111             FF
Use of the Tables for Generating Transmission                            Detection of a code violation does not necessarily show that the
Characters                                                               Transmission Character in which the code violation was detected
                                                                         is in error. Code violations may result from a prior error that
The appropriate entry in Table 15 for the Valid Data byte or             altered the running disparity of the bit stream which did not result
Table 16 for Special Character byte identify which Transmission          in a detectable error at the Transmission Character in which the
Character is generated. The current value of the Transmitter’s           error occurred. Table 14 shows an example of this behavior.
running disparity is used to select the Transmission Character
from its corresponding column. For each Transmission
Table 14. Code Violations Resulting from Prior Errors
                                      RD          Character           RD        Character          RD         Character          RD
  Transmitted data character           –            D21.1              –          D10.2             –             D23.5           +
  Transmitted bit stream               –         101010 1001           –      010101 0101           –        111010 1010          +
  Bit stream after error               –         101010 1011           +      010101 0101           +        111010 1010          +
  Decoded data character               –            D21.0              +          D10.2             +       Code Violation        +
Document #: 38-02065 Rev. *J                                                                                                  Page 41 of 49


                                                                                      CYP15G0403DXB
  Table 15. Valid Data Characters (TXCTx[0] = 0, RXSTx[2:0] = 000)
    Data         Bits        Current RD−     Current RD+         Data    Bits    Current RD−  Current RD+
    Byte                                                         Byte
    Name    HGF EDCBA        abcdei fghj     abcdei fghj        Name  HGF EDCBA  abcdei fghj  abcdei fghj
    D0.0     000 00000     100111 0100      011000 1011          D0.1 001 00000 100111 1001  011000 1001
    D1.0     000 00001     011101 0100      100010 1011          D1.1 001 00001 011101 1001  100010 1001
    D2.0     000 00010     101101 0100      010010 1011          D2.1 001 00010 101101 1001  010010 1001
    D3.0     000 00011     110001 1011      110001 0100          D3.1 001 00011 110001 1001  110001 1001
    D4.0     000 00100     110101 0100      001010 1011          D4.1 001 00100 110101 1001  001010 1001
    D5.0     000 00101     101001 1011      101001 0100          D5.1 001 00101 101001 1001  101001 1001
    D6.0     000 00110     011001 1011      011001 0100          D6.1 001 00110 011001 1001  011001 1001
    D7.0     000 00111     111000 1011      000111 0100          D7.1 001 00111 111000 1001  000111 1001
    D8.0     000 01000     111001 0100      000110 1011          D8.1 001 01000 111001 1001  000110 1001
    D9.0     000 01001     100101 1011      100101 0100          D9.1 001 01001 100101 1001  100101 1001
   D10.0     000 01010     010101 1011      010101 0100         D10.1 001 01010 010101 1001  010101 1001
   D11.0     000 01011     110100 1011      110100 0100         D11.1 001 01011 110100 1001  110100 1001
   D12.0     000 01100     001101 1011      001101 0100         D12.1 001 01100 001101 1001  001101 1001
   D13.0     000 01101     101100 1011      101100 0100         D13.1 001 01101 101100 1001  101100 1001
   D14.0     000 01110     011100 1011      011100 0100         D14.1 001 01110 011100 1001  011100 1001
   D15.0     000 01111     010111 0100      101000 1011         D15.1 001 01111 010111 1001  101000 1001
   D16.0     000 10000     011011 0100      100100 1011         D16.1 001 10000 011011 1001  100100 1001
   D17.0     000 10001     100011 1011      100011 0100         D17.1 001 10001 100011 1001  100011 1001
   D18.0     000 10010     010011 1011      010011 0100         D18.1 001 10010 010011 1001  010011 1001
   D19.0     000 10011     110010 1011      110010 0100         D19.1 001 10011 110010 1001  110010 1001
   D20.0     000 10100     001011 1011      001011 0100         D20.1 001 10100 001011 1001  001011 1001
   D21.0     000 10101     101010 1011      101010 0100         D21.1 001 10101 101010 1001  101010 1001
   D22.0     000 10110     011010 1011      011010 0100         D22.1 001 10110 011010 1001  011010 1001
   D23.0     000 10111     111010 0100      000101 1011         D23.1 001 10111 111010 1001  000101 1001
   D24.0     000 11000     110011 0100      001100 1011         D24.1 001 11000 110011 1001  001100 1001
   D25.0     000 11001     100110 1011      100110 0100         D25.1 001 11001 100110 1001  100110 1001
   D26.0     000 11010     010110 1011      010110 0100         D26.1 001 11010 010110 1001  010110 1001
   D27.0     000 11011     110110 0100      001001 1011         D27.1 001 11011 110110 1001  001001 1001
   D28.0     000 11100     001110 1011      001110 0100         D28.1 001 11100 001110 1001  001110 1001
   D29.0     000 11101     101110 0100      010001 1011         D29.1 001 11101 101110 1001  010001 1001
   D30.0     000 11110     011110 0100      100001 1011         D30.1 001 11110 011110 1001  100001 1001
   D31.0     000 11111     101011 0100      010100 1011         D31.1 001 11111 101011 1001  010100 1001
Document #: 38-02065 Rev. *J                                                                     Page 42 of 49


                                                                                           CYP15G0403DXB
  Table 15. Valid Data Characters (TXCTx[0] = 0, RXSTx[2:0] = 000) (continued)
    Data         Bits        Current RD−     Current RD+         Data          Bits   Current RD−  Current RD+
    Byte                                                         Byte
    Name    HGF EDCBA        abcdei fghj     abcdei fghj        Name      HGF EDCBA   abcdei fghj  abcdei fghj
    D0.2     010 00000     100111 0101      011000 0101          D0.3      011 00000 100111 0011  011000 1100
    D1.2     010 00001     011101 0101      100010 0101          D1.3      011 00001 011101 0011  100010 1100
    D2.2     010 00010     101101 0101      010010 0101          D2.3      011 00010 101101 0011  010010 1100
    D3.2     010 00011     110001 0101      110001 0101          D3.3      011 00011 110001 1100  110001 0011
    D4.2     010 00100     110101 0101      001010 0101          D4.3      011 00100 110101 0011  001010 1100
    D5.2     010 00101     101001 0101      101001 0101          D5.3      011 00101 101001 1100  101001 0011
    D6.2     010 00110     011001 0101      011001 0101          D6.3      011 00110 011001 1100  011001 0011
    D7.2     010 00111     111000 0101      000111 0101          D7.3      011 00111 111000 1100  000111 0011
    D8.2     010 01000     111001 0101      000110 0101          D8.3      011 01000 111001 0011  000110 1100
    D9.2     010 01001     100101 0101      100101 0101          D9.3      011 01001 100101 1100  100101 0011
   D10.2     010 01010     010101 0101      010101 0101         D10.3      011 01010 010101 1100  010101 0011
   D11.2     010 01011     110100 0101      110100 0101         D11.3      011 01011 110100 1100  110100 0011
   D12.2     010 01100     001101 0101      001101 0101         D12.3      011 01100 001101 1100  001101 0011
   D13.2     010 01101     101100 0101      101100 0101         D13.3      011 01101 101100 1100  101100 0011
   D14.2     010 01110     011100 0101      011100 0101         D14.3      011 01110 011100 1100  011100 0011
   D15.2     010 01111     010111 0101      101000 0101         D15.3      011 01111 010111 0011  101000 1100
   D16.2     010 10000     011011 0101      100100 0101         D16.3      011 10000 011011 0011  100100 1100
   D17.2     010 10001     100011 0101      100011 0101         D17.3      011 10001 100011 1100  100011 0011
   D18.2     010 10010     010011 0101      010011 0101         D18.3      011 10010 010011 1100  010011 0011
   D19.2     010 10011     110010 0101      110010 0101         D19.3      011 10011 110010 1100  110010 0011
   D20.2     010 10100     001011 0101      001011 0101         D20.3      011 10100 001011 1100  001011 0011
   D21.2     010 10101     101010 0101      101010 0101         D21.3      011 10101 101010 1100  101010 0011
   D22.2     010 10110     011010 0101      011010 0101         D22.3      011 10110 011010 1100  011010 0011
   D23.2     010 10111     111010 0101      000101 0101         D23.3      011 10111 111010 0011  000101 1100
   D24.2     010 11000     110011 0101      001100 0101         D24.3      011 11000 110011 0011  001100 1100
   D25.2     010 11001     100110 0101      100110 0101         D25.3      011 11001 100110 1100  100110 0011
   D26.2     010 11010     010110 0101      010110 0101         D26.3      011 11010 010110 1100  010110 0011
   D27.2     010 11011     110110 0101      001001 0101         D27.3      011 11011 110110 0011  001001 1100
   D28.2     010 11100     001110 0101      001110 0101         D28.3      011 11100 001110 1100  001110 0011
   D29.2     010 11101     101110 0101      010001 0101         D29.3      011 11101 101110 0011  010001 1100
   D30.2     010 11110     011110 0101      100001 0101         D30.3      011 11110 011110 0011  100001 1100
   D31.2     010 11111     101011 0101      010100 0101         D31.3      011 11111 101011 0011  010100 1100
Document #: 38-02065 Rev. *J                                                                          Page 43 of 49


                                                                                           CYP15G0403DXB
  Table 15. Valid Data Characters (TXCTx[0] = 0, RXSTx[2:0] = 000) (continued)
    Data         Bits        Current RD−     Current RD+         Data          Bits   Current RD−  Current RD+
    Byte                                                         Byte
    Name    HGF EDCBA        abcdei fghj     abcdei fghj        Name      HGF EDCBA   abcdei fghj  abcdei fghj
    D0.4     100 00000     100111 0010      011000 1101          D0.5      101 00000 100111 1010  011000 1010
    D1.4     100 00001     011101 0010      100010 1101          D1.5      101 00001 011101 1010  100010 1010
    D2.4     100 00010     101101 0010      010010 1101          D2.5      101 00010 101101 1010  010010 1010
    D3.4     100 00011     110001 1101      110001 0010          D3.5      101 00011 110001 1010  110001 1010
    D4.4     100 00100     110101 0010      001010 1101          D4.5      101 00100 110101 1010  001010 1010
    D5.4     100 00101     101001 1101      101001 0010          D5.5      101 00101 101001 1010  101001 1010
    D6.4     100 00110     011001 1101      011001 0010          D6.5      101 00110 011001 1010  011001 1010
    D7.4     100 00111     111000 1101      000111 0010          D7.5      101 00111 111000 1010  000111 1010
    D8.4     100 01000     111001 0010      000110 1101          D8.5      101 01000 111001 1010  000110 1010
    D9.4     100 01001     100101 1101      100101 0010          D9.5      101 01001 100101 1010  100101 1010
   D10.4     100 01010     010101 1101      010101 0010         D10.5      101 01010 010101 1010  010101 1010
   D11.4     100 01011     110100 1101      110100 0010         D11.5      101 01011 110100 1010  110100 1010
   D12.4     100 01100     001101 1101      001101 0010         D12.5      101 01100 001101 1010  001101 1010
   D13.4     100 01101     101100 1101      101100 0010         D13.5      101 01101 101100 1010  101100 1010
   D14.4     100 01110     011100 1101      011100 0010         D14.5      101 01110 011100 1010  011100 1010
   D15.4     100 01111     010111 0010      101000 1101         D15.5      101 01111 010111 1010  101000 1010
   D16.4     100 10000     011011 0010      100100 1101         D16.5      101 10000 011011 1010  100100 1010
   D17.4     100 10001     100011 1101      100011 0010         D17.5      101 10001 100011 1010  100011 1010
   D18.4     100 10010     010011 1101      010011 0010         D18.5      101 10010 010011 1010  010011 1010
   D19.4     100 10011     110010 1101      110010 0010         D19.5      101 10011 110010 1010  110010 1010
   D20.4     100 10100     001011 1101      001011 0010         D20.5      101 10100 001011 1010  001011 1010
   D21.4     100 10101     101010 1101      101010 0010         D21.5      101 10101 101010 1010  101010 1010
   D22.4     100 10110     011010 1101      011010 0010         D22.5      101 10110 011010 1010  011010 1010
   D23.4     100 10111     111010 0010      000101 1101         D23.5      101 10111 111010 1010  000101 1010
   D24.4     100 11000     110011 0010      001100 1101         D24.5      101 11000 110011 1010  001100 1010
   D25.4     100 11001     100110 1101      100110 0010         D25.5      101 11001 100110 1010  100110 1010
   D26.4     100 11010     010110 1101      010110 0010         D26.5      101 11010 010110 1010  010110 1010
   D27.4     100 11011     110110 0010      001001 1101         D27.5      101 11011 110110 1010  001001 1010
   D28.4     100 11100     001110 1101      001110 0010         D28.5      101 11100 001110 1010  001110 1010
   D29.4     100 11101     101110 0010      010001 1101         D29.5      101 11101 101110 1010  010001 1010
   D30.4     100 11110     011110 0010      100001 1101         D30.5      101 11110 011110 1010  100001 1010
   D31.4     100 11111     101011 0010      010100 1101         D31.5      101 11111 101011 1010  010100 1010
Document #: 38-02065 Rev. *J                                                                          Page 44 of 49


                                                                                           CYP15G0403DXB
  Table 15. Valid Data Characters (TXCTx[0] = 0, RXSTx[2:0] = 000) (continued)
    Data         Bits        Current RD−     Current RD+         Data          Bits   Current RD−  Current RD+
    Byte                                                         Byte
    Name    HGF EDCBA        abcdei fghj     abcdei fghj        Name      HGF EDCBA   abcdei fghj  abcdei fghj
    D0.6     110 00000     100111 0110      011000 0110          D0.7      111 00000 100111 0001  011000 1110
    D1.6     110 00001     011101 0110      100010 0110          D1.7      111 00001 011101 0001  100010 1110
    D2.6     110 00010     101101 0110      010010 0110          D2.7      111 00010 101101 0001  010010 1110
    D3.6     110 00011     110001 0110      110001 0110          D3.7      111 00011 110001 1110  110001 0001
    D4.6     110 00100     110101 0110      001010 0110          D4.7      111 00100 110101 0001  001010 1110
    D5.6     110 00101     101001 0110      101001 0110          D5.7      111 00101 101001 1110  101001 0001
    D6.6     110 00110     011001 0110      011001 0110          D6.7      111 00110 011001 1110  011001 0001
    D7.6     110 00111     111000 0110      000111 0110          D7.7      111 00111 111000 1110  000111 0001
    D8.6     110 01000     111001 0110      000110 0110          D8.7      111 01000 111001 0001  000110 1110
    D9.6     110 01001     100101 0110      100101 0110          D9.7      111 01001 100101 1110  100101 0001
   D10.6     110 01010     010101 0110      010101 0110         D10.7      111 01010 010101 1110  010101 0001
   D11.6     110 01011     110100 0110      110100 0110         D11.7      111 01011 110100 1110  110100 1000
   D12.6     110 01100     001101 0110      001101 0110         D12.7      111 01100 001101 1110  001101 0001
   D13.6     110 01101     101100 0110      101100 0110         D13.7      111 01101 101100 1110  101100 1000
   D14.6     110 01110     011100 0110      011100 0110         D14.7      111 01110 011100 1110  011100 1000
   D15.6     110 01111     010111 0110      101000 0110         D15.7      111 01111 010111 0001  101000 1110
   D16.6     110 10000     011011 0110      100100 0110         D16.7      111 10000 011011 0001  100100 1110
   D17.6     110 10001     100011 0110      100011 0110         D17.7      111 10001 100011 0111  100011 0001
   D18.6     110 10010     010011 0110      010011 0110         D18.7      111 10010 010011 0111  010011 0001
   D19.6     110 10011     110010 0110      110010 0110         D19.7      111 10011 110010 1110  110010 0001
   D20.6     110 10100     001011 0110      001011 0110         D20.7      111 10100 001011 0111  001011 0001
   D21.6     110 10101     101010 0110      101010 0110         D21.7      111 10101 101010 1110  101010 0001
   D22.6     110 10110     011010 0110      011010 0110         D22.7      111 10110 011010 1110  011010 0001
   D23.6     110 10111     111010 0110      000101 0110         D23.7      111 10111 111010 0001  000101 1110
   D24.6     110 11000     110011 0110      001100 0110         D24.7      111 11000 110011 0001  001100 1110
   D25.6     110 11001     100110 0110      100110 0110         D25.7      111 11001 100110 1110  100110 0001
   D26.6     110 11010     010110 0110      010110 0110         D26.7      111 11010 010110 1110  010110 0001
   D27.6     110 11011     110110 0110      001001 0110         D27.7      111 11011 110110 0001  001001 1110
   D28.6     110 11100     001110 0110      001110 0110         D28.7      111 11100 001110 1110  001110 0001
   D29.6     110 11101     101110 0110      010001 0110         D29.7      111 11101 101110 0001  010001 1110
   D30.6     110 11110     011110 0110      100001 0110         D30.7      111 11110 011110 0001  100001 1110
   D31.6     110 11111     101011 0110      010100 0110         D31.7      111 11111 101011 0001  010100 1110
Document #: 38-02065 Rev. *J                                                                          Page 45 of 49


                                                                                                                                            CYP15G0403DXB
 Table 16. Valid Special Character Codes and Sequences (TXCTx = special character code or RXSTx[2:0] = 001)[37, 38]
                                                                S.C. Byte Name
  S.C. Code Name                             Cypress                                         Alternate                         Current RD−              Current RD+
                                                                                                                               abcdei fghj               abcdei fghj
                             S.C. Byte Name                   Bits          S.C. Byte Name                   Bits
                                      [39]                                            [39]
                                                        HGF EDCBA                                      HGF EDCBA
  K28.0                       C0.0         (C00)          000 00000           C28.0        (C1C)         000 11100             001111 0100              110000 1011
  K28.1[40]                   C1.0         (C01)          000 00001           C28.1        (C3C)         001 11100             001111 1001              110000 0110
           [40]
  K28.2                       C2.0         (C02)          000 00010           C28.2        (C5C)         010 11100             001111 0101              110000 1010
  K28.3                       C3.0         (C03)          000 00011           C28.3        (C7C)         011 11100             001111 0011              110000 1100
           [40]
  K28.4                       C4.0         (C04)          000 00100           C28.4        (C9C)         100 11100             001111 0010              110000 1101
  K28.5[40, 41]               C5.0         (C05)          000 00101           C28.5        (CBC)         101 11100             001111 1010              110000 0101
  K28.6[40]                   C6.0         (C06)          000 00110           C28.6        (CDC)         110 11100             001111 0110              110000 1001
  K28.7[40, 42]               C7.0         (C07)          000 00111           C28.7        (CFC)         111 11100             001111 1000               110000 0111
  K23.7                       C8.0         (C08)          000 01000           C23.7        (CF7)         111 10111             111010 1000              000101 0111
  K27.7                       C9.0         (C09)          000 01001           C27.7        (CFB)         111 11011             110110 1000              001001 0111
  K29.7                       C10.0        (C0A)          000 01010           C29.7        (CFD)         111 11101             101110 1000              010001 0111
  K30.7                       C11.0        (C0B)          000 01011           C30.7        (CFE)          111 11110            011110 1000              100001 0111
   End of Frame Sequence
  EOFxx                       C2.1         (C22)          001 00010           C2.1          (C22)        001 00010         −K28.5,Dn.xxx0[43] +K28.5,Dn.xxx1[43]
   Code Rule Violation and SVS Tx Pattern
  Exception[42, 44]           C0.7         (CE0)          111 00000           C0.7         (CE0)         111 00000             100111 1000               011000 0111
  −K28.5[45]                  C1.7         (CE1)          111 00001           C1.7         (CE1)         111 00001             001111 1010               001111 1010
  +K28.5[46]                  C2.7         (CE2)          111 00010           C2.7         (CE2)         111 00010             110000 0101              110000 0101
   Running Disparity Violation Pattern
  Exception[47]               C4.7         (CE4)          111 00100           C4.7         (CE4)         111 00100             110111 0101              001000 1010
  Notes
   37. All codes not shown are reserved.
   38. Notation for Special Character Code Name is consistent with Fibre Channel and ESCON naming conventions. Special Character Code Name is intended to
       describe binary information present on I/O pins. Common usage for the name can either be in the form used for describing Data patterns (i.e., C0.0 through
       C31.7), or in hex notation (i.e., Cnn where nn = the specified value between 00 and FF).
   39. Both the Cypress and alternate encodings may be used for data transmission to generate specific Special Character Codes. The decoding process for received
       characters generates Cypress codes or Alternate codes as selected by the BOE[7:0] configuration inputs.
   40. These characters are used for control of ESCON interfaces. They can be sent as embedded commands or other markers when not operating using ESCON
       protocols.
   41. The K28.5 character is used for framing operations by the receiver. It is also the pad or fill character transmitted to maintain the serial link when no user data is
       available.
   42. Care must be taken when using this Special Character code. When a C7.0 or a C0.7 is followed by a D11.x or D20.x, an alias K28.5 sync character is created.
       These sequences can cause erroneous framing and should be avoided while RFENx = 1.
   43. C2.1 = Transmit either –K28.5+ or +K28.5– as determined by Current RD and modify the Transmission Character that follows, by setting its least significant bit
       to 1 or 0. If Current RD at the start of the following character is plus (+) the LSB is set to 0, and if Current RD is minus (–) the LSB becomes 1. This modification
       allows construction of X3.230 “EOF” frame delimiters wherein the second data byte is determined by the Current RD.
       For example, to send “EOFdt” the controller could issue the sequence C2.1–D21.4– D21.4–D21.4, and the HOTLink Transmitter sends either
       K28.5–D21.4–D21.4–D21.4 or K28.5–D21.5– D21.4–D21.4 based on Current RD. Likewise to send “EOFdti” the controller could issue the sequence
       C2.1–D10.4–D21.4–D21.4, and the HOTLink Transmitter sends either K28.5–D10.4–D21.4– D21.4 or K28.5–D10.5–D21.4–D21.4 based on Current RD.
       The receiver never outputs this Special Character, since K28.5 is decoded as C5.0, C1.7, or C2.7, and the subsequent bytes are decoded as data.
   44. C0.7 = Transmit a deliberate code rule violation. The code chosen for this function follows the normal Running Disparity rules. Transmission of this Special
       Character has the same effect as asserting TXSVS = HIGH. The receiver only outputs this Special Character if the Transmission Character being decoded is
       not found in the tables.
   45. C1.7 = Transmit Negative K28.5 (−K28.5+) disregarding Current RD. The receiver only outputs this Special Character if K28.5 is received with the wrong running
       disparity. The receiver outputs C1.7 if −K28.5 is received with RD+, otherwise K28.5 is decoded as C5.0 or C2.7.
   46. C2.7 = Transmit Positive K28.5 (+K28.5−) disregarding Current RD. The receiver only outputs this Special Character if K28.5 is received with the wrong running
       disparity. The receiver outputs C2.7 if +K28.5 is received with RD−, otherwise K28.5 is decoded as C5.0 or C1.7.
   47. C4.7 = Transmit a deliberate code rule violation to indicate a Running Disparity violation. The receiver only outputs this Special Character if the Transmission
       Character being decoded is found in the tables, but Running Disparity does not match. This might indicate that an error occurred in a prior byte.
Document #: 38-02065 Rev. *J                                                                                                                                 Page 46 of 49


                                                                                                  CYP15G0403DXB
Ordering Information
                                        Package                                                         Operating
   Speed         Ordering Code                                         Package Type
                                         Name                                                           Range
Standard     CYP15G0403DXB-BGXC          BL256      Pb-free 256-Ball Thermally Enhanced Ball Grid Array Commercial
Ordering Code Definition
 CY P 15G 04 03 DXB - BG X C
                                          C - Temperature Grade: commercial
                                          X - Pb-free
                                          BG - Package Type, 256 Ball Grid Array
                                          DXB - Silicon revision
                                          03 - Independent Clocking for each channel available.
                                          04 - No. of Channels
                                          15G - Serial Data rate.
                                          P - Not compliant to SMPTE
                                          CY - Company ID: CY = Cypress.
Package Diagram
                             Figure 3. 256-Lead L2 Ball Grid Array (27 x 27 x 1.57 mm) BL256
                                                                                                         51-85123 *I
Document #: 38-02065 Rev. *J                                                                                   Page 47 of 49


                                                                                              CYP15G0403DXB
Document History Page
 Document Title: CYP15G0403DXB Independent Clock Quad HOTLink II™ Transceiver
 Document Number: 38-02065
                           ISSUE   ORIG. OF
  REV.       ECN NO.                                                  DESCRIPTION OF CHANGE
                            DATE   CHANGE
    **        118422      09/24/02   LNM    New Data Sheet
   *A         125289      04/04/03   CGX    Revised entire data sheet. Redefined device.
   *B         128692      08/14/03   PDS    Provided AC timing information for TXERRx
                                            Added additional information regarding the availability of half-rate RXCLKx±
                                            when REFCLKx is a full-rate clock with RXCKSELx = 1
                                            Added influence of ULCx input on LFIx status
                                            Added influence of DECMODEx on decoder bypass
                                            Revised the text for “Device Configuration and Control Interface” for better
                                            clarity. Removed the timing parameter tRREFDV and added the timing
                                            parameter tRREFDW instead. This change was done to provide a more
                                            meaningful timing parameter. Revised tRREFDA from 9.5 ns to 9.7 ns
                                            Added additional information to “Device Configuration Strategy”
   *C         234390      See ECN    PDS    Removed dependence of DECMODEx on decoder bypass.
                                            Revised AC timing parameters (AC Electrical Characteristics) to match final
                                            device characterization.
                                            Expanded the CDR Range Controller’s permissible frequency offset between
                                            incoming serial signalling rate and Reference clock from ±200-PPM to
                                            ±1500-PPM (changed parameter tREFRX).
   *D         338721      See ECN    SUA    Added CYW15G0403DXB part number for OBSAI RP3 compliance to support
                                            operating data rate up to 1540 MBaud. Made changes to reflect OBSAI RP3
                                            and CPR compliance. Added Pb-Free Package option for all parts listed in the
                                            data sheet. Modified Timing Parameters
                                            Changed MBd to MBaud in SPDSEL pin description
   *E         384307      See ECN    AGT    Revised setup and hold time parameters (tTXDH, tTREFDS, tTREFDH, tRXDv–,
                                            tRXDv+, tRXDV+, tREFxDV–, tREFxDV+)
   *F        1034001      See ECN    UKK    Added clarification for the necessity of JTAG controller reset and the methods
                                            to implement it.
   *G        2897246      03/22/10   CGX    Removed inactive parts from Ordering Information.Updated package diagram.
   *H        2952699      06/15/10   CGX    Removed references to inactive part numbers in the datasheet.
    *I       3277398      06/10/11  SAAC/   Updated Template. Removed existence of CYV and SMPTE from datasheet
                                     CGX    as CYV15G0403DXB part is obsolete.
    *J       4401100    06/09/2014   YLIU   Updated package diagram to current revision.
                                            Updated links in Sales, Solutions, and Legal Information per template.
Document #: 38-02065 Rev. *J                                                                                   Page 48 of 49


                                                                                                                                                                CYP15G0403DXB
Sales, Solutions, and Legal Information
Worldwide Sales and Design Support
Cypress maintains a worldwide network of offices, solution centers, manufacturer’s representatives, and distributors. To find the office
closest to you, visit us at Cypress Locations.
Products                                                                                                    PSoC® Solutions
Automotive                                             cypress.com/go/automotive                            psoc.cypress.com/solutions
Clocks & Buffers                                               cypress.com/go/clocks                        PSoC 1 | PSoC 3 | PSoC 4 | PSoC 5LP
Interface                                                  cypress.com/go/interface
                                                                                                            Cypress Developer Community
Lighting & Power Control                                cypress.com/go/powerpsoc
                                                                                                            Community | Forums | Blogs | Video | Training
                                                                    cypress.com/go/plc
Memory                                                      cypress.com/go/memory                           Technical Support
PSoC                                                             cypress.com/go/psoc                        cypress.com/go/support
Touch Sensing                                                   cypress.com/go/touch
USB Controllers                                                  cypress.com/go/USB
Wireless/RF                                                 cypress.com/go/wireless
© Cypress Semiconductor Corporation, 2002-2014. The information contained herein is subject to change without notice. Cypress Semiconductor Corporation assumes no responsibility for the use of
any circuitry other than circuitry embodied in a Cypress product. Nor does it convey or imply any license under patent or other rights. Cypress products are not warranted nor intended to be used for
medical, life support, life saving, critical control or safety applications, unless pursuant to an express written agreement with Cypress. Furthermore, Cypress does not authorize its products for use as
critical components in life-support systems where a malfunction or failure may reasonably be expected to result in significant injury to the user. The inclusion of Cypress products in life-support systems
application implies that the manufacturer assumes all risk of such use and in doing so indemnifies Cypress against all charges.
Any Source Code (software and/or firmware) is owned by Cypress Semiconductor Corporation (Cypress) and is protected by and subject to worldwide patent protection (United States and foreign),
United States copyright laws and international treaty provisions. Cypress hereby grants to licensee a personal, non-exclusive, non-transferable license to copy, use, modify, create derivative works of,
and compile the Cypress Source Code and derivative works for the sole purpose of creating custom software and or firmware in support of licensee product to be used only in conjunction with a Cypress
integrated circuit as specified in the applicable agreement. Any reproduction, modification, translation, compilation, or representation of this Source Code except as specified above is prohibited without
the express written permission of Cypress.
Disclaimer: CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH REGARD TO THIS MATERIAL, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. Cypress reserves the right to make changes without further notice to the materials described herein. Cypress does not
assume any liability arising out of the application or use of any product or circuit described herein. Cypress does not authorize its products for use as critical components in life-support systems where
a malfunction or failure may reasonably be expected to result in significant injury to the user. The inclusion of Cypress’ product in a life-support systems application implies that the manufacturer
assumes all risk of such use and in doing so indemnifies Cypress against all charges.
Use may be limited by and subject to the applicable Cypress software license agreement.
Document #: 38-02065 Rev. *J                                                                       Revised June 9, 2014                                                                 Page 49 of 49
HOTLink is a registered trademark and HOTLink II and MultiFrame are trademarks of Cypress Semiconductor. CPRI is a trademark of Siemens AG. IBM and ESCON are registered trademarks, and
FICON is a trademark, of International Business Machines. All products and company names mentioned in this document may be the trademarks of their respective holders.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Cypress Semiconductor:
 CYP15G0403DXB-BGXC CYP15G0403DXB-BGC CYP15G0403DXB-BGI
