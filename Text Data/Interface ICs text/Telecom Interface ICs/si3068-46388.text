                                                                                                           Si3068
FCC+ EMBEDDED DIRECT ACCESS ARRANGEMENT
Features
 80 dB dynamic range TX/RX                      Pulse dialing support
  paths to support up to V.92                    Patented >6000 V isolation
  modem speeds                                    technology
 Compliant with 49 PTTs,                        Proprietary isolation capacitor
  including FCC, JATE, China, and                 interface to integrated DAA module
  Korea                                          Line voltage monitor                            Ordering Information
 Integrated analog front end                    Loop current monitor                                See page 36.
  (AFE) and 2- to 4-wire hybrid
                                                 Caller ID support
 Integrated ring detector
                                                 Lead-free and RoHS-compliant
                                                                                                    Pin Assignments
                                                  8-pin ESOIC package
                                                                                                           Si3068
Applications
 V.92 modems                Set-top boxes                      Internet appliances                      Si3068
 Digital televisions        Fax machines                       Multi-function
                                                                                               C1B     1            8   RX
 PDAs                       ePOS terminals                      printers                                    9
                                                                                               C2B     2            7   DCT
                                                                                                            IGND
Description                                                                                   VREG     3            6   QB
                                                                                                CID    4            5   QE
The Si3068 is an integrated direct access arrangement (DAA) for use with
an integrated DAA system-side module. It includes a V.92 quality codec, dc
termination, ac termination, and an integrated hybrid, eliminating the need
for an analog front end (AFE), isolation transformer, relays, optoisolator,                 US Patent # 5,870,046
and a 2- to 4-wire hybrid. It interfaces directly to the integrated system-side             US Patent # 6,061,009
module and features Silicon Laboratories’ patented isolation technology.                    Other Patents Pending
The Si3068 dramatically reduces the board space, component count, and
cost required to implement a DAA compliant with the regulatory
requirements of 49 different PTTs including FCC, JATE, China, and Korea.
Functional Block Diagram
                                            Si3068
                                                                   RX           TIP
                      C1B                       Hybrid and         DCT
         Silicon                                    dc
       Laboratories                             Termination        VREG
                                                                          BOM
        Embedded
                                Isolation                          IGND
       System-side
                      C2B       Interface
       DAA Module
                                                                   CID
                                                Ring Detect        QB           RING
                                                 Off-Hook
                                                                   QE
Rev. 1.0 9/05                                    Copyright © 2005 by Silicon Laboratories                                Si3068


         Si3068
Rev. 1.0       2


                                                                                                                        Si3068
TA B L E O F C O N T E N TS
Section                                                                                                                           Page
1. Electrical Specifications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .4
2. Typical Application Schematic . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .8
3. Bill of Materials . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .9
4. Telephone Line Interface Functional Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
     4.1. Initialization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .10
     4.2. Isolation Barrier . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
     4.3. Parallel Handset Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
     4.4. Loop Current Sensing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
     4.5. Line Voltage Sensing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
     4.6. Off-Hook . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
     4.7. DC Termination . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
     4.8. Transhybrid Balance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
     4.9. Ring Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
     4.10. Ring Validation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .14
     4.11. Ringer Impedance and Threshold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.12. DTMF Dialing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.13. Pulse Dialing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .15
     4.14. Receive Overload . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.15. On-Hook Line Monitor Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .15
     4.16. Caller ID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
     4.17. Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .16
     4.18. Sample Rate Converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
     4.19. Power Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
     4.20. Calibration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .16
     4.21. Revision Identification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
5. Pin Descriptions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35
6. Ordering Guide . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36
7. Package Outline: 8-Pin Exposed Pad SOIC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .37
Contact Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .40
                                                            Rev. 1.0                                                                      3


Si3068
1. Electrical Specifications
Table 1. Recommended Operating Conditions
Parameter*                                     Symbol        Test Condition          Min          Typ      Max        Unit
Ambient Temperature                               TA              F-Grade              0           25       70         °C
*Note: All minimum and maximum specifications are guaranteed and apply across the recommended operating conditions.
       Typical values apply at nominal supply voltages and an operating temperature of 25 °C unless otherwise stated.
Table 2. DAA Loop Characteristics
(VD = 3.0 to 3.6 V, TA = 0 to 70 °C, see Figure 1)
            Parameter                  Symbol                Test Condition                 Min       Typ     Max      Unit
 DC Termination Voltage                  VTR                    IL = 20 mA                   —         —      7.5        V
 DC Termination Voltage                  VTR                   IL = 120 mA                    9        —       —         V
 On-Hook Leakage Current                 ILK                  VTR = –100 V                   —         —       12       µA
 Operating Loop Current                  ILP                                                 15        —      120      mA
 DC Ring Current                                       dc current flowing through            —        1.5       3       µA
                                                         ring detection circuitry
 Ring Detect Voltage*                    VRD                                                 10        15      35      Vrms
 Ring Frequency                          FR                                                  15        —       68       Hz
 Ringer Equivalence Number              REN                                                  —         —      0.2
 *Note: The ring signal is guaranteed to not be detected below the minimum. The ring signal is guaranteed to be detected
        above the maximum.
                                      TIP
                                             +
                                                          600 Ω
                                  Si3068      V TR                                             IL
                                                          10 µF
                                             –
                                   RING
                                   Figure 1. Test Circuit for Loop Characteristics
4                                                           Rev. 1.0


                                                                                                            Si3068
Table 3. DAA AC Characteristics
(TA = 0 to 70 °C, Fs = 8 kHz)
                Parameter                   Symbol              Test Condition                  Min Typ Max        Unit
 Sample Rate                                   Fs                                                7.2     —  16      kHz
 Receive Frequency Response                                  Low –3 dBFS Corner                  —       5  —        Hz
 Transmit Full Scale    Level1                 VFS                   –1 dBm                      —     0.98 —     VPEAK
                            1,2                VFS                   –1 dBm                      —     0.98 —
 Receive Full Scale Level                                                                                         VPEAK
                   3,4,5                       DR                 IL = 100 mA                    —      80  —
 Dynamic Range                                                                                                       dB
 Dynamic Range3,4,5                            DR                  IL = 20 mA                    —      80  —        dB
                                       5,6    THD                  IL = 20 mA                    —      75  —
 Transmit Total Harmonic Distortion                                                                                  dB
 Receive Total Harmonic     Distortion5,6     THD                  IL = 20 mA                    —      –78 —        dB
 Dynamic Range (caller ID      mode)7        DRCID          VIN = 1 kHz, –13 dBm                 —      50  —        dB
 Caller ID Full Scale Level                   VCID                                               —       6  —       VPP
 Notes:
    1. Measured at TIP and RING with 600 Ω. termination at 1 kHz, as shown in Figure 1.
    2. Receive full scale level produces –0.9 dBFS.
    3. DR = 20 x log (rms VFS/rms VIN)+ 20 x log (rms VIN/rms noise, excluding harmonics). VFS is the –1 dBm full-scale
        level.
    4. Measurement is 300 to 3400 Hz. Applies to both transmit and receive paths.
    5. VIN = 1 kHz, –3 dBFS
    6. THD = 20 x log (rms distortion / rms signal).
    7. DRCID = 20 x log (rms VCID/rms VIN)+ 20 x log (rms VIN/rms noise). VCID is the 6 V full-scale level.
                                                         Rev. 1.0                                                       5


Si3068
Table 4. Digital FIR Filter Characteristics—Transmit and Receive
(Sample Rate = 8 kHz, TA = 0 to 70 °C)
 Parameter                                          Symbol             Min             Typ      Max Unit
 Passband (0.1 dB)                                  F(0.1 dB)           0               —       3.3 kHz
 Passband (3 dB)                                     F(3 dB)            0               —       3.6 kHz
 Passband Ripple Peak-to-Peak                                          –0.1             —       0.1  dB
 Stopband                                                               —              4.4       —  kHz
 Stopband Attenuation                                                  –74              —        —   dB
 Group Delay                                           tgd              —             12/Fs      —    s
 Note: Typical FIR filter characteristics for Fs = 8000 Hz are shown in Figures 2, 3, 4, and 5.
6                                                             Rev. 1.0


                                                                                                                       Si3068
Attenuation—dB                                                         Attenuation—dB
                          Input Frequency—Hz                                                      Input Frequency—Hz
                  Figure 2. FIR Receive Filter Response                                 Figure 4. FIR Transmit Filter Response
 Attenuation—dB                                                        Attenuation—dB
                          Input Frequency—Hz                                                      Input Frequency—Hz
          Figure 3. FIR Receive Filter Passband Ripple                       Figure 5. FIR Transmit Filter Passband Ripple
                                 For Figures 2–5, all filter plots apply to a sample rate of
                                 Fs = 8 kHz. The filters scale with the sample rate as follows:
                                 F(0.1 dB) = 0.4125 Fs
                                 F(–3 dB) = 0.45 Fs
                                 where Fs is the sample frequency.
                                                                 Rev. 1.0                                                        7


8
                                                                        1R *URXQG 3ODQH ,Q '$$ 6HFWLRQ
                                                                                                                                4
                                                                                                                                                                                                                     Si3068
                                                                                                            5
                                                                                                                                     4
                                                                  5            5    5
                                                                                                 =
                                                                        
                                                                                                                       5
                       &                                                                                        =
                 5                                                        &                        5                                      5
                                                        8
                                                        6L
           &$                                                   
                       &                        &%        5;                                                                           4
           &$                                                    
                 5                             &%       '&7
                                                                  
                                                 9''        4%
                                                         ,*1'     
                                                  &,'        4(
                                  5                   
                                                                                                                                                                                  2. Typical Application Schematic
                       &   &         &       5                        5      5
                                                                                                                      &
Rev. 1.0
                                                                                            5
                                                                                                                                                                           5,1*
                                                                                                                                                )%            )%
                                                                                                                 '    '
                                                                                                                                                          &
                                                                                                                                                                     59
                                                                                                                 '        '
                                                                                                                                                          &
                                                                                            5
                                                                                                                                                                           7,3
                                                                                                                                                    )%        )%


                                                                                                           Si3068
3. Bill of Materials
         Component                                      Value                                     Supplier(s)
            C1, C2                             33 pF, Y2, X7R, ±10%                     Panasonic, Murata, Vishay
               C3                            10 nF, 250 V, X7R, ±20%                            Venkel, SMEC
               C4                             1.0 µF, 35 V, Elec, ±20%                            Panasonic
               C5                             0.1 µF, 16 V, X7R, ±20%                           Venkel, SMEC
            C8, C9                            680 pF, Y2, X7R, ±10%                     Panasonic, Murata, Vishay
              C11                            220 pF, 50 V, X7R, ±10%                            Venkel, SMEC
              C12                          DNP 0.1 µF, 16 V, X7R, ±20%                          Venkel, SMEC
        D1, D2, D3, D41                        Diode, 400 V, 1N4004                        Central Semiconductor
     FB1, FB2, FB3, FB42                Ferrite Bead, BLM18AG601SN1B                                Murata
            Q1, Q3                             NPN, 300 V, MPSA42                             OnSemi, Fairchild
               Q2                              PNP, 300 V, MPSA92                             OnSemi, Fairchild
              RV1                              Sidactor, 275 V, 100A                      Teccor, Protek, ST Micro
              R13                                  205 Ω, 1 W, 1%                        Venkel, SMEC, Panasonic
                 4
              R2                                   243 Ω, 1 W, 1%                        Venkel, SMEC, Panasonic
               R4                                3.9 kΩ, 1/16 W, 5%                      Venkel, SMEC, Panasonic
            R5, R6                              100 kΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
            R7, R8                               10 MΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
              R10                                 1 kΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
           R12, R13                               56 Ω, 1/16 W, 1%                       Venkel, SMEC, Panasonic
              R22                              DNP 0 Ω, 1/16 W, 5%                       Venkel, SMEC, Panasonic
              R18                               1.5 MΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
              R19                               180 kΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
           R20, R21                               3 MΩ, 1/16 W, 5%                       Venkel, SMEC, Panasonic
               U2                                      Si3068                                Silicon Laboratories
             Z1, Z2                          Zener Diode, 20 V, 1/2 W                     General Semiconductor
Notes:
   1. Several diode bridge configurations are acceptable, parts such as a single DF-04S or two CMPD2004S dual diodes
       may be used (suppliers include General Semiconductor, Diodes Inc., etc.)
   2. 0 Ω may be substituted for FB3, FB4 depending on emissions performance.
   3. Three 619 Ω 1/4 W 1% in parallel configuration may be substituted for R1.
   4. Three 732 Ω 1/4 W 1% in parallel configuration may be substituted for R2.
                                                          Rev. 1.0                                                   9


Si3068
4. Telephone Line Interface                                   4.3. Parallel Handset Detection
     Functional Description                                   The Si3068 can detect a parallel handset going off-
                                                              hook. When the DAA is off-hook, the loop current can
Together, the integrated system-side and Si3068               be monitored via the LCS bits (Register 12, bits 4:0). A
comprise an integrated direct access arrangement              significant drop in loop current can signal a parallel
(DAA) that provides a programmable line interface to          handset going off-hook. If a parallel handset causes the
meet the telephone line interface requirements of             LCS bits to read 0s, the DropOut Detect Interrupt bit
countries worldwide. The device implements Silicon            (Register 4, bit 3) can be checked to verify that a valid
Laboratories’ patented isolation technology, which offers     line still exists.
the highest level of integration by replacing an analog
                                                              For the Si3068 to operate in parallel with another
front end (AFE), an isolation transformer, relays, opto-
                                                              handset, the parallel handset must have a sufficiently
isolators, a 2- to 4-wire hybrid, and other circuitry.
                                                              high dc termination impedance to support two DAAs off
The Si3068 can be fully programmed to meet                    hook on the same line.
international requirements and is compliant with FCC,
JATE, and numerous other country-specific PTT                    Table 5. Country-Specific PTT Specifications
specifications as shown in Table 5. Also, the Si3068
meets the most stringent requirements for out-of-band                                  Country
energy, emissions, immunity, lightning surges, and             Argentina                     Kyrgyzstan
safety.                                                        Armenia                       Macao
4.1. Initialization                                            Bahamas                       Mexico
                                                               Bangladesh                    Moldova
The following is an example initialization procedure:
                                                               Belarus                       New Zealand2
1. Select the desired sample rate using the SRC bits
                                                               Bermuda                       Paraguay
    (Register 7, bits 3:0).
                                                               Brazil                        Peru
2. Power up the line side by clearing the PDL bit
    (Register 6, bit 4).                                       Brunei                        Puerto Rico
3. Enable AOUT (if applicable) by setting ARM[7:0]             Canada                        Russia
    (Register 20, bits 7:0) and ATM[7:0] (Register 21,         Caribbean                     Saudi Arabia
    bits 7:0) to the desired level.                            Chile                         Singapore
4. Prior to receiving or transmitting data, ensure FDT         China                         South Korea3
    (Register 12) is set indicating the Si3068 is ready for    Colombia                      Sri Lanka
    normal operation.
                                                               Costa Rica                    Taiwan
After the procedure is complete, the DAA is ready for          Dominican Republic            Thailand
off-hook, on-hook line monitoring, and ring detection.
                                                               Ecuador                       Tunisia
4.2. Isolation Barrier                                         El Salvador                   UAE
The Si3068 achieves an isolation barrier through low-          Georgia                       Ukraine
cost, high-voltage capacitors in conjunction with Silicon      Guam                          Uruguay
Laboratories’ proprietary signal processing techniques.        Hong Kong                     Uzbekistan
These techniques eliminate signal degradation from
                                                               India                         USA
capacitor mismatches, common mode interference, or
noise coupling. The C1, C2, C8, and C9 capacitors              Indonesia                     Venezuela
                                                                       1
isolate the system-side device from the Si3068 line-side       Japan                         Vietnam
device. All transmit, receive, control, ring detect, and       Kazakhstan                    Yemen
caller ID data are communicated through this barrier. Y2       Kuwait
class capacitors can be used to achieve surge
                                                               Notes:
performance of 6 kV or greater.
                                                                   1. DCR exceeds 300 Ω; disclaimer required in
The isolated communications link is disabled by default.                product documentation.
To enable it, the PDL bit (Register 6, bit 4) must be              2. 600 Ω ac termination used; disclaimer required in
cleared. No communication between the system-side                       product documentation.
and Si3068 can occur until this bit is cleared and the             3. Additional components required to pass ringer
FDT bit (Register 12, bit 6) is high.                                   impedance specifications.
10                                                       Rev. 1.0


                                                                                                       Si3068
4.4. Loop Current Sensing                                     4.4.1. Loop Current Measurement
The Si3068 measures loop current when off-hook. The           When the DAA is off-hook, the LCS[4:0] bits measure
LCS[4:0] bits measure loop current with 3.3 mA/bit            loop current with 3.3 mA/bit resolution. These bits can
resolution. The following functions can be performed          be used to detect another device going off-hook by
with the LCS bits:                                            monitoring the dc loop current. The transfer function for
                                                              LCS is shown in Figure 6 and is detailed in Table 6. The
  While off-hook, detect if a parallel phone goes on- or
                                                              LCS bits report loop current down to the minimum
   off-hook.
                                                              operating loop current for the DAA. Below this
 Determine if sufficient loop current is available for
                                                              threshold, the reported value of loop current is
   proper operation.                                          unpredictable and may vary between zero and the
 Detect if there is an overload condition.                   minimum operating current.
                                                              When the LCS bits have reached their maximum value,
                                                              the Loop Current Sense Overload Interrupt bit fires;
                                                              however, LCSOI firing does not necessarily guarantee
                                                              that an overload situation has occurred.
                                                                                                 Overload
        30
        25
        20
 LCS BITS
        15
        10
         5
         0
           0        13.2                                                                      102.3           160
                                                     Loop Current (mA)
                                   Figure 6. Typical LCS Transfer Function
                               Table 6. Loop Current Sense Transfer Function
             LCS[4:0]                                              Condition
         00000b – 00011b     Insufficient line current for normal operation. Use the DODI bit
                             (Register 4, bit 3) to determine if a line is still connected.
         00100b – 11110b     Normal operation.
              11111b         Loop current is excessive (>160 mA).
                                                         Rev. 1.0                                                    11


Si3068
4.5. Line Voltage Sensing
The Si3068 measures line voltage when on-hook. The LVS[6:0] bits (register 29) report line voltage with 1 V/bit
resolution (typical). The LVS bits can be used to determine if a line is present and, if so, if it is idle or in use. Since
these operations can be performed while on-hook, there is no need to enter the off-hook state and possibly disturb
a call in progress to determine the status of the line. The typical LVS transfer function is shown in Figure 7 and
detailed in Table 7.
                       127
                     LVS
                          4
                          0
                            0    3 4                                                     126
                                                     Line Voltage (V)
                              Figure 7. Line Voltage Status Transfer Function
                               Table 7. Line Voltage Status Transfer Function
                         LVS[6:0]                                      Line Voltage
                         0000000b              VLINE < 3.5 V
                   0000100b – 1111110b         3.5 V < VLINE < 126.5 V
                         1111111b              VLINE > 126.5 V
12                                                    Rev. 1.0


                                                                                                         Si3068
4.6. Off-Hook                                                  occur. After this, an ADC calibration is performed for
                                                               256 ms. The ADC calibration can be disabled by setting
The software generates an off-hook command by
                                                               the ADCC bit (Register 17, bit 5). Refer to Section "4.20.
setting the OH bit (Register 5, bit 0). This seizes the line
                                                               Calibration" on page 16 for more information on
for incoming/outgoing calls and can also be used for
                                                               automatic calibration. To calculate the total time
pulse dialing. When on-hook, negligible dc current flows
                                                               required to go off-hook and start transmission or
through the hookswitch. When off-hook, the hookswitch
                                                               reception, the digital filter delay (typically 1.5 ms with
transistor pair, Q1 and Q2, turn on. A termination
                                                               the FIR filter) should be included in the calculation.
impedance is applied across TIP and RING and causes
dc loop current to flow.                                       4.7. DC Termination
Several events occur internally to the DAA when the OH         The Si3068 dc I/V characteristics, shown in Figure 8,
bit is set. There is a 250 µs latency for the off-hook         support a transmit full scale level of –1 dBm at TIP and
command to communicate to the line-side device. When           RING. This meets FCC requirements and the
the line-side device goes off-hook, an off-hook counter        requirements of many other countries.
forces a delay before transmission or reception can
                                                          DCIV
                           25
                           20
       Vtip-ring (Volts)
                           15
                           10
                           5
                           0
                                0   20        40               60            80            100            120
                                                    Loop Current (mA)
                                         Figure 8. DC I/V Characteristics
                                                         Rev. 1.0                                                     13


Si3068
4.8. Transhybrid Balance                                     4.10. Ring Validation
The Si3068 contains an on-chip analog hybrid that            This feature prevents false ring detection by validating
performs the 2- to 4-wire conversion and near-end echo       the ring parameters. Invalid signals, such as line-
cancellation.                                                voltage changes when a parallel handset goes off-hook,
                                                             pulse dialing, polarity reversals, and high-voltage line
4.9. Ring Detection                                          tests, are ignored. Ring validation can be enabled
Ring detection can be performed by monitoring the ring       during normal operation and in low-power sleep mode.
detector output or by observing the audio CODEC data.        The ring validation circuit operates by calculating the
The ring detector output can be monitored with the           time between alternating crossings of positive and
register bits, RDTN, RDTP, and RDT (Register 5, bits 6,      negative ring thresholds to validate that the ring
5, and 2). Software must detect the frequency of the ring    frequency is within tolerance. High- and low-frequency
signal to distinguish a ring from pulse dialing by           tolerances are programmable in the RAS[5:0] and
telephone equipment connected in parallel.                   RMX[5:0] fields. The RCC[2:0] bits define the length of
Alternatively, hardware ring validation can be used. See     time the ring signal must be within tolerance. Once the
Section "4.10. Ring Validation".                             duration of the ring frequency is validated by the RCC
The ring detector output is controlled by the RFWE bit       bits, the circuitry stops checking for frequency tolerance
(Register 18, bit 1). When the RFWE bit is 0 (default        and begins checking for the end of the ring signal, which
mode), only positive ring signals are reported by the ring   is defined by a lack of additional threshold crossings for
detector. A positive ring signal is defined as a voltage     a period of time configured by the RTO[3:0] bits. When
greater than the ring threshold at the QE pin.               the ring frequency is first validated, a timer defined by
Conversely, a negative ring signal is defined as a           the RDLY[2:0] bits is started. If the RDLY[2:0] timer
voltage less than the negative ring threshold. When the      expires before the ring timeout, the ring is validated, and
RFWE bit is 1, the ring detector reports both positive       a valid ring is indicated. If the ring timeout expires
and negative ring signals.                                   before the RDLY[2:0] timer, a valid ring is not indicated.
The RDTP and RDTN behavior is based on the ring              Ring validation requires five parameters:
voltage. When the signal is above the positive ring             Timeout parameter to place a lower limit on the
threshold, the RDTP bit is set. When the signal is below         frequency of the ring signal on the RAS[5:0] bits
the negative ring threshold, the RDTN bit is set. When           (Register 24, bits 5:0). The frequency is measured
the signal is between these thresholds, neither bit is set.      by calculating the time between crossings of positive
The RDT behavior is also based on the ring voltage.              and negative ring thresholds.
When the RFWE bit is 0, a positive ring signal sets the       Minimum count to place an upper limit on the
RDT bit for a period of time. When the RFWE bit is 1,            frequency on the RMX[5:0] bits (Register 22, bits
either a positive or negative ring signal sets the RDT bit.      [5:0]).
The audio CODEC data also signals ring events when            Time interval over which the ring signal must be the
on-hook. If the RFWE bit is 0, the CODEC output is               correct frequency on the RCC[2:0] bits (Register 23,
fixed at –32768 when a ring is not present. The CODEC            bits [2:0]).
data becomes +32767 upon detection of a positive ring.        Timeout period that defines when the ring pulse has
Negative rings will be ignored and have no effect on the         ended with the most recent ring threshold crossing
CODEC data while RFWE is 0.                                      on the RTO [3:0] bits (Register 23, bits 6:3).
When on-hook with RFWE = 1, the CODEC data is                 Delay period between when the ring signal is
fixed at +1228 when a ring is not present. The CODEC             validated and when a valid ring signal is indicated to
data becomes +32767 upon detection of a positive ring            help accommodate distinctive ring on the RDLY [2]
or –32768 upon detection of a negative ring.                     bit (Register 23, bit 7).
The RDT bit acts like a one shot. When a new ring            The ring validation enable bit, RNGV (Register 24, bit
signal is detected, the one shot is reset. If no new ring    7), enables or disables the ring validation feature in
signals are detected before the one shot counter             normal operating mode and low-power sleep mode. For
reaches 0 (5 seconds), the RDT bit returns to 0. The         further details, see “AN72: Ring Detection/Validation
RDT bit is also reset to 0 by an off-hook event.             with the Si305x DAAs.”
14                                                      Rev. 1.0


                                                                                                       Si3068
4.11. Ringer Impedance and Threshold                        DTMF signaling. DTMF levels several dB higher can be
                                                            achieved with this technique, compared with a digital
The ring detector in many DAAs is ac-coupled to the
                                                            full-scale peak signal.
line with a large 1 µF, 250 V decoupling capacitor. The
ring detector on the Si3068 is resistively coupled to the   4.13. Pulse Dialing
line. The network presents a high ringer impedance to
                                                            Going off- and on-hook to generate make and break
the line of approximately 5 MΩ to meet the majority of
                                                            pulses accomplishes pulse dialing. The nominal rate is
PTT specifications, including FCC. The ringer
                                                            10 pulses per second.
impedance network shown in Figure 9 is required for
compliance with the ringer impedance requirements of        4.14. Receive Overload
South Korea. This network is only required if the
                                                            Certain line events, such as an off-hook event on a
application will be deployed in South Korea. The
                                                            parallel phone, a billing tone, or a polarity reversal, can
network components are detailed in Table 8.
                                                            cause a receiver overload. Although the DAA may
                                                            remain off-hook during such an event, the data received
                     TIP                                    from the line may be corrupted.
                                                            If a disturbance on the line causes the loop current to
                                        C15                 collapse below the minimum operating current, the
                                                            dropout detect bit, DOD, is set. An interrupt will be
                                                            generated if the dropout detect interrupt mask bit,
                                                            DODM, is set.
                                       R14                  4.15. On-Hook Line Monitor Mode
                                                            The DAA monitors line activity when in on-hook line-
                                       Z2                   monitor mode. This mode detects caller ID data, and no
                                                            line current is drawn. See Section “4.16. Caller ID” on
                                                            page 15. This mode is enabled by setting the ONHM bit
                                                            (Register 5, bit 3). ARX [2:0] (Register 15, bits 2:0)
                                       Z3                   provides gain to the normal receive path of the DAA and
                                                            functions as a gain bit for the on-hook line monitor.
                  RING
     Figure 9. South Korea Ringer Impedance                 4.16. Caller ID
                           Network                          The DAA can pass caller ID data from the phone line to
                                                            a software caller ID decoder.
                                                            4.16.1. Type I Caller ID
     Table 8. South Korea Ringer Impedance
                  Network Components                        Type I Caller ID sends the CID data while the phone is
                                                            on-hook. In systems where the caller ID data is passed
          Item                         Value                on the phone line between the first and second rings,
                                                            utilize the following method to capture the caller ID data:
          C15                       1 mF, 250 V
                                                            1. After identifying a ring signal using one of the
          R14                      7.5 kΩ, 1/4 W                 methods described in Section "4.9. Ring Detection"
            Z2                          18 V                     on page 14, determine when the first ring has
                                                                 completed.
            Z3                          18 V
                                                            2. Assert the ONHM bit (Register 5, bit 3) to enable the
4.12. DTMF Dialing                                               caller ID ADC. This low-current ADC, which is
The Si3068 meets all the country requirements for                powered from the system-side device, digitizes the
DTMF dialing listed in Table 5 on page 10. Higher                caller ID data.
DTMF levels can be achieved if the amplitude is             3. Clear the ONHM bit after the caller ID data is
increased and the peaks of the DTMF signal are clipped           received.
at digital full scale, avoiding wrapping the waveform.
Clipping the signal produces distortion and
intermodulation of the signal. Generally, increased
distortion between 10 and 20% is acceptable during
                                                       Rev. 1.0                                                      15


Si3068
4.16.2. Type II Caller ID                                     except for the isolated capacitor link. No communication
Type II Caller ID sends the CID data while the phone is       between the system side and Si3068 can occur during
off-hook and is often referred to as caller ID/call waiting   reset operation. Register bits associated with the
(CID/CW). To receive the CID data while off-hook, use         Si3068 are not valid in this mode.
the following procedure:                                      The most common mode of operation is normal
1. The Caller Alert Signal (CAS) tone is sent from the        operation. The PDL and PDN bits are cleared, and the
    Central Office (CO) and is digitized along with the       capacitive link is passing information between the
    line data. The software must detect the presence of       system side and the Si3068. A valid sample rate must
    this tone.                                                be programmed before entering this mode.
2. Since the DAA is the only device on the line and is        The Si3068 supports a low-power sleep mode for the
    Type II CID-compliant, the software must mute its         wake-up-on-ring feature of many modems. The sample
    upstream data output to avoid propagation of its          rate must be programmed with a valid non-zero value
    reply tone and the subsequent CID data. After             before enabling sleep mode. The PDN bit must then be
    muting its upstream data output, the software must        set; the PDL bit cleared. To take the DAA out of sleep
    then return an acknowledgement (ACK) tone to the          mode, pulse (RESET) low.
    CO to request the transmission of the CID data.           In summary, the powerdown sequence for sleep mode
3. The CO then responds with the CID data, and the            is as follows:
    software unmutes the upstream data output and             1. SRC[3:0] must have a valid non-zero value.
    continues with normal operation.                          2. Set the PDN bit (Register 6, bit 3) and clear the PDL
4. The muting of the upstream data path by the                    bit (Register 6, bit 4).
    software mutes the handset in a telephone                 The power-up sequence is as follows:
    application so the user cannot hear the
                                                              1. Reset the DAA by pulsing the RESET pin.
    acknowledgement tone and CID data being sent.
                                                              2. Program registers to required settings.
The CID data presented to the software could have up
to a 10% dc offset. The software caller ID decoder must       The Si3068 also supports an additional powerdown
either use a high-pass or a band-pass filter to accurately    mode. When the PDN and PDL bits are set, the DAA
retrieve the caller ID data.                                  enters a complete powerdown mode and draws
                                                              negligible current (deep sleep mode). Normal operation
4.17. Gain Control                                            is restored using the same process for taking the DAA
The Si3068 supports multiple receive gain and transmit        out of sleep mode.
attenuation settings (Register 15). The receive path          4.20. Calibration
supports gains of 0, 3, 6, 9, and 12 dB, as selected with
the ARX[2:0] bits. The receive path can be muted with         The Si3068 initiates an auto-calibration by default when
the RXM bit. The transmit path supports attenuations of       the device goes off-hook or experiences a loss in line
0, 3, 6, 9, and 12 dB, as selected with the ATX[2:0] bits.    power. Calibration removes offsets that are present in
The transmit path can be muted with the TXM bit.              the on-chip ADC and could affect the ADC dynamic
                                                              range. Auto-calibration is initiated after the DAA dc
4.18. Sample Rate Converter                                   termination stabilizes and takes 273 ms to complete.
The SRC [3:0] bits (Register 7, bits 3:0) are used to         4.21. Revision Identification
select the sample rate. The following sample rates are
supported: 7200, 8000, 8229, 8400, 9000, 9600, 10286,         The revision of the system-side module and line-side
12000, 13714, and 16000 Hz.                                   (Si3068) can be determined using the REVA[3:0] bits
                                                              (Register 11, bits 3:0) and REVB[3:0] bits (Register 13,
4.19. Power Management                                        bits 5:2), respectively. Table 9 lists the revision values.
The Si3068 supports four basic power management
operation modes: normal operation, reset operation,                      Table 9. Si3068 Revision Levels
sleep mode, and full powerdown mode. The power
                                                                       Si3068 Revision          Si3068 REVB[3:0]
management modes are controlled by the PDL and
PDN bits (Register 6, bits [4:3]).                                            A                         1000
Upon powerup or following a reset, the Si3068 is in                           B                         1001
reset operation. The PDL bit is set, and the PDN bit is
cleared. The system-side module is fully operational
16                                                       Rev. 1.0


                                                                                           Si3068
5. Register Summary
 Offset Name                       Bit 7    Bit 6     Bit 5    Bit 4    Bit 3    Bit 2   Bit 1   Bit 0
    1   Control 1                    SR                 PWMM[1:0]      PWME               IDL
    2   Control 2                                             WDTE       AL     RDM      HBE     RXE
    3   Interrupt Mask             RDTM               FDTM             DODM     LCSM
    4   Interrupt Status           RDTI               FDTI             DODI      LCSI
    5   DAA Control 1                      RDTN       RDTP             ONHM      RDT             OH
    6   DAA Control 2                                          PDL      PDN
    7   Sample Rate Control                                                         SRC[3:0]
    8   Reserved
    9   Reserved
   10   DAA Control 3                                                                            DDL
   11   System-Side Revision                   LSID[3:0]                            REVA[3:0]
   12   Line-Side Status                    FDT                                LCS[4:0]
   13   Line-Side Revision                                      REVB[3:0]
   14   Reserved
   15   TX/RX Gain Control          TXM             ATX[2:0]            RXM             ARX[2:0]
   16   Reserved
   17   Calibration                                  ADCC
   18   International Control 3                                                         RFWE
   19   Dropout Detect                                                                   DOD
   20   Call Progress                                             ARM[7:0]
        RX Attenuation
   21   Call Progress                                             ATM[7:0]
        TX Attenuation
   22   Ring Validation Control 1     RDLY[1:0]                            RMX[5:0]
   23   Ring Validation Control 2 RDLY[2]                RTO[3:0]                       RCC[2:0]
   24   Ring Validation Control 3  RNGV                                    RAS[5:0]
   25   Reserved
   26   Reserved
   27   Reserved
   28   Reserved
   29   Line Voltage Status                                           LVS[6:0]
 30–59  Reserved
   60   Line-side ID                                                            LSID4
                                                Rev. 1.0                                              17


Si3068
DAA Register 1. Control 1
     Bit          D7         D6            D5             D4            D3      D2            D1         D0
   Name          SR                          PWMM[1:0]                 PWME                  IDL
    Type         R/W                              R/W                   R/W                  R/W
Reset settings = 0000_0x0x
  Bit       Name                                                    Function
   7          SR       Software Reset.
                       0 = Enables DAA for normal operation.
                       1 = Sets all registers to their reset value.
                       Note: Bit clears automatically after being set.
   6       Reserved    Always write as zero. Reads undefined.
  5:4    PWMM[1:0]     Pulse-Width Modulation Mode.
                       Selects the type of signal on the call progress AOUT pin.
                       00 = PWM output clocked at 16.384 MHz. A local density of 1s and 0s tracks the com-
                       bined transmit and receive signal.
                       01 = Balanced conventional PWM output signal has high and low portions of the modu-
                       lated pulse centered on the 32 kHz sample clock.
                       10 = Conventionally PWM output signal returns to 0 at 32 kHz intervals and rises at a
                       time in the 32 kHz period proportional to the instantaneous amplitude.
                       11 = Reserved.
   3        PWME       Pulse-Width Modulation Enable.
                       0 = Call progress PWM AOUT disabled.
                       1 = Call progress PWM AOUT enabled.
   2       Reserved    Read returns zero.
   1         IDL       Isolation Digital Loopback.
                       0 = Digital loopback across isolation barrier disabled.
                       1 = Enables digital loopback mode across isolation barrier. The line-side device must be
                       enabled and off-hook before setting this mode. This data path includes RX and TX filters.
                       A valid phone line is not necessary for this mode.
   0       Reserved    Read returns zero.
18                                                     Rev. 1.0


                                                                                                   Si3068
DAA Register 2. Control 2
    Bit           D7          D6           D5           D4          D3          D2           D1           D0
  Name                                                 WDTE         AL         RDM          HBE          RXE
   Type                                                 R/W        R/W          R/W          R/W          R/W
Reset settings = xxx0_0011
 Bit        Name                                                Function
 7:5       Reserved    Always write this bit to zero. Reads undefined.
  4         WDTE       DAA Watchdog Timer Enable.
                       0 = Watchdog timer disabled.
                       1 = Watchdog timer enabled. When set, this bit is cleared only by a hardware reset. The
                       watchdog timer monitors DAA register writes. If a register write does not occur within a
                       4.096 second window, the DAA is put into an on-hook state. Only a write of a DAA regis-
                       ter restarts the timer.
  3           AL       Analog Loopback.
                       0 = Analog loopback mode disabled.
                       1 = Enables external analog loopback mode.
  2          RDM       Ring Detect Mode.
                       0 = Ring detect on positive threshold.
                       1 = Ring detect on positive and negative threshold.
  1          HBE       Hybrid Enable.
                       0 = Disconnects hybrid in transmit path.
                       1 = Connects hybrid in transmit path.
  0          RXE       Receive Enable.
                       0 = Receive path disabled.
                       1 = Enables receive path.
                                                      Rev. 1.0                                                  19


Si3068
DAA Register 3. Interrupt Mask
     Bit          D7         D6           D5            D4          D3          D2     D1 D0
   Name         RDTM                     FDTM                     DODM         LCSM
    Type         R/W                      R/W                      R/W          R/W
Reset settings = 0x0x_00xx
  Bit       Name                                               Function
   7        RDTM       Ring Detect Interrupt Mask.
                       0 = A ring signal does not cause an interrupt.
                       1 = A ring signal causes an interrupt.
   6       Reserved    Always write this bit to zero. Reads undefined.
   5        FDTM       Frame Detect Interrupt Mask.
                       0 = Isolation capacitor frame lock does not cause an interrupt.
                       1 = Isolation capacitor frame lock causes an interrupt.
   4       Reserved    Always write this bit to zero. Reads undefined.
   3        DODM       Drop Out Detect Interrupt Mask.
                       0 = A line supply dropout does not cause an interrupt.
                       1 = A line supply dropout causes an interrupt.
   2        LCSM       Loop Current Sense Overload Interrupt Mask.
                       0 = Loop current sense overload does not cause an interrupt.
                       1 = Loop current sense overload causes an interrupt.
  1:0      Reserved    Always write this bit to zero. Reads undefined.
20                                                    Rev. 1.0


                                                                                                Si3068
DAA Register 4. Interrupt Status
    Bit           D7         D6           D5            D4            D3    D2             D1           D0
  Name          RDTI                     FDTI                       DODI   LCSI
   Type          R/W                     R/W                        R/W     R/W
Reset settings = 0x0x_00xx
 Bit        Name                                                 Function
  7          RDTI      Ring Detect Interrupt Status.
                       0 = No ring.
                       1 = Ring detected. Write 0 to clear.
  6        Reserved    Always write this bit to zero. Reads undefined.
  5          FDTI      Frame Detect Interrupt Status.
                       0 = Frame detect established.
                       1 = Frame detect lost. Write 0 to clear.
  4        Reserved    Always write this bit to zero. Reads undefined.
  3          DODI      Drop Out Detect Interrupt Status.
                       0 = Line-side power available.
                       1 = Line-side power unavailable.
  2          LCSI      Loop Current Sense Overload Interrupt.
                       0 = The LCS bits have not reached max (all ones).
                       1 = The LCS bits have reached max value. If the LCSM bit is set, a hardware interrupt
                       occurs. This bit must be written to 0 to clear it.
 1:0       Reserved    Always write this bit to zero. Reads undefined.
                                                      Rev. 1.0                                               21


Si3068
DAA Register 5. DAA Control 1
     Bit          D7         D6            D5           D4           D3            D2          D1          D0
   Name                     RDTN         RDTP                     ONHM            RDT                      OH
    Type                      R            R                        R/W             R                      R/W
Reset settings = x00x_00x0
  Bit       Name                                                Function
   7       Reserved    Always write this bit to zero. Reads undefined.
   6        RDTN       Ring Detect Signal Negative.
                       0 = No ring signal is occurring.
                       1 = A negative ring signal is occurring.
   5        RDTP       Ring Detect Signal Positive.
                       0 = No ring signal is occurring.
                       1 = A positive ring signal is occurring.
   4       Reserved    Always write this bit to zero. Reads undefined.
   3        ONHM       On-Hook Line Monitor.
                       0 = Normal on-hook mode.
                       1 = Enables low-power monitoring mode allowing the DAA to receive line activity without
                       going off-hook. This mode is used for caller-ID detection.
   2         RDT       Ring Detect.
                       0 = Reset either five seconds after last positive ring is detected or when the system exe-
                       cutes an off-hook.
                       1 = Indicates a ring is occurring.
   1       Reserved    Always write this bit to zero. Reads undefined.
   0          OH       Off-Hook.
                       0 = Line-side device on-hook.
                       1 = Causes the line-side device to go off-hook.
22                                                    Rev. 1.0


                                                                                                   Si3068
DAA Register 6. DAA Control 2
    Bit           D7        D6            D5            D4          D3        D2            D1         D0
  Name                                                 PDL         PDN
   Type                                                R/W         R/W
Reset settings = xxx1_0xxx
 Bit        Name                                               Function
 7:5       Reserved    Always write this bit to zero. Reads undefined.
  4          PDL       Powerdown Line-Side Chip.
                       0 = Normal operation. Program the clock generator before clearing this bit.
                       1 = Powers down the Si3068.
  3          PDN       Powerdown DAA.
                       0 = Normal operation.
                       1 = Powers down the DAA logic. A DAA soft reset is required to restore normal operation.
 2:0       Reserved    Always write this bit to zero. Reads undefined.
                                                      Rev. 1.0                                               23


Si3068
DAA Register 7. Sample Rate Control
     Bit          D7         D6           D5            D4          D3  D2          D1 D0
   Name                                                                    SRC[3:0]
    Type                                                                     R/W
Reset settings = xxxx_0001
  Bit       Name                                               Function
  7:4      Reserved    Always write this bit to zero. Reads undefined.
  3:0      SRC[3:0]    Sample Rate Control.
                       Sets the sampling rate.
                       0000 = 7200 Hz
                       0001 = 8000 Hz
                       0010 = 8229 Hz
                       0011 = 8400 Hz
                       0100 = 9000 Hz
                       0101 = 9600 Hz
                       0110 = 10286 Hz
                       0111 = 12000 Hz
                       1000 = 13714 Hz
                       1001 = 16000 Hz
                       1010–1111 = Reserved
DAA Register 8. Reserved
     Bit          D7         D6           D5            D4          D3  D2          D1 D0
   Name
    Type
Reset settings = xxxx_xxxx
  Bit       Name                                               Function
  7:0      Reserved    Always write this bit to zero. Reads undefined.
24                                                    Rev. 1.0


                                                                                                     Si3068
DAA Register 9. Reserved
    Bit           D7         D6            D5           D4            D3          D2           D1            D0
  Name
   Type
Reset settings = xxxx_xxxx
 Bit        Name                                                  Function
 7:0       Reserved    Always write this bit to zero. Reads undefined.
DAA Register 10. DAA Control 3
    Bit           D7         D6            D5           D4            D3          D2           D1            D0
  Name                                                                                                      DDL
   Type                                                                                                     R/W
Reset settings = xxxx_xxx0
 Bit        Name                                                  Function
 7:1       Reserved    Always write this bit to zero. Reads undefined.
  0          DDL       Digital Data Loopback.
                       0 = Normal Operation.
                       1 = Loopback transmit to receive before the filters. Output data is identical to input data.
DAA Register 11. System-Side Revision
    Bit           D7         D6            D5           D4            D3          D2           D1            D0
  Name                           LSID[3:0]                                          REVA[3:0]
   Type                             R                                                    R
Reset settings = xxxx_xxxx
 Bit        Name                                                  Function
 7:4       LSID[3:0]   Line-Side ID.
                       1011 = Si3068
 3:0      REVA[3:0]    System-Side Revision.
                       Four bit value indicating the revision of the system-side device.
                                                      Rev. 1.0                                                      25


Si3068
DAA Register 12. Line-Side Status
     Bit          D7          D6           D5           D4            D3           D2          D1           D0
   Name                      FDT                                                LCS[4:0]
    Type                      R                                                     R
Reset settings = xxxx_xxxx
  Bit       Name                                                  Function
   7       Reserved    Read returns zero.
   6         FDT       Frame Detect.
                       0 = Indicates isolation capacitor link has not established frame lock.
                       1 = Indicates isolation capacitor link frame lock is established.
   5       Reserved    Always write this bit to zero. Reads undefined.
  4:0      LCS[4:0]    Loop Current Sense.
                       Five-bit value returning the loop current in 3.3 mA/bit resolution when the DAA is in an off-
                       hook state.
                       00000–00011 = Indicates the loop current is less than required for normal operation.
                       00100 = Indicates minimum loop current for normal operation.
                       00101 = 11110 = Normal operation
                       11111 = Indicates loop current is > 160 mA.
DAA Register 13. Line-Side Revision
     Bit          D7          D6           D5           D4            D3           D2          D1           D0
   Name                                                    REVB[3:0]
    Type                                                         R
Reset settings = xxxx_xxxx
  Bit       Name                                                  Function
  7:6      Reserved    Always write this bit to zero. Reads undefined.
  5:2     REVB[3:0]    Line-Side Revision.
                       Four-bit value indicating the revision of the Si3068 device.
                       1000 = Revision A; 1001 = Revision B
  1:0      Reserved    Always write this bit to zero. Reads undefined.
26                                                    Rev. 1.0


                                                                                  Si3068
DAA Register 14. Reserved
    Bit           D7         D6           D5            D4          D3  D2   D1      D0
  Name
   Type
Reset settings = xxxx_xxxx
 Bit        Name                                               Function
 7:0       Reserved    Always write this bit to zero. Reads undefined.
DAA Register 15. TX/RX Gain Control
    Bit           D7         D6           D5            D4          D3  D2   D1      D0
  Name           TXM                   ATX[2:0]                    RXM     ARX[2:0]
   Type          R/W                     R/W                       R/W       R/W
Reset settings = 0000_0000
 Bit        Name                                               Function
  7          TXM       Transmit Mute.
                       0 = Transmit signal is not muted.
                       1 = Mutes the transmit signal.
 6:4       ATX[2:0]    Analog Transmit Attenuation.
                       000 = 0 dB attenuation
                       001 = 3 dB attenuation
                       010 = 6 dB attenuation
                       011 = 9 dB attenuation
                       1xx = 12 dB attenuation
  3          RXM       Receive Mute.
                       0 = Receive signal is not muted.
                       1 = Mutes the receive signal.
 2:0       ARX[2:0]    Analog Receive Gain.
                       000 = 0 dB gain
                       001 = 3 dB gain
                       010 = 6 dB gain
                       011 = 9 dB gain
                       1xx = 12 dB gain
                                                      Rev. 1.0                          27


Si3068
DAA Register 16. Reserved
     Bit          D7        D6            D5            D4           D3   D2 D1 D0
   Name
    Type
Reset settings = xxx1_xxxx
 Bit    Name                                                  Function
 7:0 Reserved Always write this bit to zero. Reads undefined.
DAA Register 17. Calibration
     Bit          D7        D6            D5            D4           D3   D2 D1 D0
   Name                                  ADCC
    Type                                  R/W
Reset Settings = xx0x_xxxx
  Bit       Name                                                 Function
  7:6      Reserved    Always write this bit to zero. Reads undefined.
   5        ADCC       ADC Calibration.
                       1 = Calibration disabled.
  4:0      Reserved    Always write this bit to zero. Reads undefined.
28                                                    Rev. 1.0


                                                                                                          Si3068
DAA Register 18. International Control 3
     Bit         D7            D6              D5           D4           D3           D2            D1            D0
   Name                                                                                            RFWE
   Type                                                                                             R/W
Reset Settings = xxxx_xx0x
 Bit       Name                                                    Function
 7:2     Reserved    Always write this bit to zero. Reads undefined.
  1       RFWE       Ring Detector Full-Wave Rectifier Enable.
                     When RNGV is disabled, this bit controls the ring detector mode. When RNGV is enabled,
                     this bit configures the RDT bit to either follow the ringing signal detected by the ring valida-
                     tion circuit, or to follow an unqualified ring detect one-shot signal initiated by a ring-threshold
                     crossing and terminated by a fixed counter timeout of approximately five seconds.
                     RNGV                RFWE               RDT bit
                        0                  0                Half-Wave
                        0                  1                Full-Wave
                        1                  0                Validated Ring Envelope
                        1                  1                Ring Threshold Crossing One-Shot
  0      Reserved    Always write this bit to zero. Reads undefined.
DAA Register 19. Dropout Detect
     Bit         D7            D6              D5           D4           D3           D2            D1            D0
   Name                                                                                            DOD
   Type                                                                                              R
Reset Settings = xxxx_xxxx
 Bit     Name                                                     Function
 7:2   Reserved Always write this bit to zero. Reads undefined.
  1      DOD      Dropout Detect.
                  0 = Normal operation.
                  1 = Dropout detected.
  0    Reserved Always write this bit to zero. Reads undefined.
                                                        Rev. 1.0                                                       29


Si3068
DAA Register 20. Call Progress Receive Attenuation
     Bit          D7         D6           D5            D4           D3           D2            D1          D0
   Name                                                     ARM[7:0]
    Type                                                       R/W
Reset settings = xxxx_0000
  Bit       Name                                                 Function
  7:0      ARM[7:0]    AOUT Receive Path Attenuation.
                       When decremented from the default setting, these bits linearly attenuate the AOUT
                       receive path signal used for call progress monitoring. Setting the bits to 0s mutes the
                       AOUT receive path.
                       0111_1111 = +6 dB (gain)
                       0100_0000 = 0 dB
                       0010_0000 = –6 dB (attenuation)
                       0001_0000 = –12 dB
                       ...
                       0000_0000 = Mute
DAA Register 21. Call Progress Transmit Attenuation
     Bit          D7         D6           D5            D4           D3           D2            D1          D0
   Name                                                     ATM[7:0]
    Type                                                       R/W
Reset settings = xxxx_0000
  Bit       Name                                                 Function
  7:0      ATM[7:0]    AOUT Transmit Path Attenuation.
                       When decremented from the default setting, these bits linearly attenuate the AOUT trans-
                       mit path signal used for call progress monitoring. Setting the bits to 0s mutes the AOUT
                       transmit path.
                       0111_1111 = +6 dB (gain)
                       0100_0000 = 0 dB
                       0010_0000 = –6 dB (attenuation)
                       0001_0000 = –12 dB
                       ...
                       0000_0000 = Mute
30                                                    Rev. 1.0


                                                                                                                                   Si3068
DAA Register 22. Ring Validation Control 1
    Bit           D7           D6           D5            D4                D3                                    D2            D1    D0
  Name              RDLY[1:0]                                                        RMX[5:0]
   Type               R/W                                                                    R/W
Reset settings = 1001_0110
 Bit        Name                                                     Function
 7:6      RDLY[1:0]    Ring Delay.
                       These bits, in combination with the RDLY[2] bit, set the amount of time between when a
                       ring signal is validated and when a valid ring signal is indicated.
                       RDLY[2]           RDLY[1:0]                Delay
                           0                 00                   0 ms
                           0                 01                   256 ms
                           0                 10                   512 ms
                           ...
                           1                 11                   1792 ms
 5:0       RMX[5:0]    Ring Assertion Maximum Count.
                       These bits set the maximum ring frequency for a valid ring signal within a 10% margin of
                       error. During ring qualification, a timer is loaded with the RAS[5:0] field upon a TIP/RING
                       event and decrements at a regular rate. When a subsequent TIP/RING event occurs, the
                       timer value is compared to the RMX[5:0] field, and, if it exceeds the value in RMX[5:0], the
                       frequency of the ring is too high and the ring is invalidated. The difference between
                       RAS[5:0] and RMX[5:0] identifies the minimum duration between TIP/RING events to
                       qualify as a ring, in binary-coded increments of 2.0 ms (nominal). A TIP/RING event typi-
                       cally occurs twice per ring tone period. At 20 Hz, TIP/RING events would occur every
                       1/(2 x 20 Hz) = 25 ms. To calculate the correct RMX[5:0] value for a frequency range
                       [f_min, f_max], the following equation should be used:
                                                                                             1
                                            RMX [ 5:0 ] = RAS [ 5:0 ] – --------------------------------------------- , RMX ≤ RAS
                                                                        2 × f_max × 2 ms
                       To compensate for error margin and ensure a sufficient ring detection window, it is recom-
                       mended that the calculated value of RMX[5:0] be incremented by 1.
                                                        Rev. 1.0                                                                         31


Si3068
DAA Register 23. Ring Validation Control 2
     Bit          D7           D6           D5          D4           D3            D2          D1         D0
   Name        RDLY[2]                         RTO[3:0]                                    RCC[2:0]
    Type         R/W                             R/W                                          R/W
Reset settings = 0010_1101
  Bit       Name                                                 Function
   7       RDLY[2]     Ring Delay Bit 2.
                       This bit, in combination with the RDLY[1:0] bits, sets the amount of time between when a
                       ring signal is validated and when a valid ring signal is indicated.
                       RDLY[2]           RDLY[1:0]             Delay
                           0                 00                 0 ms
                           0                 01                256 ms
                           0                 10                512 ms
                           ...
                           1                 11                1792 ms
  6:3      RTO[3:0]    Ring Timeout.
                       Determine when ringing is finished after the most recent ring threshold crossing.
                       0000 = Invalid
                       0001 = 128 x 1 = 128 ms
                       0010 = 128 x 2 = 256 ms
                       ...
                       1111 = 128 x 15 = 1920 ms
  2:0      RCC[2:0]    Ring Confirmation Count.
                       Determine the time interval over which the ring signal must meet tolerances defined by
                       RAS[5:0] and RMX[5:0] to be classified as a valid ring signal.
                       000 = 100 ms
                       001 = 150 ms
                       010 = 200 ms
                       011 = 256 ms
                       100 = 384 ms
                       101 = 512 ms
                       110 = 640 ms
                       111 = 1024 ms
32                                                    Rev. 1.0


                                                                                                                          Si3068
DAA Register 24. Ring Validation Control 3
    Bit           D7          D6            D5           D4                            D3                       D2     D1    D0
  Name          RNGV                                                                            RAS[5:0]
   Type          R/W                                                                                   R/W
Reset settings = 0x01_1001
 Bit        Name                                                          Function
  7         RNGV       Ring Validation Enable.
                       0 = Ring validation feature is disabled.
                       1 = Ring validation feature is enabled in normal operating mode and low-power mode.
  6        Reserved    Always write this bit to zero. Reads undefined.
 5:0       RAS[5:0]    Ring Assertion Time.
                       These bits set the minimum ring frequency for a valid ring signal. During ring qualification,
                       a timer is loaded with the RAS[5:0] field upon a TIP/RING event and decrements at a reg-
                       ular rate. If a second or subsequent TIP/RING event occurs after the timer has timed out,
                       the frequency of the ring is too low and the ring is invalidated. The difference between
                       RAS[5:0] and RMX[5:0] identifies the minimum duration between TIP/RING events to
                       qualify as a ring, in binary-coded increments of 2.0 ms (nominal). A TIP/RING event typi-
                       cally occurs twice per ring tone period. At 20 Hz, TIP/RING events would occur every
                       1/(2 x 20 Hz) = 25 ms. To calculate the correct RAS[5:0] value for a frequency range
                       [f_min, f_max], the following equation should be used:
                                                                                    1
                                                  RAS [ 5:0 ] ≥ -------------------------------------------, RMX ≤ RAS
                                                                2 × f_min × 2 ms
DAA Register 25-28. Reserved
    Bit           D7          D6            D5           D4                            D3                       D2     D1    D0
  Name
   Type
Reset settings = xxxx_xxxx
 Bit        Name                                                          Function
 7:0       Reserved    Always write this bit to zero. Reads undefined.
                                                      Rev. 1.0                                                                  33


Si3068
DAA Register 29. Line Voltage Status
      Bit         D7         D6            D5            D4         D3     D2   D1 D0
    Name                                                         LVS[6:0]
     Type                                                            R
Reset settings = xxxx_xxxx
   Bit       Name                                               Function
    7      Reserved     Always write this bit to zero. Reads undefined.
   6:0        LVS       Line Voltage Status
                        1 LSB = 1 V
DAA Register 30-59. Reserved
      Bit         D7         D6            D5            D4         D3     D2   D1 D0
    Name
     Type
Reset settings = xxxx_xxxx
  Bit       Name                                                Function
  7:0      Reserved    Always write this bit to zero. Reads undefined.
DAA Register 60. Line-Side ID
      Bit         D7         D6            D5            D4         D3     D2   D1 D0
    Name                                                                  LSID4
     Type                                                                  R/W
Reset settings = xxxx_x1xx
  Bit       Name                                                Function
  7:3      Reserved    Always write this bit to zero. Reads undefined.
    2       LSID4      Line-Side ID.
                       LSID = 1 for Si3068
  1:0      Reserved    Always write this bit to zero. Reads undefined.
34                                                     Rev. 1.0


                                                                                           Si3068
6. Pin Descriptions
                                   C1B      1            8    RX
                                                   9
                                   C2B      2            7    DCT
                                                 IGND
                                  VREG      3            6    QB
                                    CID     4            5    QE
  Pin # Pin Name                                       Description
    1      C1B   Isolation Capacitor 1B.
                 Connects to one side of isolation capacitor C1 and communicates with the system-side
                 module.
    2      C2B   Isolation Capacitor 2B.
                 Connects to one side of isolation capacitor C2 and communicates with the system-side
                 module.
    3     VREG   Voltage Regulator.
                 Connects to an external capacitor to provide bypassing for an internal power supply.
    4      CID   Caller ID.
                 Caller ID input.
    5      QE    Transistor Emitter.
                 Connects to the emitter of Q3.
    6      QB    Transistor Base.
                 Connects to the base of transistor Q3. Used to go on- and off-hook.
    7      DCT   DC Termination.
                 Provides dc termination to the telephone network.
    8      RX    Receive Input.
                 Serves as the receive side input from the telephone network.
    9     IGND   Isolated Ground (exposed pad).
                 Connects to ground on the line-side interface.
                                              Rev. 1.0                                                35


Si3068
7. Ordering Guide
             Part Number*                Package               Lead-Free               Temp Range
             Si3068-B-FS              e-Pad SOIC                   Yes                   0 to 70 °C
        *Note: Add an “R” at the end of the device to denote tape and reel option; 2500 quantity per reel.
36                                                   Rev. 1.0


                                                                                                     Si3068
8. Package Outline: 8-Pin Exposed Pad SOIC
Figure 10 illustrates the package details for the Si3068. Table 10 lists the values for the dimensions shown in the
illustration.
                                          α
              Figure 10. 8-pin Exposed Pad Small Outline Integrated Circuit (SOIC) Package
                                                      Rev. 1.0                                                   37


Si3068
                Table 10. Package Diagram Dimensions
                                                Millimeters
           Dimension
                                         Min                   Max
                 A                       1.35                  1.75
                A1                       0.00                  0.15
                A2                    1.40 REF              1.55 REF
                 B                       0.33                  0.51
                 C                       0.19                  0.25
                 D                       4.80                  5.00
                D1                       2.14                  2.44
                 E                       3.80                  4.00
                E1                       2.14                  2.44
                 e                               1.27 BSC
                 H                       5.80                  6.20
                 h                       0.25                  0.50
                 L                       0.40                  1.27
                 ∝                        0°                    8°
       Notes:
          1. All dimensions shown are in millimeters (mm).
          2. Dimensioning and tolerancing per ANSI Y14.5M-1994.
          3. Recommended card reflow profile is per the JEDEC/IPC J-STD-
              020C specification for Small Body Components.
38                                     Rev. 1.0


                Si3068
NOTES:
       Rev. 1.0      39


Si3068
CONTACT INFORMATION
Silicon Laboratories Inc.
4635 Boston Lane
Austin, TX 78735
Tel: 1+(512) 416-8500
Fax: 1+(512) 416-9669
Toll Free: 1+(877) 444-3032
Email: SiDAAinfo@silabs.com
Internet: www.silabs.com
  The information in this document is believed to be accurate in all respects at the time of publication but is subject to change without notice.
  Silicon Laboratories assumes no responsibility for errors and omissions, and disclaims responsibility for any consequences resulting from
  the use of information included herein. Additionally, Silicon Laboratories assumes no responsibility for the functioning of undescribed features
  or parameters. Silicon Laboratories reserves the right to make changes without further notice. Silicon Laboratories makes no warranty, rep-
  resentation or guarantee regarding the suitability of its products for any particular purpose, nor does Silicon Laboratories assume any liability
  arising out of the application or use of any product or circuit, and specifically disclaims any and all liability, including without limitation conse-
  quential or incidental damages. Silicon Laboratories products are not designed, intended, or authorized for use in applications intended to
  support or sustain life, or for any other application in which the failure of the Silicon Laboratories product could create a situation where per-
  sonal injury or death may occur. Should Buyer purchase or use Silicon Laboratories products for any such unintended or unauthorized ap-
  plication, Buyer shall indemnify and hold Silicon Laboratories harmless against all claims and damages.
Silicon Laboratories and Silicon Labs are trademarks of Silicon Laboratories Inc.
Other products or brand names mentioned herein are trademarks or registered trademarks of their respective holders.
40                                                                     Rev. 1.0


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Silicon Laboratories:
 Si3068-B-FS SI3068-B-FSR
