                                                                                    XRT86SH328
                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
JUNE 2010                                                                                                REV. 2.0.0
GENERAL DESCRIPTION                                       Supports    21 E1 mapped as Asynchronous VT2 into an
                                                            STS-1 SPE or TU-12 tributary units into STM-1/VC-3 or
The XRT86SH328 is an integrated VT/TU Mapper                TUG-3 from a STM-1/VC-4.
with 28 port T1 or 21 port E1 Line Interface Units.
The XRT86SH328 contains integrated DS1/E1/J1
                                                          Supports TU cross-mapping function TU-12/VC-11/T1.
Framers for performance monitoring.                       Supports mixed mapping of VT-G/VT1.5 and VT-G/VT2.
The XRT86SH328 processes the Section, Line and            Supports mixed mapping of TUG-2/TU-11 and TUG-2/
Path overhead in the SONET/SDH data-stream. The             TU-12
processing of path overhead bytes within the STS-1s       28   VT1.5/TU-11 or 21 VT-2/TU-12 tributaries can be
or TUG-3s include 64 bytes (of buffer) for storing the      passed as transparent between SONET/SDH Telecom
(Section Trace and Path Trace) messages. Path               Bus on the line side and Clock and Data on the system
Overhead bytes can be accessed either by on-chip            side.
registers or a Serial Output Port.                        Supports Unframed T1/E1 signals
Each of the T1 or E1 Channels use an internal De-         Supports DS1/E1 Performance Monitoring in both Egress
Synchronizer circuit with an internal pointer leak          and Ingress direction
algorithm. This removes the jitter due to mapping and
pointer adjustments from the T1 or E1 signals that are    VC-11/VC-12 Tandem Connection Monitoring support
de-mapped from the incoming SONET/SDH data-               Complies with the Category I Intrinsic Jitter
stream. These De-Synchronizer circuits do not need          Requirements for DS1 signals being de-mapped from
any external clock references for its operation.            SONET, per Telcordia GR-253-CORE
The Transmit Blocks permit flexible insertion of TOH      Complies      with the "Mapping Jitter Generation
and POH bytes via both Hardware and Software                Specification" for DS1 and E1 signals being de-mapped
control.                                                    from SDH, per ITU-T G.783
The Receive Blocks receive a SONET STS-1 signals
                                                          Complies      with the "Combined Jitter Generation
                                                            Specification" for DS1 and E1 signals being de-mapped
or an SDH STM-1 signal and performs the necessary
                                                            from SDH, per ITU-T G.783
Transport and Path Overhead Processing.
                                                          Line and Facility Loop-backs
A PRBS Pattern Generator and Receiver is
implemented within each of the T1/E1 channels in          Each of the 28 T1/E1 Channels         includes a PRBS
order to implement and measure Bit-Error                    Generator and Receiver.
performance.                                              Each    of the 28 VT-Mapper blocks are capable of
                                                            generating BIP-2 and REI errors upon software
A general purpose Microprocessor Interface is
                                                            command (for diagnostic purposes).
included for control, configuration and monitoring.
                                                          ·The Transmit and Receive DS3 Framer blocks support
FEATURES                                                    both the M13(M23) and the C-bit Parity Framing formats.
 Provides    mapping of up to 28 T1 streams as           Integrated 28 T1/E1/J1 Short-Haul Line Interface Units
  Asynchronous VT1.5 into an STS-1 SPE or TU-11
  tributary unit into an STM-1/VC-3 or TUG-3 from STM-1/
                                                          IEEE 1149.1 Standard Boundary Scan
  VC-4                                                    Low Power: 1.8V Power Supply for Core Logic; 3.3V
 Supports   28 T1 streams M13 multiplexed into a serial    Power Supply for I/O
  DS3                                                     General Purpose Microprocessor Interface
 Supports   21 E1 streams M13 multiplexed into a serial APPLICATIONS
  DS3 (compliant with ITU-T G.747)
                                                          Channelized and Unchannelized DS3 applications
 28 T1 Streams M13 Multiplexed into a DS3 and DS3 is
  asynchronously mapped into STS-1.                       T1/E1 Terminals
 21 E1 Streams M13 Multiplexed into a DS3 (ITU-T G.747)  SONET/SDH ADM
  and DS3 is asynchronously mapped into STS-1.
Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • FAX (510) 668-7017 • www.exar.com


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                        REV. 2.0.0
FIGURE 1. BLOCK DIAGRAM OF THE XRT86SH328
                      TTransm
                         ransm itit                                                            Ingress      Ingress
                                        TTransm
                                            ransmitit                                        D irection   D irection         R eceive
                        STSTS-1/3      ST                                    VT
                                                                              VT/T/TUU
                             S-1/3
                          TTOOHH        STS-1
                                            S-1POPOHH                        MMapper         Transm it     R eceive          D S1/E 1
                                        Processor
                                         Processor                               apper        D S1/E 1     D S1/E 1            L IU
                      Processor
                        Processor          BBlock                             BBlock
                                                                                  lock
                                              lock                                            Fram er      Fram er            B lock
                          BBlock
                             lock
        STSTS-1/
              S-1/                                                                              B lock       B lock
         ST
          STS-3
              S-3                                                                                                   D S1/E 1 C hannel 0
       TTelecom
         elecom                       From D S1/E1 C hannels 1 - 27
           BBus
              us
       Interface                                      From D S2 C hannels 1 - 6
        Interface
                                      TTransm
                                        ransm itit
                                                           MM23 23                        M 12
                                         DDS3S3                                                              From D S1/E1 C hannels 1 - 3
                                                          MMUUXX                         M UX
                                       Fram
                                        Framerer
          DDS3/                                           Block
                                                            B lock                       B lock
             S3/                        BBlock
                                            lock
         ST
          STS-1
              S-1                                                 D S2 C hannel 0
          LLIUIU
       Interface                       RReceive
                                          eceive
        Interface                                           MM2323                        M 12
                                         DDS3S3                                                              T o D S1/E 1 Channels 1 - 3
                                                        DDe-M
                                                            e-MUUXX                    D e-M U X
                                       Fram
                                        Framerer           BBlock
                                                               lock                      B lock
                                        BBlock
                                            lock
                                                                                     D S2 C hannel 0
                                               To D S1/E1                                                     To D S2 C hannels 1 - 6
                                             C hannels 1 - 27
                                                                                             E gress      E gress
                    RReceive
                       eceive         RReceive                               D S1/E 1       D irection   D irection        Transm it
                    ST                   eceive             VT /T U
                     STS-1/3
                         S-1/3      ST S-1 PO
                                     STS-1    POHH                            Jitter         R eceive    T ransm it         D S1/E 1
                     TTOOHH                             D e-M apper
                                     Processor
                                      Processor                               A tten         D S1/E 1     D S1/E 1            L IU
                   Processor                                 B lock
                    Processor          BBlock
                                         lock                                 B lock         Fram er      Fram er            B lock
                     BBlock
                         lock                                                                 B lock       Block
                                                                                                                    D S1/E 1 C hannel 0
                                              TABLE 1: ORDERING INFORMATION
           PRODUCT NUMBER                                    PACKAGE TYPE                            OPERATING TEMPERATURE RANGE
             XRT86SH328IB                                     568 Ball BGA                                   -40°C to +85°C
                                                                      2


                                                                             XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
FIGURE 2. PIN OUT OF THE XRT86SH328 (BOTTOM VIEW)
 30 29   28 27 26 25 24 23  22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5  4 3 2 1
                                                                                       A
                                                                                       B
                                                                                       C
                                                                                       D
                                                                                       E
                                                                                       F
                                                                                       G
                                                                                       H
                                                                                       J
                                                                                       K
                                                                                       L
                                                                                      M
                                                                                       N
                                                                                       P
                                                                                       R
                                                                                       T
                                                                                       U
                                                                                       V
                                                                                      W
                                                                                       Y
                                                                                      AA
                                                                                      AB
                                                                                      AC
                                                                                      AD
                                                                                      AE
                                                                                      AF
                                                                                      AG
                                                                                      AH
                                                                                      AJ
                                                                                      AK
                                                  3


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                                                               REV. 2.0.0
                                                TABLE OF CONTENTS
GENERAL DESCRIPTION ................................................................................................ 1
  FEATURES ................................................................................................................................................. 1
  APPLICATIONS .......................................................................................................................................... 1
      FIGURE 1. BLOCK DIAGRAM OF THE XRT86SH328 .......................................................................................................................... 2
      TABLE 1: ORDERING INFORMATION ................................................................................................................................................... 2
      FIGURE 2. PIN OUT OF THE XRT86SH328 (BOTTOM VIEW) ............................................................................................................... 3
TABLE OF CONTENTS ............................................................................................................                                                          I
1.0 REGISTER MAP & DESCRIPTION FOR THE XRT86SH328 SONET/SDH WITH DS3 MUX AND VT-MAP-
    PER IC - SONET APPLICATIONS .......................................................................................................... 4
    1.1 REGISTER MAP OF THE XRT86SH328 ............................................................................................................. 4
      TABLE 2: OPERATION CONTROL REGISTERS ..................................................................................................................................... 4
      TABLE 3: RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS ........................................................................................... 6
      TABLE 4: RECEIVE STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS ......................................................................................... 10
      TABLE 5: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SECTION TRACE MESSAGE BUFFER ......................................................... 12
      TABLE 6: RECEIVE STS-1/STS-3 PATH - RECEIVE PATH TRACE MESSAGE BUFFER ........................................................................ 12
      TABLE 7: RECEIVE TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY) ................................................ 12
      TABLE 8: RECEIVE TU-3 POH PROCESSOR BLOCK - RECEIVE PATH TRACE MESSAGE BUFFER (SDH/TUG-3 APPLICATIONS ONLY) 15
      TABLE 9: TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS ....................................................................................... 15
      TABLE 10: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS ..................................................................................... 16
      TABLE 11: TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK - TRANSMIT SECTION TRACE MESSAGE BUFFER .............................. 18
      TABLE 12: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK - TRANSMIT PATH TRACE MESSAGE BUFFER ................................... 18
      TABLE 13: TRANSMIT TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY) ............................................ 18
      TABLE 14: TRANSMIT TU-3 POH PROCESSOR BLOCK - TRANSMIT PATH TRACE MESSAGE BUFFER ................................................. 20
      TABLE 15: VT MAPPER CONTROL REGISTERS ................................................................................................................................ 20
      TABLE 16: DS3 MAPPER CONTROL REGISTERS .............................................................................................................................. 21
      TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS .......................................................................................................... 22
      TABLE 18: VT MAPPER REGISTER (WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................... 27
2.0 REGISTER DESCRIPTIONS.................................................................................................................. 29
      TABLE 19: OPERATION CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0000) ................................................................................... 29
    2.1 OPERATION CONTROL REGISTERS.............................................................................................................. 29
      TABLE 20: OPERATION CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0000) ................................................................................... 29
      TABLE 21: OPERATION CONTROL REGISTER - BYTE 2 (ADDRESS = 0X0001) ................................................................................... 31
      TABLE 22: OPERATION CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0003) ................................................................................... 31
      TABLE 23: DEVICE ID VALUE REGISTER - BYTE 3 (ADDRESS = 0X0004) ......................................................................................... 32
      TABLE 24: REVISION NUMBER VALUE REGISTER - BYTE 2 (ADDRESS = 0X0005) ............................................................................. 32
      TABLE 25: OPERATION INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS = 0X000B) .................................................................... 32
      TABLE 26: OPERATION INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS = 0X000F) .................................................................... 33
      TABLE 27: OPERATION BLOCK INTERRUPT STATUS REGISTER - BYTE 1 (ADDRESS = 0X0012) ......................................................... 33
      TABLE 28: OPERATION BLOCK INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS = 0X0013) ......................................................... 34
      TABLE 29: OPERATION BLOCK INTERRUPT ENABLE REGISTER - BYTE 1 (ADDRESS = 0X0016) ......................................................... 35
      TABLE 30: OPERATION BLOCK INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS = 0X0017) ......................................................... 36
      TABLE 31: MODE CONTROL REGISTER - BYTE 0 (ADDRESS = 0X001B) ........................................................................................... 37
      TABLE 32: LOOP-BACK CONTROL REGISTER - BYTE 0 (ADDRESS = 0X001F) ................................................................................... 38
      TABLE 33: STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0034) ........................................................ 38
      TABLE 34: STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 2 (ADDRESS = 0X0035) ........................................................ 39
      TABLE 35: STS-3/STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 1 (ADDRESS = 0X0036) ............................................. 39
      TABLE 36: STS-3/STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0037) ............................................. 41
      TABLE 37: OPERATION BLOCK - INTERFACE CONTROL REGISTER (ADDRESS = 0X003C) .................................................................. 43
      TABLE 38: OPERATION GENERAL PURPOSE INPUT/OUTPUT REGISTER - BYTE 0 (ADDRESS = 0X0047) ............................................ 43
      TABLE 39: OPERATION GENERAL PURPOSE INPUT/OUTPUT DIRECTION REGISTER 0 (ADDRESS = 0X004B) ...................................... 44
      TABLE 40: OPERATION I/O CONTROL REGISTER 1 (ADDRESS = 0X004E) ....................................................................................... 44
      TABLE 41: OPERATION I/O CONTROL REGISTER 0 (ADDRESS = 0X004F) ....................................................................................... 44
      TABLE 42: BIT FIELD CONTENTS FOR RECOVERED LINE CLOCK SELECT .......................................................................................... 45
      TABLE 43: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 3 (ADDRESS = 0X0050) .......... 46
      TABLE 44: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 2 (ADDRESS = 0X0051) .......... 46
      TABLE 45: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 1 (ADDRESS = 0X0052) .......... 47
      TABLE 46: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 0 (ADDRESS = 0X0053) .......... 47
      TABLE 47: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 3 (ADDRESS = 0X0054) ....... 47
      TABLE 48: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 2 (ADDRESS = 0X0055) ....... 48
      TABLE 49: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 1 (ADDRESS = 0X0056) ....... 48
      TABLE 50: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 0 (ADDRESS = 0X0057) ....... 49
      TABLE 51: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 3 (ADDRESS = 0X0058) ................................. 49
                                                                                I


                                                                                                                                                                   XRT86SH328
REV. 2.0.0                          28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      TABLE 52: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 2 (ADDRESS = 0X0059) ................................ 49
      TABLE 53: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 1 (ADDRESS = 0X005A) ................................ 50
      TABLE 54: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 0 (ADDRESS = 0X005B) ................................ 50
      TABLE 55: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X005C) ................................. 50
      TABLE 56: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X005D) ................................ 51
      TABLE 57: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X005E) ................................. 51
      TABLE 58: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X005F) ................................ 51
      TABLE 59: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X0080) .............................. 52
      TABLE 60: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X0081) .............................. 52
      TABLE 61: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X0082) .............................. 52
      TABLE 62: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X0083) .............................. 53
      TABLE 63: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X0084) ............................. 53
      TABLE 64: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X0085) ............................. 53
      TABLE 65: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X0086) ............................. 54
      TABLE 66: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X0087) ............................. 54
    2.2 RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS ................................................................. 55
      FIGURE 3. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE RECEIVE STS-1/STS-3 TOH PROCESSOR
                BLOCK HIGHLIGHTED ...................................................................................................................................................... 55
      TABLE 67: RECEIVE STS-1/STS-3 TRANSPORT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0202) .............................. 55
      TABLE 68: RECEIVE STS-1/STS-3 TRANSPORT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0203) ............................. 56
      TABLE 69: RECEIVE STS-1/STS-3 TRANSPORT STATUS REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0206) ................................. 57
      TABLE 70: RECEIVE STS-1/STS-3 TRANSPORT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0207) ............................... 58
      TABLE 71: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0209) ................ 60
      TABLE 72: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 1 (ADDRESS LOCATION= 0X020A) ............... 61
      TABLE 73: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION= 0X020B) ............... 63
      TABLE 74: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT ENABLE REGISTER - BYTE 2 (ADDRESS LOCATION= 0X020D) ............... 64
      TABLE 75: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT ENABLE REGISTER - BYTE 1 (ADDRESS LOCATION= 0X020E) ............... 65
      TABLE 76: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION= 0X020F) ............... 67
      TABLE 77: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X0210) ...... 68
      TABLE 78: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0211) ...... 68
      TABLE 79: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0212) ...... 69
      TABLE 80: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0213) ...... 69
      TABLE 81: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X0214) ...... 70
      TABLE 82: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0215) ...... 70
      TABLE 83: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0216) ...... 70
      TABLE 84: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0217) ...... 71
      TABLE 85: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 3 (ADDRESS LOCATION = 0X0218) .......... 71
      TABLE 86: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0219) ........... 72
      TABLE 87: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X021A) ........... 72
      TABLE 88: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X021B) ........... 72
      TABLE 89: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED K1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X021F) ................ 73
      TABLE 90: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED K2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0223) ................. 73
      TABLE 91: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED S1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0227) ................. 73
      TABLE 92: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE IN-SYNC THRESHOLD REGISTER (ADDRESS = 0X022B) .......................... 74
      TABLE 93: RECEIVE STS-1/STS-3 TRANSPORT - LOS THRESHOLD VALUE - MSB (ADDRESS LOCATION= 0X022E) ......................... 74
      TABLE 94: RECEIVE STS-1/STS-3 TRANSPORT - LOS THRESHOLD VALUE - LSB (ADDRESS LOCATION= 0X022F) .......................... 74
      TABLE 95: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 2 (ADDRESS LOCATION= 0X0231) .. 75
      TABLE 96: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 1 (ADDRESS LOCATION= 0X0232) .. 75
      TABLE 97: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 0 (ADDRESS LOCATION= 0X0233) .. 76
      TABLE 98: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET THRESHOLD - BYTE 1 (ADDRESS LOCATION= 0X0236) ............. 76
      TABLE 99: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET THRESHOLD - BYTE 0 (ADDRESS LOCATION= 0X0237) ............. 76
      TABLE 100: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR THRESHOLD - BYTE 1 (ADDRESS LOCATION= 0X023A) ...... 77
      TABLE 101: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR THRESHOLD - BYTE 0 (ADDRESS LOCATION= 0X023B) ...... 77
      TABLE 102: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 2 (ADDRESS LOCATION= 0X023D) 77
      TABLE 103: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 1 (ADDRESS LOCATION= 0X023E) 78
      TABLE 104: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 0 (ADDRESS LOCATION= 0X023F) 78
      TABLE 105: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET THRESHOLD - BYTE 1 (ADDRESS LOCATION= 0X0242) ........... 79
      TABLE 106: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET THRESHOLD - BYTE 0 (ADDRESS LOCATION= 0X0243) ........... 79
      TABLE 107: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR THRESHOLD - BYTE 1 (ADDRESS LOCATION= 0X0246) ...... 79
      TABLE 108: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR THRESHOLD - BYTE 1 (ADDRESS LOCATION= 0X0247) ...... 80
      TABLE 109: RECEIVE STS-1/STS-3 TRANSPORT - FORCE SEF DEFECT CONDITION REGISTER (ADDRESS LOCATION= 0X024B) ...... 80
      TABLE 110: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SECTION TRACE MESSAGE BUFFER CONTROL REGISTER (ADDRESS LOCATION=
                0X024F) ....................................................................................................................................................................... 81
      TABLE 111: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD BURST ERROR TOLERANCE - BYTE 1 (ADDRESS LOCATION= 0X0252) 82
      TABLE 112: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD BURST ERROR TOLERANCE - BYTE 0 (ADDRESS LOCATION= 0X0253) 82
      TABLE 113: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF BURST ERROR TOLERANCE - BYTE 1 (ADDRESS LOCATION= 0X0256) 83
                                                                                         II


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                                                                        REV. 2.0.0
     TABLE 114: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF BURST ERROR TOLERANCE - BYTE 0 (ADDRESS LOCATION= 0X0257) 83
     TABLE 115: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 2 (ADDRESS LOCATION= 0X0259) 83
     TABLE 116: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 1 (ADDRESS LOCATION= 0X025A) 84
     TABLE 117: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 0 (ADDRESS LOCATION= 0X025B) 84
     TABLE 118: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 2 (ADDRESS LOCATION= 0X025D) 85
     TABLE 119: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 1 (ADDRESS LOCATION= 0X025E) 85
     TABLE 120: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 0 (ADDRESS LOCATION= 0X025F) 86
     TABLE 121: RECEIVE STS-1/STS-3 TRANSPORT - AUTO AIS CONTROL REGISTER (ADDRESS LOCATION= 0X0263) ........................ 86
     TABLE 122: RECEIVE STS-1/STS-3 TRANSPORT - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION= 0X0267) ................... 88
     TABLE 123: RECEIVE STS-1/STS-3 TRANSPORT - AUTO AIS (IN DOWNSTREAM T1/E1S) CONTROL REGISTER (ADDRESS LOCATION=
               0X026B) ....................................................................................................................................................................... 88
     TABLE 124: RECEIVE STS-1/STS-3 TRANSPORT - A1, A2 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X026E) 90
     TABLE 125: RECEIVE STS-1/STS-3 TRANSPORT - A1, A2 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X026F) 90
     TABLE 126: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT ADDRESS REGISTER - BYTE 1 (ADDRESS LOCATION=
               0X027A) ....................................................................................................................................................................... 90
     TABLE 127: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT ADDRESS REGISTER - BYTE 0 (ADDRESS LOCATION=
               0X027B) ....................................................................................................................................................................... 90
     TABLE 128: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT DATA REGISTER - BYTE 0 (ADDRESS LOCATION=
               0X027F) ....................................................................................................................................................................... 91
   2.3 RECEIVE STS-1 POH PROCESSOR BLOCK REGISTERS ........................................................................... 91
     FIGURE 4. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE RECEIVE STS-1 POH PROCESSOR BLOCK
               HIGHLIGHTED ................................................................................................................................................................. 92
     TABLE 129: RECEIVE STS-1 PATH - RECEIVE CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0283) .................................. 92
     TABLE 130: RECEIVE STS-1 PATH - CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0286) ................................................ 93
     TABLE 131: RECEIVE STS-1 PATH - SONET RECEIVE POH STATUS - BYTE 0 (ADDRESS LOCATION= 0X0287) .............................. 94
     TABLE 132: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 2 (ADDRESS LOCATION= 0X0289) ............ 96
     TABLE 133: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 1 (ADDRESS LOCATION= 0X028A) ............ 97
     TABLE 134: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 0 (ADDRESS LOCATION= 0X028B) ............ 99
     TABLE 135: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 2 (ADDRESS LOCATION = 0X028D) ......... 101
     TABLE 136: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 1 (ADDRESS LOCATION= 0X028E) .......... 102
     TABLE 137: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 0 (ADDRESS LOCATION= 0X028F) .......... 103
     TABLE 138: RECEIVE STS-1 PATH - SONET RECEIVE RDI-P REGISTER (ADDRESS LOCATION= 0X0293) ..................................... 105
     TABLE 139: RECEIVE STS-1 PATH - RECEIVED PATH LABEL VALUE (ADDRESS LOCATION= 0X0296) ............................................. 105
     TABLE 140: RECEIVE STS-1 PATH - EXPECTED PATH LABEL VALUE (ADDRESS LOCATION= 0X0297) ............................................ 105
     TABLE 141: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X0298) ...................... 106
     TABLE 142: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0299) ...................... 106
     TABLE 143: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X029A) ...................... 107
     TABLE 144: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X029B) ...................... 107
     TABLE 145: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X029C) ........................... 107
     TABLE 146: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X029D) ........................... 108
     TABLE 147: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X029E) ........................... 108
     TABLE 148: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X029F) ............................ 108
     TABLE 149: RECEIVE STS-1 PATH - RECEIVE PATH TRACE MESSAGE BUFFER CONTROL REGISTER (ADDRESS LOCATION= 0X02A3) 109
     TABLE 150: RECEIVE STS-1 PATH - POINTER VALUE - BYTE 1 (ADDRESS LOCATION= 0X02A6) .................................................... 110
     TABLE 151: RECEIVE STS-1 PATH - POINTER VALUE - BYTE 0 (ADDRESS LOCATION= 0X02A7) .................................................... 110
     TABLE 152: RECEIVE STM-1 PATH - LOSS OF POINTER CONCATENATION DEFECT (ADDRESS LOCATION= 0X02AB) ...................... 111
     TABLE 153: RECEIVE STM-1 PATH - AIS CONCATENATION DEFECT (ADDRESS LOCATION= 0X02B3) ............................................ 111
     TABLE 154: RECEIVE STS-1 PATH - RECEIVE AUTO AIS - C2 BYTE VALUE REGISTER (ADDRESS = 0X02B9) ................................ 112
     TABLE 155: RECEIVE STS-1 PATH - RECEIVE AUTO AIS - C2 BYTE CONTROL REGISTER (ADDRESS = 0X02BA) ........................... 112
     TABLE 156: RECEIVE STS-1 PATH - AUTO AIS CONTROL REGISTER (ADDRESS LOCATION= 0X02BB) ......................................... 113
     TABLE 157: RECEIVE STS-1 PATH - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION= 0X02BF) ...................................... 115
     TABLE 158: RECEIVE STS-1 PATH - SONET RECEIVE AUTO ALARM REGISTER - BYTE 0 (ADDRESS LOCATION= 0X02C3) ............ 115
     TABLE 159: RECEIVE STS-1 PATH - RECEIVE NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1 (ADDRESS = 0X02C4) 116
     TABLE 160: RECEIVE STS-1 PATH - RECEIVE NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 0 (ADDRESS = 0X02C5) 117
     TABLE 161: RECEIVE STS-1 PATH - RECEIVE POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1 (ADDRESS = 0X02C6) 117
     TABLE 162: RECEIVE STS-1 PATH - RECEIVE POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 0 (ADDRESS = 0X02C7) 117
     TABLE 163: RECEIVE STS-1 PATH - RECEIVE J1 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02D3) ................................ 117
     TABLE 164: RECEIVE STS-1 PATH - RECEIVE B3 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02D7) ............................... 118
     TABLE 165: RECEIVE STS-1 PATH - RECEIVE C2 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02DB) .............................. 118
     TABLE 166: RECEIVE STS-1 PATH - RECEIVE G1 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02DF) .............................. 118
     TABLE 167: RECEIVE STS-1 PATH - RECEIVE F2 BYTE CAPTURE REGISTER (ADDRESS LOCATION=0X02E3) ................................ 118
     TABLE 168: RECEIVE STS-1 PATH - RECEIVE H4 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02E7) ............................... 119
     TABLE 169: RECEIVE STS-1 PATH - RECEIVE Z3 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02EB) ............................... 119
     TABLE 170: RECEIVE STS-1 PATH - RECEIVE Z4 (K3) BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02EF) ....................... 119
     TABLE 171: RECEIVE STS-1 PATH - RECEIVE Z5 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02F3) ................................ 119
   2.4 RECEIVE TUG-3 MAPPER/VC-4 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
                                                                                        III


                                                                                                                                                                   XRT86SH328
REV. 2.0.0                           28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
           120
      FIGURE 5. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE RECEIVE TUG-3 MAPPER/VC-4
                POH PROCESSOR BLOCK "HIGHLIGHTED" ..................................................................................................................... 120
    2.5 TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS ............................................................ 120
      FIGURE 6. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE TRANSMIT STS-1/STS-3 TOH PROCES-
                SOR BLOCK HIGHLIGHTED ............................................................................................................................................ 121
      TABLE 172: TRANSMIT STS-1/STS-3 TRANSPORT- TRANSMIT CONTROL REGISTER - BYTE 3 (ADDRESS LOCATION = 0X0700) ...... 121
      TABLE 173: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 2 (ADDRESS LOCATION = 0X0701) ..... 122
      TABLE 174: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0702) ...... 122
      TABLE 175: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0703) ...... 123
      TABLE 176: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT A1 BYTE ERROR REGISTER (ADDRESS LOCATION = 0X0717) ......... 125
      TABLE 177: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT A2 BYTE ERROR REGISTER (ADDRESS LOCATION = 0X071F) ......... 125
      TABLE 178: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B1 BYTE ERROR MASK REGISTER (ADDRESS LOCATION = 0X0723) 126
      TABLE 179: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B2 BYTE ERROR MASK REGISTER (ADDRESS LOCATION = 0X0727) 126
      TABLE 180: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B2 BIT ERROR MASK REGISTER (ADDRESS LOCATION= 0X072B) ... 126
      TABLE 181: TRANSMIT STS-1/STS-3 TRANSPORT - K2 BYTE VALUE REGISTER - BYTE 1 (ADDRESS LOCATION= 0X072E) ............ 127
      TABLE 182: TRANSMIT STS-1/STS-3 TRANSPORT - K1 BYTE VALUE REGISTER - BYTE 1 (ADDRESS LOCATION= 0X072F) ............ 127
      TABLE 183: TRANSMIT STS-1/STS-3 TRANSPORT - RDI-L CONTROL REGISTER (ADDRESS LOCATION= 0X0733) .......................... 127
      TABLE 184: TRANSMIT STS-1/STS-3 TRANSPORT - M0M1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0737) ..................... 128
      TABLE 185: TRANSMIT STS-1/STS-3 TRANSPORT - S1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X073B) .......................... 129
      TABLE 186: TRANSMIT STS-1/STS-3 TRANSPORT - F1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X073F) .......................... 129
      TABLE 187: TRANSMIT STS-1/STS-3 TRANSPORT - E1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0743) .......................... 129
      TABLE 188: TRANSMIT STS-1/STS-3 TRANSPORT - E2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0747) .......................... 130
      TABLE 189: TRANSMIT STS-1/STS-3 TRANSPORT - J0 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X074B) ........................... 130
      TABLE 190: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMITTER J0 BYTE CONTROL REGISTER (ADDRESS LOCATION= 0X074F) . 130
    2.6 TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS ............................................................ 132
      FIGURE 7. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE TRANSMIT STS-1/STS-3 POH PROCES-
                SOR BLOCK HIGHLIGHTED ............................................................................................................................................ 132
      TABLE 191: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0782) ............... 132
      TABLE 192: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0783) ................ 133
      TABLE 193: TRANSMIT STS-1/STS-3 PATH - TRANSMITTER J1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0793) ................ 135
      TABLE 194: TRANSMIT STS-1/STS-3 PATH - TRANSMIT B3 BYTE ERROR MASK REGISTER (ADDRESS LOCATION= 0X0797) .......... 135
      TABLE 195: TRANSMIT STS-1/STS-3 PATH - TRANSMIT C2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X079B) .................... 135
      TABLE 196: TRANSMIT STS-1/STS-3 PATH - TRANSMIT G1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X079F) .................... 136
      TABLE 197: TRANSMIT STS-1/STS-3 PATH - TRANSMIT F2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07A3) ..................... 136
      TABLE 198: TRANSMIT STS-1/STS-3 PATH - TRANSMIT H4 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07A7) .................... 136
      TABLE 199: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z3 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07AB) .................... 137
      TABLE 200: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z4 BYTE VALUE REGISTER (ADDRESS LOCATION= 0XN9AF) .................... 137
      TABLE 201: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z5 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07B3) ..................... 137
      TABLE 202: TRANSMIT STS-1/STS-3 PATH - TRANSMIT PATH CONTROL REGISTER (ADDRESS LOCATION= 0X07B7) ..................... 138
      TABLE 203: TRANSMIT STS-1/STS-3 PATH - SONET PATH J1 CONTROL REGISTER (ADDRESS LOCATION= 0X07BB) .................. 139
      TABLE 204: TRANSMIT STS-1/STS-3 PATH - TRANSMIT ARBITRARY H1 POINTER REGISTER (ADDRESS LOCATION= 0X07BF) ........ 140
      TABLE 205: TRANSMIT STS-1/STS-3 PATH - TRANSMIT ARBITRARY H2 POINTER REGISTER (ADDRESS LOCATION= 0X07C3) ........ 141
      TABLE 206: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CURRENT POINTER BYTE REGISTER - BYTE 1 (ADDRESS LOCATION= 0X07C6)
                141
      TABLE 207: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CURRENT POINTER BYTE REGISTER - BYTE 0 (ADDRESS LOCATION= 0X07C7)
                141
      TABLE 208: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 2 (ADDRESS LOCATION= 0X07C9) ..................... 142
      TABLE 209: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION= 0X07CA) ..................... 142
      TABLE 210: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X07CB) ..................... 143
      TABLE 211: TRANSMIT STS-1/STS-3 PATH - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION= 0X07CF) ......................... 144
      TABLE 212: TRANSMIT STS-1/STS-3 PATH - TRANSMIT NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1 (ADDRESS LOCA-
                TION= 0X07D0) ........................................................................................................................................................... 144
      TABLE 213: TRANSMIT STS-1/STS-3 PATH - TRANSMIT NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 0 (ADDRESS LOCA-
                TION= 0X07D1) ........................................................................................................................................................... 145
      TABLE 214: TRANSMIT STS-1/STS-3 PATH - TRANSMIT POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION=
                0X07D2) ..................................................................................................................................................................... 145
      TABLE 215: TRANSMIT STS-1/STS-3 PATH - TRANSMIT POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION=
                0X07D3) ..................................................................................................................................................................... 145
    2.7 TRANSMIT TUG-3 MAPPER/VC-4 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS
           ONLY)............................................................................................................................................................ 145
      FIGURE 8. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE TRANSMIT TUG-3 MAPPER/VC-
                4 POH PROCESSOR BLOCK "HIGHLIGHTED" .................................................................................................................. 146
    2.8 GLOBAL VT MAPPER BLOCK CONTROL REGISTERS .............................................................................. 146
      TABLE 216: GLOBAL CONTROL - VT-MAPPER BLOCK - VT MAPPER BLOCK CONTROL REGISTER (ADDRESS = 0X0C03) ................. 146
      FIGURE 9. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 WITH THE VT-MAPPER SONET/SDH LOOP-BACK
                                                                                         IV


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                                                                    REV. 2.0.0
              PATH DEPICTED ........................................................................................................................................................... 148
     TABLE 217: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN CONTROL REGISTER - BYTE 1 (ADDRESS = 0X0C0E) ......... 148
     TABLE 218: GLOBAL VT-MAPPER BLOCK - TEST PATTERN CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0C0F) ........................... 149
     TABLE 219: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN DROP REGISTER - BYTE 1 (ADDRESS = 0X0C12) ............... 150
     TABLE 220: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN DROP REGISTER - BYTE 0 (ADDRESS = 0X0C13) ............... 152
     TABLE 221: GLOBAL CONTROL - VT-MAPPER - TEST PATTERN DETECTOR ERROR COUNT REGISTER - UPPER BYTE (ADDRESS = 0X0C16)
              153
     TABLE 222: GLOBAL CONTROL - VT-MAPPER - TEST PATTERN DETECTOR ERROR COUNT REGISTER - LOWER BYTE (ADDRESS = 0X0C17)
              154
     TABLE 223: GLOBAL CONTROL - VT-MAPPER - TRANSMIT TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1A) ................... 154
     TABLE 224: GLOBAL CONTROL - VT-MAPPER - TRANSMIT TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1B) ................... 155
     TABLE 225: GLOBAL CONTROL - VT-MAPPER - RECEIVE TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1E) ..................... 157
     TABLE 226: GLOBAL CONTROL - VT-MAPPER - RECEIVE TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1F) ..................... 158
   2.9 DS3 MAPPER CONTROL REGISTERS.......................................................................................................... 159
     TABLE 227: DS3 MAPPER BLOCK - CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0D02) .............................................. 159
     TABLE 228: DS3 MAPPER BLOCK - CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0D03) .............................................. 160
     TABLE 229: DS3 MAPPER BLOCK - RECEIVE STATUS REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0D06) .................................. 160
     TABLE 230: DS3 MAPPER BLOCK - RECEIVE STATUS REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0D07) .................................. 161
     TABLE 231: DS3 MAPPER BLOCK - RECEIVE MAPPER INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS = 0X0D0B) ................... 162
     TABLE 232: DS3 MAPPER BLOCK - RECEIVE MAPPER INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS = 0X0D0E) ................... 163
     TABLE 233: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 2 (ADDRESS = 0X0D21) ........................... 163
     TABLE 234: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 1 (ADDRESS = 0X0D22) ........................... 164
     TABLE 235: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 0 (ADDRESS = 0X0D23) ........................... 164
     TABLE 236: DS3 MAPPER BLOCK - POINTER JUSTIFICATION JITTER CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0D27) .............. 164
   2.10 DS3 FRAMER AND M13 MUX BLOCK REGISTERS ................................................................................... 164
     FIGURE 10. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE FUNCTIONAL BLOCKS (WHICH ARE CON-
              TROLLED/MONITORED VIA THE DS3 FRAMER AND M13 MUX BLOCK REGISTERS) HIGHLIGHTED. ..................................... 165
     TABLE 237: DS3 FRAMER BLOCK OPERATING MODE REGISTER (ADDRESS = 0X0E00) ................................................................. 165
     TABLE 238: DS3 FRAMER BLOCK - I/O CONTROL REGISTER (ADDRESS = 0X0E01) ...................................................................... 166
     TABLE 239: DS3 FRAMER BLOCK - BLOCK INTERRUPT ENABLE REGISTER (ADDRESS = 0X0E04) .................................................. 167
     TABLE 240: DS3 FRAMER BLOCK - BLOCK INTERRUPT STATUS REGISTER (ADDRESS = 0X0E05) .................................................. 168
     TABLE 241: DS3 FRAMER BLOCK - M23 CONFIGURATION REGISTER (ADDRESS = 0X0E07) .......................................................... 169
     FIGURE 11. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER IT HAS BEEN CONFIGURED TO OP-
              ERATE IN THE M13 LOCAL LOOP- BACK MODE .............................................................................................................. 170
     TABLE 242: DS3 FRAMER BLOCK - M23 TRANSMIT DS2 AIS COMMAND REGISTER (ADDRESS = 0X0E08) .................................... 171
     FIGURE 12. AN ILLUSTRATION OF THE XRT86SH328, WHENEVER THE M12 MUX HAS BEEN CONFIGURED TO TRANSMIT THE DS2 AIS INDI-
              CATOR TOWARDS BOTH THE M23 MUX AND THE TRANSMIT DS3 FRAMER BLOCK .......................................................... 171
     TABLE 243: DS3 FRAMER BLOCK - M23 - DS2 LOOP-BACK REQUEST REGISTER (ADDRESS = 0X0E09) ........................................ 172
     TABLE 244: DS3 FRAMER BLOCK - M23 LOOP-BACK ACTIVATION REGISTER (ADDRESS = 0X0E0A) .............................................. 173
     FIGURE 13. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER A GIVEN DS2 CHANNEL HAS BEEN
              CONFIGURED TO OPERATE IN THE REMOTE DS2 LOOP-BACK MODE .............................................................................. 173
     TABLE 245: DS3 FRAMER BLOCK - M23 MUX FORCE RECEIVE DS2 AIS COMMAND REGISTERS (ADDRESS = 0X0E0B) ............... 174
     FIGURE 14. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER THE M23 DE-MUX HAS BEEN CON-
              FIGURED TO TRANSMIT THE DS2 AIS INDICATOR IN THE EGRESS DIRECTION OF DS2 CHANNEL 0 .................................. 175
     TABLE 246: DS3 FRAMER AND M13 MUX BLOCK - DS3 TEST REGISTER (ADDRESS = 0X0E0C) .................................................. 176
     TABLE 247: DS3 FRAMER AND M13 MUX BLOCK - DS3 TEST REGISTER # 2 (ADDRESS = 0X0E0E) ............................................. 176
     TABLE 248: DS3 FRAMER BLOCK - RECEIVE DS3 CONFIGURATION & STATUS REGISTER (ADDRESS = 0X0E10) ............................ 177
     TABLE 249: DS3 FRAMER BLOCK - RECEIVE DS3 STATUS REGISTER (ADDRESS = 0X0E11) ......................................................... 178
     TABLE 250: DS3 FRAMER BLOCK - RECEIVE DS3 INTERRUPT ENABLE REGISTER (ADDRESS = 0X0E12) ....................................... 179
     TABLE 251: DS3 FRAMER BLOCK - RECEIVE DS3 INTERRUPT STATUS ........................................ REGISTER (ADDRESS = 0X0E13) 181
     TABLE 252: DS3 FRAMER BLOCK - RECEIVE DS3 SYNC DETECT REGISTER (ADDRESS = 0X0E14) ............................................... 182
     TABLE 253: DS3 FRAMER BLOCK - RECEIVE DS3 FEAC REGISTER (ADDRESS = 0X0E16) .......................................................... 182
     TABLE 254: DS3 FRAMER BLOCK - RECEIVE DS3 FEAC INTERRUPT ENABLE/STATUS REGISTER (ADDRESS = 0X0E17) ............... 183
     TABLE 255: DS3 FRAMER BLOCK - RECEIVE LAPD CONTROL REGISTER (ADDRESS = 0X0E18) .................................................... 184
     TABLE 256: DS3 FRAMER BLOCK - RECEIVE DS3 LAPD STATUS REGISTER (ADDRESS = 0X0E19) .............................................. 185
     TABLE 257: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 1 (ADDRESS = 0X0E1A) .......................... 186
     TABLE 258: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 2 (ADDRESS = 0X0E1B) .......................... 187
     TABLE 259: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 3 (ADDRESS = 0X0E1C) ......................... 187
     TABLE 260: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 4 (ADDRESS = 0X0E1D) .......................... 187
     TABLE 261: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 5 (ADDRESS = 0X0E1E) .......................... 188
     TABLE 262: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 6 (ADDRESS = 0X0E1F) ........................... 188
     TABLE 263: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 7 (ADDRESS = 0X0E20) ........................... 188
     TABLE 264: DS3 FRAMER BLOCK - M12 DE-MUX FORCE DS1/E1 AIS REGISTER - DS2 CHANNEL # 1 (ADDRESS = 0X0E21) ...... 188
     FIGURE 15. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER A GIVEN M12 DE-MUX BLOCK HAS
              BEEN CONFIGURED TO TRANSMIT THE DS1/E1 AIS INDICATOR (WITHIN A GIVEN DS1/E1 SIGNAL) IN THE EGRESS DIRECTION
              189
                                                                                    V


                                                                                                                                             XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      TABLE 265: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 1 (ADDRESS = 0X0E22) .............................................. 190
      TABLE 266: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 2 (ADDRESS = 0X0E23) .............................................. 190
      TABLE 267: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 3 (ADDRESS = 0X0E24) .............................................. 190
      TABLE 268: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 4 (ADDRESS = 0X0E25) .............................................. 191
      TABLE 269: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 5 (ADDRESS = 0X0E26) .............................................. 191
      TABLE 270: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 6 (ADDRESS = 0X0E27) .............................................. 191
      TABLE 271: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 1 (ADDRESS = 0X0E28) ............................................................ 192
      FIGURE 16. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER IT HAS BEEN CONFIGURED TO OPERATE
               IN THE M12 REMOTE LOOP-BACK MODE ...................................................................................................................... 192
      TABLE 272: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 2 (ADDRESS = 0X0E29) ............................................................ 193
      TABLE 273: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 3 (ADDRESS = 0X0E2A) ............................................................ 193
      TABLE 274: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 4 (ADDRESS = 0X0E2B) ............................................................ 194
      TABLE 275: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 5 (ADDRESS = 0X0E2C) ............................................................ 194
      TABLE 276: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 6 (ADDRESS = 0X0E2D) ............................................................ 194
      TABLE 277: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 7 (ADDRESS = 0X0E2E) ............................................................ 194
      TABLE 278: DS3 FRAMER BLOCK - TRANSMIT DS3 CONFIGURATION REGISTER (ADDRESS = 0X0E30) .......................................... 195
      TABLE 279: DS3 FRAMER BLOCK - TRANSMIT DS3 FEAC CONFIGURATION & STATUS REGISTER (ADDRESS = 0X0E31) ............... 196
      TABLE 280: DS3 FRAMER BLOCK - TRANSMIT DS3 FEAC REGISTER (ADDRESS = 0X0E32) ......................................................... 197
      TABLE 281: DS3 FRAMER BLOCK - TRANSMIT DS3 LAPD CONFIGURATION REGISTER (ADDRESS = 0X0E33) ................................ 198
      TABLE 282: DS3 FRAMER BLOCK - TRANSMIT DS3 LAPD STATUS/INTERRUPT REGISTER (ADDRESS = 0X0E34) ........................... 199
      TABLE 283: DS3 FRAMER BLOCK - TRANSMIT DS3 M-BIT MASK REGISTER (ADDRESS = 0X0E35) ................................................ 199
      TABLE 284: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTERS # 1 (ADDRESS = 0X0E36) ......................................... 200
      TABLE 285: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 2 (ADDRESS = 0X0E37) ........................................... 201
      TABLE 286: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 3 (ADDRESS = 0X0E38) ........................................... 202
      TABLE 287: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 4 (ADDRESS = 0X0E39) ........................................... 202
      TABLE 288: DS3 FRAMER BLOCK - M12 DS2 # 1 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3A) .............................. 203
      TABLE 289: DS3 FRAMER BLOCK - M12 DS2 # 2 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3B) .............................. 204
      TABLE 290: DS3 FRAMER BLOCK - M12 DS2 # 3 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3C) .............................. 205
      TABLE 291: DS3 FRAMER BLOCK - M12 DS2 # 4 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3D) .............................. 205
      TABLE 292: DS3 FRAMER BLOCK - M12 DS2 # 5 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3E) .............................. 205
      TABLE 293: DS3 FRAMER BLOCK - M12 DS2 # 6 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3F) .............................. 206
      TABLE 294: DS3 FRAMER BLOCK - M12 DS2 # 7 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E40) ............................... 206
      TABLE 295: DS3 FRAMER BLOCK - TRANSMIT DS3 PATTERN REGISTER (ADDRESS = 0X0E4C) .................................................... 206
      TABLE 296: DS3 FRAMER BLOCK - AUTO T1/E1 AIS UPON DS3 DEFECT CONDITION REGISTER (ADDRESS = 0X0E4D) ................ 207
      TABLE 297: DS3 FRAMER BLOCK - PMON EXCESSIVE ZERO (EXZ) EVENT COUNT REGISTER - MSB (ADDRESS = 0X0E4E) ........ 208
      TABLE 298: DS3 FRAMER BLOCK - PMON EXCESSIVE ZERO (EXZ) EVENT COUNT REGISTER - LSB (ADDRESS = 0X0E4F) ......... 209
      TABLE 299: DS3 FRAMER BLOCK - PMON LINE CODE VIOLATION (LCV) EVENT COUNT REGISTER - MSB (ADDRESS = 0X0E50) . 209
      TABLE 300: DS3 FRAMER BLOCK - PMON LINE CODE VIOLATION (LCV) EVENT COUNT REGISTER - LSB (ADDRESS = 0X0E51) .. 209
      TABLE 301: DS3 FRAMER BLOCK - PMON FRAMING BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E52) ......................... 209
      TABLE 302: DS3 FRAMER BLOCK - PMON FRAMING BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E53) .......................... 210
      TABLE 303: DS3 FRAMER BLOCK - PMON P-BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E54) .................................... 210
      TABLE 304: DS3 FRAMER BLOCK - PMON P-BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E55) ..................................... 210
      TABLE 305: DS3 FRAMER BLOCK - PMON FEBE EVENT COUNT REGISTER - MSB (ADDRESS = 0X0E56) .................................... 211
      TABLE 306: DS3 FRAMER BLOCK - PMON FEBE EVENT COUNT REGISTER - LSB (ADDRESS = 0X0E57) ..................................... 211
      TABLE 307: DS3 FRAMER BLOCK - CP-BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E58) ............................................. 211
      TABLE 308: DS3 FRAMER BLOCK - CP-BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E59) .............................................. 211
      TABLE 309: DS3 FRAMER BLOCK - PMON DS2 # 1 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5A) ..................... 212
      TABLE 310: DS3 FRAMER BLOCK - PMON DS2 # 2 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5B) ..................... 212
      TABLE 311: DS3 FRAMER BLOCK - PMON DS2 # 3 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5C) ..................... 212
      TABLE 312: DS3 FRAMER BLOCK - PMON DS2 # 4 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5D) ..................... 212
      TABLE 313: DS3 FRAMER BLOCK - PMON DS2 # 5 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5E) ..................... 213
      TABLE 314: DS3 FRAMER BLOCK - PMON DS2 # 6 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5F) ..................... 213
      TABLE 315: DS3 FRAMER BLOCK - PMON DS2 # 7 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E60) ...................... 213
      TABLE 316: DS3 FRAMER BLOCK - PMON G.747 # 1 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E61) ...................... 213
      TABLE 317: DS3 FRAMER BLOCK - PMON G.747 # 2 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E62) ...................... 213
      TABLE 318: DS3 FRAMER BLOCK - PMON G.747 # 3 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E63) ...................... 214
      TABLE 319: DS3 FRAMER BLOCK - PMON G.747 # 4 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E64) ...................... 214
      TABLE 320: DS3 FRAMER BLOCK - PMON G.747 # 5 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E65) ...................... 214
      TABLE 321: DS3 FRAMER BLOCK - PMON G.747 # 6 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E66) ...................... 214
      TABLE 322: DS3 FRAMER BLOCK - PMON G.747 # 7 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E67) ...................... 214
      TABLE 323: DS3 FRAMER BLOCK - PRBS BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E68) ........................................ 215
      TABLE 324: DS3 FRAMER BLOCK - PRBS BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E69) ......................................... 215
      TABLE 325: DS3 FRAMER BLOCK - ONE SECOND ERROR STATUS REGISTER (ADDRESS = 0X0E6D) ............................................. 215
      TABLE 326: DS3 FRAMER BLOCK - LCV ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS = 0X0E6E) ........................... 216
      TABLE 327: DS3 FRAMER BLOCK - LCV ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS = 0X0E6F) ............................ 216
      TABLE 328: DS3 FRAMER BLOCK - P-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS = 0X0E70) .............. 216
                                                                   VI


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                                                                      REV. 2.0.0
     TABLE 329: DS3 FRAMER BLOCK - P-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS = 0X0E71) ............... 217
     TABLE 330: DS3 FRAMER BLOCK - CP-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS = 0X0E72) ............ 217
     TABLE 331: DS3 FRAMER BLOCK - CP-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS = 0X0E73) ............. 217
     TABLE 332: DS3 FRAMER BLOCK - TRANSMIT LAPD BYTE COUNT REGISTER (ADDRESS = 0X0E83) ............................................. 218
     TABLE 333: DS3 FRAMER BLOCK - RECEIVE LAPD BYTE COUNT REGISTER (ADDRESS = 0X0E84) ............................................... 218
     TABLE 334: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST INTERRUPT ENABLE REGISTER (ADDRESS = 0X0E90) ..... 218
     TABLE 335: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST INTERRUPT STATUS REGISTER (ADDRESS = 0X0E91) ..... 219
     TABLE 336: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST STATUS REGISTER (ADDRESS = 0X0E92) ....................... 220
     TABLE 337: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 1 (ADDRESS = 0X0E93) ................. 221
     TABLE 338: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 1 (ADDRESS = 0X0E94) ............................................. 222
     TABLE 339: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 2 (ADDRESS = 0X0E95) ................. 222
     TABLE 340: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 2 (ADDRESS = 0X0E96) ............................................. 223
     TABLE 341: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 3 (ADDRESS = 0X0E97) ................. 223
     TABLE 342: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 3 (ADDRESS = 0X0E98) ............................................. 223
     TABLE 343: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 4 (ADDRESS = 0X0E99) ................. 224
     TABLE 344: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 4 (ADDRESS = 0X0E9A) ............................................. 224
     TABLE 345: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 5 (ADDRESS = 0X0E9B) ................. 224
     TABLE 346: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 5 (ADDRESS = 0X0E9C) ............................................. 225
     TABLE 347: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 6 (ADDRESS = 0X0E9D) ................ 225
     TABLE 348: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 6 (ADDRESS = 0X0E9E) ............................................. 225
     TABLE 349: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 7 (ADDRESS = 0X0E9F) ................. 226
     TABLE 350: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 7 (ADDRESS = 0X0EA0) ............................................. 226
     TABLE 351: DS3 FRAMER BLOCK - DS2 # 1 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA1) ................................. 226
     TABLE 352: DS3 FRAMER BLOCK - DS2 # 1 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA2) ................................. 228
     TABLE 353: DS3 FRAMER BLOCK - DS2 # 1 FRAMER STATUS REGISTER (ADDRESS = 0X0EA3) ................................................... 229
     TABLE 354: DS3 FRAMER BLOCK - DS2 # 2 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA4) ................................. 230
     TABLE 355: DS3 FRAMER BLOCK - DS2 # 2 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA5) ................................. 230
     TABLE 356: DS3 FRAMER BLOCK - DS2 # 2 FRAMER STATUS REGISTER (ADDRESS = 0X0EA6) ................................................... 230
     TABLE 357: DS3 FRAMER BLOCK - DS2 # 3 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA7) ................................. 231
     TABLE 358: DS3 FRAMER BLOCK - DS2 # 3 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA8) ................................. 231
     TABLE 359: DS3 FRAMER BLOCK - DS2 # 3 FRAMER STATUS REGISTER (ADDRESS = 0X0EA9) ................................................... 231
     TABLE 360: DS3 FRAMER BLOCK - DS2 # 4 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EAA) ................................. 232
     TABLE 361: DS3 FRAMER BLOCK - DS2 # 4 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EAB) ................................. 232
     TABLE 362: DS3 FRAMER BLOCK - DS2 # 4 FRAMER STATUS REGISTER (ADDRESS = 0X0EAC) .................................................. 232
     TABLE 363: DS3 FRAMER BLOCK - DS2 # 5 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EAD) ................................. 233
     TABLE 364: DS3 FRAMER BLOCK - DS2 # 5 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EAE) ................................. 233
     TABLE 365: DS3 FRAMER BLOCK - DS2 # 5 FRAMER STATUS REGISTER (ADDRESS = 0X0EAF) ................................................... 233
     TABLE 366: DS3 FRAMER BLOCK - DS2 # 6 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EB0) ................................. 234
     TABLE 367: DS3 FRAMER BLOCK - DS2 # 6 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EB1) ................................. 234
     TABLE 368: DS3 FRAMER BLOCK - DS2 # 6 FRAMER STATUS REGISTER (ADDRESS = 0X0EB2) ................................................... 234
     TABLE 369: DS3 FRAMER BLOCK - DS2 # 7 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EB3) ................................. 235
     TABLE 370: DS3 FRAMER BLOCK - DS2 # 7 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EB4) ................................. 235
     TABLE 371: DS3 FRAMER BLOCK - DS2 # 7 FRAMER STATUS REGISTER (ADDRESS = 0X0EB5) ................................................... 235
     TABLE 372: DS3 FRAMER BLOCK - M13 DE-MUX REGISTER (ADDRESS = 0X0EB8) ..................................................................... 236
   2.11 CHANNEL CONTROL-VT MAPPER BLOCK REGISTERS.......................................................................... 237
     FIGURE 17. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE VT-MAPPER BLOCK HIGHLIGHTED
              237
     TABLE 373: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION DS1/E1 INSERTION CONTROL REGISTER - 2 (ADDRESS =
              0XND41) .................................................................................................................................................................... 237
     TABLE 374: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - DS1/E1 INSERTION CONTROL REGISTER - 1 (ADDRESS =
              0XND42, WHERE N RANGES FROM 0X01 TO 0X1C) ...................................................................................................... 238
     TABLE 375: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - DS1/E1 INSERTION CONTROL REGISTER - 0 (ADDRESS =
              0XND43 , WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................... 239
     FIGURE 18. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 WHENEVER THE VT-MAPPER BLOCK (ASSOCI-
              ATED WITH A GIVEN CHANNEL) HAS BEEN CONFIGURED TO TRANSMIT THE AIS-V INDICATOR TOWARDS DOWN-STREAM CIRCUITRY
              240
     TABLE 376: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - DS1/E1 DROP CONTROL REGISTER - BYTE 3 (ADDRESS
              = 0XND44, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ..................................................................................... 242
     TABLE 377: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - DS1/E1 DROP CONTROL REGISTER - BYTE 2 (ADDRESS
              = 0XND45, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ..................................................................................... 242
     TABLE 378: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - ENGRESS DIRECTION - DS1/E1 DROP CONTROL REGISTER - BYTE 1 (ADDRESS
              = 0XND46, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ..................................................................................... 243
     TABLE 379: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - ENGRESS DIRECTION - DS1/E1 DROP CONTROL REGISTER - BYT E 0 (ADDRESS
              = 0XND47, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ..................................................................................... 243
     FIGURE 19. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER THE VT-DE-MAPPER BLOCK (AS-
              SOCIATED WITH A GIVEN CHANNEL) OVERWRITES THE CONTENTS OF A DE-MAPPED DS1/E1 SIGNAL WITH THE DS1/E1 AIS PAT-
                                                                                     VII


                                                                                                                                                                      XRT86SH328
REV. 2.0.0                             28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
               TERN ........................................................................................................................................................................... 244
      TABLE 380: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - BIP-2 ERROR COUNT REGISTER - BYTE 1 (ADDRESS =
               0XND4A, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................... 246
      TABLE 381: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - BIP-2 ERROR COUNT REGISTER - BYTE 0 (ADDRESS =
               0XND4B, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................... 247
      TABLE 382: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - REI-V EVENT COUNT REGISTER - BYTE 1 (ADDRESS =
               0XND4E, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................... 247
      TABLE 383: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - REI-V EVENT COUNT REGISTER - BYTE 0 (ADDRESS =
               0XND4F, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................... 248
      TABLE 384: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - RECEIVE APS REGISTER - BYTE 0 (ADDRESS = 0XND53,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 248
      TABLE 385: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT APS REGISTER - BYTE 2 (ADDRESS = 0XND56,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 248
      TABLE 386: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT APS/K4 REGISTER (ADDRESS = 0XND57, WHERE
               N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................................................. 249
      TABLE 387: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - J2 BYTE STATUS REGISTER (ADDRESS = 0XND63, WHERE
               N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................................................. 250
      TABLE 388: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - COMPOSITE STATUS REGISTER - BYTE 0 (ADDRESS =
               0XND64, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ........................................................................................ 250
      TABLE 389: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - COMPOSITE STATUS REGISTER - BYTE 0 (ADDRESS =
               0XND65, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ........................................................................................ 251
      TABLE 390: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT STATUS REGISTER (ADDRESS = 0XND67, WHERE
               N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................................................. 253
      TABLE 391: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER (ADDRESS = 0XND68, WHERE
               N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................................................. 254
      TABLE 392: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER (ADDRESS = 0XND69,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 254
      TABLE 393: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER (ADDRESS = 0XND6B,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 256
      TABLE 394: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - VT-PATH TRACE BUFFER CONTROL REGISTER (ADDRESS
               = 0XND71, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ................................................................................... 257
      TABLE 395: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - AUTO AIS CONTROL REGISTER - BYTE 1 (ADDRESS =
               0XND72, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ........................................................................................ 258
      TABLE 396: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - AUTO AIS CONTROL REGISTER - BYTE 0 (ADDRESS =
               0XND73, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ........................................................................................ 259
      TABLE 397: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT J2 BYTE VALUE REGISTER (ADDRESS = 0XND76,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 260
      TABLE 398: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT N2 BYTE VALUE REGISTER (ADDRESS = 0XND77,
               WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) ....................................................................................................... 261
      TABLE 399: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT VT-PATH TRACE MESSAGE CONTROL REGISTER
               (ADDRESS = 0XND79, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................... 261
      TABLE 400: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL REGISTER - BYTE 3 (ADDRESS
               = 0XND84, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................... 262
      TABLE 401: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL REGISTER - BYTE 2 (ADDRESS
               = 0XND85, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................... 262
      TABLE 402: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL REGISTER - BYTE 1 (ADDRESS
               = 0XND86, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................... 264
      TABLE 403: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL REGISTER - BYTE 0 (ADDRESS
               = 0XND87, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C) .................................................................................... 264
  REVISION HISTORY ................................................................................................................................... 266
                                                                                          VIII


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                  REV. 2.0.0
 1.0 REGISTER MAP & DESCRIPTION FOR THE XRT86SH328 SONET/SDH WITH DS3 MUX AND VT-
       MAPPER IC - SONET APPLICATIONS
 1.1    REGISTER MAP OF THE XRT86SH328
                                   TABLE 2: OPERATION CONTROL REGISTERS
     ADDRESS                                                                                 DEFAULT
                                              REGISTER NAME                          TYPE
     LOCATION                                                                                 VALUE
      0x0000      Operation Control Register - Byte 3                                R/W       0x00
      0x0001      Operation Control Register - Byte 2                                R/W       0x00
      0x0002      Reserved
      0x0003      Operation Control Register - Byte 0                                R/W       0x00
      0x0004      Device ID Register                                                 R/O       0x50
      0x0005      Revision ID Register                                               R/O       0x01
 0x0006 - 0x000A Reserved
      0x000B      Operation Interrupt Status Register - Byte 0                       RUR       0x00
 0x000C - 0x000E Reserved
      0x000F      Operation Interrupt Enable Register - Byte 0                       R/W       0x00
  0x0010 - 0x0011 Reserved
      0x0012      Operation Block - Interrupt Status Register - Byte 1               R/O       0x00
      0x0013      Operation Block - Interrupt Status Register - Byte 0               R/O       0x00
  0x0014 - 0x0015 Reserved
      0x0016      Operation Block - Interrupt Enable Register - Byte 1               R/W       0x00
      0x0017      Operation Block - Interrupt Enable Register - Byte 0               R/W       0x00
 0x0018 - 0x001A Reserved
      0x001B      Operation Block - Mode Control Register - Byte 0                   R/W       0x00
 0x001C - 0x001E Reserved
      0x001F      Operation Block - Loop-back Control Register - Byte 0              R/W       0x00
  0x0020 - 0x0033 Reserved
      0x0034      Operation Block - Telecom Bus Control Register - Byte 3            R/W       0x00
      0x0035      Operation Block - Telecom Bus Control Register - Byte 2            R/W       0x00
      0x0036      Operation Block - Telecom Bus Control Register - Byte 1            R/W       0x00
      0x0037      Operation Block - Telecom Bus Control Register - Byte 0            R/W       0x00
 0x0038 - 0x003B Reserved
      0x003C      Operation Block - Interface Control Register                     RUR & R/W   0x00
 0x003D - 0x0046 Reserved
      0x0047      Operation Block - General Purpose Input/Output Register - Byte 0   R/W       0x00
                                                          4


                                                                                             XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                                  TABLE 2: OPERATION CONTROL REGISTERS
     ADDRESS                                                                                      DEFAULT
                                            REGISTER NAME                                 TYPE
     LOCATION                                                                                      VALUE
 0x0048 - 0x004A Reserved
      0x004B     Operation Block - General Purpose Input/Output Direction Register -      RW        0x00
                 Byte 0
 0x004C - 0x004D Reserved
      0x004E     Operation Block - Operation I/O Control Register 1                       R/W       0x00
      0x004F     Operation Block - Operation I/O Control Register 0                       R/W       0x00
      0x0050     Operation Block - Channel Interrupt Indication Register - VT Slot[27:24] R/O       0x00
      0x0051     Operation Block - Channel Interrupt Indicator Register - VT Slot[23:16]  R/O       0x00
      0x0052     Operation Block - Channel Interrupt Indicator Register - VT Slot[15:8]   R/O       0x00
      0x0053     Operation Block - Channel Interrupt Indicator Register - VT Slot[7:0]    R/O       0x00
      0x0054     Operation Block - Channel Interrupt Indicator Register - M13 Slot[27:24] R/O       0x00
      0x0055     Operation Block - Channel Interrupt Indicator Register - M13 Slot[23:16] R/O       0x00
      0x0056     Operation Block - Channel Interrupt Indicator Register - M13 Slot[15:8]  R/O       0x00
      0x0057     Operation Block - Channel Interrupt Indicator Register - M13 Slot[7:0]   R/O       0x00
      0x0058     Operation Block - Channel Interrupt Indicator Register - DS1E1 LIU       R/O       0x00
                 Slot[27:24]
      0x0059     Operation Block - Channel Interrupt Indicator Register - DS1E1 LIU       R/O       0x00
                 Slot[23:16]
      0x005A     Operation Block - Channel Interrupt Indicator Register - DS1E1 LIU       R/O       0x00
                 Slot[15:8]
      0x005B     Operation Block - Channel Interrupt Indicator Register - DS1E1 LIU       R/O       0x00
                 Slot[7:0]
      0x005C     Operation Block - Channel Interrupt Indicator Register - VT-Mapper       R/O       0x00
                 Slot[27:24]
      0x005D     Operation Block - Channel Interrupt Indicator Register - VT-Mapper       R/O       0x00
                 Slot[23:16]
      0x005E     Operation Block - Channel Interrupt Indication Register - VT-Mapper      R/O       0x00
                 Slot[15:8]
      0x005F     Operation Block - Channel Interrupt Indication Register - VT-Mapper      R/O       0x00
                 Slot[7:0]
 0x0060 - 0x007F Reserved
      0x0080     Operation Block - Channel De-Jitter FIFO Depth - VT-Mapper               R/W      0xFF
                 Slot[27:20]
      0x0081     Operation Block - Channel De-Jitter FIFO Depth - VT-Mapper               R/W      0xFF
                 Slot[19:12]
      0x0082     Operation Block - Channel De-Jitter FIFO Depth - VT-Mapper Slot[11:4]    R/W      0xFF
      0x0083     Operation Block - Channel De-Jitter FIFO Depth - VT-Mapper Slot[3:0]     R/W      0x0F
                                                         5


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                    REV. 2.0.0
                                  TABLE 2: OPERATION CONTROL REGISTERS
    ADDRESS                                                                                    DEFAULT
                                           REGISTER NAME                                TYPE
    LOCATION                                                                                    VALUE
     0x0084      Operation Block - Channel De-Jitter FIFO Status - VT-Mapper            RUR      0x00
                 Slot[27:20]
     0x0085      Operation Block - Channel De-Jitter FIFO Status - VT-Mapper            RUR      0x00
                 Slot[19:12]
     0x0086      Operation Block - Channel De-Jitter FIFO Status - VT-Mapper Slot[11:4] RUR      0x00
     0x0087      Operation Block - Channel De-Jitter FIFO Status - VT-Mapper Slot[3:0]  RUR      0x00
 0x0088 - 0x00FF Reserved
                   TABLE 3: RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
                                                                                                DEFAULT
ADDRESS LOCATION                            REGISTER NAME                                 TYPE
                                                                                                  VALUE
 0x0200 - 0x0201 Reserved
     0x0202      Receive STS-1/STS-3 Transport - Control Register - Byte 1                 R/W     0x00
     0x0203      Receive STS-1/STS-3 Transport - Control Register - Byte 0                 R/W     0x00
 0x0204 - 0x0205 Reserved                                                                  R/O     0x00
     0x0206      Receive STS-1/STS-3 Transport - Status Register - Byte 1                  R/O     0x00
     0x0207      Receive STS-1/STS-3 Transport - Status Register - Byte 0                  R/O     0x00
     0x0208      Reserved
     0x0209      Receive STS-1/STS-3 Transport - Interrupt Status Register - Byte 2       RUR      0x00
     0x020A      Receive STS-1/STS-3 Transport - Interrupt Status Register - Byte 1       RUR      0x00
     0x020B      Receive STS-1/STS-3 Transport - Interrupt Status Register - Byte 0       RUR      0x00
     0x020C      Reserved
     0x020D      Receive STS-1/STS-3 Transport - Interrupt Enable Register - Byte 2        R/W     0x00
     0x020E      Receive STS-1/STS-3 Transport - Interrupt Enable Register - Byte 1        R/W     0x00
     0x020F      Receive STS-1/STS-3 Transport - Interrupt Enable Register - Byte 0        R/W     0x00
     0x0210      Receive STS-1/STS-3 Transport - Receive B1 Byte Error Count Register -   RUR      0x00
                 Byte 3
     0x0211      Receive STS-1/STS-3 Transport - Receive B1 Byte Error Count Register -   RUR      0x00
                 Byte 2
     0x0212      Receive STS-1/STS-3 Transport - Receive B1 Byte Error Count Register -   RUR      0x00
                 Byte 1
     0x0213      Receive STS-1/STS-3 Transport - Receive B1 Byte Error Count Register -   RUR      0x00
                 Byte 0
     0x0214      Receive STS-1/STS-3 Transport - Receive B2 Byte Error Count Register -   RUR      0x00
                 Byte 3
                                                        6


                                                                                         XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                    TABLE 3: RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
                                                                                              DEFAULT
ADDRESS LOCATION                            REGISTER NAME                               TYPE
                                                                                               VALUE
      0x0215     Receive STS-1/STS-3 Transport - Receive B2 Byte Error Count Register - RUR     0x00
                 Byte 2
      0x0216     Receive STS-1/STS-3 Transport - Receive B2 Byte Error Count Register - RUR     0x00
                 Byte 1
      0x0217     Receive STS-1/STS-3 Transport - Receive B2 Byte Error Count Register - RUR     0x00
                 Byte 0
      0x0218     Receive STS-1/STS-3 Transport - Receive REI-L Event Count Register -   RUR     0x00
                 Byte 3
      0x0219     Receive STS-1/STS-3 Transport - Receive REI-L Event Count Register -   RUR     0x00
                 Byte 2
      0x021A     Receive STS-1/STS-3 Transport - Receive REI-L Event Count Register -   RUR     0x00
                 Byte 1
      0x021B     Receive STS-1/STS-3 Transport - Receive REI-L Event Count Register -   RUR     0x00
                 Byte 0
 0x021C - 0x021E Reserved
      0x021F     Receive STS-1/STS-3 Transport - Receive K1 Byte Value Register         R/O     0x00
 0x0220 - 0x0222 Reserved
      0x0223     Receive STS-1/STS-3 Transport - Receive K2 Byte Value Register         R/O     0x00
  0x0224 -0x0226 Reserved
      0x0227     Receive STS-1/STS-3 Transport - Receive S1 Byte Value Register         R/O     0x00
 0x0228 - 0x022A Reserved
      0x022B     Receive STS-1/STS-3 Transport - Receive In-Sync Threshold Register     R/W     0x00
 0x022C - 0x022D Reserved
      0x022E     Receive STS-1/STS-3 Transport - Receive LOS Threshold Register - MSB   R/W     0x00
      0x022F     Receive STS-1/STS-3 Transport - Receive LOS Threshold Register - LSB   R/W     0x00
      0x0230     Reserved
      0x0231     Receive STS-1/STS-3 Transport - Receive SF Defect Declare Monitor      R/W     0x00
                 Interval Register - Byte 2
      0x0232     Receive STS-1/STS-3 Transport - Receive SF Defect Declare Monitor      R/W     0x00
                 Interval Register - Byte 1
      0x0233     Receive STS-1/STS-3 Transport - Receive SF Defect Declare Monitor      R/W     0x00
                 Interval Register - Byte 0
 0x0234 - 0x0235 Reserved
      0x0236     Receive STS-1/STS-3 Transport - Receive SF Defect Set Threshold Reg-   R/W     0x00
                 ister - Byte 1
      0x0237     Receive STS-1/STS-3 Transport - Receive SF Defect Set Threshold Reg-   R/W     0x00
                 ister - Byte 0
                                                     7


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                               REV. 2.0.0
                    TABLE 3: RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
                                                                                           DEFAULT
ADDRESS LOCATION                          REGISTER NAME                               TYPE
                                                                                            VALUE
 0x0238 - 0x0239 Reserved
     0x023A      Receive STS-1/STS-3 Transport - Receive SF Defect Clear Threshold    R/W    0x00
                 Register - Byte 1
     0x023B      Receive STS-1/STS-3 Transport - Receive SF Defect Clear Threshold    R/W    0x00
                 Register - Byte 0
     0x023C      Reserved
     0x023D      Receive STS-1/STS-3 Transport - Receive SD Defect Declare Monitor    R/W    0x00
                 Interval - Byte 2
     0x023E      Receive STS-1/STS-3 Transport - Receive SD Defect Declare Monitor    R/W    0x00
                 Interval - Byte 1
     0x023F      Receive STS-1/STS-3 Transport - Receive SD Defect Declare Monitor    R/W    0x00
                 Interval - Byte 0
 0x0240 - 0x0241 Reserved
     0x0242      Receive STS-1/STS-3 Transport - Receive SD Defect Set Threshold Reg- R/W    0x00
                 ister - Byte 1
     0x0243      Receive STS-1/STS-3 Transport - Receive SD Defect Set Threshold Reg- R/W    0x00
                 ister - Byte 0
 0x0244 - 0x0245 Reserved
     0x0246      Receive STS-1/STS-3 Transport - Receive SD Defect Clear Threshold    R/W    0x00
                 Register - Byte 1
     0x0247      Receive STS-1/STS-3 Transport - Receive SD Defect Clear Threshold    R/W    0x00
                 Register - Byte 0
 0x0248 - 0x024A Reserved
     0x024B      Receive STS-1/STS-3 Transport - SEF Force Register                   R/W    0x00
 0x024C -0x024E  Reserved
     0x024F      Receive STS-1/STS-3 Transport - Receive J0 Byte/Section Trace Mes-   R/W    0x00
                 sage Control Register
 0x0250 - 0x0251 Reserved
     0x0252      Receive STS-1/STS-3 Transport - Receive SD Defect Error Burst Toler- R/W    0x00
                 ance Register - Byte 1
     0x0253      Receive STS-1/STS-3 Transport - Receive SD Defect Error Burst Toler- R/W    0x00
                 ance Register - Byte 0
 0x0254 - 0x0255 Reserved
     0x0256      Receive STS-1/STS-3 Transport - Receive SF Defect Error Burst Toler- R/W    0x00
                 ance Register - Byte 1
     0x0257      Receive STS-1/STS-3 Transport - Receive SF Defect Error Burst Toler- R/W    0x00
                 ance Register - Byte 0
     0x0258      Reserved
                                                     8


                                                                                          XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                    TABLE 3: RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
                                                                                               DEFAULT
ADDRESS LOCATION                           REGISTER NAME                                 TYPE
                                                                                                VALUE
      0x0259     Receive STS-1/STS-3 Transport - Receive SD Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 2
      0x025A     Receive STS-1/STS-3 Transport - Receive SD Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 1
      0x025B     Receive STS-1/STS-3 Transport - Receive SD Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 0
      0x025C     Reserved
      0x025D     Receive STS-1/STS-3 Transport - Receive SF Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 2
      0x025E     Receive STS-1/STS-3 Transport - Receive SF Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 1
      0x025F     Receive STS-1/STS-3 Transport - Receive SF Defect Clear Monitor Inter-  R/W     0x00
                 val - Byte 0
 0x0260 - 0x0262 Reserved
      0x0263     Receive STS-1/STS-3 Transport - Auto AIS Control Register               R/W     0x00
 0x0264 - 0x0266 Reserved
      0x0267     Receive STS-1/STS-3 Transport - Serial Port Control Register            R/W     0x00
 0x0268 - 0x026A Reserved
      0x026B     Receive STS-1/STS-3 Transport - Auto AIS (in Downstream T1/E1) Regis-   R/W     0x00
                 ter
 0x026C - 0x026D Reserved
      0x026E     Receive STS-1/STS-3 Transport - A1, A2 Byte Error Count Register - Byte RUR     0x00
                 1
      0x026F     Receive STS-1/STS-3 Transport - A1, A2 Byte Error Count Register - Byte RUR     0x00
                 0
 0x0270 - 0x0279 Reserved
      0x027A     Receive STS-1/STS-3 Transport - Receive TOH Capture Buffer - Indirect   R/W     0x00
                 Address Register - Byte 1
      0x027B     Receive STS-1/STS-3 Transport - Receive TOH Capture Buffer - Indirect   R/W     0x00
                 Address Register - Byte 0
  0x027C-0x027E  Reserved                                                                R/W     0x00
      0x027F     Receive STS-1/STS-3 Transport - Receive TOH Capture Buffer - Indirect   R/O     0x00
                 Data Register - Byte 0
      0x0280     Reserved
                                                      9


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                      REV. 2.0.0
                   TABLE 4: RECEIVE STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                                  DEFAULT
ADDRESS LOCATION                            REGISTER NAME                                  TYPE
                                                                                                   VALUE
 0x0281 - 0x0282 Reserved
     0x0283      Receive STS-1/STS-3 Path - Receive Control Register - Byte 0              R/W      0x00
 0x0284 - 0x0285 Reserved
     0x0286      Receive STS-1/STS-3 Path - Receive Status Register - Byte 1               R/O      0x00
     0x0287      Receive STS-1/STS-3 Path - Receive Status Register - Byte 0               R/O      0x00
     0x0288      Reserved
     0x0289      Receive STS-1/STS-3 Path - Receive Interrupt Status Register - Byte 2     RUR      0x00
     0x028A      Receive STS-1/STS-3 Path - Receive Interrupt Status Register - Byte 1     RUR      0x00
     0x028B      Receive STS-1/STS-3 Path - Receive Interrupt Status Register - Byte 0     RUR      0x00
     0x028C      Reserved
     0x028D      Receive STS-1/STS-3 Path - Receive Interrupt Enable Register - Byte 2     R/W      0x00
     0x028E      Receive STS-1/STS-3 Path - Receive Interrupt Enable Register - Byte 1     R/W      0x00
     0x028F      Receive STS-1/STS-3 Path - Receive Interrupt Enable Register - Byte 0     R/W      0x00
 0x0290 - 0x0292 Reserved
     0x0293      Receive STS-1/STS-3 Path - Receive RDI-P Register                      R/O & R/W   0x00
  0x0294 - 0x295 Reserved
     0x0296      Receive STS-1/STS-3 Path - Receive C2 (Path Label) Byte Accepted          R/O     0xFF
                 Register
     0x0297      Receive STS-1/STS-3 Path - Receive C2 (Path Label) Byte Expected          R/W     0xFF
                 Register
     0x0298      Receive STS-1/STS-3 Path - Receive B3 Byte Error Count Register - Byte    RUR      0x00
                 3
     0x0299      Receive STS-1/STS-3 Path - Receive B3 Byte Error Count Register - Byte    RUR      0x00
                 2
     0x029A      Receive STS-1/STS-3 Path - Receive B3 Byte Error Count Register - Byte    RUR      0x00
                 1
     0x029B      Receive STS-1/STS-3 Path - Receive B3 Byte Error Count Register - Byte    RUR      0x00
                 0
     0x029C      Receive STS-1/STS-3 Path - Receive REI-P Event Count Register - Byte 3    RUR      0x00
     0x029D      Receive STS-1/STS-3 Path - Receive REI-P Event Count Register - Byte 2    RUR      0x00
     0x029E      Receive STS-1/STS-3 Path - Receive REI-P Event Count Register - Byte 1    RUR      0x00
     0x029F      Receive STS-1/STS-3 Path - Receive REI-P Event Count Register - Byte 0    RUR      0x00
 0x02A0 - 0x02A2 Reserved
                                                     10


                                                                                         XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                    TABLE 4: RECEIVE STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                              DEFAULT
ADDRESS LOCATION                           REGISTER NAME                                TYPE
                                                                                               VALUE
      0x02A3     Receive STS-1/STS-3 Path - Receive J1 Byte/Path Trace Message Con-     R/W     0x00
                 trol Register
 0x02A4 - 0x02A5 Reserved
      0x02A6     Receive STS-1/STS-3 - Receive Pointer Value Register - Byte 1          R/O     0x00
      0x02A7     Receive STS-1/STS-3 - Receive Pointer Value Register - Byte 0          R/O     0x00
 0x02A8 - 0x02AA Reserved
      0x02AB     Receive STS-1/STS-3 - Receive LOP-C Status Register                    R/O     0x00
 0x02AC - 0x02B2 Reserved
      0x02B3     Receive STS-1/STS-3 - Receive AIS-C Status Register                    R/O     0x00
 0x02B4 - 0x02B8 Reserved
      0x02B9     Receive STS-1/STS-3 - Receive Auto AIS - C2 Byte Value Register        R/W     0x00
      0x02BA     Receive STS-1/STS-3 - Receive Auto AIS - C2 Byte Control Register      R/W     0x00
      0x02BB     Receive STS-1/STS-3 - Receive Auto AIS Control Register                R/W     0x00
 0x02BC - 0x02BE Reserved
      0x02BF     Receive STS-1/STS-3 - POH Serial Port Control Register                 R/W     0x00
 0x02C0 -0x02C2  Reserved
      0x02C3     Receive STS-1/STS-3 - Auto AIS (in Downstream T1/E1) Register          R/W     0x00
      0x02C4     Receive STS-1/STS-3 - Receive Negative Pointer Adjustment Count Reg-   RUR     0x00
                 ister - Byte 1
      0x02C5     Receive STS-1/STS-3 - Receive Negative Pointer Adjustment Count Reg-   RUR     0x00
                 ister - Byte 0
      0x02C6     Receive STS-1/STS-3 - Receive Positive Pointer Adjustment Count Regis- RUR     0x00
                 ter - Byte 1
      0x02C7     Receive STS-1/STS-3 - Receive Positive Pointer Adjustment Count Regis- RUR     0x00
                 ter - Byte 0
 0x02C8 - 0x02D2 Reserved
      0x02D3     Receive STS-1/STS-3 - Receive J1 Byte Value Register                   R/O     0x00
 0x02D4 - 0x02D6 Reserved
      0x02D7     Receive STS-1/STS-3 - Receive B3 Byte Value Register                   R/O     0x00
 0x02D8 - 0x02DA Reserved
      0x02DB     Receive STS-1/STS-3 - Receive C2 Byte Value Register                   R/O     0x00
 0x02DC - 0x02DE Reserved
      0x02DF     Receive STS-1/STS-3 - Receive G1 Byte Value Register                   R/O     0x00
 0x02E0 - 0x02E2 Reserved
                                                      11


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                  REV. 2.0.0
                     TABLE 4: RECEIVE STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                              DEFAULT
ADDRESS LOCATION                              REGISTER NAME                            TYPE
                                                                                               VALUE
      0x02E3       Receive STS-1/STS-3 - Receive F2 Byte Value Register                 R/O     0x00
 0x02E4 - 0x02E6 Reserved
      0x02E7       Receive STS-1/STS-3 - Receive H4 Byte Value Register                 R/O     0x00
 0x02E8 - 0x02EA Reserved
      0x02EB       Receive STS-1/STS-3 - Receive Z3 Byte Value Register                 R/O     0x00
 0x02EC - 0x02EE Reserved
      0x02EF       Receive STS-1/STS-3 - Receive Z4 Byte Value Register                 R/O     0x00
 0x02F0 - 0x02F2 Reserved
      0x02F3       Receive STS-1/STS-3 - Receive Z5 Byte Value Register                 R/O     0x00
 0x02F4 - 0x02FF Reserved
           TABLE 5: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SECTION TRACE MESSAGE BUFFER
    ADDRESS                                                                                  DEFAULT
                                           REGISTER NAME                             TYPE
    LOCATION                                                                                  VALUE
0x0300 - 0x033F Receive STS-1/STS-3 Transport - Receive Section Trace Message Buffer R/O       0x00
0x0340 - 0x03FF Reserved                                                             R/O       0x00
                TABLE 6: RECEIVE STS-1/STS-3 PATH - RECEIVE PATH TRACE MESSAGE BUFFER
     ADDRESS                                                                                 DEFAULT
                                             REGISTER NAME                            TYPE
     LOCATION                                                                                 VALUE
 0x0400 - 0x043F Receive STS-1/STS-3 Path - Receive Path Trace Message Buffer          R/O     0x00
 0x0440 - 0x0580 Reserved                                                              R/O     0x00
        TABLE 7: RECEIVE TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
      ADDRESS                                                                                 DEFAULT
                                              REGISTER NAME                             TYPE
      LOCATION                                                                                 VALUE
       0x0581      Receive TU-3 Path - Receive Control Register - Byte 2                R/W     0x00
       0x0582      Reserved
       0x0583      Receive TU-3 Path - Receive Control Register - Byte 0                R/W     0x00
  0x0584 - 0x0585 Reserved
       0x0586      Receive TU-3 Path - Receive Status Register - Byte 1                 R/O     0x00
       0x0587      Receive TU-3 Path - Receive Status Register - Byte 0                 R/O     0x00
       0x0588      Reserved
       0x0589      Receive TU-3 Path - Receive Interrupt Status Register - Byte 2       RUR     0x00
                                                        12


                                                                                             XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
         TABLE 7: RECEIVE TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
      ADDRESS                                                                                      DEFAULT
                                              REGISTER NAME                                 TYPE
     LOCATION                                                                                       VALUE
       0x058A      Receive TU-3 Path - Receive Interrupt Status Register - Byte 1           RUR      0x00
       0x058B      Receive TU-3 Path - Receive Interrupt Status Register - Byte 0           RUR      0x00
      0x058C       Reserved
      0x058D       Receive TU-3 Path - Receive Interrupt Enable Register - Byte 2           R/W      0x00
       0x058E      Receive TU-3 Path - Receive Interrupt Enable Register - Byte 1           R/W      0x00
       0x058F      Receive TU-3 Path - Receive Interrupt Enable Register - Byte 0           R/W      0x00
 0x0590 - 0x0592 Reserved
       0x0593      Receive TU-3 Path - Receive RDI-P Register                            R/O & R/W   0x00
 0x0594 - 0x0595 Reserved
       0x0596      Receive TU-3 Path - Receive C2 (Path Label) Byte Accepted Register       R/O     0xFF
       0x0597      Receive TU-3 Path - Receive C2 (Path Label) Byte Expected Register       R/W     0xFF
       0x0598      Receive TU-3 Path - Receive B3 Byte Error Count Register - Byte 3        RUR      0x00
       0x0599      Receive TU-3 Path - Receive B3 Byte Error Count Register - Byte 2        RUR      0x00
       0x059A      Receive TU-3 Path - Receive B3 Byte Error Count Register - Byte 1        RUR      0x00
       0x059B      Receive TU-3 Path - Receive B3 Byte Error Count Register - Byte 0        RUR      0x00
      0x059C       Receive TU-3 Path - Receive REI-P Event Count Register - Byte 3          RUR      0x00
      0x059D       Receive TU-3 Path - Receive REI-P Event Count Register - Byte 2          RUR      0x00
       0x059E      Receive TU-3 Path - Receive REI-P Event Count Register - Byte 1          RUR      0x00
       0x059F      Receive TU-3 Path - Receive REI-P Event Count Register - Byte 0          RUR      0x00
 0x05A0 - 0x05A2 Reserved
       0x05A3      Receive TU-3 Path - Receive J1 Byte/Path Trace Message Control Regis-    R/W      0x00
                   ter
 0x05A4 - 0x05A5 Reserved
       0x05A6      Receive TU-3 Path - Receive Pointer Value Register - Byte 1              R/O      0x00
       0x05A7      Receive TU-3 Path - Receive Pointer Value Register - Byte 0
 0x05A8 - 0x05AA Reserved
      0x05AB       Receive TU-3 Path - Receive LOP-C Status Register                        R/O      0x00
 0x05AC - 0x05B2 Reserved
       0x05B3      Receive TU-3 Path - Receive AIS-C Status Register                        R/O      0x00
 0x05B4 - 0x05B8 Reserved
       0x05B9      Receive TU-3 Path - Receive Auto AIS - C2 Byte Value Register            R/W      0x00
      0x05BA       Receive TU-3 Path - Receive Auto AIS - C2 Byte Control Register          R/W      0x00
      0x05BB       Receive TU-3 Path - Receive Auto AIS Control Register                    R/W      0x00
                                                        13


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                   REV. 2.0.0
       TABLE 7: RECEIVE TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
     ADDRESS                                                                                   DEFAULT
                                             REGISTER NAME                                TYPE
    LOCATION                                                                                    VALUE
 0x05BC - 0x05BE Reserved
     0x05BF      Receive TU-3 Path - Receive Serial Port Control Register                 R/W    0x00
 0x05C0 - 0x05C2 Reserved
     0x05C3      Receive TU-3 Path - Auto AIS (in Downstream T1/E1) Register              R/W    0x00
     0x05C4      Receive TU-3 Path - Receive Negative Pointer Adjustment Count Register   RUR    0x00
                 - Byte 1
     0x05C5      Receive TU-3 Path - Receive Negative Pointer Adjustment Count Register   RUR    0x00
                 - Byte 0
     0x05C6      Receive TU-3 Path - Receive Positive Pointer Adjustment Count Register - RUR    0x00
                 Byte 1
     0x05C7      Receive TU-3 Path - Receive Positive Pointer Adjustment Count Register - RUR    0x00
                 Byte 0
 0x05C8 - 0x05D2 Reserved
     0x05D3      Receive TU-3 Path - Receive J1 Byte Value Register                       R/O    0x00
 0x05D4 - 0x05D6 Reserved
     0x05D7      Receive TU-3 Path - Receive B3 Byte Value Register                       R/O    0x00
 0x05D8 - 0x05DA Reserved
     0x05DB      Receive TU-3 Path - Receive C2 Byte Value Register                       R/O    0x00
 0x05DC - 0x05DE Reserved
     0x05DF      Receive TU-3 Path - Receive G1 Byte Value Register                       R/O    0x00
 0x05E0 - 0x05E2 Reserved
     0x05E3      Receive TU-3 Path - Receive F2 Byte Value Register                       R/O    0x00
 0x05E4 - 0x05E6 Reserved
     0x05E7      Receive TU-3 Path - Receive H4 Byte Value Register                       R/O    0x00
 0x05E8 - 0x05EA Reserved
     0x05EB      Receive TU-3 Path - Receive Z3 Byte Value Register                       R/O    0x00
 0x05EC - 0x05EE Reserved
     0x05EF      Receive TU-3 Path - Receive Z4 Byte Value Register                       R/O    0x00
 0x05F0 - 0x05F2 Reserved
     0x05F3      Receive TU-3 Path - Receive Z5 Byte Value Register                       R/O    0x00
 0x05F4 - 0x05FF Reserved
                                                      14


                                                                                              XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 8: RECEIVE TU-3 POH PROCESSOR BLOCK - RECEIVE PATH TRACE MESSAGE BUFFER (SDH/TUG-3
                                            APPLICATIONS ONLY)
    ADDRESS                                                                                        DEFAULT
                                          REGISTER NAME                                   TYPE
   LOCATION                                                                                         VALUE
0x0600 - 0x063F Receive TU-3 POH Processor Block - Receive Path Trace Message Buffer      R/O        0x00
0x0640 - 0x06FF Reserved
                    TABLE 9: TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
     ADDRESS                                                                                        DEFAULT
                                            REGISTER NAME                                   TYPE
     LOCATION                                                                                         VALUE
      0x0700      Transmit STS-1/STS-3 Transport - Transmit Control Register - Byte 3        R/W       0x00
      0x0701      Transmit STS-1/STS-3 Transport - Transmit Control Register - Byte 2        R/W       0x00
      0x0702      Transmit STS-1/STS-3 Transport - Transmit Control Register - Byte 1        R/W       0x00
      0x0703      Transmit STS-1/STS-3 Transport - Transmit Control Register - Byte 0        R/W       0x00
 0x0704 - 0x0716 Reserved
      0x0717      Transmit STS-1/STS-3 Transport - Transmit A1 Byte Error Mask Register -    R/W       0x00
                  Byte 0
 0x0718 - 0x071D Reserved
      0x071E      Transmit STS-1/STS-3 Transport - Transmit A2 Byte Error Mask Register -    R/W       0x00
                  Byte 1
      0x071F      Transmit STS-1/STS-3 Transport - Transmit A2 Byte Error Mask Register -    R/W       0x00
                  Byte 0
 0x0720 - 0x0722 Reserved
      0x0723      Transmit STS-1/STS-3 Transport - Transmit B1 Byte Error Mask Register      R/W       0x00
 0x0724 - 0x0725
      0x0726      Transmit STS-1/STS-3 Transport - Transmit B2 Byte Error Mask Register -    R/W       0x00
                  Byte 1
      0x0727      Transmit STS-1/STS-3 Transport - Transmit B2 Byte Error Mask Register -    R/W       0x00
                  Byte 0
 0x0728 - 0x072A Reserved
      0x072B      Transmit STS-1/STS-3 Transport - Transmit B2 Byte Bit Error Mask Regis-    R/W       0x00
                  ter
 0x072C - 0x072D Reserved
      0x072E      Transmit STS-1/STS-3 Transport - Transmit K1 Byte Value Register           R/W       0x00
      0x072F      Transmit STS-1/STS-3 Transport - Transmit K2 Byte Value Register           R/W       0x00
 0x0730 - 0x0732 Reserved
      0x0733      Transmit STS-1/STS-3 Transport - Transmit RDI-L Control Register           R/W       0x00
  0x0734-0x0736   Reserved
                                                       15


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                REV. 2.0.0
                   TABLE 9: TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
    ADDRESS                                                                                 DEFAULT
                                            REGISTER NAME                              TYPE
    LOCATION                                                                                 VALUE
     0x0737      Transmit STS-1/STS-3 Transport - Transmit M0/M1 Byte Value Register   R/W    0x00
     0x0738      Transmit STS-1/STS-3 Transport - Transmit S1 Byte Control Register    R/W    0x00
     0x0739      Reserved
     0x073A      Transmit STS-1STS-3 Transport - Transmit S1 Pointer Register          R/W    0x00
     0x073B      Transmit STS-1/STS-3 Transport - Transmit S1 Byte Value Register      R/W    0x00
     0x073C      Transmit STS-1/STS-3 Transport - Transmit F1 Byte Control Register    R/W    0x00
     0x073D      Reserved
     0x073E      Transmit STS-1/STS-3 Transport - Transmit F1 Byte Pointer Register    R/W    0x00
     0x073F      Transmit STS-1/STS-3 Transport - Transmit F1 Byte Value Register      R/W    0x00
     0x0740      Transmit STS-1/STS-3 Transport - Transmit E1 Byte Control Register    R/W    0x00
     0x0741      Reserved
     0x0742      Transmit STS-1/STS-3 Transport - Transmit E1 Pointer Register         R/W    0x00
     0x0743      Transmit STS-1/STS-3 Transport - Transmit E1 Byte Value Register      R/W    0x00
     0x0744      Transmit STS-1/STS-3 Transport - Transmit E2 Byte Control Register    R/W    0x00
     0x0745      Reserved
     0x0746      Transmit STS-1/STS-3 Transport - Transmit E2 Byte Pointer Register    R/W    0x00
     0x0747      Transmit STS-1/STS-3 Transport - Transmit E2 Byte Value Register      R/W    0x00
 0x0748 - 0x074A Reserved
     0x074B      Transmit STS-1/STS-3 Transport - Transmit J0 Byte Value Register      R/W    0x00
 0x074C -0x074E Reserved
     0x074F      Transmit STS-1/STS-3 Transport - Transmit J0 Byte/Section Trace Mes-  R/W    0x00
                 sage Control Register
 0x0750 - 0x0780 Reserved
                  TABLE 10: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                            DEFAULT
ADDRESS LOCATION                            REGISTER NAME                             TYPE
                                                                                             VALUE
     0x0781      Reserved
     0x0782      Transmit STS-1/STS-3 Path - Transmit Path Control Register - Byte 1  R/W     0x00
     0x0783      Transmit STS-1/STS-3 Path - Transmit Path Control Register - Byte 0  R/W     0x00
 0x0784 - 0x0792 Reserved
     0x0793      Transmit STS-1/STS-3 Path - Transmit J1 Byte Value Register          R/W     0x00
 0x0794 - 0x0796 Reserved
                                                     16


                                                                                         XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                  TABLE 10: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                              DEFAULT
ADDRESS LOCATION                            REGISTER NAME                               TYPE
                                                                                               VALUE
      0x0796     Transmit STS-1/STS-3 Path - Transmit B3 Byte Pass Thru Register        R/W     0x00
      0x0797     Transmit STS-1/STS-3 Path - Transmit B3 Byte Mask Register             R/W     0x00
 0x0798 - 0x079A Reserved
      0x079B     Transmit STS-1/STS-3 Path - Transmit C2 Byte Value Register            R/W     0x00
 0x079C - 0x079E Reserved
      0x079F     Transmit STS-1/STS-3 Path - Transmit G1 Byte Value Register            R/W     0x00
 0x07A0 - 0x07A2 Reserved
      0x07A3     Transmit STS-1/STS-3 Path - Transmit F2 Byte Value Register            R/W     0x00
 0x07A4 - 0x07A6 Reserved
      0x07A7     Transmit STS-1/STS-3 Path - Transmit H4 Byte Value Register            R/W     0x00
 0x07A8 - 0x07AA Reserved
      0x07AB     Transmit STS-1/STS-3 Path - Transmit Z3 Byte Value Register            R/W     0x00
 0x07AC - 0x07AE Reserved
      0x07AF     Transmit STS-1/STS-3 Path - Transmit Z4 Byte Value Register            R/W     0x00
 0x07B0 - 0x07B2 Reserved
      0x07B3     Transmit STS-1/STS-3 Path - Transmit Z5 Byte Value Register            R/W     0x00
 0x07B4 - 0x07B6 Reserved
      0x07B7     Transmit STS-1/STS-3 Path - Transmit Control Register - Byte 0         R/W     0x00
 0x07B8 - 0x07BA Reserved
      0x07BB     Transmit STS-1/STS-3 Path - Transmit J1 Byte/Path Trace Message Con-   R/W     0x00
                 trol Register
 0x07BC - 0x07BE Reserved
      0x07BF     Transmit STS-1/STS-3 Path - Transmit Arbitrary Pointer (H1 Byte) Value R/W     0x00
                 Register
 0x07C0 - 0x07C2 Reserved
      0x07C3     Transmit STS-1/STS-3 Path - Transmit Arbitrary Pointer (H2 Byte) Value R/W     0x00
                 Register
 0x07C4 - 0x07C5 Reserved
      0x07C6     Transmit STS-1/STS-3 Path - Current Pointer Value Register - High-Byte R/O     0x02
      0x07C7     Transmit STS-1/STS-3 Path - Current Pointer Value Register - Low-Byte  R/O    0x0A
      0x07C8     Reserved
      0x07C9     Transmit STS-1/STS-3 Path - Transmit RDI-P Control Register - Byte 2   R/W     0x44
      0x07CA     Transmit STS-1/STS-3 Path - Transmit RDI-P Control Register - Byte 1   R/W    0xCC
                                                     17


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                     REV. 2.0.0
                   TABLE 10: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
                                                                                                DEFAULT
ADDRESS LOCATION                              REGISTER NAME                                TYPE
                                                                                                  VALUE
     0x07CB       Transmit STS-1/STS-3 Path - Transmit RDI-P Control Register - Byte 0     R/W    0xAA
 0x07CA - 0x07CE Reserved
      0x07CF      Transmit STS-1/STS-3 Path - Transmit Path Serial Port Control Register   R/W     0x00
      0x07D0      Transmit STS-1/STS-3 - Transmit Negative Pointer Adjustment Count        RUR     0x00
                  Register - Byte 1
      0x07D1      Transmit STS-1/STS-3 - Transmit Negative Pointer Adjustment Count        RUR     0x00
                  Register - Byte 0
      0x07D2      Transmit STS-1/STS-3 - Transmit Positive Pointer Adjustment Count Reg-   RUR     0x00
                  ister - Byte 1
      0x07D3      Transmit STS-1/STS-3 - Transmit Positive Pointer Adjustment Count Reg-   RUR     0x00
                  ister - Byte 0
 0x07D4 - 0x07FF Reserved
   TABLE 11: TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK - TRANSMIT SECTION TRACE MESSAGE BUFFER
    ADDRESS                                                                                     DEFAULT
                                           REGISTER NAME                                 TYPE
    LOCATION                                                                                     VALUE
0x0800 - 0x083F Transmit STS-1/STS-3 Transport - Transmit Section Trace Message Buffer   R/W      0x00
0x0840 - 0x08FF Reserved
    TABLE 12: TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK - TRANSMIT PATH TRACE MESSAGE BUFFER
    ADDRESS                                                                                     DEFAULT
                                           REGISTER NAME                                 TYPE
    LOCATION                                                                                     VALUE
0x0900 - 0x093F Transmit STS-1/STS-3 Path - Transmit Path Trace Message Buffer           R/W      0x00
0x0940 - 0x0A80 Reserved                                                                 R/O      0x00
       TABLE 13: TRANSMIT TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
                                                                                                 DEFAULT
ADDRESS LOCATION                              REGISTER NAME                                TYPE
                                                                                                  VALUE
      0x0A81      Transmit TU-3 Path - Transmit Path Control Register - Byte 2              R/W    0x00
      0x0A82      Transmit TU-3 Path - Transmit Path Control Register - Byte 1              R/W    0x00
      0x0A83      Transmit TU-3 Path - Transmit Path Control Register - Byte 0              R/W    0x00
  0x0A84 -0x0A92  Reserved
      0x0A93      Transmit TU-3 Path - Transmit J1 Byte Value Register                      R/W    0x00
 0x0A94 - 0x0A95 Reserved
      0x0A96      Transmit TU-3 Path - Transmit B3 Byte Pass Thru Register                  R/W    0x00
                                                       18


                                                                                            XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
       TABLE 13: TRANSMIT TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
                                                                                                 DEFAULT
ADDRESS LOCATION                              REGISTER NAME                                TYPE
                                                                                                  VALUE
      0x0A97      Transmit TU-3 Path - Transmit B3 Byte Mask Register                      R/W     0x00
 0x0A98 - 0x0A9A Reserved
      0x0A9B      Transmit TU-3 Path - Transmit C2 Byte Value Register                     R/W     0x00
 0x0A9C - 0x0A9E Reserved
      0x0A9F      Transmit TU-3 Path - Transmit G1 Byte Value Register                     R/W     0x00
 0x0AA0 - 0x0AA2 Reserved
      0x0AA3      Transmit TU-3 Path - Transmit F2 Byte Value Register                     R/W     0x00
 0x0AA4 - 0x0AA6 Reserved
      0x0AA7      Transmit TU-3 Path - Transmit H4 Byte Value Register                     R/W     0x00
 0x0AA8 - 0x0AAA Reserved
      0x0AAB      Transmit TU-3 Path - Transmit Z3 Byte Value Register                     R/W     0x00
 0x0AAC - 0x0AAE Reserved
      0x0AAF      Transmit TU-3 Path - Transmit Z4 Byte Value Register                     R/W     0x00
 0x0AB0 - 0x0AB2 Reserved
      0x0AB3      Transmit TU-3 Path - Transmit Z5 Byte Value Register                     R/W     0x00
 0x0AB4 - 0x0AB6 Reserved
      0x0AB7      Transmit TU-3 Path - Transmit Control Register - Byte 0                  R/W     0x00
 0x0AB8 - 0x0ABA Reserved
      0x0ABB      Transmit TU-3 Path - Transmit J1 Byte/Path Trace Message Control Reg-    R/W     0x00
                  ister
 0x0ABC - 0x0ABE Reserved
      0x0ABF      Transmit TU-3 Path - Transmit Arbitrary Pointer (H1 Byte) Value Register R/W     0x00
 0x0AC0 -0x0AC2 Reserved
      0x0AC3      Transmit TU-3 Path - Transmit Arbitrary Pointer (H2 Byte) Value Register R/W     0x00
 0x0AC4 - 0x0AC5 Reserved
      0x0AC6      Transmit TU-3 Path - Current Pointer Value Register - High Byte          R/O     0x02
      0x0AC7      Transmit TU-3 Path - Current Pointer Value Register - Low Byte           R/O    0x0A
      0x0AC8      Reserved
      0x0AC9      Transmit TU-3 Path - Transmit RDI-P Control Register - Byte 2            R/W     0x00
      0x0ACA      Transmit TU-3 Path - Transmit RDI-P Control Register - Byte 1            R/W     0x00
      0x0ACB      Transmit TU-3 Path - Transmit RDI-P Control Register - Byte 0            R/W     0x00
 0x0ACC - 0x0ACE Reserved
      0x0ACF      Transmit TU-3 Path - Transmit Path Serial Port Control Register          R/W     0x00
                                                        19


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                           REV. 2.0.0
       TABLE 13: TRANSMIT TU-3 POH PROCESSOR BLOCK REGISTERS (SDH/TUG-3 APPLICATIONS ONLY)
                                                                                                       DEFAULT
ADDRESS LOCATION                              REGISTER NAME                                     TYPE
                                                                                                        VALUE
      0x0AD0       Transmit TU-3 Path - Transmit Negative Pointer Adjustment Count Regis-       RUR      0x00
                   ter - Byte 1
      0x0AD1       Transmit TU-3 Path - Transmit Negative Pointer Adjustment Count Regis-       RUR      0x00
                   ter - Byte 0
      0x0AD2       Transmit TU-3 Path - Transmit Positive Pointer Adjustment Count Register     RUR      0x00
                   - Byte 1
      0x0AD3       Transmit TU-3 Path - Transmit Positive Pointer Adjustment Count Register     RUR      0x00
                   - Byte 0
  0x0AD4 - 0xAFF   Reserved                                                                     R/O      0x00
         TABLE 14: TRANSMIT TU-3 POH PROCESSOR BLOCK - TRANSMIT PATH TRACE MESSAGE BUFFER
     ADDRESS                                                                                           DEFAULT
                                              REGISTER NAME                                    TYPE
     LOCATION                                                                                           VALUE
 0x0B00 - 0x0B3F Transmit TU-3 POH Processor Block - Transmit Path Trace Message                R/W      0x00
                   Buffer
 0x0B40 - 0x0BFF Reserved                                                                       R/O      0x00
                                   TABLE 15: VT MAPPER CONTROL REGISTERS
     ADDRESS                                                                                           DEFAULT
                                              REGISTER NAME                                    TYPE
     LOCATION                                                                                           VALUE
 0x0C00 - 0x0C02 Reserved
      0x0C03      Global Control - VT Mapper Control Block - VT Mapper Block Level Con-         R/W      0x00
                  trol Register
 0x0C04 - 0x0C05 Reserved
      0x0C06      Global Control - VT Mapper Control Block - Composite Status Register          R/O      0x00
      0x0C07      Global Control - VT Mapper Control Block - Composite Status Register          R/O      0x00
 0x0C08 - 0x0C09 Reserved
      0x0C0A      Global Control - VT Mapper Control Block - Composite Interrupt Enable         R/W      0x00
                  Register
      0x0C0B      Global Control - VT Mapper Control Block - Composite Interrupt Enable         R/W      0x00
                  Register
0x0C0C - 0x0C0D Reserved
      0x0C0E      Global Control - VT Mapper Control Block - Test Pattern Control Register - R/W & R/O   0x00
                  Byte 1
      0x0C0F      Global Control - VT Mapper Control Block - Test Pattern Control Register -    R/O      0x00
                  Byte 0
 0x0C10 - 0x0C11 Reserved
                                                          20


                                                                                              XRT86SH328
REV. 2.0.0                   28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                                   TABLE 15: VT MAPPER CONTROL REGISTERS
     ADDRESS                                                                                       DEFAULT
                                                REGISTER NAME                               TYPE
     LOCATION                                                                                       VALUE
      0x0C12      Global Control - VT Mapper Control Block - Test Pattern Drop Register -   R/W      0x00
                  Byte 1
      0x0C13      Global Control - VT Mapper Control Block - Test Pattern Drop Register -   R/W      0x00
                  Byte 0
 0x0C14 - 0x0C15 Reserved
      0x0C16      Global Control - VT Mapper Control Block - Test Pattern Detector Error    RUR      0x00
                  Register - Upper Byte
      0x0C17      Global Control - VT Mapper Control Block - Test Pattern Detector Error    RUR      0x00
                  Register - Lower Byte
 0x0C18 - 0x0C19 Reserved
      0x0C1A      Global Control - VT Mapper Control Block - Transmit Tributary Size Select R/W      0x00
                  Register - Byte 1
      0x0C1B      Global Control - VT Mapper Control Block - Transmit Tributary Size Select R/W      0x00
                  Register - Byte 0
0x0C1C - 0x0C1D Reserved
      0x0C1E      Global Control - VT Mapper Control Block - Receive Tributary Size Select  R/W      0x00
                  Register - Byte 1
      0x0C1F      Global Control - VT Mapper Control Block - Receive Tributary Size Select  R/W      0x00
                  Register - Byte 0
 0x0C20 - 0x0D01 Reserved
                                  TABLE 16: DS3 MAPPER CONTROL REGISTERS
      ADDRESS                                                                                      DEFAULT
                                                REGISTER NAME                                TYPE
      LOCATION                                                                                      VALUE
       0x0D02     DS3 Mapper Block - Control Register - Byte 1                               R/W     0x03
       0x0D03     DS3 Mapper Block - Control Register - Byte 0                               R/W     0x00
  0x0D04 - 0x0D05 Reserved
       0x0D06     DS3 Mapper Block - Receive Mapper Status Register - Byte 1                 R/O     0x03
       0x0D07     DS3 Mapper Block - Receive Mapper Status Register - Byte 0                 R/O     0x00
 0x0D08 - 0x0D0A Reserved
       0x0D0B     DS3 Mapper Block - Receive Mapper Interrupt Status Register - Byte 0       RUR     0x00
 0x0D0C - 0x0D0D Reserved
       0x0D0E     DS3 Mapper Block - Receive Mapper Interrupt Enable Register - Byte 0       R/W     0x00
  0x0D0F - 0x0D20 Reserved
       0x0D21     Pointer Justification Status Register - Byte 2                             R/O     0x00
       0x0D22     Pointer Justification Status Register - Byte 1                             R/O     0x00
                                                           21


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                REV. 2.0.0
                                 TABLE 16: DS3 MAPPER CONTROL REGISTERS
     ADDRESS                                                                                DEFAULT
                                                REGISTER NAME                          TYPE
     LOCATION                                                                                VALUE
      0x0D23     Pointer Justification Status Register - Byte 0                        R/O    0x00
 0x0D24 - 0x0D25 Reserved
      0x0D26     Pointer Justification Jitter Control Register - Byte 1                R/W   0xC0
      0x0D27     Pointer Justification Jitter Control Register - Byte 0                R/W    0x80
 0x0D28 - 0x0DFF Reserved
                          TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
    ADDRESS                                                                                 DEFAULT
                                                REGISTER NAME                         TYPE
    LOCATION                                                                                 VALUE
     0x0E00      DS3 Framer and M13 MUX Block - Operating Mode Register               R/W     0x23
     0x0E01      DS3 Framer and M13 MUX Block - I/O Control Register                  R/W    0xC0
 0x0E02 - 0x0E03 Reserved
     0x0E04      DS3 Framer and M13 MUX Block - Block Interrupt Enable Register       R/W     0x00
     0x0E05      DS3 Framer and M13 MUX Block - Block Interrupt Status Register       R/O     0x00
     0x0E06      Reserved                                                             R/W     0x00
     0x0E07      DS3 Framer and M13 MUX Block - M23 Configuration Register            R/W     0x00
     0x0E08      DS3 Framer and M13 MUX Block - M23 Transmit DS2 AIS Register         R/W     0x00
     0x0E09      DS3 Framer and M13 MUX Block - M23 DS2 Loop-back Request Register    R/W     0x00
     0x0E0A      DS3 Framer and M13 MUX Block - M23 Loop-back Activation Register     R/W     0x00
     0x0E0B      DS3 Framer and M13 MUX Block - M23 MUX Force DS2 AIS Command         R/W     0x00
                 Register
     0x0E0C      DS3 Framer and M13 MUX Block - DS3 Test Register # 1                 R/W     0x00
     0x0E0D      Reserved                                                             R/O     0x00
     0x0E0E      DS3 Framer and M13 MUX Block - DS3 Test Register # 2                 R/W     0x00
     0x0E10      DS3 Framer and M13 MUX Block - Receive DS3 Configuration & Status    R/W     0x10
                 Register
     0x0E11      DS3 Framer and M13 MUX Block - Receive DS3 Status Register           R/W     0x00
     0x0E12      DS3 Framer and M13 MUX Block - Receive DS3 Interrupt Enable Register R/W     0x00
     0x0E13      DS3 Framer and M13 MUX Block - Receive DS3 Interrupt Status Register RUR     0x00
     0x0E14      DS3 Framer and M13 MUX Block - Receive DS3 Sync Detect Register      R/W     0x00
     0x0E15      Reserved                                                             R/O     0x00
     0x0E16      S3 Framer and M13 MUX Block - Receive DS3 FEAC Register              R/O    0x7E
     0x0E17      DS3 Framer and M13 MUX Block - Receive DS3 FEAC Interrupt            R/W     0x00
                 Enable/Status Register
                                                          22


                                                                               XRT86SH328
REV. 2.0.0              28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                       TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
     ADDRESS                                                                        DEFAULT
                                        REGISTER NAME                         TYPE
    LOCATION                                                                         VALUE
      0x0E18 DS3 Framer and M13 MUX Block - Receive DS3 LAPD Control Register R/W     0x00
      0x0E19 DS3 Framer and M13 MUX Block - Receive DS3 LAPD Status Register  R/W     0x00
     0x0E1A  M12 DS2 # 1 Configuration Register                               R/W     0x00
     0x0E1B  DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 2
     0x0E1C  DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 3
     0x0E1D  DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 4
     0x0E1E  DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 5
      0x0E1F DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 6
      0x0E20 DS3 Framer and M13 MUX Block - M12 Configuration Register - DS2  R/W     0x00
             Channel # 7
      0x0E21 DS3 Framer and M13 MUX Block - M12 De-MUX Force DS1/E1 AIS Reg-  R/W     0x00
             ister - DS2 # Channel 1
      0x0E22 DS3 Framer and M13 MUX Block - M12 DS2 # 2 AIS Register          R/W     0x00
      0x0E23 DS3 Framer and M13 MUX Block - M12 DS2 # 3 AIS Register          R/W     0x00
      0x0E24 DS3 Framer and M13 MUX Block - M12 DS2 # 4 AIS Register          R/W     0x00
      0x0E25 DS3 Framer and M13 MUX Block - M12 DS2 # 5 AIS Register          R/W     0x00
      0x0E26 DS3 Framer and M13 MUX Block - M12 DS2 # 6 AIS Register          R/W     0x00
      0x0E27 DS3 Framer and M13 MUX Block - M12 DS2 # 7 AIS Register          R/W     0x00
      0x0E28 M12 DS2 # 1 Loop-back Request Register                           R/W     0x00
      0x0E29 M12 DS2 # 2 Loop- back Request Register                          R/W     0x00
     0x0E2A  M12 DS2 # 3 Loop-back Request Register                           R/W     0x00
     0x0E2B  M12 DS2 # 4 Loop-back Request Register                           R/W     0x00
     0x0E2C  M12 DS2 # 5 Loop-back Request Register                           R/W     0x00
     0x0E2D  M12 DS2 # 6 Loop-back Request Register                           R/W     0x00
     0x0E2E  M12 DS2 # 7 Loop-back Request Register                           R/W     0x00
      0x0E2F Reserved                                                         R/O     0x00
      0x0E30 Transmit DS3 Configuration Register                              R/W     0x00
      0x0E31 Transmit DS3 FEAC Configuration & Status Register                R/W     0x00
      0x0E32 Transmit DS3 FEAC Register                                       R/W    0x7E
      0x0E33 Transmit DS3 LAPD Configuration Register                         R/W     0x00
                                                 23


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                   REV. 2.0.0
                         TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
    ADDRESS                                                                    DEFAULT
                                            REGISTER NAME                 TYPE
    LOCATION                                                                    VALUE
     0x0E34      Transmit DS3 LAPD Status/Interrupt Register              R/W    0x00
     0x0E35      Transmit DS3 M-Bit Mask Register                         R/W    0x00
     0x0E36      Transmit DS3 F-Bit Mask Register # 1                     R/W    0x00
     0x0E37      Transmit DS3 F-Bit Mask Register # 2                     R/W    0x00
     0x0E38      Transmit DS3 F-Bit Mask Register # 3                     R/W    0x00
     0x0E39      Transmit DS3 F-Bit Mask Register # 4                     R/W    0x00
     0x0E3A      M12 DS2 # 1 Framer Configuration Register                R/W    0x00
     0x0E3B      M12 DS2 # 2 Framer Configuration Register                R/W    0x00
     0x0E3C      M12 DS2 # 3 Framer Configuration Register                R/W    0x00
     0x0E3D      M12 DS2 # 4 Framer Configuration Register                R/W    0x00
     0x0E3E      M12 DS2 # 5 Framer Configuration Register                R/W    0x00
     0x0E3F      M12 DS2 # 6 Framer Configuration Register                R/W    0x00
     0x0E40      M12 DS2 # 7 Framer Configuration Register                R/W    0x00
 0x0E41 - 0x0E4B Reserved                                                 R/O    0x00
     0x0E4C      Transmit DS3 Pattern Register                            R/W    0x00
     0x0E4D      Auto T1/E1 AIS upon DS3 Defect Condition Register        R/W    0x00
     0x0E4E      PMON EXZ Event Count Register - MSB                      RUR    0x00
     0x0E4F      PMON EXZ Event Count Register - LSB                      RUR    0x00
     0x0E50      PMON LCV Event Count Register - MSB                      RUR    0x00
     0x0E51      PMON LCV Event Count Register - LSB                      RUR    0x00
     0x0E52      PMON Framing Bit Error Count Register - MSB              RUR    0x00
     0x0E53      PMON Framing Bit Error Count Register - LSB              RUR    0x00
     0x0E54      PMON P-Bit Error Count Register - MSB                    RUR    0x00
     0x0E55      PMON P-Bit Error Count Register - LSB                    RUR    0x00
     0x0E56      PMON FEBE Count Register - MSB                           RUR    0x00
     0x0E57      PMON FEBE Count Register - LSB                           RUR    0x00
     0x0E58      PMON CP-Bit Error Count Register - MSB                   RUR    0x00
     0x0E59      PMON CP-Bit Error Count Register - LSB                   RUR    0x00
     0x0E5A      PMON DS2 # 1 Framing Bit Error Count Register            RUR    0x00
     0x0E5B      PMON DS2 # 2 Framing Bit Error Count Register            RUR    0x00
     0x0E5C      PMON DS2 # 3 Framing Bit Error Count Register            RUR    0x00
     0x0E5D      PMON DS2 # 4 Framing Bit Error Count Register            RUR    0x00
                                                      24


                                                                                XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                          TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
     ADDRESS                                                                          DEFAULT
                                               REGISTER NAME                   TYPE
    LOCATION                                                                           VALUE
     0x0E5E      PMON DS2 # 5 Framing Bit Error Count Register                 RUR      0x00
      0x0E5F     PMON DS2 # 6 Framing Bit Error Count Register                 RUR      0x00
      0x0E60     PMON DS2 # 7 Framing Bit Error Count Register                 RUR      0x00
      0x0E61     PMON G.747 # 1 Parity Bit Error Count Register                RUR      0x00
      0x0E62     PMON G.747 # 2 Parity Bit Error Count Register                RUR      0x00
      0x0E63     PMON G.747 # 3 Parity Bit Error Count Register                RUR      0x00
      0x0E64     PMON G.747 # 4 Parity Bit Error Count Register                RUR      0x00
      0x0E65     PMON G.747 # 5 Parity Bit Error Count Register                RUR      0x00
      0x0E66     PMON G.747 # 6 Parity Bit Error Count Register                RUR      0x00
      0x0E67     PMON G.747 # 7 Parity Bit Error Count Register                RUR      0x00
      0x0E68     PRBS Bit Error Count Register - MSB                           RUR      0x00
      0x0E69     PRBS Bit Error Count Register - LSB                           RUR      0x00
 0x0E6A - 0x0E6C Reserved
     0x0E6D      One Second Error Status Register                              R/O      0x00
     0x0E6E      LCV One Second Accumulator Register - MSB                     R/O      0x00
      0x0E6F     LCV One Second Accumulator Register - LSB                     R/O      0x00
      0x0E70     Frame Parity Error One Second Accumulator Register - MSB      R/O      0x00
      0x0E71     Frame Parity Error One Second Accumulator Register - LSB      R/O      0x00
      0x0E72     CP Bit Error One Second Accumulator Register - MSB            R/O      0x00
      0x0E73     CP Bit Error One Second Accumulator Register - LSB            R/O      0x00
 0x0E74 - 0x0E7F Reserved                                                      R/O      0x00
      0x0E80     Line Interface Drive Register                                 R/W      0x00
      0x0E81     Line Interface Scan Register                                  R/W      0x00
      0x0E82     Reserved                                                      R/O      0x00
      0x0E83     Transmit DS3 LAPD Byte Count Register                         R/W      0x00
      0x0E84     Receive DS3 LAPD Byte Count Register                          R/O      0x00
 0x0E85 - 0x0E8F Reserved
      0x0E90     M23 Receive DS2 Loop-back Request Interrupt Enable Register   R/W      0x00
      0x0E91     M23 Receive DS2 Loop-back Request Interrupt Status Register   RUR      0x00
      0x0E92     M23 Receive DS2 Loop-back Request Status Register             R/O      0x00
      0x0E93     M12 DS2 # 1 Loop-back Interrupt/Interrupt Enable Register   R/W, RUR   0x00
      0x0E94     M12 DS2 # 1 Loop-back Status Register                         R/O      0x00
                                                        25


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                    REV. 2.0.0
                     TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
    ADDRESS                                                                     DEFAULT
                                         REGISTER NAME                   TYPE
    LOCATION                                                                     VALUE
     0x0E95  M12 DS2 # 2 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0E96  M12 DS2 # 2 Loop-back Status Register                       R/O      0x00
     0x0E97  M12 DS2 # 3 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0E98  M12 DS2 # 3 Loop-back Status Register                       R/O      0x00
     0x0E99  M12 DS2 # 4 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0E9A  M12 DS2 # 4 Loop-back Status Register                       R/O      0x00
     0x0E9B  M12 DS2 # 5 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0E9C  M12 DS2 # 5 Loop-back Status Register                       R/O      0x00
     0x0E9D  M12 DS2 # 6 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0E9E  M12 DS2 # 6 Loop-back Status Register                       R/O      0x00
     0x0E9F  M12 DS2 # 7 Loop-back Interrupt/Interrupt Enable Register R/W, RUR   0x00
     0x0EA0  M12 DS2 # 7 Loop-back Status Register                       R/O      0x00
     0x0EA1  DS2 # 1 Framer Interrupt Enable Register                    R/W      0x00
     0x0EA2  DS2 # 1 Framer Interrupt Status Register                    RUR      0x00
     0x0EA3  DS2 # 1 Framer Status Register                              R/O      0x00
     0x0EA4  DS2 # 2 Framer Interrupt Enable Register                    R/W      0x00
     0x0EA5  DS2 # 2 Framer Interrupt Status Register                    RUR      0x00
     0x0EA6  DS2 # 2 Framer Status Register                              R/O      0x00
     0x0EA7  DS2 # 3 Framer Interrupt Enable Register                    R/W      0x00
     0x0EA8  DS2 # 3 Framer Interrupt Status Register                    RUR      0x00
     0x0EA9  DS2 # 3 Framer Status Register                              R/O      0x00
     0x0EAA  DS2 # 4 Framer Interrupt Enable Register                    R/W      0x00
     0x0EAB  DS2 # 4 Framer Interrupt Status Register                    RUR      0x00
     0x0EAC  DS2 # 4 Framer Status Register                              R/O      0x00
     0x0EAD  DS2 # 5 Framer Interrupt Enable Register                    R/W      0x00
     0x0EAE  DS2 # 5 Framer Interrupt Status Register                    RUR      0x00
     0x0EAF  DS2 # 5 Framer Status Register                              R/O      0x00
     0x0EB0  DS2 # 6 Framer Interrupt Enable Register                    R/W      0x00
     0x0EB1  DS2 # 6 Framer Interrupt Status Register                    RUR      0x00
     0x0EB2  DS2 # 6 Framer Status Register                              R/O      0x00
     0x0EB3  DS2 # 7 Framer Interrupt Enable Register                    R/W      0x00
     0x0EB4  DS2 # 7 Framer Interrupt Status Register                    RUR      0x00
                                                   26


                                                                                              XRT86SH328
REV. 2.0.0                 28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                         TABLE 17: DS3 FRAMER AND M13 MUX BLOCK REGISTERS
     ADDRESS                                                                                         DEFAULT
                                            REGISTER NAME                                    TYPE
     LOCATION                                                                                         VALUE
      0x0EB5     DS2 # 7 Framer Status Register                                              R/O       0x00
 0x0EB6 -0x0EB7 Reserved
      0x0EB8     M13 DeMUX External Alarm Enable Register                                    R/W       0x00
 0x0EB9 - 0x0EBF Reserved
      0x0EC0     LAPD Memory Indirect Address Register                                       R/W       0x00
      0x0EC1     LAPD Memory Indirect Data Register                                          R/W       0x00
 0x0EC2 - 0x0FFF Reserved                                                                    R/O       0x00
              TABLE 18: VT MAPPER REGISTER (WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      ADDRESS                                                                                        DEFAULT
                                             REGISTER NAME                                    TYPE
      LOCATION                                                                                        VALUE
  0xND00 - 0xND41 Reserved
       0xND42     Channel Control - VT Mapper Block - Ingress Direction - DS1/E1 Insertion R/O & R/W   0x00
                  Control Register - Byte 1
       0xND43     Channel Control - VT-Mapper Block - Ingress Direction - DS1/E1 Insertion    R/W      0x00
                  Control Register - Byte 0
       0xND44     Channel Control - VT-De-Mapper Block - Egress Direction - DS1/E1 Drop       R/W      0x00
                  Control Register - Byte 3
       0xND45     Channel Control - VT-De-Mapper Block - Egress Direction - DS1/E1 Drop       R/W      0x00
                  Control Register - Byte 2
       0xND46     Channel Control - VT-De-Mapper Block - Egress Direction - DS1/E1 Drop       R/O      0x10
                  Control Register - Byte 1
       0xND47     Channel Control - VT De-Mapper Block - Egress Direction - DS1/E1 Drop    R/O & R/W   0x00
                  Control Register - Byte 0
  0xND48 - 0xND49 Reserved
       0xND4A     Channel Control - VT De-Mapper Block - Egress Direction - BIP-2 Error       RUR      0x00
                  Count Register - Byte 1
       0xND4B     Channel Control - VT De-Mapper Block - Egress Direction - BIP-2 Error       RUR      0x00
                  Count Register - Byte 0
 0xND4C - 0xND4D Reserved
       0xND4E     Channel Control - VT De-Mapper Block - Egress Direction - REI-V Event       RUR      0x00
                  Count Register - Byte 1
       0xND4F     Channel Control - VT-De-Mapper Block - Egress Direction - REI-V Event       RUR      0x00
                  Count Register - Byte 0
  0xND50 - 0xND52 Reserved
       0xND53     Channel Control - VT-De-Mapper Block - Egress Direction - Receive APS       R/W      0x00
                  Register - Byte 0
                                                       27


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                   REV. 2.0.0
             TABLE 18: VT MAPPER REGISTER (WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
    ADDRESS                                                                                    DEFAULT
                                            REGISTER NAME                                 TYPE
    LOCATION                                                                                    VALUE
 0xND54 - 0xND55 Reserved
     0xND56      Channel Control - VT-Mapper Block - Ingress Direction - Transmit APS     R/W    0x00
                 Register - Byte 1
     0xND57      Channel Control - VT-Mapper Block - Ingress Direction - Transmit APS/K4  R/W    0x00
                 Register - Byte 0
 0xND58 - 0xND62 Reserved
     0xND63      Channel Control - VT-De-Mapper Block- Egress Direction - J2 Byte Status  R/O    0x00
                 Register - Byte 0
     0xND64      Channel Control - VT-De-Mapper Block - Egress Direction - Composite      RUR    0x00
                 Status Register - Byte 1
     0xND65      Channel Control - VT-De-Mapper Block - Egress Direction -Composite Sta-  RUR    0x00
                 tus Register - Byte 0
     0xND66      Reserved                                                                 RUR    0x00
     0xND67      Channel Control - VT-De-Mapper Block - Egress Direction - Interrupt Sta- RUR    0x00
                 tus Register - Byte 0
     0xND68      Channel Control - VT-De-Mapper Block - Egress Direction - Interrupt      R/W    0x00
                 Enable Register
     0xND69      Channel Control - VT-De-Mapper - Block - Egress Direction - Interrupt    R/W    0x00
                 Enable Register
     0xND6A      Reserved                                                                 R/W    0x00
     0xND6B      Channel Control - VT-De-Mapper Block - Egress Direction -Interrupt       R/W    0x00
                 Enable Register - Byte 0
 0xND6C - 0xND70 Reserved
     0xND71      Channel Control - VT-De-Mapper Block - Egress Direction - VT Path Trace  R/W    0x00
                 Buffer Control Register
     0xND72      Channel Control - VT-De-Mapper Block - Egress Direction - Auto AIS Con-  R/W    0x00
                 trol Register - Byte 1
     0xND73      Channel Control VT De-Mapper Block - Egress Direction - Auto AIS Con-    R/W    0x00
                 trol Register - Byte 0
 0xND74 - 0xND75 Reserved
     0xND76      Channel Control - VT-Mapper Block - Ingress Direction - Transmit J2 Byte R/W    0x00
                 Value Register
     0xND77      Channel Control - VT Mapper Block - Ingress Direction - Transmit N2 Byte R/W    0x00
                 Value Register
                                                      28


                                                                                                          XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 2.0 REGISTER DESCRIPTIONS
the remainder of this document use register descriptions with the folowing format:
8-BIT register table
                       TABLE 19: OPERATION CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0000)
      BIT7             BIT6           BIT 5           BIT 4          BIT 3           BIT 2           BIT 1           BIT 0
   Bit Name         Bit Name        Bit Name        Bit Name       Bit Name       Bit Name        Bit Name         Bit Name
       R/O             R/W             R/W             R/W            R/W             R/W             R/W             R/W
         0              0               0                0              0              0                0               0
BIT descriptions
BIT 7 - Bit name
     Bit Description
      0 - Logic LOW condition
      1 - Logic HIGH condition
     NOTE: Speial notes
BIT [6:0] - Bit name
 2.1       OPERATION CONTROL REGISTERS
                       TABLE 20: OPERATION CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0000)
      BIT7             BIT6           BIT 5           BIT 4          BIT 3           BIT 2           BIT 1           BIT 0
    Unused           Ingress         Egress          Parallel                          Mode_Select[3:0]
                    Direction       Direction       Interface
                    Add-Drop        Add-Drop         Enable
                    Interface       Interface
                     Enable          Enable
       R/O             R/W             R/W             R/W            R/W             R/W             R/W             R/W
         0              0               0                0              0              0                0               0
BIT7 - Unused
BIT6 - Ingress Direction Add-Drop Interface Enable:
     This READ/WRITE bit-field is used to either enable or disable the Ingress Direction Add-Drop Interface.
     If the Ingress Direction Add-Drop Interface is enabled, then the Ingress Direction Drop Port will drop out the entire traffic
     (of all 28 channels in the Ingress Direction) via the IG_TE1RxDATA[7:0] output pins. Additionally, the user can add in
     of the 28 DS1 or 21 E1 Ingress Direction signals via the Ingress Direction Add Port.
      0 - Disables the Ingress Direction Add-Drop Interface.
      1 - Enables the Ingress Direction Add-Drop Interface.
     NOTE: This feature is only available if the XRT86SH328 has been configured to operate in either of the following
              modes.·
           •    The VT-Mapper Mode (w/ T1/E1 Framing)
           •    The M13 MUX Mode (w/ T1/E1 Framing)
           •    The M13 MUX to STS-1/STS-3 Mode
           •    The Transmux Mode
BIT 5 - Egress Direction Add-Drop Interface Enable:
     This READ/WRITE bit-field is used to either enable or disable the Egress Direction Add-Drop Interface.
                                                               29


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    If the user enables the Egress Direction Add-Drop Interface, then the Egress Direction Drop Port will drop out the entire
    traffic (of all 28 channels in the Egress Direction) via the EG_TE1RxDATA[7:0] output pins. Additionally, the user can
    add in any of the 28 DS1 or 21 E1 Egress Direction signals via the Egress Direction Add Interface.
     0 - Disables the Egress Direction Add-Drop Interface.
     1 - Enables the Egress Direction Add-Drop Interface.
    NOTE: This feature is only available if the XRT86SH328 has been configured to operate in either of the following
             modes.
          •    The VT-Mapper Mode (w/ T1/E1 Framing)
          •    The M13 MUX Mode (w/ T1/E1 Framing)
          •    The M13 MUX to STS-1/STS-3 Mode
          •    The Transmux Mode
BIT 4 - Parallel Interface Enable
    NOTE: This bit-field is only valid if the XRT86SH328 has been configured to operate in the 28-Channel DS1/E1 Framer
             & LIU Mode.
BIT[3:0] - Mode Select Bits[3:0]:
    These four READ/WRITE bit-fields are used to select the mode that the XRT86SH328 will operate in, as shown in the
    table below below.
               Mode Select Bits
                    MODE_SELECT[3:0]                           RESULTING MODE OF OPERATION
                           0000               VT-Mapper Mode (w/ T1/E1 Framing)
                           0001               M13 MUX Mode (w/ T1/E1 Framing
                           0010               M13 MUX to STS-1/STS-3 Mode
                           0011               Reserved
                           0100               28 Channel T1/E1 Framer & LIU Mode
                           0101               Transmux Mode (w/ T1/E1 Framing)
                        0110 & 0111           Reserved
                           1000               VT-Mapper Mode (w T1/E1 Framers by-passed)
                           1001               M13 MUX Mode (w/ T1/E1 Framers by-passed)
                           1010               M13 MUX to STS-1/STS-3 Mode (w/ T1/E1 Framers by-passed)
                           1011               Reserved
                           1100               28 Channel T1/E1 LIU Mode
                           1101               Transmux Mode (w/ T1/E1 Framers by-passed)
                                                                30


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                      TABLE 21: OPERATION CONTROL REGISTER - BYTE 2 (ADDRESS = 0X0001)
     BIT7             BIT6           BIT 5          BIT 4           BIT 3            BIT 2          BIT 1         BIT 0
                                   Unused                                          Interrupt       Enable       Interrupt
                                                                                     Write        Interrupt      Enable
                                                                                  Clear/RUR         Clear
     R/O              R/O            R/O            R/O              R/O              R/W           R/W           R/W
       0                0              0              0                0               0              0             0
BIT [7:3] - Unused
    Please set to 0 for normal operation.
BIT 2 - Interrupt Write to Clear/RUR
    This READ/WRITE bit-field is used to configure all of the Source-Level Interrupt Status bits (within the XRT86SH328)
    to either be Write to Clear (WTC) or Reset-upon-Read (RUR) bits.
     0 - Configures all Source-Level Interrupt Status register bits to function as Reset-upon-Read (RUR).
     1 - Configures all Source-Level Interrupt Status register bits to function as Write-to-Clear (WTC)
BIT 1 - Enable Interrupt Clear
    This READ/WRITE bit-field is used to configure the XRT94L43 to automatically disable all interrupts that are activated.
     0 - Configures the chip to NOT automatically disable any Interrupts following their activation.
     1 - Configures the chip to automatically disable all Interrupts following their activation.
BIT 0 - Interrupt Enable
    This READ/WRITE bit-field is used to configure the XRT94L43 to generate interrupt requests to the Microprocessor.
     0 - Configures the chip to NOT generate interrupt to the Microprocessor.
    All interrupts are disabled and the Microprocessor must poll the register bits.
     1 - Configures the chip to generate interrupts to the Microprocessor.
    NOTE: To operate the XRT986SH328 in an Interrupt-Driven Manner, this bit-field must be set to a logic 1.
                      TABLE 22: OPERATION CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0003)
     BIT7             BIT6           BIT 5          BIT 4           BIT 3            BIT 2          BIT 1         BIT 0
   Reserved         Receive                Reserved              Burst Enable              Reserved            SWRESET
                  Clock Detect
     R/W              R/W            R/O            R/O              R/W              R/O           R/O           R/W
       0                1              0              0                0               0              0             0
BIT7 - Reserved
BIT6 - Receive Clock Detect
This READ/WRITE bit-field is used to enable or disable the Receive Clock Detect feature. If this feature is enabled, then
the Receive STS-1/STS-3 circuitry will check for the existence of the 6.48MHz or 19.44MHz clock signal (through the
Receive STS-1/STS-3 Telecom Bus Interface). If none of these clock signals are present, then the Receive STS-1/STS-3
TOH Processor block and each of the 1 (or 3) Receive SONET POH Processor block circuitry will automatically switch over
and use the 19.44MHz clock signal that is applied to the Tx19_51MHz input pin (Ball R3) as there timing source.
     0 - Disables the Receive Clock Detect feature.
     1 - Enables the Receive Clock Detect feature.
BIT [5:4] = Reserved
BIT 3 - Burst Enable
    This READ/WRITE bit-field is used to either enable or disable Burst Mode operation within the Microprocessor Interface.
                                                              31


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
     0 - Disables Burst Mode operation.
     1 - Enables Burst Mode operation
BIT 2 - BIT 1 - Reserved
BIT 0 - SWReset - SONET Block
    This READ/WRITE bit-field is used to command a software reset to the SONET/SDH block. If a software reset to the
    SONET/SDH blocks is invoked, then all of the internal state machines will be reset to their default conditions and each
    of the following blocks will undergo a re-frame operation.
         •     The Receive STS-1/3 TOH Processor block
         •     Each of the three (3) Receive SONET POH Processor blocks
         •     Each of the three (3) VT Mapper Blocks
    A 0 to 1 transition, within this bit-field commands this Software Reset.
    NOTE: This Software Reset does not reset the command registers to their default state. This can only be achieved by
            executing a Hardware RESET (e.g., by pulling the RESET_L* input pin LOW).
                         TABLE 23: DEVICE ID VALUE REGISTER - BYTE 3 (ADDRESS = 0X0004)
     BIT7             BIT6             BIT 5         BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
                                                        Device ID Value
     R/O              R/O               R/O           R/O             R/O          R/O             R/O             R/O
       0                1                 0             1               0            0              0                0
BIT [7:0] - Device ID Value
This READ-ONLY bit-field is set to the value 0x50 and is used's software code to uniquely identify this device as being the
XRT86SH328.
                    TABLE 24: REVISION NUMBER VALUE REGISTER - BYTE 2 (ADDRESS = 0X0005)
     BIT7             BIT6             BIT 5         BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
                                                    Revision Number Value
     R/O              R/O               R/O           R/O             R/O          R/O             R/O             R/O
       0                0                 0             0               0            0              0                1
BIT [7:0] - Revision Number Value
    This READ-ONLY bit-field is set to the value that corresponds to its revision number. Revision A silicon will be set to
    the value 0x01. This register is uses software code to uniquely identify the revision number of this device
                TABLE 25: OPERATION INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS = 0X000B)
     BIT7            BIT6            BIT 5          BIT 4          BIT 3        BIT 2          BIT 1             BIT 0
                                                   Unused                                                  TB Parity Error
                                                                                                           Interrupt Status
     R/O              R/O             R/O            R/O            R/O          R/O            R/O           RUR/WTC
       0               0                0             0              0            0              0                 0
BIT [7:1] - Unused
    Please set to 0 for normal operation
BIT 0 - Telecom Bus Parity Error Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of 51.84/155.52Mbps Telecom Bus - Parity
    Error interrupt has occurred since the last read of this register bit.
                                                              32


                                                                                                       XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     0 - Indicates that the Detection of 51.84/155.52Mbps Telecom Bus - Parity Error interrupt has NOT occurred since
    the last read of this register bit.
     1 - Indicates that the Detection of 51.84/155.52Mbps Telecom Bus - Parity Error interrupt has occurred since the last
    of this register bit.
    NOTE: This register bit is only active if the XRT86SH328 has been configured to operate in the Telecom Bus Mode.
                 TABLE 26: OPERATION INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS = 0X000F)
    BIT7            BIT6           BIT 5          BIT 4         BIT 3         BIT 2        BIT 1              BIT 0
                                                 Unused                                                 Telecom BusParity
                                                                                                          Error Interrupt
                                                                                                             Enable
     R/O             R/O            R/O            R/O           R/O          R/O           R/O                R/W
      0               0                0            0             0             0            0                   0
BIT [7:1] - Unused
    Please set to 0 for normal operation
BIT 0 - Telecom Bus Parity Error Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of 51.84/155.52Mbps Telecom Bus - Parity
    Error interrupt.
     0 - Disables the Detection of 51.84/155.52Mbps Telecom Bus - Parity Error interrupt.
     1 - Enables the Detection of 51.84/155.52Mbps Telecom Bus - Parity Error interrupt.NOTE: This register bit is only
    active if the XRT86SH328 has been configured to operate in the Telecom Bus Mode.
             TABLE 27: OPERATION BLOCK INTERRUPT STATUS REGISTER - BYTE 1 (ADDRESS = 0X0012)
     BIT7             BIT6              BIT 5         BIT 4          BIT 3         BIT 2          BIT 1           BIT 0
  Op Control      DS3 Mapper       VT Mapper         DS1/E1         DS1/E1        DS3/E3         Receive        Transmit
     Block            Block             Block     Framer/LIU     Framer/LIU       Framer           Line            Line
   Interrupt        Interrupt        Interrupt        Block          Block         Block        Interface       Interface
    Status           Status           Status       (VT Side)     (M13 Side)       nterrupt        Block           Block
                                                    Interrupt      Interrupt       Status       Interrupt       Interrupt
                                                     Status         Status                        Status          Status
      R/O              R/O               R/O           R/O           R/O            R/O            R/O             R/O
       0                 0                0             0              0             0               0              0
BIT 7 - Operation Control Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not an Operation Control Block-related Interrupt is awaiting service.
     0 - No Operation Control Block Interrupts are awaiting service.
     1 - At least one Operation Control Block Interrupt is awaiting service.
BIT 6- DS3 Mapper Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not a Mapper Block-related Interrupt is awaiting service.
     0 - No Mapper Block interrupt is awaiting service.
     1 - At least one Mapper Block Interrupt is awaiting service.
BIT 5 - VT Mapper Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not a VT-Mapper block interrupt is awaiting service.
     0 - Indicates that no VT Mapper block interrupt is awaiting service.
     1 - Indicates that at least one VT Mapper block interrupt is awaiting service.
                                                              33


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
BIT 4 - DS1/E1 Framer/LIU Block (VT Side) Interrupt Status
    This READ-ONLY bit-field indicates whether or not a DS1/E1 Framer/LIU Block (on the VT Side) Interrupt is awaiting
    service.
     0 - Indicates that no DS1/E1 Framer Block (VT Side) interrupt is awaiting service.
     1 - At least one DS1/E1 Framer/LIU Block (VT Side) interrupt is awaiting service.
BIT 3 - DS1/E1 Framer/LIU Block (M13 Side) Interrupt Status
    This READ-ONLY bit-field indicates whether or not a DS1/E1 Framer/LIU Block (M13 Side) Interrupt is awaiting service.
     0 - No DS1/E1 Framer/LIU Block (M13 Side) interrupt is awaiting service.
     1 - At least one DS1/E1 Framer/LIU (M13 Side) interrupt is awaiting service.
BIT 2 - DS3/E3 Framer Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not a DS3/E3 Framer Block interrupt is awaiting service.
     0 - No DS3/E3 Framer block interrupt is awaiting service.
     1 - At least one DS3/E3 Framer block interrupt is awaiting service.
BIT 1:0 - Unused
            TABLE 28: OPERATION BLOCK INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS = 0X0013)
    BIT7             BIT6                BIT 5             BIT 4         BIT 3       BIT 2         BIT 1          BIT 0
   Unused          Receive             Receive                   Unused            External              Unused
                STS-1/STS-3      STS-1/STS-3 POH                                Interrupt Sta-
                 TOH Block               Block                                      tus # 1
                   Interrupt           Interrupt
                    Status              Status
     R/O              R/O                 R/O               R/O           R/O         R/O           R/O           R/O
      0                0                   0                 0             0           0              0             0
BIT 7 - Unused
BIT 6 - Receive STS-1/ST3-3TOH Processor Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not a Receive STS-1/STS-3 TOH Processor Block interrupt is awaiting
    service.
     0 - No Receive STS-1/STS-3 TOH Processor Block Interrupt is awaiting service.
     1 - At least one Receive STS-1/STS-3 TOH Processor Block interrupt is awaiting service.
BIT 5 - Receive STS-1/STS-3 POH Processor Block Interrupt Status
    This READ-ONLY bit-field indicates whether or not a Receive STS-1/STS-3 POH Processor Block interrupt is awaiting
    service.
     0 - No Receive STS-1/STS-3 POH Processor Block Interrupt is awaiting service.
     1 - At least one Receive STS-1/STS-3 POH Processor Block Interrupt is awaiting service.
BIT [4:3] - Unused
BIT 2 - External Interrupt Input Pin # 1 - Interrupt Status
    This READ-ONLY bit-field indicates whether or not an External Interrupt Input Pin # 1 Interrupt is awaiting service, as
    described below.
     0 - No External Interrupt Input Pin # 1 Interrupt is awaiting service.
     1 - The External Interrupt Input Pin # 1 Interrupt is awaiting service.
    NOTE: If this interrupt is enabled, then the XRT86SH328 will generate this interrupt anytime that the EXT_INT_1 Input
            pin (Ball T5) has been driven to the logic HIGH level.
BIT [1:0] - Unused
                                                              34


                                                                                                              XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
             TABLE 29: OPERATION BLOCK INTERRUPT ENABLE REGISTER - BYTE 1 (ADDRESS = 0X0016)
     BIT7              BIT6              BIT 5             BIT 4          BIT 3           BIT 2          BIT 1            BIT 0
  Op Control        DS3Mapper        VT Mapper            DS1/E1         DS1/E1       DS3Framer                Unused
     Block             Block             Block         Framer/LIU      Framer/LIU         Block
   Interrupt         Interrupt         Interrupt           Block          Block          nterrupt
    Enable            Enable            Enable          (VT Side)      (M13 Side)        Enable
                                                         Interrupt      Interrupt
                                                          Enable         Enable
     R/W                R/W              R/W               R/W             R/W             R/W            R/O             R/O
        0                0                 0                 0              0               0              0                0
BIT 7 - Operation Control Block Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Operation Control Block for interrupt generation. If a
    0 is written to this register bit and if the Operation Control Block (for interrupt generation) is disabled, then all Operation
    Control Block interrupts will be disabled for interrupt generation.
     If a 1 is written to this register bit, the individual Operation Control Block interrupt(s) at the Source Level will still need
    to be enabled in order to enable that particular interrupt
     .0 - Disable all Operation Control Block interrupts within the device.
     1 - Enables the Operation Control Block at the Block-Level for interrupt generation
BIT 6 - DS3 Mapper Block Interrupt Enable
    This READ/WRITE bit is used to either enable or disable the DS3 Mapper Block for interrupt generation. If a 0 is written
    to this register bit and if the DS3 Mapper Block (for interrupt generation) is disabled, then all DS3 Mapper Block
    interrupts will be disabled for interrupt generation.
    If a 1is written to this register bit, the individual DS3 Mapper Block interrupt(s) at the Source Levelwill still need to be
    enabled in order to enable that particular interrupt.
     0 - Disable all DS3 Mapper Block interrupts within the device.
     1 - Enables the DS3 Mapper Block interrupts at the Block-Level
BIT 5 - VT Mapper Block Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the VT-Mapper Block for interrupt generation. If the user
    writes a 0 into this register bit and disables the VT Mapper Block (for interrupt generation) then all VT-Mapper Block
    interrupts will be disabled for interrupt generation.
    If the user writes a 1 into this register bit, the user will still need to enable the individual VT-Mapper Block Interrupt(s)
    at the Source Level in order to enable that particular interrupt.
     0 - Disables all VT Mapper Block Interrupts within the device.
     1 - Enables the VT Mapper Block Interrupts at the Block-Level
BIT 4- DS1/E1 Framer/LIU Block (VT Side) Interrupt Enable
    This READ/WRITE bit is used to either enable or disable the DS1/E1 Framer/LIU Block (on the VT Side) for interrupt
    generation.
    If the user writes a 0 to this register bit and disables the DS1/E1 Framer/LIU Block (on the VT Side) for interrupt
    generation, then all DS1/E1 Framer/LIU Block interrupts will be disabled for interrupt generation.
    If the user writes a 1 to this register bit, the user will still need to enable the individual DS1/E1 Framer/LIU Block
    interrupt(s) at the Source Level in order to enable that particular interrupt.
     0 - Disable all DS1/E1 Framer/LIU Block interrupts within the device.
     1 - Enables the DS1/E1 Framer/LIU Block at the Block-Level.
BIT 3 - DS1/E1 Framer/LIU Block (M13 Side) Interrupt Enable
    This READ/WRITE bit is used to either enable or disable the DS1/E1 Framer/LIU Block (on the M13 Side) for interrupt
    generation.
    If the user writes a 0 to this register bit and disables the DS1/E1 Framer/LIU Block (for interrupt generation), then all
                                                                    35


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                           REV. 2.0.0
    DS1/E1 Framer/LIU Block interrupts will be disabled for interrupt generation.
    If the user writes a 1 to this register bit, the user will still need to enable the individual DS1/E1 Framer/LIU Block
    interrupt(s) at the Source Level in order to enable that particular interrupt.
     0 - Disable all DS1/E1 Framer/LIU Block interrupts within the device,
     1 - Enables the DS1/E1 Framer/LIU Block interrupts at the Block-Level.
BIT 2 - DS3 Framer Block Interrupt Enable
    This READ/WRITE bit is used to either enable or disable the DS3 Framer Block for interrupt generation.
     If the user writes a 0 to this register bit and disables the DS3 Framer Block (for interrupt generation), then all DS3
    Framer Block interrupts will be disabled for interrupt generation. If the user writes a 1 to this register bit, the user will
    still need to enable the individual DS3 Framer Block interrupt(s) at the Source Level in order to enable that particular
    interrupt.
     0 - Disable all DS3 Framer Block interrupts within the device.
     1 - Enables the DS3 Framer Block at the Block-Level.
BIT [1:0] - Unused
             TABLE 30: OPERATION BLOCK INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS = 0X0017)
    BIT7              BIT6                BIT 5             BIT 4             BIT 3           BIT 2         BIT 1        BIT 0
  Unused            Receive             Receive                       Unused                External              Unused
                 STS-1/STS-3          STS-1 POH                                             Interrupt
                   TOHBlock               Block                                            Enable # 1
                    Interrupt           Interrupt
                     Enable              Enable
    R/O                R/W                R/W                 R/O              R/O            R/W            R/W         R/O
      0                  0                  0                   0                0              0             0            0
BIT 7 - Unused
BIT 6 - Receive STS-1/STS-3 TOH Processor Block Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Receive STS-1/STS-3 TOH Processor Block for
    interrupt generation.
    If the user writes a 0 to this register bit and disables the Receive STS-1/STS-3 TOH Processor Block (for interrupt
    generation), then all Receive STS-1/STS-3 TOH Processor Block interrupts will be disabled for interrupt generation.
    If the user writes a 1 to this register bit, the user will still need to enable the individual Receive STS-1/STS-3 TOH
    Processor Block interrupt(s) at the Source Level in order to enable that particular interrupt.
     0 - Disables all Receive STS-1/STS-3 TOH Processor Block interrupts within the device.
     1 - Enables the Receive STS-1/STS-3 TOH Processor Block at the Block Level for interrupt generation.
BIT 5 - Receive STS-1/STS-3 POH Processor Block Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Receive STS-1/STS-3 POH Processor Block for
    interrupt generation.
    If the user writes a 0 into this register bit and disables the Receive STS-1/STS-3 POH Processor Block (for interrupt
    generation), then all Receive STS-1/STS-3 Processor Block interrupts will be disabled for interrupt generation.
    If the user writes a 1 to this register bit, then the user will still need to enable the individual Receive STS-1/STS-3 POH
    Processor Block Interrupt(s) at the Source Level in order to enable that particular interrupt.
     0 - Disables all Receive STS-1/STS-3 POH Processor Block Interrupts within the device.
     1 - Enables the Receive STS-1/STS-3 POH Processor Block at the Block Level for interrupt generation.
BIT [4:3] - Unused
BIT 2 - External Interrupt Input Pin # 1 - Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the External Interrupt Pin # 1 Interrupt.
    If this interrupt is enabled, then the XRT86SH328 will generate an interrupt anytime that the EXT_INT_1 input pin (Ball
                                                                    36


                                                                                                          XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    T5) has been driven to the logic HIGH level.
     0 - Disables the External Interrupt Input # 1 Interrupt
     1 - Enables the External Interrupt Input # 1 Interrupt.
BIT [1:0] - Unused
                         TABLE 31: MODE CONTROL REGISTER - BYTE 0 (ADDRESS = 0X001B)
     BIT7             BIT6            BIT 5          BIT 4          BIT 3           BIT 2           BIT 1          BIT 0
    T1/E1         STS-1/STS-3       Additional                             Unused                              AU-3/TUG_3*
   De-Sync           & DS3            T1/E1
   Disable         Share Serial      Framers
                    Interface        Enabled
     R/W               R/W             R/W            R/O            R/W             R/W             R/W           R/W
        0               0                0              0              0              0               0              0
BIT 7 - T1/E1 De-Sync Disable
    This READ/WRITE bit-field is used to either enable or disable the T1/E1 De-Sync Circuitry within the XRT86SH328.
     0 - Enables the T1/E1 De-Sync Circuitry.
     1 - Disables the T1/E1 De-Sync Circuitry.
BIT 6 - STS-1/STS-3 and DS3 Share Serial Interface
    This READ/WRITE bit-field is used to configure the DS3 and STS-1/STS-3 circuitry to either share the same Serial
    Interface or not. To operate the XRT86SH328 in the Transmux mode, then the user must configure the DS3 and STS-
    1/STS-3 circuitry to NOT share the same Serial Interface.
     0 - Configures the STS-1/STS-3 and DS3 circuitry to NOT share the same Serial Interface.
     1 - Configures the STS-1/STS-3 and DS3 circuitry to Share the same Serial Interface.
BIT 5 - Additional T1/E1 Framer Enabled
    This READ/WRITE bit-field is used to either enable or disable the M13 T1/E1 Framers.
    If the user enables these additional T1/E1 Framers, then the XRT86SH328 will be able to perform full-blown
    performance monitoring in both the Ingress and Egress Directions
    .If the user disables the M13 T1/E1 Framers, then the user will only be able to perform full-block performance monitoring
    on the Ingress Direction T1/E1 signals.
     0 - Disables the M13 T1/E1 Framer blocks.
     1 - Enables the M13 T1/E1 Framer blocks.
    NOTE: This bit-field is only active if the XRT86SH328 has been configured to operate in the 28-Channel Clear-Channel
             T1/E1 Framer Mode.
BIT [4:1] - Unused
BIT 0 - AU-3/TUG-3 Mode Select:
    This READ/WRITE bit-field is used to configure the XRT86SH328 to operate in either the AU-3 or the TUG-3 Mapping
    Mode.
     0 - Configures the XRT86SH328 to operate in the TUG-3 Mode.
     1 - Configures the XRT86SH328 to operate in the AU-3 Mode.
    NOTE: This register bit is only active if the XRT86SH328 has been configured to operate in the SDH Mode.
                                                              37


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
                      TABLE 32: LOOP-BACK CONTROL REGISTER - BYTE 0 (ADDRESS = 0X001F)
     BIT7             BIT6             BIT 5           BIT 4           BIT 3          BIT 2         BIT 1          BIT 0
                             Unused                                                      Loop-back[3:0]
     R/O              R/O              R/O             R/O              R/W            R/W           R/W           R/W
       0                0                0               0               0              0             0               0
BIT [7:4]- Unused
BIT [3:0] - Loop-back Mode[3:0]
    These four READ/WRITE bits-fields are used to configure the XRT86SH328 to operate in a variety of loop-back modes,
    as is tabulated below.
     Loop Back Modes
        LOOP-BACK[3:0]                                        RESULTING LOOP-BACK MODE
              0000            Normal Mode (e.g., No Loop-back Mode)
              0001            Remote Line Loop-back
                              In this mode, all data that is received by the Receive STS-1/STS-3 Serial Interface will
                              be routed to the Transmit STS-1/STS-3 Serial Interface.
              0010            Local Transport Loop-back
                              In this mode, all data that is being output via the Transmit STS-1/STS-3 TOH Processor
                              block will also be routed to the Receive STS-1/STS-3 TOH Processor block.
              0011            Local Path Loop-back
                              In this mode, all data that is output by the Transmit STS-1/STS-3 POH Processor block
                              (e.g., towards the Transmit STS-1/STS-3 TOH Processor block) will be routed to the
                              Receive STS-1/STS-3 POH Processor block.
           0100 - 1111        Reserved - Do Not Use
            TABLE 33: STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 3 (ADDRESS = 0X0034)
     BIT7             BIT6             BIT 5           BIT 4           BIT 3          BIT 2         BIT 1          BIT 0
                                                      HRSYNC_Delay[15:8]
     R/W              R/W              R/W             R/W              R/W            R/W           R/W           R/W
       0                0                0               0               0              0             0               0
BIT [7:0] - Transmit STS-1/STS-3 Telecom Bus - Sync Delay - Upper Byte
    The Transmit STS-1/STS-3 Telecom Bus can be configured to alignment its transmission of SONET/SDH frames with
    8kHz pulses being applied to the TxSBFP_IN_OUT input pin.
    The user is expected to apply a pulse (with the period of either a 6.48MHz or a 19.44MHz clock signal) at a rate of 8kHz
    to the TxSBFP_IN_OUT input (pin number P5). The Transmit STS-1/STS-3 Telecom Bus will align its transmission of
    the very first byte of a new STS-1/STS-3 frame, with a pulse at this input pin.
    These READ/WRITE bit-fields (along with that within the STS-1/STS-3 Telecom Bus Control Register - Byte 2) are used
    to specify the amount of delay (in terms of either 6.48MHz or 19.44MHz clock periods) that will exist between the rising
    edge of TxSBFP_IN_OUT and the transmission of the very first byte, within a given STS-1/STS-3 frame via the Transmit
    STS-1/STS-3 Telecom Bus.
     0x0000 - Configures each of the Transmit STS-1/STS-3 Telecom Bus Interfaces to transmit the very first byte of a
    new STS-1/STS-3 frame, upon detection of the rising edge of the TxSBFP_IN_OUT.
     0x0001 - Configures each of the Transmit STS-1/STS-3 Telecom Bus Interfaces to delay its transmission of the very
                                                                 38


                                                                                                         XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    first byte of a new STS-1/STS-3 frame, by one 6.48MHz or 19.44MHz clock period, and so on.
    NOTE: This register is only active if the STS-1/STS-3 Telecom Bus Interface is enabled.
             TABLE 34: STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 2 (ADDRESS = 0X0035)
     BIT7             BIT6           BIT 5           BIT 4           BIT 3          BIT 2           BIT 1          BIT 0
                                                    HRSYNC_Delay[7:0]
      R/W              R/W            R/W            R/W             R/W            R/W              R/W           R/W
        0                0              0              0               0              0               0              0
BIT [7:0] - Transmit STS-1/STS-3 Telecom Bus - Sync Delay - Lower Byte
    The Transmit STS-1/STS-3 Telecom Bus is aligned to the TxSBFP_IN_OUT input pin. The user is expected to apply
    a pulse (with the period of either a 6.48MHz or a 19.44MHz clock signal) at a rate of 8kHz to the TxSBFP_IN_OUT input
    (pin number P5). The Transmit STS-1/STS-3 Telecom Bus will align its transmission of the very first byte of a new STS-
    1/STS-3 frame, with a pulse at this input pin.
    These READ/WRITE bit-fields (along with that within the STS-1/STS-3 Telecom Bus Control Register - Byte 3) are used
    to specify the amount of delay (in terms of either a 6.48MHz or a 19.44MHz clock periods) that will exist between the
    rising edge of TxSBFP_IN_OUT and the transmission of the very first byte, within a given STS-1/STS-3 frame via the
    Transmit STS-1/STS-3 Telecom Bus.
     0x0000 - Configures each of the Transmit STS-1/STS-3 Telecom Bus Interfaces to transmit the very first byte of a
    new STS-1/STS-3 frame, upon detection of the rising edge of the TxSBFP_IN_OUT. S
     0x0001 - Configures each of the Transmit STS-1/STS-3 Telecom Bus Interfaces to delay its transmission of the very
    first byte of a new STS-1/STS-3 frame, by one 6.48MHz or 19.44MHz clock period, and so on.
    NOTE: This register is only active if the STS-1/STS-3 Telecom Bus Interface is enabled.
         TABLE 35: STS-3/STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 1 (ADDRESS = 0X0036)
     BIT 7            BIT 6           BIT 5          BIT 4           BIT 3          BIT 2           BIT 1          BIT 0
 Set Telecom        Fractional       Slot_0                Slot[1:0]              Unused           Framing     Telecom Bus
 Bus to STS-       Bandwidth         Master                                                     Pulse Enable - V1 Signal
   1/STS-3           Enable                                                                                      Support
     Mode                                                                                                         Enable
      R/W              R/W            R/W            R/W             R/W            R/W              R/W           R/W
        0                0              0              0               0              0               0              0
BIT 7 - Set Telecom Bus to STS-1/STS-3 Mode:
    This READ/WRITE bit-field is used to configure the STS-1/STS-3 Telecom Bus Interface to operate at either the STS-
    3/STM-1 or STS-1/EC-1/STM-0 rates.
     .0 - Configures the Telecom Bus Interface to operate at the STS-3/STM-1 rate. In this case, the Telecom Bus
    Interface will operate at a rate of 19.44MHz.
     1 - Configures the Telecom Bus Interface to operate at the STS-1/EC-1/STM-0 rate. In this case, the Telecom Bus
    Interface will operate with a clock rate of 6.48MHz.
    NOTE: This bit-field is only active if the XRT86SH328 has been configured to transmit/receive data (on the high-speed
             side) via the Telecom Bus Interface.
BIT 6 - Fractional Bandwidth Enable:
    If the XRT86SH328 is configured to transmit/receive data via the Telecom Bus Interface as STS-3/STS-1/STS-3 rates,
    then this READ/WRITE bit-field can be used to configure the XRT86SH328 to operate in the Fractional Bandwidth
    Mode.
    If the XRT86SH328 is configured to operate in the Fractional Bandwidth Mode, then it will only fill in the STS-1/EC-
    1/STM-0 time-slot data (within this outbound STS-3 or STM-1 Data-stream) that pertains to this particular XRT86SH328.
    The XRT86SH328 will tri-state the Transmit STS-1/STS-3 Telecom bus interface coincident to whenever the other STS-
                                                              39


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                             REV. 2.0.0
    1/EC-1/STM-0 time-slot data would ordinarily be output via the STS-3/STM-1 Telecom Bus Interface.
    If the XRT86SH328 is NOT configured to operate in the Fractional Bandwidth Mode, then it will fill in the STS-1/EC-
    1/STM-0 time-slot data (within this outbound STS-3/STM-1data-stream) that pertains to this particular XRT86SH328.
    The XRT86SH328 will automatically set the bytes (within all of the remaining STS-1/EC-1/STM-0 time-slots) to 0x00 as
    it outputs this STS-3/STM-1 data-stream via the Transmit STS-3/STM-1 Telecom Bus Interface.
     0 - Configures the XRT86SH328 to NOT operate in the Fractional Bandwidth Mode.
     1 - Configures the XRT86SH328 to operate in the Fractional Bandwidth Mode.
    NOTES:
              1. If the user wishes to design in three (3) XRT86SH328s (into his/her system) such that they are sharing
              the same STS-3/STM-1 Telecom Bus, then the user must set this bit-field to 1.
              2. This bit-field is only active if the Telecom Bus Interface has been configured to operate in the STS-
              3/STM-1 Mode.
BIT 5 - Slot Master Designate
    This READ/WRITE bit-field is used to designate a given XRT86SH328 as being the Slot Master. If the user designates
    a given XRT86SH328 has being the Slot Master, then this device will be responsible for sourcing the B1 byte, the REI-
    L and RDI-L indicators (within the outbound STS-3/STM-1data-stream). Additionally, if a given XRT86SH328 has been
    designated as the Slot Master, then it will be responsible for generating an 8kHz signal via its TxSBFP_IN_OUT
    input/output pin.
    If a given XRT86SH328 is NOT configured to function as the Slot Master, then its TxSBFP_IN_OUT input/output pin will
    function as an input pin
     0 - Configures this particular XRT86SH328 to NOT be the Slot Master.
     1 - Configures this particular XRT86SH328 to function as the Slot Master.
    NOTES:
              1. This bit-field is only value if (1) the Telecom Bus Interface is configured to operate in the STS-3/STM-1
              Mode.
              2.   The XRT86SH328 has been configured to operate in the Fractional Bandwidth Mode.
              3.   This particular XRT86SH328 has been assigned the STS-1/EC-1/STM-0 Time Slot of [0, 0].
BIT [4:3] STS-1/EC-1/STM-0 Time Slot Assignment:
    This READ/WRITE bit-field is used to specify which STS-1/EC-1/STM-0 Time-slot that the XRT86SH328 will fill-in, if it
    has been configured to operate in the Fractional Bandwidth Mode.
     Valid values to write into these bit-fields are: [0, 0] for Time Slot 0, [0, 1] for Time Slot 1, and [1, 0] for Time Slot 2.
    NOTES:
              1. These bit-fields are only active if (1) the Telecom Bus Interface has been configured to operate in the
              STS-3/STM-1 Mode, and (2) if the user has configured the XRT86SH328 to operate in the Fractional
              Bandwidth Mode.
              2. If a given XRT86SH328 has been designed into a given STS-3/STM-1 application (which involves a total
              of three XRT86SH328s), for the XRT86SH328 (which has been designated as the Slot Master), the user
              MUST set these bit-fields to [0, 0].
BIT2 - Unused
BIT 1 - Telecom Bus Interface - Frame Pulse Mode:
    This READ/WRITE bit-field is used to configure the STS-1/STS-3 Telecom Bus Interface to operate in the Frame Pulse
    Mode. If the STS-1/STS-3 Telecom Bus Interface is configured to operate in the Frame Pulse Mode, then all of the
    following will be true.
          •   The TxA_C1J1V1_FP output pin will only pulse high coincident to whenever the XRT86SH328 outputs the
              very first byte of a given STS-1/STS-3 frame via the Transmit STS-1/STS-3 Telecom Bus Interface - Output
              Data Bus (TxA_D[7:0]).
          •   The RxD_C1J1V1_FP input pin will accept a pulse, coincident to whenever the very first byte of the incoming
              STS-1/STS-3 frame is being placed on the Receive STS-1/STS-3 Telecom Bus Interface - Input Data Bus
              (RxD_D[7:0]).
    If the STS-1/STS-3 Telecom Bus Interface is NOT configured to operate in the Frame Pulse Mode, then the Telecom
    Bus Interface will perform as configured in Bits 0 (Telecom Bus - V1 Signal Support Enable) within this register, and Bit
                                                                40


                                                                                                      XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    3 (Telecom Bus J1 Only) within the STS-3/STS-1/STS-3 Telecom Bus Control Register - Byte 0.0 - Configures the STS-
    1/STS-3 Telecom Bus Interface to NOT operate in the Frame Pulse Mode.1 - Configures the STS-1/STS-3 Telecom
    Bus Interface to operate in the Frame Pulse Mode.
BIT - 0 - Transmit STS-1/STS-3 Telecom Bus - V1 Pulse Enable:
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 Telecom Bus Interface to pulse the
    TxA_C1J1V1_FP output pin HIGH coincident to whenever the XRT86SH328 outputs a V1 byte via the Transmit STS-
    1/STS-3 Telecom Bus Interface - Output Data Bus (TxA_D[7:0]).
     0 - Configures the Transmit STS-1/STS-3 Telecom Bus Interface to NOT denote the V1 byte via the TxA_C1J1V1_FP
    output pin.
     1 - Configures the Transmit STS-1/STS-3 Telecom Bus Interface to denote the V1 byte via the TxA_C1J1V1_FP
    output pin.
    NOTE:     This register bit is only active if the XRT86SH328 has been configured to VT/TU map T1/E1 data into
             SONET/SDH.
        TABLE 36: STS-3/STS-1/STS-3 TELECOM BUS CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0037)
     BIT7             BIT6            BIT 5          BIT 4           BIT 3        BIT 2          BIT 1         BIT 0
 Telecom Bus      Telecom Bus     FP_Is_2khz     Telecom Bus    Telecom Bus   Telecom Bus    Telecom Bus     Rephase
      ON             Disable                      Parity Type      J1 Only     Parity Odd        Parity       STS-1
                                                                                                Enable
      R/W             R/W             R/W            R/W             R/W          R/W             R/W           R/W
       0                0               0              0               0            0              0             1
BIT 7 - Telecom Bus Enable
    This READ/WRITE is used to either enable or disable the 51.84/155.52Mbps Telecom Bus Interface.
     0 - Telecom Bus Interface is Disabled:STS-1/STS-3 data will output via the STS-1/STS-3 Serial Interface.
     1 - Telecom Bus Interface is Enabled:In this selection, both the Transmit and Receive STS-1/STS-3 Telecom Bus
    Interfaces will be enabled.
BIT 6 - Telecom Bus Tri-state
    This READ/WRITE bit-field is used to tri-state the Telecom Bus Interface.
     0 - Telecom Bus Interface is NOT tri-stated.
     1 - Telecom Bus Interface is tri-stated.
    NOTE: This READ/WRITE bit-field is ignored if the STS-1/STS- 3 Transmit and Receive STS-1/STS-3 Telecom Bus
             Interfaces are disabled.
BIT 5 - FP_Is_2khz
    This READ/WRITE bit-field is used to enable the 2KHz frame pulse so that the V1 byte can be aligned.
     0 - Frame pulse is 8KHz.
     1 - Frame pulse is 2KHz.
BIT 4- Telecom Bus Parity Type
    This READ/WRITE bit-field is used to define the parameters, over which Telecom Bus parity will be computed.
     0 - Parity is computed/verified over the Transmit STS-1/STS-3 and Receive Telecom Bus - data bus pins (e.g.,
    TXA_D[7:0] and RXD_D[7:0]).If the user implements this selection, then the following will happen.
          a.   The Transmit STS-1/STS-3 Telecom Bus Interface will compute and output parity (via the TXA_DP output pin)
               based upon and coincident with the data being output via the TXA_D[7:0] output pins.
          b.   The STS-1/STS-3 Receive Telecom Bus Interface will compute and verify the parity data (which is input via
               the RXD_DP input pin) based upon the data which is being input (and latched) via the RXD_D[7:0] input pins.
     1 - Parity is computed/verified over the Transmit STS-1/STS-3 and Receive Telecom Bus - data bus pins (e.g.,
    TXA_D[7:0] and RXD_D[7:0]), the C1J1 and PL input/output pins.
     If the user implements this selection, then the following will happen.
                                                              41


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
         a.   The Transmit STS-1/STS-3 Telecom Bus Interface will compute and output parity (via the TXA_DP output)
              based upon and coincident with (1) the data being output via the TXA_D[7:0] output pins, (2) the state of the
              TXA_PL output pin, and (3) the state of the TXA_C1J1 output pin.
         b.   The Receive STS-1/STS-3 Telecom Bus Interface will compute and verify the parity data (which is input via
              the RXD_DP input pin) based upon (1) the data which is being input (and latched) via the RXD_D[7:0] input
              pins, (2) the state of the RXD_PL input pin, and (3) the state of the RXD_C1J1 input pin.
    NOTES:
              1.   This bit-field is disabled if the STS-1/STS-3 Telecom Bus is disabled.
              2. The user can configure the STS-1/STS-3 Telecom Bus to compute with either even or odd parity, by
              writing the appropriate data into BIT 2 (Telecom Bus Parity - Odd), within this register.
BIT 3 - Telecom Bus - J1 Indicator Only:
    This READ/WRITE bit-field is used to configure how the Transmit STS-1/STS-3 and Receive Telecom Bus interface
    handles the TXA_C1J1 and RXD_C1J1 signals, as described below.
     0 - C1 and J1 Bytes
    This selection configures the following.
         a.   The Transmit STS-1/STS-3 Telecom Bus to pulse the TXA_C1J1V1_FP output coincident to whenever the
              C1 and J1 bytes are being output via the TXA_D[7:0] output pins.
         b.   The STS-1/STS-3 Receive Telecom Bus will expect the RXD_C1J1V1_FP input to pulse high coincident to
              whenever the C1 and J1 bytes are being sampled via the RXD_D[7:0] input pins.
     1 - J1 Bytes Only
    This selection configures the following.
         a.   The Transmit STS-1/STS-3 Telecom Bus Interface to only pulse the TXA_C1J1V1_FP output pin coincident
              to whenever the J1 byte is being output via the TXA_D[7:0] output pins.
    NOTE: The TXA_C1J1V1_FP output pin will NOT be pulsed high whenever the C1 byte is being output via the
            TXA_D[7:0] output pins.
         b.   The STS-1/STS-3 Receive Telecom Bus Interface will expect the RXD_C1J1V1_FP input to only pulse high
              coincident to whenever the J1 byte is being sampled via the RXD_D[7:0] input pins.
    NOTE:     The RXD_C1J1V1_FP input pin will NOT be pulsed high whenever the C1 byte is being input via the
            RXD_D[7:0] input pins
BIT 2 - Telecom Bus Parity - ODD Parity Select:
    This READ/WRITE bit-field is used to configure the STS-1/STS-3 Telecom Bus Interface to do the following.
         a.   In the Transmit (Drop) DirectionThe STS-1/STS-3 Telecom Bus to compute either the EVEN or ODD parity
              over the contents of the (1) TxD_D[7:0] output pins, or (2) TxD_D[7:0] output pins, the states of the TxD_PL
              and TxD_C1J1 output pins (depending upon user setting for BIT 3).
         b.   In the Receive (Add) DirectionReceive STS-1/STS-3 Telecom Bus to compute and verify the EVEN or ODD
              parity over the contents of the (1) RxA_D[7:0] input pins, or (2) RxA_D[7:0] input pins, the states of the
              RxA_PL and RxA_C1J1 input pins (depending upon user setting for BIT 3).
     0 - Configures Transmit (Drop) Telecom Bus to compute EVEN parity and configures the Receive (Add) Telecom Bus
    to verify EVEN parity.
     1 - Configures Transmit (Drop) Telecom Bus to compute ODD parity and configures the Receive (Add) Telecom Bus
    to verify ODD parity.
BIT 1 - Telecom Bus Parity Enable
    This READ/WRITE bit-field is used to either enable or disable parity calculation and placement via the TxA_DP output
    pin. This bit field also is used to enable or disable parity verification by the Receive Telecom Bus.
     0 - Disables Parity Calculation (on the Transmit Telecom Bus) and Disables Parity Verification (on the Receive
    Telecom Bus.
     1 - Enables Parity Calculation and Verification
BIT 0 - Telecom Bus - Rephase Enable
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 Telecom Bus to operate in either the
    Rephase ON or Rephase OFF Modes.
                                                               42


                                                                                                          XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    If the user configures the Receive STS-1/STS-3 Telecom Bus Interface to operate on the Rephase ON Mode, then the
    Receive STS-1/STS-3/STS-1/STS-3 TOH/POH Processor blocks will internally compute the Pointer Bytes, based upon
    the data that it receives via the RxD_D[7:0] input pins.
    If the user configures the Receive STS-1/STS-3 Telecom Bus Interface to operate in the Rephase OFF Mode, then the
    Receive STS-1/STS-3/STS-1/STS-3 TOH/POH Processor blocks will NOT internally compute the Pointer Bytes, based
    upon the data that it receives via the RxD_D[7:0] input pins. In this case, the Voyager device will rely upon the signaling
    via the Telecom Bus Interface pins (e.g., via the RxD_PL and RxD_C1J1V1_FP pins) in order to compute these pointer
    bytes.
    NOTE: If the Receive STS-1/STS-3 Telecom Bus is being provided with pulses denoting the C1 and J1 bytes (via the
             RxD_C1J1V1_FP input pin), then this feature is unnecessary.
     0 - Configures the Telecom Bus Interface to operate in the Rephase OFF Mode.
     1 - Configures the Telecom Bus Interface to operate in the Rephase ON Mode.
                TABLE 37: OPERATION BLOCK - INTERFACE CONTROL REGISTER (ADDRESS = 0X003C)
     BIT7             BIT6           BIT 5               BIT 4           BIT 3         BIT 2         BIT 1           BIT 0
                    Unused                          Telecom Bus                       Unused                     Telecom Bus
                                                     Parity Error                                                 Parity Error
                                                       Interrupt                                                   Interrupt
                                                        Status                                                      Enable
      R/O              R/O            R/O                RUR             R/O            R/O          R/O             R/W
        0               0               0                  0               0             0             0               0
BIT [7:5] - Unused
BIT 4- Telecom Bus Interface - Detection of Parity Error Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Receive STS-1/STS-3 Telecom Bus Interface has
    detected a parity error within the incoming STS-1/STS-3 data-stream since the last read of this register, as described
    below.
     0 - Indicates that the Receive STS-1/STS-3 Telecom Bus Interface has NOT detected a parity error since the last read
    of this register.
     1 - Indicates that the Receive STS-1/STS-3 Telecom Bus Interface has detected a parity error (and has generated
    the Detection of Parity Error interrupt) since the last read of this register.
    NOTE: This register bit-field is only active if the XRT86SH328 has been configured to exchange STS-1/STS-3 data via
             the Telecom Bus Interface.
BIT [3:1] - Unused
BIT 0 - Telecom Bus Interface - Detection of Parity Error Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Receive STS-1/STS-3 Telecom Bus Interface -
    Detection of Parity Error interrupt. If this interrupt is enabled, then the Receive STS-1/STS-3 Telecom Bus Interface will
    generate this interrupt anytime it detects a parity error within the incoming STS-1/STS-3 data-stream.
     0 - Disables the Receive STS-1/STS-3 Telecom Bus Interface - Detection of Parity Error interrupt.
     1 - Enables the Receive STS-1/STS-3 Telecom Bus Interface - Detection of Parity Error interrupt.
        TABLE 38: OPERATION GENERAL PURPOSE INPUT/OUTPUT REGISTER - BYTE 0 (ADDRESS = 0X0047)
     BIT7             BIT6           BIT 5               BIT 4           BIT 3         BIT 2         BIT 1           BIT 0
   GPIO_7           GPIO_6          GPIO_5             GPIO_4          GPIO_3         GPIO_2       GPIO_1           GPIO_0
     R/W              R/W             R/W                R/W             R/W            R/W          R/W             R/W
        0               0               0                  0               0             0             0               0
Bits [7:0] - General Purpose Input/Output Pin # 7 thru 0
                                                                  43


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                           REV. 2.0.0
    The function of this READ/WRITE bit-field depends upon whether the GPIO_[7:0] pins are configured to be an input or
    an output pin.
    If GPIO_[7:0] is configured to be an input pin:
    These register bits operates as a READ-ONLY bit-fields that reflects the state of the GPIO_[7:0] input pins.
    If the GPIO_[7:0] input pins are pulled to a logic HIGH, then this register bit will be set to 1. Conversely, if the GPIO_7
    input pin is pulled to a logic LOW, then this register bit will be set to 0.
    If GPIO_[7:0] is configured to be an output pin
    Tthe user can control the logic level of GPIO_[7:0] by writing the appropriate value into these bit-fields.
     0 - Causes the GPIO_[7:0] output pins to be driven LOW.
     1 - Causes the GPIO_[7:0] output pins to be driven HIGH.
     TABLE 39: OPERATION GENERAL PURPOSE INPUT/OUTPUT DIRECTION REGISTER 0 (ADDRESS = 0X004B)
     BIT7             BIT6           BIT 5           BIT 4             BIT 3         BIT 2             BIT 1           BIT 0
                                                        GPIO_DIR[7:0]
     R/W              R/W             R/W             R/W               R/W            R/W             R/W              R/W
        0              0                0              0                 0               0               0               0
BIT 7 - GPIO_[7:0] Direction Select
    These READ/WRITE bit-fields are used to configure the GPIO_[7:0] pins to function as either input or output pins.
     0 - Configures GPIO_[7:0] to function as input pins.
     1 - Configures GPIO_[7:0] to function as output pins.
                        TABLE 40: OPERATION I/O CONTROL REGISTER 1 (ADDRESS = 0X004E)
     BIT7             BIT6           BIT 5           BIT 4             BIT 3         BIT 2             BIT 1           BIT 0
                    Unused                                                      RxCLK1_Select[4:0]
      R/O             R/W             R/W             R/W               R/W            R/W             R/W              R/W
        0              0                0              0                 0               0               0               0
BIT [7:5] - Unused
BIT [4:0] - Recovered T1/E1 Clock 1 Select[4:0]
    These READ/WRITE bit-fields are used to select any one of 28 T1 or 21 E1 Recovered Clock signals to output a replica
    of this selected clock signal via the EXT_INT_1 output pin (Pin T5).
    The relationship between the contents within these bit-fields and the selected channel is shown in Table 42.
                        TABLE 41: OPERATION I/O CONTROL REGISTER 0 (ADDRESS = 0X004F)
     BIT7             BIT6           BIT 5           BIT 4             BIT 3         BIT 2             BIT 1           BIT 0
                    Unused                                                      RxCLK0_Select[4:0]
      R/O             R/W             R/W             R/W               R/W            R/W             R/W              R/W
        0              0                0              0                 0               0               0               0
                                                               44


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:5] - Unused
BIT [4:0] - Recovered T1/E1 Clock 0 Select[4:0]
    These READ/WRITE bit-fields are used to select any one of 28 T1 or 21 E1 Recovered Clock signals, and do either of
    the following.· Output a replica of this selected clock signal via the RCLK_IO output pin (Pin C9).· Or, become an input
    to be used to synthesize a 19.44MHz clock signal.
    The relationship between the contents within these bit-fields and the selected channel is shown in Table 42.
TABLE 42: BIT FIELD CONTENTS FOR RECOVERED LINE CLOCK SELECT
                            SELECTED
 RXCLK_SELECT[4:0]                                       COMMENT
                             CHANNEL
         00000                Tri-State
         00001              Channel 0
         00010              Channel 1
         00011              Channel 2
         00100              Channel 3
         00101              Channel 4
         00110              Channel 5
          00111             Channel 6
         01000              Channel 7
         01001              Channel 8
         01010              Channel 9
         01011              Channel 10
         01100              Channel 11
         01101              Channel 12
          01110             Channel 13
          01111             Channel 14
         10000              Channel 15
         10001              Channel 16
         10010              Channel 17
         10011              Channel 18
         10100              Channel 19
         10101              Channel 20
         10110              Channel 21
          10111             Channel 22
         11000              Channel 23
         11001              Channel 24
         11010              Channel 25
                                                               45


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                 REV. 2.0.0
TABLE 42: BIT FIELD CONTENTS FOR RECOVERED LINE CLOCK SELECT
                             SELECTED
 RXCLK_SELECT[4:0]                                    COMMENT
                              CHANNEL
         11011               Channel 26
         11100               Channel 27
         11101                 NONE           RCLKOUT is an Input pin
         11110                 NONE          RCLKOUT is an Input Pin
          11111                NONE          RCLKOUT is an Input Pin
TABLE 43: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 3 (ADDRESS =
                                                        0X0050)
     BIT7            BIT6           BIT 5         BIT 4          BIT 3          BIT 2           BIT 1        BIT 0
                            Unused                              DS1/E1         DS1/E1          DS1/E1       DS1/E1
                                                                Framer         Framer          Framer       Framer
                                                                VT-Side        VT-Side        VT-Side      VT-Side
                                                              Channel 27     Channel 26     Channel 25    Channel 24
     R/O              R/O            R/O           R/O            R/O           R/O             R/O           R/O
       0               0              0             0              0               0              0            0
BIT [7:4]- Unused
BIT [3:0] - DS1/E1 Framer Block (VT Side) Channels 27, 26, 25 & 24
    These READ-ONLY bit-fields indicate whether or not the DS1/E1 Framer block (on the VT Side) associated with
    Channel [27:24] have a pending Interrupt Request.
     0 - Indicates that the DS1/E1 Framer block sassociated with Channel [27:24] (on the VT Side) does NOT have a
    pending interrupt request.
     1 - Indicates that the DS1/E1 Framer blocks associated with Channel [27:24] (on the VT side) DOES have a pending
    interrupt request.
TABLE 44: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 2 (ADDRESS =
                                                        0X0051)
     BIT7            BIT6           BIT 5         BIT 4          BIT 3          BIT 2           BIT 1        BIT 0
   DS1/E1          DS1/E1         DS1/E1         DS1/E1         DS1/E1         DS1/E1          DS1/E1       DS1/E1
    Framer          Framer         Framer      Framer VT-       Framer         Framer          Framer       Framer
   VT-Side         VT-Side        VT-Side      Side Chan-       VT-Side        VT-Side        VT-Side      VT-Side
 Channel 23      Channel 22      Channel 21       nel 20      Channel 19     Channel 18     Channel 17    Channel 16
     R/O              R/O            R/O           R/O            R/O           R/O             R/O           R/O
       0               0              0             0              0               0              0            0
BIT [7:0] - DS1/E1 Framer Block (VT Side) Channels [23:16]
    These READ-ONLY bit-field indicates whether or not the DS1/E1 Framer block (on the VT Side) associated with
    Channel [23:16] have a pending Interrupt Request.
     0 - Indicates that the DS1/E1 Framer blocks associated with Channel [23:16] (on the VT Side) does NOT have a
    pending interrupt request.
     1 - Indicates that the DS1/E1 Framer blocks associated with Channel [23:16] (on the VT side) DOES have a pending
    interrupt request.
                                                           46


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 45: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 1 (ADDRESS =
                                                          0X0052)
      BIT7            BIT6           BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
    DS1/E1          DS1/E1          DS1/E1        DS1/E1          DS1/E1          DS1/E1         DS1/E1        DS1/E1
    Framer           Framer         Framer         Framer         Framer          Framer         Framer        Framer
    VT-Side         VT-Side         VT-Side       VT-Side         VT-Side         VT-Side        VT-Side      VT-Side
  Channel 15       Channel 14     Channel 13    Channel 12     Channel 11      Channel 10       Channel 9    Channel 8
      R/O              R/O            R/O           R/O             R/O            R/O             R/O          R/O
        0               0              0              0              0               0              0             0
BIT [7:0] - DS1/E1 Framer Block (VT Side) Channels [15:8]
     These READ-ONLY bit-field indicates whether or not the DS1/E1 Framer block (on the VT Side) associated with
     Channel [15:8] have a pending Interrupt Request.
      0 - Indicates that the DS1/E1 Framer blocks associated with Channel [15:8] (on the VT Side) does NOT have a
     pending interrupt request.
      1 - Indicates that the DS1/E1 Framer blocks associated with Channel [15:8] (on the VT side) DOES have a pending
     interrupt request.
0
TABLE 46: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (VT SIDE) BLOCK - BYTE 0 (ADDRESS =
                                                          0X0053)
      BIT7            BIT6           BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
    DS1/E1          DS1/E1          DS1/E1        DS1/E1          DS1/E1          DS1/E1         DS1/E1        DS1/E1
    Framer           Framer         Framer         Framer         Framer          Framer         Framer        Framer
    VT-Side         VT-Side         VT-Side       VT-Side         VT-Side         VT-Side        VT-Side      VT-Side
   Channel 7       Channel 6       Channel 5     Channel 4      Channel 3       Channel 2       Channel 1    Channel 0
      R/O              R/O            R/O           R/O             R/O            R/O             R/O          R/O
        0               0              0              0              0               0              0             0
BIT [7:0] - DS1/E1 Framer Block (VT Side) Channels [7:0]
     These READ-ONLY bit-field indicates whether or not the DS1/E1 Framer block (on the VT Side) associated with
     Channel [7:0] has a pending Interrupt Request.
      0 - Indicates that the DS1/E1 Framer blocks associated with Channel [7:0] (on the VT Side) does NOT have a pending
     interrupt request.
      1 - Indicates that the DS1/E1 Framer blocks associated with Channel [7:0] (on the VT side) DOES have a pending
     interrupt request.
 TABLE 47: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 3 (ADDRESS
                                                        = 0X0054)
      BIT7            BIT6           BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
                             Unused                               DS1/E1          DS1/E1         DS1/E1        DS1/E1
                                                                  Framer          Framer         Framer        Framer
                                                                 M13-Side       M13-Side        M13-Side      M13-Side
                                                               Channel 27      Channel 26      Channel 25    Channel 24
      R/O              R/O            R/O           R/O             R/O            R/O             R/O          R/O
        0               0              0              0              0               0              0             0
BIT 7 - BIT 4 - Unused
                                                            47


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                 REV. 2.0.0
BIT [3:0] - DS1/E1 Framer Block (M13 Side) Channels [27:24]
    These READ-ONLY bit-field indicate whether or not the DS1/E1 Framer block (on the M13 Side) associated with
    Channel [27:24] have a pending Interrupt Request.
     0 - Indicates that the DS1/E1 Framer block associated with Channel [27:24] (on the M13 Side) does NOT have a
    pending interrupt request.
     1 - Indicates that the DS1/E1 Framer block associated with Channel [27:24] (on the M13 side) DOES have a pending
    interrupt request.
TABLE 48: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 2 (ADDRESS
                                                       = 0X0055)
     BIT7            BIT6           BIT 5          BIT 4          BIT 3         BIT 2           BIT 1        BIT 0
   DS1/E1           DS1/E1        DS1/E1         DS1/E1          DS1/E1        DS1/E1         DS1/E1        DS1/E1
    Framer          Framer         Framer         Framer         Framer        Framer          Framer       Framer
  M13-Side         M13-Side       M13-Side      M13-Side        M13-Side      M13-Side       M13-Side      M13-Side
 Channel 23       Channel 22     Channel 21    Channel 20      Channel 19    Channel 18     Channel 17    Channel 16
     R/O              R/O           R/O            R/O            R/O             R/O           R/O           R/O
       0               0              0              0              0              0              0            0
BIT [7:0] - DS1/E1 Framer Block (M13 Side) Channel [23:16]
    These READ-ONLY bit-fields indicates whether or not the DS1/E1 Framer block (on the M13 Side) associated with
    Channel [23:16] has a pending Interrupt Request.
     0 - Indicates that the DS1/E1 Framer block associated with Channel [23:16] (on the M13 Side) does NOT have a
    pending interrupt request.
     1 - Indicates that the DS1/E1 Framer block associated with Channel [23:16] (on the M13 side) DOES have a pending
    interrupt request.
TABLE 49: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 1 (ADDRESS
                                                       = 0X0056)
     BIT7            BIT6           BIT 5          BIT 4          BIT 3         BIT 2           BIT 1        BIT 0
   DS1/E1           DS1/E1        DS1/E1         DS1/E1          DS1/E1        DS1/E1         DS1/E1        DS1/E1
    Framer          Framer         Framer         Framer         Framer        Framer          Framer       Framer
  M13-Side         M13-Side       M13-Side      M13-Side        M13-Side      M13-Side        M13-Side     M13-Side
 Channel 15       Channel 14     Channel 13    Channel 12      Channel 11    Channel 10      Channel 9    Channel 8
     R/O              R/O           R/O            R/O            R/O             R/O           R/O           R/O
       0               0              0              0              0              0              0            0
BIT [7:0] - DS1/E1 Framer Block (M13 Side) Channels [15:8]
    These READ-ONLY bit-fields indicate whether or not the DS1/E1 Framer block (on the M13 Side) associated with
    Channels [15:8] have a pending Interrupt Request.
     0 - Indicates that the DS1/E1 Framer block associated with Channel [15:8] (on the M13 Side) does NOT have a
    pending interrupt request.
     1 - Indicates that the DS1/E1 Framer block associated with Channel [15:8] (on the M13 side) DOES have a pending
    interrupt request.
                                                           48


                                                                                                        XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 50: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 FRAMER (M13 SIDE) BLOCK - BYTE 0 (ADDRESS
                                                         = 0X0057)
      BIT7             BIT6          BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
    DS1/E1           DS1/E1         DS1/E1         DS1/E1         DS1/E1          DS1/E1         DS1/E1        DS1/E1
 Framer M13- Framer M13- Framer M13- Framer M13- Framer M13- Framer M13- Framer M13- Framer M13-
  Side Chan-       Side Chan-     Side Chan-     Side Chan-     Side Chan-      Side Chan-     Side Chan-    Side Chan-
      nel 7            nel 6         nel 5          nel 4          nel 3           nel 2           nel 1        nel 0
      R/O              R/O            R/O           R/O             R/O             R/O            R/O          R/O
        0               0              0              0              0                0             0             0
BIT [7:0] - DS1/E1 Framer Block (M13 Side) Channels [7:0]
     These READ-ONLY bit-fields indicate whether or not the DS1/E1 Framer block (on the M13 Side) associated with
     Channels [7:0] have a pending Interrupt Request.
      0 - Indicates that the DS1/E1 Framer block associated with Channel [7:0] (on the M13 Side) does NOT have a pending
     interrupt request.
      1 - Indicates that the DS1/E1 Framer block associated with Channel [7:0] (on the M13 side) DOES have a pending
     interrupt request.
   TABLE 51: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 3 (ADDRESS = 0X0058)
      BIT7             BIT6          BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
                             Unused                             DS1/E1 LIU      DS1/E1 LIU     DS1/E1 LIU    DS1/E1 LIU
                                                                Channel 27      Channel 26     Channel 25    Channel 24
      R/O              R/O            R/O           R/O             R/O             R/O            R/O          R/O
        0               0              0              0              0                0             0             0
BIT [7:4] - Unused
BIT [3:0] - DS1/E1 LIU Block Channels [27:24]
     These READ-ONLY bit-fields indicate whether or not the DS1/E1 LIU block associated with Channels [27:24] have a
     pending Interrupt Request.
      0 - Indicates that the DS1/E1 LIU block associated with Channel [27:24] does NOT have a pending interrupt request.
      1 - Indicates that the DS1/E1 LIU block associated with Channel [27:24] DOES have a pending interrupt request.
   TABLE 52: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 2 (ADDRESS = 0X0059)
      BIT7             BIT6          BIT 5          BIT 4          BIT 3           BIT 2          BIT 1         BIT 0
 DS1/E1 LIU       DS1/E1 LIU      DS1/E1 LIU    DS1/E1 LIU      DS1/E1 LIU      DS1/E1 LIU     DS1/E1 LIU    DS1/E1 LIU
  Channel 23       Channel 22     Channel 21    Channel 20      Channel 19      Channel 18     Channel 17    Channel 16
      R/O              R/O            R/O           R/O             R/O             R/O            R/O          R/O
        0               0              0              0              0                0             0             0
Bit[ 7:0] - DS1/E1 LIU Block Channels [23:16]
     These READ-ONLY bit-fields indicate whether or not the DS1/E1 LIU block associated with Channels [23:16] have a
     pending Interrupt Request.
      0 - Indicates that the DS1/E1 LIU block associated with Channel [23:16] does NOT have a pending interrupt request.
      1 - Indicates that the DS1/E1 LIU block associated with Channel [23:16] DOES have a pending interrupt request.
                                                             49


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                  REV. 2.0.0
   TABLE 53: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 1 (ADDRESS = 0X005A)
      BIT7            BIT6          BIT 5          BIT 4          BIT 3          BIT 2        BIT 1           BIT 0
 DS1/E1 LIU       DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU   DS1/E1 LIU      DS1/E1 LIU
 Channel 15       Channel 14      Channel 13    Channel 12     Channel 11     Channel 10    Channel 9       Channel 8
      R/O             R/O            R/O           R/O            R/O             R/O          R/O             R/O
       0                0             0              0              0              0            0                0
Bit [7:0] - DS1/E1 LIU Block Channel [15:8]
     These READ-ONLY bit-fields indicate whether or not the DS1/E1 LIU block associated with Channels [15:8] have a
     pending Interrupt Request.
      0 - Indicates that the DS1/E1 LIU block associated with Channel [15:8] does NOT have a pending interrupt request.
      1 - Indicates that the DS1/E1 LIU block associated with Channel [15:8] DOES have a pending interrupt request.
   TABLE 54: CHANNEL INTERRUPT INDICATION REGISTER - DS1/E1 LIU BLOCK - BYTE 0 (ADDRESS = 0X005B)
      BIT7            BIT6          BIT 5          BIT 4          BIT 3          BIT 2        BIT 1           BIT 0
 DS1/E1 LIU       DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU     DS1/E1 LIU   DS1/E1 LIU      DS1/E1 LIU
  Channel 7        Channel 6      Channel 5      Channel 4      Channel 3      Channel 2    Channel 1       Channel 0
      R/O             R/O            R/O           R/O            R/O             R/O          R/O             R/O
       0                0             0              0              0              0            0                0
BIT [7:0] - DS1/E1 LIU Block Channels [7:0]
     These READ-ONLY bit-fields indicate whether or not the DS1/E1 LIU block associated with Channels [7:0] have a
     pending Interrupt Request.
      0 - Indicates that the DS1/E1 LIU block associated with Channel [7:0] does NOT have a pending interrupt request.
      1 - Indicates that the DS1/E1 LIU block associated with Channel [7:0] DOES have a pending interrupt request.
   TABLE 55: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X005C)
      BIT7            BIT6          BIT 5          BIT 4          BIT 3          BIT 2        BIT 1           BIT 0
                             Unused                            VT Mapper       VT Mapper    VT Mapper       VT Mapper
                                                                  Block          Block        Block           Block
                                                               Channel 27     Channel 26   Channel 25      Channel 24
      R/O             R/O            R/O           R/O            R/O             R/O          R/O             R/O
       0                0             0              0              0              0            0                0
BIT [7:4] - Unused
Bit [3:0] - VT-Mapper Block Channels [27:24]
     These READ-ONLY bit-fields indicate whether or not the VT-Mapper block associated with Channels [27:24] have a
     pending Interrupt Request.
      0 - Indicates that the VT-Mapper block associated with Channel [27:24] does NOT have a pending interrupt request.
      1 - Indicates that the VT-Mapper block associated with Channel [27:24] DOES have a pending interrupt request.
                                                            50


                                                                                                   XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 56: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X005D)
      BIT7            BIT6          BIT 5          BIT 4         BIT 3          BIT 2         BIT 1           BIT 0
  VT-Mapper        VT-Mapper      VT-Mapper     VT-Mapper      VT-Mapper      VT-Mapper    VT-Mapper       VT-Mapper
 Channel 23       Channel 22      Channel 21    Channel 20     Channel 19     Channel 18   Channel 17     Channel 16
      R/O              R/O           R/O           R/O            R/O            R/O           R/O            R/O
       0                0             0              0             0              0             0               0
BIT [7:0] - VT-Mapper Block Channels [23:16]
     These READ-ONLY bit-fields indicate whether or not the VT-Mapper block associated with Channels [23:16] have a
     pending Interrupt Request.
      0 - Indicates that the VT-Mapper block associated with Channel [23:16] does NOT have a pending interrupt request.
      1 - Indicates that the VT-Mapper block associated with Channel [23:16] DOES have a pending interrupt request.
   TABLE 57: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X005E)
      BIT7            BIT6          BIT 5          BIT 4         BIT 3          BIT 2         BIT 1           BIT 0
  VT-Mapper        VT-Mapper      VT-Mapper     VT-Mapper      VT-Mapper      VT-Mapper    VT-Mapper       VT-Mapper
 Channel 15       Channel 14      Channel 13    Channel 12     Channel 11     Channel 10   Channel 9       Channel 8
      R/O              R/O           R/O           R/O            R/O            R/O           R/O            R/O
       0                0             0              0             0              0             0               0
BIT [7:0] - VT-Mapper Block Channels [15:8]
     These READ-ONLY bit-fields indicate whether or not the VT-Mapper block associated with Channels [15:8] have a
     pending Interrupt Request.
      0 - Indicates that the VT-Mapper block associated with Channel [15:8] does NOT have a pending interrupt request.
      1 - Indicates that the VT-Mapper block associated with Channel [15:8] DOES have a p0ending interrupt request.
   TABLE 58: CHANNEL INTERRUPT INDICATION REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X005F)
      BIT7            BIT6          BIT 5          BIT 4         BIT 3          BIT 2         BIT 1           BIT 0
  VT-Mapper        VT-Mapper      VT-Mapper     VT-Mapper      VT-Mapper      VT-Mapper    VT-Mapper       VT-Mapper
  Channel 7        Channel 6      Channel 5     Channel 4      Channel 3      Channel 2    Channel 1       Channel 0
      R/O              R/O           R/O           R/O            R/O            R/O           R/O            R/O
       0                0             0              0             0              0             0               0
Bit[ 7:0] - VT-Mapper Block Channels [7:0]
     These READ-ONLY bit-fields indicate whether or not the VT-Mapper block associated with Channels [7:0] have a
     pending Interrupt Request.
      0 - Indicates that the VT-Mapper block associated with Channel [7:0] does NOT have a pending interrupt request.
      1 - Indicates that the VT-Mapper block associated with Channel [7:0] DOES have a pending interrupt request.
                                                            51


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
  TABLE 59: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X0080)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3         BIT 2           BIT 1           BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper      VT-Mapper      VT-Mapper     VT-Mapper       VT-Mapper       VT-Mapper
 Channel 27       Channel 26      Channel 25     Channel 24    Channel 23     Channel 22      Channel 21      Channel 20
      R/W             R/W            R/W            R/W            R/W            R/W             R/W             R/W
       1                1             1               1              1              1               1               1
Bit[ 7:0] - VT-Mapper Block Channels [27:20]
     These READ/WRITE bit-fields determine whether the Desycronizer block associated with Channels [27:20] use a
     512bit FIFO or a 256bit FIFO. When in E1 operation channels 27 and 23 are skipped (not used).
      0 - Indicates that the desynchronizer block associated with Channel [27:20] is using a 256 bit FIFO register.
      1 - Indicates that the desynchronizer block associated with Channel [27:20] is using a 512 bit FIFO register.
  TABLE 60: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X0081)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3         BIT 2           BIT 1           BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper      VT-Mapper      VT-Mapper     VT-Mapper       VT-Mapper       VT-Mapper
 Channel 19       Channel 18      Channel 17     Channel 16    Channel 15     Channel 14      Channel 13      Channel 12
      R/W             R/W            R/W            R/W            R/W            R/W             R/W             R/W
       1                1             1               1              1              1               1               1
Bit[ 7:0] - VT-Mapper Block Channels [19:12]
     These READ/WRITE bit-fields determine whether the Desycronizer block associated with Channels [19:12] use a
     512bit FIFO or a 256bit FIFO. When in E1 operation channels 19 and 15 are skipped (not used).
      0 - Indicates that the desynchronizer block associated with Channel [19:12] is using a 256 bit FIFO register.
      1 - Indicates that the desynchronizer block associated with Channel [19:12] is using a 512 bit FIFO register.
  TABLE 61: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X0082)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3         BIT 2           BIT 1           BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper      VT-Mapper      VT-Mapper     VT-Mapper       VT-Mapper       VT-Mapper
  Channel 11      Channel 10      Channel 9      Channel 8      Channel 7     Channel 6        Channel 5      Channel 4
      R/W             R/W            R/W            R/W            R/W            R/W             R/W             R/W
       1                1             1               1              1              1               1               1
Bit[ 7:0] - VT-Mapper Block Channels [11:4]
     These READ/WRITE bit-fields determine whether the Desycronizer block associated with Channels [11:4] use a 512bit
     FIFO or a 256bit FIFO. When in E1 operation channels 11 and 7 are skipped (not used).
      0 - Indicates that the desynchronizer block associated with Channel [11:4] is using a 256 bit FIFO register.
      1 - Indicates that the desynchronizer block associated with Channel [11:4] is using a 512 bit FIFO register.
                                                            52


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  TABLE 62: CHANNEL DE-JITTER FIFO DEPTH REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X0083)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3          BIT 2          BIT 1            BIT 0
                             Unused                             VT-Mapper      VT-Mapper      VT-Mapper       VT-Mapper
                                                                Channel 3       Channel 2      Channel 1       Channel 0
      R/W             R/W            R/W            R/W            R/W             R/W            R/W              R/W
       0                0             0               0              1              1               1               1
Bit[ 3:0] - VT-Mapper Block Channels [3:0]
     These READ/WRITE bit-fields determine whether the Desycronizer block associated with Channels [3:0] use a 512bit
     FIFO or a 256bit FIFO. When in E1 operation channel 3 is skipped (not used).
      0 - Indicates that the desynchronizer block associated with Channel [3:0] is using a 256 bit FIFO register.
      1 - Indicates that the desynchronizer block associated with Channel [3:0] is using a 512 bit FIFO register.
 TABLE 63: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 3 (ADDRESS = 0X0084)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3          BIT 2          BIT 1            BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper      VT-Mapper      VT-Mapper      VT-Mapper      VT-Mapper       VT-Mapper
 Channel 27       Channel 26      Channel 25     Channel 24    Channel 23      Channel 22     Channel 21      Channel 20
      RUR             RUR            RUR            RUR            RUR             RUR            RUR              RUR
       0                0             0               0              0              0               0               0
Bit[ 7:0] - VT-Mapper Block Channels [27:20]
     These RESET-upon-READ bit-fields indicate whether the DJ-FIFO in the Desycronizer block associated with Channels
     [27:20] has experienced a overflow/underflow event resulting in a data error. When in E1 operation channels 27 and
     23 are skipped (not used).
      0 - Indicates that the DJ-FIFO associated with Channel [27:20] has not incurred an overflow/underflow.
      1 - Indicates that the DJ-FIFO associated with Channel [27:20] has incurred an overflow/underflow.
 TABLE 64: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 2 (ADDRESS = 0X0085)
      BIT7            BIT6          BIT 5           BIT 4          BIT 3          BIT 2          BIT 1            BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper      VT-Mapper      VT-Mapper      VT-Mapper      VT-Mapper       VT-Mapper
 Channel 19       Channel 18      Channel 17     Channel 16    Channel 15      Channel 14     Channel 13      Channel 12
      RUR             RUR            RUR            RUR            RUR             RUR            RUR              RUR
       0                0             0               0              0              0               0               0
Bit[ 7:0] - VT-Mapper Block Channels [19:12]
     These RESET-upon-READ bit-fields indicate whether the DJ-FIFO in the Desycronizer block associated with Channels
     [19:12] has experienced a overflow/underflow event resulting in a data error. When in E1 operation channels 19 and
     15 are skipped (not used).
      0 - Indicates that the DJ-FIFO associated with Channel [19:12] has not incurred an overflow/underflow.
      1 - Indicates that the DJ-FIFO associated with Channel [19:12] has incurred an overflow/underflow.
                                                            53


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
 TABLE 65: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 1 (ADDRESS = 0X0086)
      BIT7            BIT6          BIT 5          BIT 4            BIT 3          BIT 2         BIT 1          BIT 0
  VT-Mapper       VT-Mapper       VT-Mapper     VT-Mapper        VT-Mapper       VT-Mapper    VT-Mapper      VT-Mapper
  Channel 11      Channel 10      Channel 9      Channel 8       Channel 7       Channel 6     Channel 5      Channel 4
      RUR             RUR            RUR           RUR              RUR             RUR          RUR             RUR
        0               0             0              0                0              0              0              0
Bit[ 7:0] - VT-Mapper Block Channels [11:4]
     These RESET-upon-READ bit-fields indicate whether the DJ-FIFO in the Desycronizer block associated with Channels
     [11:4] has experienced a overflow/underflow event resulting in a data error. When in E1 operation channels 11 and 7
     are skipped (not used).
      0 - Indicates that the DJ-FIFO associated with Channel [11:4] has not incurred an overflow/underflow.
      1 - Indicates that the DJ-FIFO associated with Channel [11:4] has incurred an overflow/underflow.
 TABLE 66: CHANNEL DE-JITTER FIFO STATUS REGISTER - VT-MAPPER BLOCK - BYTE 0 (ADDRESS = 0X0087)
      BIT7            BIT6          BIT 5          BIT 4            BIT 3          BIT 2         BIT 1          BIT 0
                             Unused                              VT-Mapper       VT-Mapper    VT-Mapper      VT-Mapper
                                                                 Channel 3       Channel 2     Channel 1      Channel 0
      RUR             RUR            RUR           RUR              RUR             RUR          RUR             RUR
        0               0             0              0                0              0              0              0
Bit[ 7:0] - VT-Mapper Block Channels [3:0]
     These RESET-upon-READ bit-fields indicate whether the DJ-FIFO in the Desycronizer block associated with Channels
     [3:0] has experienced a overflow/underflow event resulting in a data error. When in E1 operation channel 3 is skipped
     (not used).
      0 - Indicates that the DJ-FIFO associated with Channel [3:0] has not incurred an overflow/underflow.
      1 - Indicates that the DJ-FIFO associated with Channel [3:0] has incurred an overflow/underflow.
                                                             54


                                                                                                                  XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 2.2     RECEIVE STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
The register map for the Receive STS-1/STS-3 TOH Processor block is presented in the Table below.
Additionally, a detailed description of each of the Receive STS-1/STS-3 TOH Processor Block registers is
presented below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with the Receive STS-1/STS-3 TOH Processor Block highlighted is presented below in
Figure 3.
FIGURE 3. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE RECEIVE STS-
1/STS-3 TOH PROCESSOR BLOCK HIGHLIGHTED
                              Transmit                                                     Ingress    Ingress
                               Transmit       Transmit
                                               Transmit                                   Direction  Direction      Receive
                               STS-1/3       STS-1                          VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                     VT/TU
                                                                           Mapper         Transmit    Receive       DS1/E1
                                 TOH          Processor
                                               Processor                    Mapper         DS1/E1     DS1/E1         LIU
                              Processor
                               Processor        Block                        Block
                                                                              Block
                                                 Block                                     Framer     Framer         Block
                                Block
                                 Block
               STS-1/
                 STS-1/                                                                     Block      Block
                STS-3
                 STS-3                                                                                       DS1/E1 Channel 0
              Telecom
               Telecom                      From DS1/E1 Channels 1 - 27
                 Bus
                  Bus
             Interface                                   From DS2 Channels 1 - 6
               Interface
                                            Transmit
                                             Transmit         M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    From DS1/E1 Channels 1 - 3
                                                             MUX
                                                              MUX                      MUX
                                             Framer
                                              Framer
                DS3/                                         Block
                                                              Block                    Block
                  DS3/                        Block
                                               Block
                STS-1
                 STS-1                                             DS2 Channel 0
                 LIU
                  LIU
             Interface                       Receive
                                              Receive
               Interface                                      M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    To DS1/E1 Channels 1 - 3
                                                           De-MUX
                                                            De-MUX                   De-MUX
                                             Framer
                                              Framer          Block
                                                               Block                   Block
                                              Block
                                               Block
                                                                                    DS2 Channel 0
                                                   To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                                 Channels 1 - 27
                                                                                          Egress     Egress
                            Receive
                             Receive        Receive                         DS1/E1       Direction  Direction     Transmit
                            STS-1/3          Receive           VT/TU
                             STS-1/3      STS-1
                                           STS-1POH
                                                  POH                        Jitter       Receive   Transmit       DS1/E1
                             TOH                           De-Mapper
                              TOH          Processor
                                            Processor                        Atten        DS1/E1     DS1/E1          LIU
                           Processor                           Block
                            Processor        Block
                                              Block                          Block        Framer     Framer         Block
                             Block
                              Block                                                        Block      Block
                                                                                                             DS1/E1 Channel 0
  TABLE 67: RECEIVE STS-1/STS-3 TRANSPORT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0202)
     BIT7               BIT6            BIT 5            BIT 4             BIT 3              BIT 2         BIT 1               BIT 0
                                       Unused                                             Sync on B1       Unused              No OH
                                                                                                                               Extract
      R/O               R/O              R/O               R/O              R/O                R/W           R/O                R/W
       0                 0                0                  0                 0                  0            0                  0
BIT [7:3] - Unused
BIT 2 - Sync on B1
     This bit is used to enable B1 verification as part of the synchronization process. SYNC_ON_B1 can only be declared
                                                                     55


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
    after 2 consecutive correct B1 bytes after A1 and A2 have been identified.
     0 - Disabled
     1 - Enabled
BIT 1 - Unused
BIT 0 - No Overhead Data Extract
    This bit is used to disable TOH extraction. By default, TOH extraction is enabled.
     0 - TOH Extraction Occurs
     1 - TOH Extraction Disabled
 TABLE 68: RECEIVE STS-1/STS-3 TRANSPORT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0203)
     BIT 7             BIT 6        BIT 5          BIT 4           BIT 3          BIT 2        BIT 1           BIT 0
   Unused           SF Defect     SD Defect     Descramble-       SONET/        REI-LError B2 ErrorType       B1 Error
                    Condition     Condition       Disable          SDH            Type                         Type
                      Detect       Detect
                      Enable       Enable
      R/O              R/W          R/W             R/W            R/W             R/W         R/W              R/W
        0                0            0              0               0              0            0               0
BIT 7 - Unused
BIT 6 - Signal Failure (SF) Defect Condition Detect Enable
    This READ/WRITE bit-field is used to enable or disable SF Defect Detection and Declaration by the Receive STS-
    1/STS-3 TOH Processor block.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to NOT declare nor clear the SF defect condition per
    the user-specified SF defect declaration and clearance criteria.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to declare and clear the SF defect condition per the
    user-specified SF defect declaration and clearance criteria.
BIT 5 - Signal Degrade (SD) Defect Condition Detect Enable
    This READ/WRITE bit-field is used to enable or disable SD Detection and Declaration by the Receive STS-1/STS-3
    TOH Processor block.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to NOT declare nor clear the SD defect condition per
    the user-specified SD defect declaration and clearance criteria.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to declare and clear the SD defect condition per the
    user-specified SD defect declaration and clearance criteria.
BIT 4 - De-Scramble Disable
    This READ/WRITE bit-field is used to either enable or disable de-scrambling by the Receive STS-1/STS-3 TOH
    Processor block, associated with channel N.
     0 - De-Scrambling is enabled.
     1 - De-Scrambling is disabled.
BIT 3 - SONET/SDH
    This READ/WRITE bit-field is used to configure the 86SH328 Voyager device to operate either in SONET or SDH mode.
     0 - SONET operation
     1 - SDH operation
BIT 2 - REI-L Error Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1/STS-3 TOH Processor block will count (or tally)
    REI-L events, for Performance Monitoring purposes. The user can configure the Receive STS-1/STS-3 TOH Processor
    block to increment REI-L events on either a per-bit or per-frame basis.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment REI-L events on a per-bit basis,
    then it will incrememt the Receive STS-1/STS-3 Transport REI-L Error Count register by the value of the lower nibble
                                                             56


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    within the M0/M1 byte of the incoming STS-1/STS-3 data-stream.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment REI-L events on a per-frame basis,
    then it will increment the Receive STS-1/STS-3 Transport REI-L Error Count register each time it receives an STS-
    1/STS-3 or STS-3 frame, in which the lower nibble of the M0/M1 byte is set to a non-zero value.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to count or tally REI-L events on a per-bit basis.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to count or tally REI-L events on a per-frame basis.
BIT 1 - B2 Error Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1/STS-3 TOH Processor block will count (or tally)
    B2 byte errors, for Performance Monitoring purposes. The user can configure the Receive STS-1/STS-3 TOH
    Processor block to increment B2 byte errors on either a per-bit or a per-frame basis.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment B2 byte errors on a per-bit basis,
    then it will increment the Receive Transport B2 Byte Error Count register by the number of bits (within the B2 byte value)
    that is in error.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment B2 byte errors on a per-frame basis,
    then it will increment the Receive Transport B2 Byte Error Count register each time it receives an STS-1/STS-3 frame
    that contains an erred B2 byte.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to count B2 byte errors on a per-bit basis.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to count B2 byte errors on a per-frame basis.
BIT 0 - B1 Error Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1/STS-3 TOH Processor block will count (or tally)
    B1 byte errors, for Performance Monitoring purposes. The user can configure the Receive STS-1/STS-3 TOH
    Processor block to increment B1 byte errors on either a per-bit or per-frame basis.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment B1 byte errors on a per-bit basis,
    then it will increment the Receive Transport B1 Byte Error Count register by the number of bits (within the B1 byte value)
    that is in error.
    If the user configures the Receive STS-1/STS-3 TOH Processor block to increment B1 byte errors on a per-frame basis,
    then it will increment the Receive Transport B1 Byte Error Count Register each time it receives an STS-1/STS-3 frame
    that contains an erred B1 byte.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to count B1 byte errors on a per-bit basis.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to count B1 byte errors on a per-frame basis.
   TABLE 69: RECEIVE STS-1/STS-3 TRANSPORT STATUS REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0206)
   BIT 7            BIT 6        BIT 5       BIT 4         BIT 3            BIT 2             BIT 1               BIT 0
                                Unused                                 Section Trace     Section Trace         AIS-L Defect
                                                                       Message (J0)      Message (J0)            Declared
                                                                         Mismatch       Unstable Defect
                                                                      Defect Declared       Declared
    R/O              R/O         R/O          R/O           R/O             R/O                R/O                 R/O
      0               0            0            0            0                0                  0                   0
BIT [7:3] - Unused
BIT 2 - Section Trace Message Mismatch Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the Section Trace Mismatch defect condition. The Receive STS-1/STS-3 TOH Processor block will declare
    the Section Trace Message Mismatch defect condition, whenever it accepts a Section Trace Message (via the J0 byte,
    within the incoming STS-1/STS-3 data-stream) that differs from the Expected Section Trace Message.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the Section Trace
    Message Mismatch Defect Condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the Section Trace Message
    Mismatch Defect Condition.
                                                             57


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
BIT 1 - Section Trace Message Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the Section Trace Message Unstable Defect condition. The Receive STS-1/STS-3 TOH Processor block will
    declare the Section Trace Message Unstable defect condition, whenever the "Section Trace Message Unstable"
    counter reaches the value 8. The Receive STS-1/STS-3 TOH Processor block will increment the "Section Trace
    Message Unstable" counter for each time that it receives a Section Trace message that differs from the "Expected
    Section Trace Message". The Receive STS-1/STS-3 TOH Processor block will clear the "Section Trace Message
    Unstable" counter to "0" whenever it has received a given Section Trace Message 3 (or 5) consecutive times
NOTE: The Receive STS-1/STS-3 TOH Processor block will clear the "Section Trace Message Unstable" defect condition
        whenever it receives a given Section Trace Message 3 (or 5) consecutive times".
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the Section Trace
    Message Unstable defect condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the Section Trace Message
    Unstable defect condition
BIT 0 - AIS-L Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the AIS-L (Line AIS) defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the AIS-
    L defect condition within the incoming STS-1/STS-3data stream if bits 6, 7 and 8 (e.g., the Least Significant Bits, within
    the K2 byte) are set to the value [1, 1, 1] for five consecutive STS-1/STS-3frames.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the AIS-L defect
    condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the AIS-L defect condition.
  TABLE 70: RECEIVE STS-1/STS-3 TRANSPORT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0207)
     BIT 7            BIT 6           BIT 5            BIT 4          BIT 3           BIT 2        BIT 1           BIT 0
 RDI-L Defect       S1 Byte       K1, K2 Byte       SF Defect       SD Defect     LOFDefect     SEFDefect      LOSDefect
   Declared         Unstable        Unstable         Declared        Declared       Detected     Declared        Declared
                     Defect          Defect
                    Declared        Declared
     R/O               R/O            R/O              R/O             R/O            R/O          R/O             R/O
       0                 0              0                0               0              0            0               0
BIT 7 - RDI-L Defect Declared Indicator
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is detecting the
    RDI-L (Line-Remote Defect Indicator) defect condition, within the incoming STS-1/STS-3 signal. The Receive STS-
    1/STS-3 TOH Processor block will declare the RDI-L defect condition whenever bits 6, 7 and 8 (e.g., the three least
    significant bits) of the K2 byte contains the 1, 1, 0 pattern in 5 consecutive incoming STS-1/STS-3 or STS-3 frames.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the AIS-L defect
    condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the AIS-L defect condition..
BIT 6 - S1 Byte Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the S1 Byte Unstable defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the S1
    Byte Unstable defect condition whenever the S1 Byte Unstable Counter reaches the value 32. The Receive STS-
    1/STS-3 TOH Processor block will increment the "S1 Byte Unstable Counter" each time that the it receives an STS-
    1/STS-3 or STS-3 frame that contains an S1 byte that differs from the previously received S1 byte. The Receive STS-
    1/STS-3 TOH Processor block will clear the "S1 Byte Unstable Counter" to "0" when the same S1 byte is received for
    8 consecutive STS-1/STS-3 frames.
NOTE: The Receive STS-1/STS-3 TOH Processor block will clear the "S1 Byte Unstable" defect whenever it receives a
        given S1 byte, in 8 consecutive STS-1/STS-3 frames.
   1. 0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the S1 Byte Unstable
       Defect Condition.
                                                               58


                                                                                                         XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   1. 1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the S1 Byte Unstable Defect
       Condition.
BIT 5 - K1, K2 Byte Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the K1, K2 Byte Unstable defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the
    K1, K2 Byte Unstable defect condition whenever it fails to receive the same set of K1, K2 bytes, in 12 consecutive
    incoming STS-1/STS-3 frames. The Receive STS-1/STS-3 TOH Processor block will clear the "K1, K2 Byte Unstable"
    defect whenever it has received a given set of K1, K2 byte values within three consecutive incoming STS-1/STS-3
    frames.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the "K1, K2 Byte
    Unstable Defect" Condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the "K1, K2 Byte Unstable
    Defect" Condition.
BIT 4 - SF (Signal Failure) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the SF defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the SF defect condition
    anytime it has determined that the number of B2 byte errors (measured over a user-selected period of time) exceeds a
    certain user-specified B2 Byte Error threshold.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the SF Defect condition.
    This bit is set to "0" when the number of B2 byte errors (accumulated over a given interval of time) does not exceed the
    "SF Defect Declaration" threshold.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the SF Defect condition.
    This bit is set to "1" when the number of B2 errors (accumulated over a given interval of time) does exceed the "SF
    Defect Declaration" threshold
BIT 3 - SD (Signal Degrade) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the SD defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the SD defect condition
    anytime it has determined that the number of B2 byte errors (measured over a user-selected period of time) exceeds a
    certain user-specified B2 Byte Error threshold.
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the SD Defect condition.
    This bit is set to 0 when the number of B2 errors (accumulated over a given interval of time) does not exceed the SD
    Declaration threshold.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the SD Defect condition.
    This bit is set to 1 when the number of B2 errors (accumulated over a given interval of time) does exceed the SD Defect
    Declaration threshold.
BIT 2 - LOF (Loss of Frame) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the LOF defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the LOF defect
    condition if it has been declaring the SEF condition for 24 consecutive STS-1/STS-3 frame periods. Once the Receive
    STS-1/STS-3 TOH Processor block has declared the LOF defect condition, then the Receive STS-1/STS-3 TOH
    Processor block will clear the LOF defect if it has not been declaring the SEF condition for 3ms (or 24 consecutive STS-
    1/STS-3 frame periods).
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the LOF defect condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the LOF defect condition.
BIT 1 - SEF (Severely Errored Frame) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the SEF defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the SEF defect
    condition if it detects Framing Alignment byte errors in four consecutive STS-1/STS-3 frames. Once the Receive TOH
    Processor block declares the SEF defect condition, the Receive STS-1/STS-3 TOH Processor block will then clear the
    SEF defect condition if it detects two consecutive STS-1/STS-3 frames with un-erred framing alignment bytes. If the
    Receive TOH Processor block declares the SEF defect condition for 24 consecutive STS-1/STS-3 frame periods, then
    it will declare the LOF defect condition.
                                                              59


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the SEF defect condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the SEF defect condition.
BIT 0 - LOS (Loss of Signal) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1/STS-3 TOH Processor block is currently
    declaring the LOS (Loss of Signal) defect condition. The Receive STS-1/STS-3 TOH Processor block will declare the
    LOS defect condition if it detects LOS_THRESHOLD[15:0] consecutive All Zero bytes in the incoming STS-1/STS-3
    data stream.
    NOTE: The user can set the LOS_THRESHOLD[15:0] value by writing the appropriate data into the Receive STS-
             1/STS-3 Transport - LOS Threshold Value Register (Address Location= 0x022E and 0x022F).
     0 - Indicates that the Receive STS-1/STS-3 TOH Processor block is NOT currently declaring the LOS defect
    condition.
     1 - Indicates that the Receive STS-1/STS-3 TOH Processor block is currently declaring the LOS defect condition.
  TABLE 71: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 2 (ADDRESS LOCATION=
                                                          0X0209)
     BIT 7           BIT 6            BIT 5         BIT 4          BIT 3          BIT 2            BIT 1             BIT 0
                                            Unused                                              Change of         Change of
                                                                                               AIS-LDefect      RDI-L Defect
                                                                                                 Condition        Condition
                                                                                                 Interrupt         Interrupt
                                                                                                  Status            Status
     R/O              R/O             R/O           R/O             R/O            R/O             RUR               RUR
       0               0                0             0              0              0                 0                0
BIT [7: 2] - Unused
BIT 1 - Change of AIS-L (Line AIS) Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of AIS-L Defect Condition interrupt has occurred
    since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
    response to either of the following occurrences.· Whenever the Receive STS-1/STS-3 TOH Processor block declares
    the AIS-L defect condition.· Whenever the Receive STS-1/STS-3 TOH Processor block clears the AIS-L defect
    condition.
     0 - Indicates that the Change of AIS-L Defect Condition interrupt has not occurred since the last read of this register.
     1 - Indicates that the Change of AIS-L Defect Condition interrupt has occurred since the last read of this register.
    NOTE: The user can obtain the current state of the AIS-L defect condition by reading the contents of BIT 0 (AIS-L
             Defect Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 1 (Address Location=
             0x0206).
BIT 0 - Change of RDI-L (Line - Remote Defect Indicator) Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of RDI-L Defect Condition interrupt has occurred
    since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
    response to either of the following occurrences.
         •     Whenever the Receive STS-1/STS-3 TOH Processor block declares the RDI-L defect condition.·
         •     Whenever the Receive STS-1/STS-3 TOH Processor block clears the RDI-L defect condition.
     0 - Indicates that the Change of RDI-L Defect Condition interrupt has not occurred since the last read of this register.
     1 - Indicates that the Change of RDI-L Defect Condition interrupt has occurred since the last read of this register.Note:
    NOTE: The user can obtain the current state of the RDI-L defect condition by reading out the state of BIT7 (RDI-L
             Defect Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 0 (Address Location=
             0x0207).
                                                            60


                                                                                                         XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  TABLE 72: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                             0X020A)
      BIT 7             BIT 6          BIT 5           BIT 4            BIT 3       BIT 2          BIT 1          BIT 0
    New S1           Change in       Change in     New Section        Change in    Unused        Change in     NEW K1K2
   ByteInter-          S1 Byte        Section       Trace Mes-         Section                  K1, K2 Byte    Byte Value
  rupt Status      UnstableDe-      Trace Mes-      sage Inter-      Trace Mes-                   Unstable    Interrupt Sta-
                     fect Condi-    sage Unsta-     rupt Status       sage Mis-                Defect Cond-         tus
                    tionInterrupt    ble Defect                     matchDefect                tion Interrupt
                        Status       Condition                        Declared                     Status
                                   Interrupt Sta-                   Interrupt Sta-
                                         tus                              tus
      RUR               RUR             RUR            RUR              RUR          R/O            RUR           RUR
        0                 0               0              0                 0          0               0              0
BIT 7 - New S1 Byte Value Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the New S1 Byte Value Interrupt has occurred since the last
     read of this register. The Receive STS-1/STS-3 TOH Processor block will generate the New S1 Byte Value Interrupt,
     anytime it has accepted a new S1 byte, from the incoming STS-1/STS-3 data-stream.
      0 - Indicates that the New S1 Byte Value Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the New S1 Byte Value interrupt has occurred since the last read of this register.
     NOTE: The user can obtain the value for this most recently accepted value of the S1 byte by reading the Receive STS-
             1/STS-3 Transport S1 Byte Value register (Address Location= 0x0227).
BIT 6 - Change in S1 Byte Unstable Defect Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Change in S1 Byte Unstable Defect Condition Interrupt
     has occurred since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this
     interrupt in response to either of the following events.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block declares the S1 Byte Unstable defect condition.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block clears the S1 Byte Unstable defect condition.
      0 - Indicates that the Change in S1 Byte Unstable Defect Condition Interrupt has occurred since the last read of this
     register.
      1 - Indicates that the Change in S1 Byte Unstable Defect Condition Interrupt has not occurred since the last read of
     this register.
     NOTE: The user can obtain the current S1 Byte Unstable Defect condition by reading the contents of BIT6 (S1 Byte
             Unstable Defect Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 0 (Address
             Location= 0x0207).
BIT 5 - Change in Section Trace Message Unstable Defect condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Change in Section Trace Message Unstable defect
     condition interrupt has occurred since the last read of this register. The Receive STS-1/STS-3 TOH Processor block
     will generate this interrupt in response to either of the following events.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block declares the Section Trace Message Unstable
               defect condition.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block clear the Section Trace Message Unstable defect
               condition.
      Indicates that the Change in Section Trace Message Unstable defect condition interrupt has not occurred since the
     last read of this register.
      1 - Indicates that the Change in Section Trace Message Unstable defect condition interrupt has occurred since the
     last read of this register.
BIT 4 - New Section Trace Message Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the New Section Trace Message interrupt has occurred since
                                                                 61


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
    the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it has
    accepted a new Section Trace Message within the incoming STS-1/STS-3 data-stream.
     0 - Indicates that the New Section Trace Message Interrupt has not occurred since the last read of this register.
     1 - Indicates that the New Section Trace Message Interrupt has occurred since the last read of this register.
    NOTE: The user can read out the contents of the Receive Section Trace Message Buffer, which is located at Address
             Locations 0x0300 through 0x033F).
BIT 3 - Change in Section Trace Message Mismatch Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in Section Trace Mismatch Defect Condition
    interrupt has occurred since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate
    this interrupt in response to either of the following events.· Whenever the Receive STS-1/STS-3 TOH Processor block
    declares the Section Trace Message Mismatch defect condition· Whenever the Receive STS-1/STS-3 TOH Processor
    block clears the Section Trace Mismatch defect condition.
     0 - Indicates that the Change in Section Trace Message Mismatch Defect Condition interrupt has not occurred since
    the last read of this register.
     1 - Indicates that the Change in Section Trace Message Mismatch Defect Condition interrupt has occurred since the
    last read of this register.
    NOTE: The user can determine whether the Section Trace Message Mismatch condition is currently cleared or
             declared by reading the state of BIT 2 (Section Trace Message Mismatch Defect Declared) within the Receive
             STS-1/STS-3 Transport Status Register - Byte 1 (Address Location= 0x0206).
BIT 2 - Unused
BIT 1 - Change in K1, K2 Byte Unstable Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in K1, K2 Byte Unstable Defect Condition
    interrupt has occurred since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate
    this interrupt in response to either of the following events.
          •      Whenever the Receive STS-1/STS-3 TOH Processor block declares the K1, K2 Byte Unstable Defect
               condition.
          •    Whenever the Receive STS-1/STS-3 TOH Processor block clears the K1, K2 Byte Unstable Defect condition.
     0 - Indicates that the Change of K1, K2 Byte Unstable Defect Condition interrupt has NOT occurred since the last read
    of this register.
     1 - Indicates that the Change of K1, K2 Byte Unstable Defect Condition interrupt has occurred since the last read of
    this register.
    NOTE: The user can determine whether the K1, K2 Byte Unstable Defect Condition is currently being declared or
             cleared by reading out the contents of BIT 5 (K1, K2 Byte Unstable Defect Declared), within the Receive STS-
             1/STS-3 Transport Status Register - Byte 0 (Address Location= 0x0207).
BIT 0 - New K1, K2 Byte Value Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the New K1, K2 Byte Value Interrupt has occurred since the
    last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt whenever its has
    accepted a new set of K1, K2 byte values from the incoming STS-1/STS-3 data-stream
     0 - Indicates that the New K1, K2 Byte Value Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the New K1, K2 Byte Value Interrupt has occurred since the last read of this register.
    NOTE: The user can obtain the contents of the new K1 byte by reading out the contents of the Receive STS-1/STS-3
             Transport K1 Byte Value Register (Address Location= 0xN11F). Further, the user can also obtain the contents
             of the new K2 byte by reading out the contents of the Receive STS-1/STS-3 Transport K2 Byte Value Register
             (Address Location= 0x0223).
                                                                62


                                                                                                           XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 73: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                           0X020B)
      BIT 7            BIT 6           BIT 5         BIT 4           BIT 3          BIT 2            BIT 1            BIT 0
   Change of         Change of      Detection of Detection of     Detection of    Change of        Change of       Change of
   SF Defect         SD Defect      REI-L Event     B2 Byte         B1 Byte      LOF Defect       SEF Defect      LOS Defect
 ConditionIn-        Condition      Error Inter-  Error Inter-    Error Inter-    Condition      Interrupt Sta-    Condition
  terrupt Sta-     Interrupt Sta-   rupt Status   rupt Status     rupt Status   Interrupt Sta-         tus       Interrupt Sta-
       tus               tus                                                          tus                              tus
      RUR              RUR             RUR           RUR             RUR            RUR              RUR              RUR
        0                 0              0             0               0               0                0               0
BIT 7 - Change of Signal Failure (SF) Defect Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Change of SF Defect Condition Interrupt has occurred
     since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
     response to either of the following events.
           •    Whenever the Receive STS-1/STS-3 TOH Processor block declares the SF Defect Condition.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block clears the SF Defect Condition.
      0 - Indicates that the Change of SF Defect Condition Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Change of SF Defect Condition Interrupt has occurred since the last read of this register.
     NOTE: The user can determine whether or not the SF defect condition is currently being declared by reading out the
             state of BIT 4( SF Defect Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 0
             (Address Location= 0x0207).
BIT 6 - Change of Signal Degrade (SD) Defect Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Change of SD Defect Condition Interrupt has occurred
     since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
     response to either of the following events.
           •    Whenver the Receive STS-1/STS-3 TOH Processor block declares the SD Defect Condition.
           •   Whenever the Receive STS-1/STS-3 TOH Processor block clears the SD Defect Condition.
      0 - Indicates that the Change of SD Defect Condition Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Change of SD Defect Condition Interrupt has occurred since the last read of this register.
     NOTE: The user can determine whether or not the SD Defect condition is currently being declareds by reading out the
             state of BIT 3 (SD Defect Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 0
             (Address Location= 0x0207).
BIT 5 - Detection of REI-L (Line - Remote Error Indicator) Event Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Detection of REI-L Event Interrupt has occurred since the
     last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it detects
     an REI-L event within the incoming STS-1/STS-3 data-stream.
      0 - Indicates that the Detection of REI-L Event Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Detection of REI-L Event Interrupt has occurred since the last read of this register.
BIT 4 - Detection of B2 Byte Error Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Detection of B2 Byte Error Interrupt has occurred since
     the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it
     detects a B2 byte error within the incoming STS-1/STS-3 data-stream.
      0 - Indicates that the Detection of B2 Byte Error Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Detection of B2 Byte Error Interrupt has occurred since the last read of this register.
BIT 3 = Detection of B1 Byte Error Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the Detection of B1 Byte Error Interrupt has occurred since
     the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it
                                                               63


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    detects a B1 byte error within the incoming STS-1/STS-3 data-stream.
     0 - Indicates that the Detection of B1 Byte Error Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of B1 Byte Error Interrupt has occurred since the last read of this register
BIT 2 - Change of Loss of Frame (LOF) Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of LOF Defect Condition interrupt has occurred
    since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
    response to either of the following events.
         •     Whenever the Receive STS-1/STS-3 TOH Processor block declares the LOF Defect condition.
         •    Whenever the Receive STS-1/STS-3 TOH Processor block clears the LOF Defect condition.
     0 - Indicates that the Change of LOF Defect Condition interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Change of LOF Defect Condition interrupt has occurred since the last read of this register.
    NOTE: The user can determine whether or not the Receive STS-1/STS-3 TOH Processor block is currently declaring
            the LOF defect condition by reading out the state of BIT 2 (LOF Defect Declared) within the Receive STS-
            1/STS-3 Transport Status Register - Byte 0 (Address Location= 0x0207).
BIT 1 - Change of SEF Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of SEF Defect Condition Interrupt has occurred
    since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
    response to either of the following events.
         •    Whenever the Receive STS-1/STS-3 TOH Processor block declares the SEF defect condition.
         •    Whenever the Receive STS-1/STS-3 TOH Processor block clears the SEF defect condition.
     0 - Indicates that the Change of SEF Defect Condition Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Change of SEF Defect Condition Interrupt has occurred since the last read of this register.
    NOTE: The user can determine whether or not the Receive STS-1/STS-3 TOH Processor block is currently declaring
            the SEF defect condition by reading out the state of BIT 1 (SEF Defect Declared) within the Receive STS-
            1/STS-3 Transport Status Register - Byte 0 (Address Location= 0x0207).
BIT 0 - Change of Loss of Signal (LOS) Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of LOS Defect Condition interrupt has occurred
    since the last read of this register. The Receive STS-1/STS-3 TOH Processor block will generate this interrupt in
    response to either of the following events.
         •    Whenever the Receive STS-1/STS-3 TOH Processor block declares the LOS defect condition.
         •     Whenever the Receive STS-1/STS-3 TOH Processor block clears the LOS defect condition.
     0 - Indicates that the Change of LOS Defect Condition Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Change of LOS Defect Condition Interrupt has occurred since the last read of this register.
    NOTE: The user can determine whether or not the Receive STS-1/STS-3 TOH Processor block is currently declaring
            the LOS defect condition by reading out the contents of BIT 0 (LOS Defect Declared) within the Receive STS-
            1/STS-3 Transport Status Register - Byte 0 (Address Location= 0x0207).
  TABLE 74: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT ENABLE REGISTER - BYTE 2 (ADDRESS LOCATION=
                                                          0X020D)
     BIT 7           BIT 6            BIT 5         BIT 4           BIT 3          BIT 2            BIT 1            BIT 0
                                            Unused                                               Change of        Change of
                                                                                                AIS-LDefect      RDI-LDefect
                                                                                                 Condition        Condition
                                                                                                  Interrupt        Interrupt
                                                                                                   Enable           Enable
     R/O              R/O             R/O           R/O             R/O            R/O              R/W              R/W
       0               0                0             0               0              0                0                0
BIT [7:2] - Unused
                                                              64


                                                                                                       XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT 1- Change of AIS-L (Line AIS) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of AIS-L Defect Condition interrupt. If this
    interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the following conditions.
          •     When the Receive STS-1/STS-3 TOH Processor block declares the AIS-L defect condition.·
          •     When the Receive STS-1/STS-3 TOH Processor block clears the AIS-L defect condition.
     0 - Disables the Change of AIS-L Defect Condition Interrupt.
     1 - Enables the Change of AIS-L Defect Condition Interrupt.
BIT 0 - Change of RDI-L (Line Remote Defect Indicator) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of RDI-L Defect Condition interrupt. If this
    interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the following conditions.·
    When the Receive STS-1/STS-3 TOH Processor block declares the RDI-L defect condition.· When the Receive STS-
    1/STS-3 TOH Processor block clears the RDI-L defect condition.
     0 - Disables the Change of RDI-L Defect Condition Interrupt.
     1 - Enables the Change of RDI-L Defect Condition Interrupt.
  TABLE 75: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT ENABLE REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                            0X020E)
     BIT 7             BIT 6           BIT 5          BIT 4            BIT 3     BIT 2            BIT 1            BIT 0
 New S1 Byte        Change in       Change in     New Section      Change in    Unused         Change in       New K1K2
   Interrupt         S1 Byte          Section      Trace Mes-         Section                 K1, K2 Byte      Byte Value
    Enable           Unstable       Trace Mes-      sage Inter-    Trace Mes-                   Unstable         Interrupt
                   Defect Con-     sage Unsta-     rupt Enable      sage Mis-                 Defect Con-         Enable
                    ditionInter-    ble Defect                    match Defect                 ditionInter-
                   rupt Enable       Condition                      Condition                 rupt Enable
                                     Interrupt                       Interrupt
                                      Enable                          Enable
     R/W                R/W            R/W             R/W             R/W        R/O              R/W             R/W
        0                0               0              0                0         0                0                0
BIT 7 - New S1 Byte Value Interrupt Enable
    This READ/WRITE bit-field is used to enable or disable the New S1 Byte Value Interrupt.
    If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it
    receives and accepts a new S1 byte value. The Receive STS-1/STS-3 TOH Processor block will accept a new S1 byte
    after it has received it for 8 consecutive STS-1/STS-3 frames.
     0 - Disables the New S1 Byte Value Interrupt.
     1 - Enables the New S1 Byte Value Interrupt.
BIT 6 - Change in S1 Byte Unstable Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change in S1 Byte Unstable Defect Condition
    Interrupt..
    If the user enables this bit-field, then the Receive STS-1/STS-3 TOH Processor block will generate an interrupt in
    response to either of the following conditions
          •     When the Receive STS-1/STS-3 TOH Processor block declares the S1 Byte Unstable defect condition
          •     When the Receive STS-1/STS-3 TOH Processor block clears the S1 Byte Unstable defect condition.
     0 - Disables the Change in S1 Byte Unstable Defect Condition Interrupt.
     1 - Enables the Change in S1 Byte Unstable Defect Condition Interrupt.
BIT 5 - Change in Section Trace Message Unstable defect condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change in Section Trace Message Unstable Defect
    Condition Interrupt.
                                                                65


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
    If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate an interrupt in response
    to either of the following conditions.
          •     Whenever the Receive STS-1/STS-3 TOH Processor block declares the Section Trace Message Unstable
                defect condition.
          •     Whenever the Receive STS-1/STS-3 TOH Processor block clears the Section Trace Message Unstable
                defect condition.
     0 - Disable the Change of Section Trace Message Unstable defect condition Interrupt.
     1 - Enables the Change of Section Trace Message Unstable defect condition Interrupt.
BIT 4 - New Section Trace Message Interrupt Enable
    This READ/WRITE bit-field is used to enable or disable the New Section Trace Message interrupt.
    If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it
    receives and accepts a new Section Trace Message within the incoming STS-1/STS-3 data-stream. The Receive STS-
    1/STS-3 TOH Processor block will accept a new Section Trace Message after it has received it 3 (or 5) consecutive
    times.
     0 - Disables the New Section Trace Message Interrupt.
     1 - Enables the New Section Trace Message Interrupt.
BIT 2 - Unused
BIT 3 - Change in Section Trace Mismatch Defect Condition interrupt enable:
    This READ/WRITE bit-field is used to either enable or disable the Change in Section Trace Mismatch defect condition
    interrupt.
     If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate an interrupt in response
    to either of the following events.
          •      Whenever the Receive STS-1/STS-3 TOH Processor block declares the Section Trace Message Mismatch
                Defect condition.
          •     whenever the Receive STS-1/STS-3 TOH Processor block clears the Section Trace Message Mismatch
                defect condition.
    NOTE: The user can determine whether or not the Receive STS-1/STS-3 TOH Processor block is currently declaring
              the Section Trace Message Mismatch defect condition by reading the state of BIT 2 (Section Trace Message
              Mismatch Defect Condition Declared) within the Receive STS-1/STS-3 Transport Status Register - Byte 1
              (Address Location= 0x0206).
BIT 1 - Change of K1, K2 Byte Unstable Defect Condition - Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of K1, K2 Byte Unstable defect condition
    interrupt. If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate an Interrupt in
    response to either of the following events.a.Whenever the Receive STS-1/STS-3 TOH Processor block declares the K1,
    K2 Byte Unstable defect condition. b.Whenever the Receive STS-1/STS-3 TOH Processor block clears the K1, K2 Byte
    Unstable defect condition.
     0 - Disables the Change of K1, K2 Byte Unstable Defect Condition Interrupt.
     1 - Enables the Change of K1, K2 Byte Unstable Defect Condition Interrupt.
BIT 0 - New K1, K2 Byte Value Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the New K1, K2 Byte Value Interrupt. If this interrupt is
    enabled, then the Receive STS-1/STS-3 TOH Processor block will generate this interrupt anytime it receives and
    accepts a new K1, K2 byte value. The Receive STS-1/STS-3 TOH Processor block will accept a new K1, K2 byte value,
    after it has received it within 3 (or 5) consecutive STS-1/STS-3 frames.
     0 - Disables the New K1, K2 Byte Value Interrupt.
     1 - Enables the New K1, K2 Byte Value Interrupt.
                                                               66


                                                                                                          XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  TABLE 76: RECEIVE STS-1/STS-3 TRANSPORT INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                              0X020F)
     BIT 7             BIT 6            BIT 5           BIT 4           BIT 3        BIT 2           BIT 1           BIT 0
  Change of         Change of        Detection of   Detection of     Detection of Change of       Change of       Change of
  SF Defect-        SD Defect        REI-L Event      B2 Byte          B1 Byte    LOF Defect      SEF Defect     LOS Defect
  Condition         Condition         Interrupt      Error Inter-    Error Inter-  Condition       Condition       Condition
   Interrupt         Interrupt         Enable       rupt Enable      rupt Enable   Interrupt       Interrupt       Interrupt
    Enable            Enable                                                        Enable          Enable          Enable
     R/W                R/W             R/W             R/W              R/W         R/W             R/W             R/W
       0                 0                0               0               0            0               0               0
BIT 7 - Change of Signal Failure (SF) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of Signal Failure (SF) Defect Condition
    Interrupt. If this interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to any of the following
    events.
         •     Whenever the Receive STS-1/STS-3 TOH Processor block declares the SF defect condition.
         •    Whenever the Receive STS-1/STS-3 TOH Processor block clears the SF defect condition.
     0 - Disables the Change of SF Defect Condition Interrupt.
     1 - Enables the Change of SF Defect Condition Interrupt.
BIT 6 - Change of Signal Degrade (SD) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of Signal Degrade (SD) Defect Condition
    Interrupt. If this interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the
    following events.
         •     Whenever the Receive STS-1/STS-3 TOH Processor blolck declares the SD defect condition.
         •     Whenever the Receive STS-1/STS-3 TOH Processor block clears the SD defect condition.
     0 - Disables the Change of SD Defect Condition Interrupt.
     1 - Enables the Change of SD Defect Condition Interrupt.
BIT 5 - Detection of REI-L (Line - Remote Error Indicator) Event Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of REI-L Event interrupt. If this interrupt is
    enabled, then the XRT86SH328 will generate an interrupt anytime the Receive STS-1/STS-3 TOH Processor block
    detects an REI-L condition within the incoming STS-1/STS-3 data-stream.
     0 - Disables the Detection of REI-L Event Interrupt.
     1 - Enables the Detection of REI-L Event Interrupt.
BIT 4 - Detection of B2 Byte Error Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of B2 Byte Error Interrupt. If this interrupt
    is enabled, then the XRT86SH328 will generate an interrupt anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B2 byte error within the incoming STS-1/STS-3 data-stream.
     0 - Disables the Detection of B2 Byte Error Interrupt.
     1 - Enables the Detection of B2 Byte Error Interrupt.
BIT 3 - Detection of B1 Byte Error Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Detection of B1 Byte Error Interrupt. If this interrupt
    is enabled, then the XRT86SH328 will generate an interrupt anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B1 byte error within the incoming STS-1/STS-3 data-stream.
     0 - Disables the Detection of B1 Byte Error Interrupt.
     1 - Enables the Detection of B1 Byte Error Interrupt.
BIT 2 - Change of Loss of Frame (LOF) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of LOF Defect Condition interrupt. If this
                                                                  67


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the following conditions
         •    When the Receive STS-1/STS-3 TOH Processor block declares the LOF defect condition
         •     When the Receive STS-1/STS-3 TOH Processor block clears the LOF defect condition.
     0 - Disables the Change of LOF Defect Condition Interrupt.
     1 - Enables the Change of LOF Defect Condition Interrupt.
BIT 1 - Change of SEF Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of SEF Defect Condition Interrupt. If this
    interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the following conditions.
         •    When the Receive STS-1/STS-3 TOH Processor block declares the SEF defect condition.
         •     When the Receive STS-1/STS-3 TOH Processor block clears the SEF defect condition.
     0 - Disables the Change of SEF Defect Condition Interrupt.
     1 - Enables the Change of SEF Defect Condition Interrupt.
BIT 0 - Change of Loss of Signal (LOS) Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of LOF Defect Condition interrupt. If this
    interrupt is enabled, then the XRT86SH328 will generate an interrupt in response to either of the following conditions.
         •    When the Receive STS-1/STS-3 TOH Processor block declares the LOF defect condition.
         •    When the Receive STS-1/STS-3 TOH Processor block clears the LOF defect condition.
     0 - Disables the Change of LOF Defect Condition Interrupt.
     1 - Enables the Change of LOF Defect Condition Interrupt.
     TABLE 77: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS
                                                     LOCATION= 0X0210)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                  B1_Byte_Error_Count[31:24]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B1 Byte Error Count - MSB
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - B1 Byte Error Count Register - Bytes
    2 through 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B1 byte errorwithin the incoming STS-1/STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor Block is configured to count B1 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B1 byte (of each incoming
              STS-1/STS-3 frame) that are in error
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B1 byte.
     TABLE 78: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS
                                                     LOCATION= 0X0211)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                  B1_Byte_Error_Count[23:16]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
                                                                68


                                                                                                        XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:0] - B1 Byte Error Count (Bits 23 through 16)
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - B1 Byte Error Count Register - Bytes
    3, 1 and 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B1 byte error.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B1 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B1 byte.
     TABLE 79: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS
                                                     LOCATION= 0X0212)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                  B1_Byte_Error_Count[15:8]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B1 Byte Error Count - (Bits 15 through 8)
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - B1 Byte Error Count Register - Bytes
    3, 2 and 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B1 byte error.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B1 byte (of each incoming
              STS-1/STS-3 frame) that are in error
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B1 byte.
     TABLE 80: RECEIVE STS-1/STS-3 TRANSPORT - B1 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS
                                                     LOCATION= 0X0213)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                   B1_Byte_Error_Count[7:0]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B1 Byte Error Count - LSB
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - B1 Byte Error Count Register - Bytes
    3 through 1, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B1 byte error.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor Block is configured to count B1 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B1 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B1 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B1 byte.
                                                                69


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
     TABLE 81: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS
                                                     LOCATION= 0X0214)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                  B2_Byte_Error_Count[31:24]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B2 Byte Error Count - MSB
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - B2 Byte Error Count Register - Bytes
    2 through 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a B2 byte (or BIP-24) error within the incoming STS-1/STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B2 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B2 byte or errered BIP-24.
     TABLE 82: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS
                                                     LOCATION= 0X0215)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
     BIT 7           BIT 6             BIT 5           BIT 4          BIT 3            BIT 2        BIT 1         BIT 0
                                                  B2_Byte_Error_Count[23:16]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B2 Byte Error Count (Bits 23 through 16)
    This RESET-upon-READ register, along with Receive Transport - B2 Byte Error Count Register - Bytes 3, 1 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block detects a
    B2 byte or BIP-24 error within the incoming STS-1/STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B2 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-bit
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B2 byte or erred BIP-24.
     TABLE 83: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS
                                                     LOCATION= 0X0216)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2         BIT 1         BIT 0
                                                  B2_Byte_Error_Count[15:8]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR           RUR
       0               0                 0               0              0                0            0              0
BIT [7:0] - B2 Byte Error Count - (Bits 15 through 8)
                                                                70


                                                                                                          XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This RESET-upon-READ register, along with Receive Transport - B2 Byte Error Count Register - Bytes 3, 2 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block detects a
    B2 byte or BIP-24 error within the incoming STS-1/STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processror block is configured to count B2 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B2 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B2 byte or erred BIP-24.
     TABLE 84: RECEIVE STS-1/STS-3 TRANSPORT - B2 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS
                                                     LOCATION= 0X0217)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2          BIT 1          BIT 0
                                                   B2_Byte_Error_Count[7:0]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR            RUR
       0               0                 0               0              0                0              0             0
BIT [7:0] - B2 Byte Error Count - LSB
    This RESET-upon-READ register, along with Receive Transport - B2 Byte Error Count Register - Bytes 3 through 1,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block detects a
    B2 byte or BIP-24 error within the incoming STS-1/STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-bit
              basis, then it will increment this 32 bit counter by the number of bits, within the B2 byte (of each incoming
              STS-1/STS-3 frame) that are in error.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count B2 byte errors on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 frame that contains
              an erred B2 byte or erred BIP-24.
TABLE 85: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 3 (ADDRESS LOCATION =
                                                            0X0218)
     BIT 7           BIT 6             BIT 5          BIT 4           BIT 3           BIT 2          BIT 1          BIT 0
                                                   REI-L_Event_Count[31:24]
     RUR              RUR              RUR             RUR            RUR              RUR           RUR            RUR
       0               0                 0               0              0                0              0             0
BIT [7:0] - REI-L Event Count - MSB
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - REI-L Event Count Register - Bytes 2
    through 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a Line - Remote Error Indicator event within the incoming STS-1 or STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-bit basis,
              then it will increment this 32 bit counter by the nibble-value within the REI-L field of the M0 byte within each
              incoming STS-1/STS-3 frame.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1 or STS-3 frame that
              contains a non-zero REI-L value.
                                                                71


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
TABLE 86: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 2 (ADDRESS LOCATION=
                                                           0X0219)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3          BIT 2          BIT 1         BIT 0
                                                 REI-L_Event_Count[23:16]
     RUR             RUR              RUR            RUR           RUR             RUR            RUR           RUR
       0               0                0              0             0              0               0             0
BIT [7:0] - REI-L Event Count (Bits 23 through 16)
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - REI-L Event Count Register - Bytes 3,
    1 and 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a Line - Remote Error Indicator event within the incoming STS-1 or STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-bit basis,
              then it will increment this 32 bit counter by the nibble-value within the REI-L field of the M0 byte (or the
              contents within the M1 byte) within each incoming STS-1 (or STS-3) frame.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1 or STS-3 frame that
              contains a non-zero REI-L value.
TABLE 87: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                           0X021A)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3          BIT 2          BIT 1         BIT 0
                                                  REI-L_Event_Count[15:8]
     RUR             RUR              RUR            RUR           RUR             RUR            RUR           RUR
       0               0                0              0             0              0               0             0
BIT [7:0] - REI-L Event Count - (Bits 15 through 8)
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - REI-L Event Count Register - Bytes 3,
    2 and 0, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a Line -Remote Error Indicator event within the incoming STS-1 or STS-3 data-stream.
    NOTES:
              1. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-bit basis,
              then it will increment this 32 bit counter by the nibble-value within the REI-L field of the M0 byte (or the
              contents within the M1 byte) within each incoming STS-1 (or STS-3) frame.
              2. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-frame
              basis, then it will increment this 32 bit counter each time that it receives an STS-1 or STS-3 frame that
              contains a non-zero REI-L value.
TABLE 88: RECEIVE STS-1/STS-3 TRANSPORT - REI-L EVENT COUNT REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                           0X021B)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3          BIT 2          BIT 1         BIT 0
                                                  REI-L_Event_Count[7:0]
     RUR             RUR              RUR            RUR           RUR             RUR            RUR           RUR
       0               0                0              0             0              0               0             0
BIT [7:0] - REI-L Event Count - LSB
    This RESET-upon-READ register, along with Receive STS-1/STS-3 Transport - REI-L Event Count Register - Bytes 3
                                                             72


                                                                                                         XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    through 1, function as a 32 bit counter, which is incremented anytime the Receive STS-1/STS-3 TOH Processor block
    detects a Line - Remote Error Indicator event within the incoming STS-1 or STS-3 data-stream.
    NOTES:
               1. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-bit basis,
               then it will increment this 32 bit counter by the nibble-value within the REI-L field of the M0 byte (or the
               contents within the M1 byte) within each incoming STS-1 (or STS-3) frame.
               2. If the Receive STS-1/STS-3 TOH Processor block is configured to count REI-L events on a per-frame
               basis, then it will increment this 32 bit counter each time that it receives an STS-1 or STS-3 frame that
               contains a non-zero REI-L value.
  TABLE 89: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED K1 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                            0X021F)
     BIT 7            BIT 6            BIT 5          BIT 4         BIT 3          BIT 2            BIT 1         BIT 0
                                                 Filtered_K1_Byte_Value[7:0]
     R/O               R/O             R/O             R/O          R/O             R/O              R/O           R/O
       0                0                0              0             0              0                0              0
BIT [7:0]Filtered/Accepted K1 Byte Value
    These READ-ONLY bit-fields contain the value of the most recently filtered K1 byte value that the Receive STS-1/STS-
    3 TOH Processor block has received. These bit-fields are valid if the K1/K2 pair (to which it belongs) has been received
    for 3 consecutive STS-1 or STS-3 frames.
    This register should be polled by Software in order to determine various APS codes.
  TABLE 90: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED K2 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                            0X0223)
     BIT 7            BIT 6            BIT 5          BIT 4         BIT 3          BIT 2            BIT 1         BIT 0
                                                 Filtered_K2_Byte_Value[7:0]
     R/O               R/O             R/O             R/O          R/O             R/O              R/O           R/O
       0                0                0              0             0              0                0              0
BIT [7:0]Filtered/Accepted K2 Byte Value
    These READ-ONLY bit-fields contain the value of the most recently filtered K2 Byte value that the Receive STS-1/STS-
    3 TOH Processor block has received. These bit-fields are valid if the K1/K2 pair (to which it belongs) has been received
    for 3 consecutive STS-1 or STS-3 frames.
    This register should be polled by Software in order to determine various APS codes.
  TABLE 91: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVED S1 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                            0X0227)
     BIT 7            BIT 6            BIT 5          BIT 4         BIT 3          BIT 2            BIT 1         BIT 0
                                                 Filtered_S1_Byte_Value[7:0]
     R/O               R/O             R/O             R/O          R/O             R/O              R/O           R/O
       0                0                0              0             0              0                0              0
BIT [7:0] - Filtered/Accepted S1 Byte Value
    These READ-ONLY bit-fields contain the value of the most recently filtered S1 byte value that the Receive STS-1/STS-
    3 TOH Processor block has received. These bit-fields are valid if it has been received for 8 consecutive STS-1 or STS-
    3 frames.
                                                              73


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
 TABLE 92: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE IN-SYNC THRESHOLD REGISTER (ADDRESS = 0X022B)
     BIT7            BIT6            BIT 5          BIT 4           BIT 3          BIT 2          BIT 1           BIT 0
                    Unused                            FRPATOUT[1:0]                     FRPATIN[1:0]             Unused
     R/O              R/O            R/O             R/W            R/W             R/W            R/W             R/O
       0               0               0              0               0               0              0              0
BIT [7:5] - Unused
BIT [4:3] - FRPATOUT[1:0]
    These bits allow software to select from 3 different framing algorithms when the framer is trying to detect SEF (OOF).
     00, 01 - 16-Bits (Last A1 byte + First A2 byte)
     10 - 32-Bits (Last two A1 bytes + First two A2 bytes)
     11 - 48-Bits (Last three A1 bytes + First three A2 bytes)
BIT [2:1] - FRPATIN[1:0]
    These bits allow software to specify the algorithm used to check for frame synchronization patterns (A1/A2).
     00, 01 - 16-Bits (Last A1 byte + First A2 byte)
     10 - 32-Bits (Last two A1 bytes + First two A2 bytes)
     11 - 48-Bits (Last three A1 bytes + First three A2 bytes)
BIT 0 - Unused
TABLE 93: RECEIVE STS-1/STS-3 TRANSPORT - LOS THRESHOLD VALUE - MSB (ADDRESS LOCATION= 0X022E)
     BIT 7           BIT 6           BIT 5          BIT 4           BIT 3          BIT 2          BIT 1           BIT 0
                                                  LOS_THRESHOLD[15:8]
     R/W              R/W            R/W             R/W            R/W             R/W            R/W             R/W
       1               1               1              1               1               1              1              1
BIT [7:0] - LOS Threshold Value - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - LOS Threshold Value - LSB
    register is used specify the number of consecutive (All Zero) bytes that the Receive STS-1/STS-3 TOH Processor block
    must detect (within the incoming STS-1/STS-3 data-stream) before it can declare the LOS defect condition.
    NOTE: This register contains the MSB (Most Significant Byte) of this 16-bit expression.
 TABLE 94: RECEIVE STS-1/STS-3 TRANSPORT - LOS THRESHOLD VALUE - LSB (ADDRESS LOCATION= 0X022F)
     BIT 7           BIT 6           BIT 5          BIT 4           BIT 3          BIT 2          BIT 1           BIT 0
                                                   LOS_THRESHOLD[7:0]
     R/W              R/W            R/W             R/W            R/W             R/W            R/W             R/W
       1               1               1              1               1               1              1              1
BIT [7:0] - LOS Threshold Value - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - LOS Threshold Value - MSB
    register is used to specify the number of consecutive (All Zero) bytes that the Receive STS-1/STS-3 TOH Processor
    block must detect (within the incoming STS-1/STS-3 data-stream) before it can declare the LOS defect condition.
    NOTE: This register contains the LSB (Least Significant Byte) of this 16-bit expression.
                                                             74


                                                                                                         XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    TABLE 95: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 2 (ADDRESS
                                                   LOCATION= 0X0231)
     BIT 7           BIT 6           BIT 5         BIT 4              BIT 3         BIT 2           BIT 1          BIT 0
                                           SF_SET_MONITOR_WINDOW[23:16]
     R/W              R/W            R/W            R/W                R/W           R/W             R/W           R/W
       1               1               1             1                  1             1               1               1
BIT [7:0] - SF_SET_MONITOR_INTERVAL - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF SET Monitor Interval - Byte
    1 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure)
    Defect Declaration.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1/STS-3 signal in order to
    determine if it should declare the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SF Defect Declaration monitoring period. If, during this SF Defect Declaration Monitoring Period, the Receive
    STS-1/STS-3 TOH Processor block accumulates more B2 byte (or BIP-24) errors than that specified within the Receive
    Transport SF SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare the SF defect
    condition.
    NOTES:
              1. The value that the user writes into these three (3) SF Set Monitor Window registers, specifies the
              duration of the SF Defect Declaration Monitoring Period, in terms of ms.
              2. This particular register byte contains the MSB (most significant byte) value of the three registers that
              specify the SF Defect Declaration Monitoring Period.
    TABLE 96: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 1 (ADDRESS
                                                   LOCATION= 0X0232)
     BIT 7           BIT 6           BIT 5         BIT 4              BIT 3         BIT 2           BIT 1          BIT 0
                                           SF_SET_MONITOR_WINDOW[15:8]
     R/W              R/W            R/W            R/W                R/W           R/W             R/W           R/W
       1               1               1             1                  1             1               1               1
BIT [7:0] - SF_SET_MONITOR_INTERVAL (Bits 15 through 8)
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF SET Monitor Interval - Byte
    2 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure)
    Defect Declaration.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1/STS-3 signal in order to
    determine if it should declare the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SF Defect Declaration Monitoring Period. If, during this SF Defect Declaration Monitoring Period the Receive
    STS-1/STS-3 TOH Processor block accumulate more B2 byte (or BIP-24) errors than that specified within the Receive
    STS-1/STS-3 Transport SF SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare
    the SF defect condition.
    NOTE: The value that the user writes into these three (3) SF Set Monitor Window registers, specifies the duration of
            the SF Defect Declaration Monitoring Period, in terms of ms.
                                                               75


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
      TABLE 97: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET MONITOR INTERVAL - BYTE 0 (ADDRESS
                                                       LOCATION= 0X0233)
       BIT 7            BIT 6          BIT 5            BIT 4         BIT 3           BIT 2          BIT 1           BIT 0
                                              SF_SET_MONITOR_WINDOW[7:0]
        R/W             R/W             R/W             R/W           R/W              R/W           R/W              R/W
         1                1              1                1             1                1             1               1
BIT [7:0] - SF_SET_MONITOR_INTERVAL - LSB
These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF SET Monitor Interval - Byte 2 and
Byte 1 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure) Defect Dec-
laration.
When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1/STS-3 signal in order to determine
if it should declare the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-specified SF
Defect Declaration Monitoring Period. If, during this SF Defect Declaration Monitoring Period, the Receive STS-1/STS-3
TOH Processor block accumulates more B2 byte (or BIP-24) errors than that specified within the Receive STS-1/STS-3
Transport SF SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare the SF defect con-
dition.
       NOTES:
                 1. The value that the user writes into these three (3) SF Set Monitor Window registers, specifies the
                 duration of the SF Defect Declaration Monitoring Period, in terms of ms.
                 2. This particular register byte contains the LSB (least significant byte) value of the three registers that
                 specify the SF Defect Declaration Monitoring period.
   TABLE 98: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET THRESHOLD - BYTE 1 (ADDRESS LOCATION=
                                                              0X0236)
       BIT 7            BIT 6          BIT 5            BIT 4         BIT 3           BIT 2          BIT 1           BIT 0
                                                  SF_SET_THRESHOLD[15:8]
        R/W             R/W             R/W             R/W           R/W              R/W           R/W              R/W
         1                1              1                1             1                1             1               1
BIT [7:0] - SF_SET_THRESHOLD - MSB
       These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF SET Threshold - Byte 0
       registers are used to specify the number of B2 byte (or BIP-24) errors that will cause the Receive STS-1/STS-3 TOH
       Processor block to declare the SF (Signal Failure) Defect condition.
       When the Receive STS-1/STS-3 TOH Processor block is checking for declaring the SF defect condition, it will
       accumulate B2 byte (or BIP-24) errors throughout the SF Defect Declaration Monitoring Period. If the number of
       accumulated B2 byte (or BIP-24) errors exceeds that value, which is programmed into this and the Receive STS-1/STS-
       3 Transport SF SET Threshold - Byte 0 register, then the Receive STS-1/STS-3 TOH Processor block will declare the
       SF defect condition.
       NOTE: This particular register byte contains the MSB (most significant byte) value of this 16-bit expression.
   TABLE 99: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF SET THRESHOLD - BYTE 0 (ADDRESS LOCATION=
                                                              0X0237)
       BIT 7            BIT 6          BIT 5            BIT 4         BIT 3           BIT 2          BIT 1           BIT 0
                                                   SF_SET_THRESHOLD[7:0]
        R/W             R/W             R/W             R/W           R/W              R/W           R/W              R/W
         1                1              1                1             1                1             1               1
                                                                76


                                                                                                          XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:0] - SF_SET_THRESHOLD - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF SET Threshold - Byte 1
    registers are used to specify the number of B2 byte (or BIP-24) errors that will cause the Receive STS-1/STS-3 TOH
    Processor block to declare the SF (Signal Failure) Defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for declaring the SF defect condition, it will
    accumulate B2 byte (or BIP-24) errors throughout the SF Defect Monitoring Period. If the number of accumulated B2
    byt (or BIP-24)e errors exceeds that which has been programmed into this and the Receive STS-1/STS-3 Transport SF
    SET Threshold - Byte 1 register, then the Receive STS-1/STS-3 TOH Processor block will declare the SF defect
    condition.
     TABLE 100: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR THRESHOLD - BYTE 1 (ADDRESS
                                                    LOCATION= 0X023A)
     BIT 7          BIT 6            BIT 5           BIT 4          BIT 3          BIT 2           BIT 1           BIT 0
                                               SF_CLEAR_THRESHOLD[15:8]
     R/W             R/W              R/W             R/W           R/W             R/W             R/W             R/W
       1              1                1                1             1               1              1               1
BIT [7:0] - SF_CLEAR_THRESHOLD - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF CLEAR Threshold - Byte 0
    registers are used to specify the upper limit for the number of B2 byte (or BIP-24) errors that will cause the Receive
    STS-1/STS-3 TOH Processor block to clear the SF (Signal Failure) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for clearing the SF defect condition, it will accumulate
    B2 byte (or BIP-24) errors throughout the SF Defect Clearance Monitoring Period. If the number of accumulated B2
    byte (or BIP-24) errors is less than that programmed into this and the Receive STS-1/STS-3 Transport SF CLEAR
    Threshold - Byte 0 register, then the Receive STS-1/STS-3 TOH Processor block clear the SF defect condition.
     TABLE 101: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR THRESHOLD - BYTE 0 (ADDRESS
                                                    LOCATION= 0X023B)
     BIT 7          BIT 6            BIT 5           BIT 4          BIT 3          BIT 2           BIT 1           BIT 0
                                               SF_CLEAR_THRESHOLD[7:0]
     R/W             R/W              R/W             R/W           R/W             R/W             R/W             R/W
       1              1                1                1             1               1              1               1
BIT [7:0] - SF_CLEAR_THRESHOLD - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF CLEAR Threshold - Byte 1
    registers are used to specify the upper limit for the number of B2 byte (or BIP-24) errors that will cause the Receive
    STS-1/STS-3 TOH Processor block to clear the SF (Signal Failure) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for clearing the SF defect condition, it will accumulate
    B2 byte (or BIP-24) errors throughout the SF Defect Clearance Monitoring Period. If the number of accumulated B2
    byte (or BIP-24) errors is less than that programmed into this and the Receive STS-1/STS-3 Transport SF CLEAR
    Threshold - Byte 1 register, then the Receive STS-1/STS-3 TOH Processor block will clear the SF defect condition.
   TABLE 102: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 2 (ADDRESS
                                                    LOCATION= 0X023D)
     BIT 7          BIT 6            BIT 5           BIT 4          BIT 3          BIT 2           BIT 1           BIT 0
                                           SD_SET_MONITOR_WINDOW[23:16]
     R/W             R/W              R/W             R/W           R/W             R/W             R/W             R/W
       0              0                0                0             0               0              0               0
                                                             77


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
BIT [7:0] - SD_SET_MONITOR_INTERVAL - MSB
These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD SET Monitor Interval - Byte 1
and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade) defect
declaration.
When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to deter-
mine if it should declare the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-specified
SD Defect Declaration monitoring period. If, during this SD Defect Declaration Monitoring period, the Receive STS-1/STS-
3 TOH Processor block accumulates more B2 byte (or BIP-24) errors than that specified within the Receive STS-1/STS-3
Transport SD SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare the SD defect con-
dition.
     NOTES:
               1. The value that the user writes into these three (3) SD Set Monitor Window registers, specifies the
               duration of the SD Defect Declaration Monitoring Period, in terms of ms.
               2. This particular register byte contains the MSB (Most significant byte) value of the three registers that
               specify the SD Defect Declaration Monitoring Period.
    TABLE 103: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 1 (ADDRESS
                                                     LOCATION= 0X023E)
      BIT 7           BIT 6           BIT 5           BIT 4            BIT 3         BIT 2           BIT 1          BIT 0
                                            SD_SET_MONITOR_WINDOW[15:8]
      R/W              R/W            R/W              R/W             R/W            R/W             R/W            R/W
        0               0               0                0               0             0               0               0
BIT [7:0] - SD_SET_MONITOR_INTERVAL - Bits 15 through 8
     These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD SET Monitor Interval - Byte
     2 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade)
     defect declaration.
     When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
     determine it it should declare the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
     specified SD Defect Declaration Monitoring Period. If, during this SD Defect Declaration Monitoring Period the Receive
     STS-1/STS-3 TOH Processor block accumulates more B2 byte (or BIP-24) errors than that specified within the Receive
     STS-1/STS-3 Transport SD SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare
     the SD defect condition.
     NOTE: The value that the user writes into these three (3) SD Set Monitor Window registers, specifies the duration of
             the SD Defect Declaration Monitoring Period, in terms of ms.
    TABLE 104: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET MONITOR INTERVAL - BYTE 0 (ADDRESS
                                                     LOCATION= 0X023F)
      BIT 7           BIT 6           BIT 5           BIT 4            BIT 3         BIT 2           BIT 1          BIT 0
                                            SD_SET_MONITOR_WINDOW[7:0]
      R/W              R/W            R/W              R/W             R/W            R/W             R/W            R/W
        0               0               0                0               0             0               0               0
BIT [7:0] - SD_SET_MONITOR_INTERVAL - LSB
     These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD SET Monitor Interval - Byte
     2 and Byte 1 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade)
     defect declaration.
     When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
     determine if it should declare the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
     speciifed SD Defect Declaration Monitoring Period. If, during this SD Defect Declaration Monitoring Period, the Receive
     STS-1/STS-3 TOH Processor block accmulattes more B2 byte (or BIP-24) errors than that specified within the Receive
                                                                78


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    STS-1/STS-3 Transport SD SET Threshold register, then the Receive STS-1/STS-3 TOH Processor block will declare
    the SD defect condition.
    NOTES:
              1. The value that the user writes into these three (3) SD Set Monitor Window registers, specifies the
              duration of the SD Defect Declaration Monitoring Period, in terms of ms.
              2. This particular register byte contains the LSB (least significant byte) value of the three registers that
              specify the SD Defect Declaration Monitoring period.
TABLE 105: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET THRESHOLD - BYTE 1 (ADDRESS LOCATION=
                                                         0X0242)
     BIT 7           BIT 6          BIT 5          BIT 4          BIT 3            BIT 2          BIT 1        BIT 0
                                              SD_SET_THRESHOLD[15:8]
     R/W             R/W             R/W           R/W             R/W              R/W           R/W           R/W
       1               1              1              1              1                 1             1            1
BIT [7:0] - SD_SET_THRESHOLD - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD SET Threshold - Byte 0
    registers are used to specify the number of B2 byte (or BIP-24) errors that will cause the Receive STS-1/STS-3 TOH
    Processor block to declare the SD (Signal Degrade) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for declaring the SD defect condition, it will
    accumulate B2 byte (or BIP-24) errors throughout the SD Defect Declaration Monitoring Period. If the number of
    accumulated B2 byte (or BIP-24) errors exceeds that value, which is programmed into this and the Receive STS-1/STS-
    3 Transport SD SET Threshold - Byte 0 register, then the Receive STS-1/STS-3 TOH Processor block will declare the
    SD defect condition.
TABLE 106: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD SET THRESHOLD - BYTE 0 (ADDRESS LOCATION=
                                                         0X0243)
     BIT 7           BIT 6          BIT 5          BIT 4          BIT 3            BIT 2          BIT 1        BIT 0
                                               SD_SET_THRESHOLD[7:0]
     R/W             R/W             R/W           R/W             R/W              R/W           R/W           R/W
       1               1              1              1              1                 1             1            1
BIT [7:0] - SD_SET_THRESHOLD - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD SET Threshold - Byte 1
    registers are used to specify the number of B2 byte (or BIP-24) errors that will cause the Receive STS-1/STS-3 TOH
    Processor block to declare an SD (Signal Degrade) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for declaring the SD defect condition, it will
    accumulate B2 byte (or BIP-24) errors throughout the SD Defect Monitoring Period. If the number of accumulated B2
    byte (or BIP-24) errors exceeds that which has been programmed into this and the Receive STS-1/STS-3 Transport SD
    SET Threshold - Byte 1 register, then the Receive STS-1/STS-3 TOH Processor block will declare the SD defect
    condition.
     TABLE 107: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR THRESHOLD - BYTE 1 (ADDRESS
                                                  LOCATION= 0X0246)
     BIT 7           BIT 6          BIT 5          BIT 4          BIT 3            BIT 2          BIT 1        BIT 0
                                             SD_CLEAR_THRESHOLD[15:8]
     R/W             R/W             R/W           R/W             R/W              R/W           R/W           R/W
       1               1              1              1              1                 1             1            1
                                                            79


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
BIT [7:0] - SD_CLEAR_THRESHOLD - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD CLEAR Threshold - Byte 0
    registers are used to specify the upper limit for the number of B2 byte (or BIP-24) errors that will cause the Receive
    STS-1/STS-3 TOH Processor block to clear the SD (Signal Degrade) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for clearing the SD defect condition, it will
    accumulate B2 byte (or BIP-24) errors throughout the SD Defect Clearance Monitoring Period. If the number of
    accumulated B2 byte (or BIP-24) errors is less than that programmed into this and the Receive STS-1/STS-3 Transport
    SD CLEAR Threshold - Byte 0 register, then the Receive STS-1/STS-3 TOH Processor block will clear the SD defect
    condition.
     TABLE 108: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR THRESHOLD - BYTE 1 (ADDRESS
                                                      LOCATION= 0X0247)
     BIT 7           BIT 6             BIT 5          BIT 4         BIT 3          BIT 2           BIT 1           BIT 0
                                                  SD_CLEAR_THRESHOLD[7:0]
     R/W              R/W               R/W            R/W          R/W             R/W             R/W             R/W
       1                1                 1              1            1              1               1               1
BIT [7:0] - SD_CLEAR_THRESHOLD - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD CLEAR Threshold - Byte 1
    registers are used to specify the upper limit for the number of B2 byte (or BIP-24) errors that will cause the Receive
    STS-1/STS-3 TOH Processor block to clear the SD (Signal Degrade) defect condition.
    When the Receive STS-1/STS-3 TOH Processor block is checking for clearing the SD defect condition, it will
    accumulate B2 byte (or BIP-24) errors throughout the SD Defect Clearance Monitoring Period. If the number of
    accumulated B2 byte (or BIP-24) errors is less than that programmed into this and the Receive STS-1/STS-3 Transport
    SD CLEAR Threshold - Byte 1 register, then the Receive STS-1/STS-3 TOH Processor block will clear the SD defect
    condition.
     TABLE 109: RECEIVE STS-1/STS-3 TRANSPORT - FORCE SEF DEFECT CONDITION REGISTER (ADDRESS
                                                     LOCATION= 0X024B)
     BIT 7           BIT 6             BIT 5          BIT 4         BIT 3          BIT 2           BIT 1           BIT 0
                                                     Unused                                                     SEF FORCE
     R/O              R/O               R/O            R/O          R/O             R/O             R/O             R/W
       0                0                 0              0            0              0               0               0
BIT [7:1] - Unused
BIT 0 - SEF Defect Condition FORCE
    This READ/WRITE bit-field is used to force the Receive STS-1/STS-3 TOH Processor block (within the corresponding
    Channel) to declare the SEF defect condition. The Receive STS-1/STS-3 TOH Processor block will then attempt to
    reacquire framing.
    Writing a 1 into this bit-field configures the Receive STS-1/STS-3 TOH Processor block to declare the SEF defect. The
    Receive STS-1/STS-3 TOH Processor block will automatically set this bit-field to 0 once it has reacquired framing (e.g.,
    has detected two consecutive STS-1 or STS-3 frames with the correct A1 and A2 bytes).
                                                              80


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     TABLE 110: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SECTION TRACE MESSAGE BUFFER CONTROL
                                       REGISTER (ADDRESS LOCATION= 0X024F)
    BIT 7           BIT 6        BIT 5          BIT 4            BIT 3           BIT 2            BIT 1          BIT 0
                   Unused                   Receive Sec-    Receive Sec-    Section Trace     Receive Section Trace Mes-
                                             tion Trace       tion Trace       Message              sage Length[1:0]
                                              Message          Message        Alignment
                                            Buffer Read         Accept           Type
                                                Select        Threshold
     R/O             R/O          R/O            R/W             R/W             R/W              R/W             R/W
       0              0            0              0                0               0                0               0
BIT [7:5] - Unused
BIT 4 - Receive Section Trace Message Buffer Read Selection
    This READ/WRITE bit-field is used to specify which of the following Receive Section Trace Message buffer segments
    to read.
          •    The Actual Receive Section Trace Message Buffer which contains the contents of the most recently received
               (and accepted) Section Trace Message via the incoming STS-1 or STS-3 data-stream.
          •     The Expected Receive Section Trace Message Buffer which contains the contents of the Section Trace
               Message that the user expects to receive. The contents of this particular buffer are usually specified by the
               user.
     0 - Executing a READ to the Receive Section Trace Message Buffer address space, will return contents within the
    Actual Receive Section Trace Message buffer.
     1 - Executing a READ to the Receive Section Trace Message Buffer address space will return contents within the
    Expected Receive Section Trace Message Buffer.
    NOTE: In the case of the Receive STS-3 TOH Processor block, the Receive Section Trace Message Buffer is located
             at Address Location 0x0300 through 0x033F.
BIT 3 - Receive Section Trace Message Accept Threshold
    This READ/WRITE bit-field is used to select the number of consecutive times that the Receive STS-1/STS-3 TOH
    Processor block must receive a given Section Trace Message, before it is accepted, as described below. Once a given
    Section Trace Message has been accepted then it can be read out of the Actual Receive Section Trace Message Buffer.
     0 - The Receive STS-1/STS-3 TOH Processor block accepts the Section Trace Message after it has received it the
    third time in succession.
     1 - The Receive STS-1/STS-3 TOH Processor block accepts the Section Trace Message after it has received in the
    fifth time in succession.
BIT 2 - Section Trace Message Alignment Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1/STS-3 TOH Processor block will locate the
    boundary of the Section Trace Message within the incoming STS-1 or STS-3 data-stream, as indicated below.
     0 - Message boundary is indicated by Line Feed.
     1 - Message boundary is indicated by the presence of a 1 in the MSB of the first byte (within the Section Trace
    Message).
BIT [1:0] - Receive Section Trace Message Length[1:0]
    These READ/WRITE bit-fields are used to specify the length of the Section Trace Message that the Receive STS-
    1/STS-3 TOH Processor block will receive. The relationship between the content of these bit-fields and the
    corresponding Receive Section Trace Message Length is presented below
                                                           81


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    Trace Message Length
        RECEIVE SECTION TRACE MESSAGE              RESULTING RECEIVE SECTION TRACE MESSAGE LENGTH (IN TERMS OF
                    LENGTH[1:0]                                                   BYTES)
                         00                                                        1 Byte
                         01                                                      16 Bytes
                       10/11                                                     64 Bytes
  TABLE 111: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD BURST ERROR TOLERANCE - BYTE 1 (ADDRESS
                                                     LOCATION= 0X0252)
     BIT 7           BIT 6           BIT 5            BIT 4          BIT 3            BIT 2           BIT 1          BIT 0
                                              SD_BURST_TOLERANCE[15:8]
     R/W             R/W              R/W             R/W             R/W             R/W              R/W            R/W
       1               1               1                1               1                1              1               1
BIT [7:0] - SD_BURST_TOLERANCE - MSB
    These READ/WRITE bits, along with the contents of the Receive STS-1/STS-3 Transport - SD BURST Tolerance - Byte
    0 registers are used to specify the maximum number of B2 byte (or BIP-24) errors that the corresponding Receive STS-
    1/STS-3 TOH Processor block can accumulate during a single Sub-Interval period (e.g., an STS-1 or STS-3 frame
    period), when determining whether or not to declare the SD (Signal Degrade) defect condition.
    NOTE: The purpose of this feature is to are used to provide some level of B2 error burst filtering, when the Receive
            STS-1/STS-3 TOH Processor block is accumulating B2 byte (or BIP-24) errors in order to declare the SD defect
            condition. The user can implement this feature in order to configure the Receive STS-1/STS-3 TOH Processor
            block to detect B2 bit errors in multiple Sub-Interval periods before it will declare the SD defect condition.
  TABLE 112: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD BURST ERROR TOLERANCE - BYTE 0 (ADDRESS
                                                     LOCATION= 0X0253)
     BIT 7           BIT 6           BIT 5            BIT 4          BIT 3            BIT 2           BIT 1          BIT 0
                                               SD_BURST_TOLERANCE[7:0]
     R/W             R/W              R/W             R/W             R/W             R/W              R/W            R/W
       1               1               1                1               1                1              1               1
BIT [7:0] - SD_BURST_TOLERANCE - LSB
    These READ/WRITE bits, along with the contents of the Receive STS-1/STS-3 Transport - SD BURST Tolerance - Byte
    1 registers are used to specify the maximum number of B2 byte (or BIP-24) errors that the corresponding Receive STS-
    1/STS-3 TOH Processor block can accumulate during a single Sub-Interval period (e.g., an STS-1 or STS-3 frame
    period), when determining whether or not to declare the SD (Signal Degrade) defect condition.
    NOTE: The purpose of this feature is to are used to provide some level of B2 error burst filtering, when the Receive
            STS-1/STS-3 TOH Processor block is accumulating B2 byte (or BIP-24) errors in order to declare the SD defect
            condition. The user can implement this feature in order to configure the Receive STS-1/STS-3 TOH Processor
            block to detect B2 bit errors in multiple Sub-Interval periods before it will declare the SD defect condition.
                                                               82


                                                                                                           XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  TABLE 113: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF BURST ERROR TOLERANCE - BYTE 1 (ADDRESS
                                                     LOCATION= 0X0256)
     BIT 7           BIT 6           BIT 5            BIT 4           BIT 3           BIT 2           BIT 1          BIT 0
                                               SF_BURST_TOLERANCE[15:8]
     R/W              R/W             R/W             R/W             R/W             R/W              R/W            R/W
       1               1               1                1               1                1              1               1
BIT [7:0] - SF_BURST_TOLERANCE - MSB
    These READ/WRITE bits, along with the contents of the Receive STS-1/STS-3 Transport - SF BURST Tolerance - Byte
    0 registers are used to specify the maximum number of B2 byte (or BIP-24) errors that the corresponding Receive STS-
    1/STS-3 TOH Processor block can accumulate during a single Sub-Interval period (e.g., an STS-1 or STS-3 frame
    period), when determining whether or not to declare the SF (Signal Failure) defect condition.
    NOTE: The purpose of this feature is to are used to provide some level of B2 error burst filtering, when the Receive
            STS-1/STS-3 TOH Processor block is accumulating B2 byte (or BIP-24) errors in order to declare the SF defect
            condition. The user can implement this feature in order to configure the Receive STS-1/STS-3 TOH Processor
            block to detect B2 bit errors in multiple Sub-Interval periods before it will declare the SF defect condition.
  TABLE 114: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF BURST ERROR TOLERANCE - BYTE 0 (ADDRESS
                                                     LOCATION= 0X0257)
     BIT 7           BIT 6           BIT 5            BIT 4           BIT 3           BIT 2           BIT 1          BIT 0
                                               SF_BURST_TOLERANCE[7:0]
     R/W              R/W             R/W             R/W             R/W             R/W              R/W            R/W
       1               1               1                1               1                1              1               1
BIT [7:0] - SF_BURST_TOLERANCE - LSB
    These READ/WRITE bits, along with the contents of the Receive STS-1/STS-3 Transport - SF BURST Tolerance - Byte
    1 registers are used to specify the maximum number of B2 byte (or BIP-24)errors that the corresponding Receive STS-
    1/STS-3 TOH Processor block can accumulate during a single Sub-Interval period (e.g., an STS-1 or STS-3 frame
    period), when determining whether or not to declare the SF (Signal Failure) defect condition.
    NOTE: The purpose of this feature is to are used to provide some level of B2 error burst filtering, when the Receive
            STS-1/STS-3 TOH Processor block is accumulating B2 byte (or BIP-24) errors in order to declare the SF defect
            condition. The user can implement this feature in order to configure the Receive STS-1/STS-3 TOH Processor
            block to detect B2 bit errors in multiple Sub-Interval periods before it will declare the SF defect condition.
  TABLE 115: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 2 (ADDRESS
                                                     LOCATION= 0X0259)
     BIT 7           BIT 6           BIT 5            BIT 4           BIT 3           BIT 2           BIT 1          BIT 0
                                          SD_CLEAR_MONITOR_WINDOW[23:16]
     R/W              R/W             R/W             R/W             R/W             R/W              R/W            R/W
       1               1               1                1               1                1              1               1
BIT [7:0] - SD_CLEAR_MONITOR_INTERVAL - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD Clear Monitor Interval - Byte
    1 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade)
    defect clearance.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
    determine if it should clear the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SD Defect Clearance Monitoring period. If, during this SD Defect Clearance Monitoring period, the Receive
                                                               83


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
    STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
    STS-1/STS-3 Transport SD Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor block will clear
    the SD defect condition.
    NOTES:
              1. The value that the user writes into these three (3) SD Clear Monitor Window Registers, specifies the
              duration of the SD Defect Clearance Monitoring Period, in terms of ms.
              2. This particular register byte contains the MSB (Most significant byte) value of the three registers that
              specifiy the SD Defect Clearance Monitoring period.
  TABLE 116: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 1 (ADDRESS
                                                  LOCATION= 0X025A)
     BIT 7           BIT 6           BIT 5          BIT 4             BIT 3         BIT 2           BIT 1          BIT 0
                                          SD_CLEAR_MONITOR_WINDOW[15:8]
     R/W              R/W            R/W            R/W               R/W           R/W             R/W             R/W
       1                1              1              1                 1             1               1              1
BIT [7:0] - SD_CLEAR_MONITOR_INTERVAL - Bits 15 through 8
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD Clear Monitor Interval - Byte
    2 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade)
    defect clearance.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
    determine if it should clear the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SD Defect Clearance Monitoring period. If, during this SD Defecf Clearance Monitoring Period, the Receive
    STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
    STS-1/STS-3 Transport SD Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor block will clear
    the SD defect condition.
    NOTE: The value that the user writes into these three (3) SD Clear Monitor Window Registers, specifies the duration of
            the SD Defect Clearance Monitoring Period, in terms of ms.
  TABLE 117: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SD CLEAR MONITOR INTERVAL - BYTE 0 (ADDRESS
                                                  LOCATION= 0X025B)
     BIT 7           BIT 6           BIT 5          BIT 4             BIT 3         BIT 2           BIT 1          BIT 0
 SD_CLEAR_
 MONITOR_
     WIN-
  DOW[7:0]
     R/W              R/W            R/W            R/W               R/W           R/W             R/W             R/W
       1                1              1              1                 1             1               1              1
BIT [7:0] - SD_CLEAR_MONITOR_INTERVAL - LSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SD Clear Monitor Interval - Byte
    2 and Byte 1 registers are used to specify the length of the monitoring period (in terms of ms) for SD (Signal Degrade)
    defect clearance
    .When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
    determine if it should clear the SD defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SD Defect Clearance Monitoring period. If, during this SD Defect Clearance Monitoring period, the Receive
    STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
    STS-1/STS-3 Transport SD Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor block will clear
    the SD defect condition
    NOTES:
                                                              84


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
              1. The value that the user writes into these three (3) SD Clear Monitor Window Registers, specifies the
              duration of the SD Defect Clearance Monitoring Period, in terms of ms.
              2. This particular register byte contains the LSB (least significant byte) value of the three registers that
              specify the SD Defect Clearance Monitoring period.
  TABLE 118: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 2 (ADDRESS
                                                  LOCATION= 0X025D)
     BIT 7           BIT 6           BIT 5          BIT 4             BIT 3         BIT 2           BIT 1          BIT 0
                                         SF_CLEAR_MONITOR_WINDOW[23:16]
     R/W              R/W            R/W            R/W               R/W            R/W             R/W            R/W
       1               1               1               1                1              1              1              1
BIT [7:0] - SF_CLEAR_MONITOR_INTERVAL - MSB
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF Clear Monitor Interval - Byte
    1 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure)
    defect clearance.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
    determine if it should clear the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SF Defect Clearance Monitoring period. If, during this SF Defect Clearance Monitoring period, the Receive
    STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
    STS-1/STS-3 Transport SF Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor blolck will clear
    the SF defect condition.
    NOTES:
              1. The value that the user writes into these three (3) SF Clear Monitor Window Registers, specifies the
              duration of the SF Defect Clearance Monitoring Period, in terms of ms.
              2. This particular register byte contains the MSB (Most significant byte) value of the three registers that
              specify the SF Defect Clearance Monitoring period.
  TABLE 119: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 1 (ADDRESS
                                                   LOCATION= 0X025E)
     BIT 7           BIT 6           BIT 5          BIT 4             BIT 3         BIT 2           BIT 1          BIT 0
                                          SF_CLEAR_MONITOR_WINDOW[15:8]
     R/W              R/W            R/W            R/W               R/W            R/W             R/W            R/W
       1               1               1               1                1              1              1              1
BIT [7:0] - SF_CLEAR_MONITOR_INTERVAL - Bits 15 through 8
    These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF Clear Monitor Interval - Byte
    2 and Byte 0 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure)
    defect clearance.
    When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
    determine if it should clear the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
    specified SF Defect Clearance Monitoring period. If, during this SF Defect Clearance Monitoring period, the Receive
    STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
    STS-1/STS-3 Transport SF Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor block will clear the
    SF defect condition.
    NOTE: The value that the user writes into these three (3) SF Clear Monitor Window Registers, specifies the duration of
            the SF Defect Clearance Monitoring Period, in terms of ms.
                                                               85


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
  TABLE 120: RECEIVE STS-1/STS-3 TRANSPORT - RECEIVE SF CLEAR MONITOR INTERVAL - BYTE 0 (ADDRESS
                                                      LOCATION= 0X025F)
       BIT 7            BIT 6           BIT 5          BIT 4            BIT 3           BIT 2          BIT 1         BIT 0
                                              SF_CLEAR_MONITOR_WINDOW[7:0]
       R/W               R/W             R/W           R/W              R/W             R/W             R/W           R/W
         1                 1              1              1                1               1              1              1
BIT [7:0] - SF_CLEAR_MONITOR_INTERVAL - LSB
      These READ/WRITE bits, along the contents of the Receive STS-1/STS-3 Transport - SF Clear Monitor Interval - Byte
      2 and Byte 1 registers are used to specify the length of the monitoring period (in terms of ms) for SF (Signal Failure)
      defect clearance
      When the Receive STS-1/STS-3 TOH Processor block is checking the incoming STS-1 or STS-3 signal in order to
      determine if it should clear the SF defect condition, it will accumulate B2 byte (or BIP-24) errors throughout the user-
      specified SF Defect Clearance Monitoring period. If, during this SF Defect Clearance Monitoring period, the Receive
      STS-1/STS-3 TOH Processor block accumulates less B2 byte (or BIP-24) errors than that programmed into the Receive
      STS-1/STS-3 Transport SF Clear Threshold register, then the Receive STS-1/STS-3 TOH Processor block will clear the
      SF defect condition.
      NOTES:
                1. The value that the user writes into these three (3) SF Clear Monitor Window Registers, specifies the
                duration of the SF Defect Clearance Monitoring Period, in terms of ms.
                2. This particular register byte contains the LSB (Least Significant byte) value of the three registers that
                specify the SF Defect Clearance Monitoring period.
TABLE 121: RECEIVE STS-1/STS-3 TRANSPORT - AUTO AIS CONTROL REGISTER (ADDRESS LOCATION= 0X0263)
       BIT 7            BIT 6           BIT 5          BIT 4            BIT 3           BIT 2          BIT 1         BIT 0
    Transmit          Transmit        Transmit       Transmit          Unused         Transmit       Transmit      Transmit
      AIS-P             AIS-P           AIS-P          AIS-P                            AIS-P          AIS-P         AIS-P
     (Down-            (Down-          (Down-         (Down-                           (Down-         (Down-        (Down-
 stream) upon          stream)     stream) upon   stream) upon                     stream) upon   stream) upon      stream)
    Section         Upon Sec-            SF             SD                              LOF            LOS          Enable
  Trace Mes-         tion Trace
 sage Unsta-          Message
        ble          Mismatch
       R/W               R/W             R/W           R/W              R/W             R/W             R/W           R/W
         0                 0              0              0                0               0              0              0
BIT 7 - Transmit Path AIS upon Declaration of the Section Trace Message Unstable Defect Condition
      This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
      transmit the Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
      Processor block), anytime it declares the Section Trace Message Unstable defect condition within the incoming STS-1
      or STS-3 data-stream.
       0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator
      (via the downstream traffic) whenever (and for the duration that) it declares the Section Trace Message Unstable defect
      condition.
       1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
      downstream traffic) whenever (and for the duration that) it declares the Section Trace Message Unstable defect
      condition.
      NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
              Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 6 - Transmit Path AIS (AIS-P) upon Declaration of the Section Trace Message Mismatch Defect Condition
                                                                 86


                                                                                                        XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
    transmit the Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
    Processor blocks), anytime (and for the duration that) it declares the Section Trace Message Mismatch defect condition
    within the incoming STS-1/STS-3 data stream.
     0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator
    (via the downstream traffic) whenever it declares the Section Trace Mismatch defect condition.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever (and for the duration that) it declares the Section Trace Message Mismatch defect
    condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
            Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 5 - Transmit Path AIS upon declaration of the Signal Failure (SF) defect condition
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
    transmit a Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
    Processor block), anytime (and for the duration that) it declares the SF defect condition.
     0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to transmit the AIS-P indicator (via the
    downstream traffic) upon declaration of the SF defect.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) anytime (and for the duration that) it declares the SF defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
            Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 4 - Transmit Path AIS upon declaration of the Signal Degrade (SD) defect
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
    transmit a Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
    Processor block) anytime (and for the duration that) it declares the SD defect condition.
     0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to transmit the AIS-P indicator (via the
    downstream traffic) upon declaration of the SD defect.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) anytime (and for the duration that) it declares the SD defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
            Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 3 - Unused
BIT 2 - Transmit Path AIS upon declaration of the Loss of Frame (LOF) defect
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
    transmit a Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
    Processor block), anytime (and for the duration that) it declares the LOF defect condition.
     0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to transmit the AIS-P indicator (via the
    downstream traffic) upon declaration of the LOF defect.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) anytime (and for the duration that) it declares the LOF defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
            Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 1 - Transmit Path AIS upon declaration of the Loss of Signal (LOS) defect
    This READ/WRITE bit-field is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically
    transmit a Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH
    Processor block), anytime (and for the duration that) it declares the LOS defect condition.
     0 - Does not configure the Receive STS-1/STS-3 TOH Processor block to transmit the AIS-P indicator (via the
    downstream traffic) anytime it declares the LOS defect condition.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) anytime (and for the duration that) it declares the LOS defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1/STS-3 TOH
            Processor block to automatically transmit the AIS-P indicator, in response to this defect condition.
                                                              87


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
BIT 0 - Automatic Transmission of AIS-P Enable
    This READ/WRITE bit-field serves two purposes.
    It is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically transmit the Path AIS (AIS-P)
    indicator, via the down-stream traffic (e.g., towards the Receive STS-1/STS-3 POH Processor block), upon detection of
    an SF, SD, Section Trace Mismatch, Section Trace Unstable, LOF or LOS defect conditions.
    It also is used to configure the Receive STS-1/STS-3 TOH Processor block to automatically transmit a Path AIS (AIS-
    P) Indicator via the downstream traffic (e.g., towards the Receive STS-1/STS-3 POH Processor block) anytime it
    declares the AIS-L defect condition within the incoming STS-1/STS-3 datastream.
     0 - Configures the Receive STS-1/STS-3 TOH Processor block to NOT automatically transmit the AIS-P indicator (via
    the downstream traffic) upon declaration of the AIS-L defect condition or any of the above-mentioned defect conditions.
     1 - Configures the Receive STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) upon declaration of the AIS-L defect or any of the above-mentioned defect conditions.
    NOTE: The user must also set the corresponding bit-fields (within this register) to 1 in order to configure the Receive
             STS-1/STS-3 TOH Processor block to automatically transmit the AIS-P indicator upon declaration of a given
             alarm/defect condition.
   TABLE 122: RECEIVE STS-1/STS-3 TRANSPORT - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION=
                                                             0X0267)
     BIT 7            BIT 6           BIT 5            BIT 4         BIT 3         BIT 2          BIT 1           BIT 0
                            Unused                                               RxTOH Clock Speed[3:0]
     R/W              R/W              R/W              R/W           R/W           R/W           R/W              R/W
        0               0               0                0             0              0             0               0
BIT [7:4] - Unused
BIT [3:0] - RxTOHClk Output Clock Signal Speed
    These READ/WRITE bit-fields are used to specify the frequency of the RxTOHClk output clock signal. The formula that
    relates the contents of these register bits to the RxTOHClk frequency is presented below.
    FREQ = 51.84 /[2 * (RxTOH_CLOCK_SPEED + 1)
    For STS-3/STM-1 applications, the frequency of the RxTOHClk output signal must be in the range of 2.36MHz to
    25.92MHz
   TABLE 123: RECEIVE STS-1/STS-3 TRANSPORT - AUTO AIS (IN DOWNSTREAM T1/E1S) CONTROL REGISTER
                                              (ADDRESS LOCATION= 0X026B)
     BIT 7            BIT 6           BIT 5            BIT 4         BIT 3         BIT 2          BIT 1           BIT 0
            Unused               Transmit AIS      Transmit AIS  Transmit AIS  Transmit AIS     Unused        Transmit AIS
                                   (via Down-       (via Down-    (via Down-    (via Down-                     (via Down-
                                     stream           stream        stream        stream                         stream
                                     T1/E1s)          T1/E1s)       T1/E1s)       T1/E1s)                        T1/E1s)
                                   upon LOS          upon LOF      upon SD       upon SF                       upon AIS-L
      R/O             R/O              R/W              R/W           R/W           R/W            R/O             R/W
        0               0               0                0             0              0             0               0
BIT [7:6] - Unused
BIT 5 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the LOS (Loss of Signal) defect
condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1/STS-3 TOH Processor block declares the LOS defect condition.3
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
                                                               88


                                                                                                     XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime the Receive STS-1/STS-3 TOH Processor block
    declares the LOS defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1/STS-3 TOH
    Processor block declares the LOS defect condition.
BIT 4 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the LOF (Loss of Frame) defect
condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1/STS-3 TOH Processor block declares the LOF defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime the Receive STS-1/STS-3 TOH Processor block
    declares the LOF defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1/STS-3 TOH
    Processor block declares the LOF defect condition.
BIT 3 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the SD (Signal Degrade) defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1/STS-3 TOH Processor block declares the SD defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime the Receive STS-1/STS-3 TOH Processor block
    declares the SD defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1/STS-3 TOH
    Processor block declares the SD defect condition.
BIT 2 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the Signal Failure (SF) defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime (and for the duration that)
    the Receive STS-1/STS-3 TOH Processor block declares the SF defect condition.
     0 - Does not configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime the Receive STS-1/STS-3 TOH Processor block
    declares the SF defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1/STS-3 TOH
    Processor block declares the SF defect condition.
BIT 1 - Unused
BIT 0 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the AIS-L defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS indicator, via its outbound DS1/E1 signals, upon declaration of the AIS-L defect
    condition, via the Receive STS-1/STS-3 TOH Processor block.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS indicator, whenever the Receive STS-1/STS-3 TOH Processor block declares the AIS-L defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS indicator, whenever (and for the duration that) the Receive STS-1/STS-3 TOH Processor block declares the AIS-L
    defect condition.
                                                             89


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
  TABLE 124: RECEIVE STS-1/STS-3 TRANSPORT - A1, A2 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS
                                                    LOCATION= 0X026E)
     BIT 7          BIT 6           BIT 5            BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                                          Receive A1, A2 Byte Error Count[15:8]
     RUR            RUR             RUR              RUR           RUR             RUR            RUR           RUR
       0              0               0                0             0               0              0             0
BIT [7:0] - Receive A1, A2 Byte Error Count Register - MSB Register
    This RESET-upon-READ register, along with the Receive STS-1/STS-3 Transport - A1, A2 Byte Error Count Register
    - Byte
    0 presents a 16-bit representation of the total number of A1 and A2 byte errors that the Receive STS-1/STS-3 TOH
    Processor block has detected (within the incoming STS-1/STS-3 data-stream) since the last read of this register.
    NOTE: This register contains the MSB (Most Significant Byte) of this 16-bit expression.
  TABLE 125: RECEIVE STS-1/STS-3 TRANSPORT - A1, A2 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS
                                                    LOCATION= 0X026F)
     BIT 7          BIT 6           BIT 5            BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                                           Receive A1, A2 Byte Error Count[7:0]
     RUR            RUR             RUR              RUR           RUR             RUR            RUR           RUR
       0              0               0                0             0               0              0             0
BIT [7:0] - Receive A1, A2 Byte Error Count Register - LSB Register
    This RESET-upon-READ register, along with the Receive STS-1/STS-3 Transport - A1, A2 Byte Error Count Register
    - Byte 1 presents a 16-bit representation of the total number of A1 and A2 byte errors that the Receive STS-1/STS-3
    TOH Processor block has detected (within the incoming STS-1/STS-3 data-stream) since the last read of this register.
    NOTE: This register contains the LSB (Least Significant Byte) of this 16-bit expression.
TABLE 126: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT ADDRESS REGISTER - BYTE 1
                                            (ADDRESS LOCATION= 0X027A)
     BIT 7          BIT 6           BIT 5            BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                                  RxTOH Capture Buffer Indirect Address Register[15:8]
     R/W            R/W             R/W              R/W            R/W            R/W             R/W          R/W
       0              0               0                0             0               0              0             0
BIT [7:0] - RxTOH Capture Buffer Indirect Address Register[15:8]
    For STS-1/EC-1/STM-0 and STS-3/STM-1 applications, this register should be kept 0x00.
TABLE 127: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT ADDRESS REGISTER - BYTE 0
                                            (ADDRESS LOCATION= 0X027B)
     BIT 7          BIT 6           BIT 5            BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                                   RxTOH Capture Buffer Indirect Address Register[7:0]
     R/W            R/W             R/W              R/W            R/W            R/W             R/W          R/W
       0              0               0                0             0               0              0             0
BIT [7:0] - RxTOH Capture Buffer Indirect Address Register[7:0]
                                                             90


                                                                                                             XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     This register serves as the Indirect Address Register for the TOH Capture Memory. Writing to this register will load the
     address of the captured TOH byte to be read on Receive TOH Capture Buffer - Indirect Data Register 0x027F.
     For STS-3/STM-1 applications, the address written into this register should be of the form 00XXXXXYY where XXXXX
     specifies the 5-bit field number of the TOH byte (i.e., A1 is field 0, A2 is field 1, etc...) and YY specifies the STS-1/EC-
     1/STM-0 time slot number of the TOH byte that is requested. YY consists of the minimum number of bits required to
     index all the slots contained in each field. For example, YY would have 2 bits for an STS-3/STM-1 signal to denote:
     ‘00b’ for STS-3/STM-1 Slot 1, ‘01b’ for STS-3/STM-1 Slot 2, ‘10b’ for STS-3/STM-1 Slot 3. Y would have 1 bit for an
     STS-1/EC-1/STM-0 signal.
     For STS-1/EC-1/STM-0 applications, the address written into this register should be of the form 000XXXXXY where
     XXXXX specifies the 5-bit field number of the TOH byte (i.e., A1 is field 0, A2 is field 1, etc...) and Y specifies the STS-
     1/EC-1/STM-0 time slot number of the TOH byte that is requested. Y consists of the minimum number of bits required
     to index all the slots contained in each field. For example, Y would have 1 bit for an STS-1/EC-1/STM-0 signal to denote:
     ‘0b’ for STS-3/STM-1 Slot 1.
  TABLE 128: RECEIVE STS-1/STS-3 TRANSPORT - TOH CAPTURE BUFFER INDIRECT DATA REGISTER - BYTE 0
                                                 (ADDRESS LOCATION= 0X027F)
      BIT 7            BIT 6           BIT 5            BIT 4          BIT 3            BIT 2            BIT 1           BIT 0
                                        RxTOH Capture Buffer Indirect Data Register[7:0]
      R/O               R/O             R/O              R/O            R/O              R/O             R/O             R/O
        0                 0               0               0              0                 0               0               0
BIT [7:0] - RxTOH Capture Buffer Indirect Data Register[7:0]
     Reading from this register will return the captured TOH byte indexed by the address in Receive TOH Capture Buffer -
     Indirect Address Register 0x027B.
 2.3       RECEIVE STS-1 POH PROCESSOR BLOCK REGISTERS
The register map for the Receive STS-1 POH Processor Block is presented in the Table below. Additionally, a
detailed description of each of the Receive STS-1/STS-3 POH Processor block registers is presented below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with the Receive STS-1 POH Processor block highlighted is presented below in Figure 4.
                                                                91


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                    REV. 2.0.0
FIGURE 4. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE RECEIVE STS-1
POH PROCESSOR BLOCK HIGHLIGHTED
                              Transmit                                                     Ingress    Ingress
                               Transmit       Transmit
                                               Transmit                                   Direction  Direction      Receive
                               STS-1/3       STS-1                          VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                     VT/TU
                                                                           Mapper         Transmit    Receive       DS1/E1
                                 TOH          Processor
                                               Processor                    Mapper         DS1/E1     DS1/E1         LIU
                              Processor
                               Processor        Block                        Block
                                                                              Block
                                                 Block                                     Framer     Framer         Block
                                Block
                                 Block
              STS-1/
                STS-1/                                                                      Block      Block
               STS-3
                STS-3                                                                                        DS1/E1 Channel 0
             Telecom
              Telecom                       From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface                                   From DS2 Channels 1 - 6
              Interface
                                            Transmit
                                             Transmit         M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    From DS1/E1 Channels 1 - 3
                                                             MUX
                                                              MUX                      MUX
                                             Framer
                                              Framer
               DS3/                                          Block
                                                              Block                    Block
                 DS3/                         Block
                                               Block
               STS-1
                STS-1                                              DS2 Channel 0
                LIU
                 LIU
             Interface                       Receive
                                              Receive
              Interface                                       M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    To DS1/E1 Channels 1 - 3
                                                           De-MUX
                                                            De-MUX                   De-MUX
                                             Framer
                                              Framer          Block
                                                               Block                   Block
                                              Block
                                               Block
                                                                                    DS2 Channel 0
                                                   To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                                 Channels 1 - 27
                                                                                          Egress     Egress
                            Receive
                             Receive        Receive                         DS1/E1       Direction  Direction     Transmit
                            STS-1/3          Receive           VT/TU
                             STS-1/3      STS-1
                                           STS-1POH
                                                  POH                        Jitter       Receive   Transmit       DS1/E1
                             TOH                           De-Mapper
                              TOH          Processor
                                            Processor                        Atten        DS1/E1     DS1/E1          LIU
                           Processor                           Block
                            Processor        Block
                                              Block                          Block        Framer     Framer         Block
                             Block
                              Block                                                        Block      Block
                                                                                                             DS1/E1 Channel 0
   TABLE 129: RECEIVE STS-1 PATH - RECEIVE CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X0283)
     BIT 7             BIT 6            BIT 5            BIT 4             BIT 3              BIT 2         BIT 1               BIT 0
                              Unused                                     CheckStuff        RDI-PType     REI-PError           B3 Error
                                                                                                             Type               Type
     R/O               R/O               R/O               R/O              R/W                R/W           R/W                 R/W
       0                 0                0                  0                 0                  0            0                  0
BIT [7:4] - Unused
BIT 3 - Check (Pointer Adjustment) Stuff Select
    This READ/WRITE bit-field is used to enable/disable the SONET standard recommendation that a pointer increment or
    decrement operation, detected within 3 SONET frames of a previous pointer adjustment operation (e.g., negative stuff,
    positive stuff) is ignored.
     0 - Disables this SONET standard implementation. In this mode, all pointer-adjustment operations that are detected
    will be accepted.
     1 - Enables this SONET standard implementation. In this mode, all pointer-adjustment operations that are detected
    within 3 SONET frame periods of a previous pointer-adjustment operation will be ignored.
BIT 2 - Path - Remote Defect Indicator Type Select
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to support either the Single-
                                                                     92


                                                                                                        XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    Bit or the Enhanced RDI-P form of signaling, as described below.
     0 - Configures the Receive STS-1 POH Processor block to support Single-Bit RDI-P.
    In this mode, the Receive STS-1 POH Processor block will only monitor BIT 3, within the G1 byte (of the incoming SPE
    data), in order to declare and clear the RDI-P defect condition.
     1 - Configures the Receive STS-1 POH Processor block to support Enhanced RDI-P (ERDI-P).
    In this mode, the Receive STS-1 POH Processor block will monitor bits 3, 2 and 1, within the G1 byte, in order to declare
    and clear the RDI-P defect condition.
BIT 1 - REI-P Error Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1 POH Processor block will count (or tally) REI-P
    events, for Performance Monitoring purposes. The user can configure the Receive STS-1 POH Processor block to
    increment REI-P events on either a per-bit or per-frame basis.
    If the user configures the Receive STS-1 POH Processor block to increment REI-P events on a per-bit basis, then it
    will increment the Receive Path REI-P Error Count register by the value of the higher nibble within the G1 byte of the
    incoming STS-1/STS-3 data-stream.
    If the user configures the Receive STS-1 POH Processor block to increment REI-P events on a per-frame basis, then
    it will increment the Receive Path REI-P Error Count register each time it receives an STS-1/STS-3 frame, in which the
    higher nibble of the G1 byte (bits 7 through 4) are set to a non-zero value.
     0 - Configures the Receive STS-1 POH Processor block to count or tally REI-P events on a per-bit basis.
     1 - Configures the Receive STS-1 POH Processor block to count or tally REI-P events on a per-frame basis.
BIT 0 - B3 Error Type
    This READ/WRITE bit-field is used to specify how the Receive STS-1 POH Processor block will count (or tally) B3 byte
    errors, for Performance Monitoring purposes. The user can configure the Receive STS-1 POH Processor block to
    increment B3 byte errors on either a per-bit or per-frame basis.
    If the user configures the Receive STS-1 POH Processor block to increment B3 byte errors on a per-bit basis, then it
    will increment the Receive Path B3 Byte Error Count register by the number of bits (within the B3 byte value) that is in
    error.
    If the user configures the Receive STS-1 POH Processor block to increment B3 byte errors on a per-frame basis, then
    it will increment the Receive Path B3 Byte Error Count register each time it receives an STS-1/STS-3 frame that contains
    an erred B3 byte.
     0 - Configures the Receive STS-1 POH Processor block to count B3 byte errors on a per-bit basis
     1 - Configures the Receive STS-1 POH Processor block to count B3 byte errors on a per-frame basis.
          TABLE 130: RECEIVE STS-1 PATH - CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION= 0X0286)
     BIT 7            BIT 6          BIT 5          BIT 4           BIT 3            BIT 2         BIT 1           BIT 0
                                                   Unused                                                       Path Trace
                                                                                                                 Message
                                                                                                                 Unstable
                                                                                                                  Defect
                                                                                                                 Declared
      R/O              R/O           R/O             R/O             R/O              R/O           R/O             R/O
        0               0              0              0               0                0             0               0
BIT [7:1] - Unused
BIT 0 - Path Trace Message Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    Path Trace Message Unstable defect condition. The Receive STS-1 POH Processor block will declare the Path Trace
    Message Unstable defect condition, whenever the Path Trace Message Unstable counter reaches the value 8. The
    Path Trace Message Unstable counter will be incremented for each time that it receives a Path Trace message that
    differs from the previously received message. The Path Trace Unstable counter is cleared to 0 whenever the Receive
    STS-1 POH Processor block has received a given Path Trace Message 3 (or 5) consecutive times.
                                                              93


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
    NOTE: Receiving a given Path Trace Message 3 (or 5) consecutive times also sets this bit-field to 0
     0 - Indicates that the Receive STS-1 POH Processor block is NOT currently declaring the Path Trace Message
    Unstable defect.
     1 - Indicates that the Receive STS-1 POH Processor blolck is currently declaring the Path Trace Message Unstable
    defect condition.
  TABLE 131: RECEIVE STS-1 PATH - SONET RECEIVE POH STATUS - BYTE 0 (ADDRESS LOCATION= 0X0287)
     BIT 7            BIT 6             BIT 5         BIT 4        BIT 3            BIT 2          BIT 1           BIT 0
    TIM-P           C2 Byte           UNEQ-P         PLM-P         RDI-P           RDI-P          LOP-P            AIS-P
    Defect          Unstable           Defect        Defect        Defect         Unstable-       Defect          Defect
   Declared          Defect           Declared      Declared      Declared        Condition      Declared        Declared
                    Declared
     R/O              R/O               R/O           R/O           R/O             R/O            R/O              R/O
       0                 0                0             0            0                0              0               0
BIT 7 - Trace Identification Mismatch (TIM-P) Defect Indicator
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    Path Trace Identification Mismatch (TIM-P) defect condition. The Receive STS-1 POH Processor block will declare the
    TIM-P defect condition, when none of the received 64-byte string (received via the J1 byte, within the incoming STS-
    1/STS-3 data-stream) matches the expected 64 byte message.The Receive STS-1 POH Processor block will clear the
    TIM-P defect condition, when 80% of the received 64 byte string (received via the J1 byte) matches the expected 64
    byte message.
     0 - Indicates that the Receive STS-1 POH Processor block is NOT currently declaring the TIM-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the TIM-P defect condition.
BIT 6 - C2 Byte (Path Signal Label Byte) Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    Path Signal Label Byte Unstable defect condition. The Receive STS-1 POH Processor block will declare the C2 (Path
    Signal Label Byte) Unstable defect condition, whenever the C2 Byte Unstable counter reaches the value 5. The C2
    Byte Unstable counter will be incremented for each time that it receives an SPE with a C2 byte value that differs from
    the previously received C2 byte value. The C2 Byte Unstable counter is cleared to 0 whenever the Receive STS-1
    POH Processor block has received 3 (or 5) consecutive SPEs that each contains the same C2 byte
    value.Note:Receiving a given C2 byte value in 3 (or 5) consecutive SPEs also sets this bit-field to 0.
     0 - Indicates that the Receive STS-1 POH Processor block is currently NOT declaring the C2 (Path Signal Label Byte)
    Unstable defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the C2 (Path Signal Label Byte)
    Unstable defect condition.
BIT 5 - Path - Unequipped (UNEQ-P) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    UNEQ-P defect condition. The Receive STS-1 POH Processor block will declare the UNEQ-P defect condition, anytime
    that it receives at least five (5) consecutive STS-1/STS-3 frames, in which the C2 byte was set to the value 0x00 (which
    indicates that the SPE is Unequipped).
    The Receive STS-1 POH Processor block will clear the UNEQ-P defect condition, if it receives at least five (5)
    consecutive STS-1/STS-3 frames, in which the C2 byte was set to a value other than 0x00.
     0 - Indicates that the Receive STS-1 POH Processor block is currently NOT declaring the UNEQ-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the UNEQ-P defect condition.
    NOTE: :The Receive STS-1 POH Processor block will not declare the UNEQ-P defect condition if it configured to
             expect to receive STS-1/STS-3 frames with C2 bytes being set to 0x00 (e.g., if the Receive STS-1 Path -
             Expected Path Label Value Register -Address Location= 0x0297) is set to 0x00.
BIT 4 - Path Payload Mismatch (PLM-P) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
                                                             94


                                                                                                          XRT86SH328
REV. 2.0.0                          28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    PLM-P defect condition.The Receive STS-1 POH Processor block will declare the PLM-P defect condition, if it receives
    at least five (5) consecutive STS-1/STS-3 frames, in which the C2 byte was set to a value other than that which it is
    expecting to receive. Whenever the Receive STS-1 POH Processor block is determining whether or not it should
    declare the PLM-P defect, it will check the contents of the following two registers.
          •    The Receive STS-1 Path - Received Path Label Value Register (Address Location= 0x0296).
          •    The Receive STS-1 Path - Expected Path Label Value Register (Address Location= 0x0297).
    The Receive STS-1 Path - Expected Path Label Value Register contains the value of the C2 bytes, that the Receive
    STS-1 POH Processor blocks expects to receive.The Receive STS-1 Path - Received Path Label Value Register
    contains the value of the C2 byte, that the Receive STS-1 POH Processor block has most received validated (by
    receiving this same C2 byte in five consecutive STS-1/STS-3 frames). The Receive STS-1 POH Processor block will
    declare the PLM-P defect condition if the contents of these two register do not match. The Receive STS-1 POH
    Processor block will clear the PLM-P defect condition if whenever the contents of these two registers do match.
     0 - Indicates that the Receive STS-1 POH Processor block is currently NOT declaring the PLM-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the PLM-P defect condition
    NOTE: The Receive STS-1 POH Processor block will clear the PLM-P defect, upon declaring the UNEQ-P defect
             condition.
BIT 3 - Path Remote Defect Indicator (RDI-P) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    RDI-P defect condition.
    If the Receive STS-1 POH Processor block is configured to support the Single-bit RDI-P function, then it will declare
    the RDI-P defect condition if BIT 3 (within the G1 byte of the incoming STS-1/STS-3 frame) is set to 1 for RDI-P_THRD
    number of incoming consecutive STS-1/STS-3 frames.
    If the Receive STS-1 POH Processor block is configured to support the Enhanced RDI-P (ERDI-P) function, then it will
    declare the RDI-P defect condition if Bits 3, 2 and 1 (within the G1 byte of the incoming STS-1/STS-3 frame) are set to
    [0, 1, 0], [1, 0, 1] or [1, 1, 0] for RDI-P_THRD number of consecutive STS-1/STS-3 frames.
     0 - Indicates that the Receive STS-1 POH Processor block is NOT currently declaring the RDI-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the RDI-P defect condition.
    NOTE: The user can specify the value for RDI-P_THRD by writing the appropriate data into Bits 3 through 0 (RDI-P
             THRD) within the Receive STS-1 Path - SONET Receive RDI-P Register (Address Location= 0x0293).
BIT 2 - RDI-P (Path - Remote Defect Indicator) Unstable Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    RDI-P Unstable defect condition. The Receive STS-1 POH Processor block will declare a RDI-P I Unstable defect
    condition whenever the RDI-P Unstable Counter reaches the value RDI-P THRD. The RDI-P Unstable counter is
    incremented for each time that the Receive STS-1 POH Processor block receives an RDI-P value that differs from that
    of the previous STS-1/STS-3 frame. The RDI-P Unstable counter is cleared to 0 whenever the same RDI-P value is
    received in RDI-P_THRD consecutive STS-1/STS-3 frames.
    NOTE: Receiving a given RDI-P value, in RDI-P_THRD consecutive STS-1/STS-3 frames also clears this bit-field to 0.
     0 - Indicates that the Receive STS-1 POH Processor block is NOT currently declaring the RDI-P Unstable defect
    condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the RDI-P Unstable defect condition.
    NOTE: The user can specify the value for RDI-P_THRD by writing the appropriate data into Bits 3 through 0 (RDI-P
             THRD) within the Receive STS-1 Path - SONET Receive RDI-P Register (Address Location= 0x0293).
BIT 1 - Loss of Pointer Indicator (LOP-P) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    LOP-P (Loss of Pointer) defect condition.
    The Receive STS-1 POH Processor block will declare the LOP-P defect condition, if it cannot detect a valid pointer (H1
    and H2 bytes, within the TOH) within 8 to 10 consecutive SONET frames. Further, the Receive STS-1 POH Processor
    block will declare the LOP-P defect condition, if it detects 8 to 10 consecutive NDF events. The Receive STS-1 POH
    Processor block will clear the LOP-P defect condition, whenever it detects valid pointer bytes (e.g., the H1 and H2 bytes,
    within the TOH) and normal NDF value for three consecutive incoming STS-1/STS-3 frames.
     0 - Indicates that the Receive STS-1 POH Processor block is NOT declaring the LOP-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the LOP-P defect condition.
                                                              95


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
BIT 0 - Path AIS (AIS-P) Defect Declared
    This READ-ONLY bit-field indicates whether or not the Receive STS-1 POH Processor block is currently declaring the
    AIS-P defect condition. The Receive STS-1 POH Processor block will declare the AIS-P defect condition if it detects
    all of the following conditions within three consecutive incoming STS-1/STS-3 frames.·
          •    The H1, H2 and H3 bytes are set to an All Ones pattern.·
          •    The entire SPE is set to an All Ones pattern.
    The Receive STS-1 POH Processor block will clear the AIS-P defect condition when it detects a valid STS-1/STS-3
    pointer (H1 and H2 bytes) and a set or normal NDF for three consecutive STS-1/STS-3 frames.
     0 - Indicates that the Receive STS-1 POH Processor block is NOT currently declaring the AIS-P defect condition.
     1 - Indicates that the Receive STS-1 POH Processor block is currently declaring the AIS-P defect condition
    NOTE: The Receive STS-1 POH Processor block will NOT declare the LOP-P defect condition if it detects an All Ones
             pattern in the H1, H2 and H3 bytes. It will, instead, declare the AIS-P defect condition.
 TABLE 132: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 2 (ADDRESS LOCATION=
                                                                0X0289)
   BIT 7            BIT 6          BIT 5            BIT 4            BIT 3         BIT 2          BIT 1            BIT 0
                  Unused                        Detection of     Detection of     Unused       Change in     Change in Path
                                                AIS Pointer         Pointer                   TIM-P Defect   Trace Message
                                                  Interrupt        Change                       Condition   Unstable Defect
                                                   Status          Interrupt                    Interrupt       Condition
                                                                    Status                       Status      Interrupt Status
    R/O             R/O            R/O              RUR              RUR            R/O           RUR              RUR
      0               0              0                0                0              0             0                0
BIT [7:5] - Unused
BIT 4 - Detection of AIS Pointer Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of AIS Pointer interrupt has occurred since the
    last read of this register.If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate this
    interrupt anytime it detects an AIS Pointer in the incoming STS-1/STS-3 data stream.
    NOTE: An AIS Pointer is defined as a condition in which both the H1 and H2 bytes (within the TOH) are each set to an
             All Ones pattern.
     0 - Indicates that the Detection of AIS Pointer interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of AIS Pointer interrupt has occurred since the last read of this register.
BIT 3 - Detection of Pointer Change Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of Pointer Change Interrupt has occurred since
    the last read of this register.If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an
    interrupt anytime it accepts a new pointer value (e.g., H1 and H2 bytes, in the TOH bytes).
     0 - Indicates that the Detection of Pointer Change Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of Pointer Change Interrupt has occurred since the last read of this register.
BIT 2 - Unused
BIT 1 - Change in TIM-P (Trace Identification Mismatch) Defect Condition Interrupt
    This RESET-upon-READ bit-field indicates whether or not the Change in TIM-P Defect Condition interrupt has occurred
    since the last read of this register.If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate
    an interrupt in response to either of the following events.
          •    Whenever the Receive STS-1 POH Processor block declares the TIM-P defect condition.
          •    Whenever the Receive STS-1 POH Processor block clears the TIM-P defect condition.
     0 - Indicates that the Change in TIM-P Defect Condition Interrupt has not occurred since the last read of this register.
     1 - Indicates that the Change in TIM-P Defect Condition Interrupt has occurred since the last read of this register.
                                                                    96


                                                                                                             XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT 0 - Change in Path Trace Identification Message Unstable Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in Path Trace Message Unstable Defect
    Condition Interrupt has occurred since the last read of this register.If this interrupt is enabled, then the Receive STS-1
    POH Processor block will generate this interrupt in response to either of the following events.
          •      Whenever the Receive STS-1 POH Processor block declare the Path Trace Message Unstable Defect
                Condition.
          •     Whenever the Receive         STS-1 POH Processor block clears the Path Trace Message Unstable defect
                condition.
     0 - Indicates that the Change in Path Trace Message Unstable Defect Condition Interrupt has NOT occurred since
    the last read of this register.
     1 - Indicates that the Change in Path Trace Message Unstable Defect Condition Interrupt has occurred since the last
    read of this register.
 TABLE 133: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 1 (ADDRESS LOCATION=
                                                             0X028A)
     BIT 7              BIT 6           BIT 5          BIT 4         BIT 3              BIT 2           BIT 1         BIT 0
  New Path         Detection of      Change in      Change in        New             Change in       Change in     New RDI-P
     Trace         REI-P Event       UNEQ-P           PLM-P        C2 Byte            C2 Byte          RDI-P          Value
   Message           Interrupt         Defect         Defect       Interrupt         Unstable        Unstable       Interrupt
   Interrupt           Status        Condition      Condition       Status             Defect          Defect         Status
    Status                            Interrupt      Interrupt                       Condition       Condition
                                       Status         Status                          Interrupt       Interrupt
                                                                                       Status          Status
     RUR                RUR             RUR            RUR           RUR                RUR             RUR           RUR
        0                 0               0              0             0                  0               0             0
BIT 7 - New Path Trace Message Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the New Path Trace Message Interrupt has occurred since
    the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it has
    accepted (or validated) a new Path Trace Message.
     0 - Indicates that the New Path Trace Message Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the New Path Trace Message Interrupt has occurred since the last read of this register.
BIT 6 - Detection of REI-P Event Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of REI-P Event Interrupt has occurred since
    the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    an REI-P event within the incoming STS-1/STS-3 data-stream.
     0 - Indicates that the Detection of REI-P Event Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of REI-P Event Interrupt has occurred since the last read of this register.
BIT 5 - Change in UNEQ-P (Path - Unequipped) Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in UNEQ-P Defect Condition interrupt has
    occurred since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following conditions.
          •     When the Receive STS-1 POH Processor block declares the UNEQ-P Defect Condition.
          •     When the Receive STS-1 POH Processor block clears the UNEQ-P Defect Condition.
     0 - Indicates that the Change in UNEQ-P Defect Condition Interrupt has NOT occurred since the last read of this
    register.
                                                               97


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
     1 - Indicates that the Change in UNEQ-P Defect Condition Interrupt has occurred since the last read of this register.
    NOTE: The user can determine if the Receive STS-1 POH Processor block is currently declaring the UNEQ-P defect
              condition by reading out the state of BIT 5 (UNEQ-P Defect Declared) within the Receive STS-1 Path - SONET
              Receive POH Status - Byte 0 Register (Address Location= 0x0287).
BIT 4 - Change in PLM-P (Path - Payload Mismatch) Defect Condition Interrupt Status
    This RESET-upon-READ bit indicates whether or not the Change in PLM-P Defect Condition interrupt has occurred
    since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following conditions.
          •     When the Receive STS-1 POH Processor block declares the PLM-P Defect Condition.
          •     When the Receive STS-1 POH Processor block clears the PLM-P Defect Condition.
     0 - Indicates that the Change in PLM-P Defect Condition Interrupt has NOT occurred since the last read of this
    register.
     1 - Indicates that the Change in PLM-P Defect Condition Interrupt has occurred since the last read of this register.
BIT 3 - New C2 Byte Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the New C2 Byte Interrupt has occurred since the last read
    of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it has
    accepted a new C2 byte.
     0 - Indicates that the New C2 Byte Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the New C2 Byte Interrupt has occurred since the last read of this register.
BIT 2 - Change in C2 Byte Unstable Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in C2 Byte Unstable Defect Condition Interrupt
    has occurred since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     When the Receive STS-1 POH Processor block declares the C2 Byte Unstable defect condition.
          •     When the Receive STS-1 POH Processor block clears the C2 Byte Unstable defect condition.
     0 - Indicates that the Change in C2 Byte Unstable Defect Condition Interrupt has NOT occurred since the last read of
    this register.
     1 - Indicates that the Change in C2 Byte Unstable Defect Condition Interrupt has occurred since the last read of this
    register.
    NOTE: The user can determine whether or not the Receive STS-1 POH Processor block is currently declaring the C2
              Byte Unstable Defect Condition by reading out the state of BIT6 (C2 Byte Unstable Defect Declared) within the
              Receive STS-1 Path - SONET Receive POH Status - Byte 0 Register (Address Location= 0x0287).
BIT 1 - Change in RDI-P Unstable Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in RDI-P Unstable Defect Condition interrupt has
    occurred since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following conditions.
          •     When the Receive STS-1 POH Processor block declares an RDI-P Unstable defect condition.
          •     When the Receive STS-1 POH Processor block clears the RDI-P Unstable defect condition.
     0 - Indicates that the Change in RDI-P Unstable Defect Condition Interrupt has NOT occurred since the last read of
    this register.
     1 - Indicates that the Change in RDI-P Unstable Defect Condition Interrupt has occurred since the last read of this
    register.
    NOTE: The user can determine the current state of RDI-P Unstable Defect condition by reading out the state of BIT 2
              (RDI-P Unstable Defect Condition) within the Receive STS-1 Path - SONET Receive POH Status - Byte 0
              Register (Address Location= 0x0287).
                                                              98


                                                                                                         XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT 0 - New RDI-P Value Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the New RDI-P Value interrupt has occurred since the last
    read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate this interrupt anytime it receives
    and validates a new RDI-P value.
     0 - Indicates that the New RDI-P Value Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the New RDI-P Value Interrupt has occurred since the last read of this register.
    NOTE: The user can obtain the New RDI-P Value by reading out the contents of the RDI-P ACCEPT[2:0] bit-fields.
              These bit-fields are located in Bits 6 through 4, within the Receive STS-1 Path - SONET Receive RDI-P
              Register (Address Location= 0x0293).
 TABLE 134: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT STATUS - BYTE 0 (ADDRESS LOCATION=
                                                             0X028B)
     BIT 7             BIT 6           BIT 5          BIT 4            BIT 3        BIT 2           BIT 1            BIT 0
 Detection of      Detection of     Detection of  Detection of     Detection of Detection of     Change of        Change of
   B3 Byte         New Pointer       Unknown      Pointer Dec-        Pointer   NDF Pointer        LOP-P         AIS-P Defect
     Error           Interrupt        Pointer        rement         Increment     Interrupt        Defect         Condition
   Interrupt           Status        Interrupt      Interrupt        Interrupt     Status        Condition         Interrupt
    Status                            Status          Status          Status                      Interrupt         Status
                                                                                                   Status
     RUR                RUR            RUR            RUR              RUR          RUR             RUR               RUR
        0                 0              0              0                0            0               0                0
BIT 7 - Detection of B3 Byte Error Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of B3 Byte Error Interrupt has occurred since
    the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    a B3 byte error in the incoming STS-1/STS-3 data stream.
     0 - Indicates that the Detection of B3 Byte Error Interrupt has NOT occurred since the last read of this interrupt.
     1 - Indicates that the Detection of B3 Byte Error Interrupt has occurred since the last read of this interrupt.
BIT 6 - Detection of New Pointer Interrupt Status
    This RESET-upon-READ indicates whether the Detection of New Pointer interrupt has occurred since the last read of
    this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    a new pointer value in the incoming STS-1/STS-3 frame.
    NOTE: Pointer Adjustments with NDF will not generate this interrupt.
     0 - Indicates that the Detection of New Pointer Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of New Pointer Interrupt has occurred since the last read of this register.
BIT 5 - Detection of Unknown Pointer Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of Unknown Pointer interrupt has occurred
    since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime that it
    detects a pointer that does not fit into any of the following categories.
          •     An Increment Pointer
          •     A Decrement Pointer
          •     An NDF Pointer
          •     An AIS (e.g., All Ones) Pointer
          •     New Pointer
                                                                99


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
     0 - Indicates that the Detection of Unknown Pointer interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of Unknown Pointer interrupt has occurred since the last read of this register.
BIT 4 - Detection of Pointer Decrement Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of Pointer Decrement Interrupt has occurred
    since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    a Pointer Decrement event.
     0 - Indicates that the Detection of Pointer Decrement interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of Pointer Decrement interrupt has occurred since the last read of this register.
BIT 3 - Detection of Pointer Increment Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of Pointer Increment Interrupt has occurred
    since the last read of this register. If this interrupt is enabled, then the Receive STS-1 POH Processor block will
    generate an interrupt anytime it detects a Pointer Increment event.
     0 - Indicates that the Detection of Pointer Increment interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of Pointer Increment interrupt has occurred since the last read of this register.
BIT 2 - Detection of NDF Pointer Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Detection of NDF Pointer interrupt has occurred since
    the last read of this register.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    an NDF Pointer event.
     0 - Indicates that the Detection of NDF Pointer interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of NDF Pointer interrupt has occurred since the last read of this register.
BIT 1 - Change of LOP-P Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change in LOP-P Defect Condition interrupt has occurred
    since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     When the Receive STS-1 POH Processor block declares the LOP-P defect condition.
          •     ·When the Receive STS-1 POH Processor block clears the LOP-P defect condition.
     0 - Indicates that the Change in LOP-P Defect Condition interrupt has NOT occurred since the last read of this
    register.
     1 - Indicates that the Change in LOP-P Defect Condition interrupt has occurred since the last read of this register.
    NOTE: The user can determine if the Receive STS-1 POH Processor block is currently declaring the LOP-P defect
              condition by reading out the state of BIT 1 (LOP-P Defect Declared) within the Receive STS-1 Path - SONET
              Receive POH Status - Byte 0 Register (Address Location=0x0287).
BIT 0 - Change of AIS-P Defect Condition Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Change of AIS-P Defect Condition Interrupt has occurred
    since the last read of this register.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     Whenever the Receive STS-1 POH Processor block declares the AIS-P defect condition.
          •     Whenever the Receive STS-1 POH Processor block clears the AIS-P defect condition.
     0 - Indicates that the Change of AIS-P Defect Condition Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Change of AIS-P Defect Condition Interrupt has occurred since the last read of this register.
    NOTE: The user can determine if the Receive STS-1 POH Processor block is currently declaring the AIS-P defect
              condition by reading out the state of BIT 0 (AIS-P Defect Declared) within the Receive STS-1 Path - SONET
              Receive POH Status - Byte 0 Register (Address Location= 0x0287).
                                                                 100


                                                                                                        XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 135: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 2 (ADDRESS LOCATION =
                                                              0X028D)
     BIT 7              BIT 6          BIT 5            BIT 4         BIT 3        BIT 2           BIT 1           BIT 0
                       Unused                       Detection of   Detection of  Unused         Change in       Change in
                                                    AIS Pointer      Pointer                  TIM-P Defect      Path Trace
                                                      Interrupt     Change                      Condition        Message
                                                       Enable       Interrupt                    Interrupt       Unstable
                                                                     Enable                       Enable          Defect
                                                                                                                Condition
                                                                                                                 Interrupt
                                                                                                                  Enable
      R/O               R/O             R/O             R/W           R/W          R/O             R/W             R/W
        0                 0              0                0             0            0               0               0
BIT [7:5] - Unused
BIT 4 - Detection of AIS Pointer Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of AIS Pointer interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    an AIS Pointer, in the incoming STS-1/STS-3 data stream.
    NOTE: An AIS Pointer is defined as a condition in which both the H1 and H2 bytes (within the TOH) are each set to an
              All Ones Pattern.
     0 - Disables the Detection of AIS Pointer Interrupt.
     1 - Enables the Detection of AIS Pointer Interrupt.
BIT 3 - Detection of Pointer Change Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of Pointer Change Interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it has
    accepted a new pointer value.
     0 - Disables the Detection of Pointer Change Interrupt.
     1 - Enables the Detection of Pointer Change Interrupt.
BIT 2 - Unused
BIT 1 - Change in TIM-P (Trace Identification Mismatch) Defect Condition Interrupt
    This READ/WRITE bit-field is used to either enable or disable the Change in TIM-P Condition interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     If the TIM-P defect condition is declared.
          •     If the TIM-P defect condition is cleared.
     0 - Disables the Change in TIM-P Defect Condition Interrupt.
     1 - Enables the Change in TIM-P Defect Condition Interrupt.
BIT 0 - Change in Path Trace Message Unstable Defect Condition Interrupt Status
    This READ/WRITE bit-field is used to either enable or disable the Change in Path Trace Message Unstable Defect
    Condition Interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     Whenever the Receive STS-1 POH Processor block declares the Path Trace Message Unstable Defect
                Condition.· Whenever the Receive STS-1 POH Processor block clears the Path Trace Message Unstable
                Defect Condition.
     0 - Disables the Change in Path Trace Message Unstable Defect Condition interrupt.
                                                                101


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
      1 - Enables the Change in Path Trace Message Unstable Defect Condition interrupt.
 TABLE 136: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 1 (ADDRESS LOCATION=
                                                              0X028E)
      BIT 7              BIT 6           BIT 5          BIT 4          BIT 3        BIT 2           BIT 1          BIT 0
   New Path         Detection of      Change in      Change in     New C2 Byte  Change in        Change in       New RDI-
  Trace Mes-        REI-P Event        UNEQ-P          PLM-P         Interrupt    C2 Byte          RDI-P        PValue Inter-
   sage Inter-        Interrupt      Defect Con-   Defect Con-        Enable     Unstable        Unstable       rupt Enable
  rupt Enable           Enable       dition Inter-  dition Inter-              Defect Con-      Defect Con-
                                     rupt Enable    rupt Enable                dition Inter-    dition Inter-
                                                                               rupt Enable      rupt Enable
      R/W                R/W             R/W            R/W            R/W          R/W             R/W             R/W
         0                 0               0              0              0            0               0              0
BIT 7 - New Path Trace Message Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the New Path Trace Message Interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it has
     accepted (or validated) and new Path Trace Message.
      0 - Disables the New Path Trace Message Interrupt.
      1 - Enables the New Path Trace Message Interrupt.
BIT 6 - Detection of REI-P Event Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Detection of REI-P Event Interrupt.
     If this interrupt is enabled, then he Receive STS-1 POH Processor block will generate an interrupt anytime it detects
     an REI-P condition in the coming STS-1/STS-3 data-stream.
      0 - Disables the Detection of REI-P Event Interrupt.
      1 - Enables the Detection of REI-P Event Interrupt.
BIT 5 - Change in UNEQ-P (Path - Unequipped) Defect Condition Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Change in UNEQ-P Defect Condition interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
     of the following conditions
           •     When the Receive STS-1 POH Processor block declares the UNEQ-P Defect Condition.
           •     When the Receive STS-1 POH Processor block clears the UNEQ-P Defect Condition.
      0 - Disables the Change in UNEQ-P Defect Condition Interrupt.
      1 - Enables the Change in UNEQ-P Defect Condition Interrupt.
BIT 4 - Change in PLM-P (Path - Payload Label Mismatch) Defect Condition Interrupt Enable
     This READ/WRITE bit is used to either enable or disable the Change in PLM-P Defect Condition interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
     of the following conditions.
           •     Whenever the Receive STS-1 POH Processor block declares the PLM-P defect Condition.
           •     Whenever the Receive STS-1 POH Processor block clears the PLM-P defect Condition.
      0 - Disables the Change in PLM-P Defect Condition Interrupt.
      1 - Enables the Change in PLM-P Defect Condition Interrupt.
BIT 3 - New C2 Byte Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the New C2 Byte Interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it has
     accepted a new C2 byte.
      0 - Disables the New C2 Byte Interrupt.
                                                                 102


                                                                                                         XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      1 - Enables the New C2 Byte Interrupt.
     NOTE: The user can obtain the value of this New C2 byte by reading the contents of the Receive STS-1 Path -
               Received Path Label Value Register (Address Location= 0x0296).
BIT 2 - Change in C2 Byte Unstable Defect Condition Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Change in C2 Byte Unstable Condition Interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
     of the following events.
           •     When the Receive STS-1 POH Processor block declares the C2 Byte Unstable defect condition.
           •     When the Receive STS-1 POH Processor block clears the C2 Byte Unstable defect condition.
      0 - Disables the Change in C2 Byte Unstable Defect Condition Interrupt.
      1 - Enables the Change in C2 Byte Unstable Defect Condition Interrupt.
BIT 1 - Change in RDI-P Unstable Defect Condition Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Change in RDI-P Unstable Defect Condition interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
     of the following conditions.
           •      Whenever the Receive STS-1 POH Processor block declares the RDI-P Unstable defect condition.
           •     Whenever the Receive STS-1 POH Processor block clears the RDI-P Unstable defect condition.
      0 - Disables the Change in RDI-P Unstable Defect Condition Interrupt.
      1 - Enables the Change in RDI-P Unstable Defect Condition Interrupt.
BIT 0 - New RDI-P Value Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the New RDI-P Value interrupt.If this interrupt is enabled,
     then the Receive STS-1 POH Processor block will generate this interrupt anytime it receives and validates a new RDI-
     P value.
      0 - Disables the New RDI-P Value Interrupt.
      1 - Enable the New RDI-P Value Interrupt.
 TABLE 137: RECEIVE STS-1 PATH - SONET RECEIVE PATH INTERRUPT ENABLE - BYTE 0 (ADDRESS LOCATION=
                                                             0X028F)
      BIT 7             BIT 6           BIT 5          BIT 4         BIT 3          BIT 2           BIT 1           BIT 0
  Detection of      Detection of     Detection of   Detection of  Detection of Detection of      Change of       Change of
    B3 Byte         New Pointer       Unknown      Pointer Dec-     Pointer    NDF Pointer-        LOP-P            AIS-P
   ErrorInter-        Interrupt     Pointer Inter- rement Inter- IncrementIn-     Interrupt    DefectCondi- DefectCondi-
  ruptEnable           Enable        rupt Enable    rupt Enable     terrupt        Enable      tion Interrupt tionInterrupt
                                                                    Enable                         Enable          Enable
      R/W                R/W             R/W            R/W          R/W            R/W             R/W              R/W
         0                 0              0              0             0              0               0                0
BIT 7 - Detection of B3 Byte Error Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Detection of B3 Byte Error Interrupt.
      If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
     a B3-byte error in the incoming STS-1/STS-3 data-stream.
      0 - Disables the Detection of B3 Byte Error interrupt.
      1 - Enables the Detection of B3 Byte Error interrupt.
BIT 6 - Detection of New Pointer Interrupt Enable
     This READ/WRITE bit-field is used to either enable or disable the Detection of New Pointer interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects a
     new pointer value in the incoming STS-1/STS-3 frame.
                                                               103


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    NOTE: :Pointer Adjustments with NDF will not generate this interrupt.
     0 - Disables the Detection of New Pointer Interrupt.
     1 - Enables the Detection of New Pointer Interrupt.
BIT 5 - Detection of Unknown Pointer Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of Unknown Pointer interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects a
    Pointer Adjustment that does not fit into any of the following categories.· An Increment Pointer.· A Decrement Pointer·
    An NDF Pointer· AIS Pointer· New Pointer.
     0 - Disables the Detection of Unknown Pointer Interrupt.
     1 - Enables the Detection of Unknown Pointer Interrupt.
BIT 4 - Detection of Pointer Decrement Interrupt Enable
    This READ/WRITE bit-field is used to enable or disable the Detection of Pointer Decrement Interrupt.
    If this interrupt is enabled, then the Receive STS-1/STS-3 TOH Processor block will generate an interrupt anytime it
    detects a Pointer-Decrement event.
     0 - Disables the Detection of Pointer Decrement Interrupt.
     1 - Enables the Detection of Pointer Decrement Interrupt.
BIT 3 - Detection of Pointer Increment Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of Pointer Increment Interrupt.
     If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    a Pointer Increment event.
     0 - Disables the Detection of Pointer Increment Interrupt.
     1 - Enables the Detection of Pointer Increment Interrupt.
BIT 2 - Detection of NDF Pointer Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Detection of NDF Pointer Interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt anytime it detects
    an NDF Pointer event.
     0 - Disables the Detection of NDF Pointer interrupt.
     1 - Enables the Detection of NDF Pointer interrupt.
BIT 1 - Change of LOP-P Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change in LOP (Loss of Pointer) Condition interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     When the Receive STS-1 POH Processor block declares the LOP-P defect condition condition.
          •     When the Receive STS-1 POH Processor block clears the LOP-P defect condition.
     0 - Disable the Change of LOP-P Defect Condition Interrupt.
     1 - Enables the Change of LOP-P Defect Condition Interrupt.
    NOTE: The user can determine the current state of the LOP-P Defect condition by reading out the contents of BIT 1
              (LOP-P Defect Declared) within the Receive STS-1 Path - SONET Receive POH Status - Byte 0 (Address
              Location= 0x0287).
BIT 0 - Change of AIS-P Defect Condition Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Change of AIS-P (Path AIS) Defect Condition
    interrupt.
    If this interrupt is enabled, then the Receive STS-1 POH Processor block will generate an interrupt in response to either
    of the following events.
          •     When the Receive STS-1 POH Processor block declares the AIS-P Defect condition.
          •     When the Receive STS-1 POH Processor block clears the AIS-P Defect condition.
     0 - Disables the Change of AIS-P Defect Condition Interrupt.
                                                              104


                                                                                                     XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     1 - Enables the Change of AIS-P Defect Condition Interrupt.
    NOTE: The user can determine the current state of the AIS-P Defect Condition by reading out the contents of BIT 0
            (AIS-P Defect Declared) within the Receive STS-1 Path - SONET Receive POH Status - Byte 0 (Address
            Location= 0x0287).
     TABLE 138: RECEIVE STS-1 PATH - SONET RECEIVE RDI-P REGISTER (ADDRESS LOCATION= 0X0293)
     BIT 7          BIT 6            BIT 5         BIT 4         BIT 3           BIT 2          BIT 1             BIT 0
   Unused                   RDI-P_ACCEPT[2:0]                                  RDI-P THRESHOLD[3:0]
     R/O             R/O              R/O           R/O           R/W            R/W            R/W                R/W
       0               0               0             0             0               0              0                  0
BIT 7 - Unused
BIT [6:4] - Accepted RDI-P Value
    These READ-ONLY bit-fields contain the value of the most recently accepted RDI-P (e.g., bits 3, 2 and 1 within the G1
    byte) value that has been accepted by the Receive STS-1 POH Processor block.
    NOTE: A given RDI-P value will be accepted by the Receive STS-1 POH Processor block, if this RDI-P value has been
            consistently received in RDI-P THRESHOLD[3:0] number of STS-1/STS-3 frames.
BIT [3:0] - RDI-P Threshold[3:0]
    These READ/WRITE bit-fields are used to defined the RDI-P Acceptance Threshold for the Receive STS-1 POH
    Processor Block.
    The RDI-P Acceptance Threshold is the number of consecutive STS-1/STS-3 frames, in which the Receive STS-1 POH
    Processor block must receive a given RDI-P value, before it accepts or validates it.
    The most recently accepted RDI-P value is written into the RDI-P ACCEPT[2:0] bit-fields, within this register.
        TABLE 139: RECEIVE STS-1 PATH - RECEIVED PATH LABEL VALUE (ADDRESS LOCATION= 0X0296)
     BIT 7          BIT 6            BIT 5         BIT 4         BIT 3           BIT 2          BIT 1             BIT 0
                                               Received_C2_Byte_Value[7:0]
     R/O             R/O              R/O           R/O           R/O            R/O            R/O                R/O
       1               1               1             1             1               1              1                  1
BIT [7:0] - Received Filtered C2 Byte Value
    These READ-ONLY bit-fields contain the value of the most recently accepted C2 byte, via the Receive STS-1 POH
    Processor block.
    The Receive STS-1 POH Processor block will accept a C2 byte value (and load it into these bit-fields) if it has received
    a consistent C2 byte, in five (5) consecutive STS-1/STS-3 frames.
    NOTE: The Receive STS-1 POH Processor block uses this register, along the Receive STS-1 Path - Expected Path
            Label Value Register (Address Location = 0x0297), when declaring or clearing the UNEQ-P and PLM-P defect
            conditions.
        TABLE 140: RECEIVE STS-1 PATH - EXPECTED PATH LABEL VALUE (ADDRESS LOCATION= 0X0297)
     BIT 7          BIT 6            BIT 5         BIT 4         BIT 3           BIT 2          BIT 1             BIT 0
                                               Expected_C2_Byte_Value[7:0]
     R/W             R/W              R/W           R/W           R/W            R/W            R/W                R/W
       1               1               1             1             1               1              1                  1
BIT [7:0] - Expected C2 Byte Value
                                                          105


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
    These READ/WRITE bit-fields are used to specify the C2 (Path Label Byte) value, that the Receive STS-1 POH
    Processor block should expect when declaring or clearing the UNEQ-P and PLM-P defect conditions.
    If the contents of the Received C2 Byte Value[7:0] (see Receive STS-1 Path - Received Path Label Value register)
    matches the contents in these register, then the Receive STS-1 POH will not declare any defect conditions.
    NOTE: The Receive STS-1 POH Processor block uses this register, along with the Receive STS-1 Path - Receive Path
            Label Value Register (Address Location = 0x0296), when declaring or clearing the UNEQ-P and PLM-P defect
            conditions.
TABLE 141: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X0298)
     BIT 7             BIT 6          BIT 5           BIT 4           BIT 3            BIT 2         BIT 1         BIT 0
                                                   B3_Byte_Error_Count[31:24]
     RUR                RUR           RUR              RUR            RUR              RUR           RUR           RUR
        0                0               0               0               0               0             0             0
BIT [7:0] - B3 Byte Error Count - MSB
    This RESET-upon-READ register, along with Receive STS-1 Path - B3 Byte Error Count Register - Bytes 2 through 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a B3 byte
    error.
    NOTES:
              1. If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-bit basis, then
              it will increment this 32 bit counter by the number of bits, within the B3 byte (of each incoming STS-1/STS-3
              SPE) that are in error.
              2. If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-frame basis,
              then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains an erred
              B3 byte.
TABLE 142: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X0299)
     BIT 7             BIT 6          BIT 5           BIT 4           BIT 3            BIT 2         BIT 1         BIT 0
                                                   B3_Byte_Error_Count[23:16]
     RUR                RUR           RUR              RUR            RUR              RUR           RUR           RUR
        0                0               0               0               0               0             0             0
BIT [7:0] - B3 Byte Error Count (Bits 23 through 16)
    This RESET-upon-READ register, along with Receive STS-1 Path - B3 Byte Error Count Register - Bytes 3, 1 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a B3 byte
    error.
    NOTES:
              1. If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-bit basis, then
              it will increment this 32 bit counter by the number of bits, within the B3 byte (of each incoming STS-1/STS-3
              SPE) that are in error.
              2. If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-frame basis,
              then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains an erred
              B3 byte.
                                                               106


                                                                                                           XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 143: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X029A)
     BIT 7               BIT 6          BIT 5           BIT 4           BIT 3            BIT 2         BIT 1         BIT 0
                                                     B3_Byte_Error_Count[15:8]
     RUR                  RUR           RUR              RUR            RUR              RUR           RUR           RUR
        0                  0               0               0               0               0             0             0
BIT [7:0] - B3 Byte Error Count - (Bits 15 through 8)
    This RESET-upon-READ register, along with Receive STS-1 Path - B3 Byte Error Count Register - Bytes 3, 2 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a B3 byte
    error.
    NOTES:
     1.   If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-bit basis, then it will
          increment this 32 bit counter by the number of bits, within the B3 byte (of each incoming STS-1/STS-3 SPE) that
          are in error.
     2.   If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-frame basis, then it will
          increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains an erred B3 byte.
TABLE 144: RECEIVE STS-1 PATH - B3 BYTE ERROR COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X029B)
     BIT 7               BIT 6          BIT 5           BIT 4           BIT 3            BIT 2         BIT 1         BIT 0
                                                      B3_Byte_Error_Count[7:0]
     RUR                  RUR           RUR              RUR            RUR              RUR           RUR           RUR
        0                  0               0               0               0               0             0             0
BIT [7:0] - B3 Byte Error Count - LSB
    This RESET-upon-READ register, along with Receive STS-1 Path - B3 Byte Error Count Register - Bytes 3 through 1
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a B3 byte
    error.
    NOTES:
                1. If the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-bit basis, then
                it will increment this 32 bit counter by the number of bits, within the B3 byte (of each incoming STS-1/STS-3
                SPE) that are in error.
                2. f the Receive STS-1 POH Processor block is configured to count B3 byte errors on a per-frame basis,
                then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains an erred
                B3 byte.
  TABLE 145: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 3 (ADDRESS LOCATION= 0X029C)
     BIT 7               BIT 6          BIT 5           BIT 4           BIT 3            BIT 2         BIT 1         BIT 0
                                                      REI-P Event_Count[31:24]
     RUR                  RUR           RUR              RUR            RUR              RUR           RUR           RUR
        0                  0               0               0               0               0             0             0
BIT [7:0] - REI-P Event Count - MSB
    This RESET-upon-READ register, along with Receive STS-1 Path - REI-P Error Count Register - Bytes 2 through 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a Path -
    Remote Error Indicator event within the incoming STS-1/STS-3 SPE data-stream.
    NOTES:
                                                                 107


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                          REV. 2.0.0
     1.   If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-bit basis, then it will
          increment this 32 bit counter by the nibble-value within the REI-P field of the incoming G1 byte within each
          incoming STS-1/STS-3 SPE.
     2.   If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-frame basis, then it will
          increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains a non-zero REI-P
          value.
  TABLE 146: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 2 (ADDRESS LOCATION= 0X029D)
     BIT 7              BIT 6           BIT 5           BIT 4          BIT 3           BIT 2             BIT 1         BIT 0
                                                     REI-P_Event_Count[23:16]
     RUR                RUR             RUR             RUR             RUR             RUR              RUR           RUR
        0                 0               0               0               0               0                0             0
BIT [7:0] - REI-P Event Count (Bits 23 through 16)
    This RESET-upon-READ register, along with Receive STS-1 Path - REI-P Error Count Register - Bytes 3, 1 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a Path -
    Remote Error Indicator event within the inconing STS-1/STS-3 SPE data-stream.
    NOTES:
                1. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-bit basis, then it
                will increment this 32 bit counter by the nibble-value within the REI-P field of the incoming G1 byte within each
                incoming STS-1/STS-3 frame.
                2. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-frame basis,
                then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains a non-
                zero REI-P value.
  TABLE 147: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 1 (ADDRESS LOCATION= 0X029E)
     BIT 7              BIT 6           BIT 5           BIT 4          BIT 3           BIT 2             BIT 1         BIT 0
                                                     REI-P_Event_Count[15:8]
     RUR                RUR             RUR             RUR             RUR             RUR              RUR           RUR
        0                 0               0               0               0               0                0             0
BIT [7:0] - REI-P Event Count - (Bits 15 through 8)
    This RESET-upon-READ register, along with Receive STS-1 Path - REI-P Error Count Register - Bytes 3, 2 and 0,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a Path -
    Remote Error Indicator event within the incoming STS-1/STS-3 SPE data-stream.
    NOTES:
                1. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-bit basis, then it
                will increment this 32 bit counter by the nibble-value within the REI-P field of the incoming G1 byte within each
                incoming STS-1/STS-3 SPE.
                2. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-frame basis,
                then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains a non-
                zero REI-P value
  TABLE 148: RECEIVE STS-1 PATH - REI-P EVENT COUNT REGISTER - BYTE 0 (ADDRESS LOCATION= 0X029F)
     BIT 7              BIT 6           BIT 5           BIT 4          BIT 3           BIT 2             BIT 1         BIT 0
                                                      REI-P_Event_Count[7:0]
     RUR                RUR             RUR             RUR             RUR             RUR              RUR           RUR
        0                 0               0               0               0               0                0             0
                                                                108


                                                                                                           XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:0] - REI-P Event Count - LSB
    This RESET-upon-READ register, along with Receive STS-1 Path - REI-P Error Count Register - Bytes 3 through 1,
    function as a 32 bit counter, which is incremented anytime the Receive STS-1 POH Processor block detects a Path -
    Remote Error Indicator event within the incoming STS-1/STS-3 SPE data-stream.
    NOTES:
               1. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-bit basis, then it
               will increment this 32 bit counter by the nibble-value within the REI-P field of the incoming G1 byte.
               2. If the Receive STS-1 POH Processor block is configured to count REI-P events on a per-frame basis,
               then it will increment this 32 bit counter each time that it receives an STS-1/STS-3 SPE that contains a non-
               zero REI-P value.
  TABLE 149: RECEIVE STS-1 PATH - RECEIVE PATH TRACE MESSAGE BUFFER CONTROL REGISTER (ADDRESS
                                                      LOCATION= 0X02A3)
    BIT 7            BIT 6          BIT 5              BIT 4          BIT 3            BIT 2           BIT 1         BIT 0
            Unused               New Message         Receive         Receive        Path Trace         Receive Path Trace
                                    Ready           Path Trace     Path Trace        Message           Message Length[1:0]
                                                     Message        Message         Alignment
                                                    Buffer Read      Accept            Type
                                                      Select        Threshold
     R/O             R/O             R/O                R/W           R/W              R/W             R/W            R/W
       0               0               0                 0              0                0               0             0
BIT [7:6] - Unused
BIT 5 - New Message Ready
    This READ/WRITE bit-field indicates whether or not the Receive Path Trace Message buffer has received a new
    expected value.
     0 - Indicates NO new expected value has been downloaded into the receive J1 trace buffer.
     1 - Indicates a new expected value has been downloaded into the receive J1 trace buffer and can be used to make
    comparisons with the accepted J1 message.
BIT 4 - Receive Path Trace Message Buffer Read Selection
    This READ/WRITE bit-field is used to specify which of the following Receive Path Trace Message buffer segments to
    read.
    a. The Actual Receive Path Trace Message Buffer. The Actual Receive Path Trace Message Buffer contains the
    contents of the most recently received (and accepted) Path Trace Message via the incoming STS-1/STS-3 data-stream.
    b. The Expected Receive Path Trace Message Buffer. The Expected Receive Path Trace Message Buffer contains
    the contents of the Path Trace Message that the user expects to receive. The contents of this particular buffer are
    usually specified by the user.
     0 - Executing a READ to the Receive J1 Trace Buffer, will return contents within the Valid Message buffer.
     1 - Executing a READ to the Receive J1 Trace Buffer, will return contents within the Expected Message Buffer.
    NOTE: In the case of the Receive STS-1 POH Processor block, the Receive J1 Trace Buffer is located at Address
             Location 0x0400 through 0x043F.
BIT 3 - Path Trace Message Accept Threshold
    This READ/WRITE bit-field is used to select the number of consecutive times that the Receive STS-1 POH Processor
    block must receive a given Receive Trace Message, before it is accepted and loaded into the Receive Path Trace
    Message.
     0 - The Receive STS-1 POH Processor block accepts the Path Trace Message after it has received it the third time
    in succession.
     1 - The Receive SONET POH Processor block accepts the incoming Path Trace Message after it has received in the
    fifth time in succession.
BIT 2 - Path Trace Message Alignment Type
                                                               109


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
    This READ/WRITE bit-field is used to specify have the Receive STS-1 POH Processor block will locate the boundary
    of the J1 Trace Message.
     0 - Message boundary is indicated by Line Feed.
     1 - Message boundary is indicated by the presence of a 1 in the MSB of a the first byte (within the J1 Trace Message).
BIT [1:0] - Path Trace Message Length[1:0]
    These READ/WRITE bit-fields are used to specify the length of the Receive Path Trace Message that the Receive STS-
    1 POH Processor block will receive. The relationship between the content of these bit-fields and the corresponding
    Receive Path Trace Message Length is presented below.
Receive Trace Path Message Length
  MSG LENGTH[1:0]              RESULTING PATH TRACE MESSAGE LENGTH
            00                                    1 Byte
            01                                   16 Bytes
         10/11                                   64 Bytes
           TABLE 150: RECEIVE STS-1 PATH - POINTER VALUE - BYTE 1 (ADDRESS LOCATION= 0X02A6)
     BIT 7            BIT 6           BIT 5            BIT 4         BIT 3        BIT 2            BIT 1           BIT 0
                                             Unused                                                Current_Pointer Val-
                                                                                                        ueMSB[9:8]
     R/O               R/O             R/O              R/O          R/O          R/O               R/O             R/O
       0                0               0                0             0            0                 0              0
BIT [7:2] - Unused
BIT [1:0]Current Pointer Value - MSB
    These READ-ONLY bit-fields, along with that from the Receive STS-1 Path - Pointer Value - Byte 0 Register combine
    to reflect the current value of the pointer that the Receive STS-1 POH Processor block is using to locate the SPE within
    the incoming STS-1/STS-3 data stream.Note
    These register bits comprise the Upper Byte value of the Pointer Value.
           TABLE 151: RECEIVE STS-1 PATH - POINTER VALUE - BYTE 0 (ADDRESS LOCATION= 0X02A7)
     BIT 7            BIT 6           BIT 5            BIT 4         BIT 3        BIT 2            BIT 1           BIT 0
                                                 Current_Pointer_Value_LSB[7:0]
     R/O               R/O             R/O              R/O          R/O          R/O               R/O             R/O
       0                0               0                0             0            0                 0              0
BIT [7:0] - Current Pointer Value - LSB
    These READ-ONLY bit-fields, along with that from the Receive STS-1 Path - Pointer Value - Byte 1 Register combine
    to reflect the current value of the pointer that the Receive STS-1 POH Processor block is using to locate the SPE within
    the incoming STS-1/STS-3 data stream.Note
    These register bits comprise the Lower Byte value of the Pointer Value.
                                                               110


                                                                                                       XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 152: RECEIVE STM-1 PATH - LOSS OF POINTER CONCATENATION DEFECT (ADDRESS LOCATION= 0X02AB)
     BIT 7            BIT 6          BIT 5          BIT 4           BIT 3           BIT 2          BIT 1          BIT 0
                                    Unused                                         LOP-C          LOP-C         Unused
                                                                                   Defect         Defect
                                                                                  Declared       Declared
                                                                                STS-1/STM0 STS-1/STM0
                                                                                time-slot #3 time-slot #2
     R/O               R/O            R/O            R/O             R/O            R/O            R/O             R/O
       0                0              0              0                0              0              0              0
BIT [7:3] - Unused
BIT 2 - Loss of Pointer Concatenation Defect Declaration on STM-0/EC-1/STS-1 Time Slot #3
    This READ-ONLY bit-field indicates whether or not the Receive STM-1 POH Processor block is declaring the LOP-C
    (Loss of Pointer – Concatenation) defect condition with STM-0/EC-1/STS-1 time-slot #3 (within the incoming STM-1
    signal).
    The Receive STM-1 POH Processor block will declare the LOP-C defect condition, with STM-0/EC-1/STS-1 time-slot
    #3; if it does not receive the “Concatenation Indicator” value of “0x93FF” in the H1, H2 bytes (associated with STM-
    0/EC-1/STS-1 time-slot # 3) for 8 consecutive STM-1 frames.
     0 – Indicates that the Receive STM-1 POH Processor block is NOT currently declaring the LOP-C defect condition
    with STM-0/EC-1/STS-1 time-slot #3 within the incoming STM-1 data-stream.
     1 – Indicates that the Receive STM-1 POH Processor block is currently declaring the LOP-C defect condition with
    STM-0/EC-1/STS-1 timeslot #3 within the incoming STM-1 data-stream.
    NOTE: This bit-field is only valid if the XRT86SH328 is receiving and processing an STM-1 signal.
BIT 1 - Loss of Pointer Concatenation Defect Declaration on STM-0/EC-1/STS-1 Time Slot #2
    This READ-ONLY bit-field indicates whether or not the Receive STM-1 POH Processor block is declaring the LOP-C
    (Loss of Pointer – Concatenation) defect condition with STM-0/EC-1/STS-1 time-slot #2 (within the incoming STM-1
    signal).
    The Receive STM-1 POH Processor block will declare the LOP-C defect condition, with STM-0/EC-1/STS-1 time-slot
    #2; if it does not receive the “Concatenation Indicator” value of “0x93FF” in the H1, H2 bytes (associated with STM-
    0/EC-1/STS-1 time-slot #2) for 8 consecutive STM-1 frames.
     0 – Indicates that the Receive STM-1 POH Processor block is NOT currently declaring the LOP-C defect condition
    with STM-0/EC-1/STS-1 time-slot #2 within the incoming STM-1 data-stream.
     1 – Indicates that the Receive STM-1 POH Processor block is currently declaring the LOP-C defect condition with
    STM-0/EC-1/STS-1 timeslot #2 within the incoming STM-1 data-stream.
    NOTE: This bit-field is only valid if the XRT86SH328 is receiving and processing an STM-1 signal.
BIT 0 - Unused
        TABLE 153: RECEIVE STM-1 PATH - AIS CONCATENATION DEFECT (ADDRESS LOCATION= 0X02B3)
     BIT 7            BIT 6          BIT 5          BIT 4           BIT 3           BIT 2          BIT 1          BIT 0
                                    Unused                                      AIS-C Defect AIS-C Defect       Unused
                                                                                  Declared       Declared
                                                                                STS-1/STM0 STS-1/STM0
                                                                                time-slot #3 time-slot #2
     R/O               R/O            R/O            R/O             R/O            R/O            R/O             R/O
       0                0              0              0                0              0              0              0
BIT [7:3] - Unused
BIT 2 - Alarm Indication Signal Concatenation Defect Declaration on STM-0/EC-1/STS-1 Time Slot #3
                                                             111


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    This READ-ONLY bit-field indicates whether or not the Receive STM-1 POH Processor block is declaring the AIS-C
    (AIS – Concatenation) defect condition with STM-0/EC-1/STS-1 timeslot #3 (within the incoming STM-1 signal).
    The Receive STM-1 POH Processor block will declare the AIS-C defect condition, with STM-0/EC-1/STS-1 time-slot #3;
    if it receives an “All Ones” string; in the H1, H2 bytes (associated with STM-0/EC-1/STS-1 timeslot #3) for 3 consecutive
    STM-1 frames.
     0 – Indicates that the Receive STM-1 POH Processor block is NOT currently declaring the AIS-C defect condition with
    STM-0/EC-1/STS-1 time-slot #3.
    1 – Indicates that the Receive STM-1 POH Processor block is currently declaring the AIS-C defect condition with STM-
    0/EC-1/STS-1 timeslot #3.
    NOTE: This bit-field is only valid if the XRT86SH328 is receiving and processing an STM-1 signal.
BIT 1 - Alarm Indication Signal Concatenation Defect Declaration on STM-0/EC-1/STS-1 Time Slot #2
    This READ-ONLY bit-field indicates whether or not the Receive STM-1 POH Processor block is declaring the AIS-C
    (AIS – Concatenation) defect condition with STM-0/EC-1/STS-1 timeslot #2 (within the incoming STM-1 signal).
    The Receive STM-1 POH Processor block will declare the AIS-C defect condition, with STM-0/EC-1/STS-1 time-slot #2;
    if it receives an “All Ones” string; in the H1, H2 bytes (associated with STM-0/EC-1/STS-1 timeslot #2) for 3 consecutive
    STM-1 frames.
     0 – Indicates that the Receive STM-1 POH Processor block is NOT currently declaring the AIS-C defect condition with
    STM-0/EC-1/STS-1 time-slot #2.
    1 – Indicates that the Receive STM-1 POH Processor block is currently declaring the AIS-C defect condition with STM-
    0/EC-1/STS-1 timeslot #2.
    NOTE: This bit-field is only valid if the XRT86SH328 is receiving and processing an STM-1 signal.
BIT 0 - Unused
   TABLE 154: RECEIVE STS-1 PATH - RECEIVE AUTO AIS - C2 BYTE VALUE REGISTER (ADDRESS = 0X02B9)
     BIT7              BIT6            BIT 5           BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
                                                    Defect_C2_Byte_Value[7:0]
      R/W              R/W              R/W             R/W            R/W           R/W             R/W             R/W
         0               0                0              0               0             0              0               0
BIT [7:0] - Defect_C2_Byte_Value[7:0]
    These READ/WRITE bit-fields are used to configure the Receive STS-1 POH Processor block to automatically force
    the transmission of the DS1/E1 AIS pattern (in the Egress Direction of all 28 channels) anytime it accepts a C2 byte
    value matching that written into this register.
    NOTE: The chip will only automatically transmit the DS1/E1 AIS Pattern if BIT 1 (Defect C2 Byte Downstream AIS
              Enable), within the Receive STS-1 Path - Receive Auto AIS - C2 Byte Control Register is set to 1.
 TABLE 155: RECEIVE STS-1 PATH - RECEIVE AUTO AIS - C2 BYTE CONTROL REGISTER (ADDRESS = 0X02BA)
     BIT7              BIT6            BIT 5           BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
                                               Unused                                            Defect C2         Unused
                                                                                                Byte Down-
                                                                                                 stream AIS
                                                                                                   Enable
      R/O              R/O              R/O             R/O            R/O           R/O             R/W             R/O
         0               0                0              0               0             0              0               0
BIT [7:2] - Unused
BIT 1] - Defect C2 Byte Downstream AIS Enable
BIT 0 - Unused
                                                                112


                                                                                                         XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
       TABLE 156: RECEIVE STS-1 PATH - AUTO AIS CONTROL REGISTER (ADDRESS LOCATION= 0X02BB)
    BIT 7            BIT 6           BIT 5          BIT 4            BIT 3           BIT 2           BIT 1          BIT 0
   Unused          Transmit        Transmit       Transmit         Transmit        Transmit        Transmit       Transmit
                     AIS-P           AIS-P          AIS-P            AIS-P           AIS-P           AIS-P          AIS-P
                    (Down-          (Down-         (Down-           (Down-          (Down-          (Down-         (Down-
                    stream)         stream)        stream)          stream)     stream) upon   stream) upon        stream)
                   Upon C2           Upon       Upon PLM-P        Upon Path          TIM-P          LOP-P          Enable
                      Byte         UNEQ-P                            Trace
                   Unstable                                        Message
                                                                   Unstable
     R/O              R/W             R/W            R/W              R/W             R/W             R/W            R/W
       0                0               0              0                0              0               0               0
BIT 7 - Unused
BIT 6 - Transmit Path AIS (Downstream) upon Declaration of the Unstable C2 Byte Defect Condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit the
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the Unstable C2 Byte Defect condition within the incoming
    STS-1/STS-3 data-stream.
     0 - Does not configure the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the Unstable C2 Byte defect condition.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the Unstable C2 Byte defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
            block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 5 - Transmit Path AIS (Downstream) upon Declaration of the UNEQ-P (Path - Unequipped) Defect Condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit the
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the UNEQ-P defect condition.
     0 - Does not configure the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the UNEQ-P defect condition.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the UNEQ-P defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
            block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 4 - Transmit Path AIS (Downstream) upon Declaration of the PLM-P (Path - Payload Label Mismatch) Defect
Condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit the
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the PLM-P defect condition.
     0 - Does not configure the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the PLM-P defect condition.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the PLM-P defect condition.Note
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
            block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 3 - Transmit Path AIS (Downstream) upon declaration of the Path Trace Message Unstable Defect Condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit the
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the Path Trace Message Unstable defect condition within
                                                              113


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    the incoming STS-1/STS-3 data-stream.
     0 - Does not configure the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the Path Trace Message Unstable defect condition.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic) whenever it declares the Path Trace Message Unstable defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
             block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 2 - Transmit Path AIS (Downstream) upon declaration of the TIM-P (Path Trace Message Identification
Mismatch) defect condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit a
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the TIM-P defect condition within the incoming STS-
    1/STS-3 data-stream.
     0 - Does not configure the Receive STS-1 POH Processor block to transmit the AIS-P indicator (via the downstream
    traffic) whenever it declares the TIM-P defect condition.
     1 - Configures the Receive STS-1 POH Processor block to transmit the AIS-P indicator (via the downstream traffic)
    whenever it declares the TIM-P defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
             block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 1 - Transmit Path AIS (Downstream) upon Detection of Loss of Pointer (LOP-P) Defect Condition
    This READ/WRITE bit-field is used to configure the Receive STS-1 POH Processor block to automatically transmit the
    Path AIS (AIS-P) Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1
    Framer blocks), anytime (and for the duration that) it declares the LOP-P defect condition within the incoming STS-
    1/STS-3 data-stream.
     0 - Does not configure the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic, towards the corresponding Transmit SONET POH Processor block) whenever it declares the LOP-
    P defect condition.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic, towards the corresponding Transmit SONET POH Processor block) whenever it declares the LOP-
    P defect condition.
    NOTE: The user must also set BIT 0 (Transmit AIS-P Enable) to 1 to configure the Receive STS-1 POH Processor
             block to automatically transmit the AIS-P indicator, in response to this defect condition.
BIT 0 - Automatic Transmission of AIS-P Enable
    This READ/WRITE bit-field serves two purposes.
          •    It is used to configure the Receive STS-1 POH Processor block to automatically transmit the Path AIS
               indicator, via the down-stream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1 Framer
               blocks), upon detection of an UNEQ-P, PLM-P, LOP-P or LOS conditions.
          •    It also is used to configure the Receive STS-1 POH Processor block to automatically transmit a Path (AIS-P)
               Indicator via the downstream traffic (e.g., towards each of the 28 Egress Direction Transmit DS1/E1 Framer
               blocks) anytime it detects an AIS-P condition in the incoming STS-1/STS-3 data-stream.
     0 - Configures the Receive STS-1 POH Processor block to NOT automatically transmit the AIS-P indicator (via the
    downstream traffic, towards each of the 28 Egress Direction Transmit DS1/E1 Framer blocks) whenever it declares any
    of the above-mentioned defect conditions.
     1 - Configures the Receive STS-1 POH Processor block to automatically transmit the AIS-P indicator (via the
    downstream traffic, towards each of the 28 Egress Direction Transmit DS1/E1 Framer blocks) whenever it declares any
    of the above-mentioned defect condition.
    NOTE: The user must also set the corresponding bit-fields (within this register) to 1 in order to configure the Receive
             STS-1 POH Processor block to automatically transmit the AIS-P indicator upon detection of a given
             alarm/defect condition.
                                                                114


                                                                                                     XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      TABLE 157: RECEIVE STS-1 PATH - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION= 0X02BF)
     BIT 7           BIT 6           BIT 5           BIT 4          BIT 3         BIT 2          BIT 1         BIT 0
                           Unused                                              RxPOH Clock Speed[3:0]
     R/W             R/W              R/W             R/W            R/W           R/W            R/W           R/W
       0               0               0               0              0             0              0             0
BIT [7:4] - Unused
BIT [3:0] - RxPOHClk Output Clock Signal Speed
    These READ/WRITE bit-fields are used to specify the frequency of the RxPOHClk output clock signal. The formula that
    relates the contents of these register bits to the RxPOHClk frequency is presented below.
    FREQ = 51.84 /[2 * (RxPOH_CLOCK_SPEED + 1)
    For STS-3/STM-1 applications, the frequency of the RxPOHClk output signal must be in the range of 2.36MHz to
    25.92MHz
 TABLE 158: RECEIVE STS-1 PATH - SONET RECEIVE AUTO ALARM REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                           0X02C3)
     BIT 7           BIT 6           BIT 5           BIT 4          BIT 3         BIT 2          BIT 1         BIT 0
 Transmit AIS      Unused        Transmit AIS       Unused     Transmit AIS   Transmit AIS   Transmit AIS     Unused
      (via                        (via Down-                     (via Down-    (via Down-     (via Down-
 Downstream                         stream                         stream        stream         stream
   T1/E1s)                          T1/E1s)                        T1/E1s)       T1/E1s)        T1/E1s)
 upon LOP-P                      uponPLM-P                     upon UNEQ-     upon TIM-P      upon AIS-P
                                                                      P
     R/W             R/W              R/W             R/O            R/W           R/W            R/W           R/O
       0               0               0               0              0             0              0             0
BIT 7 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the LOP-P defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime (and for the duration that)
    the Receive STS-1 POH Processor block declares the LOP-P defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime the Receive STS-1 POH Processor block declares
    the LOP-P defect.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signal, anytime (and for the duration that) the Receive STS-1 POH Processor
    block declares the LOP-P defect.
BIT 6 - Unused
BIT 5 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the PLM-P defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime (and for the duration that)
    the Receive STS-1 POH Processor block declares the PLM-P defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime the Receive STS-1 POH Processor block declares
    the PLM-P defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1 POH
    Processor block declares the PLM-P defect condition.
BIT 4 - Unused
                                                             115


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
BIT 3 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the UNEQ-P defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1 POH Processor block declares the UNEQ-P defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime the Receive STS-1 POH Processor block declares
    the UNEQ-P defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1 POH
    Processor block declares the UNEQ-P defect condition.
BIT 2 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon declaration of the TIM-P defect condition
    This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1 POH Processor block declares the TIM-P defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime the Receive STS-1 POH Processor block declares
    the TIM-P defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1
    AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1 POH
    Processor block declares the TIM-P defect condition.
BIT 1 - Transmit DS1/E1 AIS (via Downstream T1/E1s) upon AIS-P
     This READ/WRITE bit-field is used to configure each of the 28 Egress Direction Transmit DS1/E1 Framer blocks to
    automatically transmit the DS1/E1 AIS Indicator via the downstream DS1/E1 signals, anytime (and for the duration that)
    the Receive STS-1 POH Processor block declares the AIS-P defect condition.
     0 - Does not configure all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the
    DS1/E1 AIS Indicator via the downstream DS1/E1 signal, anytime the Receive STS-1 POH Processor block declares
    the AIS-P defect condition.
     1 - Configures all 28 of the Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the AIS-P
    Indicator via the downstream DS1/E1 signals, anytime (and for the duration that) the Receive STS-1 POH Processor
    block declares the AIS-P defect condition.
BIT 0 - Unused
    TABLE 159: RECEIVE STS-1 PATH - RECEIVE NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1
                                                   (ADDRESS = 0X02C4)
     BIT7            BIT6           BIT 5           BIT 4          BIT 3           BIT 2         BIT 1          BIT 0
                                     Receive Negative Pointer Adjustment Count[15:8]
     RUR             RUR            RUR             RUR            RUR             RUR           RUR            RUR
       0               0               0              0              0               0             0              0
BIT [7:0] - Receive Negative Pointer Adjustment Count - MSB
    These RESET-upon-READ bits, along with that in Receive STS-1 Path - Receive Negative Pointer Adjustment Count
    Register - Byte 0 present a 16-bit representation of the number of Negative (or Decrementing) Pointer Adjustments that
    the Receive STS-1 POH Processor block has detected since the last read of these registers.
    NOTE: This register contains the MSB (Most Significant Bits) of this 16-bit expression.
                                                             116


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    TABLE 160: RECEIVE STS-1 PATH - RECEIVE NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 0
                                                   (ADDRESS = 0X02C5)
     BIT7            BIT6           BIT 5           BIT 4           BIT 3            BIT 2        BIT 1         BIT 0
                                      Receive Negative Pointer Adjustment Count[7:0]
     RUR             RUR             RUR            RUR             RUR              RUR          RUR            RUR
       0               0               0              0               0                0            0             0
BIT [7:0] - Receive Negative Pointer Adjustment Count - LSB
    These RESET-upon-READ bits, along with that in Receive STS-1 Path - Receive Negative Pointer Adjustment Count
    Register - Byte 1 present a 16-bit representation of the number of Negative (or Decrementing) Pointer Adjustments that
    the Receive STS-1 POH Processor block has detected since the last read of these registers.
    NOTE: This register contains the LSB (Least Significant Bits) of this 16-bit expression.
     TABLE 161: RECEIVE STS-1 PATH - RECEIVE POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 1
                                                   (ADDRESS = 0X02C6)
     BIT7            BIT6           BIT 5           BIT 4           BIT 3            BIT 2        BIT 1         BIT 0
                                      Receive Positive Pointer Adjustment Count[15:8]
     RUR             RUR             RUR            RUR             RUR              RUR          RUR            RUR
       0               0               0              0               0                0            0             0
BIT [7:0] - Receive Positive Pointer Adjustment Count - MSB
    These RESET-upon-READ bits, along with that in Receive STS-1 Path - Receive Positive Pointer Adjustment Count
    Register - Byte 0 present a 16-bit representation of the number of Positive (or Incrementing) Pointer Adjustments that
    the Receive STS-1 POH Processor block has detected since the last read of these registers.
    NOTE: This register contains the MSB (Most Significant Bits) of this 16-bit expression.
     TABLE 162: RECEIVE STS-1 PATH - RECEIVE POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE 0
                                                   (ADDRESS = 0X02C7)
     BIT7            BIT6           BIT 5           BIT 4           BIT 3            BIT 2        BIT 1         BIT 0
                                       Receive Positive Pointer Adjustment Count[7:0]
     RUR             RUR             RUR            RUR             RUR              RUR          RUR            RUR
       0               0               0              0               0                0            0             0
BIT [7:0] - Receive Positive Pointer Adjustment Count - LSB
    These RESET-upon-READ bits, along with that in Receive STS-1 Path - Receive Positive Pointer Adjustment Count
    Register - Byte 1 present a 16-bit representation of the number of Positive (or Incrementing) Pointer Adjustments that
    the Receive STS-1 POH Processor block has detected since the last read of these registers.
    NOTE:    This register contains the LSB (Least Significant Bits) of this 16-bit expression.
   TABLE 163: RECEIVE STS-1 PATH - RECEIVE J1 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02D3)
     BIT 7          BIT 6           BIT 5           BIT 4           BIT 3            BIT 2       BIT 1          BIT 0
                                               J1_Byte_Captured_Value[7:0]
      R/O            R/O             R/O             R/O             R/O              R/O         R/O            R/O
       0               0               0              0               0                0            0             0
                                                             117


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
BIT [7:0] - J1 Byte Captured Value[7:0]
     These READ-ONLY bit-fields contain the value of the J1 byte, within the most recently received STS-1/STS-3 frame.
     This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
     period, this value will be overridden with a new J1 byte value.
   TABLE 164: RECEIVE STS-1 PATH - RECEIVE B3 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02D7)
     BIT 7            BIT 6            BIT 5            BIT 4        BIT 3          BIT 2          BIT 1        BIT 0
                                                  B3_Byte_Captured_Value[7:0]
      R/O             R/O              R/O              R/O           R/O            R/O            R/O          R/O
       0                0                0                0            0              0              0            0
BIT [7:0] - B3 Byte Captured Value[7:0]
     These READ-ONLY bit-fields contain the value of the B3 byte, within the most recently received STS-1/STS-3 frame.
    This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
    period, this value will be overridden with a new B3 byte value.
   TABLE 165: RECEIVE STS-1 PATH - RECEIVE C2 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02DB)
     BIT 7            BIT 6            BIT 5            BIT 4        BIT 3          BIT 2          BIT 1        BIT 0
                                                  C2_Byte_Captured_Value[7:0]
      R/O             R/O              R/O              R/O           R/O            R/O            R/O          R/O
       0                0                0                0            0              0              0            0
BIT [7:0] - C2 Byte Captured Value[7:0]
     These READ-ONLY bit-fields contain the value of the C2 byte, within the most recently received STS-1/STS-3 frame.
     This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
     period, this value will be overridden with a new C2 byte value.
   TABLE 166: RECEIVE STS-1 PATH - RECEIVE G1 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02DF)
     BIT 7            BIT 6            BIT 5            BIT 4        BIT 3          BIT 2          BIT 1        BIT 0
                                                  G1_Byte_Captured_Value[7:0]
      R/O             R/O              R/O              R/O           R/O            R/O            R/O          R/O
       0                0                0                0            0              0              0            0
BIT [7:0] - G1 Byte Captured Value[7:0]
     These READ-ONLY bit-fields contain the value of the G1 byte, within the most recently received STS-1/STS-3 frame.
     This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
     period, this value will be overridden with a new G1 byte value.
    TABLE 167: RECEIVE STS-1 PATH - RECEIVE F2 BYTE CAPTURE REGISTER (ADDRESS LOCATION=0X02E3)
     BIT 7            BIT 6            BIT 5            BIT 4        BIT 3          BIT 2          BIT 1        BIT 0
                                                  F2_Byte_Captured_Value[7:0]
      R/O             R/O              R/O              R/O           R/O            R/O            R/O          R/O
       0                0                0                0            0              0              0            0
BIT [7:0] - F2 Byte Captured Value[7:0]
     These READ-ONLY bit-fields contain the value of the F2 byte, within the most recently received STS-1/STS-3 frame.
                                                               118


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
    period, this value will be overridden with a new F2 byte value.
   TABLE 168: RECEIVE STS-1 PATH - RECEIVE H4 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02E7)
     BIT 7           BIT 6            BIT 5            BIT 4         BIT 3         BIT 2          BIT 1         BIT 0
                                                 H4_Byte_Captured_Value[7:0]
      R/O            R/O              R/O              R/O            R/O           R/O            R/O           R/O
       0               0                0                0             0             0              0             0
BIT [7:0] - H4 Byte Captured Value[7:0]
    These READ-ONLY bit-fields contain the value of the H4 byte, within the most recently received STS-1/STS-3 frame.
    This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
    period, this value will be overridden with a new H4 byte value.
   TABLE 169: RECEIVE STS-1 PATH - RECEIVE Z3 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02EB)
     BIT 7           BIT 6            BIT 5            BIT 4         BIT 3         BIT 2          BIT 1         BIT 0
                                                 Z3_Byte_Captured_Value[7:0]
      R/O            R/O              R/O              R/O            R/O           R/O            R/O           R/O
       0               0                0                0             0             0              0             0
BIT [7:0] - Z3 Byte Captured Value[7:0]
    These READ-ONLY bit-fields contain the value of the Z3 byte, within the most recently received STS-1/STS-3 frame.
    This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
    period, this value will be overridden with a new Z3 byte value.
TABLE 170: RECEIVE STS-1 PATH - RECEIVE Z4 (K3) BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02EF)
     BIT 7           BIT 6            BIT 5            BIT 4         BIT 3         BIT 2          BIT 1         BIT 0
                                               Z4(K3)_Byte_Captured_Value[7:0]
      R/O            R/O              R/O              R/O            R/O           R/O            R/O           R/O
       0               0                0                0             0             0              0             0
BIT [7:0] - Z4 (K3) Byte Captured Value[7:0]
    These READ-ONLY bit-fields contain the value of the Z4 (K3) byte, within the most recently received STS-1/STS-3
    frame. This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3
    frame period, this value will be overridden with a new Z4 (K3) byte value.
   TABLE 171: RECEIVE STS-1 PATH - RECEIVE Z5 BYTE CAPTURE REGISTER (ADDRESS LOCATION= 0X02F3)
     BIT 7           BIT 6            BIT 5            BIT 4         BIT 3         BIT 2          BIT 1         BIT 0
                                                 Z5_Byte_Captured_Value[7:0]
      R/O            R/O              R/O              R/O            R/O           R/O            R/O           R/O
       0               0                0                0             0             0              0             0
BIT [7:0] - Z5 Byte Captured Value[7:0]
    These READ-ONLY bit-fields contain the value of the Z5 byte, within the most recently received STS-1/STS-3 frame.
    This particular value is stored in this register for one STS-1/STS-3 frame period. During the next STS-1/STS-3 frame
    period, this value will be overridden with a new Z5 byte value.
                                                               119


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                            REV. 2.0.0
 2.4     RECEIVE TUG-3 MAPPER/VC-4                  POH       PROCESSOR            BLOCK     REGISTERS             (SDH/TUG-3
         APPLICATIONS ONLY)
The register map for the Receive TU-3 Mapper/VC-4 POH Processor block is presented and discussed in
detail within the "SDH Version of the Register Map".
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328 device, with the Receive TUG-3 Maper/VC-4 POH Processor block "highlighted" is presented
below in Figure 5.
FIGURE 5. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE RECEIVE
TUG-3 MAPPER/VC-4 POH PROCESSOR BLOCK "HIGHLIGHTED"
             Transmit   Transmit                                                   Ingress    Ingress
              Transmit   Transmit                                                                           Receive
              STM-1      TUG-3      Transmit                        VT/TU         Direction  Direction
               STM-1      TUG-3      Transmit                        VT/TU                                  DS1/E1
               SOH       Mapper/    VC-3                            Mapper        Transmit    Receive
                SOH       Mapper/    VC-3POH
                                          POH                        Mapper        DS1/E1     DS1/E1         LIU
             Processor  VC-4
                         VC-4POH
                              POH   Processor                        Block
              Processor              Processor                        Block        Framer     Framer         Block
               Block    Processor
                         Processor    Block
                Block                  Block                                        Block      Block
                          Block
                           Block
                                                                                                     DS1/E1 Channel 0
                                              From TU Channels 1 - 27
                                                  From DS2 Channels 1 - 6
                                    Transmit
                                     Transmit        M23
                                                       M23                      M12
                                       DS3
                                        DS3                                                    From DS1/E1 Channels 1 - 3
             STS-1/                                 MUX
                                                      MUX                      MUX
              STS-1/                 Framer
                                      Framer
             STM-0                                  Block
                                                      Block                    Block
              STM-0                   Block
                                       Block
            Telecom
             Telecom                                       DS2 Channel 0
               Bus
                Bus                  Receive
                                      Receive
            Interface
             Interface                                M23
                                                       M23                      M12
                                       DS3
                                        DS3                                                    To DS1/E1 Channels 1 - 3
                                                   De-MUX
                                                    De-MUX                   De-MUX
                                     Framer
                                      Framer         Block
                                                       Block                   Block
                                      Block
                                       Block
                                                                            DS2 Channel 0
                                              To TU
                                                                                                To DS2 Channels 1 - 6
                                          Channels 1 - 27
                         Receive
                          Receive                                                 Egress     Egress
              Receive
               Receive   TUG-3       Receive                        DS1/E1       Direction  Direction     Transmit
                          TUG-3       Receive         VT/TU
              STM-1     Mapper/    VC-3                                           Receive   Transmit
               STM-1
               SOH
                         Mapper/    VC-3POH
                                          POH      De-Mapper
                                                                     Jitter                                DS1/E1
                SOH       VC-4
                           VC-4     Processor                        Atten        DS1/E1     DS1/E1          LIU
             Processor               Processor         Block
              Processor   POH
                           POH        Block                          Block        Framer     Framer         Block
               Block                   Block
                Block   Processor
                         Processor                                                 Block      Block
                          Block
                           Block                                                                     DS1/E1 Channel 0
For detailed on the "Receive TUG-3 Mapper/VC-4 POH Processor Block" Registers, please see the
"XRT86SH328 28-Channel DS1/E1 Framer/LIU with DS3 MUX and TU-Mapper IC - Register Map &
Description - SDH Applications"
 2.5     TRANSMIT STS-1/STS-3 TOH PROCESSOR BLOCK REGISTERS
The register map for the Transmit STS-1/STS-3 TOH Processor block is presented in the Table below.
Additionally, a detailed description of each of the Transmit STS-1/STS-3 TOH Processor Block registers is
presented below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with the Transmit STS-1/STS-3 TOH Processor Block highlighted is presented below in
Figure 6.
                                                            120


                                                                                                                  XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
FIGURE 6. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE TRANSMIT STS-
1/STS-3 TOH PROCESSOR BLOCK HIGHLIGHTED
                             Transmit                                                     Ingress     Ingress
                              Transmit       Transmit
                                              Transmit                                   Direction   Direction      Receive
                              STS-1/3       STS-1                          VT/TU
                               STS-1/3
                               TOH           STS-1POH
                                                    POH                     VT/TU
                                                                          Mapper         Transmit     Receive       DS1/E1
                                TOH          Processor
                                              Processor                    Mapper         DS1/E1      DS1/E1         LIU
                             Processor
                              Processor        Block                        Block
                                                                             Block
                                                Block                                     Framer      Framer         Block
                               Block
                                Block
              STS-1/
                STS-1/                                                                     Block       Block
               STS-3
                STS-3                                                                                        DS1/E1 Channel 0
             Telecom
              Telecom                      From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface                                  From DS2 Channels 1 - 6
              Interface
                                           Transmit
                                            Transmit         M23
                                                              M23                      M12
                                              DS3
                                               DS3                                                     From DS1/E1 Channels 1 - 3
                                                            MUX
                                                             MUX                      MUX
                                            Framer
                                             Framer
               DS3/                                         Block
                                                             Block                    Block
                 DS3/                        Block
                                              Block
               STS-1
                STS-1                                             DS2 Channel 0
                LIU
                 LIU
             Interface                      Receive
                                             Receive
              Interface                                      M23
                                                              M23                      M12
                                              DS3
                                               DS3                                                     To DS1/E1 Channels 1 - 3
                                                          De-MUX
                                                           De-MUX                   De-MUX
                                            Framer
                                             Framer          Block
                                                              Block                   Block
                                             Block
                                              Block
                                                                                   DS2 Channel 0
                                                  To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                                Channels 1 - 27
                                                                                         Egress      Egress
                           Receive
                            Receive        Receive                         DS1/E1       Direction   Direction     Transmit
                           STS-1/3          Receive           VT/TU
                            STS-1/3      STS-1
                                          STS-1POH
                                                 POH                        Jitter       Receive    Transmit       DS1/E1
                            TOH                           De-Mapper
                             TOH          Processor
                                           Processor                        Atten        DS1/E1      DS1/E1          LIU
                          Processor                           Block
                           Processor        Block
                                             Block                          Block        Framer      Framer         Block
                            Block
                             Block                                                        Block       Block
                                                                                                             DS1/E1 Channel 0
TABLE 172: TRANSMIT STS-1/STS-3 TRANSPORT- TRANSMIT CONTROL REGISTER - BYTE 3 (ADDRESS LOCATION =
                                                                0X0700)
     BIT7              BIT6            BIT 5            BIT 4             BIT 3              BIT 2          BIT 1               BIT 0
                             Unused                                                          Control_Pointer[3:0]
     R/O               R/O              R/O               R/O              R/W                R/W            R/W                R/W
       0                0                0                  0                 0                  0             0                  0
BIT [7:4] - Unused
BIT [3:0] - Control_Pointer[3:0]
    This pointer value is used to select the slot in current TxSOH group (up to 3) to be programmed.
     0000 - Slot 0
     0001 - Slot 1
     0010 - Slot 2
     0011 - 1111 - Not Used
                                                                   121


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
TABLE 173: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 2 (ADDRESS LOCATION
                                                            = 0X0701)
     BIT7              BIT6            BIT 5            BIT 4           BIT 3         BIT 2        BIT 1            BIT 0
                                      Unused                                           Auto       Section            Line
                                                                                     Transmit      DCC              DCC
                                                                                   AIS-L Enable  Relocate          Relocate
     R/O                R/O             R/O              R/O             R/O           R/W         R/W               R/W
       0                 0                0               0               0              0           0                 0
BIT [7:3] - Unused
BIT 2 - Auto Transmit Line AIS (AIS-L Alarm) Enable
    When enabled, the AIS-L will be automatically inserted upon receiving AIS-L alarm from upstream.
     0 - Disabled
     1 - AUTO AIS-L Enabled
BIT 1 - Section Data Communication Channel Relocate
    TOH passthrough must be enabled for this bit to have function. The first channel upstream SDCC (D1,D2,D3) will be
    mapped to SDCC location of the second slot of this channel. For example, the SDCC of a STS-3/STM-1 input stream
    for slot 0 will be inserted into slot 4 which is the second slot of this STS-3/STM-1. The SDCC for slot 0 will be inserted
    internally either through external interface or internal register.
     0 - Disabled
     1 - Relocate RSDCC (D1,D2,D3)
BIT 0 - Line Data Communication Channel Relocate
    TOH passthrough must be enabled for this bit to have function. The first channel upstream LDCC (D4-D12) will be
    mapped to LDCC location of the second slot of this channel. For example, the LDCC of a STS-3/STM-1 input stream
    for slot 0 will be inserted into slot 4 which is the second slot of this STS-3/STM-1. The LDCC for slot 0 will be inserted
    internally either through external interface or internal register.
     0 - Disabled
     1 - Relocate LDCC (D4-D12)
TABLE 174: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                              0X0702)
     BIT 7            BIT 6            BIT 5            BIT 4           BIT 3         BIT 2        BIT 1            BIT 0
           Reserved                  E2 Insert-       E1 Insert      F1 Insert       S1 Insert  K1K2 Insert    M0M1 Insert
                                      Method           Method         Method         Method       Method          Method[1]
     R/O                R/O             R/W             R/W             R/W            R/W         R/W               R/W
       0                 0                0               0               0              0           0                 0
BIT [7:6] - Unused
BIT 5 - E2 Byte Insert Method
    This READ/WRITE bit-field is used to specify the source of the contents of the E2 byte, within the transmit output STS-
    1/STS-3 or STS-3 data stream.
    0 - E2 Byte is obtained from TxTOH Serial Input Port.]
    1 - E2 Byte is obtained from the contents within the Transmit Transport - E2 Byte Value register (Address Location =
    0x0747). This selection provides the user with software control over the value of the outbound E2 byte.
BIT 4 - E1 Byte Insert Method
    This READ/WRITE bit-field is used to specify the source of the contents of the E1 byte, within the transmit output STS-
                                                                122


                                                                                                        XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    1 or STS-3 data stream.
    0 - E1 Byte is obtained from TxTOH Serial Input Port.
    1 - E1 Byte is obtained from the contents within the Transmit Transport - E1 Byte Value register (Address Location=
    0x0743). This selection provides the user with software control over the value of the outbound E1 byte.
BIT 3 - F1 Byte Insert Method
    This READ/WRITE bit-field is used to specify the source of the contents of the F1 byte, within the transmit output STS-
    1 or STS-3 data stream.
    0 - F1 Byte is obtained from TxTOH Serial Input Port.
    1 - F1 Byte is obtained from the contents within the Transmit Transport - F1 Byte Value register (Address Location=
    0x073F). This selection provides the user with software control over the value of the outbound F1 byte.
BIT 2 - S1 Byte Insert Method
    This READ/WRITE bit-field is used to specify the source of the contents of the S1 byte, within the transmit output STS-
    1 or STS-3 data stream.
    0 - S1 Byte is obtained from TxTOH Serial Input Port.
    1 - S1 Byte is obtained from the contents within the Transmit Transport - S1 Byte Value register (Address Location=
    0x073B). This selection provides the user with software control over the value of the outbound S1 byte.
BIT 1 - K1K2 Byte Insert Method
    This READ/WRITE bit-field is used to specify the source of the contents of the K1 and K2 bytes, within the transmit
    output STS-1 or STS-3 data stream.
    0 - K1 and K2 Bytes are obtained from TxTOH Serial Input Port.
    1 - K1 and K2 Bytes are obtained from the contents within the Transmit Transport - K1K2 Byte Value register - Byte 1
    (Address Location= 0x072E) and the Transmit Transport - K1K2 Byte Value register - Byte 2 (Address Location=
    0x072F). This selection provides the user with software control over the value of the outbound K1 and K2 bytes.
BIT 0 - M0M1 Insert Method
    This READ/WRITE bit-field, along with M0M1 Insert Method[0] (located in the Transmit Transport - SONET Control
    Register - Byte 0) are used to specify the source of the contents of the M0/M1 byte, within the transmit output STS-1 or
    STS-3 data stream. The relationship between these two bit-fields and the corresponding source of the M0/M1 byte is
    presented below.
    Source of M0/M1 Byte
         M0M1 INSERT
                                                              SOURCE OF M0/M1 BYTE
         METHOD[1:0]
          0         0       From the Receive STS-1/STS-3 TOH Processor block (B2 byte (or BIP-24) Error Count)
          0         1       Obtained from the contents of the Transmit STS-1/STS-3 Transport - M0/M1 Byte Value
                            register (Address Location= 0x0737).
          1         0       M0/M1 byte is obtained from the TxTOH Serial Input Port.
          1         1       From the Receiver STS-1/STS-3 TOH Processor block (B2 byte (or BIP-24) Error Count).
TABLE 175: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                          0X0703)
    BIT 7           BIT 6            BIT 5          BIT 4          BIT 3           BIT 2           BIT 1           BIT 0
 M0M1 Insert       Unused        RDI-L Force     AIS-L Force     LOSForce        Scramble         B2 Error      A1A2 Error
  Method[0]                                                                       Enable           Insert         Insert
     R/W             R/O              R/W           R/W             R/W            R/W              R/W            R/W
       0               0               0              0               0              0                0              0
                                                             123


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
BIT 7 - M0M1 Insert Method
    This READ/WRITE bit-field, along with M0M1 Byte Insert Method[1] (located in the Transmit STS-1/STS-3 Transport -
    SONET Control Register - Byte 1) are used to specify the source of the contents of the M0/M1 byte, within the transmit
    output STS-1 or STS-3 data stream. The relationship between these two bit-fields and the corresponding source of the
    M0/M1 byte is presented below.
    Source of M0/M1 Byte
        M0M1 BYTE
           INSERT                                           SOURCE OF M0/M1 BYTE
       METHOD[1:0]
         0      0         From the Receive STS-1/STS-3 TOH Processor block (B2 Byte Error Count)
         0      1         Obtained from the contents of the Transmit STS-1/STS-3 Transport - M0/M1 Byte Value reg-
                          ister (Address Location= 0x0737).
         1      0         M0/M1 byte is obtained from the TxTOH Serial Input Port.
         1      1         From the Receive STS-1/STS-3 TOH Processor block (B2 Byte Error Count).
BIT6 - Unused
BIT 5 - Transmit Line - Remote Defect Indicator
    This READ/WRITE bit-field is used to (by software control) force the Transmit STS-1/STS-3 TOH Processor block to
    generate and transmit the RDI-L indicator to the remote terminal equipment.
     0 - Does not configure the Transmit STS-1/STS-3 TOH Processor block to generate and transmit the RDI-L indicator.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to generate and transmit the RDI-L indicator.
     In this case, the Transmit STS-1/STS-3 TOH Processor block will force bits 6, 7 and 8 (of the K2 byte) to the value 1,
    1, 0.
    NOTE: This bit-field is ignored if the Transmit STS-1/STS-3 TOH Processor block is currently transmitting the Line AIS
             (AIS-L) indicator or LOS pattern.
BIT 4 - Transmit Line - AIS Indicator
    This READ/WRITE bit-field is used to (by software control) force the Transmit STS-1/STS-3 TOH Processor block to
    generate and transmit the AIS-L indicator to the remote terminal equipment.
     0 - Does not configure the Transmit STS-1/STS-3 TOH Processor block to generate and transmit the AIS-L indicator.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to generate and transmit the AIS-L indicator.
    In this case, the Transmit STS-1/STS-3 TOH Processor block will force all bits (within the outbound STS-1 or STS-3
    frame) with the exception of the Section Overhead Bytes to an All Ones pattern.
    NOTE: This bit-field is ignored if the Transmit STS-1/STS-3 TOH Processor block is transmitting the LOS pattern.
BIT 3 - Transmit LOS Pattern
    This READ/WRITE bit-field is used to (by software control) force the Transmit STS-1/STS-3 TOH Processor block to
    transmit the LOS (Loss of Signal) pattern to the remote terminal equipment.
     0 - Does not configure the Transmit STS-1/STS-3 TOH Processor block to generate and transmit the LOS pattern.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to transmit the LOS pattern. In this case, the
    Transmit STS-1/STS-3 TOH Processor block will force all bytes (within the outbound SONET frame) to an All Zeros
    pattern.
BIT 2 - Scramble Enable
    This READ/WRITE bit-field is used to either enable or disable the Scrambler, within the Transmit STS-1/STS-3 TOH
    Processor block circuitry.
     0 - Disables the Scrambler.
     1 - Enables the Scrambler.
BIT 1 - Transmit B2 Byte Error Insert Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to insert errors into
                                                             124


                                                                                                         XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    the outbound B2 bytes, per the contents within the Transmit STS-1/STS-3 Transport - Transmit B2 Byte Error Mask
    Register.
     0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT insert errors into the B2 bytes, within the
    outbound STS-1 or STS-3 signal.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to insert into the B2 bytes (per the contents within
    the Transmit B2 Byte Error Mask Register).
BIT 0 - Transmit A1A2 Byte Error Insert Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to insert errors into
    the outbound A1 and A2 bytes, within the outbound STS-1 or STS-3 data-stream.
     0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT insert errors into the A1 and A2 bytes, within
    the outbound STS-1 or STS-3 Data-stream.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to insert errors into the A1 and A2 bytes, within the
    outbound STS-1 or STS-3 Data-stream.
TABLE 176: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT A1 BYTE ERROR REGISTER (ADDRESS LOCATION =
                                                           0X0717)
    BIT 7          BIT 6          BIT 5            BIT 4        BIT 3            BIT 2         BIT 1           BIT 0
                                                  Unused                                                  Transmit Erred
                                                                                                          A1Byte Enable
     R/W           R/W             R/W             R/W           R/W             R/W            R/W             R/W
       0             0              0                0             0               0             0               0
BIT [7:1] - Unused
BIT 0 - Transmit Erred A1 Byte Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to transmit a
    continuous stream of STS-1 or STS-3 frames, in which the A1 byte is erred by inverting the A1 byte to the value 0x09.
     0 - Normal Operation.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to transmit STS-1 or STS-3 frames with erred A1
    bytes.
    NOTES: This bit-field is only valid if Bit-0 (A1A2 Byte Error Insert), within the “Transmit STS-1/STS-3 Transport –
             Transmit Control Register – Byte 0 (Address Location= 0x0703) is set to “1”.
TABLE 177: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT A2 BYTE ERROR REGISTER (ADDRESS LOCATION =
                                                           0X071F)
      BIT 7         BIT 6           BIT 5           BIT 4          BIT 3           BIT 2         BIT 1         BIT 0
                                                   Unused                                                  Transmit Erred
                                                                                                          A2 Byte Enable
       R/W           R/W            R/W              R/W           R/W             R/W           R/W            R/W
         0             0               0               0             0               0             0             0
BIT [7:1] - Unused
BIT 0 - Transmit Erred A2 Byte Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to transmit a
    continuous stream of STS-1 or STS-3 frames, in which the A2 byte is erred.
     0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT transmit STS-1 or STS-3 frames with erred
    A2 bytes.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to transmit STS-1 or STS-3 frames with erred A2
    bytes.
                                                              125


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                           REV. 2.0.0
   TABLE 178: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B1 BYTE ERROR MASK REGISTER (ADDRESS
                                                     LOCATION = 0X0723)
     BIT 7            BIT 6         BIT 5             BIT 4            BIT 3            BIT 2          BIT 1            BIT 0
                                                   B1_Byte_Error_Mask[7:0]
     R/W               R/W           R/W              R/W               R/W             R/W             R/W             R/W
       0                0              0                0                0                0              0                0
BIT [7:0]B1 Byte Error Mask[7:0]
    These READ/WRITE bit-fields are used to insert bit errors into the B1 bytes, within the outbound STS-1 or STS-3 Data
    stream. The Transmit STS-1/STS-3 TOH Processor block will perform an XOR operation with the contents of the B1
    byte, and this register. The results of this calculation will be inserted into the B1 byte position within the outbound STS-
    1 or STS-3 Data stream. For each bit-field (within this register) that is set to 1, the corresponding bit, within the B1 byte
    will be in error.
    NOTE: For normal operation, the user should set this register to 0x00.
   TABLE 179: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B2 BYTE ERROR MASK REGISTER (ADDRESS
                                                     LOCATION = 0X0727)
    BIT 7            BIT 6         BIT 5           BIT 4            BIT 3           BIT 2         BIT 1              BIT 0
                                                  Unused                                                       Transmit B2 Error
                                                                                                                    Enable
     R/W              R/W          R/W              R/W             R/W             R/W            R/W               R/W
       0               0             0               0                0               0              0                 0
BIT [7:1] - Unused]
BIT 0 - Transmit B2 Byte Error Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to perform the XOR
    operation with the contents of the Transmit STS-1/STS-3 Transport -Transmit B2 Bit Error Mask Register (Address
    Location = 0x072B)
     0 - Disables the XOR operation. In this case, the Transmit STS-1/STS-3 TOH Processor block will NOT perform the
    XOR operation with the Transmit STS-1/STS-3 Transport - Transmit B2 Bit Error Mask Register. As a consequence,
    the Transmit STS-1/STS-3 TOH Processor block will transmit a continuous stream of STS-1s with no B2 byte errors.
     1 - Enables the XOR operation. In this setting, the Transmit STS-1/STS-3 TOH Processor will perform the XOR
    operation of the value of the B2 byte (within the outbound STS-1 or STS-3 frame) with the contents within the Transmit
    STS-1/STS-3 Transport - Transmit B2 Bit Error Mask register.
     TABLE 180: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMIT B2 BIT ERROR MASK REGISTER (ADDRESS
                                                     LOCATION= 0X072B)
     BIT 7            BIT 6         BIT 5             BIT 4            BIT 3            BIT 2          BIT 1            BIT 0
                                                 Transmit_B2_Error_Mask[7:0]
     R/W               R/W           R/W              R/W               R/W             R/W             R/W             R/W
       0                0              0                0                0                0              0                0
BIT [7:0] - Transmit B2 Error Mask-Byte
    These READ/WRITE bit-fields are used to insert B2 byte errors into the outbound STS-1 or STS-3 Data-stream, for
    diagnostic purposes.
    If BIT 0 (Transmit B2 Error Enable) within the Transmit STS-1/STS-3 Transport - Transmit B2 Byte Error Register
    (Address Location = 0xN927) is set to 1, then Transmit STS-1/STS-3 TOH Processor block will be configured to perform
                                                              126


                                                                                                            XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    an XOR operation between the contents of this register, with the contents of the outbound B2 byte. The results of this
    calculation is written back into the B2 byte position, within the outbound STS-1 or STS-3 Data. Hence, for every bit
    (within this register) that is set to 1, the corresponding bit (within the outbound B2 byte) will be erred.
    NOTES:
               1.   1. For normal (e.g., un-erred) operation, the user should ensure that this register is set to the value 0x00.
               2. These register bits are ignored unless BIT 0 (Transmit B2 Error Enable), within the Transmit STS-1/STS-
               3 Transport - Transmit B2 Byte Error Register has been set to 1.
 TABLE 181: TRANSMIT STS-1/STS-3 TRANSPORT - K2 BYTE VALUE REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                             0X072E)
     BIT 7             BIT 6            BIT 5          BIT 4            BIT 3         BIT 2            BIT 1           BIT 0
                                                   Transmit_K2_Byte_Value[7:0]
     R/W               R/W              R/W             R/W              R/W           R/W             R/W             R/W
        0                0                0              0                0             0                0               0
BIT [7:0] - Transmit K2 Byte Value
    If the appropriate K1K2 Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the K2 byte, within the outbound STS-1/STS-3 signal.
    NOTE: If BIT 1 (K1K2 Insert Method) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control Register -
             Byte 1 (Address Location= 0x0702) is set to 1, then the Transmit STS-1/STS-3 TOH Processor block will load
             the contents of this register into the K2 byte-field, within each outbound STS-1 or STS-3 frame. These register
             bits are ignored if BIT 1 (K1K2 Insert Method) is set to 0.
 TABLE 182: TRANSMIT STS-1/STS-3 TRANSPORT - K1 BYTE VALUE REGISTER - BYTE 1 (ADDRESS LOCATION=
                                                             0X072F)
     BIT 7             BIT 6            BIT 5          BIT 4            BIT 3         BIT 2            BIT 1           BIT 0
                                                   Transmit_K1_Byte_Value[7:0]
     R/W               R/W              R/W             R/W              R/W           R/W             R/W             R/W
        0                0                0              0                0             0                0               0
BIT [7:0] - Transmit K1 Byte Value
    If the appropriate K1K2 Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the K1 byte, within the outbound STS-1/STS-3 signal.
    NOTE: If BIT 1 (K1K2 Insert Method) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control Register -
             Byte 1 (Address Location= 0x0702) is set to 1, then the Transmit STS-1/STS-3 TOH Processor block will load
             the contents of this register into the K1 byte-field, within each outbound STS-1 or STS-3 frame. These register
             bits are ignored if BIT 1 (K1K2 Insert Method) is set to 0.
 TABLE 183: TRANSMIT STS-1/STS-3 TRANSPORT - RDI-L CONTROL REGISTER (ADDRESS LOCATION= 0X0733)
     BIT 7             BIT 6            BIT 5          BIT 4            BIT 3         BIT 2            BIT 1           BIT 0
                             Unused                                   External       Transmit        Transmit        Transmit
                                                                        RDI-L       RDI-L upon    RDI-L upon        RDI-L upon
                                                                       Enable          AIS             LOF             LOS
      R/O              R/O              R/O             R/O              R/W           R/W             R/W             R/W
        0                0                0              0                0             0                0               0
BIT [7:4] - Unused
BIT 3 - External Transmit Line Remote Defect Indicator (RDI-L) Enable
                                                                127


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    This READ/WRITE bit-field is used to externally insert the value for bits 6, 7 and 8 (of the K2 byte) into the outbound
    STS-1 or STS-3 Data stream. If the user enables this feature, then the user can enable or disable the insertion of the
    RDI-L indicator, via the TxPOH_n input pin.
    0 - Disables this feature.
    1 - Enables this feature.
BIT 2 - Transmit Line Remote Defect Indicator (RDI-L) upon Detection of AIS-L
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to automatically
    transmit a RDI-L indicator to the remote terminal anytime (and for the duration) that the Receive STS-1/STS-3 TOH
    Processor block is detecting a Line AIS (AIS-L) indicator.
     0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT automatically transmit the RDI-L indicator,
    upon the Receive STS-1/STS-3 TOH Processor block detecting the AIS-L indicator.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to automatically transmit the RDI-L indicator, upon
    the Receive STS-1/STS-3 TOH Processor block detecting the AIS-L indicator.
BIT 1 - Transmit Line Remote Defect Indicator (RDI-L) upon Detection of LOF
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to automatically
    transmit a RDI-L indicator to the remote terminal anytime (and for the duration) that the Receive STS-1/STS-3 TOH
    Processor block is declaring the LOF defect
     .0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT automatically transmit the RDI-L indicator,
    whenever the Receive STS-1/STS-3 TOH Processor block declares the LOF defect.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to automatically transmit the RDI-L indicator,
    whenever the Receive STS-1/STS-3 TOH Processor block declares the LOF defect.
BIT 0 - Transmit Line Remote Defect Indicator (RDI-L) upon Detection of LOS
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 TOH Processor block to automatically
    transmit a RDI-L indicator to the remote terminal anytime (and for the duration) that the Receive STS-1/STS-3 TOH
    Processor block is declaring the LOS defect.
     0 - Configures the Transmit STS-1/STS-3 TOH Processor block to NOT automatically transmit the RDI-L indicator,
    whenever the Receive STS-1/STS-3 TOH Processor block declares the LOS defect.
     1 - Configures the Transmit STS-1/STS-3 TOH Processor block to automatically transmit the RDI-L indicator,
    whenever the Receive STS-1/STS-3 TOH Processor block declares the LOS defect.
TABLE 184: TRANSMIT STS-1/STS-3 TRANSPORT - M0M1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0737)
     BIT 7            BIT 6           BIT 5         BIT 4         BIT 3             BIT 2          BIT 1            BIT 0
                                               Transmit_M0M1_Byte_Value[7:0]
     R/W              R/W             R/W            R/W           R/W              R/W             R/W              R/W
        0               0               0             0             0                 0              0                0
BIT [7:0] - Transmit M0M1 Byte Value
    If the appropriate M0M1 Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the M0M1 byte, within the outbound STS-1/STS-3 signal.
    NOTE: If BIT 0 (M0M1 Insert Method - BIT 1) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control
             Register - Byte 1 (Address Location= 0x0702) and BIT7 (M0M1 Byte Insert Method - BIT 0) within the Transmit
             STS-1/STS-3 Transport - SONET Transmit Control Register - Byte 0 (Address Location= 0x0703) are set to 0,
             1, then the STS-1/STS-3 Transmit block will load the contents of this register into the M0M1 byte-field, within
             each outbound STS-1 or STS-3 frame. These register bits are ignored if the M0M1 Insert Method[1:0] bits are
             set to any value other than 0, 1.
                                                           128


                                                                                                         XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 TABLE 185: TRANSMIT STS-1/STS-3 TRANSPORT - S1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X073B)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1         BIT 0
                                                  Transmit_S1_Byte_Value[7:0]
     R/W               R/W             R/W             R/W               R/W            R/W           R/W          R/W
        0                0               0               0                0              0             0             0
BIT [7:0] - Transmit S1 Byte Value
    If the appropriate S1 Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the contents
    of the S1 byte, within the outbound STS-1/STS-3 signal. If BIT 2 (S1 Insert Method) within the Transmit STS-1/STS-3
    Transport - SONET Transmit Control Register - Byte 1 (Address Location= 0x0702) is set to 1, then the STS-1/STS-3
    Transmit block will load the contents of this register into the S1 byte-field, within each outbound STS-1 or STS-3 frame.
    NOTE: These register bits are ignored if BIT 2 (S1 Insert Method) is set to 0.
 TABLE 186: TRANSMIT STS-1/STS-3 TRANSPORT - F1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X073F)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1         BIT 0
                                                  Transmit_F1_Byte_Value[7:0]
     R/W               R/W             R/W             R/W               R/W            R/W           R/W          R/W
        0                0               0               0                0              0             0             0
BIT [7:0] - Transmit F1 Byte Value
    If the appropriate F1 Byte Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the F1 byte, within the outbound STS-1/STS-3 signal.
    NOTE: If BIT 3 (F1 Byte Insert Method) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control Register
             - Byte 1 (Address Location= 0x0702) is set to 1, then the Transmit STS-1/STS-3 TOH Processor block will load
             the contents of this register into the F1 byte-field, within each outbound STS-1 or STS-3 frame. These register
             bits are ignored if BIT 3 (F1 Insert Method) is set to 0.
 TABLE 187: TRANSMIT STS-1/STS-3 TRANSPORT - E1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0743)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1         BIT 0
                                                  Transmit_E1_Byte_Value[7:0]
     R/W               R/W             R/W             R/W               R/W            R/W           R/W          R/W
        0                0               0               0                0              0             0             0
BIT [7:0] - Transmit E1 Byte Value
    If the appropriate E1 Byte Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the E1 byte, within the outbound STS-1/STS-3 signal. Note
    NOTE: If BIT 4 (E1 Insert Method) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control Register -
             Byte 1 (Address Location= 0x0702) is set to 1, then the Transmit STS-1/STS-3 TOH Processor block will load
             the contents of this register into the E1 byte-field, within each outbound STS-1 or STS-3 frame. These register
             bits are ignored if BIT 4 (E1 Insert Method) is set to 0.
                                                                129


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
  TABLE 188: TRANSMIT STS-1/STS-3 TRANSPORT - E2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X0747)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1           BIT 0
                                                  Transmit_E2_Byte_Value[7:0]
     R/W               R/W             R/W             R/W               R/W           R/W           R/W              R/W
        0                0               0               0                0              0             0                0
BIT [7:0] - Transmit E2 Byte Value
    If the appropriate E2 Byte Insert Method is selected, then these READ/WRITE bit-fields will are used to specify the
    contents of the E2 byte, within the outbound STS-1/STS-3 signal.
    NOTE: If BIT 5 (E2 Insert Method) within the Transmit STS-1/STS-3 Transport - SONET Transmit Control Register -
             Byte 1 (Address Location= 0x0702) is set to 1, then the Transmit STS-1/STS-3 TOH Processor block will load
             the contents of this register into the E2 byte-field, within each outbound STS-1 or STS-3 frame. These register
             bits are ignored if BIT 5 (E2 Insert Method) is set to 0.
  TABLE 189: TRANSMIT STS-1/STS-3 TRANSPORT - J0 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X074B)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1           BIT 0
                                                   Transmit_J0_Byte_Value[7:0]
     R/W               R/W             R/W             R/W               R/W           R/W           R/W              R/W
        0                0               0               0                0              0             0                0
BIT [7:0] - Transmit J0 Byte Value
    These READ/WRITE bits are used to specify the value of the J0 byte, that will be transmitted via the Transport
    Overhead, within the very next STS-1 or STS-3 frame. This register is only valid if the Transmit STS-1/STS-3 TOH
    Processor block is configured to read out the contents from this register and insert it into the J0 byte-field within each
    outbound STS-1 or STS-3 frame. The user accomplishes this by setting Bits 1 and 0 (J0_TYPE), within the Transmit
    STS-1/STS-3 Transport - J0 Byte Control Register (Address Location= 0x074F) to 1, 0.
    TABLE 190: TRANSMIT STS-1/STS-3 TRANSPORT - TRANSMITTER J0 BYTE CONTROL REGISTER (ADDRESS
                                                      LOCATION= 0X074F)
     BIT 7             BIT 6           BIT 5           BIT 4            BIT 3          BIT 2         BIT 1           BIT 0
                             Unused                                    Transmit Section Trace          Transmit J0 Byte
                                                                        Message Length[1:0]         Insertion Method[1:0]
      R/O              R/O              R/O            R/O               R/W           R/W           R/W              R/W
        0                0               0               0                0              0             0                0
BIT [7:4] - Unused
BIT [3:2] - Transmit Section Trace Message Length[1:0]
    These two READ/WRITE bit-fields are used to specify the length of the message that is to be repetitively transmitted
    via the J0 byte as shown in the table below.
J
                          Message Length
                             MSG_LENGTH[1:0]             CORRESPONDING MESSAGE LENGTH(BYTES)
                                       00                                     1 Byte
                                       01                                   16 Bytes
                                                                130


                                                                                                       XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                       Message Length
                          MSG_LENGTH[1:0]             CORRESPONDING MESSAGE LENGTH(BYTES)
                                10 or 11                               64 Bytes
BIT [1:0] - Transmit J0 Byte Insertion Method[1:0]
    These two READ/WRITE bit-fields are used to specify the source of the message that will be transported via the J0
    byte/message, within the outbound STS-1 or STS-3 Data-stream, as shown in the table below
    Source of J0 Byte Message
      J0_TYPE[1:0]                            CORRESPONDING SOURCE OF J0 BYTE/MESSAGE.
             00        Automatically set the J0 Byte, in each outbound STS-1 or STS-3 frame to 0x01.
             01        Transmit Section Trace Message Buffer. The Transmit STS-1/STS-3 Section Trace Buffer
                       Memory is located at Address locations 0x0800 through 0x083F.
             10        From the Transmit J0 Byte Value[7:0] Register. In this setting, the Transmit STS-1/STS-3
                       TOH Processor block will read out the contents of the Transmit J0 Value[7:0] Register
                       (Address Location= 0x074B), and will insert this value into the J0 byte of each outbound STS-
                       1 or STS-3 frame.
             11        From the TxSOH_n Input pin.
                                                           131


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                       REV. 2.0.0
 2.6     TRANSMIT STS-1/STS-3 POH PROCESSOR BLOCK REGISTERS
The register map for the Transmit STS-1/STS-3 POH Processor block is presented in the Table below.
Additionally, a detailed description of each of the Transmit STS-1/STS-3 POH Processor block registers is
presented below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with the Transmit STS-1/STS-3 POH Processor block highlighted is presented below in
Figure 7.
FIGURE 7. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE TRANSMIT STS-
1/STS-3 POH PROCESSOR BLOCK HIGHLIGHTED
                              Transmit                                                     Ingress       Ingress
                               Transmit       Transmit
                                               Transmit                                   Direction     Direction      Receive
                               STS-1/3       STS-1                          VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                     VT/TU
                                                                            Mapper        Transmit      Receive        DS1/E1
                                 TOH          Processor
                                               Processor                     Mapper        DS1/E1        DS1/E1         LIU
                              Processor
                               Processor        Block                        Block
                                                                              Block
                                                 Block                                     Framer       Framer          Block
                                Block
                                 Block
              STS-1/
                STS-1/                                                                      Block         Block
               STS-3
                STS-3                                                                                           DS1/E1 Channel 0
             Telecom
              Telecom                       From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface                                   From DS2 Channels 1 - 6
              Interface
                                            Transmit
                                             Transmit         M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                       From DS1/E1 Channels 1 - 3
                                                             MUX
                                                              MUX                      MUX
                                             Framer
                                              Framer
               DS3/                                          Block
                                                              Block                    Block
                 DS3/                         Block
                                               Block
               STS-1
                STS-1                                              DS2 Channel 0
                LIU
                 LIU
             Interface                       Receive
                                              Receive
              Interface                                       M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                       To DS1/E1 Channels 1 - 3
                                                           De-MUX
                                                            De-MUX                   De-MUX
                                             Framer
                                              Framer          Block
                                                               Block                   Block
                                              Block
                                               Block
                                                                                    DS2 Channel 0
                                                   To DS1/E1
                                                                                                           To DS2 Channels 1 - 6
                                                 Channels 1 - 27
                                                                                          Egress        Egress
                            Receive
                             Receive        Receive                         DS1/E1       Direction    Direction      Transmit
                            STS-1/3          Receive           VT/TU
                             STS-1/3      STS-1
                                           STS-1POH
                                                  POH                        Jitter       Receive     Transmit        DS1/E1
                             TOH                           De-Mapper
                              TOH          Processor
                                            Processor                        Atten        DS1/E1       DS1/E1           LIU
                           Processor                           Block
                            Processor        Block
                                              Block                          Block        Framer       Framer          Block
                             Block
                              Block                                                        Block        Block
                                                                                                                DS1/E1 Channel 0
   TABLE 191: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION =
                                                                 0X0782)
     BIT 7             BIT 6            BIT 5            BIT 4              BIT 3             BIT 2            BIT 1               BIT 0
                              Unused                                    Z5 Insertion-     Z4 Insertion-    Z3 Insertion-       H4 Insertion
                                                                            Type              Type              Type               Type
      R/W              R/O               R/O               R/O              R/W                R/W              R/W                 R/W
       0                 0                0                  0                 0                  0               0                  0
BIT [7:4] - Unused
BIT 3 - Z5 Insertion Type
     This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
                                                                    132


                                                                                                 XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    Transmit STS-1/STS-3 Path - Transmit Z5 Value Register or the TPOH input pin as the source for the Z5 byte, in the
    outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    Z5 Value Register (Address Location= 0x07B3).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the Z5 byte,
    in the outbound STS-1/STS-3 SPE.
BIT 2 - Z4 Insertion Type
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
    Transmit STS-1/STS-3 Path - Transmit Z4 Value Register or the TPOH input pin as the source for the Z4 byte, in the
    outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    Z4 Value Register (Address Location= 0x07AF).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the Z4 byte,
    in the outbound STS-1/STS-3 SPE.
BIT 1 - Z3 Insertion Type
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
    Transmit STS-1/STS-3 Path - Transmit Z3 Value Register or the TPOH input pin as the source for the Z3 byte, in the
    outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    Z3 Value Register (Address Location = 0x07AB).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the Z3 byte,
    in the outbound STS-1/STS-3 SPE.
BIT 0 - H4 Insertion Type
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
    Transmit STS-1/STS-3 Path - Transmit H4 Value Register or the TPOH input pin as the source for the H4 byte, in the
    outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    H4 Value Register (Address Location= 0x07A7).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the H4 byte,
    in the outbound STS-1/STS-3 SPE.
   TABLE 192: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION=
                                                       0X0783)
     BIT 7          BIT 6          BIT 5         BIT 4          BIT 3         BIT 2         BIT 1            BIT 0
 F2 Insertion     REI-P Insertion Type[1:0]    RDI-P Insertion Type[1:0]    C2 Byte         PDI-P          Transmit
     Type                                                                   Insertion      Enable           AIS-P
                                                                              Type                          Enable
     R/W             R/W            R/W           R/W            R/W          R/W            R/W             R/W
       0              0              0              0             0             0             0                0
BIT 7 - F2 Insertion Type
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
    Transmit STS-1/STS-3 Path - Transmit F2 Value Register or the TPOH input pin as the source for the F2 byte, in the
    outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    F2 Value Register (Address Location= 0x07A3).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the F2 byte,
    in the outbound STS-1/STS-3 SPE.
BIT [6:5] - REI-P Insertion Type[1:0]
                                                          133


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
    These two READ/WRITE bit-fields are used to configure the Transmit STS-1/STS-3 POH Processor block to use one
    of the three following sources for the REI-P bit-fields (e.g., bits 7 through 4, within the G1 byte of the outbound STS-
    1/STS-3 SPE).
          •    From the corresponding Receive STS-1/STS-3 POH Processor block (e g., when it detects B3 bytes in its
               incoming SPE data).
          •    From the Transmit G1 Byte Value Register (Address Location= 0x079F).
          •    From the TPOH input pin.
     00/11 - Configures the Transmit STS-1/STS-3 POH Processor block to set Bits 7 through 4 (in the G1 byte of the
    outbound SPE) based upon receive conditions as detected by the corresponding Receive STS-1/STS-3 POH Processor
    block.
     01 - Configures the Transmit STS-1/STS-3 POH Processor block to set Bits 7 through 4 (in the G1 byte of the
    outbound SPE) based upon the contents within the Transmit G1 Byte Value register (Address Location= 0x079F).
     10 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input pin as the source of Bits 7
    through 4 (in the G1 byte of the outbound SPE).
BIT [4:3] - RDI-P Insertion Type[1:0]
    These two READ/WRITE bit-fields are used to configure the Transmit STS-1/STS-3 POH Processor block to use one
    of the three following sources for the RDI-P bit-fields (e.g., bits 3 through 1, within the G1 byte of the outbound STS-
    1/STS-3 SPE).
          •    From the Receive STS-1/STS-3 POH Processor block (e g., when it detects various alarm conditions within
               its incoming SPE data).
          •    From the Transmit G1 Byte Value Register (Address Location = 0x079F).
          •    From the TPOH input pin.
     00/11 - Configures the Transmit STS-1/STS-3 POH Processor block to set Bits 3 through 1 (in the G1 byte of the
    outbound SPE) based upon receive conditions as detected by the Receive STS-1/STS-3 POH Processor block.
     01 - Configures the Transmit STS-1/STS-3 POH Processor block to set Bits 3 through 1 (in the G1 byte of the
    outbound SPE) based upon the contents within the Transmit G1 Byte Value register.
     10 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input pin as the source of Bits 3
    through 1 (in the G1 byte of the outbound SPE).
BIT 2 - C2 Insertion Type
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to use either the
    Transmit STS-1/STS-3 Path - Transmit C2 Byte Value Register or the TPOH input pin as the source for the C2 byte, in
    the outbound STS-1/STS-3 SPE.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to use the Transmit STS-1/STS-3 Path - Transmit
    C2 Value Register (Address Location= 0x079B).
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to use the TPOH input as the source for the C2 byte,
    in the outbound STS-1/STS-3 SPE.
BIT 1 - PDI-P Enable
    This READ/WRITE bit-field are used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    insert the PDI-P (Path - Payload Defect Indicator) whenever the AIS-P indicator is received from the Receive SONET
    POH Processor block.
    If this feature is enabled, then the Transmit STS-1/STS-3 POH Processor block will automatically set the C2 byte (within
    the outbound SPE) to 0xE1-0xFC (to indicate a PDI-P condition) whenever it receives the AIS-P indicator, from the
    Receive SONET POH Processor block.
BIT 0 - Transmit AIS-P Enable
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to (via software
    control) transmit an AIS-P indicator to the remote PTE. If this feature is enabled, then the Transmit STS-1/STS-3 POH
    Processor block will automatically set the H1, H2, H3 and all the SPE bytes to an All Ones pattern, prior to routing this
    data to the Transmit STS-1/STS-3 TOH Processor block.
     0 - Configures the Transmit STS-1/STS-3 POH Processor block to NOT transmit the AIS-P indicator to the remote
    PTE.
     1 - Configures the Transmit STS-1/STS-3 POH Processor block to transmit the AIS-P indicator to the remote PTE.
                                                              134


                                                                                                              XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  TABLE 193: TRANSMIT STS-1/STS-3 PATH - TRANSMITTER J1 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                               0X0793)
     BIT 7              BIT 6          BIT 5            BIT 4            BIT 3           BIT 2           BIT 1           BIT 0
                                                       Transmit_J1_Byte[7:0]
      R/W               R/W             R/W             R/W              R/W              R/W            R/W              R/W
        0                 0               0               0                0                0              0               0
BIT [7:0] - Transmit J1 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the J1 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the J1 byte, then
    it will automatically write the contents of this register into the J1 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a ‘10’ into BIT[2:0] (Transmit J1 Byte Insertion Method[1:0]) within the
    Transmit STS-1/STS-3 Path - J1 Control Register register (Address Location= 0x07BB).
 TABLE 194: TRANSMIT STS-1/STS-3 PATH - TRANSMIT B3 BYTE ERROR MASK REGISTER (ADDRESS LOCATION=
                                                               0X0797)
     BIT 7              BIT 6          BIT 5            BIT 4            BIT 3           BIT 2           BIT 1           BIT 0
                                                   Transmit_B3_Byte_Mask[7:0]
      R/W               R/W             R/W             R/W              R/W              R/W            R/W              R/W
        0                 0               0               0                0                0              0               0
BIT [7:0] - Transmit B3 Byte Mask[7:0]
    This READ/WRITE bit-field is used to insert errors into the B3 byte, within the outbound STS-1/STS-3 SPE, prior to
    transmission to the Transmit STS-1/STS-3 TOH Processor block.
    The Transmit STS-1/STS-3 POH Processor block will perform an XOR operation with the contents of this register, and
    the B3 byte value. The results of this operation will be written back into the B3 byte of the outbound STS-1/STS-3 SPE.
    NOTE: If the user sets a particular bit-field, within this register, to 1, then that corresponding bit, within the outbound B3
              byte will be in error. For normal operation, the user should set this register to 0x00.
TABLE 195: TRANSMIT STS-1/STS-3 PATH - TRANSMIT C2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X079B)
     BIT 7              BIT 6          BIT 5            BIT 4            BIT 3           BIT 2           BIT 1           BIT 0
                                                  Transmit_C2_Byte_Value[7:0]
      R/W               R/W             R/W             R/W              R/W              R/W            R/W              R/W
        0                 0               0               0                0                0              0               0
BIT [7:0] - Transmit C2 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the C2 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the C2 byte, then
    it will automatically write the contents of this register into the C2 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT 2 (C2 Byte Insertion Type) within the Transmit STS-1/STS-
    3 Path - SONET Control Register - Byte 0 register (Address Location= 0x0783).
                                                                 135


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
TABLE 196: TRANSMIT STS-1/STS-3 PATH - TRANSMIT G1 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X079F)
     BIT 7             BIT 6          BIT 5            BIT 4            BIT 3            BIT 2          BIT 1        BIT 0
                                                  Transmit_G1_Byte_Value[7:0]
      R/W               R/W            R/W              R/W              R/W             R/W             R/W          R/W
        0                0               0                0                0               0              0            0
BIT [7:0] - Transmit G1 Byte Value:
    These READ/WRITE bit-fields are used to have software control over the contents of the RDI-P and REI-P bit-fields,
    within each G1 byte in the outbound STS-1/STS-3 SPE.
    NOTE:       If the users sets REI-P_Insertion_Type[1:0] and RDI-P_Insertion_Type[1:0] bits to the value [0, 1], then
              contents of the REI-P and the RDI-P bit-fields (within each G1 byte of the outbound STS-1/STS-3 SPE) will be
              dictated by the contents of this register. The REI-P_Insertion_Type[1:0] and RDI-P_Insertion_Type[1:0] bit-
              fields are located in the Transmit STS-1/STS-3 Path - SONET Control Register - Byte 0 Register (Address
              Location= 0x0783)
TABLE 197: TRANSMIT STS-1/STS-3 PATH - TRANSMIT F2 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07A3)
     BIT 7             BIT 6          BIT 5            BIT 4            BIT 3            BIT 2          BIT 1        BIT 0
                                                   Transmit_F2_Byte_Value[7:0]
      R/W               R/W            R/W              R/W              R/W             R/W             R/W          R/W
        0                0               0                0                0               0              0            0
BIT [7:0] - Transmit F2 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the F2 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the F2 byte, then
    it will automatically write the contents of this register into the F2 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT7 (F2 Byte Insertion Type) within the Transmit STS-1/STS-
    3 Path - SONET Control Register - Byte 0 register (Address Location= 0x0783).
TABLE 198: TRANSMIT STS-1/STS-3 PATH - TRANSMIT H4 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07A7)
     BIT 7             BIT 6          BIT 5            BIT 4            BIT 3            BIT 2          BIT 1        BIT 0
                                                  Transmit_H4_Byte_Value[7:0]
      R/W               R/W            R/W              R/W              R/W             R/W             R/W          R/W
        0                0               0                0                0               0              0            0
BIT [7:0] - Transmit H4 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the H4 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the H4 byte, then
    it will automatically write the contents of this register into the H4 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT 0 (H4 Insertion Type) within the Transmit STS-1/STS-3
    Path - SONET Control Register - Byte 1 register (Address Location= 0x07A7).
                                                                 136


                                                                                                               XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     TABLE 199: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z3 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                              0X07AB)
     BIT 7           BIT 6            BIT 5            BIT 4            BIT 3             BIT 2          BIT 1           BIT 0
                                                  Transmit_Z3_Byte_Value[7:0]
      R/W             R/W              R/W              R/W              R/W              R/W             R/W             R/W
        0               0               0                 0                0                0              0               0
BIT [7:0] - Transmit Z3 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the Z3 byte, within each outbound
    STS-1/STS-3 SPE.If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source
    of the Z3 byte, then it will automatically write the contents of this register into the Z3 byte location, within each outbound
    STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT 1 (Z3 Insertion Type) within the Transmit STS-1/STS-3
    Path - SONET Control Register - Byte 0 register (Address Location= 0x0782).
     TABLE 200: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z4 BYTE VALUE REGISTER (ADDRESS LOCATION=
                                                             0XN9AF)
     BIT 7           BIT 6            BIT 5            BIT 4            BIT 3             BIT 2          BIT 1           BIT 0
                                                  Transmit_Z4_Byte_Value[7:0]
      R/W             R/W              R/W              R/W              R/W              R/W             R/W             R/W
        0               0               0                 0                0                0              0               0
BIT [7:0] - Transmit Z4 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the Z4 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the Z4 byte, then
    it will automatically write the contents of this register into the Z4 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT 2 (Z4 Insertion Type) within the Transmit STS-1/STS-3
    Path - SONET Control Register - Byte 0 register (Address Location= 0x0782).
TABLE 201: TRANSMIT STS-1/STS-3 PATH - TRANSMIT Z5 BYTE VALUE REGISTER (ADDRESS LOCATION= 0X07B3)
     BIT 7           BIT 6            BIT 5            BIT 4            BIT 3             BIT 2          BIT 1           BIT 0
                                         Transmit_Z5_Byte_Value[7:0]
      R/W             R/W              R/W              R/W              R/W              R/W             R/W             R/W
        0               0               0                 0                0                0              0               0
BIT [7:0] - Transmit Z5 Byte Value
    These READ/WRITE bit-fields are used to have software control over the value of the Z5 byte, within each outbound
    STS-1/STS-3 SPE.
    If the user configures the Transmit STS-1/STS-3 POH Processor block to this register as the source of the Z5 byte, then
    it will automatically write the contents of this register into the Z5 byte location, within each outbound STS-1/STS-3 SPE.
    This feature is enabled whenever the user writes a 0 into BIT 3 (Z5 Insertion Type) within the Transmit STS-1/STS-3
    Path - SONET Control Register - Byte 0 register (Address Location= 0x0782).
                                                                 137


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
TABLE 202: TRANSMIT STS-1/STS-3 PATH - TRANSMIT PATH CONTROL REGISTER (ADDRESS LOCATION= 0X07B7)
     BIT 7            BIT 6          BIT 5             BIT 4            BIT 3         BIT 2        BIT 1           BIT 0
            Unused                  Pointer         Check Stuff    Insert Nega-    InsertPosi- InsertContin-    InsertSingle
                                     Force                            tive Stuff    tive Stuff   uous NDF        NDF Event
                                                                                                  Events
     R/O               R/O            R/W               R/W               W             W          R/W              R/W
       0                 0              0                0                0             0             0               0
BIT [7:6] - Unused
BITt 5 - Pointer Force
    This READ/WRITE bit-field is used to load the values contained within the Transmit STS-1/STS-3 POH Arbitrary H1
    Pointer and Transmit STS-1/STS-3 POH Arbitrary H2 Pointer registers (Address Location= 0x07BF and 0x07C3) into
    the H1 and H2 bytes (within the outbound STS-1 or STS-3 Data stream).
    The actual location of the SPE will NOT be adjusted, per the value of H1 and H2 bytes. Hence, this feature should cause
    the remote terminal to declare an Invalid Pointer condition.
     0 - Configures the Transmit STS-1/STS-3 POH and TOH Processors to transmit STS-1 or STS-3 Data with normal
    and correct H1 and H2 bytes.
     1 - Configures the Transmit STS-1/STS-3 POH and TOH Processor blocks to overwrite the values of the H1 and H2
    bytes (in the outbound STS-1 or STS-3 Data-stream) with the values in the Transmit STS-1/STS-3 POH Arbitrary H1
    and H2 Pointer registers.
BITt 4 - Check Stuff Monitoring
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH and TOH Processor blocks to only
    execute a Positive, Negative or NDF event (via the Insert Positive Stuff, Insert Negative Stuff, Insert Continuous or
    Single NDF options, via software command) if no pointer adjustment (NDF or otherwise) has occurred during the last 3
    STS-1/STS-3 frame periods.
     0 - Disables this feature.In this mode, the Transmit STS-1/STS-3 POH and TOH Processor block will execute a
    software-commanded pointer adjustment event, independent of whether a pointer adjustment event has occurred in the
    last 3 STS-1/STS-3 frame periods.
     1 - Enables this feature.In this mode, the Transmit STS-1/STS-3 POH and TOH Processor block will ONLY execute
    a software-commanded pointer adjustment event, if no pointer adjustment event has occurred during the last 3 STS-
    1/STS-3 frame periods.
BITt 3 - Insert Negative Stuf
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH and TOH Processor blocks to insert a
    negative-stuff into the outbound STS-1 or STS-3 Data stream. This command, in-turn will cause a Pointer
    Decrementing event at the remote terminal.
     Writing a 0 to 1 transition into this bit-field causes the following to happen.
          •   A negative-stuff will occur (e.g., a single payload byte will be inserted into the H3 byte position within the
              outbound STS-1 or STS-3 Data stream).
          •   The D bits, within the H1 and H2 bytes will be inverted (to denote a Decrementing Pointer Adjustment event).
          •   The contents of the H1 and H2 bytes will be decremented by 1, and will be used as the new pointer from this
              point on.
    NOTE: Once the user writes a 1 into this bit-field, the XRT86SH328 will automatically clear this bit-field. Hence, there
            is no need to subsequently reset this bit-field to 0.
BITt 2 - Insert Positive Stuff
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH and TOH Processor blocks to insert a
    positive-stuff into the outbound STS-1 or STS-3 Data stream. This command, in-turn will cause a Pointer Incrementing
    event at the remote terminal.
     Writing a 0 to 1 transition into this bit-field causes the following to happen.
                                                               138


                                                                                                          XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
          •    A positive-stuff will occur (e.g., a single stuff-byte will be inserted into the STS-1 or STS-3 Data-stream,
               immediately after the H3 byte position within the outbound STS-1 or STS-3 Data stream).
          •    The I bits, within the H1 and H2 bytes will be inverted (to denote a Incrementing Pointer Adjustment event).
          •    The contents of the H1 and H2 bytes will be incremented by 1, and will be used as the new pointer from this
               point on.Note
    NOTE: Once the user writes a 1 into this bit-field, the XRT86SH328 will automatically clear this bit-field. Hence, there
             is no need to subsequently reset this bit-field to 0.
BITt 1 - Insert Continuous NDF Events
    This READ/WRITE bit-field is used configure the Transmit STS-1/STS-3 POH and TOH Processor blocks to
    continuously insert a New Data Flag (NDF) pointer adjustment into the outbound STS-1 or STS-3 Data stream.
    As the Transmit STS-1/STS-3 POH and TOH Processor blocks insert the NDF event into the STS-1 or STS-3 Data
    stream, it will proceed to load in the contents of the Transmit STS-1/STS-3 POH Arbitrary H1 Pointer and Transmit STS-
    1/STS-3 POH Arbitrary H2 Pointer registers into the H1 and H2 bytes (within the outbound STS-1 or STS-3 Data
    stream).
     0 - Configures the Transmit STS-1/STS-3 TOH and POH Processor blocks to not continuously insert NDF events into
    the outbound STS-1 or STS-3 Data stream.
     1- Configures the Transmit STS-1/STS-3 TOH and POH Processor blocks to continuously insert NDF events into the
    outbound STS-1 or STS-3 Data stream.
BITt 0 - Insert Single NDF Event
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH and TOH Processor blocks to insert a
    New Data Flag (NDF) pointer adjustment into the outbound STS-1 or STS-3 Data stream.
     Writing a 0 to 1 transition into this bit-field causes the following to happen
          •    The N bits, within the H1 byte will set to the value 1001
          •    The ten pointer-value bits (within the H1 and H2 bytes) will be set to new pointer value per the contents within
               the Transmit STS-1/STS-3 POH - Arbitrary H1 Pointer and Transmit STS-1/STS-3 POH Arbitrary H2 Pointer
               registers (Address Location= 0x07BF and 0xN9C3).
    NOTE: Afterwards, the N bits will resume their normal value of 0110 and this new pointer value will be used as the new
             pointer from this point on. Once the user writes a 1 into this bit-field, the XRT86SH328 will automatically clear
             this bit-field. Hence, there is no need to subsequently reset this bit-field to 0.
    TABLE 203: TRANSMIT STS-1/STS-3 PATH - SONET PATH J1 CONTROL REGISTER (ADDRESS LOCATION=
                                                             0X07BB)
     BIT 7              BIT 6          BIT 5            BIT 4          BIT 3           BIT 2         BIT 1          BIT 0
                              Unused                                   Transmit Path Trace             Transmit J1 Byte
                                                                       Message Length[1:0]          Insertion Method[1:0]
     R/O                 R/O           R/O              R/O             R/W             R/W          R/W             R/W
       0                  0              0                0              0               0             0              0
BIT [7:4] - Unused
BIT [3:2] - Transmit Path Trace Message Length[1:0]
    These two READ/WRITE bit-fields are used to specify the length of the message that is to be repetitively transmitted
    via the J1 byte as shown in the table below.
J
                           Message Length
                              MSG_LENGTH[1:0]             CORRESPONDING MESSAGE LENGTH(BYTES)
                                       00                                    1 Byte
                                       01                                   16 Bytes
                                                               139


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
                        Message Length
                            MSG_LENGTH[1:0]            CORRESPONDING MESSAGE LENGTH(BYTES)
                                  10 or 11                              64 Bytes
BIT [1:0] - Transmit J1 Byte Insertion Method[1:0]
    These READ/WRITE bit-fields are used to specify the method that the user will use to insert the J1 byte into the
    outbound STS-1/STS-3 SPE. The relationship between the contents of these bit-fields and the corresponding J1 Byte
    Insertion Method is presented below.
    Insertion Method
          J1 BYTE INSERTION
                                                              RESULTING INSERTION METHOD
             METHOD[1:0]
                   00               Insert the value 0x00
                   01               Transmit Path Trace Message Buffer. The Transmit STS-1/STS-3 Path Trace
                                    Buffer Memory is located at Address locations 0x0900 through 0x093F.
                   10               Insert from the Transmit SONET Path - Transmit J1 Byte Value Register (Address
                                    Location= 0x0793)
                   11               Insert via the TxPOH_n input port
TABLE 204: TRANSMIT STS-1/STS-3 PATH - TRANSMIT ARBITRARY H1 POINTER REGISTER (ADDRESS LOCATION=
                                                          0X07BF)
     BIT 7           BIT 6          BIT 5            BIT 4        BIT 3           BIT 2          BIT 1           BIT 0
                           NDF Bits                                       SS Bits                  H1 Pointer Value
     R/W              R/W            R/W             R/W           R/W            R/W            R/W              R/W
       0               0              0                0             0              0              0               0
BIT [7:4] - NDF (New Data Flag) Bits
    These READ/WRITE bit-fields are used provide the value that will be loaded into the NDF bit-field (of the H1 byte),
    whenever a 0 to 1 transition occurs in BIT 5 (Pointer Force) within the Transmit STS-1/STS-3 Path - Transmit Path
    Control Register (Address Location= 0x07B7).
BIT [3:2] - SS Bits
    These READ/WRITE bit-fields is used to provide the value that will be loaded into the SS bit-fields (of the H1 byte)
    whenever a 0 to 1 transition occurs in BIT 5 (Pointer Force) within the Transmit STS-1/STS-3 Path - Transmit Path
    Control Register (Address Location= 0x07B7).
    The SS bits have no functional value, within the H1 byte.
BIT [1:0] - H1 Pointer Value[1:0]
    These two READ/WRITE bit-fields, along with the constants of the Transmit STS-1/STS-3 Path - Transmit Arbitrary H2
    Pointer Register (Address Location= 0x07C3) are used to provide the contents of the Pointer Word.
    These two READ/WRITE bit-fields are used to define the value of the two most significant bits within the Pointer word.
    Whenever a 0 to 1 transition occurs in BIT 5 (Pointer Force) within the Transmit STS-1/STS-3 Path - Transmit Path
    Control Register (Address Location= 0x07B7), the values of these two bits will be loaded into the two most significant
    bits within the Pointer Word.
                                                            140


                                                                                                        XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 205: TRANSMIT STS-1/STS-3 PATH - TRANSMIT ARBITRARY H2 POINTER REGISTER (ADDRESS LOCATION=
                                                        0X07C3)
     BIT 7          BIT 6          BIT 5          BIT 4           BIT 3             BIT 2           BIT 1          BIT 0
                                                  H2 Pointer Value[7:0]
     R/W            R/W            R/W             R/W             R/W              R/W             R/W             R/W
       0              0              0              0               0                 0               0              0
BIT [7:0] - H2 Pointer Value[1:0]
    These eight READ/WRITE bit-fields, along with the constants of bits 1 and 0 within the Transmit STS-1/STS-3 Path -
    Transmit Arbitrary H1 Pointer Register (Address Location= 0x07C3) are used to provide the contents of the Pointer
    Word. These two READ/WRITE bit-fields are used to define the value of the eight least significant bits within the Pointer
    word.
     Whenever a 0 to 1 transition occurs in BIT 5 (Pointer Force) within the Transmit STS-1/STS-3 Path - Transmit Path
    Control Register (Address Location= 0x07B7), the values of these eight bits will be loaded into the H2 byte, within the
    outbound STS-1 or STS-3 Data stream.
 TABLE 206: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CURRENT POINTER BYTE REGISTER - BYTE 1 (ADDRESS
                                                 LOCATION= 0X07C6)
     BIT 7          BIT 6          BIT 5          BIT 4           BIT 3             BIT 2           BIT 1          BIT 0
   Unused                                                                                          Tx_Pointer_High[1:0]
     R/O             R/O           R/O             R/O             R/O              R/O             R/O             R/O
       0              0              0              0               0                 0               1              0
BIT [7:2] - Unused
BIT [1:0] - Transmit Pointer Word - High[1:0]
    These two READ-ONLY bits, along with the contents of the Transmit STS-1/STS-3 Path - Transmit Current Pointer Byte
    Register - Byte 0 (Address Location= 0x07C7) reflect the current value of the pointer (or offset of SPE within the STS-
    1/STS-3 frame). These two bits contain the two most significant bits within the 10-bit pointer word.
 TABLE 207: TRANSMIT STS-1/STS-3 PATH - TRANSMIT CURRENT POINTER BYTE REGISTER - BYTE 0 (ADDRESS
                                                 LOCATION= 0X07C7)
     BIT 7          BIT 6          BIT 5          BIT 4           BIT 3             BIT 2           BIT 1          BIT 0
                                                  Tx_Pointer_Low[7:0]
     R/O             R/O           R/O             R/O             R/O              R/O             R/O             R/O
       0              0              0              0               1                 0               1              0
BIT [7:0] - Transmit Pointer Word - Low[7:0]
    These two READ-ONLY bits, along with the contents of the Transmit STS-1/STS-3 Path - Transmit Current Pointer Byte
    Register - Byte 1 (Address Location= 0x07C6) reflect the current value of the pointer (or offset of SPE within the STS-
    1/STS-3 frame). These two bits contain the eight least significant bits within the 10-bit pointer word.
                                                           141


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
TABLE 208: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 2 (ADDRESS LOCATION= 0X07C9)
     BIT 7            BIT 6          BIT 5             BIT 4           BIT 3         BIT 2         BIT 1        BIT 0
                             Unused                                          PLM-P RDI-P Code[2:0]             Transmit
                                                                                                             RDI-P upon
                                                                                                                PLM-P
      R/O             R/O             R/O              R/O              R/W          R/W           R/W           R/W
       0                1               0                0               0             1             0            0
BIT [7:4] - Unused
BIT [3:1] - PLM-P (Path - Payload Mismatch) - RDI-P Code
    These three READ/WRITE bit-fields are used to specify the value that the Transmit STS-1/STS-3 POH Processor block
    will transmit, within the RDI-P bit-fields of the G1 byte (within the outbound STS-1/STS-3 SPE), whenever the
    corresponding Receive STS-1/STS-3 POH Processor block detects and declares a PLM-P condition. In order to enable
    this feature, the user must set BIT 0 (RDI-P upon PLM-P) within this register to 1.
BIT 0 - Transmit RDI-P upon PLM-P
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    transmit the RDI-P Code (as configured in Bits 3 through 1 - within this register) whenever the corresponding Receive
    STS-1/STS-3 POH Processor block declares a PLM-P condition.
     0 - Disables the automatic transmission of RDI-P upon detection of PLM-P.
     1 - Enables the automatic transmission of RDI-P upon detection of PLM-P.
TABLE 209: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION= 0X07CA)
     BIT 7            BIT 6          BIT 5             BIT 4           BIT 3         BIT 2         BIT 1        BIT 0
            TIM-P RDI-P Code[2:0]                    Transmit               UNEQ-P RDI-P Code[2:0]             Transmit
                                                    RDI-P upon                                               RDI-P upon
                                                      TIM -P                                                   UNEQ-P
     R/W              R/W             R/W              R/W              R/W          R/W           R/W           R/W
       1                1               0                0               1             1             0            0
BIT [7:5] - TIM-P (Path - Trace Identification Message Mismatch) - RDI-P Code
    These three READ/WRITE bit-fields are used to specify the value that the Transmit STS-1/STS-3 POH Processor block
    will transmit within the RDI-P bit-fields of the G1 byte (within the outbound STS-1/STS-3 SPE), whenever the Receive
    STS-1/STS-3 POH Processor block detects and declares the TIM-P defect condition.
    To enable this feature, the user must set BIT 4 (Transmit RDI-P upon TIM-P) within this register to 1.
BIT 4 - Transmit RDI-P upon TIM-P
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    transmit the RDI-P Code (as configured in Bits 7 through 5 - within this register) whenever the corresponding Receive
    STS-1/STS-3 POH Processor block declares the TIM-P defect condition.
     0 - Disables the automatic transmission of RDI-P upon detection of TIM-P.
     1 - Enables the automatic transmission of RDI-P upon detection of TIM-P.
BIT [3:1] - UNEQ-P (Path - Unequipped) - RDI-P Code
    These three READ/WRITE bit-fields are used to specify the value that the Transmit STS-1/STS-3 POH Processor block
    will transmit, within the RDI-P bit-fields of the G1 byte (within the outbound STS-1/STS-3 SPE), whenever the Receive
    STS-1/STS-3 POH Processor block detects and declares the UNEQ-P defect condition.
    To enable this feature, the user must set BIT 0 (Transmit RDI-P upon UNEQ-P) within this register to 1.
BIT 0 - Transmit RDI-P upon UNEQ-P
                                                               142


                                                                                                       XRT86SH328
REV. 2.0.0                   28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    transmit the RDI-P Code (as configured in Bits 3 through 1 - within this register) whenever the corresponding Receive
    STS-1/STS-3 POH Processor block declares the UNEQ-P defect condition.
     0 - Disables the automatic transmission of RDI-P upon detection of UNEQ-P.
     1 - Enables the automatic transmission of RDI-P upon detection of UNEQ-P.
TABLE 210: TRANSMIT STS-1/STS-3 PATH - RDI-P CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION= 0X07CB)
     BIT 7          BIT 6          BIT 5           BIT 4          BIT 3            BIT 2          BIT 1         BIT 0
           LOP-P RDI-P Code[2:0]                 Transmit                AIS-P RDI-P Code[2:0]                 Transmit
                                               RDI-P upon                                                    RDI-P upon
                                                  LOP-P                                                         AIS-P
     R/W             R/W            R/W            R/W            R/W               R/W           R/W            R/W
       1              0              1               0              1                 0             1             0
                                                          143


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
BIT [7:5] - LOP-P (Path - Loss of Pointer) - RDI-P Code
    These three READ/WRITE bit-fields are used to specify the value that the Transmit STS-1/STS-3 POH Processor block
    will transmit, within the RDI-P bit-fields of the G1 byte (within the outbound STS-1/STS-3 SPE), whenever the
    corresponding Receive STS-1/STS-3 POH Processor block detects and declares a LOP-P condition.
    To enable this feature, the user must set BIT 4 (RDI-P upon LOP-P) within this register to 1.
BIT 4 - Transmit RDI-P upon LOP-P
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    transmit the RDI-P Code (as configured in Bits 7 through 5 - within this register) whenever the corresponding Receive
    STS-1/STS-3 POH Processor block declares a LOP-P condition
     0 - Disables the automatic transmission of RDI-P upon detection of LOP-P.
     1 - Enables the automatic transmission of RDI-P upon detection of LOP-P.
BIT[3:1]AIS-P (Path - AIS) - RDI-P Code
    These three READ/WRITE bit-fields are used to specify the value that the Transmit STS-1/STS-3 POH Processor block
    will transmit, within the RDI-P bit-fields of the G1 byte (within the outbound STS-1/STS-3 SPE), whenever the
    corresponding Receive STS-1/STS-3 POH Processor block detects and declares an AIS-P condition.
    To enable this feature, the user must set BIT 4 (RDI-P upon AIS-P) within this register to 1.
BIT 0 - Transmit RDI-P upon AIS-P
    This READ/WRITE bit-field is used to configure the Transmit STS-1/STS-3 POH Processor block to automatically
    transmit the RDI-P Code (as configured in Bits 7 through 5 - within this register) whenever the corresponding Receive
    STS-1/STS-3 POH Processor block declares a AIS-P condition.
     0 - Disables the automatic transmission of RDI-P upon detection of AIS-P.
     1 - Enables the automatic transmission of RDI-P upon detection of AIS-P.
 TABLE 211: TRANSMIT STS-1/STS-3 PATH - SERIAL PORT CONTROL REGISTER (ADDRESS LOCATION= 0X07CF)
     BIT 7            BIT 6          BIT 5            BIT 4            BIT 3         BIT 2        BIT 1         BIT 0
                             Unused                                                TxPOH Clock Speed[4:0]
      R/O             R/O             R/O              R/W             R/W           R/W          R/W            R/W
       0                0               0                0               0             0            0             0
BIT [7:4] - Unused
BIT 3:0] - TxPOHClk Output Clock Signal Speed
    These READ/WRITE bit-fields are used to specify the frequency of the TxPOHClk output clock signal. The formula that
    relates the contents of these register bits to the TxPOHClk frequency is presented below.
    FREQ = 51.84 /[2 * (TxPOH_CLOCK_SPEED + 1)
    For STS-3/STS-1/STS-3 applications, the frequency of the RxPOHClk output signal must be in the range of 2.36MHz
    to 25.92MHz
TABLE 212: TRANSMIT STS-1/STS-3 PATH - TRANSMIT NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE
                                              1 (ADDRESS LOCATION= 0X07D0)
     BIT7             BIT6           BIT 5             BIT 4           BIT 3         BIT 2        BIT 1         BIT 0
                                    Transmit_Negative_Pointer_Adjustment_Count[15:8]
     RUR              RUR            RUR               RUR             RUR           RUR          RUR            RUR
       0                0               0                0               0             0            0             0
BIT [7:0] - Transmit Negative Pointer Adjustment Count - MSB
    This RESET-upon-READ register, along with the Transmit Negative Pointer Adjustment Count Register - Byte 0
    presents a 16-bit representation of the number of Negative (or Decrementing) Pointer Adjustments that have occurred
                                                               144


                                                                                                      XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     (in the outbound STS-1 or STS-3 Data-stream) since the last read of this register.
     NOTE: This register contains the MSB (Most Significant Bits) of this 16-bit expression.
TABLE 213: TRANSMIT STS-1/STS-3 PATH - TRANSMIT NEGATIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE
                                             0 (ADDRESS LOCATION= 0X07D1)
      BIT7            BIT6            BIT 5          BIT 4            BIT 3            BIT 2      BIT 1          BIT 0
                                      Transmit_Negative_Pointer_Adjustment_Count[7:0]
      RUR             RUR              RUR           RUR              RUR              RUR        RUR            RUR
        0               0                0             0                0                0          0              0
BIT [7:0] - Transmit Negative Pointer Adjustment Count - LSB
     This RESET-upon-READ register, along with the Transmit Negative Pointer Adjustment Count Register - Byte 1
     presents a 16-bit representation of the number of Negative (or Decrementing) Pointer Adjustments that have occurred
     (in the outbound STS-1 or STS-3 Data-stream) since the last read of this register.
     NOTE:     This register contains the LSB (Least Significant Bits) of this 16-bit expression.
 TABLE 214: TRANSMIT STS-1/STS-3 PATH - TRANSMIT POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE
                                             1 (ADDRESS LOCATION= 0X07D2)
      BIT7            BIT6            BIT 5          BIT 4            BIT 3            BIT 2      BIT 1          BIT 0
                                      Transmit_Positive_Pointer_Adjustment_Count[15:8]
      RUR             RUR              RUR           RUR              RUR              RUR        RUR            RUR
        0               0                0             0                0                0          0              0
BIT [7:0] - Transmit Positive Pointer Adjustment Count - MSB
     This RESET-upon-READ register, along with the Transmit Positive Pointer Adjustment Count Register - Byte 0 presents
     a 16-bit representation of the number of Positive (or Incrementing) Pointer Adjustments that have occurred (in the
     outbound STS-1 or STS-3 Data-stream) since the last read of this register.
     NOTE:     This register contains the MSB (Most Significant Bits) of this 16-bit expression.
 TABLE 215: TRANSMIT STS-1/STS-3 PATH - TRANSMIT POSITIVE POINTER ADJUSTMENT COUNT REGISTER - BYTE
                                             1 (ADDRESS LOCATION= 0X07D3)
      BIT7            BIT6            BIT 5          BIT 4            BIT 3            BIT 2      BIT 1          BIT 0
                                       Transmit_Positive_Pointer_Adjustment_Count[7:0]
      RUR             RUR              RUR           RUR              RUR              RUR        RUR            RUR
        0               0                0             0                0                0          0              0
BIT [7:0] - Transmit Positive Pointer Adjustment Count - LSB
     This RESET-upon-READ register, along with the Transmit Positive Pointer Adjustment Count Register - Byte 1 presents
     a 16-bit representation of the number of Positive (or Incrementing) Pointer Adjustments that have occurred (in the
     outbound STS-1 or STS-3 Data-stream) since the last read of this register.
     NOTE:     This register contains the LSB (Least Significant Bits) of this 16-bit expression.
to here 1/12/07
 2.7        Transmit TUG-3 MAPPER/VC-4 POH Processor Block Registers (SDH/TUG-3 Applications
           Only)
The register map for the Transmit TU-3 Mapper/VC-4 POH Processor block is presented an discussed in detail
within the "SDH Version of the Register Map".
                                                              145


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                 REV. 2.0.0
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328 device, with the Transmit TUG-3 Maper/VC-4 POH Processor block "highlighted" is presented
below in Figure _.
FIGURE 8. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE TRANS-
MIT TUG-3 MAPPER/VC-4 POH PROCESSOR BLOCK "HIGHLIGHTED"
            Transmit      Transmit                                                      Ingress    Ingress
             Transmit      Transmit                                                                              Receive
             STM-1         TUG-3         Transmit                        VT/TU         Direction  Direction
              STM-1         TUG-3         Transmit                        VT/TU                                  DS1/E1
              SOH         Mapper/       VC-3                             Mapper        Transmit    Receive
               SOH         Mapper/       VC-3POH
                                               POH                        Mapper        DS1/E1     DS1/E1         LIU
            Processor    VC-4
                          VC-4POH
                                POH      Processor                        Block
             Processor                    Processor                        Block        Framer     Framer         Block
              Block       Processor
                           Processor       Block
               Block                        Block                                        Block      Block
                            Block
                             Block
                                                                                                          DS1/E1 Channel 0
                                                   From TU Channels 1 - 27
                                                       From DS2 Channels 1 - 6
                                        Transmit
                                         Transmit         M23
                                                            M23                      M12
                                           DS3
                                            DS3                                                     From DS1/E1 Channels 1 - 3
            STS-1/                                       MUX
                                                           MUX                      MUX
             STS-1/                      Framer
                                          Framer
            STM-0                                        Block
                                                           Block                    Block
             STM-0                        Block
                                           Block
           Telecom
            Telecom                                             DS2 Channel 0
              Bus
               Bus                       Receive
                                          Receive
           Interface
            Interface                                      M23
                                                            M23                      M12
                                           DS3
                                            DS3                                                     To DS1/E1 Channels 1 - 3
                                                        De-MUX
                                                         De-MUX                   De-MUX
                                         Framer
                                          Framer          Block
                                                            Block                   Block
                                          Block
                                           Block
                                                                                 DS2 Channel 0
                                                   To TU
                                                                                                     To DS2 Channels 1 - 6
                                               Channels 1 - 27
                          Receive
                           Receive                                                     Egress     Egress
             Receive
              Receive     TUG-3          Receive                         DS1/E1       Direction  Direction     Transmit
                           TUG-3          Receive          VT/TU
             STM-1        Mapper/      VC-3                                            Receive   Transmit
              STM-1
              SOH
                           Mapper/       VC-3POH
                                               POH      De-Mapper
                                                                          Jitter                                DS1/E1
               SOH         VC-4
                             VC-4       Processor                         Atten        DS1/E1     DS1/E1          LIU
            Processor                    Processor          Block
             Processor      POH
                             POH          Block                           Block        Framer     Framer         Block
              Block                        Block
               Block     Processor
                          Processor                                                     Block      Block
                           Block
                            Block                                                                         DS1/E1 Channel 0
For detailed on the "Transmit TUG-3 Mapper/VC-4 POH Processor Block" Registers, please see the
"XRT86SH328 28-Channel DS1/E1 Framer/LIU with DS3 MUX and TU-Mapper IC - Register Map &
Description - SDH Applications".
 2.8    Global VT MAPPER BLOCK CONTROL REGISTERS
The register map for the Global VT Mapper block is presented in the Table below. Additionally, a detailed
description of each of the Global VT Mapper Control registers is presented below.
   TABLE 216: GLOBAL CONTROL - VT-MAPPER BLOCK - VT MAPPER BLOCK CONTROL REGISTER (ADDRESS =
                                                               0X0C03)
     BIT7            BIT6            BIT 5            BIT 4              BIT 3             BIT 2         BIT 1               BIT 0
                           Unused                                    Latch Count          REI-V         Unused          SONET/SDH
                                                                                          Enable                          Loop-Back
     R/O             R/O             R/O               R/O               R/W                R/W           R/W                 R/W
      0                0               0                 0                  0                  0            0                  0
                                                                 146


                                                                                                        XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:4] - Unused
BIT 3 - Latch Count
     A "0 to 1" transition within this bit-field commands each of the VT-De-Mapper blocks to update the contents within the
    following Bit-Fields/PMON registers.
                                                                                                        ADDRESS
                 BIT FIELDS                                    REGISTER NAME
                                                                                                        LOCATION
         VT-Payload Pointer            Channel Control VT Mapper Block - Egress Direction - BIP-2        0xND4A
         Increment Count[3:0]          Error Count Register - Byte 1
         BIP-2 Error Count[11:8]       Channel Control VT Mapper Block - Egress Direction - BIP-2        0xND4A
                                       Error Count Register - Byte 1
         BIP-2 Error Count[7:0]        Channel Control VT Mapper Block - Egress Direction - BIP-2        0xND4B
                                       Error Count Register - Byte 0
         VT-Payload Pointer Dec- Channel Control - VT Mapper Block - Egress Direction - REI-V            0xND4E
         rement Count[3:0]             Event Count Register - Byte 1
         REI-V Event Count[11:8] Channel Control - VT Mapper Block - Egress Direction - REI-V            0xND4E
                                       Event Count Register - Byte 1
         REI-V Event Count[7:0]        Channel Control - VT Mapper Block - Egress Direction - REI-V      0xND4F
                                       Event Count Register - Byte 0
BIT 2 - REI-V Enable
    This READ/WRITE bit-field is used to configure a given Transmit VT-Mapper block to automatically insert the
    appropriate REI-V value (based upon the number of B2 bit errors that are detected by the corresponding Receive VT-
    Mapper block) into the V5 byte, within its outbound VT1.5 or VT2 data-stream.
     0 - Configures the Transmit VT-Mapper block to NOT automatically insert the REI-V value into each V5 byte, within
    the outbound VT data-stream.
     1 - Configures the Transmit VT-Mapper block to automatically insert the REI-V value into each V5 byte, within the
    outbound VT data-stream.
BIT 1 - Unused
BIT 0 - VT Mapper SONET/SDH Loop-Back
    This READ/WRITE bit-field permits the user to configure the XRT86SH328 device to operate in the "VT Mapper
    SONET/SDH Loop-back" Mode. If the user configures the XRT86SH328 device to operate in this mode, then the
    outputs (from each of the 28 VT-Mapper blocks) will be internally looped back into the inputs of their corresponding VT-
    De-Mapper block.
    Figure _ presents an illustration of the XRT86SH328 device whenever it has been configured to operate in the "VT
    Mapper SONET/SDH Loop-back" Mode.
Figure _, Illustration of the Functional Block Diagram of the XRT86SH328 device with the "VT-Mapper
SONET/SDH Loop-back" path depicted.
                                                              147


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                   REV. 2.0.0
FIGURE 9. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 WITH THE VT-MAPPER
SONET/SDH LOOP-BACK PATH DEPICTED
                               Transmit                                                   Ingress    Ingress
                                Transmit       Transmit
                                                Transmit                                 Direction  Direction      Receive
                                STS-1/3       STS-1                         VT/TU
                                 STS-1/3
                                 TOH           STS-1POHPOH                   VT/TU
                                                                           Mapper        Transmit    Receive       DS1/E1
                                  TOH          Processor
                                                Processor                   Mapper        DS1/E1     DS1/E1         LIU
                               Processor
                                Processor        Block                       Block
                                                                              Block
                                                   Block                                  Framer     Framer         Block
                                 Block
                                  Block
               STS-1/
                 STS-1/                                                                    Block      Block
                STS-3
                 STS-3                                                                                      DS1/E1 Channel 0
              Telecom
               Telecom                       From DS1/E1 Channels 1 - 27
                 Bus
                  Bus
              Interface                                   From DS2 Channels 1 - 6
               Interface
                                             Transmit
                                              Transmit       M23
                                                              M23                      M12
                                                DS3
                                                 DS3                                                  From DS1/E1 Channels 1 - 3
                                                            MUX
                                                             MUX                      MUX
                                              Framer
                                               Framer
                DS3/                                        Block
                                                             Block                    Block
                  DS3/                         Block
                                                Block
                STS-1
                 STS-1                                                       VT Mapper SONET/SDH Loop-Back
                                                                  DS2 Channel 0
                 LIU
                  LIU
              Interface                       Receive
                                               Receive
               Interface                                     M23
                                                              M23                      M12
                                                DS3
                                                 DS3                                                  To DS1/E1 Channels 1 - 3
                                                           De-MUX
                                                            De-MUX                  De-MUX
                                              Framer
                                               Framer        Block
                                                              Block                   Block
                                               Block
                                                Block
                                                                                   DS2 Channel 0
                                         To DS1/E1
                                                                                                       To DS2 Channels 1 - 6
                                       Channels 1 - 27
                                                                                         Egress     Egress
                             Receive
                              Receive        Receive                       DS1/E1       Direction  Direction     Transmit
                             STS-1/3          Receive        VT/TU
                              STS-1/3      STS-1
                                            STS-1POHPOH                     Jitter       Receive   Transmit       DS1/E1
                              TOH                          De-Mapper
                               TOH          Processor
                                             Processor                       Atten       DS1/E1     DS1/E1          LIU
                            Processor                         Block
                             Processor        Block
                                               Block                         Block       Framer     Framer         Block
                              Block
                               Block                                                      Block      Block
                                                                                                            DS1/E1 Channel 0
      0 - Does not configure the XRT86SH328 device to operate in the "VT-Mapper SONET/SDH Loop-back" Mode.
      1 - Configures the XRT86SH328 device to operate in the "VT-Mapper SONET/SDH Loop-back" Mode.
TABLE 217: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN CONTROL REGISTER - BYTE 1 (ADDRESS =
                                                                0X0C0E)
      BIT7               BIT6            BIT 5            BIT 4            BIT 3             BIT 2         BIT 1               BIT 0
  Latch Error        Insert Pat-                                                  Reserved
     Count            tern Error
      R/W                R/W              R/O              R/O              R/O               R/O           R/O                 R/O
        0                 0                0                0                 0                  0            0                  0
BIT7 - Latch Error Count
     A 0 to 1 transition within this bit-field commands the Test Pattern Receiver to latch its current Bit Error Count into Bits 6
     - 0 (Test Pattern Error Count[14:8]) and BIT [7:0] (Test Pattern Error Count[7:0]) within the VT Mapper - Test Pattern
     Detector Error Count Register (Address Locations = 0x0C16 and 0x0C17).
BIT6 - Insert Pattern Error
     This bit-field is used to configure the VT-Mapper Test Pattern Generator block to insert a single bit-error into the
     outbound VT data-stream. A 0 to 1 transition within this bit-field will command the VT-Mapper Test Pattern Generator
     block to insert a single bit-error into the outbound VT data-stream.
Bits [5 - 0] - Reserved
                                                                    148


                                                                                                     XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 TABLE 218: GLOBAL VT-MAPPER BLOCK - TEST PATTERN CONTROL REGISTER - BYTE 0 (ADDRESS = 0X0C0F)
      BIT7             BIT6         BIT 5           BIT 4          BIT 3            BIT 2        BIT 1           BIT 0
   VT1.5 Transmit Test Pat-        VT2 Transmit Test Pat-         VT3 Transmit Test Pat-        VT6 Transmit Test Pat-
             tern[1:0]                    tern[1:0]                       tern[1:0]                    tern[1:0]
      R/W              R/W           R/W            R/W             R/W             R/W          R/W             R/W
        0               0             0               0              0                0            0               0
Bits 7 - 6 - VT1.5 Transmit Test Pattern[1:0]
     This READ/WRITE bit-field is used to specify the test pattern that the VT1.5 Test Pattern Generator will generate and
     transmit.
                        Transmitted Test Pattern
                            VT1.5 TRANSMIT TEST
                                                               TEST PATTERN TRANSMITTED
                               PATTERN[1:0]
                                    00                All Zeros Pattern
                                    01                All Ones Pattern
                                    10                Repeating 1010… Pattern
                                    11                2^15-1 PRBS Pattern
BIT[5:4] - VT2 Transmit Test Pattern[1:0]
     This READ/WRITE bit-field is used to specify the test pattern that the VT2 Test Pattern Generator will generate and
     transmit.
                        Transmitted Test Pattern
                             VT2 TRANSMIT TEST
                                                               TEST PATTERN TRANSMITTED
                               PATTERN[1:0]
                                    00                All Zeros Pattern
                                    01                All Ones Pattern
                                    10                Repeating 1010… Pattern
                                    11                2^15-1 PRBS Pattern
BIT[3:2] - VT3 Transmit Test Pattern[1:0]
     This READ/WRITE bit-field is used to specify the test pattern that the VT3 Test Pattern Generator will generate and
     transmit.
                        Transmitted Test Pattern
                             VT3 TRANSMIT TEST
                                                               TEST PATTERN TRANSMITTED
                               PATTERN[1:0]
                                    00                All Zeros Pattern
                                    01                All Ones Pattern
                                    10                Repeating 1010… Pattern
                                    11                2^15-1 PRBS Pattern
                                                            149


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
BIT[1:0] - VT6 Transmit Test Pattern[1:0]
    This READ/WRITE bit-field is used to specify the test pattern that the VT6 Test Pattern Generator will generate and
    transmit.
                      Transmitted Test Pattern
                           VT6 TRANSMIT TEST
                                                              TEST PATTERN TRANSMITTED
                              PATTERN[1:0]
                                    00              All Zeros Pattern
                                    01              All Ones Pattern
                                    10              Repeating 1010… Pattern
                                    11              2^15-1 PRBS Pattern
  TABLE 219: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN DROP REGISTER - BYTE 1 (ADDRESS =
                                                        0X0C12)
     BIT7            BIT6              BIT 5          BIT 4          BIT 3         BIT 2         BIT 1          BIT 0
    Test Channel Size[1:0]         Test Channel                          Test Channel Drop Side[4:0]
                                    Drop Side
                                   SONET/SDH
      R/W             R/W              R/W            R/W             R/W           R/W           R/W           R/W
        0              0                 0              0               0            0             0              0
BIT7-6 - Test Channel Size[1:0]:
    These two READ/WRITE bit-fields are used to specify the Size of the Test Channel (e.g., the Channel that will be used
    to transport the user-specified Test Pattern.
                      Test Channel Size
                         TEST CHANNEL SIZE[1:0]                    TEST CHANNEL SIZE
                                    00              VT-6
                                    01              VT-3
                                    10              VT2/TU-12
                                    11              VT1.5/TU-11
BIT 5 - Test Channel Drop Side SONET/SDH
    This READ/WRITE bit-field is used to select the source of the Test Channel. In this case, the user can either select
    either a DS1/E1 Channel originating from the Receive SONET/SDH Block or a DS1/E1 Channel originating from the
    Ingress Direction DS1/E1 Blocks.
     0 - Configures the Test Channel Source to be one of the DS1/E1 Channels, originating from the Ingress Direction
    DS1/E1 Blocks.
     1 - Configures the Test Channel Source to be the DS1/E1 Channels, originating from the Receive SONET/SDH
    Blocks
BIT[4:0] - Test Channel Drop Side[4:0]
    These READ/WRITE bit-fields are used to select which data-stream will be output via the Test Channel.
                                                           150


                                                                          XRT86SH328
REV. 2.0.0        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
           Output Data Stream via Test Channel
               TEST CHANNEL DROP SIDE[4:0]            TEST CHANNEL USED
                          00000                Do Not Use
                          00001                DS1/E1 Channel 1
                          00010                DS1/E1 Channel 2
                          00011                DS1/E1 Channel 3
                          00100                DS1/E1 Channel 4
                          00101                DS1/E1 Channel 5
                          00110                DS1/E1 Channel 6
                          00111                DS1/E1 Channel 7
                          01000                DS1/E1 Channel 8
                          01001                DS1/E1 Channel 9
                          01010                DS1/E1 Channel 10
                          01011                DS1/E1 Channel 11
                          01100                DS1/E1 Channel 12
                          01101                DS1/E1 Channel 13
                          01110                DS1/E1 Channel 14
                          01111                DS1/E1 Channel 15
                          10000                DS1/E1 Channel 16
                          10001                DS1/E1 Channel 17
                          10010                DS1/E1 Channel 18
                          10011                DS1/E1 Channel 19
                          10100                DS1/E1 Channel 20
                          10101                DS1/E1 Channel 21
                          10110                DS1/E1 Channel 22
                          10111                DS1/E1 Channel 23
                          11000                DS1/E1 Channel 24
                          11001                DS1/E1 Channel 25
                          11010                DS1/E1 Channel 26
                          11011                DS1/E1 Channel 27
                          11100                DS1/E1 Channel 28
                          11101                AIS will be Generated
                          11110                Test Channel Input
                          11111                User Selected Test Pattern
                                           151


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                           REV. 2.0.0
   TABLE 220: GLOBAL CONTROL - VT-MAPPER BLOCK - TEST PATTERN DROP REGISTER - BYTE 0 (ADDRESS =
                                                            0X0C13)
      BIT7             BIT6             BIT 5            BIT 4           BIT 3          BIT 2           BIT 1           BIT 0
   Receive (Expected) Pat-          Test Channel                             Test Channel Drop Side[4:0]
             tern[1:0]               Drop Side -
                                    SONET/SDH
      R/W              R/W               R/W              R/W             R/W           R/W              R/W            R/W
        0                0                0                 0               0             0                0              0
Bits 7 - 6 - Receive (Expected) Pattern:
     This READ/WRITE bit-field is used to specify the Test Pattern, that the VT-Mapper Pattern Receiver should be
     expecting, as shown in the table below.
                        Expected Test Pattern
                            RECEIVE (EXPECTED)
                                                                   EXPECTED TEST PATTERN
                               PATTERN[1:0]
                                      00                All Zeros Pattern
                                      01                All Ones Pattern
                                      10                Repeating 1010… Pattern
                                      11                2^15-1 PRBS Pattern
BIT 5 - Test Channel Drop-Side SONET/SDH
     This READ/WRITE bit-field is used to select which set of DS1/E1 traffic should be used, as a basis of comparison
     against the Test Signal. In this case, the user can either select the either the DS1/E1 traffic originating from the Ingress
     Direction DS1/E1 Blocks or the DS1/E1 traffic originating from the Receive SONET/SDH Blocks.
      0 - Configures the Pattern Receiver to compare the Test Signal with one of the DS1/E1 Channels, originating from
     the Ingress Direction DS1/E1 Blocks.
      1 - Configures the Pattern Receiver to compare the Test Signal with one of the DS1/E1 Channels, originating from
     the Receive SONET/SDH Blocks.
BIT[4:0] - Test Channel Drop Side[4:0]:
     These READ/WRITE bit-fields are used to select which data-stream will be compared with the Test Signal.
                        Test Channel Selection
                           TEST CHANNEL DROP SIDE[4:0]                   TEST CHANNEL USED
                                        00000                  Do Not Use
                                        00001                  DS1/E1 Channel 1
                                        00010                  DS1/E1 Channel 2
                                        00011                  DS1/E1 Channel 3
                                        00100                  DS1/E1 Channel 4
                                        00101                  DS1/E1 Channel 5
                                        00110                  DS1/E1 Channel 6
                                        00111                  DS1/E1 Channel 7
                                                              152


                                                                                     XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
                    Test Channel Selection
                      TEST CHANNEL DROP SIDE[4:0]              TEST CHANNEL USED
                                 01000               DS1/E1 Channel 8
                                 01001               DS1/E1 Channel 9
                                 01010               DS1/E1 Channel 10
                                 01011               DS1/E1 Channel 11
                                 01100               DS1/E1 Channel 12
                                 01101               DS1/E1 Channel 13
                                 01110               DS1/E1 Channel 14
                                 01111               DS1/E1 Channel 15
                                 10000               DS1/E1 Channel 16
                                 10001               DS1/E1 Channel 17
                                 10010               DS1/E1 Channel 18
                                 10011               DS1/E1 Channel 19
                                 10100               DS1/E1 Channel 20
                                 10101               DS1/E1 Channel 21
                                 10110               DS1/E1 Channel 22
                                 10111               DS1/E1 Channel 23
                                 11000               DS1/E1 Channel 24
                                 11001               DS1/E1 Channel 25
                                 11010               DS1/E1 Channel 26
                                 11011               DS1/E1 Channel 27
                                 11100               DS1/E1 Channel 28
                                 11101               AIS will be Generated
                                 11110               Test Channel Input
                                  11111              Disable Pattern Receiver
TABLE 221: GLOBAL CONTROL - VT-MAPPER - TEST PATTERN DETECTOR ERROR COUNT REGISTER - UPPER BYTE
                                           (ADDRESS = 0X0C16)
     BIT7         BIT6          BIT 5       BIT 4          BIT 3          BIT 2  BIT 1     BIT 0
  VT-Mapper                                    Test Pattern Error Count[14:8]
 Test Pattern
     Sync
     R/O          RUR           RUR         RUR             RUR            RUR   RUR       RUR
       0            0             0           0               0             0      0         0
BIT7 - VT-Mapper Test Pattern Sync:
                                                    153


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                          REV. 2.0.0
     This READ-ONLY bit-field indicates whether or not the VT-Mapper Pattern Receiver is currently declaring Pattern Sync
     with the incoming Test Signal.
      0 - VT-Mapper Pattern Receiver is NOT currently declaring Pattern Sync with the incoming Test Signal.
      1 - VT-Mapper Pattern Receiver is currently declaring Pattern Sync with the incoming Test Signal.
BIT[6:0] - Test Pattern Error Count[14:8]:
     These seven (7) RESET-upon-READ bit-fields, along with the Test Pattern Error Count[7:0] bit-fields function as a 15-
     bit Pattern Bit Error Count Register. If the VT-Mapper Pattern Receiver is currently declaring Pattern Sync with the
     designated Test Signal, then it will increment this register (by the value of 1) each time that it detects Pattern Bit Error.
     These seven (7) bit-fields function as the seven most-significant bits of this 15-bit counter.
TABLE 222: GLOBAL CONTROL - VT-MAPPER - TEST PATTERN DETECTOR ERROR COUNT REGISTER - LOWER BYTE
                                                     (ADDRESS = 0X0C17)
      BIT7            BIT6             BIT 5           BIT 4           BIT 3             BIT 2         BIT 1          BIT 0
                                                  Test Pattern Error Count[7:0]
      RUR             RUR              RUR             RUR              RUR              RUR           RUR             RUR
        0               0                0               0                0                 0            0              0
BIT[7:0] - Test Pattern Error Count[7:0]:
     These eight (8) RESET-upon-READ bit-fields, along with the Test Pattern Error Count[14:8] bit-fields function as a 15-
     bit Pattern Bit Error Count Register. If the VT-Mapper Pattern Receiver is currently declaring Pattern Sync with the
     designated Test Signal, then it will increment this register (by the value of 1) each time that it detects Pattern Bit Error.
     These eight (8) bit-fields function as the eight least-significant bits of this 15-bit counter.
    TABLE 223: GLOBAL CONTROL - VT-MAPPER - TRANSMIT TRIBUTARY SIZE SELECT REGISTER (ADDRESS =
                                                            0X0C1A)
      BIT7            BIT6             BIT 5           BIT 4           BIT 3             BIT 2         BIT 1          BIT 0
             Unused                 TxTributary Size Select -        TxTributary Size Select -       TxTributary Size Select -
                                            VT#6[1:0]                         VT#5[1:0]                     VT#4[1:0]
      R/O              R/O             R/W             R/W              R/W              R/W           R/W             R/W
        0               0                1               1                1                 1            1              1
Bits 7 - 6 - Unused:
BIT[5:4] - Transmit Tributary Size Select for VT# 6[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
     VT-Mapper block (associated with Virtual Tributary Group # 6) will support.
                          Size of VT #6
                                TXTRIBUTARY SIZE
                                                                    RESULTING SIZE OF VT # 6
                               SELECT - VT#6[1:0]
                                        00                VT-6
                                        01                VT-3
                                        10                VT-2/TU-12
                                        11                VT-1.5/TU-11
     NOTE: This configuration setting only applies to the Transmit VT-Mapper block. This configuration setting does not
             configure the Receive VT-De-Mapper block to expect any particular VT-type within VT Group # 6. The user
                                                               154


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
             must separately configure the Receive VT-De-Mapper block's handling of VT-Group # 6 by setting Bits 4 and 5
             (RxTributary Size Select - VT# 6[1:0]) within the VT-Mapper - Receive Tributary Size Select Register (Address =
             0x0C1E).
BIT[3:2] - Transmit Tributary Size Select for VT# 5[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
     VT-Mapper block (associated with Virtual Tributary Group # 5) will support.
                         Size of VT #5
                               TXTRIBUTARY SIZE
                                                                 RESULTING SIZE OF VT # 5
                              SELECT - VT#5[1:0]
                                       00                VT-6
                                       01                VT-3
                                       10                VT-2/TU-12
                                       11                VT-1.5/TU-11
BIT[1:0] - Transmit Tributary Size Select for VT# 4[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
     VT-Mapper block (associated with Virtual Tributary Group # 4), will support.
                        Size of VT #4
                          TXTRIBUTARY SIZE SELECT
                                                                  RESULTING SIZE OF VT # 4
                                 - VT#4[1:0]
                                      00                VT-6
                                      01                VT-3
                                      10                VT-2/TU-12
                                      11                VT-1.5/TU-11
    TABLE 224: GLOBAL CONTROL - VT-MAPPER - TRANSMIT TRIBUTARY SIZE SELECT REGISTER (ADDRESS =
                                                            0X0C1B)
     BIT7             BIT6           BIT 5           BIT 4          BIT 3           BIT 2          BIT 1           BIT 0
   TxTributary Size Select -       TxTributary Size Select -       TxTributary Size Select -     TxTributary Size Select -
            VT#3[1:0]                     VT#2[1:0]                       VT#1[1:0]                      VT#0[1:0]
      R/W             R/W            R/W             R/W             R/W             R/W           R/W             R/W
       1               1                1               1             1               1              1               1
Bits 7 - 6 - Transmit Tributary Size Select for VT# 3[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
     VT-Mapper block (associated with Virtual Tributary Group # 3), will support.
                        TxTributary Size Select of VT#3
                          TXTRIBUTARY SIZE SELECT
                                                                 RESULTING SIZE OF VT # 3
                                 - VT#3[1:0]
                                      00                 VT-6
                                      01                 VT-3
                                                              155


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
                       TxTributary Size Select of VT#3
                        TXTRIBUTARY SIZE SELECT
                                                              RESULTING SIZE OF VT # 3
                               - VT#3[1:0]
                                    10              VT-2/TU-12
                                    11              VT-1.5/TU-11
BIT[5:4] - Transmit Tributary Size Select for VT# 2[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
    VT-Mapper block (associated with Virtual Tributary Group # 2) will support.
                         TxTributary Size Select of VT#2
                             TXTRIBUTARY SIZE
                                                             RESULTING SIZE OF VT # 2
                            SELECT - VT#2[1:0]
                                     00              VT-6
                                     01              VT-3
                                     10              VT-2/TU-12
                                     11              VT-1.5/TU-11
BIT[3:2] - Transmit Tributary Size Select for VT# 1[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
    VT-Mapper block (associated with Virtual Tributary Group # 1) will support.
                         TxTributary Size Select of VT#1
                              TXTRIBUTARY SIZE
                                                             RESULTING SIZE OF VT # 1
                             SELECT - VT#1[1:0]
                                     00              VT-6
                                     01              VT-3
                                     10              VT-2/TU-12
                                     11              VT-1.5/TU-11
BIT[1:0] - Transmit Tributary Size Select for VT# 0[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Transmit
    VT-Mapper Block (associated with Virtual Tributary Group # 0) will support.
                        TxTributary Size Select of VT#0
                             TXTRIBUTARY SIZE
                                                             RESULTING SIZE OF VT # 0
                            SELECT - VT#0[1:0]
                                    00               VT-6
                                    01               VT-3
                                    10               VT-2/TU-12
                                    11               VT-1.5/TU-11
                                                          156


                                                                                                      XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 225: GLOBAL CONTROL - VT-MAPPER - RECEIVE TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1E)
     BIT7            BIT6         BIT 5           BIT 4           BIT 3          BIT 2           BIT 1           BIT 0
             Unused             RxTributary Size Select -       RxTributary Size Select -      RxTributary Size Select -
                                        VT#6[1:0]                       VT#5[1:0]                     VT#4[1:0]
      R/O            R/O           R/W             R/W            R/W             R/W            R/W              R/W
       0              0             1                1              1               1              1               1
Bits 7 - 6 - Unused:
BIT[5:4] - Receive Tributary Size Select for VT# 6[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
     VT-Mapper Block (associated with Virtual Tributary Group # 6) will support.
                         Resulting Size of VT#6
                             RXTRIBUTARY SIZE
                                                              RESULTING SIZE OF VT # 6
                            SELECT - VT#6[1:0]
                                    00                VT-6
                                    01                VT-3
                                    10                VT-2/TU-12
                                    11                VT-1.5/TU-11
BIT[3:2] - Receive Tributary Size Select for VT# 5[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
     VT-Mapper block (associated with Virtual Tributary Group # 5) will support.
                         Resulting Size of VT#5
                             RXTRIBUTARY SIZE
                                                              RESULTING SIZE OF VT # 5
                            SELECT - VT#5[1:0]
                                    00                VT-6
                                    01                VT-3
                                    10                VT-2/TU-12
                                    11                VT-1.5/TU-11
BIT[1:0] - Receive Tributary Size Select for VT# 4[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
     VT-Mapper block (associated with Virtual Tributary Group # 4) will support.
                          Resulting Size of VT#4
                             RXTRIBUTARY SIZE
                                                              RESULTING SIZE OF VT # 4
                             SELECT - VT#4[1:0]
                                     00                VT-6
                                     01                VT-3
                                     10                VT-2/TU-12
                                     11                VT-1.5/TU-11
                                                            157


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
TABLE 226: GLOBAL CONTROL - VT-MAPPER - RECEIVE TRIBUTARY SIZE SELECT REGISTER (ADDRESS = 0X0C1F)
     BIT7            BIT6          BIT 5          BIT 4         BIT 3           BIT 2           BIT 1           BIT 0
  RxTributary Size Select -      RxTributary Size Select -     RxTributary Size Select -      RxTributary Size Select -
           VT#3[1:0]                    VT#2[1:0]                      VT#1[1:0]                     VT#0[1:0]
     R/W             R/W           R/W            R/W            R/W             R/W            R/W              R/W
      1               1              1              1              1               1              1               1
BIT[7:6] - Receive Tributary Size Select for VT# 3[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
    VT-Mapper block (associated with Virtual Tributary Group # 3) will support.
                         Resulting Size of VT#3
                             RXTRIBUTARY SIZE
                                                             RESULTING SIZE OF VT # 3
                            SELECT - VT#3[1:0]
                                     00              VT-6
                                     01              VT-3
                                     10              VT-2/TU-12
                                     11              VT-1.5/TU-11
BIT[5:4] - Receive Tributary Size Select for VT# 2[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
    VT-Mapper block (associated with Virtual Tributary Group # 2) will support.
                         Resulting Size of VT#2
                             RXTRIBUTARY SIZE
                                                             RESULTING SIZE OF VT # 2
                            SELECT - VT#2[1:0]
                                     00              VT-6
                                     01              VT-3
                                     10              VT-2/TU-12
                                     11              VT-1.5/TU-11
BIT[3:2] - Receive Tributary Size Select for VT# 1[1:0]:
    These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
    VT-Mapper block (associated with Virtual Tributary Group # 1) will support.
                       Resulting Size of VT#1
                        RXTRIBUTARY SIZE SELECT
                                                              RESULTING SIZE OF VT # 1
                               - VT#1[1:0]
                                   00               VT-6
                                   01               VT-3
                                   10               VT-2/TU-12
                                    11              VT-1.5/TU-11
                                                           158


                                                                                                          XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT[1:0] - Receive Tributary Size Select for VT# 0[1:0]:
     These two READ/WRITE bit-fields are used to specify the VT-size (or the bit-rate to be supported by) that the Receive
     VT-Mapper block (associated with Virtual Tributary Group # 0) will support.
                         Resulting Size of VT#0
                          RXTRIBUTARY SIZE SELECT
                                                                  RESULTING SIZE OF VT # 0
                                  - VT#0[1:0]
                                       00                VT-6
                                       01                VT-3
                                       10                VT-2/TU-12
                                       11                VT-1.5/TU-11
 2.9      DS3 MAPPER CONTROL REGISTERS
         TABLE 227: DS3 MAPPER BLOCK - CONTROL REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0D02)
      BIT7            BIT6            BIT 5            BIT 4         BIT 3          BIT 2           BIT 1          BIT 0
                                            Reserved                                              Default_R     Default_O
      R/O              R/O             R/O             R/O           R/O             R/O            R/W             R/W
       0                0               0                0             0              0               1               1
BIT[7:0] - Reserved
BIT 1 - Default_R Value:
     When a DS3 signal is mapped into an STS-1/STS-3 SPE or a VC-3, there are numerous bits that are also stuffed into
     the STS-1/STS-3 SPE or the VC-3 in order to accommodate the frequency differences between DS3 and an STS-
     1/STS-3 SPE or an SDH VC-3.
     One such bit is referred to as an R bit. Currently, the standards do not define a use for these bits. Hence, this bit can
     be used as a proprietary communication link between two pieces of equipment.
     This READ/WRITE bit-field is used to set the value for the R bits in the outbound STS-1/STS-3 SPE or SDH VC-3.
     NOTES:
              1. The XRT86SH328 includes a corresponding READ-ONLY register bit, in which one can obtain the value
              for the R bits in the incoming STS-1/STS-3 SPE or SDH VC-3. This register bit is located in BIT 1 (Received
              R) within the DS3 Mapper Block - Receive Status Register - Byte 1 (Address = 0x0D06).
              2. This register bit is only active if the XRT86SH328 has been configured to operate in the M13 MUX which
              is Asynchronously mapped into STS-1/STS-3 Mode.
BIT 0 - Default_O Value:
     When a DS3 signal is mapped into a STS-1/STS-3 SPE (in SONET) or a VC-3 (in SDH), there are numerous bits that
     are also stuffed into the STS-1/STS-3 SPE or the VC-3 in order to accommodate the frequency differences between
     DS3 and an STS-1/STS-3 SPE or an SDH VC-3.
     One such bit is referred to as an 0 bit. Currently, the standards do not define a use for these bits. Hence, this bit can
     be used as a proprietary communication link between two pieces of equipment.
     This READ/WRITE bit-field is used to set the value for the O bits in the outbound STS-1/STS-3 SPE or SDH VC-3.
     NOTES:
              1. The XRT86SH328 includes a corresponding READ-ONLY register bit in which one can obtain the value
              for the O bits in the incoming STS-1/STS-3 SPE or SDH VC-3. This register bit is located in BIT 0 (Received
              O) within the DS3 Mapper Block - Receive Status Register - Byte 1 (Address = 0x0D06).
              2. This register bit is only active if the XRT86SH328 has been configured to operate in the M13 MUX
              Asynchronously Mapped into STS-1/STS-3 Mode.
                                                              159


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
         TABLE 228: DS3 MAPPER BLOCK - CONTROL REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0D03)
     BIT7             BIT6        BIT 5         BIT 4           BIT 3        BIT 2          BIT 1              BIT 0
                                              Reserved                                                     Gap Clock in
                                                                                                           Egress T1/E1
     R/O              R/O          R/O           R/O            R/O           R/O            R/O               R/W
       0               0            0             0               0            0               0                 0
BIT[7:1] - Reserved
BIT 0 - Gap Clock in Egress T1/E1
    This READ/WRITE bit-field permits the user to apply some "clock-smoothing" to the Egress Direction T1/E1 signals prior
    to being routed to the Transmit DS1/E1 LIU Block, as depicted below.
     0 - Configures the chip to perform "clock-smoothing" on all Egress Direction T1/E1 signals prior to being routed to the
    Transmit DS1/E1 LIU Blocks.
     1- Disables this "clock-smoothing" feature.
    TABLE 229: DS3 MAPPER BLOCK - RECEIVE STATUS REGISTER - BYTE 1 (ADDRESS LOCATION = 0X0D06)
     BIT7              BIT6          BIT 5          BIT 4           BIT 3          BIT 2           BIT 1           BIT 0
                                           Reserved                                             Received_R     Received_O
     R/O               R/O           R/O            R/O              R/O            R/O            R/O              R/O
       0                 0             0              0               0              0               1               1
BIT[7:2] - Reserved:
BIT 1 - Received_R:
    When a DS3 signal is de-mapped from an STS-1/STS-3 SPE (in SONET) or a VC-3 (in SDH), there are numerous bits
    that were also stuffed into the STS-1/STS-3 SPE or the VC-3 in order to accommodate the frequency differences
    between DS3 and an STS-1/STS-3 SPE or an SDH VC-3.
    One such bit is referred to as an R bit. Currently, the standards do not define a use for these bits. Hence, this bit can
    be used as a proprietary communication link between two pieces of equipment.
    This READ-ONLY bit-field contains the value of the R bits within the most recently received STS-1/STS-3 SPE or SDH
    VC-3.
    NOTE: The XRT86SH328 includes a corresponding READ/WRITE register bit, in which one can set the value for the R
            bits, in the outbound STS-1/STS-3 SPE or SDH VC-3. This register bit is located in BIT 1 (Default_R) within the
            DS3 Mapper Block - Control Register - Byte 1 (Address = 0x0D02).
BIT 0 - Received_O:
    When a DS3 signal is de-mapped from an STS-1/STS-3 SPE (in SONET) or a VC-3 (in SDH), there are numerous bits
    that were also stuffed into the STS-1/STS-3 SPE or the VC-3 in order to accommodate the frequency difference
    between DS3 and an STS-1/STS-3 SPE or an SDH VC-3.
    One such bit is referred to as an O bit. Currently, the standards do not define a use for these bits. Hence, this bit can
    be used as a proprietary communication link between two pieces of equipment.
    This READ-ONLY bit-field contains the value of the O bits within the most recently received STS-1/STS-3 SPE or SDH
    VC-3.
    NOTE: The XRT86SH328 includes a corresponding READ/WRITE register bit, in which one can set the value for the R
            bits, in the outbound STS-1/STS-3 SPE or SDH VC-3. This register bit is located in BIT 1 (Default R) within the
            DS3 Mapper Block - Control Register - Byte 1 (Address = 0x0D02).
                                                             160


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    TABLE 230: DS3 MAPPER BLOCK - RECEIVE STATUS REGISTER - BYTE 0 (ADDRESS LOCATION = 0X0D07)
     BIT7            BIT6           BIT 5          BIT 4          BIT 3           BIT 2         BIT 1          BIT 0
                           Reserved                              Receive         Receive       Transmit       Transmit
                                                               FIFO Over-      FIFO Under-   FIFO Over-     FIFO Under-
                                                                   run             run            run            run
     R/O             R/O            R/O             R/O            R/O             R/O           R/O            R/O
       0               0              0              0               0              0              0              0
BIT[7:4] - Reserved:
BIT 3 - Receive FIFO Overrun
    This READ-ONLY bit-field indicates whether or not the DS3 Mapper block is currently declaring a Receive FIFO Overrun
    condition.
    A Receive FIFO Overrun condition will only occur if DS3 data is output from the DS3 Mapper block to the Receive DS3
    Framer block at a much faster rate than that which the Receive DS3 Framer block handles and processes the incoming
    DS3 data-stream.
     0 - Indicates that the DS3 Mapper Block is NOT currently declaring the Receive FIFO Overrun condition.
     1 - Indicates that the DS3 Mapper Block is currently declaring the Receive FIFO Overrun condition.
BIT 2 - Receive FIFO Underrun
    This READ-ONLY bit-field indicates whether or not the DS3 Mapper block is currently declaring the Receive FIFO
    Underrun condition.
    A Receive FIFO Underrun condition will only occur if DS3 data is output from the DS3 Mapper block to the Receive DS3
    Framer block at a much slower rate than that which the Receive DS3 Framer block handles and processes the incoming
    DS3 data-stream.
     0 - Indicates that the DS3 Mapper Block is NOT currently declaring the Receive FIFO Underrun condition.
     1 - Indicates that the DS3 Mapper Block is currently declaring the Receive FIFO Underrun condition.
BIT 1 - Transmit FIFO Overrun
    This READ-ONLY bit-field indicates whether or not the DS3 Mapper block is currently declaring a Transmit FIFO
    Overrun condition.
    A Transmit FIFO Overrun condition will occur if DS3 data is output from the Transmit DS3 Framer block (towards the
    DS3 Mapper Block) at a much faster rate than which the DS3 Mapper block handles and processes the outbound DS3
    data-stream.
     0 - Indicates that the DS3 Mapper Block is NOT currently declaring the Transmit FIFO Overrun condition.
     1 - Indicates that the DS3 Mapper Block is currently declaring the Transmit FIFO Overrun condition.
BIT 0 - Transmit FIFO Underrun
    This READ-ONLY bit-field indicates whether or not the DS3 Mapper block is currently declaring a Transmit FIFO
    Underrun condition.
    A Transmit FIFO Underrun condition will occur if DS3 data is output from the Transmit DS3 Framer block (towards the
    DS3 Mapper Block) at a much slower rate than that which the DS3 Mapper Block handles and processes the outbound
    DS3 data-stream.
     0 - Indicates that the DS3 Mapper Block is NOT currently declaring the Transmit FIFO Underrun condition.
     1 - Indicates that the DS3 Mapper Block is currently declaring the Transmit FIFO Underrun condition.
                                                            161


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
    TABLE 231: DS3 MAPPER BLOCK - RECEIVE MAPPER INTERRUPT STATUS REGISTER - BYTE 0 (ADDRESS =
                                                         0X0D0B)
     BIT7              BIT6           BIT 5        BIT 4             BIT 3           BIT 2           BIT 1         BIT 0
                            Reserved                               Receive         Receive         Transmit       Transmit
                                                                  FIFO Over-     FIFO Under-     FIFO Over-     FIFO Under-
                                                                 run Interrupt   run Interrupt  run Interrupt   run Interrupt
                                                                    Status          Status          Status         Status
      R/O               R/O            R/O          R/O              RUR             RUR             RUR            RUR
        0                0               0           0                 0               0               0              0
BIT[7:4] - Reserved
BIT 3 - Receive FIFO Overrun Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Receive FIFO Overrun interrupt has occurred since the
    last read of this register.
    If this interrupt is enabled, then the DS3 Mapper block will generate this interrupt anytime it declares a Receive FIFO
    Overrun condition.
     0 - Indicates that the Receive FIFO Overrun interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Receive FIFO Overrun interrupt has occurred since the last read of this register.
    NOTE: The user can obtain the current status of the Receive FIFO Overrun condition by reading the state of BIT 3
              (Receive FIFO Overrun Condition) within the DS3 Mapper - Status Register - Byte 0 (Address = 0x0D07).
BIT 2 - Receive FIFO Underrun Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Receive FIFO Underrun interrupt has occurred since the
    last read of this register.
    If this interrupt is enabled, then the DS3 Mapper Block will generate this interrupt anytime it declares a Receive FIFO
    Underrun condition.
     0 - Indicates that the Receive FIFO Underrun interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Receive FIFO Underrun interrupt has occurred since the last read of this register.
    NOTE: The user can obtain the current status of the Receive FIFO Underrun condition by reading the state of BIT 2
              (Receive FIFO Underrun Condition) within the DS3 Mapper - Status Register - Byte 0 (Address = 0x0D07).
BIT 1 - Transmit FIFO Overrun Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Transmit FIFO Overrun interrupt has occurred since the
    last read of this register.
    If this interrupt is enabled, then the DS3 Mapper block will generate this interrupt anytime it declares a Transmit FIFO
    Overrun condition.
     0 - Indicates that the Transmit FIFO Overrun Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Transmit FIFO Overrun Interrupt has occurred since the last read of this register.
    NOTE: The user can determine the current status of the Transmit FIFO Overrun condition by reading the state of BIT 1
              (Transmit FIFO Overrun Condition) within the DS3 Mapper Block - Status Register - Byte 0 (Address =
              0x0D07).
BIT 0 - Transmit FIFO Underrun Interrupt Status
    This RESET-upon-READ bit-field indicates whether or not the Transmit FIFO Underrun interrupt has occurred since the
    last read of this register.
    If this interrupt is enabled, then the DS3 Mapper block will generate this interrupt anytime it declares a Transmit FIFO
    Underrun condition.
     0 - Indicates that the Transmit FIFO Underrun interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Transmit FIFO Underrun interrupt has occurred since the last read of this register.
                                                            162


                                                                                                         XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    NOTE: The user can determine the current state of the Transmit FIFO Underrun condition by reading the state of BIT 0
              (Transmit FIFO Underrun Condition) within the DS3 Mapper Block - Status Register - Byte 0 (Address =
              0x0D07).
    TABLE 232: DS3 MAPPER BLOCK - RECEIVE MAPPER INTERRUPT ENABLE REGISTER - BYTE 0 (ADDRESS =
                                                         0X0D0E)
     BIT7               BIT6          BIT 5        BIT 4             BIT 3          BIT 2            BIT 1          BIT 0
                             Reserved                              Receive         Receive         Transmit       Transmit
                                                                  FIFO Over-    FIFO Under-      FIFO Over-     FIFO Under-
                                                                 run Interrupt  run Interrupt   run Interrupt   run Interrupt
                                                                    Enable         Enable           Enable         Enable
      R/O               R/O             R/O         R/O              R/W            R/W              R/W            R/W
        0                 0              0            0                0              0                0              0
BIT[7:4] - Reserved:
BIT 3 - Receive FIFO Overrun Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Receive FIFO Overrun Interrupt.
    If this interrupt is enabled, then the DS3 Mapper block will generate an interrupt anytime it declares the Receive FIFO
    Overrun condition.
     0 - Disables this interrupt.
     1 - Enables this interrupt.
BIT 2 - Receive FIFO Underrun Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the 'Receive FIFO Underrun interrupt.
    If this interrupt is enabled, then the DS3 Mapper Block will generate an interrupt anytime it declares the Receive FIFO
    Underrun condition.
     0 - Disables this interrupt.
     1 - Enables this interrupt.
BIT 1 - Transmit FIFO Overrun Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Transmit FIFO Overrun interrupt.
    If this interrupt is enabled, then the DS3 Mapper block will generate an interrupt anytime it declares the Transmit FIFO
    Overrun condition.
     0 - Disables this interrupt.
     1 - Enables this interrupt.
BIT 0 - Transmit FIFO Underrun Interrupt Enable
    This READ/WRITE bit-field is used to either enable or disable the Transmit FIFO Underrun interrupt.
    If this interrupt is enabled, then the DS3 Mapper block will generate an interrupt anytime that the DS3 Mapper block
    declares the Transmit FIFO Underrun condition.
     0 - Disables this interrupt.
     1 - Enables this interrupt.
  TABLE 233: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 2 (ADDRESS = 0X0D21)
     BIT7               BIT6          BIT 5        BIT 4             BIT 3          BIT 2            BIT 1          BIT 0
    PStuff                                                          Unused
      R/O               R/O             R/O         R/O               R/O            R/O             R/O             R/O
        0                 0              0            0                0              0                0              0
BIT7 - Pstuff:
                                                            163


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                       REV. 2.0.0
BIT[6:0] - Unused:
  TABLE 234: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 1 (ADDRESS = 0X0D22)
     BIT7          BIT6          BIT 5       BIT 4          BIT 3         BIT 2        BIT 1       BIT 0
  TABLE 235: DS3 MAPPER BLOCK - POINTER JUSTIFICATION STATUS REGISTER - BYTE 0 (ADDRESS = 0X0D23)
     BIT7          BIT6          BIT 5       BIT 4          BIT 3         BIT 2        BIT 1       BIT 0
DS3 MAPPER BLOCK - POINTER JUSTIFICATION JITTER CONTROL REGISTER - BYTE 1 (ADDRESS = 0X0D26)
     BIT7          BIT6          BIT 5       BIT 4          BIT 3         BIT 2        BIT 1       BIT 0
  TABLE 236: DS3 MAPPER BLOCK - POINTER JUSTIFICATION JITTER CONTROL REGISTER - BYTE 0 (ADDRESS =
                                                   0X0D27)
     BIT7          BIT6          BIT 5       BIT 4          BIT 3         BIT 2        BIT 1       BIT 0
 2.10    DS3 Framer and M13 MUX Block Registers
The register map for the DS3 Framer and M13 MUX block is presented in the Tables below. Additionally, a
detailed description of each of the DS3 Framer and M13 MUX Block registers is presented below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with the various functions that are controlled/monitored via the DS3 Framer and M13 MUX
Block Register highlighted is presented below in Figure 10.
                                                     164


                                                                                                                  XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
FIGURE 10. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WITH THE FUNCTIONAL
BLOCKS (WHICH ARE CONTROLLED/MONITORED VIA THE DS3 FRAMER AND M13 MUX BLOCK REGISTERS) HIGH-
LIGHTED.
                              Transmit                                                     Ingress    Ingress
                               Transmit       Transmit
                                               Transmit                                   Direction  Direction      Receive
                               STS-1/3       STS-1                          VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                     VT/TU
                                                                           Mapper         Transmit    Receive       DS1/E1
                                 TOH          Processor
                                               Processor                    Mapper         DS1/E1     DS1/E1         LIU
                              Processor
                               Processor        Block                        Block
                                                                              Block
                                                 Block                                     Framer     Framer         Block
                                Block
                                 Block
               STS-1/
                 STS-1/                                                                     Block      Block
                STS-3
                 STS-3                                                                                       DS1/E1 Channel 0
              Telecom
               Telecom                      From DS1/E1 Channels 1 - 27
                 Bus
                  Bus
              Interface                                  From DS2 Channels 1 - 6
               Interface
                                            Transmit
                                             Transmit         M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    From DS1/E1 Channels 1 - 3
                                                             MUX
                                                              MUX                      MUX
                                             Framer
                                              Framer
                DS3/                                         Block
                                                              Block                    Block
                  DS3/                        Block
                                               Block
                STS-1
                 STS-1                                             DS2 Channel 0
                 LIU
                  LIU
              Interface                      Receive
                                              Receive
               Interface                                      M23
                                                               M23                      M12
                                               DS3
                                                DS3                                                    To DS1/E1 Channels 1 - 3
                                                           De-MUX
                                                            De-MUX                   De-MUX
                                             Framer
                                              Framer          Block
                                                               Block                   Block
                                              Block
                                               Block
                                                                                    DS2 Channel 0
                                                   To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                                 Channels 1 - 27
                                                                                          Egress     Egress
                            Receive
                             Receive        Receive                         DS1/E1       Direction  Direction     Transmit
                            STS-1/3          Receive           VT/TU
                             STS-1/3      STS-1
                                           STS-1POH
                                                  POH                        Jitter       Receive   Transmit       DS1/E1
                             TOH                           De-Mapper
                              TOH          Processor
                                            Processor                        Atten        DS1/E1     DS1/E1          LIU
                           Processor                           Block
                            Processor        Block
                                              Block                          Block        Framer     Framer         Block
                             Block
                              Block                                                        Block      Block
                                                                                                             DS1/E1 Channel 0
NOTE: These functional blocks are only active if the XRT86SH328 has been configured to operate in either the M13 MUX
         or in the M13 MUX, which is Asynchronously Mapped into STS-1/STS-3 Mode.
                  TABLE 237: DS3 FRAMER BLOCK OPERATING MODE REGISTER (ADDRESS = 0X0E00)
     BIT7               BIT6            BIT 5             BIT 4            BIT 3              BIT 2         BIT 1               BIT 0
 DS3 Framer           Set DS3       Internal LOS      DS3 Framer         Reserved            Frame              TimRefSel[1:0]
  Local Loop-           Mode           Enable          Block Soft-                           Format
     Back                                             ware RESET
     R/W                R/W              R/W              R/W               R/O                R/W           R/W                R/W
       0                 1                1                  0                 0                  0            1                  1
BIT7 - DS3 Framer Local Loop-back Mode:
    This READ/WRITE bit-field is used to configure the DS3/E3 Framer block to operate in the DS3 Framer block to operate
    in the DS3 Framer Local Loop-back Mode. If the DS3 Framer block has been configured to operate in the Framer Local
    Loop-back Mode, then the output of the Transmit DS3 Framer block will be internally looped-back into the Receive DS3
    Framer block.
     0 - Configures the DS3/E3 Framer block to operate in the Normal Operation (e.g., Non-DS3 Framer Local Loop-back)
    mode
     1 - Configures the DS3/E3 Framer block to operate in the DS3 Framer Local Loop-back Mode.
                                                                    165


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
BIT6 - Set DS3 Mode
    To use the Transmit and Receive DS3 Framer blocks, within the XRT86SH328, then the user MUST set this bit-field to
    1.
BIT 5 - Internal LOS Enable
    This READ/WRITE bit-field is used to enable or disable the Internal LOS Detector within the Receive DS3 Framer block.
    If the user enables the Internal LOS Detector, then the Receive DS3 Framer block will be configured to check the
    incoming DS3 signal for a sufficient number of consecutive all zero bits and it will declare and clear the LOS defect
    condition based upon the 1s density and the number of consecutive 0bits within the incoming DS3 data-stream.
    If the user disables the Internal LOS Detector, then the Receive DS3 Framer block will NOT be configured to check the
    incoming DS3 data-stream for a sufficient number of consecutive 0 bits, and it will NOT declare nor clear the LOS defect
    condition based upon the 1s density and the number of consecutive 0 bits within the incoming DS3 data-stream.
     0 - Disables the Internal LOS Detector
     1 - Enables the Internal LOS Detector.
BIT 4 - DS3 Framer Block Software RESET
    This READ/WRITE bit-field is used to execute a Software RESET to the Transmit and Receive DS3 Framer block. If
    the user executes this Software RESET, then the contents of the Transmit/Receive DS3 Framer block configuration
    registers will not be reset to their default values. Instead, internal state machines (within the Transmit and Receive DS3
    Framer blocks) will be reset.
     A 0 to 1 transition in this bit-field commands a Software RESET to Transmit and Receive DS3 Framer block.
BIT 3 - Reserved
BIT 2 - Frame Format
This READ/WRITE bit-field is used to configure the Transmit and Receive DS3 Framer blocks to operate in
either the C-Bit Parity or the M13/M23 Framing formats.
     0 - Configures the Transmit and Receive DS3 Framer blocks to operate in the C-bit Parity Framing format.
     1 - Configures the Transmit and Receive DS3 Framer blocks to operate in the M13/M23 Framing format.
BIT[1:0] - Transmit DS3 Framer Block Timing Reference Select[1:0]
    The user should set these bit-fields to either [1, 0] or [1, 1] for proper operation.
                   TABLE 238: DS3 FRAMER BLOCK - I/O CONTROL REGISTER (ADDRESS = 0X0E01)
     BIT7              BIT6            BIT 5           BIT 4            BIT 3          BIT 2           BIT 1         BIT 0
    Disable            LOC            Disable                 Unused                 Transmit       Receive Line    Reframe
    TxLOC                             RxLOC                                         Line Clock      Clock Invert
                                                                                       Invert
     R/W               R/O              R/W             R/O             R/O             R/W             R/W           R/W
        1               0                 1               0               0              0               0             0
BIT7 - Disable Transmit Loss of Clock Feature
    This READ/WRITE bit-field is used to either enable or disable the Transmit Loss of Clock feature.
    If this feature is enabled, then the DS3 Framer block will enable some circuitry that will terminate the current READ or
    WRITE access (to the Microprocessor Interface), if a Loss of Transmit Clock Event were to occur.
    The intent behind this feature is to prevent any READ/WRITE accesses (to the DS3 Framer blocks) from hanging in the
    event of a Loss of Clock event.
     0 - Enables the Transmit Loss of Clock feature.
     1 - Disables the Transmit Loss of Clock feature
BIT6 - LOC
BIT 5 - Disable Receive Loss of Clock Feature
    This READ/WRITE bit-field is used to either enable or disable the Receive Loss of Clock feature.
    If this feature is enabled, then the DS3 Framer block will enable some circuitry that will terminate the current READ or
                                                               166


                                                                                                         XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     WRITE access (to the Microprocessor Interface), if a Loss of Receive Clock Event were to occur.
     The intent behind this feature is to prevent any READ/WRITE accesses (to the DS3 Framer blocks) from hanging in the
     event of a Loss of Clock event.
      0 - Enables the Receive Loss of Clock feature.
      1 - Disables the Receive Loss of Clock feature
Bits 4 -3 - Unused
BIT 2 - Transmit Line Clock Invert
     This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to update the TxDS3POS and
     TxDS3NEG output pins upon either the rising or falling edge of TxDS3LineClk.
      0 - Configures the Transmit DS3 Framer block to update the TxDS3POS/TxDS3NEG upon the rising edge of the
     TxDS3LineClk. The user should insure that the LIU IC will sample TxDS3POS/TxDS3NEG upon the falling edge of
     TxDS3LineClk.
      1 - Configures the Transmit DS3 Framer block to update the TxDS3POS/TxDS3NEG upon the falling edge of the
     TxDS3LineClk. The user should insure that the LIU IC will sample TxDS3POS/TxDS3NEG upon the rising edge of
     TxDS3LineClk.
BIT 1 - Receive Line Clock Invert
This READ/WRITE bit-field is used to configure Receive DS3 Framer block to sample and latch the
RxDS3POS/RxDS3NEG input pins upon either the rising or falling edge of RxDS3LineClk.
      0 - Configures the Receive DS3 Framer block to sample the RxDS3POS/RxDS3NEG input pins upon the falling edge
     of the RxDS3LineClk input signal.
      1 - Configures the Receive DS3 Framer block to sample the RxDS3POS/RxDS3NEG input pins upon the rising edge
     of the RxDS3LineClk input signal.
BIT 0 - Receive DS3 Framer Block - Reframe Command
     A 0 to 1 transition, within this bit-field commands the Receive DS3 Framer block to exit the Frame Maintenance Mode,
     and go back and enter the Frame Acquisition Mode.
     NOTE: The user should go back and set this bit-field to 0 following execute of the Reframe Command.
           TABLE 239: DS3 FRAMER BLOCK - BLOCK INTERRUPT ENABLE REGISTER (ADDRESS = 0X0E04)
      BIT 7            BIT 6            BIT 5          BIT 4           BIT 3           BIT 2        BIT 1          BIT 0
 Receive DS3                  Unused                 M13 MUX                 Unused               Transmit     One Second
     Framer                                         Block Inter-                                DS3 Framer       Interrupt
      Block                                         rupt Enable                                     Block         Enable
    Interrupt                                                                                     Interrupt
     Enable                                                                                        Enable
      R/W              R/O               R/O            R/W            R/O             R/O          R/W            R/W
        0                0                 0             0               0               0            0              0
Bit 7 - Receive DS3 Framer Bock Interrupt Enable:
     This READ/WRITE bit-field is used to enable or disable the Receive DS3 Framer Block for Interrupt Generation. If the
     user enables the Receive DS3 Framer block (for Interrupt Generation) at the block level, the user still needs to enable
     the interrupts at the Source Level, as well, in order for these interrupt to be enabled.
     However, if the user disables the Receive DS3 Framer block (for Interrupt Generation) at the Block Level, then ALL
     Receive DS3 Framer-related blocks are disabled.
      0 - Disables all Receive DS3 Framer blocks interrupts.
      1 - Enables the Receive DS3 Framer block for Interrupt Generation (at the Block Level)
Bits 6 - 5 - Unused:
Bit 4 - M13 MUX Block Interrupt Enable:
     This READ/WRITE bit-field is used to enable or disable the M13 MUX block for Interrupt Generation. If the user enables
                                                                167


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                            REV. 2.0.0
     the M13 MUX block (for Interrupt Generation) at the block level, the user still needs to enable the interrupts at the Source
     level as well, in order for these interrupts to be enabled.
     However, if the user disables the M13 MX block (for Interrupt Generation) at the Block Level, then ALL M13 MUX block-
     related interrupts are disabled.
      0 - Disables all M13 MUX block-related interrupts.
      1 - Enables all M13 MUX block-related interrupts.
Bits 3 - 2 - Unused
Bit 1 - Transmit DS3 Framer Block Interrupt Enable:
     This READ/WRITE bit-field is used to enable or disable the Transmit DS3 Framer block for Interrupt Generation. If the
     user enables the Transmit DS3 Framer block (for Interrupt Generation) at the block level, the user still needs to enable
     the interrupts at the Source level as well, in order for these interrupts to be enabled.
     However, if the user disables the Transmit DS3 Framer block (for Interrupt Generation) at the Block Level, then ALL
     Transmit DS3 Framer block-related interrupts are disabled.
      0 - Disables all Transmit DS3 Framer block-related Interrupts.
      1 - Enables the Transmit DS3 Framer block for Interrupt Generation (at the Block Level).
Bit 0 - One Second Interrupt Enable:
     This READ/WRITE bit-field is used to enable or disable the One-Second Interrupt within the DS3/E3 Framer block. If
     the user enables this interrupt, then the DS3/E3 Framer block will generate an interrupt at one second intervals.
     0 - Disables the One Second Interrupt
     1 - Enables the One Second Interrupt.
           TABLE 240: DS3 FRAMER BLOCK - BLOCK INTERRUPT STATUS REGISTER (ADDRESS = 0X0E05)
      BIT 7            BIT 6           BIT 5            BIT 4          BIT 3           BIT 2           BIT 1            BIT 0
 Receive DS3                  Unused                 M13 MUX                  Unused                 Transmit      One Second
     Framer                                             Block                                     DS3 Framer          Interrupt
      Block                                           Interrupt                                        Block            Status
    Interrupt                                          Status                                        Interrupt
     Status                                                                                           Status
      RUR              R/O              R/O             RUR             R/O            R/O             RUR              RUR
        0                0               0                0              0               0               0                0
Bit 7 - Receive DS3 Framer Bock Interrupt Status:
     This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is requesting interrupt service.
      0 - Indicates that the Receive DS3 Framer block is NOT currently requesting interrupt service.
      1 - Indicates that the Receive DS3 Framer block is currently requesting interrupt service.
Bits 6 - 5 - Unused:
Bit 4 - M13 MUX Block Interrupt Status:
     This READ-ONLY bit-field indicates whether or not the M13 MUX block is requesting interrupt service.
      0 - Indicates that the M13 MUX block is NOT currently requesting interrupt service.
      1 - Indicates that the M13 MUX block is currently requesting interrupt service.
Bits 3 - 2 - Unused
Bit 1 - Transmit DS3 Framer Block Interrupt Status:
     This READ-ONLY bit-field indicates whether or not the Transmit DS3 Framer block is requesting interrupt service.
      0 - Indicates that the Transmit DS3 Framer block is NOT currently requesting interrupt service.
      1 - Indicates that the Transmit DS3 Framer block is currently requesting interrupt service.
Bit 0 - One Second Interrupt Status:
                                                                168


                                                                                                       XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This RESET-upon-READ bit-field indicates whether or not a One Second interrupt has occurred since the last read of
    this register.
     0 - Indicates that the One Second Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the One Second Interrupt has occurred since the last read of this register.
              TABLE 241: DS3 FRAMER BLOCK - M23 CONFIGURATION REGISTER (ADDRESS = 0X0E07)
     BIT7             BIT6            BIT 5          BIT 4        BIT 3          BIT 2            BIT 1       BIT 0
                          Must Set to 0                        M13 Local        Reserved       M23 Loop-Back Codes[1:0]
                                                               Loop-back
                                                                  Mode
     R/W              R/W              R/W            R/W          R/W            R/W              R/W         R/W
       0                0               0              0            0              0                 0          0
BIT[7:4] - Must Set to 0:
    Each of these READ/WRITE bit-fields MUST be set to 0 for proper operation.
BIT 3 - M13 Local Loop-back Mode
    This READ/WRITE bit-field is used to configure the XRT86SH328 to operate in the M13 Local Loop-Back Mode. If the
    user configures the XRT86SH328 to operate in the M23 Local Loop-back Mode, then the output of the M23 MUX Block
    will be internally routed to the input of the M13 DEMUX Block.
     0 - Configures the XRT86SH328 to operate in the Normal Mode
     1 - Configures the XRT86SH328 to operate in the M13 Local Loop-back Mode
Figure 11 presents an illustration of the XRT86SH328, whenever it has been configured to operate in the M13
Local Loop-back Mode.
                                                           169


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                         REV. 2.0.0
FIGURE 11. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER IT HAS
BEEN CONFIGURED TO OPERATE IN THE M13 LOCAL LOOP- BACK MODE
                            Transmit                                                          Ingress     Ingress
                             Transmit      Transmit
                                            Transmit                                        Direction    Direction       Receive
                             STS-1/3      STS-1                               VT/TU
                              STS-1/3
                              TOH          STS-1POH
                                                  POH                           VT/TU
                                                                              Mapper        Transmit      Receive        DS1/E1
                               TOH         Processor                            Mapper       DS1/E1       DS1/E1            LIU
                            Processor       Processor                           Block
                             Processor       Block
                                              Block                              Block       Framer       Framer           Block
                              Block
                               Block
              STS-1/                                                                           Block       Block
               STS-1/
              STS-3
                STS-3                                                                                            DS1/E1 Channel 0
             Telecom
              Telecom                   From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface
              Interface                                 From DS2 Channels 1 - 6
                                         Transmit
                                          Transmit           M23                          M12
                                           DS3                M23
                                             DS3            MUX                          MUX              From DS1/E1 Channels 1 - 3
                                          Framer             MUX
               DS3/                        Framer           Block                        Block
                 DS3/                      Block             Block
              STS-1                         Block
                STS-1                                             DS2 Channel 0
               LIU
                 LIU
             Interface                    Receive
                                           Receive
              Interface                                      M23                          M12
                                           DS3                 M23
                                             DS3          De-MUX                        De-MUX            To DS1/E1 Channels 1 - 3
                                          Framer            De-MUX
                                           Framer            Block                       Block
                                           Block              Block
                                            Block
                                                                                      DS2 Channel 0
                                                 To DS1/E1
                                                                                                           To DS2 Channels 1 - 6
                                               Channels 1 - 27
                                                                                             Egress      Egress
                          Receive
                           Receive       Receive                              DS1/E1       Direction    Direction      Transmit
                          STS-1/3         Receive             VT/TU
                           STS-1/3     STS-1
                                        STS-1POH
                                               POH                             Jitter       Receive     Transmit        DS1/E1
                           TOH                             De-Mapper
                            TOH         Processor                               Atten       DS1/E1       DS1/E1            LIU
                         Processor       Processor             Block
                          Processor       Block
                                           Block                                Block       Framer       Framer           Block
                           Block
                            Block                                                            Block        Block
                                                                                                                 DS1/E1 Channel 0
BIT 2 - Reserved
BIT[1:0] - M23 Loop-back Codes[1:0]
    These READ/WRITE bit-fields are used to specify the coding (or the values that the Transmit DS3 Framer block will set
    the C-bits to) in order to request the remote terminal equipment to operate in the remote DS3 Loop-back Mode.
    Codes to Request Remote DS3 Loop-Back Mode
     M23 LOOP-BACK           C-BIT SETTINGS TO REQUEST
                                                                                                      COMMENTS
        CODES[1:0]             DS2 LOOP-BACK CODES
           00/11          Cj1 = Cj2 = Cj3*                            The Transmit DS3 Framer block will invert the state of
                                                                      the Cj3 bit (from that of the corresponding Cj1 and Cj2
                                                                      bits) in order to request that the remote terminal execute
                                                                      a DS2 remote Loop-back within the jth DS2 Channel.
             01           Cj1 = Cj2* = Cj3                            The Transmit DS3 Framer block will insert the state of
                                                                      the of the Cj2 bit (from that of the corresponding Cj1 and
                                                                      Cj3 bits) in order to request that the remote terminal exe-
                                                                      cute a remote Loop-back within the jth DS2 Channel.
             10           Cj1* = Cj2 = Cj3                            The Transmit DS3 Framer block will invert the state of
                                                                      the Cj1 bit (from that of the corresponding Cj2 and Cj3
                                                                      bits) in order to request that the remote terminal execute
                                                                      a remote Loop-back within the jth DS2 Channel.
    NOTE: Anytime the Transmit DS3 Framer block has been configured to transmit a DS2 Loop-back request code to the
            remote terminal equipment, then it will set the C-bits to the appropriate value (based upon the user-selection)
            as specified in the above table. Further, the Transmit DS3 Framer block will transmit these DS2 Loop-back
            request codes (to the remote terminal equipment) for the appropriate DS2 channel, whenever the user
                                                                     170


                                                                                                                                  XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
            commands it to do so by setting any one of the bits within the DS3 Framer Block - M23 - DS2 Loop-back
            Request Register (Address = 0x0E09) to 1.
     TABLE 242: DS3 FRAMER BLOCK - M23 TRANSMIT DS2 AIS COMMAND REGISTER (ADDRESS = 0X0E08)
     BIT7              BIT6              BIT 5                BIT 4                 BIT 3               BIT 2             BIT 1             BIT 0
   Reserved          Transmit          Transmit            Transmit              Transmit            Transmit           Transmit          Transmit
                        DS2              DS2                   DS2                   DS2                 DS2               DS2              DS2
                    AIS - DS2         AIS - DS2          AIS - DS2               AIS - DS2           AIS - DS2         AIS - DS2          AIS - DS2
                    Channel 6         Channel 5          Channel 4              Channel 3           Channel 2          Channel 1          Channel 0
     R/O                R/W              R/W                   R/W                   R/W                 R/W               R/W              R/W
       0                 0                 0                      0                    0                  0                  0                0
BIT7 - Reserved
BIT6 - Transmit DS2 AIS - DS2 Channel 6:
    This READ/WRITE bit-field is used to configure the M12 MUX block (associated with DS2 Channel 6) to transmit the
    DS2 AIS indicator, towards the Transmit DS3 Framer block (and within the outbound DS3 data-stream).
     0 - Configures the M12 MUX block (associated with DS2 Channel 6) to transmit normal data.
     1 - Configures the M12 MUX block (associated with DS2 Channel 6) to transmit the DS2 AIS indicator.
Figure 12 presents an illustration of the XRT86SH328, whenever the M12 MUX has been configured to
transmit the DS2 AIS indicator towards both the M23 MUX and the Transmit DS3 Framer blocks.
FIGURE 12. AN ILLUSTRATION OF THE XRT86SH328, WHENEVER THE M12 MUX HAS BEEN CONFIGURED TO
TRANSMIT THE DS2 AIS INDICATOR TOWARDS BOTH THE M23 MUX AND THE TRANSMIT DS3 FRAMER BLOCK
                              Transmit                                                           Ingress       Ingress
                               Transmit       Transmit
                                               Transmit                                        Direction      Direction       Receive
                               STS-1/3       STS-1                               VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                           VT/TU
                                                                                 Mapper        Transmit        Receive        DS1/E1
                                 TOH          Processor
                                               Processor                          Mapper        DS1/E1         DS1/E1            LIU
                              Processor
                               Processor        Block                              Block
                                                                                    Block
                                                 Block                                          Framer         Framer           Block
                                Block
              STS-1/             Block                                                            Block         Block
               STS-1/
              STS-3
                STS-3                                                                                                 DS1/E1 Channel 0
             Telecom                        From DS1/E1 Channels 1 - 27
              Telecom
                Bus
                 Bus
             Interface
              Interface                                    From DS2 Channels 1 - 6
                                            Transmit
                                             Transmit           M23
                                                                  M23                        M12
                                               DS3
                                                DS3            MUX                          MUX                From DS1/E1 Channels 1 - 3
                                             Framer              MUX
               DS3/                           Framer           Block                        Block
                 DS3/                         Block             Block
              STS-1                            Block
                STS-1                                            DS2 AIS Pattern
               LIU
                 LIU
             Interface                       Receive
                                              Receive
              Interface                                         M23
                                                                  M23                        M12
                                               DS3
                                                DS3          De-MUX                        De-MUX              To DS1/E1 Channels 1 - 3
                                             Framer            De-MUX
                                              Framer            Block                       Block
                                              Block              Block
                                               Block
                                                                                         DS2 Channel 0
                                                    To DS1/E1
                                                                                                                To DS2 Channels 1 - 6
                                                  Channels 1 - 27
                                                                                                Egress        Egress
                            Receive         Receive                              DS1/E1       Direction      Direction      Transmit
                             Receive         Receive             VT/TU
                            STS-1/3       STS-1                                                Receive       Transmit
                             STS-1/3
                             TOH           STS-1POH
                                                  POH         De-Mapper
                                                                                  Jitter                                     DS1/E1
                              TOH          Processor                               Atten       DS1/E1         DS1/E1            LIU
                           Processor        Processor             Block
                            Processor        Block
                                              Block                                Block       Framer         Framer           Block
                             Block
                              Block                                                             Block          Block
                                                                                                                      DS1/E1 Channel 0
BIT 5 - Transmit DS2 AIS - DS2 Channel 5:
    See BIT6 description.
                                                                        171


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                               REV. 2.0.0
BIT 4 - Transmit DS2 AIS - DS2 Channel 4:
    See BIT6 description.
TBIT 3 - Transmit DS2 AIS - DS2 Channel 3:
    See BIT6 description.
BIT 2 - Transmit DS2 AIS - DS2 Channel 2:
    See BIT6 description.
BIT 1 - Transmit DS2 AIS - DS2 Channel 1:
    See BIT6 description.
BIT 0 - Transmit DS2 AIS - DS2 Channel 0
    See BIT6 description.
      TABLE 243: DS3 FRAMER BLOCK - M23 - DS2 LOOP-BACK REQUEST REGISTER (ADDRESS = 0X0E09)
     BIT7             BIT6          BIT 5        BIT 4          BIT 3          BIT 2          BIT 1        BIT 0
  Reserved          Transmit       Transmit     Transmit       Transmit      Transmit       Transmit     Transmit
                   DS2 Loop-     DS2 Loop-     DS2 Loop-      DS2 Loop-     DS2 Loop-      DS2 Loop-    DS2 Loop-
                      back           back         back           back          back           back         back
                   Request -      Request -    Request -       Request -     Request -      Request -   Request -
                      DS2            DS2          DS2            DS2           DS2            DS2           DS2
                   Channel 6      Channel 5    Channel 4      Channel 3     Channel 2      Channel 1    Channel 0
     R/O              R/W            R/W          R/W            R/W           R/W            R/W           R/W
       0               0              0            0              0               0             0            0
BIT7 - Reserved:
BIT6 - Transmit DS2 Loop-back Request - DS2 Channel 6:
    This READ/WRITE bit-field is used to command the Transmit DS3 Framer block to transmit the Loop-back Request
    indicator, for DS2 Channel 6.
     0 - The Transmit DS3 Framer block will NOT transmit the Loop-back Request for DS2 Channel #6 (Normal Operation)
     1 - The Transmit DS3 Framer block will transmit the Loop-back Request for DS2 Channel # 6.
    NOTE: Whenever the user executes this command, then the Transmit DS3 Framer block will invert the appropriate C-
            bit of the three (e.g., C71, C72 or C73) based upon the user's setting of Bits 1 and 0 (M23 Loop-back
            Codes[1:0]) within the DS3 Framer Block - M23 Configuration Register (Address = 0x0E07).
BIT 5 - Transmit DS2 Loop-back Request - DS2 Channel 5:
    See BIT6 description.
BIT 4 - Transmit DS2 Loop-back Request - DS2 Channel 4:
    See BIT6 description.
BIT 3 - Transmit DS2 Loop-back Request - DS2 Channel 3:
    See BIT6 description.
BIT 2 - Transmit DS2 Loop-back Request - DS2 Channel 2:
    See BIT6 description.
BIT 1 - Transmit DS2 Loop-back Request - DS2 Channel 1:
    See BIT6 description.
BIT 0 - Transmit DS2 Loop-back Request - DS2 Channel 0:
    See BIT6 description.
                                                          172


                                                                                                                                  XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
          TABLE 244: DS3 FRAMER BLOCK - M23 LOOP-BACK ACTIVATION REGISTER (ADDRESS = 0X0E0A)
     BIT7              BIT6              BIT 5                BIT 4                 BIT 3               BIT 2             BIT 1              BIT 0
  Reserved        Remote DS2         Remote DS2         Remote DS2           Remote DS2            Remote DS2        Remote DS2           Remote DS2
                  Loop-back -        Loop-back -        Loop-back -           Loop-back -          Loop-back -        Loop-back -         Loop-back -
                   DS2 Chan-          DS2 Chan-          DS2 Chan-             DS2 Chan-            DS2 Chan-          DS2 Chan-           DS2 Chan-
                       nel 6             nel 5                nel 4                 nel 3               nel 2             nel 1              nel 0
      R/O               R/W              R/W                   R/W                   R/W                 R/W               R/W               R/W
        0                0                 0                      0                    0                  0                  0                 0
BIT7 - Reserved
BIT6 - Remote DS2 Loop-back - DS2 Channel 6
    This READ/WRITE bit-field is used to configure the XRT86SH328 to perform a Remote Loop-back of DS2 Channel 6.
    If the user configures the XRT86SH328 to perform this loop-back, then the Receive Direction DS2 signal (associated
    with Channel 6) will internally be looped back into the Transmit Direction.
     0 - Configures DS2 Channel 6 to operate in the Normal (No Loop-back) Mode
     1 - Configures DS2 Channel 6 to operate in the Remote Loop-back Mode.
Figure 13 presents an illustration of the Functional Block diagram of the XRT86SH328, whenever a given DS2
Channel has been configured to operate in the Remote DS2 Loop-back Mode.
FIGURE 13. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER A GIVEN
DS2 CHANNEL HAS BEEN CONFIGURED TO OPERATE IN THE REMOTE DS2 LOOP-BACK MODE
                                                 DS2 Remote Loop-back in
                                                 DS2 Channel 0
                              Transmit                                                           Ingress       Ingress
                               Transmit       Transmit
                                               Transmit                                        Direction      Direction       Receive
                               STS-1/3       STS-1                               VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                           VT/TU
                                                                                 Mapper        Transmit        Receive        DS1/E1
                                 TOH          Processor
                                               Processor                          Mapper        DS1/E1         DS1/E1            LIU
                              Processor
                               Processor        Block                              Block
                                                                                    Block
                                                 Block                                          Framer         Framer           Block
                                Block
              STS-1/             Block                                                            Block         Block
               STS-1/
              STS-3
                STS-3                                                                                                 DS1/E1 Channel 0
             Telecom                        From DS1/E1 Channels 1 - 27
              Telecom
                Bus
                 Bus
             Interface
              Interface                                    From DS2 Channels 1 - 6
                                            Transmit
                                             Transmit           M23
                                                                  M23                        M12
                                               DS3
                                                DS3            MUX                          MUX                From DS1/E1 Channels 1 - 3
                                             Framer              MUX
               DS3/                           Framer           Block                        Block
                 DS3/                         Block             Block
              STS-1                            Block
                STS-1
               LIU
                 LIU
             Interface                       Receive
                                              Receive
              Interface                                         M23
                                                                  M23                        M12
                                               DS3
                                                DS3          De-MUX                        De-MUX              To DS1/E1 Channels 1 - 3
                                             Framer            De-MUX
                                              Framer            Block                       Block
                                              Block              Block
                                               Block
                                                                                         DS2 Channel 0
                                                    To DS1/E1
                                                                                                                To DS2 Channels 1 - 6
                                                  Channels 1 - 27
                                                                                                Egress        Egress
                            Receive         Receive                              DS1/E1       Direction      Direction      Transmit
                             Receive         Receive             VT/TU
                            STS-1/3       STS-1                                                Receive       Transmit
                             STS-1/3
                             TOH           STS-1POH
                                                  POH         De-Mapper
                                                                                  Jitter                                     DS1/E1
                              TOH          Processor                               Atten       DS1/E1         DS1/E1            LIU
                           Processor        Processor             Block
                            Processor        Block
                                              Block                                Block       Framer         Framer           Block
                             Block
                              Block                                                             Block          Block
                                                                                                                      DS1/E1 Channel 0
BIT 5 - Remote DS2 Loop-back - DS2 Channel 5
    See BIT6 description.
                                                                        173


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                  REV. 2.0.0
BIT 4 - Remote DS2 Loop-back - DS2 Channel 4
    See BIT6 description.
BIT 3 - Remote DS2 Loop-back - DS2 Channel 3
    See BIT6 description.
BIT 2 - Remote DS2 Loop-back - DS2 Channel 2
    See BIT6 description.
BIT 1 - Remote DS2 Loop-back - DS2 Channel 1
    See BIT6 description.
BIT 0 - Remote DS2 Loop-back - DS2 Channel 0
    See BIT6 description.
   TABLE 245: DS3 FRAMER BLOCK - M23 MUX FORCE RECEIVE DS2 AIS COMMAND REGISTERS (ADDRESS =
                                                       0X0E0B)
     BIT7          BIT6           BIT 5           BIT 4         BIT 3           BIT 2         BIT 1            BIT 0
  Reserved       Generate       Generate        Generate       Generate      Generate       Generate        Generate
                  DS2 AIS        DS2 AIS        DS2 AIS        DS2 AIS        DS2 AIS        DS2 AIS        DS2 AIS
                  Receive        Receive        Receive        Receive        Receive        Receive         Receive
                Path - DS2     Path - DS2      Path - DS2     Path - DS2    Path - DS2     Path - DS2      Path -DS2
                 Channel 7      Channel 6      Channel 5      Channel 4      Channel 3      Channel 2      Channel 1
     R/O           R/W             R/W            R/W            R/W            R/W            R/W             R/W
       0             0              0               0             0               0              0               0
BIT7 - Reserved:
BIT6 - Generate DS2 AIS Receive Path - DS2 Channel 7
    This READ/WRITE bit-field is used to configure the M23 De-MUX block to overwrite the contents of the de-muxed DS2
    data-stream (associated with DS2 Channel 7) with the DS2 AIS indicator in the Egress Direction, towards its
    corresponding (down-stream) M12 De-MUX block.
     0 - The M23 De-MUX block will transmit normal DS2 data to the down-stream circuitry.
     1 - The M23 De-MUX block will transmit the DS2 AIS indicator within DS2 Channel 7, within the Egress Direction.
Figure 14 presents an illustration of the Functional Block diagram of the XRT86SH328, whenever a given DS2
Channel has been configured to transmit the DS2 AIS indicator in the Egress Direction.
                                                          174


                                                                                                                         XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
FIGURE 14. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER THE M23
DE-MUX HAS BEEN CONFIGURED TO TRANSMIT THE DS2 AIS INDICATOR IN THE EGRESS DIRECTION OF DS2 CHAN-
NEL 0
                          Transmit                                                          Ingress   Ingress
                           Transmit      Transmit
                                          Transmit                                        Direction  Direction       Receive
                           STS-1/3      STS-1                               VT/TU
                            STS-1/3
                            TOH          STS-1POH
                                                POH                           VT/TU
                                                                            Mapper        Transmit    Receive        DS1/E1
                             TOH         Processor                           Mapper        DS1/E1     DS1/E1            LIU
                          Processor       Processor                           Block
                           Processor       Block
                                            Block                              Block       Framer     Framer           Block
                            Block
                             Block
             STS-1/                                                                          Block     Block
              STS-1/
             STS-3
               STS-3                                                                                         DS1/E1 Channel 0
            Telecom
             Telecom                   From DS1/E1 Channels 1 - 27
               Bus
                Bus
            Interface
             Interface                                From DS2 Channels 1 - 6
                                       Transmit
                                        Transmit           M23                          M12
                                          DS3                M23
                                           DS3            MUX                          MUX            From DS1/E1 Channels 1 - 3
                                        Framer              MUX
              DS3/                       Framer           Block                        Block
                DS3/                     Block             Block
             STS-1                        Block
               STS-1                                         DS2 AIS Pattern
              LIU
                LIU
            Interface                   Receive
                                         Receive
             Interface                                     M23                          M12
                                          DS3                M23
                                           DS3          De-MUX                        De-MUX          To DS1/E1 Channels 1 - 3
                                        Framer            De-MUX
                                         Framer            Block                       Block
                                         Block              Block
                                          Block
                                                                                    DS2 Channel 0
                                               To DS1/E1
                                                                                                       To DS2 Channels 1 - 6
                                             Channels 1 - 27
                                                                                           Egress    Egress
                        Receive        Receive                              DS1/E1       Direction  Direction      Transmit
                         Receive        Receive             VT/TU
                        STS-1/3      STS-1
                         STS-1/3
                         TOH          STS-1POH
                                             POH         De-Mapper
                                                                             Jitter       Receive   Transmit        DS1/E1
                          TOH         Processor                               Atten       DS1/E1     DS1/E1            LIU
                       Processor       Processor             Block
                        Processor       Block
                                         Block                                Block       Framer     Framer           Block
                         Block
                          Block                                                            Block      Block
                                                                                                             DS1/E1 Channel 0
BIT 5 - Generate DS2 AIS Receive Path - DS2 Channel 6
    See BIT 6 description.
BIT 4 - Generate DS2 AIS Receive Path - DS2 Channel 5
    See BIT 6 description.
BIT 3 - Generate DS2 AIS Receive Path - DS2 Channel 4
    See BIT 6 description.
BIT 2 - Generate DS2 AIS Receive Path - DS2 Channel 3
    See BIT 6 description.
BIT 1 - Generate DS2 AIS Receive Path - DS2 Channel 2
    See BIT 6 description.
BIT 0 - Generate DS2 AIS Receive Path - DS2 Channel 1
    See BIT 6 description.
                                                                   175


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
           TABLE 246: DS3 FRAMER AND M13 MUX BLOCK - DS3 TEST REGISTER (ADDRESS = 0X0E0C)
     BIT7             BIT6           BIT 5          BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
                    Reserved                     PRBS Lock         PRBS           PRBS                 Reserved
                                                    Detect        Receiver      Generator
                                                                   Enable        Enable
     R/O              R/O             R/O            R/O            R/W            R/W            R/O             R/O
       0               0                0             0               0             0              0                0
BIT [7:5] - Reserved
BIT 4 - PRBS Lock Detect
    This READ-ONLY bit-field indicates whether or not the PRBS Receiver (within the Receive DS3 Framer block) has
    acquired PRBS Lock with the payload data of the incoming DS3 data-stream, as described below.
     0 - Indicates that the PRBS Receiver does not have PRBS Lock with the incoming data-stream.
     1 - Indicates that the PRBS Receiver does have PRBS Lock with the incoming data-stream.
    NOTE: This bit-field is only valid if the PRBS Receiver has been enabled.
BIT 3 - PRBS Receiver Enable
    This READ/WRITE bit-field is used to either enable or disable the PRBS Receiver within the Receive DS3 Framer block.
    Once the user enables the PRBS Receiver, then it will proceed to attempt to acquire and maintain pattern sync (or PRBS
    Lock) within the payloadbits, within the incoming DS3 data-stream.
     0 - Disables the PRBS Receiver
     1 - Enables the PRBS Receiver.
BIT 2 - PRBS Generator Enable
    This READ/WRITE bit-field is used to either enable or disable the PRBS Generator within the Transmit DS3 Framer
    block. Once the user enables the PRBS Generator block, then it will proceed to insert a PRBS Pattern into the payload
    bits, within the outbound DS3 data-stream.
     0 - Disables the PRBS Generator
     1 - Enables the PRBS Generator.
BIT 1 - Receive DS3 Framer By-Pass
BIT 0 - Transmit DS3 Framer By-Pass
         TABLE 247: DS3 FRAMER AND M13 MUX BLOCK - DS3 TEST REGISTER # 2 (ADDRESS = 0X0E0E)
     BIT7             BIT6           BIT 5          BIT 4           BIT 3         BIT 2          BIT 1           BIT 0
   Unused          PRBS Type            BER Control[1:0]                         Unused                        Unframed
                                                                                                                 PRBS
     R/O              R/W             R/W            R/W            R/O            R/O            R/O             R/W
       0               0                0             0               0             0              0                0
BIT7 - Unused
BIT6 - PRBS Type
    This READ/WRITE bit-field is used to select between two possible PRBS Patterns, that the PRBS Generator and
    Receiver will be handling.
     0 - The PRBS Generator and Receiver will be handling a 2^15-1 PRBS Pattern.
     1 - The PRBS Generator and Receiver will be handling a 2^23-1 PRBS Pattern.
    NOTE: This READ/WRITE bit-field is only active if the PRBS Receiver and Generator have been enabled.
BIT[5:4] - BER Control[1:0]
                                                            176


                                                                                                       XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
These two READ/WRITE bit-fields are used to select the rate at which the PRBS Generator (within the
Transmit DS3 Framer block) will generate and transmit Bit-Errors, within the outbound DS3/PRBS Data-
Stream.
    The Relationship between the BER Control[1:0] bit-fields and the Resulting Bit Error-Rate that the
    PRBS Generator will. Insert within the outbound DS3/PRBS data-stream
                                               RESULTING BIT ERROR RATE INSERTED WITHIN THE OUTBOUND DS3/PRBS
              BER CONTROL[1:0]
                                                                             DATA-STREAM
                     00, 11                    No Bit Errors Selected (Normal Operation)
                       01                      1 Bit per 1000 Bits are Erred
                       10                      1 Bit per 1,000,000 Bits are Erred
    NOTE: These bit-fields are only active if the PRBS Generator has been enabled.
BIT[3:1] - Unused
BIT 0 - Unframed PRBS
This READ/WRITE bit-field is used to configure the PRBS Generator and the Transmit DS3 Framer block to
transmit either a Frame or an Unframed PRBS Pattern, within the outbound DS3 data-stream.
     0 - Configures the PRBS Generator/Transmit DS3 Framer to transmit a Framed PRBS Pattern, whenever the PRBS
    Generator has been enabled.
     1 - Configures the PRBS Generator/Transmit DS3 Framer to transmit an Unframed PRBS Pattern, whenever the
    PRBS Generator has been enabled.
    NOTE: This bit-field is only active if the PRBS Generator has been enabled.
  TABLE 248: DS3 FRAMER BLOCK - RECEIVE DS3 CONFIGURATION & STATUS REGISTER (ADDRESS = 0X0E10)
     BIT7            BIT6            BIT 5             BIT 4          BIT 3           BIT 2        BIT 1          BIT 0
   DS3 AIS        DS3 LOS          DS3 Idle          DS3 OOF        Reserved      Framing with  F Sync Algo   M Sync Algo
    Defect          Defect          Pattern           Defect                       Valid P-Bits
   Declared        Declared        Declared          Declared
     R/O             R/O              R/O              R/O             R/O             R/W         R/W            R/W
       0               0               0                 1              0               1            0              0
BIT7 - DS3 AIS Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is currently declaring the AIS defect
    condition, within the incoming DS3 data-stream.
     0 - Indicates that the Receive DS3 Framer block is NOT currently declaring the AIS defect condition within the
    incoming DS3 data-stream.
     1 - Indicates that the Receive DS3 Framer block is currently declaring the AIS defect condition within the incoming
    DS3 data-stream.
BIT6 - DS3 LOS Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is currently declaring the LOS defect
    condition, within the incoming DS3 data-stream.
     0 - Indicates that the Receive DS3 Framer block is NOT currently declaring the LOS defect condition within the
    incoming DS3 data-stream.
     1 - Indicates that the Receive DS3 Framer block is currently declaring the LOS defect condition within the incoming
    DS3 data-stream.
BIT 5 - DS3 Idle Pattern Declared:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is currently declaring the DS3 Idle
                                                               177


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    Pattern, within the incoming DS3 data-stream.
     0 - Indicates that the Receive DS3 Framer block is NOT currently declaring the Idle Pattern condition within the
    incoming DS3 data-stream.
     1 - Indicates that the Receive DS3 Framer block is currently declaring the Idle Pattern condition within the incoming
    DS3 data-stream.
BIT 4 - DS3 OOF Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is currently declaring the OOF (Out-
    of-Frame) defect condition.
     0 - Indicates that the Receive DS3 Framer block is NOT currently declaring the OOF defect condition.
     1 - Indicates that the Receive DS3 Framer block is currently declaring the OOF defect condition.
BIT 3 - Reserved:
BIT 2 - Framing with Valid P-Bits:
    This READ/WRITE bit-field is used to configure the Receive DS3 Framer block to use either of the following two different
    sets of DS3 Frame Acquisition/Maintenance criteria.
         •     Normal Framing Acquisition/Maintenance Criteria (without P-bit Checking)
    In this mode, the Receive DS3 Framer block will declare the In-Frame state, once it has successfully completed both
    the F-Bit Search and the M-Bit Search states.
         •     Framing Acquisition/Maintenance with P-bit Checking:
    In this mode, the Receive DS3 Framer block will (in addition to passing through the F-Bit Search and M-Bit Search
    states) also verify valid P-bits prior to declaring the In-Frame state.
     0 - Configures the Receive DS3 Framer block to use the Normal Framing Acquisition/Maintenance Criteria (without
    P-bit Checking)
     1 - Configures the Receive DS3 Framer block to use the Framing Acquisition/Maintenance with P-Bit Checking
    criteria.
BIT 1 - F-Bit Search State Criteria Select:
    This READ/WRITE bit-field is used to configure the Receive DS3 Framer block to use either one of the following DS3
    Out-of-Frame (OOF) Defect Declaration criteria.
     0 - Configures the Receive DS3 Framer block to declare the OOF defect condition, whenever it determines that 6 out
    of the most recent 15 F-bits (within the incoming DS3 data-stream) are erred.
     1 - Configures the Receive DS3 Framer block to declare the OOF defect condition whenever it determines that 3 out
    of the most recent 15 F-bits (within the incoming DS3 data-stream) are erred.
BIT 0 - M-Bit Search State Criteria:
    This READ/WRITE bit-field is used to configure the Receive DS3 Framer block to use either one of the following DS3
    Out-of-Frame (OOF) Defect Declaration criteria.
     0 - Configures the Receive DS3 Framer block to NOT declare the OOF defect condition whenever it detects M-bit
    errors.
     1 - Configures the Receive DS3 Framer block to declare the OOF defect condition whenever it detects M-bit errors
    within 3 out of 4 of the most recently received DS3 frames.
              TABLE 249: DS3 FRAMER BLOCK - RECEIVE DS3 STATUS REGISTER (ADDRESS = 0X0E11)
     BIT7            BIT6             BIT 5            BIT 4          BIT 3       BIT 2          BIT 1            BIT 0
                   Reserved                            DS3          Received          Received FEBE[2:0] Values
                                                    FERF/RDI        AIC State
                                                      Defect
                                                     Declared
     R/O              R/O              R/O             R/O            R/O          R/O            R/O              R/O
       0               0                 0               0              0           0               0                0
BIT7 - 5 - Reserved:
                                                                178


                                                                                                         XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT 4 - DS3 FERF/RDI Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block is currently declaring the FERF/RDI
    defect condition.
     0 - Indicates that the Receive DS3 Framer block is NOT currently declaring the FERF/RDI defect condition.
     1 - Indicates that the Receive DS3 Framer block is currently declaring the FERF/RDI defect condition.
BIT 3 - Received AIC State:
    This READ-ONLY bit-field reflects the current state of the AIC bit-field within the incoming DS3 data-stream.
     0 - Indicates that the Receive DS3 Framer block has received at least 2 consecutive M-frames that have the AIC bit-
    field set to 0.
     1 - Indicates that the Receive DS3 Framer block has received at least 63 consecutive M-frames that have the AIC bit-
    field set to 1.
BIT[2:0] - Received FEBE[2:0] Value:
    These READ-ONLY bit-fields reflects the FEBE value within the most recently received DS3 frame.
     Received FEBE[2:0] = [1, 1, 1] reflects a normal condition. All other values for Received FEBE[2:0] indicates an erred
    condition at the remote terminal equipment.
    NOTE: This bit-field is only active if the Transmit/Receive DS3 Framer blocks have been configured to operate in the
            C-bit Parity Framing format.
      TABLE 250: DS3 FRAMER BLOCK - RECEIVE DS3 INTERRUPT ENABLE REGISTER (ADDRESS = 0X0E12)
     BIT7              BIT6           BIT 5           BIT 4           BIT 3          BIT 2          BIT 1          BIT 0
 Detection of       Change of      Change of       Change of      Change of       Change of      Change of     Detection of
 CP-Bit Error       DS3 LOS         DS3 AIS         DS3 Idle          DS3          AIC State     DS3 OOF       P-Bit Error
   Interrupt          Defect         Defect        Condition     FERF/RDID         Interrupt       Defect        Interrupt
    Enable          Condition       Condition       Interrupt         efect         Enable       Condition        Enable
                     Interrupt      Interrupt        Enable        Condition                      Interrupt
                      Enable         Enable                         Interrupt                      Enable
                                                                     Enable
      R/W              R/W            R/W             R/W             R/W            R/W            R/W            R/W
       0                 0              0               0               0              0              0              0
BIT7 - Detection of CP-Bit Error Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Detection of CP-bit Error interrupt, within the
    XRT86SH328. If this interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt anytime it
    detects at least one CP-bit error within the incoming DS3 data-stream.
     0 - Disables the Detection of CP-Bit Error Interrupt.
     1 - Enables the Detection of CP-Bit Error Interrupt.
    NOTE: This bit-field is only active if the Transmit and Receive DS3 Framer blocks have been configured to operate in
            the C-bit Parity framing format.
BIT6 - Change of DS3 LOS Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change in DS3 LOS (Loss of Signal) defect condition,
    within the XRT86SH328. If this interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt in
    response to either of the following conditions.
          •    The instant that the Receive DS3 Framer block declares the LOS defect condition.
          •    The instant that the Receive DS3 Framer block clears the LOS defect condition.
     0 - Disables the Change in DS3 LOS Defect Condition Interrupt.
     1 - Enables the Change in DS3 LOS Defect Condition Interrupt.
BIT 5 - Change of DS3 AIS Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change in DS3 AIS (Alarm Indication Signal) defect
    condition interrupt within the XRT86SH328. If this interrupt is enabled, then the Receive DS3 Framer block will generate
                                                              179


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
     an interrupt in response to either of the following events.
           •     The instant that the Receive DS3 Framer block declares the AIS defect condition.
           •     The instant that the Receive DS3 Framer block clears the AIS defect condition.
      0 - Disables the Change in AIS Defect Condition interrupt.
      1 - Enables the Change in DS3 AIS Defect Condition Interrupt.
BIT 4 - Change of DS3 Idle Condition Interrupt Enable:
     This READ/WRITE bit-field is used to either enable or disable the Change in DS3 Idle Condition interrupt, within the
     Receive DS3 Framer block. If the user enables this interrupt then the Receive DS3 Framer block will generate an
     interrupt in response to either of the following conditions.
           •     The instant that the Receive DS3 Framer block detects and declares the DS3 Idle condition.
           •     The instant that the Receive DS3 Framer block clears the DS3 Idle condition.
      0 - Disables the Change in DS3 Idle Condition Interrupt.
      1 - Enables the Change in DS3 Idle Condition Interrupt.
BIT 3 - Change of DS3 FERF/RDI Defect Condition Interrupt Enable:
     This READ/WRITE bit-field is used to either enable or disable the Change in DS3 FERF/RDI Defect Condition Interrupt.
     If this interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt in response to either of the
     following condition.
           •     The instant that the Receive DS3 Framer block declares the FERF/RDI defect condition.
           •     The instant that the Receive DS3 Framer block clears the FERF/RDI defect condition.
      0 - Disables the Change in DS3 FERF/RDI Defect Condition Interrupt.
      1 - Enables the Change in DS3 FERF/RDI Defect Condition Interrupt.
BIT 2 - Change of AIC State Interrupt Enable:
     This READ/WRITE bit-field is used to either enable or disable the Change in AIC State interrupt. If this interrupt is
     enabled, then the Receive DS3 Framer block will generate an interrupt in response to it detecting a change in the AIC
     bit-field, within the incoming DS3 data-stream.
      0 - Disables the Change of AIC State Interrupt.
      1 - Enables the Change of AIC State Interrupt.
BIT 1 - Change of DS3 OOF Defect Condition Interrupt Enable:
This READ/WRITE bit-field is used to either enable or disable the Change of DS3 OOF Defect Condition
Interrupt. If this interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt in response
to either of the following conditions.
           •     The instant that the Receive DS3 Framer block declares the DS3 OOF Defect Condition.
           •     The instant that the Receive DS3 Framer block cleares the DS3 OOF Defect Condition.
      0 - Disables the Change in DS3 OOF Defect Condition Interrupt.
      1 - Enables the Change in DS3 OOF Defect Condition Interrupt.
BIT 0 - Detection of P-Bit Error Interrupt Enable:
This READ/WRITE bit-field is used to either enable or disable the Detection of P-Bit Error Interrupt. If this
interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt anytime it detects P-bit
errors within the incoming DS3 data-stream.
      0 - Disables the Detection of P-Bit Error Interrupt
      1 - Enables the Detection of P-Bit Error Interrupt
                                                               180


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      TABLE 251: DS3 FRAMER BLOCK - RECEIVE DS3 INTERRUPT STATUS REGISTER (ADDRESS = 0X0E13)
     BIT7             BIT6           BIT 5            BIT 4          BIT 3          BIT 2           BIT 1             BIT 0
 Detection of      Change of      Change of        Change of      Change of      Change of       Change of       Detection of
 CP-Bit Error      DS3 LOS         DS3 AIS          DS3 Idle         DS3         AIC State       DS3 OOF          P-Bit Error
   Interrupt         Defect         Defect         Condition     FERF/RDID        Interrupt        Defect           Interrupt
    Status         Condition      Condition         Interrupt        efect         Status        Condition           Status
                 Interrupt Sta- Interrupt Sta-       Status       Condition                       Interrupt
                       tus            tus                          Interrupt                       Status
                                                                    Status
     RUR              RUR            RUR              RUR            RUR            RUR             RUR               RUR
       0                0              0                0              0              0               0                 0
BIT7 - Detection of CP-Bit Error Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Detection of CP-Bit Error Interrupt has occurred since the
    last read of this register.
     0 - Indicates that the Detection of CP-Bit Error Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of CP-Bit Error Interrupt has occurred since the last read of this register.
    NOTE: This bit-field is only active if the Transmit and Receive DS3 Framer block are configured to operate in the C-Bit
            Parity Framing Format.
BIT6 - Change of DS3 LOS Defect Condition Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change in DS3 LOS Defect Condition Interrupt has
    occurred since the last read of this register.
     0 - Indicates that the Change in DS3 LOS Defect Condition Interrupt has NOT occurred since the last read of this
    register.
     1 - Indicates that the Change in DS3 LOS Defect Condition Interrupt has occurred since the last read of this register.
BIT 5 - Change of DS3 AIS Defect Condition Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change of DS3 AIS Defect Condition Interrupt has
    occurred since the last read of this register.
     0 - Indicates that the Change of DS3 AIS Defect Condition Interrupt has NOT occurred since the last read of this
    register.
     1 - Indicates that the Change of DS3 AIS Defect Condition Interrupt has occurred since the last read of this register.
BIT 4 - Change of DS3 Idle Condition Interrupt Status:
This RESET-upon-READ bit-field indicates whether or not the Change in DS3 Idle Condition interrupt has
occurred since the last read of this register.
     0 - Indicates that the Change of DS3 Idle Condition Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Change of DS3 Idle Condition Interrupt has occurred since the last read of this register.
BIT 3 - Change of DS3 FERF/RDI Defect Condition Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change of DS3 FERF/RDI Defect Condition Interrupt has
    occurred since the last read of this register.
     0 - Indicates that the Change of DS3 FERF/RDI Defect Condition interrupt has NOT occurred since the last read of
    this register.
     1 - Indicates that the Change in DS3 FERF/RDI Defect Condition interrupt has occurred since the last read of this
    register.
BIT 2 - Change of AIC State Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change in AIC State Interrupt has occurred since the last
    read of this register.
     0 - Indicates that the Change in AIC State interrupt has NOT occurred since the last read of this register.
                                                              181


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
     1 - Indicates that the Change in AIC State Interrupt has occurred since the last read of this register.
BIT 1 - Change of DS3 OOF Defect Condition Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change in DS3 OOF Defect Condition interrupt has
    occurred since the last read of this register.
     0 - Indicates that the Change of DS3 OOF Defect Condition Interrupt has NOT occurred since the last read of this
    register.
     1 - Indicates that the Change of DS3 OOF Defect Condition Interrupt has occurred since the last read of this register.
BIT 0 - Detection of P-Bit Error Interrupt Status:
This RESET-upon-READ bit-field indicates whether or not the Detection of P-Bit Error Interrupt has occurred
since the last read of this register.
     0 - Indicates that the Detection of P-Bit Error Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Detection of P-Bit Error Interrupt has occurred since the last read of this register.
         TABLE 252: DS3 FRAMER BLOCK - RECEIVE DS3 SYNC DETECT REGISTER (ADDRESS = 0X0E14)
     BIT7            BIT6             BIT 5          BIT 4           BIT 3          BIT 2            BIT 1          BIT 0
                                            Reserved                                               F - Sync        One and
                                                                                                  Algorithm         Only
     R/O              R/O              R/O            R/O            R/O             R/W             R/W             R/W
       0                0                0             0               0              0                0               0
BIT[7:2] - Reserved:
BIT 1 - F-Sync Algorithm
    This READ/WRITE bit-field is used to select the F-bit acquisition criteria when the Receive DS3 Framer block is
    operating in the F-Bit Search state.
     0 - Configures the Receive DS3 Framer block to move onto the M-Bit Search state, when it has properly located 10
    consecutive F-bits.
     1 - Configures the Receive DS3 Framer block to move onto the M-Bit Search state, when it has properly located 16
    consecutive F-bits.
BIT 0 - One and Only:
    This READ/WRITE bit-field is used to select the F-bit acquisition criteria that the Receive DS3 Framer block will use,
    whenever it is operating in the F-Bit Search state, as described below.
     0 - Configures the Receive DS3 Framer block to move onto the M-Bit Search state, whenever it has properly located
    10 (or 16) consecutive F-bits (as configured in BIT 1 of this register).
     1 - Configures the Receive DS3 Framer block to move onto the M-Bit Search state, whenever (1) it has properly
    located 10 (or 16) consecutive F-bits and (2) when it has located and identified only one viable F-Bit Alignment
    candidate.
    NOTE: If this bit is set to 1, then the Receive DS3 Framer block will NOT transition into the M-Bit Search state as long
            as at least two viable candidate sets of bits appears to function as the F-bits.
              TABLE 253: DS3 FRAMER BLOCK - RECEIVE DS3 FEAC REGISTER (ADDRESS = 0X0E16)
     BIT7            BIT6             BIT 5          BIT 4           BIT 3          BIT 2            BIT 1          BIT 0
   Unused                                            RxFEAC_Code[5:0]                                              Unused
     R/O              R/O              R/O            R/O            R/O             R/O              R/O            R/O
       0                1                1             1               1              1                1               0
BIT7 - Unused:
BIT[6:1] - Receive FEAC Code[5:0]:
                                                              182


                                                                                                       XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     These READ-ONLY bit-fields contain the value of the most recently validated FEAC Code word.
     NOTE: These register bits are only active if the Transmit and Receive DS3 Framer blocks have been configured to
             operate in the C-bit Parity Framing format.
BIT 0 - Unused:
    TABLE 254: DS3 FRAMER BLOCK - RECEIVE DS3 FEAC INTERRUPT ENABLE/STATUS REGISTER (ADDRESS =
                                                            0X0E17)
      BIT7             BIT6            BIT 5          BIT 4            BIT 3          BIT 2       BIT 1          BIT 0
                  Set to [0, 0, 0]                 FEAC Valid        Receive        Receive      Receive       Receive
                                                                      FEAC           FEAC     FEAC Valid     FEAC Valid
                                                                    Removal         Removal     Interrupt      Interrupt
                                                                     Interrupt      Interrupt    Enable          Status
                                                                      Enable         Status
       R/W             R/W             R/W            R/O              R/W            RUR         R/W            RUR
        0                0               0              0                0              0           0              0
Bits 7 - 5 - Set to [0, 0, 0]:
      Please set these three bit-fields to 0 (the default value) for normal operation.
BIT 4 - FEAC Message Valid:
     This READ-ONLY bit-field indicates that the FEAC Code word (which resides within the Receive DS3 FEAC Register)
     has been validated by the Receive FEAC Controller block. The Receive FEAC Controller block will validate a FEAC
     Codeword if it has received this same codeword in 8 out of the last 10 FEAC Messages.
     Polled systems can monitor this bit-field when checking for a newly validated FEAC Codeword.
      0 - Indicates that the FEAC Message (residing in the Receive DS3 FEAC register) is no longer validated.
      1 - Indicates that the FEAC Message (residing in the Receive DS3 FEAC register) has been validated.
BIT 3 - Receive FEAC Removal Interrupt Enable:
     This READ/WRITE bit-field is used to either enable or disable the Receive FEAC Message Removal interrupt. If this
     interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt anytime the most recently validated
     FEAC Message has been removed. The Receive FEAC Controller will remove a validated FEAC codeword, if it has
     received a different codeword in 3 out of the last 10 FEAC Messages.
      0 - Disables the Receive FEAC Message Removal Interrupt.
      1 - Enables the Receive FEAC Message Removal Interrupt.
BIT 2 - Receive FEAC Removal Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the Receive FEAC Message Removal Interrupt has occurred
     since the last read of this register.
      0 - Indicates that the Receive FEAC Message Removal Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Receive FEAC Message Removal Interrupt has occurred since the last read of this register.
BIT 1 - Receive FEAC Valid Interrupt Enable:
This READ/WRITE bit-field is used to either enable or disable the Receive FEAC Message Validation Interrupt.
If this interrupt is enabled, then the Receive DS3 Framer block will generate an interrupt anytime the Receive
FEAC Controller block has validated a new FEAC Code word.
      0 - Disables the Receive FEAC Message Validation Interrupt.
      1 - Enables the Receive FEAC Message Validation Interrupt.
BIT 0 - Receive FEAC Valid Interrupt Status:
This RESET-upon-READ bit-field indicates whether or not the Receive FEAC Message Validation Interrupt has
occurred since the last read of this register.
      0 - Indicates that the Receive FEAC Message Validation Interrupt has NOT occurred since the last read of this
                                                               183


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
    register.
     1 - Indicates that the Receive FEAC Message Validation Interrupt has occurred since the last read of this register.
           TABLE 255: DS3 FRAMER BLOCK - RECEIVE LAPD CONTROL REGISTER (ADDRESS = 0X0E18)
     BIT7             BIT6             BIT 5        BIT 4           BIT 3         BIT 2          BIT 1            BIT 0
 Receive Any                                 Unused                              Receive       Receive          Receive
    Kind of                                                                       LAPD           LAPD            LAPD
    LAPD                                                                        Controller     Message          Message
   Message                                                                    Block Enable     Interrupt        Interrupt
                                                                                                Enable           Status
     R/W               R/O              R/O         R/O              R/O           R/W            R/W             RUR
       0                 0               0            0               0             0              0                0
BIT7 - Receive Any Kind of LAPD Message:
    This READ/WRITE bit-field is used to configure the Receive LAPD Controller block to receive any kind of LAPD
    Message (or HDLC Message) with a size of 82 bytes or less. If the user implements this option, then the Receive LAPD
    Controller block will be capable of receiving any kind of HDLC Message (with any value the header bytes). The only
    restriction is that the size of the HDLC Message must not exceed 82 bytes.
     0 - Does not invoke the Any Kind of HDLC Message feature.
    In this case, the Receive LAPD Controller block will only receive HDLC Messages that contains the Bellcore GR-499-
    CORE values for SAPI and TEI.
     1 - Invokes this Any Kind of HDLC Message feature.
    In this case, the Receive LAPD Controller block will be able to receive HDLC Messages that contains any header byte
    values.
    NOTE: The user can determine the size (or byte count) of the most recently received LAPD/PMDL Message by reading
             the contents of the Receive LAPD Byte Count Register (Address = 0x0E84).
BIT[6:3] - Unused:
BIT 2 - Receive LAPD Controller Block Enable:
    This READ/WRITE bit-field is used to either enable or disable the Receive LAPD Controller block within the Receive
    DS3 Framer block. If the user enables the Receive LAPD Controller block, then it will immediately begin extracting out
    and monitoring the data (being carried via the DL bits) within the incoming DS3 data-stream.
     0 - Disables the Receive LAPD Controller block.
     1 - Enables the Receive LAPD Controller block.
BIT 1 - Receive LAPD Message Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Receive LAPD Message Interrupt. If this interrupt is
    enabled, then the Receive DS3 Framer block will generate an interrupt anytime the Receive LAPD Controller block
    receives a new PMDL Message.
     0 - Disables the Receive LAPD Message Interrupt.
     1 - Enables the Receive LAPD Message Interrupt.
BIT 0 - Receive LAPD Message Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Receive LAPD Message Interrupt has occurred since the
    last read of this register.
     0 - Indicates that the Receive LAPD Message Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Receive LAPD Message' Interrupt has occurred since the last read of this register.
                                                            184


                                                                                                       XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
         TABLE 256: DS3 FRAMER BLOCK - RECEIVE DS3 LAPD STATUS REGISTER (ADDRESS = 0X0E19)
     BIT7            BIT6           BIT 5          BIT 4            BIT 3           BIT 2         BIT 1            BIT 0
   Unused          Receive        RxLAPD_Msg_Type[1:0]         Receive C/R        Receive         End of           Flag
                   ABORT                                            Type         LAPD FCS        Message        Sequence
                                                                                    Error                         Present
                                                                                  Detected
     R/O              R/O            R/O            R/O             R/O              R/O           R/O              R/O
       0               0              0               0               0               0             0                0
BIT7 - Unused:
BIT6 - Receive ABORT:
    This READ-ONLY bit-field indicates that the Receive LAPD Controller block has received an ABORT sequence (e.g., a
    string of seven consecutive 0s) within the incoming data-stream.
     0 - Indicates that the Receive LAPD Controller block has NOT received an ABORT sequence.
     1 - Indicates that the Receive LAPD Controller block has received an ABORT sequence.
    NOTE: Once the Receive LAPD Controller block receives an ABORT Sequence, it will set this bit-field high until it
            receives another LAPD Message.
BIT[5:4] - Receive LAPD Message Type[1:0]:
    These two READ-ONLY bit-fields indicate the type of LAPD Message that is residing within the Receive LAPD Message
    Buffer. The relationship between the contents of these two bit-fields and the corresponding message type is presented
    below.
             Message Type
               RECEIVE LAPD MESSAGE TYPE[1:0]                               MESSAGE TYPE
                       0                  0          CL Path Identification
                       0                  1          Idle Signal Identification
                       1                  0          Test Signal Identification
                       1                  1          ITU-T Path Identification
BIT 3 - Receive C/R Type:
    This READ-ONLY bit-field indicates the value of the C/R bit-field (within one of the header bytes) of the most recently
    received LAPD Message.
BIT 2 - Receive LAPD FCS Error Detected:
    This READ-ONLY bit-field indicates whether or not the most recently received LAPD Message frame contained an FCS
    error or not.
     0 - Indicates that the most recently received LAPD Message frame does not contain an FCS error.
     1 - Indicates that the most recently received LAPD Message frame does contain an FCS error.
BIT 1 - End of Message:
    This READ-ONLY bit-field indicates whether or not the Receive LAPD Controller block has received a complete LAPD
    Message.
     0 - Indicates that the Receive LAPD Controller block is currently receiving a LAPD Message, but has not received the
    complete message.
     1 - Indicates that the Receive LAPD Controller block has received a complete LAPD Message.
    NOTE: Once the Receive LAPD Controller block sets this bit-field high, this bit-field will remain high until the Receive
            LAPD Controller block begins to receive a new LAPD Message.
BIT 0 - Flag Sequence Present:
                                                            185


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                         REV. 2.0.0
     This READ-ONLY bit-field indicates whether or not the Receive LAPD Controller block is currently receiving the Flag
     Sequence (e.g., a continuous stream of 0x7E octets within the Data Link channel).
      0 - Indicates that the Receive LAPD Controller block is NOT currently receiving the Flag Sequence octet within the
     incoming Data Link channel.
      1 - Indicates that the Receive LAPD Controller block is currently receiving a continuous stream of Flag Sequence
     octets within the incoming Data Link channel.
 TABLE 257: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 1 (ADDRESS = 0X0E1A)
      BIT7             BIT6            BIT 5           BIT 4          BIT 3            BIT 2         BIT 1           BIT 0
                     Reserved                       Set G.747       Set G.747      M12 FERF        M12 Loop-back Code[1:0]
                                                       Mode        Reserved Bit     Bit Setting
      R/O              R/O             R/O              R/W            R/W              R/W           R/W             R/W
        0                0               0                0              0               0              0              0
BIT7, 5 - Reserved
BIT 4 - Set G.747 Mode
     This READ/WRITE bit-field is used to configure the M12 MUX and De-MUX (associated with DS2 Channel # 1) to
     operate in either the DS2 or the G.747 Mode. If the user configures the M12 MUX and De-MUX to operate in the DS2
     Mode, then all of the following will be true.
          •     The M12 MUX will multiplex four (4) DS1 signals into a DS2 signal, prior to routing it to the M23 MUX.
          •     The M12 De-MUX will accept a DS2 data-stream (from the M23 De-MUX) and it will de-multiplex this data-
                stream into four (4) DS1 signals (prior to being output to the Egress Direction Receive DS1/E1 Framer block).
     Likewise, if the user configures the M12 MUX and De-MUX to operate in the G.747 Mode, then all of the following will
     be true.
          •     The M12 MUX will multiplex three (3) E1 signals into a G.747 data-stream, prior to routing it to the M23 MUX
          •     The M12 De-MUX will accept a G.747 data-stream (from the M23 De-MUX) and it will de-multiplex this data-
                stream into three (3) E1 signals (prior to being output to the Egress Direction Receive DS1/E1 Framer block).
      0 - Configures the M12 MUX (associated with DS2 Channel # 1) to operate in the DS2 Mode.
      1 - Configures the M12 MUX (associated with DS2 Channel # 1) to operate in the G.747 Mode.
BIT 3 - Set G.747 Reserved Bit
     This READ/WRITE bit-field is used to configure M12 MUX to set the Reserved bit (within a G.747 data-stream) to either
     a 0 or 1.
      0 - Configures the M12 MUX to set the G.747 Reserved bit (within the outbound G.747 data-stream) to 0.
      1 - Configures the M12 MUX to set the G.747 Reserved bit (within the outbound G.747 data-stream) to 1.
     NOTE: This bit-field is only active if the M12 MUX/De-MUX has been configured to operate in the G.747 Mode.
BIT 2 - Set M12 FERF Bit Value
Bits 1, 0 - M12 Loop-back Code[1:0]:
     These READ/WRITE bit-fields are used to specify the coding (or the values that the M12 MUX block will set the C-bits,
     within its outbound DS2 data-stream to) in order to request that the remote terminal equipment operate in the remote
     DS1 Loop-back Mode.
                                                                186


                                                                                                       XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    Loop-Back Codes
      M12 LOOP-BACK         C-BIT SETTINGS TO REQUEST
                                                                                       COMMENTS
         CODES[1:0]           DS2 LOOP-BACK CODES
            00/11                 Cj1 = Cj2 = Cj3*          The M12 MUX block will invert the state of the Cj3 bit
                                                            (from that of the corresponding Cj1 and Cj2 bits) within
                                                            the outbound DS2 signal in order to request that the
                                                            remote terminal execute a remote Loop-back within the
                                                            jth DS1 signal.
             01                   Cj1 = Cj2* = Cj3          The M12 MUX block will insert the state of the of the Cj2
                                                            bit (from that of the corresponding Cj1 and Cj3 bits) within
                                                            the outbound DS2 signal in order to request that the
                                                            remote terminal execute a remote Loop-back within the
                                                            jth DS1 signal.
             10                   Cj1* = Cj2 = Cj3          The M12 MUX block will invert the state of the Cj1 bit
                                                            (from that of the corresponding Cj2 and Cj3 bits) in order
                                                            to request that the remote terminal execute a remote
                                                            Loop-back within the jth DS1 signal.
    NOTE: Anytime the M12 MUX block has been configured to transmit a DS2 Loop-back request code, then it will set the
            C-bits to the appropriate value (based upon the user-selection) as specified in the above table.
 TABLE 258: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 2 (ADDRESS = 0X0E1B)
     BIT7             BIT6           BIT 5         BIT 4            BIT 3            BIT 2         BIT 1           BIT 0
                   Reserved                      Set G.747        Set G.747       M12 FERF      M12 Loop-back Code[1:0]
                                                   Mode         Reserved Bit      Bit Setting
     R/O              R/O            R/O            R/W             R/W               R/W          R/W             R/W
       0                0              0             0                0                0             0                0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 2 for Channel 1.
 TABLE 259: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 3 (ADDRESS = 0X0E1C)
     BIT7             BIT6           BIT 5         BIT 4            BIT 3            BIT 2         BIT 1           BIT 0
                   Reserved                      Set G.747        Set G.747       M12 FERF      M12 Loop-back Code[1:0]
                                                   Mode         Reserved Bit      Bit Setting
     R/O              R/O            R/O            R/W             R/W               R/W          R/W             R/W
       0                0              0             0                0                0             0                0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 3 for Channel 1.
 TABLE 260: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 4 (ADDRESS = 0X0E1D)
     BIT7             BIT6           BIT 5         BIT 4            BIT 3            BIT 2         BIT 1           BIT 0
                   Reserved                      Set G.747        Set G.747       M12 FERF      M12 Loop-back Code[1:0]
                                                   Mode         Reserved Bit      Bit Setting
     R/O              R/O            R/O            R/W             R/W               R/W          R/W             R/W
       0                0              0             0                0                0             0                0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 4 for Channel 1.
                                                           187


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                  REV. 2.0.0
 TABLE 261: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 5 (ADDRESS = 0X0E1E)
      BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2           BIT 1          BIT 0
                   Reserved                     Set G.747     Set G.747    M12 FERF         M12 Loop-back Code[1:0]
                                                  Mode       Reserved Bit   Bit Setting
      R/O             R/O           R/O            R/W            R/W           R/W             R/W            R/W
        0              0             0              0              0             0               0              0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 5 for Channel 1.
 TABLE 262: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 6 (ADDRESS = 0X0E1F)
      BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2           BIT 1          BIT 0
                   Reserved                     Set G.747     Set G.747    M12 FERF         M12 Loop-back Code[1:0]
                                                  Mode       Reserved Bit   Bit Setting
      R/O             R/O           R/O            R/W            R/W           R/W             R/W            R/W
        0              0             0              0              0             0               0              0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 6 for Channel 1.
 TABLE 263: DS3 FRAMER BLOCK - M12 CONFIGURATION REGISTER - DS2 CHANNEL # 7 (ADDRESS = 0X0E20)
      BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2           BIT 1          BIT 0
                   Reserved                     Set G.747     Set G.747    M12 FERF         M12 Loop-back Code[1:0]
                                                  Mode       Reserved Bit   Bit Setting
      R/O             R/O           R/O            R/W            R/W           R/W             R/W            R/W
        0              0             0              0              0             0               0              0
BIT [7:0] - See Table 257 above, for Bit descriptions, substituting Channel 7 for Channel 1.
TABLE 264: DS3 FRAMER BLOCK - M12 DE-MUX FORCE DS1/E1 AIS REGISTER - DS2 CHANNEL # 1 (ADDRESS =
                                                        0X0E21)
      BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2           BIT 1          BIT 0
     Force           Force         Force          Force          Force         Force           Force          Force
    Receive         Receive       Receive        Receive       Transmit      Transmit        Transmit       Transmit
 DS1/E1 AIS       DS1/E1 AIS    DS1/E1 AIS     DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS      DS1/E1 AIS     DS1/E1 AIS
   - DS1/E1        - DS1/E1      - DS1/E1       - DS1/E1       - DS1/E1     - DS1/E1         - DS1/E1       - DS1/E1
  Channel 3        Channel 2     Channel 1      Channel 0     Channel 3     Channel 2       Channel 1      Channel 0
      R/W             R/W           R/W            R/W            R/W           R/W             R/W            R/W
        0              0             0              0              0             0               0              0
BIT7 - Force Receive DS1/E1 AIS - DS1/E1 Channel 4
This READ/WRITE bit-field is used to force the M12 De-MUX Block (associated with DS2 Channel # 0) to overwrite the
Egress Direction or De-Multiplexed DS1/E1 Signal associated with DS1/E1 Channel 4, with a DS1/E1 AIS Pattern as it is
de-muxing this DS1/E1 signal from the incoming DS2 data-stream, as described below.
      0 - Configures the M12 De-MUX block to NOT transmit the DS1/E1 AIS Pattern, via Egress Direction DS1/E1 Channel
     4.
      1 - Configures the M12 De-MUX block to transmit the DS1/E1 AIS Pattern, via Egress Direction DS1/E1 Channel 4.
                                                          188


                                                                                                                          XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
Figure 15 presents an illustration of the Functional Block diagram of the XRT86SH328, whenever a given M12
De-MUX block has been configured to transmit the DS1/E1 AIS indicator (within a given DS1/E1 signal) in the
Egress Direction.
    NOTE: For normal operation, the user MUST set this bit-field to 0.
FIGURE 15. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER A GIVEN
M12 DE-MUX BLOCK HAS BEEN CONFIGURED TO TRANSMIT THE DS1/E1 AIS INDICATOR (WITHIN A GIVEN DS1/E1
SIGNAL) IN THE EGRESS DIRECTION
                           Transmit                                                          Ingress   Ingress
                            Transmit      Transmit
                                           Transmit                                        Direction  Direction       Receive
                            STS-1/3      STS-1                               VT/TU
                             STS-1/3
                             TOH          STS-1POH
                                                 POH                           VT/TU
                                                                             Mapper        Transmit    Receive        DS1/E1
                              TOH         Processor                           Mapper        DS1/E1     DS1/E1            LIU
                           Processor       Processor                           Block
                            Processor       Block
                                             Block                              Block       Framer     Framer           Block
                             Block
                              Block
              STS-1/                                                                          Block     Block
               STS-1/
              STS-3
                STS-3                                                                                         DS1/E1 Channel 0
             Telecom
              Telecom                   From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface
              Interface                                From DS2 Channels 1 - 6
                                        Transmit
                                         Transmit           M23                          M12
                                           DS3                M23
                                            DS3            MUX                          MUX            From DS1/E1 Channels 1 - 3
                                         Framer              MUX
               DS3/                       Framer           Block                        Block
                 DS3/                     Block             Block
              STS-1                        Block
                STS-1                                             DS2 Channel 0                          DS1/E1 AIS in Egress
               LIU
                 LIU
             Interface                   Receive
                                          Receive           M23                          M12                    Direction
              Interface                    DS3                M23
                                            DS3          De-MUX                        De-MUX          To DS1/E1 Channels 1 - 3
                                         Framer            De-MUX
                                          Framer            Block                       Block
                                          Block              Block
                                           Block
                                                                                     DS2 Channel 0
                                                To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                              Channels 1 - 27
                                                                                            Egress    Egress
                         Receive        Receive                              DS1/E1       Direction  Direction      Transmit
                          Receive        Receive             VT/TU
                         STS-1/3      STS-1
                          STS-1/3
                          TOH          STS-1POH
                                              POH         De-Mapper
                                                                              Jitter       Receive   Transmit        DS1/E1
                           TOH         Processor                               Atten       DS1/E1     DS1/E1            LIU
                        Processor       Processor             Block
                         Processor       Block
                                          Block                                Block       Framer     Framer           Block
                          Block
                           Block                                                            Block      Block
                                                                                                              DS1/E1 Channel 0
BIT6 - Force Receive DS1/E1 AIS - DS1/E1 Channel 3
    See Description of BIT7.
BIT 5 - Force Receive DS1/E1 AIS - DS1/E1 Channel 2
    See Description of BIT7.
BIT 4 - Force Receive DS1/E1 AIS - DS1/E1 Channel 1
    See Description of BIT7.
BIT 3 - Force Transmit DS1/E1 AIS - DS1/E1 Channel 4
    This READ/WRITE bit-field is used to force the M12 MUX Block (associated with DS2 Channel # 0) to overwrite the
    Ingress Direction DS1/E1 Signal (associated with DS1/E1 Channel 4, with a DS1/E1 AIS Pattern. If the user invoke this
    feature, then the M12 MUX Block will transmit a DS1/E1 AIS pattern (within DS1/E1 Channel 4) towards the M23 MUX
    Block.
     0 - Configures the M12 MUX Block to NOT transmit the DS1/E1 AIS Pattern, via the Ingress Direction DS1/E1
    Channel 3.
     1 - Configures the M12 MUX Block to transmit the DS1/E1 AIS Pattern, via the Ingress Direction DS1/E1 Channel 3.
    NOTE: For normal operation, the user MUST set this bit-field to 0.
BIT 2 - Force Transmit DS1/E1 AIS - DS1/E1 Channel 3
    See description of BIT 3.
BIT 1 - Force Transmit DS1/E1 AIS - DS1/E1 Channel 2
                                                                     189


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                            REV. 2.0.0
     See description of BIT 3.
BIT 0 - Force Transmit DS1/E1 AIS - DS1/E1 Channel 1
     See description of BIT 3.
         TABLE 265: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 1 (ADDRESS = 0X0E22)
     BIT7            BIT6         BIT 5         BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force           Force        Force         Force          Force         Force         Force        Force
    Receive         Receive      Receive       Receive       Transmit      Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS     DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1        - DS1/E1     - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1      - DS1/E1     - DS1/E1
  Channel 7       Channel 6     Channel 5     Channel 4     Channel 7      Channel 6     Channel 5    Channel 4
      R/W             R/W          R/W           R/W            R/W           R/W           R/W          R/W
       0               0            0             0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 1 for DS2 Channel 0 and Receive
         TABLE 266: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 2 (ADDRESS = 0X0E23)
     BIT7            BIT6         BIT 5         BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force           Force        Force         Force          Force         Force         Force        Force
    Receive         Receive      Receive       Receive       Transmit      Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS     DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1        - DS1/E1     - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1      - DS1/E1     - DS1/E1
  Channel 11     Channel 10     Channel 9     Channel 8    Channel 11     Channel 10     Channel 9    Channel 8
      R/W             R/W          R/W           R/W            R/W           R/W           R/W          R/W
       0               0            0             0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 2 for DS2 Channel 0 and Receive
         TABLE 267: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 3 (ADDRESS = 0X0E24)
     BIT7            BIT6         BIT 5         BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force           Force        Force         Force          Force         Force         Force        Force
    Receive         Receive      Receive       Receive       Transmit      Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS     DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1        - DS1/E1     - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1      - DS1/E1     - DS1/E1
 Channel 15      Channel 14    Channel 13    Channel 12    Channel 15     Channel 14    Channel 13   Channel 12
      R/W             R/W          R/W           R/W            R/W           R/W           R/W          R/W
       0               0            0             0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 3 for DS2 Channel 0 and Receive
DS1/E1 AIS - DS1/E1 Channel [15:12] Receive DS1/E1 AIS - DS1/E1 Channel [3:0].
                                                        190


                                                                                               XRT86SH328
REV. 2.0.0                  28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
         TABLE 268: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 4 (ADDRESS = 0X0E25)
     BIT7           BIT6         BIT 5          BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force          Force        Force          Force          Force         Force         Force        Force
    Receive        Receive      Receive        Receive      Transmit       Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS  DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1       - DS1/E1     - DS1/E1       - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1     - DS1/E1
 Channel 19      Channel 18   Channel 17     Channel 16    Channel 19     Channel 18    Channel 17   Channel 16
      R/W            R/W          R/W            R/W            R/W           R/W           R/W          R/W
       0              0            0              0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 4 for DS2 Channel 0 and Receive
DS1/E1 AIS - DS1/E1 Channel [19:16] Receive DS1/E1 AIS - DS1/E1 Channel [3:0].
         TABLE 269: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 5 (ADDRESS = 0X0E26)
     BIT7           BIT6         BIT 5          BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force          Force        Force          Force          Force         Force         Force        Force
    Receive        Receive      Receive        Receive      Transmit       Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS  DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1       - DS1/E1     - DS1/E1       - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1     - DS1/E1
 Channel 23      Channel 22   Channel 21     Channel 20    Channel 23     Channel 22    Channel 21   Channel 20
      R/W            R/W          R/W            R/W            R/W           R/W           R/W          R/W
       0              0            0              0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 5 for DS2 Channel 0 and Receive
DS1/E1 AIS - DS1/E1 Channel [23:20] Receive DS1/E1 AIS - DS1/E1 Channel [3:0].
         TABLE 270: DS3 FRAMER BLOCK - M12 AIS REGISTER - DS2 CHANNEL # 6 (ADDRESS = 0X0E27)
     BIT7           BIT6         BIT 5          BIT 4          BIT 3         BIT 2         BIT 1        BIT 0
     Force          Force        Force          Force          Force         Force         Force        Force
    Receive        Receive      Receive        Receive      Transmit       Transmit      Transmit     Transmit
 DS1/E1 AIS      DS1/E1 AIS  DS1/E1 AIS      DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS    DS1/E1 AIS   DS1/E1 AIS
   - DS1/E1       - DS1/E1     - DS1/E1       - DS1/E1      - DS1/E1       - DS1/E1      - DS1/E1     - DS1/E1
 Channel 27      Channel 26   Channel 25     Channel 21    Channel 27     Channel 26    Channel 25   Channel 24
      R/W            R/W          R/W            R/W            R/W           R/W           R/W          R/W
       0              0            0              0              0             0             0            0
BIT [7:0] - See Figure 264 above, for Bit descriptions, substituting DS2 Channel 5 for DS2 Channel 0 and Receive
DS1/E1 AIS - DS1/E1 Channel [27:21] Receive DS1/E1 AIS - DS1/E1 Channel [3:0].
                                                        191


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                             REV. 2.0.0
              TABLE 271: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 1 (ADDRESS = 0X0E28)
     BIT7              BIT6              BIT 5                BIT 4                 BIT 3               BIT 2             BIT 1           BIT 0
 M12 Remote       M12 Remote         M12 Remote         M12 Remote             M12 Loop-            M12 Loop-          M12 Loop-        M12 Loop-
  Loop Back        Loop-Back          Loop-Back          Loop-Back                  Back                Back              Back            Back
 Mode - DS1       Mode - DS1         Mode - DS1         Mode - DS1              Request -            Request -          Request -       Request -
  Channel 3         Channel 2         Channel 1          Channel 0                   DS1                 DS1               DS1            DS1
                                                                                Channel 3           Channel 2          Channel 1        Channel 0
     R/W                R/W              R/W                   R/W                   R/W                 R/W               R/W            R/W
       0                 0                 0                      0                    0                  0                  0              0
BIT7 - M12 Remote Loop-Back Mode - DS1 Channel 3
    This READ/WRITE bit-field is used to configure DS1 Channel 3 to operate in the M12 Remote Loop-back Mode. If the
    user configures DS1 Channel 3 to operate in the M12 Remote Loop-back Mode, then the Egress Direction DS1 Channel
    3 signal (as it is de-multiplexed from the DS2 signal by the M12 De-MUX block) will be internally looped back into the
    Ingress Direction (back towards the M12 MUX block).
     0 - Configures DS1 Channel 3 to NOT operate in the M12 Remote Loop-back Mode (Normal Operation)
     1 - Configures DS1 Channel 3 to operate in the M12 Remote Loop-back Mode.
Figure 16 presents an illustration of the Functional Block Diagram of the XRT86SH328, whenever it has been
configured to operate in the M12 Remote Loop-back Mode.
FIGURE 16. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER IT HAS BEEN
CONFIGURED TO OPERATE IN THE M12 REMOTE LOOP-BACK MODE
                              Transmit                                                           Ingress       Ingress
                               Transmit       Transmit
                                               Transmit                                        Direction      Direction       Receive
                               STS-1/3       STS-1                               VT/TU
                                STS-1/3
                                TOH           STS-1POH
                                                     POH                           VT/TU
                                                                                 Mapper        Transmit        Receive        DS1/E1
                                 TOH          Processor                           Mapper        DS1/E1         DS1/E1            LIU
                              Processor        Processor                           Block
                               Processor        Block
                                                 Block                              Block       Framer         Framer           Block
                                Block
                                 Block
              STS-1/                                                                              Block         Block
               STS-1/
              STS-3
                STS-3                                                                                                 DS1/E1 Channel 0
             Telecom
              Telecom                       From DS1/E1 Channels 1 - 27
                Bus
                 Bus
             Interface                                     From DS2 Channels 1 - 6
              Interface
                                            Transmit
                                                                                                                     M12 Remote
                                             Transmit           M23                          M12                       Loop-back
                                               DS3                M23
                                                DS3            MUX                          MUX
                                             Framer              MUX                                                       Path
               DS3/                           Framer           Block                        Block
                 DS3/                         Block             Block
              STS-1                            Block
                STS-1                                                 DS2 Channel 0
               LIU
                 LIU
             Interface                       Receive
                                              Receive
              Interface                                         M23                          M12
                                               DS3                M23
                                                DS3          De-MUX                        De-MUX              To DS1/E1 Channels 1 - 3
                                             Framer            De-MUX
                                              Framer            Block                       Block
                                              Block              Block
                                               Block
                                                                                         DS2 Channel 0
                                                    To DS1/E1
                                                                                                                To DS2 Channels 1 - 6
                                                  Channels 1 - 27
                                                                                                Egress        Egress
                            Receive         Receive                              DS1/E1       Direction      Direction      Transmit
                             Receive         Receive             VT/TU
                            STS-1/3       STS-1
                             STS-1/3
                             TOH           STS-1POH
                                                  POH         De-Mapper
                                                                                  Jitter       Receive       Transmit        DS1/E1
                              TOH          Processor                               Atten       DS1/E1         DS1/E1            LIU
                           Processor        Processor             Block
                            Processor        Block
                                              Block                                Block       Framer         Framer           Block
                             Block
                              Block                                                             Block          Block
                                                                                                                      DS1/E1 Channel 0
BIT6 - M12 Remote Loop-Back Mode - DS1 Channel 2
    See description of BIT7.
BIT 5 - M12 Remote Loop-Back Mode - DS1 Channel 1
                                                                         192


                                                                                                     XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    See description of BIT7.
BIT 4 - M12 Remote Loop-Back Mode - DS1 Channel 0
    See description of BIT7.
BIT 3 - M12 Loop-back Request - DS1 Channel 3
    This READ/WRITE bit-field is used to command the M12 MUX block to transmit the Loop-back Request indicator for
    DS1 Channel 3.
     0 - The M12 MUX block will NOT transmit the Loop-back Request for DS1 Channel 3 (Normal Operation).
     1 - The M12 MUX block will transmit the Loop-back Request for DS1 Channel 3.
    NOTE: Whenever the user executes this command, then the M12 MUX Block (associated with DS2 Channel # 0) will
           invert the appropriate C-bits of the three (e.g., C41, C42 or C43) within the outbound DS2 data-stream based
           upon the user's settings of Bits 1 and 0 (M12 Loop-back Codes[1:0]) within the DS3 Framer Block - M12
           Configuration Register - DS2 Channel # 0 (Address = 0x0E1A).
BIT 2 - M12 Loop-back Request - DS1 Channel 2
    See description of BIT 3.
BIT 1 - M12 Loop-back Request - DS1 Channel 1
    See description of BIT 3.
BIT 0 - M12 Loop-back Request - DS1 Channel 0
    See description of BIT 3.
             TABLE 272: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 2 (ADDRESS = 0X0E29)
     BIT7           BIT6           BIT 5            BIT 4          BIT 3          BIT 2         BIT 1          BIT 0
 M12 Remote     M12 Remote     M12 Remote       M12 Remote       M12 Loop-     M12 Loop-      M12 Loop-     M12 Loop-
  Loop Back      Loop-Back       Loop-Back       Loop-Back         Back           Back           Back          Back
 Mode - DS1     Mode - DS1      Mode - DS1      Mode - DS1       Request -     Request -       Request -    Request -
  Channel 7       Channel 6      Channel 5       Channel 4         DS1            DS1            DS1           DS1
                                                                 Channel 7     Channel 6       Channel 5    Channel 4
     R/W             R/W            R/W             R/W            R/W            R/W            R/W           R/W
       0              0              0                0              0              0             0              0
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [7:4] for Channel [3:0}.
             TABLE 273: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 3 (ADDRESS = 0X0E2A)
     BIT7           BIT6           BIT 5            BIT 4          BIT 3          BIT 2         BIT 1          BIT 0
 M12 Remote     M12 Remote     M12 Remote       M12 Remote       M12 Loop-     M12 Loop-      M12 Loop-     M12 Loop-
  Loop Back      Loop-Back       Loop-Back       Loop-Back         Back           Back           Back          Back
 Mode - DS1     Mode - DS1      Mode - DS1      Mode - DS1       Request -     Request -       Request -    Request -
  Channel 11     Channel 10      Channel 9       Channel 8         DS1            DS1            DS1           DS1
                                                                Channel 11    Channel 10      Channel 9     Channel 8
     R/W             R/W            R/W             R/W            R/W            R/W            R/W           R/W
       0              0              0                0              0              0             0              0
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [11:8] for Channel [3:0}.
                                                             193


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                          REV. 2.0.0
             TABLE 274: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 4 (ADDRESS = 0X0E2B)
     BIT7          BIT6         BIT 5           BIT 4          BIT 3        BIT 2         BIT 1       BIT 0
 M12 Remote     M12 Remote  M12 Remote      M12 Remote      M12 Loop-     M12 Loop-     M12 Loop-   M12 Loop-
  Loop Back      Loop-Back   Loop-Back       Loop-Back         Back         Back           Back        Back
 Mode - DS1     Mode - DS1   Mode - DS1     Mode - DS1       Request       Request       Request     Request
 Channel 15     Channel 14   Channel 13     Channel 12         DS1          DS1            DS1         DS1
                                                           Channel 15    Channel 14     Channel 13  Channel 12
     R/W            R/W          R/W            R/W            R/W          R/W            R/W         R/W
       0             0            0               0              0            0             0           0
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [15:12] for Channel [3:0}.
             TABLE 275: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 5 (ADDRESS = 0X0E2C)
     BIT7          BIT6         BIT 5           BIT 4          BIT 3        BIT 2         BIT 1       BIT 0
 M12 Remote     M12 Remote  M12 Remote      M12 Remote      M12 Loop-     M12 Loop-     M12 Loop-   M12 Loop-
  Loop Back      Loop-Back   Loop-Back       Loop-Back         Back         Back           Back        Back
 Mode - DS1     Mode - DS1   Mode - DS1     Mode - DS1      Request -     Request -      Request -   Request -
 Channel 19     Channel 18   Channel 17     Channel 16         DS1          DS1            DS1         DS1
                                                           Channel 19    Channel 18     Channel 17  Channel 16
     R/W            R/W          R/W            R/W            R/W          R/W            R/W         R/W
       0             0            0               0              0            0             0           0
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [19:16] for Channel [3:0}.
             TABLE 276: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 6 (ADDRESS = 0X0E2D)
     BIT7          BIT6         BIT 5           BIT 4          BIT 3        BIT 2         BIT 1       BIT 0
 M12 Remote     M12 Remote  M12 Remote      M12 Remote      M12 Loop-     M12 Loop-     M12 Loop-   M12 Loop-
  Loop Back      Loop-Back   Loop-Back       Loop-Back         Back         Back           Back        Back
 Mode - DS1     Mode - DS1   Mode - DS1     Mode - DS1      Request -     Request -      Request -   Request -
 Channel 23     Channel 22   Channel 21     Channel 20         DS1          DS1            DS1         DS1
                                                           Channel 23    Channel 22     Channel 21  Channel 20
     R/W            R/W          R/W            R/W            R/W          R/W            R/W         R/W
       0             0            0               0              0            0             0           0
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [23:20] for Channel [3:0}.
             TABLE 277: DS3 FRAMER BLOCK - M12 LOOP-BACK REGISTER - 7 (ADDRESS = 0X0E2E)
     BIT7          BIT6         BIT 5           BIT 4          BIT 3        BIT 2         BIT 1       BIT 0
 M12 Remote     M12 Remote  M12 Remote      M12 Remote      M12 Loop-     M12 Loop-     M12 Loop-   M12 Loop-
  Loop Back      Loop-Back   Loop-Back       Loop-Back         Back         Back           Back        Back
 Mode - DS1     Mode - DS1   Mode - DS1     Mode - DS1      Request -     Request -      Request -   Request -
 Channel 27     Channel 26   Channel 25     Channel 24         DS1          DS1            DS1         DS1
                                                            Channel 27   Channel 26     Channel 25  Channel 24
     R/W            R/W          R/W            R/W            R/W          R/W            R/W         R/W
       0             0            0               0              0            0             0           0
                                                       194


                                                                                                            XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT [7:0] See Table 271 above for bit descriptions, substituting Channel [27:24] for Channel [3:0}.
        TABLE 278: DS3 FRAMER BLOCK - TRANSMIT DS3 CONFIGURATION REGISTER (ADDRESS = 0X0E30)
     BIT7             BIT6              BIT 5             BIT 4         BIT 3           BIT 2          BIT 1            BIT 0
  Force DS3       Force X-Bits         Transmit      Transmit AIS     Transmit         Transmit       Transmit        Transmit
      Tx               to 1            DS3 Idle         Indicator       LOS           FERF/RDI       FERF/RDI        FERF/RDI
  FERF/RDI                              Signal                        Indicator       upon LOS       upon LOF        upon AIS
     R/W               R/W               R/W              R/W           R/W              R/W            R/W              R/W
       0                 0                0                 0             0               1              1                1
BIT7 - Force Transmit DS3 FERF/RDI Indicator
    This READ/WRITE bit-field is used to force the Transmit DS3 Framer block to transmit the FERF/RDI indicator to the
    remote terminal equipment by setting both of the X-bits (within each outbound DS3 frame) to 0.
     0 - Does not force the Transmit DS3 Framer block to transmit the DS3 FERF/RDI indicator. In this case, the Transmit
    DS3 Framer block will set the X bits (within each outbound DS3 frame) to the appropriate value, depending upon receive
    conditions (as detected by the Receive DS3 Framer block).
     1 - Forces the Transmit DS3 Framer block to transmit the DS3 FERF/RDI indicator. In this case, the Transmit DS3
    Framer block will force the X bits (within each outbound DS3 frame) to 0.
    NOTE: For normal operation (e.g., where the Transmit DS3 Framer Block will automatically transmit the FERF/RDI
             indicator whenever the Receive DS3 Framer block declares either the LOS, AIS or LOF/OOF defect conditions)
             the user MUST set this bit-field to 0.
BIT6 - Force X-Bits to 1
    This READ/WRITE bit-field is used to force the Transmit DS3 Framer block to set the X-bits (within each outbound DS3
    frame) to 1.
     0 - Configures the Transmit DS3 Framer block to automatically set the X bits to the appropriate value, depending upon
    the receive conditions (as detected by the Receive DS3 Framer block).
     1 - Configures the Transmit DS3 Framer block to force all of the X bits (within the outbound DS3 data-stream) to 1.
    In this configuration setting, the Transmit DS3 Framer block will set all X bits to 1 independent of whether the Receive
    DS3 Framer block is currently declaring any defect conditions.
    NOTE: For normal operation (e.g., where the Transmit DS3 Framer block will automatically transmit the FERF/RDI
             indicator whenever the Receive DS3 Framer block declares the LOS, AIS or LOF/OOF defect condition) the
             user MUST set this bit-field to 0.
BIT 5 - Transmit DS3 Idle Signal
    This READ/WRITE bit-field is used to force the Transmit DS3 Framer block to transmit the DS3 Idle Signal pattern to
    the remote terminal equipment, as described below.
     0 - Configures the Transmit DS3 Framer block to transmit normal traffic to the remote terminal equipment.
     1 - Configures the Transmit DS3 Framer block to transmit the DS3 Idle Pattern to the remote terminal equipment.
    NOTES:
               1.   This bit-field is ignored if Bits 3 (Transmit LOS Indicator) or 4 (Transmit AIS Indicator) are set to 1.
               2. The exact pattern that the Transmit DS3 Framer block will transmit (whenever this bit-field is set to 1)
               depends upon the contents within Bits 3 through 0 (Transmit DS3 Idle Pattern[3:0]) within the DS3 Framer
               Block - Transmit DS3 Pattern Register (Address = 0x0E4C).
BIT 4 - Transmit AIS Indicator
    This READ/WRITE bit-field is used to force the Transmit DS3 Framer block to transmit the DS3 AIS indicator to the
    remote terminal equipment as described below.
     0 - Configures the Transmit DS3 Framer block to transmit normal traffic (based upon T1/E1 data that has been
    multiplexed into a DS3 data-stream) to the remote terminal equipment.
     1 - Configures the Transmit DS3 Framer block to transmit the DS3 AIS indicator to the remote terminal equipment.
    NOTES:
                                                                  195


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
              1.   This bit-field is ignored if BIT 3 (Transmit LOS Indicator) is set to 1.
              2. Whenever this bit-field is set to 1, the Transmit DS3 Framer block will either transmit a Framed repeating
              1, 0, 1, 0, …. Pattern, or an Unframed All Ones pattern, depending upon the state of BIT7 (Transmit AIS -
              Unframed All Ones), within the Transmit DS3 Pattern Register (Address = 0x0E4C).
BIT 3 - Transmit LOS Indicator
    This READ/WRITE bit-field is used to force the Transmit DS3 Framer block to transmit the LOS pattern to the remote
    terminal equipment, as described below.
     0 - Configures the Transmit DS3 Framer block to transmit normal traffic to the remote terminal equipment.
     1 - Configures the Transmit DS3 Framer block to transmit the LOS pattern (e.g., either an All Zeros or All Ones
    pattern, depending upon user configuration).
    NOTE: Whenever this bit-field is set to 1, it will transmit either an All Zero pattern or an Unframed All Ones pattern,
            depending upon the state of BIT 4 (Transmit LOS Pattern - All Ones Pattern) within the Transmit DS3 Pattern
            Register (Address = 0x0E4C).
BIT 2 - Transmit FERF/RDI upon LOS
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to automatically transmit the FERF/RDI
    indicator, anytime (and for the duration that) the Receive DS3 Framer block declares the LOS defect condition.
     0 - Configures the Transmit DS3 Framer block to NOT automatically transmit the FERF/RDI indicator, whenever (and
    for the duration that) the Receive DS3 Framer block declares the LOS defect condition.
     1 - Configures the Transmit DS3 Framer block to automatically transmit the FERF/RDI indicator, whenever (and for
    the duration that) the Receive DS3 Framer block declares the LOS defect condition.
BIT 1 - Transmit FERF/RDI upon LOF/OOF:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to automatically transmit the FERF/RDI
    indicator, anytime (and for the duration that) the Receive DS3 Framer block declares the OOF defect condition, as
    described below.
     0 - Configures the Transmit DS3 Framer block to NOT automatically transmit the FERF/RDI indicator, whenever (and
    for the duration that) the Receive DS3 Framer block declares the OOF defect condition.
     1 - Configures the Transmit DS3 Framer block to automatically transmit the FERF/RDI indicator whenever (and for
    the duration that) the Receive DS3 Framer block declares the OOF defect condition.
BIT 0 - Transmit FERF/RDI upon AIS
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to automatically transmit the FERF/RDI
    indicator, anytime (and for the duration that) the Receive DS3 Framer block declares the AIS defect condition, as
    described below.
     0 - Configures the Transmit DS3 Framer block to NOT automatically transmit the FERF/RDI indicator, whenever (and
    for the duration that) the Receive DS3 Framer block declares the AIS defect condition.
     1 - Configures the Transmit DS3 Framer block to automatically transmit the FERF/RDI indicator, whenever (and for
    the duration that) the Receive DS3 Framer block declares the AIS defect condition.
  TABLE 279: DS3 FRAMER BLOCK - TRANSMIT DS3 FEAC CONFIGURATION & STATUS REGISTER (ADDRESS =
                                                              0X0E31)
     BIT 7           BIT 6              BIT 5           BIT 4         BIT 3             BIT 2       BIT 1        BIT 0
                    Unused                            Transmit      Transmit         Transmit     Transmit     Transmit
                                                       FEAC           FEAC             FEAC        FEAC          FEAC
                                                      Interrupt     Interrupt       Controller   Message         Busy
                                                       Enable         Status          Enable
     R/O              R/O               R/O             R/W           RUR               R/W         R/W           R/O
       0               0                  0               0             0                 0           0            0
BIT [7:5] - Unused:
    Please set these bits to [0, 0, 0] for normal operation.
BIT 4 - Transmit FEAC Interrupt Enable:
                                                                196


                                                                                                          XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This READ/WRITE bit-field is used to either enable or disable the Transmit FEAC Interrupt. If the user enables this
    interrupt, then the Transmit FEAC Controller block (within the Transmit DS3 Framer block) will generate an interrupt,
    once it has completed its 10th transmission of a given FEAC Message to the remote terminal equipment.
     0 - Disables the Transmit FEAC Interrupt
     1 - Enables the Transmit FEAC Interrupt.
    NOTE: This bit-field is only active if the Transmit and Receive DS3 Framer blocks have been configured to support the
             C-bit Parity Framing format.
BIT 3 - Transmit FEAC Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Transmit FEAC Controller block has generated the
    Transmit FEAC interrupt since the last read of this register.
     0 - Indicates that the Transmit FEAC Interrupt has NOT occurred since the last read of this register.
     1 - Indicates that the Transmit FEAC Interrupt has occurred since the last read of this register.
BIT 2 - Transmit FEAC Controller Enable:
This READ/WRITE bit-field is used to either enable or disable the Transmit FEAC Controller, within the
Transmit DS3 Framer block.
     0 - Disables the Transmit FEAC Controller block.
     1 - Enables the Transmit FEAC Controller block
BIT 1 - Transmit FEAC Message:
     A 0 to 1 transition, within this bit-field configures the Transmit FEAC Controller block to begin its transmission of the
    FEAC Message (which consists of the FEAC Code, as specified within the Transmit DS3 FEAC Register.
    NOTE: The user is advised to perform a write operation that resets this bit-field back to 0, following execution of the
             command to transmit a FEAC Message.
BIT 0 - Transmit FEAC Busy:
    This READ-ONLY bit-field indicates whether or not the Transmit FEAC Controller block is currently busy transmitting a
    FEAC Message to the remote terminal.
     0 - Indicates that the Transmit FEAC Controller is NOT currently busy transmitting a given FEAC Message.
     1 - Indicates that the Transmit FEAC Controller is currently busy transmitting a given FEAC Message to the remote
    terminal equipment.
              TABLE 280: DS3 FRAMER BLOCK - TRANSMIT DS3 FEAC REGISTER (ADDRESS = 0X0E32)
     BIT 7            BIT 6           BIT 5             BIT 4         BIT 3           BIT 2          BIT 1           BIT 0
   Unused                                               TxFEAC_Code[5:0]                                            Unused
     R/O              R/W              R/W              R/W           R/W             R/W             R/W             R/O
       0                1               1                 1              1              1              1                0
BIT 7 - Unused:
BIT [6:1] - TxFEAC_Code[5:0]:
    These six (6) READ/WRITE bit-fields permit the user to specify the FEAC Code word that the Transmit FEAC Controller
    block (within the Transmit DS3 Framer block) should transmit to the remote terminal equipment.
    Once the user enables the Transmit FEAC Controller and commands it to begin its transmission, the Transmit FEAC
    Controller will then (1) encapsulate this six-bit code word into a 16-bit structure, and (2) proceed to transmit this 16-bit
    structure 10 times, repeatedly, and then halt.
    NOTE: These bit-fields are ignored if the user does not enable and use the Transmit FEAC Controller.
BIT 0 - Unused:
                                                                197


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
   TABLE 281: DS3 FRAMER BLOCK - TRANSMIT DS3 LAPD CONFIGURATION REGISTER (ADDRESS = 0X0E33)
     BIT 7            BIT 6            BIT 5         BIT 4          BIT 3           BIT 2          BIT 1          BIT 0
   Transmit                           Unused                        Auto         Reserved        Transmit       Transmit
  LAPD Any                                                       Retransmit                    LAPD Mes-      LAPD Con-
                                                                                               sage Length   troller Enable
     R/W               R/O              R/O          R/O            R/W             R/O            R/W             R/W
       0                 0               0             0              1               0              0               0
BIT 7 - Transmit LAPD Any:
    This READ/WRITE bit-field is used to configure the Transmit LAPD Controller block to transmit any kind of LAPD
    Message (or HDLC Message) with a size of 82 bytes or less. If the user implements this option, then the Transmit LAPD
    Controller block will be capable of transmitting any kind of HDLC frame (with any value of header bytes). The only
    restriction is that the size of the HDLC frame must not exceed 82 bytes.
     0 - Does not invoke this Any Kind of HDLC Message feature. In this case, the Transmit LAPD Controller block will
    only transmit HDLC Messages that contains the Bellcore GR-499-CORE values for SAPI and TEI.
     1 - Invokes this Any Kind of HDLC Message feature. In this case, the Transmit LAPD Controller block will be able to
    transmit HDLC Messages that contains any header byte values.
    NOTE: If the Any Kind of HDLC Message feature is invoked, then the size of the information payload (in terms of bytes)
             within the Transmit LAPD byte Count Register Address = 0x0E83) must be indicated.
BIT [6:4] - Unused:
BIT 3 - Auto Retransmit
    This READ/WRITE bit-field is used to configure the Transmit LAPD Controller block to transmit PMDL messages,
    repeatedly at one-second intervals. Once the user enables this feature, and then commands the Transmit LAPD
    Controller block to transmit a given PMDL Message, then the Transmit LAPD Controller block will then proceed to
    transmit this PMDL Message (based upon the contents within the Transmit LAPD Message Buffer) repeatedly at one
    second intervals.
     0 - Disables the Auto-Retransmit Feature:
    In this case, the Transmit LAPD Controller block will only transmit a given PMDL Message once. Afterwards the
    Transmit LAPD Controller block will proceed to transmit a continuous stream of Flag Sequence octets (0x7E) via the
    DL bits, within each output DS3 frame. No more PMDL Messages will be transmitted until the user commands another
    transmission.
     1 - Enables the Auto-Retransmit Features
    In this case, the Transmit LAPD Controller block will transmit PMDL messages (based upon the contents within the
    Transmit LAPD Message buffer) repeatedly at one-second interval.s
    NOTE: This bit-field is ignored if the Transmit LAPD Controller block is disabled.
BIT 2 - Reserved:
BIT 1 - Transmit LAPD Message Length:
    This READ/WRITE bit-field is used to specify the length of the payload data within the outbound LAPD/PMDL Message,
    as indicated below.
     0 - Configures the Transmit LAPD Controller block to transmit a LAPD/PMDL Message that has a payload data size
    of 76 bytes.
     1 - Configures the Transmit LAPD Controller block to transmit a LAPD/PMDL Message that has a payload data size
    of 82 bytes.
BIT 0 - Transmit LAPD Controller Enable:
    This READ/WRITE bit-field is used to enable the Transmit LAPD Controller block within the chip. Once the user enables
    the Transmit LAPD Controller block, it will immediately begin transmitting the Flag Sequence octet (0x7E) to the remote
    terminal via the DL within the outbound DS3 data-stream. The Transmit LAPD Controller block will continue to do this
    until the user commands the Transmit LAPD Controller block to transmit a PMDL Message.
     0 - Disables the Transmit LAPD Controller block.
                                                             198


                                                                                                           XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      1 - Enables the Transmit LAPD Controller block.
 TABLE 282: DS3 FRAMER BLOCK - TRANSMIT DS3 LAPD STATUS/INTERRUPT REGISTER (ADDRESS = 0X0E34)
      BIT 7            BIT 6             BIT 5          BIT 4          BIT 3          BIT 2           BIT 1        BIT 0
                               Unused                                Transmit       Transmit        Transmit     Transmit
                                                                   LAPD Mes-      LAPD Con-       LAPD Inter-   LAPD Inter-
                                                                    sage Start    troller Busy    rupt Enable   rupt Status
      R/O               R/O              R/O             R/O           R/W             R/O            R/W          RUR
        0                 0                0              0              0              0               0            0
BIT [7:4] - Unused:
BIT 3 - Transmit LAPD Message Start:
      A 0 to 1 transition within this bit-field commands the Transmit LAPD Controller block to begin the following activities.
           •     Reading out the contents of the Transmit LAPD Message buffer.
           •     Zero-stuffing of this data
           •     FCS Calculation and Insertion
           •     Fragmentation of this composite PMDL Message, and insertion into the DL bit-fields, within each outbound
                 DS3 frame.
BIT 2 - Transmit LAPD Controller Busy:
     This READ-ONLY bit-field indicates whether or not the Transmit LAPD Controller block is currently busy transmitting a
     PMDL Message to the remote terminal equipment. The user can continuously poll this bit-field in order to check for
     completion of transmission of the LAPD/PMDL Message.
      0 - Indicates that the Transmit LAPD Controller block is NOT currently busy transmitting a PMDL message.
      1 - Indicates that the Transmit LAPD Controller block is currently busy transmitting a PMDL message.
BIT 1 - Transmit LAPD Message Interrupt Enable:
     This READ/WRITE bit-field is used to either enable or disable the Transmit LAPD Message Interrupt. If the user enables
     this interrupt, then the Transmit DS3 Framer block will generate an interrupt anytime the Transmit LAPD Controller block
     has completed its transmission of a given LAPD/PMDL Message to the remote terminal.
      0 - Disables the Transmit LAPD Message Interrupt.
      1 - Enables the Transmit LAPD Message Interrupt.
BIT 0 - Transmit LAPD Message Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the Transmit LAPD Message Interrupt has occurred since
     the last read of this register.
      0 - Indicates that the Transmit LAPD Message Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the Transmit LAPD Message Interrupt has occurred since the last read of this register.
           TABLE 283: DS3 FRAMER BLOCK - TRANSMIT DS3 M-BIT MASK REGISTER (ADDRESS = 0X0E35)
      BIT7              BIT6             BIT 5          BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                  TxFEBEDat[2:0]                    FEBE Regis-    Transmit P-                TxM_Bit_Mask[2:0]
                                                     ter Enable      Bit Error
      R/W               R/W              R/W             R/W           R/W             R/W            R/W          R/W
        0                 0                0              0              0              0               0            0
Bits 7 - 5 - TxFEBEDat[2:0]
     These READ/WRITE bit-fields, along with BIT 4 (FEBE Register Enable) are used to configure the Transmit DS3 Framer
     block to transmit the user-specified FEBE values (to the remote terminal equipment) based upon the contents of these
     bit-fields.
                                                                199


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    If the user sets the FEBE Register Enable bit-field to '1, then the Transmit DS3 Framer block will wsrite the contents of
    these bit-fields into the FEBE bit-fields within each outbound DS3 frame.
    If the user sets the FEBE Register Enable bit-field to 0, then these register bits will be ignored.
BIT 4 - FEBE Register Enable
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit user-specified FEBE values
    (to the remote terminal equipment) per register setting via the TxFEBEDat[2:0] bit-fields. This option is used to exercise
    software control over the outbound FEBE values, within the outbound DS3 data-stream.
     0 - Configures the Transmit DS3 Framer block to set the FEBE bit-fields (within each outbound DS3 frame) to the
    appropriate values based upon receive conditions, as determined by the Receive DS3 Framer block.
     1 - Configures the Transmit DS3 Framer block to set the write the contents of the TxFEBEDat[2:0] bit-fields into the
    FEBE bit-positions within each outbound DS3 frame.
BIT 3 - Transmit P-Bit Error
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with erred P-
    bits as indicated below.
     0 - Configures the Transmit DS3 Framer block to generate and transmit DS3 frames (with correct P-bit values) to the
    remote terminal equipment.
     1 - Configures the Transmit DS3 Framer block to generate and transmit DS3 frames (with erred P-bit values) to the
    remote terminal equipment.
BIT[2:0] - TxM_Bit_Mask[2:0]
    These READ/WRITE bit-fields are used to configure the Transmit DS3 Framer block to transmit DS3 frames with erred
    M-bits.
    These three (3) bit-fields corresponding to each of the three M-bits, within each outbound DS3 frame. The Transmit
    DS3 Framer block will perform an XOR operation with the contents of these bit-fields and the values of the three M-bits.
    The results of this calculation will be written back into the M-bit position within each outbound DS3 frame.
    NOTE: The user should set these bit-fields to 0, 0, 0 for normal (e.g., un-erred) operation.
       TABLE 284: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTERS # 1 (ADDRESS = 0X0E36)
     BIT7             BIT6           BIT 5            BIT 4           BIT 3            BIT 2         BIT 1          BIT 0
                             Unused                                    F-Bit           F-Bit         F-Bit           F-Bit
                                                                    Mask[27]         Mask[26]      Mask[25]        Mask[24]
      R/O              R/O            R/O             R/O              R/W             R/W           R/W             R/W
        0               0               0               0                0               0              0              0
BIT[7:4] - Unused
BIT 3 - F-Bit Mask[27]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 28th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 28th F-bit. The results of this
    calculation will be written back into the 28th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 2 - F-Bit Mask[26]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 27th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 27th F-bit. The results of this
    calculation will be written back into the 27th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 1 - F-Bit Mask[25]:
                                                               200


                                                                                                         XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 26th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 26th F-bit. The results of this
    calculation will be written back into the 26th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 0 - F-Bit Mask[24]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 25th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 25th F-bit. The results of this
    calculation will be written back into the 25th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
        TABLE 285: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 2 (ADDRESS = 0X0E37)
     BIT7             BIT6           BIT 5           BIT 4             BIT 3         BIT 2          BIT 1           BIT 0
     F-Bit            F-Bit           F-Bit          F-Bit             F-Bit         F-Bit           F-Bit          F-Bit
   Mask[23]        Mask[22]        Mask[21]        Mask[20]         Mask[19]       Mask[18]        Mask[17]        Mask[16]
     R/W              R/W             R/W             R/W              R/W           R/W             R/W             R/W
       0               0                0               0                0             0               0               0
BIT7 - F-Bit Mask[23]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 24th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 24th F-bit. The results of this
    calculation will be written back into the 24th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT6 - F-Bit Mask[22]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 23rd F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 23rd F-bit. The results of this
    calculation will be written back into the 23rd F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 5 - F-Bit Mask[21]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 22nd F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 22nd F-bit. The results of this
    calculation will be written back into the 22nd F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 4 - F-Bit Mask[20]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 21st F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 21st F-bit. The results of this
    calculation will be written back into the 21st F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 3 - F-Bit Mask[19]:
                                                               201


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 20th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 20th F-bit. The results of this
    calculation will be written back into the 20th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 2 - F-Bit Mask[18]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 19th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 19th F-bit. The results of this
    calculation will be written back into the 19th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 1 - F-Bit Mask[17]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 18th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 18th F-bit. The results of this
    calculation will be written back into the 18th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
BIT 0 - F-Bit Mask[16]:
    This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit DS3 frames with a
    single/particular erred F-bit.
    This particular F-bit corresponds with the 17th F-bit within a given outbound DS3 frame. The Transmit DS3 Framer
    block will perform an XOR operation with the contents of this bit-field and the value of the 17th F-bit. The results of this
    calculation will be written back into the 17th F-bit position, within each outbound DS3 frame.
    NOTE: The user should set this bit-field to 0 for normal (e.g., un-erred) operation.
        TABLE 286: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 3 (ADDRESS = 0X0E38)
     BIT7             BIT6           BIT 5           BIT 4            BIT 3          BIT 2          BIT 1           BIT 0
     F-Bit            F-Bit           F-Bit          F-Bit             F-Bit         F-Bit       F-Bit Mask[9] F-Bit Mask[8]
   Mask[15]        Mask[14]        Mask[13]        Mask[12]         Mask[11]       Mask[10]
     R/W              R/W             R/W             R/W              R/W           R/W             R/W             R/W
       0               0                0               0                0             0               0               0
BIT [7:0] - See Table 285 above, for bit descriptions, substituting Mask [15:8] for mask[23:16]
        TABLE 287: DS3 FRAMER BLOCK - TRANSMIT DS3 F-BIT MASK REGISTER # 4 (ADDRESS = 0X0E39)
     BIT7             BIT6           BIT 5           BIT 4            BIT 3          BIT 2          BIT 1           BIT 0
 F-Bit Mask[7] F-Bit Mask[6] F-Bit Mask[5] F-Bit Mask[4] F-Bit Mask[3] F-Bit Mask[2] F-Bit Mask[1] F-Bit Mask[0]
     R/W              R/W             R/W             R/W              R/W           R/W             R/W             R/W
       0               0                0               0                0             0               0               0
BIT [7:0] - See Table 285 above, for bit descriptions, substituting Mask [7:0] for mask[23:16]
                                                               202


                                                                                                          XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 288: DS3 FRAMER BLOCK - M12 DS2 # 1 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3A)
     BIT 7            BIT 6            BIT 5           BIT 4          BIT 3            BIT 2         BIT 1         BIT 0
    Unused          One and       DS2 M-Sync       DS2 F-Sync       DS2 LOF       DS2 LOF - M      DS2 LOF         DS2
                      Only                                           - F Bits/         Bits         - M Bits     Reframe
                                                                      G.747                         Disable
                                                                     FAS Bit
                                                                   Error Count
      R/O              R/W             R/W             R/W             R/W             R/W            R/W          R/W
        0                0               0               0              0                0             0             0
BIT 7 - Unused:
BIT 6 - One and Only:
    This READ/WRITE bit-field is used to select the F-bit acquisition criteria that the M12 DeMUX block will use, whenever
    it is operating in the F-Bit Search state, as described below.
     0 - Configures the M12 De-MUX block to move onto the M-Bit Search state, whenever it has properly located 8 (or
    16) consecutive F-bits (as configured in Bit 4 of this register).
     1 - Configures the M12 De-MUX block to move onto the M-Bit Search state, whenever it has (1) properly located 8
    (or 16) consecutive F-bits and (2) when it has located and identified only one viable F-Bit Alignment candidate.
    NOTE: If the user sets this bit-field to 1, then the M12 De-MUX block will NOT transition into the M-Bit Search state as
             long as at least two viable candidate sets of bits appears to function as the F-bits.
BIT 5 - DS2 M-Sync:
    This READ/WRITE bit-field is used to select the M-Bit Acquisition criteria whenever the M12 De-MUX block is operating
    in the M-Bit Search state.
     0 - Configures the M12 De-MUX block to declare the In-Frame state, when it has properly located 4 consecutive M-
    bits (while detecting no F-bit errors).
     1 - Configures the M12 De-MUX block to declare the In-Frame state, when it has properly located 8 consecutive M-
    bits (while detecting no F-bit errors).
BIT 4 - DS2 F-Sync:
    This READ/WRITE bit-field is used to select the F-Bit Acquisition criteria whenever the M12 De-MX block is operating
    in the F-Bit Search state.
     0 - Configures the M12 De-MUX block to move onto the M-Bit Search state, when it has properly located 8
    consecutive F-bits.
     1 - Configures the M12 De-MUX block to move onto the M-Bit Search state, when it has properly located 16
    consecutive F-bits.
BIT 3 - DS2 LOF - F Bits/G.747 FAS Bit Error Count
    The exact function of this bit-field depends upon whether the M12 MUX/De-MUX block has been configured to operate
    in the DS2 or in the G.747 Mode, as described below.
    If M12 MUX/M12 De-MUX # 1 is configured to operate in the DS2 Mode:
    This READ/WRITE bit-field is used to select the F-Bit LOF (Loss of Frame) Defect criteria for the M12 De-MUX
    associated with DS2 Channel 1.
     0 - Configures the M12 De-MUX block to declare the DS2 LOF defect condition whenever the M12 De-MUX block
    detects two (2) F-bit errors within the four (4) most recently received F-bits within the incoming DS2 data-stream.
     1 - Configures the M12 De-MUX block to declare the DS2 LOF defect condition whenever the M12 De-MUX defect
    two (2) F-bit errors within the five (5) most recently received F-bits within the incoming DS2 data-stream.
    If M12 MUX/M12 De-MUX # 1 is configured to operate in the G.747 Mode:
    This READ/WRITE bit-field is used to specify how the M12 De-MUX increments G.747 Framing Alignment Signal (FAS)
    errors.
    The user can configure the M12 De-MUX to increment the PMON DS2 # 1 Framing Bit Error Count Register on either
                                                               203


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
     a per-bit or per-frame basis, as described below.
     Per-Bit Basis:
     The M12 De-MUX will increment the DS3 Framer Block - PMON DS2 # 1 Framing Bit Error Count Register once for
     each bit-error that it detects within the FAS bit-fields of the incoming G.747 data-stream.
     Per-Frame Basis:
     The M12 De-MUX will increment the DS3 Framer Block - PMON DS2 # 1 Framing Bit Error Count Register once for
     each time it detects at least one bit-error within the FAS bit-fields of a given incoming G.747 frame.
      0 - Configures the M12 De-MUX to increment the DS3 Framer Block - PMON DS2 # 1 Framing Bit Error Count
     Register on a per-bit basis.
      1 - Configures the M12 De-MUX block to increment the DS3 Framer Block - PMON DS2 # 1 Framing Bit Error Count
     Register on a per-frame basis.
BIT 2 - DS2 LOF - M Bits
     This READ/WRITE bit-field is used to select the M-Bit LOF (Loss of Frame) Defect criteria for the M12 De-MUX block
     associated with DS2 Channel 1.
      0 - Configures the M12 De-MUX block to declare the DS2 LOF defect condition whenever the M12 De-MUX block
     detects M-bit errors within three (3) out of the four (4) most recently received DS2 M-frames.
      1 - Configures the M12 De-MUX block to declares the DS2 LOF defect condition whenever the M12 De-MUX block
     detects M-bit errors within two (2) out of the four (4) most recently received DS2 M-frames.
BIT 1 - DS2 LOF - M Bits Disable
     This READ/WRITE bit-field is used to configure the M12 De-MUX block to not use M-bit errors as a reason/criteria for
     declaring the DS2 LOF defect condition.
      0 - Configures the M12 De-MUX block to declare the DS2 LOF defect condition, based upon the number of M-bit
     errors (as selected in Bit 2 within this register).
      1 - Configures the M12 De-MUX block to NOT declare the DS2 LOF defect condition, based upon the occurrences
     of any M-bit errors.
BIT 0 - DS2 Reframe:
      A 0 to 1 transition, within this bit-field commands the M12 De-MUX block to exit the Frame Maintenance mode, and
     go back and enter the Frame Acquisition Mode.
     NOTE: The user should go back and set this bit-field to 0 following execution of the Reframe Command.
   TABLE 289: DS3 FRAMER BLOCK - M12 DS2 # 2 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3B)
      BIT 7           BIT 6            BIT 5             BIT 4           BIT 3          BIT 2        BIT 1     BIT 0
    Unused          One and        DS2 M-Sync       DS2 F-Sync        DS2 LOF        DS2 LOF       DS2 LOF      DS2
                       Only                                            - F Bits/       - M Bits     - M Bits  Reframe
                                                                     G.747 FAS                      Disable
                                                                       Bit Error
                                                                         Count
      R/O              R/W              R/W              R/W             R/W             R/W          R/W       R/W
        0                0               0                 0               0              0             0        0
Bit [7:0] - See bit description for Table 288, above.
                                                                204


                                                                                          XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 290: DS3 FRAMER BLOCK - M12 DS2 # 3 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3C)
      BIT 7          BIT 6           BIT 5        BIT 4         BIT 3      BIT 2     BIT 1      BIT 0
    Unused          One and      DS2 M-Sync    DS2 F-Sync    DS2 LOF     DS2 LOF   DS2 LOF      DS2
                      Only                                     - F Bits/  - M Bits  - M Bits   Reframe
                                                             G.747 FAS              Disable
                                                              Bit Error
                                                                Count
      R/O             R/W            R/W          R/W            R/W        R/W       R/W       R/W
        0              0               0            0             0          0         0          0
Bit [7:0] - See bit description for Table 288, above.
   TABLE 291: DS3 FRAMER BLOCK - M12 DS2 # 4 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3D)
      BIT 7          BIT 6           BIT 5        BIT 4         BIT 3      BIT 2     BIT 1      BIT 0
    Unused          One and      DS2 M-Sync    DS2 F-Sync    DS2 LOF     DS2 LOF   DS2 LOF      DS2
                      Only                                     - F Bits/  - M Bits  - M Bits   Reframe
                                                             G.747 FAS              Disable
                                                              Bit Error
                                                                Count
      R/O             R/W            R/W          R/W            R/W        R/W       R/W       R/W
        0              0               0            0             0          0         0          0
Bit [7:0] - See bit description for Table 288, above.
   TABLE 292: DS3 FRAMER BLOCK - M12 DS2 # 5 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3E)
      BIT 7          BIT 6           BIT 5        BIT 4         BIT 3      BIT 2     BIT 1      BIT 0
    Unused          One and      DS2 M-Sync    DS2 F-Sync    DS2 LOF     DS2 LOF   DS2 LOF      DS2
                      Only                                     - F Bits/  - M Bits  - M Bits   Reframe
                                                             G.747 FAS              Disable
                                                              Bit Error
                                                                Count
      R/O             R/W            R/W          R/W            R/W        R/W       R/W       R/W
        0              0               0            0             0          0         0          0
Bit [7:0] - See bit description for Table 288, above.
                                                         205


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                    REV. 2.0.0
    TABLE 293: DS3 FRAMER BLOCK - M12 DS2 # 6 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E3F)
      BIT 7           BIT 6            BIT 5          BIT 4            BIT 3     BIT 2           BIT 1           BIT 0
    Unused           One and      DS2 M-Sync      DS2 F-Sync       DS2 LOF     DS2 LOF         DS2 LOF           DS2
                      Only                                           - F Bits/  - M Bits        - M Bits       Reframe
                                                                   G.747 FAS                    Disable
                                                                    Bit Error
                                                                      Count
       R/O            R/W               R/W           R/W              R/W        R/W             R/W            R/W
        0               0                0               0               0         0               0               0
Bit [7:0] - See bit description for Table 288, above.
    TABLE 294: DS3 FRAMER BLOCK - M12 DS2 # 7 FRAMER CONFIGURATION REGISTER (ADDRESS = 0X0E40)
      BIT 7           BIT 6            BIT 5          BIT 4            BIT 3     BIT 2           BIT 1           BIT 0
    Unused           One and      DS2 M-Sync      DS2 F-Sync       DS2 LOF     DS2 LOF         DS2 LOF           DS2
                      Only                                           - F Bits/  - M Bits        - M Bits       Reframe
                                                                   G.747 FAS                    Disable
                                                                    Bit Error
                                                                      Count
       R/O            R/W               R/W           R/W              R/W        R/W             R/W            R/W
        0               0                0               0               0         0               0               0
Bit [7:0] - See bit description for Table 288, above.
             TABLE 295: DS3 FRAMER BLOCK - TRANSMIT DS3 PATTERN REGISTER (ADDRESS = 0X0E4C)
      BIT7            BIT6             BIT 5          BIT 4           BIT 3      BIT 2           BIT 1           BIT 0
 Transmit AIS     Transmit AIS    Transmit AIS      Transmit                     DS3 Idle Pattern[3:0]
  - Unframed       - C bits not      - Ignore    LOS Pattern
    All Ones       forced to 0      Overhead       - All Ones
                                    Data from        Pattern
                                    TxDS3OH
                                        Port
      R/W             R/W               R/W           R/W              R/W        R/W             R/W            R/W
        0               0                0               0               1         1               0               0
BIT7 - Transmit AIS - Unframed All Ones:
     This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit either of the following
     patterns, anytime it is configured to transmit the AIS indicator.
           •   A Framed, repeating 1, 0, 1, 0… pattern (per Bellcore GR-499-CORE) or
           •   An Unframed All Ones Pattern.
      0 - Configures the Transmit DS3 Framer block to transmit the Framed, Repeating 1, 0, 1, 0,… Pattern, whenever it is
     configured to transmit the AIS Indicator.
      1 - Configures the Transmit DS3 Framer block to transmit an Unframed, All Ones Pattern, whenever it is configured
     to transmit the AIS indicator.
BIT6 - Transmit AIS - C Bits NOT forced to 0
                                                              206


                                                                                                          XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     This READ/WRITE bit-field (along with the Transmit AIS - Unframed All Ones bit-field) is used to define the type of AIS
     data-stream that the Transmit DS3 Framer block will transmit, as described below.
      0 - Configures the Transmit DS3 Framer block to force all of the C bits to 0 when it is configured to transmit a Framed
     AIS signal.
      1 - Configures the Transmit DS3 Framer block to NOT force all of the C bits to 0 when it is configured to transmit a
     Framed AIS signal. In this case, the C bits can be used to transport FEAC or PMDL Messages.
     NOTE: This bit-field is ignored if the Transmit DS3 Framer block has been configured to transmit an Unframed - All
               Ones type of AIS signal.
BIT 5 - Transmit AIS - Ignore Overhead Data from TxDS3OH Port
     This READ/WRITE bit-field permits the Transmit DS3 Framer block to either accept or ignore externally supplied DS3
     Overhead data, whenever it (the Transmit DS3 Framer block) is transmitting the AIS indicator.
     If this feature is used, then (for the duration that the Transmit DS3 Framer block is commanded to transmit the DS3 AIS
     indicator) the Transmit DS3 Framer block will NOT allow the users to externally insert their DS3 OH bits within the
     outbound DS3 data-stream, even if the TxOH Source bit-field is set to 1 and if the corresponding F-Bit Mask bit-field is
     set to 0.
     Conversely, if the user does NOT use this feature, then the Transmit DS3 Framer block will allow the users to externally
     insert theirr own DS3 OH bits (within the outbound DS3 data-stream) even when the Transmit DS3 Framer block is
     transmitting the DS3 AIS indicator to the remote terminal equipment.
      0 - Does NOT invoke the Ignore TxDS3OH Port During AIS Feature
      1 - Invokes the Ignore the TxDS3OH Port During AIS feature.
BIT 4 - Transmit LOS Pattern Select:
     This READ/WRITE bit-field is used to configure the Transmit DS3 Framer block to transmit either an All Zeros or an All
     Ones pattern, anytime it is configured to transmit the LOS Pattern to the remote terminal equipment, as described below.
      0 - Configures the Transmit DS3 Framer block to transmit an All Zeros pattern whenever it is configured to transmit
     the LOS pattern.
      1 - Configures the Transmit DS3 Framer block to transmit an All Ones pattern whenever it is configured to transmit
     the LOS pattern.
BIT[3:0] - Transmit DS3 Idle Pattern[3:0]
     These READ/WRITE bit-fields are used to specify the type of framed, repetitive four-bit pattern that the Transmit DES3
     Framer block should generate and transmit, whenever it is configured to transmit the DS3 Idle Pattern.
     NOTE: Setting these bit-fields to [1, 1, 0, 0] configures the Transmit DS3 Framer block to transmit the standard
               Framed, repeating 1, 1, 0, 0, … pattern (per Bellcore GR-499-CORE) requirements.
   TABLE 296: DS3 FRAMER BLOCK - AUTO T1/E1 AIS UPON DS3 DEFECT CONDITION REGISTER (ADDRESS =
                                                               0X0E4D)
      BIT7              BIT6             BIT 5          BIT 4           BIT 3         BIT 2           BIT 1           BIT 0
                       Unused                            Auto          Unused     Auto DS1/E1        Unused       Auto DS1/E1
                                                      DS1/E1AIS                     AIS upon                       AIS upon
                                                      upon DS3                      DS3 OOF                         DS3 AIS
                                                     LOS Defect                      Defect                          Defect
       R/O               R/O             R/O             R/W            R/O           R/W             R/O             R/W
         0                0                0               0              0             0               0               0
Bits 7 - 5 - Unused
BIT 4 - Auto DS1/E1 AIS upon DS3 LOS Defect
     This READ/WRITE bit-field is used to configure all of the Egress Direction Transmit DS1/E1 Framer blocks (within the
     XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via the downstream DS1/E1 signals, anytime (and for
     the duration that) the Receive DS3 Framer block declares the LOS defect condition.
      0 - Does not configure all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
     indicators via the downstream DS1/E1 signals, anytime the Receive DS3 Framer block declares the LOS defect
                                                                 207


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
    condition.
     1 - Configures all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
    indicators via the downstream DS1/E1 signals anytime the Receive DS3 Framer block declares the LOS defect
    condition.
    NOTE: This bit-field is only active if the XRT86SH328 has been configured to operate in either the M13 MUX or the
             M13 MUX which is Asynchronously mapped into STS-1/STS-3 Mode.
BIT 3 - Unused
BIT 2 - Auto DS1/E1 AIS upon DS3 OOF Defect
    This READ/WRITE bit-field is used to configure all of the Egress Direction Transmit DS1/E1 Framer blocks (within the
    XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via the downstream DS1/E1 signals, anytime (and for
    the duration that) the Receive DS3 Framer block declares the LOF/OOF defect condition.
     0 - Does not configure all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
    indicators via the downstream DS1/E1 signals, anytime the Receive DS3 Framer block declares the LOF/OOF defect
    condition.
     1 - Configures all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
    indicators via the downstream DS1/E1 signals anytime the Receive DS3 Framer block declares the LOF/OOF defect
    condition.
    NOTE: This bit-field is only active if the XRT86SH328 has been configured to operate in either the M13 MUX or the
             M13 MUX which is Asynchronously mapped into STS-1/STS-3 Mode.
BIT 1 - Unused
BIT 0 - Auto DS1/E1 AIS upon DS3 AIS Defect
    This READ/WRITE bit-field is used to configure all of the Egress Direction Transmit DS1/E1 Framer blocks (within the
    XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via the downstream DS1/E1 signals, anytime (and for
    the duration that) the Receive DS3 Framer block declares the AIS defect condition.
     0 - Does not configure all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
    indicators via the downstream DS1/E1 signals, anytime the Receive DS3 Framer block declares the AIS defect
    condition.
     1 - Configures all Egress Direction Transmit DS1/E1 Framer blocks to automatically transmit the DS1/E1 AIS
    indicators via the downstream DS1/E1 signals anytime the Receive DS3 Framer block declares the AIS defect
    condition.
    NOTE: This bit-field is only active if the XRT86SH328 has been configured to operate in either the M13 MUX or the
             M13 MUX which is Asynchronously mapped into STS-1/STS-3 Mode.
TABLE 297: DS3 FRAMER BLOCK - PMON EXCESSIVE ZERO (EXZ) EVENT COUNT REGISTER - MSB (ADDRESS =
                                                          0X0E4E)
     BIT 7           BIT 6          BIT 5           BIT 4            BIT 3        BIT 2         BIT 1          BIT 0
                                               PMON EXZ Event Count[15:8]
     RUR             RUR            RUR             RUR              RUR          RUR           RUR             RUR
       0               0              0               0                0            0              0             0
BIT [7:0] - PMON EXZ_Event_Count[15:8]:
    These RESET-upon-READ bits, along with that within the PMON Excessive Zero Count Register - LSB combine to
    reflect the cumulative number of instances in which the Receive DS3 Framer block has detected a string of three or
    more consecutive zeros within the incoming DS3 data-stream, since the last read of this register.
    This register contains the Most Significant Byte of this 16-bit expression.
                                                             208


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 TABLE 298: DS3 FRAMER BLOCK - PMON EXCESSIVE ZERO (EXZ) EVENT COUNT REGISTER - LSB (ADDRESS =
                                                           0X0E4F)
     BIT 7          BIT 6           BIT 5           BIT 4             BIT 3       BIT 2         BIT 1          BIT 0
                                               PMON EXZ Event Count[7:0]
     RUR            RUR             RUR             RUR               RUR         RUR           RUR            RUR
       0              0               0               0                 0           0             0              0
BIT [7:0] - PMON EXZ_Event_Count[7:0]:
    These RESET-upon-READ bits, along with that within the PMON Excessive Zero Count Register -MSB combine to
    reflect the cumulative number of instances in which the Receive DS3 Framer block has detected a string of three or
    more consecutive zeros within the incoming DS3 data-stream, since the last read of this register.
    This register contains the Least Significant Byte of this 16-bit expression.
     TABLE 299: DS3 FRAMER BLOCK - PMON LINE CODE VIOLATION (LCV) EVENT COUNT REGISTER - MSB
                                                   (ADDRESS = 0X0E50)
     BIT 7          BIT 6           BIT 5           BIT 4             BIT 3       BIT 2         BIT 1          BIT 0
                                               PMON LCV Event Count[15:8]
     RUR            RUR             RUR             RUR               RUR         RUR           RUR            RUR
       0              0               0               0                 0           0             0              0
BIT [7:0] - PMON LCV_Event_Count[15:8]:
    These RESET-upon-READ bits along with that within the PMON Line Code Violation Count - LSB register combine to
    reflect the cumulative number of Line Code Violation events that the Receive DS3 Framer block has detected within the
    incoming DS3 data-stream, since the last read of this register.
    This register contains the Most Significant byte of this 16-bit expression.
     TABLE 300: DS3 FRAMER BLOCK - PMON LINE CODE VIOLATION (LCV) EVENT COUNT REGISTER - LSB
                                                   (ADDRESS = 0X0E51)
     BIT 7          BIT 6           BIT 5           BIT 4             BIT 3       BIT 2         BIT 1          BIT 0
                                               PMON LCV Event Count[7:0]
     RUR            RUR             RUR             RUR               RUR         RUR           RUR            RUR
       0              0               0               0                 0           0             0              0
BIT [7:0] - PMON LCV_Event_Count[7:0]:
    These RESET-upon-READ bits along with that within the PMON Line Code Violation Count - MSB register combine to
    reflect the cumulative number of Line Code Violation events that the Receive DS3 Framer block has detected within the
    incoming DS3 data-stream, since the last read of this register.
    This register contains the Least Significant byte of this 16-bit expression.
 TABLE 301: DS3 FRAMER BLOCK - PMON FRAMING BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E52)
     BIT 7          BIT 6           BIT 5           BIT 4             BIT 3       BIT 2         BIT 1          BIT 0
                                          PMON_Framing_Bit_Error_Count[15:8]
     RUR            RUR             RUR             RUR               RUR         RUR           RUR            RUR
       0              0               0               0                 0           0             0              0
                                                              209


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                          REV. 2.0.0
BIT [7:0]: PMON Framing Bit ErrorCount[15:8]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON Framing Bit Error Count Register
    - LSB combine to reflect the cumulative number of Framing bit errors that the Receive DS3 Framer block has detected
    since the last read of this register. This register contains the Most Significant byte of this 16-bit expression.
    NOTE: The Receive DS3 Framer block will increment this register each time that it detects F or M bit errors within the
            incoming DS3 data-stream.
 TABLE 302: DS3 FRAMER BLOCK - PMON FRAMING BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E53)
     BIT 7           BIT 6            BIT 5           BIT 4           BIT 3          BIT 2            BIT 1           BIT 0
                                            PMON_Framing_Bit_Error_Count[7:0]
     RUR             RUR              RUR             RUR             RUR            RUR              RUR              RUR
       0               0                0               0               0               0               0               0
BIT [7:0]: PMON Framing Bit ErrorCount[7:0]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON Framing Bit Error Count Register
    - MSB combine to reflect the cumulative number of Framing bit errors that the Receive DS3 Framer block has detected
    since the last read of this register. This register contains the Least Significant byte of this 16-bit expression.
    NOTE: The Receive DS3 Framer block will increment this register each time that it detects F or M bit errors within the
            incoming DS3 data-stream.
     TABLE 303: DS3 FRAMER BLOCK - PMON P-BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E54)
     BIT 7           BIT 6            BIT 5           BIT 4           BIT 3          BIT 2            BIT 1           BIT 0
                                               PMON_P_Bit _Error_Count[15:8]
     RUR             RUR              RUR             RUR             RUR            RUR              RUR              RUR
       0               0                0               0               0               0               0               0
BIT [7:0]: PMON P-Bit Error Count[15:8]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON P-bit Error Count Register - LSB
    combine to reflect the cumulative number of P-bit errors that the Receive DS3 Framer block has detected within the
    incoming DS3 data-stream, since the last read of this register. This register contains the Most Significant byte of this
    16-bit expression.
     TABLE 304: DS3 FRAMER BLOCK - PMON P-BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E55)
     BIT 7           BIT 6            BIT 5           BIT 4           BIT 3          BIT 2            BIT 1           BIT 0
                                                PMON_P_Bit_Error_Count[7:0]
     RUR             RUR              RUR             RUR             RUR            RUR              RUR              RUR
       0               0                0               0               0               0               0               0
BIT [7:0] - PMON P-Bit Error Count[7:0]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON P-bit Error Count Register - MSB
    combine to reflect the cumulative number of P-bit errors that the Receive DS3 Framer block has detected within the
    incoming DS3 data-stream, since the last read of this register. This register contains the Least Significant byte of this
    16-bit expression.
                                                              210


                                                                                                            XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     TABLE 305: DS3 FRAMER BLOCK - PMON FEBE EVENT COUNT REGISTER - MSB (ADDRESS = 0X0E56)
     BIT 7            BIT 6           BIT 5           BIT 4          BIT 3            BIT 2            BIT 1         BIT 0
                                               PMON_FEBE_Event_Count[15:8]
     RUR              RUR             RUR             RUR            RUR              RUR              RUR           RUR
       0                0               0               0               0               0                0             0
BIT [7:0] - PMON FEBE Event Count[15:8]:
    These RESET-upon-READ bits, along with that within the PMON FEBE Event Count Register - LSB combine to reflect
    the cumulative number of FEBE/REI events that the Receive DS3 Framer block has detected within the incoming DS3
    data-stream, since the last read of this register. This register contains the Most Significant byte of this 16-expression.
     TABLE 306: DS3 FRAMER BLOCK - PMON FEBE EVENT COUNT REGISTER - LSB (ADDRESS = 0X0E57)
     BIT 7            BIT 6           BIT 5           BIT 4          BIT 3            BIT 2            BIT 1         BIT 0
                                                PMON_FEBE_Event_Count[7:0]
     RUR              RUR             RUR             RUR            RUR              RUR              RUR           RUR
       0                0               0               0               0               0                0             0
BIT [7:0] - PMON FEBE Event Count[7:0]:
    These RESET-upon-READ bits, along with that within the PMON FEBE Event Count Register - MSB combine to reflect
    the cumulative number of FEBE/REI events that the Receive DS3 Framer block has detected within the incoming DS3
    data-stream, since the last read of this register. This register contains the Least Significant byte of this 16-expression.
        TABLE 307: DS3 FRAMER BLOCK - CP-BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E58)
     BIT 7            BIT 6           BIT 5           BIT 4          BIT 3            BIT 2            BIT 1         BIT 0
                                               PMON_CP_Bit_Error_Count[15:8]
     RUR              RUR             RUR             RUR            RUR              RUR              RUR           RUR
       0                0               0               0               0               0                0             0
BIT [7:0] - PMON CP-Bit Error Count[15:8]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON CP-Bit Error Count Register - LSB
    combine to reflect the cumulative number of CP bit errors that the Receive DS3 Framer block has detected since the
    last read of this register. This register contains the Most Significant byte of this 16-bit expression.
    NOTE: These register bits are not active if the Transmit and Receive DS3 Framer blocks have NOT been configured to
            support the DS3 C-bit Parity Framing format.
         TABLE 308: DS3 FRAMER BLOCK - CP-BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E59)
     BIT 7            BIT 6           BIT 5           BIT 4          BIT 3            BIT 2            BIT 1         BIT 0
                                               PMON_CP_Bit_Error_Count[7:0]
     RUR              RUR             RUR             RUR            RUR              RUR              RUR           RUR
       0                0               0               0               0               0                0             0
BIT [7:0] - PMON CP-Bit Error Count[7:0]:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PMON CP-Bit Error Count Register -
    MSB combine to reflect the cumulative number of CP bit errors that the Receive DS3 Framer block has detected since
    the last read of this register. This register contains the Least Significant byte of this 16-bit expression.
                                                              211


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                               REV. 2.0.0
    NOTE: These register bits are not active if the Transmit and Receive DS3 Framer blocks have NOT been configured to
            support the DS3 C-bit Parity Framing format.
TABLE 309: DS3 FRAMER BLOCK - PMON DS2 # 1 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5A)
     BIT 7           BIT 6            BIT 5         BIT 4         BIT 3          BIT 2        BIT 1        BIT 0
                         PMON_DS2 # 1 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR             RUR              RUR           RUR           RUR            RUR          RUR          RUR
       0               0                0             0             0              0            0             0
BIT [7:0] - PMON DS2 # 1 - Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]:
    The function of this bit-field depends upon whether M12 MUX/De-MUX # 1 has been configured to operate in the DS2
    or in the G.747 Mode.
    If M12 MUX/De-MUX # 1 has been configured to operate in the DS2 Mode:
    These RESET-upon-READ bit-fields reflects the cumulative number of F and M bit errors that the M12 De-MUX Block
    (associated with DS2 Channel 1) has detected since the last read of this register.
    If M21 MUX/De-MUX # 1 has been configured to operate in the G.747 Mode:
    This RESET-upon-READ bit-fields reflects the cumulative number of FAS errors that the M12 De-MUX block
    (associated with DS2 Channel 1) has detected since the last read of this register.
TABLE 310: DS3 FRAMER BLOCK - PMON DS2 # 2 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5B)
     BIT 7           BIT 6            BIT 5         BIT 4         BIT 3          BIT 2        BIT 1        BIT 0
                         PMON_DS2 # 2 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR             RUR              RUR           RUR           RUR            RUR          RUR          RUR
       0               0                0             0             0              0            0             0
BIT [7:0] See Figure 309 above, for bit descriptions
TABLE 311: DS3 FRAMER BLOCK - PMON DS2 # 3 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5C)
     BIT 7           BIT 6            BIT 5         BIT 4         BIT 3          BIT 2        BIT 1        BIT 0
                         PMON_DS2 # 3 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR             RUR              RUR           RUR           RUR            RUR          RUR          RUR
       0               0                0             0             0              0            0             0
BIT [7:0] See Figure 309 above, for bit descriptions
TABLE 312: DS3 FRAMER BLOCK - PMON DS2 # 4 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5D)
     BIT 7           BIT 6            BIT 5         BIT 4         BIT 3          BIT 2        BIT 1        BIT 0
                         PMON_DS2 # 4 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR             RUR              RUR           RUR           RUR            RUR          RUR          RUR
       0               0                0             0             0              0            0             0
BIT [7:0] See Figure 309 above for bit descriptions
                                                            212


                                                                                                 XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
TABLE 313: DS3 FRAMER BLOCK - PMON DS2 # 5 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5E)
     BIT 7          BIT 6          BIT 5           BIT 4        BIT 3          BIT 2        BIT 1           BIT 0
                        PMON_DS2 # 5 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR            RUR            RUR             RUR          RUR            RUR          RUR             RUR
       0              0              0               0            0              0            0               0
BIT [7:0] See Figure 309 above, for bit descriptions
TABLE 314: DS3 FRAMER BLOCK - PMON DS2 # 6 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E5F)
     BIT 7          BIT 6          BIT 5           BIT 4        BIT 3          BIT 2        BIT 1           BIT 0
                        PMON_DS2 # 6 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR            RUR            RUR             RUR          RUR            RUR          RUR             RUR
       0              0              0               0            0              0            0               0
BIT [7:0] See Figure 309 above, for bit descriptions
TABLE 315: DS3 FRAMER BLOCK - PMON DS2 # 7 FRAMING BIT ERROR COUNT REGISTER (ADDRESS = 0X0E60)
     BIT 7          BIT 6          BIT 5           BIT 4        BIT 3          BIT 2        BIT 1           BIT 0
                        PMON_DS2 # 7 Framing Bit Error Count[7:0]/G.747 FAS Error Count[7:0]
     RUR            RUR            RUR             RUR          RUR            RUR          RUR             RUR
       0              0              0               0            0              0            0               0
BIT [7:0] See Figure 309 above for bit descriptions
TABLE 316: DS3 FRAMER BLOCK - PMON G.747 # 1 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E61)
     BIT 7          BIT 6          BIT 5           BIT 4        BIT 3          BIT 2        BIT 1           BIT 0
                                        PMON_G.747 # 1 - Parity Error Count[7:0]
     RUR            RUR            RUR             RUR          RUR            RUR          RUR             RUR
       0              0              0               0            0              0            0               0
BIT [7:0] - PMON G.747 # 1 - Parity Error Count[7:0]:
This RESET-upon-READ bit-field reflects the cumulative number of P-bit errors that the M12 De-MUX Block
(associated with G.747 Channel # 1) has detected since the last read of this register.
    NOTE: These bit-fields are only active if M12 MUX/De-MUX # 1 has been configured to operate in the G.747 Mode.
TABLE 317: DS3 FRAMER BLOCK - PMON G.747 # 2 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E62)
     BIT 7          BIT 6          BIT 5           BIT 4        BIT 3          BIT 2        BIT 1           BIT 0
                                        PMON_G.747 # 2 - Parity Error Count[7:0]
     RUR            RUR            RUR             RUR          RUR            RUR          RUR             RUR
       0              0              0               0            0              0            0               0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 2 for Channel # 1.
                                                         213


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                    REV. 2.0.0
TABLE 318: DS3 FRAMER BLOCK - PMON G.747 # 3 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E63)
     BIT 7          BIT 6        BIT 5          BIT 4         BIT 3         BIT 2        BIT 1  BIT 0
                                     PMON_G.747 # 3 - Parity Error Count[7:0]
     RUR            RUR          RUR            RUR           RUR           RUR          RUR    RUR
       0              0            0              0             0             0             0     0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 3 for Channel # 1.
TABLE 319: DS3 FRAMER BLOCK - PMON G.747 # 4 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E64)
     BIT 7          BIT 6        BIT 5          BIT 4         BIT 3         BIT 2        BIT 1  BIT 0
                                     PMON_G.747 # 4 - Parity Error Count[7:0]
     RUR            RUR          RUR            RUR           RUR           RUR          RUR    RUR
       0              0            0              0             0             0             0     0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 4 for Channel # 1.
TABLE 320: DS3 FRAMER BLOCK - PMON G.747 # 5 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E65)
     BIT 7          BIT 6        BIT 5          BIT 4         BIT 3         BIT 2        BIT 1  BIT 0
                                     PMON_G.747 # 5 - Parity Error Count[7:0]
     RUR            RUR          RUR            RUR           RUR           RUR          RUR    RUR
       0              0            0              0             0             0             0     0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 5 for Channel # 1.
TABLE 321: DS3 FRAMER BLOCK - PMON G.747 # 6 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E66)
     BIT 7          BIT 6        BIT 5          BIT 4         BIT 3         BIT 2        BIT 1  BIT 0
                                     PMON_G.747 # 6 - Parity Error Count[7:0]
     RUR            RUR          RUR            RUR           RUR           RUR          RUR    RUR
       0              0            0              0             0             0             0     0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 6 for Channel # 1.
TABLE 322: DS3 FRAMER BLOCK - PMON G.747 # 7 PARITY BIT ERROR COUNT REGISTER (ADDRESS = 0X0E67)
     BIT 7          BIT 6        BIT 5          BIT 4         BIT 3         BIT 2        BIT 1  BIT 0
                                     PMON_G.747 # 7 - Parity Error Count[7:0]
     RUR            RUR          RUR            RUR           RUR           RUR          RUR    RUR
       0              0            0              0             0             0             0     0
BIT [7:0] - See Table 316 above, for bit descrptions, substituting Channel # 7 for Channel # 1.
                                                       214


                                                                                                         XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      TABLE 323: DS3 FRAMER BLOCK - PRBS BIT ERROR COUNT REGISTER - MSB (ADDRESS = 0X0E68)
     BIT 7           BIT 6           BIT 5           BIT 4           BIT 3          BIT 2           BIT 1            BIT 0
                                                  PRBS Error Count[15:8]
     RUR             RUR             RUR             RUR             RUR             RUR            RUR              RUR
       0               0               0               0               0               0               0               0
BIT [7:0] - PRBS Error Count - Upper Byte:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PRBS Bit Error Count Register - LSB
    combine to reflect the cumulative number of PRBS bit errors that the PRBS Receiver (within the Receive DS3 Framer
    block) has detected since the last read of this register. This register contains the Most Significant byte of this 16-bit
    expression.
    NOTE: This register is only active of the PRBS Receiver (within the Receive DS3 Framer block) has been enabled.
       TABLE 324: DS3 FRAMER BLOCK - PRBS BIT ERROR COUNT REGISTER - LSB (ADDRESS = 0X0E69)
     BIT 7           BIT 6           BIT 5           BIT 4           BIT 3          BIT 2           BIT 1            BIT 0
                                                   PRBS Error Count[7:0]
     RUR             RUR             RUR             RUR             RUR             RUR            RUR              RUR
       0               0               0               0               0               0               0               0
BIT [7:0] - PRBS Error Count - Lower Byte:
    These RESET-upon-READ bits, along with that within the DS3 Framer Block - PRBS Bit Error Count Register - MSB
    combine to reflect the cumulative number of PRBS bit errors that the PRBS Receiver (within the Receive DS3 Framer
    block) has detected since the last read of this register. This register contains the Least Significant byte of this 16-bit
    expression.
    NOTE: This register is only active of the PRBS Receiver (within the Receive DS3 Framer block) has been enabled.
         TABLE 325: DS3 FRAMER BLOCK - ONE SECOND ERROR STATUS REGISTER (ADDRESS = 0X0E6D)
     BIT 7           BIT 6           BIT 5           BIT 4           BIT 3          BIT 2           BIT 1            BIT 0
                                           Unused                                                   Erred          Severely
                                                                                                  Second             Erred
                                                                                                                    Second
     R/O              R/O            R/O             R/O             R/O             R/O             R/O              R/O
       0               0               0               0               0               0               0               0
BIT [7:2] - Unused:
BIT 1 - Erred Second:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block has declared the last one-second
    accumulation period as an Erred Second.
    The Receive DS3 Framer block will declare an Erred Second if it detects any of the following events, within a given one-
    second period.
          •   P-Bit Errors
          •   CP-Bit Errors
          •   Framing Bit (F or M) Errors
     0 - Indicates that the Receive DS3 Framer block has NOT declared the last one-second accumulation period as being
    an Erred Second.
                                                             215


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                  REV. 2.0.0
     1 - Indicates that the Receive DS3 Framer block has declared the last one-second accumulation period as being an
    Erred Second.
BIT 0 - Severely Erred Second:
This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block has declared the last one-
second accumulation period as being a Severely Erred Second.
The Receive DS3 Framer block will declares a given one-second period as being a severely erred second if it
determines that the BER (Bit Error Rate) during this one-second accumulation period is greater than 10-3
errors/second.
     0 - Indicates that the Receive DS3 Framer block has NOT declared the last one-second accumulation period as being
    a severely-erred second.
     1 - Indicates that the Receive DS3 Framer block has declared the last one-second accumulation period as being a
    severely-erred second.
 TABLE 326: DS3 FRAMER BLOCK - LCV ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS = 0X0E6E)
     BIT 7           BIT 6           BIT 5           BIT 4         BIT 3         BIT 2         BIT 1          BIT 0
                                           One_Second_LCV_Accum_Count[15:8]
      R/O             R/O             R/O            R/O           R/O           R/O           R/O             R/O
       0               0               0               0             0             0             0               0
BIT [7:0] - One-Second LCV Accumulation Count[15:8]:
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second LCV Accumulation Count Register
    - MSB combine to reflect the cumulative number of Line Code Violations that the Receive DS3 Framer block has
    detected within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains
    the Most Significant byte of this 16-bit expression.
    NOTE: This register is only active if the XRT86SH328 has been configured to operate in the M13 MUX Mode.
  TABLE 327: DS3 FRAMER BLOCK - LCV ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS = 0X0E6F)
     BIT 7           BIT 6           BIT 5           BIT 4         BIT 3         BIT 2         BIT 1          BIT 0
                                            One_Second_LCV_Accum_Count[7:0]
      R/O             R/O             R/O            R/O           R/O           R/O           R/O             R/O
       0               0               0               0             0             0             0               0
BIT [7:0] - One-Second LCV Accumulation Count[7:0]:
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second LCV Accumulation Count Register
    - LSB combine to reflect the cumulative number of Line Code Violations that the Receive DS3 Framer block has
    detected within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains
    the Least Significant byte of this 16-bit expression.
    NOTE: This register is only active if the XRT86SH328 has been configured to operate in the M13 MUX Mode.
  TABLE 328: DS3 FRAMER BLOCK - P-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS =
                                                           0X0E70)
     BIT 7           BIT 6           BIT 5           BIT 4         BIT 3         BIT 2         BIT 1          BIT 0
                                       One_Second_P_Bit_Error_Accum_Count[15:8]
      R/O             R/O             R/O            R/O           R/O           R/O           R/O             R/O
       0               0               0               0             0             0             0               0
BIT [7:0] - One-Second P-Bit Error Accumulation Count[15:8]:
                                                             216


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second P-Bit Error Accumulation Count
    Register - LSB combine to reflect the cumulative number of P-Bit errors that the Receive DS3 Framer block has detected
    within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains the Most
    Significant byte of this 16-bit expression.
  TABLE 329: DS3 FRAMER BLOCK - P-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS =
                                                           0X0E71)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3            BIT 2         BIT 1         BIT 0
                                        One_Second_P_Bit_Error_Accum_Count[7:0]
     R/O             R/O              R/O            R/O           R/O               R/O           R/O           R/O
       0               0                0              0             0                0             0              0
BIT [7:0] - One-Second P-Bit Error Accumulation Count[7:0]:
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second P-Bit Error Accumulation Count
    Register - MSB combine to reflect the cumulative number of P-Bit errors that the Receive DS3 Framer block has
    detected within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains
    the Least Significant byte of this 16-bit expression.
 TABLE 330: DS3 FRAMER BLOCK - CP-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - MSB (ADDRESS =
                                                           0X0E72)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3            BIT 2         BIT 1         BIT 0
                                       One_Second_CP_Bit_Error_Accum_Count[15:8]
     R/O             R/O              R/O            R/O           R/O               R/O           R/O           R/O
       0               0                0              0             0                0             0              0
BIT [7:0] - One-Second CP-Bit Error Accumulation Count[15:8]:
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second CP-Bit Error Accumulation Count
    Register - LSB combine to reflect the cumulative number of CP-Bit errors that the Receive DS3 Framer block has
    detected within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains
    the Most Significant byte of this 16-bit expression.
    NOTE: This register is only active if the Transmit and Receive DS3 Framer blocks have been configured to operate in
            the DS3, C-bit Parity Framing format.
 TABLE 331: DS3 FRAMER BLOCK - CP-BIT ERROR ONE SECOND ACCUMULATOR REGISTER - LSB (ADDRESS =
                                                           0X0E73)
     BIT 7           BIT 6            BIT 5          BIT 4         BIT 3            BIT 2         BIT 1         BIT 0
                                       One_Second_CP_Bit_Error_Accum_Count[7:0]
     R/O             R/O              R/O            R/O           R/O               R/O           R/O           R/O
       0               0                0              0             0                0             0              0
BIT [7:0] - One-Second CP-Bit Error Accumulation Count[7:0]:
    These READ-ONLY bits, along with that within the DS3 Framer Block - One Second CP-Bit Error Accumulation Count
    Register - MSB combine to reflect the cumulative number of CP-Bit errors that the Receive DS3 Framer block has
    detected within the incoming DS3 data-stream, during the last one-second accumulation period. This register contains
    the Least Significant byte of this 16-bit expression.
    NOTE: This register is only active if the Transmit and Receive DS3 Framer blocks have been configured to operate in
            the DS3, C-bit Parity Framing format.
                                                             217


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
        TABLE 332: DS3 FRAMER BLOCK - TRANSMIT LAPD BYTE COUNT REGISTER (ADDRESS = 0X0E83)
     BIT 7           BIT 6           BIT 5           BIT 4          BIT 3         BIT 2         BIT 1           BIT 0
                                               Tx_LAPD_MESSAGE_SIZE[7:0]
     R/W             R/W              R/W            R/W            R/W           R/W           R/W             R/W
       0               0               0               0              0             0             0               0
BIT [7:0] - Transmit LAPD Message Size[7:0]:
    These READ/WRITE bit-fields permit the user to specify the size of the information payload (in terms of bytes) within
    the very next outbound LAPD/PMDL Message whenever Bit 7 (Transmit LAPD Any) within the DS3 Framer Block -
    Transmit LAPD Configuration Register has been set to 1.
         TABLE 333: DS3 FRAMER BLOCK - RECEIVE LAPD BYTE COUNT REGISTER (ADDRESS = 0X0E84)
     BIT 7           BIT 6           BIT 5           BIT 4          BIT 3         BIT 2         BIT 1           BIT 0
                                               Rx_LAPD_MESSAGE_SIZE[7:0]
     R/O             R/O              R/O             R/O            R/O           R/O           R/O             R/O
       0               0               0               0              0             0             0               0
BIT [7:0] - Receive LAPD Message Size[7:0]:
    These READ-ONLY bit-fields indicate the size of the most recently received LAPD/PMDL Message, whenever Bit 7
    (Receive LAPD Any) within the DS3 Framer Block - Receive LAPD Control Register has been set to 1.
    The contents of this register reflect the Receive LAPD Message size, in terns of bytes.
TABLE 334: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST INTERRUPT ENABLE REGISTER (ADDRESS
                                                          = 0X0E90)
     BIT7            BIT6            BIT 5           BIT 4          BIT 3         BIT 2         BIT 1           BIT 0
  Reserved       Change of        Change of       Change of      Change of     Change of     Change of       Change of
                 DS2 Loop-        DS2 Loop-       DS2 Loop-      DS2 Loop-    DS2 Loop-      DS2 Loop-       DS2 Loop-
                     back            back            back           back          back          back            back
                  Request -       Request -       Request -      Request -     Request -     Request -       Request -
                     DS2              DS2            DS2            DS2           DS2           DS2             DS2
                  Channel 6       Channel 5       Channel 4      Channel 3     Channel 2     Channel 1       Channel 0
                   Interrupt       Interrupt       Interrupt      Interrupt     Interrupt     Interrupt       Interrupt
                    Enable          Enable          Enable         Enable        Enable        Enable          Enable
     R/O             R/W              R/W            R/W            R/W           R/W           R/W             R/W
       0               0               0               0              0             0             0               0
BIT7 - Reserved:
BIT6 - Change of DS2 Loop-back Request - DS2 Channel 6 Interrupt Enable:
This READ/WRITE bit-field is used to either enable or disable the Change of DS2 Loop-back Request Interrupt
associated with DS2 Channel 6. If this interrupt is enabled, then the XRT86SH328 will generate an interrupt in
response to either of the following events.
         •    Whenever the Receive DS3 Framer block detects and flags the DS2 Loop-back request for DS2 Channel 6.
         •    Whenever the Receive DS3 Framer block clears the DS2 Loop-back request for DS2 Channel 6.
     0 - Disables the Change of DS2 Loop-back Request Interrupt for DS2 Channel 6.
     1 - Enables the Change of DS2 Loop-back Request Interrupt for DS2 Channel 6.
BIT 5 - Change of DS2 Loop-back Request - DS2 Channel 5 Interrupt Enable:
                                                             218


                                                                                                   XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    See description of BIT6.
BIT 4 - Change of DS2 Loop-back Request - DS2 Channel 4 Interrupt Enable
    See description of BIT6.
BIT 3 - Change of DS2 Loop-back Request - DS2 Channel 3 Interrupt Enable
    See description of BIT6.
BIT 2 - Change of DS2 Loop-back Request - DS2 Channel 2 Interrupt Enable
    See description of BIT6.
BIT 1 - Change of DS2 Loop-back Request - DS2 Channel 1 Interrupt Enable
    See description of BIT6.
BIT 0 - Change of DS2 Loop-back Request - DS2 Channel 0 Interrupt Enable
    See description of BIT6.
TABLE 335: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST INTERRUPT STATUS REGISTER (ADDRESS
                                                         = 0X0E91)
     BIT7            BIT6            BIT 5          BIT 4          BIT 3       BIT 2          BIT 1            BIT 0
  Reserved        Change of       Change of      Change of      Change of   Change of      Change of        Change of
                  DS2 Loop-       DS2 Loop-      DS2 Loop-      DS2 Loop-   DS2 Loop-      DS2 Loop-        DS2 Loop-
                     back            back            back          back        back           back             back
                  Request -        Request -      Request -     Request -    Request -     Request -        Request -
                     DS2             DS2             DS2           DS2         DS2            DS2              DS2
                  Channel 6       Channel 5      Channel 4      Channel 3   Channel 2      Channel 1        Channel 0
                   Interrupt       Interrupt      Interrupt      Interrupt   Interrupt      Interrupt        Interrupt
                    Status          Status          Status        Status      Status         Status           Status
     R/O             RUR             RUR            RUR            RUR         RUR            RUR              RUR
       0               0               0              0              0           0              0                0
BIT7 - Reserved:
BIT6 - Change of DS2 Loop-back Request - DS2 Channel 6 Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the Change of DS2 Loop-back Request Status interrupt for
    DS2 Channel 6 has occurred since the last read of this register. The XRT86SH328 will generate this interrupt in
    response to either of the following conditions.
          •   Whenever the Receive DS3 Framer block detects and flags the DS2 Loop-back request, for DS2 Channel 6.
          •   Whenever the Receive DS3 Framer block clears the DS2 Loop-back request for DS2 Channel 6.
     0 - Indicates that the Change of DS2 Loop-back Request Status Interrupt has NOT occurred since the last read of
    this register
     1 - Indicates that the Change of DS2 Loop-back Request Status Interrupt has occurred since the last read of this
    register.
BIT 5 - Change of DS2 Loop-back Request - DS2 Channel 5 Interrupt Status
    See description of BIT6.
BIT 4 - Change of DS2 Loop-back Request - DS2 Channel 4 Interrupt Status
    See description of BIT6.
BIT 3 - Change of DS2 Loop-back Request - DS2 Channel 3 Interrupt Status
    See description of BIT6.
BIT 2 - Change of DS2 Loop-back Request - DS2 Channel 2 Interrupt Status
    See description of BIT6.
BIT 1 - Change of DS2 Loop-back Request - DS2 Channel 1 Interrupt Status
    See description of BIT6.
                                                            219


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                  REV. 2.0.0
BIT 0 - Change of DS2 Loop-back Request - DS2 Channel 0 Interrupt Status
    See description of BIT6.
TABLE 336: DS3 FRAMER BLOCK - RECEIVE DS2 LOOP-BACK REQUEST STATUS REGISTER (ADDRESS = 0X0E92)
     BIT7             BIT6          BIT 5         BIT 4            BIT 3          BIT 2        BIT 1          BIT 0
  Reserved       Receive DS2    Receive DS2   Receive DS2     Receive DS2      Receive DS2  Receive DS2   Receive DS2
                  Loop-back       Loop-back    Loop-back       Loop-back        Loop-back    Loop-back     Loop-back
                 Request ON     Request ON    Request ON      Request ON       Request ON   Request ON    Request ON
                     - DS2          - DS2         - DS2            - DS2          - DS2        - DS2          - DS2
                  Channel 6       Channel 5    Channel 4       Channel 3        Channel 2    Channel 1      Channel 0
     R/O              R/O            R/O           R/O              R/O            R/O          R/O            R/O
       0                0              0             0                0              0            0              0
BIT7 - Reserved:
BIT6 - Receive DS2 Loop-back Request ON - DS2 Channel 6:
    This READ-ONLY bit-field indicates whether or not the Receive DS3 Framer block has detected a DS2 Loop-back
    Request (associated with DS2 Channel # 6) within the incoming DS3 data-stream. The Receive DS3 Framer block will
    detect and flag a DS2 Loop-back Request if it detects the DS2 Loop-back Codes (pertaining to a given DS2 channel)
    for 5 consecutive DS3 frames.
     0 - Indicates that the Receive DS3 Framer block is NOT currently flagging a DS2 Loop-back Request associated with
    DS2 Channel 6.
     1 - Indicates that the Receive DS2 Framer block is currently flagging a DS2 Loop-back Request associated with DS2
    Channel 6.
BIT 5 - Receive DS2 Loop-back Request ON - DS2 Channel 5
    See description of BIT6.
BIT 4 - Receive DS2 Loop-back Request ON - DS2 Channel 4
    See description of BIT6.
BIT 3 - Receive DS2 Loop-back Request ON - DS2 Channel 3
    See description of BIT6.
BIT 2 - Receive DS2 Loop-back Request ON - DS2 Channel 2
    See description of BIT6.
BIT 1 - Receive DS2 Loop-back Request ON - DS2 Channel 1
    See description of BIT6.
BIT 0 - Receive DS2 Loop-back Request ON - DS2 Channel 0
    See description of BIT6.
                                                           220


                                                                                                        XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 337: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 1 (ADDRESS =
                                                           0X0E93)
      BIT7             BIT6             BIT 5        BIT 4           BIT 3          BIT 2          BIT 1            BIT 0
   Change of        Change of        Change of    Change of       Change of      Change of      Change of        Change of
  M12 Loop-        M12 Loop-         M12 Loop-    M12 Loop-       M12 Loop-     M12 Loop-      M12 Loop-        M12 Loop-
      back             back             back         back            back           back           back             back
    Request          Request          Request      Request         Request        Request        Request          Request
  Condition -      Condition -       Condition -  Condition -     Condition -   Condition -    Condition -      Condition -
      DS1              DS1              DS1          DS1             DS1            DS1            DS1              DS1
   Channel 3        Channel 2        Channel 1    Channel 0       Channel 3      Channel 2      Channel 1        Channel 0
    Interrupt        Interrupt        Interrupt    Interrupt       Interrupt      Interrupt      Interrupt        Interrupt
     Status           Status           Status       Status          Enable         Enable         Enable           Enable
      RUR              RUR              RUR          RUR             R/W            R/W            R/W              R/W
        0                0                0            0               0              0              0                0
BIT7 - Change of M12 Loop-back Request Condition - DS1 Channel 3 Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the M12 De-MUX block (associated with DS2 Channel 0) has
     generated the Change of M12 Loop-back Request Condition Interrupt, for DS1 Channel 3, since the last read of this
     register. The M12 De-MUX block will generate this particular interrupt in response to either of the following events.
          •    ? Whenever it detects the M12 Loop-back Request indicator for DS1 Channel 3 (within the incoming DS2
               signal)
          •    Whenever it ceases to detect the M12 Loop-back Request indicator for DS1 Channel 3 (within the incoming
               DS2 signal).
      0 - Indicates that the Change of M12 Loop-back Request Condition Interrupt, for DS1 Channel 3, has NOT occurred
     since the last read of this register.
      1 - Indicates that the Change of M12 Loop-back Request Condition Interrupt, for DS1 Channel 3, has occurred since
     the last read of this register.
BIT6 - Change of M12 Loop-back Request Condition - DS1 Channel 2 Interrupt Status
     See description of BIT7.
BIT 5 - Change of M12 Loop-back Request Condition - DS1 Channel 1 Interrupt Status
     See description of BIT7.
BIT 4 - Change of M12 Loop-back Request Condition - DS1 Channel 0 Interrupt Status
     See description of BIT7.
BIT 3 - Change of M12 Loop-back Request Condition - DS1 Channel 3 Interrupt Enable
This READ/WRITE bit-field is used to either enable or disable the Change of M12 Loop-back Request
Condition Interrupt for DS1 Channel 3. If this interrupt is enabled, then the XRT86SH328 will generate an
interrupt in response to either of the following conditions.
          •    Whenever the M12 De-MUX Block (associated with DS2 Channel 0) detects the M12 Loop-back Request
               indicator for DS1 Channel 3 (within the incoming DS2 signal).
          •    Whenever the M12 De-MUX Block ceases to detect the M12 Loop-back Request indicator for DS1 Channel 3
               (within the incoming DS2 signal).
      0 - Disables the Change of M12 Loop-back Request Condition Interrupt for DS1 Channel 3.
      1 - Enables the Change of M12 Loop-back Request Condition Interrupt for DS1 Channel 3.
BIT 2 - Change of M12 Loop-back Request Condition - DS1 Channel 2 Interrupt Enable
     See description of BIT 3.
BIT 1 - Change of M12 Loop-back Request Condition - DS1 Channel 1 Interrupt Enable
     See description of BIT 3.
                                                              221


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
BIT 0 - Change of M12 Loop-back Request Condition - DS1 Channel 0 Interrupt Enable
     See description of BIT 3.
         TABLE 338: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 1 (ADDRESS = 0X0E94)
      BIT7            BIT6           BIT 5        BIT 4           BIT 3         BIT 2           BIT 1          BIT 0
                            Reserved                           M12 Loop-    M12 Loop-        M12 Loop-      M12 Loop-
                                                                  Back          Back            Back           Back
                                                                Request       Request         Request        Request
                                                              Status - DS1 Status - DS1     Status - DS1   Status - DS1
                                                               Channel 3     Channel 2       Channel 1      Channel 0
      R/O              R/O           R/O           R/O             R/O           R/O            R/O             R/O
        0               0              0             0              0             0               0              0
BIT7 - 4 - Reserved:
BIT 3 - M12 Loop-Back Request Status - DS1 Channel 3:
     This READ/WRITE bit-field indicates whether or not the M12 De-MUX Block (associated with DS2 Channel 0) is
     currently detecting the M12 Loop-Back Request for DS1 Channel 3, within the incoming DS2 data-stream.
      0 - Indicates that the M12 De-MUX Block (associated with DS2 Channel 0) is NOT currently detecting the M12 Loop-
     Back Request for DS1 Channel 3, within the incoming DS2 data-stream.
      1 - Indicates that the M12 De-MUX Block (associated with DS2 Channel 0) is currently detecting the M12 Loop-Back
     Request for DS1 Channel 3, within the incoming DS2 data-stream.
BIT 2 - M12 Loop-Back Request Status - DS1 Channel 2:
     See description of BIT 3.
BIT 1 - M12 Loop-Back Request Status - DS1 Channel 1:
     See description of BIT 3.
BIT 0 - M12 Loop-Back Request Status - DS1 Channel 0:
     See description of BIT 3.
   TABLE 339: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 2 (ADDRESS =
                                                        0X0E95)
      BIT7            BIT6           BIT 5        BIT 4           BIT 3         BIT 2           BIT 1          BIT 0
   Change of       Change of      Change of     Change of      Change of    Change of        Change of      Change of
  M12 Loop-        M12 Loop-      M12 Loop-    M12 Loop-       M12 Loop-    M12 Loop-        M12 Loop-      M12 Loop-
      back            back           back         back            back          back            back           back
    Request         Request        Request       Request        Request       Request         Request        Request
  Condition -      Condition -    Condition -  Condition -     Condition -  Condition -      Condition -    Condition -
      DS1             DS1            DS1           DS1            DS1           DS1             DS1             DS1
   Channel 7       Channel 6      Channel 5     Channel 4      Channel 7     Channel 6       Channel 5      Channel 4
 Interrupt Sta- Interrupt Sta- Interrupt Sta- Interrupt Sta-    Interrupt     Interrupt       Interrupt      Interrupt
       tus             tus            tus           tus          Enable        Enable          Enable         Enable
      RUR             RUR            RUR          RUR             R/W           R/W             R/W             R/W
        0               0              0             0              0             0               0              0
See Table 337 above for bit descriptions, substituting Channel [7:4] for Channel [3:0].
                                                           222


                                                                                                  XRT86SH328
REV. 2.0.0                   28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
        TABLE 340: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 2 (ADDRESS = 0X0E96)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3        BIT 2           BIT 1        BIT 0
                         Reserved                            M12 Loop-    M12 Loop-       M12 Loop-    M12 Loop-
                                                                Back         Back            Back         Back
                                                              Request      Request         Request      Request
                                                           Status - DS1  Status - DS1    Status - DS1 Status - DS1
                                                             Channel 7    Channel 6       Channel 5    Channel 4
      R/O           R/O            R/O            R/O           R/O           R/O            R/O           R/O
       0              0             0              0              0            0               0            0
BIT [7:0] - See Table 338 above, for bit descriptions, substituting Channel [7:4] for Channel [3:0].
   TABLE 341: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 3 (ADDRESS =
                                                       0X0E97)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3        BIT 2           BIT 1        BIT 0
  Change of      Change of     Change of      Change of      Change of    Change of       Change of    Change of
  M12 Loop-      M12 Loop-     M12 Loop-      M12 Loop-      M12 Loop-    M12 Loop-       M12 Loop-    M12 Loop-
     back           back          back           back           back          back           back         back
   Request        Request       Request        Request        Request      Request         Request      Request
  Condition -    Condition -   Condition -   Condition -     Condition -  Condition -     Condition -  Condition -
     DS1            DS1           DS1            DS1            DS1           DS1            DS1          DS1
 Channel 11      Channel 10    Channel 9      Channel 8      Channel 11  Channel 10       Channel 9    Channel 8
   Interrupt      Interrupt     Interrupt      Interrupt      Interrupt    Interrupt       Interrupt    Interrupt
    Status         Status        Status         Status         Enable       Enable          Enable       Enable
     RUR            RUR           RUR            RUR            R/W           R/W            R/W          R/W
       0              0             0              0              0            0               0            0
See Table 337 above for bit descriptions, substituting Channel [11:8] for Channel [3:0].
        TABLE 342: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 3 (ADDRESS = 0X0E98)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3        BIT 2           BIT 1        BIT 0
                         Reserved                            M12 Loop-    M12 Loop-       M12 Loop-    M12 Loop-
                                                                Back         Back            Back         Back
                                                              Request      Request         Request      Request
                                                           Status - DS1  Status - DS1    Status - DS1 Status - DS1
                                                            Channel 11   Channel 10       Channel 9    Channel 8
      R/O           R/O            R/O            R/O           R/O           R/O            R/O           R/O
       0              0             0              0              0            0               0            0
BIT [7:0] - See Table 338 above, for bit descriptions, substituting Channel [11:8] for Channel [3:0].
                                                         223


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                              REV. 2.0.0
   TABLE 343: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 4 (ADDRESS =
                                                       0X0E99)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2          BIT 1         BIT 0
  Change of      Change of     Change of      Change of      Change of    Change of      Change of     Change of
  M12 Loop-      M12 Loop-     M12 Loop-      M12 Loop-      M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
     back           back          back           back           back          back           back          back
   Request        Request       Request        Request        Request       Request        Request       Request
  Condition -    Condition -   Condition -   Condition -     Condition -  Condition -    Condition -   Condition -
     DS1            DS1           DS1            DS1            DS1           DS1            DS1           DS1
 Channel 15      Channel 14    Channel 13    Channel 12     Channel 15   Channel 14      Channel 13    Channel 12
   Interrupt      Interrupt     Interrupt      Interrupt      Interrupt     Interrupt      Interrupt     Interrupt
    Status         Status        Status         Status         Enable        Enable         Enable        Enable
     RUR            RUR           RUR            RUR            R/W           R/W            R/W           R/W
       0              0             0              0              0             0              0             0
See Table 337 above for bit descriptions, substituting Channel [15:12] for Channel [3:0].
        TABLE 344: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 4 (ADDRESS = 0X0E9A)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2          BIT 1         BIT 0
                         Reserved                            M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
                                                                Back          Back           Back          Back
                                                           Request Sta- Request Sta- Request Sta- Request Sta-
                                                             tus - DS1     tus - DS1      tus - DS1     tus - DS1
                                                            Channel 15   Channel 14      Channel 13    Channel 12
      R/O           R/O            R/O            R/O            R/O           R/O           R/O            R/O
       0              0             0              0              0             0              0             0
BIT [7:0] - See Table 338 above, for bit descriptions, substituting Channel [15:12] for Channel [3:0].
   TABLE 345: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 5 (ADDRESS =
                                                      0X0E9B)
     BIT7           BIT6          BIT 5          BIT 4          BIT 3         BIT 2          BIT 1         BIT 0
  Change of      Change of     Change of      Change of      Change of    Change of      Change of     Change of
  M12 Loop-      M12 Loop-     M12 Loop-      M12 Loop-      M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
     back           back          back           back           back          back           back          back
   Request        Request       Request        Request        Request       Request        Request       Request
  Condition -    Condition -   Condition -   Condition -     Condition -  Condition -    Condition -   Condition -
     DS1            DS1           DS1            DS1            DS1           DS1            DS1           DS1
 Channel 19      Channel 18    Channel 17    Channel 16      Channel 19  Channel 18      Channel 17    Channel 16
   Interrupt      Interrupt     Interrupt      Interrupt      Interrupt     Interrupt      Interrupt     Interrupt
    Status         Status        Status         Status         Enable        Enable         Enable        Enable
     RUR            RUR           RUR            RUR            R/W           R/W            R/W           R/W
       0              0             0              0              0             0              0             0
See Table 337 above for bit descriptions, substituting Channel [19:16] for Channel [3:0].
                                                         224


                                                                                                   XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
        TABLE 346: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 5 (ADDRESS = 0X0E9C)
     BIT7             BIT6          BIT 5          BIT 4          BIT 3         BIT 2         BIT 1          BIT 0
                           Reserved                            M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
                                                                  Back          Back          Back           Back
                                                                Request       Request       Request        Request
                                                             Status - DS1  Status - DS1   Status - DS1  Status - DS1
                                                              Channel 19    Channel 18    Channel 17     Channel 16
      R/O             R/O            R/O            R/O           R/O            R/O          R/O             R/O
       0                0             0              0              0             0             0              0
BIT [7:0] - Bit - See Table 338 above, for bit descriptions, substituting Channel [19:16] for Channel [3:0].
   TABLE 347: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 6 (ADDRESS =
                                                        0X0E9D)
     BIT7             BIT6          BIT 5          BIT 4          BIT 3         BIT 2         BIT 1          BIT 0
  Change of        Change of     Change of      Change of      Change of    Change of      Change of     Change of
  M12 Loop-        M12 Loop-     M12 Loop-     M12 Loop-       M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
     back             back          back           back           back          back          back           back
   Request          Request       Request        Request        Request       Request       Request        Request
  Condition -      Condition -   Condition -   Condition -     Condition -  Condition -    Condition -   Condition -
     DS1              DS1           DS1            DS1            DS1           DS1           DS1            DS1
 Channel 23        Channel 22    Channel 21    Channel 20     Channel 23    Channel 22    Channel 21     Channel 20
   Interrupt        Interrupt     Interrupt      Interrupt      Interrupt     Interrupt     Interrupt      Interrupt
    Status           Status        Status         Status         Enable        Enable        Enable         Enable
     RUR              RUR           RUR            RUR            R/W           R/W           R/W            R/W
       0                0             0              0              0             0             0              0
See Table 337 above for bit descriptions, substituting Channel [23:20] for Channel [3:0].
        TABLE 348: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 6 (ADDRESS = 0X0E9E)
     BIT7             BIT6          BIT 5          BIT 4          BIT 3         BIT 2         BIT 1          BIT 0
                           Reserved                            M12 Loop-    M12 Loop-      M12 Loop-     M12 Loop-
                                                                  Back          Back          Back           Back
                                                             Request Sta- Request Sta- Request Sta- Request Sta-
                                                               tus - DS1     tus - DS1     tus - DS1      tus - DS1
                                                              Channel 23    Channel 22    Channel 21     Channel 20
      R/O             R/O            R/O            R/O           R/O            R/O          R/O             R/O
       0                0             0              0              0             0             0              0
BIT [7:0] - See Table 338 above, for bit descriptions, substituting Channel [23:20] for Channel [3:0].
                                                           225


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                     REV. 2.0.0
   TABLE 349: DS3 FRAMER BLOCK - M12 LOOP-BACK INTERRUPT STATUS/ENABLE REGISTER - 7 (ADDRESS =
                                                          0X0E9F)
     BIT7           BIT6           BIT 5            BIT 4           BIT 3         BIT 2          BIT 1            BIT 0
  Change of      Change of      Change of        Change of       Change of    Change of      Change of       Change of
  M12 Loop-      M12 Loop-      M12 Loop-        M12 Loop-       M12 Loop-    M12 Loop-      M12 Loop-       M12 Loop-
     back            back          back             back            back          back           back             back
   Request        Request        Request          Request         Request       Request        Request         Request
  Condition -    Condition -    Condition -      Condition -     Condition -  Condition -    Condition -     Condition -
     DS1             DS1           DS1               DS1            DS1           DS1            DS1              DS1
 Channel 27      Channel 26     Channel 25      Channel 24      Channel 27    Channel 26    Channel 25      Channel 24
   Interrupt      Interrupt      Interrupt        Interrupt       Interrupt     Interrupt      Interrupt       Interrupt
    Status          Status        Status           Status          Enable        Enable         Enable           Enable
     RUR            RUR            RUR              RUR             R/W           R/W            R/W              R/W
       0              0              0                 0              0             0              0                0
See Table 337 above for bit descriptions, substituting Channel [27:24] for Channel [3:0].
        TABLE 350: DS3 FRAMER BLOCK - M12 LOOP-BACK STATUS REGISTERS - 7 (ADDRESS = 0X0EA0)
     BIT7           BIT6           BIT 5            BIT 4           BIT 3         BIT 2          BIT 1            BIT 0
                          Reserved                               M12 Loop-    M12 Loop-      M12 Loop-       M12 Loop-
                                                                    Back          Back           Back             Back
                                                               Request Sta- Request Sta- Request Sta- Request Sta-
                                                                 tus - DS1     tus - DS1      tus - DS1       tus - DS1
                                                                Channel 27    Channel 26    Channel 25      Channel 24
      R/O            R/O            R/O              R/O             R/O           R/O           R/O              R/O
       0              0              0                 0              0             0              0                0
BIT [7:0] - See Table 338 above, for bit descriptions, substituting Channel [27:24] for Channel [3:0].
    TABLE 351: DS3 FRAMER BLOCK - DS2 # 1 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA1)
     BIT 7          BIT 6          BIT 5            BIT 4           BIT 3         BIT 2          BIT 1            BIT 0
            Unused              DS2 COFA         Change of       Change of    Change of      Change of       Change of
                                 Interrupt       DS2 LOF            DS2        DS2 RED         DS2 AIS          State of
                                  Enable           Defect        FERF/RDI    Alarm Defect       Defect      Reserved Bit
                                                 Condition         Defect      Condition      Condition         (G.747)
                                                  Interrupt      Condition      Interrupt      Interrupt        Interrupt
                                                   Enable         Interrupt      Enable         Enable           Enable
                                                                   Enable
      R/O            R/O           R/W               R/W            R/W           R/W            R/W              R/W
       0              0              0                 0              0             0              0                0
BIT [7:6] - Unused:
BIT 5 - DS2 COFA (Change of Framing Alignment) Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the DS2 Change of Framing Alignment interrupt for DS2
    Channel # 1. If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt anytime it has
    detected a change in DS2 framing alignment within the incoming DS2 data-stream.
     0 - Disables the DS2 COFA Interrupt for DS2 Channel 1.
     1 - Enables the DS2 COFA Interrupt for DS2 Channel 1.
                                                             226


                                                                                                       XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT 4 - Change of DS2 LOF Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change of DS2 LOF Defect Condition Interrupt for
    DS2 Channel 1. If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt in response to
    either of the following conditions.
          •   Whenever the M12 De-MUX block declares the DS2 LOF Defect condition, or
          •   Whenever the M12 De-MUX block clears the DS2 LOF Defect condition.
     0 - Disables the Change of DS2 LOF Defect Condition Interrupt for DS2 Channel 1.
     1 - Enables the Change of DS2 LOF Defect Condition Interrupt for DS2 Channel 1.
BIT 3 - Change of DS2 FERF/RDI Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change of DS2 FERF/RDI Defect Condition Interrupt
    for DS2 Channel 1. If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt in response
    to either of the following conditions.
          •   Whenever the M12 De-MUX block declares the DS2 FERF/RDI Defect condition, or
          •   Whenever the M12 De-MUX block clears the DS2 FERF/RDI Defect condition.
     0 - Disables the Change of DS2 FERF/RDI Defect Condition Interrupt for DS2 Channel 1.
     1 - Enables the Change of DS2 FERF/RDI Defect Condition Interrupt for DS2 Channel 1.
BIT 2 - Change of DS2 RED Alarm Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change of DS2 RED Alarm Defect Condition Interrupt
    for DS2 Channel 1. If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt in response
    to either of the following conditions.
          •   Whenever the M12 De-MUX block declares the DS2 RED Alarm Defect condition, or
          •   Whenever the M12 De-MUX block clears the DS2 RED Alarm Defect condition.
     0 - Disables the Change of DS2 RED Alarm Defect Condition Interrupt for DS2 Channel 1.
     1 - Enables the Change of DS2 RED Alarm Defect Condition Interrupt for DS2 Channel 1.
BIT 1 - Change of DS2 AIS Defect Condition Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change of DS2 AIS Defect Condition Interrupt for
    DS2 Channel 1. If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt in response to
    either of the following conditions.
          •   Whenever the M12 De-MUX block declares the DS2 AIS Defect condition, or
          •   Whenever the M12 De-MUX block clears the DS2 AIS Defect condition.
     0 - Disables the Change of DS2 AIS Defect Condition Interrupt for DS2 Channel 1.
     1 - Enables the Change of DS2 AIS Defect Condition Interrupt for DS2 Channel 1.
BIT 0 - Change of State of Reserved Bit (G.747) Interrupt Enable:
    This READ/WRITE bit-field is used to either enable or disable the Change of State of the G.747 Reserved Bit Interrupt.
    If the user enables this interrupt, then the M12 De-MUX block will generate an interrupt anytime it detects a change of
    state in the Reserved Bit within the G.747 Data Stream associated with G.747 Channel # 1.
     0 - Disables the Change of State of the G.747 Reserved Bit Interrupt for M12 De-MUX Block Channel 1.
     1 - Enables the Change of State of the G.747 Reserved Bit Interrupt for M12 De-MUX Block Channel 1.
    NOTE: This bit-field is only active if M12 De-MUX Block # 1 has been configured to operate in the G.747 Mode.
                                                             227


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
    TABLE 352: DS3 FRAMER BLOCK - DS2 # 1 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA2)
     BIT 7            BIT 6           BIT 5           BIT 4          BIT 3        BIT 2          BIT 1         BIT 0
            Unused                DS2 COFA         Change of      Change of    Change of      Change of     Change of
                                    Interrupt      DS2 LOF           DS2       DS2 RED         DS2 AIS        State of
                                     Status          Defect       FERF/RDI    Alarm Defect   Defect Con-  Reserved Bit
                                                   Condition        Defect     Condition         dition       (G.747)
                                                    Interrupt     Condition     Interrupt      Interrupt     Interrupt
                                                     Status        Interrupt     Status         Status         Status
                                                                    Status
     R/O              R/O             RUR             RUR            RUR          RUR            RUR           RUR
       0                0               0               0              0            0               0            0
BIT [7:6] - Unused:
BIT 5 - DS2 COFA Interrupt Status:
    This RESET-upon-READ bit-field indicates whether or not the DS2 COFA Interrupt (associated with M12 De-MUX # 1)
    has occurred since the last read of this register.
     0 - Indicates that the DS2 COFA Interrupt (associated with M12 De-MUX # 1) has NOT occurred since the last read
    of this register.
     1 - Indicates that the DS2 COFA Interrupt (associated with M12 De-MUX # 1) has occurred since the last read of this
    register.
BIT 4 - Change of DS2 LOF Defect Condition Interrupt Status:
    This RESET-upon-READ bit-filed indicates whether or not the Change of DS2 LOF Defect Condition interrupt has
    occurred (within M12 De-MUX # 1) since the last read of this register.
     0 - Indicates that the Change of DS2 LOF Defect Condition Interrupt (associated with M12 De-MUX # 1) has NOT
    occurred since the last read of this register.
     1 - Indicates that the Change of DS2 LOF Defect Condition Interrupt (associated with M12 De-MUX # 1) has occurred
    since the last read of this register.
BIT 3 - Change of DS2 FERF/RDI Defect Condition Interrupt Status:
    This RESET-upon-READ bit-filed indicates whether or not the Change of DS2 FERF/RDI Defect Condition interrupt has
    occurred (within M12 De-MUX # 1) since the last read of this register.
     0 - Indicates that the Change of DS2 FERF/RDI Defect Condition Interrupt (associated with M12 De-MUX # 1) has
    NOT occurred since the last read of this register.
     1 - Indicates that the Change of DS2 FERF/RDI Defect Condition Interrupt (associated with M12 De-MUX # 1) has
    occurred since the last read of this register.
BIT 2 - Change of DS2 RED Alarm Defect Condition Interrupt Status:
    This RESET-upon-READ bit-filed indicates whether or not the Change of DS2 RED Alarm Defect Condition interrupt
    has occurred (within M12 De-MUX # 1) since the last read of this register.
     0 - Indicates that the Change of DS2 RED Alarm Defect Condition Interrupt (associated with M12 De-MUX # 1) has
    NOT occurred since the last read of this register.
     1 - Indicates that the Change of DS2 RED Alarm Defect Condition Interrupt (associated with M12 De-MUX # 1) has
    occurred since the last read of this register.
BIT 1 - Change of DS2 AIS Defect Condition Interrupt Status:
    This RESET-upon-READ bit-filed indicates whether or not the Change of DS2 AIS Defect Condition interrupt has
    occurred (within M12 De-MUX # 1) since the last read of this register.
     0 - Indicates that the Change of DS2 AIS Defect Condition Interrupt (associated with M12 De-MUX # 1) has NOT
    occurred since the last read of this register.
     1 - Indicates that the Change of DS2 AIS Defect Condition Interrupt (associated with M12 De-MUX # 1) has occurred
    since the last read of this register.
BIT 0 - Change of State of Reserved Bit (G.747) Interrupt Status:
                                                              228


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    This RESET-upon-READ bit-field indicates whether or not the Change of State of the G.747 Reserved Bit Interrupt has
    occurred (within M12 De-MUX # 1) since the last read of this register.
     0 - Indicates that the Change of State of the G.747 Reserved Bit Interrupt (associated with M12 De-MUX # 1) has
    NOT occurred since the last read of this register.
     1 - Indicates that the Change of State of the G.747 Reserved Bit Interrupt (associated with M12 De-MUX # 1) has
    occurred since the last read of this register.
    NOTE: This bit-field is only active if M12 De-MUX Block # 1 has been configured to operate in the G.747 Mode.
           TABLE 353: DS3 FRAMER BLOCK - DS2 # 1 FRAMER STATUS REGISTER (ADDRESS = 0X0EA3)
     BIT 7           BIT 6           BIT 5          BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                   Unused                          DS2 LOF         DS2         DS2 RED         DS2 AIS     Current State
                                                    Defect      FERF/RDI      Alarm Defect      Defect     of Reserved
                                                   Declared       Defect        Declared       Declared     Bit (G.747)
                                                                 Declared
     R/O             R/O              R/O            R/O           R/O             R/O            R/O           R/O
       0               0               0              0             0               0              0             0
BIT [7:5] - Unused:
BIT 4 - DS2 LOF Defect Declared:
    This READ-ONLY bit-field indicates whether or not M12 De-MUX Block # 1 is currently declaring the DS2 LOF defect
    condition.
     0 - Indicates that M12 De-MUX Block # 1 is NOT currently declaring the DS2 LOF defect condition.
     1 - Indicates that M12 De-MUX Block # 1 is currently declaring the DS2 LOF defect condition.
BIT 3 - DS2 FERF/RDI Defect Declared:
    This READ-ONLY bit-field indicates whether or not M12 De-MUX Block # 1 is currently declaring the DS2 FERF/RDI
    defect condition.
     0 - Indicates that M12 De-MUX Block # 1 is NOT currently declaring the DS2 FERF/RDI defect condition.
     1 - Indicates that M12 De-MUX Block # 1 is currently declaring the DS2 FERF/RDI defect condition.
BIT 2 - DS2 RED Alarm Defect Declared:
    This READ-ONLY bit-field indicates whether or not M12 De-MUX Block # 1 is currently declaring the DS2 RED Alarm
    defect condition.
     0 - Indicates that M12 De-MUX Block # 1 is NOT currently declaring the DS2 RED Alarm defect condition.
     1 - Indicates that M12 De-MUX Block # 1 is currently declaring the DS2 RED Alarm defect condition.
BIT 1 - DS2 AIS Defect Declared:
    This READ-ONLY bit-field indicates whether or not M12 De-MUX Block # 1 is currently declaring the DS2 AIS defect
    condition.
     0 - Indicates that M12 De-MUX Block # 1 is NOT currently declaring the DS2 AIS defect condition.
     1 - Indicates that M12 De-MUX Block # 1 is currently declaring the DS2 AIS defect condition.
BIT 0 - Current State of Reserved Bit (G.747):
    This READ-ONLY bit-field reflects the current state of the G.747 Reserve bit, as relieved by M12 De-MUX Block # 1.
                                                            229


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                              REV. 2.0.0
   TABLE 354: DS3 FRAMER BLOCK - DS2 # 2 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA4)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3        BIT 2        BIT 1          BIT 0
            Unused               DS2 COFA     Change of       Change of    Change of     Change of     Change of
                                  Interrupt    DS2 LOF            DS2      DS2 RED        DS2 AIS        State of
                                   Enable        Defect       FERF/RDI    Alarm Defect     Defect     Reserved Bit
                                              Condition          Defect    Condition     Condition       (G.747)
                                                Interrupt     Condition      Interrupt    Interrupt      Interrupt
                                                 Enable         Interrupt     Enable       Enable         Enable
                                                                 Enable
     R/O              R/O           R/W           R/W             R/W          R/W          R/W            R/W
       0               0              0             0               0            0            0              0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 2 for Channel 1 and De-MUx #2 for De-
mux #1.
    TABLE 355: DS3 FRAMER BLOCK - DS2 # 2 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA5)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3        BIT 2        BIT 1          BIT 0
            Unused               DS2 COFA     Change of       Change of    Change of     Change of     Change of
                                  Interrupt    DS2 LOF            DS2      DS2 RED        DS2 AIS        State of
                                   Status        Defect       FERF/RDI    Alarm Defect     Defect     Reserved Bit
                                              Condition          Defect    Condition     Condition       (G.747)
                                               Interrupt      Condition      Interrupt Interrupt Sta-    Interrupt
                                                 Status        Interrupt      Status         tus          Status
                                                                 Status
     R/O              R/O           RUR           RUR             RUR          RUR          RUR            RUR
       0               0              0             0               0            0            0              0
BIT [7:0] - For bit descriptions see Table 352 above, substituting De-Mux #2 for De-Mux #1.
           TABLE 356: DS3 FRAMER BLOCK - DS2 # 2 FRAMER STATUS REGISTER (ADDRESS = 0X0EA6)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3        BIT 2        BIT 1          BIT 0
                    Unused                     DS2 LOF            DS2      DS2 RED        DS2 AIS     Current State
                                                 Defect       FERF/RDI    Alarm Defect     Defect     of Reserved
                                               Declared          Defect     Declared     Declared      Bit (G.747)
                                                               Declared
     R/O              R/O            R/O          R/O             R/O          R/O          R/O            R/O
       0               0              0             0               0            0            0              0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #2 for De-Mux #1.
                                                          230


                                                                                                   XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 357: DS3 FRAMER BLOCK - DS2 # 3 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EA7)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3         BIT 2         BIT 1           BIT 0
            Unused               DS2 COFA     Change of        Change of     Change of     Change of      Change of
                                  Interrupt    DS2 LOF            DS2        DS2 RED        DS2 AIS         State of
                                   Enable    Defect Con-       FERF/RDI     Alarm Defect  Defect Con-   Reserved Bit
                                              dition Inter-   Defect Con-    Condition    dition Inter- (G.747) Inter-
                                             rupt Enable      dition Inter-   Interrupt   rupt Enable    rupt Enable
                                                              rupt Enable      Enable
     R/O              R/O           R/W           R/W             R/W           R/W           R/W             R/W
       0               0              0             0               0             0             0               0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 3 for Channel 1 and De-MUx #3 for De-
mux #1.
    TABLE 358: DS3 FRAMER BLOCK - DS2 # 3 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EA8)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3         BIT 2         BIT 1           BIT 0
            Unused               DS2 COFA     Change of        Change of     Change of     Change of      Change of
                                  Interrupt    DS2 LOF            DS2        DS2 RED        DS2 AIS         State of
                                   Status        Defect        FERF/RDI     Alarm Defect     Defect     Reserved Bit
                                               Condition         Defect      Condition     Condition        (G.747)
                                               Interrupt       Condition      Interrupt  Interrupt Sta-     Interrupt
                                                 Status         Interrupt      Status          tus           Status
                                                                 Status
     R/O              R/O           RUR           RUR             RUR           RUR           RUR             RUR
       0               0              0             0               0             0             0               0
BIT [7:0] - For bit descriptions see Table 352 above, substituting De-Mux #3 for De-Mux #1.
           TABLE 359: DS3 FRAMER BLOCK - DS2 # 3 FRAMER STATUS REGISTER (ADDRESS = 0X0EA9)
     BIT 7           BIT 6          BIT 5         BIT 4           BIT 3         BIT 2         BIT 1           BIT 0
                    Unused                     DS2 LOF            DS2        DS2 RED        DS2 AIS     Current State
                                                 Defect        FERF/RDI     Alarm Defect     Defect      of Reserved
                                               Declared          Defect       Declared     Declared       Bit (G.747)
                                                                Declared
     R/O              R/O            R/O           R/O             R/O           R/O           R/O            R/O
       0               0              0             0               0             0             0               0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #3 for De-Mux #1.
                                                           231


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                           REV. 2.0.0
   TABLE 360: DS3 FRAMER BLOCK - DS2 # 4 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EAA)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2         BIT 1         BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of    Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS       State of
                                   Enable       Defect       FERF/RDI   Alarm Defect     Defect    Reserved Bit
                                              Condition        Defect     Condition     Condition     (G.747)
                                               Interrupt     Condition    Interrupt     Interrupt     Interrupt
                                                Enable        Interrupt    Enable        Enable        Enable
                                                               Enable
     R/O              R/O           R/W          R/W            R/W         R/W           R/W           R/W
       0               0              0            0              0           0             0             0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 4 for Channel 1 and De-MUx #4 for De-
mux #1.
   TABLE 361: DS3 FRAMER BLOCK - DS2 # 4 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EAB)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2         BIT 1         BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of    Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS       State of
                                   Status       Defect       FERF/RDI   Alarm Defect     Defect    Reserved Bit
                                              Condition        Defect     Condition     Condition     (G.747)
                                               Interrupt     Condition    Interrupt     Interrupt    Interrupt
                                                Status        Interrupt    Status        Status        Status
                                                               Status
     R/O              R/O           RUR          RUR            RUR         RUR           RUR           RUR
       0               0              0            0              0           0             0             0
BIT [7:0] - For bit descriptions see Table 352 above substituting De-Mux #4 for De-Mux #1.
           TABLE 362: DS3 FRAMER BLOCK - DS2 # 4 FRAMER STATUS REGISTER (ADDRESS = 0X0EAC)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2         BIT 1         BIT 0
                    Unused                     DS2 LOF          DS2       DS2 RED       DS2 AIS    Current State
                                                Defect       FERF/RDI   Alarm Defect     Defect    of Reserved
                                               Declared        Defect     Declared      Declared    Bit (G.747)
                                                              Declared
     R/O              R/O            R/O          R/O            R/O         R/O          R/O           R/O
       0               0              0            0              0           0             0             0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #4 for De-Mux #1.
                                                         232


                                                                                                XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 363: DS3 FRAMER BLOCK - DS2 # 5 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EAD)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1        BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of     Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS        State of
                                   Enable       Defect       FERF/RDI   Alarm Defect      Defect   Reserved Bit
                                              Condition        Defect     Condition     Condition      (G.747)
                                               Interrupt     Condition    Interrupt      Interrupt    Interrupt
                                                Enable        Interrupt    Enable         Enable       Enable
                                                               Enable
     R/O              R/O           R/W          R/W            R/W         R/W            R/W           R/W
       0               0              0            0              0           0               0           0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 5 for Channel 1 and De-MUx #5 for De-
mux #1.
    TABLE 364: DS3 FRAMER BLOCK - DS2 # 5 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EAE)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1        BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of     Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS        State of
                                   Status       Defect       FERF/RDI   Alarm Defect  Defect Con-  Reserved Bit
                                              Condition        Defect     Condition        dition      (G.747)
                                               Interrupt     Condition    Interrupt     Interrupt     Interrupt
                                                Status        Interrupt    Status         Status        Status
                                                               Status
     R/O              R/O           RUR          RUR            RUR         RUR            RUR          RUR
       0               0              0            0              0           0               0           0
BIT [7:0] - For bit descriptions see Table 352 above substituting De-Mux #5 for De-Mux #1.
           TABLE 365: DS3 FRAMER BLOCK - DS2 # 5 FRAMER STATUS REGISTER (ADDRESS = 0X0EAF)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1        BIT 0
                    Unused                     DS2 LOF          DS2       DS2 RED       DS2 AIS    Current State
                                                Defect       FERF/RDI   Alarm Defect      Defect    of Reserved
                                               Declared        Defect     Declared      Declared     Bit (G.747)
                                                              Declared
     R/O              R/O            R/O          R/O           R/O          R/O            R/O          R/O
       0               0              0            0              0           0               0           0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #5 for De-Mux #1.
                                                         233


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                           REV. 2.0.0
   TABLE 366: DS3 FRAMER BLOCK - DS2 # 6 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EB0)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1       BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of    Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS       State of
                                   Enable       Defect       FERF/RDI   Alarm Defect      Defect   Reserved Bit
                                              Condition        Defect     Condition     Condition     (G.747)
                                               Interrupt     Condition    Interrupt      Interrupt   Interrupt
                                                Enable        Interrupt    Enable         Enable      Enable
                                                               Enable
     R/O              R/O           R/W          R/W            R/W         R/W            R/W          R/W
       0               0              0            0              0           0               0          0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 2 for Channel 6 and De-MUx #6 for De-
mux #1.
    TABLE 367: DS3 FRAMER BLOCK - DS2 # 6 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EB1)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1       BIT 0
            Unused               DS2 COFA     Change of      Change of   Change of     Change of    Change of
                                  Interrupt    DS2 LOF          DS2       DS2 RED       DS2 AIS       State of
                                   Status       Defect       FERF/RDI   Alarm Defect  Defect Con-  Reserved Bit
                                              Condition        Defect     Condition        dition     (G.747)
                                               Interrupt     Condition    Interrupt     Interrupt    Interrupt
                                                Status        Interrupt    Status         Status       Status
                                                               Status
     R/O              R/O           RUR          RUR            RUR         RUR            RUR         RUR
       0               0              0            0              0           0               0          0
BIT [7:0] - For bit descriptions see Table 352 above substituting De-Mux #6 for De-Mux #1.
           TABLE 368: DS3 FRAMER BLOCK - DS2 # 6 FRAMER STATUS REGISTER (ADDRESS = 0X0EB2)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3       BIT 2          BIT 1       BIT 0
                    Unused                     DS2 LOF          DS2       DS2 RED       DS2 AIS    Current State
                                                Defect       FERF/RDI   Alarm Defect      Defect   of Reserved
                                               Declared        Defect     Declared      Declared    Bit (G.747)
                                                              Declared
     R/O              R/O            R/O          R/O            R/O         R/O            R/O         R/O
       0               0              0            0              0           0               0          0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #6 for De-Mux #1.
                                                         234


                                                                                                XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 369: DS3 FRAMER BLOCK - DS2 # 7 FRAMER INTERRUPT ENABLE REGISTER (ADDRESS = 0X0EB3)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3         BIT 2        BIT 1        BIT 0
            Unused               DS2 COFA     Change of      Change of     Change of   Change of     Change of
                                  Interrupt    DS2 LOF          DS2        DS2 RED      DS2 AIS        State of
                                   Enable       Defect       FERF/RDI     Alarm Defect    Defect   Reserved Bit
                                              Condition        Defect      Condition    Condition      (G.747)
                                               Interrupt     Condition      Interrupt    Interrupt    Interrupt
                                                Enable        Interrupt      Enable       Enable       Enable
                                                               Enable
     R/O              R/O           R/W          R/W            R/W           R/W          R/W           R/W
       0               0              0            0              0             0            0            0
BIT [7:0] - For bit descriptions see Table 351 above, substituting Channel 7 for Channel 1 and De-MUx #7 for De-
mux #1.
    TABLE 370: DS3 FRAMER BLOCK - DS2 # 7 FRAMER INTERRUPT STATUS REGISTER (ADDRESS = 0X0EB4)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3         BIT 2        BIT 1        BIT 0
            Unused               DS2 COFA     Change of      Change of     Change of   Change of     Change of
                                  Interrupt    DS2 LOF          DS2        DS2 RED      DS2 AIS        State of
                                   Status       Defect       FERF/RDI     Alarm Defect    Defect   Reserved Bit
                                              Condition        Defect      Condition    Condition      (G.747)
                                               Interrupt     Condition      Interrupt   Interrupt     Interrupt
                                                Status     Interrupt Sta-    Status       Status        Status
                                                                 tus
     R/O              R/O           RUR          RUR            RUR           RUR          RUR          RUR
       0               0              0            0              0             0            0            0
BIT [7:0] - For bit descriptions see Table 352 above, substituting De-Mux #7 for De-Mux #1.
           TABLE 371: DS3 FRAMER BLOCK - DS2 # 7 FRAMER STATUS REGISTER (ADDRESS = 0X0EB5)
     BIT 7           BIT 6          BIT 5        BIT 4          BIT 3         BIT 2        BIT 1        BIT 0
                    Unused                     DS2 LOF          DS2        DS2 RED      DS2 AIS    Current State
                                                Defect       FERF/RDI     Alarm Defect    Defect    of Reserved
                                               Declared        Defect       Declared    Declared     Bit (G.747)
                                                              Declared
     R/O              R/O            R/O          R/O           R/O            R/O         R/O           R/O
       0               0              0            0              0             0            0            0
BIT [7:0] - For bit descriptions see Table 353 above, substituting De-Mux #7 for De-Mux #1.
                                                         235


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
                TABLE 372: DS3 FRAMER BLOCK - M13 DE-MUX REGISTER (ADDRESS = 0X0EB8)
     BIT 7          BIT 6           BIT 5           BIT 4          BIT 3          BIT 2         BIT 1           BIT 0
                           Unused                              Auto DS1/E1       Unused     Auto DS1/E1       Unused
                                                                 AIS upon                     AIS upon
                                                                 DS2 OOF                      DS2 AIS
                                                                  Defect                       Defect
     R/O             R/O            R/O              R/O            R/W            R/O          R/W             R/O
       0              0               0               0              0              0             0               0
BIT [7:4] - Unused:
BIT 3 - Auto DS1/E1 AIS upon DS2 LOF Defect:
    This READ/WRITE bit-field is used to configure all of the Egress Direction Transmit DS1/E1 Framer blocks (associated
    with a given M12 De-MUX block) to automatically transmit the DS1/E1 AIS indicator via each of its three or four down-
    stream DS1/E1 signals, anytime (and for the duration that) the corresponding M12 De-MUX block declares the DS2
    LOF defect condition.
     0 - Does not configure each of the M12 De-MUX blocks to force all of its corresponding Egress Direction Transmit
    DS1/E1 Framer blocks (within the XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via its downstream
    DS1/E1 signals, anytime (and for the duration that) the M12 De-MUX block declares the DS2 LOF defect condition.
     1 - Configures each of the M12 De-MUX blocks to force all of its corresponding Egress Direction Transmit DS1/E1
    Framer blocks (within the XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via its downstream DS1/E1
    signals, anytime (and for the duration that) the M12 De-MUX block declares the DS2 LOF defect condition.
    NOTE: This bit-setting applies to each of the seven (7) M12 De-MUX blocks within the XRT86SH328.
BIT 2 - Unused:
BIT 1 - Auto DS1/E1 AIS upon DS2 AIS Defect:
    This READ/WRITE bit-field is used to configure all of the Egress Direction Transmit DS1/E1 Framer blocks (associated
    with a given M12 De-MUX block) to automatically transmit the DS1/E1 AIS indicator via each of its three or four down-
    stream DS1/E1 signals, anytime (and for the duration that) the corresponding M12 De-MUX block declares the DS2 AIS
    defect condition.
     0 - Does not configure each of the M12 De-MUX blocks to force all of its corresponding Egress Direction Transmit
    DS1/E1 Framer blocks (within the XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via its downstream
    DS1/E1 signals, anytime (and for the duration that) the M12 De-MUX block declares the DS2 AIS defect condition.
     1 - Configures each of the M12 De-MUX blocks to force all of its corresponding Egress Direction Transmit DS1/E1
    Framer blocks (within the XRT86SH328) to automatically transmit the DS1/E1 AIS indicator via its downstream DS1/E1
    signals, anytime (and for the duration that) the M12 De-MUX block declares the DS2 AIS defect condition.
    NOTE: This bit-setting applies to each of the seven (7) M12 De-MUX blocks within the XRT86SH328328.
BIT 0 - Unused:
                                                            236


                                                                                                                XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
 2.11    CHANNEL CONTROL-VT MAPPER BLOCK REGISTERS
The register map for the Channel Control VT-Mapper Block registers is presented in the Table below.
Additionally, a detailed description of each of the Channel Control VT-Mapper Block registers is presented
below.
In order to provide some orientation for the reader, an illustration of the Functional Block Diagram for the
XRT86SH328, with both the VT/TU Mapper and VT/TU De-Mapper Blocks highlighted is presented below in
Figure 17.
FIGURE 17. ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 DEVICE, WITH THE VT-
MAPPER BLOCK HIGHLIGHTED
                            Transmit                                                     Ingress    Ingress
                             Transmit       Transmit
                                             Transmit                                   Direction  Direction      Receive
                             STS-1/3       STS-1                          VT/TU
                              STS-1/3
                              TOH           STS-1POH
                                                   POH                     VT/TU
                                                                         Mapper         Transmit    Receive       DS1/E1
                               TOH          Processor
                                             Processor                    Mapper         DS1/E1     DS1/E1         LIU
                            Processor
                             Processor        Block                        Block
                                                                            Block
                                               Block                                     Framer     Framer         Block
                              Block
                               Block
              STS-1/
               STS-1/                                                                     Block      Block
              STS-3
               STS-3                                                                                       DS1/E1 Channel 0
             Telecom
              Telecom                     From DS1/E1 Channels 1 - 27
               Bus
                Bus
            Interface                                  From DS2 Channels 1 - 6
             Interface
                                          Transmit
                                           Transmit         M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                    From DS1/E1 Channels 1 - 3
                                                           MUX
                                                            MUX                      MUX
                                           Framer
                                            Framer
               DS3/                                        Block
                                                            Block                    Block
                DS3/                        Block
                                             Block
              STS-1
               STS-1                                             DS2 Channel 0
               LIU
                LIU
            Interface                      Receive
                                            Receive
             Interface                                      M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                    To DS1/E1 Channels 1 - 3
                                                         De-MUX
                                                          De-MUX                   De-MUX
                                           Framer
                                            Framer          Block
                                                             Block                   Block
                                            Block
                                             Block
                                                                                  DS2 Channel 0
                                                 To DS1/E1
                                                                                                      To DS2 Channels 1 - 6
                                               Channels 1 - 27
                                                                                        Egress     Egress
                          Receive
                           Receive        Receive                         DS1/E1       Direction  Direction     Transmit
                          STS-1/3          Receive           VT/TU
                           STS-1/3      STS-1
                                         STS-1POH
                                                POH                        Jitter       Receive   Transmit       DS1/E1
                           TOH                           De-Mapper
                            TOH          Processor
                                          Processor                        Atten        DS1/E1     DS1/E1          LIU
                         Processor                           Block
                          Processor        Block
                                            Block                          Block        Framer     Framer         Block
                           Block
                            Block                                                        Block      Block
                                                                                                           DS1/E1 Channel 0
    TABLE 373: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION DS1/E1 INSERTION CONTROL
                                             REGISTER - 2 (ADDRESS = 0XND41)
     BIT7             BIT6            BIT 5            BIT 4             BIT 3              BIT 2         BIT 1               BIT 0
                                              Unused                                                   Transmit RDI-V Source[1:0]
      R/O             R/O              R/O               R/O              R/O                R/O           R/W                R/W
       0               0                0                  0                 0                  0            0                  0
BIT[7:2] - Unused:
BIT[1:0] - Transmit RDI-V Type[1:0]:
    This READ/WRITE bit-field is used to specify the source of Bits 5, 6 and 7 (within the K4 VT-POH byte), whenever the
    Transmit VT-Mapper Block is configured to support the transmission of the Extended RDI-V indicators.
                                                                  237


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                            REV. 2.0.0
   Transmit RDI-V Source
             TRANSMIT RDI-V
                                                        RESULTING SOURCE OF BITS 5, 6 AND 7 OF K4 BYTE
              SOURCE[1:0]
                     00                Receive Status per the corresponding Receive VT-Mapper Block
                     01                From On-Chip Register
                     10                Do Not Use
                     11                Receive Status per the corresponding Receive VT-Mapper Block
   TABLE 374: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - DS1/E1 INSERTION CONTROL
                       REGISTER - 1 (ADDRESS = 0XND42, WHERE N RANGES FROM 0X01 TO 0X1C)
      BIT7              BIT6           BIT 5            BIT 4            BIT 3           BIT 2           BIT 1          BIT 0
    Ingress           Unused        BIP-2 Error                VT Signal Label[2:0]                       Auto          Auto
   Direction                           Insert                                                          Transmit       Transmit
 DS1/E1 AIS                                                                                              RFI-V         RDI-V
     Defect                                                                                            Indicator      Indicator
   Declared
      R/O               R/O             R/W             R/W              R/W              R/W             R/W            R/W
        0                 0              0                0                0               0               0              0
BIT 7 - Receive (Ingress Direction) DS1/E1 AIS Defect Declared:
     This READ/WRITE bit-field indicates whether or not the corresponding DS1 or E1 signal (that is being handled by this
     Transmit VT-Mapper block) is transporting the AIS indicator.
      0 - Indicates that the Ingress Direction DS1 or E1 signal is NOT currently transporting the AIS indicator.
      1 - Indicates that the Ingress Direction DS1 or E1 signal is currently transporting the AIS indicator.
BIT 6 - Unused
BIT 5 - BIP-2 Error Insert
     This READ/WRITE bit-field is used to configure the corresponding VT-Mapper block to transmit VTs with erred BIP-2
     bits into the "Ingress Direction VT-data-stream (towards the Transmit STS-1/STS-3 POH Processor block). If the user
     opts to invoke this feature, then the VT-Mapper block will automatically invert the value of the "locally-computed" BIP-2
     bits (within each outbound VT), prior to transmitting this data to the Transmit STS-1/STS-3 POH Processor block.
      0 - Configures the Transmit VT-Mapper block to NOT transmit VTs with erred BIP-2 bits to downstream circuitry
     (normal operation).
      1 - Configures the Transmit VT-Mapper block to transmit VTs with erred BIP-2 bits to downstream circuitry(normal
     operation).
     NOTE: For normal operation, the user should set this bit-field to 0.
BIT [4:2] - VT Label[2:0]:
     These three (3) READ/WRITE bit-fields are used to set the VT Label bit-fields (within each outbound V5 byte) the value
     of the users choice.
BIT 1 - Auto Transmit RFI-V Indicator
     This READ/WRITE bit-field is used to select the source of the RFI-V bit-field, within the V5 byte of the outbound
     VT1.5/VT2 traffic. In this case, the user has the following two options.
           a.   The user can configure the VT-Mapper block to use an on-chip register as the source of the RFI-V bit-fields
                (within the V5 byte). More specifically, the VT-Mapper block will read out the contents within Bit 7 (Transmit
                RFI-V Value) within the "VT-Mapper Block - Ingress Direction - DS1/E1 Insertion Control Register (Address =
                0xND43)" and it will load this value into RFI-V bit-field position within each outbound VT. In this case, the user
                will have Software Control over the state of the RFI-V bit-field, within the V5 byte of the outbound VT traffic) or
                                                                238


                                                                                                                XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
          b.   The Transmit VT-Mapper block will set the RFI-V bit-fields to the appropriate value, based upon any defect
               conditions that are currently being declared by the corresponding VT-De-Mapper block.
     0 - Configures the Transmit VT-Mapper Block to use the on-chip register as the source of the RFI-V bit-field.
     1 - Configures the Transmit VT-Mapper block to set the RFI-V bit-fields to the appropriate value, based upon any
    defects that the corresponding Receive VT-Mapper block is currently declaring.
BIT 0 - Auto Transmit RDI-V Indicator
    This READ/WRITE bit-field is used to select the source of the RDI-V bit-field, within the V5 byte of each outbound
    VT1.5/VT2 traffic. In this case, the user has the following two options.
          a.   The user can configure the Transmit VT-Mapper block to use an on-chip register as the source of the RDI-V
               bit-fields (within the V5 byte). More specifically, the Transmit VT-Mapper block will read out the contents
               within BIT6 (Transmit RDI-V value) within the VT Mapper Block - Ingress Direction - DS1/E1 Insertion Control
               Register (Address = 0xND43) and it will load this value into the RDI-V bit-field position within each outbound
               VT. In this case, the user will have Software Control over the state of the RDI-V bit-fields, within the outbound
               VT traffic) or
          b.   The Transmit VT-Mapper block will set the RDI-V bit-fields to the appropriate value, based upon any defect
               conditions that are currently being declared by the corresponding VT-De-Mapper block.
     0 - Configures the Transmit VT-Mapper Block to use the on-chip register as the source of the RDI-V bit-field.
     1 - Configures the Transmit VT-Mapper block to set the RDI-V bit-fields to the appropriate value, based upon any
    defects that the corresponding VT-De-Mapper block is currently declaring.
   TABLE 375: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - DS1/E1 INSERTION CONTROL
                REGISTER - 0 (ADDRESS = 0XND43 , WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7               BIT6              BIT 5               BIT 4          BIT 3           BIT 2          BIT 1          BIT 0
   Transmit           Transmit      Transmit AIS-V            DS1/E1 Cross Connect Channel Select_Ingress Direction[4:0]
 RFI-V Value       RDI-V Value          Indicator
     R/W                R/W               R/W                 R/W             R/W             R/W           R/W             R/W
        0                 0                 0                   0              0                0             0              0
BIT7 - Transmit RFI-V Value:
    This READ/WRITE bit-field is used to exercise Software Control over the state of the RFI-V bit-field (within each V5
    byte) of the outbound VT data-stream. If the user sets BIT 1 (Auto Transmit RFI-V Indicator), within the VT-Mapper
    Block - Ingress Direction - DS1/E1 Insertion Control Register - 2 to 0, then the Transmit VT-Mapper block will read out
    the contents within this bit-field, and it will load this value into the RFI-V bit-field within each V5 byte of the outbound VT-
    data-stream.
    NOTE: This bit-field is ignored if the user sets Bit 1 (Auto Transmit RFI-V Indicator), within the VT Mapper Block -
             Ingress Direction - DS1/E1 Insertion Control Register - 1 to 1.
BIT6 - Transmit RDI-V Value:
    This READ/WRITE bit-field is used to exercise Software Control over the state of the RDI-V bit-field (within each V5
    byte) of the outbound VT data-stream. If the user sets BIT 0 (Auto Transmit RDI-V Indicator), within the VT-Mapper
    Block - Ingress Direction - DS1/E1 Insertion Control Register - 2 to 0, then the Transmit VT-Mapper block will read out
    the contents within this bit-field, and it will load this value into the RDI-V bit-field within each V5 byte of the outbound
    VT-data-stream.
    NOTE: This bit-field is ignored if the user sets Bit 0 (Auto Transmit RDI-V Indicator), within the VT Mapper Block -
             Ingress Direction - DS1/E1 Insertion Control Register - 1 to 1.
BIT 5 - Transmit AIS-V Indicator
    This READ/WRITE bit-field is used to command the Transmit VT-Mappper block to transmit the AIS-V indicator (within
    the corresponding VT1.5 or VT2) within the outbound VT-data-stream.
    0 - Configures the Transmit VT-Mapper block to NOT transmit the AIS-V indicator within the outbound VT-data-stream.
    1 - Configures the Transmit VT-Mapper block to transmit the AIS-V indicator within the outbound VT-data-stream as
    shown in Figure 18.
                                                                  239


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                    REV. 2.0.0
FIGURE 18. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328 WHENEVER THE VT-
MAPPER BLOCK (ASSOCIATED WITH A GIVEN CHANNEL) HAS BEEN CONFIGURED TO TRANSMIT THE AIS-V INDICATOR
TOWARDS DOWN-STREAM CIRCUITRY
                                                             AIS-V
                             Transmit                       Indicator                    Ingress      Ingress
                              Transmit      Transmit
                                             Transmit                                   Direction    Direction      Receive
                             STS-1/3       STS-1                          VT/TU
                              STS-1/3
                               TOH          STS-1POH
                                                   POH                     VT/TU
                                                                         Mapper         Transmit      Receive       DS1/E1
                                TOH         Processor
                                             Processor                    Mapper         DS1/E1       DS1/E1         LIU
                            Processor
                             Processor        Block                        Block
                                                                            Block
                                               Block                                     Framer       Framer         Block
                               Block
                                Block
             STS-1/
               STS-1/                                                                     Block        Block
              STS-3
               STS-3                                                                                         DS1/E1 Channel 0
            Telecom
             Telecom                      From DS1/E1 Channels 1 - 27
               Bus
                Bus
            Interface                                  From DS2 Channels 1 - 6
             Interface
                                          Transmit
                                           Transmit         M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                      From DS1/E1 Channels 1 - 3
                                                           MUX
                                                             MUX                     MUX
                                           Framer
                                            Framer
              DS3/                                         Block
                                                            Block                    Block
                DS3/                        Block
                                             Block
              STS-1
               STS-1                                             DS2 Channel 0
               LIU
                LIU
            Interface                      Receive
                                            Receive
             Interface                                       M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                      To DS1/E1 Channels 1 - 3
                                                         De-MUX
                                                          De-MUX                   De-MUX
                                           Framer
                                            Framer          Block
                                                             Block                   Block
                                            Block
                                             Block
                                                                                  DS2 Channel 0
                                                 To DS1/E1
                                                                                                        To DS2 Channels 1 - 6
                                               Channels 1 - 27
                                                                                        Egress       Egress
                          Receive
                           Receive        Receive                         DS1/E1       Direction    Direction     Transmit
                          STS-1/3          Receive           VT/TU
                           STS-1/3      STS-1
                                         STS-1POH
                                                POH                        Jitter       Receive     Transmit       DS1/E1
                            TOH                          De-Mapper
                             TOH         Processor
                                          Processor                        Atten        DS1/E1       DS1/E1          LIU
                         Processor                           Block
                          Processor        Block
                                            Block                          Block        Framer       Framer         Block
                           Block
                            Block                                                        Block        Block
                                                                                                             DS1/E1 Channel 0
BIT[4:0] - DS1/E1 (Cross-Connect) Channel Select[4:0]:
    These READ/WRITE bit-fields is used to configure the Internal VT-Cross Connect. More specifically, these
    READ/WRITE bit-fields are used to select which (of the 28 Ingress Direction) T1/E1 signals to be mapped into either a
    VT1.5 or VT2 by this particular Transmit VT-Mapper block. The following table presents the relationship between the
    settings of these bit-fields and the resulting Cross Connect Configuration.
  Cross Connect Configuration
       DS1/E1 (CROSS-              RESULTING INGRESS DIRECTION T1/E1
     CONNECT) CHANNEL                 CHANNEL BEING HANDLED BY THIS                                   COMMENTS
          SELECT[4:0]            PARTICULAR TRANSMIT VT-MAPPER BLOCK
            00000               NONE                                                This particular VT will be transmitted as an
                                                                                    Un-equipped signal
            00001               Ingress Direction T1/E1 Channel 1
            00010               Ingress Direction T1/E1 Channel 2
            00011               Ingress Direction T1/E1 Channel 3
            00100               Ingress Direction T1/E1 Channel 4
            00101               Ingress Direction T1/E1 Channel 5
                                                                  240


                                                                       XRT86SH328
REV. 2.0.0             28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
  Cross Connect Configuration
       DS1/E1 (CROSS-    RESULTING INGRESS DIRECTION T1/E1
     CONNECT) CHANNEL      CHANNEL BEING HANDLED BY THIS       COMMENTS
          SELECT[4:0]  PARTICULAR TRANSMIT VT-MAPPER BLOCK
            00110     Ingress Direction T1/E1 Channel 6
            00111     Ingress Direction T1/E1 Channel 7
            01000     Ingress Direction T1/E1 Channel 8
            01001     Ingress Direction T1/E1 Channel 9
            01010     Ingress Direction T1/E1 Channel 10
            01011     Ingress Direction T1/E1 Channel 11
            01100     Ingress Direction T1/E1 Channel 12
            01101     Ingress Direction T1/E1 Channel 13
            01110     Ingress Direction T1/E1 Channel 14
            01111     Ingress Direction T1/E1 Channel 15
            10000     Ingress Direction T1/E1 Channel 16
            10001     Ingress Direction T1/E1 Channel 17
            10010     Ingress Direction T1/E1 Channel 18
            10011     Ingress Direction T1/E1 Channel 19
            10100     Ingress Direction T1/E1 Channel 20
            10101     Ingress Direction T1/E1 Channel 21
            10110     Ingress Direction T1/E1 Channel 22
            10111     Ingress Direction T1/E1 Channel 23
            11000     Ingress Direction T1/E1 Channel 24
            11001     Ingress Direction T1/E1 Channel 25
            11010     Ingress Direction T1/E1 Channel 26
            11011     Ingress Direction T1/E1 Channel 27
            11100     Ingress Direction T1/E1 Channel 28
            11101     NONE
            11110     The Test Channel
             11111    Test Pattern - From VT Pattern Generator
                                                   241


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    TABLE 376: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - DS1/E1 DROP CONTROL
            REGISTER - BYTE 3 (ADDRESS = 0XND44, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7             BIT6            BIT 5           BIT 4          BIT 3          BIT 2          BIT 1          BIT 0
                   RDI-V Accepted Value[3:0]                                   RDI-V Accept Threshold[3:0]
     R/O              R/O              R/O             R/O           R/W             R/W            R/W            R/W
       0               0                0                0             0              0              0              0
BIT[7:4] - RDI-V Accepted Value[3:0]:
    These READ-ONLY bit-fields reflect the most recently value for RDI-V that has been accepted (or validated) by the
    VTDe--Mapper Block. The VT-De--Mapper block will accept (or validate) a given RDI-V value, once it has received this
    same RDI-V value, within RDI-V_Accept_Threshold[3:0] number of consecutive, incoming VT Multi-frames.
    NOTES:
              1. These bit-fields are only active if the user has configured the Receive VT-De-Mapper block to support
              ERDI-V (Enhanced RDI-V).
              2. These bit-fields reflect the four-bit RDI-V value that the VT De-Mapper block has accepted via the K4
              bytes within the incoming VT/TU data-stream.
BIT[3:0] - RDI-V Accept Threshold[3:0]:
    These READ/WRITE bit-fields are used to define the RDI-V Validation criteria for the VT-De-Mapper block. More
    specifically, these bit-fields are used to specify the number of consecutive, incoming VT Multi-frame, in which the VT-
    De-Mapper block MUST receive a given RDI-V value BEFORE it validates it and loads it into BIT[7:4] (RDI-V Accepted
    Value[3:0]).
    TABLE 377: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - DS1/E1 DROP CONTROL
            REGISTER - BYTE 2 (ADDRESS = 0XND45, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7             BIT6            BIT 5           BIT 4          BIT 3          BIT 2          BIT 1          BIT 0
                                                     Unused                                                    RDI-V Type
     R/O              R/O              R/O             R/O            R/O            R/O            R/O            R/W
       0               0                0                0             0              0              0              0
BIT[7:1] - Unused:
BIT 0 - RDI-V Type:
    This READ/WRITE bit-field is used to configure the VT-De-Mapper blocks (associated with a given channel) to support
    either the SRDI-V (Single Bit - RDI-V) or ERDI-V (Extended - RDI-V) form of signaling. If the user uses only Single-Bit
    RDI-V, then the RDI-V indicator will only be transported via Bit 8 (RDI-V) within the V5 byte in a VT-data-stream.
    Conversely, if a user uses Extended RDI-V, then the RDI-V indicator will be transported via both Bits 8 (RDI-V) within
    the V5 byte, and Bits 5, 6 and 7 within the Z7/K4 byte.
     0 - Configures the VT-De-Mapper blocks to use the SRDI-V form of Signaling.
     1 - Configures the VT-De-Mapper blocks to use the ERDI-V form of signaling.
NOTE: This configuration setting only applies to the VT-De-Mapper block. If the user wishes to configure the VT-Mapper
        block to support either the "SRDI-V" or the "ERDI-V" form of signaling, then he/she must set Bit 1 (RDI-V Type)
        within the "Channel Control - VT-Mapper Block - Ingress Direction - Transmit RDI-V Control Register - Byte 0" to
        the appropriate state.
                                                              242


                                                                                                      XRT86SH328
REV. 2.0.0                     28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
   TABLE 378: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - ENGRESS DIRECTION - DS1/E1 DROP CONTROL
            REGISTER - BYTE 1 (ADDRESS = 0XND46, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7            BIT6            BIT 5          BIT 4         BIT 3          BIT 2          BIT 1           BIT 0
   Unused           VT Size         LOP-V        Change in               VT Label Value[2:0]                AIS-V Defect
                     Error          Defect       VT Label                                                     Declared
                    Defect        Declared       Value[2:0]
                   Declared                       Indicator
     R/O              R/O            R/O           R/W1C          R/O             R/O            R/O            R/O
       0                0              1              0             0               0             0               0
BIT7 -Unused:
BIT6 - VT Size ErroDefect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive VT-De-Mapper block is currently declaring the VT Size
    Error defect condition. The Receive VT-De-Mapper block will declare the VT Size Error defect condition anytime it
    receives a VT data-stream with V1 bytes that contains the incorrect VT-Size bit values, as depicted below.
     0 - Indicates that the Receive VT-De-Mapper block is NOT currently declaring the VT Size Error Defect condition.
     1 - Indicates that the Receive VT-De-Mapper block is currently declaring the VT Size Error Defect condition.
BIT 5 - LOP-V Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive VT-Mapper block is currently declaring the LOP-V
    Defect condition.
     0 - Indicates that the Receive VT-De-Mapper Block is currently NOT declaring the LOP-V Defect Condition.
     1 - Indicates that the Receive VT-De-Mapper block is currently declaring the LOP-V Defect Condition
BIT 4 - Change in VT Label[2:0] Indicator:
    This READ/WRITE 1 to CLEAR bit-field indicates whether or not the Receive VT-De-Mapper block has detected a
    Change in VT Signal Label, since the last time the user read and cleared this register bit
    0 - Indicates that the Receive VT-De-Mapper block has NOT detected a Change in VT Signal Label since the last time
    the user read and cleared this register bit.
BIT[3:1] - VT Label Value[2:0]:
    This READ-ONLY bit-field reflects the value of the most recently accepted (or validated) VT Signal Label value.
BIT 0 - AIS-V Defect Declared:
    This READ-ONLY bit-field indicates whether or not the Receive VT-De- Mapper block is currently declaring the AIS-V
    defect condition.
     0 - Indicates that the Receive VT-De-Mapper Block is NOT currently declaring the AIS-V defect condition.
     1 - Indicates that the Receive VT-De-Mapper Block is currently declaring the AIS-V defect condition.
   TABLE 379: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - ENGRESS DIRECTION - DS1/E1 DROP CONTROL
            REGISTER - BYT E 0 (ADDRESS = 0XND47, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7            BIT6            BIT 5          BIT 4         BIT 3          BIT 2          BIT 1           BIT 0
 RFI-V Defect    RDI-V Defect       Force             DS1/E1 Cross Connect Channel Select_Egress Direction[4:0]
   Declared        Declared      DS1/E1 AIS
                                  In Egress
                                   Direction
     R/O              R/O            R/W            R/W           R/W             R/W            R/W            R/W
       0                0              0              0             0               0             0               0
                                                            243


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                                  REV. 2.0.0
BIT7 - RFI-V Defect Declared:
    This READ/WRITE bit-field indicates whether or not the Receive VT-De-Mapper Block is currently declaring the RFI-V
    defect condition.
     0 - Indicates that the Receive VT-De-Mapper Block is NOT currently declaring the RFI-V defect condition.
     1 - Indicates that the Receive VT-De-Mapper Block is currently declaring the RFI-V defect condition.
BIT6 - RDI-V Defect Declared:
    This READ/WRITE bit-field indicates whether or not the Receive VT-De-Mapper Block is currently declaring the RDI-V
    defect condition.
     0 - Indicates that the Receive VT-De-Mapper Block is NOT currently declaring the RDI-V defect condition.
     1 - Indicates that the Receive VT-De-Mapper Block is currently declaring the RDI-V defect condition.
BIT 5 - Force DS1/E1 AIS In Egress Direction
    This READ/WRITE bit-field is used to configure this particular Receive VT-De-Mapper block to transmit the DS1/E1 AIS
    indicator within the Egress Direction of this particular DS1/E1 Channel.
     0 - Configures the Receive VT-De-Mapper Block to NOT transmit the DS1/E1 AIS Pattern within the Egress Direction
    corresponding to this particular channel.
     1 - Configures the Receive VT-De-Mapper block to transmit the DS1/E1 AIS Pattern within the Egress Direction
    corresponding to this particular channel.
    Figure 19 presents an illustration of the Functional Block Diagram of the XRT86SH328, whenever the VT-De-Mapper
    block has been configured to overwrite the contents within the corresponding DS1/E1 channel with the DS1/E1 AIS
    pattern (as it is being de-mapped from the VT1.5 or VT2 data-stream by the VT De-Mapper block.
FIGURE 19. AN ILLUSTRATION OF THE FUNCTIONAL BLOCK DIAGRAM OF THE XRT86SH328, WHENEVER THE VT-
DE-MAPPER BLOCK (ASSOCIATED WITH A GIVEN CHANNEL) OVERWRITES THE CONTENTS OF A DE-MAPPED DS1/E1
SIGNAL WITH THE DS1/E1 AIS PATTERN
                             Transmit                                                    Ingress    Ingress
                              Transmit      Transmit
                                             Transmit                                   Direction  Direction      Receive
                              STS-1/3      STS-1                          VT/TU
                               STS-1/3
                               TOH          STS-1POH
                                                   POH                     VT/TU
                                                                         Mapper         Transmit    Receive       DS1/E1
                                TOH         Processor
                                             Processor                    Mapper         DS1/E1     DS1/E1         LIU
                             Processor
                              Processor       Block                        Block
                                                                            Block
                                               Block                                     Framer     Framer         Block
                               Block
                                Block
             STS-1/
               STS-1/                                                                     Block      Block
              STS-3
               STS-3                                                                                       DS1/E1 Channel 0
            Telecom
             Telecom                      From DS1/E1 Channels 1 - 27
               Bus
                Bus
            Interface                                  From DS2 Channels 1 - 6
             Interface
                                          Transmit
                                           Transmit         M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                    From DS1/E1 Channels 1 - 3
                                                           MUX
                                                            MUX                      MUX
                                           Framer
                                            Framer
              DS3/                                         Block
                                                            Block                    Block
                DS3/                        Block
                                             Block
              STS-1
               STS-1                                             DS2 Channel 0
               LIU
                LIU
            Interface                      Receive
                                            Receive
             Interface                                      M23
                                                             M23                      M12
                                             DS3
                                              DS3                                                    To DS1/E1 Channels 1 - 3
                                                         De-MUX
                                                          De-MUX                   De-MUX
                                           Framer
                                            Framer          Block
                                                             Block                   Block
                                            Block
                                             Block
                                                                                  DS2 Channel 0
                                                 To DS1/E1
                                                                                                      To DS2 Channels 1 - 6
                                               Channels 1 - 27
                                                                                        Egress     Egress
                           Receive
                            Receive       Receive                         DS1/E1       Direction  Direction     Transmit
                           STS-1/3         Receive           VT/TU
                            STS-1/3     STS-1
                                         STS-1POH
                                                POH                        Jitter       Receive   Transmit       DS1/E1
                            TOH                          De-Mapper
                             TOH         Processor
                                          Processor                        Atten        DS1/E1     DS1/E1          LIU
                          Processor                          Block
                           Processor       Block
                                            Block                          Block        Framer     Framer         Block
                            Block
                             Block                                                       Block      Block
                                                             DS1/E1 AIS
                                                                                                           DS1/E1 Channel 0
                                                                  244


                                                                                                         XRT86SH328
REV. 2.0.0                    28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
BIT[4:0] - DS1/E1 Cross Connect Channel Select_Egress Direction[4:0]:
    These READ/WRITE bit-fields are used to configure the Internal VT-Cross Connect.
    More specifically, these READ/WRITE bit-fields are used to select which (of the 28 Egress Direction) T1/E1 Ports, that
    this particular Receive VT-Mapper block will route (or direct) its Egress Direction T1/E1 Signal to.
    The following table presents the relationship between the settings of these bit-fields and the resulting Cross-Connect
    Configuration.
     Cross Connect Configuration
         DS1/E1 (CROSS CONNECT)           RESULTING PORT THAT THIS RECEIVE VT-MAPPER BLOCK
                                                                                                          COMMENTS
            CHANNEL SELECT[4:0]                      WILL DIRECT ITS T1/E1 TRAFFIC TO
                    00000                No Clock or Data is output via Corresponding Egress
                                         Direction T1/E1 Port
                    00001                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 1
                    00010                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 2
                    00011                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 3
                    00100                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 4
                    00101                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 5
                    00110                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 6
                    00111                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 7
                    01000                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 8
                    01001                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 9
                    01010                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 10
                    01011                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 11
                    01100                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 12
                    01101                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 13
                    01110                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 14
                    01111                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 15
                    10000                Egress Direction T1/E1 Signal is routed to the Egress
                                         Direction Output of T1/E1 Channel 16
                                                            245


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
    Cross Connect Configuration
         DS1/E1 (CROSS CONNECT)            RESULTING PORT THAT THIS RECEIVE VT-MAPPER BLOCK
                                                                                                        COMMENTS
            CHANNEL SELECT[4:0]                        WILL DIRECT ITS T1/E1 TRAFFIC TO
                   10001                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 17
                   10010                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 18
                   10011                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 19
                   10100                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 20
                   10101                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 21
                   10110                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 22
                   10111                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 23
                   11000                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 24
                   11001                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 25
                   11010                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 26
                   11011                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 27
                   11100                  Egress Direction T1/E1 Signal is routed to the Egress
                                          Direction Output of T1/E1 Channel 28
                   11101
                   11110
                   11111
TABLE 380: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - BIP-2 ERROR COUNT REGISTER -
                  BYTE 1 (ADDRESS = 0XND4A, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7            BIT6            BIT 5           BIT 4           BIT 3         BIT 2         BIT 1            BIT 0
           VT Payload Pointer Increment Count[3:0]                                BIP-2 Error Count[11:8]
     RUR             RUR             RUR              RUR            RUR            RUR           RUR             RUR
       0              0                0                0              0              0             0               0
BIT 7 - 4 - VT Payload Pointer Increment Count[3:0]:
    These RESET-upon-READ bit-fields reflect the number of VT Payload Pointer Increment events that the Receive VT-
    De-Mapper block has detected since the last read of this register. The Receive VT-Mapper block will increment the
    contents within these bit-fields each time that it detects a VT Payload Pointer Increment event within the incoming VT
    data-stream.
                                                              246


                                                                                                            XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT
        Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields.
BIT[3:0] - BIP-2 Error Count[11:8]:
    These RESET-upon-READ bit-fields, along with those within the VT Mapper Block - Egress Direction - BIP-2 Error
    Count Register - Byte 0, presents a 12-bit expression that reflects the number of BIP-2 Errors that the Receive VT-
    Mapper Block has detected (within the incoming VT-data-stream) since the last read of this register.
    These particular bit-fields are the four most significant bit-fields within this 12-bit expression.
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT De-
        Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields
TABLE 381: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - BIP-2 ERROR COUNT REGISTER -
                  BYTE 0 (ADDRESS = 0XND4B, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7            BIT6            BIT 5            BIT 4             BIT 3            BIT 2          BIT 1     BIT 0
                                                     BIP-2 Error Count[7:0]
     RUR             RUR              RUR             RUR               RUR              RUR             RUR      RUR
       0              0                0                0                 0                0              0         0
BIT [7:0] - BIP-2 Error Count[7:0]:
    These RESET-upon-READ bit-fields, along with those within the VT Mapper Block - Egress Direction - BIP-2 Error
    Count Register - Byte 1, presents a 12-bit expression that reflects the number of BIP-2 Errors that the Receive VT-De-
    Mapper Block has detected (within the incoming VT-data-stream) since the last read of this register.
    These particular bit-fields are the eight least significant bit-fields within this 12-bit expression.
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT
        Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields.
TABLE 382: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - REI-V EVENT COUNT REGISTER -
                  BYTE 1 (ADDRESS = 0XND4E, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT7            BIT6            BIT 5            BIT 4             BIT 3            BIT 2          BIT 1     BIT 0
          VT-Payload Pointer Decrement Count[3:0]                                      REI-V Event Count[11:8]
     RUR             RUR              RUR             RUR               RUR              RUR             RUR      RUR
       0              0                0                0                 0                0              0         0
BIT [7:4] - VT Payload Pointer Decrement Count[3:0]:
    These RESET-upon-READ bit-fields reflect the number of VT Payload Pointer Decrement events that the Receive VT-
    De-Mapper block has detected since the last read of this register. The Receive VT-Mapper block will increment the
    contents within these bit-fields each time that it detects a VT Payload Pointer Decrement event within the incoming VT
    data-stream.
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT
        Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields
BIT [3:0] - REI-V Event Count[11:8]:
    These RESET-upon-READ bit-fields, along with those within the VT Mapper Block - Egress Direction - REI-V Event
    Count Register - Byte 0, presents a 12-bit expression that reflects the number of REI-V Events that the Receive VT-
    Mapper Block has detected (within the incoming VT-data-stream) since the last read of this register.
    These particular bit-fields are the four most significant bit-fields within this 12-bit expression.
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT
        Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields.
                                                               247


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
TABLE 383: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - REI-V EVENT COUNT REGISTER -
                    BYTE 0 (ADDRESS = 0XND4F, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT7              BIT6          BIT 5            BIT 4             BIT 3            BIT 2          BIT 1     BIT 0
                                                     REI-V Event Count[7:0]
      RUR               RUR            RUR             RUR               RUR              RUR             RUR       RUR
        0                 0              0               0                 0                0               0         0
BIT[7:0] - REI-V Event Count[7:0]:
     These RESET-upon-READ bit-fields, along with those within the VT Mapper Block - Egress Direction - REI-V Event
     Count Register - Byte 1, presents a 12-bit expression that reflects the number of REI-V Events that the Receive VT-De-
     Mapper Block has detected (within the incoming VT-data-stream) since the last read of this register.
     These particular bit-fields are the eight least significant bit-fields within this 12-bit expression.
NOTE: The user must induce a "0 to 1 transition" within Bit 3 (Latch Count) within the "Global VT-Mapper Block - VT
         Mapper Block Control Register (Address = 0x0C03) prior to reading out the contents within these bit-fields.
 TABLE 384: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - RECEIVE APS REGISTER - BYTE 0
                          (ADDRESS = 0XND53, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7             BIT 6          BIT 5           BIT 4             BIT 3            BIT 2          BIT 1      BIT 0
                               Unused                                                   Receive APS Value[3:0]
      R/O                R/O           R/O              R/O               R/O             R/O              R/O      R/O
        0                 0              0               0                 0                0               0         0
BIT 7 - 4 - Unused:
     This READ/WTC bit-field indicates whether or not the Change of Receive APS Value event has occurred (within this
     Tributary) since the last time that the user has written a 1 to clear this bit-field. The Receive VT-De-Mapper block will
     declare the Change of Receive APS Value whenever it has accepted a new value from the K4 bytes within the incoming
     VT data-stream.
      0 - Indicates that the Change of Receive APS Value event has NOT occurred since the last time the user has written
     a 1 to clear this bit-field.
      1 - Indicates that the Change of Receive APS Value event has occurred since the last time the user has written a 1
     to clear this bit-field.
BIT 3 - 0 - Receive APS Value[3:0]:
     These four (4) READ-ONLY bit-field reflects the APS value that the VT-De-Mapper block has received (via Bits 1
     through 4, within the K4 byte) and has validated.
TABLE 385: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT APS REGISTER - BYTE 2
                          (ADDRESS = 0XND56, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7             BIT 6          BIT 5           BIT 4             BIT 3            BIT 2          BIT 1      BIT 0
  DS1/E1 AIS DS1/E1 LOC                      Reserved                  Transmit                        Reserved
 - Event Mask -Event Mask                                            Elastic Store
                                                                       Overflow
      R/W                R/O           R/O              R/O              RUR              R/O              R/O      R/O
        0                 0              0               0                 0                0               0         0
BIT 7 - Change of DS1/E1 AIS Defect Condition - Event Mask:
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of DS1/E1 AIS Defect Condition"
     event to/from causing the "Change of DS1/E1 AIS Defect Condition" interrupt to be generated. If the user enables this
                                                                248


                                                                                                                XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    feature, then the VT-Mapper block will assert the "Change of DS1/E1 AIS Defect Condition" interrupt in response to
    either of the following conditions.
    • Whenever the VT-Mapper block declares the "DS1/E1 AIS" defect condition within the Ingress Direction DS1/E1
      Data-stream.
    • Whenever the VT-Mapper block clears the "DS1/E1 AIS" defect condition within the Ingress Direction DS1/E1 Data
      Stream.
     0 - Configures the VT-Mapper Block to NOT generate the "Change of DS1/E1 AIS Defect Condition" interrupt,
    whenever it declares or clears the DS1/E1 AIS defect condition.
     1 - Configures the VT-Mapper Block to generate the "Change of DS1/E1 AIS Defect Condition" interrupt, whenever it
    declares or clears the "DS1/E1 AIS defect condition.
BIT 6 - 4 Reserved:
BIT 3 - Transmit Elastic Store Overflow:
    This RESET-upon-READ bit-field indicates whether or not the VT Mapper block has declared a "Transmit Elastic Store
    Overflow" event since the last read of this register. The VT-Mapper Block will declare a "Transmit Elastic Store
    Overflow" event anytime that the "Transmit FIFO" (within the VT-Mapper block) has experience an "overflow" event.
     0 - Indicates that the "Transmit Elastic Store Overflow" event has NOT occurred since the last read of this register.
     1 - Indicates that the "Transmit Elastic Store Overflow" event has occurred since the last read of this register.
NOTE: The VT-Mapper block will typically handle "small timing offsets" (between the Ingress Direction T1/E1 signal and the
        "Transmit Direction" 19.44MHz or 51.84MHz clock signal via bit-stuffing (as it maps this T1/E1 data into VTs.
        However, if this bit-field is set to "1", this is typically a indication of a significant clock frequency accuracy problem
        within the system.
BIT 0 - Reserved:
   TABLE 386: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT APS/K4 REGISTER
                        (ADDRESS = 0XND57, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT 7            BIT 6            BIT 5             BIT 4            BIT 3           BIT 2            BIT 1         BIT 0
   Unused                            TxERDI                                                     TxAPS[3:0
                                         ]
     R/W               R/W             R/W               R/W               R/O             R/O              R/O          R/O
       0                0                0                  0               0                0               0             0
BIT 7 - Unused:
BIT 6 - 4 - Transmit ERDI-V[2:0]
    These three (3) READ/WRITE bit-fields permit the user to exercise software control over the value of the "ERDI-V" bits
    that are transported via "Bits 5 through 7" (within the K4 byte) within the outbound VT data-stream.
NOTE: This bit-field is only active if both of the following is true.
         a.    The user has configured VT-Mapper/De-Mapper blocks to support the ERDI-V (Extended - RDI-V) form of
               signaling and,
         b.    The user has set Bit 6 (Transmit RDI-V Value) within the "Channel Control - VT Mapper Block - Ingress
               Direction - DS1/E1 Insertion Control Register - 0" to "1".
BIT 3 - 0 - Transmit APS Value[3:0]
    These four (4) READ/WRITE bit-fields permit the user to exercise software control over the value of the "APS" bits that
    are transported via Bits 1 through 4 (within the K4 byte) within the outbound VT data-stream
                                                                  249


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                   REV. 2.0.0
   TABLE 387: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - J2 BYTE STATUS REGISTER
                        (ADDRESS = 0XND63, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT 7          BIT 6        BIT 5         BIT 4        BIT 3            BIT 2              BIT 1           BIT 0
                                Unused                                   TIM-V Defect      VT Path Trace      Unused
                                                                           Declared           Message
                                                                                           Unstable Defect
                                                                                              Declared
      R/O            R/O          R/O           R/O         R/O              R/O                R/O             R/O
       0              0            0             0            0                0                  0               0
BIT 7 - 3 - Unused:
BIT 2 - TIM-V Defect Declared:
     This READ-ONLY bit-field indicates whether or not the VT-De-Mapper block is currently declaring the "VT Trace
     Identification Mismatch" (TIM-V) defect condition.
     The VT-De-Mapper block will declare the TIM-V defect condition, when none of the received 1, 16 or 64-byte string
     (received via the J2 byte, within the incoming VT-data-stream) matches the expected 1, 16 or 64 byte message.
     The VT-De-Mapper block will clear the "TIM-V" defect condition, when 80% of the received 1, 16 or 64 byte string
     (received via the J2 byte) matches the 1, 16 or 64 byte message.
      0 - Indicates that the VT-De-Mapper block is NOT currently declaring the TIM-V defect condition.
      1 - Indicates that the VT-De-Mapper block is currently declaring the TIM-V defect condition.
BIT 1 - VT Path Trace Message Unstable Defect Declared:
     This READ-ONLY bit-field indicates whether or not the VT-De-Mapper block is currently declaring the "VT Path Trace
     Message Unstable" defect condition. The VT-De-Mapper block will declare the "VT Path Trace Message Unstable"
     defect condition, whenever the "VT Path Trace Message Unstable" counter reaches the value "8". The VT-De-Mapper
     block will increment the "VT Path Trace Message Unstable" counter for each time that it receives a "VT Path Trace
     Message" that differs from the previously received message. The "VT Path Trace Message Unstable" counter is cleared
     to "0" whenever the VT-De-Mapper block has received a given "VT Path Trace Message" 3 (or 5) consecutive times.
      0 - Indicates that the VT-De-Mapper block is NOT currently declaring the "VT:Path Trace Message Unstable" defect
     condition.
      1 - Indicates that the VT De-Mapper block is currently declaring the "VT Path Trace Message Unstable" defect
     condition.
NOTE: The VT-De-Mapper block will also set this bit-field "0" anytime it receives a given "VT Path Trace Message" 3 (or 5)
         consecutive times.
BIT 0 - Unused:
  TABLE 388: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - COMPOSITE STATUS REGISTER -
                    BYTE 0 (ADDRESS = 0XND64, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7           BIT 6           BIT 5          BIT 4         BIT 3           BIT 2          BIT 1         BIT 0
                                             Unused                                            Change of    Elastic Store
                                                                                              Receive APS     Overflow
                                                                                                 Value -       Event -
                                                                                               Composite     Composite
      R/O              R/O            R/O            R/O            R/O             R/O           RUR           RUR
        0               0               0              0              0              0              0             0
Bits 7 - 2: Unused:
Bit 1 - Change of Receive APS Value Interrupt:
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "Change of
                                                            250


                                                                                                           XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     Receive APS Value" Interrupt since the last read of this register. The VT-De-Mapper block will generate this interrupt
     whenever it has "accepted" a new "APS" value (from the K4 bytes within the incoming VT-data-stream).
      0 - Indicates that the "Change of Receive APS Value" Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the "Change of Receive APS Value" Interrupt has occurred since the last read of this register.
Bit 0 - Transmit or Receive Elastic Store Overflow Event Interrupt:
     This RESET-upon-READ bit-field indicates whether or not the "VT Mapper/VT-De-Mapper" block has generated the
     "Elastic Store Overflow Event" Interrupt since the last read of this register. The VT-Mapper/De-Mapper block will
     generate this interrupt in response to either of the following conditions.
     • Whenever the "Transmit FIFO" within the VT-Mapper Block, experiences an overflow event.
     • Whenever the "Receive FIFO" within the VT-De-Mapper Block, experiences an overflow event.
      0 - Indicates that the channel has NOT generated an "Elastic Store Overflow" Interrupt since the last read of this
     register.
      1 - Indicates that the channel has generated an "Elastic Store Overflow" interrupt since the last read of this register.
  TABLE 389: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - COMPOSITE STATUS REGISTER -
                    BYTE 0 (ADDRESS = 0XND65, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7            BIT 6            BIT 5            BIT 4          BIT 3          BIT 2          BIT 1            BIT 0
    VT Size         Change of       Change of         Change of      Change of      Change of      Change of       Change of
      Error           LOP-V        RFI-V Defect      RDI-V Defect    AIS-V Fail-  AIS-V Defect     VT Label       DS1/E1 AIS
    Interrupt         Defect         Condition        Condition          ure        Condition       Interrupt         Defect
     Status         Condition         Interrupt        Interrupt     Condition       Interrupt       Status         Condition
                     Interrupt         Status           Status        Interrupt       Status                         Interrupt
                      Status                                           Status                                         Status
      RUR              RUR              RUR              RUR            RUR            RUR            RUR              RUR
         0               0                0                0              0              0               0               0
Bit 7 - VT Size Error Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "VT Size Error"
     Interrupt since the last read of this register. The VT-De-Mapper block will generate the "VT Size Error" Interrupt anytime
     it declares the "VT Size Error" defect condition.
      0 - Indicates that the VT Size Error Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the VT Size Error Interrupt has occurred since the last read of this register.
Bit 6 - Change of LOP-V Defect Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "Change of
     LOP-V Defect Condition" Interrupt since the last read of this register. The VT-De-Mapper block will generate this
     interrupt in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the LOP-V defect condition
     • Whenever the VT-De-Mapper block clears the LOP-V defect condition.
      0 - Indicates that the "Change of LOP-V Defect Condition" Interrupt has NOT occurred since the last read of this
     register.
      1 - Indicates that the "Change of LOP-V Defect Condition" Interrupt has occurred since the last read of this register.
Bit 5 - Change of RFI-V Defect Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "Change of
     RFI-V Defect Condition" Interrupt since the last read of this register. The VT-De-Mapper block will generate this interrupt
     in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the RFI-V defect condition
     • Whenever the VT-De-Mapper block clears the RFI-V defect condition.
      0 - Indicates that the "Change of RFI-V Defect Condition" Interrupt has NOT occurred since the last read of this
                                                                 251


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
     register.
      1 - Indicates that the "Change of RFI-V Defect Condition" Interrupt has occurred since the last read of this register.
Bit 4 - Change of RDI-V Defect Condition Interrupt Status
This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the
"Change of RDI-V Defect Condition" Interrupt since the last read of this register. The VT-De-Mapper block will
generate this interrupt in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the RDI-V defect condition
     • Whenever the VT-De-Mapper block clears the RDI-V defect condition.
      0 - Indicates that the "Change of RDI-V Defect Condition" Interrupt has NOT occurred since the last read of this
     register.
      1 - Indicates that the "Change of RDI-V Defect Condition" Interrupt has occurred since the last read of this register.
Bit 3 - Change of AIS-V Failure Condition Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "Change of
     AIS-V Failure Condition" Interrupt since the last read of this register. The VT-De-Mapper block will generate this
     interrupt in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the AIS-V failure condition
     • Whenever the VT-De-Mapper block clears the AIS-V failure condition.
      0 - Indicates that the "Change of AIS-V Failure Condition" Interrupt has NOT occurred since the last read of this
     register.
      1 - Indicates that the "Change of AIS-V Failure Condition" Interrupt has occurred since the last read of this register.
Bit 2 - Change of AIS-V Defect Condition Interrupt Status
This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the
"Change of AIS-V Defect Condition" Interrupt since the last read of this register. The VT-De-Mapper block will
generate this interrupt in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the AIS-V defect condition
     • Whenever the VT-De-Mapper block clears the AIS-V defect condition.
0 - Indicates that the "Change of AIS-V Defect Condition" Interrupt has NOT occurred since the last read of this
register.
1 - Indicates that the "Change of AIS-V Defect Condition" Interrupt has occurred since the last read of this
register.
Bit 1 - Change of VT Label Value Interrupt Status
     This RESET-upon-READ bit-field indicates whether or not the "Change of VT Label Value" Interrupt has occurred since
     the last read of this register. The VT-De-Mapper block will generate this interrupt anytime it has "accepted" a new VT
     Label value (that it has received via the V5 byte within the incoming VT data-stream).
      0 - Indicates that the "Change of VT Label Value" Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the "Change of VT Label Value" Interrupt has occurred since the last read of this register.
Bit 0 - Change of DS1/E1 AIS Defect Condition Interrupt Status
This RESET-upon-READ bit-field indicates whether or not the "Change of DS1/E1 AIS Defect Condition"
Interrupt has occurred since the last read of this register. The VT-Mapper block will generate this interrupt in
response to any one of the following conditions.
     • Whenever the VT-Mapper block declares the DS1/E1 AIS Defect (with the Ingress Direction T1/E1 traffic).
     • Whenever the VT-Mapper block clears the DS1/E1 AIS Defect (within the Ingress Direction T1/E1 traffic)
      0 - Indicates that the "Change of DS1/E1 AIS Defect Condition" Interrupt has NOT occurred since the last read of this
     register.
      1 - Indicates that the "Change of DS1/E1 AIS Defect Condition" Interrupt has occurred since the last read of this
     register.
                                                               252


                                                                                                          XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    TABLE 390: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT STATUS REGISTER
                        (ADDRESS = 0XND67, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7           BIT 6             BIT 5          BIT 4            BIT 3         BIT 2         BIT 1            BIT 0
             Unused                  Change of    New VT Path        Change of                    Unused
                                      VT Path         Trace            TIM-V
                                       Trace         Message           Defect
                                     Message         Interrupt       Condition
                                      Unstable        Status          Interrupt
                                       Defect                          Status
                                     Condition
                                      Interrupt
                                       Status
      R/O              R/O              RUR            RUR              RUR           R/O           R/O               R/O
        0                0                0              0                0             0             0                 0
Bits 7 - 6 - Unused:
Bit 5 - Change of VT Path Trace Message Unstable Defect Condition Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the "Change of VT Path Trace Message Unstable Defect
     Condition" Interrupt has occurred since the last read of this register. The VT-De-Mapper block will generate this interrupt
     in response to either of the following conditions.
     • Whenever the VT-De-Mapper block declares the "VT Path Trace Message Unstable" Defect condition.
     • Whenever the VT De-Mapper block clears the "VT Path Trace Message Unstable" Defect condition.
      0 - Indicates that the "Change of VT Path Trace Message Unstable Defect Condition" Interrupt has NOT occurred
     since the last read of this register.
      1 - Indicates that the "Change of VT Path Trace Message Unstable Defect Condition" Interrupt has occurred since
     the last read of this register.
Bit 4 - New VT Path Trace Message Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the "New VT Path Trace Message" Interrupt has occurred
     since the last read of this register. The VT-De-Mapper block will generate this interrupt whenever it has "accepted" a
     new "VT Path Trace Message" via the incoming VT-data-stream.
      0 - Indicates that the "New VT Path Trace Message" Interrupt has NOT occurred since the last read of this register.
      1 - Indicates that the "New VT Path Trace Message" Interrupt has occurred since the last read of this register.
Bit 3 - Change of TIM-V Defect Condition Interrupt Status:
     This RESET-upon-READ bit-field indicates whether or not the "VT-De-Mapper" block has generated the "Change of
     TIM-V Defect Condition" interrupt since the last read of this register. The VT-De-Mapper block will generate this
     interrupt in response to either of the following conditions.
     • Whenever it declares the TIM-V Defect condition.
     • Whenever it clears the TIM-V Defect condition.
      0 - Indicates that the "Change of TIM-V Defect Condition" interrupt has NOT occurred since the last read of this
     register.
      1 - Indicates that the "Change of TIM-V Defect Condition" interrupt has occurred since the last read of this register.
Bits 2 - 0 - Unused:
                                                               253


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                            REV. 2.0.0
    TABLE 391: CHANNEL CONTROL - VT-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER
                         (ADDRESS = 0XND68, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7             BIT 6          BIT 5           BIT 4          BIT 3            BIT 2           BIT 1             BIT 0
                                             Unused                                                Change of       Elastic Store
                                                                                                 Receive APS         Overflow
                                                                                                      Value             Event
                                                                                                    Interrupt         Interrupt
                                                                                                      Enable            Enable
       R/O              R/O            R/O             R/O            R/O              R/O             R/W               R/W
         0                0              0               0              0                0               0                 0
Bits 7 - 2: Unused:
Bit 1 - Change of Receive APS Value Interrupt Enable:
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of Receive APS Value" Interrupt.
     If the user enables this interrupt, then the VT-De-Mapper block will generate this interrupt anytime it has "accepted" a
     new APS value (via the K4 byte within the incoming VT-data-stream).
      0 - Disables the "Change of Receive APS Value" Interrupt.
      1 - Enables the "Change of Receive APS Value" Interrupt.
Bit 0 - Transmit or Receive Elastic Store Overflow Event Interrupt Enable:
     This READ/WRITE bit-field permits the user to either enable or disable the "Elastic Store Overflow Event" interrupt. If
     the user enables this interrupt, then the channel will generate this interrupt in response to either of the following
     conditions.
     • Whenever the "Transmit FIFO" within the VT-Mapper Block, experiences an overflow event.
     • Whenever the "Receive FIFO" within the VT-De-Mapper block, experiences an overflow event.
      0 - Disables the "Elastic Store Overflow Event" Interrupt
      1 - Enables the "Elastic Store Overflow Event" Interrupt
 TABLE 392: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER
                         (ADDRESS = 0XND69, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7             BIT 6          BIT 5           BIT 4          BIT 3            BIT 2           BIT 1             BIT 0
    VT Size         Change of       Change of      Change of       Change of       Change of       Change of         Change of
      Error            LOP-V      RFI-V Defect    RDI-V Defect       AIS-V        AIS-V Defect      VT Label           DS1/E1
    Interrupt          Defect       Condition       Condition        Failure         Condition       Interrupt      AIS Defect
     Enable         Condition I      Interrupt       Interrupt     Condition         Interrupt        Enable         Condition
                      nterrupt        Enable          Enable        Interrupt         Enable                           Interrupt
                      Enable                                         Enable                                             Enable
      R/W               R/W            R/W             R/W            R/W              R/W             R/W               R/W
         0                0              0               0              0                0               0                 0
Bit 7 - VT Size Error Interrupt Enable:
     This READ/WRITE bit-field permits the user to either enable or disable the "VT Size Error" Interrupt. If the user enables
     this interrupt, then the "VT-De-Mapper" block will generate this interrupt anytime it declares the "VT Size Error" defect
     condition.
     • 0 - Disables the "VT Size Error" Interrupt.
     • 1 - Enables the "VT Size Error" Interrupt.
Bit 6 - Change of LOP-V Defect Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of LOP-V Defect Condition"
                                                               254


                                                                                                            XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     Interrupt. If the user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt in response to
     either of the following conditions.
     • Whenever it declares the LOP-V Defect Condition
     • Whenever it clears the LOP-V Defect condition
      0 - Disables the "Change of LOP-V Defect Condition" Interrupt
      1 - Enables the "Change of LOP-V Defect Condition" Interrupt
Bit 5 - Change of RFI-V Defect Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of RFI-V Defect Condition"
     Interrupt. If the user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt in response to
     either of the following conditions.
     • Whenever it declares the RFI-V Defect Condition
     • Whenever it clears the RFI-V Defect condition
      0 - Disables the "Change of RFI-V Defect Condition" Interrupt
      1 - Enables the "Change of RFI-V Defect Condition" Interrupt
Bit 4 - Change of RDI-V Defect Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of RDI-V Defect Condition"
     Interrupt. If the user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt in response to
     either of the following conditions.
     • Whenever it declares the RDI-V Defect Condition
     • Whenever it clears the RDI-V Defect condition
      0 - Disables the "Change of RDI-V Defect Condition" Interrupt
      1 - Enables the "Change of RDI-V Defect Condition" Interrupt
Bit 3 - Change of AIS-V Failure Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of AIS-V Failure Condition"
     Interrupt. If the user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt in response to
     either of the following conditions.
     • Whenever it declares the AIS-V Failure Condition
     • Whenever it clears the AIS-V Failure condition
      0 - Disables the "Change of AIS-V Failure Condition" Interrupt
      1 - Enables the "Change of AIS-V Failure Condition" Interrupt
Bit 2 - Change of AIS-V Defect Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of AIS-V Defect Condition"
     Interrupt. If the user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt in response to
     either of the following conditions.
     • Whenever it declares the AIS-V Defect Condition
     • Whenever it clears the AIS-V Defect condition
      0 - Disables the "Change of AIS-V Defect Condition" Interrupt
      1 - Enables the "Change of AIS-V Defect Condition" Interrupt
Bit 1 - Change of VT Label Value Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of VT Label Value" Interrupt. If the
     user enables this interrupt, then the "VT-De-Mapper" block will generate this interrupt anytime it has "accepted" a new
     "VT Label Value" via the V5 bytes within the incoming VT-data-stream.
      0 - Disables the "Change of VT Label Value" Interrupt.
      1 - Enables the "Change of VT Label Value" Interrupt.
Bit 0 - Change of DS1/E1 AIS Defect Condition Interrupt Enable
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of DS1/E1 AIS Defect Condition"
     interrupt. If the user enables this interrupt, then the "VT-Mapper" block will generate this interrupt in response to either
                                                                255


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                      REV. 2.0.0
     of the following events.
     • Whenever it declares the DS1/E1 AIS defect condition.
     • Whenever it clears the DS1/E1 AIS defect condition
      0 - Disables the "Change of DS1/E1 AIS Defect Condition" interrupt.
      1 - Enables the "Change of DS1/E1 AIS Defect Condition" interrupt.
  TABLE 393: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - INTERRUPT ENABLE REGISTER
                        (ADDRESS = 0XND6B, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
    BIT 7         BIT 6           BIT 5                  BIT 4                BIT 3          BIT 2      BIT 1       BIT 0
          Unused              Change of VT          New VT Path        Change of TIM-V                Unused
                               Path Trace          Trace Message       Defect Condition
                                Message            Interrupt Status     Interrupt Status
                            Unstable Defect
                                Condition
                            Interrupt Enable
     R/O          R/O             RUR                    RUR                  RUR             R/O       R/O         R/O
       0            0               0                      0                    0              0          0           0
Bits 7 - 6 - Unused:
Bit 5 - Change of VT Path Trace Message Unstable Defect Condition Interrupt Enable:
     This READ/WRITE bit-field permits the user to either enable or disable the "Change of VT Path Trace Message
     Unstable Defect Condition" interrupt. If the user enables this interrupt, then the VT-De-Mapper block will generate this
     interrupt in response to either of the following events.
     • Whenever the VT-De-Mapper block declares the "VT-Path Trace Message Unstable" defect condition.
     • Whenever the VT-De-Mapper block clears the "VT-Path Trace Message Unstable" defect condition.
      0 - Disables the "Change of VT Path Trace Message Unstable Defect Condition" Interrupt.
      1 - Enables the "Change of VT Path Trace Message Unstable Defect Condition" Interrupt.
Bit 4 - New VT Path Trace Message Interrupt Enable:
     This READ/WRITE bit-field permits the user to either enable or disable the "New VT Path Trace Message" Interrupt. If
     the user enables this interrupt, then the VT-De-Mapper block will generate this interrupt whenever it has "accepted" a
     new "VT Path Trace Message" via the incoming VT-data-stream.
      0 - Disables the "New VT Path Trace Message" Interrupt.
      1 - Enables the "New VT Path Trace Message" Interrupt
Bit 3 - Change of TIM-V Defect Condition Interrupt Enable:
This READ/WRITE bit-field permits the user to either enable or disable the "Change of TIM-V Defect
Condition" Interrupt. If the user enables this interrupt, then the VT-De-Mapper block will generate this interrupt
in response to either of the following events.
     • Whenever it declares the TIM-V Defect Condition
     • Whenever it clears the TIM-V Defect Condition
      0 - Disables the "Change of TIM-V Defect Condition" Interrupt
      1 - Enables the "Change of TIM-V Defect Condition" Interrupt
Bits 2 - 0 - Unused:
                                                               256


                                                                                                           XRT86SH328
REV. 2.0.0                         28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
    TABLE 394: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - VT-PATH TRACE BUFFER
             CONTROL REGISTER (ADDRESS = 0XND71, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7             BIT 6            BIT 5           BIT 4          BIT 3           BIT 2         BIT 1          BIT 0
             Reserved                  Unused        Receive VT        VT Path        VT Path       VT Path Trace Message
                                                      Path Trace        Trace          Trace               Length[1:0]
                                                       Message         Message        Message
                                                     Buffer Select      Accept          Type
                                                                      Threshold
       R/W              R/W              RUR             RUR             RUR            R/O           R/O             R/O
         0                0                0               0              0               0             0              0
Bit 7 - 6 - Reserved
     For Normal Operation, please set these two bit-fields to "0".
Bit 5 - Unused
Bit 4 - Receive VT Path Trace Message Buffer Select:
This READ/WRITE bit-field permits a user to specify which of the following "Receive VT Path Trace Message"
buffer segments that the Microprocessor will read out whenever it reads out the contents of the Receive Path
Trace Message buffer.
           a.   The "Actual" Receive VT Path Trace Message Buffer. The "Actual" Receive VT Path Trace Message Buffer
                contains the contents of the most recently received (and accepted) VT Path Trace Messages via the incoming
                VT-data-stream.
           b.   The "Expected" Receive VT Path Trace Message Buffer. The "Expected" Receive Path Trace Message
                Buffer contains the contents of the "VT Path Trace Message" that the user "expects" to receive. The contents
                of this particular buffer are usually specified by the user.
      0 - Configures the chip to return the contents of the "Actual" Receive VT Path Trace Message" Buffer, whenever the
     user executes a READ to the "Receive VT Path Trace Message" Buffer.
      1 - Configures the chip to return the contents of the "Expected" Receive VT Path Trace Message" Buffer, whenever
     the user executes a READ to the "Receive VT Path Trace Message" Buffer.
Bit 3 - Receive VT Path Trace Message Accept Threshold
     This READ/WRITE bit-field permits a user to select the number of consecutive times that the "VT-De-Mapper" block
     must receive a given "VT Path Trace Message" before it is "validated" and loaded into the "Actual" Receive VT Path
     Trace Message Buffer, as described below.
      0 - Configures the VT-De-Mapper block to "validate" the incoming VT Path Trace Message after it has received it the
     third time in succession.
      1 - Configures the VT-De-Mapper block to "validate" the incoming VT Path Trace Message after it has received it the
     fifth time in succession.
Bit 2 - Receive VT Path Trace Message Type
This READ/WRITE bit-field permits the user to specify how the "VT-De-Mapper" block will locate the boundary
of the incoming VT Path Trace Message (within the incoming VT-data-stream) as depicted below.
      0 - Configures the VT-De-Mapper block to expect the "VT Path Trace Message" boundary to be denoted by a "Line
     Feed" character.
      1 - Configures the VT-De-Mapper block to except the "VT Path Trace Message" boundary to be denoted by the
     presence of a "1" in the "MSB" (Most Significant bit) of the first byte (within the incoming VT Path Trace Message). In
     this case, all of the remaining bytes (within the incoming VT Path Trace Message) will each have a "0" within their MSBs.
Bits 1 - 0 - VT Path Trace Message Length[1:0]:
     These READ/WRITE bit-fields permit the user to specify the length of the "Receive VT Path Trace Message that the
     "VT-De-Mapper" block will accept and load into the "Actual" Receive VT Path Trace Message Buffer. The relationship
     between the contents of these bit-fields and the corresponding "Receive VT Path Trace Message" Length is presented
                                                                 257


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
     below.
                                    VT PATH TRACE MESSAGE          RESULTING VT PATH TRACE
                                           LENGTH[1:0]             MESSAGE LENGTH (BYTES)
                                                 00                            1
                                                 01                            16
                                                 1X                            64
TABLE 395: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - AUTO AIS CONTROL REGISTER -
                    BYTE 1 (ADDRESS = 0XND72, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7            BIT 6          BIT 5             BIT 4          BIT 3          BIT 2          BIT 1          BIT 0
              Unused               Auto Trans-      Auto Trans-       Unused       Auto Trans-   Auto Trans-       Unused
                                    mit AIS-V        mit AIS-V                      mit AIS-V     mit AIS-V
                                   upon AIS-V      upon UNEQ-                     upon LOP-V     upon PLM-V
                                     Defect          V Defect                        Defect         Defect
       R/O             R/O            R/W               R/W            R/O            R/W            R/W             R/O
        0                0              0                 0              0              0              0              0
Bits 7 - 6 - Unused:
Bit 5 - Auto Transmit AIS-V upon AIS-V Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the AIS-V defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the AIS-V defect condition.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the AIS-V defect condition.
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bit 4 - Auto Transmit AIS-V upon UNEQ-V Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the UNEQ-V defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the UNEQ-V defect condition.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the UNEQ-V defect condition.
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bit 3 - Unused:
Bit 2 - Auto Transmit AIS-V upon LOP-V Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the LOP-V defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the LOP-V defect condition.
                                                               258


                                                                                                          XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the LOP-V defect condition.
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bit 1 - Auto Transmit AIS-V upon PLM-V Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the PLM-V defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the PLM-V defect condition.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the PLM-V defect condition.
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bit 0 - Unused:
TABLE 396: CHANNEL CONTROL - VT-DE-MAPPER BLOCK - EGRESS DIRECTION - AUTO AIS CONTROL REGISTER -
                     BYTE 0 (ADDRESS = 0XND73, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7            BIT 6          BIT 5             BIT 4          BIT 3          BIT 2          BIT 1           BIT 0
      Auto             Auto                 Reserved (Set to "[0, 0, 0, 0, 0]" for Normal Operation)                 Auto
   Transmit          Transmit                                                                                      Transmit
  AIS-V upon        AIS-V upon                                                                                      AIS-V
    VT Path        TIM-V Defect                                                                                     Enable
      Trace
   Message
    Unstable
     Defect
      R/W              R/W            R/W               R/W            R/W            R/W            R/W             R/W
        0                0              0                 0              0              0              0               0
Bit 7 - Auto Transmit AIS-V upon VT Path Trace Message Unstable Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the VT Path Trace Message Unstable defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the VT Path Trace Message Unstable defect condition.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the VT Path Trace Message Unstable defect condition.
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bit 6 - Auto Transmit AIS-V upon TIM-V Defect:
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator via the "Egress Direction" traffic (e.g., towards the Transmit T1/E1 LIU Block), anytime (and for the duration
     that) it declares the TIM-V defect condition within the incoming VT-data-stream.
      0 - Does not configure the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream"
     traffic) whenever it declares the TIM-V defect condition.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream" traffic)
     whenever it declares the TIM-V defect condition.
                                                               259


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                        REV. 2.0.0
NOTE: The user must also set Bit 0 (Auto Transmit AIS-V Enable) within the "Channel Control - VT-De-Mapper Block -
          Egress Direction - Receive VT Auto AIS Control" Register to "1" in order to configure the VT-De-Mapper block to
          automatically transmit the AIS-V indicator, in response to this defect condition.
Bits 5 - 1 - Reserved:
Please set each of these bit-fields to "0" for normal operation.
Bit 0 - Auto Transmit AIS-V Enable
     This READ/WRITE bit-field permits the user to configure the VT-De-Mapper block to automatically transmit the AIS-V
     indicator (via the down-stream traffic) whenever (and for the duration that) it declares either the AIS-V, LOP-V, TIM-V,
     UNEQ-V, PLM-V or "VT Path Trace Message Unstable" defect conditions.
      0 - Configures the VT-De-Mapper block to NOT automatically transmit the AIS-V indicator (via the "downstream
     traffic) upon declaration of any of the "above-mentioned" defect conditions.
      1 - Configures the VT-De-Mapper block to automatically transmit the AIS-V indicator (via the "downstream traffic)
     upon declaration of any of the "above-mentioned" defect conditions.
NOTE: The user must also set the corresponding bit-fields (within this register) to "1" in order to configure the VT-De-
          Mapper block to automatically transmit the AIS-V indicator upon detection of a given alarm/defect condition.
TABLE 397: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT J2 BYTE VALUE REGISTER
                        (ADDRESS = 0XND76, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7           BIT 6           BIT 5            BIT 4            BIT 3         BIT 2           BIT 1          BIT 0
                                                   Transmit J2 Byte Value[7:0]
      R/W              R/W             R/W             R/W              R/W            R/W            R/W            R/W
         0               0               0               0                0             0               0              0
Bits 7 - 0 - Transmit J2 Byte Value[7:0]:
     These READ/WRITE bit-fields permit the user to have software control over the value of the J2 byte, within the outbound
     VT data-stream.
     If the user configures the VT-Mapper block to use this register as the source of the J2 byte, then it will automatically
     write the contents of this register into the J2 byte location, within each "outbound" VT multi-frame.
     This feature is enabled whenever the user writes the value "[1, 0]" into Bits 1 and 0 (Transmit VT-Path Trace Message
     Source[1:0]) within the "Channel Control - VT Mapper Block - Ingress Direction - VT Path Trace Message Control"
                                                             NOTICE
EXAR Corporation reserves the right to make changes to the products contained in this publication in order to
improve design, performance or reliability. EXAR Corporation assumes no responsibility for the use of any
circuits described herein, conveys no license under any patent or other right, and makes no representation that
the circuits are free of patent infringement. Charts and schedules contained here in are only for illustration
purposes and may vary depending upon a user’s specific application. While the information in this publication
has been carefully checked; no responsibility, however, is assumed for inaccuracies.
EXAR Corporation does not recommend the use of any of its products in life support applications where the
failure or malfunction of the product can reasonably be expected to cause failure of the life support system or
to significantly affect its safety or effectiveness. Products are not authorized for use in such applications unless
EXAR Corporation receives, in writing, assurances to its satisfaction that: (a) the risk of injury or damage has
been minimized; (b) the user assumes all such risks; (c) potential liability of EXAR Corporation is adequately
protected under the circumstances.
Copyright 2010 EXAR Corporation
Datasheet June 2010.
All effort hs been made to provide correct information in this data sheet, iIf discrepencies are found or more
information is required please contact Exar Application Engineering at <NTApplications@exar.com>
Reproduction, in part or whole, without the prior written consent of EXAR Corporation is prohibited.
                                                                260


                                                                                                     XRT86SH328
REV. 2.0.0                      28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     Register.
     TABLE 398: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT N2 BYTE VALUE
                  REGISTER (ADDRESS = 0XND77, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT 7            BIT 6           BIT 5         BIT 4          BIT 3          BIT 2         BIT 1             BIT 0
                                                 Transmit N2 Byte Value[7:0]
      R/W             R/W             R/W            R/W           R/W            R/W            R/W              R/W
        0               0               0             0              0              0              0                0
Bits 7 - 0 - Transmit N2 Byte Value[7:0]:
These READ/WRITE bit-fields permit the user to have software control over the value of the N2 byte, within the
outbound VT data-stream.
The VT-Mapper block will (unconditionally) use this register as the source of the N2 byte, then it will
automatically write the contents of this register into the J2 byte location, within each "outbound" VT multi-
frame.
     TABLE 399: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT VT-PATH TRACE
      MESSAGE CONTROL REGISTER (ADDRESS = 0XND79, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
     BIT 7            BIT 6           BIT 5         BIT 4          BIT 3          BIT 2         BIT 1             BIT 0
            Reserved                         Unused              Transmit VT Path Trace       Transmit VT Path Trace
                                                                   Message Length[1:0]          Message Source[1:0]
      R/W             R/W             R/W            R/W           R/W            R/W            R/W              R/W
        0               0               0             0              0              0              0                0
Bits 7 - 6 - Reserved:
NOTE: The user must set these two bits to "[0, 0]" for normal operation.
Bit 5 - TxAIS:
Bit 4 - Unused:
Bits 3 - 2 - Transmit VT Path Trace Message Length[1:0]:
     These READ/WRITE bit-fields permit the user to specify the length of the VT Path Trace Message that the VT-Mapper
     block will repeatedly transmit to the remote VT PTE. The relationship between the contents of these bit-fields and the
     corresponding VT Path Trace Message Length is presented below.
                               TRANSMIT VT PATH TRACE     RESULTING VT PATH TRACE MESSAGE
                                MESSAGE LENGTH[1:0]           LENGTH (IN TERMS OF BYTES)
                                            00                            1 Byte
                                            01                           16 Bytes
                                           1X                            64 Bytes
Bits 1 - 0 - Transmit VT Path Trace Message Source[1:0]:
These READ/WRITE bit-fields permit the user to specify the source of the "outbound" VT Path Trace Message
that will transported via the J2 byte channel (within the outbound VT-data-stream) as depicted below.
                                                            261


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                          REV. 2.0.0
  TRANSMIT VT PATH TRACE
                                                      RESULTING SOURCE OF THE VT PATH TRACE MESSAGE
    MESSAGE SOURCE[1:0]
               00                Fixed Value:The VT-Mapper block will automatically set the J2 byte, within the each out-
                                 bound VT-multi-frame to the value "0x01".
               01                The Transmit VT Path Trace Message Buffer:The VT-Mapper Block will read out the con-
                                 tents within the "Transmit VT-Path Trace Message" Buffer, and will transmit this message to
                                 the remote VT PTE.
               10                From the "Transmit J2 Byte Value[7:0]" Register:In this setting, the VT-Mapper block will
                                 read out the contents of the "Transmit J2 Byte Value Register, and will insert this value into
                                 the J2 byte-position within each outbound VT-multi-frame.
               11                                                          DO NOT USE
     TABLE 400: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL
             REGISTER - BYTE 3 (ADDRESS = 0XND84, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7           BIT 6            BIT 5            BIT 4          BIT 3          BIT 2           BIT 1           BIT 0
    Unused           Unused          Unused           Unused                                                        Transmit
                                                                              PLM-V RDI CODE[2:0]                 RDI-V upon
                                                                                                                     PLM-V
      R/W             R/W              R/W              R/W             R/W           R/W             R/W              R/W
        0               0                0                0               0             1               0               0
Bits 7 - 4 - Unused:
Bits 3- 1 - PLM-V RDI Code[2:0]:
     These three READ/WRITE bit-field permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) whenever (and for the duration that) the
     corresponding VT-De-Mapper block detects and declare the PLM-V defect condition.
NOTE: In order to enable this feature, the user must set Bit 0 (Transmit RDI-V upon PLM-V) within this register to "1".
Bit 0 - Transmit RDI-V upon PLM-V
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RDI Code
     (as configured in Bits 3 through 1 - within this register) towards the remote VT PTE whenever (and for the duration that)
     the corresponding VT-De-Mapper block declares the PLM-V defect condition.
      0 - Configures the VT-Mapper block to NOT automatically transmit the RDI Code (via the K4 byte) whenever (and for
     the duration that) the corresponding VT-De-Mapper block declares the PLM-V defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RDI Code (via the K4 byte) whenever (and for the
     duration that) the corresponding VT-De-Mapper block declares the PLM-V defect condition.
     TABLE 401: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL
             REGISTER - BYTE 2 (ADDRESS = 0XND85, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7           BIT 6            BIT 5            BIT 4          BIT 3          BIT 2           BIT 1           BIT 0
             TIM-V RDI CODE[2:0]                      Transmit               UNEQ-V RDI CODE[2:0]                   Transmit
                                                    RDI-V upon                                                    RDI-V upon
                                                       TIM-V                                                        UNEQ-V
      R/W             R/W              R/W              R/W             R/W           R/W             R/W              R/W
        1               1                0                0               1             1               0               0
                                                                 262


                                                                                                        XRT86SH328
REV. 2.0.0                       28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
Bits 7 - 5 - TIM-V RDI Code[2:0]:
     These three READ/WRITE bit-field permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) whenever (and for the duration that) the
     corresponding VT-De-Mapper block detects and declare the TIM-V defect condition.
NOTE: In order to enable this feature, the user must set Bit 0 (Transmit RDI-V upon TIM-V) within this register to "1".
Bit 4 - Transmit RDI-V upon TIM-V
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RDI Code
     (as configured in Bits 3 through 1 - within this register) towards the remote VT PTE whenever (and for the duration that)
     the corresponding VT-De-Mapper block declares the TIM-V defect condition.
      0 - Configures the VT-Mapper block to NOT automatically transmit the RDI Code (via the K4 byte) whenever (and for
     the duration that) the corresponding VT-De-Mapper block declares the TIM-V defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RDI Code (via the K4 byte) whenever (and for the
     duration that) the corresponding VT-De-Mapper block declares the TIM-V defect condition.
Bits 3 - 1 - UNEQ-V RDI Code[2:0]:
     These three READ/WRITE bit-field permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) whenever (and for the duration that) the
     corresponding VT-De-Mapper block detects and declare the UNEQ-V defect condition.
NOTE: In order to enable this feature, the user must set Bit 0 (Transmit RDI-V upon UNEQ-V) within this register to "1".
Bit 0 - Transmit RDI-V upon UNEQ-V
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RDI Code
     (as configured in Bits 3 through 1 - within this register) towards the remote VT PTE whenever (and for the duration that)
     the corresponding VT-De-Mapper block declares the UNEQ-V defect condition.
      0 - Configures the VT-Mapper block to NOT automatically transmit the RDI Code (via the K4 byte) whenever (and for
     the duration that) the corresponding VT-De-Mapper block declares the UNEQ-V defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RDI Code (via the K4 byte) whenever (and for the
     duration that) the corresponding VT-De-Mapper block declares the UNEQ-V defect condition.
                                                             NOTICE
EXAR Corporation reserves the right to make changes to the products contained in this publication in order to
improve design, performance or reliability. EXAR Corporation assumes no responsibility for the use of any
circuits described herein, conveys no license under any patent or other right, and makes no representation that
the circuits are free of patent infringement. Charts and schedules contained here in are only for illustration
purposes and may vary depending upon a user’s specific application. While the information in this publication
has been carefully checked; no responsibility, however, is assumed for inaccuracies.
EXAR Corporation does not recommend the use of any of its products in life support applications where the
failure or malfunction of the product can reasonably be expected to cause failure of the life support system or
to significantly affect its safety or effectiveness. Products are not authorized for use in such applications unless
EXAR Corporation receives, in writing, assurances to its satisfaction that: (a) the risk of injury or damage has
been minimized; (b) the user assumes all such risks; (c) potential liability of EXAR Corporation is adequately
protected under the circumstances.
Copyright 2010 EXAR Corporation
Datasheet June 2010.
All effort hs been made to provide correct information in this data sheet, iIf discrepencies are found or more
information is required please contact Exar Application Engineering at <NTApplications@exar.com>
Reproduction, in part or whole, without the prior written consent of EXAR Corporation is prohibited.
                                                                 263


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                                       REV. 2.0.0
     TABLE 402: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL
             REGISTER - BYTE 1 (ADDRESS = 0XND86, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7            BIT 6          BIT 5             BIT 4          BIT 3          BIT 2        BIT 1           BIT 0
             LOP-V RDI CODE[2:0]                      Transmit                AIS-V RDI CODE[2:0]                Transmit
                                                    RDI-V upon                                                  RDI-V upon
                                                       LOP-V                                                       AIS-V
      R/W              R/W            R/W               R/W             R/W           R/W           R/W             R/W
        1                0              1                 0               1             0            1                0
Bits 7 - 5 - LOP-V RDI Code[2:0]:
     These three READ/WRITE bit-field permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) whenever (and for the duration that) the
     corresponding VT-De-Mapper block detects and declare the LOP-V defect condition.
NOTE: In order to enable this feature, the user must set Bit 0 (Transmit RDI-V upon LOP-V) within this register to "1".
Bit 4 - Transmit RDI-V upon LOP-V
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RDI Code
     (as configured in Bits 3 through 1 - within this register) towards the remote VT PTE whenever (and for the duration that)
     the corresponding VT-De-Mapper block declares the LOP-V defect condition.
      0 - Configures the VT-Mapper block to NOT automatically transmit the RDI Code (via the K4 byte) whenever (and for
     the duration that) the corresponding VT-De-Mapper block declares the LOP-V defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RDI Code (via the K4 byte) whenever (and for the
     duration that) the corresponding VT-De-Mapper block declares the LOP-V defect condition.
Bits 3 - 1 - AIS-V RDI Code[2:0]:
     These three READ/WRITE bit-field permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) whenever (and for the duration that) the
     corresponding VT-De-Mapper block detects and declare the AIS-V defect condition.
NOTE: In order to enable this feature, the user must set Bit 0 (Transmit RDI-V upon AIS-V) within this register to "1".
Bit 0 - Transmit RDI-V upon AIS-V
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RDI Code
     (as configured in Bits 3 through 1 - within this register) towards the remote VT PTE whenever (and for the duration that)
     the corresponding VT-De-Mapper block declares the AIS-V defect condition.
      0 - Configures the VT-Mapper block to NOT automatically transmit the RDI Code (via the K4 byte) whenever (and for
     the duration that) the corresponding VT-De-Mapper block declares the AIS-V defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RDI Code (via the K4 byte) whenever (and for the
     duration that) the corresponding VT-De-Mapper block declares the AIS-V defect condition.
     TABLE 403: CHANNEL CONTROL - VT-MAPPER BLOCK - INGRESS DIRECTION - TRANSMIT RDI-V CONTROL
             REGISTER - BYTE 0 (ADDRESS = 0XND87, WHERE N RANGES IN VALUE FROM 0X01 TO 0X1C)
      BIT 7            BIT 6          BIT 5             BIT 4          BIT 3          BIT 2        BIT 1           BIT 0
 RFI-V upon                  Unused                          Transmit RDI-V Value[2:0]          RDI-V Type      RDI-V Insert
 DS1/E1 RAI                                                                                                        Type
    Enable
      R/W              R/W            R/W               R/W             R/W           R/W           R/W             R/W
        1                0              1                 0               1             0            1                0
Bit 7 - RFI-V upon DS1/E1 RAI Enable:
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to automatically transmit the RFI-V
     indicator (within the outbound VT-data-stream) whenever (and for the duration) that the corresponding Ingress Direction
                                                                 264


                                                                                                         XRT86SH328
REV. 2.0.0                        28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13
     Receive DS1/E1 Framer block declares the RAI defect condition.
      0 - Does not configure the VT-Mapper block to automatically transmit the RFI-V indicator whenever (and for the
     duration) that the corresponding Ingress Direction Receive DS1/E1 Framer block declares the RAI defect condition.
      1 - Configures the VT-Mapper block to automatically transmit the RFI-V indicator whenever (and for the duration) that
     the corresponding Ingress Direction Receive DS1/E1 Framer block declares the RAI defect condition.
Bits 6 - 5 - Unused:
Bits 4 - 2 - Transit RDI-V Value[2:0]:
     These three READ/WRITE bit-fields permits the user to specify the value that the VT-Mapper block will transmit, within
     the RDI-V bit-fields of the K4 byte (within each outbound VT-frame) regardless of any defects that the corresponding
     VT-De-Mapper block is (or is NOT) currently declaring.
NOTE: The user MUST set bit 0 (RDI-V Insert Type) within this register to "1" in order to configure the VT-Mapper block to
          use these bit-fields as the "source" of the RDI-V value.
Bit 1 - RDI-V Type
     This READ/WRITE bit-field permits the user to configure the VT-Mapper block to either support the "SRDI-V" (Single-
     Bit - RDI-V) or "ERDI-V" (Extended - RDI-V) form of signaling. If the user opts to use only "Single-Bit" RDI-V, then the
     RDI-V indicator will only be transported via Bit 8 (RDI-V) within the V5 byte in a VT-data-stream. Conversely, if the user
     opts to use the "Extended" RDI-V, then the RDI-V indicator will be transported via both Bit 8 (RDI-V) within the V5 byte,
     and Bits 5, 6 and 7 within the Z7/K4 byte.
      0 - Configures the VT Mapper block to use the SRDI-V form of signaling.
      1 - Configures the VT-Mapper block to use the ERDI-V form of signaling.
NOTE: This configuration setting only applies to the VT-Mapper block. If the user wishes to configure the VT-De-Mappe
          block to support either the "SRDI-V" or the "ERDI-V" form of signaling, then he/she must set Bit 0 (RDI-V Type)
          within the "Channel Control - VT-De-Mapper Block - Egress Direction - DS1/E1 Drop Control Register - Byte 2.
Bit 0 - RDI-V Insert Type:
     This READ/WRITE bit-field permits the user to select the source of the RDI-V code word that the VT-Mapper block will
     transmit within the outbound VT-data-stream, as depicted below. In this case, the user has two options.
     • To configure the VT-Mapper block to transmit the appropriate RDI-V code (based upon defects that the
       corresponding VT-De-Mapper block declares). In this case, the VT-Mapper block will transmit the RDI-V codes, as
       configured in the "Channel Control - VT Mapper Block - Ingress Direction - Transmit RDI-V Control Register - Bytes 3
       - 1" registers.
     • To configure the VT-Mapper block to use the value written into the "Transmit RDI-V Value[2:0]" bit-fields within this
       register.
      0 - Configures the VT-Mapper block to transmit the appropriate RDI-V code (based upon defects that the
     corresponding VT-De-Mapper block declares).
      1 - Configures the VT-Mapper block to use the value written into the "Transmit RDI-V Value[2:0]" bit-fields within this
     register.
                                                              265


XRT86SH328
28-CHANNEL SONET/SDH VT MAPPER REGISTER DESCRIPTION WITH M13                                       REV. 2.0.0
REVISION HISTORY
   REVISION #     DATE                                        DESCRIPTION
     1.0.0      May 2008   Final release datasheet of the XRT86SH328 SONET/SDH VT Mapper Register
                           Description.
     1.0.1     August 2008 Updated register description 0x0036, 0x0202, 0x0203, 0x022B, 0x027A, 0x027B,
                           0x027F, 0x0281, 0x0287, 0x028A, 0x0293, 0x02A3, 0x02AB, 0x02B3, 0x024F,
                           0x0700, 0x0701, 0x0717, 0x074F, 0x0781, 0x0783, 0x0793, 0x07BB. Corrected
                           Receive and Transmit Section and Path Trace Buffer address locations on register
                           0x020A, 0x024F, 0x02A3, 0x07BB.
     2.0.0      June 2010  Added registers 0x0080 - 0x0087 for DJ-FIFO size and status, added description of
                           FP_Is_2khz funcitonality to the TBCR0 Reg (0x0037 bit 5), updated reg descriptions
                           for reg 0x26Bh (D0), 0x783h (D1), 0xE21h (D[7:0]), 0xND84h and the default states
                           for registers 0x7C9h, 0x7CAh, 0x7CBh
                                                 266


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 XRT86SH328IB XRT86SH328OR XRT86SH328IB-F XRT86SH328ES
