                                                              OCTAL E1 SHORT HAUL                                                                                  IDT82V2058
                                                              LINE INTERFACE UNIT
FEATURES

    Fully integrated octal E1 short haul line interface which                                                
                                                                                                                 Low impedance transmit drivers with high-Z
    supports 120 Ω E1 twisted pair and 75 Ω E1 coaxial                                                       
                                                                                                                 Selectable hardware and parallel/serial host interface
    applications                                                                                             
                                                                                                                 Local and Remote Loopback test functions

    Selectable Single Rail mode or Dual Rail mode and AMI or                                                 
                                                                                                                 Hitless Protection Switching (HPS) for 1 to 1 protection without
    HDB3 encoder/decoder                                                                                         relays

    Built-in transmit pre-equalization meets G.703                                                           
                                                                                                                 JTAG boundary scan for board test

    Selectable transmit/receive jitter attenuator meets ETSI CTR12/                                          
                                                                                                                 3.3 V supply with 5 V tolerant I/O
    13, ITU G.736, G.742 and G.823 specifications                                                               Low power consumption

    SONET/SDH optimized jitter attenuator meets ITU G.783                                                    
                                                                                                                 Operating temperature range: -40°C to +85°C
    mapping jitter specification                                                                             
                                                                                                                 Available in 144-pin Thin Quad Flat Pack (TQFP) and 160-pin
   Digital/Analog LOS detector meets ITU G.775 and ETS 300 233                                                  Plastic Ball Grid Array (PBGA) packages

    ITU G.772 non-intrusive monitoring for in-service testing for                                                Green package options available
    any one of channel 1 to channel 7
FUNCTIONAL BLOCK DIAGRAM
                                                                                                                   One of Eight Identical Channels
                                                                                              LOS
                                                                                                                                                                           LOSn
                                                                                             Detector
       RTIPn                                                                                 CLK&Data                                                                      RCLKn
                                                                                                                      Jitter          HDB3/AMI
                                                                            Slicer           Recovery                                                                    RDn/RDPn
     RRINGn                                                                                                        Attenuator          Decoder                            CVn/RDNn
                                                                                              (DPLL)
                                                                                                                                                       AIS
                                     Analog             Peak                                         Digital                     Remote              Detector
                                    Loopback           Detector                                     Loopback                    Loopback
       TTIPn                                               Line                              Waveform                 Jitter          HDB3/AMI                             TCLKn
                                                                                                                                                                          TDn/TDPn
     TRINGn                                               Driver                              Shaper               Attenuator          Encoder                           BPVIn/TDNn
                                                                                             Transmit
                                                                                             All Ones
                                                                                                                                                                VDD IO
                    G.772                     Clock                                                               Register
                                                                                     Control Interface                             JTAG TAP                     VDDT
                    Monitor                  Generator                                                              File
                                                                                                                                                                VDDD
                                                                                                                                                                VDDA
                                                                                       OE
                                                MCLK
                                                                                                                                TRST
                                                                                     CLKE                                       TCK
                                                                                                                                TMS
                                                                                MODE[2:0]                                        TDI
                                                                                                                                TDO
                                                                                   CS/JAS
                                                                            SCLK/ALE/AS
                                                                                  RD/R/W
                                                                               SDI/WR/DS
                                                                           SDO/RDY/ACK
                                                                                       INT
                                                                     LP[7:0]/D[7:0]/AD[7:0]
                                                                             MC[3:0]/A[4:0]
                                                                                     Figure-1 Block Diagram
IDT and the IDT logo are trademarks of Integrated Device Technology, Inc.                                                                                            January 21, 2010
                                                                                                         1
 2010- Integrated Device Technology, Inc.                                                                                                                                     DSC-6038/12


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                           INDUSTRIAL TEMPERATURE RANGES
DESCRIPTION
    The IDT82V2058 is a single chip, 8-channel E1 short haul PCM                       The IDT82V2058 offers hardware control mode and software control
transceiver with a reference clock of 2.048 MHz. The IDT82V2058                    mode. Software control mode works with either serial host interface or
contains 8 transmitters and 8 receivers.                                           parallel host interface. The latter works via an Intel/Motorola compatible
                                                                                   8-bit parallel interface for both multiplexed or non-multiplexed applica-
    All the receivers and transmitters can be programmed to work either
                                                                                   tions. Hardware control mode uses multiplexed pins to select different
in Single Rail mode or Dual Rail mode. HDB3 or AMI encoder/decoder is
                                                                                   operation modes when the host interface is not available to the device.
selectable in Single Rail mode. Pre-encoded transmit data in NRZ
format can be accepted when the device is configured in Dual Rail                      The IDT82V2058 also provides loopback and JTAG boundary scan
mode. The receivers perform clock and data recovery by using inte-                 testing functions. Using the integrated monitoring function, the
grated digital phase-locked loop. As an option, the raw sliced data (no            IDT82V2058 can be configured as a 7-channel transceiver with non-
retiming) can be output on the receive data pins. Transmit equalization is         intrusive protected monitoring points.
implemented with low-impedance output drivers that provide shaped
                                                                                       The IDT82V2058 can be used for SDH/SONET multiplexers, central
waveforms to the transformer, guaranteeing template conformance.                   office or PBX, digital access cross connects, digital radio base stations,
   A jitter attenuator is integrated in the IDT82V2058 and can be                  remote wireless modules and microwave transmission systems.
switched into either the transmit path or the receive path for all channels.
The jitter attenuation performance meets ETSI CTR12/13, ITU G.736,
G.742 and G.823 specifications.
PIN CONFIGURATIONS
                                           TD4/TDP4
                                           TCLK4
                                           LOS5
                                           CV5/RDN5
                                           RD5/RDP5
                                           RCLK5
                                           BPVI5/TDN5
                                           TD5/TDP5
                                           TCLK5
                                           TDI
                                           TDO
                                           TCK
                                           TMS
                                           TRST
                                           IC
                                           IC
                                           VDDIO
                                           GNDIO
                                           VDDA
                                           GNDA
                                           MODE0/CODE
                                           CS/JAS
                                           SCLK/ALE/AS
                                           RD/R/W
                                           SDI/WR/DS
                                           SDO/RDY/ACK
                                           INT
                                           TCLK2
                                           TD2/TDP2
                                           BPVI2/TDN2
                                           RCLK2
                                           RD2/RDP2
                                           CV2/RDN2
                                           LOS2
                                           TCLK3
                                           TD3/TDP3
                                           108
                                           107
                                           106
                                           105
                                           104
                                           103
                                           102
                                           101
                                           100
                                            99
                                            98
                                            97
                                            96
                                            95
                                            94
                                            93
                                            92
                                            91
                                            90
                                            89
                                            88
                                            87
                                            86
                                                                                                                              BPVI3/TDN3
                                            85
                                            84
                                                                                                                        72
                                            83
                                            82
                                            81
                                            80
                                     109
                                            79
                       BPVI4/TDN4
                                            78
                                            77
                                            76
                                            75
                                            74
                                            73
                           RCLK4     110                                                                                71    RCLK3
                        RD4/RDP4     111                                                                                70    RD3/RDP3
                        CV4/RDN4     112                                                                                69    CV3/RDN3
                             LOS4    113                                                                                68    LOS3
                               OE    114                                                                                67    RTIP3
                             CLKE    115                                                                                66    RRING3
                           VDDT4     116                                                                                65    VDDT3
                             TTIP4   117                                                                                64    TTIP3
                          TRING4     118                                                                                63    TRING3
                           GNDT4     119                                                                                62    GNDT3
                            RTIP4    120                                                                                61    RRING2
                          RRING4     121                                                                                60    RTIP2
                           GNDT5     122                                                                                59    GNDT2
                          TRING5     123                                                                                58    TRING2
                             TTIP5   124                                                                                57    TTIP2
                                     125                                                                                56    VDDT2
                           VDDT5
                          RRING5     126
                                                                      IDT82V2058                                        55    RTIP1
                            RTIP5    127                               (Top View)                                       54    RRING1
                           VDDT6     128                                                                                53    VDDT1
                             TTIP6   129                                                                                52    TTIP1
                          TRING6     130                                                                                51    TRING1
                           GNDT6     131                                                                                50    GNDT1
                            RTIP6    132                                                                                49    RRING0
                          RRING6     133                                                                                48    RTIP0
                           GNDT7     134                                                                                47    GNDT0
                          TRING7     135                                                                                46    TRING0
                                     136                                                                                45    TTIP0
                             TTIP7
                           VDDT7     137                                                                                44    VDDT0
                                     138                                                                                43    MODE1
                          RRING7
                                     139                                                                                42    LOS0
                            RTIP7
                                     140                                                                                41    CV0/RDN0
                             LOS7
                                     141                                                                                40    RD0/RDP0
                        CV7/RDN7
                                     142                                                                                39    RCLK0
                        RD7/RDP7
                                     143                                                                                38    BPVI0/TDN0
                           RCLK7
                                     144                                                                                37    TD0/TDP0
                       BPVI7/TDN7          1
                                           2
                                           3
                                           4
                                           5
                                           6
                                           7
                                           8
                                           9
                                           10
                                           11
                                           12
                                           13
                                           14
                                           15
                                           16
                                           17
                                           18
                                           19
                                           20
                                           21
                                           22
                                           23
                                           24
                                           25
                                           26
                                           27
                                           28
                                           29
                                           30
                                           31
                                           32
                                           33
                                           34
                                           35
                                           36
                                             TD7/TDP7
                                                TCLK7
                                                 LOS6
                                            CV6/RDN6
                                            RD6/RDP6
                                               RCLK6
                                           BPVI6/TDN6
                                             TD6/TDP6
                                                TCLK6
                                                 MCLK
                                               MODE2
                                                   A4
                                               MC3/A3
                                               MC2/A2
                                               MC1/A1
                                               MC0/A0
                                                VDDIO
                                               GNDIO
                                                 VDDD
                                                GNDD
                                           LP0/D0/AD0
                                           LP1/D1/AD1
                                           LP2/D2/AD2
                                           LP3/D3/AD3
                                           LP4/D4/AD4
                                           LP5/D5/AD5
                                           LP6/D6/AD6
                                           LP7/D7/AD7
                                                TCLK1
                                             TD1/TDP1
                                           BPVI1/TDN1
                                               RCLK1
                                            RD1/RDP1
                                            CV1/RDN1
                                                 LOS1
                                                TCLK0
                                               Figure-2 TQFP144 Package Pin Assignment
                                                                               2


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                     INDUSTRIAL TEMPERATURE RANGES
           A      B     C     D       E     F     G      H     J     K   L     M      N    P
     1    RCLK  TCLK  RCLK  TCLK          MC                  LP    LP TCLK  RCLK   TCLK RCLK    1
                                   MCLK        VDDIO VDDD
            7     7     6     6             1                  6     7   1     1      0    0
     2    RDP    TDP   RDP   TDP   MODE   MC     LP     LP    LP  MODE  TDP   RDP    TDP  RDP
                                                                                                 2
            7     7     6     6       2     2     0      2     5     1   1     1      0    0
     3    RDN   TDN    RDN   TDN    LOS   MC     MC     LP    LP   LOS  TDN   RDN    TDN  RDN
                                                                                                 3
            7     7     6     6       6     3     0      1     4     1   1     1      0    0
     4    VDDT  VDDT  VDDT  VDDT    LOS                       LP   LOS VDDT  VDDT   VDDT VDDT
                                           A4  GNDIO GNDD                                        4
            7     7     6     6       7                        3     0   1     1      0    0
         TRING  TTIP  TRING  TTIP                                       TTIP TRING  TTIP TRING
     5                                                                                           5
            7     7     6     6                                          1     1      0    0
          GNDT GNDT GNDT GNDT                                          GNDT GNDT GNDT GNDT
     6                                                                                           6
            7     7     6     6                                          1     1      0    0
          RTIP RRING   RTIP RRING                                      RRING  RTIP RRING  RTIP
     7                                                                                           7
            7     7     6     6                                          1     1      0    0
                                                 IDT82V2058
          RTIP RRING   RTIP RRING               (Bottom View)          RRING  RTIP RRING  RTIP
     8                                                                                           8
            4     4     5     5                                          2     2      3    3
          GNDT GNDT GNDT GNDT                                          GNDT GNDT GNDT GNDT
     9                                                                                           9
            4     4     5     5                                          2     2      3    3
         TRING  TTIP  TRING  TTIP                                       TTIP TRING  TTIP TRING
    10      4     4     5     5                                          2     2      3    3    10
          VDDT  VDDT  VDDT  VDDT    LOS                            LOS VDDT  VDDT   VDDT VDDT
    11                                    TMS  GNDIO GNDA     CS                                11
            4     4     5     5       4                              3   2     2      3    3
          RDN   TDN    RDN   TDN    LOS                MODE        LOS  TDN   RDN    TDN  RDN
    12                                    TDI  TRST         SCLK                                12
            4     4     5     5       5                  0           2   2     2      3    3
          RDP    TDP   RDP   TDP                                        TDP   RDP    TDP  RDP
    13                             CLKE   TDO    IC     IC    RD   INT                          13
            4     4     5     5                                          2     2      3    3
          RCLK  TCLK  RCLK  TCLK                                       TCLK  RCLK   TCLK RCLK
    14                               OE   TCK  VDDIO VDDA     SDI SDO                           14
            4     4     5     5                                          2     2      3    3
           A      B     C     D       E     F     G      H     J     K   L     M      N    P
                                Figure-3 PBGA160 Package Pin Assignment
                                                     3


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                            INDUSTRIAL TEMPERATURE RANGES
1          PIN DESCRIPTION
Table-1 Pin Description
                                                Pin No.
      Name               Type                                                                                        Description
                                      TQFP144          PBGA160
                                                                         Transmit and Receive Line Interface
      TTIP0                               45               N5
      TTIP1                               52               L5
      TTIP2                               57               L10
      TTIP3                               64              N10
      TTIP4                              117              B10
      TTIP5                              124              D10
      TTIP6                              129               D5
                                                                    TTIPn/TRINGn: Transmit Bipolar Tip/Ring for Channel 0~7
      TTIP7                              136               B5
                        Analog                                      These pins are the differential line driver outputs. They will be in high-Z if pin OE is low or the correspond-
                        Output                                      ing pin TCLKn is low (pin OE is global control, while pin TCLKn is per-channel control). In host mode, each
     TRING0                               46               P5
                                                                    pin can be in high-Z by programming a ‘1’ to the corresponding bit in register OE(1).
     TRING1                               51               M5
     TRING2                               58              M10
     TRING3                               63               P10
     TRING4                              118              A10
     TRING5                              123              C10
     TRING6                              130               C5
     TRING7                              135               A5
      RTIP0                               48               P7
      RTIP1                               55               M7
      RTIP2                               60               M8
      RTIP3                               67               P8
      RTIP4                              120               A8
      RTIP5                              127               C8
      RTIP6                              132               C7
      RTIP7                              139               A7
                        Analog                                      RTIPn/RRINGn: Receive Bipolar Tip/Ring for Channel 0~7
                         Input                                      These pins are the differential line receiver inputs.
     RRING0                               49               N7
     RRING1                               54               L7
     RRING2                               61               L8
     RRING3                               66               N8
     RRING4                              121               B8
     RRING5                              126               D8
     RRING6                              133               D7
     RRING7                              138               B7
1. Register name is indicated by bold capital letter. For example, OE indicates Output Enable Register.
                                                                                             4


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                          INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                             Description
                           TQFP144    PBGA160
                                               Transmit and Receive Digital Data Interface
                                              TDn: Transmit Data for Channel 0~7
                                              When the device is in Single Rail mode, the NRZ data to be transmitted is input on this pin. Data on TDn is
                                              sampled into the device on the falling edges of TCLKn, and encoded by AMI or HDB3 line code rules
   TD0/TDP0                   37         N2
                                              before being transmitted to the line.
   TD1/TDP1                   30         L2
   TD2/TDP2                   80         L13
                                              BPVIn: Bipolar Violation Insertion for Channel 0~7
   TD3/TDP3                   73         N13
                                              Bipolar violation insertion is available in Single Rail mode 2 (see Table-2 on page 13 and Table-3 on page
   TD4/TDP4                  108         B13
                                              14) with AMI enabled. A low-to-high transition on this pin will make the next logic one to be transmitted on
   TD5/TDP5                  101         D13
                                              TDn the same polarity as the previous pulse, and violate the AMI rule. This is for testing.
   TD6/TDP6                    8         D2
   TD7/TDP7                    1         B2
                                              TDPn/TDNn: Positive/Negative Transmit Data for Channel 0~7
                   I
                                              When the device is in Dual Rail Mode, the NRZ data to be transmitted for positive/negative pulse is input
  BPVI0/TDN0                  38         N3
                                              on this pin. Data on TDPn/TDNn are sampled on the falling edges of TCLKn. The line code in dual rail
  BPVI1/TDN1                  31         L3
                                              mode is as the follow:
  BPVI2/TDN2                  79         L12
  BPVI3/TDN3                  72         N12              TDPn                  TDNn               Output Pulse
  BPVI4/TDN4                 109         B12                 0                      0                 Space
  BPVI5/TDN5                 102         D12                 0                      1             Negative Pulse
  BPVI6/TDN6                   7         D3                  1                      0              Positive Pulse
  BPVI7/TDN7                 144         B3                  1                      1                 Space
                                              Pulling pin TDNn high for more than 16 consecutive TCLK clock cycles will configure the corresponding
                                              channel into Single Rail mode 1 (see Table-2 on page 13 and Table-3 on page 14).
                                              TCLKn: Transmit Clock for Channel 0~7
                                              The clock of 2.048 MHz for transmit is input on this pin. The transmit data at TDn/TDPn or TDNn is sam-
                                              pled into the device on the falling edges of TCLKn.
                                              Pulling TCLKn high for more than 16 MCLK cycles, the corresponding transmitter is set in Transmit All
                                              Ones (TAOS) state (when MCLK is clocked). In TAOS state, the TAOS generator adopts MCLK as the
                                              clock reference.
                                              If TCLKn is low, the corresponding transmit channel is set into power down state, while driver output ports
                                              become high-Z.
                                              Different combinations of TCLKn and MCLK result in different transmit mode. It is summarized as the fol-
    TCLK0                     36         N1   lows:
    TCLK1                     29         L1       MCLK             TCLKn                                         Transmit Mode
    TCLK2                     81         L14     Clocked          Clocked          Normal operation
    TCLK3                     74         N14                                       Transmit All Ones (TAOS) signals to the line side in the corresponding
                   I                             Clocked    High (≥ 16 MCLK)
    TCLK4                    107         B14                                       transmit channel.
    TCLK5                    100         D14     Clocked     Low (≥ 64 MCLK) The corresponding transmit channel is set into power down state.
    TCLK6                      9         D1                                        TCLKn is clocked Normal operation
    TCLK7                      2         B1                                        TCLKn is high         Transmit All Ones (TAOS) signals to the line side
                                                                                   (≥ 16 TCLK1)          in the corresponding transmit channel.
                                                                                   TCLKn is low          Corresponding transmit channel is set into power
                                                High/Low     TCLK1 is clocked
                                                                                   (≥ 64 TCLK1)          down state.
                                                                                   The receive path is not affected by the status of TCLK1. When MCLK
                                                                                   is high, all receive paths just slice the incoming data stream. When
                                                                                   MCLK is low, all the receive paths are powered down.
                                                            TCLK1 is unavail-
                                                High/Low                           All eight transmitters (TTIPn & TRINGn) will be in high-Z.
                                                            able.
                                                                       5


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                       INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                           Description
                           TQFP144    PBGA160
                                              RDn: Receive Data for Channel 0~7
                                              In Single Rail mode, the received NRZ data is output on this pin. The data is decoded by AMI or HDB3 line
   RD0/RDP0                   40         P2   code rule.
   RD1/RDP1                   33         M2
   RD2/RDP2                   77         M13  CVn: Code Violation for Channel 0~7
   RD3/RDP3                   70         P13  In Single Rail mode, the bipolar violation, code violation and excessive zeros will be reported by driving pin
   RD4/RDP4                  111         A13  CVn high for a full clock cycle. However, only bipolar violation is indicated when AMI decoder is selected.
   RD5/RDP5                  104         C13
   RD6/RDP6                    5         C2   RDPn/RDNn: Positive/Negative Receive Data for Channel 0~7
   RD7/RDP7        O         142         A2   In Dual Rail Mode with clock recovery, these pins output the NRZ data. A high signal on RDPn indicates
                                              the receipt of a positive pulse on RTIPn/RRINGn while a high signal on RDNn indicates the receipt of a
   CV0/RDN0     High-Z        41         P3   negative pulse on RTIPn/RRINGn.
   CV1/RDN1                   34         M3   The output data at RDn or RDPn/RDNn are clocked out on the falling edges of RCLK when the CLKE input
   CV2/RDN2                   76         M12  is low, or are clocked out on the rising edges of RCLK when CLKE is high.
   CV3/RDN3                   69         P12  In Dual Rail Mode without clock recovery, these pins output the raw RZ sliced data. In this data recovery
   CV4/RDN4                  112         A12  mode, the active polarity of RDPn/RDNn is determined by pin CLKE. When pin CLKE is low, RDPn/RDNn
   CV5/RDN5                  105         C12  is active low. When pin CLKE is high, RDPn/RDNn is active high.
   CV6/RDN6                    4         C3   In hardware mode, RDn or RDPn/RDNn will remain active during LOS. In host mode, these pins will either
   CV7/RDN7                  141         A3   remain active or insert alarm indication signal (AIS) into the receive path, determined by bit AISE in regis-
                                              ter GCF.
                                              RDn or RDPn/RDNn is set into high-Z when the corresponding receiver is powered down.
    RCLK0                     39         P1
                                              RCLKn: Receive Clock for Channel 0~7
    RCLK1                     32         M1
                                              In clock recovery mode, this pin outputs the recovered clock from signal received on RTIPn/RRINGn. The
    RCLK2                     78         M14
                   O                          received data are clocked out of the device on the rising edges of RCLKn if pin CLKE is high, or on falling
    RCLK3                     71         P14
                                              edges of RCLKn if pin CLKE is low.
    RCLK4                    110         A14
                High-Z                        In data recovery mode, RCLKn is the output of an internal exclusive OR (XOR) which is connected with
    RCLK5                    103         C14
                                              RDPn and RDNn. The clock is recovered from the signal on RCLKn.
    RCLK6                      6         C1
                                              If Receiver n is powered down, the corresponding RCLKn is in high-Z.
    RCLK7                    143         A1
                                              MCLK: Master Clock
                                              This is an independent, free running reference clock. A clock of 2.048 MHz is supplied to this pin as the
                                              clock reference of the device for normal operation.
                                              In receive path, when MCLK is high, the device slices the incoming bipolar line signal into RZ pulse (Data
     MCLK          I          10         E1   Recovery mode). When MCLK is low, all the receivers are powered down, and the output pins RCLKn,
                                              RDPn and RDNn are switched to high-Z.
                                              In transmit path, the operation mode is decided by the combination of MCLK and TCLKn (see TCLKn pin
                                              description for details).
                                              NOTE: Wait state generation via RDY/ACK is not available if MCLK is not provided.
     LOS0                     42         K4   LOSn: Loss of Signal Output for Channel 0~7
     LOS1                     35         K3   A high level on this pin indicates the loss of signal when there is no transition over a specified period of
     LOS2                     75         K12  time or no enough ones density in the received signal. The transition will return to low automatically when
     LOS3                     68         K11  there is enough transitions over a specified period of time with a certain ones density in the received sig-
                   O
     LOS4                    113         E11  nal. The LOS assertion and desertion criteria are described in 2.3.4 Loss of Signal (LOS) Detection.
     LOS5                    106         E12
     LOS6                      3         E3
     LOS7                    140         E4
                                                                        6


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                        INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                            Description
                           TQFP144    PBGA160
                                                     Hardware/Host Control Interface
                                              MODE2: Control Mode Select 2
                                              The signal on this pin determines which control mode is selected to control the device:
                                                              MODE2                                   Control Interface
                                                                Low                                    Hardware Mode
                                                              VDDIO/2                                Serial Host Interface
                                                                High                                Parallel Host Interface
                    I                         Hardware control pins include MODE[2:0], LP[7:0], CODE, CLKE, JAS and OE.
                                              Serial host Interface pins include CS, SCLK, SDI, SDO and INT.
    MODE2                     11         E2
               (Pulled to                     Parallel host Interface pins include CS, A[4:0], D[7:0], WR/DS, RD/R/W, ALE/AS, INT and RDY/ACK. The
               VDDIO/2)                       device supports multiple parallel host interface as follows (refer to MODE1 and MODE0 pin descriptions
                                              below for details):
                                                    MODE[2:0]                                     Host Interface
                                                         100                        Non-multiplexed Motorola Mode Interface
                                                         101                          Non-multiplexed Intel Mode Interface
                                                         110                          Multiplexed Motorola Mode Interface
                                                         111                             Multiplexed Intel Mode Interface
                                              MODE1: Control Mode Select 1
                                              In parallel host mode, the parallel interface operates with separate address bus and data bus when this pin
    MODE1           I         43         K2
                                              is low, and operates with multiplexed address and data bus when this pin is high.
                                              In serial host mode or hardware mode, this pin should be grounded.
                                              MODE0: Control Mode Select 0
                                              In parallel host mode, the parallel host interface is configured for Motorola compatible hosts when this pin
                                              is low, or for Intel compatible hosts when this pin is high.
 MODE0/CODE         I         88         H12  CODE: Line Code Rule Select
                                              In hardware control mode, the HDB3 encoder/decoder is enabled when this pin is low, and AMI encoder/
                                              decoder is enabled when this pin is high. The selections affect all the channels.
                                              In serial host mode, this pin should be grounded.
                                              CS: Chip Select (Active Low)
                                              In host mode, this pin is asserted low by the host to enable host interface. A high to low transition must
                                              occur on this pin for each read/write operation and the level must not return to high until the operation is
                                              over.
                    I
                                              JAS: Jitter Attenuator Select
    CS/JAS                    87         J11
               (Pulled to                     In hardware control mode, this pin globally determines the Jitter Attenuator position:
               VDDIO/2)                                JAS                  Jitter Attenuator (JA) Configuration
                                                        Low                           JA in transmit path
                                                    VDDIO/2                               JA not used
                                                       High                            JA in receive path
                                                                       7


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                        INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                            Description
                           TQFP144    PBGA160
                                              SCLK: Shift Clock
                                              In serial host mode, the signal on this pin is the shift clock for the serial interface. Data on pin SDO is
                                              clocked out on falling edges of SCLK if pin CLKE is high, or on rising edges of SCLK if pin CLKE is low.
                                              Data on pin SDI is always sampled on rising edges of SCLK.
                                              ALE: Address Latch Enable
 SCLK/ALE/AS       I          86         J12  In parallel Intel multiplexed host mode, the address on AD[4:0] is sampled into the device on the falling
                                              edges of ALE (signals on AD[7:5] are ignored). In non-multiplexed host mode, ALE should be pulled high.
                                              AS: Address Strobe (Active Low)
                                              In parallel Motorola multiplexed host mode, the address on AD[4:0] is latched into the device on the falling
                                              edges of AS (signals on AD[7:5] are ignored). In non-multiplexed host mode, AS should be pulled high.
                                              NOTE: This pin is ignored in hardware control mode.
                                              RD: Read Strobe (Active Low)
                                              In parallel Intel multiplexed or non-multiplexed host mode, this pin is active low for read operation.
    RD/R/W         I          85         J13  R/W: Read/Write Select
                                              In parallel Motorola multiplexed or non-multiplexed host mode, the pin is active low for write operation and
                                              high for read operation.
                                              NOTE: This pin is ignored in hardware control mode.
                                              SDI: Serial Data Input
                                              In serial host mode, this pin input the data to the serial interface. Data on this pin is sampled on the rising
                                              edges of SCLK.
                                              WR: Write Strobe (Active Low)
                                              In parallel Intel host mode, this pin is active low during write operation. The data on D[7:0] (in non-multi-
                                              plexed mode) or AD[7:0] (in multiplexed mode) is sampled into the device on the rising edges of WR.
  SDI/WR/DS        I          84         J14
                                              DS: Data Strobe (Active Low)
                                              In parallel Motorola host mode, this pin is active low. During a write operation (R/W = 0), the data on D[7:0]
                                              (in non-multiplexed mode) or AD[7:0] (in multiplexed mode) is sampled into the device on the rising edges
                                              of DS. During a read operation (R/W = 1), the data is driven to D[7:0] (in non-multiplexed mode) or AD[7:0]
                                              (in multiplexed mode) by the device on the rising edges of DS.
                                              In parallel Motorola non-multiplexed host mode, the address information on the 5 bits of address bus
                                              A[4:0] are latched into the device on the falling edges of DS.
                                              NOTE: This pin is ignored in hardware control mode.
                                              SDO: Serial Data Output
                                              In serial host mode, the data is output on this pin. In serial write operation, SDO is in high impedance for
                                              the first 8 SCLK clock cycles and driven low for the remaining 8 SCLK clock cycles. In serial read opera-
                                              tion, SDO is in high-Z only when SDI is in address/command byte. Data on pin SDO is clocked out of the
                                              device on the falling edges of SCLK if pin CLKE is high, or on the rising edges of SCLK if pin CLKE is low.
 SDO/RDY/ACK       O          83         K14  RDY: Ready Output
                                              In parallel Intel host mode, the high level of this pin reports to the host that bus cycle can be completed,
                                              while low reports the host must insert wait states.
                                              ACK: Acknowledge Output (Active Low)
                                              In parallel Motorola host mode, the low level of this pin indicates that valid information on the data bus is
                                              ready for a read operation or acknowledges the acceptance of the written data during a write operation.
                   O                          INT: Interrupt (Active Low)
      INT        Open         82         K13  This is an open drain, active low interrupt output. Three sources may cause the interrupt . Refer to 2.18
                 Drain                        Interrupt Handling for details.
                                                                        8


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                        INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                            Description
                           TQFP144    PBGA160
                                              LPn: Loopback Select 7~0
                                              In hardware control mode, pin LPn configures the corresponding channel in different loopback mode, as
                                              follows:
                                                              LPn                               Loopback Configuration
  LP7/D7/AD7                  28         K1                   Low                                   Remote Loopback
  LP6/D6/AD6                  27         J1                VDDIO/2                                     No loopback
  LP5/D5/AD5      I/O         26         J2                  High                                    Analog Loopback
  LP4/D4/AD4                  25         J3   Refer to 2.16 Loopback Mode for details.
  LP3/D3/AD3                  24         J4
  LP2/D2/AD2    High-Z        23         H2   Dn: Data Bus 7~0
  LP1/D1/AD1                  22         H3   In non-multiplexed host mode, these pins are the bi-directional data bus.
  LP0/D0/AD0                  21         G2
                                              ADn: Address/Data Bus 7~0
                                              In multiplexed host mode, these pins are the multiplexed bi-directional address/data bus.
                                              In serial host mode, these pins should be grounded.
                                              MCn: Performance Monitor Configuration 3~0
                                              In hardware control mode, A4 must be connected to GND. MC[3:0] are used to select one transmitter or
                                              receiver of channel 1 to 7 for non-intrusive monitoring. Channel 0 is used as the monitoring channel. If a
                                              transmitter is monitored, signals on the corresponding pins TTIPn and TRINGn are internally transmitted
                                              to RTIP0 and RRING0. If a receiver is monitored, signals on the corresponding pins RTIPn and RRINGn
                                              are internally transmitted to RTIP0 and RRING0. The monitored is then output to RDP0 and RDN0 pins.
                                              In host mode operation, the signals monitored by channel 0 can be routed to TTIP0/RING0 by activating
                                              the remote loopback in this channel. Refer to 2.19 G.772 Monitoring for more details.
                                              Performance Monitor Configuration determined by MC[3:0] is shown below. Note that if MC[2:0] = 000, the
                                              device is in normal operation of all the channels.
                                                        MC[3:0]                       Monitoring Configuration
                                                          0000                   Normal operation without monitoring
      A4                      12         F4               0001                            Monitor Receiver 1
    MC3/A3                    13         F3               0010                            Monitor Receiver 2
    MC2/A2          I         14         F2               0011                            Monitor Receiver 3
                                                          0100                            Monitor Receiver 4
    MC1/A1                    15         F1
                                                          0101                            Monitor Receiver 5
    MC0/A0                    16         G3               0110                            Monitor Receiver 6
                                                          0111                            Monitor Receiver 7
                                                          1000                   Normal operation without monitoring
                                                          1001                           Monitor Transmitter 1
                                                          1010                           Monitor Transmitter 2
                                                          1011                           Monitor Transmitter 3
                                                          1100                           Monitor Transmitter 4
                                                          1101                           Monitor Transmitter 5
                                                          1110                           Monitor Transmitter 6
                                                          1111                           Monitor Transmitter 7
                                              An: Address Bus 4~0
                                              When pin MODE1 is low, the parallel host interface operates with separate address and data bus. In this
                                              mode, the signal on this pin is the address bus of the host interface.
                                              OE: Output Driver Enable
      OE            I        114         E14  Pulling this pin low can drive all driver output into high-Z for redundancy application without external
                                              mechanical relays. In this condition, all other internal circuits remain active.
                                                                      9


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                      INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                          Description
                           TQFP144    PBGA160
                                               CLKE: Clock Edge Select
                                               The signal on this pin determines the active edge of RCLKn and SCLK in clock recovery mode, or deter-
     CLKE          I         115         E13
                                               mines the active level of RDPn and RDNn in the data recovery mode. See 2.2 Clock Edges on page 14 for
                                               details.
                                                                 JTAG Signals
                   I                           TRST: JTAG Test Port Reset (Active Low)
     TRST                     95         G12   This is the active low asynchronous reset to the JTAG Test Port. This pin has an internal pull-up resistor
                Pull-up                        and it can be left open.
                   I                           TMS: JTAG Test Mode Select
      TMS                     96         F11   The signal on this pin controls the JTAG test performance and is clocked into the device on the rising
                Pull-up                        edges of TCK. This pin has an internal pull-up resistor and it can be left open.
                                               TCK: JTAG Test Clock
                                               This pin input the clock of the JTAG Test. The data on TDI and TMS are clocked into the device on the ris-
      TCK          I          97         F14
                                               ing edges of TCK, while the data on TDO is clocked out of the device on the falling edges of TCK. This pin
                                               should be connected to GNDIO or VDDIO pin when unused.
                                               TDO: JTAG Test Data Output
                   O
                                               This pin output the serial data of the JTAG Test. The data on TDO is clocked out of the device on the fall-
      TDO                     98         F13
                                               ing edges of TCK. TDO is a high-Z output signal. It is active only when scanning of data is out. This pin
                High-Z
                                               should be left float when unused.
                   I                           TDI: JTAG Test Data Input
      TDI                     99         F12   This pin input the serial data of the JTAG Test. The data on TDI is clocked into the device on the rising
                Pull-up                        edges of TCK. This pin has an internal pull-up resistor and it can be left open.
                                                        Power Supplies and Grounds
                              17         G1
    VDDIO          -                           3.3 V I/O Power Supply
                              92         G14
                              18         G4
    GNDIO          -                           I/O GND
                              91         G11
    VDDT0                     44       N4, P4
    VDDT1                     53       L4, M4
    VDDT2                     56      L11, M11
                                               3.3 V/5 V Power Supply for Transmitter Driver
    VDDT3                     65      N11, P11
                   -                           All VDDT pins must be connected to 3.3 V or all VDDT must be connected to 5 V. It is not allowed to leave
    VDDT4                    116      A11, B11
                                               any of the VDDT pins open (not-connected) even if the channel is not used.
    VDDT5                    125      C11, D11
    VDDT6                    128       C4, D4
    VDDT7                    137       A4, B4
    GNDT0                     47       N6, P6
    GNDT1                     50       L6, M6
    GNDT2                     59       L9, M9
    GNDT3                     62       N9, P9
                   -                           Analog GND for Transmitter Driver
    GNDT4                    119       A9, B9
    GNDT5                    122       C9, D9
    GNDT6                    131       C6, D6
    GNDT7                    134       A6, B6
     VDDD                     19         H1
                   -                           3.3 V Digital/Analog Core Power Supply
     VDDA                     90         H14
                                                                      10


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                     INDUSTRIAL TEMPERATURE RANGES
Table-1 Pin Description (Continued)
                                 Pin No.
     Name        Type                                                                          Description
                           TQFP144    PBGA160
     GNDD                     20         H4
                   -                          Digital/Analog Core GND
     GNDA                     89         H11
                                                                  Others
                              93         G13  IC: Internal Connection
       IC          O
                              94         H13  Internal use. Leave it float for normal operation.
                                                                      11


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                               INDUSTRIAL TEMPERATURE RANGES
2         FUNCTIONAL DESCRIPTION                                                              The Dual Rail interface consists of TDPn1, TDNn, TCLKn, RDPn,
                                                                                          RDNn and RCLKn. Data transmitted from TDPn and TDNn appears on
2.1       OVERVIEW                                                                        TTIPn and TRINGn at the line interface; data received from the RTIPn
                                                                                          and RRINGn at the line interface are transferred to RDPn and RDNn
    The IDT82V2058 is a fully integrated octal short-haul line interface
                                                                                          while the recovered clock extracting from the received data stream
unit, which contains eight transmit and receive channels for use in E1
                                                                                          outputs on RCLKn. In Dual Rail operation, the clock/data recovery mode
applications. The receiver performs clock and data recovery. As an
                                                                                          is selectable. Dual Rail interface with clock recovery shown in Figure-4
option, the raw sliced data (no retiming) can be output to the system.
                                                                                          is a default configuration mode. Dual Rail interface with data recovery is
Transmit equalization is implemented with low-impedance output drivers
                                                                                          shown in Figure-5. Pin RDPn and RDNn, are raw RZ slice outputs and
that provide shaped waveforms to the transformer, guaranteeing
                                                                                          internally connected to an EXOR which is fed to the RCLKn output for
template conformance. A selectable jitter attenuator may be placed in
                                                                                          external clock recovery applications.
the receive path or the transmit path. Moreover, multiple testing func-
tions, such as error detection, loopback and JTAG boundary scan are                           In Single Rail mode, data transmitted from TDn appears on TTIPn
also provided. The device is optimized for flexible software control                      and TRINGn at the line interface. Data received from the RTIPn and
through a serial or parallel host mode interface. Hardware control is also                RRINGn at the line interface appears on RDn while the recovered clock
available. Figure-1 on page 1 shows one of the eight identical channels                   extracting from the received data stream outputs on RCLKn. When the
operation.                                                                                device is in single rail interface, the selectable AMI or HDB3 line
                                                                                          encoder/decoder is available and any code violation in the received data
2.1.1 SYSTEM INTERFACE                                                                    will be indicated at the CVn pin. The Single Rail mode has 2 sub-modes:
    The system interface of each channel can be configured to operate                     Single Rail Mode 1 and Single Rail Mode 2. Single Rail Mode 1, whose
in different modes:                                                                       interface is composed of TDn, TCLKn, RDn, CVn and RCLKn, is real-
       1. Single rail interface with clock recovery.                                      ized by pulling pin TDNn high for more than 16 consecutive TCLK
                                                                                          cycles. Single Rail Mode 2, whose interface is composed of TDn,
       2. Dual rail interface with clock recovery.
                                                                                          TCLKn, RDn, CVn, RCLKn and BPVIn, is realized by setting bit CRS in
       3. Dual rail interface with data recovery (that is, with raw data
                                                                                          register e-CRS2 and bit SING in register e-SING. The difference
          slicing only and without clock recovery).
                                                                                          between them is that, in the latter mode bipolar violation can be inserted
    Each signal pin on system side has multiple functions depending on                    via pin BPVIn if AMI line code is selected.
which operation mode the device is in.
                                                                                              The configuration of the Hardware Mode System Interface is summa-
                                                                                          rized in Table-2. The configuration of the Host Mode System Interface is
                                                                                          summarized in Table-3.
                                                                                                 1. The footprint ‘n’ (n = 0 - 7) indicates one of the eight channels.
                                                                                                 2.
                                                                                                    The first letter ‘e-’ indicates expanded register.
                                                                                                     One of Eight Identical Channels
                                                                               LOS
                                                                                                                                                                 LOSn
                                                                            Detector
                  RTIPn                                                    CLK&Data                                                 HDB3/                       RCLKn
                                                         Slicer                                         Jitter
                                                                            Recovery                                                 AMI                         RDPn
                 RRINGn                                                                              Attenuator                                                  RDNn
                                                                             (DPLL)                                               Decoder
                                        Peak
                                       Detector
                    TTIPn                                                                                                           HDB3/                        TCLKn
                                                Line                       Waveform                     Jitter
                                                                                                                                     AMI                         TDPn
                  TRINGn                       Driver                        Shaper                  Attenuator                                                  TDNn
                                                                                                                                  Encoder
                                                                            Transmit
                                                                            All Ones
                                Note: The grey blocks are bypassed and the dotted blocks are selectable.
                                                Figure-4 Dual Rail Interface with Clock Recovery
                                                                                     12


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                               INDUSTRIAL TEMPERATURE RANGES
                                                                                               One of Eight Identical Channels
                                                                          LOS
                                                                                                                                           LOSn
                                                                        Detector
                                                                                                                                            RCLKn
           RTIPn                                                      CLK&Data                                       HDB3/               (RDP RDN)
                                                                       Recovery                   Jitter
                                                  Slicer                                                              AMI                  RDPn
         RRINGn                                                          (DPLL)                Attenuator                                  RDNn
                                                                                                                    Decoder
                                Peak
                               Detector
          TTIPn                                                                                                      HDB3/                 TCLKn
                                           Line                       Waveform                    Jitter
                                                                                                                      AMI                  TDPn
        TRINGn                            Driver                         Shaper                Attenuator                                  TDNn
                                                                                                                    Encoder
                                                                        Transmit
                                                                        All Ones
                        Note: The grey blocks are bypassed and the dotted blocks are selectable
                                          Figure-5 Dual Rail Interface with Data Recovery
                                                                                            One of Eight Identical Channels
                                                                      LOS
                                                                                                                                        LOSn
                                                                    Detector
          RTIPn                                                    CLK&Data                                       HDB3/                 RCLKn
                                                                                              Jitter
                                                 Slicer             Recovery                                        AMI                  RDn
         RRINGn                                                                            Attenuator                                    CVn
                                                                     (DPLL)                                      Decoder
                              Peak
                            Detector
          TTIPn                                                                                                   HDB3/                TCLKn
                                        Line                       Waveform                   Jitter
                                                                                                                    AMI                  TDn
         TRINGn                        Driver                        Shaper                Attenuator                                 BPVIn/TDNn
                                                                                                                 Encoder
                                                                    Transmit
                                                                    All Ones
                                                           Figure-6 Single Rail Mode
Table-2 System Interface Configuration (In Hardware Mode)
          Pin MCLK                      Pin TDNn                                                             Interface
           Clocked                 High (≥ 16 MCLK)          Single Rail Mode 1
           Clocked                        Pulse              Dual Rail mode with Clock Recovery
              High                        Pulse              Dual Rail mode with Data Recovery. Receive just slices the incoming data. Transmit is determined
                                                             by the status of TCLKn.
              Low                         Pulse              Receiver is powered down. Transmit is determined by the status of TCLKn.
                                                                               13


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                            INDUSTRIAL TEMPERATURE RANGES
Table-3 System Interface Configuration (In Host Mode)
    Pin MCLK        Pin TDNn        CRSn in e-CRS     SINGn in e-SING                                           Interface
     Clocked           High                0                  0         Single Rail Mode 1
     Clocked           Pulse               0                  1         Single Rail Mode 2
     Clocked           Pulse               0                  0         Dual Rail mode with Clock Recovery
     Clocked           Pulse               1                  0         Dual Rail mode with Data Recovery. Receive just slices the incoming data. Transmit is
                                                                        determined by the status of TCLKn.
       High            Pulse               -                   -        Dual Rail mode with Data Recovery. Receive just slices the incoming data. Transmit is
                                                                        determined by the status of TCLKn.
        Low            Pulse               -                   -        Receiver is powered down. Transmit is determined by the status of TCLKn.
Table-4 Active Clock Edge and Active Level
                                         Pin RDn/RDPn and CVn/RDNn
      Pin CLKE                                                                                                           Pin SDO
                                     Clock Recovery                   Slicer Output
         High              RCLKn                     Active High       Active High                 SCLK                                 Active High
         Low               RCLKn                     Active High       Active Low                  SCLK                                 Active High
2.2        CLOCK EDGES                                                          data recovery mode, the slicer output is sent to Clock and Data
                                                                                Recovery circuit for abstracting retimed data and optional decoding. The
     The active edge of RCLKn and SCLK are selectable. If pin CLKE is           slicer circuit has a built-in peak detector from which the slicing threshold
high, the active edge of RCLKn is the rising edge, as for SCLK, that is         is derived. The slicing threshold is default to 50% (typical) of the peak
falling edge. On the contrary, if CLKE is low, the active edge of RCLK is
                                                                                value.
the falling edge and that of SCLK is rising edge. Pins RDn/RDPn, CVn/
RDNn and SDO are always active high, and those output signals are                   Signals with an attenuation of up to 12 dB (from 2.4 V) can be recov-
clocked out on the active edge of RCLKn and SCLK respectively. See              ered by the receiver. To provide immunity from impulsive noise, the peak
Table-4 Active Clock Edge and Active Level on page 14 for details.              detectors are held above a minimum level of 0.150 V typically, despite
However, in dual rail mode without clock recovery, pin CLKE is used to          the received signal level.
set the active level for RDPn/RDNn raw slicing output: High for active
                                                                                2.3.2 CLOCK AND DATA RECOVERY
high polarity and low for active low. It should be noted that data on pin
SDI are always active high and are sampled on the rising edges of                   The Clock and Data Recovery is accomplished by Digital Phase
SCLK. The data on pin TDn/TDPn or BPVIn/TDNn are also always                    Locked Loop (DPLL). The DPLL is clocked 16 times of the received
active high but are sampled on the falling edges of TCLKn, despite the          clock rate, i.e. 32.768 MHz in E1 mode. The recovered data and clock
level on CLKE.                                                                  from DPLL is then sent to the selectable Jitter Attenuator or decoder for
                                                                                further processing.
2.3        RECEIVER                                                                 The clock recovery and data recovery mode can be selected on a per
     In receive path, the line signals couple into RRINGn and RTIPn via a       channel basis by setting bit CRSn in register e-CRS. When bit CRSn is
transformer and are converted into RZ digital pulses by a data slicer.          defaulted to ‘0’, the corresponding channel operates in data and clock
Adaptation for attenuation is achieved using an integral peak detector          recovery mode. The recovered clock is output on pin RCLKn and re-
that sets the slicing levels. Clock and data are recovered from the             timed NRZ data are output on pin RDPn/RDNn in dual rail mode or on
received RZ digital pulses by a digital phase-locked loop that provides         RDn in single rail mode. When bit CRSn is set to ‘1’, dual rail mode with
jitter accommodation. After passing through the selectable jitter attenu-       data recovery is enabled in the corresponding channel and the clock
ator, the recovered data are decoded using HDB3 or AMI line code rules          recovery is bypassed. In this condition, the analog line signals are
and clocked out of pin RDn in single rail mode, or presented on RDPn/           converted to RZ digital bit streams on the RDPn/RDNn pins and inter-
RDNn in an undecoded dual rail NRZ format. Loss of signal, alarm indi-          nally connected to an EXOR which is fed to the RCLKn output for
cation signal, line code violation and excessive zeros are detected.            external clock recovery applications.
These various changes in status may be enabled to generate interrupts.              If MCLK is pulled high, all the receivers will enter the dual rail mode
2.3.1 PEAK DETECTOR AND SLICER                                                  with data recovery. In this case, register e-CRS is ignored.
     The slicer determines the presence and polarity of the received
pulses. In data recovery mode, the raw positive slicer output appears on
RDPn while the negative slicer output appears on RDNn. In clock and
                                                                           14


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                             INDUSTRIAL TEMPERATURE RANGES
2.3.3 HDB3/AMI LINE CODE RULE                                                                      The configuration of the line code rule is summarized in Table-5.
     Selectable HDB3 and AMI line coding/decoding is provided when the                         2.3.4 LOSS OF SIGNAL (LOS) DETECTION
device is configured in single rail mode. HDB3 rules is enabled by
                                                                                                   The Loss of Signal Detector monitors the amplitude and density of
setting bit CODE in register GCF to ‘0’ or pulling pin CODE low. AMI rule
                                                                                               the received signal on receiver line before the transformer (measured on
is enabled by setting bit CODE in register GCF to ‘1’ or pulling pin CODE
                                                                                               port A, B shown in Figure-10). The loss condition is reported by pulling
high. The settings affect all eight channels.
                                                                                               pin LOSn high. At the same time, LOS alarm registers track LOS condi-
     Individual line code rule selection for each channel, if needed, is                       tion. When LOS is detected or cleared, an interrupt will generate if not
available by setting bit SINGn in register e-SING to ‘1’ (to activate bit                      masked. In host mode, the detection supports ITU G.775 and ETSI 300
CODEn in register e-CODE) and programming bit CODEn to select line                             233. In hardware mode, it supports the ITU G.775.
code rules in the corresponding channel: ‘0’ for HDB3, while ‘1’ for AMI.
                                                                                                   Table-6 summarizes the conditions of LOS in clock recovery mode.
In this case, the value in bit CODE in register GCF or pin CODE for
global control is unaffected in the corresponding channel and only affect                          During LOS, the RDPn/RDNn continue to output the sliced data
in other channels.                                                                             when bit AISE in register GCF is set to ‘0’ or output all ones as AIS
                                                                                               (alarm indication signal) when bit AISE is set to ‘1’. The RCLKn is
     In dual rail mode, the decoder/encoder are bypassed. Bit CODE in
                                                                                               replaced by MCLK only if the bit AISE is set.
register GCF, bit CODEn in register e-CODE and pin CODE are ignored.
Table-5 Configuration of the Line Code Rule
                         Hardware Mode                                                                                     Host Mode
     CODE                        Line Code Rule                               CODE in GCF          CODEn in e-CODE             SINGn in e-SING                 Line Code Rule
                                                                                     0                      0/1                         0                All channels in HDB3
      Low         All channels in HDB3                                               0                       0                          1
                                                                                     1                      0/1                         0                All channels in AMI
                                                                                     1                       1                          1
      High        All channels in AMI                                                0                       1                          1                CHn in AMI
                                                                                     1                       0                          1                CHn in HDB3
Table-6 LOS Condition in Clock Recovery Mode
                                                                                                    Standard                                                              Signal on
                                                                       G.775                                                      ETSI 300 233                               LOSn
     LOS         Continuous Intervals                                    32                                                        2048 (1 ms)
                                                                                                                                                                              High
   Detected           Amplitude(1)         below typical 200 mVp                                          below typical 200 mVp
                                           12.5% (4 marks in a sliding 32-bit period) with no more         12.5% (4 marks in a sliding 32-bit period) with no more
     LOS                 Density
                                           than 15 continuous zeros                                        than 15 continuous zeros                                           Low
   Cleared
                      Amplitude(1)         exceed typical 250 mVp                                          exceed typical 250 mVp
1.
   LOS levels at device (RTIPn, RRINGn) with all ones signal. For more detail regarding the LOS parameters, please refer to Receiver Characteristics on page 42.
2.3.5 ALARM INDICATION SIGNAL (AIS) DETECTION                                                  determine whether excessive zeros and code violation are reported
     Alarm Indication Signal is available only in host mode with clock                         respectively. When the device is configured in AMI decoding mode, only
recovery, as shown in Table-7.                                                                 bipolar violation can be reported.
2.3.6 ERROR DETECTION                                                                              The error detection is available only in single rail mode in which the
                                                                                               pin CVn/RDNn is used as error report output (CVn pin).
     The device can detect excessive zeros, bipolar violation and HDB3
code violation, as shown in Figure-7 and Figure-8. All the three kinds of                          The configuration and report status of error detection are summa-
errors are reported in both host mode and hardware mode with HDB3                              rized in Table-8.
line code rule used. In host mode, the e-CZER and e-CODV are used to
Table-7 AIS Condition
                                                             ITU G.775                                                                       ETSI 300 233
                                                 (Register LAC defaulted to ‘0’)                                                       (Register LAC set to ‘1’)
   AIS Detected      Less than 3 zeros contained in each of two consecutive 512-bit stream are received Less than 3 zeros contained in a 512-bit stream are received
   AIS Cleared       3 or more zeros contained in each of two consecutive 512-bit stream are received 3 or more zeros contained in a 512-bit stream are received
                                                                                            15


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                       INDUSTRIAL TEMPERATURE RANGES
Table-8 Error Detection
           Hardware Mode                                                                               Host Mode
 Line Code       Pin CVn Reports              Line Code       CODVn in e-CODV CZERn in e-CZER                                         Pin CVn Reports
     AMI          Bipolar Violation               AMI                     -                      -                                     Bipolar Violation
                                                                         0                       0                           Bipolar Violation + Code Violation
                 Bipolar Violation +
                                                                         0                       1                 Bipolar Violation + Code Violation + Excessive Zeros
    HDB3           Code Violation                HDB3
                 + Excessive Zeros                                       1                       0                                     Bipolar Violation
                                                                         1                       1                          Bipolar Violation + Excessive Zeros
                                  RCLKn
                                   RTIPn   1                        3               5           V                   7
                                  RRINGn            2                    4                               6
                                    RDn                              1          2            3    4        5              V         6
                                    CVn
                                                                       Bipolar Violation                 Bipolar Violation detected
                                                           Figure-7 AMI Bipolar Violation
                                                                                                    Code violation
                      RCLKn
                      RTIPn        1                             3                                                5
                                             4 consecutive zeros
                      RRINGn             2                            4                   V                 V         6
                       RDn                              1         2                        3   4                                           5    6
                       CVn
                                                                       Excessive zeros detected                         Code violation detected
                                            Figure-8 HDB3 Code Violation & Excessive Zeros
2.4       TRANSMITTER                                                                    provided with a FIFO through which the data to be transmitted are
                                                                                         passing. A low jitter clock is generated by an integral digital phase-
    In transmit path, data in NRZ format are clocked into the device on                  locked loop and is used to read data from the FIFO. The shape of the
TDn and encoded by AMI or HDB3 line code rules when single rail mode
                                                                                         pulses should meet the E1 pulse template after the signal passes
is configured or pre-encoded data in NRZ format are input on TDPn and                    through different cable lengths or types. Bipolar violation, for diagnosis,
TDNn when dual rail mode is configured. The data are sampled into the                    can be inserted on pin BPVIn if AMI line code rule is enabled.
device on falling edges of TCLKn. Jitter attenuator, if enabled, is
                                                                                      16


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                       INDUSTRIAL TEMPERATURE RANGES
2.4.1 WAVEFORM SHAPER                                                                             For applications which require line synchronization, the line clock
   E1 pulse template, specified in ITU-T G.703, is shown in Figure-9.                         needed to be extracted for the internal synchronization, the jitter attenu-
The device has built-in transmit waveform templates for cable of 75 Ω or                      ator is set in the receive path. Another use of the jitter attenuator is to
120 Ω.                                                                                        provide clock smoothing in the transmit path for applications such as
                                                                                              synchronous/asynchronous demultiplexing applications. In these appli-
   The built-in waveform shaper uses an internal high frequency clock                         cations, TCLK will have an instantaneous frequency that is higher than
which is 16XMCLK as the clock reference. This function will be                                the nominal E1 data rate and in order to set the average long-term TCLK
bypassed when MCLK is unavailable.                                                            frequency within the transmit line rate specifications, periods of TCLK
                               1.20                                                           are suppressed (gapped).
                               1.00
                                                                                                  The jitter attenuator integrates a FIFO which can accommodate a
                                                                                              gapped TCLK. In host mode, the FIFO length can be 32 X 2 or 64 X 2
                                                                                              bits by programming bit JADP in GCF. In hardware mode, it is fixed to 64
                               0.80
                                                                                              X 2 bits. The FIFO length determines the maximum permissible gap
                                                                                              width (see Table-9 Gap Width Limitation). Exceeding these values will
        Normalized Amplitude
                               0.60
                                                                                              cause FIFO overflow or underflow. The data is 16 or 32 bits’ delay
                                                                                              through the jitter attenuator in the corresponding transmit or receive
                               0.40
                                                                                              path. The constant delay feature is crucial for the applications requiring
                                                                                              “hitless” switching.
                               0.20
                                                                                              Table-9 Gap Width Limitation
                               0.00
                                                                                                        FIFO Length                          Max. Gap Width
                           -0.20                                                                           64 bit                                 56 UI
                                      -300   -200   -100      0        100   200   300
                                                           Time (ns)
                                                                                                           32 bit                                 28 UI
                                      Figure-9 CEPT Waveform Template                             In host mode, bit JABW in GCF determines the jitter attenuator 3 dB
                                                                                              corner frequency (fc). In hardware mode, the fc is fixed to 1.7 Hz. Gener-
2.4.2 BIPOLAR VIOLATION INSERTION                                                             ally, the lower the fc is, the higher the attenuation. However, lower fc
   When configured in Single Rail Mode 2 with AMI line code enabled,                          comes at the expense of increased acquisition time. Therefore, the
pin TDNn/BPVIn is used as BPVI input. A low-to-high transition on this                        optimum fc is to optimize both the attenuation and the acquisition time.
pin inserts a bipolar violation on the next available mark in the transmit                    In addition, the longer FIFO length results in an increased throughput
data stream. Sampling occurs on the falling edges of TCLK. But in TAOS                        delay and also influences the 3 dB corner frequency. Generally, it’s
(Transmit All Ones) with Analog Loopback and Remote Loopback, the                             recommended to use the lower corner frequency and the shortest FIFO
BPVI is disabled. In TAOS with Digital Loopback, the BPVI is looped                           length that can still meet jitter attenuation requirements.
back to the system side, so the data to be transmitted on TTIPn and
TRINGn are all ones with no bipolar violation.                                                  The output jitter meets ITU-T G.736, ITU-T G.742, ITU-T G.783 and
                                                                                              ETSI CTR 12/13.
2.5                      JITTER ATTENUATOR
                                                                                              2.6     LINE INTERFACE CIRCUITRY
    The jitter attenuator can be selected to work either in transmit path or
in receive path or not used. The selection is accomplished by setting pin                         The transmit and receive interface RTIPn/RRINGn and TTIPn/
JAS in hardware mode or configuring bits JACF[1:0] in register GCF in                         TRINGn connections provide a matched interface to the cable. Figure-
host mode, which affects all eight channels.                                                  10 shows the appropriate external components to connect with the cable
                                                                                              for one transmit/receive channel. Table-10 summarizes the component
                                                                                              values based on the specific application.
                                                                                         17


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                                   INDUSTRIAL TEMPERATURE RANGES
Table-10 External Components Values
     Component                75 Ω Coax                      120 Ω Twisted Pair
         RT                  9.5 Ω ± 1%                          9.5 Ω ± 1%
         RR                  9.31 Ω ± 1%                         15 Ω ± 1%
         Cp                                    2200 pF
                    Nihon Inter Electronics - EP05Q03L, 11EQS03L,
       D1 - D4                                  EC10QS04, EC10QS03L;
                    Motorola - MBR0540T1
                                                                                                  One of Eight Identical Channels
                                                         1
                                             A       2:1                       1 kΩ
                                                    • •                    •                     RTIPn
                                                             0.22 µF           RR
                                       RX Line                             •
                                                                               RR
                                             B
                                                                                                               IDT82V2058
                                                                           •                     RRINGn
                                                                               1 kΩ   VDDT
                                                        1
                                                     2:1                               D4                                               VDDT
                                                    • •                                          TTIPn
                                                                                RT     D3                                   VDDDn            •
                                                                                                                                                 68 µF3
                                       TX Line                    Cp   2
                                                                                                                                    0.1 µF
                                                                                      VDDT
                                                                                       D2                                   GNDTn            •
                                                                                             ·   TRINGn
                                                                                RT     D1
                     NOTE:
                     1. Pulse T1124 transformer is recommended to be used in Standard (STD) operating temperature range (0°C to 70°C), while Pulse T1114
                     transformer is recommended to be used in Extended (EXT) operating temperature range is -40°C to +85°C. See Transformer Specifications Table for
                     details.
                     2. Typical value. Adjust for actual board parasitics to obtain optimum return loss.
                     3. Common decoupling capacitor for all VDDT and GNDT pins. One per chip.
                                                   Figure-10 External Transmit/Receive Line Circuitry
2.7           TRANSMIT DRIVER POWER SUPPLY
       All transmit driver power supplies must be 5.0 V or 3.3 V.
    Despite the power supply voltage, the 75 Ω/120 Ω lines are driven
through a pair of 9.5 Ω series resistors and a 1:2 transformer.
Table-11 Transformer Specifications(1)
                                                                                Electrical Specification @ 25°C
             Part No.               Turns Ratio (Pri: sec ± 2%)                OCL @ 25°C (mH MIN)            LL (µH MAX)                 CW/W (pF MAX)        Package/Schematic
     STD Temp. EXT Temp.             Transmit          Receive                 Transmit      Receive      Transmit    Receive           Transmit Receive
       T1124          T1114           1:2CT             1CT:2                     1.2          1.2           .6         .6                 35        35                TOU/3
1.
     Pulse T1124 transformer is recommended to be used in Standard (STD) operating temperature range (0°C to 70°C), while Pulse T1114 transformer is recommended to be used in
     Extended (EXT) operating temperature range is -40°C to +85°C.
2.8           POWER DRIVER FAILURE MONITOR                                                            2.9       TRANSMIT LINE SIDE SHORT CIRCUIT FAILURE
    An internal power Driver Failure Monitor (DFMON), parallel                                                  DETECTION
connected with TTIPn and TRINGn, can detect short circuit failure                                        A pair of 9.5 Ω serial resistors connect with TTIPn and TRINGn pins
between TTIPn and TRINGn pins. Bit SCPB in register GCF decides                                       and limit the output current. In this case, the output current is a limited
whether the output driver short circuit protection is enabled. When the                               value which is always lower than the typical line short circuit current 180
short circuit protection is enabled, the driver output current is limited to a                        mAp, even if the transmit line side is shorted.
typical value: 180 mAp. Also, register DF, DFI and DFM will be available.
When DFMON will detect a short circuit, register DF will be set. With a                                   Refer to Table-10 External Components Values for details.
short circuit failure detected and short circuit protection enabled, register
DFI will be set and an interrupt will be generated on pin INT.
                                                                                                 18


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                          INDUSTRIAL TEMPERATURE RANGES
2.10 LINE PROTECTION                                                              During Digital Loopback, the received signal on the receive line is still
                                                                              monitored by the LOS Detector (See 2.3.4 Loss of Signal (LOS) Detec-
    In transmit side, the Schottky diodes D1~D4 are required to protect
                                                                              tion for details). In case of a LOS condition and AIS insertion enabled, all
the line driver and improve the design robustness. In receive side, the       ones signal will be output on RDPn/RDNn. With ATAO enabled, all ones
series resistors of 1 kΩ are used to protect the receiver against current     signal will be also output on TTIPn/TRINGn. AIS insertion can be
surges coupled in the device. The series resistors do not affect the
                                                                              enabled by setting AISE bit in register GCF and ATAO can be enabled
receiver sensitivity, since the receiver impedance is as high as 120 kΩ       by setting register ATAO (default disabled).
typically.
                                                                              2.16.2 ANALOG LOOPBACK
2.11 HITLESS PROTECTION SWITCHING (HPS)                                           By programming the bits of register ALB or pulling pin LPn high,
    The IDT82V2058 transceivers include an output driver with high-Z          each channel of the device can be configured in Analog Loopback. In
feature for E1 redundancy applications. This feature reduces the cost of      this configuration, the data to be transmitted output from the line driver
redundancy protection by eliminating external relays. Details of HPS are      are internally looped back to the slicer and peak detector in the receive
described in relative Application Note.                                       path and output on RCLKn, RDn/RDPn and CVn/RDNn. The data to be
                                                                              transmitted are still output on TTIPn and TRINGn while the data
2.12 SOFTWARE RESET                                                           received on RTIPn and RRINGn are ignored. The LOS Detector (See
    Writing register RS will cause software reset by initiating about 1 µs    2.3.4 Loss of Signal (LOS) Detection for details) is still in use and moni-
reset cycle. This operation set all the registers to their default value.     tors the internal looped back data. If a LOS condition on TDPn/TDNn is
                                                                              expected during Analog Loopback, ATAO should be disabled (default).
2.13 POWER ON RESET                                                           Figure-12 shows the process.
    During power up, an internal reset signal sets all the registers to           The TTIPn and RTIPn, TRINGn and RRINGn cannot be connected
default values. The power-on reset takes at least 10 µs, starting from        directly to do the external analog loopback test. Line impedance loading
when the power supply exceeds 2/3 VDDA.                                       is required to conduct the external analog loopback test.
                                                                              2.16.3 REMOTE LOOPBACK
2.14 POWER DOWN
                                                                                  By programming the bits of register RLB or pulling pin LPn low, each
    Each transmit channel will be powered down by pulling pin TCLKn           channel of the device can be set in Remote Loopback. In this configura-
low for more than 64 MCLK cycles (if MCLK is available) or about 30 µs        tion, the data and clock recovered by the clock and data recovery
(if MCLK is not available). In host mode, each transmit channel will also     circuits are looped to waveform shaper and output on TTIPn and
be powered down by setting bit TPDNn in register e-TPDN to ‘1’.               TRINGn. The jitter attenuator is also included in loopback when enabled
    All the receivers will be powered down when MCLK is low. When             in the transmit or receive path. The received data and clock are still
MCLK is clocked or high, setting bit RPDNn in register e-RPDN to ‘1’ will     output on RCLKn, RDn/RDPn and CVn/RDNn while the data to be trans-
configure the corresponding receiver to be powered down.                      mitted on TCLKn, TDn/TDPn and BPVIn/TDNn are ignored. The LOs
                                                                              Detector is still in use. Figure-13 shows the process.
2.15 INTERFACE WITH 5 V LOGIC                                                 2.16.4 DUAL LOOPBACK
    The IDT82V2058 can interface directly with 5 V TTL family devices.            Dual Loopback mode is set by setting bit DLBn in register DLB and
The internal input pads are tolerant to 5 V output from TTL and CMOS          bit RLBn in register RLB to ‘1’. In this configuration, after passing the
family devices.                                                               encoder, the data and clock to be transmitted are looped back to
                                                                              decoder directly and output on RCLKn, RDn/RDPn and CVn/RDNn. The
2.16 LOOPBACK MODE                                                            recovered data from RTIPn and RRINGn are looped back to waveform
    The device provides four different diagnostic loopback configura-         shaper through JA (if selected) and output on TTIPn and TRINGn. The
tions: Digital Loopback, Analog Loopback, Remote Loopback and Dual            LOS Detector is still in use. Figure-14 shows the process.
Loopback. In host mode, these functions are implemented by program-
                                                                              2.16.5 TRANSMIT ALL ONES (TAOS)
ming the registers DLB, ALB and RLB respectively. In hardware mode,
only Analog Loopback and Remote Loopback can be selected by pin                   In hardware mode, the TAOS mode is set by pulling pin TCLKn high
LPn.                                                                          for more than 16 MCLK cycles. In host mode, TAOS mode is set by
                                                                              programming register TAO. In addition, automatic TAOS signals are
2.16.1 DIGITAL LOOPBACK                                                       inserted by setting register ATAO when Loss of Signal occurs. Note that
    By programming the bits of register DLB, each channel of the device       the TAOS generator adopts MCLK as a timing reference. In order to
can be configured in Local Digital Loopback. In this configuration, the       assure that the output frequency is within specified limits, MCLK must
data and clock to be transmitted, after passing the encoder, are looped       have the applicable stability.
back to Jitter Attenuator (if enabled) and decoder in the receive path,           The TAOS mode, the TAOS mode with Digital Loopback and the
then output on RCLKn, RDn/RDPn and CVn/RDNn. The data to be
                                                                              TAOS mode with Analog Loopback are shown in Figure-15, Figure-16
transmitted are still output on TTIPn and TRINGn while the data               and Figure-17.
received on RTIPn and RRINGn are ignored. The Loss Detector is still in
use. Figure-11 shows the process.
                                                                           19


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                             INDUSTRIAL TEMPERATURE RANGES
                                                                                        One of Eight Identical Channels
                                                                  LOS
                                                                                                                               LOSn
                                                                Detector
               RTIPn                                           CLK&Data                                                        RCLKn
                                                                                                Jitter           HDB3/AMI
                                             Slicer             Recovery                                                      RDn/RDPn
              RRINGn                                                                         Attenuator           Decoder     CVn/RDNn
                                                                 (DPLL)
                            Peak                                              Digital
                          Detector                                           Loopback
               TTIPn                  Line                      Waveform                        Jitter           HDB3/AMI      TCLKn
                                     Driver                                                  Attenuator           Encoder      TDn/TDPn
              TRINGn                                             Shaper                                                       BPVIn/TDNn
                                                                 Transmit
                                                                 All Ones
                                                     Figure-11 Digital Loopback
                                                                                         One of Eight Identical Channels
                                                                         LOS
                                                                                                                                LOSn
                                                                       Detector
             RTIPn                                                      CLK&Data                                               RCLKn
                                                       Slicer                                    Jitter          HDB3/AMI
                                                                         Recovery                                             RDn/RDPn
           RRINGn                                                                             Attenuator          Decoder     CVn/RDNn
                                                                           (DPLL)
                       Analog            Peak
                      Loopback          Detector
            TTIPn                            Line                     Waveform                  Jitter           HDB3/AMI      TCLKn
                                                                                                                              TDn/TDPn
           TRINGn                           Driver                     Shaper                Attenuator           Encoder
                                                                                                                              BPVIn/TDNn
                                                                       Transmit
                                                                       All Ones
                                                    Figure-12 Analog Loopback
                                                                                     One of Eight Identical Channels
                                                               LOS
                                                                                                                                     LOSn
                                                              Detector
        RTIPn                                           CLK&Data                                                                     RCLKn
                                                                                  Jitter                  HDB3/AMI
                                      Slicer             Recovery                                                                   RDn/RDPn
        RRINGn                                                                 Attenuator                  Decoder                  CVn/RDNn
                                                          (DPLL)
                      Peak                                                                     Remote
                     Detector                                                                 Loopback
         TTIPn                     Line                Waveform                  Jitter                   HDB3/AMI                   TCLKn
                                                                                                                                    TDn/TDPn
        TRINGn                   Driver                  Shaper               Attenuator                   Encoder                  BPVIn/TDNn
                                                       Transmit
                                                        All Ones
                                                    Figure-13 Remote Loopback
                                                                         20


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                       INDUSTRIAL TEMPERATURE RANGES
                                                                                        One of Eight Identical Channels
                                                                   LOS
                                                                                                                             LOSn
                                                                 Detector
            RTIPn                                           CLK&Data                                                          RCLKn
                                                                                    Jitter                  HDB3/AMI
                                           Slicer            Recovery                                                        RDn/RDPn
          RRINGn                                                                Attenuator                   Decoder         CVn/RDNn
                                                               (DPLL)
                          Peak
                         Detector
             TTIPn               Line                     Waveform              Jitter                                         TCLKn
                                                                                                            HDB3/AMI
                                Driver                                                                                       TDn/TDPn
           TRINGn                                           Shaper           Attenuator                      Encoder          BPVIn/TDNn
                                                           Transmit
                                                           All Ones
                                                      Figure-14 Dual Loopback
                                                                               One of Eight Identical Channels
                                                                      LOS
                                                                                                                         LOSn
                                                                    Detector
               RTIPn                                          CLK&Data                                                  RCLKn
                                                                                    Jitter             HDB3/AMI
                                               Slicer          Recovery                                                 RDn/RDPn
             RRINGn                                                             Attenuator              Decoder         CVn/RDNn
                                                                (DPLL)
                              Peak
                            Detector
               TTIPn            Line                     Waveform                Jitter             HDB3/AMI              TCLKn
                               Driver                                                                                    TDn/TDPn
             TRINGn                                       Shaper              Attenuator              Encoder
                                                                                                                        BPVIn/TDNn
                                                          Transmit
                                                          All Ones
                                                      Figure-15 TAOS Data Path
                                                                                   One of Eight Identical Channels
                                                                   LOS
                                                                                                                           LOSn
                                                                 Detector
          RTIPn                                             CLK&Data                                                        RCLKn
                                                                                           Jitter           HDB3/AMI
                                       Slicer                Recovery                                                      RDn/RDPn
        RRINGn                                                                         Attenuator            Decoder       CVn/RDNn
                                                               (DPLL)
                       Peak
                      Detector
         TTIPn                   Line                     Waveform                         Jitter           HDB3/AMI       TCLKn
                                                                                                                           TDn/TDPn
        TRINGn                  Driver                     Shaper                      Attenuator            Encoder       BPVIn/TDNn
                                                           Transmit
                                                           All Ones
                                           Figure-16 TAOS with Digital Loopback
                                                                       21


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                  INDUSTRIAL TEMPERATURE RANGES
                                                                                                 One of Eight Identical Channels
                                                                              LOS
                                                                                                                                            LOSn
                                                                            Detector
                RTIPn                                                            CLK&Data                                                    RCLKn
                                                                                 Recovery                 Jitter         HDB3/AMI
                                                              Slicer                                                                        RDn/RDPn
              RRINGn                                                                                   Attenuator         Decoder            CVn/RDNn
                                                                                   (DPLL)
                                           Peak
                                         Detector
                TTIPn                                   Line                           Waveform                         HDB3/AMI             TCLKn
                                                       Driver                                                            Encoder            TDn/TDPn
              TRINGn                                                                     Shaper                                              BPVIn/TDNn
                                                                                        Transmit
                                                                                        All Ones
                                                   Figure-17 TAOS with Analog Loopback
2.17 HOST INTERFACE                                                                   2.17.1 PARALLEL HOST INTERFACE
   The host interface provides access to read and write the registers in                   The interface is compatible with Motorola and Intel host. Pins
the device. The interface consists of serial host interface and parallel              MODE1 and MODE0 are used to select the operating mode of the
host interface. By pulling pin MODE2 to VDDIO/2 or high, the device can               parallel host interface. When pin MODE1 is pulled low, the host uses
be set to work in serial mode and in parallel mode respectively.                      separate address bus and data bus. When high, multiplexed address/
                                                                                      data bus is used. When pin MODE0 is pulled low, the parallel host inter-
                                                                                      face is configured for Motorola compatible hosts. When pin MODE0 is
                                                                                      pulled high, the parallel host interface is configured for Intel compatible
                                                                                      hosts. See Table-1 Pin Description for more details. The host interface
                                                                                      pins in each operation mode is tabulated in Table-12:
Table-12 Parallel Host Interface Pins
                   MODE[2:0]                                            Host Interface                               Generic Control, Data and Output Pin
                        100                                  Non-multiplexed Motorola interface                     CS, ACK, DS, R/W, AS, A[4:0], D[7:0], INT
                        101                                    Non-multiplexed Intel interface                      CS, RDY, WR, RD, ALE, A[4:0], D[7:0], INT
                        110                                    Multiplexed Motorola interface                          CS, ACK, DS, R/W, AS, AD[7:0], INT
                        111                                       Multiplexed Intel interface                          CS, RDY, WR, RD, ALE, AD[7:0], INT
                                           CS
                                            SCLK
                                                        1                         2    2
                                            SDI     R/W A1 A2 A3 A4 A5 A6 A7 D0 D1 D2 D3 D4 D5 D6 D7
                                                           Address/Command Byte                    Input Data Byte
                                           SDO                                           D0 D1 D2 D3 D4 D5 D6 D7
                                                              High Impedance                    Driven while R/W=1
                                            1. While R/W=1, read from IDT82V2058; While R/W=0, write to IDT82V2058.
                                            2. Ignored.
                                                      Figure-18 Serial Host Mode Timing
2.17.2 SERIAL HOST INTERFACE                                                          data byte (D7~D0), as shown in Figure-18. When bit R/W is set to ‘1’,
   By pulling pin MODE2 to VDDIO/2, the device operates in the serial                 data is read out from pin SDO. When bit R/W is set to ‘0’, data on pin
host Mode. In this mode, the registers are accessible through a 16-bit                SDI is written into the register whose address is indicated by address
word which contains an 8-bit command/address byte (bit R/W and 5-                     bits A5~A1. See Figure-18 Serial Host Mode Timing.
address-bit A1~A5, A6 and A7 bits are ignored) and a subsequent 8-bit
                                                                                 22


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                           INDUSTRIAL TEMPERATURE RANGES
2.18 INTERRUPT HANDLING                                                      2.18.2 INTERRUPT ENABLE
                                                                                 The IDT82V2058 provides a latched interrupt output (INT) and the
2.18.1 INTERRUPT SOURCES
                                                                             four kinds of interrupts are all reported by this pin. When the Interrupt
   There are three kinds of interrupt sources:                               Mask register (LOSM, DFM and AISM) is set to ‘1’, the Interrupt Status
      1. Status change in register LOS. The analog/digital loss of signal    register (LOSI, DFI and AISI) is enabled respectively. Whenever there is
         detector continuously monitors the received signal to update the    a transition (‘0’ to ‘1’ or ‘1’ to ‘0’) in the corresponding status register, the
         specific bit in register LOS which indicates presence or absence    Interrupt Status register will change into ‘1’, which means an interrupt
         of a LOS condition.                                                 occurs, and there will be a high to low transition on INT pin. An external
      2. Status change in register DF. The automatic power driver circuit    pull-up resistor of approximately 10 kΩ is required to support the wire-
         continuously monitors the output drivers signal to update the       OR operation of INT. When any of the three Interrupt Mask registers is
         specific bit in register DFM which indicates presence or absence    set to ‘0’ (the power-on default value is ‘0’), the corresponding Interrupt
         of an output driver short circuit condition.                        Status register is disabled and the transition on status register is
                                                                             ignored.
      3. Status change in register AIS. The AIS detector monitors the
         received signal to update the specific bit in register AIS which    2.18.3 INTERRUPT CLEARING
         indicates presence or absence of a AIS condition.                       When an interrupt occurs, the Interrupt Status registers: LOSI, DFI
                                                                             and AISI, are read to identify the interrupt source. These registers will be
                                                                             cleared to ‘0’ after the corresponding status registers: LOS, DF and AIS
                                                                             are read. The Status registers will be cleared once the corresponding
                                 Interrupt Allowed                           conditions are met.
                                                                                 Pin INT is pulled high when there is no pending interrupt left. The
                                                                             interrupt handling in the interrupt service routine is showed in Figure-19.
                                                                             2.19 G.772 MONITORING
                No                                                               The eight channels of IDT82V2058 can all be configured to work as
                                 Interrupt Condition
                                                                             regular transceivers. In applications using only seven channels (chan-
                                        Exist?
                                                                             nels 1 to 7), channel 0 is configured to non-intrusively monitor any of the
                                                                             other channels’ inputs or outputs on the line side. The monitoring is non-
                                            Yes                              intrusive per ITU-T G.772. Figure-20 shows the Monitoring Principle.
                                                                             The receiver path or transmitter path to be monitored is configured by
                                                                             pins MC[3:0] in hardware mode or by register PMON in host mode.
                           Read Interrupt Status Register
                                                                                 The monitored signal goes through the clock and data recovery
                                                                             circuit of channel 0. The monitored clock can output on RCLK0 which
                                                                             can be used as a timing interfaces derived from E1 signal. The moni-
                                                                             tored data can be observed digitally at the output pins RCLK0, RD0/
                                                                             RDP0 and RDN0. LOS detector is still in use in channel 0 for the moni-
                            Read Corresponding Status                        tored signal.
                                      Register
                                                                                 In monitoring mode, channel 0 can be configured in Remote Loop-
                                                                             back. The signal which is being monitored will output on TTIP0 and
                                                                             TRING0. The output signal can then be connected to a standard test
                                                                             equipment with an E1 electrical interface for non-intrusive monitoring.
                               Service the Interrupt
             Figure-19 Interrupt Service Routine
                                                                          23


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                INDUSTRIAL TEMPERATURE RANGES
                                                                        Channel N ( 7 > N > 1 )
                                                       LOS
                                                                                                       LOSn
                                                    Detector
    RTIPn                                        CLK&Data                            HDB3/             RCLKn
                                                                  Jitter              AMI
                                          Slicer  Recovery                                            RDn/RDPn
   RRINGn                                                      Attenuator           Decoder           CVn/RDNn
                                                   (DPLL)
                                Peak
                              Detector
    TTIPn                                                                            HDB3/             TCLKn
                                 Line             Waveform        Jitter
                                                                                      AMI             TDn/TDPn
   TRINGn                       Driver             Shaper      Attenuator                             BPVIn/TDNn
                                                                                    Encoder
                                                   Transmit
                                                   All Ones
               G.772                                                        Channel 0
               Monitor                                 LOS
                                                                                                       LOS0
                                                    Detector
     RTIP0                                        CLK&Data                           HDB3/             RCLK0
                                                                  Jitter              AMI             RD0/RDP0
                                          Slicer  Recovery
   RRING0                                                      Attenuator           Decoder           CV0/RDN0
                                                   (DPLL)
                                Peak                                        Remote
                              Detector                                     Loopback
    TTIP0                                                                            HDB3/             TCLK0
                                 Line             Waveform        Jitter
                                                                                      AMI             TD0/TDP0
   TRING0                       Driver             Shaper      Attenuator                            BPVI0/TDN0
                                                                                    Encoder
                                                   Transmit
                                                   All Ones
                                       Figure-20 Monitoring Principle
                                                      24


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                          INDUSTRIAL TEMPERATURE RANGES
3        PROGRAMMING INFORMATION                                                   The Register ADDP, addressed as 11111 or 1F Hex, switches
                                                                              between primary registers bank and expanded registers bank.
3.1      REGISTER LIST AND MAP                                                     By setting the register ADDP to ‘AAH’, the 5 address bits point to the
    There are 21 primary registers (including an Address Pointer Control      expanded register bank, that is, the expanded registers are available. By
Register and 8 expanded registers in the device).                             clearing register ADDP, the primary registers are available.
    Whatever the control interface is, 5 address bits are used to set the          Primary Registers, whose addresses are 10H, 11H, 16H to 1EH, are
registers. In non-multiplexed parallel interface mode, the five dedicated     reserved. Expanded registers, whose addresses are 08H to 1EH, are
address bits are A[4:0]. In multiplexed parallel interface mode, AD[4:0]      used for test and must be set to ‘0’ (default).
carries the address information. In serial interface mode, A[5:1] are used
to address the register.
Table-13 Primary Register List
                          Address
                                                           Register    R/W                                      Explanation
  Hex    Serial Interface A7-A1  Parallel Interface A7-A0
  00            XX00000                 XXX00000              ID        R   Device ID Register
  01            XX00001                 XXX00001             ALB       R/W  Analog Loopback Configuration Register
  02            XX00010                 XXX00010             RLB       R/W  Remote Loopback Configuration Register
  03            XX00011                 XXX00011             TAO       R/W  Transmit All Ones Configuration Register
  04            XX00100                 XXX00100             LOS        R   Loss of Signal Status Register
  05            XX00101                 XXX00101              DF        R   Driver Fault Status Register
  06            XX00110                 XXX00110            LOSM       R/W  LOS Interrupt Mask Register
  07            XX00111                 XXX00111             DFM       R/W  Driver Fault Interrupt Mask Register
  08            XX01000                 XXX01000             LOSI       R   LOS Interrupt Status Register
  09            XX01001                 XXX01001              DFI       R   Driver Fault Interrupt Status Register
  0A            XX01010                 XXX01010              RS        W   Software Reset Register
  0B            XX01011                 XXX01011            PMON       R/W  Performance Monitor Configuration Register
  0C            XX01100                 XXX01100             DLB       R/W  Digital Loopback Configuration Register
  0D            XX01101                 XXX01101             LAC       R/W  LOS/AIS Criteria Configuration Register
  0E            XX01110                 XXX01110            ATAO       R/W  Automatic TAOS Configuration Register
  0F            XX01111                 XXX01111             GCF       R/W  Global Configuration Register
  10            XX10000                 XXX10000
                                                                                                        Reserved
  11            XX10001                 XXX10001
  12            XX10010                 XXX10010              OE       R/W  Output Enable Configuration Register
  13            XX10011                 XXX10011              AIS       R   AIS Status Register
  14            XX10100                 XXX10100             AISM      R/W  AIS Interrupt Mask Register
  15            XX10101                 XXX10101             AISI       R   AIS Interrupt Status Register
  16            XX10110                 XXX10110
  17            XX10111                 XXX10111
  18            XX11000                 XXX11000
  19            XX11001                 XXX11001
  1A            XX11010                 XXX11010                                                        Reserved
  1B            XX11011                 XXX11011
  1C            XX11100                 XXX11100
  1D            XX11101                 XXX11101
  1E            XX11110                 XXX11110
                                                                            Address pointer control Register for switching between primary register bank and
  1F            XX11111                 XXX11111            ADDP       R/W
                                                                            expanded register bank
                                                                           25


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                             INDUSTRIAL TEMPERATURE RANGES
Table-14 Expanded (Indirect Address Mode) Register List
                      Address
                                                      Register R/W                                   Explanation
 Hex Serial Interface A7-A1 Parallel Interface A7-A0
  00         XX00000                XXX00000           e-SING  R/W Single Rail Mode Setting Register
  01         XX00001                XXX00001          e-CODE   R/W Encoder/Decoder Selection Register
  02         XX00010                XXX00010            e-CRS  R/W Clock Recovery Enable/Disable Register
  03         XX00011                XXX00011          e-RPDN   R/W Receiver n Powerdown Enable/Disable Register
  04         XX00100                XXX00100           e-TPDN  R/W Transmitter n Powerdown Enable/Disable Register
  05         XX00101                XXX00101           e-CZER  R/W Consecutive Zero Detect Enable/Disable Register
  06         XX00110                XXX00110          e-CODV   R/W Code Violation Detect Enable/Disable Register
  07         XX00111                XXX00111          e-EQUA   R/W Enable Equalizer Enable/Disable Register
  08         XX01000                XXX01000
  09         XX01001                XXX01001
  0A         XX01010                XXX01010
  0B         XX01011                XXX01011
  0C         XX01100                XXX01100
  0D         XX01101                XXX01101
  0E         XX01110                XXX01110
  0F         XX01111                XXX01111
  10         XX10000                XXX10000
  11         XX10001                XXX10001
  12         XX10010                XXX10010
  13         XX10011                XXX10011                                                  Test
  14         XX10100                XXX10100
  15         XX10101                XXX10101
  16         XX10110                XXX10110
  17         XX10111                XXX10111
  18         XX11000                XXX11000
  19         XX11001                XXX11001
  1A         XX11010                XXX11010
  1B         XX11011                XXX11011
  1C         XX11100                XXX11100
  1D         XX11101                XXX11101
  1E         XX11110                XXX11110
                                                                   Address pointer control register for switching between primary register bank
  1F         XX11111                XXX11111            ADDP   R/W
                                                                   and expanded register bank
                                                                26


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                       INDUSTRIAL TEMPERATURE RANGES
Table-15 Primary Register Map
                Address
   Register       R/W           Bit 7   Bit 6   Bit 5      Bit 4   Bit 3      Bit 2      Bit 1    Bit 0
                 Default
                  00H           ID 7    ID 6    ID 5       ID 4    ID 3       ID 2       ID 1     ID 0
      ID           R             R       R       R          R       R          R          R        R
                 Default         0        0       0         1       0           0         0         0
                  01H          ALB 7   ALB 6   ALB 5      ALB 4   ALB 3      ALB 2      ALB 1    ALB 0
     ALB          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0         0         0
                  02H          RLB 7   RLB 6   RLB 5      RLB 4   RLB 3      RLB 2      RLB 1    RLB 0
     RLB          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0         0         0
                  03H          TAO 7   TAO 6   TAO 5      TAO 4   TAO 3      TAO 2      TAO 1   TAO 0
     TAO          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  04H          LOS 7   LOS 6   LOS 5      LOS 4   LOS 3      LOS 2      LOS 1    LOS 0
     LOS           R             R       R       R          R       R          R          R        R
                 Default         0        0       0         0       0           0          0        0
                  05H           DF 7    DF 6    DF 5       DF 4    DF 3       DF 2       DF 1     DF 0
      DF           R             R       R       R          R       R          R          R        R
                 Default         0        0       0         0       0           0          0        0
                  06H         LOSM 7  LOSM 6  LOSM 5     LOSM 4  LOSM 3     LOSM 2     LOSM 1  LOSM 0
    LOSM          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  07H          DFM 7   DFM 6   DFM 5      DFM 4   DFM 3      DFM 2      DFM 1   DFM 0
     DFM          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  08H         LOSI 7  LOSI 6  LOSI 5     LOSI 4  LOSI 3      LOSI 2    LOSI 1   LOSI 0
     LOSI          R             R       R       R          R       R          R          R        R
                 Default         0        0       0         0       0           0          0        0
                  09H          DFI 7   DFI 6   DFI 5      DFI 4   DFI 3       DFI 2     DFI 1    DFI 0
      DFI          R             R       R       R          R       R          R          R        R
                 Default         0        0       0         0       0           0          0        0
                  0AH           RS 7    RS 6    RS 5       RS 4    RS 3       RS 2       RS 1     RS 0
      RS           W             W       W       W          W       W          W          W        W
                 Default         1        1       1         1       1           1          1        1
                  0BH             -       -       -          -    MC 3        MC 2      MC 1     MC 0
    PMON          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  0CH          DLB 7   DLB 6   DLB 5      DLB 4   DLB 3      DLB 2      DLB 1    DLB 0
     DLB          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  0DH          LAC 7   LAC 6   LAC 5      LAC 4   LAC 3      LAC 2      LAC 1    LAC 0
     LAC          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default         0        0       0         0       0           0          0        0
                  0EH         ATAO 7  ATAO 6  ATAO 5     ATAO 4  ATAO 3     ATAO 2     ATAO 1   ATAO 0
    ATAO          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default          0       0       0         0       0           0          0        0
                  0FH             -     AISE   SCPB       CODE    JADP       JABW      JACF 1   JACF 0
     GCF          R/W           R/W     R/W     R/W        R/W     R/W        R/W        R/W      R/W
                 Default          0       0       0         0       0           0          0        0
                                                      27


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                        INDUSTRIAL TEMPERATURE RANGES
Table-15 Primary Register Map (Continued)
                Address
   Register       R/W          Bit 7        Bit 6       Bit 5         Bit 4      Bit 3         Bit 2     Bit 1     Bit 0
                 Default
                 12 Hex        OE 7         OE 6        OE 5          OE 4       OE 3          OE 2      OE 1      OE 0
      OE          R/W           R/W          R/W         R/W           R/W        R/W          R/W        R/W       R/W
                 Default         0            0           0             0          0             0         0         0
                 13 Hex        AIS 7        AIS 6       AIS 5         AIS 4      AIS 3         AIS 2     AIS 1     AIS 0
      AIS          R             R            R           R             R          R             R         R         R
                 Default         0            0           0             0          0             0         0         0
                 14 Hex       AISM 7       AISM 6      AISM 5        AISM 4     AISM 3        AISM 2    AISM 1    AISM 0
     AISM         R/W           R/W          R/W         R/W           R/W        R/W          R/W        R/W       R/W
                 Default         0            0           0             0          0             0         0         0
                 15 Hex        AISI 7       AISI 6      AISI 5        AISI 4     AISI 3       AISI 2     AISI 1    AISI 0
      AISI         R             R            R           R             R          R             R         R         R
                 Default         0            0           0             0          0             0         0         0
                 1F Hex       ADDP 7       ADDP 6      ADDP 5        ADDP 4     ADDP 3       ADDP 2     ADDP 1    ADDP 0
    ADDP          R/W           R/W          R/W         R/W           R/W        R/W          R/W        R/W       R/W
                 Default         0            0           0             0          0             0         0         0
Table-16 Expanded (Indirect Address Mode) Register Map
                   Address
    Register         R/W             Bit 7       Bit 6      Bit 5         Bit 4     Bit 3        Bit 2     Bit 1    Bit 0
                    Default
                     00H           SING 7      SING 6      SING 5       SING 4     SING 3       SING 2   SING 1    SING 0
     e-SING          R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     01H           CODE 7      CODE 6     CODE 5        CODE 4    CODE 3       CODE 2  CODE 1 R/W CODE 0
    e-CODE           R/W             R/W         R/W        R/W           R/W       R/W          R/W                R/W
                                                                                                            0
                     Default          0            0          0            0          0            0                  0
                     02H            CRS 7       CRS 6      CRS 5         CRS 4     CRS 3        CRS 2     CRS 1    CRS 0
      e-CRS          R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     03H           RPDN 7      RPDN 6     RPDN 5        RPDN 4    RPDN 3       RPDN 2    RPDN 1   RPDN 0
    e-RPDN           R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     04H           TPDN 7      TPDN 6     TPDN 5        TPDN 4    TPDN 3       TPDN 2    TPDN 1   TPDN 0
     e-TPDN          R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     05H           CZER 7      CZER 6     CZER 5        CZER 4    CZER 3       CZER 2    CZER 1   CZER 0
     e-CZER          R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     06H           CODV 7      CODV 6     CODV 5        CODV 4    CODV 3       CODV 2    CODV 1   CODV 0
    e-CODV           R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     07H           EQUA 7      EQUA 6     EQUA 5        EQUA 4    EQUA 3       EQUA 2    EQUA 1   EQUA 0
    e-EQUA           R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                     Default          0            0          0            0          0            0        0         0
                     1FH           ADDP 7      ADDP 6     ADDP 5        ADDP 4    ADDP 3       ADDP 2    ADDP 1   ADDP 0
     ADDP            R/W             R/W         R/W        R/W           R/W       R/W          R/W       R/W      R/W
                    Default           0            0          0            0          0            0        0         0
                                                                  28


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                 INDUSTRIAL TEMPERATURE RANGES
3.2       REGISTER DESCRIPTION
3.2.1     PRIMARY REGISTERS
ID: Device ID Register (R, Address = 00H)
    Symbol      Position    Default                                                              Description
                                     An 8-bit word is pre-set into the device as the identification and revision number. This number is different with the functional
     ID[7:0]     ID.7-0      10H
                                     changes and is mask programmed.
ALB: Analog Loopback Configuration Register (R/W, Address = 01H)
    Symbol      Position    Default                                                              Description
                                     0 = Normal operation. (Default)
   ALB[7:0]     ALB.7-0      00H
                                     1 = Analog Loopback enabled.
RLB: Remote Loopback Configuration Register (R/W, Address = 02H)
    Symbol      Position    Default                                                              Description
                                     0 = Normal operation. (Default)
   RLB[7:0]     RLB.7-0      00H
                                     1 = Remote Loopback enabled.
TAO: Transmit All Ones Configuration Register (R/W, Address = 03H)
    Symbol      Position    Default                                                              Description
                                     0 = Normal operation. (Default)
   TAO[7:0]     TAO.7-0      00H
                                     1 = Transmit all ones.
LOS: Loss of Signal Status Register (R, Address = 04H)
    Symbol      Position    Default                                                              Description
                                     0 = Normal operation. (Default)
   LOS[7:0]     LOS.7-0      00H
                                     1 = Loss of signal detected.
DF: Driver Fault Status Register (R, Address = 05H)
    Symbol      Position    Default                                                              Description
                                     0 = Normal operation. (Default)
    DF[7:0]      DF.7-0      00H
                                     1 = Driver fault detected.
LOSM: Loss of Signal Interrupt Mask Register (R/W, Address = 06H)
    Symbol      Position    Default                                                              Description
                                     0 = LOS interrupt is not allowed. (Default)
  LOSM[7:0]    LOSM.7-0      00H
                                     1 = LOS interrupt is allowed.
DFM: Driver Fault Interrupt Mask Register (R/W, Address = 07H)
    Symbol      Position    Default                                                              Description
                                     0 = Driver fault interrupt not allowed. (Default)
   DFM[7:0]     DFM.7-0      00H
                                     1 = Driver fault interrupt allowed.
LOSI: Loss of Signal Interrupt Status Register (R, Address = 08H)
    Symbol      Position    Default                                                              Description
                                     0 = (Default). Or after a LOS read operation.
   LOSI[7:0]    LOSI.7-0     00H
                                     1 = Any transition on LOSn (Corresponding LOSMn is set to ‘1’).
                                                                                29


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                      INDUSTRIAL TEMPERATURE RANGES
DFI: Driver Fault Interrupt Status Register (R, Address = 09H)
   Symbol       Position     Default                                                               Description
                                       0 = (Default). Or after a DF read operation.
   DFI[7:0]      DFI.7-0       00H
                                       1 = Any transition on DFn (Corresponding DFMn is set to ‘1’).
RS: Software Reset Register (W, Address = 0AH)
   Symbol       Position     Default                                                               Description
                                       Writing to this register will not change the content in this register but initiate a 1 µs reset cycle, which means all the registers
    RS[7:0]      RS.7-0       FFH
                                       in the device are set to their default values.
PMON: Performance Monitor Configuration Register (R/W, Address = 0BH)
   Symbol        Position      Default                                                               Description
                                         0 = Normal operation. (Default)
      -         PMON.7-4        0000
                                         1 = Reserved.
                                         0000 = Normal operation without monitoring (Default)
                                         0001 = Monitor Receiver 1
                                         0010 = Monitor Receiver 2
                                         0011 = Monitor Receiver 3
                                         0100 = Monitor Receiver 4
                                         0101 = Monitor Receiver 5
                                         0110 = Monitor Receiver 6
                                         0111 = Monitor Receiver 7
   MC[3:0]      PMON.3-0        0000
                                         1000 = Normal operation without monitoring
                                         1001 = Monitor Transmitter 1
                                         1010 = Monitor Transmitter 2
                                         1011 = Monitor Transmitter 3
                                         1100 = Monitor Transmitter 4
                                         1101 = Monitor Transmitter 5
                                         1110 = Monitor Transmitter 6
                                         1111 = Monitor Transmitter 7
DLB: Digital Loopback Configuration Register (R/W, Address = 0CH)
   Symbol        Position     Default                                                                Description
                                         0 = Normal operation. (Default)
   DLB[7:0]       DLB.7-0       00H
                                         1 = Digital Loopback enabled.
LAC: LOS/AIS Criteria Configuration Register (R/W, Address = 0DH)
   Symbol        Position     Default                                                                Description
                                         0 = G.775 (Default)
   LAC[7:0]       LAC.7-0       00H
                                         1 = ETSI 300 233
ATAO: Automatic TAOS Configuration Register (R/W, Address = 0EH)
   Symbol        Position     Default                                                                Description
                                         0 = No automatic transmit all ones. (Default)
  ATAO[7:0]     ATAO.7-0        00H
                                         1 = Automatic transmit all ones to the line side during LOS.
                                                                                   30


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                INDUSTRIAL TEMPERATURE RANGES
GCF: Global Configuration Register (R/W, Address = 0FH)
   Symbol        Position    Default                                                             Description
                                       0 = Normal operation.
       -          GCF.7          0
                                       1 = Reserved.
                                       0 = AIS insertion to the system side disabled on LOS.
     AISE         GCF.6          0
                                       1 = AIS insertion to the system side enabled on LOS.
                                       0 = Short circuit protection is enabled.
    SCPB          GCF.5          0
                                       1 = Short circuit protection is disabled.
                                       0 = HDB3 encoder/decoder enabled.
    CODE          GCF.4          0
                                       1 = AMI encoder/decoder enabled.
                                       Jitter Attenuator Depth Select
    JADP          GCF.3          0     0 = 32-bit FIFO (Default)
                                       1 = 64-bit FIFO
                                       Jitter Transfer Function Bandwidth Select
    JABW          GCF.2          0     0 = 1.7 Hz
                                       1 = 6.6 Hz
                                       Jitter Attenuator Configuration
                                       00 = JA not used. (Default)
  JACF[1:0]      GCF.1-0        00     01 = JA in transmit path
                                       10 = JA not used.
                                       11 = JA in receive path
OE: Output Enable Configuration Register (R/W, Address = 12H)
   Symbol       Position    Default                                                              Description
                                      0 = Transmit drivers enabled. (Default)
   OE[7:0]       OE.7-0       00H
                                      1 = Transmit drivers in high-Z.
AIS: Alarm Indication Signal Status Register (R, Address = 13H)
   Symbol       Position    Default                                                             Description
                                      0 = Normal operation. (Default)
   AIS[7:0]      AIS.7-0      00H
                                      1 = AIS detected.
AISM: Alarm Indication Signal Interrupt Mask Register (R/W, Address = 14H)
   Symbol       Position    Default                                                             Description
                                      0 = AIS interrupt is not allowed. (Default)
  AISM[7:0]     AISM.7-0      00H
                                      1 = AIS interrupt is allowed.
AISI: Alarm Indication Signal Interrupt Status Register (R, Address = 15H)
   Symbol       Position    Default                                                             Description
                                      0 = (Default), or after an AIS read operation
   AISI[7:0]     AISI.7-0     00H
                                      1 = Any transition on AISn. (Corresponding AISMn is set to ‘1’.)
ADDP: Address Pointer Control Register (R/W, Address = 1F H)
   Symbol       Position    Default                                                             Description
                                      Two kinds of configuration in this register can be set to switch between primary register bank and expanded register bank.
                                      When power up, the address pointer will point to the top address of primary register bank automatically.
  ADDP[7:0]    ADDP.7-0       00H
                                      00H = The address pointer points to the top address of primary register bank (default).
                                      AAH = The address pointer points to the top address of expanded register bank.
                                                                                 31


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                    INDUSTRIAL TEMPERATURE RANGES
3.2.2      EXPANDED REGISTER DESCRIPTION
e-SING: Single Rail Mode Setting Register (R/W, Expanded Address = 00H)
     Symbol           Position    Default                                                            Description
                                             0 = Pin TDNn selects single rail mode or dual rail mode. (Default)
    SING[7:0]        SING.7-0      00H
                                             1 = Single rail mode enabled (with CRSn=0)
e-CODE: Encoder/Decoder Selection Register (R/W, Expanded Address = 01H)
     Symbol           Position    Default                                                            Description
                                             CODEn selects AMI or HDB3 encoder/decoder on a per channel basis with SINGn = 1 and CRSn = 0.
   CODE[7:0]         CODE.7-0      00H       0 = HDB3 encoder/decoder enabled. (Default)
                                             1 = AMI encoder/decoder enabled.
e-CRS: Clock Recovery Enable/Disable Selection Register (R/W, Expanded Address = 02H)
     Symbol           Position    Default                                                            Description
                                             0 = Clock recovery enabled. (Default)
    CRS[7:0]          CRS.7-0      00H
                                             1 = Clock recovery disabled.
e-RPDN: Receiver n Powerdown Register (R/W, Expanded Address = 03H)
     Symbol           Position    Default                                                            Description
                                             0 = Normal operation. (Default)
   RPDN[7:0]         RPDN.7-0      00H
                                             1 = Receiver n is powered down.
e-TPDN: Transmitter n Powerdown Register (R/W, Expanded Address = 04H)
     Symbol           Position    Default                                                            Description
                                             0 = Normal operation. (Default)
   TPDN[7:0]         TPDN.7-0      00H
                                             1 = Transmitter n is powered down(1) (the corresponding transmit output driver enters a low power high-Z mode).
1. Transmitter n is powered down when either pin TCLKn is pulled low or TPDNn is set to ‘1’
e-CZER: Consecutive Zero Detect Enable/Disable Register (R/W, Expanded Address = 05H)
     Symbol           Position    Default                                                            Description
                                             0 = Excessive zeros detect disabled. (Default)
   CZER[7:0]         CZER.7-0      00H
                                             1 = Excessive zeros detect enabled for HDB3 decoder in single rail mode.
e-CODV: Code Violation Detect Enable/Disable Register (R/W, Expanded Address = 06H)
     Symbol           Position    Default                                                            Description
                                             0 = Code Violation Detect enable for HDB3 decoder in single rail mode. (Default)
   CODV[7:0]         CODV.7-0      00H
                                             1 = Code Violation Detect disabled.
e-EQUA: Receive Equalizer Enable/Disable Register (R/W, Expanded Address = 07H)
     Symbol           Position    Default                                                            Description
                                             0 = Normal operation. (Default)
   EQUA[7:0]         EQUA.7-0      00H       1 = Equalizer in Receiver n is enabled, which can improve the receive performance when transmission length is more than
                                             200 m.
                                                                                            32


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                        INDUSTRIAL TEMPERATURE RANGES
4  IEEE STD 1149.1 JTAG TEST                                                                  The JTAG boundary scan registers includes BSR (Boundary Scan
                                                                                           Register), IDR (Device Identification Register), BR (Bypass Register)
ACCESS PORT                                                                                and IR (Instruction Register). These will be described in the following
   The IDT82V2058 supports the digital Boundary Scan Specification                         pages. Refer to Figure-21 for architecture.
as described in the IEEE 1149.1 standards.
                                                                                           4.1 JTAG INSTRUCTIONS AND INSTRUCTION REG-
    The boundary scan architecture consists of data and instruction                        ISTER (IR)
registers plus a Test Access Port (TAP) controller. Control of the TAP is
achieved through signals applied to the TMS and TCK pins. Data is                             The IR with instruction decode block is used to select the test to be
                                                                                           executed or the data register to be accessed or both.
shifted into the registers via the TDI pin, and shifted out of the registers
via the TDO pin. JTAG test data are clocked at a rate determined by                           The instructions are shifted in LSB first to this 3-bit register. See
JTAG test clock.                                                                           Table-17 Instruction Register Description on page 34 for details of the
                                                                                           codes and the instructions related.
                                       Digital output pins                    Digital input pins
                                      parallel latched output
                                                    BSR (Boundary Scan Register)
                                                  IDR (Device Identification Register)                              MUX
          TDI
                                                         BR (Bypass Register)
                                                                                                                                  MUX                 TDO
                                                        IR (Instruction Register)
                                                                            Control<6:0>
          TMS
                                                 TAP                                                       Select
         TRST                             (Test Access Port)
                                              Controller
                                                                                                             High-Z Enable
          TCK
                                                                Figure-21 JTAG Architecture
                                                                                      33


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                     INDUSTRIAL TEMPERATURE RANGES
  Table-17 Instruction Register Description
     IR Code           Instruction                                                                 Comments
                                         The external test instruction allows testing of the interconnection to other devices. When the current instruction is the
                                         EXTEST instruction, the boundary scan register is placed between TDI and TDO. The signal on the input pins can be
       000                Extest         sampled by loading the boundary scan register using the Capture-DR state. The sampled values can then be viewed by
                                         shifting the boundary scan register using the Shift-DR state. The signal on the output pins can be controlled by loading
                                         patterns shifted in through input TDI into the boundary scan register using the Update-DR state.
                                         The sample instruction samples all the device inputs and outputs. For this instruction, the boundary scan register is placed
                                         between TDI and TDO. The normal path between IDT82V2058 logic and the I/O pins is maintained. Primary device
       100          Sample/Preload
                                         inputs and outputs can be sampled by loading the boundary scan register using the Capture-DR state. The sampled val-
                                         ues can then be viewed by shifting the boundary scan register using the Shift-DR state.
                                         The identification instruction is used to connect the identification register between TDI and TDO. The device's identifica-
       110               Idcode
                                         tion code can then be shifted out using the Shift-DR state.
                                         The bypass instruction shifts data from input TDI to output TDO with one TCK clock period delay. The instruction is used
       111               Bypass
                                         to bypass the device.
                                                                                       4.2.2      BYPASS REGISTER (BR)
 Table-18 Device Identification Register Description
                                                                                            The BR consists of a single bit. It can provide a serial path between
          Bit No.                            Comments                                  the TDI input and TDO output, bypassing the BSR to reduce test access
                                                                                       times.
             0                                 Set to ‘1’
                                                                                       4.2.3      BOUNDARY SCAN REGISTER (BSR)
           1~11                           Producer Number
                                                                                            The BSR can apply and read test patterns in parallel to or from all the
          12~27                              Part Number
                                                                                       digital I/O pins. The BSR is a 98 bits long shift register and is initialized
          28~31                            Device Revision                             and read using the instruction EXTEST or SAMPLE/PRELOAD. Each
                                                                                       pin is related to one or more bits in the BSR. Please refer to Table-19 for
4.2       JTAG DATA REGISTER                                                           details of BSR bits and their functions.
4.2.1 DEVICE IDENTIFICATION REGISTER (IDR)
    The IDR can be set to define the producer number, part number and
the device revision, which can be used to verify the proper version or
revision number that has been used in the system under test. The IDR is
32 bits long and is partitioned as in Table-18. Data from the IDR is
shifted out to TDO LSB first.
Table-19 Boundary Scan Register Description
    Bit No.       Bit Symbol       Pin Signal          Type                                                      Comments
       0            POUT0             LP0               I/O
       1              PIN0            LP0               I/O
       2            POUT1             LP1               I/O
       3              PIN1            LP1               I/O
       4            POUT2             LP2               I/O
       5              PIN2            LP2               I/O
       6            POUT3             LP3               I/O
       7              PIN3            LP3               I/O
       8            POUT4             LP4               I/O
       9              PIN4            LP4               I/O
       10           POUT5             LP5               I/O
       11             PIN5            LP5               I/O
       12           POUT6             LP6               I/O
       13             PIN6            LP6               I/O
       14           POUT7             LP7               I/O
       15             PIN7            LP7               I/O
                                                                                    34


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                    INDUSTRIAL TEMPERATURE RANGES
Table-19 Boundary Scan Register Description (Continued)
   Bit No.   Bit Symbol   Pin Signal      Type                                                  Comments
                                                   Controls pins LP[7:0].
     16         PIOS          N/A            -     When ‘0’, the pins are configured as outputs. The output values to the pins are set in POUT 7~0.
                                                   When ‘1’, the pins are high-Z. The input values to the pins are read in PIN 7~0.
     17        TCLK1        TCLK1            I
     18         TDP1         TDP1            I
     19         TDN1         TDN1            I
     20        RCLK1        RCLK1           O
     21         RDP1         RDP1           O
     22         RDN1         RDN1           O
                                                   Controls pin RDP1, RDN1 and RCLK1.
     23        HZEN1          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     24         LOS1         LOS1           O
     25        TCLK0        TCLK0            I
     26         TDP0         TDP0            I
     27         TDN0         TDN0            I
     28        RCLK0        RCLK0           O
     29         RDP0         RDP0           O
     30         RDN0         RDN0           O
                                                   Controls pin RDP0, RDN0 and RCLK0.
     31        HZEN0          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     32         LOS0         LOS0           O
     33       MODE1         MODE1            I
     34         LOS3         LOS3           O
     35         RDN3         RDN3           O
     36         RDP3         RDP3           O
                                                   Controls pin RDP3, RDN3 and RCLK3.
     37        HZEN3          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     38        RCLK3        RCLK3           O
     39         TDN3         TDN3            I
     40         TDP3         TDP3            I
     41        TCLK3        TCLK3            I
     42         LOS2         LOS2           O
     43         RDN2         RDN2           O
     44         RDP2         RDP2           O
                                                   Controls pin RDP2, RDN2 and RCLK2.
     45        HZEN2          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     46        RCLK2        RCLK2           O
     47         TDN2         TDN2            I
     48         TDP2         TDP2            I
     49        TCLK2        TCLK2            I
     50          INT          INT           O
     51          ACK         ACK            O
                                                   Control pin ACK.
     52      SDORDYS          N/A            -     When ‘0’, the output is enabled on pin ACK.
                                                   When ‘1’, the pin is high-Z.
     53         WRB           DS             I
     54          RDB          R/W            I
     55          ALE          ALE            I
     56          CSB          CS             I
                                                                    35


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                INDUSTRIAL TEMPERATURE RANGES
Table-19 Boundary Scan Register Description (Continued)
   Bit No.   Bit Symbol   Pin Signal      Type                                                 Comments
     57       MODE0         MODE0            I
     58        TCLK5        TCLK5            I
     59         TDP5         TDP5            I
     60         TDN5         TDN5            I
     61        RCLK5        RCLK5           O
     62         RDP5         RDP5           O
     63         RDN5         RDN5           O
                                                   Controls pin RDP5, RDN5 and RCLK5.
     64        HZEN5          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     65         LOS5         LOS5           O
     66        TCLK4        TCLK4            I
     67         TDP4         TDP4            I
     68         TDN4         TDN4            I
     69        RCLK4        RCLK4           O
     70         RDP4         RDP4           O
     71         RDN4         RDN4           O
                                                   Controls pin RDP4, RDN4 and RCLK4.
     72        HZEN4          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     73         LOS4         LOS4           O
     74          OE           OE             I
     75         CLKE         CLKE            I
     76         LOS7         LOS7           O
     77         RDN7         RDN7           O
     78         RDP7         RDP7           O
                                                   Controls pin RDP7, RDN7 and RCLK7.
     79        HZEN7          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     80        RCLK7        RCLK7           O
     81         TDN7         TDN7            I
     82         TDP7         TDP7            I
     83        TCLK7        TCLK7            I
     84         LOS6         LOS6           O
     85         RDN6         RDN6           O
     86         RDP6         RDP6           O
                                                   Controls pin RDP6, RDN6 and RCLK6.
     87        HZEN6          N/A            -     When ‘0’, the outputs are enabled on the pins.
                                                   When ‘1’, the pins are high-Z.
     88        RCLK6        RCLK6           O
     89         TDN6         TDN6            I
     90         TDP6         TDP6            I
     91        TCLK6        TCLK6            I
     92         MCLK        MCLK             I
     93       MODE2         MODE2            I
     94           A4          A4             I
     95           A3          A3             I
     96           A2          A2             I
     97           A1          A1             I
     98           A0          A0             I
                                                                    36


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                        INDUSTRIAL TEMPERATURE RANGES
4.3      TEST ACCESS PORT CONTROLLER                                                       instruction registers. The value shown next to each state transition in
   The TAP controller is a 16-state synchronous state machine. Figure-                     this figure states the value present at TMS at each rising edge of TCK.
22 shows its state diagram A description of each state follows. Note that                  Refer to Table-20 for details of the state description.
the figure contains two main branches to access either the data or
Table-20 TAP Controller State Description
        State                                                                                 Description
                      In this state, the test logic is disabled. The device is set to normal operation. During initialization, the device initializes the instruction register
                      with the IDCODE instruction.
  Test Logic Reset
                      Regardless of the original state of the controller, the controller enters the Test-Logic-Reset state when the TMS input is held high for at least 5
                      rising edges of TCK. The controller remains in this state while TMS is high. The device processor automatically enters this state at power-up.
                      This is a controller state between scan operations. Once in this state, the controller remains in the state as long as TMS is held low. The
    Run-Test/Idle     instruction register and all test data registers retain their previous state. When TMS is high and a rising edge is applied to TCK, the controller
                      moves to the Select-DR state.
                      This is a temporary controller state and the instruction does not change in this state. The test data register selected by the current instruction
                      retains its previous state. If TMS is held low and a rising edge is applied to TCK when in this state, the controller moves into the Capture-DR
   Select-DR-Scan
                      state and a scan sequence for the selected test data register is initiated. If TMS is held high and a rising edge applied to TCK, the controller
                      moves to the Select-IR-Scan state.
                      In this state, the Boundary Scan Register captures input pin data if the current instruction is EXTEST or SAMPLE/PRELOAD. The instruction
     Capture-DR       does not change in this state. The other test data registers, which do not have parallel input, are not changed. When the TAP controller is in
                      this state and a rising edge is applied to TCK, the controller enters the Exit1-DR state if TMS is high or the Shift-DR state if TMS is low.
                      In this controller state, the test data register connected between TDI and TDO as a result of the current instruction shifts data on stage toward
       Shift-DR       its serial output on each rising edge of TCK. The instruction does not change in this state. When the TAP controller is in this state and a rising
                      edge is applied to TCK, the controller enters the Exit1-DR state if TMS is high or remains in the Shift-DR state if TMS is low.
                      This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-DR
      Exit1-DR        state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Pause-DR
                      state. The test data register selected by the current instruction retains its previous value and the instruction does not change during this state.
                      The pause state allows the test controller to temporarily halt the shifting of data through the test data register in the serial path between TDI
                      and TDO. For example, this state could be used to allow the tester to reload its pin memory from disk during application of a long test
      Pause-DR        sequence. The test data register selected by the current instruction retains its previous value and the instruction does not change during this
                      state. The controller remains in this state as long as TMS is low. When TMS goes high and a rising edge is applied to TCK, the controller
                      moves to the Exit2-DR state.
                      This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-DR
      Exit2-DR        state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Shift-DR state.
                      The test data register selected by the current instruction retains its previous value and the instruction does not change during this state.
                      The Boundary Scan Register is provided with a latched parallel output to prevent changes while data is shifted in response to the EXTEST
                      and SAMPLE/PRELOAD instructions. When the TAP controller is in this state and the Boundary Scan Register is selected, data is latched into
     Update-DR        the parallel output of this register from the shift-register path on the falling edge of TCK. The data held at the latched parallel output changes
                      only in this state. All shift-register stages in the test data register selected by the current instruction retain their previous value and the instruc-
                      tion does not change during this state.
                      This is a temporary controller state. The test data register selected by the current instruction retains its previous state. If TMS is held low and
                      a rising edge is applied to TCK when in this state, the controller moves into the Capture-IR state, and a scan sequence for the instruction reg-
   Select-IR-Scan
                      ister is initiated. If TMS is held high and a rising edge is applied to TCK, the controller moves to the Test-Logic-Reset state. The instruction
                      does not change during this state.
                      In this controller state, the shift register contained in the instruction register loads a fixed value of ‘100’ on the rising edge of TCK. This sup-
                      ports fault-isolation of the board-level serial test data path. Data registers selected by the current instruction retain their value and the instruc-
     Capture-IR
                      tion does not change during this state. When the controller is in this state and a rising edge is applied to TCK, the controller enters the Exit1-
                      IR state if TMS is held high, or the Shift-IR state if TMS is held low.
                      In this state, the shift register contained in the instruction register is connected between TDI and TDO and shifts data one stage towards its
                      serial output on each rising edge of TCK. The test data register selected by the current instruction retains its previous value and the instruction
       Shift-IR
                      does not change during this state. When the controller is in this state and a rising edge is applied to TCK, the controller enters the Exit1-IR
                      state if TMS is held high, or remains in the Shift-IR state if TMS is held low.
                                                                                       37


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                   INDUSTRIAL TEMPERATURE RANGES
Table-20 TAP Controller State Description (Continued)
       State                                                                            Description
                  This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-IR
      Exit1-IR    state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Pause-IR state.
                  The test data register selected by the current instruction retains its previous value and the instruction does not change during this state.
                  The pause state allows the test controller to temporarily halt the shifting of data through the instruction register. The test data register selected
     Pause-IR     by the current instruction retains its previous value and the instruction does not change during this state. The controller remains in this state as
                  long as TMS is low. When TMS goes high and a rising edge is applied to TCK, the controller moves to the Exit2-IR state.
                  This is a temporary state. While in this state, if TMS is held high, a rising edge applied to TCK causes the controller to enter the Update-IR
      Exit2-IR    state, which terminates the scanning process. If TMS is held low and a rising edge is applied to TCK, the controller enters the Shift-IR state.
                  The test data register selected by the current instruction retains its previous value and the instruction does not change during this state.
                  The instruction shifted into the instruction register is latched into the parallel output from the shift-register path on the falling edge of TCK.
     Update-IR    When the new instruction has been latched, it becomes the current instruction. The test data registers selected by the current instruction
                  retain their previous value.
                             1
                                  Test-logic Reset
                                            0
                              0                         1                                    1                                    1
                                   Run Test/Idle                           Select-DR                            Select-IR
                                                                                  0                                    0
                                                                 1                                     1
                                                                         Capture-DR                            Capture-IR
                                                                                  0                                    0
                                                                                             0                                    0
                                                                            Shift-DR                             Shift-IR
                                                                                  1                                   1
                                                                                            1                                     1
                                                                            Exit1-DR                            Exit1-IR
                                                                                  0                                    0
                                                                                             0                                    0
                                                                          Pause-DR                              Pause-IR
                                                                                  1                                    1
                                                                 0                                     0
                                                                            Exit2-DR                            Exit2-IR
                                                                                  1                                    1
                                                                          Update-DR                            Update-IR
                                                                               1      0                            1       0
                                                          Figure-22 JTAG State Diagram
                                                                                 38


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                            INDUSTRIAL TEMPERATURE RANGES
ABSOLUTE MAXIMUM RATING
                Symbol                                                      Parameter                                    Min              Max        Unit
             VDDA, VDDD                   Core Power Supply                                                              -0.5              4.0         V
          VDDIO0, VDDIO1                  I/O Power Supply                                                               -0.5              4.0         V
                VDDT0-7                   Transmit Power Supply                                                          -0.5              7.0         V
                                          Input Voltage, any digital pin                                              GND-0.5              5.5         V
                                                                                                                                        VDDA+ 0.5      V
                   Vin                    Input Voltage(1), RTIPn pins and RRINGn pins                                GND-0.5
                                                                                                                                        VDDD+ 0.5      V
                                          ESD Voltage, any pin(2)                                                       2000                           V
                                          Transient Latch-up Current, any pin                                                             100        mA
                    Iin                   Input Current, any digital pin(3)                                               -10              10        mA
                                          DC Input Current, any analog pin(3)                                                             ±100       mA
                    Pd                    Maximum Power Dissipation in package                                                             1.6        W
                    Tc                    Case Temperature                                                                                 120        °C
                    Ts                    Storage Temperature                                                             -65             +150        °C
  CAUTION: Exceeding these values may cause permanent damage. Functional operation under these conditions is not implied. Exposure to absolute maximum rat-
  ing conditions for extended periods may affect device reliability.
1.
   Referenced to ground
2.
   Human body model
3.
   Constant input current
RECOMMENDED OPERATING CONDITIONS
            Symbol                                                       Parameter                                  Min             Typ        Max   Unit
         VDDA, VDDD                Core Power Supply                                                                3.13            3.3        3.47    V
             VDDIO                 I/O Power Supply                                                                 3.13            3.3        3.47    V
              VDDT                 Transmitter Supply
                                      3.3 V                                                                         3.13            3.3        3.47    V
                                      5V                                                                            4.75            5.0        5.25    V
                TA                 Ambient Operating Temperature                                                     -40             25         85    °C
                RL                 Output load at TTIPn pins and TRINGn pins                                         25                                W
               IVDD                Average Core Power Supply Current(1)                                                              40         60   mA
             IVDDIO                                                (2)                                                               15         25   mA
                                   I/O Power Supply Current
              IVDDT                Average transmitter power supply current, E1 mode      (1), (3)
                                                 75 Ω            50% ones density data:                                                        125   mA
                                                                  100% ones density data:                                                      220   mA
                                                120 Ω            50% ones density data:                                                        100   mA
                                                                  100% ones density data:                                                      200   mA
1.
   Maximum power and current consumption over the full operating temperature and power supply voltage range. Includes all channels.
2.
   Digital output is driving 50 pF load, digital input is within 10% of the supply rails.
3.
   Power consumption includes power absorbed by line load and external transmitter components.
                                                                                            39


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                           INDUSTRIAL TEMPERATURE RANGES
POWER CONSUMPTION
        Symbol                                            Parameter                                       Min                Typ         Max(1)(2)         Unit
                            E1, 3.3 V, 75 Ω Load
                                                    50% ones density data:                                  -                612               -           mW
                                                    100% ones density data:                                 -               1050          1125             mW
                            E1, 3.3 V, 120 Ω Load
                                                    50% ones density data:                                  -                526               -           mW
                                                    100% ones density data:                                 -                880           940             mW
                            E1, 5.0 V, 75 Ω Load
                                                    50% ones density data:                                  -                835               -           mW
                                                    100% ones density data:                                 -               1510          1610             mW
                            E1, 5.0 V, 120 Ω Load
                                                    50% ones density data:                                  -                710               -           mW
                                                    100% ones density data:                                 -               1240          1330             mW
1.
   Maximum power and current consumption over the full operating temperature and power supply voltage range. Includes all channels.
2. Power consumption includes power absorbed by line load and external transmitter components.
DC CHARACTERISTICS
     Symbol                                           Parameter                                            Min                     Typ            Max       Unit
       VIL           Input Low Level Voltage
                                                                                                                                           1
                                  MODE2, JAS and LPn pins                                                                                  ---  VDDIO-0.2     V
                                                                                                                                           3
                                  All other digital inputs pins                                                                                    0.8        V
       VIM           Input Mid Level Voltage
                                                                                                    1                          1             2
                                  MODE2, JAS and LPn pins                                           ---  VDDIO+0.2             --- VDDIO     --- VDDIO-0.2
                                                                                                                                             3
                                                                                                                                                              V
                                                                                                    3                          2
       VIH           Input High Voltage
                                                                                                     2
                                  MODE2, JAS and LPn pins                                            --- VDDIO+ 0.2                                           V
                                                                                                     3
                                  All other digital inputs pins                                             2.0                                               V
       VOL           Output Low level Voltage(1) (Iout = 1.6 mA)                                                                                   0.4        V
       VOH           Output High level Voltage(1) (Iout = 400 µA)                                           2.4                                  VDDIO        V
       VMA           Analog Input Quiescent Voltage (RTIPn/RRINGn pin while floating)                      1.33                     1.4           1.47        V
        IH           Input High Level Current (MODE2, JAS and LPn pin)                                                                             50        µA
        IL           Input Low Level Current (MODE2, JAS and LPn pin)                                                                              50        µA
         II          Input Leakage Current
                                  TMS, TDI and TRST pins                                                                                           50        µA
                                  All other digital input pins                                             -10                                     10        µA
       IZL           High-Z Leakage Current                                                                -10                                     10        µA
       ZOH           Output High-Z on TTIPn pins and TRINGn pins                                           150                                               kΩ
1. Output drivers will output CMOS logic levels into CMOS loads.
                                                                                        40


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                            INDUSTRIAL TEMPERATURE RANGES
TRANSMITTER CHARACTERISTICS
    Symbol                                                         Parameter                                      Min     Typ    Max   Unit
       Vo-p       Output Pulse Amplitudes     (1)
                             75 Ω load                                                                            2.14    2.37   2.6     V
                             120 Ω load                                                                            2.7    3.0    3.3     V
       Vo-s       Zero (space) Level
                             75 Ω load                                                                           -0.237         0.237    V
                             120 Ω load                                                                           -0.3           0.3     V
                  Transmit Amplitude Variation with supply                                                         -1            +1     %
                  Difference between pulse sequences for 17 consecutive pulses                                                   200   mV
      TPW         Output Pulse Width at 50% of nominal amplitude                                                  232     244    256    ns
                  Ratio of the amplitudes of Positive and Negative Pulses at the center of the pulse interval     0.95          1.05
      RTX         Transmit Return Loss    (2)
                                                                                 51 kHz – 102 kHz                  15                   dB
                                     75 Ω                                      102 kHz – 2.048 MHz                 15                   dB
                                                                              2.048 MHz – 3.072 MHz                15                   dB
                                                                                 51 kHz – 102 kHz                  15                   dB
                                     120 Ω                                     102 kHz – 2.048 MHz                 15                   dB
                                                                              2.048 MHz – 3.072 MHz                15                   dB
     JTXP-P       Intrinsic Transmit Jitter (TCLK is jitter free, JA enabled)
                           20 Hz – 100 kHz                                                                               0.050         U.I.
        Td        Transmit Path Delay (JA is disabled)
                       Single Rail                                                                                         8           U.I.
                       Dual Rail                                                                                           3           U.I.
       ISC        Line Short Circuit Current(3)                                                                           180          mAp
1. Measured at the line output ports
2.
   Test at IDT82V2058 evaluation board
3. Measured on device, between TTIPn and TRINGn
                                                                                     41


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                   INDUSTRIAL TEMPERATURE RANGES
RECEIVER CHARACTERISTICS
      Symbol                                                Parameter            Min        Typ      Max    Unit
         ATT         Permissible Cable Attenuation (@1024 kHz)                                        15     dB
          IA         Input Amplitude                                              0.1                 0.9    Vp
         SIR         Signal to Interference Ratio Margin(1)                      -15                         dB
        SRE          Data Decision Threshold (refer to peak input voltage)                   50               %
                     Data Slicer Threshold                                                  150              mV
                     Analog Loss Of Signal(2)
                                  Declare/Clear:                               120/150    200/250  280/350  mVp
                     Allowable consecutive zeros before LOS
                                    G.775:                                                   32
                                    ETSI 300 233:                                          2048
                     LOS Reset
                     Clock Recovery Mode                                         12.5                      % ones
       JRXp-p        Peak to Peak Intrinsic Receive Jitter (JA disabled)                            0.0625   U.I.
        JTRX         Jitter Tolerance
                           1 Hz – 20 Hz                                          18.0                        U.I.
                           20 Hz – 2.4 kHz                                        1.5                        U.I.
                           18 kHz – 100 kHz                                       0.2                        U.I.
        ZDM          Receiver Differential Input Impedance                                  120              kΩ
        ZCM          Receiver Common Mode Input Impedance to GND                  10                         kΩ
        RRX          Receive Return Loss
                            51 kHz – 102 kHz                                      20                         dB
                           102 kHz – 2.048 MHz                                    20                         dB
                            2.048 MHz – 3.072 MHz                                 20                         dB
                     Receive Path Delay
                            Dual rail                                                         3              U.I.
                            Single rail                                                       8              U.I.
1. Per G.703, O.151 @ 6 dB cable attenuation
2.
   Measured on device, between RTIP and RRING, all ones signal.
JITTER ATTENUATOR CHARACTERISTICS
     Symbol                                                 Parameter              Min        Typ     Max    Unit
       f-3dB       Jitter Transfer Function Corner Frequency (–3 dB)
                   Host mode: 32/64 bit FIFO
                                        JABW = 0:                                             1.7             Hz
                                        JABW = 1:                                             6.6             Hz
                   Hardware mode                                                              1.7             Hz
                   Jitter Attenuator(1)
                       @ 3 Hz                                                      -0.5                       dB
                       @ 40 Hz                                                     -0.5                       dB
                       @ 400 Hz                                                   +19.5                       dB
                       @ 100 kHz                                                  +19.5                       dB
         td        Jitter Attenuator Latency Delay
                        32 bit FIFO:                                                           16            U.I.
                        64 bit FIFO:                                                           32            U.I.
                   Input Jitter Tolerance before FIFO Overflow Or Underflow
                        32 bit FIFO:                                                           28            U.I.
                        64 bit FIFO:                                                           56            U.I.
                   Output Jitter in Remote Loopback(2)                                                0.11   U.I.
1.
   Per G.736, see Figure-38 on page 52.
2.
   Per ETSI CTR12/13 output jitter.
                                                                            42


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                          INDUSTRIAL TEMPERATURE RANGES
TRANSCEIVER TIMING CHARACTERISTICS
           Symbol                                             Parameter                                       Min             Typ                Max                      Unit
                                 MCLK Frequency                                                                              2.048                                       MHz
                                 MCLK Tolerance                                                              -100                                 100                     ppm
                                 MCLK Duty Cycle                                                              40                                   60                      %
  Transmit path
                                 TCLK Frequency                                                                              2.048                                       MHz
                                 TCLK Tolerance                                                               -50                                 +50                     ppm
                                 TCLK Duty Cycle                                                              10                                   90                      %
               t1                Transmit Data Setup Time                                                     40                                                           ns
               t2                Transmit Data Hold Time                                                      40                                                           ns
                                 Delay Time of OE Low to Driver High-Z                                                                              1                      µs
                                 Delay Time of TCLK Low to Driver High-Z                                      40               44                  48                      µs
  Receive path
                                 Clock Recovery Capture Range(1)                                                             ± 80                                         ppm
                                 RCLK Duty Cycle(2)                                                           40               50                  60                      %
               t4                RCLK Pulse Width(2)                                                          457             488                 519                      ns
               t5                RCLK Pulse Width Low Time                                                    203             244                 285                      ns
               t6                RCLK Pulse Width High Time                                                   203             244                 285                      ns
                                 Rise/Fall Time(3)                                                             5                                   30                      ns
               t7                Receive Data Setup Time                                                      200             244                                          ns
               t8                Receive Data Hold Time                                                       200             244                                          ns
               t9                RDPn/RDNn Pulse Width (MCLK = High)(4)                                       200             244                                          ns
1.
   Relative to nominal frequency, MCLK = ± 100 ppm
2. RCLK
          duty cycle widths will vary depending on extent of received pulse jitter displacement. Maximum and minimum RCLK duty cycles are for worst case jitter conditions (0.2 UI dis-
   placement for E1 per ITU G.823).
3.
   For all digital outputs. C load = 15 pF
4. Clock recovery is disabled in this mode.
                                                                                              43


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                       INDUSTRIAL TEMPERATURE RANGES
             TCLKn
                                             t1                    t2
            TDn/TDPn
            BPVIn/TDNn
                               Figure-23 Transmit System Interface Timing
                                                t4
              RCLKn                    t6                  t5
                                       t7                 t8
            RDn/RDPn
            (CLKE = 1)
            CVn/RDNn
                                                           t7                  t8
            RDn/RDPn
            (CLKE = 0)
            CVn/RDNn
                                Figure-24 Receive System Interface Timing
                                                   44


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                            INDUSTRIAL TEMPERATURE RANGES
JTAG TIMING CHARACTERISTICS
   Symbol                         Parameter                      Min      Typ    Max       Unit    Comments
      t1    TCK Period                                           200                        ns
      t2    TMS to TCK setup Time
                                                                  50                        ns
            TDI to TCK Setup Time
      t3    TCK to TMS Hold Time
                                                                  50                        ns
            TCK to TDI Hold Time
      t4    TCK to TDO Delay Time                                                100        ns
                                                          t1
     TCK
                                     t2        t3
     TMS
     TDI
                                                              t4
    TDO
                                            Figure-25 JTAG Interface Timing
                                                         45


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                  INDUSTRIAL TEMPERATURE RANGES
PARALLEL HOST INTERFACE TIMING CHARACTERISTICS
INTEL MODE READ TIMING CHARACTERISTICS
     Symbol                                                       Parameter                     Min   Typ   Max   Unit  Comments
                                                                                                                           (1)
          t1          Active RD Pulse Width                                                     90                 ns
          t2          Active CS to Active RD Setup Time                                          0                 ns
          t3          Inactive RD to Inactive CS Hold Time                                       0                 ns
          t4          Valid Address to Inactive ALE Setup Time (in Multiplexed Mode)             5                 ns
          t5          Invalid RD to Address Hold Time (in Non-Multiplexed Mode)                  0                 ns
          t6          Active RD to Data Output Enable Time                                      7.5          15    ns
          t7          Inactive RD to Data High-Z Delay Time                                     7.5          15    ns
          t8          Active CS to RDY delay time                                                6           12    ns
          t9          Inactive CS to RDY High-Z Delay Time                                       6           12    ns
         t10          Inactive RD to Inactive INT Delay Time                                                 20    ns
         t11          Address Latch Enable Pulse Width (in Multiplexed Mode)                    10                 ns
         t12          Address Latch Enable to RD Setup Time (in Multiplexed Mode)                0                 ns
         t13          Address Setup time to Valid Data Time (in Non-Multiplexed Mode)           18           32    ns
         t14          Inactive RD to Active RDY Delay Time                                      10           15    ns
         t15          Active RD to Active RDY Delay Time                                        30           85    ns
         t16          Inactive ALE to Address Hold Time (in Multiplexed Mode)                    5                 ns
1.
   The t1 is determined by the start time of the valid data when the RDY signal is not used.
                                                                                             46


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                               INDUSTRIAL TEMPERATURE RANGES
                                   t2                                                    t3
               CS
                                                                t1
               RD
             ALE(=1)
                                                t13                                        t5
              A[4:0]                                            ADDRESS
                                                   t6                                 t7
              D[7:0]                                                    DATA OUT
                                      t8                                           t14            t9
              RDY
                                                          t15                               t10
               INT
                            Figure-26 Non-Multiplexed Intel Mode Read Timing
                                    t2                                                     t3
                 CS
                                                                 t1
                RD
                               t11          t12
                                                      t13
                ALE
                                          t16
                               t4                   t6                                 t7
              AD[7:0]           ADDRESS                                 DATA OUT
                                                                                     t14
                                       t8                                                           t9
                RDY
                                                            t15
                                                                                              t10
                INT
                              Figure-27 Multiplexed Intel Mode Read Timing
                                                             47


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                    INDUSTRIAL TEMPERATURE RANGES
INTEL MODE WRITE TIMING CHARACTERISTICS
           Symbol                                          Parameter                       Min    Typ          Max   Unit Comments
               t1        Active WR Pulse Width                                             90                         ns     (1)
               t2        Active CS to Active WR Setup Time                                  0                         ns
               t3        Inactive WR to Inactive CS Hold Time                               0                         ns
               t4        Valid Address to Latch Enable Setup Time (in Multiplexed Mode)     5                         ns
               t5        Invalid WR to Address Hold Time (in Non-Multiplexed Mode)          2                         ns
               t6        Valid Data to Inactive WR Setup Time                               5                         ns
               t7        Inactive WR to Data Hold Time                                     10                         ns
               t8        Active CS to Inactive RDY Delay Time                               6                   12    ns
               t9        Active WR to Active RDY Delay Time                                30                   85    ns
              t10        Inactive WR to Inactive RDY Delay Time                            10                   15    ns
              t11        Invalid CS to RDY High-Z Delay Time                                6                   12    ns
              t12        Address Latch Enable Pulse Width (in Multiplexed Mode)            10                         ns
              t13        Inactive ALE to WR Setup Time (in Multiplexed Mode)                0                         ns
              t14        Inactive ALE to Address hold time (in Multiplexed Mode)            5                         ns
              t15        Address setup time to Inactive WR time (in Non-Multiplexed Mode)   5                         ns
       1. The t1 can be 15 ns when RDY signal is not used.
                                   CS
                                                              t2                        t1                 t3
                                   WR
                                 ALE(=1)
                                                                              t15                  t5
                                  A[4:0]                                    ADDRESS
                                                                                            t6         t7
                                  D[7:0]                                                    WRITE DATA
                                                           t8                                       t10            t11
                                   RDY
                                                                                  t9
                                             Figure-28 Non-Multiplexed Intel Mode Write Timing
                                                       t2                                                      t3
                        CS
                                                                                     t1
                       WR
                                                  t12          t13
                       ALE
                                                             t14
                                                  t4                                           t6           t7
                      AD[7:0]                      ADDRESS                                   WRITE DATA
                                                          t8
                                                                                t9                                    t11
                       RDY
                                                                                                         t10
                                                 Figure-29 Multiplexed Intel Mode Write Timing
                                                                                48


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                        INDUSTRIAL TEMPERATURE RANGES
MOTOROLA MODE READ TIMING CHARACTERISTICS
     Symbol                                                     Parameter                                      Min         Typ      Max Unit  Comments
         t1          Active DS Pulse Width                                                                      90                       ns      (1)
         t2          Active CS to Active DS Setup Time                                                           0                       ns
         t3          Inactive DS to Inactive CS Hold Time                                                        0                       ns
         t4          Valid R/W to Active DS Setup Time                                                           0                       ns
         t5          Inactive DS to R/W Hold Time                                                              0.5                       ns
         t6          Valid Address to Active DS Setup Time (in Non-Multiplexed Mode)                             5                       ns
         t7          Active DS to Address Hold Time (in Non-Multiplexed Mode)                                   10                       ns
         t8          Active DS to Data Valid Delay Time (in Non-Multiplexed Mode)                               20                  35   ns
         t9          Active DS to Data Output Enable Time                                                      7.5                  15   ns
        t10          Inactive DS to Data High-Z Delay Time                                                     7.5                  15   ns
        t11          Active DS to Active ACK Delay Time                                                         30                  85   ns
        t12          Inactive DS to Inactive ACK Delay Time                                                     10                  15   ns
        t13          Inactive DS to Invalid INT Delay Time                                                                          20   ns
        t14          Active AS to Active DS Setup Time (in Multiplexed Mode)                                     5                       ns
1. The t1 is determined by the start time of the valid data when the ACK signal is not used.
                                                CS
                                                                          t4                                       t5
                                               R/W
                                                                           t2                    t1              t3
                                                DS
                                             ALE(=1)
                                                                     t6            t7
                                              A[4:0]                  ADDRESS
                                                                                         t8                         t10
                                              D[7:0]                                                   DATA OUT
                                                                                       t9                      t12
                                               ACK                                        t11
                                                                                                                      t13
                                               INT
                                                  Figure-30 Non-Multiplexed Motorola Mode Read Timing
                                         CS
                                                                         t2                                                 t3
                                        R/W
                                                                        t4                          t1                       t5
                                         DS
                                                                      t14
                                         AS
                                                                                        t8
                                                                  t6                   t9                                     t10
                                                                              t7
                                       AD[7:0]                       ADDRESS                              DATA OUT
                                                                                 t11                                       t12
                                        ACK
                                                                                                                                t13
                                        INT
                                                      Figure-31 Multiplexed Motorola Mode Read Timing
                                                                                              49


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                      INDUSTRIAL TEMPERATURE RANGES
MOTOROLA MODE WRITE TIMING CHARACTERISTICS
     Symbol                                              Parameter                            Min         Typ       Max  Unit Comments
          t1        Active DS Pulse Width                                                      90                         ns     (1)
          t2        Active CS to Active DS Setup Time                                           0                         ns
          t3        Inactive DS to Inactive CS Hold Time                                        0                         ns
          t4        Valid R/W to Active DS Setup Time                                          10                         ns
          t5        Inactive DS to R/W Hold Time                                                0                         ns
          t6        Valid Address to Active DS Setup Time (in Non-Multiplexed Mode)            10                         ns
          t7        Valid DS to Address Hold Time (in Non-Multiplexed Mode)                    10                         ns
          t8        Valid Data to Inactive DS Setup Time                                        5                         ns
          t9        Inactive DS to Data Hold Time                                              10                         ns
         t10        Active DS to Active ACK Delay Time                                         30                     85  ns
         t11        Inactive DS to Inactive ACK Delay Time                                     10                     15  ns
         t12        Active AS to Active DS (in Multiplexed Mode)                                0                         ns
         t13        Inactive DS to Inactive AS Hold Time ( in Multiplexed Mode)                15                         ns
1. The t1 can be 15ns when the ACK signal is not used.
                                        CS
                                                                t4                                   t5
                                       R/W
                                                                   t2                 t1           t3
                                        DS
                                     ALE(=1)
                                                             t6              t7
                                      A[4:0]                  ADDRESS
                                                                                              t8       t9
                                      D[7:0]                                                 WRITE DATA
                                                                                    t10                t11
                                       ACK
                                              Figure-32 Non-Multiplexed Motorola Mode Write Timing
                                 CS
                                                                     t2                                       t3
                                R/W
                                                                    t4                    t1                   t5
                                 DS
                                                                      t12                                         t13
                                 AS
                                                           t6             t7                      t8            t9
                               AD[7:0]                       ADDRESS                           WRITE DATA
                                                                                         t10                     t11
                                ACK
                                                 Figure-33 Multiplexed Motorola Mode Writing Timing
                                                                                50


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                  INDUSTRIAL TEMPERATURE RANGES
SERIAL HOST INTERFACE TIMING CHARACTERISTICS
   Symbol                                     Parameter                                 Min      Typ         Max       Unit           Comments
      t1     SCLK High Time                                                              25                              ns
      t2     SCLK Low Time                                                               25                              ns
      t3     Active CS to SCLK Setup Time                                                10                              ns
      t4     Last SCLK Hold Time to Inactive CS Time                                     50                              ns
      t5     CS Idle Time                                                                50                              ns
      t6     SDI to SCLK Setup Time                                                       5                              ns
      t7     SCLK to SDI Hold Time                                                        5                              ns
      t8     Rise/Fall Time (any pin)                                                                         100        ns
      t9     SCLK Rise and Fall Time                                                                           50        ns
     t10     SCLK to SDO Valid Delay Time                                                         25          35         ns         Load = 50 pF
     t11     SCLK Falling Edge to SDO High-Z Hold Time (CLKE = 0) or CS Rising
                                                                                                 100                     ns
             Edge to SDO High-Z Hold Time (CLKE = 1)
                             CS
                                        t3    t1     t2                                                t4    t5
                            SCLK
                                         t6               t7                             t7
                             SDI            LSB                       LSB                        MSB
                                                CONTROL BYTE                      DATA BYTE
                                                 Figure-34 Serial Interface Write Timing
                       1      2       3        4     5    6     7       8       9     10    11    12      13      14   15     16
        SCLK
                                                                          t10                                                        t4
         CS
                                                                                                                                    t11
        SDO                                                                        0      1    2      3      4       5     6      7
                                      Figure-35 Serial Interface Read Timing with CLKE = 0
                       1       2       3       4     5    6     7       8       9     10    11    12      13      14   15     16
        SCLK
                                                                       t10                                                   t4
         CS
                                                                                                                                t11
        SDO                                                                    0      1     2     3       4       5    6      7
                                      Figure-36 Serial Interface Read Timing with CLKE = 1
                                                                       51


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                                                        INDUSTRIAL TEMPERATURE RANGES
JITTER TOLERANCE PERFORMANCE
                                                               3
                                                        1 10
                                                         100
                                                                       18 UI @ 1.8 Hz
                             G.823
                                          Jitter (UI)
                                                             10
                         IDT82V2058
                                                                                    1.5 UI @ 20 Hz
                                                               1                                  1.5 UI @ 2.4
                                                                                                      kHz
                                                                                                              0.2 UI @ 18 kHz
                                                             0.1
                                                                                                              3         4             5
                                                                   1           10         100        1 10           1 10          1 10
                                                                                        Frequency (Hz)
                       Test condition: PRBS 2^15-1; Line code rule HDB3 is used.
                                           Figure-37 Jitter Tolerance Performance
JITTER TRANSFER PERFORMANCE
                                                   0.5 dB @ 3 Hz 0.5 dB @ 40 Hz
                                                    0
                                                                                                -19.5 dB @
                                                                                                  400 Hz
                                               -20
                          G.736                                                                                -19.5 dB @ 20 kHz
                                       Gain (dB)
                                                                                                       f3dB = 6.5 Hz
                      IDT82V2058               -40                                                                f3dB = 1.7 Hz
                                               -60
                                                         1                10            100          1 10 3          1 104          1 105
                                                                                        Frequency (Hz)
                     Test condition: PRBS 2^15-1; Line code rule HDB3 is used.
                                              Figure-38 Jitter Transfer Performance
                                                                                     52


IDT82V2058 OCTAL E1 SHORT HAUL LINE INTERFACE UNIT                                              INDUSTRIAL TEMPERATURE RANGES
ORDERING INFORMATION
            XXXXXXX                          XX                            X
           Device Type                   Package                       Process/
                                                                     Temperature
                                                                        Range
                                                                                 Blank     Industrial (-40 °C to +85 °C)
                                                                                 BB    Plastic Ball Grid Array (PBGA, BB160)
                                                                                 BBG   Green Plastic Ball Grid Array (PBGA, BBG160)
                                                                                 DA    Thin Quad Flatpack (TQFP, DA144)
                                                                                 DAG   Green Thin Quad Flatpack (TQFP, DAG144)
                                                                                 82V2058   E1 Short Haul LIU
DATASHEET DOCUMENT HISTORY
11/04/2001   pgs. 2, 3, 10, 17
11/20/2001   pgs. 5, 6, 11, 13, 16, 17, 24, 26, 31, 38, 39, 40, 50
11/28/2001   pgs. 5, 24, 26, 31
11/29/2001   pgs. 5
12/05/2001   pgs. 9
01/24/2002   pgs. 2, 3, 9, 14, 39, 40
02/21/2002   pgs. 14, 16, 41
03/25/2002   pgs. 1, 2, 52
04/17/2002   pgs. 17
05/07/2002   pgs. 14, 44, 45, 48
01/15/2003   pgs. 1, 52
04/12/2005   pgs. 1, 5 to 8, 10, 11, 14, 15, 18, 19, 29, 30, 40 to 43, 47 to 53
09/14/2009   pg. 40
01/21/2010   pg. 8
10/10/2014   pg. removed DA package information
                                                                         53


 IMPORTANT NOTICE AND DISCLAIMER
 RENESAS ELECTRONICS CORPORATION AND ITS SUBSIDIARIES (“RENESAS”) PROVIDES TECHNICAL
 SPECIFICATIONS AND RELIABILITY DATA (INCLUDING DATASHEETS), DESIGN RESOURCES (INCLUDING
 REFERENCE DESIGNS), APPLICATION OR OTHER DESIGN ADVICE, WEB TOOLS, SAFETY INFORMATION, AND
 OTHER RESOURCES “AS IS” AND WITH ALL FAULTS, AND DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED,
 INCLUDING, WITHOUT LIMITATION, ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 PARTICULAR PURPOSE, OR NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY RIGHTS.
 These resources are intended for developers skilled in the art designing with Renesas products. You are solely responsible
 for (1) selecting the appropriate products for your application, (2) designing, validating, and testing your application, and (3)
 ensuring your application meets applicable standards, and any other safety, security, or other requirements. These
 resources are subject to change without notice. Renesas grants you permission to use these resources only for
 development of an application that uses Renesas products. Other reproduction or use of these resources is strictly
 prohibited. No license is granted to any other Renesas intellectual property or to any third party intellectual property.
 Renesas disclaims responsibility for, and you will fully indemnify Renesas and its representatives against, any claims,
 damages, costs, losses, or liabilities arising out of your use of these resources. Renesas' products are provided only subject
 to Renesas' Terms and Conditions of Sale or other applicable terms agreed to in writing. No use of any Renesas resources
 expands or otherwise alters any applicable warranties or warranty disclaimers for these products.
                                                                                                               (Rev.1.0 Mar 2020)
Corporate Headquarters                                                  Contact Information
TOYOSU FORESIA, 3-2-24 Toyosu,                                          For further information on a product, technology, the most
Koto-ku, Tokyo 135-0061, Japan                                          up-to-date version of a document, or your nearest sales
www.renesas.com                                                         office, please visit:
                                                                        www.renesas.com/contact/
Trademarks
Renesas and the Renesas logo are trademarks of Renesas
Electronics Corporation. All trademarks and registered
trademarks are the property of their respective owners.
                                                                      © 2020 Renesas Electronics Corporation. All rights reserved.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Renesas Electronics:
 82V2058BBG 82V2058DAG 82V2058LDAG 82V2058LDA 82V2058DA 82V2058XDAG 82V2058LBB
82V2058LBBG
