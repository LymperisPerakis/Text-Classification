                                                                                                                                                   LTC2874
                                                                                                         Quad IO-Link Master
                                                                                                             Hot Swap Controller
                                                                                                                                                 and PHY
Features                                                                          Description
n IO-Link® Compatible (COM1/COM2/COM3)                                            The LTC®2874 provides a rugged, 4-port IO-Link power and
n 8V to 34V Operation                                                             communications interface to remote devices connected
n Hot Swap™ Controller Protected Supply Outputs                                   by cables up to 20m in length.
n Discrete Power MOSFETs for Ruggedness and
                                                                                  Output supply voltage and inrush current are ramped
  Flexibility
                                                                                  up in a controlled manner using external N-channel
n Configurable 100mA (4-Port), 200mA (2-Port), or
                                                                                  MOSFETs, providing improved robustness compared to
  400mA (1-Port) CQ Drive Capability
n Automatic Wake-Up Pulse Generation                                              fully integrated solutions.
n Automatic Cable Sensing                                                         Wake-up pulse generation, line noise suppression, con-
n CQ Pins Protected to ±50V                                                       nection sensing and automatic restart after fault conditions
n Configurable L+ Current Limit with Foldback                                     are supported, along with signaling at 4.8kb/s, 38.4kb/s,
n Short Circuit, Input UV/OV and Thermal Protection                               and 230.4kb/s.
n Optional Interrupt and Auto-Retry after Faults
                                                                                  Configuration and fault reporting are exchanged using
n 2.9V to 5.5V Logic Supply for Flexible Digital Interface
n No Damage or Latchup to ±8kV HBM ESD                                            a SPI-compatible 4-wire interface that operates at clock
n 38-Lead (5mm × 7mm) QFN and TSSOP Packages                                      rates up to 20MHz.
                                                                                  The LTC2874 implements an IO-Link master PHY. For
Applications                                                                      IO-Link device designs, see the LT®3669.
n IO-Link Masters                                                                 L, LT, LTC, LTM, Linear Technology, the Linear logo, µModule are registered trademarks and
                                                                                  Hot Swap is a trademark of Linear Technology Corporation. IO-Link is a registered trademark of
n Intelligent Sensors and Actuators                                               PROFIBUS User Organization (PNO). All other trademarks are the property of their respective
                                                                                  owners.
n Factory Automation Networks
Typical Application
                  Quad-Port 200mA Power Source and Signaling Interface                                                              Operating Waveforms
     8V TO 34V
                                          VDD      SENSE+                                                                                   CQ1
                    100µF      1µF
                                              LTC2874
                                                                                        0.2Ω
     2.9V TO 5.5V                         VL      SENSE–1                                                                              CQ2
                                     4.7k         SENSE–2                                                             20V/DIV
                             IRQ          IRQ     SENSE–3                                                                                   CQ3
                          VCC                     SENSE–4
                                   4                        10Ω
                                          TXENn     GATE1                                                                                   CQ4
                                   4
                      1µF                 TXDn      GATE2
                                   4                                                                                                            4µs/DIV             2874 TA01b
                                          RXDn      GATE3                                                                     LOAD: 4nF
                                                                                                                              CQ1, CQ3: SLEW = 0
                                                    GATE4                                                                     CQ2, CQ4: SLEW = 1
                                          CS          L+1                                     4
                                                                                                  1
                            µC
                                          SCK         CQ1                                           2
                                                                                                3
                                          SDI         L+2                                             4
                                                                                                            1
                                          SDO         CQ2                                                       2
                                                                                                         3
                                                      L+3                                     4
                                                                                                  1
                                                      CQ3                                           2
                                                                                                3
                                                      L+4                                             4
                                                                                                            1
                           GND                  GND   CQ4                                                       2
                                                                                                         3
                                                                                                       2874 TA01a
                                                                                                                                                                               2874fb
                                                          For more information www.linear.com/LTC2874                                                                          1


LTC2874
Absolute Maximum Ratings
(Notes 1, 2, 3)
Input Supplies                                                                    Output Voltages
   VDD......................................................... –0.3V to 40V        GATE........................................... –0.3V to (VL+) + 15V
   VL............................................................. –0.3V to 6V      IRQ........................................................... –0.3V to 6V
Input Voltages                                                                      RXD, SDO...................................... –0.3V to VL + 0.3V
   CS, SCK, SDI, TXD ................................... –0.3V to 6V              Operating Temperature Range
   TXEN............................................. –0.3V to VL + 0.3V             LTC2874I...............................................–40°C to 85°C
   CQ.................................................... VDD – 50V to 50V        Maximum Junction Temperature........................... 150°C
   GATE – L+ (Note 4)................................. –0.3V to 10V               Storage Temperature Range................... –65°C to 150°C
   L+.............................................................. –6V to 50V    Lead Temperature (Soldering, 10 sec)
   SENSE+, SENSE–....................... VDD – 2V to VDD + 2V                       FE Package........................................................ 300°C
Pin Configuration
                                     TOP VIEW
                                                                                                                              TOP VIEW
                      TXEN4     1               38 TXD4
                                                                                                                   SENSE–4
                       GATE4    2               37 RXD4
                                                                                                           L+4               GATE4   TXEN4   TXD4   RXD4    TXEN3
                    SENSE–4     3               36 TXEN3
                                4                                                                          38 37 36 35 34 33 32
                         L+4                    35 TXD3
                                                                                                CQ4 1                                                               31 TXD3
                         CQ4    5               34 RXD3
                                                                                                CQ3 2                                                               30 RXD3
                         CQ3    6               33 CS
                                                                                              GATE3 3                                                               29 CS
                       GATE3    7               32 SCK
                                                                                            SENSE–3 4                                                               28 SCK
                    SENSE–3     8               31 SDI
                                                                                                L+3 5                                                               27 SDI
                         L+3    9               30 GND
                                                                                             SENSE+ 6                                                               26 GND
                                        39                                                                                            39
                     SENSE+ 10                  29 GND
                                                                                                VDD 7                                GND
                                       GND                                                                                                                          25 GND
                         VDD 11                 28 VL                                         GATE2 8                                                               24 VL
                       GATE2 12                 27 TXEN2                                    SENSE–2 9                                                               23 TXEN2
                    SENSE–2 13                  26 TXD2                                         L+2 10                                                              22 TXD2
                         L+2 14                 25 RXD2                                         CQ2 11                                                              21 RXD2
                         CQ2 15                 24 SDO                                          CQ1 12                                                              20 SDO
                         CQ1 16                 23 IRQ                                                     13 14 15 16 17 18 19
                                                                                                           GATE1
                                                                                                                   SENSE–1
                                                                                                                             L+1
                                                                                                                                     RXD1    TXD1   TXEN1
                       GATE1 17                 22 TXEN1                                                                                                    IRQ
                    SENSE–1 18                  21 TXD1
                         L+1 19                 20 RXD1
                                                                                                                  UHF PACKAGE
                                                                                                        38-LEAD (5mm × 7mm) PLASTIC QFN
                                     FE PACKAGE
                               38-LEAD PLASTIC TSSOP                                                  TJMAX = 150°C, θJA = 34°C/W (NOTE 5)
                                                                                             EXPOSED PAD (PIN 39) IS GND, MUST BE SOLDERED TO PCB
                       TJMAX = 150°C, θJA = 25°C/W (NOTE 5)
              EXPOSED PAD (PIN 39) IS GND, MUST BE SOLDERED TO PCB
                                                                                                                                                                               2874fb
2                                                         For more information www.linear.com/LTC2874


                                                                                                                               LTC2874
Order Information
LEAD FREE FINISH             TAPE AND REEL               PART MARKING                 PACKAGE DESCRIPTION                   TEMPERATURE RANGE
LTC2874IFE#PBF               LTC2874IFE#TRPBF            LTC2874FE                    38-Lead Plastic TSSOP                 –40°C to 85°C
LTC2874IUHF#PBF              LTC2874IUHF#TRPBF           2874                         38-Lead (5mm × 7mm) Plastic QFN       –40°C to 85°C
Consult LTC Marketing for parts specified with wider operating temperature ranges.
Consult LTC Marketing for information on nonstandard lead based finish parts.
For more information on lead free part marking, go to: http://www.linear.com/leadfree/
For more information on tape and reel specifications, go to: http://www.linear.com/tapeandreel/
Electrical Characteristics                                           The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. Unless otherwise noted, VDD = 24V, VL = 3.3V, and registers are reset
to their default states. (Note 2)
SYMBOL        PARAMETER                           CONDITIONS                                                 MIN         TYP          MAX  UNITS
Input Supply
VDD           Input Supply Operating Range        24VMODE = 0                                            l     8                       34       V
                                                  24VMODE = 1                                            l    20                       34       V
IDD           VDD Input Supply Current, All       DRVEN = 0xF, ENL+ = 0xF, ILLM = 0x0                    l                 5            8     mA
              Ports Enabled
VDD(UVL)      UV Lockout                          VDD Rising                                             l   5.5           6           6.5      V
              UV Lockout Hysteresis                                                                                      0.13                   V
VDD(UVTH)     UV Bit Threshold                    VDD Rising
                                                      24VMODE = 1                                        l   16.2        16.8         17.4      V
                                                      24VMODE = 0                                        l    6.8         7.1          7.4      V
              UV Bit Threshold Hysteresis                                                                                 0.2                   V
VDD(OVTH)     OV Bit Threshold                    VDD Rising, OV_TH = 0x1                                l    31          32           33       V
              OV Bit Threshold Hysteresis                                                                                 0.4                   V
Logic Supply
VL            Logic Supply Range                                                                         l    2.9                      5.5      V
IL            VL Logic Supply Current             Digital Inputs at 0V or VL                             l               0.1            1     mA
L+ Power Supply Output
VL+(PGTH)     L+ Power Good Threshold             VL+(PGTH) = VDD – V(L+)                                l   1.2         1.5           1.9      V
              L+ Power Good Hysteresis                                                                                   100                  mV
ΔVCB(TH)      Circuit Breaker Threshold           ΔVCB(TH) = V(SENSE+) – V(SENSE–) (Note 7)                           ∆VACL – 0.8             mV
ΔVACL         Analog Current Limit Voltage        ΔVACL   = V(SENSE+) – V(SENSE–)
                                                      V(L+) = 0V, FLDBK_MODE = 1                         l    9.2        16.7         24.2    mV
                                                      V(L+) = VDD – 1V                                   l    42          50           58     mV
                                                      Start-Up, 2XPTC Enabled, V(L+) > 18V (Note 7)                      100                  mV
tOC(L+)       L+ Pin OC Fault Filter              V(SENSE+) – V(SENSE–) = 250mV,                         l   110        122.5         135      µs
                                                  LPTC = 0x03 (Figure 1)
tD(ACL)       ∆VSENSE to GATE Low                 V(SENSE+) – V(SENSE–) = 250mV,
                                                  LPTC = 0x03 (Figure 1)
                                                  CG = 0nF                                               l                19           25      µs
                                                  CG = 10nF                                                               24                   µs
              Start-Up Current Pulse Duration     2XPTC = 0x0                                            l    52          62           72     ms
              SENSE– Pin Input Current            V(SENSE–) = 24V                                        l     0          10           25      µA
                                                                                                                                            2874fb
                                                        For more information www.linear.com/LTC2874                                         3


LTC2874
Electrical Characteristics                                      The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. Unless otherwise noted, VDD = 24V, VL = 3.3V, and registers are reset
to their default states. (Note 2)
SYMBOL       PARAMETER                        CONDITIONS                                              MIN         TYP          MAX     UNITS
Gate Drive
ΔVGATE       External N-Channel Gate Drive    I(GATE) = –1µA
             (VGATE – VL+)                        VDD = 17V to 30V                              l       10         13            15         V
                                                  VDD = 8V                                      l      4.5                       15         V
IGATE(UP)    GATE Pin Output Current,         V(SENSE+) – V(SENSE–) = 0V, V(GATE) = 1V          l      –10        –14           –20        µA
             Sourcing
IGATE(DN)    GATE Pin Output Current, Sinking ENL+ = 0, V(GATE) = 10V                                              1.2                    mA
IGATE(LIM)   Pull-Down Current from GATE to   V(SENSE+) – V(SENSE–) = 0.2V, ΔVGATE = 10V                           90                     mA
             SOURCE During UVLO or L+ OC
             Timeout Event
             (VGATE – VL+) for Power Good     V(L+) = 8V to 30V                                 l      3.0         3.8          4.5         V
CQ Line Driver
VRQH, VRQL   Residual Voltage (Note 6)        Output High, I(CQ) = –100mA                       l                 1.2           1.6         V
                                              Output Low, I(CQ) = 100mA                         l                 1.1           1.5         V
IQPKH, IQPKL Wake-Up Request (WURQ)           (Figure 2)                                        l     ±500       ±700                     mA
             Current
IQH, IQL     Current Limit                    (Figure 3)                                        l     ±110       ±160          ±230       mA
tOC(CQ)      Overcurrent Timeout              CL = 100pF, VDD – CQ or CQ = 5V (Figure 3)
                                                  SLEW = 0, SIO_MODE = 0                        l       13                      24         µs
                                                  SLEW = 1, SIO_MODE = 0                        l       13                      24         µs
CQ Line Receiver
VTHH         Input High Threshold Voltage     24VMODE = 1                                       l     10.5        11.9          13          V
                                              24VMODE = 0                                       l   0.5 • VDD                0.7 • VDD      V
VTHL         Input Low Threshold Voltage      24VMODE = 1                                       l        8        9.4           11          V
                                              24VMODE = 0                                       l   0.3 • VDD                0.5 • VDD      V
VHYS         Input Hysteresis                 24VMODE = 1                                       l      2.0        2.5           2.9         V
                                              24VMODE = 0                                       l  0.05 • VDD                0.2 • VDD      V
             Input Resistance                 V(CQ) = VDD – 1V, ILLM = 0x0                      l      390        510           630       kΩ
VOH          Output High Voltage              I(RXD) = –100µA                                   l   VL – 0.4                                V
VOL          Output Low Voltage               I(RXD) = 100µA                                    l                               0.4         V
Digital I/O
             Input Threshold Voltage          2.9V ≤ VL ≤ 5.5V                                  l   0.33 • VL                0.67 • VL      V
             Input Leakage Current            0V ≤ VIN ≤ VL
                                              CS, TXD                                           l      –10                       1         µA
                                              SCK, SDI, TXEN                                    l       –1                      10         µA
             Input Capacitance                (Note 7)                                          l                               2.5        pF
VOH(SDO)     SDO Output High Voltage          I(SDO) = –1mA                                     l   VL – 0.4                                V
VOL(SDO)     SDO Output Low Voltage           I(SDO) = 1mA                                      l                               0.4         V
VOL(IRQ)     IRQ Open Drain Output Low        I(IRQ) = 3mA                                      l                               0.4         V
             Voltage                          I(IRQ) = 5mA                                      l                               0.7         V
Other Pin Functions
ILL          Receive-Mode Load/Discharge      ILLM = 0x3, 0V ≤ V(CQ) ≤ 5V                       l       0          6.2          6.8       mA
             Current                          ILLM = 0x3, 5V < V(CQ) ≤ 30V                      l       5          6.2          6.8       mA
                                              ILLM = 0x2, 5V < V(CQ) ≤ 30V                      l      3.2         3.7          4.2       mA
                                              ILLM = 0x1, 5V < V(CQ) ≤ 30V                      l      2.2         2.5          2.8       mA
             Input to GATE Off Propagation    ENL+                                              l                   2            4         µs
             Delay                            UVLO_VDD (Note 7) or OV_VDD Event                 l                  10           15         µs
                                                                                                                                        2874fb
4                                                  For more information www.linear.com/LTC2874


                                                                                                                     LTC2874
Switching Characteristics                                    The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. Unless otherwise noted, VDD = 24V, VL = 3.3V, and registers are reset
to their default states.
SYMBOL       PARAMETER                     CONDITIONS                                              MIN         TYP         MAX    UNITS
             GATE Turn-On Delay                                                              l                  10           20       µs
tRETRY       Auto-Retry Delay              RETRYTC = 0x5                                                        3.9                     s
             ESD Protection                Human Body Model (Note 7)
                 CQ and L+ Pins                                                                                 ±8                    kV
                 All Other Pins                                                                                 ±6                    kV
Driver and Receiver
fDTR         Maximum Data Transfer Rate    CL = 4nF
                                               SLEW = 0                                      l     38.4                             kb/s
                                               SLEW = 1                                      l    230.4                             kb/s
TBIT         Bit Time                      SLEW = 0                                                           26.04                   µs
                                           SLEW = 1                                                            4.34                   µs
CCQ          CQ Pin Input Capacitance      (Note 7)                                                                         100       pF
Driver
tDR, tDF     Rise or Fall Time             SLEW = 0 (Figure 4)
                                               CL = 100pF                                    l                   3           5.2      µs
                                               CL = 4nF                                      l                   3           5.2      µs
                                           SLEW = 1 (Figure 4)
                                               CL = 100pF                                    l                  0.5        0.869      µs
                                               CL = 4nF                                      l                  0.5        0.869      µs
tPHLD, tPLHD Propagation Delay             CL = 100pF (Figure 5)
                                              SLEW = 0                                       l                   4            8       µs
                                              SLEW = 1                                       l                  1.3           3       µs
tSKEWD       Skew                          CL = 100pF (Figure 5)
                                               SLEW = 0                                                         0.5                   µs
                                               SLEW = 1                                                         0.5                   µs
tZHD, tZLD   Enable Time                   RL = 10kΩ, CL = 100pF, ILLM = 0x0 (Figure 6)
                                               SLEW = 0                                      l                               12       µs
                                               SLEW = 1                                      l                                3       µs
tHZD, tLZD   Disable Time                  RL = 10kΩ, CL = 100pF, ILLM = 0x0 (Figure 6)      l                                3       µs
tWUDLY       Wake-Up Request (WURQ) Delay  (Figure 2)                                        l                  7.5          20       µs
tWU          WURQ Pulse Duration           (Figure 2)                                        l      75          80           85       µs
             WURQ Cooldown Timer                                                             l                  8.3          10       ms
Receiver
tH, tL       Detection Time                (Figure 7)
                                               TBIT = 208.3µs (COM1), NSF = 0x1              l     1/16        1/10                  TBIT
                                               TBIT = 26.0µs (COM2), NSF = 0x2               l     1/16         1/9                  TBIT
                                               TBIT = 4.34µs (COM3), NSF = 0x3               l     1/16         1/7                  TBIT
tND          Noise Suppression Time        (Figure 8, Note 9)
                                               TBIT = 208.3µs (COM1), NSF = 0x1              l                 1/10         1/16     TBIT
                                               TBIT = 26.0µs (COM2), NSF = 0x2               l                  1/9         1/16     TBIT
                                               TBIT = 4.34µs (COM3), NSF = 0x3               l                  1/7         1/16     TBIT
tPHLR, tPLHR Receiver Propagation Delay    NSF = 0x0, CL = 100pF (Figure 7)                  l                 200          600       ns
tSKEWR       Receiver Skew                 NSF = 0x0, CL = 100pF (Figure 7)                                    100                    ns
                                                                                                                                   2874fb
                                                For more information www.linear.com/LTC2874                                        5


LTC2874
Timing Characteristics                              The l denotes the specifications which apply over the full operating temperature
range, otherwise specifications are at TA = 25°C. VDD = 24V, VL = 2.9V to 5.5V unless otherwise noted. (See Figure 9) (Note 7)
SYMBOL          PARAMETER                                   CONDITIONS                                                                               MIN         TYP       MAX          UNITS
SPI Interface
tSU             CS to SCK Set-Up Time                                                                                                   l             7                                           ns
tHD             SCK Falling to CS Hold Time                                                                                             l             7                                           ns
tCH             SCK High Time                                                                                                           l            19                                           ns
tCL             SCK Low Time                                                                                                            l            19                                           ns
tDS             SDI Set-Up Time                                                                                                         l             4                                           ns
tDH             SDI Hold Time                                                                                                           l             4                                           ns
tDO             SCK Falling to SDO Valid                    C(SDO) = 10pF
                                                            4.5V ≤ VL ≤ 5.5V                                                            l                                   20                    ns
                                                            2.9V ≤ VL < 4.5V                                                            l                                   40                    ns
                SCK Frequency                               50% Duty Cycle (Note 8)                                                     l                                   20              MHz
Note 1. Stresses beyond those listed under Absolute Maximum Ratings                    conditions. Junction temperature can exceed the rated maximum
may cause permanent damage to the device. Exposure to any Absolute                     during current limiting. Overtemperature protection will become active
Maximum Rating condition for extended periods may affect device                        at a junction temperature greater than the rated maximum operating
reliability and lifetime.                                                              temperature. Continuous operation above the specified maximum
Note 2. All voltages are with respect to GND. All currents into device pins            operating junction temperature may impair device reliability.
are positive; all currents out of device pins are negative.                            Note 6. Residual voltages are defined as follows: VRQH = VDD – V(CQ), and
Note 3. Numerical subscripts corresponding to port number are                          VRQL = V(CQ) – V(GND).
sometimes omitted from pin names for brevity.                                          Note 7. Guaranteed by design and not production tested.
Note 4. An internal clamp limits each GATE pin to a minimum of 10V                     Note 8. SCK frequency is limited by SDO propagation delay as follows:
above its respective L+ pin. Externally driving these pins to voltages                 tSCK ≥ 2 • (tDO + ts), where ts is the setup time of the receiving device.
beyond the clamp may damage the device.                                                Note 9. Guaranteed by production testing of tH and tL.
Note 5. This IC includes current limiting and overtemperature protection
that are intended to protect the device during momentary overload
Typical Performance Characteristics                                                                    TA = 25°C, VDD = 24V, VL = 3.3V, unless
otherwise noted.
          Operation at 230.4kb/s (COM3)
          and 38.4kb/s (COM2)                                      Driver Eye Diagram (COM3)                                                  CQ Residual Voltage vs VDD
                                                                                                                                        1.4
                                                                                                                                                  ICQ = ±100mA                     85°C
                            CQ1                                                                                                                                                    25°C
                                                                                                                                                                 VRQH              –40°C
                   CQ2
                                                                     CQ1           NO CABLE                                             1.3
                                                                                                                 RESIDUAL VOLTAGE (V)
20V/DIV                     CQ3                          10V/DIV
                                                                                                                                        1.2
                            CQ4                                                   20m CABLE
                                                                     CQ4          (FAR END)
                                                                                                                                        1.1
                           10µs/DIV           2874 G01                               1µs/DIV          2874 G02
                                                                                                                                                  VRQL
          LOAD: 4nF                                                PRBS = 28 – 1
          CQ1, CQ3: SLEW = 0                                       CQ1: LOAD = 4nF
                                                                   CQ4: 20m CABLE + 1nF + 300Ω                                          1.0
          CQ2, CQ4: SLEW = 1                                                                                                                  5       10      15    20     25     30         35
                                                                   CQ2, CQ3: ASYNCHRONOUS COM3 SWITCHING
                                                                   L+1 TO L+4: ENABLED AND BYPASSED AT FAR END                                             VDD SUPPLY VOLTAGE (V)
                                                                                                                                                                                       2874 G03
                                                                                                                                                                                          2874fb
6                                                           For more information www.linear.com/LTC2874


                                                                                                                                                                                                     LTC2874
Typical Performance Characteristics                                                                                                             TA = 25°C, VDD = 24V, VL = 3.3V, unless
otherwise noted.
                      Driver Current Limit vs
                      Temperature                                                                      CQ Short Circuit Protection                                               Driver Enable/Disable
               1000
                                   –IQH
                                   IQL                                                                                     SHORT                                                            TXEN
                                                                                                          CQ
                                                                                                                           TO GND
                800                                                           10V/DIV
                                                                                                                                                                 2V/DIV
                                  FOUR CONNECTED CQ PINS
 CURRENT (mA)
                600                                                                                                        IRQ
                                                                                    5V/DIV                                                                                                   CQ (TXD LOW)
                400              TWO CONNECTED CQ PINS                                                                                    CIRCUIT           10V/DIV
                                                                                                                          –I(CQ)          BREAKER                                             CQ (TXD HIGH)
                                                                           500mA/DIV
                200
                                             EACH CQ PIN                                                                 4µs/DIV                2874 G05
                                                                                                                                                                                                   2µs/DIV           2874 G06
                                                                                                       TXD = GND
                                                                                                       SIO_MODE = 0                                                              SLEW = 1, ILLM = 0x0
                  0                                                                                    LOAD: 50pF                                                                LOAD: 100pF (GND) + 10kΩ (VDD OR GND)
                   –50     –25      0    25     50         75        100
                                   TEMPERATURE (°C)
                                                                2874 G04
                                                                                                       Driver Propagation Delay vs                                               CQ Driver Short-Circuit Current vs
                      Driving 20m Cable to 1µF Load                                                    Temperature                                                               Short-Circuit Voltage
                                                                                                  6                                                                        200
                                                                                                        LOAD = 100pF                        tPLHD                                        VDD = 30V
                                     CQ (NEAR END)                                                                                          tPHLD                          160           VDD = 8V
                                                                                                  5                                                                        120
                                                                                                                                                                                                         OUTPUT
10V/DIV                                                                                                                                                                     80         ABSMAX            LOW
                                     CQ (FAR END)                                                  4
                                                                                                                                                           CURRENT (mA)
                                                                                                                                                                            40
                                                                                  DELAY (µs)
                                                                                                                               SLEW = 0
10V/DIV                                                                                           3                                                                          0
                                                                                                                                                                           –40
                                                                                                  2                                                                                                                OUTPUT
                                                                                                                                                                           –80                                     HIGH
     5V/DIV                         RXD (NEAR END)
                                                                                                                         SLEW = 1
                                                                                                                                                                          –120
                                          100µs/DIV             2874 G07                          1
                      NSF = 0x2                                                                                                                                           –160
                      SLEW = 0                                                                                                                                                                           BEFORE TIME-OUT
                      SIO_MODE = 1                                                                0                                                                       –200
                                                                                                   –50     –25       0    25     50        75        100                      –60     –40      –20    0     20      40         60
                                                                                                                    TEMPERATURE (°C)                                                          CQ PIN VOLTAGE (V)
                                                                                                                                                2874 G08                                                                 2874 G09
                                                                                                       Wake-Up Pulse Width vs
                      CQ Pin Current                                                                   Temperature                                                               Wake-Up Current vs Temperature
                140                                                                             85.0                                                                      1000
                             85°C                                                                                IQPKL PULSE, VDD = 30V                                                  IQPKL, VDD = 30V
                             –40°C                                                                               IQPKL PULSE, VDD = 20V                                                  IQPKL, VDD = 20V
                100                                                                                                                                                       900            IQPKH, VDD = 30V
                                          VDD = 8V                                                               IQPKH PULSE, VDD = 30V
                                                                                                82.5             IQPKH PULSE, VDD = 20V                                                  IQPKH, VDD = 20V
                 60
                                                                             PULSE WIDTH (µs)
                                                                                                                                                                           800
CURRENT (µA)                                                                                                                                               CURRENT (mA)
                 20                                   VDD = 30V
                                                                                                80.0                                                                       700
                –20 VDD – V(CQ) = 50V
                                                                                                                                                                           600
                –60
                                                                                                77.5
                                                                                                                                                                           500
               –100
                                                        ILLM = 0
                                                      DRIVER OFF                                      LOAD = 26Ω TO GND OR VDD                                                  LOAD = 26Ω TO GND OR VDD
               –140                                                                             75.0                                                                       400
                   –60    –40       –20    0     20        40         60                            –50  –25      0    25     50           75        100                      –50   –25     0    25     50          75        100
                                   CQ PIN VOLTAGE (V)                                                           TEMPERATURE (°C)                                                          TEMPERATURE (°C)
                                                                2874 G10                                                                        2874 G11                                                                 2874 G12
                                                                                                                                                                                                                           2874fb
                                                                                            For more information www.linear.com/LTC2874                                                                                     7


LTC2874
Typical Performance Characteristics                                                                                                       TA = 25°C, VDD = 24V, VL = 3.3V, unless
otherwise noted.
                                                                                                                                                                                 Receiver Output Voltage vs Load
                             Wake-Up Pulse: IQPKH                                                 Wake-Up Pulse: IQPKL                                                           Current
                                                                                                                                                                           0.5
                                             16th SCK                                                              16th SCK                                                                 VL = 2.9V
                                                                                                                                                                                            VL = 3.3V
           5V/DIV                                                                     5V/DIV                                                                                                VL = 5V
                                                                                                                                                                           0.4
                                                                                  10V/DIV
                                                                                                                                                         VOLTAGE (V)
                                       CQ                                                                    CQ                                                            0.3
  10V/DIV                                                                                                                                                                                                VL – VOH
                                    IRQ                                                                 IRQ                                                                0.2
           5V/DIV                                                                     5V/DIV
                                                                                                                                                                           0.1
                                              20µs/DIV               2874 G13                                      20µs/DIV                2874 G14
                                                                                                                                                                                                                      VOL
                             CQ LOAD: 4nF + 100Ω                                                  CQ LOAD: 4nF + 100Ω
                                                                                                                                                                           0.0
                                                                                                                                                                              0.0           0.1       0.2      0.3              0.4
                                                                                                                                                                                               LOAD CURRENT (mA)
                                                                                                                                                                                                                           2874 G15
                             Receiver Input Threshold vs                                          Receiver Propagation or Filter                                                 Receiver Pulse Rejection and
                             Temperature                                                          Delay vs Temperature                                                           Detection Delay vs Temperature
                        13                                                                   23                                                                            23
                                     VDD = 30V                                                            RISING RXD           LOAD = 100pF                                              DETECTED          VL = 2.9V TO 5.5V
                                     VDD = 20V                                               22           FALLING RXD                                                      22            REJECTED
                        12
                                                                                                                         NSF = 0x1                                                                 NSF = 0x1
THRESHOLD VOLTAGE (V)
                                                                                             21                                                                            21
                                                        VTHH
                                                                                                                                                        PULSE WIDTH (µs)
                                                                                             20                                                                            20
                        11
                                                                                DELAY (µs)
                                                                                              4                                                                             4
                                                                                                                         NSF = 0x2                                                                 NSF = 0x2
                        10
                                                                                              3                                                                             3
                                                   VTHL                                       2                                                                             2
                         9                                                                                   NSF = 0x0
                                                                                                                         NSF = 0x3                                                                 NSF = 0x3
                                                                                              1                                                                             1
                            24VMODE = 1
                         8                                                                    0                                                                             0
                          –50   –25     0   25     50           75        100                  –50     –25      0    25     50       75        100                           –50      –25       0    25     50       75        100
                                      TEMPERATURE (°C)                                                         TEMPERATURE (°C)                                                                TEMPERATURE (°C)
                                                                     2874 G16                                                             2874 G17                                                                        2874 G18
                                                                                                  L+ Start-Up (Set by CG) and
                             L+ Start-Up with 100µF Load                                          Disable                                                                        2X Current Pulse at 18V
                                                          L+1                                                L+1
                                FLDBK_MODE = 1            L+2                                                                                                                                             L+
                                                                                                             L+2
                                                          L+3                                                L+3
                                                                                                                                                        10V/DIV
10V/DIV                                                                           10V/DIV
                                                          L+4                                                L+4
                                                                                                                                                                                                –(L+)
                                                    FLDBK_MODE = 0                                                                                    200mA/DIV
                                             4ms/DIV                 2874 G19
                                                                                                                    40ms/DIV               2874 G20
                                                                                                                                                                                                  100ms/DIV               2874 G21
                             2XPTC = 0x1                                                          2XPTC = 0x1                   LPTC = 0xD                                       2XPTC = 0x0
                             LPTC = 0xB                                                           FLDBK_MODE = 0                CG: 22nF                                         FLDBK_MODE = 0
                                                                                                  LOAD: 10µF                                                                     LOAD: 3500µF
                                                                                                                                                                                                                           2874fb
8                                                                                        For more information www.linear.com/LTC2874


                                                                                                                                                                                                              LTC2874
 Typical Performance Characteristics                                                                                                      TA = 25°C, VDD = 24V, VL = 3.3V, unless
otherwise noted.
                                                                                                    External MOSFET VGS (∆VGATE) vs
                       IGATE(UP) vs Temperature                                                     Temperature                                                                     L+ Overcurrent Behavior
               –14.4                                                                        14.0
                             VDD = 30V       FOUR PORTS ON                                                 VDD = 30V       FOUR PORTS ON
                             VDD = 20V                                                                     VDD = 20V
                                                                                                                                                           10V/DIV                      LOAD
                             VDD = 8V                                                                      VDD = 8V
                                                                                                                                                                                        STEP
               –14.2                                                                         13.5                                                                                                             L+
                                                                                                                                                                                         (8Ω)
CURRENT (µA)
                                                                                                                                                                                                             IRQ
                                                                       ∆VGATE (V)
                                                                                                                                                                    5V/DIV
               –14.0                                                                         13.0
                                                                                                                                                                                                                           CIRCUIT
                                                                                                                                                                                                            –I(L+)         BREAKER
                                                                                                                                                     500mA/DIV
               –13.8                                                                         12.5
                                                                                                                                                                                                          100µs/DIV              2874 G24
                                                                                                                                                                                    LPTC = 0x4
               –13.6                                                                         12.0                                                                                   IRQMASK = 0xF6
                    –50    –25     0    25     50     75        100                              –50    –25     0    25     50       75        100                                  FLDBK_MODE = 0
                                  TEMPERATURE (°C)                                                             TEMPERATURE (°C)                                                     LOAD: 50pF
                                                           2874 G22                                                                       2874 G23
                       L+ Current Limit Sense Voltage vs                                            L+ Power Good Threshold vs                                                      Logic Input Threshold vs
                       Temperature                                                                  Temperature                                                                     VL Supply Voltage
                18.0                                                                          1.8                                                                             3.0
                             VDD = 30V                                                                                            VDD = 30V                                                                                 TA = 85°C
                             VDD = 20V                                                                                            VDD = 20V                                                                                 TA = 25°C
                17.5         VDD = 8V                                                         1.7                                 VDD = 8V                                                                                  TA = –40°C
                                                                                                         FALLING L+
                                                                                                                                                      THRESHOLD VOLTAGE (V)
                                                                                                                                                                              2.5
                17.0                                                                          1.6
∆VACL (mV)                                                             VDD – L+ (V)
                                                                                                                                                                                                              INPUT HIGH
                16.5                                                                          1.5                                                                             2.0
                16.0                                                                          1.4                                                                                                                    INPUT LOW
                                                                                                                                                                              1.5
                15.5                                                                          1.3                           RISING L+
                                                  V(L+) = 0V
                                             FLDBK_MODE = 1
                15.0                                                                          1.2                                                                             1.0
                    –50    –25     0    25     50     75        100                              –50    –25     0    25     50       75        100                               2.5       3.0          3.5   4.0   4.5    5.0         5.5
                                  TEMPERATURE (°C)                                                             TEMPERATURE (°C)                                                                      VL SUPPLY VOLTAGE (V)
                                                           2874 G25                                                                       2874 G26                                                                               2874 G27a
                       L+ Overcurrent Circuit Breaker                                               VDD Overvoltage Indicator vs                                                    ILL Sinking Current vs
                       Delay vs ∆VSENSE Duty Cycle                                                  Temperature                                                                     CQ Voltage
               10000                                                                          40                                                                               8
                             LPTC = 0xF                                                              VDD = RISING                                                                                TA = 85°C
                             LPTC = 0x8                                                                                                                                                          TA = 25°C
                1000                                                                                                                                                                             TA = –40°C             ILLM = 0x3
                             LPTC = 0x4
                                                                                              38
                             LPTC = 0x2                                                                                                                                        6
                             LPTC = 0x1
                                                                       SUPPLY VOLTAGE (V)
                 100                                                                                                   OV_TH = 0x3
                                                                                                                                                      CURRENT (mA)
                             LPTC = 0x0
                                                                                              36
 DELAY (ms)
                                                                                                                                                                                                              ILLM = 0x2
                  10                                                                                                                                                           4
                                                                                                                       OV_TH = 0x2
                                                                                              34                                                                                                              ILLM = 0x1
                   1
                                                                                                                       OV_TH = 0x1                                             2
                                                                                              32                                                                                                                           INPUT
                 0.1                                                                                                                                                                                                  RESISTANCE
                                                                                                                                                                                                              ILLM = 0x0
                0.01                                                                          30                                                                               0
                       0     20      40     60       80          100                            –50     –25     0    25     50       75        100                                  0           10        20     30      40             50
                                   DUTY CYCLE (%)                                                              TEMPERATURE (°C)                                                                       CQ PIN VOLTAGE (V)
                                                           2874 G27b                                                                      2874 G28                                                                               2874 G29
                                                                                                                                                                                                                                   2874fb
                                                                                            For more information www.linear.com/LTC2874                                                                                             9


LTC2874
Typical Performance Characteristics                                                                                                                                       TA = 25°C, VDD = 24V, VL = 3.3V, unless
otherwise noted.
                                                     VDD Supply Current vs Supply
                                                     Voltage                                                                                                                   VDD Supply Current vs Data Rate
                                                70                                                                                                                        70
                                                         CQ1 TO CQ4 SWITCHING 1010,                                                                                                      VDD = 30V                COM3
                                                         L+1 TO L+4 ENABLED                                                                                                              VDD = 20V
                                                60                                                                                                                        60
                                                                                                                                                                                     CQ1 TO CQ4 SWITCHING 1010
                                                                                                                                                    SUPPLY CURRENT (mA)
                                                                                                                                                                                     L+1 TO L+4 ENABLED
                      SUPPLY CURRENT (mA)
                                                50                                                                                                                        50
                                                                                                                                SIO, 0.6kb/s, 1µF
                                                                                                                                COM2, 0.05nF                                            COM1
                                                40                                                                              COM2. 4nF                                 40
                                                                                                                                COM2, 10nF                                                     COM2      4nF
                                                30                                                                              COM3, 0.05nF                              30
                                                                                                                                COM3, 1nF
                                                                                                                                COM3, 4nF                                                                         1nF
                                                20                                                                                                                        20
                                                10                                                                                                                        10
                                                                                                                                                                                                             0.05nF
                                                 0                                                                                                                         0
                                                     5        10      15    20     25     30                       35                                                          0          50       100    150           200        250
                                                                   VDD SUPPLY VOLTAGE (V)                                                                                                        DATE RATE (kb/s)
                                                                                                            2874 G30                                                                                                          2874 G31
                                                                                                                   CQ Driver Edge Time vs Supply
                  SDO Voltage vs Load Current                                                                      Voltage                                                                           Driving 12V Relay Coils
              6                                                                                                5
                                                                          VL = 5V                                      LOAD = 100pF                             RISING
                                                                          VL = 3.3V                                                                             FALLING
              5                                                           VL = 2.9V                                                                                                                    CQ1
                                                                                                               4
              4                                                                                                                                                                                        CQ2
                                                                                                                                         SLEW = 0
VOLTAGE (V)                                                                               EDGE TIME (µs)
                                                                                                               3                                                                         10V/DIV
                                                                                                                                                                                                       CQ3
              3
                                                                                                               2                                                                                       CQ4
              2
                                                                                                               1
              1                                                                                                                          SLEW = 1                                                                  20ms/DIV            2874 G34
                                                                                                                                                                                                   24VMODE = 0
              0                                                                                                0                                                                                   SLEW = 0
                  0   1                     2      3    4   5     6           7       8                            5       10      15    20     25     30                       35                 SIO_MODE = 1
                                                LOAD CURRENT (mA)                                                               VDD SUPPLY VOLTAGE (V)                                             RELAYS: G2R-1-E-T130 DC12 + CATCH DIODE
                                                                               2874 G32                                                                                   2874 G33
                                                                                                                                                                                                                                           2874fb
10                                                                                                         For more information www.linear.com/LTC2874


                                                                                                             LTC2874
Pin Functions               (FE/UHF)
TXEN4 (Pin 1/Pin 35): Port 4 CQ4 Driver Enable. See                CQ2 (Pin 15/Pin 11): Port 2 C/Q line. See CQ1.
TXEN1.                                                             CQ1 (Pin 16/Pin 12): Port 1 Bidirectional Communication
GATE4 (Pin 2/Pin 36): Port 4 Gate Drive. See GATE1.                or Signaling (C/Q) Line. When the port 1 driver is enabled
                                                                   (either by TXEN1 or under SPI control), this pin is an output
SENSE–4 (Pin 3/Pin 37): L+4 Supply Current Sense Nega-
                                                                   referenced to GND, inverted in polarity with respect to the
tive Input. See SENSE–1.
                                                                   TXD1 input. Otherwise, this pin is an input that a remote
L+4 (Pin 4/Pin 38): Port 4 Power Supply Output. See                device may drive and an optional, programmable current
L+1.                                                               sink is active. Receiver output RXD1 monitors this pin in
CQ4 (Pin 5/Pin 1): Port 4 C/Q line. See CQ1.                       both cases.
CQ3 (Pin 6/Pin 2): Port 3 C/Q line. See CQ1.                       GATE1 (Pin 17/Pin 13): Gate Drive for External N-Channel
                                                                   MOSFET, Port 1. When the MOSFET is turned on, a 14µA
GATE3 (Pin 7/Pin 3): Port 3 Gate Drive. See GATE1.                 current drives the gate to 13V above the L+1 output supply
SENSE–3 (Pin 8/Pin 4): L+3 Supply Current Sense Nega-              voltage. During a current limit condition, the voltage at
tive Input. See SENSE–1.                                           GATE1 reduces to maintain constant L+ port current. If a
                                                                   timer expires, GATE1 pulls down, turning off the MOSFET,
L+3 (Pin 9/Pin 5): Port 3 Power Supply Output. See                 and a TOC_L+ event is recorded.
L+1.
                                                                   SENSE–1 (Pin 18/Pin 14): L+1 Supply Current Sense
SENSE+ (Pin 10/Pin 6): L+ Current Sense Common                     Negative Input. An external sense resistor, RS1 (normally
Positive Input. Connect external sense resistors RS1               0.2Ω), connected between this pin and SENSE+ programs
through RS4, normally 0.2Ω, between this pin and each              the load current limit (∆VACL/RS1). Current is controlled by
of the SENSE– pins in a star configuration. See Applica-           an analog current limit amplifier and timed circuit breaker.
tions Information. Tie to VDD if unused. Do not leave              See L+ PIN POWER CONTROL in the Applications Infor-
open.                                                              mation section. Tie to VDD if unused. Do not leave open.
VDD (Pin 11/Pin 7): Supply Voltage Input (8V to 34V).              L+1 (Pin 19/Pin 15): Port 1 Output Supply Monitor and
Bypass to GND with a 1µF ceramic capacitor placed near             Source Connection. Connect this pin to the source of the
the pin and at least 100µF additional bulk capacitance.            external MOSFET for port 1.
GATE2 (Pin 12/Pin 8): Port 2 Gate Drive. See GATE1.                RXD1 (Pin 20/Pin 16): Port 1 Data Output from CQ1
SENSE–2 (Pin 13/Pin 9): L+2 Supply Current Sense Nega-             Receiver, Referenced to VL. Active even when the driver
tive Input. See SENSE–1.                                           is on. RXD1 polarity is inverted with respect to the line
                                                                   data at the CQ1 pin.
L+2 (Pin 14/Pin 10): Port 2 Power Supply Output. See
L+1.
                                                                                                                            2874fb
                                           For more information www.linear.com/LTC2874                                  11


LTC2874
Pin Functions                (FE/UHF)
TXD1 (Pin 21/Pin 17): Port 1 Data Input to CQ1 Driver,              GND (Pins 29, 30, Exposed Pad Pin 39/Pins 25, 26, Ex-
Referenced to VL. Tie to VL if unused.                              posed Pad Pin 39): Device Ground. The exposed pad metal
TXEN1 (Pin 22/Pin 18): Port 1 CQ1 Driver Enable, Refer-             of the package provides both electrical contact to ground
enced to VL. Tie to GND if unused.                                  and good thermal contact to the PCB. Solder to the board
                                                                    and tie directly to the ground plane using thermal vias.
IRQ (Pin 23/Pin 19): Interrupt Output. Open drain output
that pulls low to alert the host microcontroller when               SDI (Pin 31/Pin 27): SPI Interface Data Input, Referenced
an event occurs, eliminating the need for continuous                to VL. Tie to GND if unused.
software polling. Disable individual IRQ events using the           SCK (Pin 32/Pin 28): SPI Interface Clock Input, Referenced
IRQMASK register. IRQ typically has a pull-up resistor to VL.       to VL. Tie to GND if unused.
SDO (Pin 24/Pin 20): SPI Interface Data Output, Refer-              CS (Pin 33/Pin 29): SPI Interface Chip Select Input (Ac-
enced to VL.                                                        tive Low), Referenced to VL. Tie to VL if unused.
RXD2 (Pin 25/Pin 21): Port 2 Data Output from CQ2                   RXD3 (Pin 34/Pin 30): Port 3 Data Output from CQ3
Receiver. See RXD1.                                                 Receiver. See RXD1.
TXD2 (Pin 26/Pin 22): Port 2 Data Input to CQ2 Driver.              TXD3 (Pin 35/Pin 31): Port 3 Data Input to CQ3 Driver.
See TXD1.                                                           See TXD1.
TXEN2 (Pin 27/Pin 23): Port 2 CQ2 Driver Enable. See                TXEN3 (Pin 36/Pin 32): Port 3 CQ3 Driver Enable. See
TXEN1.                                                              TXEN1.
VL (Pin 28/Pin 24): Logic supply (2.9V to 5.5V) for the             RXD4 (Pin 37/Pin 33): Port 4 Data Output from CQ4
control logic, registers, receiver outputs, driver inputs,          Receiver. See RXD1.
and SPI interface. Bypass to GND with at least a 0.1µF
capacitor.                                                          TXD4 (Pin 38/Pin 34): Port 4 Data Input to CQ4 Driver.
                                                                    See TXD1.
                                                                                                                           2874fb
12                                          For more information www.linear.com/LTC2874


                                                                                                                                                              LTC2874
Block Diagram
2.9V TO 5.5V
                                                                                                                                                                         8V TO 34V
                 VL                                                                                                                        VDD
         CVL
                                                                                                                                                              CVDD1    CVDD2
         0.1µF   CS
                                                                          OV_VDD                                                                              1µF      100µF
                                                           UVLO AND                                    CHARGE
                                                                          UV_VDD                        PUMP
                 SCK                                        SUPPLY
         4.7k                                                             UVLO_VDD
                                         CONTROL AND       MONITORS
                                                                          UVLO_VL
                                   SPI   MONITORING
                 SDI
                                          REGISTERS
                                                                                                    TO GATE DRIVERS
                 SDO                                       THERMAL            FAULT
                                                          PROTECTION         CONTROL
                 IRQ                                                                                                                    SENSE+
                      PORT 1                                                                                                 16.7mV TO 50mV
                                                                                                                            +                                                  RS1
                                                                                                         FOLDBACK           –                                                  0.2Ω
                                           SLEW1                         +                                                             SENSE–   1
                               DRVEN1                                                                      2X
                 TXEN1                                  DRIVER           –                   18V          PULSE
                                                       CONTROL
                 TXD1                                                                                                     +        –
                                                                                                                                 ACL
                           NSF1
                                           RCVR
                                                                                                         +
                 RXD1                                                                                                   PWRGD1
                          FILTER
                                                                                       VDD – 1.5V        –
                                                                                                                                                              RGATE1
                                                                                                             CABLE                       GATE1                 10Ω
                                                        DRIVER                                                                                                                 Q1
                                                                                                             SENSE          GATE
                                                       CONTROL                                                             DRIVER
                                      WAKEUP                             +                                      ENL+1
                                                                                                                                           L+1
                       WKUP1        GENERATION
                                                                         –                                                                 CQ1
                                                                                                                                                                                    1 OF 4
                                                                                                         FAULT                                                                      CABLES
                                                                                                        CONTROL            ILLM1
                                                                                                                                       SENSE–2
                 TXEN2
                                                                                                                                         GATE2
                 TXD2
                                                                         PORT 2                                                            L+2
                 RXD2
                                                                                                                                          CQ2
                                                                                                                                       SENSE–3
                 TXEN3
                                                                                                                                         GATE3
                 TXD3
                                                                         PORT 3                                                            L+3
                 RXD3
                                                                                                                                          CQ3
                                                                                                                                       SENSE–4
                 TXEN4
                                                                                                                                        GATE4
                 TXD4
                                                                         PORT 4                                                            L+4
                 RXD4
                                                                                                                                          CQ4
                                                                                GND
                                                                                                                                                    2874 BD
                                                                                                                                                                                    2874fb
                                                           For more information www.linear.com/LTC2874                                                                         13


LTC2874
Test Circuits / Timing Diagrams
                                                                                                250mV
                                   ∆VSENSE             ∆VCB(TH)
                                                                                                0V
                                                          tD(ACL)
                                                                                                13V
                                    ∆VGATE
                                                                         2V
                                                                                                0V
                                                                      tOC(L+)
                                                                                                VL
                                        IRQ                                          50%
                                                                                                VOL(IRQ)
                                                                                                 2874 F01
                                                       Figure 1. L+ Pin Overcurrent
                                                 VDD
                                                                                                                                       VL
                                               RL                        SCK    50%
             CS                                                (16th CLOCK)
                                                                                                                                       0V
                                       CQ                                               tWUDLY
            SDI
                 SCK                                                                                                                   0A
                                                                        I(CQ)             0.5A                      0.5A
                             TXEN
                                               RL                                                                                      IQPKH
                                                                                                                                       IQPKL
                        0V OR VL
                                                                        I(CQ)             0.5A            TWU       0.5A
                                                                                                                                       0A
                           RL = 52.3Ω || 51.7Ω = 26Ω                                                                         2874 F02
                                                     Figure 2. Wake-Up Parameters
                                                                                                                                      5V
                                                             VDD – CQ       50%
                                                                OR CQ
       GND                                                                                                                            0V
             TXD                  CQ
        OR                                 A
        VL
                                                    VDD – 5V      I(CQ)                                 –IQH OR IQL
                         TXEN                   +   OR
                                                –   5V                                  tOC(CQ)                                       0A
                                                                                                                                      VL
                       VL
                                                                    IRQ                            50%
                                                                                                                                      VOL(IRQ)
                                                                                                                            2874 F03
                                                       Figure 3. CQ Pin Overcurrent
           TXD                                                                                                                    VL
                                            CQ                   TXD
                                                                                       tDF                                        0V
                       TXEN              CL                                                                    tDR
                                                                                                                                  VDD – VRQH
                                                                                  90%                                     90%
                                                                   CQ
                     VL                                                             10%                                 10%
                                                                                                                                  VRQL
                                                                                                                                           2874 F04
                                                        Figure 4. Driver Edge Rate
                                                                                                                                                    2874fb
14                                               For more information www.linear.com/LTC2874


                                                                                                                                           LTC2874
Test Circuits / Timing Diagrams
                                                                                                                                   VL
           TXD
                                      CQ                  TXD     50%                                 50%
                                                                           tPHLD                                                   0V
                                                                                                                tPLHD
                    TXEN           CL                                                                                              VDD – VRQH
                                                           CQ          VTHL(MIN)                           VTHH(MAX)
                  VL                                                                                                               VRQL
                                                                                       tSKEWD = |tPLHD – tPLHD|                             2874 F05
                                                     Figure 5. Driver Timing
                                                                                                                                   VL
                                                         TXEN      50%                         50%
         VL                           RL     GND                                                                                   0V
                             CQ
         OR                                  OR                            tZHD                         tHZD
        GND                                  VDD                                                                                   VDD – VRQH
                                                                                     VTHH(MAX)                    VDD – 3V
                    TXEN             CL                    CQ
                                                                                                                                   0V
                                                                           tZLD
                                                                                                        tLZD                       VDD
                                                           CQ                        VTHL(MIN)                   3V
                                                                                                                                   VRQL
                                                                                                                                 2874 F06
                                           Figure 6. Driver Enable/Disable Timing
                                                                                                                                        VDD
                                                              CQ               VTHH(MAX)
                                                                                             VTHL(MIN)
              CQ                                                                                                                        0V
                                        RXD                                   tPHLR                             tPLHR
                                                                                             NOISE                                      VOH
                                                                                         SUPPRESSION
                                      CL                    RXD                50%                                             50%
                                                                                              OFF
                                                                                                                                        VOL
                                                                        tPHLR + tH • TBIT                   tPLHR + tL • TBIT
                                                                                               NOISE                                    VOH
                                                                                           SUPPRESSION                          50%
                                                            RXD                   50%
                                                                                                  ON
                                                                                                                                        VOL
                                                                                              tSKEWR = |tPHLR – tPLHR|               2874 F07
                                                   Figure 7. Receiver Timing
                         SHORT GLITCH                     LONG GLITCH
                         REJECTED                         DETECTED
                                               tND
                                                                                                                       VDD
                  CQ
                                                                                                                       VTHH
                                                                                                                       VTHL
                                                                                                                       0V
                                                                                                                       VOH
                 RXD
                                                                                                                       VOL
                                        TBIT                             TBIT
                                                                                                                      2874 F08
                                           Figure 8. Receiver Noise Suppression
                                                                                                                                                      2874fb
                                           For more information www.linear.com/LTC2874                                                               15


LTC2874
Test Circuits / Timing Diagrams
       tSU
                          tDS                        tCH                                                               tHD
                                                                                              tSCK
                               tDH                       tCL
  CS
SCK           1    2    3        4    5       6        7       8       9        10      11   12      13   14   15   16
 SDI       0    0    0       A3    A2     A1       A0        X       X        X       X    X       X    X    X    X
      HI-Z                                                                                                               HI-Z
SDO                                                                   D7      D6      D5   D4      D3   D2   D1   D0
                                                                                                                             2874 F09
                                                                               tDO
                                           Figure 9. SPI Interface Timing (Read)
  CS
 SCK          1    2    3        4    5       6        7       8        9        10     11   12      13   14   15   16
 SDI       C2   C1   C0       A3   A2      A1       A0       X       D7      D6       D5   D4      D3   D2   D1   D0
     HI-Z                                                                                                               HI-Z
SDO
                                                                                                                           2874 F10
                                    Figure 10. SPI Interface Timing (Write or WrtUpd)
                                                                                                                           2874fb
16                                        For more information www.linear.com/LTC2874


                                                                                                                    LTC2874
Operation
The LTC2874 is an industrial master Hot Swap bus                          The LTC2874 turns each port’s supply voltage on and off
controller and physical interface (PHY) that provides                     in a controlled manner using external N-channel MOSFETs.
power and communication to four independent 3-wire                        External sense resistors individually set the current
ports through cables up to 20m in length (see Figure 11A).                limits for each port. Optional foldback behavior reduces
The primary applications are 24V systems specified by                     maximum power dissipation in the external MOSFETs
IEC 61131-9 single-drop communication interface (SDCI)                    over their operating range. Each output is protected by a
for small sensors and actuators, commonly known as                        circuit breaker that responds to an overcurrent fault after
IO-Link. Each port on the LTC2874 includes a Hot Swap                     a programmable timeout delay. A current-pulse-upon-18V
power supply output, data transceiver, and a current                      feature provides additional IO-Link capability for driving
sink, as shown in Figure 11B. This set of features allows                 heavy, nonlinear loads.
a typical master controller for four ports to be built with               The rugged LTC2874 line interface has been designed to tol-
the LTC2874, a host microcontroller, and four power                       erate abusive conditions encountered on cable interfaces.
MOSFETs. The basic configuration is shown on page 1.                      The CQ pins will tolerate 50V above L– (GND) and –50V
                                 VDD                                      from VDD. The L+ pins offer commensurate ruggedness for
                                                                          power supply outputs (see Absolute Maximum Ratings).
                                                                          Discrete power MOSFETs offer the best possible system
                                                                          ruggedness and allow design flexibility. They also ensure
                                       Hot Swap                           that ports remain fully independent in the event of extreme
                                                                          fault conditions.
                                                                     L+
                                                                          Normally, the LTC2874 will automatically restart after
                                                                          supply overvoltage or port overcurrent timeout faults. The
              L+                                                          auto-retry delay is programmable. Alternatively, latchoff
                                DRV                      C/Q
   MASTER
              C/Q
                   DEVICE                                                 behavior is available. Overcurrent circuit breaker delays
              L–                              ILL                         for CQ pins are mode dependent; for L+ pins they are
                                                                          programmable.
 L+, L–: POWER SUPPLY
 C/Q: COMMUNICATION OR                                   L–               The LTC2874 provides a 4-wire SPI-compatible interface
      SWITCHING SIGNAL
                                                                          for configuration and monitoring. The host can detect
            (A)                        (B)                     2874 F11
                                                                          faults and other events by polling four event registers or by
           Figure 11. (A) SDCI Class A 3-Wire Interface                   monitoring the IRQ pin, a programmable interrupt request.
           (B) LTC2874 Master 3-Wire Interface Port
                                                                          Standalone Operation
The bidirectional CQ pins are individually programmable                   The LTC2874 is designed for use with a host controller. The
to operate in coded switching (COM) or switching signal                   SPI-compatible interface is the only means of operating
(standard IO, or SIO) format with reconfigurable behavior                 the Hot Swap power supply outputs. The transceivers can
including slew rate, noise suppression filter, and sinking                operate standalone without the serial interface, restricted
current. Drivers are protected against overcurrent faults                 by the default register configuration settings.
by circuit breakers that respond to a fault condition after
a mode-specific delay. For IO-Link compatibility, under
SPI control, the LTC2874 automatically generates 80µs
wake-up request (WURQ) pulses with correct polarity.
                                                                                                                                   2874fb
                                                  For more information www.linear.com/LTC2874                                  17


LTC2874
Applications Information
Drivers                                                               Receivers
The LTC2874 line drivers convert digital levels at the TXD            The four receivers convert 24V signals detected at the
pins to inverted polarity line levels at the CQ pins. Drive at        CQ line inputs to inverted-polarity logic levels at the RXD
data rates of up to 230.4kb/s. For IO-Link operation, they            outputs. Receiver threshold behavior is selectable, as
support COM1, COM2, and COM3 transmission. The four                   shown in Figure 12. When the 24VMODE bit is set low,
drivers operate concurrently and independently.                       the receiver thresholds for all four ports track the input
                                                                      VDD supply.
The LTC2874 line drivers are current limited to 160mA. Each
is protected by an overcurrent circuit breaker with mode-
selectable timeout. For normal signaling (SIO_MODE = 0),                                             20
the circuit breaker will trip after being in current limit for                                                                                            0.55*VDD
15µs. This timeout is more than sufficient to support IO-
                                                                           RECEIVER THRESHOLDS (V)
                                                                                                     15                                                   0.45*VDD
link requirements.                                                                                               24VMODE = 1
                                                                                                                                        11.9V
                                                                                                               VTHH
The drivers feature a controlled programmable slew rate                                              10        VTHL
                                                                                                                                 9.4V
for optimum EMC performance. Rise and fall times are
programmed using a register bit and are independent of                                                5
the VDD supply voltage. Set each driver’s SLEW bit high                                                               24VMODE = 0
for edge times of 0.5µs, or low for edge times of 3µs.
                                                                                                      0
                                                                                                           0           10               20           30         40
Each driver is enabled either by its TXEN pin or DRVEN                                                                          VDD SUPPLY VOLTAGE (V)           2874 F12
register bit. When disabled, drivers are Hi-Z and the CQ
pin impedance is dominated by the ILL current sink (unless                                           Figure 12. CQ Receiver Input Threshold (Typical)
disabled) and the receiver input resistance.
                                                                      Each receiver has an optional digital noise filter that rejects
While the line drivers normally operate push-pull, each can
                                                                      narrow pulses on the CQ line. Filter delays of 0.6µs, 2.8µs
also operate in open-drain mode by driving the data signal
                                                                      or 20.3µs are selected using port-specific NSF register
into its TXEN pin. For operation with an external pull-up,
                                                                      bits. Setting NSF = 0x0 disables the filter.
tie its TXD pin high. For an external pull-down, disable
that port’s current sink (ILLM = 0) and tie its TXD pin low.          When the receiver is operated at an IO-Link compatible
                                                                      data rate (COM3, COM2 or COM1) and the NSF bits are set
SIO Mode                                                              accordingly, the filter rejects pulses shorter than 1/16 of
Up to 1µF of load capacitance can be driven in SIO, or                the bit time. Figure 13 illustrates the rejection and detec-
standard I/O, mode. Set SIO_MODE = 1 and reduce the                   tion bands for a positive noise glitch.
edge rate (SLEW = 0). In SIO mode, the overcurrent circuit            Except when Hi-Z at start-up (see Figure 26), receivers
breaker timeout is extended to 480µs.                                 are always active.
Configuring CQ Outputs for 200mA or 400mA                             Driver and receiver settings appropriate for SIO mode and
                                                                      IO-Link operation are summarized in Table 1.
The LTC2874 driving capability can be increased by
connecting CQ outputs and operating drivers in parallel.              Table 1. Recommended Driver and Receiver Settings
Figure 36 shows a 2-port configuration that guarantees                   OPERATION                                      SLEW                    NSF         SIO_MODE
a minimum CQ drive strength of 200mA, and Figure 37                                                  SIO                    0                   0x1              1
shows a configuration for 400mA. Combine only CQ out-                                  COM1                                 0                   0x1              0
puts from a single LTC2874.                                                            COM2                                 0                   0x2              0
                                                                                       COM3                                 1                   0x3              0
                                                                                                                                                                            2874fb
18                                            For more information www.linear.com/LTC2874


                                                                                                                                                       LTC2874
Applications Information
                                                                                                            Although WURQs may be generated with the driver enabled,
                                                                                                            we recommend the following procedure for best results:
                                 REJECTED                            DETECTED
                                                   UNDEFINED                                                   1. Disable driver.
      GLITCH HIGH LEVEL
                          VTHH
                                                                                                               2. Clear any driver fault by setting TOC_CQ event bit low.
                                                                                 NSF = 0x01, 0x10:             3. Generate WURQ by setting WKUP bit high.
                                                                                 N = 3/16
                                 REJECTED                            REJECTED
                                                   REJECTED                                                 Several measures prevent overheating during WURQ,
                                                                                 NSF = 0x11:
                                                                                 N = 4/16                   when driver power dissipation can be high (for example,
                                                                                                            easily 15W at maximum operating voltage). First, if any
                           0V
                                       1/16 TBIT               N • TBIT                                     overtemperature condition is detected when the WKUP bit
                                            GLITCH DURATION           2874 F13
                                                                                                            is first set high, polarity sensing and pulse generation are
      Figure 13. Receiver Noise Rejection and Detection                                                     delayed until the condition clears. Second, only one port
      Behavior for CQ Positive Glitch                                                                       at a time is allowed a WURQ, determined by lowest port
Current Sinks                                                                                               number in the event of a simultaneous request. Third, upon
                                                                                                            completion of a WURQ, an 8.3ms cool-down interval is
Each CQ pin has a programmable current sink for use with                                                    enforced before another WURQ can be generated. While
sensors having high side outputs. Each port’s current sink                                                  a WURQ is underway on any port, the WKUP bits cannot
is independently set to a value of 0mA, 2.5mA, 3.7mA, or                                                    be set. (Their holding latches can be set high with a write
6.2mA with port-specific ILLM register bits. The highest                                                    command, and even read out, but when updated by an
setting guarantees 5mA for IO-link. The second setting                                                      update or WrtUpd command, they will clear and not change
guarantees 2.2mA for compatibility with IEC 61131-2                                                         the register bits themselves. See the Serial Interface section
digital inputs. Each current sink disables when its driver is                                               for more information.) Finally, a thermal shutdown condi-
enabled or a wake-up request is in progress on that port.                                                   tion will cause the driver to turn off. Normal overcurrent
                                                                                                            circuit breaker timers are disabled during wake-up.
Automatic Wake-Up Generation
                                                                                                            Setting the 24VMODE register bit low disables wake-up
The LTC2874 generates an 80µs 500mA wake-up pulse                                                           generation; the WKUP bits have no effect and will not
for the purpose of gaining the attention of a remote IO-                                                    self clear.
Link device. To initiate WURQ generation on a particular
port, the respective WKUP bit must be set high. Acting
as a pushbutton, the bit will self-clear once the WURQ is                                                   L+ PIN POWER CONTROL
underway. The sequence begins by automatically determin-
                                                                                                            External MOSFET, Sense R Summary
ing the correct polarity for the pulse, first by disabling the
driver (as needed) and sensing the CQ line for 5µs. The                                                     One function of the LTC2874 is to control delivery of power
driver switches on to generate the pulse, then returns to                                                   through cables to four remote devices. On each port it does
its state prior to the WURQ (normally off). The complete                                                    this by controlling the gate voltage of an external power
sequence is shown in Figure 14.                                                                             MOSFET based on the current monitored by an external
                                                                                                            sense resistor and the output voltage at the L+ pin. This
                                                   WKUP BIT                           READY
        WKUP                                       SELF-CLEARS                        AGAIN                 circuitry couples the raw VDD input supply to each port
          BIT                                                                                               through the MOSFET in a controlled manner that satisfies
                                 SENSE
                                  5µs         80µs        8.3ms LOCKOUT                                     the power needs of the connected device while minimizing
                          CQ
                                                                                                            power dissipation in the MOSFET and disturbances on the
         WU                                                                                                 VDD backplane.
   EVENT BIT
                                                                                                2874 F14
                                   Figure 14. Wake-up Sequence
                                                                                                                                                                     2874fb
                                                                                    For more information www.linear.com/LTC2874                                  19


LTC2874
Applications Information
The current limit of each LTC2874 L+ port is set with a             current to exceed ΔVCB(TH)/RS for a limited time before
resistor of value ΔVACL/ILIMIT. Specified variation in ΔVACL        powering down the port. This duration is timed by an
(±10%) and tolerance of the resistor must be taken into             integrating up/down counter for that port whose mini-
account. For IO-Link applications (which require a guaran-          mum timeout, which is common to all ports, is set in the
teed minimum of 0.2A), 0.2Ω sense resistors (RS1 to RS4)            TMRCTRL register (0xC). If the current drops below the
will set the typical limit 25% above the required minimum.          circuit breaker current threshold before the timer expires,
                                                                    the timer counts back down at the same rate. This allows
Inrush Control                                                      the current limit circuitry to tolerate intermittent overload
When the L+ supply of any port is enabled (ENL+ = 1),               signals with duty cycles below about 50%; longer duty
the LTC2874 ramps up the GATE pin of that port’s external           cycle overloads will turn the port off.
MOSFET in a controlled manner. The gate drivers use a
shared charge pump that derives its power from VDD.                 L+ Current Limit Foldback Protection
Under normal power-up circumstances, the MOSFET gate                During port start-up (inrush) or when a cable is connected
rises until the port current reaches the current limit, at          (hot-plugged) to an enabled port, most of the supply
which point the GATE pin is servoed to maintain the cur-            voltage is dropped across the MOSFET as it begins to
rent limit. The ramp rate of the L+ port output voltage is:         supply charging current to the remote device. To protect
                                                                    the MOSFET from overheating, the LTC2874 has a cur-
   dV(L+) I(L+) ΔVACL
         =     =                                                    rent limit foldback circuit that limits the maximum power
     dt    CL+ RS • CL+                                             dissipated by the external MOSFET, thereby increasing its
                                                                    robustness. Figure 15 shows how ΔVACL is linearly reduced
where CL+ is the capacitance on the L+ pin, including sup-
                                                                    (folded back) according to the voltage on the L+ pin. The
ply bypass capacitance of the connected device.
                                                                    circuit breaker voltage ΔVCB(TH) is also folded back and
During this inrush period, an integrating up/down counter           remains no higher than ΔVACL. Figure 16 shows typical
times the duration that the current exceeds the circuit             power-on behavior with foldback.
breaker threshold ΔVCB(TH). When output charging is                 Foldback mode may interfere with start-up into some
complete, the port current falls and the GATE pin resumes
                                                                    resistive loads. Setting the FLDBK_MODE bit low disables
rising to fully enhance the MOSFET and minimize its on-
                                                                    foldback behavior.
resistance. The final VGS is nominally 13V. If the timer
expires before the inrush period completes, the port is
turned off and a TOC_L+ fault is reported. The timer                                              50
delay is adjustable from 17.5µs to 0.25s using the LPTC                                                FLDBK_MODE = 0
register bits.
                                                                                     ∆VACL (mV)
Optionally, the L+ pin ramp rate can be slowed further using
the RGCG network shown in Figure 22. For a sufficiently
                                                                                                             FLDBK_MODE = 1
large capacitor, the ramp rate is:                                                           16.7
   dV(L+) dV(GATE) I(GATE) 14µA
         =        =       =
     dt      dt       CG    CG                                                                         1.2    24VMODE = 0      7
                                                                                                        3     24VMODE = 1     18
Using a CG of 10nF will cause L+ to ramp on in about 20ms.                                                   L+ VOLTAGE (V)    2874 F15
L+ Current Limit                                                                   Figure 15. L+ Foldback Characteristic
The LTC2874 actively controls the MOSFET gate drive to
keep the port current below ΔVACL/RS. It allows the port
                                                                                                                                          2874fb
20                                          For more information www.linear.com/LTC2874


                                                                                                                          LTC2874
Applications Information
      ENL+                                                                     When the L+ pin voltage first reaches 18V, the L+ port
        BIT                                                                    current limit is doubled for a timed interval. The current
                      VDD + 13V                                                sense voltage ΔVACL is increased 100%, and the circuit
                            VDD                                                breaker time is disabled until the pulse timer expires.
                                                L+
                   GATE                                                        The start-up pulse duration is set using the 2XPTC register
                                CURRENT                                        bits. The default setting of 62ms satisfies the required
        OV                      LIMITED
                                                                               minimum of 50ms for IO-Link compatibility. Durations of
      I(L+)
                                                ILOAD                          31ms and 124ms are also available. Set the L+ overcurrent
                         FOLDBACK
                                                                               timer (adjusted with the LPTC register bits) to a sufficiently
                                                                               high setting to ensure that the circuit breaker doesn’t trip
                                                             2874 F16
             Figure 16. L+ Enable Behavior with Foldback                       before L+ reaches 18V. Setting 2XPTC to 0x1 disables the
L+ Overcurrent Fault                                                           start-up pulse function.
When a circuit breaker timeout occurs, the corresponding                       L+ Power Good and Power Changed
timeout fault event bit (TOC_L+) is set and the GATE pin
                                                                               Power good status is signalled when the L+ pin voltage
is pulled down to the L+ pin with a 90mA current. The
                                                                               rises to within VL+(PGTH) of the VDD supply rail and the GATE
remaining ports of the LTC2874 are unaffected, and the
                                                                               to L+ voltage exceeds 3.8V, indicating that the MOSFET
ENL+ bit remains set. If the RETRY_L+ bit is set, auto-
                                                                               is almost fully enhanced.
retry will re-enable the port after a delay; otherwise, the
port latches off until the event bit is cleared. Figure 24 and                 After a 10µs delay, a PWRCHNG event indicates that the
Figure 25 show example behavior.                                               PWRGD status has changed, as shown in Figure 18.
                                                                               Once an L+ output is disabled, the PWRGD status bit clears
L+ Supply Current Pulse Capability
                                                                               and the PWRCHNG event bit is static.
The LTC2874 can optionally double the available current
(to 2 • ∆VACL/RS) when an L+ output supply is first powered
on, accommodating connected devices that require higher                         VDD – V(L+PGTH)
current during their own start-up phase. This function may
be useful in applications where there is no signaling that
it’s safe to turn on downstream dynamic loads.
Figure 17 shows simplified behavior when connected to
                                                                                             L+
a 100µF load with a 0.2Ω sense resistor and foldback
disabled (FLDBK_MODE = 0).
                                                                                        PWRGD
                                                                                    STATUS BIT                     CLEAR
         ENL+                                                                                                      EVENT
            BIT
                                                                                     PWRCHNG         10µs                 10µs
                                   VDD                                               EVENT BIT
                                                                                                                                        2874 F18
                                   18V
                                                        62ms                        Figure 18. Power Good Status and Power Changed Event
                                                     2X CURRENT
             L+                                   PULSE CAPABILITY
                                         ACTUAL
                                                       500mA
                                          I(L+)
                                 250mA
      L+ PORT
CURRENT LIMIT
                                                                      2874 F17
                Figure 17. L+ Current Pulse Capability
                                                                                                                                          2874fb
                                                    For more information www.linear.com/LTC2874                                      21


LTC2874
Applications Information
Gate Turn-Off                                                                At the maximum operating supply, the timer delay accom-
                                                                             modates typically 100nF of combined L+ and GATE pin
When a port is disabled (ENL+ = 0), its MOSFET is turned
                                                                             loading on the master board without falsely detecting a
off with a 1.2mA current pulling down the GATE pin to
                                                                             connection. Cable disconnection is not sensed.
GND. The L+ pin voltage drops as CL+ discharges.
The LTC2874 is designed to turn off the GATE rapidly                         Power good (PWRGD) status is low during the SENSE
during certain fault conditions to prevent damage to the                     and WAIT states.
MOSFET. The fault events that initiate a faster shut down
include UVLO of either supply, VDD overvoltage (unless                                      L+EN
                                                                                              BIT
OV_ALLOW = 1), and overcurrent circuit breaker timeout                                                        GATE ON
(TOC_L+). In these cases the GATE pin is discharged to                        VDD – 1.5 • VPG(TH)
the L+ pin with a 90mA current.                                                                       40ms
                                                                                                     ISENSE
Cable Sensing
Hot-plugging, or the connection and disconnection of                                           L+
                                                                                                                CABLE CONNECTED
                                                                                                                BEFORE ENL+
cables to an already enabled port, can cause sparking and
                                                                                          CSENSE
reliability problems as connector plating wears off over                               EVENT BIT
time. Connection sensing mode (CSENSE_MODE = 1)
mitigates this problem, extending connector lifetime. When                                   IRQ
a port is enabled with this feature active, the LTC2874 waits                                                                              2874 F20
until it detects an external connection to its L+ pin before
                                                                                  Figure 20. Cable Sense Behavior: Connection Before ENL+
enhancing the external MOSFET supplying it.
The cable sense function identifies cable connections
by measuring capacitive loading. The concept is shown                                       L+EN
in Figure 19. When a given port is enabled, the L+ and                                        BIT                                   GATE ON
GATE pins are trickle-charged positive with 200µA, keep-                      VDD – 1.5 • VPG(TH)
ing ΔVGATE close to 0V. The LTC2874 determines that a                                                  40ms
cable is connected if either L+ doesn’t rise within about                                             ISENSE
                                                                                                                    CABLE CONNECTED
40ms (because it is loaded) or L+ subsequently pulls low                                                            AFTER ENL+
(because a connected cable steals trickle current charge).
                                                                                               L+
Figure 20 and Figure 21 illustrate the behavior.
                                                                                          CSENSE
                                                                                       EVENT BIT
                                 200µA
                                 SENSE
                                             40ms                                             IRQ
                 L+EN = 0
                                             L+ HIGH
                                                                                                                                          2874 F21
                                 40ms
                       L+EN = 1  L+ LOW
                                                                                   Figure 21. Cable Sense Behavior: Connection After ENL+
           GATE                                       WAIT
            OFF                         L+EN = 0
                  L+EN = 0                  L+ LOW
                                GATE
                                 ON
                                                         2874 F19
              Figure 19. Cable Sensing State Diagram
                                                                                                                                          2874fb
22                                                   For more information www.linear.com/LTC2874


                                                                                                                      LTC2874
Applications Information
L+ Current Limit Stability                                                Design Example
For many applications the LTC2874 current limit is stable                 The MOSFET is sized to handle power dissipation during
with a minimum of external components. In Figure 22,                      inrush when L+ loads are being charged. Considering the
RGATE is required to suppress the tendancy for Q1 to de-                  case of a load capacitor CL+, power dissipation during
velop parasitic self-oscillation. A value between 10Ω and                 inrush can be determined based on the principle that:
100Ω is recommended. The bypass capacitors on the VDD
                                                                               Energy in the MOSFET = Energy in CL+
input supply play an essential role as well.
                                                                          This stored energy is 0.5 • CV2. For example:
In some applications, additional components are needed
to improve stability. Small MOSFETs with especially low                        Energy in CL+ = 0.5 • 100µF • (30V)2 = 0.045J
CGS are less stable, as are larger sense resistors RS.                    With foldback mode disabled, the time it takes to charge
Improve stability using the RGCG compensation network                     up CL+ is:
in Figure 22. For RG, choose a value between 100Ω (nor-
mally sufficient ) and 1kΩ; for CG, use between 2nF and                                       V •C        30V •100µF
                                                                               tSTARTUP = DD L+ =                     = 12ms
10nF. Do not connect CG directly between the GATE pin                                          ΔVACL         50mV
and ground.                                                                                     RS            0.2Ω
Board level short-circuit testing is recommended. The
                                                                          MOSFET power dissipation is:
worst-case condition for current limit stability occurs when
the output is shorted to ground after a normal start-up.
                                                                                    Energy in CL+
The capacitor CG serves a dual purpose, also setting the                       P=                  = 3.75W
                                                                                       tSTARTUP
L+ pin ramp rate described in the Inrush Control section.
                                                                          In foldback mode, this power is reduced further.
MOSFET Selection
                                                                          For IO-Link applications, another case to consider is the
Careful selection of the power MOSFET is critical to system               start-up current pulse (see L+ Supply Current Pulse Capa-
reliability. For IO-Link compatibility, Linear Technology                 bility), in which a heavy nonlinear load could be supplied
recommends Fairchild FQT7N10, or a similar planar process                 twice the normal current, or 2 • ∆VACL/RS, for up to 72ms.
device in a SOT-223 package. Larger devices may degrade                   Again assuming 0.2Ω sense resistors and no benefit from
transient performance of current limiting, while smaller                  foldback, average MOSFET power dissipation is:
devices are more likely to require external compensation
(see L+ Current Limit Stability) and require more care to                                    (0V +18V)
stay within the rated safe operating area (SOA).                                P = 30V –               • 0.5A = 3.0W
                                                                                                 2     
                                RS
 VDD
                               0.2Ω      Q1
                                                                          The SOA (safe operating area) curves of candidate
                                                    CABLE     +
          CVDD2     CVDD1
                                                                    CL+   MOSFETs must be evaluated to ensure that the heat ca-
          100µF     1µF   SENSE+ SENSE–
                             LTC2874
                                            RGATE                         pacity of the package tolerates the more extreme case,
                                            10Ω
                                    GATE                                  3W for 72ms. The SOA curves of the Fairchild FQT7N10
                                            RG                            provide for 350mA at 30V (>10W) for 100ms, satisfying
                                             CG                           this requirement.
                                                                 2874 F22
   Figure 22. External Components for Improving Stability and
   Controlling Inrush Current
                                                                                                                                 2874fb
                                                  For more information www.linear.com/LTC2874                                 23


LTC2874
Applications Information
Power Considerations                                                  To provide immunity against supply voltage spikes, the
                                                                      VDD event bits have a 10µs filter time. Status bits are live
The LTC2874 has two power supply pins: a logic supply
                                                                      (no-delay) indicators.
pin (VL) and the primary supply (VDD). The VL supply
powers the control logic, serial interface and SPI registers,
                                                                      Operating Above 30V
and allows the LTC2874 to interface with any logic signal
from 2.9V to 5.5V. Bypass VL to GND with at least a 0.1µF             When operating above 30V, the VDD threshold at which
ceramic capacitor. There is no power supply sequencing                overvoltage circuits disable the CQ and L+ pins must be
requirement.                                                          set higher than the default value (32V). Choose a value of
                                                                      34V or 36V using the OV_TH[1:0] register bits.
Bypass capacitance between VDD and GND is important
for reliable operation. If a short circuit occurs at one of           Auto-Retry or Latchoff Fault Response
the L+ output ports, it can take more than 20µs for the
LTC2874 to begin regulating the current. During this time             When a line output is shorted or the ∆VCB(TH) threshold is
the current is limited only by minimal impedance, so a high           otherwise exceeded, a timed circuit breaker disables the
current spike can cause a voltage transient on the VDD                L+ power supply output or CQ driver before overheating
supply with the possibility that the LTC2874 resets due to            can damage the MOSFET (L+) or master (CQ). Register
a UVLO fault. Decouple VDD to ground with at least 100µF              bits RETRY_L+ and RETRY_CQ allow independent fault
bulk capacitance and a 1µF, 100V X7R ceramic capacitor                behavior for L+ and CQ pins. Set these bits high for auto-
placed near the VDD pin to minimize spurious resets.                  retry behavior and low for latchoff. Default behavior is
                                                                      auto-retry.
Supply Monitors                                                       When configured for auto-retry behavior, the LTC2874
The LTC2874 monitors various conditions on its two input              periodically re-enables the pin to check if the fault
power supplies, and alerts the host microcontroller when              condition is still present. See Erratum #1. The RE-
supply levels move outside of their operating range. Event            TRYTC[2:0] register bits adjust the retry timer delay
bits record when the logic supply VL has moved below its              from 0.12s to 15.7s to allow for cooling. Choose retry
UVLO threshold or when the main supply VDD has moved                  (RETRYTC) and overcurrent timer (LPTC) settings in tandem
below its UVLO threshold, below its mode-dependent UV                 to keep the duty cycle of an L+ fault condition sufficiently
level, or above its programmable OV level (see Figure 23).            low to allow for cooling of the external MOSFET. In the
                                                                      case of a CQ fault condition, even the fastest RETRYTC
                         VDD                                          setting limits the duty cycle to <1% to allow for cooling
                              +                0V_VDD                 of one or more drivers.
          18V
                                      10µs      EVENT
          32V
          34V
                              –                                       When configured for latchoff behavior, the LTC2874
                                                STATUS
          36V                                                         disables the respective L+ or CQ pin until the overcur-
              OV_TH[1:0]      –                UV_VDD                 rent event bit is cleared. In this case, clearing the event
           7V                 +       10µs      EVENT                 register initiates a manual retry. The host is responsible
        17.5V
                                                                      for limiting the duty cycle of the fault condition to avoid
               24VMODE        –               UVLO_VDD                overheating the L+ MOSFET or CQ driver. For example,
                        6V
                              +       10µs      EVENT                 when using the highest available LPTC setting, a manual
                                                STATUS                retry interval of 1s limits the L+ MOSFET duty cycle to
                  VL
                        –
                                           UVLO_VL
                                                                      20%. In SIO mode, a manual retry interval of 5ms limits
                  2V
                        +                   EVENT                     the CQ driver duty cycle to 10%.
                             POR                  2874 F23
          Figure 23. Supply UVLO, UV, and OV Monitors
                                                                                                                              2874fb
24                                            For more information www.linear.com/LTC2874


                                                                                                                               LTC2874
Applications Information
Examples of both responses to an L+ fault are shown in
Figure 24 and Figure 25.                                                                VDD
                                                                                                                 EARLIEST POSSIBLE TRANSITION OF
                tOC(L+)    tRETRY      tOC(L+)    tRETRY                                                         L+ IF ENABLED BY ENL+ OR
                                                                                  VDD(UVL)                       CQ IF ENABLED BY TXEN/DRVEN
          L+
                                                                                                     10ms
     TOC L+                                                                                           HI-Z
                                                                                      RXD
  EVENT BIT
                                                                                                                                   2874 F26
        IRQ
                                                                                           Figure 26. CQ or L+ Pin Start-Up Behavior
                                                                2874 F24
        Figure 24. Auto-Retry Fault Behavior (for L+ Short)                 SPI Interface
                                                                            The LTC2874 communicates with the host using a
                                                                            SPI-compatible 4-wire interface. Figure 9 and Figure 10
                 tOC(L+)  LATCHOFF      tOC(L+)   LATCHOFF
                                                                            show typical communication waveforms and timing rela-
           L+
                                                                            tionships. Interrupts are signaled to the host via the IRQ pin.
                                        CLEAR
      TOC L+
                                        EVENT
                                                                            When the chip select input CS is set low, it enables the
   EVENT BIT                                                                SCK input buffer and the SDO output. Data at the SDI pin
                                                                            is transferred into the shift register at subsequent rising
         IRQ
                                                                            SCK edges. For each 16-bit word, the command bits C2
                                                                            to C0 are loaded first; then address bits A3 to A0; then a
                                                                 2874 F25
           Figure 25. Latchoff Fault Behavior (for L+ Short)                don’t-care bit; and finally bits D7 to D0, which supply a byte
                                                                            of data (ordered MSB-to-LSB) for some commands. Data
                                                                            can be transferred to the LTC2874 only when CS is low.
The LTC2874 allows the response to VDD supply overvoltage
faults to be tailored with similar flexibility. Normally, this              SCK may be high or low at the falling edge of CS. Keep
fault causes the L+ and CQ pins of all four ports to be                     SCK low between commands to ensure timely completion
                                                                            of all commands.
disabled. The RETRY_OV bit selects between auto-retry
and latchoff behavior. If the OV_ALLOW bit is set high,                     Commands and their formats are shown in Table 2. Com-
the LTC2874 will tolerate overvoltage conditions, signaling                 mand codes not shown are reserved and should not be used.
the event but not disabling any functions.                                  Table 2. LTC2874 Command List and Format
                                                                            COMMAND DETAIL                   (FIRST)                          (LAST)
Auto-retry doesn’t clear any event registers, nor does                                                       c2…c0 a3…a0 Bit-8                d7…d0
writing any event register bit high disable any function.                   READ           Read Register       000      AAAA       X        XXXXXXXX
                                                                            WRITE          Write Register      001      AAAA       X        DDDDDDDD
Start-Up Behavior                                                                          (No Update)
                                                                            UPDATE         Update All          010      XXXX       X        XXXXXXXX
Both external supplies must exceed their undervoltage                                      Registers
lockout levels for 10ms before the CQ and L+ outputs are                    WRTUPD         Write One           011      AAAA       X        DDDDDDDD
                                                                                           Register and
allowed to turn on and before VDD events are reported. Dur-                                Update All
ing that settling interval, the RXD pins are Hi-Z. Figure 26                RESET          Reset               111      XXXX       X        XXXXXXXX
shows typical start-up behavior, assuming the VDD supply
is the last to power on.
                                                                                                                                                   2874fb
                                                    For more information www.linear.com/LTC2874                                                25


LTC2874
Applications Information
SPI Write, Update, and WrtUpd Commands                                                 SPI Reset Command
Three of the commands relate to writing data to the reg-                               The reset command returns default values to the SPI
isters. The write command transfers data from the shift                                register and clears internal latches. It has no effect on the
register to the holding latches of any writable register.                              SPI data path itself. This command has sticky behavior,
The update command transfers data from all holding                                     not releasing until a subsequent command (besides reset)
latches to the SPI registers. The WrtUpd combines these                                is received.
two commands.
                                                                                       Continuous Transfer Capability
For the write and WrtUpd commands, data is transferred
from the shift register on the 16th falling edge of SCK.                               Commonly for SPI communication, CS is asserted low
                                                                                       once per command word. The LTC2874 also supports
SPI Read Command                                                                       continuous transfer in which multiple command words,
                                                                                       each accompanied by 16 SCK pulses, are grouped in a
The read command transfers a byte of data from the
                                                                                       sequence (Figure 28). This feature is useful for software
holding latches of a SPI register to the serial output pin
                                                                                       polling or writing to multiple registers. Keep CS low until
(SDO). Transitions occur on falling clock edges, allowing
                                                                                       after the last command word in the group.
data to be sampled by the SPI master on the rising edges,
beginning with the 8th SCK. When CS is low, the SDO pin                                Chip Select Addressing
is low except when a high register bit is being read out.
When CS is high, SDO is Hi-Z.                                                          Combine LTC2874 devices to build larger masters by
                                                                                       assigning each its own CS and sharing the remaining SPI
                                        SEQUENCE AT SDI PIN
    COMMAND                     (FIRST)                              (LAST)
                                                                                       interface wires. See Figure 40.
    RESET                       1  1 1   0   0    0    0 0 0 0  0 0 0 0   0  0
    WRITE      0x8       0x1F   0  0 1   1   0    0    0 0 0 0  0 1 1 1   1  1         SPI Registers
    WRITE      0x9       0xF0   0  0 1   1   0    0    1 0 1 1  1 1 0 0   0  0
    WRITE      0xA       0x00   0  0 1   1   0    1    0 0 0 0  0 0 0 0   0  0         The LTC2874 has 15 registers for configuration and
    UPDATE                      0  1 0   0   0    0    0 0 0 0  0 0 0 0   0  0         monitoring: seven for control, two for status, four to
    READ       0x0              0  0 0   0   0    0    0 0 0 0  0 0 0 0   0  0
                                                                       2874 F27
                                                                                       record events, and two to handle interrupts. Register bit
             Figure 27. Example SPI Commands                                           assignments are summarized in Table 3.
                                                                                       When VL is below approximately 2V, the SPI serial port
Data written to the internal data holding latches can be                               resets to power-on states and registers are set to default
verified prior to committing data to the SPI registers by                              values. The reset command similarly sets the registers
reading it before an update command is sent.                                           to default values (with minor differences listed in the last
                                                                                       column of Table 3) and resets internal control circuits.
                          CS
                                        16 SCK                16 SCK            16 SCK   16 SCK     16 SCK    16 SCK
                        SCK
                                       ||||||||||||||||      PULSES             PULSES   PULSES    PULSES     PULSES
                         SDI            RESET                 WRITE             WRITE    WRITE      WRITE     UPDATE
                                                                                                                        2874 F28
                                                             Figure 28. Continuous Transfer Capability
                                                                                                                                                2874fb
26                                                          For more information www.linear.com/LTC2874


                                                                                                                      LTC2874
Applications Information
Table 3. SPI Register Table
 REG      NAME          D7          D6          D5              D4             D3           D2          D1           D0    DEFAULT
  0x0   IRQREG     OT          SUPPLY      WU              TOC_L+        PWRCHNG        TOC_CQ     CSENSE      Reserved    0100,0000
        (Read      Overtemp    Supply      Wake-Up         L+ OC         L+ Power       CQ OC      Cable Sense             (VL-on Reset)
        Only)      Event       Event       Event           Timeout       Changed        Timeout    Event                   0000,0000
                   Occurred    Occurred    Occurred        Event         Event          Event      Occurred                (SPI Reset)
                                                           Occurred      Occurred       Occurred
  0x1   IRQMASK    OT          SUPPLY      WU              TOC_L+        PWRCHNG        TOC_CQ     CSENSE      Reserved    1111,1110
                   Overtemp    Supply      Wake-Up         L+ OC         L+ Power       CQ OC      Cable Sense
                   IRQ Mask    IRQ Mask    IRQ Mask        Timeout       Changed        Timeout    IRQ Mask
                                                           IRQ Mask      IRQ Mask       IRQ Mask
  0x2   EVENT1     OT_SD       OT_WARN     Reserved        UVLO_VL       UVLO_VDD       UV_VDD     OV_VDD      Reserved    0001,0000
                   Overtemp    Overtemp                    VL UVLO       VDD UVLO       VDD UV     VDD OV                  (VL-on Reset)
                   Shutdown    Warning                     Event         Event          Event      Event                   0000,0000
                   Occurred    Occurred                    Occurred      Occurred       Occurred   Occurred                (SPI Reset)
  0x3   EVENT2     WU4         WU3         WU2             WU1           TOC_L+4        TOC_L+3    TOC_L+2     TOC_L+1     0000,0000
                   Wake-Up     Wake-Up     Wake-Up         Wake-Up       L+4 OC         L+3 OC     L+2 OC      L+1 OC
                   Event CQ4   Event CQ3   Event CQ2       Event CQ1     Timeout        Timeout    Timeout     Timeout
                   Occurred    Occurred    Occurred        Occurred      Event          Event      Event       Event
                                                                         Occurred       Occurred   Occurred    Occurred
  0x4   EVENT3     PWRCHNG4 PWRCHNG3       PWRCHNG2 PWRCHNG1 TOC_CQ4                    TOC_CQ3    TOC_CQ2     TOC_CQ1     0000,0000
                   L+4 Power   L+3 Power   L+2 Power       L+1 Power     CQ4 OC         CQ3 OC     CQ2 OC      CQ1 OC
                   Changed     Changed     Changed         Changed       Timeout        Timeout    Timeout     Timeout
                   Event       Event       Event           Event         Event          Event      Event       Event
                   Occurred    Occurred    Occurred        Occurred      Occurred       Occurred   Occurred    Occurred
  0x5   EVENT4     CQ_SNS4     CQ_SNS3     CQ_SNS2         CQ_SNS1       CSENSE4        CSENSE3    CSENSE2     CSENSE1     0000,0000
                   CQ4 Sense:  CQ3 Sense:  CQ2 Sense:      CQ1 Sense:    L+4 Cable      L+3 Cable  L+2 Cable   L+1 Cable
                   0 = CQ High 0 = CQ High 0 = CQ High     0 = CQ High Sense Event Sense Event     Sense Event Sense Event
                   1 = CQ Low  1 = CQ Low  1 = CQ Low      1 = CQ Low Occurred          Occurred   Occurred    Occurred
  0x6   STATUS1    OT          WU_COOL     UVLO_VDD        OV_VDD        OC_L+4         OC_L+3     OC_L+2      OC_L+1      0000,0000
        (Read      Over-       WURQ or     VDD UVLO        VDD Over-     L+4 Over-      L+3 Over-  L+2 Over-   L+1 Over-
        Only)      temperature Cooldown    Condition       voltage       current        current    current     current
                   Condition   Condition                   Condition     Condition      Condition  Condition   Condition
  0x7   STATUS2    PWRGD4      PWRGD3      PWRGD2          PWRGD1        OC_CQ4         OC_CQ3     OC_CQ2      OC_CQ1      0000,0000
        (Read      L+4 Power   L+3 Power   L+2 Power       L+1 Power     CQ4 Over-      CQ3 Over-  CQ2 Over-   CQ1 Over-
        Only)      Good        Good        Good            Good          current        current    current     current
                                                                         Condition      Condition  Condition   Condition
  0x8   MODE1      24VMODE     CSENSE_     2XPTC[1:0]                    FLDBK_         RETRY_OV   RETRY_L+    RETRY_CQ    1000,1111
                   Enable      MODE        L+ Start-Up 2X Current        MODE           Enable     Enable      Enable
                   IO-Link     Enable      Pulse Timer Control:          Enable         VDD OV     L+ Pin      CQ Pin
                   Compatible  Cable Sense 00 = 62ms                     Foldback       Auto-Retry Auto-Retry  Auto-Retry
                   Mode        Mode        01 = Disabled                 Mode
                                           10 = 31ms
                                           11 = 124ms
  0x9   MODE2      SLEW4       SLEW3       SLEW2           SLEW1         OV_TH[1:0]                OV_ALLOW    CQ_SNS_     1111,0100
                   CQ4 Edge    CQ3 Edge    CQ2 Edge        CQ1 Edge      VDD Overvoltage           Allow VDD   MODE
                   Rate:       Rate:       Rate:           Rate:         Threshold Select:         Overvoltage Enable CQ
                   0 = Slow    0 = Slow    0 = Slow        0 = Slow      00 = 18V                              Sense Mode
                   1 = Fast    1 = Fast    1 = Fast        1 = Fast      01 = 32V
                                                                         10 = 34V
                                                                         11 = 36V
                                                                                                                                   2874fb
                                               For more information www.linear.com/LTC2874                                    27


LTC2874
Applications Information
Table 3. SPI Register Table
 REG       NAME            D7              D6            D5             D4              D3           D2           D1              D0     DEFAULT
  0xA   NSF           NSF4[1:0]                     NSF3[1:0]                     NSF2[1:0]                  NSF1[1:0]                   1111,1111
                      Noise Suppression Filter,     Noise Suppression Filter,     Noise Suppression Filter,  Noise Suppression Filter,
                      Port 4:                       Port 3:                       Port 2:                    Port 1:
                      00 = Disabled                 00 = Disabled                 00 = Disabled              00 = Disabled
                      01 = 20.3µs                   01 = 20.3µs                   01 = 20.3µs                01 = 20.3µs
                      10 = 2.8µs                    10 = 2.8µs                    10 = 2.8µs                 10 = 2.8µs
                      11 = 0.6µs                    11 = 0.6µs                    11 = 0.6µs                 11 = 0.6µs
  0xB   ILLM          ILLM4[1:0]                    ILLM3[1:0]                    ILLM2[1:0]                 ILLM1[1:0]                  1111,1111
                      Sinking Current, Port 4:      Sinking Current, Port 3:      Sinking Current, Port 2:   Sinking Current, Port 1:
                      00 = 500kΩ                    00 = 500kΩ                    00 = 500kΩ                 00 = 500kΩ
                      01 = 2.5mA                    01 = 2.5mA                    01 = 2.5mA                 01 = 2.5mA
                      10 = 3.7mA                    10 = 3.7mA                    10 = 3.7mA                 10 = 3.7mA
                      11 = 6.2mA                    11 = 6.2mA                    11 = 6.2mA                 11 = 6.2mA
  0xC   TMRCTRL LPTC[3:0]                                                         Reserved      RETRYTC[2:0]                             1000, 0101
                      L+ Overcurrent Timer Control (Ports 1 to 4):                              Auto-Retry Timer Control (Ports 1 to 4):
                      0000 = 15µs           1000 = 3.9ms                                        000 = 0.12s
                      0001 = 30µs           1001 = 7.8ms                                        001 = 0.24s
                      0010 = 60µs           1010 = 16ms                                         010 = 0.5s
                      0011 = 120µs          1011 = 30ms                                         011 = 1.0s
                      0100 = 0.24ms         1100 = 60ms                                         100 = 2.0s
                      0101 = 0.5ms          1101 = 0.12s                                        101 = 3.9s
                      0110 = 1.0ms          1110 = 0.25s                                        110 = 7.9s
                      0111 = 2.0ms          1111 = 0.25s                                        111 = 15.7s
  0xD   CTRL1         WKUP4          WKUP3          WKUP2           WKUP1         DRVEN4        DRVEN3       DRVEN2         DRVEN1       0000,0000
                      Generate       Generate       Generate        Generate      Enable        Enable       Enable         Enable
                      WURQ           WURQ           WURQ            WURQ          CQ4 driver    CQ3 driver   CQ2 driver     CQ1 driver
                      on CQ4         on CQ3         on CQ2          on CQ1
  0xE   CTRL2         ENL+4          ENL+3          ENL+2           ENL+1         SIO_MODE4 SIO_MODE3 SIO_MODE2 SIO_MODE1                0000,0000
                      Enable L+4     Enable L+3     Enable L+2      Enable L+1    CQ4           CQ3          CQ2            CQ1
                      Power          Power          Power           Power         SIO Mode      SIO Mode     SIO Mode       SIO Mode
                      Supply         Supply         Supply          Supply        OC Timeout    OC Timeout OC Timeout       OC Timeout
                                                                                  0 = 15µs      0 = 15µs     0 = 15µs       0 = 15µs
                                                                                  1 = 480µs     1 = 480µs    1 = 480µs      1 = 480µs
Notes:
1: Delays are typical unless otherwise noted.
2: Underlined settings are default values.
3: Gray shading indicates Read-Only register bits.
4: Register 0xD WKUP bits are pushbuttons that self-clear.
5: Reserved bits may be converted to features in a future release of the product.
                                                                                                                                                2874fb
28                                                      For more information www.linear.com/LTC2874


                                                                                                                          LTC2874
Applications Information
Table 4. Summary of LTC2874 Event Reporting
                        EVENT REGISTER/         IRQREG
EVENT                      EVENT BITS         MASK BIT              BEHAVIOR          NOTE
Overtemperature           EVENT1 (0x2)             7                 Thermal          Temperature has reached shutdown level.
Shutdown Level                OT_SD                                  Recovery         L+ and CQ pins are disabled until condition clears.
Overtemperature           EVENT1 (0x2)             7                 Thermal          Temperature has reached warning level. Wake-up
Warning Level               OT_WARN                                  Recovery         requests (WURQ) are blocked.
VL Supply UVLO            EVENT1 (0x2)             6                  10ms            VL below UVLO threshold for 10µs.
                             SUPPLY                                  Recovery
VDD Supply UVLO           EVENT1 (0x2)             6                  10ms            VDD below UVLO threshold for 10µs.
                             SUPPLY                                  Recovery
VDD Supply UV             EVENT1 (0x2)             6            Signal Event Only     VDD below UV threshold for 10µs.
                             SUPPLY
VDD Supply OV             EVENT1 (0x2)             6                Latchoff or       VDD above OV threshold for 10µs. L+ and CQ pins are
                             SUPPLY                                 Auto-Retry        disabled unless OV_ALLOW bit set.
Wake-Up                   EVENT2 (0x3)             5               8.3ms Wait         Wake-up request (WURQ) has started. Additional
                               WU                                                     WURQs are blocked for 8.3ms.
L+ Overcurrent Timeout    EVENT2 (0x3)             4                Latchoff or       Duration of L+ current limiting has exceeded
                             TOC_L+                                 Auto-Retry        programmable timeout.
L+ Power Changed          EVENT3 (0x4)             3            Signal Event Only     L+ power status has changed (10µs filter).
                           PWRCHNG
CQ Overcurrent Timeout    EVENT3 (0x4)             2                Latchoff or       Duration of current limiting has exceeded
                             TOC_CQ                                 Auto-Retry        mode-dependent timeout.
CQ Sense                  EVENT4 (0x5)            n/a          CQ Receiver Output     Indicates CQ level (inverted polarity like RXD) when
                             CQ_SNS                                (Read Only)        CQ_SNS_MODE bit set high. Doesn’t signal IRQ.
Cable Sense               EVENT4 (0x5)             1           L+ Supply Turns On     Signals cable or load detected when CSENSE_MODE bit
                             CSENSE                                                   set high.
                                                                                                                                           2874fb
                                            For more information www.linear.com/LTC2874                                                29


LTC2874
Applications Information
Event Signaling                                                          Driving Relays
When an event bit is set, in most cases a bit corresponding              Having 100mA drive capability, the CQ drivers are capable of
to the event type also signals high in the IRQREG register               energizing the coils of many relays. For some applications
(0x0). If the corresponding bit in the IRQMASK register                  requiring higher current, the L+ lines may operate as low
(0x1) is high, the event causes the IRQ pin to pull low.                 data rate outputs. Figure 39 shows an example of the L+
The IRQ signal generates an interrupt to the host micro-                 pins driving 0.5A relays, with the CQ lines connected as relay
controller, eliminating the need for continuous software                 sense lines. CQ line drivers are disabled by pin-strapping
polling. The IRQMASK register selects which events can                   TXEN1 through TXEN4 low, and CQ pin load currents are
gain the host’s attention at a given time.                               disabled by setting ILLM = 0x0 for each port. Activate
                                                                         any relay by setting its ENL+ bit high. The relay sense
SPI Receiver                                                             points are converted to logic levels at the RXD pins. If the
                                                                         CQ_SNS_MODE bit is set high, the sense points may be
The serial interface monitors the CQ line interface pins if the          read from register 0x5 via the serial interface.
CQ_SNS_MODE bit is set. The polarity of the four CQ_SNS
bits matches the polarity of the RXD pins. These bits are                IO-Link Compatible Operation
reset low when CQ_SNS_MODE isn’t enabled (default).                      Table 5 shows typical register settings for IO-Link com-
                                                                         patible operation.
Driving Light Bulbs
                                                                         Setting the 24VMODE bit high programs the receivers
The CQ drivers can safely drive small incandescent light                 and L+ foldback for 24V operation per Figures 12 and 15.
bulbs. Use SIO mode (SIO_MODE = 1) and the fastest
auto-retry delay (RETRY_CQ = 1, RETRYTC = 0x0). The                      Table 5. Example Settings for IO-Link Compatibility
drivers will pulse on and off while the filament initially                  REG      VALUE    DEFAULT                                     NOTE
draws high current as it heats up. Figure 29 shows typi-                     0x8      0x8F       Y          IO-Link Compatibility Mode Enabled;
cal waveforms.                                                                                              L+ Startup 2x Current Pulse Enabled
                                                                             0x9      0xF4       Y               32V VDD Overvoltage Threshold
                                                                             0xA      0xFF       Y               0.5μs Noise Suppression Filters
                    CM7387-ND 28V T1
                                                                             0xB      0xFF       Y                        6mA Sinking Currents
                                           CQ
            10V/DIV                                                          0xC      0x85       Y        TOC_L+ Timer NOT Required to be Set
                                                                                                        Longer Than 62ms Startup Current Pulse
                                                                         Applications Other than IO-Link
                                           –(CQ)
          50mA/DIV                                                       Table 6 shows typical SPI register settings for operating
                                                                         the LTC2874 in a 12V application.
                                 200ms/DIV       2874 F29
                                                                         Setting the 24VMODE bit low selects VDD-ratioed receiver
        Figure 29. Driving an Incandescent Bulb Using                    thresholds (Figure 12) and L+ foldback optimized for 12V
        SIO Mode and Auto-Retry                                          operation (Figure 15). Additionally, the WKUP register bits
                                                                         are deactivated.
Larger light bulbs can be driven if microcode defines a                  Table 6. Example Settings for 12V Application
faster driver cooling interval between pulses during bulb                   REG       VALUE     DEFAULT                                   NOTE
ignition. Set RETRY_CQ = 0 and clear register 0x4 to                         0x8       0x5F        N       IO-Link Compatibility Mode Disabled;
begin each new pulse. Because this technique defeats                                                      L+ Start-Up 2x Current Pulse Disabled
built-in protection against driver self-heating, it must be                  0x9       0xF0        N             18V VDD Overvoltage Threshold
applied carefully.                                                           0xA     See Note      –      Noise Suppression Filtering as Needed
                                                                             0xB       0x00        N                  Sinking Currents Disabled
                                                                                                                                          2874fb
30                                               For more information www.linear.com/LTC2874


                                                                                                                                 LTC2874
Applications Information
Reverse Current Protection                                                           VDD
                                                                                                VDD
To isolate the VDD input supply against reverse current                                             CQ1
                                                                                                    CQ2
from L+ outputs and isolate L+ pins against cable distur-                                           CQ3
                                                                                                    CQ4
bances on other L+ outputs, use the approach shown in
                                                                                              LTC2874
Figure 30. Add blocking diodes (D1-D4) to the MOSFET
                                                                                                GND
drains rather than sources to maximize the MOSFET VGS.
                                                                                                                 *
When the L+ pins are configured with blocking diodes, 1µF
master-side L+ capacitors (C1-C4) are required to mitigate
                                                                                           *OPTIONAL TO EXTEND CQ OPERATING RANGE BELOW GROUND
the increased ringing that can occur in cable-driving ap-                                                                             2874 F31
plications. Use a smaller value (100nF) for applications                                 Figure 31. TVS Diode Protection for CQ pins
requiring cable detection.
                                                                           Figure 30 shows the placement of TVS diodes for protect-
  VDD
                         1µF              100µF
                                                                           ing the L+ outputs, while Figure 31 shows how to protect
           VDD
                                                                           the CQ pins.
            SENSE+
         LTC2874                                                           MOSFET Fault Detection
           SENSE–1                                                         The L+ supply outputs are designed to tolerate significant
                           D1     D2   D3       D4
                                                                           levels of abuse, but in extreme cases it is possible for the
             GATE1
                                                                           external MOSFET to be damaged. A failed MOSFET may
                                                                           short from source to drain, which will make the port appear
               L+1
               L+2                                                         to be on when it should be off. The LTC2874 will disable
               L+3
               L+4
                                                                           the port if an overcurrent timeout occurs.
          GND                C1    C2   C3       C4
                                                                           A failed MOSFET may also short from gate to source. This
                                                               2874 F30
                                                                           type of short will prevent the LTC2874 from enhancing the
                                                                           MOSFET. The host can detect this condition by the per-
   Figure 30. Reverse Protection and TVS Diode Protection for
   L+ Outputs
                                                                           manent absence of PWRGD. An open or missing MOSFET
                                                                           will similarly not produce PWRGD.
Surge and ESD Protection Considerations                                    Normally a damaged MOSFET will not affect other ports.
Cable interfaces are subject to significant ESD events                     However, if it causes the sense resistor RS to fuse open,
because long cables can store large reservoirs of charge.                  the SENSE– pin will exceed its absolute maximum rating,
The LTC2874 CQ and L+ line pins feature protection to                      which might damage the LTC2874. This condition is
±8kV HBM with respect to GND without latchup or damage                     signalled to the host by an OC_L+ status bit that remains
during all modes of operation and while unpowered. All                     high even when the supply output is disabled (ENL+ = 0).
the other pins are protected to ±6kV HBM.                                  Avoid this situation by performing adequate board-level
                                                                           short circuit testing and using surge-rated sense resistors.
In order to further protect the LTC2874 interface ports
against surge and contact/air discharge events based on                    High Temperature Considerations
the IEC 61000-4-5 standard, additional external protec-
tion is required.                                                          For some applications, the PCB must provide heat sinking
                                                                           to keep the LTC2874 cool. Solder the exposed pad on the
SM6T36A or equivalent TVS clamps are recommended for                       bottom of the package to ground and tie to large copper
IO-Link and most other applications. In 24V applications                   layers below using thermal vias.
in which the input supply tolerance does not exceed 15%,
SM6T33A or equivalent clamps are also suitable.
                                                                                                                                                2874fb
                                                   For more information www.linear.com/LTC2874                                                 31


LTC2874
Applications Information
LTC2874 power dissipation can be estimated by consider-               the PCB that I1 and I2 share. The LTC2874 measures the
ing the contributions of drivers and sinking currents for a           voltage difference between its SENSE+ and SENSE– pins
given application, along with quiescent power dissipated              to sense the voltage drop across RS1, but as the example
by internal circuits operating from two supplies. In gen-             shows, RM introduces errors.
eral, use the higher case of drive mode and receive mode
                                                                      The second example (Figure 32B) shows how to minimize
(sinking current) and ignore the other. Calculate driver
                                                                      errors using good layout. The circuit is rearranged so that
power dissipation by taking the product of CQ residual
                                                                      RM no longer affects VS, and the SENSE+ connection to
voltage and load current for each port. Here we also factor           the LTC2874 is used as a Kelvin sense trace. It is not a
in worst-case limits and maximum possible DC loading                  perfect Kelvin connection because all four ports controlled
on all ports:                                                         by the LTC2874 share the same sense trace, and because
   PD = 4 • MAX((ILL • VDD), (IRQH/L • VRQH/L)) +                     the current through the trace (IK) is not zero. However, as
   (VDD • IDD) + (VL • IL)                                            the equation in Figure 32(B) shows, the remaining error
                                                                      is a small offset term.
   PD = 4 • MAX((6.8mA • 34V), (0.23A • 1.6V)) +
   (34V • 8mA) + (5.5V • 1mA) = 1.75W                                 Figure 33 shows two LTC2874 chips controlling eight ports
                                                                      (A through H). The ports are separated into two groups
For θJA of 34°C/W, the increase in junction temperature               of four; each has its own trace on the top PCB layer that
compared to ambient is 60°C.                                          connects to the VDD plane through a via. Currents from
                                                                      the U1 sub-circuit are effectively isolated from the U2
The thermal shutdown circuit signals an OT_SD event and               subcircuit, reducing the layout problem down to 4-port
disables the drivers if the internal die temperature is above         subsections; this arrangement can be expanded for any
about 170°C. The drivers turn back on when the internal               number of ports.
die temperature drops approximately 15°C.
                                                                      Figure 34 shows an example of good 4-port layout. In
When the internal die temperature is above about 140°C,               this case, each sense resistor consists of two resistors
the OT status bit and OT_WARN event bit signal, enabling              in parallel. The four groups of resistors are arranged to
an informed host to intervene.                                        minimize the overlap in their current flows, reducing mu-
                                                                      tual resistance. Wide copper paths connect each group of
Layout Guidelines
                                                                      resistors to the vias at the center.
Standard power layout guidelines apply to the LTC2874:
                                                                      The SENSE+ Kelvin trace connects to the center of the resis-
place the decoupling caps for the VDD and VL supplies
                                                                      tor array. The via at the center of the sense resistor array
near their respective supply pins, use ground planes, and
                                                                      has a matching hole in the VDD plane. This arrangement
use wide traces wherever there are significant currents.
                                                                      prevents the mutual resistance of the four large vias from
The main layout challenge involves the arrangement of                 influencing the current measurements and introducing
the current sense resistors, and their connections to the             errors. An alternative layout is shown in Figure 35.
LTC2874. Because the sense resistor values are small,
layout parasitics can cause significant errors. Care is               IO-Link Disclaimer
required to achieve specified accuracy.                               Linear Technology Corporation attempts to maintain
Figure 32 illustrates the problem. In example Figure 32A,             compatibility with the IO-Link interface and system speci-
two ports have load currents I1 and I2 that connect to                fication. LTC is not a member of the IO-Link Consortium
VDD through a mutual resistance RM. RM represents the                 as set forth by PROFIBUS Nutzeroganisation (PNO) e.V.
combined resistances of any traces, planes, and vias in
                                                                                                                              2874fb
32                                            For more information www.linear.com/LTC2874


                                                                                                                                        LTC2874
Applications Information
                                         MUTUAL                                                  KELVIN
                                        RESISTANCE                                             SENSE LINE
           I1 + I2 + IDD                                                   I1 + I2 + IDD                   RM
                     IDD                    RM                                       IDD
                          VDD                          I1       I2                         VDD
                                                                                                               IK
                            SENSE+                                                          SENSE+
                                                                                                           RK
                        LTC2874      +VS            RS1       RS2                       LTC2874       +VS
                                                                                                                      RS1    RS2
                            SENSE–
                                                                                            SENSE–
                                                                                                                       I1       I2
                                        VS = I1RS1 + I1RM + I2RM                                           VS = I1RS1 – IKRK
                               SIGNAL                                                             SIGNAL
                       SCALE ERROR                                               SMALL OFFSET ERROR
                 CROSSTALK ERROR
                                            (A)                                                        (B)                 2874 F32
                   Figure 32. Layout Affects Current Limit Accuracy: (A) Poor and (B) Good Layouts
                VDD COPPER FILL                                         BY KEEPING THESE COPPER FILLS SEPARATE, MUTUAL
                VDD COPPER PLANE                                        RESISTANCE BETWEEN PORTS A TO D AND E TO H IS ELIMINATED.
                          VIAS                              VIAS                                 VIAS                               VIAS
            VDD         SENSE+                                                      VDD         SENSE+
                  LTC2874                                                                 LTC2874
                       SENSE–1                                                                SENSE–1
                              –2
                       SENSE                                                                  SENSE–2
                              –3
                       SENSE                                                                  SENSE–3
                       SENSE–4                                                                SENSE–4
          U1                                                                      U2
                                         PORTS A THROUGH D                                                       PORTS E THROUGH H
                                                                                                                                        2874 F33
                                  Figure 33. Layout Strategy to Reduce Mutual Resistance
                                           KELVIN SENSE TRACE CONNECTS
                                           TO U1 SENSE+ PIN
                                                             PORT A RS PORT B RS
                                                                                      FOUR LARGE VIAS
                                                                                      TO VDD PLANE
                                                                                         HOLE IN VDD PLANE
                                                                                        VIAS TO DRAIN PIN OF
                                                                                        THE PORT C MOSFET
                                                                                        LOCATED ON THE OPPOSITE
                                                             PORT D RS PORT C RS        SIDE OF THE BOARD
                               U1
                                                      PIN 1                                                  2874 F34
                                               Figure 34. Good PCB Layout Example
                                                                                                                                                  2874fb
                                              For more information www.linear.com/LTC2874                                                        33


LTC2874
Applications Information
                                Q2
         LTC2874
                                 CVDD1
                                Q3
                   A. Top Layer                                                              B. Inner Layer 2
                                                                                     GND
                                                                                   VL    VDD
                  C. Inner Layer 3                                                          D. Inner Layer 4
                                                                                                            D2
                                                                                            RS1             RS2
                                                                                            RS4             RS3
                                                                                                            D3
                  E. Inner Layer 5                                                           F. Bottom Layer
     Figure 35. Demo Board DC1880A Layout Showing Sense Resistors (on Bottom Layer) and Two of Four MOSFETs
                                                                                                                2874fb
34                                     For more information www.linear.com/LTC2874


                                                                                                     LTC2874
Typical Applications
                8V TO 34V
                                100µF      1µF
                                                      VDD        SENSE+
                                                           LTC2874
                                                                                    0.2Ω
                2.9V TO 5.5V                          VL        SENSE–2
                                                4.7k            SENSE–3
                                                      IRQ       SENSE–1
                                    VCC               TXEN1     SENSE–4
                                                      TXEN2               10Ω
                                                                  GATE1             Q1
                                1µF                   TXEN3
                                                                  GATE4                  Q2
                                                      TXEN4
                                                                    L+1
                                                      TXD1
                                                                    CQ1                      PORT 1
                                                      TXD2
                                                                    CQ2
                                                      TXD3
                                       µC                           L+4
                                                      TXD4
                                                                    CQ3                      PORT 2
                                                      RXD1          CQ4
                                                      RXD4        GATE2
                                                                    L+2
                                                      CS
                                                                  GATE3
                                                      SCK
                                                                    L+3
                                                      SDI
                                                      SDO
                                      GND                    GND
                Q1, Q2: FQT7N10                                                             2874 F36
         Figure 36. 2-Port Configuration with Guaranteed 200mA CQ Drive Capability (and 200mA L+ Supply)
                                                                                                          2874fb
                                        For more information www.linear.com/LTC2874                      35


LTC2874
Typical Applications
                8V TO 34V
                                100µF       1µF
                                                       VDD        SENSE+
                                                            LTC2874
                                                                                      0.1Ω
                2.9V TO 5.5V                           VL        SENSE–2
                                                 4.7k            SENSE–3
                                                       IRQ       SENSE–4
                                    VCC                TXEN1     SENSE–1
                                                       TXEN2               10Ω
                                                                   GATE1              Q1
                                1µF                    TXEN3
                                                       TXEN4
                                                                     L+1
                                                       TXD1
                                                                     CQ1
                                                       TXD2
                                                                     CQ2
                                                       TXD3
                                       µC                            CQ3
                                                       TXD4
                                                                     CQ4
                                                       RXD1        GATE2
                                                                   GATE3
                                                                   GATE4
                                                       CS
                                                                     L+2
                                                       SCK
                                                                     L+3
                                                       SDI
                                                                     L+4
                                                       SDO
                                      GND                     GND
                 Q1: FQT7N10                                                         2874 F37
        Figure 37. 1-Port Configuration with Guaranteed 400mA CQ Drive Capability (and 400mA L+ Supply)
                                                                                                        2874fb
36                                       For more information www.linear.com/LTC2874


                                                                                                                  LTC2874
Typical Applications
                 8V TO 30V
                                   1µF                                                          100µF
                                                VDD
                                                    SENSE+
                                              LTC2874
                                                                        0.2Ω      0.2Ω  0.2Ω  0.2Ω
    2.9V TO 5.5V                         VL
                                                   SENSE–1
                                    4.7k
                                                   SENSE–2
                                         IRQ
                                                   SENSE–3
                       VCC
                                  4                SENSE–4
                  1µF                    TXENn                           D1         D2   D3   D4
                                  4
                                         TXDn                10Ω
                                  4                  GATE1             Q1
                                         RXDn
                                                             10Ω
                                                     GATE2                       Q2
                                                             10Ω
                                                     GATE3                             Q3
                                         CS                  10Ω
                                                     GATE4                                   Q4       DZ DZ DZ DZ
                                         SCK
                         µC
                                         SDI
                                                       L+1
                                                                                                                               1
                                         SDO                                                                               4
                                                       CQ1                                                                       2
                                                                                                                             3
                                                       L+2                                                                     1
                                                                                                                           4
                                                       CQ2                                                                       2
                                                                                                                             3
                                                       L+3
                                                                                                                               1
                                                                                                                           4
                                                       CQ3                                                                       2
                                                                                                                             3
                                                       L+4                                                                     1
                                                                                                                           4
                                                       CQ4
                        GND                     GND                                                                              2
                                                                                                                             3
                                                                          C1        C2    C3   C4
                                                                                                      DZ DZ DZ DZ
                      D1 TO D4: SCHOTTKY                                                                            2874 F38
                      DZ: SM6T36A
                      Q1 TO Q4: FQT7N10
                      C1 TO C4: 1µF (REQUIRED WHEN USING D1-D4)
                 Figure 38. Blocking Diodes D1-D4 Protect VDD Against Overvoltage Faults on L+ Outputs,
                 TVS Diodes DZ Surge-Protect Cable Interface
                                                                                                                                   2874fb
                                               For more information www.linear.com/LTC2874                                       37


LTC2874
Typical Applications
                         24V
                                     1µF                                                             100µF
                                                     VDD
                                                         SENSE+
                                                   LTC2874
                                                                                80mΩ    80mΩ 80mΩ  80mΩ
     2.9V TO 5.5V                            VL
                                                        SENSE–1
                                        4.7k
                                                        SENSE–2
                                             IRQ
                                                        SENSE–3
                           VCC
                                                        SENSE–4
                       1µF                                          10Ω
                                      4                   GATE1                 Q1
                                             RXDn
                                                             L+1                                              A
                                                             CQ1                                           D1            K1
                                             CS
                                             SCK                                                              B
                              µC
                                                                        10Ω
                                             SDI                                       Q2
                                                          GATE2
                                             SDO                                                              A
                                                             L+2
                                                             CQ2                                           D2            K2
                                                                                                              B
                                                                        10Ω
                                                          GATE3                              Q3
                                                             L+3                                              A
                                                             CQ3                                           D3            K3
                                                                                                              B
                                                                        10Ω
                                             TXENn        GATE4                                   Q4
                                             TXDn                                                             A
                                                             L+4
                                                             CQ4                                           D4            K4
                             GND                     GND
                                                                                                              B
                                                                                                                2874 F39
                           D1 TO D4: 1N4004
                           Q1 TO Q4: FQT7N10
              Figure 39. SPI-Operated Quad Relay Driver (with CQ Relay Sense) Guaranteeing 0.5A Coil Current
                                                                                                                            2874fb
38                                               For more information www.linear.com/LTC2874


                                                                                  LTC2874
Typical Applications
                    SCLK                   SCK
                    MOSI                   SDI    LTC2874       L+
                    MISO                   SDO                  CQ        4 PORTS
                                                                       L–
                      SS1                  CS                 GND
                     IRQ1                  IRQ
                                           SCK
                  µC                       SDI    LTC2874       L+
                                           SDO                  CQ        4 PORTS
                                                                       L–
                      SS2                  CS                 GND
                     IRQ2                  IRQ
                                                      •
                                                      •
                                                      •
                                           SCK
                                           SDI    LTC2874       L+
                                           SDO                  CQ        4 PORTS
                                                                       L–
                      SSn                  CS                 GND
                     IRQn                  IRQ
                                                              2874 F40
                   Figure 40. N-Port Master Hot Swap Controller and PHY
                                                                                       2874fb
                           For more information www.linear.com/LTC2874                39


LTC2874
Package Description
Please refer to http://www.linear.com/designtools/packaging/ for the most recent package drawings.
                                                                              FE Package
                                                               38-Lead Plastic TSSOP (4.4mm)
                                                           (Reference LTC DWG # 05-08-1772 Rev C)
                                                                      Exposed Pad Variation AA
                                     4.75 REF                                                                    9.60 – 9.80*
                                                                                                                (.378 – .386)
                                                                                                                  4.75 REF
                                                                                                                 (.187)
                                                                                               38                              20
    6.60 ±0.10
                                                        2.74 REF
            4.50 REF
                                    SEE NOTE 4                                                                                                           6.40
                                                                                                                                            2.74
                                                           0.315 ±0.05                                                                              REF (.252)
                                                                                                                                          (.108)
                                                                                                                                                         BSC
                                                                  1.05 ±0.10
                                                    0.50 BSC
                       RECOMMENDED SOLDER PAD LAYOUT
                                                                                                1                              19
                                                                                                                                            1.20
                                           4.30 – 4.50*                                                                                    (.047)
                                          (.169 – .177)              0.25                                                                   MAX
                                                                     REF
                                                                          0° – 8°
                                                                                        0.50
                         0.09 – 0.20          0.50 – 0.75                             (.0196)                                    0.05 – 0.15
                       (.0035 – .0079)       (.020 – .030)                              BSC                                     (.002 – .006)
                                                                                                   0.17 – 0.27
                                                                                                                              FE38 (AA) TSSOP REV C 0910
                                                                                                (.0067 – .0106)
                                                                                                      TYP
                NOTE:
                1. CONTROLLING DIMENSION: MILLIMETERS          4. RECOMMENDED MINIMUM PCB METAL SIZE
                2. DIMENSIONS ARE IN MILLIMETERS                  FOR EXPOSED PAD ATTACHMENT
                                         (INCHES)              *DIMENSIONS DO NOT INCLUDE MOLD FLASH. MOLD FLASH
                3. DRAWING NOT TO SCALE                         SHALL NOT EXCEED 0.150mm (.006") PER SIDE
                                                                                                                                                               2874fb
40                                                            For more information www.linear.com/LTC2874


                                                                                                                                            LTC2874
Package Description
Please refer to http://www.linear.com/designtools/packaging/ for the most recent package drawings.
                                                                        UHF Package
                                                        38-Lead Plastic QFN (5mm × 7mm)
                                                      (Reference LTC DWG # 05-08-1701 Rev C)
                                                                                                              0.70 ±0.05
                      5.50 ±0.05
                                                                   5.15 ±0.05
                             4.10 ±0.05
                                     3.00 REF              3.15 ±0.05
                                                                                                                     PACKAGE
                                                                                                                     OUTLINE
                                                                         0.25 ±0.05
                                                                        0.50 BSC
                                                                            5.5 REF
                                                                          6.10 ±0.05
                                                                          7.50 ±0.05
                                                           RECOMMENDED SOLDER PAD LAYOUT
                                                  APPLY SOLDER MASK TO AREAS THAT ARE NOT SOLDERED
                                                                                                                                            PIN 1 NOTCH
                                                                                                                                            R = 0.30 TYP OR
                                                                           0.75 ±0.05                                   3.00 REF            0.35 × 45° CHAMFER
                                       5.00 ±0.10
                                                                                        0.00 – 0.05                                37    38
                                                                                                                                                0.40 ±0.10
                              PIN 1
                              TOP MARK                                                                                                          1
                              (SEE NOTE 6)
                                                                                                                                                2
                                                                                                                5.15 ±0.10
       7.00 ±0.10                                                                       5.50 REF
                                                                                                                       3.15 ±0.10
                                                                                                                                                (UH) QFN REF C 1107
                                                                                        0.200 REF 0.25 ±0.05                      R = 0.125  R = 0.10
                                                                                                  0.50 BSC                        TYP        TYP
                                                                                                             BOTTOM VIEW—EXPOSED PAD
                   NOTE:
                   1. DRAWING CONFORMS TO JEDEC PACKAGE              4. DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE
                      OUTLINE M0-220 VARIATION WHKD                     MOLD FLASH. MOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.20mm ON ANY SIDE
                   2. DRAWING NOT TO SCALE                           5. EXPOSED PAD SHALL BE SOLDER PLATED
                   3. ALL DIMENSIONS ARE IN MILLIMETERS              6. SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION
                                                                        ON THE TOP AND BOTTOM OF PACKAGE
                                                                                                                                                                    2874fb
                                                          For more information www.linear.com/LTC2874                                                             41


LTC2874
Errata
Erratum #1
Description
In auto-retry mode, clearing the event register re-enables
the faulted pin(s) and resets the entry timer, potentially
interfering with duty cycle enforcement.
Work-Arounds
(a) Use latchoff mode. Interrupt service routine must limit
    duty cycle of faulted pin(s) per guidance given in the
    Auto-Retry or Latchoff Fault Response section.
(b) Use auto-retry mode, clearing faults using an interrupt
    service time (TIS) that’s long compared to the retry
    time (TIS > RETRYTC • 1.2).
(c) Use auto-retry mode, clearing faults using an interrupt
    service time that’s short compared to the retry time
    (TIS < RETRYTC • 0.8) while also limiting the maximum
    duty cycle per (a).
                                                                                         2874fb
42                                           For more information www.linear.com/LTC2874


                                                                                                                                                 LTC2874
Revision History
 REV DATE  DESCRIPTION                                                                                                                          PAGE NUMBER
  A  07/14 Lowered MOSFET gate resistor                                                                                                     1, 13, 23, 35, 36, 37, 42
           Increased Input Supply Voltage (Max)                                                                                                          3
           Lowered Input Low Threshold Voltage (Max)                                                                                                     4
           Updated Cable Sense timer delay                                                                                                              22
           Added “Operating Above 30V” Applications section                                                                                             24
           Changed capacitor values on slave port pins                                                                                                  42
  B  05/15 Clarified L+ Supply Current Pulse Operation                                                                                                  21
           Clarified PWRCHNG Event Behavior                                                                                                             21
           Clarified Auto-Retry and Latchoff Mode Operation                                                                                          24, 25
           Added Erratum #1                                                                                                                             41
                                                                                                                                                                    2874fb
                              Information furnished by Linear Technology Corporation is believed to be accurate and reliable.
                              However, no responsibility is assumed for its use. Linear Technology Corporation makes no representa-
                                                       For of
                              tion that the interconnection more    information
                                                              its circuits          www.linear.com/LTC2874
                                                                           as described herein will not infringe on existing patent rights.                    43


LTC2874
Typical Application
                                Complete 24V 3-Wire Power and COM3 Rate Signaling Interface to Sensor or Actuator
                                                        (One of Four Available Master Ports is Shown)
                                                                                             VOUT, IOUT**       53.6k
2.9V TO 5.5V                                                                                    5V, 100mA                                 FBOUT           BD
                                                                                                                                                                       82µH
                                                                                                                10µF     10.2k 0.1µF            LT3669
                     VL
              0.1µF                                                                                                                       CPOR           SW
                           1/4                                                                                                                                          0.1µF
                                                                                                                                 38.3k
                         LTC2874                        24V
                                                                                                                                          RT            BST
         4.7k                                                                                                                                                                  VOUT
                                 VDD                                                                                                                                           OR
                                                                                                                                          ILIM           SR
   *                                       1µF     100µF                                                                                                                       VLDO
                                                                                                                       VOUT               LDOIN        SYNC
                     IRQ
                                                                                                                                          LDO           RST
                     SDI     SENSE+                                                       VLDO, ILDO**         14k
                                                                        20 METERS                                                         FBLDO         SC1
                                                            0.2Ω                           3.3V, 100mA
                     SCK
                                                                                                              1µF      4.42k              AGND          SC2
                     CS     SENSE–1
     µC                                                                                                                                   DIO          WAKE
                     SDO
                                       10Ω                                                                                                EN/UVLO      RXD1              µC
                               GATE1                       Q1
                     RXD1                                                                                                                 L+          TXEN1
                                                            200mA                            100mA
                     TXEN1       L+1                                                                                                      Q2           TXD1
                                                                      1               1
                                                       100mA     4                2          100mA
                     TXD1        CQ1                                5
                                                                        2
                                                                                                                                          CQ1         TXEN2
                                                                 4                      4
                           GND                                     33               3
                                                                                                        4.7µF      470pF       470pF                   TXD2
                                                                                                                                                  GND
  Q1: FQT7N10
  SURGE PROTECTION NOT SHOWN                                      **IOUT(MAX), IS 100mA AND ILDO(MAX) IS 100mA              fW = 600kHz
  *ADDITIONAL BYPASS CAP AS NEEDED                                (REMAINING AVAILABLE IOUT IS: 100mA – ILDO)               tRST = 12.5ms                                2874 TA02
Related Parts
PART NUMBER              DESCRIPTION                                     COMMENTS
LT3669/LT3669-2          Industrial Transceivers with Integrated         Compatible with IO-Link Interface and System Specification, Operates from 7.5V to 40V,
                         Step Down Regulator and LDO                     Integrated 100mA/300mA Buck and 150mA LDO
LTC2854/LTC2855          3.3V 20Mbps RS485 Transceivers with             3.3V Supply, Integrated, Switchable 120Ω Termination Resistor, ±25kV ESD
                         Integrated Switchable Termination
LTC2859/LTC2861          20Mbps RS485 Transceivers with                  5V Supply, Integrated, Switchable 120Ω Termination Resistor, ±15kV ESD
                         Integrated Switchable Termination
LTC2862/LTC2865          ±60V Fault Protected 3V to 5.5V RS485/ 20Mbps, Protected from Overvoltage Line Faults to ±60V, ±15kV ESD
                         RS422 Transceivers
LTC2870/LTC2871/ RS232/RS485 Multiprotocol                               3V to 5.5V Supply, Automatic Selection of Termination Resistors, Duplex Control, Logic
LTC2872                  Transceivers with Integrated Termination Supply Pin, Up to ±26kV ESD
LTM2881                  Complete Isolated RS485/RS422                   3V or 5V Supply, 20Mbps, 2500VRMS Isolation with Integrated DC/DC Converter,
                         μModule® Transceiver + Power                    Integrated Switchable 120Ω Termination Resistor, ±15kV ESD
LTM2882                  Dual Isolated RS232 μModule                     3V or 5V Supply, 1Mbps, 2500VRMS Isolation with Integrated DC/DC Converter,
                         Transceiver + Power                             ±10kV ESD
                                                                                                                                                                              2874fb
44 Linear Technology Corporation
                                                                                                                                                   LT 0515 REV B • PRINTED IN USA
               1630 McCarthy Blvd., Milpitas, CA 95035-7417   For more information www.linear.com/LTC2874
               (408) 432-1900 ● FAX: (408) 434-0507  ●  www.linear.com/LTC2874                                                          LINEAR TECHNOLOGY CORPORATION 2013


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 LTC2874IFE#PBF LTC2874IFE#TRPBF LTC2874IUHF#PBF LTC2874IUHF#TRPBF
