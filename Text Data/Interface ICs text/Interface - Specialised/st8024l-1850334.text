                                                                                                            ST8024L
                                                                                               Smartcard interface
                                                                                                  Datasheet âˆ’ production data
Features
â–    Designed to be compatible with the NDS
    conditional access system (except
    ST8024LTR)
â–    ISO 7816, GSM11.11 and EMV 4.2 (payment                                       SO-28          TSSOP-20          TSSOP-28
    systems) compatible
â–    IC card interface
â–    3 V or 5 V supply for the ST8024L device (VDD)
â–    Three specifically protected half-duplex                             â–    Enhanced ESD protection on card side (>6 kV)
    bi-directional buffered I/O lines to card contacts                   â–    26 MHz integrated crystal oscillator
    C4, C7 and C8
                                                                         â–    Built-in debounce on card presence contacts
â–    Step-up converter for VCC generation
                                                                         â–    One multiplexed status signal OFF
    separately powered by a 5 V Â± 20% supply
    (VDDP and PGND)                                                      â–    Non-inverted control of RST via pin RSTIN
â–    1.8 V Â± 6.5%, 3 V or 5 V Â± 5% regulated card                         â–    Clock generation for cards up to 20 MHz
    supply voltage (VCC) with appropriate                                    (divided by 1, 2, 4 or 8 through CLKDIV1 and
    decoupling has the following capabilities:                               CLKDIV2 signals) with synchronous frequency
    â€“ ICC < 80 mA at VDDP = 4.75 to 6.5 V                                    changes
    â€“ Handles current spikes of 40 nA up                                 â–    Supply supervisor for spike-killing during
          to 20 MHz                                                          power-on and power-off and power-on reset
    â€“ Controls rise and fall times                                           (threshold fixed internally or externally by
                                                                             a resistor divider)
    â€“ Filtered overload detection at ~120 mA
â–    Thermal and short-circuit protection on all card
    contacts
                                                                         Applications
â–    Automatic activation and deactivation                                â–    Smartcard readers for set-top boxes
    sequences; initiated by software or by                               â–    IC card readers for banking
    hardware in the event of a short-circuit, card
                                                                         â–    Identification, pay TV
    take-off, overheating, VDD or VDDP dropout
Table 1.           Device summary
                              PORADJ/               Temperature                                                      Package
     Order code                                                            Package                 Packaging
                           1.8 V function               range                                                       top mark
  ST8024LCDR(1)               PORADJ                 â€“25 to 85 Â°C     SO-28 (tape and reel)    1000 parts per reel  ST8024LC
                     (1)
  ST8024LCTR                  PORADJ                 â€“25 to 85 Â°C   TSSOP-28 (tape and reel) 2500 parts per reel    ST8024LC
 ST8024LACDR(1)                   1.8 V              â€“25 to 85 Â°C     SO-28 (tape and reel)    1000 parts per reel ST8024LAC
     ST8024LTR                    1.8 V              â€“25 to 85 Â°C   TSSOP-20 (tape and reel) 2500 parts per reel     ST8024L
 ST8024LACTR(1)                   1.8 V              â€“25 to 85 Â°C   TSSOP-28 (tape and reel) 2500 parts per reel ST8024LAC
1. Certified by NDS.
May 2012                                                      Doc ID 17709 Rev 5                                            1/35
This is information on a product in full production.                                                                   www.st.com 1


Contents                                                                                                         ST8024L
Contents
1        Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5
2        Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
3        Pin configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
4        Maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
5        Electrical characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
6        Functional description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
         6.1    Power supply . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
         6.2    Voltage supervisor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 18
                6.2.1    Without external divider on pin PORADJ . . . . . . . . . . . . . . . . . . . . . . . . 18
                6.2.2    With an external divider on pin PORADJ . . . . . . . . . . . . . . . . . . . . . . . . 19
                6.2.3    Application examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
         6.3    Clock circuitry (only on SO-28 and TSSOP-28 packages) . . . . . . . . . . . . 20
         6.4    I/O transceivers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
         6.5    Inactive mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
         6.6    Activation sequence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
         6.7    Active mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
         6.8    Deactivation sequence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
         6.9    VCC generator . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
         6.10   Fault detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
         6.11   VCC selection settings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
7        Applications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
8        Package mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
9        Revision history . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
2/35                                    Doc ID 17709 Rev 5


ST8024L                                                                                                                          List of tables
List of tables
Table 1.  Device summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Table 2.  Pin description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
Table 3.  Absolute maximum ratings . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
Table 4.  Thermal data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
Table 5.  Recommended operating conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9
Table 6.  Electrical characteristics over recommended operating condition . . . . . . . . . . . . . . . . . . . 10
Table 7.  Step-up converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
Table 8.  Card supply voltage characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
Table 9.  Crystal connection (pins XTAL1 and XTAL2) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
Table 10. Data lines (pins I/O, I/OUC, AUX1, AUX2, AUX1UC, and AUX2UC) . . . . . . . . . . . . . . . . . 12
Table 11. Data lines to card reader (pins I/O, AUX1, and AUX2 with integrated 11 kÎ©
          pull-up resistor to VCC) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
Table 12. Data lines to microcontroller (pins I/OUC, AUX1UC, and AUX2UC with integrated
          11 kÎ© pull-up resistor to VDD) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
Table 13. Internal oscillator. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
Table 14. Reset output to card reader (pin RST) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
Table 15. Clock output to card reader (pin CLK) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
Table 16. Control inputs (pins CLKDIV1, CLKDIV2, CMDVCC, RSTIN, 5V/3V
          and PORADJ/1.8V). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
Table 17. Card presence inputs (pins PRES and PRES) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
Table 18. Interrupt output (pin OFF NMOS drain with integrated 20 kÎ© pull-up resistor to VDD) . . . . 16
Table 19. Protection and limitation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
Table 20. Timing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16
Table 21. Clock frequency selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
Table 22. Card presence indicator . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
Table 23. VCC selection settings. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
Table 24. SO-28 small outline, package mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Table 25. TSSOP-20 package mechanical data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Table 26. TSSOP-28 package mechanical data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Table 27. SO-28 tape and reel mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
Table 28. TSSOP-20 tape and reel mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
Table 29. TSSOP-28 tape and reel mechanical data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
Table 30. Document revision history . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34
                                                      Doc ID 17709 Rev 5                                                                         3/35


List of figures                                                                                                                       ST8024L
List of figures
Figure 1.    Block diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
Figure 2.    Pin connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
Figure 3.    Definition of output and input transition times . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
Figure 4.    Voltage supervisor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19
Figure 5.    Activation sequence using RSTIN and CMDVCC. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
Figure 6.    Activation sequence at t3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
Figure 7.    Deactivation sequence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
Figure 8.    Behavior of OFF, CMDVCC, PRES, and VCC . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
Figure 9.    Emergency deactivation sequence (card extraction) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26
Figure 10.   Hardware hookup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
Figure 11.   SO-28 small outline, package mechanical drawing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
Figure 12.   TSSOP-20 package mechanical drawing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Figure 13.   TSSOP-28 package mechanical drawing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Figure 14.   SO-28 tape and reel schematic . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
Figure 15.   TSSOP-20 tape and reel schematic . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
Figure 16.   TSSOP-28 tape and reel schematic . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33
4/35                                                Doc ID 17709 Rev 5


ST8024L                                                                               Description
1       Description
        The ST8024L is a complete low-cost analog interface for asynchronous Class A, B, and C
        smartcards. It can be placed between the card and the microcontroller with few external
        components to perform all supply protection and control functions. The ST8024LCDR and
        ST8024LCTR are compatible with the ST8024 (with the exception of Vth(ext)rise/fall value).
                                      Doc ID 17709 Rev 5                                         5/35


Diagram                                                                                                          ST8024L
2                   Diagram
Figure 1.           Block diagram
                                                                  6$$0
                                                                                      0'.$
                          6$$
                               N&                                    N&                N&
                                                                                          #n         #
                                                                                                 
                                        3500,9
    6$$                                                                     34%0 50 #/.6%24%2
                                       ).4%2.!,           6REF
                                      2%&%2%.#%                            ).4%2.!, /3#),,!4/2
                                                                                  -(Z
        2
          
                                   6/,4!'% 3%.3%                                                              650
       0/2!$* 6
                       
                                                        !,!2-                %.     #,+50                              N&
            
        2                                                       0/7%2?/.
          
                                                                                      %.                    6##
          /&&                                                                                              
                                                                                                    6##
                      
        234).                                                                            06##    '%.%2!4/2              N&
                                                                                                          
     #-$6##                                                                                                         #'.$
        66         
                                                                                                           
        6                                                                        %.                           234
                                                                                                    234
                                                                                                  "5&&%2
                              6$$
                                                 (/23%1        3%15%.#%2                %.                
                                                                                                                      #,+
                                                                                                   #,/#+
                                                                                                  "5&&%2
                                       #,/#+
                      
   #,+$)6                         #)2#5)429
                                                                                                           
                                                                                                                     02%3
                                                 #,+
                                                                                                                        
   #,+$)6                                                                                                           02%3
                      
        84!,
                                                                    %.
                                  /3#),,!4/2
              
     84!,                                                                       4(%2-!,
                                                                               02/4%#4)/.
                                    34,
                                                                                              )/          
                    
    !585#                                                                              42!.3#%)6%2                 !58
                                                                                              )/
                                                                                                                    
    !585#                                                                             42!.3#%)6%2                  !58
                                                                                              )/          
                      
      )/5#                                                                            42!.3#%)6%2                   )/
                                      
                                  '.$
                                                                                                                   #36
1. To be used with the PORADJ pin if needed.
2. Not available in the TSSOP-20L package.
3. ST8024LCDR, ST8024LCTR.
4. ST8024LACDR, ST8024LACTR, ST8024LTR.
6/35                                                      Doc ID 17709 Rev 5


ST8024L                                                                                    Pin configuration
3           Pin configuration
Figure 2.   Pin connections
Table 2.    Pin description
                                                                                          SO-28/
  Symbol                                Name and function                                         TSSOP-20
                                                                                         TSSOP-28
          Control of CLK frequency
 CLKDIV1                                                                                     1       N. A.
          (internal 11 kÎ© pull-up resistor connected to VDD)
          Control of CLK frequency
 CLKDIV2                                                                                     2       N. A.
          (internal 11 kÎ© pull-down resistor connected to GND)
          5 V or 3 V VCC selection for communication with the smartcard. Logic high
          selects 5 V operation and logic low selects 3 V operation (for ST8024LACDR,
   5V/3V                                                                                     3        1
          ST8024LACTR, and ST8024LTR: if the 1.8V pin is logic high, the 5V/3V pin is
          a â€œdon't careâ€). See Table 23 for a description of the VCC selection settings.
   PGND   Power ground for step-up converter                                                4         2
    C1+   External capacitor step-up converter                                               5        3
   VDDP   Power supply for step-up converter                                                 6        4
    C1â€“   External capacitor step-up converter                                               7        5
    VUP   Output of step-up converter                                                       8         6
   PRES   Card presence input (active low) - bonding option                                 9        N. A.
   PRES   Card presence input (active high)                                                 10        7
          Data line to and from card (C7)
    I/O                                                                                     11        8
          (internal 11 kÎ© pull-up resistor connected to VCC)
                                               Doc ID 17709 Rev 5                                        7/35


Pin configuration                                                                                 ST8024L
Table 2.    Pin description (continued)
                                                                                         SO-28/
  Symbol                                Name and function                                        TSSOP-20
                                                                                        TSSOP-28
          Auxiliary line to and from card (C8)
   AUX2                                                                                    12      N. A.
          (internal 11 kÎ© pull-up resistor connected to VCC)
   AUX1   Auxiliary line to and from card (C4) (internal 11 kÎ© pull-up resistor to VCC)    13      N. A
   CGND   Ground for card signal (C5)                                                      14        9
    CLK   Clock to card (C3)                                                               15       10
    RST   Card reset (C2)                                                                  16       11
     VCC  Supply voltage for the card (C1)                                                 17       12
 PORADJ Power-on reset threshold adjustment input (ST8024LCDR, ST8024LCTR)                         N. A.
          1.8 V VCC operation selection. Logic high selects 1.8 V operation and            18
    1.8V  overrides any setting on the 5V/3V pin. With an internal 11 kÎ© pull-down                  13
          resistor to GND. (ST8024LACDR, ST8024LACTR and ST8024LTR)
 CMDVCC Start activation sequence input (active low)                                       19       14
   RSTIN  Card reset input from MCU                                                        20       15
     VDD  Supply voltage                                                                   21       16
    GND   Ground                                                                           22       17
    OFF   Interrupt to MCU (active low)                                                    23       18
   XTAL1  Crystal or external clock input                                                  24       19
   XTAL2  Crystal connection (leave this pin open if external clock is used)               25      N.A
   I/OUC  MCU data I/O line (internal 11 kÎ© pull-up resistor connected to VDD)             26       20
 AUX1UC Non-inverting receiver input (internal 11 kÎ© pull-up resistor connected to VDD)    27      N. A.
 AUX2UC Non-inverting receiver input (internal 11 kÎ© pull-up resistor connected to VDD)    28      N. A.
8/35                                           Doc ID 17709 Rev 5


ST8024L                                                                                                 Maximum ratings
4               Maximum ratings
Table 3.        Absolute maximum ratings(1)
   Symbol                                    Parameter                                       Min.         Max.     Unit
 VDD, VDDP Supply voltage                                                                     -0.3          7        V
              Voltage on pins XTAL1, XTAL2, 5V/3V, RSTIN, AUX2UC, AUX1UC,
     Vn1      I/OUC, CLKDIV1, CLKDIV2, PORADJ/1.8V, CMDVCC, PRES,                             -0.3      VDD + 0.3    V
              PRES, and OFF
     Vn2      Voltage on card contact pins I/O, RST, AUX1, AUX2, and CLK                      -0.3      VCC + 0.3    V
     Vn3      Voltage on pins VUP, C1+, and C1â€“                                                             7        V
    ESD1      MIL-STD-883 class 3 on card contact pins, PRES and PRES             (2) (3)
                                                                                     ,         -6           6       kV
    ESD2      MIL-STD-883 class 2 on ÂµC contact pins and RSTIN (2), (3)                        -2           2       kV
   TJ(MAX)    Maximum operating junction temperature                                                       150      Â°C
    TSTG      Storage temperature range                                                       -40          150      Â°C
1. Absolute maximum ratings are those values beyond which damage to the device may occur. Functional operation under
    these conditions is not implied.
2. All card contacts are protected against any short with any other card contact.
3.   Method 3015 (HBM, 1500 Î©, 100 pF) 3 positive pulses and 3 negative pulses on each pin referenced to ground.
Table 4.        Thermal data
                                                                                                      TSSOP-20
   Symbol                        Parameter                           Condition             SO-28                    Unit
                                                                                                      TSSOP-28
               Thermal resistance junction-ambient             Multilayer test board
     RthJA                                                                                   56            50      Â°C/W
               temperature                                      (JEDEC standard)
Table 5.        Recommended operating conditions
   Symbol                        Parameter                       Test conditions          Min.     Typ.      Max.   Unit
      TA       Temperature range                                                          â€“25                 85     Â°C
                                                     Doc ID 17709 Rev 5                                               9/35


Electrical characteristics                                                                                     ST8024L
5               Electrical characteristics
Table 6.        Electrical characteristics over recommended operating condition
  Symbol              Parameter(1)                      Test conditions                      Min.     Typ. Max.   Unit
     VDD       Supply voltage                                                                 2.7          6.5      V
                                          VCC = 5 V; |ICC| < 80 mA                            4.0      5   6.5
                                          VCC = 3 V; |ICC| < 65 mA                            4.0      5   6.5
               Supply voltage for the
    VDDP                                  VCC = 5 V; |ICC| < 20 mA                            3.0          6.5      V
               step-up converter
                                          VCC = 3 V; |ICC| < 20 mA                            2.7          6.5
                                          VCC = 1.8 V; |ICC| < 20 mA                          2.7          6.5
                                          Card inactive                                                    1.2
      IDD      Supply current                                                                                      mA
                                          Card active; fCLK = fXTAL; CL = 30 pF                            1.5
                                          Inactive mode                                                    0.1
                                          Active mode; fCLK = fXTAL; CL = 30 pF;
                                                                                                            10
                                          |ICC| = 0
               Step-up converter supply
     IDDP                                                                                                          mA
               current                    VCC = 5 V; |ICC| = 80 mA                                     50  200
                                          VCC = 3 V; |ICC| = 65 mA                                     50  100
                                          VCC = 1.8 V; |ICC| = 45 mA                                   30   60
               Falling threshold voltage  No external resistors at pin PORADJ;
     Vth2                                                                                    2.35     2.45 2.55     V
               on VDD                     VDD level falling. See Figure 4.
               Hysteresis of threshold    No external resistors at pin PORADJ.
   VHYS2                                                                                      50      100  150     mV
               voltage Vth2               See Figure 4.
               External rising threshold  External resistor divider at pin PORADJ;
  Vth(ext)rise                                                                               1.17     1.20 1.23     V
               voltage at pin PORADJ      VDD level rising. See Section 6.2.2.
               External falling threshold External resistor divider at pin PORADJ;
  Vth(ext)fall                                                                               1.11     1.14 1.17     V
               voltage at pin PORADJ      VDD level falling. See Section 6.2.2.
               Hysteresis of threshold    External resistor divider at pin PORADJ.
  VHYS(ext)                                                                                   30       60   90     mV
               voltage Vth(ext)           See Section 6.2.2.
               Hysteresis of threshold
 Î”VHYS(ext) voltage Vth(ext) variation    External resistor divider at pin PORADJ                          0.25   mV/K
               with temperature
                                          No external resistor divider at pin
               Width of internal power-                                                        4       8    12
       tW                                 PORADJ                                                                   ms
               on reset pulse
                                          External resistor divider at pin PORADJ              8       16   24
               Leakage current on pin     VPORADJ < 0.5 V                                    â€“0.1      4    10
        IL                                                                                                         ÂµA
               PORADJ                     VPORADJ > 1.0 V                                     â€“1             1
    PTOT       Total power dissipation    Continuous operation; TA = â€“25 to 85 Â°C                          0.56    W
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
10/35                                              Doc ID 17709 Rev 5


ST8024L                                                                                        Electrical characteristics
Table 7.       Step-up converter
  Symbol           Parameter(1)                        Test conditions                       Min.     Typ.  Max.    Unit
    fCLK     Clock frequency             Card active                                          2.2            3.2    MHz
             Threshold voltage for       5 V card                                             5.2      5.8   6.2
             step-up converter to
  Vth(vd-vf)                             3 V card                                             3.8      4.1   4.4     V
             change to voltage
             follower                    1.8 V card                                           3.8      4.1   4.4
                                         5 V card                                             5.2      5.7   6.2
             Output voltage on pin
    VUP                                  3 V card                                             3.5      3.9   4.3     V
             VUP (average value)
                                         1.8 V card                                           3.5      3.9   4.3
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
Table 8.       Card supply voltage characteristics
   Symbol           Parameter(1)                       Test conditions                        Min.    Typ.   Max.   Unit
               External capacitance
    CVCC                                See(2)                                                 80            400     nF
               on pin VCC
                                                                         5 V, 3 V and
                                        Card inactive; |ICC| = 0 mA                           -0.1      0    0.1
                                                                         1.8 V card
                                                                         5 V, 3 V and
                                        Card inactive; |ICC| = 1 mA                           -0.1      0    0.3
                                                                         1.8 V card
                                        Card active; |ICC| < 80 mA       5 V card             4.75      5    5.25
                                        Card active; |ICC| < 65 mA       3 V card             2.85      3    3.15
                                        Card active; |ICC| < 45 mA       1.8 V card           1.68     1.8   1.92
                                        Card active; single current
                                                                         5 V card             4.65      5    5.25
                                        pulse IP = â€“100 mA; tp = 2 Âµs
               Card supply voltage
     VCC       (including ripple        Card active; single current                                                  V
                                                                         3 V card             2.76      3    3.20
               voltage)                 pulse IP = â€“100 mA; tp = 2 Âµs
                                        Card active; single current
                                                                         1.8 V card           1.62     1.8   1.98
                                        pulse IP = â€“100 mA; tp = 2 Âµs
                                                                         5 V card             4.65      5    5.25
                                        Card active; current pulses,
                                                                         3 V card             2.76      3    3.20
                                        QP = 40 nAs
                                                                         1.8 V card           1.62     1.8   1.98
                                                                         5 V card             4.65      5    5.25
                                        Card active; current pulses
                                        QP = 40 nAs with                 3 V card             2.76      3    3.20
                                        |ICC| < 200 mA, tp < 400 ns
                                                                         1.8 V card           1.62     1.8   1.98
     VCC       Ripple voltage on
   (RIPPLE)    VCC (peak-to-peak        fRIPPLE = 20 kHz to 200 MHz                                          350    mV
     (P-P)     value)
                                                   Doc ID 17709 Rev 5                                               11/35


Electrical characteristics                                                                                                   ST8024L
Table 8.          Card supply voltage characteristics (continued)
   Symbol              Parameter(1)                             Test conditions                     Min.      Typ.       Max.     Unit
                                              VCC = 0 to 5 V                                                              80
                                              VCC = 0 to 3 V                                                              65
      |ICC|       Card supply current                                                                                             mA
                                              VCC = 0 to 1.8 V                                                            45
                                              VCC short-circuit to GND                               90                  120
                                              Slew up or down, VCC = 5 V; 3 V; 1.8 V;
       SR         Slew rate                                                                         0.08      0.15       0.22     V/Âµs
                                              |ICC| < 30 mA
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C. (All parameters remain
    within limits but are tested only statistically for the temperature range. When a parameter is specified as a function of VDD or
    VCC it means their actual value at the moment of measurement.)
2. To meet these specifications, pin VCC should be decoupled to CGND using two 100 nF ceramic multilayer capacitors of
    max. 350 mÎ© ESR. If VCC slew rate is not critical, the capacitance value can be up to 400 nF. (See Figure 10).
Table 9.          Crystal connection (pins XTAL1 and XTAL2)
   Symbol              Parameter(1)                              Test conditions                     Min.      Typ.      Max.     Unit
                  External capacitance
   CXTAL1,2       on pins XTAL1,               Depends on type of crystal or resonator used                       -       15       pF
                  XTAL2
      fXTAL       Crystal frequency                                                                    2          -       26      MHz
                  Frequency applied on
     fXTAL1                                                                                            0          -       26      MHz
                  pin XTAL1
                  High level input                                                                    0.7                VDD
       VIH                                                                                                        -                 V
                  voltage on pin XTAL1                                                               VDD                 +0.3
                  Low level input                                                                                        +0.3
       VIL                                                                                            -0.3        -                 V
                  voltage on pin XTAL1                                                                                   VDD
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
Table 10.         Data lines (pins I/O, I/OUC, AUX1, AUX2, AUX1UC, and AUX2UC)
   Symbol              Parameter(1)                              Test conditions                     Min.      Typ.      Max.     Unit
                  I/O to I/OUC, I/OUC
 tD(I/O-I/OUC),
                  to I/O falling edge                                                                   -         -       200      ns
 tD(I/OUC-I/O)
                  delay
                  Active pull-up pulse
       tPU                                                                                              -         -       100      ns
                  width
                  Maximum frequency
   fI/O(MAX)                                                                                            -         -        1      MHz
                  on data lines
                  Input capacitance on
        CI                                                                                              -         -        10      pF
                  data lines
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
12/35                                                        Doc ID 17709 Rev 5


ST8024L                                                                                       Electrical characteristics
Table 11.       Data lines to card reader (pins I/O, AUX1, and AUX2 with integrated 11 kÎ© pull-up
                resistor to VCC)
  Symbol             Parameter(1)                   Test conditions                   Min.       Typ.     Max.    Unit
                                                             No load                    0                 0.1
 VO(inactive) Output voltage              Inactive mode                                                            V
                                                             IO(inactive) = 1 mA                          0.3
 IO(inactive) Output current              Inactive mode; pin grounded                                      -1     mA
                                          No DC load                                0.9 VCC            VCC +0.1
                                          5 V and 3 V cards; IOH < â€“40 ÂµA          0.75 VCC            VCC +0.1
    VOH       High level output voltage                                                                            V
                                          1.8 V card IOH < â€“40 ÂµA                  0.75 VCC
                                          |IOH| â‰¥ 10 mA                                 0                 0.4
                                          IOL = 1 mA                                    0                 0.2
     VOL      Low level output voltage                                                                             V
                                          IOL â‰¥ 15 mA                              VCCâ€“0.4                VCC
                                          5 V and 3 V cards                           1.5              VCC +0.3
     VIH      High level input voltage                                                                             V
                                          1.8 V card                                0.6 VCC
                                          5 V and 3 V cards                           0.3                 1.0
     VIL      Low level input voltage                                                                              V
                                          1.8 V card                                    0                 0.2
              High level input leakage
    |ILIH|                                VIH = VCC                                                        10      ÂµA
              current
     |IIL|    Low level input current     VIL = 0 V                                                       600      ÂµA
    RPU       Integrated pull-up resistor Pull-up resistor to VCC                       9         11       13      kÎ©
    tT(DI)    Data input transition time  VIL max. to VIH min.                                            1.2      Âµs
              Data output transition      VO = 0 to VCC; CL â‰¤ 80 pF; 10% to
   tT(DO)                                                                                                 0.1      Âµs
              time                        90%
              Current when pull-up
     IPU                                  VOH = 0.9 VCC; CL = 80 pF                    -2                         mA
              active
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
                                                   Doc ID 17709 Rev 5                                              13/35


Electrical characteristics                                                                                       ST8024L
Table 12.        Data lines to microcontroller (pins I/OUC, AUX1UC, and AUX2UC with integrated
                 11 kÎ© pull-up resistor to VDD)
  Symbol                Parameter(1)                     Test conditions              Min.       Typ.    Max.      Unit
                                              5 V, 3 V and 1.8 V cards;
                                                                                   0.75 VDD             VDD +0.1
     VOH       High level output voltage      IOH < â€“40 ÂµA                                                          V
                                              No DC load                            0.9 VDD             VDD +0.1
      VOL      Low level output voltage       IOL = 1 mA                                0                  0.3      V
      VIH      High level input voltage                                             0.7 VDD             VDD +0.3    V
      VIL      Low level input voltage                                                -0.3              0.3 VDD     V
               High level input leakage
     |ILIH|                                   VIH = VDD                                                    10       ÂµA
               current
      |IL|     Low level input current        VIL = 0 V                                                   600       ÂµA
               Internal pull-up resistance to
     RPU                                      Pull-up resistor to VDD                   9          11      13       kÎ©
               VDD
     tT(DI)    Data input transition time     VIL max. to VIH min.                                         1.2      Âµs
                                              VO = 0 to VDD; C L < 30 pF;
    tT(DO)     Data output transition time                                                                 0.1      Âµs
                                              10% to 90%
      IPU      Current when pull-up active    VOH = 0.9 VDD; CL = 30 pF                -1                           mA
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
Table 13.        Internal oscillator
  Symbol                 Parameter(1)                     Test conditions             Min.       Typ.    Max.      Unit
                Frequency of internal          Inactive mode                           55         140     200      kHz
  fOSC(INT)
                oscillator                     Active mode                             2.2        2.7     3.2      MHz
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted.Typical values are at TA = 25 Â°C.
Table 14.        Reset output to card reader (pin RST)
   Symbol                Parameter(1)                     Test conditions               Min.       Typ.     Max.     Unit
                 Output voltage in inactive    IO(inactive) = 1 mA                        0           -      0.3
  VO(inactive)                                                                                                        V
                 mode                          No load                                    0           -      0.1
  IO(inactive)   Output current                Inactive mode; pin grounded                0           -      -1      mA
   tD(RSTIN-
                 RSTIN to RST delay            RST enable                                             -       2       Âµs
       RST)
                                               IOL = 200 ÂµA                               0           -      0.2
       VOL       Low level output voltage                                                                             V
                                               IOL = 20 mA (current limit)           VCC -0.4         -     VCC
                                               IOH = â€“200 ÂµA                          0.9 VCC         -     VCC
       VOH       High level output voltage                                                                            V
                                               IOH = â€“20 mA (current limit)               0           -      0.4
      tR, tF     Rise and fall time            CL = 100 pF                                            -      0.1      Âµs
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
14/35                                                Doc ID 17709 Rev 5


ST8024L                                                                                        Electrical characteristics
Table 15.       Clock output to card reader (pin CLK)
   Symbol              Parameter(1)                         Test conditions              Min.      Typ.     Max.   Unit
               Output voltage in inactive         IO(inactive) = 1 mA                      0          -      0.3
 VO(inactive)                                                                                                        V
               mode                               No load                                  0          -      0.1
                                                  CLK inactive mode;
  IO(inactive) Output current                                                              0          -      â€“1     mA
                                                  pin grounded
                                                  IOL = 200 ÂµA                             0          -      0.3
      VOL      Low level output voltage                                                                              V
                                                  IOL = 70 mA (current limit)          VCC -0.4       -     VCC
                                                  IOH = â€“200 ÂµA                        0.9 VCC        -     VCC
     VOH       High level output voltage                                                                             V
                                                  IOH = â€“70 mA (current limit)             0          -      0.4
     tR, tF    Rise and fall time                 CL = 30 pF(2)                                       -      16     ns
        Î´      Duty factor (except for fXTAL) CL = 30 pF(2)                               45          -      55      %
       SR      Slew rate                          Slew up or down; CL = 30 pF             0.2         -            V/ns
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
2. Transition time and duty factor definitions are shown in Figure 3; d = t1/(t1+ t2).
Table 16.       Control inputs (pins CLKDIV1, CLKDIV2, CMDVCC, RSTIN, 5V/3V and PORADJ/1.8V)
   Symbol              Parameter(1)                         Test conditions              Min.      Typ.    Max.     Unit
       VIL     Low level input voltage                                                   â€“0.3             0.3 VDD    V
       VIH     High level input voltage                                                0.7 VDD              VDD      V
                                                  VIH = VDD                                                   1     ÂµA
               High level input leakage           VIH = VDD, 1.8V and CLKDIV2
     |ILIH|
               current                            pins with internal 11 kÎ© pull-                            800     ÂµA
                                                  down resistor
                                                  VIL = 0                                 -1                        ÂµA
               Low level input leakage
      |ILIL|                                      VIL = 0, CLKDIV1 pin with
               current                                                                   -800                       ÂµA
                                                  internal 11 kÎ© pull-up resistor
               Internal pull-down resistor to Pull-down resistor to GND (1.8V
      RPD                                                                                  9        11       13      kÎ©
               GND                                and CLKDIV2 pins)
               Internal pull-up resistor to       Pull-up resistor to VDD
      RPU                                                                                  9        11       13      kÎ©
               VDD                                (CLKDIV1 pin)
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
    Pin CMDVCC is active low; pin RSTIN is active high; for CLKDIV1 and CLKDIV2 functions (see Table 21).
                                                       Doc ID 17709 Rev 5                                           15/35


Electrical characteristics                                                                                             ST8024L
Table 17.       Card presence inputs (pins PRES and PRES)
  Symbol                 Parameter(1)                      Test conditions                  Min.      Typ.       Max.       Unit
        VIL    Low level input voltage                                                      -0.3        -      0.3 VDD       V
       VIH     High level input voltage                                                   0.7 VDD       -     VDD +0.3       V
               High level input leakage
      |ILIH|                                      VIH = VDD                                             -          5         ÂµA
               current
               Low level input leakage
      |ILIL|                                      VIL = 0                                               -          5         ÂµA
               current
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C
     Pin PRES is active low; pin PRES is active high, see Figure 8 and Figure 9; PRES has an integrated 1.25 ÂµA current source
     to GND. (PRES to VDD); the card is considered present if at least one of the inputs PRES or PRES is active.
Table 18.       Interrupt output (pin OFF NMOS drain with integrated 20 kÎ© pull-up resistor to VDD)
  Symbol                 Parameter(1)                       Test conditions                 Min.      Typ.       Max.       Unit
      VOL      Low level output voltage            IOL = 2 mA                                 0                    0.3        V
      VOH      High level output voltage           IOH = â€“15 ÂµA                           0.75 VDD                            V
      RPU      Integrated pull-up resistor         20 kÎ© pull-up resistor to VDD             16        20          24        kÎ©
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
Table 19.       Protection and limitation
  Symbol                          Parameter(1)                      Test conditions         Min.     Typ.       Max.       Unit
  |ICC(SD)|    Shutdown and limitation current pin VCC                                       90                  120        mA
    II/O(lim)  Limitation current pins I/O, AUX1 and AUX2                                   â€“15                   15        mA
   ICLK(lim)   Limitation current pin CLK                                                   â€“70                   70        mA
  IRST(lim)    Limitation current pin RST                                                   â€“20                   20        mA
       TSD     Shutdown temperature                                                                   150                   Â°C
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
Table 20.       Timing
  Symbol                          Parameter(1)                       Test conditions         Min.     Typ.      Max.       Unit
                                                                    For VCC = 5 V
       tACT     Activation time                                                               50                 220        Âµs
                                                                    (See Figure 5)
        tDE     Deactivation time                                   (See Figure 7)            50       80        100        Âµs
         t3     Start of the window for sending CLK to card (See Figure 6)                                       130        Âµs
         t5     End of the window for sending CLK to card           (See Figure 6)           140                            Âµs
  tdebounce     Debounce time pins PRES and PRES                    (See Figure 8)            5         8         11        ms
1. VDD = 3.3 V, VDDP = 5 V, fXTAL = 10 MHz, unless otherwise noted. Typical values are at TA = 25 Â°C.
16/35                                                  Doc ID 17709 Rev 5


ST8024L                                                   Electrical characteristics
Figure 3. Definition of output and input transition times
                                                                             CS13450
                                      Doc ID 17709 Rev 5                       17/35


Functional description                                                                             ST8024L
6           Functional description
            Throughout this document it is assumed that the reader is familiar with ISO7816
            terminology.
6.1         Power supply
            The supply pins for the ST8024L are VDD and GND. VDD should be in the range of 2.7 to
            6.5 V. All signals interfacing with the system controller are referred to VDD, therefore VDD
            should also supply the system controller. All card reader contacts remain inactive during
            power-on or power-off.
            The internal circuits are kept in the reset state until VDD reaches Vth2 +VHYS2 and for the
            duration of the internal power-on reset pulse, tW (see Figure 4). When VDD falls below Vth2,
            an automatic deactivation of the contacts is performed.
            A step-up converter is incorporated to generate the 1.8 V (for those devices with the
            1.8V pin), 3 V, or 5 V card supply voltage (VCC). The step-up converter should be supplied
            separately by VDDP and PGND. Due to the possibility of large transient currents, the two
            100 nF capacitors of the step-up converter should be located as near as possible to the
            ST8024L and have an ESR less than 350 mÎ© .
            During power-up, the VDD supply voltage must be applied prior to the VDDP supply voltage
            or at the same time
            After powering the device, OFF remains low until CMDVCC is set high.
            During power-off, OFF falls low when VDD is below the falling threshold voltage.
6.2         Voltage supervisor
6.2.1       Without external divider on pin PORADJ
            The voltage supervisor surveys the VDD supply. A defined reset pulse of approximately 8 ms
            (tW) is used internally to keep the ST8024L inactive during power-on or power-off of the VDD
            supply (see Figure 4).
            As long as VDD is less than Vth2 + VHYS2, the ST8024L remains inactive regardless of the
            levels on the command lines. This state also lasts for the duration of tW after VDD has
            reached a level higher than Vth2 + VHYS2. When VDD falls below Vth2, a deactivation
            sequence of the contacts is performed.
18/35                                        Doc ID 17709 Rev 5


ST8024L                                                                         Functional description
        Figure 4.      Voltage supervisor
6.2.2   With an external divider on pin PORADJ
        In this case, a resistor divider is connected to the PORADJ pin (see Figure 1). Vth(ext) rise
        and Vth(ext) fall are the external rising threshold voltage and the external falling threshold
        voltages on pin PORADJ that switch the device on and off. By knowing these values and
        using the formula:
                              VDD UVLO threshold (falling) = (R1+R2)/R2 x Vth(ext)fall
                              VDD UVLO threshold (rising) = (R1+R2)/R2 x Vth(ext)rise
        it is possible to set R 1 and R2 in order to get suitable values for VDD undervoltage (UVLO)
        thresholds, in order to turn the device on and off (R 1 + R 2 = 100 kÎ© typ.).
        In particular, R1 and R2 must be set so that, when VDD is getting low, before turning the
        microcontroller off, the smartcard must also be switched off properly. The same is true for
        the microcontroller startup - in such case the smartcard must be turned on after the
        microcontroller. The reset pulse width tW is doubled to approximately 16 ms.
        Input PORADJ is biased internally with a pull-down current source of 4 ÂµA which is removed
        when the voltage on pin PORADJ exceeds 1 V.
        This ensures that after detection of the external divider by the ST8024L during power-on,
        the input current on pin PORADJ does not cause inaccuracy of the divider voltage.
Note:   The Vth(ext) threshold of the ST8024L is slightly lower (by 80 mV typ.) than it was in the case
        of the ST8024 device. If, for example, the microcontroller is shut down at 2.5 V, the
        appropriate external resistor values must be chosen to ensure proper deactivation of the
        ST8024L device.
6.2.3   Application examples
        The voltage supervisor is used as power-on reset and as supply dropout detection during
        a card session. Supply dropout detection is to ensure that a proper deactivation sequence is
        followed before the voltage is too low. For the internal voltage supervisor to function, the
        system microcontroller should operate down to 2.35 V to ensure a proper deactivation
        sequence. If this is not possible, external resistor values can be chosen to overcome the
        problem.
                                          Doc ID 17709 Rev 5                                         19/35


Functional description                                                                                          ST8024L
6.3         Clock circuitry (only on SO-28 and TSSOP-28 packages)
            The card clock signal (CLK) is derived from a clock signal input to pin XTAL1 or from
            a crystal operating at up to 26 MHz connected between pins XTAL1 and XTAL2.
            The clock frequency can be fXTAL, 1/2 x fXTAL, 1/4 x fXTAL, or 1/8 x fXTAL. Frequency selection
            is made via inputs CLKDIV1 and CLKDIV2 (see Table 21).
            Table 21.      Clock frequency selection(1)
                         CLKDIV1                            CLKDIV2                                   fCLK
                              0                                  0                                   fXTAL/8
                              0                                  1                                   fXTAL/4
                              1                                  1                                   fXTAL/2
                              1                                  0                                    fXTAL
            1. The status of pins CLKDIV1 and CLKDIV2 must not be changed simultaneously; a delay of 10 ns minimum
                 between changes is needed. The minimum duration of any state of CLK is eight periods of XTAL1.
            The frequency change is synchronous, which means that during transition no pulse is
            shorter than 45% of the smallest period, and that the first and last clock pulses regarding the
            instant of change have the correct width.
            When changing the frequency dynamically, the change is effective for only eight periods of
            XTAL1 after the command. The duty factor of fXTAL depends on the signal present at pin
            XTAL1. In order to reach a 45 to 55% duty factor on pin CLK, the input signal on pin XTAL1
            should have a duty factor of 48 to 52% and transition times of less than 5% of the input
            signal period.
            If a crystal is used, the duty factor on pin CLK may be 45 to 55% depending on the circuit
            layout and on the crystal characteristics and frequency. In other cases, the duty factor on pin
            CLK is guaranteed between 45 and 55% of the clock period.
            The crystal oscillator runs as soon as the ST8024L is powered up. If the crystal oscillator is
            used, or if the clock pulse on pin XTAL1 is permanent, the clock pulse is applied to the card
            as shown in the activation sequences in Figure 5 and Figure 6.
            If the signal applied to XTAL1 is controlled by the system microcontroller, the clock pulse is
            applied to the card when it is sent by the system microcontroller (after completion of the
            activation sequence).
20/35                                           Doc ID 17709 Rev 5


ST8024L                                                                          Functional description
6.4     I/O transceivers
        The three data lines I/O, AUX1, and AUX2 are identical. The idle state is realized by both I/O
        and I/OUC lines being pulled high via an 11 kÎ© resistor (I/O to VCC and I/OUC to VDD). Pin
        I/O is referenced to VCC, and pin I/OUC to VDD, therefore allowing operation when VCC is not
        equal to VDD. The first side of the transceiver to receive a falling edge becomes the master.
        An anti-latch circuit disables the detection of falling edges on the line of the other side, which
        then becomes a slave. After a time delay td(edge), an N transistor on the slave side is turned
        on, therefore transmitting the logic 0 present on the master side. When the master side
        returns to logic 1, a P transistor on the slave side is turned on during the time delay tPU and
        then both sides return to their idle states. This active pull-up feature ensures fast low to high
        transitions; it is able to deliver more than 1 mA, at an output voltage of up to 0.9 VCC, into an
        80 pF load. At the end of the active pull-up pulse, the output voltage depends only on the
        internal pull-up resistor and the load current. The current to and from the card I/O lines is
        limited internally to 15 mA and the maximum frequency on these lines is 1 MHz.
6.5     Inactive mode
        After a power-on reset, the circuit enters inactive mode. A minimum number of circuits are
        active while waiting for the microcontroller to start a session:
             â€“ All card contacts are inactive (approximately 200 Î© to GND)
             â€“ Pins I/OUC, AUX1UC, and AUX2UC are in the high impedance state (11 kÎ© pull-up
                resistor to VDD). Applies only to SO-28 and TSSOP-28 packages.
             â€“ Voltage generators are stopped
             â€“ XTAL oscillator is running
             â€“ Voltage supervisor is active
             â€“ The internal oscillator is running at its low frequency.
6.6     Activation sequence
        After power-on and after the internal pulse width delay, the system microcontroller can
        check the presence of a card using the signals OFF and CMDVCC, as shown in Table 22.
        If the card is in the reader (this is the case if PRES or PRES is active), the system
        microcontroller can start a card session by pulling CMDVCC low. The following sequence
        then occurs (see Figure 6):
              1. CMDVCC is pulled low and the internal oscillator changes to its high frequency (t0).
              2. The step-up converter is started (between t0 and t1).
              3. VCC rises from 0 to 5 V (or 1.8 V, 3 V) with a controlled slope (t2 = t1 + 1.5 x T) where
              T is 64 times the period of the internal oscillator (approximately 25 Âµs).
              4. I/O, AUX1, and AUX2 are enabled (t3 = t1 + 4T) (these were pulled low until this
              moment).
              5. CLK is applied to the C3 contact of the card reader (t4).
              6. RST is enabled (t5 = t1 + 7T).
                                           Doc ID 17709 Rev 5                                         21/35


Functional description                                                                              ST8024L
            The clock may be applied to the card using the following sequence (see Figure 5):
                   1. Set RSTIN high.
                   2. Set CMDVCC low.
                   3. Reset RSTIN low between t3 and t5; CLK starts at this moment.
                   4. RST remains low until t5, when RST is enabled to be the copy of RSTIN.
                   5. After t5, RSTIN has no further affect on CLK; this allows a precise count of CLK
                   pulses before toggling RST.
            If the applied clock is not needed, then CMDVCC may be set low with RSTIN low. In this
            case, CLK starts at t3 (minimum 200 ns after the transition on I/O), and after t5, RSTIN may
            be set high in order to obtain an â€œanswer to requestâ€ (ATR) from the card.
            Activation should not be performed with RSTIN held permanently high.
Note:       It is recommended that no control smartcard signals are to be shared with any other
            devices. Sharing may result in inadvertent activation or deactivation of the smartcard.
Table 22.   Card presence indicator
                OFF                               CMDVCC                              Indication
                  H                                   H                              Card present
                  L                                   H                            Card not present
Figure 5.   Activation sequence using RSTIN and CMDVCC
22/35                                        Doc ID 17709 Rev 5


ST8024L                                                                         Functional description
Figure 6. Activation sequence at t3
6.7       Active mode
          When the activation sequence is completed, the ST8024L is in its active mode. Data are
          exchanged between the card and the microcontroller via the I/O lines.
          The ST8024L is designed for cards without VPP (the voltage required to program or erase
          the internal non-volatile memory).
6.8       Deactivation sequence
          When a session is completed, the microcontroller sets the CMDVCC line HIGH. The circuit
          then executes an automatic deactivation sequence by counting the sequencer back and
          finishing in the inactive mode (see Figure 7):
          1.    RST goes low (t10).
          2.    CLK is held low (t12 = t10 + 0.5 x T) where T is 64 times the period of the internal
                oscillator (approximately 25 Âµs).
          3.    I/O, AUX1, and AUX2 are pulled low (t13 = t10 + T).
          4.    VCC starts to fall towards zero (t14 = t10 + 1.5 x T).
          5.    The deactivation sequence is complete at tDE, when VCC reaches its inactive state.
          6.    All card contacts become low impedance to GND; I/OUC, AUX1UC, and AUX2UC
                remain at VDD (pulled-up via an 11 kÎ© resistor).
          7.    The internal oscillator returns to its lower frequency.
                                           Doc ID 17709 Rev 5                                        23/35


Functional description                                                                          ST8024L
Figure 7.   Deactivation sequence
6.9         VCC generator
            The VCC generator has a capacity to supply up to 80 mA (max.) continuously at 5 V,
            65 mA (max.) at 3 V, and 45 mA (max.) at 1.8 V. An internal overload detector operates at
            approximately 120 mA. Current samples to the detector are internally filtered, allowing
            spurious current pulses up to 200 mA with a duration in the order of Âµs to be drawn by the
            card without causing deactivation. The average current must stay below the specified
            maximum current value. For reasons of VCC voltage accuracy, a 100 nF capacitor with an
            ESR < 350 mÎ© should be tied to CGND near to pin VCC, and a 100 nF capacitor with the
            same ESR should be tied to CGND near card reader contact C1.
24/35                                     Doc ID 17709 Rev 5


ST8024L                                                                          Functional description
6.10    Fault detection
        The following fault conditions are monitored:
        â—     Short-circuit or high current on VCC
        â—     Removal of a card during a transaction
        â—     VDD dropping
        â—     Step-up converter operating out of the specified values (VDDP too low or current from
              VUP too high)
        â—     Overheating
        â—     There are two different cases (see Figure 8):
              â€“     CMDVCC high outside a card session. Output OFF is low if a card is not in the
                    card reader, and high if a card is in the reader. A voltage drop on the VDD supply is
                    detected by the supply supervisor, this generates an internal power-on reset pulse
                    but does not act upon OFF. No short-circuit or overheating is detected because the
                    card is not powered-up.
              â€“     CMDVCC low within a card session. Output OFF goes low when a fault condition
                    is detected. As soon as this occurs, an emergency deactivation is performed
                    automatically (see Figure 9). When the system controller resets CMDVCC to high,
                    it may sense the OFF level again after completing the deactivation sequence. This
                    distinguishes between a hardware problem or a card extraction (OFF goes high
                    again if a card is present).
        Depending on the type of card-present switch within the connector (normally closed or
        normally open) and on the mechanical characteristics of the switch, bouncing may occur on
        the PRES signals at card insertion or withdrawal.
        There is a debounce feature in the device with an 8 ms typical duration (see Figure 8).
        When a card is inserted, output OFF goes high only at the end of the debounce time.
        When the card is extracted, an automatic deactivation sequence of the card is performed on
        the first true/false transition on PRES or PRES and output OFF goes low.
        Figure 8.       Behavior of OFF, CMDVCC, PRES, and VCC
                                          Doc ID 17709 Rev 5                                       25/35


Functional description                                                                           ST8024L
            Figure 9.      Emergency deactivation sequence (card extraction)
6.11        VCC selection settings
            The ST8024L supports three smartcard VCC voltages: 1.8 V, 3 V, and 5 V. The VCC selection
            is controlled by the 1.8V and 5V/3V signals as shown in Table 23. The 1.8V signal has
            priority over the 5V/3V. When the 1.8 V pin is taken high, VCC is 1.8 V and it overrides any
            setting on the 5V/3V pin.
            When the 1.8V pin is taken low, the 5V/3V pin selects the 5 V or 3 V VCC. If the 5V/3V pin is
            taken high, then VCC is 5 V, and if the 5V/3V pin is taken low then VCC is 3 V.
            Table 23.      VCC selection settings
                    5V/3V pin              1.8V pin                          VCC output
                        0                      0                                 3V
                        1                      0                                 5V
                        x                      1                                1.8 V
26/35                                      Doc ID 17709 Rev 5


ST8024L                                                                                                            Applications
7               Applications
Figure 10. Hardware hookup
1. These capacitors must be < 350 mÎ© ESR and be placed near the IC (within 10 mm).
2. ST8024L and the microcontroller must use the same VDD supply.
3. Make short, straight connections between CGND, C5, and the ground connection to the capacitor.
4. Mount one ESR-type (< 350 mÎ©) 100 nF capacitor close to pin VCC.
5. Mount one ESR-type (< 350 mÎ©) 100 nF capacitor close to C1 contact.
6. The connection to C3 should be routed as far as possible from C2, C7, C4, and C8 and, if possible, surrounded by
   grounded tracks.
7. This is the optional resistor divider for changing the threshold of VDD when using the PORADJ function. If this divider is not
   required, pin 18 should be connected to ground.
                                                        Doc ID 17709 Rev 5                                                     27/35


Package mechanical data                                                                       ST8024L
8         Package mechanical data
          In order to meet environmental requirements, ST offers these devices in different grades of
          ECOPACKÂ® packages, depending on their level of environmental compliance. ECOPACK
          specifications, grade definitions and product status are available at: www.st.com. ECOPACK
          is an ST trademark.
          Figure 11. SO-28 small outline, package mechanical drawing
                                                                                              0016572_F
          Table 24.    SO-28 small outline, package mechanical data
                                                          Dimensions
             Symbol                       mm.                                     inches
                            Min.           Typ.         Max.           Min.         Typ.       Max.
                A                                       2.65                                   0.104
               a1            0.1                         0.3           0.004                   0.012
                b           0.35                        0.49           0.014                   0.019
               b1           0.23                        0.32           0.009                   0.012
                C                           0.5                                    0.020
               c1                                           45Â° (typ.)
                D           17.70                       18.10          0.697                   0.713
                E           10.00                       10.65          0.393                   0.419
                e                          1.27                                    0.050
               e3                         16.51                                    0.650
                F           7.40                        7.60           0.291                   0.300
                L           0.50                        1.27           0.020                   0.050
                S                                           8Â° (max.)
28/35                                     Doc ID 17709 Rev 5


ST8024L                                                                  Package mechanical data
        Figure 12. TSSOP-20 package mechanical drawing
                          A     A2
                                                                       K    L
                                   A1 b         e
                                                                 c                 E
                                                   D
                                                                      E1
                 PIN 1 IDENTIFICATION
                                      1
                                                                                         0087225_D
        Table 25.     TSSOP-20 package mechanical data
                                                          Dimensions
           Symbol                         mm.                                 inches
                            Min.          Typ.         Max.        Min.         Typ.    Max.
             A                                          1.2                             0.047
             A1              0.05                      0.15        0.002                0.006
             A2              0.8             1         1.05        0.031       0.039    0.041
             b               0.19                      0.30        0.007                0.012
              c              0.09                      0.20        0.004               0.0079
             D               6.4            6.5         6.6        0.252       0.256    0.260
             E               6.2            6.4         6.6        0.244       0.252    0.260
             E1              4.3            4.4        4.48        0.169       0.173    0.176
             e                          0.65 BSC                           0.0256 BSC
             K                0Â°                        8Â°           0Â°                   8Â°
             L               0.45          0.60        0.75        0.018       0.024    0.030
                                          Doc ID 17709 Rev 5                                 29/35


Package mechanical data                                                     ST8024L
          Figure 13. TSSOP-28 package mechanical drawing
                                                                               0128292_D
          Table 26.  TSSOP-28 package mechanical data
                                                   Dimensions
             Symbol                mm.                              inches
                        Min.       Typ.         Max.        Min.      Typ.   Max.
               A                                 1.2                         0.047
               A1       0.05                    0.15       0.002             0.006
               A2        0.8          1         1.05       0.031     0.039   0.041
               b        0.19                    0.30       0.007             0.012
                c       0.09                    0.20       0.004            0.0079
               D         9.6         9.7         9.8       0.378     0.382   0.386
               E         6.2         6.4         6.6       0.244     0.252   0.260
               E1        4.3         4.4        4.48       0.169     0.173   0.176
               e                 0.65 BSC                        0.0256 BSC
               K         0Â°                      8Â°          0Â°                8Â°
               L        0.45        0.60        0.75       0.018     0.024   0.030
30/35                              Doc ID 17709 Rev 5


ST8024L                                                                  Package mechanical data
        Figure 14. SO-28 tape and reel schematic
          Note: Drawing is not to scale.
        Table 27.           SO-28 tape and reel mechanical data
                                                           Dimensions
           Symbol                           mm.                             inches
                                    Min.    Typ.        Max.        Min.      Typ.      Max.
                A                                        330                           12.992
                C                   12.8                13.2       0.504                0.519
                D                   20.2                           0.795
                N                    60                            2.362
                T                                       30.4                            1.197
               AO                   10.8                11.0       0.425                0.433
               BO                   18.2                18.4       0.716                0.724
               KO                    2.9                 3.1       0.114                0.122
               PO                    3.9                 4.1       0.153                0.161
                P                   11.9                12.1       0.468                0.476
                                           Doc ID 17709 Rev 5                               31/35


Package mechanical data                                                           ST8024L
          Figure 15. TSSOP-20 tape and reel schematic
            Note: Drawing is not to scale.
          Table 28.           TSSOP-20 tape and reel mechanical data
                                                             Dimensions
             Symbol                          mm.                           inches
                                      Min.   Typ.        Max.         Min.   Typ.  Max.
                  A                                       330                     12.992
                  C                   12.8               13.2        0.504         0.519
                  D                   20.2                           0.795
                  N                    60                            2.362
                  T                                      22.4                      0.882
                 AO                    6.8                 7         0.268         0.276
                 BO                    6.9                7.1        0.272         0.280
                 KO                    1.7                1.9        0.067         0.075
                 PO                    3.9                4.1        0.153         0.161
                  P                   11.9               12.1        0.468         0.476
32/35                                       Doc ID 17709 Rev 5


ST8024L                                                                  Package mechanical data
        Figure 16. TSSOP-28 tape and reel schematic
          Note: Drawing is not to scale.
        Table 29.           TSSOP-28 tape and reel mechanical data
                                                           Dimensions
           Symbol                          mm.                              inches
                                    Min.   Typ.        Max.         Min.      Typ.      Max.
                A                                       330                            12.992
                C                   12.8               13.2        0.504                0.519
                D                   20.2                           0.795
                N                    60                            2.362
                T                                      22.4                             0.882
               AO                    6.8                 7         0.268                0.276
               BO                   10.1               10.3        0.398                0.406
               KO                    1.7                1.9        0.067                0.075
               PO                    3.9                4.1        0.153                0.161
                P                   11.9               12.1        0.468                0.476
                                          Doc ID 17709 Rev 5                                33/35


Revision history                                                                                    ST8024L
            9             Revision history
            Table 30.     Document revision history
                     Date         Revision                               Changes
                  19-Jul-2010         1       Initial release.
                  30-Jul-2010         2       Updated Description, Table 6.
                                              Updated Features, Table 1, 6, 8, 19, 20, Section 6.1,
                 27-Sep-2010          3
                                              Section 6.2.2, Section 6.6, Section 6.9, footnotes of Figure 10.
                                              Added ST8024LACTR device, updated Features, Table 1,
                                              Section 1: Description (moved to page 5), Figure 1,Figure 2,
                 09-Feb-2012          4
                                              Table 2, Table 6,Table 8, Section 6.1 to Section 6.3, Figure 10
                                              and Disclaimer, minor text corrections throughout document.
                                              Updated Figure 1, Table 2, Table 3, Table 6, Table 8, Table 14,
                                              Table 16, Table 17, Section 6.1, moved notes from Section 5
                 04-May-2012          5
                                              below Table 3, Table 8, Table 15, Table 16, Table 17, minor
                                              text corrections throughout document.
34/35                                    Doc ID 17709 Rev 5


ST8024L
                                                             Please Read Carefully:
Information in this document is provided solely in connection with ST products. STMicroelectronics NV and its subsidiaries (â€œSTâ€) reserve the
right to make changes, corrections, modifications or improvements, to this document, and the products and services described herein at any
time, without notice.
All ST products are sold pursuant to STâ€™s terms and conditions of sale.
Purchasers are solely responsible for the choice, selection and use of the ST products and services described herein, and ST assumes no
liability whatsoever relating to the choice, selection or use of the ST products and services described herein.
No license, express or implied, by estoppel or otherwise, to any intellectual property rights is granted under this document. If any part of this
document refers to any third party products or services it shall not be deemed a license grant by ST for the use of such third party products
or services, or any intellectual property contained therein or considered as a warranty covering the use in any manner whatsoever of such
third party products or services or any intellectual property contained therein.
UNLESS OTHERWISE SET FORTH IN STâ€™S TERMS AND CONDITIONS OF SALE ST DISCLAIMS ANY EXPRESS OR IMPLIED
WARRANTY WITH RESPECT TO THE USE AND/OR SALE OF ST PRODUCTS INCLUDING WITHOUT LIMITATION IMPLIED
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE (AND THEIR EQUIVALENTS UNDER THE LAWS
OF ANY JURISDICTION), OR INFRINGEMENT OF ANY PATENT, COPYRIGHT OR OTHER INTELLECTUAL PROPERTY RIGHT.
UNLESS EXPRESSLY APPROVED IN WRITING BY TWO AUTHORIZED ST REPRESENTATIVES, ST PRODUCTS ARE NOT
RECOMMENDED, AUTHORIZED OR WARRANTED FOR USE IN MILITARY, AIR CRAFT, SPACE, LIFE SAVING, OR LIFE SUSTAINING
APPLICATIONS, NOR IN PRODUCTS OR SYSTEMS WHERE FAILURE OR MALFUNCTION MAY RESULT IN PERSONAL INJURY,
DEATH, OR SEVERE PROPERTY OR ENVIRONMENTAL DAMAGE. ST PRODUCTS WHICH ARE NOT SPECIFIED AS "AUTOMOTIVE
GRADE" MAY ONLY BE USED IN AUTOMOTIVE APPLICATIONS AT USERâ€™S OWN RISK.
Resale of ST products with provisions different from the statements and/or technical features set forth in this document shall immediately void
any warranty granted by ST for the ST product or service described herein and shall not create or extend in any manner whatsoever, any
liability of ST.
                             ST and the ST logo are trademarks or registered trademarks of ST in various countries.
                           Information in this document supersedes and replaces all information previously supplied.
            The ST logo is a registered trademark of STMicroelectronics. All other names are the property of their respective owners.
                                                 Â© 2012 STMicroelectronics - All rights reserved
                                                     STMicroelectronics group of companies
   Australia - Belgium - Brazil - Canada - China - Czech Republic - Finland - France - Germany - Hong Kong - India - Israel - Italy - Japan -
       Malaysia - Malta - Morocco - Philippines - Singapore - Spain - Sweden - Switzerland - United Kingdom - United States of America
                                                                   www.st.com
                                                             Doc ID 17709 Rev 5                                                          35/35


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
STMicroelectronics:
 ST8024LCDR ST8024LACDR ST8024LCTR ST8024LTR ST8024LACTR
