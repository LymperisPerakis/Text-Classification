Freescale Semiconductor                                                                               Document Number: MC33972
Technical Data                                                                                                        Rev. 19.0, 3/2012
Multiple Switch Detection
Interface with Suppressed                                                                           33972/A/T
Wake-up
                                                                                                   MULTIPLE SWITCH
   The 33972 Multiple Switch Detection Interface with suppressed
                                                                                                 DETECTION INTERFACE
wake-up is designed to detect the closing and opening of up to 22
switch contacts. The switch status, either open or closed, is transferred
to the microprocessor unit (MCU) through a serial peripheral interface
(SPI). The device also features a 22-to-1 analog multiplexer for reading
inputs as analog. The analog input signal is buffered and provided on
the AMUX output pin for the MCU to read.
   The 33972 device has two modes of operation, Normal and Sleep.
Normal mode allows programming of the device and supplies switch
                                                                                      EW SUFFIX (Pb-FREE)         EK SUFFIX (Pb-FREE)
contacts with pull-up or pull-down current as it monitors switch change                  98ARH99137A                  98ASA10556D
of state. The Sleep mode provides low quiescent current, which makes                     32-PIN SOICW               32-PIN SOICW EP
the 33972 ideal for automotive and industrial products requiring low
sleep-state currents.
                                                                                               ORDERING INFORMATION
Features
•  Designed to operate 5.5 V ≤ VPWR ≤ 26 V                                                               Temperature
                                                                                         Device                              Package
                                                                                                          Range (TA)
•  Switch input voltage range -14 V to VPWR, 40 V Max
•  Interfaces directly to MPU using 3.3 V / 5.0 V SPI protocol                      MC33972TEW/R2
•  Selectable wake-up on change of state                                                                                    32 SOICW
                                                                                    MC33972ATEW/R2     -40 °C to 125 °C
•  Selectable wetting current (16 or 2.0 mA)
•  8 programmable inputs (switches to battery or ground)                            MC33972ATEK/R2                         32 SOICW EP
•  14 switch-to-ground inputs
•  Typical standby current - VPWR = 100 μA and VDD = 20 μA
•  Active interrupt (INT) on change-of-switch state
                                                                                                                VDD
                 VBAT                                         VBAT                              POWER SUPPLY
                                          33972                                                     LVI
                                     SP0         VPWR
                                     SP1                       VDD
                 VBAT                              VDD                                         ENABLE
                                     SP7
                                                 WAKE
                                     SG0
                                     SG1                                            MCU
                                                       SI                        MOSI
                                                                                               WATCHDOG
                                                  SCLK                           SCLK          RESET
                                     SG12             CS                         CS
                                                      SO                         MISO
                                     SG13            INT                         INT
                                                 AMUX                            AN0
                                                   GND
                                          Figure 1. 33972 Simplified Application Diagram
Freescale Semiconductor, Inc. reserves the right to change the detail specifications,
as may be required, to permit improvements in the design of its products.
© Freescale Semiconductor, Inc., 2009-2012. All rights reserved.


DEVICE VARIATIONS
                                         DEVICE VARIATIONS
              Table 1. Device Variations
                           Device             Switch Input Voltage Range Reference Location
                            33972                    -14 to 38 VDC               5, 6
                           33972A                    -14 to 40 VDC               5, 6
33972
                                                                         Analog Integrated Circuit Device Data
2                                                                                     Freescale Semiconductor


                                                                                                   INTERNAL BLOCK DIAGRAM
                                           INTERNAL BLOCK DIAGRAM
                                                       5.0 V
                                                             VPWR
                     VPWR VPWR                SP0                           VPWR, VDD, 5.0 V                       VPWR
                   16.0         2.0                                               POR                              VDD
                   mA           mA                                              Bandgap                            GND
                                                                               Sleep PWR
  SP0
  SP1                                      +  To
                   16.0         2.0 4.0 V ‚   SPI
                   mA           mA Ref
  SP2                                   Comparator
  SP3
  SP4
                     VPWR VPWR                SP7
  SP5
                   16.0         2.0
                   mA           mA                                                             5.0 V
  SP6
  SP7                                                                         Oscillator
                                                                                  and          VPWR
                                           +   To                            Clock Control
                   16.0         2.0 4.0V ‚     SPI
                   mA           mA   Ref
                                        Comparator
                                                                                                5.0 V
                                                                             Temperature
                                                      5.0V                   Monitor and
                     VPWR VPWR                SG0                                                   5.0 V
                                                                                Control
                   16.0         2.0                   VPWR                                              125 kΩ
                   mA           mA
                                                                                 5.0 V
  SG0
                                                                                                                   WAKE
                                               To
  SG1                               4.0 V ‚+   SPI
                                     Ref                                     WAKE Control
  SG2                                   Comparator
  SG3                                                                                                VDD
                                                                             SPI Interface              125 kΩ
  SG4                                                                        and Control
                                                                                                                   INT
  SG5
  SG6                                                                         INT Control
                                                                                                          VDD
  SG7
                                                                             MUX Interface
                                                                                                    40 μA
  SG8
                                                                                                                   CS
  SG9                                                                                                              SCLK
                                                                                       VDD
 SG10                                                                                                              SI
                     VPWR VPWR               SG13                                                                  SO
 SG11
                   16.0         2.0
 SG12              mA           mA
                                                                                           VDD
                                                                                                 Analog Mux
 SG13
                                                                                        +        Output
                                                                                                                   AMUX
                                    4.0 V ‚+
                                    Ref
                                               To
                                               SPI                                      ‚
                                        Comparator
                                     Figure 2. 33972 Simplified Internal Block Diagram
                                                                                                                       33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                   3


PIN CONNECTIONS
                                                    PIN CONNECTIONS
             GND        1                     32          SO              GND        1                           32        SO
               SI       2                     31          VDD                SI      2                           31        VDD
            SCLK        3                     30          AMUX           SCLK        3                           30        AMUX
              CS        4                     29          INT               CS       4                           29        INT
             SP0        5                     28          SP7              SP0       5                           28        SP7
             SP1        6                     27          SP6              SP1       6                           27        SP6
             SP2        7                     26          SP5              SP2       7                           26        SP5
                             Exposed Pad                                   SP3                                             SP4
             SP3        8                     25          SP4                        8                           25
             SG0        9      EK Suffix      24          SG7              SG0       9                           24        SG7
             SG1        10
                                 Only         23          SG8              SG1       10                          23        SG8
             SG2        11                    22          SG9              SG2       11                          22        SG9
             SG3        12                    21          SG10             SG3       12                          21        SG10
             SG4        13                    20          SG11             SG4       13                          20        SG11
             SG5        14                    19          SG12             SG5       14                          19        SG12
             SG6        15    EK Suffix       18          SG13             SG6       15
                                                                                                EW Suffix        18        SG13
           VPWR         16                    17          WAKE          VPWR         16                          17        WAKE
                                                Figure 3. 33972 Pin Connections
Table 2. 33972 Pin Definitions
   A functional description of each pin can be found in the Functional Pin Description section beginning on page 10.
 Pin Number     Pin Name    Pin Function       Formal Name                                        Definition
       1            GND        Ground               Ground         Ground for logic, analog, and switch to battery inputs.
       2             SI         Input            SPI Slave In      SPI control data input pin from the MCU to the 33972.
       3           SCLK         Input            Serial Clock      SPI control clock input pin.
       4             CS         Input             Chip Select      SPI control chip select input pin from the MCU to the 33972. Logic [0}
                                                                   allows data to be transferred in.
     5–8           SP0 – 3      Input          Programmable        Programmable switch-to-battery or switch-to-ground input pins.
    25 – 28        SP4 – 7                      Switches 0 – 7
    9 – 15,       SG0 – 6,      Input        Switch-to-Ground      Switch-to-ground input pins.
    18 – 24       SG13 – 7                       Inputs 0 – 13
      16           VPWR         Input           Battery Input      Battery supply input pin. Pin requires external reverse battery
                                                                   protection.
      17           WAKE     Input/Output           Wake-up         Open drain wake-up output. Designed to control a power supply
                                                                   enable pin.
      29            INT     Input/Output           Interrupt       Open-drain output to MCU. Used to indicate an input switch change of
                                                                   state.
      30           AMUX        Output      Analog Multiplex Output Analog multiplex output.
      31            VDD         Input       Voltage Drain Supply   3.3 / 5.0 V supply. Sets SPI communication level for the SO driver.
      32            SO         Output          SPI Slave Out       Provides digital data from the 33972 to the MCU.
                     EP        Ground           Exposed Pad        It is recommended that the exposed pad is terminated to GND (pin 1)
                                                                   and system ground, however, the device will perform as specified with
                                                                   the exposed pad unterminated (floating).
33972
                                                                                                Analog Integrated Circuit Device Data
4                                                                                                             Freescale Semiconductor


                                                                                                         ELECTRICAL CHARACTERISTICS
                                                                                                                        MAXIMUM RATINGS
                                              ELECTRICAL CHARACTERISTICS
                                                            MAXIMUM RATINGS
Table 3. Maximum Ratings
  All voltages are with respect to ground unless otherwise noted. Exceeding these ratings may cause a malfunction or
permanent damage to the device.
                                       Ratings                                          Symbol                 Value                Unit
ELECTRICAL RATINGS
 VDD Supply Voltage                                                                                                                 VDC
                                    (1)                                                     –               -0.3 to 7.0
    CS, SI, SO, SCLK, INT, AMUX
 WAKE(1)                                                                                    –                -0.3 to 40             VDC
                        (1)
 VPWR Supply Voltage                                                                        –                -0.3 to 50             VDC
 VPWR Supply Voltage at -40 °C(1)                                                           –                -0.3 to 45             VDC
 Switch Input Voltage Range                                                                 –                -14 to 40              VDC
 Frequency of SPI Operation (VDD = 5.0 V)                                                   –                   6.0                 MHz
 ESD Voltage(3)                                                                                                                       V
                                                                                         VESD                  ±2000
    Human Body     Model(2)
                                                                                                               ±2000
       Applies to all non-input pins
                                                                                                               ±200
    Machine Model
    Charge Device Model
       Corner Pins                                                                                              750
       Interior Pins                                                                                            500
THERMAL RATINGS
 Operating Temperature                                                                                                               °C
    Ambient                                                                                TA               - 40 to 125
    Junction                                                                               TJ               - 40 to 150
 Storage Temperature                                                                     TSTG               - 55 to 150              °C
 Power Dissipation (TA = 25 °C)(4)                                                         PD                   1.7                  W
 Thermal Resistance                                                                                                                °C/W
    Non-Exposed Pad
       Junction to Ambient                                                                RθJA                   74
       Junction to Lead                                                                   RθJL                   25
    Exposed Pad
       Junction to Ambient
                                                                                          RθJA                   71
       Junction to Exposed Pad
                                                                                         RθJC                   1.2
 Peak Package Reflow Temperature During Reflow(5), (6)                                   TPPRT                 Note 6                °C
Notes
   1. Exceeding these limits may cause malfunction or permanent damage to the device.
   2. ESD data available upon request.
   3. ESD1 testing is performed in accordance with the Human Body Model (CZAP = 100 pF, RZAP = 1500 Ω), and ESD2 testing is performed
        in accordance with the Machine Model (CZAP = 200 pF, RZAP = 0 Ω).
   4.   Maximum power dissipation at TJ = 150°C junction temperature with no heat sink used.
   5.   Pin soldering temperature limit is for 10 seconds maximum duration. Not designed for immersion soldering. Exceeding these limits may
        cause malfunction or permanent damage to the device.
   6.   Freescale’s Package Reflow capability meets Pb-free requirements for JEDEC standard J-STD-020C. For Peak Package Reflow
        Temperature and Moisture Sensitivity Levels (MSL), Go to www.freescale.com, search by part number [e.g. remove prefixes/suffixes
        and enter the core ID to view all orderable parts. (i.e. MC33xxxD enter 33xxx), and review parametrics.
                                                                                                                                         33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                                     5


ELECTRICAL CHARACTERISTICS
STATIC ELECTRICAL CHARACTERISTICS
                                            STATIC ELECTRICAL CHARACTERISTICS
Table 4. Static Electrical Characteristics
    Characteristics noted under conditions 3.1 V ≤ VDD ≤ 5.25 V, 8.0 V ≤ VPWR ≤ 16 V, -40 °C ≤ TC ≤ 125 °C, unless otherwise
noted.(7) Where applicable, typical values reflect the parameter’s approximate average value with VPWR = 13 V, TA = 25 °C.
                               Characteristic                                  Symbol          Min           Typ            Max         Unit
POWER INPUT
  Supply Voltage                                                                                                                          V
     Supply Voltage Range    Quasi-functional(8)                              VPWR (QF)         5.5            –             8.0
     Fully Operational                                                        VPWR (FO)         8.0            –             26
                                                                              VPWR (QF)
     Supply Voltage Range Quasi-functional(8)                                                   26             –           38/40
  Supply Current                                                              IPWR (ON)                                                  mA
     All Switches Open, Normal Mode, Tri-state Disabled                                          –            2.0            4.0
  Sleep State Supply Current                                                  IPWR (SS)                                                  μA
     Scan Timer = 64 ms, Switches Open                                                          40            70            100
  Logic Supply Voltage                                                            VDD           3.1            –            5.25          V
  Logic Supply Current                                                            IDD                                                    mA
     All Switches Open, Normal mode                                                              –           0.25            0.5
  Sleep State Logic Supply Current                                              IDD(SS)                                                  μA
     Scan Timer = 64 ms, Switches Open                                                           –            10             20
SWITCH INPUT
  Pulse Wetting Current Switch-to-Battery (Current Sink)                        IPULSE          12            15             18          mA
  Pulse Wetting Current Switch-to-Ground (Current Source)                       IPULSE          12            16             18          mA
  Sustain Current Switch-to-Battery Input (Current Sink)                      ISUSTAIN          1.8           2.0            2.2         mA
  Sustain Current Switch-to-Ground Input (Current Source)                     ISUSTAIN          1.8           2.0            2.2         mA
  Sustain Current Matching Between Channels on Switch-to-Ground I/Os            IMATCH                                                   %
       ISUS(MAX) - ISUS(MIN)                                                                     –            2.0            4.0
                             X 100
              ISUS(MIN)
  Input Offset Current When Selected as Analog                                 IOFFSET         -2.0           1.4            2.0         μA
  Input Offset Voltage When Selected as Analog                                VOFFSET                                                    mV
     V(SP&SGINPUTS) to AMUX Output                                                             -10            2.5            10
  Analog Operational Amplifier Output Voltage                                     VOL                                                    mV
     Sink 250 μA                                                                                 –            10             30
  Analog Operational Amplifier Output Voltage                                     VOH                                                     V
     Source 250 μA                                                                          VDD -0.1           –              –
  Switch Detection Threshold                                                      VTH          3.70           4.0            4.3          V
  Switch Input Voltage Range                                                      VIN                                                     V
     33972                                                                                     -14             –             38
     33972A                                                                                    -14             –             40
  Temperature Monitor(9), (10)                                                    TLIM         155             –            185          °C
  Temperature Monitor   Hysteresis(10)                                        TLIM(HYS)         5.0           10             15          °C
Notes
    7. TC is the TCASE of the package
    8.   Device operational. Table parameters may be out of specification.
    9.   Thermal shutdown of 16 mA pull-up and pulldown current sources only. 2.0 mA current source / sink and all other functions remain active.
   10.   This parameter is guaranteed by design but is not production tested.
33972
                                                                                                    Analog Integrated Circuit Device Data
6                                                                                                                   Freescale Semiconductor


                                                                                                    ELECTRICAL CHARACTERISTICS
                                                                                             STATIC ELECTRICAL CHARACTERISTICS
Table 4. Static Electrical Characteristics (continued)
   Characteristics noted under conditions 3.1 V ≤ VDD ≤ 5.25 V, 8.0 V ≤ VPWR ≤ 16 V, -40 °C ≤ TC ≤ 125 °C, unless otherwise
noted.(7) Where applicable, typical values reflect the parameter’s approximate average value with VPWR = 13 V, TA = 25 °C.
                              Characteristic                                  Symbol       Min        Typ      Max      Unit
DIGITAL INTERFACE
 Input Logic Voltage Thresholds(11)                                          VINLOGIC      0.8          –       2.2      V
 SCLK, SI, Tri-state SO Input Current                                        ISCLK, ISI,                                μA
    0 V to VDD                                                                ISO (TRI)    -10          –        10
 CS Input Current                                                               ICS                                     μA
    CS = VDD                                                                               -10          –        10
 CS Pull-up Current                                                             ICS                                     μA
    CS = 0 V                                                                                30          –       100
 SO High-state Output Voltage                                               VSO (HIGH)                                   V
    I SO (HIGH) = -200 μA                                                                VDD -0.8       –      VDD
 SO Low-state Output Voltage                                                VSO (LOW)                                    V
    I SO (HIGH) = 1.6mA                                                                     –           –       0.4
 Input Capacitance on SCLK, SI, Tri-state  SO(12)                               CIN         –           –        20      pF
 INT Internal Pull-up Current                                                     –         15         40       100     μA
 INT Voltage                                                                V INT (HIGH)                                 V
    INT = Open Circuit                                                                   VDD -0.5       –      VDD
 INT Voltage                                                                V INT (LOW)                                  V
    I INT = 1.0 mA                                                                          –         0.2       0.4
 WAKE Internal Pull-up Current                                              I WAKE (PU)     20         40       100     μA
 WAKE Voltage                                                             V WAKE (HIGH)                                  V
    WAKE = Open Circuit                                                                    4.0        4.3       5.3
 WAKE Voltage                                                              V WAKE(LOW)                                   V
    I WAKE = 1.0 mA                                                                         –         0.2       0.4
 WAKE Voltage                                                              V WAKE(MAX)                                   V
    Maximum Voltage Applied to WAKE Through External Pull-up                                –           –        40
Notes
  11. Upper and lower logic threshold voltage levels apply to SI, CS, and SCLK.
  12. This parameter is guaranteed by design but is not production tested.
                                                                                                                           33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                       7


ELECTRICAL CHARACTERISTICS
DYNAMIC ELECTRICAL CHARACTERISTICS
                                           DYNAMIC ELECTRICAL CHARACTERISTICS
Table 5. Dynamic Electrical Characteristics
   Characteristics noted under conditions 3.1 V ≤ VDD ≤ 5.25 V, 8.0 V ≤ VPWR ≤ 16 V, -40 °C ≤ TC ≤ 125 °C, unless otherwise
noted. Where applicable, typical values reflect the parameter’s approximate average value with VPWR = 13 V, TA = 25 °C.
                                  Characteristic                                      Symbol       Min        Typ         Max         Unit
SWITCH INPUT
 Pulse Wetting Current Time                                                       t PULSE (ON)      15          16         20          ms
 Interrupt Delay Time                                                                t INT-DLY                                         μs
    Normal Mode                                                                                      –         5.0         16
 Sleep Mode Switch Scan Time                                                             t SCAN    100         200        300          μs
 Calibrated Scan Timer Accuracy                                                  t SCAN TIMER                                           %
    Sleep Mode                                                                                       –           –         10
 Calibrated Interrupt Timer Accuracy                                               t INT TIMER                                          %
    Sleep Mode                                                                                       –           –         10
                                 (13)
DIGITAL INTERFACE TIMING
 Required Low-state Duration on VPWR for Reset(14)                                     t RESET                                         μs
    VPWR ≤ 0.2 V                                                                                     –           –         10
 Falling Edge of CS to Rising Edge of SCLK                                               t LEAD                                        ns
    Required Set-up Time                                                                           100           –          –
 Falling Edge of SCLK to Rising Edge of CS                                                 t LAG                                       ns
    Required Set-up Time                                                                            50           –          –
 SI to Falling Edge of SCLK                                                             t SI (SU)                                      ns
    Required Set-up Time                                                                            16           –          –
 Falling Edge of SCLK to SI                                                         t SI (HOLD)                                        ns
    Required Hold Time                                                                              20           –          –
 SI, CS, SCLK Signal Rise Time(15)                                                        t R (SI)   –         5.0          –          ns
                                 (15)
 SI, CS, SCLK Signal Fall Time                                                            t F (SI)   –         5.0          –          ns
 Time from Falling Edge of CS to SO    Low-impedance(16)                              t SO (EN)      –           –         55          ns
                                                         (17)
 Time from Rising Edge of CS to SO High-impedance                                     t SO (DIS)     –           –         55          ns
                                                     (18)
 Time from Rising Edge of SCLK to SO Data Valid                                         t VALID      –          25         55          ns
Notes
  13.   These parameters are guaranteed by design. Production test equipment uses 4.16 MHz, 5.0 V SPI interface.
  14.   This parameter is guaranteed by design but not production tested.
  15.   Rise and Fall time of incoming SI, CS, and SCLK signals suggested for design consideration to prevent the occurrence of double pulsing.
  16.   Time required for valid output status data to be available on SO pin.
  17.   Time required for output states data to be terminated at SO pin.
  18.   Time required to obtain valid data out from SO following the rise of SCLK with 200 pF load.
33972
                                                                                                      Analog Integrated Circuit Device Data
8                                                                                                                  Freescale Semiconductor


                                                                                                                  ELECTRICAL CHARACTERISTICS
                                                                                                                                     TIMING DIAGRAMS
                                                                  TIMING DIAGRAMS
            CS         0.2 VDD
                                    t LEAD                                                                            t LAG
                                      0.7 VDD
          SCLK
                                      0.2 VDD
                                                tSI(SU) tSI(HOLD)
                                      0.7 VDD
               SI                     0.2 VDD
                                                   MSB IN
                   tSO(EN)                                                                     t VALID                                        tSO(DIS)
                               0.7 VDD
             SO                0.2 VDD
                                                    MSB OUT                                                        LSB OUT
                                                         Figure 4. SPI Timing Characteristics
   VPWR
   VDD
   WAKE
                                                                             Wake-up From Interrupt
   INT                                                                       Timer Expire
   CS
                                                                                                                            Wake-up From
   SGn                                                                                                                      Closed Switch
        Power-up    Tri-state       Sleep             Sleep Mode         Normal     Sleep Command        Sleep Mode       Normal     Sleep Command
       Normal Mode Command        Command                                 Mode                                             Mode
                    (Disable
                    Tri-state)
                                                Figure 5. Sleep Mode to Normal Mode Operation
.
                                                                                 Switch state change with                      Switch state change with
  INT                                                                            CS LOW generates INT                          CS LOW generates INT
                                Latch switch status
  CS                            on falling edge of CS
                                                                                      Rising edge of CS does not
SGn                                                                                   clear INT because state change                 Switch open ‚Äö
                                                                                      occurred while CS was LOW
                                                                                      Switch closed ‚Äö
  SGn Bit in SPI Word           1                       0                  0                        1                    1                      0
                             Switch                  Switch             Switch                  Switch               Switch                  Switch
                             Status                  Status             Status                   Status              Status                  Status
                           Command                  Command            Command                Command               Command                 Command
                                                    Figure 6. Normal Mode Interrupt Operation
                                                                                                                                                       33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                                                  9


 FUNCTIONAL DESCRIPTION
 INTRODUCTION
                                               FUNCTIONAL DESCRIPTION
                                                           INTRODUCTION
    The 33972 device is an integrated circuit designed to          switch inputs may be read as analog inputs through the
provide systems with ultra-low quiescent sleep / wake-up           analog multiplexer (AMUX). Other features include a
modes, and a robust interface between switch contacts and          programmable wake-up timer, programmable interrupt timer,
a microprocessor. The 33972 replaces many of the discrete          programmable wake-up /interrupt bits, and programmable
components required when interfacing to microprocessor-            wetting current settings.
based systems, while providing switch ground offset                   This device is designed primarily for automotive
protection, contact wetting current, and a system wake-up.         applications, but may be used in a variety of other
    The 33972 features 8-programmable switch-to-ground or          applications such as computer, telecommunications, and
switch-to-battery inputs and 14 switch-to-ground inputs. All       industrial controls.
                                                FUNCTIONAL PIN DESCRIPTION
CHIP SELECT (CS)                                                   a logic HIGH state, any signal on the SCLK and SI pins will
    The system MCU selects the 33972 to receive                    be ignored and the SO pin is tri-state.
communication using the chip select (CS) pin. With the CS in
a logic LOW state, command words may be sent to the 33972          SPI SLAVE IN (SI)
via the serial input (SI) pin, and switch status information can      The SI pin is used for serial instruction data input. SI
be received by the MCU via the serial output (SO) pin. The         information is latched into the input register on the falling
falling edge of CS enables the SO output, latches the state of     edge of SCLK. A logic HIGH state present on SI will program
the INT pin, and the state of the external switch inputs.          a one in the command word on the rising edge of the CS
    Rising edge of the CS initiates the following operation:       signal. To program a complete word, 24 bits of information
   1. Disables the SO driver (high-impedance)                      must be entered into the device.
   2. INT pin is reset to logic [1], except when additional
                                                                   SPI SLAVE OUT (SO)
       switch changes occur during CS LOW. (See Figure 6
       on page 9.)                                                    The SO pin is the output from the shift register. The SO pin
                                                                   remains tri-stated until the CS pin transitions to a logic LOW
   3. Activates the received command word, allowing the
                                                                   state. All open switches are reported as zero, all closed
       33972 to act upon new data from switch inputs.
                                                                   switches are reported as one. The negative transition of CS
    To avoid any spurious data, it is essential the HIGH-to-       enables the SO driver.
LOW and LOW-to-HIGH transitions of the CS signal occur
                                                                      The first positive transition of SCLK will make the status
only when SCLK is in a logic LOW state. A clean CS is
                                                                   data bit 24 available on the SO pin. Each successive positive
needed to ensure no incomplete SPI words are sent to the
                                                                   clock will make the next status data bit available for the MCU
device. Internal to the 33972 device is an active pull-up to
                                                                   to read on the falling edge of SCLK. The SI / SO shifting of the
VDD on CS.
                                                                   data follows a first-in, first-out protocol, with both input and
    In Sleep mode, the negative edge of CS (VDD applied) will      output words transferring the most significant bit (MSB) first.
wake up the 33972 device. Data received from the device
during CS wake-up may not be accurate.                             INTERRUPT (INT)
                                                                      The INT pin is an interrupt output from the 33972 device.
SYSTEM CLOCK (SCLK)
                                                                   The INT pin is an open-drain output with an internal pull-up to
    The system clock (SCLK) pin clocks the internal shift          VDD. In Normal mode, a switch state change will trigger the
register of the 33972. The SI data is latched into the input       INT pin (when enabled). The INT pin and INT bit in the SPI
shift register on the falling edge of SCLK signal. The SO pin      register are latched on the falling edge of CS. This permits
shifts the switch status bits out on the rising edge of SCLK.      the MCU to determine the origin of the interrupt. When two
The SO data is available for the MCU to read on the falling        33972 devices are used, only the device initiating the
edge of SCLK. False clocking of the shift register must be         interrupt will have the INT bit set. The INT pin is cleared on
avoided to ensure validity of data. It is essential the SCLK pin   the rising edge of CS. The INT pin will not clear with rising
be in a logic LOW state whenever CS makes any transition.          edge of CS if a switch contact change has occurred while CS
For this reason, it is recommended, that the SCLK pin is           was LOW.
commanded to a logic LOW state as long as the device is not
                                                                      In a multiple 33972 device system with WAKE HIGH and
accessed and CS is in a logic HIGH state. When the CS is in
                                                                   VDD in (Sleep Mode), the falling edge of INT will place all
                                                                   33972s in Normal mode.
33972
                                                                                             Analog Integrated Circuit Device Data
10                                                                                                         Freescale Semiconductor


                                                                                               FUNCTIONAL DESCRIPTION
                                                                                           FUNCTIONAL PIN DESCRIPTION
WAKE-UP (WAKE)                                                PROGRAMMABLE SWITCHES (SP0 : SP7)
   The WAKE pin is an open-drain output and a wake-up            The 33972 device has 8 switch inputs capable of being
input. The pin is designed to control a power supply Enable   programmed to read switch-to-ground or switch-to-battery
pin. In the Normal mode, the WAKE pin is LOW. In the Sleep    contacts. The input is compared with a 4.0 V reference.
mode, the WAKE pin is HIGH. The WAKE pin has a pull-up to     When programmed to be switch-to-battery, voltages greater
the internal + 5.0 V supply.                                  than 4.0 V are considered closed. Voltages less than 4.0 V
   In Sleep mode with the WAKE pin HIGH, the falling edge     are considered open. The opposite holds true when inputs
of WAKE will place the 33972 in Normal mode. In Sleep mode    are programmed as switch-to-ground. Programming features
with VDD applied, the INT pin must be HIGH for negative edge  are defined in Table 6 through Table 11 in the Functional
of WAKE to wake up the device. If VDD is not applied to the   Device Operation section of this datasheet beginning on
device in Sleep mode, INT does not affect WAKE operation.     page 13. Voltages greater than the VPWR supply voltage will
                                                              source current through the SP inputs to the VPWR pin.
BATTERY INPUT (VPWR)                                          Transient battery voltages greater than 38/40 V must be
                                                              clamped by an external device. This is not a normal operating
   The VPWR pin is battery input and Power-ON Reset to the    condition and can damage the IC.
33972 IC. The VPWR pin requires external reverse battery
and transient protection. Maximum input voltage on VPWR is
                                                              SWITCH-TO-GROUND INPUTS (SG0 : SG13)
50 V. All wetting, sustain, and internal logic current is
provided from the VPWR pin.                                      The SGn pins are switch-to-ground inputs only. The input
                                                              is compared with a 4.0 V reference. Voltages greater than
VOLTAGE DRAIN SUPPLY (VDD)                                    4.0 V are considered open. Voltages less than 4.0 V are
                                                              considered closed. Programming features are defined in
   The VDD input pin is used to determine logic levels on the Table 6 through Table 11 in the Functional Device Operation
microprocessor interface (SPI) pins. Current from VDD is      section of this datasheet beginning on page 13. Voltages
used to drive SO output and the pull-up current for CS and    greater than the VPWR supply voltage will source current
INT pins. VDD must be applied for wake-up from negative       through the SG inputs to the VPWR pin. Transient battery
edge of CS or INT.                                            voltages greater than 40 V must be clamped by an external
                                                              device. This is not a normal operating condition and can
GROUND (GND)                                                  damage the IC.
   The GND pin provides ground for the IC as well as ground
for inputs programmed as switch-to-battery inputs.
                                                                                                                      33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                 11


 FUNCTIONAL DESCRIPTION
 FUNCTIONAL INTERNAL BLOCK DESCRIPTION
                                     FUNCTIONAL INTERNAL BLOCK DESCRIPTION
                          MC33972 - Functional Block Diagram
                                      Control & Protection                           Switch Programmable
                                  Bandgap               Voltage Regulation                    Inputs
                                Temp. Sense                                                 SP0 - SP7
                                                         Oscillator & Clock
                                      Interface & Control                              Switch–to-Ground
                                SPI Interface            Interrupt/Wake-up                    Inputs
                                                                                           SG0 - SG13
                                           Multiplex Control
                             Control & Protection     Interface & Control     SW Prog Inputs     SW-GND Inputs
                                          Figure 7. Functional Internal Block Description
CONTROL AND PROTECTION CIRCUITRY:                                         The device also features a 22-to-1 analog multiplexer for
   The 33972 is designed to operate from 5.5 V to 38/40 V on           reading inputs as analog. The 33972 device has two modes
the VPWR terminal. Characteristics are provided for VPWR               of operation, Normal and Sleep.
from 8.0 to 26 V for the IC (parametric tests are done from 8.0
to 16.0v). Switch contact currents and the internal logic              SWITCH PROGRAMMABLE INPUTS:
supply are generated from the VPWR terminal. The VDD                      Programmable switch detection inputs. These 8 inputs can
supply terminal is used to set the SPI communication voltage           selectively detect switch closures to Ground or Battery. The
levels, current source for the SO driver, and pull-up current          33972 device has 8 switch inputs capable of being
on INT and CS.                                                         programmed to read switch-to-ground or switch-to-battery
   The on-chip voltage regulator and bandgap supplies the              contacts. The input is compared with a 4.0 V reference.
required voltages to the internal monitor circuitry. The               When programmed to be switch-to-battery, voltages greater
temperature monitor is active in the Normal mode.                      than 4.0 V are considered closed. Voltages less than 4.0 V
                                                                       are considered open. The opposite holds true when inputs
INTERFACE AND CONTROL:                                                 are programmed as switch-to-ground.
   The 33972 Multiple Switch Detection Interface with
Suppressed Wake-up is designed to detect the closing and               SWITCH–TO-GROUND INPUTS:
opening of up to 22 switch contacts. The switch status, either            Switch detection interface inputs. These 14 inputs can
open or closed, is transferred to the microprocessor unit              detect switch closures to ground only. The input is compared
(MCU) through a serial peripheral interface (SPI).                     with a 4.0 V reference. Voltages greater than 4.0 V are
                                                                       considered open. Voltages less than 4.0 V are considered
                                                                       closed. Note: Each of these inputs may be used to supply
                                                                       current to sensors external to a module.
33972
                                                                                               Analog Integrated Circuit Device Data
12                                                                                                         Freescale Semiconductor


                                                                                               FUNCTIONAL DEVICE OPERATION
                                                                                                       OPERATIONAL MODES
                                          FUNCTIONAL DEVICE OPERATION
                                                        OPERATIONAL MODES
MCU INTERFACE DESCRIPTION
                                                                       MC68HCXX
    The 33972 device directly interfaces to a 3.3 or 5.0 V           Microcontroller                            33972
microcontroller unit (MCU). SPI serial clock frequencies up to
6.0 MHz may be used for programming and reading switch                                    MOSI
                                                                                                           SI
input status (production tested at 4.16 MHz). Figure 8                 Shift Register
illustrates the configuration between an MCU and one 33972.                               MISO
                                                                                                           SO
                                                                                          SCLK
    Serial peripheral interface (SPI) data is sent to the 33972                                            SCLK
device through the SI input pin. As data is being clocked into            Parallel                         CS
                                                                            Ports
the SI pin, status information is being clocked out of the                                                 INT
                                                                                      INT
device by the SO output pin. The response to a SPI
command will always return the switch status, interrupt flag,
and thermal flag. Input switch states are latched into the SO                                                   33972
register on the falling edge of the chip select (CS) pin.
Twenty-four bits are required to complete a transfer of                                                    SI
information between the 33972 and the MCU.                                                                 SO
                                                                                                           SCLK
      MC68HCXX                                     33972                                                   CS
    Microcontroller
                                                                                                           INT
                         MOSI          SI
       Shift Register                        24-Bit Shift Register
                         MISO         SO                             Figure 9. SPI Parallel Interface with Microprocessor
                         SCLK
                                                                       MC68HCXX
          Receive                                  To Logic          Microcontroller                            33972
           Buffer
                                      CS                                                  MOSI
          Parallel                                                                                         SI
            Ports        INT         INT                               Shift Register
                                                                                          MISO
                                                                                                           SO
                                                                                          SCLK
                                                                                                           SCLK
         Figure 8. SPI Interface with Microprocessor
                                                                          Parallel                         CS
    Two or more 33972 devices may be used in a module                       Ports                          INT
system. Multiple ICs may be SPI-configured in parallel or                             INT
serial. Figures 9 and 10 show the configurations. When using
the serial configuration, 48-clock cycles are required to
transfer data in / out of the ICs.                                                                              33972
                                                                                                           SI
                                                                                                           SO
                                                                                                           SCLK
                                                                                                           CS
                                                                                                           INT
                                                                     Figure 10. SPI Serial Interface with Microprocessor
                                                                                                                       33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                 13


 FUNCTIONAL DEVICE OPERATION
 OPERATIONAL MODES
POWER SUPPLY                                                               • Falling edge of WAKE
    The 33972 is designed to operate from 5.5 to 40 V on the               • Falling edge of INT (with VDD = 5.0 V and WAKE at
VPWR pin. Characteristics are provided from 8.0 to 16 V for                    Logic [1])
the device. Switch contact currents and the internal logic                 • Falling edge of CS (with VDD = 5.0 V)
supply are generated from the VPWR pin. The VDD supply                     • Interrupt timer expires
pin is used to set the SPI communication voltage levels,                   Only in Normal mode with VDD applied can the registers of
current source for the SO driver, and pull-up current on INT            the 33972 be programmed through the SPI.
and CS.                                                                    The registers that may be programmed in Normal mode
    The VDD supply may be removed from the device to                    are listed below. Further explanation of each register is
reduce quiescent current. If VDD is removed while the device            provided in subsequent paragraphs.
is in Normal mode, the device will remain in Normal mode. If               •Programmable Switch Register (Settings Command )
VDD is removed in Sleep mode, the device will remain in
                                                                           •Wake-Up / Interrupt Register (Wake-up / Interrupt
Sleep mode until a wake-up input is received (WAKE HIGH to
                                                                               Command )
LOW, switch input or interrupt timer expires).
                                                                           •Wetting Current Register (Metallic Command )
    Removing VDD from the device disables SPI
                                                                           •Wetting Current Timer Register (Wetting Current Timer
communication and will not allow the device to wake up from
                                                                               Enable Command )
INT and CS pins.
                                                                           •Tri-State Register (Tri-state Command )
                                                                           •Analog Select Register (Analog Command )
POWER-ON RESET (POR)
                                                                           •Calibration of Timers (Calibration Command )
    Applying VPWR to the device will cause a Power-ON Reset                •Reset (Reset Command )
and place the device in Normal mode.
                                                                           Figure 6, page 9, is a graphical description of the device
    Default settings from Power-ON Reset via VPWR or the                operation in Normal mode. Switch states are latched into the
Reset Command are as follows:                                           input register on the falling edge of CS. The INT to the MCU
    • Programmable switch – set to switch to battery                    is cleared on the rising edge of CS. However, INT will not
    • All inputs set as wake-up                                         clear on rising edge of CS if a switch has closed during SPI
    • Wetting current on (16 mA)                                        communication (CS LOW). This prevents switch states from
    • Wetting current timer on (20 ms)                                  being missed by the MCU.
    • All inputs tri-state
    • Analog select 00000 (no input channel selected)                   PROGRAMMABLE SWITCH REGISTER
                                                                           Inputs SP0 to SP7 may be programmable for switch-to-
NORMAL AND SLEEP MODES                                                  battery or switch-to-ground. These inputs types are defined
    The 33972 has two operating modes, Normal mode and                  using the settings command (Table 6). To set an SPn input
Sleep mode. A discussion on Normal mode begins below.                   for switch-to-battery, a logic [1] for the appropriate bit must be
A discussion on Sleep mode begins on page 19.                           set. To set an SPn input for switch-to-ground, a logic [0] for
                                                                        the appropriate bit must be set. The MCU may change or
Normal Mode                                                             update the programmable switch register via software at any
                                                                        time in Normal mode. Regardless of the setting, when the
    Normal mode may be entered by the following events:                 SPn input switch is closed a logic [1] will be placed in the
    • Application of VPWR to the IC                                     serial output response register (Table 17, page 19).
    • Change-of-switch state (when enabled)
Table 6. Settings Command
              Settings Command                                   Not used                               Battery/Ground Select
  23    22    21    20    19     18   17    16   15     14    13 12    11    10    9      8   7     6      5     4    3     2      1    0
   0     0     0     0     0      0    0     1    X     X     X   X    X     X     X      X  sp7   sp6   sp5    sp4  sp3   sp2   sp1   sp0
WAKE-UP / INTERRUPT REGISTER                                            waking the IC in Sleep mode (Table 7). Programming the
    The wake-up / interrupt register defines the inputs that are        wake-up /interrupt bit to logic [1] will enable the specific input
allowed to wake the 33972 from Sleep Mode or set the INT                to generate an interrupt with switch change of state and will
pin LOW in Normal mode. Programming the wake-up /                       enable the specific input as wake-up. The MCU may change
interrupt bit to logic [0] will disable the specific input from         or update the wake-up / interrupt register via software at any
generating an interrupt and will disable the specific input from        time in Normal mode.
33972
                                                                                                 Analog Integrated Circuit Device Data
14                                                                                                              Freescale Semiconductor


                                                                                                      FUNCTIONAL DEVICE OPERATION
                                                                                                                   OPERATIONAL MODES
Table 7. Wake-up / Interrupt Command
       Wake-up /Interrupt Command                                                   Command Bits
  23   22    21    20    19    18    17  16    15   14    13    12  11     10     9    8      7     6     5      4    3    2     1     0
   0    0     0     0     0     0     1   0    X     X    X      X  X      X      X    X    sp7   sp6   sp5    sp4   sp3  sp2   sp1   sp0
   0    0     0     0     0     0     1   1    X     X  sg13 sg12 sg11 sg10 sg9       sg8   sg7   sg6   sg5    sg4   sg3  sg2   sg1   sg0
WETTING CURRENT REGISTER
    The 33972 has two levels of switch contact current, 16 and
2.0 mA (see Figure 11). The metallic command is used to set
the switch contact current level (Table 8). Programming the
metallic bit to logic [0] will set the switch wetting current to                     Switch Contact Voltage
2.0 mA. Programming the metallic bit to logic [1] will set the
switch contact wetting current to 16 mA. The MCU may
change or update the wetting current register via software at
any time in Normal mode.
    Wetting current is designed to provide higher levels of                                     16 mA Switch Wetting Current
current during switch closure. The higher level of current is
designed to keep switch contacts from building up oxides that
form on the switch contact surface.                                                                2.0 mA Switch Sustain Current
                                                                                          20 ms Wetting Current Timer
                                                                               Figure 11. Contact Wetting and Sustain Current
Table 8. Metallic Command
             Metallic Command                                                       Command Bits
  23   22    21    20    19    18    17  16    15   14    13    12  11     10     9     8     7     6      5     4    3    2     1     0
   0    0     0     0     0     1     0   0    X    X     X      X  X       X     X    X    sp7    sp6  sp5    sp4   sp3  sp2   sp1   sp0
   0    0     0     0     0     1     0   1    X    X   sg13 sg12 sg11 sg10 sg9       sg8   sg7    sg6  sg5    sg4   sg3  sg2   sg1   sg0
                                                                        closed switch contact. With multiple wetting current timers
                                                                        disabled, power dissipation for the IC must be considered.
WETTING CURRENT TIMER REGISTER                                             The MCU may change or update the wetting current timer
    Each switch input has a designated 20 ms timer. The timer           register via software at any time in Normal mode. This allows
starts when the specific switch input crosses the comparator            the MCU to control the amount of time wetting current is
threshold (4.0 V). When the 20 ms timer expires, the contact            applied to the switch contact. Programming the wetting
current is reduced from 16 to 2.0 mA. The wetting current               current timer bit to logic [0] will disable the wetting current
timer may be disabled for a specific input. When the timer is           timer. Programming the wetting current timer bit to logic [1]
disabled, 16 mA of current will continue to flow through the            will enable the wetting current timer (Table 9).
Table 9. Wetting Current Timer Enable Command
     Wetting Current Timer Commands                                                 Command Bits
  23   22    21    20    19     18   17   16   15   14    13     12  11     10     9    8      7    6      5     4    3     2    1     0
   0    0     0     0     0      1    1    1    X    X     X     X   X       X     X    X    sp7   sp6   sp5    sp4  sp3  sp2   sp1   sp0
   0    0     0     0     1      0    0    0    X    X   sg13 sg12 sg11 sg10 sg9       sg8   sg7   sg6   sg5    sg4  sg3  sg2   sg1   sg0
                                                                                                                                     33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                                15


 FUNCTIONAL DEVICE OPERATION
 OPERATIONAL MODES
TRI-STATE REGISTER                                                     on each input remains active. This command allows the use
    The tri-state command is use to set the SPn or SGn input           of each input as a comparator with a 4.0 V threshold. The
node as high-impedance (Table 10). By setting the tri-state            MCU may change or update the tri-state register via software
register bit to logic [1], the input will be high-impedance            at any time in Normal mode.
regardless of the metallic command setting. The comparator
Table 10. Tri-State Command
            Tri-State Commands                                                     Command Bits
  23    22    21   20    19    18   17     16   15  14   13   12    11     10     9      8     7     6    5     4     3     2   1    0
   0     0     0    0     1     0    0      1   X    X   X     X     X      X     X      X    sp7   sp6  sp5   sp4  sp3   sp2  sp1  sp0
   0     0     0    0     1     0    1      0   X    X  sg13 sg12 sg11 sg10 sg9         sg8   sg7   sg6  sg5   sg4  sg3   sg2  sg1  sg0
ANALOG SELECT REGISTER                                                 selects the input as high-impedance. Setting bit 6 and bit 5 to
    The analog voltage on switch inputs may be read by the             0,1 selects 2.0 mA, and 1,0 selects 16 mA. Setting bit 6 and
MCU using the analog command (Table 11). Internal to the               bit 5 to 1,1 in the analog select register is not allowed and will
IC is a 22-to-1 analog multiplexer. The voltage present on the         place the input as an analog input with high-impedance.
selected input pin is buffered and made available on the                   Analog currents set by the analog command are pull-up
AMUX output pin. The AMUX output pin is clamped to a                   currents for all SGn and SPn inputs (Table 11). The analog
maximum of VDD volts regardless of the higher voltages                 command does not allow pull-down currents on the SPn
present on the input pin. After an input has been selected as          inputs. Setting the current to 16 or 2.0 mA may be useful for
the analog, the corresponding bit in the next SO data stream           reading sensor inputs. Further information is provided in the
will be logic [0]. When selecting a channel to be read as              Typical Applications section of this datasheet beginning on
analog, the user must also set the desired current (16 mA,             page 21. The MCU may change or update the analog select
2.0 mA, or high-impedance). Setting bit 6 and bit 5 to 0,0             register via software at any time in Normal mode.
Table 11. Analog Command
              Analog Command                                    Not used                         Current Select   Analog Channel Select
  23    22    21   20     19    18   17     16   15  14   13  12   11    10     9     8     7      6       5      4     3    2   1   0
   0     0     0    0      0     1    1      0   X    X   X   X     X     X     X     X     X    16 mA 2.0 mA     0     0    0   0   0
33972
                                                                                                  Analog Integrated Circuit Device Data
16                                                                                                             Freescale Semiconductor


                                                                                                  FUNCTIONAL DEVICE OPERATION
                                                                                                              OPERATIONAL MODES
                                       Table 12. Analog Channel
                                           Bits 43210           Analog Channel Select
                                             00000                No Input Selected
                                             00001                       SG0
                                             00010                       SG1
                                             00011                       SG2
                                             00100                       SG3
                                             00101                       SG4
                                             00110                       SG5
                                             00111                       SG6
                                             01000                       SG7
                                             01001                       SG8
                                             01010                       SG9
                                             01011                      SG10
                                             01100                      SG11
                                             01101                      SG12
                                             01110                      SG13
                                             01111                       SP0
                                             10000                       SP1
                                             10001                       SP2
                                             10010                       SP3
                                             10011                       SP4
                                             10100                       SP5
                                             10101                       SP6
                                             10110                       SP7
CALIBRATION OF TIMERS                                                 this 512 μs calibration pulse. Because the oscillator
    In cases where an accurate time base is required, the user        frequency changes with temperature, calibration is required
may calibrate the internal timers using the calibration               for an accurate time base. Calibrating the timers has no affect
command (Table 13). After the 33972 device receives the               on the quiescent current measurement. The calibration
calibration command, the device expects 512 μs logic [0]              command simply makes the time base more accurate. The
calibration pulse on the CS pin. The pulse is used to calibrate       calibration command may be used to update the device on a
the internal clock. No other SPI pins should transition during        periodic basis.
Table 13. Calibration Command
            Calibration Command                                                   Command Bits
  23    22   21    20    19  18    17   16     15   14   13    12    11    10   9     8     7    6    5    4      3    2    1     0
   0     0    0     0     1   0     1    1     X    X     X     X    X     X    X     X    X    X     X    X      X    X    X     X
                                                                                                                                33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                           17


 FUNCTIONAL DEVICE OPERATION
 OPERATIONAL MODES
RESET                                                                          states or the paragraph entitled Power-ON Reset (POR) on
     The reset command resets all registers to Power-ON                        page 14 of this datasheet.
Reset (POR) state. Refer to Table 15, page 18, for POR
Table 14. Reset Command
                     Reset Command                                                           Command Bits
   23      22       21   20    19    18     17     16    15  14   13   12     11    10    9     8     7     6     5       4      3      2    1      0
    0       1        1     1    1     1      1      1    X    X    X    X     X     X     X     X     X     X     X       X      X      X    X      X
SPI COMMAND SUMMARY                                                            output (SO) data for input voltages greater or less than the
     Table 15 below provides a comprehensive list of SPI                       threshold level. Open switches are always indicated with a
commands recognized by the 33972 and the reset state of                        logic [0], closed switches are indicated with logic [1].
each register. Table 16 and Table 17 contain the serial
Table 15. SPI Command Summary
                       MSB            Command Bits                                              Setting Bits                                     LSBI
                         23   22   21    20     19    18  17  16  15  14   13    12   11    10   9    8    7    6      5      4      3    2    1    0
Switch Status
                           0   0   0      0      0     0   0  0   X   X    X     X     X    X    X    X    X    X      X      X      X    X   X     X
Command
Settings Command
Bat = 1, Gnd = 0           0   0   0      0      0     0   0  1   X   X    X     X     X    X    X    X   SP7  SP6   SP5    SP4    SP3   SP2 SP1   SP0
(Default state = 1)
Wake-Up/Interrupt Bit      0   0   0      0      0     0   1  0   X   X    X     X     X    X    X    X   SP7  SP6   SP5    SP4    SP3   SP2 SP1   SP0
Wake-Up = 1
Non-Wake-Up = 0
                           0   0   0      0      0     0   1  1   X   X   SG13 SG12 SG11 SG10 SG9    SG8  SG7  SG6  SG5     SG4    SG3   SG2 SG1  SG0
(Default state = 1)
Metallic Command           0   0   0      0      0     1   0  0   X   X    X     X     X    X    X    X   SP7  SP6   SP5    SP4    SP3   SP2 SP1   SP0
Metallic = 1
Non-metallic = 0
                           0   0   0      0      0     1   0  1   X   X   SG13 SG12 SG11 SG10 SG9    SG8  SG7  SG6  SG5     SG4    SG3   SG2 SG1  SG0
(Default state = 1)
                                                                                                              16mA 2.0mA
Analog Command             0   0   0      0      0     1   1  0   X   X    X     X     X    X    X    X    X                  0      0    0    0    0
                                                                                                                0      0
Wetting Current Timer      0   0   0      0      0     1   1  1   X   X    X     X     X    X    X    X   SP7  SP6   SP5    SP4    SP3   SP2 SP1   SP0
Enable Command
Timer ON = 1
Timer OFF = 0              0   0   0      0      1     0   0  0   X   X   SG13 SG12 SG11 SG10 SG9    SG8  SG7  SG6  SG5     SG4    SG3   SG2 SG1  SG0
(Default state = 1)
Tri-State Command          0   0   0      0      1     0   0  1   X   X    X     X     X    X    X    X   SP7  SP6   SP5    SP4    SP3   SP2 SP1   SP0
Input Tri-State = 1
Input Active = 0           0   0   0      0      1     0   1  0   X   X   SG13 SG12 SG11 SG10 SG9    SG8  SG7  SG6  SG5     SG4    SG3   SG2 SG1  SG0
(Default state = 1)
Calibration Command
(Default state –           0   0   0      0      1     0   1  1   X   X    X     X     X    X    X    X    X    X      X      X      X    X   X     X
  uncalibrated)
Sleep Command
                                                                                                                      int    int    int scan scan scan
(Refer to Sleep Mode       0   0   0      0      1     1   0  0   X   X    X     X     X    X    X    X    X    X
                                                                                                                    timer timer timer timer timer timer
on page 19.)
Reset Command              0   1   1      1      1     1   1  1   X   X    X     X     X    X    X    X    X    X      X      X      X    X   X     X
SO Response Will        them  int
                                  SP7   SP6    SP5   SP4 SP3 SP2 SP1 SP0 SG13 SG12 SG11 SG10 SG9     SG8  SG7  SG6  SG5     SG4    SG3   SG2 SG1  SG0
Always Send               flg flg
33972
                                                                                                         Analog Integrated Circuit Device Data
18                                                                                                                      Freescale Semiconductor


                                                                                                                               FUNCTIONAL DEVICE OPERATION
                                                                                                                                       OPERATIONAL MODES
                                           Table 16. Serial Output (SO) Bit Data
                                                                             Input                Voltage on
                                                   Type of Input                                                     SO SPI Bit
                                                                          Programmed               Input Pin
                                                        SP               Switch to Ground         SPn < 4.0V               1
                                                                         Switch to Ground         SPn > 4.0V               0
                                                                         Switch to Battery        SPn < 4.0V               0
                                                                         Switch to Battery        SPn > 4.0V               1
                                                       SG                       N/A               SGn < 4.0V               1
                                                                                N/A               SGn > 4.0V               0
Table 17. Serial Output (SO) Response Register
SO Response Will       them    int
                                         SP7    SP6    SP5   SP4   SP3    SP2   SP1   SP0 SG13 SG12 SG11 SG10 SG9    SG8   SG7     SG6       SG5         SG4       SG3      SG2         SG1           SG0
Always Send              flg   flg
EXAMPLE OF NORMAL MODE OPERATION                                                               SLEEP MODE
    The operation of the device in Normal mode is defined by                                       Sleep mode is used to reduce system quiescent currents.
the states of the programmable internal control registers. A                                   Sleep mode may be entered only by sending the sleep
typical application may have the following settings:                                           command. All register settings programmed in Normal mode
    • Programmable switch – set to switch-to-ground                                            will be maintained in Sleep mode.
    • All inputs set as wake-up                                                                    The 33972 will exit Sleep mode and enter Normal mode
    • Wetting current on (16 mA)                                                               when any of the following events occur:
    • Wetting current timer on (20 ms)                                                             • Input switch change of state (when enabled)
    • All inputs tri-state-disabled (comparator is active)                                         • Interrupt timer expire
    • Analog select 00000 (no input channel selected)                                              • Falling edge of WAKE
    With the device programmed as above, an interrupt will be                                      • Falling edge of INT (with VDD = 5.0 V and WAKE at
generated with each switch contact change of state (open-to-                                          Logic [1])
close or close-to-open) and 16 mA of contact wetting current                                       • Falling edge of CS (with VDD = 5.0 V)
will be source for 20 ms. The INT pin will remain LOW until                                        • Power-ON Reset (POR)
switch status is acknowledged by the microprocessor. It is                                         The VDD supply may be removed from the device during
critical to understand INT will not be cleared on the rising                                   Sleep mode. However removing VDD from the device in Sleep
edge of CS if a switch closure occurs while CS is LOW. The                                     mode will disable a wake-up from falling edge of INT and CS.
maximum duration a switch state change can exist without
                                                                                                   Note In cases where CS is used to wake the device, the
acknowledgement depends on the software response time to
                                                                                               first SO data message is not valid.
the interrupt. Figure 6, page 9, shows the interaction
between changing input states and the INT and CS pins.                                             The sleep command contains settings for two
                                                                                               programmable timers for Sleep mode, the interrupt timer and
    If desired the user may disable interrupts (wake up/
                                                                                               the scan timer, as shown in Table 18 The interrupt timer is
interrupt command) from the 33972 device and read the
                                                                                               used as a periodic wake-up timer. When the timer expires, an
switch states on a periodic basis. Switch activation and
                                                                                               interrupt is generated and the device enters Normal mode.
deactivation faster than the MCU read rate will not be
acknowledged.                                                                                      Note The interrupt timer in the 33972 device may be
                                                                                               disabled by programming the interrupt bits to logic [1 1 1].
    The 33972 device will exit the Normal mode and enter the
Sleep mode only with a valid sleep command.                                                        Table 19 shows the programmable settings of the Interrupt
                                                                                               timer.
Table 18. Sleep Command
                   Sleep Command                                                                              Command Bits
 23     22     21         20         19        18     17     16    15      14    13     12   11     10    9      8    7        6     5           4             3           2            1             0
                                                                                                                                                                           scan timer   scan timer    scan timer
  0      0         0       0         1         1       0     0     X        X     X     X     X      X    X      X   X         X
                                                                                                                                     int timer     int timer   int timer
                                                                                                                                                                                                     33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                                                                                                 19


 FUNCTIONAL DEVICE OPERATION
 OPERATIONAL MODES
                                                                  Figure 5, page 9, is a graphical description of how the
Table 19. Interrupt Timer                                     33972 device exits Sleep mode and enters Normal mode.
      Bits 543                   Interrupt Period             Notice that the device will exit Sleep mode when the interrupt
                                                              timer expires or when a switch change of state occurs. The
        000                            32 ms                  falling edge of INT triggers the MCU to wake from Sleep
        001                            64 ms                  state. Figure 12 illustrates the current consumed during
                                                              Sleep mode. During the 125 μs, the device is fully active and
        010                           128 ms                  switch states are read. The quiescent current is calculated by
        011                           256 ms                  integrating the normal running current over scan period plus
                                                              approximately 60 μA.
        100                           512 ms
        101                           1.024 s
        110                           2.048 s
        111                    No interrupt wake-up
   The scan timer sets the polling period between input
switch reads in Sleep mode. The period is set in the sleep
command and may be set to 000 (no period) to 111 (64 ms).                            II=V/R or or
                                                                                        = V/R  0.270V/100ohm
                                                                                                  0.270V/100Ω = 2.7mA
                                                                                                                  = 2.7mA
In Sleep mode when the scan timer expires, inputs will
behave as programmed prior to sleep command. The 33972
will wake up for approximately 125 μs and read the switch
inputs. At the end of the 125 μs, the input switch states are
compared with the switch state prior to sleep command.
When switch state changes are detected, an interrupt is
                                                                          Inputs active for
generated (when enabled; refer to wake-up / interrupt                    Inputs active for 125 us      II=V/R
                                                                                                         = V/Ror or
                                                                                                                 6mV/100ohm = 60 uA
                                                                          125μs
                                                                         out of 32 out
                                                                                   ms of 32ms          6.0mV/100Ω = 60μA
command description on page 15), and the device enters
Normal mode. Without switch state changes, the 33972 will
reset the scan timer, inputs become tri-state, and the Sleep
mode continues until the scan timer expires again.                           Figure 12. Sleep Current Waveform
   Table 20 shows the programmable settings of the Scan
timer.                                                        TEMPERATURE MONITOR
                                                                  With multiple switch inputs closed and the device
Table 20. Scan Timer
                                                              programmed with the wetting current timers disabled,
      Bits 210                     Scan Period                considerable power will be dissipated by the IC. For this
                                                              reason, temperature monitoring has been implemented. The
        000                          No Scan
                                                              temperature monitor is active in the Normal mode only. When
        001                           1.0 ms                  the IC temperature is above the thermal limit, the temperature
                                                              monitor will do all of the following:
        010                           2.0 ms
                                                                  • Generate an interrupt.
        011                           4.0 ms                      • Force all 16 mA pull-up and pull-down current sources
        100                           8.0 ms                         to revert to 2.0 mA current sources.
                                                                  • Maintain the 2.0 mA current source and all other
        101                            16 ms
                                                                     functionality.
        110                            32 ms                      • Set the thermal flag bit in the SPI output register.
        111                            64 ms                      The thermal flag bit in the SPI word will be cleared on rising
                                                              edge of CS provided the die temperature has cooled below
   Note The interrupt and scan timers are disabled in the
                                                              the thermal limit. When die temperature has cooled below
Normal Mode.
                                                              thermal limit, the device will resume previously programmed
                                                              settings.
33972
                                                                                            Analog Integrated Circuit Device Data
20                                                                                                        Freescale Semiconductor


                                                                                                             TYPICAL APPLICATIONS
                                                                                                                      INTRODUCTION
                                                   TYPICAL APPLICATIONS
                                                              INTRODUCTION
   The 33972’s primary function is the detection of open or           METALLIC / ELASTOMERIC SWITCH
closed switch contacts. However, there are many features                 Metallic switch contacts often develop higher contact
that allow the device to be used in a variety of applications.        resistance over time owing to contact corrosion. The
The following is a list of applications to consider for the IC:       corrosion is induced by humidity, salt, and other elements
   Sensor Power Supply                                                that exist in the environment. For this reason the 33972
   Switch Monitor for Metallic or Elastomeric Switches                provides two settings for contacts. When programmed for
   Analog Sensor Inputs (Ratiometric)                                 metallic switches, the device provides higher wetting current
                                                                      to keep switch contacts free of oxides. The higher current
   Power MOSFET / LED Driver and Monitor
                                                                      occurs for the first 20 ms of switch closure. Where longer
   Multiple 33972 Devices in a Module System                          duration of wetting current is desired, the user may send the
   The following paragraphs describe the applications in              wetting current timer command and disable the timer. Wetting
detail.                                                               current will be continuous to the closed switch. After the time
                                                                      period set by the MCU, the wetting current timer command
SENSOR POWER SUPPLY                                                   may be sent again to enable the timer. The user must
                                                                      consider power dissipation on the device when disabling the
   Each input may be used to supply current to sensors
                                                                      timer. (Refer to the paragraph entitled Temperature Monitor,
external to a module. Many sensors such as Hall effect,
                                                                      page 20.)
pressure sensors, and temperature sensors require a supply
voltage to power the sensor and provide an open collector or             To increase the amount of wetting current for a switch
analog output. Figure 13 shows how the 33972 may be used              contact, the user has two options. Higher wetting current to a
to supply power and interface to these types of sensors. In an        switch may be achieved by paralleling SGn or SPn inputs.
application where the input makes continuous transitions,             This will increase wetting current by 16 mA for each input
consider using the wake-up / interrupt command to disable             added to the switch contact. The second option is to simply
the interrupt for the particular input.                               add an external resistor pull-up to the VPWR supply for switch-
                                                                      to-ground inputs or a resistor to ground for a switch-to-battery
                                                                      input. Adding an external resistor has no effect on the
                                                                      operation of the device.
    VBAT                     33972
                                                                         Elastomeric switch contacts are made of carbon and have
                 SP0
                                      VPWR                            a high contact resistance. Resistance of 1.0 kΩ is common.
                 SP1                          VDD                     In applications with elastomeric switches, the pull-up and
                                       VDD              MCU           pulldown currents must be reduced to prevent excessive
    VBAT
                                                                      power dissipation at the contact. Programming for a lower
                 SP7                                                  current settings is provided in the Functional Device
                                      WAKE
                                          SI      MOSI
                                                                      Operation section beginning on page 13 under Table 8,
                 SG0                  SCLK        SCLK                Metallic Command.
                 SG1    VPWR VPWR
                                         CS       CS
                     16          2.0     SO       MISO                ANALOG SENSOR INPUTS (RATIOMETRIC)
                     mA          mA     INT       INT
     16 mA
                                                                         The 33972 features a 22-to-1 analog multiplexer. Setting
                SG12
                                                                      the binary code for a specific input in the analog command
                        VPWR VPWR
                                                                      allows the microcontroller to perform analog to digital
    Hall-Effect      16          2.0                                  conversion on any of the 22 inputs. On rising edge of CS the
    Sensor
                     mA          mA                                   multiplexer connects a requested input to the AMUX pin. The
  Reg           SG13                                                  AMUX pin is clamped to max of VDD volts regardless of the
  X
                                                                      higher voltages present on the input pin. After an input has
                                                                      been selected as the analog, the corresponding bit in the next
                               2.5 kΩ                IOC[7:0]         SO data stream will be logic [0].
                                                     Input Capture
                                        2.5 kΩ       Timer Port          The input pin, when selected as analog, may be
                                                                      configured as analog with high-impedance, analog with
                                                                      2.0 mA pull-up, or analog with 16 mA pull-up. Figure 14,
                                                                      page 22, shows how the 33972 may be used to provide a
                                                                      ratiometric reading of variable resistive input.
                 Figure 13. Sensor Power Supply
                                                                                                                                 33972
 Analog Integrated Circuit Device Data
 Freescale Semiconductor                                                                                                            21


 TYPICAL APPLICATIONS
 INTRODUCTION
                                                                                               I1 x R1
    VBAT                      33972                                                    ADC =           x 255
                                                                                               I2 x R2
                 SP0
                                         VPWR                                              2.0mA x 2.0kΩ
                 SP1                             VDD                              ADC =                     x 255
                                           VDD            MCU                             2.0mA x 2.39kΩ
    VBAT
                                                                                         ADC = 213 counts
                 SP7
                                         WAKE                        The ADC value of 213 counts is the value with 0% error
                                              SI     MOSI
                SG0
                                                                 (neglecting the resistor tolerance and AMUX input offset
                                         SCLK        SCLK
                SG1       VPWR VPWR                              voltage). Now we can calculate the count value induced by
                                             CS      CS
                                                     MISO
                                                                 the mismatch in current sources. From a sample device the
                       16          2.0       SO
        I1             mA          mA       INT      INT
                                                                 maximum current source was measured at 2.05 mA and
      2.0mA    SG12                      AMUX
                                                                 minimum current source was measured at 1.99 mA. This
                                                         AN0
                          VPWR VPWR
                                                                 yields 3% error in A / D conversion. The A / D measurement
      R1
                                                          Analog will be as follows:
                                                           Ports
    Analog Sensor      16          2.0
    or Analog Switch   mA          mA
               SG13
                                                                                         1.99mA x 2.0kΩ
                                                                                 ADC =                      x 255
                    I2                                                                  2.05mA x 2.39kΩ
                  2.0mA        4.54V to 5.02V
                                                         VREF(H)
                                                                                         ADC = 207 counts
                       2.39kΩ
                         0.1%       R2
                                                         VREF(L)     This A / D conversion is 3% low in value. The error
                                                                 correction factor of 1.03 may be used to correct the value:
           Figure 14. Analog Ratiometric Conversion
                                                                                     ADC = 207 counts x 1.03
    To read a potentiometer sensor, the wiper should be
grounded and brought back to the module ground, as                                      ADC = 213 counts
illustrated in Figure 14. With the wiper changing the                An error correction factor may then be stored in E2
impedance of the sensor, the analog voltage on the input will    memory and used in the A / D calculation for the specific input.
represent the position of the sensor.                            Each input used as analog measurement will have a
    Using the Analog feature to provide 2.0 mA of pull-up        dedicated calibrated error correction factor.
current to an analog sensor may induce error due to the
accuracy of the current source. For this reason, a ratiometric   POWER MOSFET / LED DRIVER AND MONITOR
conversion must be considered. Using two current sources
                                                                     Because of the flexible programming of the 33972 device,
(one for the sensor and one to set the reference voltage to the
                                                                 it may be used to drive small loads like LEDs or MOSFET
A / D converter) will yield a maximum error (owing to the
                                                                 gates. It was specifically designed to power up in the Normal
33972) of 4%.
                                                                 mode with the inputs tri-state. This was done to ensure the
    Higher accuracy may be achieved through module level         LEDs or MOSFETs connected to the 33972 power up in the
calibration. In this example, we use the resistor values from    off-state. The switch programmable inputs (SP0 – SP7) have
Figure 14 and assume the current sources are 4% from each        a source-and-sink capability, providing effective MOSFET
other. The user may use the module end-of-line tester to         gate control. To complete the circuit, a pull-down resistor
calculate the error in the A / D conversion. By placing a        should be used to keep the gate from floating during the
2.0 kΩ, 0.1% resistor in the end-of-line test equipment and      Sleep modes. Figure 15, page 23, shows an application
assuming a perfect 2.0 mA current source from the 33972, a       where the SG0 input is used to monitor the drain-to-source
calculated A / D conversion may be obtained. Using the           voltage of the external MOSFET. The 1.5 kΩ resistor is used
equation yields the following:                                   to set the drain-to-source trip voltage. With the 2.0 mA
                                                                 current source enabled, an interrupt will be generated when
                                                                 the drain-to-source voltage is approximately 1.0 V.
33972
                                                                                          Analog Integrated Circuit Device Data
22                                                                                                    Freescale Semiconductor


                                                                                                              TYPICAL APPLICATIONS
                                                                                                                     INTRODUCTION
                                                                        current to the 1.5 kΩ resistor, the analog voltage on the SGn
VBAT                                                                    pin will be approximately:
                                    VPWR VPWR             SG0
 LOAD
                                                                                          VSGn = ISGn x 1.5kΩ + VDS
                                16           2.0
                                mA           mA
                                                                           As the voltage on the drain of the MOSFET increases, so
                1.5kΩ    SG0                                     AMUX   does the voltage on the SGn pin. With the SGn pin selected
                100kΩ                                                   as analog, the MCU may perform the A / D conversion.
                                      4.0V Ref     +    To SPI
                                                   -
                                                                           Using this method for controlling unclamped inductive
                                                 Comparator
                                                                        loads is not recommended. Inductive flyback voltages greater
                                    VPWR VPWR             SG0           than VPWR may damage the IC.
                                16           2.0                           The SP0 : SP7 pins of this device may also be used to send
                                mA           mA
                                                                        signals from one module to another. Operation is similar to
                         SP0                                            the gate control of a MOSFET.
                                            4.0V +-   To SPI               • For LED applications a resistor in series with the LED is
                                             Ref
                                16             Comparator                    recommended but not required. The switch-to-ground
                                mA
                                            2.0mA                            inputs are recommended for LED application. To drive
                                                                             the LED use the following commands:
                                  VPWR VPWR
                                                         SG13              • wetting current timer enable command – Disable SGn
                               16           2.0                              wetting current timer.
                               mA           mA
                                                                           • metallic command – Set SGn to 16 mA.
                        SG13
                                                                           From this point forward the LED may be turned on and off
                                      4.0V Ref     +   To SPI           using the tri-state command :
                                                   -
                                                 Comparator                • tri-state command – Disable tri-state for SGn (LED ON).
                                                                           • tri-state command – Enable tri-state for SGn (LED
                                                                             OFF).
                                                                           These parameters are easily programmed via SPI
          Figure 15. MOSFET or LED Driver Output
                                                                        commands in Normal mode.
   The sequence of commands (from Normal mode with
inputs tri-state) required to set up the device to drive a
                                                                        MULTIPLE 33972 DEVICES IN A MODULE SYSTEM
MOSFET are as follows:
                                                                           Connecting power to the 33972 and the MCU for Sleep
   • wetting current timer enable command – Disable SPn
                                                                        mode operation may be done in several ways. Table 21
      wetting current timer (refer to Table 9, page 15).
                                                                        shows several system configurations for power between the
   • metallic command – Set SPn to 16 or 2.0 mA gate drive
                                                                        MCU and the 33972 and their specific requirements for
      current (refer to Table 8, page 15).
                                                                        functionality.
   • settings command – Set SPn as switch-to-battery (refer
      to Table 6, page 14).                                             Table 21. Sleep Mode Power Supply
   • tri-state command – Disable tri-state for SPn (refer to
      Table 10, page 16).                                                 MCU     33972
                                                                                                           Comments
                                                                          VDD      VDD
   After the tri-state command has been sent (tri-state
disable), the MOSFET gate will be pulled to ground. From this             5.0 V   5.0 V    All wake-up conditions apply. (Refer to Sleep
point forward the MOSFET may be turned on and off by                                       Mode, page 19.)
sending the settings command :                                            5.0 V    0V      SPI wake-up is not possible.
   • settings command – SPn as switch-to-ground
                                                                          0V      5.0 V    Sleep mode not possible. Current from CS pull-
      (MOSFET ON).                                                                         up will flow through MCU to VDD that has been
   • settings command – SPn as switch-to-battery                                           switched off. Negative edge of CS will put
      (MOSFET OFF).                                                                        33972 in Normal mode.
   Monitoring of the MOSFET drain in the OFF state provides               0V       0V      SPI wake-up is not possible.
open load detection. This is done by using an SGn input
comparator. With the SGn input in tri-state, the load will pull              Multiple 33972 devices may be used in a module system.
up the SGn input to battery. With open load the SGn pin is              SPI control may be done in parallel or serial. However when
pulled down to ground through an external resistor. The open            parallel mode is used, each device is addressed
load is indicated by a logic [1] in the SO data bit.                    independently (refer to MCU Interface Description, page 13).
                                                                        Therefore when sending the sleep command, one device will
   The analog command may be used to monitor the drain
                                                                        enter sleep before the other. For multiple devices in a system,
voltage in the MOSFET ON state. By sourcing 2.0 mA of
                                                                        it is recommended that the devices are controlled in serial (S0
                                                                                                                                    33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                                23


 TYPICAL APPLICATIONS
 INTRODUCTION
from first device is connected to SI of second device). With   event of transients on the VPWR pin, an internal reset may
two devices, 48 clock pulses are required to shift data in.    occur. Upon reset the 33972 will enter Normal mode with the
When the WAKE feature is used to enable the power supply,      internal registers as defined in Table 15, page 18. Therefore
both WAKE pins should be connected to the enable pin on the    it is recommended that the MCU periodically update all
power supply. The INT pins may be connected to one             registers internal to the IC.
interrupt pin on the MCU or may have their own dedicated
interrupt to the MCU.                                          USING THE WAKE FEATURE
   The transition from Normal to Sleep mode is done by             The 33972 provides a WAKE output and wake-up input
sending the sleep command. With the devices connected in       designed to control an enable pin on system power supply.
serial and the sleep command sent, both will enter Sleep       While in the Normal mode, the WAKE output is LOW,
mode on the rising edge of CS. When Sleep mode is entered,     enabling the power supply. In the Sleep mode, the WAKE pin
the WAKE pin will be logic [1]. If either device wakes up, the is high, disabling the power supply. The WAKE pin has a
WAKE pin will transition LOW, waking the other device.         passive pull-up to the internal 5.0 V supply but may be pulled
   A condition exists where the MCU is sending the sleep       up through a resistor to the VPWR supply (see Figure 17,
command (CS logic [0]) and a switch input changes state.       page 25)
With this event the device that detects this input will not        When the WAKE output is not used, the pin should be
transition to Sleep mode, while the second device will enter   pulled up to the VDD supply through a resistor as shown in
Sleep mode. In this case two switch status commands must       Figure 16, page 25.
be sent to receive accurate switch status data. The first          During the Sleep mode, a switch closure will set the WAKE
switch status command will wake the device in Sleep mode.      pin LOW, causing the 33972 to enter the Normal mode. The
Switch status data may not be valid from the first switch      power supply will then be activated, supplying power to the
status command because of the time required for the input      VDD pin and the microprocessor and the 33972. The
voltage to rise above the 4.0 V input comparator threshold.    microprocessor can determine the source of the wake-up by
This time is dependant on the impedance of SGn or SPn
                                                               reading the interrupt flag.
node. The second switch status command will provide
accurate switch status information. It is recommended that
software wait 10 to 20 ms between the two switch status
                                                               COST AND FLEXIBILITY
commands, allowing time for switch input voltages to               Systems requiring a significant number of switch
stabilize. With all switch states acknowledged by the MCU,     interfaces have many discrete components. Discrete
the sleep sequence may be initiated. All parameters for Sleep  components on standard PWB consume board space and
mode should be updated prior to sending the sleep              must be checked for solder joint integrity. An integrated
command.                                                       approach reduces solder joints, consumes less board space,
   The 33972 IC has an internal 5.0 V supply from the VPWR     and offers wider operating voltage, analog interface
pin. A POR circuit monitors the internal 5.0 V supply. In the  capability, and greater interfacing flexibility.
33972
                                                                                        Analog Integrated Circuit Device Data
24                                                                                                  Freescale Semiconductor


                                                                                            TYPICAL APPLICATIONS
                                                                                                    INTRODUCTION
                                                                                VDD
                                                                                    VDD
 VBAT                                                                 Power
                                                                      Supply
   VBAT                         33972
                                                      VPWR
                           SP0        VPWR
                           SP1
                                                                VDD
   VBAT                               VDD
                           SP7                                                                MC68HCXX
                                     WAKE                                                    Microprocessor
                                         CS                                             CS
                           SG0
                                        INT                                             INT
                           SG1
                                          SI                                            MOSI
                                         SO                                             MISO
                                      SCLK                                              SCLK
                                     AMUX                                               AN0
                           SG12
                                         EP
                                       GND
                           SG13
                                      Figure 16. Power Supply Active in Sleep Mode
                                                                                VDD
                                                                                    VDD
 VBAT                                                                 Power
                                                                     Supply
  VBAT                         33972
                                               VPWR                 Enable
                           SP0        VPWR
                           SP1
   VBAT                              WAKE
                                                                VDD
                                       VDD
                                                                                              MC68HCXX
                           SP7
                                                                                             Microprocessor
                                         CS                                             CS
                           SG0
                                        INT                                             INT
                           SG1
                                          SI                                            MOSI
                                         SO                                             MISO
                                      SCLK                                              SCLK
                                     AMUX                                               AN0
                           SG12
                                         EP
                                       GND
                           SG13
                                    Figure 17. Power Supply Shutdown in Sleep Mode
                                                                                                             33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                        25


PACKAGING
PACKAGE DIMENSIONS
                                                            PACKAGING
                                                      PACKAGE DIMENSIONS
   For the most current package revision, visit www.freescale.com and perform a keyword search using the 98A listed below.
                                                            EW SUFFIX (Pb-FREE)
                                                          32-LEAD SOIC WIDE BODY
                                                                98ARH99137A
                                                                  ISSUE B
33972
                                                                                               Analog Integrated Circuit Device Data
26                                                                                                           Freescale Semiconductor


                                                                                         PACKAGING
                                                                     PACKAGE DIMENSIONS (CONTINUED)
                                      PACKAGE DIMENSIONS (CONTINUED)
                                              EW SUFFIX (Pb-FREE)
                                            32-LEAD SOIC WIDE BODY
                                                  98ARH99137A
                                                    ISSUE B
                                                                                               33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                          27


PACKAGING
PACKAGE DIMENSIONS (CONTINUED)
                                 EK SUFFIX (Pb-FREE)
                               32-LEAD SOIC WIDE BODY
                                    EXPOSED PAD
                                     98ASA10556D
                                       ISSUE D
33972
                                                      Analog Integrated Circuit Device Data
28                                                                Freescale Semiconductor


                                                                                 PACKAGING
                                                             PACKAGE DIMENSIONS (CONTINUED)
                                        EK SUFFIX (Pb-FREE)
                                      32-LEAD SOIC WIDE BODY
                                           EXPOSED PAD
                                            98ASA10556D
                                              ISSUE D
                                                                                       33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                  29


PACKAGING
PACKAGE DIMENSIONS (CONTINUED)
                                 EK SUFFIX (Pb-FREE)
                               32-LEAD SOIC WIDE BODY
                                    EXPOSED PAD
                                     98ASA10556D
                                       ISSUE D
33972
                                                      Analog Integrated Circuit Device Data
30                                                                Freescale Semiconductor


                                                                                                                      REVISION HISTORY
                                                   REVISION HISTORY
REVISION    DATE               DESCRIPTION OF CHANGES
     4.0     2/2006            • Converted to Freescale format
                               • Added PC33972A version
                               • Changed Figure 15, Power Supply Active in Sleep Mode
                               • Changed Figure 16, Power Supply Shutdown in Sleep Mode
                               • Updated Outline Drawing for package
     5.0     6/2006            • Update to the prevailing Freescale form and style.
     6.0     7/2006            • Added MC33972T devices.
                               • Updated StatiC Electrical Characteristics on page 6 with 33972T parameters.
     7.0     11/2006           • Changed Human Body Model parameters in Maximum Ratings table.
                               • Replaced Part Number MC33972TEW/R2 with MCZ33972TEW/R2
                               • Removed Peak Package Reflow Temperature During Reflow (solder reflow) parameter from
                                 Maximum Ratings on page 5. Added note with instructions to obtain this information from
                                 www.freescale.com.
     8.0     12/2006           • Restated note (6)
                               • Changed Part Number MCZ33972TEW/R2 with MC33972TEW/R2
     9.0     4/2007            • Removed all references to the 33972T device.
                               • Removed the MC33972TDWB/R2, MC33972TEW/R2, and PC33972AEW/R2 from the ordering
                                 information.
                               • Added MCZ33972AEW/R2 to the ordering information.
    10.0     6/2007            • Added MC33972EW/R2, MC33972TDWB/R2, MC33972TEW/R2, and MCZ33972TEW/R2 to the
                                 ordering information.
    11.0     11/2007           • Updated to the current Freescale form and style
                               • Added MC33972AEK/R2 to the ordering information.
                               • Included device specific information relevant to the EK suffix on pages 1, 2, 4, 5, 6, 27, and 28.
                               • Added sentence to CHIP SELECT (CS) on page 10
                               • Made calculation corrections to Analog Sensor Inputs (Ratiometric)
    12.0     12/2007           • Corrected Device Variation Table on page 2.
    13.0     12/2007           • Replaced Outline Drawing 98ARL10543D with 98ASA10556D.
    14.0     6/2008            • Added Note 7, “TC is the TCASE of the package” to Electrical Characteristics Table.
    15.0     8/2008            • Updated package drawing 98ASA10556D
    16.0     10/2009           • Updated data sheet status from Advance Information to Technical Data
                               • Updated to the current Freescale form and style
    17.0     2/2011            • Updated Freescale form and style
                               • Added RoHS symbol
    18.0     8/2011            • Revised Ordering Information Table by adding part numbers MC33972AEK/R2 and
                                 MC33972ATEW/R2, and removing part numbers MC33972DWB/R2 and MC33972TDWB/R2.
    19.0     3/2012            • Added the sentence “This condition in not a normal operating condition and can cause damage to
                                 the IC.” to Programmable Switches (SP0 : SP7) and Switch-to-ground Inputs (SG0 : SG13)
                               • Changed sentence in Control and Protection Circuitry: “Characteristics are provided for VPWR from
                                 8.0v to 26v for the IC (parametric tests are done from 8.0v to 16.0v).”
                                                                                                                                    33972
Analog Integrated Circuit Device Data
Freescale Semiconductor                                                                                                               31


How to Reach Us:         Information in this document is provided solely to enable system and software
                         implementers to use Freescale products. There are no express or implied copyright
Home Page:
freescale.com            licenses granted hereunder to design or fabricate any integrated circuits on the
Web Support:             information in this document.
freescale.com/support    Freescale reserves the right to make changes without further notice to any products
                         herein. Freescale makes no warranty, representation, or guarantee regarding the
                         suitability of its products for any particular purpose, nor does Freescale assume any
                         liability arising out of the application or use of any product or circuit, and specifically
                         disclaims any and all liability, including without limitation consequential or incidental
                         damages. “Typical” parameters that may be provided in Freescale data sheets and/or
                         specifications can and do vary in different applications, and actual performance may
                         vary over time. All operating parameters, including “typicals,” must be validated for
                         each customer application by customer’s technical experts. Freescale does not convey
                         any license under its patent rights nor the rights of others. Freescale sells products
                         pursuant to standard terms and conditions of sale, which can be found at the following
                         address: http://www.reg.net/v2/webservices/Freescale/Docs/TermsandConditions.htm
                         Freescale, the Freescale logo, AltiVec, C-5, CodeTest, CodeWarrior, ColdFire, C-Ware,
                         Energy Efficient Solutions logo, mobileGT, PowerQUICC, QorIQ, Qorivva, StarCore, and
                         Symphony are trademarks of Freescale Semiconductor, Inc., Reg. U.S. Pat. & Tm. Off.
                         Airfast, BeeKit, BeeStack, ColdFire+, CoreNet, Flexis, MagniV, MXC, Platform in a
                         Package, Processor expert, QorIQ Qonverge, QUICC Engine, Ready Play,
                         SMARTMOS, TurboLink, Vybrid, and Xtrinsic are trademarks of Freescale
                         Semiconductor, Inc. All other product or service names are the property of their
                         respective owners.
                         © 2012 Freescale Semiconductor, Inc.
Document Number: MC33972
Rev. 19.0
3/2012


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
NXP:
 MC33972TEW MC33972TEWR2 KIT33972AEWEVBE MC33972ATEK MC33972ATEKR2 MC33972ATEW
MC33972ATEWR2
