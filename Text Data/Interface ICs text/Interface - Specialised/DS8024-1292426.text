                                                                                                                              DS8024
                                                                                     Smart Card Interface
                               General Description                                                                                   Features
The DS8024 smart card interface IC is a low-cost, analog                       o Analog Interface and Level Shifting for IC Card
front-end for a smart card reader, designed for all ISO                            Communication
7816, EMV®, and GSM11-11 applications. The DS8024
is a pin-for-pin drop-in replacement for the NXP                               o ±8kV (min) ESD (IEC) Protection on Card
TDA8024 and is offered in 28-pin TSSOP and SO pack-                                Interfaces
ages.                                                                          o Internal IC Card Supply-Voltage Generation:
Applications requiring support for 1.8V smart cards or                                5.0V ±5%, 80mA (max)
requiring low power should consider the DS8113, which                                 3.0V ±8%, 65mA (max)
achieves lower active- and stop-mode power with mini-
mal changes to application hardware and software.                              o Automatic Card Activation and Deactivation
                                                                                   Controlled by Dedicated Internal Sequencer
                                               Applications                    o I/O Lines from Host Directly Level Shifted for
                                                                                   Smart Card Communication
         Set-Top Box Conditional Access
                                                                               o Flexible Card Clock Generation, Supporting
         Access Control
                                                                                   External Crystal Frequency Divided by 1, 2, 4, or 8
         Banking Applications
                                                                               o High-Current, Short-Circuit and High-Temperature
         POS Terminals
                                                                                   Protection
         Debit/Credit Payment Terminals
         PIN Pads                                                                                                 Pin Configuration
         Automated Teller Machines
         Telecommunications
                                                                                         TOP VIEW
         Pay/Premium Television
                                                                                      CLKDIV1 1                                      28 AUX2IN
                            Ordering Information                                      CLKDIV2 2                                      27 AUX1IN
       PART               TEMP RANGE              PIN-PACKAGE                            5V/3V 3                                     26 I/OIN
 DS8024-RJX+              -40°C to +85°C          28 TSSOP                               PGND 4                                      25 XTAL2
                                                                                           CP2 5                                     24 XTAL1
 DS8024-RJX/V+            -40°C to +85°C          28 TSSOP
                                                                                          VDDA 6              DS8024                 23 OFF
 DS8024-RRX+              -40°C to +85°C          28 SO
                                                                                           CP1 7                                     22 GND
Note: Contact the factory for availability of other variants and
package options.                                                                           VUP 8                                     21 VDD
+Denotes a lead(Pb)-free/RoHS-compliant package.                                          PRES 9                                     20 RSTIN
/V denotes an automotive-qualified part.                                                  PRES 10                                    19 CMDVCC
                                                                                            I/O 11                                   18 N.C.
                                                                                         AUX2 12                                     17 VCC
Selector Guide appears at end of data sheet.                                             AUX1 13                                     16 RST
                                                                                         CGND 14                                     15 CLK
                                                                                                            SO/TSSOP
EMV is a registered trademark of EMVCo LLC. EMV Level 1 library and hardware reference design available. Contact factory for
details.
Note: Some revisions of this device may incorporate deviations from published specifications known as errata. Multiple revisions of any device may be
simultaneously available through various sales channels. For information about device errata, go to: www.maximintegrated.com/errata.
 For pricing, delivery, and ordering information, please contact Maxim Direct
 at 1-888-629-4642, or visit Maxim’s website at www.maximintegrated.com.                                                          19-6220; Rev 4; 4/13


DS8024
Smart Card Interface
ABSOLUTE MAXIMUM RATINGS
Voltage Range on VDD Relative to GND ...............-0.5V to +6.5V                     Continuous Power Dissipation (multilayer board, TA = +70°C)
Voltage Range on VDDA Relative to PGND ...........-0.5V to +6.5V                         TSSOP (derate 14mW/°C above +70°C) .................1117.3mW
Voltage Range on CP1, CP2, and VUP                                                       SO (derate 16.7mW/°C above +70°C) .....................1355.9mW
   Relative to PGND...............................................-0.5V to +7.5V       Storage Temperature Range .............................-55°C to +150°C
Voltage Range on All Other Pins                                                        Lead Temperature (soldering, 10s) .................................+300°C
   Relative to GND......................................-0.5V to (VDD + 0.5V)          Soldering Temperature (reflow) .......................................+260°C
Maximum Junction Temperature .....................................+125°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
absolute maximum rating conditions for extended periods may affect device reliability.
RECOMMENDED DC OPERATING CONDITIONS
(VDD = +3.3V, VDDA = +5.0V, TA = +25°C, unless otherwise noted.) (Note 1)
                  PARAMETER                                    SYMBOL                     CONDITIONS                 MIN           TYP          MAX          UNITS
 POWER SUPPLY
 Digital Supply Voltage                                             VDD                                               2.7                         6.0           V
                                                                              VCC = 5V, |ICC| < 80mA                  4.0                         6.0
 Card Voltage-Generator Supply Voltage                             VDDA                                                                                         V
                                                                              VCC = 5V, |ICC| < 30mA                  3.0                         6.0
                                                                   VTH2       Threshold voltage (falling)            2.30          2.45          2.60           V
 Reset Voltage Thresholds
                                                                  VHYS2       Hysteresis                              50           100           150          mV
 CURRENT CONSUMPTION
 Active VDD Current 5V Cards                                                  ICC = 80mA, fXTAL = 20MHz,
                                                                 IDD_50V                                                                         215          mA
 (Including 80mA Draw from 5V Card)                                           fCLK = 10MHz, VDDA = 5.0V
 Active VDD Current 5V Cards                                                  ICC = 80mA, fXTAL = 20MHz,
                                                                  IDD_IC                                                                         135          mA
 (Current Consumed by DS8024 Only)                                            fCLK = 10MHz, VDDA = 5.0V (Note 2)
 Active VDD Current 3V Cards                                                  ICC = 65mA, fXTAL = 20MHz,
                                                                 IDD_30V                                                                         100          mA
 (Including 65mA Draw from 3V Card)                                           fCLK = 10MHz, VDDA = 5.0V
 Active VDD Current 3V Cards                                                  ICC = 65mA, fXTAL = 20MHz,
                                                                  IDD_IC                                                                          35          mA
 (Current Consumed by DS8024 Only)                                            fCLK = 10MHz, VDDA = 5.0V (Note 2)
 Inactive-Mode Current                                              IDD       Card inactive                                                      500           μA
 CLOCK SOURCE
 Crystal Frequency                                                 fXTAL      External crystal                         0                          20          MHz
                                                                  fXTAL1                                               0                          20          MHz
                                                                                                                                                0.3 x
                                                               VIL_XTAL1      Low-level input on XTAL1 (Note 3)      -0.3
 XTAL1 Operating Conditions                                                                                                                      VDD
                                                                                                                                                                V
                                                                                                                     0.7 x                     VDD +
                                                               VIH_XTAL1      High-level input on XTAL1 (Note 3)
                                                                                                                     VDD                          0.3
                                                                 CXTAL1,
 External Capacitance for Crystal                                             (Note 3)                                                            15           pF
                                                                 CXTAL2
 Internal Oscillator                                                fINT                                                            2.7                       MHz
 SHUTDOWN TEMPERATURE
 Shutdown Temperature                                               TSD       (Note 3)                                            +150                         °C
2                                                                                                                                                 Maxim Integrated


                                                                                                  DS8024
                                                                       Smart Card Interface
RECOMMENDED DC OPERATING CONDITIONS (continued)
(VDD = +3.3V, VDDA = +5.0V, TA = +25°C, unless otherwise noted.) (Note 1)
                PARAMETER                    SYMBOL                  CONDITIONS           MIN  TYP  MAX  UNITS
 RST PIN
                     Output Low Voltage      VOL_RST1    IOL_RST = 1mA                     0         0.3   V
 Card-Inactive Mode
                     Output Current          IOL_RST1    VO_LRST = 0V                      0         -1   mA
                     Output Low Voltage      VOL_RST2    IOL_RST = 200μA                   0         0.3   V
                     Output High                                                         VCC -
                                             VOH_RST2    IOH_RST = -200μA                           VCC    V
                     Voltage                                                              0.5
                     Rise Time                  tR_RST   CL = 30pF (Note 3)                          0.1   μs
 Card-Active Mode    Fall Time                  tF_RST   CL = 30pF (Note 3)                          0.1   μs
                     Shutdown Current
                                              IRST(SD)                                         -20        mA
                     Threshold
                     Current Limitation     IRST(LIMIT)                                   -20       +20   mA
                     RSTIN to RST Delay   tD(RSTIN-RST)                                               2    μs
 CLK PIN
                     Output Low Voltage      VOL_CLK1    IOLCLK = 1mA                      0         0.3   V
 Card-Inactive Mode
                     Output Current          IOL_CLK1    VOLCLK = 0V                       0         -1   mA
                     Output Low Voltage      VOL_CLK2    IOLCLK = 200μA                    0         0.3   V
                     Output High                                                         VCC -
                                            VOH_CLK2     IOHCLK = -200μA                            VCC    V
                     Voltage                                                              0.5
                     Rise Time                 tR_CLK    CL = 30pF (Note 3)                           8    ns
 Card-Active Mode    Fall Time                  tF_CLK   CL = 30pF (Note 3)                           8    ns
                     Current Limitation     ICLK(LIMIT)                                   -70       +70   mA
                     Clock Frequency             fCLK    Operational (Note 3)              0         10   MHz
                     Duty Factor                        CL = 30pF (Note 3)               45         55    %
                     Slew Rate                    SR     CL = 30pF (Note 3)               0.2             V/ns
 VCC PIN
                     Output Low Voltage          VCC1    ICC = 1mA                         0         0.3   V
 Card-Inactive Mode
                     Output Current              ICC1    VCC = 0V                          0         -1   mA
                                                         ICC(5V) < 80mA                  4.75  5.00 5.25
                                                         ICC(3V) < 65mA                  2.78  3.00 3.22
                                                         5V card: current pulses of 40nC
                     Output Low Voltage          VCC2    with I < 200mA, t < 400ns,       4.6        5.4   V
                                                         f < 20MHz (Note 3)
                                                         3V card: current pulses of 24nC
 Card-Active Mode                                        with I < 200mA, t < 400ns,      2.75       3.25
                                                         f < 20MHz (Note 3)
                                                         VCC(5V) = 0 to 5V                          -80
                     Output Current              ICC2                                                     mA
                                                         VCC(3V) = 0 to 3V                          -65
                     Shutdown Current
                                               ICC(SD)                                         120        mA
                     Threshold
                     Slew Rate                 VCCSR     Up/down, C < 300nF              0.05  0.16 0.22  V/μs
Maxim Integrated                                                                                               3


DS8024
Smart Card Interface
RECOMMENDED DC OPERATING CONDITIONS (continued)
(VDD = +3.3V, VDDA = +5.0V, TA = +25°C, unless otherwise noted.) (Note 1)
                PARAMETER                    SYMBOL                  CONDITIONS          MIN     TYP MAX       UNITS
 DATA LINES (I/O AND I/OIN)
 I/O  I/OIN Falling Edge Delay              tD(IO-IOIN) (Note 3)                                     200        ns
 Pullup Pulse Active Time                          tPU   (Note 3)                                     100        ns
 Maximum Frequency                              fIOMAX                                                  1       MHz
 Input Capacitance                                  CI   (Note 3)                                      10        pF
 I/O, AUX1, AUX2 PINS
                        Output Low Voltage     VOL_IO1   IOL_IO = 1mA                       0          0.3        V
                        Output Current         IOL_IO1   VOL_IO = 0V                        0          -1        mA
 Card-Inactive Mode
                        Internal Pullup
                                               RPU_IO    To VCC                            9      11   19        k
                        Resistor
                        Output Low Voltage     VOL_IO2   IOL_IO = 1mA                       0          0.3        V
                        Output High
                                              VOH_IO2    IOH_IO = < -40μA (3V/5V)       0.75 x VCC    VCC         V
                        Voltage
                        Output Rise/Fall
                                                   tOT   CL = 30pF (Note 3)                            0.1       μs
                        Time
                        Input Low Voltage        VIL_IO                                  -0.3         +0.8
                                                                                                                  V
 Card-Active Mode       Input High Voltage      VIH_IO                                    1.5         VCC
                        Input Low Current        IIL_IO  VIL_IO = 0V                                  700        μA
                        Input High Current       IIH_IO  VIH_IO = VCC                                  20        μA
                        Input Rise/Fall Time        tIT  (Note 3)                                      1.2       μs
                        Current Limitation    IIO(LIMIT) CL = 30pF                        -15         +15        mA
                        Current When                     CL = 80pF, VOH = 0.9 x VDD
                                                   IPU                                     -1                    mA
                        Pullup Active                    (Note 3)
 I/OIN, AUX1IN, AUX2IN PINS
 Output Low Voltage                               VOL    IOL = 1mA                          0          0.3        V
                                                                                        0.75 x       VDD +
 Output High Voltage                              VOH    IOH < -40μA                                              V
                                                                                         VDD           0.1
 Output Rise/Fall Time                             tOT   CL = 30pF, 10% to 90% (Note 3)                0.1       μs
                                                                                                      0.3 x
 Input Low Voltage                                 VIL                                   -0.3                     V
                                                                                                      VDD
                                                                                         0.7 x       VDD +
 Input High Voltage                                VIH                                                            V
                                                                                         VDD           0.3
 Input Low Current                               IIL_IO  VIL = 0V                                     600        μA
 Input High Current                              IIH_IO  VIH = VDD                                     10        μA
 Input Rise/Fall Time                               tIT  VIL to VIH (Note 3)                           1.2       μs
 Integrated Pullup Resistor                       RPU    Pullup to VDD                     9      11   13        k
                                                         CL = 30pF, VOH = 0.9 x VDD
 Current When Pullup Active                        IPU                                     -1                    mA
                                                         (Note 3)
4                                                                                                      Maxim Integrated


                                                                                                          DS8024
                                                                       Smart Card Interface
RECOMMENDED DC OPERATING CONDITIONS (continued)
(VDD = +3.3V, VDDA = +5.0V, TA = +25°C, unless otherwise noted.) (Note 1)
                PARAMETER                   SYMBOL                  CONDITIONS                MIN     TYP      MAX    UNITS
 CONTROL PINS (CLKDIV1, CLKDIV2, CMDVCC, RSTIN, 5V/3V)
                                                                                                                0.3 x
 Input Low Voltage                               VIL                                          -0.3                      V
                                                                                                                VDD
                                                                                              0.7 x            VDD +
 Input High Voltage                              VIH                                                                    V
                                                                                              VDD                0.3
 Input Low Current                             IIL_IO    0 < VIL < VDD                                            5    μA
 Input High Current                            IIH_IO    0 < VIH < VDD                                            5    μA
 Integrated Pullup Resistor                     RPU      Pullup to VDD, 5V/3V only             50       85      120    kĀ
 INTERRUPT OUTPUT PIN (OFF)
 Output Low Voltage                             VOL      IOL = 2mA                              0                0.3    V
                                                                                             0.75 x
 Output High Voltage                            VOH      IOH = -15μA                                                    V
                                                                                              VDD
 Integrated Pullup Resistor                     RPU      Pullup to VDD                         12      20        28    k
 PRES, PRES PINS
                                                                                                                0.3 x
 Input Low Voltage                          VIL_PRES                                                                    V
                                                                                                                VDD
                                                                                              0.7 x
 Input High Voltage                         VIH_PRES                                                                    V
                                                                                              VDD
 Input Low Current                           IIL_PRES    VIL_PRES = 0V                                           40    μA
 Input High Current                          IIH_PRES    VIH_PRES = VDD                                          40    μA
 TIMING
 Activation Time                                tACT                                                   160             μs
 Deactivation Time                            tDEACT                                                    80             μs
 CLK to Card Start     Window Start               t3                                                   95
                                                                                                                       μs
 Time                  Window End                 t5                                                   160
 PRES/PRES Debounce Time                   tDEBOUNCE                                                    8              ms
Note 1: Operation guaranteed at TA = -40°C and TA = +85°C, but not tested.
Note 2: IDD_IC measures the amount of current used by the DS8024 to provide the smart card current minus the load.
Note 3: Guaranteed by design, but not production tested.
Maxim Integrated                                                                                                           5


DS8024
Smart Card Interface
                                                                                                Pin Description
   PIN    NAME                                                     FUNCTION
         CLKDIV1, Clock Divider. Determines the divided-down input clock frequency (presented at XTAL1 or from a
   1, 2
         CLKDIV2  crystal at XTAL1 and XTAL2) on the CLK output pin. Dividers of 1, 2, 4, and 8 are available.
                  5V/3V Selection Pin. Allows selection of 5V or 3V for communication with an IC card. Logic-high selects
    3      5V/3V  5V operation; logic-low selects 3V operation. See Table 3 for a complete description of choosing card
                  voltages.
    4      PGND   Analog Ground
                  Step-Up Converter Contact. Charge-pump capacitor. Connect a 100nF capacitor (ESR < 100mĀ)
   5, 7  CP2, CP1
                  between CP1 and CP2.
    6      VDDA   Charge-Pump Supply. Must be equal to or higher than VDD. Connect a supply of at least 3.3V.
    8       VUP   Charge-Pump Output. Connect a 100nF capacitor (ESR < 100mĀ) between V UP and GND.
                  Card Presence Indicator. Active-low card presence inputs. When the presence indicator becomes
    9      PRES
                  active, a debounce timeout begins. After 8ms (typ) the OFF signal becomes active.
                  Card Presence Indicator. Active-high card presence inputs. When the presence indicator becomes
   10      PRES
                  active, a debounce timeout begins. After 8ms (typ) the OFF signal becomes active.
   11        I/O  Smart Card Data-Line Output. Card data communication line, contact C7.
           AUX2,  Smart Card Auxiliary Line (C4, C8) Output. Data line connected to card reader contacts C4 (AUX1) and
  12, 13
           AUX1   C8 (AUX2).
   14     CGND    Smart Card Ground
   15       CLK   Smart Card Clock. Card clock, contact C3.
   16       RST   Smart Card Reset. Card reset output from contact C2.
                  Smart Card Supply Voltage. Decouple to CGND (card ground) with 2 x 100nF or 100 + 220nF
   17       VCC
                  capacitors (ESR < 100m).
   18       N.C.  No Connection. Unused on the DS8024.
   19    CMDVCC   Activation Sequence Initiate. Active-low input from host.
   20      RSTIN  Card Reset Input. Reset input from the host.
   21       VDD   Supply Voltage
   22       GND   Digital Ground
   23       OFF   Status Output. Active-low interrupt output to the host. Use a 20k integrated pullup resistor to VDD.
          XTAL1,  Crystal/Clock Input. Connect an input from an external clock to XTAL1 or connect a crystal across
  24, 25
          XTAL2   XTAL1 and XTAL2. For the low idle-mode current variant, an external clock must be driven on XTAL1.
   26      I/OIN  I/O Input. Host-to-interface chip data I/O line.
         AUX1IN,
  27, 28          C4/C8 Input. Host-to-interface I/O line for auxiliary connections to C4 and C8.
          AUX2IN
6                                                                                                            Maxim Integrated


                                                                                                             DS8024
                                                                          Smart Card Interface
                                Detailed Description                 input pin, instead using the DS8024’s default reset
                                                                     threshold.)
The DS8024 is an analog front-end for communicating
with 3V and 5V smart cards. Using an integrated                                                          Power Supply
charge pump, the DS8024 can operate from a single
                                                                     The DS8024 can operate from a single supply or a dual
input voltage. The device translates all communication
                                                                     supply. The supply pins for the device are VDD, GND,
lines to the correct voltage level and provides power for
                                                                     VDDA, and PGND. VDD should be in the range of 2.7V
smart card operation. It can operate from a wide input
                                                                     to 6.0V, and is the supply for signals that interface with
voltage range (3.3V to 6.0V). The DS8024 is compatible
                                                                     the host controller. It should, therefore, be the same
with the NXP TDA8024 and is provided in the same
                                                                     supply as used by the host controller. All smart card
packages. (Note that the PORADJ pin is not present in
                                                                     contacts remain inactive during power on or power off.
the DS8024. Most applications do not make use of this
                                                                     The internal circuits are kept in the reset state until VDD
                                                                     reaches VTH2 + VHYS2 and for the duration of the inter-
                                                                     nal power-on reset pulse, tW. A deactivation sequence
                                          CARD VOLTAGE
                                                                VDDA is executed when VDD falls below VTH2.
                                                                PGND
          VDD            POWER-SUPPLY       GENERATOR                An internal charge pump and regulator generate the
                                                                CP1
         GND               SUPERVISOR          AND
                                          CHARGE PUMP
                                                                CP2  3V or 5V card supply voltage (VCC). The charge pump
                                                                VUP  and regulator are supplied by VDDA and PGND. VDDA
       XTAL1                                                         should be connected to a minimum 3.3V (maximum
       XTAL2                  CLOCK        TEMPERATURE               6.0V) supply and should be at a potential that is equal
     CLKDIV1               GENERATION        MONITOR
     CLKDIV2
                                                                     to or higher than VDD.
                                                                     The charge pump operates in a 1x (voltage follower) or
                                                                VCC  2x (voltage doubler) mode depending on the input
       5V/3V                                                    CGND
    CMDVCC                           CONTROL                    RST
                                                                     VDDA and the selected card voltage (5V or 3V).
       RSTIN                        SEQUENCER                   CLK     • For 5V cards, the DS8024 operates in a 1x mode
          OFF                                                   PRES       for VDDA > 5.8V and in a 2x mode for VDDA < 5.8V.
                                                                PRES
                                                                        • For 3V cards, the DS8024 operates in a 1x mode
        I/OIN                                                   I/O        for VDDA > 4.1V and in a 2x mode for VDDA < 4.0V.
      AUX1IN                     I/O TRANSCEIVER                AUX1
      AUX2IN                                                    AUX2                           Voltage Supervisor
                                                                     The voltage supervisor monitors the V DD supply. A
                                      DS8024
                                                                     220µs reset pulse (tW) is used internally to keep the
                                                                     device inactive during power on or power off of the VDD
 Figure 1. Functional Diagram                                        supply. See Figure 2.
                                                                                                              VTH2 + VHYS2
                                                                                                              VTH2
                          VDD
                       ALARM
            (INTERNAL SIGNAL)
                                                          tW                     tW
                                                       POWER ON            SUPPLY DROPOUT                    POWER OFF
 Figure 2. Voltage Supervisor Behavior
 Maxim Integrated                                                                                                              7


DS8024
Smart Card Interface
The DS8024 card interface remains inactive no matter                                        I/O Transceivers
the levels on the command lines until duration tW after
                                                           The three data lines I/O, AUX1, and AUX2 are identical.
VDD has reached a level higher than VTH2 + VHYS2.
                                                           This section describes the characteristics of I/O and
When VDD falls below VTH2, the DS8024 executes a
                                                           I/OIN but also applies to AUX1, AUX1IN, AUX2, and
card deactivation sequence if its card interface is
                                                           AUX2IN.
active.
                                                           I/O and I/OIN are pulled high with an 11kΩ resistor (I/O
                                 Clock Circuitry           to VCC and I/OIN to VDD) in the inactive state. The first
The clock signal from the DS8024 to the smart card         side of the transceiver to receive a falling edge
(CLK) is generated from the clock input on XTAL1 or        becomes the master. When the master is decided, the
from a crystal operating at up to 20MHz connected          opposite side switches to slave mode, ignoring subse-
between pins XTAL1 and XTAL2. The inputs CLKDIV1           quent edges until the master releases. After a time delay
and CLKDIV2 determine the frequency of the CLK sig-        tD(EDGE), an n transistor on the slave side is turned on,
nal, which can be fXTAL, fXTAL/2, fXTAL/4, or fXTAL/8.     thus transmitting the logic 0 present on the master side.
Table 1 shows the relationship between CLKDIV1 and         When the master side asserts a logic 1, a p transistor
CLKDIV2 and the frequency of CLK.                          on the slave side is activated during the time delay tPU
Do not change the state of pins CLKDIV1 and CLKDIV2        and then both sides return to their inactive (pulled up)
simultaneously; a delay of 10ns minimum between            states. This active pullup provides fast low-to-high tran-
changes is required. The minimum duration of any state     sitions. After the duration of tPU, the output voltage
of CLK is 8 periods of XTAL1.                              depends only on the internal pullup resistor and the
                                                           load current. Current to and from the card I/O lines is
The hardware in the DS8024 guarantees that the fre-
                                                           limited internally to 15mA. The maximum frequency on
quency change is synchronous. During a transition of
                                                           these lines is 1MHz.
the clock divider, no pulse is shorter than 45% of the
smallest period, and the clock pulses before and after                                         Inactive Mode
the instant of change have the correct width.
                                                           The DS8024 powers up with the card interface in the
To achieve a 45% to 55% duty factor on pin CLK when        inactive mode. Minimal circuitry is active while waiting
no crystal is present, the input signal on XTAL1 should    for the host to initiate a smart card session.
have a 48% to 52% duty factor. Transition time on
                                                              • All card contacts are inactive (approximately 200Ω
XTAL1 should be less than 5% of the period.
                                                                 to GND).
With a crystal, the duty factor on pin CLK may be 45%
                                                              • Pins I/OIN, AUX1IN, and AUX2IN are in the high-
to 55% depending on the circuit layout and on the crys-
                                                                 impedance state (11kΩ pullup resistor to VDD).
tal characteristics and frequency.
                                                              • Voltage generators are stopped.
The DS8024 crystal oscillator runs when the device is
powered up. If the crystal oscillator is used or the clock    • XTAL oscillator is running (if included in the device).
pulse on pin XTAL1 is permanent, the clock pulse is           • Voltage supervisor is active.
applied to the card at time t4 (see Figures 7 and 8). If
                                                              • The internal oscillator is running at its low frequency.
the signal applied to XTAL1 is controlled by the host
microcontroller, the clock pulse is applied to the card                              Activation Sequence
when it is sent by the system microcontroller (after
completion of the activation sequence).                    After power-on and the reset delay, the host microcon-
                                                           troller can monitor card presence with signals OFF and
                                                           CMDVCC, as shown in Table 2.
Table 1. Clock Frequency Selection
      CLKDIV1             CLKDIV2              fCLK        Table 2. Card Presence Indication
         0                   0                fXTAL/8
                                                                    OFF                CMDVCC                STATUS
         0                   1                fXTAL/4
                                                                    High                High          Card present.
         1                   1                fXTAL/2
                                                                    Low                 High          Card not present.
         1                   0                 fXTAL
8                                                                                                           Maxim Integrated


                                                                                                     DS8024
                                                                     Smart Card Interface
When a card is inserted into the reader (if PRES is          An alternate sequence allows the application to control
active), the host microcontroller can begin an activation    when the clock is applied to the card.
sequence (start a card session) by pulling CMDVCC                1) Host: Set RSTIN high.
low. The following events form an activation sequence
(Figure 3):                                                      2) Host: Set CMDVCC low.
   1) Host: CMDVCC is pulled low.                                3) Host: Set RSTIN low between t3 and t5; CLK will now
                                                                     start.
   2) DS8024: The internal oscillator changes to high
      frequency (t0).                                            4) DS8024: RST stays low until t5, then RST becomes
                                                                     the copy of RSTIN.
   3) DS8024: The voltage generator is started simulta-
      neously (t0 = t1).                                         5) DS8024: RSTIN has no further effect on CLK after t5.
   4) DS8024: VCC rises from 0 to 5V or 3V with a con-       If the applied clock is not needed, set CMDVCC low
      trolled slope (t2 = t1 + 1.5 × T). T is 64 times the   with RSTIN low. In this case, CLK starts at t3 (minimum
      internal oscillator period (approximately 25µs).       200ns after the transition on I/O, see Figure 4); after t5,
                                                             RSTIN can be set high to obtain an answer to request
   5) DS8024: I/O, AUX1, and AUX2 are enabled (t3 =          (ATR) from an inserted smart card. Do not perform acti-
      t1 + 4T).                                              vation with RSTIN held permanently high.
   6) DS8024: The CLK signal is applied to the C3 con-
      tact (t4).                                                                                  Active Mode
   7) DS8024: RST is enabled simultaneously (t5 = t4 =       When the activation sequence is completed, the
      t1 + 7T).                                              DS8024 card interface is in active mode. The host
                                                             microcontroller and the smart card exchange data on
                                                             the I/O lines.
           CMDVCC
                 VCC
                  I/O                                                                              ATR
                CLK
              RSTIN
                 RST
               I/OIN
                                t0 t1    t2      t3     t4 t5 = tACT
 Figure 3. Activation Sequence Using RSTIN and CMDVCC
 Maxim Integrated                                                                                                      9


DS8024
Smart Card Interface
          CMDVCC
               VCC
                I/O                                                  ATR
              CLK
                                                 200ns
            RSTIN
               RST
             I/OIN
                                t0 t1 t2  t3 t4        t5 = tACT
Figure 4. Activation Sequence at t3
          CMDVCC
               RST
               CLK
                I/O
               VCC
                               t10       t12      t13      t14   t15
                                             tDE
Figure 5. Deactivation Sequence
10                                                                       Maxim Integrated


                                                                                                    DS8024
                                                                  Smart Card Interface
                    Deactivation Sequence                    There are two different cases for how the DS8024
                                                             reacts to fault detection (Figure 6):
When the host microcontroller is done communicating
with the smart card, it sets the CMDVCC line high to            • Outside a Card Session (CMDVCC High). Output
execute an automatic deactivation sequence and                     OFF is low if a card is not in the card reader and
returns the card interface to the inactive mode.                   high if a card is in the reader. The VDD supply is
                                                                   monitored—a decrease in input voltage generates
The following sequence of events occurs during a
                                                                   an internal power-on reset pulse but does not
deactivation sequence (Figure 5):
                                                                   affect the OFF signal. Short-circuit and tempera-
  1) RST goes low (t10).                                           ture detection are disabled because the card is
  2) CLK is held low (t12 = t10 + 0.5 × T), where T is 64          not powered up.
      times the period of the internal oscillator (approxi-     • Within a Card Session (CMDVCC Low). Output
      mately 25µs).                                                OFF goes low when a fault condition is detected,
  3) I/O, AUX1, and AUX2 are pulled low (t13 = t10 + T).           and an emergency deactivation is performed auto-
                                                                   matically (Figure 7). When the system controller
  4) VCC starts to fall (t14 = t10 + 3T).
                                                                   resets CMDVCC to high, it may sense the OFF
  5) When VCC reaches its inactive state, the deactiva-            level again after completing the deactivation
      tion sequence is complete (at tDE).                          sequence. This distinguishes between a card
  6) All card contacts become low impedance to GND;                extraction and a hardware problem (OFF goes high
      I/OIN, AUX1IN, and AUX2IN remain at VDD (pulled              again if a card is present). Depending on the con-
      up through an internal 11kΩ resistor).                       nector’s card-present switch (normally closed or
                                                                   normally open) and the mechanical characteristics
  7) The internal oscillator returns to its lower frequency.
                                                                   of the switch, bouncing can occur on the PRES sig-
                                  VCC Generator                    nals at card insertion or withdrawal.
The card voltage (VCC) generator can supply up to            The DS8024 has a debounce feature with an 8ms typi-
80mA continuously at 5V or 65mA at 3V. An internal           cal duration (Figure 6). When a card is inserted, output
overload detector triggers at approximately 120mA.           OFF goes high after the debounce time delay. When
Current samples to the detector are filtered. This allows    the card is extracted, an automatic deactivation
spurious current pulses (with a duration of a few µs) up     sequence of the card is performed on the first true/false
to 200mA to be drawn without causing deactivation.           transition on PRES and output OFF goes low.
The average current must stay below the specified
maximum current value.
                                                                       Stop Mode (Low-Power Mode)
                                                             The DS8024 (like the TDA8024) does not support a low-
See the Applications Information section for recommen-
                                                             power stop mode. For applications requiring low-power
dations to help maintain VCC voltage accuracy.
                                                             support, refer to the DS8113.
                                 Fault Detection                             Smart Card Power Select
The DS8024 integrates circuitry to monitor the following
                                                             The DS8024 supports two smart card VCC voltages: 3V
fault conditions:
                                                             and 5V. The power select is controlled by the 5V/3V
  • Short-circuit or high current on VCC                     signal as shown in Table 3. VCC is 5V if 5V/3V is assert-
  • Card removal while the interface is activated            ed to a logic-high state, and VCC is 3V if 5V/3V is pulled
                                                             to a logic-low state.
  • VDD dropping below threshold
  • Card voltage generator operating out of the speci-       Table 3. VCC Select and Operation Mode
      fied values (VDDA too low or current consumption
      too high)                                                                            VCC       CARD INTERFACE
                                                                 5V/3V      CMDVCC
                                                                                        SELECT (V)        STATUS
  • Overheating
                                                                   0            0            3            Activated
                                                                   0            1            3           Inactivated
                                                                   1            0            5            Activated
                                                                   1            1            5           Inactivated
Maxim Integrated                                                                                                     11


DS8024
Smart Card Interface
             PRES
               OFF
          CMDVCC
                        DEBOUNCE                                    DEBOUNCE
               VCC
                                            DEACTIVATION CAUSED                DEACTIVATION CAUSED
                                           BY CARDS WITHDRAWAL                   BY SHORT CIRCUIT
Figure 6. Behavior of PRES, OFF, CMDVCC, and VCC
            OFF
           PRES
            RST
            CLK
             I/O
            VCC
                               t10             t12         t13  t14        t15
                                                   tDE
Figure 7. Emergency Deactivation Sequence (Card Extraction)
12                                                                                                 Maxim Integrated


                                                                                                                                DS8024
                                                                                         Smart Card Interface
                                                                                                  VDD
                                                                                             100nF
                                                              +3.3V
                             33pF                  33pF   100nF         100nF
                                                                                                                 +3.3V
                                                                                     100nF
                                                                                            +10μF
                                  XTAL1      XTAL2     GND      VDD CP1      CP2 VUP     PGND    VDDA                 100kΩ**
                  GPIO           CLKDIV1                                                           PRES
                     ...         CLKDIV2                                                            VCC
                                 5V/3V
                     ...                                                                            RST
                                 OFF                                                                CLK
                     ...                                          DS8024
                                 RSTIN                                                               I/O                              100nF* 220nF*
                                 CMDVCC                                                            AUX1
                     ...
                                 AUX2IN                                                            AUX2
                  GPIO           AUX1IN
                ISOIO0           I/OIN                                                            CGND
      MAXQ1103
                                 CLKDIV1                                                            VCC
                                 CLKDIV2
                  GPIO           5V/3V                                                              RST
                     ...                                                                            CLK
                                 OFF                              DS8024                             I/O                              100nF* 220nF*
                     ...         RSTIN                                                             AUX1
                                 CMDVCC                                                            AUX2
                     ...
                                 AUX2IN
                  GPIO           AUX1IN                                                           CGND
                ISOIO1           I/OIN                                                             PRES
                                  XTAL1      XTAL2     GND      VDD CP1      CP2 VUP     PGND    VDDA                 100kΩ**
                                                                                            +10μF
                                                                                     100nF
                                                                                                                 +3.3V
                             33pF                  33pF   100nF         100nF
                                                              +3.3V
                                                                                             100nF
                                                                                                  VDD
  *PLACE A 100nF CAPACITOR CLOSE TO DS8024 AND PLACE A 220nF CAPACITOR CLOSE TO CARD CONTACT.
  **SCHEMATIC ASSUMES A NORMALLY CLOSED CONNECTION TO GROUND IN THE SOCKET. INSERTING A CARD BREAKS THE CONNECTION AND PULLS PRES HIGH.
Figure 8. Typical Application Diagram
Maxim Integrated                                                                                                                                   13


 DS8024
Smart Card Interface
                 Applications Information                                                Technical Support
Performance can be affected by the layout of the appli-  For technical support, go to https://support.maxim-
cation. For example, an additional cross-capacitance of  integrated.com/micro.
1pF between card reader contacts C2 (RST) and C3
(CLK) or C2 (RST) and C7 (I/O) can cause contact C2                                            Selector Guide
to be polluted with high-frequency noise from C3 (or
C7). In this case, include a 100pF capacitor between                             CURRENT           SUPPORTS
                                                                                                                  PIN-
contacts C2 and CGND.                                           PART            VOLTAGES              STOP
                                                                                                                  PACKAGE
                                                                              SUPPORTED (V)          MODE?
Application recommendations include the following:
                                                           DS8024-RJX+            3.0, 5.0              No        28 TSSOP
   • Ensure there is ample ground area around the
                                                           DS8024-RJX/V+          3.0, 5.0              No        28 TSSOP
      DS8024 and the connector; place the DS8024
      very near to the connector; decouple the VDD and     DS8024-RRX+            3.0, 5.0              No        28 SO
      VDDA lines separately. These lines are best posi-   Note: Contact the factory for availability of other variants and
      tioned under the connector.                         package options.
                                                          +Denotes a lead(Pb)-free/RoHS-compliant package.
   • The DS8024 and the host microcontroller must use
                                                          /V denotes an automotive qualified part.
      the same VDD supply. Pins CLKDIV1, CLKDIV2,
      RSTIN, PRES, AUX1IN, I/OIN, AUX2IN, 5V/3V,
      CMDVCC, and OFF are referenced to VDD; if pin
      XTAL1 is to be driven by an external clock, also                              Package Information
      reference this pin to VDD.                         For the latest package outline information and land patterns (foot-
   • Trace C3 (CLK) should be placed as far as possi-    prints), go to www.maximintegrated.com/packages. Note that a
      ble from the other traces.                         “+”, “#”, or “-” in the package code indicates RoHS status only.
                                                         Package drawings may show a different suffix character, but the
   • The trace connecting CGND to C5 (GND) should        drawing pertains to the package regardless of RoHS status.
      be straight (the two capacitors on C1 (VCC) should
                                                             PACKAGE           PACKAGE                              LAND
      be connected to this ground trace).                                                  OUTLINE NO.
                                                                TYPE             CODE                          PATTERN NO.
   • Avoid ground loops among CGND, PGND, and                                                                      90-0109
                                                         28 SO (300 mils)       W28+6          21-0042
      GND.
                                                             28 TSSOP            U28+1         21-0066             90-0171
   • Decouple VDDA and VDD separately; if the two
      supplies are the same in the application, they
      should be connected in a star on the main trace.
   • Connect a 100nF capacitor (ESR < 100mΩ)
      between V CC and CGND and place near the
      DS8024’s VCC pin.
   • Connect a 100nF or 220nF capacitor (220nF pre-
      ferred, ESR < 100mΩ) between VCC and CGND
      and place near the smart card socket’s C1 contact.
With all these layout precautions, noise should be kept
to an acceptable level and jitter on C3 (CLK) should be
less than 100ps.
 14                                                                                                            Maxim Integrated


                                                                                                                                         DS8024
                                                                                            Smart Card Interface
                                                                                                                              Revision History
  REVISION        REVISION                                                                                                                          PAGES
                                                                               DESCRIPTION
   NUMBER            DATE                                                                                                                          CHANGED
       0              6/08        Initial release                                                                                                       —
       1              8/08        Clarified the VDDA specification in the Recommended DC Operating Conditions table                                      2
                                  Added the automotive TSSOP version to the Ordering Information and Selector Guide;
       2              2/12                                                                                                                          1, 2, 14
                                  updated the Absolute Maximum Ratings
       3              7/12        Added footnote to the resistor value on the PRES pin in Figure 8                                                      13
       4              4/13        Clarified t1, t5, and t14                                                                                            9, 11
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent
licenses are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and
max limits) shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
Maxim Integrated 160 Rio Robles, San Jose, CA 95134 USA 1-408-601-1000 ________________________________ 15
© 2013 Maxim Integrated Products, Inc.                      Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 DS8024M-RJX+T DS8024-RJX/V+ DS8024-RJX+ DS8024-RJX+T&R DS8024-RRX+ DS8024-RRX+T&R
