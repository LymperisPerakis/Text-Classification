                                                                                                         SP339B
                           RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
JANUARY 2019                                                                                                       REV. 1.0.2
GENERAL DESCRIPTION                                                  FEATURES
The SP339B is an advanced multiprotocol                               Rx enabled during Tx short circuit condition
transceiver supporting RS-232, RS-485, and RS-422                     Pin selectable Cable Termination
serial standards in a 40 pin QFN package. Integrated
cable termination and four configuration modes allow                  No external resistors required for RS-485/422
all three protocols to be used interchangeably over a                   termination and biasing
single cable or connector with no additional switching                3.3V or 5V Single Supply Operation
components. Full operation requires only four
external charge pump capacitors.                                      Robust ESD Protection on bus pins
The RS-485/422 modes feature one driver and one                           n  ±15kV IEC 61000-4-2 (Air Gap)
receiver (1TX/1RX) in both half and full duplex                           n  ± 8kV IEC 61000-4-2 (Contact)
configurations. The RS-232 mode (3TX/5RX)                                 n  ±15kV Human Body Model (HBM)
provides full support of all eight signals commonly
used with the DB9 RS-232 connector. A dedicated                       Max Data Rate of 20Mbps in RS-485/422 Modes
diagnostic loopback mode is also provided.                              and up to 1Mbps in RS-232 Modes
The high speed drivers operate up to 20Mbps in RS-                    Pin selectable 250kbps Slew Limiting
485/422 modes, and up to 1Mbps in RS-232 mode.                        3 Drivers, 5 Receivers RS-232/V.28
All drivers can be slew limited to 250kbps in any
mode to minimize electromagnetic interference (EMI).                  1 Driver, 1 Receiver RS-485/422
                                                                          n  Full and Half Duplex Configuration
All transmitter outputs and receiver inputs feature
robust electrostatic discharge (ESD) protection to                        n  1/8th Unit Load, up to 256 receivers on bus
±15kV IEC-61000-4-2 Air Gap, ±8kV IEC-61000-4-2                       RS-485/422 Enhanced Failsafe for open, shorted,
Contact, and ±15kV Human Body Model (HBM).                              or terminated but idle inputs
Each receiver output has full fail-safe protection to
avoid system lockup, oscillation, or indeterminate                    Space saving 6mm x 6mm QFN-40 Package
states by defaulting to logic-high output level when                  Pin compatible with SP339E and SP338E
the inputs are open, shorted, or terminated but
undriven. No external biasing resistors are required.
                                                                     TYPICAL APPLICATIONS
The RS-232 receiver inputs include a 5k pull-down
to ground. The RS-485/422 receiver inputs are high                    Dual Protocol Serial Ports (RS-232 or RS-485/422)
impedance (>96k when termination is disabled),                       Industrial Computers
allowing up to 256 devices on a single
communication bus (1/8th unit load).                                  Industrial and Process Control Equipment
The SP339B operates from a single power supply,                       Point-Of-Sale Equipment
either 3.3V or 5V, with low idle current (2mA typical in              Networking Equipment
all modes). The shutdown mode consumes less than
10µA for low power standby operation.                                 HVAC Controls Equipment
                                                                      Building Security and Automation Equipment
ORDERING INFORMATION(1)
      PART NUMBER           OPERATING TEMPERATURE RANGE               LEAD-FREE         PACKAGE       PACKAGING METHOD
  SP339BER1-L                         -40°C to +85°C                                  40-pin QFN              Tray
                                                                         Yes(2)
  SP339BER1-L/TR                      -40°C to +85°C                                  40-pin QFN         Tape and Reel
     NOTE:
     1. Refer to.www.exar.com/SP339B for most up-to-date Ordering Information.
     2. Visit www.exar.com for additional information on Environmental Rating.
                                                                  1


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                       REV. 1.0.2
ABSOLUTE MAXIMUM RATINGS
These are stress ratings only and functional operation of the device at these ratings or any other above those indicated in
the operation sections to the specifications below is not implied. Exposure to absolute maximum rating conditions for
extended periods of time may affect reliability and cause permanent damage to the device.
 Supply Voltage VCC                                                                          -0.3V to +6.0V
 Receiver Input Voltage (from Ground)                                                             ±18V
 Driver Output Voltage (from Ground)                                                              ±18V
 Short Circuit Duration, TX out to Ground                                                      Continuous
 Voltage at TTL Input Pins                                                               -0.3V to (VCC + 0.5V)
 Storage Temperature Range                                                                  -65°C to +150°C
 Lead Temperature (soldering, 10s)                                                               +300°C
 Power Dissipation 40-pin QFN
                                                                                                 500mW
 (derate 17mW/°C above +70°C)
 ESD Ratings
 HBM - Human Body Model (Tx Output & Rx Input pins, R1-R9)                                        ±15kV
 HBM - Human Body Model (All other pins)                                                          ±4kV
 IEC 61000-4-2 Airgap Discharge (Tx Output & Rx Input pins, R1-R9)                                ±15kV
 IEC 61000-4-2 Contact Discharge (Tx Output & Rx Input pins, R1-R9)                               ±8kV
CAUTION:
ESD (ElectroStatic Discharge) sensitive device. Permanent damage may occur on unconnected devices subject to high
energy electrostatic fields. Unused devices must be stored in conductive foam or shunts. Personnel should be properly
grounded prior to handling this device. The protective foam should be discharged to the destination socket before devices
are removed.
                                                             2


                                                                                             SP339B
REV. 1.0.2            RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
PIN DESCRIPTIONS BY MODE (MODE1, MODE0)
  Pin       Name    00, Figure 1            01, Figure 2            10, Figure 3         11, Figure 4
    1         L1                 R1 Output                                1                    1
    2         L2                 R2 Output                           R1 Output            R1 Output
    3         L3                  T1 Input                            T1 Input             T1 Input
    4         L4                  T2 Input
    5         L6                 R3 Output                                1                    1
    6         L7                  T3 Input
    7         L8                 R4 Output                                1                    1
    8         L9                 R5 Output                                1                    1
    9        VCC                                            VCC
   10       GND                                           Ground
   11       SLEW                                    SLEW = VCC enables 250kbps slew limiting
                                                                     T1 Enable,
   12       DIR1                                                                          T1 Enable
                                                                     R1 Disable
   13        N/C                    This pin is not used and is not connected internally
   14      MODE0          0                       1                       0                    1
   15      MODE1          0                       0                       1                    1
   16        N/C                    This pin is not used and is not connected internally
   17       TERM                                                 Enables RS-485/422 receiver termination
   18        N/C                    This pin is not used and is not connected internally
   19      ENABLE               ENABLE = VCC for operation, ENABLE = 0V for shutdown
   20        VCC                                           VCC
                                               3


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                         REV. 1.0.2
PIN DESCRIPTIONS BY MODE (MODE1, MODE0)
  Pin       Name         00, Figure 1          01, Figure 2          10, Figure 3          11, Figure 4
  21          R9                                  R5 Input
  22          R8                                  R4 Input
  23        GND                                              Ground
  24          R7                                 T3 Output
  25          R6                                  R3 Input
  26        GND                                              Ground
  27          R4                                 T2 Output                                  R1 Input B
  28          R3                                 T1 Output                                  R1 Input A
  29        GND                                              Ground
  30          R2                                  R2 Input       R1 Input A, T1 Out A        T1 Out A
  31          R1                                  R1 Input       R1 Input B, T1 Out B        T1 Out B
  32         VCC                    VCC - 1.0F to ground recommended for supply decoupling
  33         VSS                      VSS - Charge pump negative supply, 0.1F from ground
  34         C2-                             C2+ - Charge pump cap 2 negative lead
  35         C1-                              C1- - Charge pump cap 1 negative lead
  36        GND                                              Ground
  37         C1+                          C1+ - Charge pump cap 1 positive lead, 0.1F
  38         VCC                                              VCC
  39         C2+                          C2+ - Charge pump cap 2 positive lead, 0.1F
  40         VDD                       VDD - Charge pump positive supply, 0.1F to ground
                                                   4


                                                                      SP339B
REV. 1.0.2          RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
SUGGESTED DB9 CONNECTOR PINOUT
                DB9                     RS-485/422    RS-485
                            RS-232
                Pin                     Full Duplex Half Duplex
                 1           DCD            TX-        Data-
                 2           RXD            TX+       Data+
                 3           TXD            RX+
                 4           DTR            RX-
                 5                        Ground
                 6           DSR
                 7           RTS
                 8           CTS
                 9            RI
                                     5


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                  REV. 1.0.2
ELECTRICAL CHARACTERISTICS
UNLESS OTHERWISE NOTED:
VCC = +3.3V ±5% or +5.0V ±5%, C1-C4 = 0.1F; TA = TMIN to TMAX. Typical values are at VCC = 3.3V, TA = +25°C.
   SYMBOL                  PARAMETERS                MIN.   TYP.     MAX.    UNITS              CONDITIONS
 DC CHARACTERISTICS
     ICC      Supply Current (RS-232)                         2        8      mA     No load, idle inputs
     ICC      Supply Current (RS-485)                         2        8      mA     No load, idle inputs
     ICC      Vcc Shutdown Current                            1       10      A     ENABLE = 0V
 TRANSMITTER and LOGIC INPUT PINS: Pins 3, 4, 6, 11, 12, 14, 15, 17-19
     VIH      Logic Input Voltage High               2.0                       V     VCC = 3.3V
     VIH      Logic Input Voltage High               2.4                       V     VCC = 5.0V
     VIL      Logic Input Voltage Low                                 0.8      V
      IIL     Logic Input Leakage Current Low                          1      A     Input Low (VIN = 0V)
                                                                                     Input High (VIN = VCC),
      IIH     Logic Input Leakage Current High                         1      A
                                                                                     pins 3, 4 and 6
                                                                                     Input High (VIN = VCC),
     IPD      Logic Input Pull-down Current                           50      A
                                                                                     pins 11, 12, 14, 15, 17-19
    VHYS      Logic Input Hysteresis                        200               mV
 RECEIVER OUTPUTS: Pins 1, 2, 5, 7, 8
     VOH      Receiver Output Voltage High          VCC-0.6                    V     IOUT = -1.5mA
     VOL      Receiver Output Voltage Low                             0.4      V     IOUT = 2.5mA
    IOSS      Receiver Output Short Circuit Current         ±20      ±60      mA     0  VO  VCC
                                                                                     0  VO  VCC,
     IOZ      Receiver Output Leakage Current               ±0.1      ±1      A
                                                                                     Receivers disabled
                                                         6


                                                                                                        SP339B
REV. 1.0.2                          RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
ELECTRICAL CHARACTERISTICS (Continued)
UNLESS OTHERWISE NOTED:
VCC = +3.3V ±5% or +5.0V ±5%, C1-C4 = 0.1F; TA = TMIN to TMAX. Typical values are at VCC = 3.3V, TA = +25°C.
   SYMBOL                  PARAMETERS               MIN.    TYP.     MAX.    UNITS             CONDITIONS
 SINGLE-ENDED RECEIVER INPUTS (RS-232)
      VIN     Input Voltage Range                   -15              +15       V
                                                     0.6     1.2               V     VCC = 3.3V
      VIL     Input Threshold Low
                                                     0.8     1.5               V     VCC = 5.0V
                                                             1.5      2.0      V     VCC = 3.3V
      VIH     Input Threshold High
                                                             1.8      2.4      V     VCC = 5.0V
    VHYS      Input Hysteresis                               0.3               V
     RIN      Input Resistance                        3       5        7      k     -15V VIN +15V
 SINGLE-ENDED DRIVER OUTPUTS (RS-232)
                                                    ±5.0    ±5.5               V     Output loaded with 3kto Gnd
      VO      Output Voltage Swing
                                                                     ±7.0      V     No load output
      ISC     Short Circuit Current                                  ±60      mA     VO = 0V
    ROFF      Power Off Impedance                   300     10M                     VCC = 0V, VO = ±2V
                                                        7


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                 REV. 1.0.2
ELECTRICAL CHARACTERISTICS (Continued)
UNLESS OTHERWISE NOTED:
VCC = +3.3V ±5% or +5.0V ±5%, C1-C4 = 0.1F; TA = TMIN to TMAX. Typical values are at VCC = 3.3V, TA = +25°C.
   SYMBOL                   PARAMETERS              MIN.    TYP.     MAX.    UNITS             CONDITIONS
 DIFFERENTIAL RECEIVER INPUTS (RS-485 / RS-422)
                                                                                     TERM = 0V,
      RIN     Receiver Input Resistance              96                       k
                                                                                     -7V VIN +12V
              Receiver Differential
     VTH                                            -200    -125      -50     mV
              Threshold Voltage
    VTH      Receiver Input Hysteresis                      25               mV     VCM = 0V
                                                                      125     A     VIN = +12V
      IIN     Receiver Input Current
                                                                     -100     A     VIN = -7V
                                                                                     TERM = VCC, Figure 5
    RTERM     Termination Resistance                 100    120       155      
                                                                                     -7V VCM +12V
                                                                                     TERM = VCC, Figure 5
    RTERM     Termination Resistance                 100    120       140      
                                                                                     VCM = 0V
 DIFFERENTIAL DRIVER OUTPUTS (RS-485 / RS-422)
                                                      2              VCC       V     RL = 100 (RS-422), Figure 6
                                                     1.5             VCC       V     RL = 54 (RS-485), Figure 6
     VOD      Differential Driver Output
                                                     1.5             VCC       V     -7V VCM +12V, Figure 7
                                                                     VCC       V     No Load
              Change In Magnitude of
    VOD                                            -0.2             +0.2      V     RL = 54 or 100, Figure 6
              Differential Output Voltage
     VCM      Driver Common Mode Output Voltage                        3       V     RL = 54 or 100, Figure 6
              Change In Magnitude of
    VCM                                                              0.2      V     RL = 54 or 100, Figure 6
              Common Mode Output Voltage
     IOSD     Driver Output Short Circuit Current   -250              250     mA     -7V VO +12V, Figure 8
                                                                                     DIR1 = 0V in Mode 11,
                                                                      100     A     or ENABLE = 0V,
                                                                                     VO +12V, VCC = 0V or 5.25V
      IO      Driver Output Leakage Current
                                                                                     DIR1 = 0V in Mode 11,
                                                    -100                      A     or ENABLE = 0V,
                                                                                     VO -7V, VCC = 0V or 5.25V
                                                        8


                                                                                                        SP339B
REV. 1.0.2                          RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
TIMING CHARACTERISTICS
UNLESS OTHERWISE NOTED:
VCC = +3.3V ±5% or +5.0V ±5%, C1-C4 = 0.1F; TA = TMIN to TMAX. Typical values are at VCC = 3.3V, TA = +25°C.
    SYMBOL                 PARAMETERS               MIN.    TYP.     MAX.    UNITS             CONDITIONS
 ALL MODES
    tENABLE   Enable from Shutdown                          1000               ns
  tSHUTDOWN   Enable to Shutdown                            1000               ns
 RS-232, DATA RATE = 250kbps (SLEW = Vcc), ONE TRANSMITTER SWITCHING
              Maximum Data Rate                     250                      kbps    RL = 3k, CL = 1000pF
   tRHL, tRLH Receiver Propagation Delay                    100                ns
                                                                                     CL = 150pF, Figure 9
 tRHL-tRLH  Receiver Propagation Delay Skew                        100       ns
   tDHL, tDLH Driver Propagation Delay                      1400               ns    RL = 3k, CL = 2500pF,
 tDHL-tDLH  Driver Propagation Delay Skew                          600       ns    Figure 10
                                                                                     VCC = 3.3V, RL = 3k to 7k
              Transition Region Slew Rate from
   tSHL, tSLH                                        4                30     V/s    CL = 150pF to 2500pF,
              +3.0V to -3.0V or -3.0V to +3.0V
                                                                                     Figure 10
                                                                                     VCC = 3.3V, RL = 3k to 7k
              Transition Region Slew Rate from
   tSHL, tSLH                                        6                30     V/s    CL = 150pF to 2500pF,
              +3.0V to -3.0V or -3.0V to +3.0V
                                                                                     TA = 25°C, Figure 10
 RS-232, DATA RATE = 1Mbps (SLEW = 0V), ONE TRANSMITTER SWITCHING
              Maximum Data Rate                      1                       Mbps RL = 3k, CL = 250pF
   tRHL, tRLH Receiver Propagation Delay                    100                ns
                                                                                     CL = 150pF, Figure 9
 tRHL-tRLH  Receiver Propagation Delay Skew                        100       ns
   tDHL, tDLH Driver Propagation Delay                      300                ns    RL = 3k, CL = 1000pF,
 tDHL-tDLH  Driver Propagation Delay Skew                          150       ns    Figure 10
                                                                                     VCC = 3.3V, RL = 3k to 7k
              Transition Region Slew Rate from
   tSHL, tSLH                                        15              150     V/s    CL = 150pF to 1000pF,
              +3.0V to -3.0V or -3.0V to +3.0V
                                                                                     Figure 10
                                                                                     VCC = 3.3V, RL = 3k to 7k
              Transition Region Slew Rate from
   tSHL, tSLH                                        24              150     V/s    CL = 150pF to 1000pF,
              +3.0V to -3.0V or -3.0V to +3.0V
                                                                                     TA = 25°C, Figure 10
                                                        9


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                  REV. 1.0.2
TIMING CHARACTERISTICS (Continued)
UNLESS OTHERWISE NOTED:
VCC = +3.3V ±5% or +5.0V ±5%, C1-C4 = 0.1F; TA = TMIN to TMAX. Typical values are at VCC = 3.3V, TA = +25°C.
    SYMBOL                  PARAMETERS               MIN.     TYP.    MAX.    UNITS              CONDITIONS
 RS-485/RS-422, DATA RATE = 250kbps (SLEW = Vcc), ONE TRANSMITTER SWITCHING
               Maximum Data Rate                      250                      kbps    RL = 54CL = 50pF
  tRPHL, tRPLH Receiver Propagation Delay                      50      150      ns
                                                                                       CL = 15pF, Figure 11
 tRPHL-tRPLH Receiver Propagation Delay Skew                          20      ns
  tDPHL, tDPLH Driver Propagation Delay                       500     1000      ns
                                                                                       RL = 54CL = 50pF,
 tDPHL-tDPLH Driver Propagation Delay Skew                           100      ns
                                                                                       Figure 12
    tDR, tDF   Driver Rise and Fall Time              300     650     1200      ns
   tRZH, tRZL  Receiver Output Enable Time                             200      ns
                                                                                       CL = 15pF, Figure 13
   tRHZ, tRLZ  Receiver Output Disable Time                            200      ns
   tDZH, tDZL  Driver Output Enable Time                              1000      ns     RL = 500CL = 50pF,
   tDHZ, tDLZ  Driver Output Disable Time                              200      ns     Figure 14
 RS-485/RS-422, DATA RATE = 20Mbps (SLEW = 0V), ONE TRANSMITTER SWITCHING
               Maximum Data Rate                      20                      Mbps RL = 54CL = 50pF
  tRPHL, tRPLH Receiver Propagation Delay                      50      150      ns
                                                                                       CL = 15pF, Figure 11
 tRPHL-tRPLH Receiver Propagation Delay Skew                          10      ns
  tDPHL, tDPLH Driver Propagation Delay                        30      100      ns
                                                                                       RL = 54CL = 50pF,
 tDPHL-tDPLH Driver Propagation Delay Skew                            10      ns
                                                                                       Figure 12
    tDR, tDF   Driver Rise and Fall Time                       10       20      ns
   tRZH, tRZL  Receiver Output Enable Time                             200      ns
                                                                                       CL = 15pF, Figure 13
   tRHZ, tRLZ  Receiver Output Disable Time                            200      ns
   tDZH, tDZL  Driver Output Enable Time                               200      ns     RL = 500CL = 50pF,
   tDHZ, tDLZ  Driver Output Disable Time                              200      ns     Figure 14
                                                       10


                                                                                                                                SP339B
REV. 1.0.2                        RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
BLOCK DIAGRAM BY MODE (MODE1, MODE0)
FIGURE 1. MODE 00 - LOOPBACK
                                         C2
                                        0.1µF                            C1
              C3                                                                        C4                         Cc
                                                                        0.1µF
             0.1µF                                                                     0.1µF                      1.0µF
                      40     39     38                 37          36           35     34       33           32           31
                     V+    C2+    Vcc           C1+                           C1-    C2-       V-
                                                                                                     Vcc
       L1                                                                R1
             1                                                                                                                 30
       L2
             2                                                           R2                                                    29
       L3
             3                                                      T1                                                         28
       L4
             4                                                                                                                 27
                                                                    T2
       L6
             5                                                                                                                 26
                                                                         R3
       L7
             6                                                                                                                 25
                                                                    T3
       L8
             7                                                                                                                 24
                                                                         R4
       L9
             8                                                                                                                 23
                                                                         R5
      Vcc
             9                                                                                                                 22
                                              All pull-downs 330kΩ
             10                                                                                                                21
                      11     12     13                 14          15           16     17       18          19            20
                                                Mode0 = 0   Mode1 = 0                                Enable = 1
                                                                                                                      Vcc
                                                                        11


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                                           REV. 1.0.2
FIGURE 2. MODE 01 - RS-232
                                         C2
                                        0.1µF                            C1
            C3                                                                          C4                          Cc
                                                                        0.1µF
           0.1µF                                                                       0.1µF                       1.0µF
                      40     39     38                 37          36           35     34        33           32
                                                                                                                       R1  31
                   V+      C2+    Vcc           C1+                           C1-    C2-       V-
                                                                                                      Vcc
     L1                                                                  R1                                                          R2
           1                                                                                                                    30
                                                                                               5kΩ
     L2
           2                                                             R2                                                     29
                                                                                               5kΩ
     L3                                                                                                                              R3
           3                                                        T1                                                          28
     L4                                                                                                                              R4
           4                                                                                                                    27
                                                                    T2
     L6
           5                                                                                                                    26
                                                                         R3
     L7                                                                                        5kΩ                                   R6
           6                                                                                                                    25
                                                                    T3
     L8                                                                                                                              R7
           7                                                                                                                    24
                                                                         R4
     L9                                                                                        5kΩ
           8                                                                                                                    23
                                                                         R5
     Vcc                                                                                                                             R8
           9                                                                                   5kΩ                              22
                                              All pull-downs 330kΩ
                                                                                                                                     R9
           10                                                                                                                   21
                      11     12     13                 14          15           16     17        18          19            20
                   Slew
                                                Mode0 = 1   Mode1 = 0                                 Enable = 1
                                                                                                                       Vcc
                                                                        12


                                                                                                                                            SP339B
REV. 1.0.2                            RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
FIGURE 3. MODE 10 - RS-485 HALF DUPLEX
                                             C2
                                            0.1µF                             C1
              C3                                                                                    C4                         Cc
                                                                             0.1µF
             0.1µF                                                                                 0.1µF                      1.0µF
                         40      39     38                 37           36           35            34       33           32
                                                                                                                                  R1  31
                      V+      C2+     Vcc           C1+                            C1-          C2-        V-
                                                                                                                 Vcc
             L1 = 1                                                                                                                             R2
             1                                                  T1                                                                         30
                                                                                         120Ω
       L2
             2                                                                                                                             29
                                                                 R1
       L3
             3                                                                                                                             28
             4                                                                                                                             27
             L6 = 1
             5                                                                                                                             26
             6                                                                                                                             25
             L8 = 1
             7                                                                                                                             24
             L9 = 1
             8                                                                                                                             23
      Vcc
             9                                                                                                                             22
                                                  All pull-downs 330kΩ
             10                                                                                                                            21
                         11      12     13                 14           15           16            17       18          19            20
                      Slew    Dir1
                                                    Mode0 = 0    Mode1 = 1
                                                                                                Term
                                                                                                                 Enable = 1
                                                                                                                                  Vcc
                                                                             13


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                                                    REV. 1.0.2
FIGURE 4. MODE 11 - RS-485/422 FULL DUPLEX
                                           C2
                                          0.1µF                             C1
            C3                                                                                    C4                         Cc
                                                                           0.1µF
           0.1µF                                                                                 0.1µF                      1.0µF
                       40      39     38                 37           36           35            34       33           32
                                                                                                                                R1  31
                    V+      C2+     Vcc           C1+                            C1-          C2-        V-
                                                                                                               Vcc
           L1 = 1                                                                                                                             R2
           1                                                  T1                                                                         30
     L2
           2                                                                                                                             29
     L3                                                                                                                                       R3
           3                                                                                                                             28
                                                                                                                                              R4
           4                                                   R1                      120Ω                                              27
           L6 = 1
           5                                                                                                                             26
           6                                                                                                                             25
           L8 = 1
           7                                                                                                                             24
           L9 = 1
           8                                                                                                                             23
     Vcc
           9                                                                                                                             22
                                                All pull-downs 330kΩ
           10                                                                                                                            21
                       11      12     13                 14           15           16            17       18          19            20
                    Slew    Dir1
                                                  Mode0 = 1    Mode1 = 1
                                                                                              Term
                                                                                                               Enable = 1
                                                                                                                                Vcc
                                                                           14


                                                                                                 SP339B
REV. 1.0.2                        RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
TEST CIRCUITS
FIGURE 5. RS-485/422 RECEIVER TERMINATION RESISTANCE
           RTERM = 2 (VA – VB)               B         IB                          TERM = VCC
                      IA – IB
                                                  ±2V      RTERM          Rx
           -7V ≤ VA, VB ≤ +12V                         IA
                                             A
                Termination is enabled in RS-485/422 modes when the TERM pin is held high (VCC).
FIGURE 6. RS-485/422 DIFFERENTIAL DRIVER OUTPUT VOLTAGE
                                                                              B
                                                                           RL
                                                                            2
         Tx Input = 0V or VCC              Tx            VOD                      VCM
                                                                           RL
                                                                            2
                                                                              A
                                 Tx Enable = VCC
FIGURE 7. RS-485/422 DIFFERENTIAL DRIVER OUTPUT VOLTAGE OVER COMMON MODE
                                                                              B
                                                                          375Ω
         Tx Input = 0V or VCC              Tx            VOD     60Ω              VCM
                                                                          375Ω
                                                                              A
                                 Tx Enable = VCC
FIGURE 8. RS-485/422 DRIVER OUTPUT SHORT CIRCUIT CURRENT
                                                                 B
                                                                               IOSD
         Tx Input = 0V or VCC              Tx
                                                                     -7V to +12V    V
                                                                 A
                              Tx Enable = 0V or VCC
                                                      15


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                 REV. 1.0.2
FIGURE 9. RS-232 RECEIVER PROPAGATION DELAY
                         VIN                Rx                        VOUT
                                                                  CL
                      +3V
                                            1.5V           1.5V
           VIN
                      -3V
                                          tRHL             tRLH
                      VOH
          VOUT                                     1.5V             1.5V
                      VOL
FIGURE 10. RS-232 DRIVER PROPAGATION DELAY
                         VIN                 Tx                       VOUT
                                                        RL        CL
                       3V
           VIN                             1.5V              1.5V
                       0V
                                         tDHL               tDLH
                      +3V
          VOUT                                     0V        0V
                      -3V
                                         tSHL                      tSLH
                                                 16


                                                                                             SP339B
REV. 1.0.2                    RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
FIGURE 11. RS-485/422 RECEIVER PROPAGATION DELAY
                            B
                                             Rx                        VOUT
                                                                  CL
                            A
                                      Rx Disable = 0V
                  B                                                                 +1V
                                                                                      0V
                  A                                                                  -1V
                                         tRPLH                      tRPHL
                                                                                     VOH
                                                    1.5V                      1.5V
                 VOUT                                                                VOL
FIGURE 12. RS-485/422 DRIVER PROPAGATION DELAY AND RISE/FALL TIMES
                                                                     B
                      Tx Input
                                     Tx              VOD  RL      CL
                                                                     A
                             Tx Enable = VCC
                       3V                                              tSKEW = |tPHL – tPLH|
           Tx Input               1.5V                      1.5V
                       0V                 tDPLH                    tDPHL
                       B
                                                         VOD
                       A
                      VOD+                           90%          90%
             VOD       0V
           (VA - VB)                                 10%          10%
                      VOD-
                                                tDR                       tDF
                                                   17


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION               REV. 1.0.2
FIGURE 13. RS-485/422 RECEIVER OUTPUT ENABLE/DISABLE TIMES
                            B
                                           Rx                       VOUT
                                                                CL
                                                Rx Disable
                            A
                       3V
       Rx Disable                        1.5V              1.5V
                       0V
        VA = 0V                         tRLZ                      tRZL
        VB = VCC
                      VCC
          VOUT                                  1.5V             1.5V
                      VOL
                                              18


                                                                                      SP339B
REV. 1.0.2                    RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
FIGURE 14. RS-485/422 DRIVER OUTPUT ENABLE/DISABLE TIMES
                                                        B
        Testing B: Tx Input = 0V
                                     Tx                                          VOUT
        Testing A: Tx Input = VCC
                                                               RL            CL
                         Tx Enable
                                                        A
                        3V
           Tx Enable              1.5V                    1.5V
                        0V
                                            tDZH                   tDHZ
                        VOH
                                       VOH + VOL                         VOH - 0.25V
             VOUT                          2
                        VOL
                                                                     VCC
                                                        B
                                                                     RL
        Testing B: Tx Input = VCC
                                     Tx                                          VOUT
        Testing A: Tx Input = 0V
                                                                             CL
                         Tx Enable
                                                        A
                        3V
           Tx Enable              1.5V                    1.5V
                        0V
                                            tDZH                  tDHZ
                        VOH
                                       VOH + VOL
             VOUT                          2                             VOL + 0.25V
                        VOL
                                                 19


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                                                 REV. 1.0.2
PRODUCT SUMMARY
The SP339B is an advanced multiprotocol transceiver supporting RS-232, RS-485, and RS-422 serial
standards in a 40 pin QFN package. Integrated cable termination and four configuration modes allow all three
protocols to be used interchangeably over a single cable or connector with no additional switching
components. The RS-485/422 modes feature one driver and one receiver (1TX/1RX) in both half and full
duplex configurations. The RS-232 mode (3TX/5RX) provides full support of all eight signals commonly used
with the DB9 RS-232 connector. A dedicated mode is also available for diagnostic loopback testing.
INTERNALLY SWITCHED CABLE TERMINATION
Enabling and disabling the RS-485/422 termination resistor is one of the largest challenges system designers
face when sharing a single connector or pair of lines across multiple serial protocols. A termination resistor
may be necessary for accurate RS-485/422 communication, but must be removed when the lines are used for
RS-232. SP339B provides an elegant solution to this problem by integrating the termination resistor and
switching control, and allowing it to be switched in and out of the circuit with a single pin. No external switching
components are required.
ENHANCED FAILSAFE
Ordinary RS-485 differential receivers will be in an indeterminate state whenever the data bus is not being
actively driven. The enhanced failsafe feature of the SP339B guarantees a logic-high receiver output when the
receiver inputs are open, shorted, or terminated but idle/undriven. The enhanced failsafe interprets 0V
differential as a logic high with a minimum 50mV noise margin, while maintaining compliance with the EIA/TIA-
485 standard of ±200mV. No external biasing resistors are required, further easing the usage of multiple
protocols over a single connector.
±15kV ESD PROTECTION
ESD protection structures are incorporated on all pins to protect against electrostatic discharges encountered
during handling and assembly. The bus pins (driver outputs and receiver inputs) have extra protection
structures, which have been tested up to ±15kV without damage. These structures withstand high ESD in all
states: normal operation, shutdown and powered down.
ESD protection is be tested in various ways. MaxLinear uses the following methods to qualify the protection
structures designed into SP339B:
          ±15kV using the Human Body Model (HBM)
          ± 8kV using IEC 61000-4-2 Contact Discharge
          ± 15kV using IEC 61000-4-2 Air Gap Discharge
The IEC 61000-4-2 standard is more rigorous than HBM, resulting in lower voltage levels compared with HBM
for the same level of ESD protection. Because IEC 61000-4-2 specifies a lower series resistance, the peak
current is higher than HBM. The SP339B has passed both HBM and IEC 61000-4-2 testing without damage.
DIAGNOSTIC LOOPBACK MODE
The SP339B includes a diagnostic digital loop back mode for system testing as shown in Figure 1. The
loopback mode connects the TTL driver inputs to the TTL receiver outputs, bypassing the analog driver and
receiver circuitry. The analog/bus pins are internally disconnected in this mode.
                                                         20


                                                                                  SP339B
REV. 1.0.2                   RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
MECHANICAL DIMENSIONS
FIGURE 15. QFN-40 PACKAGE OUTLINE DRAWING
                        TOP VIEW                                  BOTTOM VIEW
                                          SIDE VIEW
                                       TERMINAL DETAILS
                                                        Drawing No.: POD-00000041
                                                        Revision: B.3
                                                 21


SP339B
RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION                           REV. 1.0.2
RECOMMENDED LAND PATTERN AND STENCIL
FIGURE 16. QFN-40 RECOMMENDED PCB LAND PATTERN AND STENCIL
                                 TYPICAL RECOMMENDED LAND PATTERN
                                   TYPICAL RECOMMENDED STENCIL
                                                           Drawing No.: POD-00000041
                                                           Revision: B.3
                                               22


                                                                                  SP339B
REV. 1.0.2                      RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
FIGURE 17. PIN 1 ORIENTATION IN TAPE
                                                 23


                                                                                                                                                                              SP339B
REV. 1.0.2                                                    RS-232/RS-485/RS-422 TRANSCEIVER WITH INTERNAL TERMINATION
REVISION HISTORY
            DATE                      REVISION                                                                    DESCRIPTION
  November 2014                           1.0.0              Initial release
                                                             Update to MaxLinear logo. Update format and Ordering Information.
    February 2018                         1.0.1              Corrected typo for pin 28, Mode 11 in Pin Description. Moved ESD ratings on
                                                             page 2.
     January 2019                         1.0.2              Corrected typo in recommended stencil.
                                                             Corporate Headquarters:
                                                             5966 LaPlace Court
                                                             Suite 100
                                                             Carlsbad, CA 92008
                                                             Tel.:+1 (760) 692-0711
                                                             Fax:+1 (760) 444-8598
                                                             www.maxlinear.com
The content of this document is furnished for informational use only, is subject to change without notice, and should not be construed as a commitment by MaxLinear, Inc. MaxLinear,
Inc. assumes no responsibility or liability for any errors or inaccuracies that may appear in the informational content contained in this guide. Complying with all applicable copyright laws
is the responsibility of the user. Without limiting the rights under copyright, no part of this document may be reproduced into, stored in, or introduced into a retrieval system, or transmitted
in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of MaxLinear, Inc.
Maxlinear, Inc. does not recommend the use of any of its products in life support applications where the failure or malfunction of the product can reasonably be expected to cause failure
of the life support system or to significantly affect its safety or effectiveness. Products are not authorized for use in such applications unless MaxLinear, Inc. receives, in writing,
assurances to its satisfaction that: (a) the risk of injury or damage has been minimized; (b) the user assumes all such risks; (c) potential liability of MaxLinear, Inc. is adequately protected
under the circumstances.
MaxLinear, Inc. may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document. Except as expressly
provided in any written license agreement from MaxLinear, Inc., the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other
intellectual property.
MaxLinear, the MaxLinear logo, and any MaxLinear trademarks, MxL, Full-Spectrum Capture, FSC, G.now, AirPHY and the MaxLinear logo are all on the products sold, are all
trademarks of MaxLinear, Inc. or one of MaxLinear’s subsidiaries in the U.S.A. and other countries. All rights reserved. Other company trademarks and product names appearing herein
are the property of their respective owners.
© 2011 - 2019 MaxLinear, Inc. All rights reserved.
                                                                                                 24


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 SP339BER1-L SP339BER1-L/TR
