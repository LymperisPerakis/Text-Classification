                                                                                                     Data Sheet
ACPL-0873
Three-Channel Digital Filter for Sigma-Delta
Modulators
Description                                                   Features
The Broadcom® ACPL-0873 is a 3-channel digital filter          Direct interface between Isolated Sigma-Delta
designed specifically for Second Order Sigma-Delta              Modulator and MCU/DSP
Modulators in voltage and current sensing. Each input          Three individual digital filters
channel can receive an independent Sigma-Delta (Σ-Δ)           Fast over-range detection
modulator bit stream. The bit streams are processed by         Offset calibration
three individual digital decimation filters. Features of the   Channel 1 MCLK clock detection at power up
digital filter include four decimation ratios for Sinc2 mode   Programmable input configuration
and three decimation ratios for Sinc3 mode, offset
                                                               SPI-compatible interface
calibration, and fast over-range detection.
                                                               Compact surface-mount QFN-20 5 mm × 5 mm
The ACPL-0873 outputs an over-current signal for three
                                                              Specifications
channels, signaling over-voltage/current conditions.
Through SPI compatible interface, ACPL-0873 can directly       Operating temperature –40°C to 125°C
connect to a microcontroller to output 16 bits digital filter  SPI clock frequency up to 17 MHz
data and write/read filter registers.                          Modulator clock frequency up to 25 MHz
                                                              Applications
                                                               Motor phase and rail current sensing
                                                               Power inverter current and voltage sensing
                                                               Industrial process control
                                                               Data acquisition systems
                                                               General voltage or current sensing
Broadcom                                                                                                 ACPL-0873-DS102
                                                                                                           October 3, 2018


ACPL-0873 Data Sheet                                                                              Three-Channel Digital Filter for Sigma-Delta Modulators
Schematic Diagram and Package Pin Out
Figure 1: Schematic Diagram and Package Pin Out
NOTE:      0.1-µF and 1-µF bypass capacitors between VDD and GND are recommended.
Table 1: Pin Function Description
Pin No. Pin Name      Description                                                                                                        Type
1         MCLK1       Channel 1 Clock                                                                                                    Input
2         MDAT1       Channel 1 Data. Input Data on MDAT1 is clocked in on the rising edge of MCLK1.                                     Input
3         MCLK2       Channel 2 Clock                                                                                                    Input
4         MDAT2       Channel 2 Data. Input Data on MDAT2 is clocked in on the rising edge of MCLK2.                                     Input
5         NC          Not connected
6         NC          Not connected
7         CS          Chip Select, Active Low of Chip Select for SPI interface and digital filter conversion start on the falling Input
                      edge of CS.
8         SCLK        SPI Clock input                                                                                                    Input
9         GND         Ground                                                                                                             Power Input
10        MOSI        SPI data Master Out Slave In                                                                                       Input
11        MISO        SPI data Master In Slave Out                                                                                       Output
12        OC          Over-Current                                                                                                       Output
13        DR          Data Ready.                                                                                                        Output
                      1. DR pin High indicates Digital Filter data conversion ready.
                      2. DR pin is automatically cleared to Low when CS goes high.
14        INT         Interrupt, Active Low.                                                                                             Output
15        NC          Not connected
16        NC          Not connected
17        RST         Reset. Active Low, period 100 µs at least.                                                                         Input
18        VDD         Power Supply                                                                                                       Power Input
19        MDAT3       Channel 3 Data. Input Data on MDAT3 is clocked in on the rising edge of MCLK3.                                     Input
20        MCLK3       Channel 3 Clock                                                                                                    Input
Broadcom                                                                                                                               ACPL-0873-DS102
                                                                                                                                                        2


ACPL-0873 Data Sheet                                                                                                                              Three-Channel Digital Filter for Sigma-Delta Modulators
Figure 2: ACPL-0873 Package Outline Drawing
                                                                                                       Exposed pad
                                                                                                       is internally
                                                     Top View                                          connected to                  Bottom View
 Part Number                       0.15   C   A                                  A                     the substrate                       D2
                                                         D
 Date Code                                                                               B
                                                                                                                              11      12      13          14   15
 RoHS-Compliance
 Indicator
 Lot Tracking                                          A 0873
 Serial Number                                         . YYWW                                                          10                                                16
 2D Code for
                                                               EEE                                                     9                                                 17
 Manufacturer                                                 NNN            E
                                                                                                                       8                                                 18   E2
 Reference only
                                                                                                                       7                                                 19
                                                                                                                       6                                                 20
        Pin 1 Indicator
                                                                              0.15       C        B               L           5           4       3       2    1                   Pin 1Identifier C0.30
                                                                                                                                              b(x20)
                                                                            Stand off
                                                                                                                                   0.10   M   C       A   B
                           A                                                A1                                                     0.05   M   C
                                                                                             A3
                      0.08     C                                 e                   C
                                                  Side View
Figure 3: Recommended Land Pattern
                                                        3.80
                                                                                     PCB via to GND
                    0.10
   1.35
                                      1.35
                                                                                                                3.80   4.20
     0.30                                                                                                0.35
    (x20)                                                                                               (x16)
 0.68                                                                                                  0.65
(x20)                                                                                                 (x16)
          0.3
            0x 4
                5                                                                            Proposed stencil aperture
                                                                     0.10
                                                       4.20
NOTE:           Connect all NC pins to GND.
Broadcom                                                                                                                                                                                 ACPL-0873-DS102
                                                                                                                                                                                                       3


ACPL-0873 Data Sheet                                                               Three-Channel Digital Filter for Sigma-Delta Modulators
Table 2: Dimensions
                                                             Dimensions
                                     Millimeter                                          Inch
                        Min.            Nom.           Max.             Min.            Nom.                     Max.
         A              0.850           0.900          0.950           0.033            0.035                    0.037
        A1             0.000            0.020          0.040           0.000            0.001                    0.002
        A3                           0.203 REF                                       0.008 REF
         b              0.250           0.300          0.035           0.010            0.012                    0.014
         D              4.850           5.000          5.150           0.191            0.197                    0.203
         E              4.850           5.000          5.150           0.191            0.197                    0.203
        D2              3.700           3.800          3.900           0.146            0.150                    0.154
        E2             3.700            3.800          3.900           0.146            0.150                    0.154
         e                           0.650 REF                                       0.026 REF
         L              0.350           0.400          0.450           0.014            0.016                    0.018
Ordering Information
                              Option
 Part Number           (RoHS Compliant)         Package          Surface Mount       Tape and Reel                     Quantity
 ACPL-0873                    -500E             QFN-20                 X                    X                        2000 per reel
To order, choose a part number from the part number column and combine with the desired option from the option column
to form an order entry.
Example:
    ACPL-0873-500E to order product of QFN-20 Surface Mount package in Tape and Reel packaging with RoHS compliant.
    Contact your Broadcom sales representative or authorized distributor for information.
Recommended Pb-Free IR Profile
Recommended reflow condition as per JEDEC Standard, J-STD-020 (latest revision).
NOTE:      Non-halide flux should be used
Broadcom                                                                                                                ACPL-0873-DS102
                                                                                                                                         4


ACPL-0873 Data Sheet                                                               Three-Channel Digital Filter for Sigma-Delta Modulators
Absolute Maximum Ratings
Parameter                                                   Symbol          Min.          Max.               Units             Note
Storage Temperature                                             TS          –55            150                 °C
Junction Temperature                                             TJ         –55            150                 °C
Ambient Operating Temperature                                   TA          –40            125                 °C
Supply Voltage                                                 VDD          –0.5             6                Volts
Input Voltage                                               All Inputs      –0.5        VDD + 0.5             Volts              a
Output Voltage                                             All Outputs      –0.5        VDD + 0.5             Volts              a
     a. Do not exceed 6V.
Recommended Operating Conditions
Parameter                                        Symbol        Min.         Max.          Units             Figure            Notes
Ambient Operating Temperature                      TA          –40          125             °C
Supply Voltage                                    VDD            3           5.5           Volts
Input / Output Voltage                                           0          VDD            Volts
DC Electrical Specifications
All minimum/maximum specifications are at recommended operating conditions. Unless otherwise noted, all typical values
at TA = 25°C, VDD = 3.3V.
Parameter                      Symbol     Min.    Typ.    Max.       Units Test Conditions                            Figure     Note
Power Supply Current            IDD1       —       3.6      8          mA   3 channels fMCLK = 20 MHz,                   7
                                                                            SPI fSCLK = 17 MHz
                                IDD2       —        3      6.5              3 channels fMCLK = 20 MHz, no
                                                                            SPI clock
Quiescent Power Supply Current  IDDQ       —       —        1          µA   All 3 channels MCLK and
                                                                            MDAT short to GND, no SPI
                                                                            clock
Input Voltage High Level         VIH   0.7 × VDD   —        —         Volts
Input Voltage Low Level          VIL       —       —    0.3 × VDD     Volts
DC Input Current                 IIN       —       —        10         µA
Output Voltage High             VOH    0.8 × VDD   —        —           V   IOH = 4 mA
Output Voltage Low               VOL       —       —       0.4          V   IOL = 4 mA
Broadcom                                                                                                                ACPL-0873-DS102
                                                                                                                                         5


ACPL-0873 Data Sheet                                                             Three-Channel Digital Filter for Sigma-Delta Modulators
Switching Specifications
All minimum/maximum specifications are at recommended operating conditions. All input signals are specified with tR = tF
= 5 ns (10% to 90% of VDD) and timed at 50% voltage level. Unless otherwise noted, all typical values at TA = 25°C,
VDD = 3.3V.
Parameter                        Symbol   Min.    Typ.      Max.     Units Test Conditions                       Figure        Note
Modulator Clock Frequency         fMCLK    —       —         25      MHz
Modulator Clock Duty Cycle       DCMCLK    40      —         70       %
MDAT Setup Time before MCLK      tMDAT_S   10      —         —        ns                                             4
Rising Edge
MDAT Hold Time after MCLK        tMDAT_H   3       —         —        ns                                             4
Rising Edge
SPI Clock Frequency               fSCLK    —       —         17      MHz   4.5V ≤ VDD ≤ 5.5V
                                           —       —         13            3.0V ≤ VDD ≤ 5.5V
SPI Clock Duty Cycle             DCSCLK    40      —         60       %
SPI MOSI Setup Time              tMOSI_S   3       —         —        ns                                             5
SPI MOSI Hold Time               tMOSI_H   3       —         —        ns                                             5
SPI Clock Falling Edge to MISO   tMISO_V   —       —         20       ns   4.5V ≤ VDD ≤ 5.5V                         6
Valid
                                           —       —         28            3.0V ≤ VDD ≤ 5.5V
Delay Time from CS Low to First    tD1    150      —         —        ns                                          12, 13
Rising Edge of SCLK
Delay Time from Last Rising        tD2    150      —         —        ns                                       12, 13, 14
Edge of SCLK to CS High
Delay Time from DR high to Start   tDR    150      —         —        ns                                            14
of First SCLK
Chip Select High Time             tCS_H   200      —         —        ns                                            15
Broadcom                                                                                                               ACPL-0873-DS102
                                                                                                                                       6


ACPL-0873 Data Sheet                                                                          Three-Channel Digital Filter for Sigma-Delta Modulators
Figure 4: MDAT and MCLK Timing Chart
MCLK
MDAT
                             TMDAT_S         TMDAT_H
Figure 5: SPI Input Write Timing Chart                                     Figure 6: SPI Output Read Timing Chart
 SCLK                                                                       SCLK
 MOSI                                                                       MISO
                                   TMOSI_S        TMOSI_H                                            TMISO_V
Figure 7: Power Supply Current vs. SPI Clock Frequency
             4.2
                           -40°C
             4.0
                           25°C
             3.8
                           125°C
             3.6
 Idd1 (mA)   3.4
             3.2
             3.0
             2.8
                   0   2     4         6          8         10   12   14       16
                                              fSCLK (MHz)
Broadcom                                                                                                                         ACPL-0873-DS102
                                                                                                                                               7


ACPL-0873 Data Sheet                                               Three-Channel Digital Filter for Sigma-Delta Modulators
Register Set
     Register Address Description                              Default Value                           Type
           0x00       Filter setting                               0x00                            Read/Write
           0x01       Channel selection & over-range setting       0x00                            Read/Write
           0x02       Interrupt status                             0x00                             Read Only
           0x03       Interrupt enable                             0x80                            Read/Write
           0x04       Offset Register for Channel 1 (MSB byte)     0x80                             Read Only
           0x05       Offset Register for Channel 1 (LSB byte)     0x00                             Read Only
           0x06       Offset Register for Channel 2 (MSB byte)     0x80                             Read Only
           0x07       Offset Register for Channel 2 (LSB byte)     0x00                             Read Only
           0x08       Offset Register for Channel 3 (MSB byte)     0x80                             Read Only
           0x09       Offset Register for Channel 3 (LSB byte)     0x00                             Read Only
Broadcom                                                                                                ACPL-0873-DS102
                                                                                                                         8


ACPL-0873 Data Sheet                                                                      Three-Channel Digital Filter for Sigma-Delta Modulators
Register 0 (Address 0): Filter Setting
        7                 6                 5             4              3           2               1                      0
       NA                Cal             Off_en          NA            Filter       NA             DC1                    DC0
Default: 0x00 (Read/Write)
       Filter                DC1                DC0         Decimation Ratio  Filter Type
         0                    0                  0                1024          SINC2
         0                    0                  1                 512          SINC2
         0                    1                  0                 256          SINC2
         0                    1                  1                 128          SINC2
         1                    0                  0                 256          SINC3
         1                    0                  1                 128          SINC3
         1                    1                  0                  64          SINC3
       Filter            Filter Type
         0               Sinc2 Filter
         1               Sinc3 Filter
      Off_en         Offset Enable
         0           Filter data without offset
         1           Filter data with offset
        Cal          Calibration Offset and Store in Offset Registers
         0           No offset action
         1           Capture offset data and store in Offset Registers
Broadcom                                                                                                                       ACPL-0873-DS102
                                                                                                                                                9


ACPL-0873 Data Sheet                                                                   Three-Channel Digital Filter for Sigma-Delta Modulators
Register 1 (Address 1): Channel Selection and Over-Range Setting
        7               6            5             4              3              2                1                      0
      OV3              OV2         OV1            OV0            NA             NA             SEL1                   SEL0
Default: 0x00 (Read/Write)
       SEL1              SEL0      Channel Filter Operation Selection
         0                 0       Channel 1 Only
         0                 1       Channel 1 Only
         1                 0       Channel 1 and Channel 2 only
         1                 1       Channel 1, Channel 2, and Channel 3
     OV3           OV2        OV1         OV0              Persistence of Continuous "1" or "0" Bit in MDAT Bit Stream
       0             0          0           0                               0 (No over-range detection)
       0             0          0           1                                            2
       0             0          1           0                                            4
       0             0          1           1                                            6
       0             1          0           0                                            8
       0             1          0           1                                           10
       0             1          1           0                                           12
       0             1          1           1                                           14
       1             0          0           0                                           16
       1             0          0           1                                           18
       1             0          1           0                                           20
       1             0          1           1                                           22
       1             1          0           0                                           24
       1             1          0           1                                           26
       1             1          1           0                                           28
       1             1          1           1                                           30
NOTE:      OV setting applied to channel 1, channel 2, and channel 3
Broadcom                                                                                                                    ACPL-0873-DS102
                                                                                                                                            10


ACPL-0873 Data Sheet                                                                    Three-Channel Digital Filter for Sigma-Delta Modulators
Register 2 (Address 2): Interrupt Status
        7                 6              5               4              3           2              1                      0
       NA                NA             NA              NA         OV_CH3        OV_CH2        OV_CH1                    DR
Default: 0x00 (Read only)
        DR           Data Ready
         0           Data not ready (ADC conversion in progress or not started)
         1           ADC data ready to output
     OV_CH1          Over-Range Trigger Status for Channel 1
         0           No trigger for Channel 1 over-range
         1           Triggered for Channel 1 over-range
     OV_CH2          Over-Range Trigger Status for Channel 2
         0           No trigger for Channel 2 over-range
         1           Triggered for Channel 2 over-range
     OV_CH3          Over-Range Trigger Status for Channel 3
         0           No trigger for Channel 3 over-range
         1           Triggered for Channel 3 over-range
NOTE:
              Interrupt status flag cleared after read from Interrupt register.
              Data Ready status for channel 1, channel 2, and channel 3. DR status output to DR pin.
              If more than one channel is turned on, Data Ready is from the slowest channel.
Broadcom                                                                                                                     ACPL-0873-DS102
                                                                                                                                             11


ACPL-0873 Data Sheet                                                                   Three-Channel Digital Filter for Sigma-Delta Modulators
Register 3 (Address 3): Interrupt Enable
        7                 6              5                4               3       2               1                      0
   MCLK1_E               NA             NA               NA          OV_CH3_E  OV_CH2_E     OV_CH1_E                  DR_E
Default: 0x80 (Read/Write)
      DR_E           Data Ready
         0           Data Ready signal not output to Interrupt Pin INT
         1           Data Ready signal output to Interrupt Pin INT
   OV_CH1_E          Over-Range Trigger Status for Channel 1
         0           Trigger for Channel 1 over-range status not output to INT
         1           Trigger for Channel 1 over-range status output to INT
   OV_CH2_E          Over-Range Trigger Status for Channel 2
         0           Trigger for Channel 2 over-range status not output to INT
         1           Trigger for Channel 2 over-range status output to INT
   OV_CH3_E          Over-Range Trigger Status for Channel 3
         0           Trigger for Channel 3 over-range status not output to INT
         1           Trigger for Channel 3 over-range status output to INT
    MCLK1_E          MCLK1 Activity Enable
         0           MCLK1 Activity not output to Interrupt pin INT
         1           MCLK1 Activity output to Interrupt pin INT (default)
Broadcom                                                                                                                    ACPL-0873-DS102
                                                                                                                                            12


ACPL-0873 Data Sheet                                            Three-Channel Digital Filter for Sigma-Delta Modulators
Figure 8: Interrupt Pin Implementation
Interrupt Pin Notes:
              Interrupt output is active low.
              '0' = Check for interrupt status.
              '1' = No interrupt.
Figure 9: Over-Current Pin Implementation
  OV_CH3
                         Control
 OV_CH2                   Logic         OC
  OV_CH1              3      3
                     OV_CH     OV_CH
                     Select     Enable
1. OV_CH1/2/3 status flag is cleared by reading the Register 2.
2. OC pin is cleared by SPI CS High to Low Transition.
Broadcom                                                                                             ACPL-0873-DS102
                                                                                                                     13


ACPL-0873 Data Sheet                                                                          Three-Channel Digital Filter for Sigma-Delta Modulators
Figure 10: Over-Range Detection Chart
                                  MDAT continuous “1” or “0”  Value set in Register 1
 MCLK
  MDAT
 OV_CH1/2/3
                            OV_CH and OC go to “1”                                                   OV_CH and OC cleared to “0”
    OC                                                                                               at next CS starting.
    CS
Register 4 (Address 4): Offset Register for Channel 1 (MSB Byte)
        7               6              5              4                  3                2              1                      0
     off_15          off_14         off_13         off_12             off_11           off_10          off_9                  off_8
Default: 0x80 (Read Only)
Register 5 (Address 5): Offset Register for Channel 1 (LSB Byte)
        7               6              5              4                  3                2              1                      0
      off_7           off_6          off_5          off_4             off_3             off_2          off_1                  off_0
Default: 0x00 (Read Only)
Register 6 (Address 6): Offset Register for Channel 2 (MSB Byte)
        7               6              5              4                  3                2              1                      0
     off_15          off_14         off_13         off_12             off_11           off_10          off_9                  off_8
Default: 0x80 (Read Only)
Broadcom                                                                                                                           ACPL-0873-DS102
                                                                                                                                                   14


ACPL-0873 Data Sheet                                                                         Three-Channel Digital Filter for Sigma-Delta Modulators
Register 7 (Address 7): Offset Register for Channel 2 (LSB Byte)
         7              6                   5                         4           3      2              1                      0
       off_7          off_6               off_5                    off_4       off_3   off_2          off_1                  off_0
Default: 0x00 (Read Only)
Register 8 (Address 8): Offset Register for Channel 3 (MSB Byte)
         7              6                   5                         4           3      2              1                      0
      off_15         off_14              off_13                   off_12       off_11 off_10          off_9                  off_8
Default: 0x80 (Read Only)
Register 9 (Address 9): Offset Register for Channel 3 (LSB Byte)
         7              6                   5                         4           3      2              1                      0
       off_7          off_6               off_5                    off_4       off_3   off_2          off_1                  off_0
Default: 0x00 (Read Only)
Figure 11: Offset Filter Data
                            65535 (unsigned 16 Bits Full Scale of filter data)
  Offset filter               + offset
  data at Input 0
  Volt                        32768 (unsigned 16 Bits Midpoint of filter data)
                               - offset
                            0 (unsigned 16 Bits 0 Point of filter data)
Broadcom                                                                                                                          ACPL-0873-DS102
                                                                                                                                                  15


ACPL-0873 Data Sheet                                                               Three-Channel Digital Filter for Sigma-Delta Modulators
SPI – Write to Registers Timing Chart
Figure 12: SPI Writing to Registers Timing Chart
   Operation code            1010
      A3             A2       A1           A0        Register Address
       0             0         0           0                0x00
       0             0         0           1                0x01
       0             0         1           1                0x03
  8 bits data (MSB first)     D7          D6           D5          D4          D3           D2                 D1               D0
After CS goes low, write/read must be in the multiple 16 bits (16 cycles of SCLK).
Broadcom                                                                                                                ACPL-0873-DS102
                                                                                                                                        16


ACPL-0873 Data Sheet                                                Three-Channel Digital Filter for Sigma-Delta Modulators
SPI – Read from Register Timing Chart
Figure 13: SPI Read from Registers Timing Chart
   Operation code          1001
      A3             A2     A1           A0     Register Address
       0             0       0            0           0x00
       0             0       0            1           0x01
       0             0       1            0           0x02
       0             0       1            1           0x03
       0             1       0            0           0x04
       0             1       0            1           0x05
       0             1       1            0           0x06
       0             1       1            1           0x07
       1             0       0            0           0x08
       1             0       0            1           0x09
  8 bits data (MSB first)   D7           D6      D5          D4  D3          D2                 D1               D0
Broadcom                                                                                                 ACPL-0873-DS102
                                                                                                                         17


ACPL-0873 Data Sheet                                                                                 Three-Channel Digital Filter for Sigma-Delta Modulators
SPI – Read from Filter's Data Timing Chart
Figure 14: SPI Read from Filter's Data Timing Chart
                                                                                                                           tD2
    CS
                                                      tDR      1  2     3     4                      44   45  46   47    48
   SCLK
   MOSI
                              tC
   DR
   MISO                                                      MSB                                                      LSB
                                                                    Total 16 bits Chan1 data;
                                                                    Total 32bits Chan1 & Chan2 data;
                                                                    Total 48bits Chan1&Chan2&Chan3 data.
           Chan 1 data                 16 Bits Chan1 filter data
   Chan1 data and Chan2 data            16 bits Chan1 filter data             16 bits Chan2 filter data
Chan1 data and Chan2 data and           16 bits Chan1 filter data             16 bits Chan2 filter data               16 bits Chan3 filter data
            Chan3 data
   Filter conversion start after falling edge of CS signal.
   After data ready, filters data can be read out in the multiple of 16 bits.
   CS signal has two functions: filter conversion start and chip select for SPI interface.
   When CS is low, write from and read to registers are allowed.
Broadcom                                                                                                                                  ACPL-0873-DS102
                                                                                                                                                          18


ACPL-0873 Data Sheet                                                                            Three-Channel Digital Filter for Sigma-Delta Modulators
SPI – Combined Operation: Write/Read Register and Read from Filter's
Data Timing Chart
Figure 15: SPI Combined Operation: Write/Read Register and Read from Filter's Data Timing Chart
                                                                                  tCS_H
              Write/Read
              Registers                      Start reading Filter data                   Continue reading Filter data
      CS
   SCLK
   MOSI
  MISO
    DR
                                           1) Detect INT/OC pins.
                                           2) Monitor data ready DR status register bit.
                                                        Total 16 bits Chan1 data;
                                                        Total 32bits Chan1 & Chan2 data;
                                                        Total 48bits Chan1&Chan2&Chan3 data.
Broadcom                                                                                                                             ACPL-0873-DS102
                                                                                                                                                     19


ACPL-0873 Data Sheet                                                                             Three-Channel Digital Filter for Sigma-Delta Modulators
SPI – Offset Calibration Operation
Figure 16: SPI Offset Calibration Operation
          Write Registers
                                                                                          Write Registers
    CS
 SCLK
                            Set cal bit R0[6]= 1,                    Set cal bit R0[6]= 0
  MOSI                      off_en bit R0[5]=0
MISO
                     Offset capture for respective channel
   DR                and store in offset registers
   Physically short Sigma-Delta Modulator input pins Vin+ and Vin– to GND1.
   Set cal bit R0[6] = 1, Set off_en bit R0[5] = 0, Set filter setting to Sinc3 Decimation Ratio 256.
   CS goes low until DR goes high to capture the offset and store in offset registers.
   Set cal bit R0[6] = 0.
   To turn on the final filter data with offset, set off_en bit R0[5] = 1.
   To have the final filter data without any offset, set off_en bit R0[5] = 0.
Broadcom                                                                                                                              ACPL-0873-DS102
                                                                                                                                                      20


ACPL-0873 Data Sheet                                                                                                                                               Three-Channel Digital Filter for Sigma-Delta Modulators
Typical Application Circuit in Motor Drive Phase Current Sensing
The ACPL-0873 filter module implements second-order or third-order Sinc digital filtering technologies for three individual
channels. Sinc2 mode has four decimation ratios: x128, x256, x512, or x1024 and Sinc3 has three decimation ratios: x64,
x128, or x256. The combination of SincK and decimation ratio provides great flexibility with a total of seven filtering modes.
The ACPL-0873 communicates with MCUs and DSPs via an SPI interface. The SPI interface runs fully asynchronously to
the inputs.
Figure 17: Typical Phase Current Sensing Circuit using ACPL-C74x/C79x and ACPL-0873
                                    Motor
                                                                              ACPL-C74x/C79x x3
                                                                                                                             ACPL-0873
                                                                        1                     VDD2 8
             Shunt Resistor
                                                                             VDD
                                                                                                                MCLK1     Sinc
                                                                        2    1
                                                                             V IN+           MCLK 7
                                                                                                                        Decimation
                                                                        3    VIN-            MDAT 6             MDAT1    Filter 1
                                                                                                                                            SPI Interface
                                                                        4                    GND2 5             MCLK2     Sinc                                SCLK
                                                                             GND1
                                                                                                                        Decimation                            MOSI
                                                                                                                MDAT2    Filter 2
                                                                                                                MCLK3     Sinc                                MISO
                                                                        1 VDD1                 VDD2 8                   Decimation
                              Shunt Resistor
                                                                                                                MDAT3    Filter 3
                                                                        2 VIN+               MCLK 7
                                                                        3 VIN-               MDAT 6                        Filter                              OC
                                                                                                                        Alignment
                                                                                                                                            Logic Interface
                                                                        4 GND1               GND2 5                                                           DR
                                                                                                                VDD            Fast Fault
                                                                                                                GND            Detection
                                               Shunt Resistor
                                                                        1 VDD1                VDD2   8
                                                                                                                                                                              MCU / DSP
                                                                        2 VIN+               MCLK 7
                                                                        3 VIN-               MDAT 6
                                                                        4 GND1               GND2 5
                 W                             V                U
                                                                                     Optocoupler Gate Drivers
                                                                            Reinforced Isolation Boundary
   N         IGBT Module                                            P
In a close-loop current feedback motor control application as shown in Figure 17, motor phase current is converted to voltage
through a very low Ohm shunt. An isolated sigma-delta modulator, such as ACPL-C74x or ACPL-C79x, converts the analog
voltage signal into a single-bit data stream. The digital filter ASIC ACPL-0873 converters the 1-bit data stream into 16-bit
serial digital output interface that is compatible to SPI protocol, allowing direct connection to a microcontroller. The digital
filter can select conversion channel at one channel, two channels, or three channels.
Channel 1 MCLK1 is detected when the device is powered up. When the MCLK1 is detected normal, the device operation
is enabled; otherwise, all functional operation is disabled and interruption output INT is active.
All channel Sigma-Delta Modulators should be same nominal clock frequency, and highest channel to lowest channel MCLK
clock frequency difference does not exceed 20%.
Broadcom                                                                                                                                                                                              ACPL-0873-DS102
                                                                                                                                                                                                                   21


ACPL-0873 Data Sheet                                                                       Three-Channel Digital Filter for Sigma-Delta Modulators
ACPL-0873 works as SPI slave device, and the master device should select clock phase mode CPHA=0 and clock polarity
mode CPOL=0. MOSI data is sampled in on the rising edge of SPI clock, MISO data is clocked out at the falling edge of SPI
clock.
Thermal Resistance
ACPL-0873 IC (Die) junction temperature is calculated as:
Tj = R × P + Ta
Where
    R: Junction-to-ambient thermal resistance (°C/W).
    P: Power dissipation of IC (W).
    Tj: Junction temperature of IC
    Ta: Ambient temperature.
The IC was mounted on a low conductivity test board. The board measures 76.2 mm × 76.2 mm as per JEDEC standards.
In total, two low-conductivity boards were prepared for the measurement. These test boards are made of FR-4 material and
thickness of the copper traces as per JEDEC standards for low conductivity board. Tested “good” devices were used on all
the boards. The thermal resistance measurement data is R = 74°C/W.
Appendices
Table 3: Digital Filter Typical Conversion Time
             Filter (SincK)                       Decimation Ratio (D)           Filter Conversion Time tC at 10-MHz MCLK (1/tC)
                 SINC2                                   1024                    205 µs (4.88 kHz)
                 SINC2                                    512                    102 µs (9.76 kHz)
                 SINC2                                    256                    51 µs (19.52 kHz)
                 SINC2                                    128                    25 µs (39.04 kHz)
                 SINC3                                    256                    77 µs (13.02 kHz)
                 SINC  3                                  128                    38 µs (26.04 kHz)
                 SINC3                                     64                    19 µs (52.08 kHz)
NOTE:       tC is calculated as: tC = 1 / fMCLK × D × K.
Table 4: SPI Typical Timing
 SPI Clock (MHz)         Time for 8 Bits Write (µs)    Time for 8 Bits Write and 8 Bits Read (µs)        Time for 48 Bits Read (µs)
         5                          1.60                                  3.20                                              9.6
        10                          0.80                                  1.60                                              4.8
        15                          0.53                                  1.06                                             3.18
        17                          0.47                                  0.94                                             2.82
Broadcom                                                                                                                        ACPL-0873-DS102
                                                                                                                                                22


Disclaimer
Only those Broadcom Inc. components that Broadcom has specifically designated as military grade or space grade are
intended for use in military/aerospace applications or environments. The user acknowledges and agrees that any military or
aerospace use of Broadcom components that have not been so designated is solely at the user's risk, and that the user is
solely responsible for compliance with all legal and regulatory requirements in connection with such use.
Broadcom, the pulse logo, Connecting everything, Avago Technologies, Avago, and the A logo are among the trademarks
of Broadcom and/or its affiliates in the United States, certain other countries and/or the EU.
Copyright © 2018 Broadcom. All Rights Reserved.
The term “Broadcom” refers to Broadcom Inc. and/or its subsidiaries. For more information, please visit www.broadcom.com.
Broadcom reserves the right to make changes without further notice to any products or data herein to improve reliability,
function, or design. Information furnished by Broadcom is believed to be accurate and reliable. However, Broadcom does
not assume any liability arising out of the application or use of this information, nor the application or use of any product or
circuit described herein, neither does it convey any license under its patent rights nor the rights of others.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Broadcom Limited:
 ACPL-0873-500E
