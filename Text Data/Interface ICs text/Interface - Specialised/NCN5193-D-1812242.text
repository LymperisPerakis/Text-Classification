NCN5193
HART Modem
Description
  The NCN5193 is a single−chip, CMOS modem for use in highway
addressable remote transducer (HART) field instruments and masters.
The modem and a few external passive components provide all of the
functions needed to satisfy HART physical layer requirements
                                                                                         www.onsemi.com
including modulation, demodulation, receive filtering, carrier detect,
and transmit−signal shaping. In addition, the NCN5193 also has an
integrated DAC for low-BOM current loop slave transmitter                                                       MARKING
implementation.                                                                                                 DIAGRAM
  The NCN5193 uses phase continuous frequency shift keying (FSK)
at 1200 bits per second. To conserve power the receive circuits are                                         1
disabled during transmit operations and vice versa. This provides the                                                  NCN
half−duplex operation used in HART communications.                                 1   32                              5193
                                                                                                                 AWLYYWWG
Features                                                                          QFN32                                   G
•  Single−chip, Half−duplex 1200 Bits per Second FSK Modem
                                                                             CASE 485EK
•  Bell 202 Shift Frequencies of 1200 Hz and 2200 Hz
•  1.8 V − 3.5 V Power Supply                                                    NCN5193 = Specific Device Code
                                                                                 A          = Assembly Location
•  Transmit−signal Wave Shaping                                                  WL         = Wafer Lot
•  Receive Band−pass Filter                                                      YY         = Year
                                                                                 WW         = Work Week
•  Low Power: Optimal for Intrinsically Safe Applications                        G          = Pb−Free Package
•  Compatible with 1.8 V or 3.3 V Microcontroller                           (Note: Microdot may be in either location)
•  Internal Oscillator Requires 460.8 kHz, 920 kHz, 1.84 MHz or
   3.68 MHz Crystal or Ceramic Resonator
                                                                                   ORDERING INFORMATION
•  SPI Communication                                                   See detailed ordering and shipping information in the package
•  Integrated 17 bit Sigma-Delta DAC                                   dimensions section on page 13 of this data sheet.
•  Meets HART Physical Layer Requirements
•  Industrial Temperature Range of −40°C to +85°C
•  Available in 32−pin NQFP Package
•  These are Pb−Free Devices
Applications
• HART Multiplexers
• HART Modem Interfaces
• 4 − 20 mA Loop Powered Transmitters
 © Semiconductor Components Industries, LLC, 2016            1                                       Publication Order Number:
 July, 2018 − Rev. 6                                                                                                   NCN5193/D


                                                                  NCN5193
                                                            BLOCK DIAGRAM
                                            VDD           VDDA          RxAFI     RxAF
                                                                                                               RxAP
                                         Demodulator
                         RxD                 Logic                                                             RxAN FSK_IN
                                                              Rx Comp                 Filter Amplifier
                                                                                                            AREF
                                         Carrier Detect
                          CD                Counter
                                                                                                            CDREF
                                                            Carrier Comp           DEMODULATOR
                                                 Numeric
                                                                      Sine
                                                                                                            TxA
                         TxD                    Controlled
                                                                     Shaper                                           FSK_OUT
                                                 Oscillator
                        RTS                                                          MODULATOR
                                                                     NCN5193
                          CS                                                                                JUMP
                      SCLK                SPI            Registers                          DAC             DAC
                      DATA                                                                                  DACREF
                                                                                                            TEST1
                                                                                                            TEST2
                       VPOR                                                                                 CLK1
                         KICK            POR               BIAS                           Crystal
                                                                                         Oscillator
                      RESET                                                                                 CLK2
                                              VSS       CBIAS          MODE         XOUT XIN
                                                  Figure 1. Block Diagram NCN5193
                                                 ELECTRICAL SPECIFICATIONS
 Table 1. ABSOLUTE MAXIMUM RATINGS (Note 1)
    Symbol                                         Parameter                                           Min            Max          Units
       TA          Ambient Temperature                                                                 −40            +85            °C
       TS          Storage Temperature                                                                 −55           +150            °C
       TJ          Junction Temperature                                                                −40            +85            °C
      VDD          Supply Voltage                                                                      −0.3           4.0             V
   VIN, VOUT       DC Input, Output                                                                    −0.3        VDD + 0.3          V
Stresses exceeding those listed in the Maximum Ratings table may damage the device. If any of these limits are exceeded, device functionality
should not be assumed, damage may occur and reliability may be affected.
1. CMOS devices are damaged by high−energy electrostatic discharge. Devices must be stored in conductive foam or with all pins shunted.
   Precautions should be taken to avoid application of voltages higher than the maximum rating. Stresses above absolute maximum ratings
   may result in damage to the device.
                                                             www.onsemi.com
                                                                      2


                                                               NCN5193
 Table 2. DC CHARACTERISTICS (VDD = 1.8 V to 3.5 V, VSS = 0 V, TA = −40°C to +85°C)
    Symbol                              Parameter                             VDD              Min           Typ           Max       Units
       VDD          DC Supply Voltage                                                          1.8                         3.5          V
        VIL         Input Voltage, Low                                     1.8 – 3.5 V                                  0.2 * VDD       V
        VIH         Input Voltage, High                                    1.8 – 3.5 V      0.8 * VDD                                   V
        VOL         Output Voltage, Low (IOL = 0.67 mA)                    1.8 – 3.5 V                                     0.4          V
       VOH          Output Voltage, High (IOH = −0.67 mA)                  1.8 – 3.5 V      VDD − 0.4                                   V
      IIL/IIH       Input Leakage Current                                                                                   ±1         mA
        IDD         Total Power Supply Current                                                  70           190           500         mA
       IDDA         Static Analog Supply Current                                                45                         270         mA
      IDDQ          Static Digital Current                                                      0                           30         mA
       IDDD         Dynamic Digital Current                                                     25                         200         mA
      AREF          Analog Reference                                                           1.2          1.235          2.6          V
     CDREF          Carrier Detect Reference (AREF – 0.08 V)                                                1.15                        V
    (Note 2)
      IBIAS         Comparator Bias Current                                                                  2.5                       mA
                    (RBIAS = 120 kW, AREF = 1.235 V)
Product parametric performance is indicated in the Electrical Characteristics for the listed test conditions, unless otherwise noted. Product
performance may not be indicated by the Electrical Characteristics if operated under different conditions.
2. The HART specification requires carrier detect (CD) to be active between 80 and 120 mVp−p. Setting CDREF at AREF − 0.08 VDC will set
   the carrier detect to a nominal 100 mVp−p.
 Table 3. AC CHARACTERISTICS (VDD = 1.8 V to 3.5 V, VSS = 0 V, TA = −40°C to +85°C) (Note 3)
  Pin Name                              Description                              Min               Typ              Max            Units
 RxAP, RxAN       Receive analog input
                   Leakage current                                                                                  ±150             nA
                   Frequency – mark (logic 1)                                    1190              1200             1210            Hz
                   Frequency – space (logic 0)                                   2180              2200             2220            Hz
     RxAF         Output of the high−pass filter
                   Slew rate                                                                       0.04                            V/ms
                   Gain bandwidth (GBW)                                           300                                               kHz
                   Voltage range                                                 0.15                            VDD – 0.15          V
    RxAFI         Carrier detect and receive filter input
                   Leakage current                                                                                  ±500             nA
      TxA         Modulator output
                   Frequency – mark (logic 1)                                                     1196.9                            Hz
                   Frequency – space (logic 0)                                                    2194.3                            Hz
                   Amplitude (IAREF 1.235 V)                                                       500                              mV
                   Slew Rate − mark (logic 1)                                                      1860                             V/s
                   Slew Rate − space (logic 0)                                                     3300                             V/s
                   Loading (IAREF = 1.235 V)                                      30                                                kW
     RxD          Receive digital output                                                                                             ns
                   Rise/fall time                                                                                    20
      CD          Carrier detect output                                                                                              ns
                   Rise/fall time                                                                                    20
3. The modulator output frequencies are proportional to the input clock frequency (460.8 kHz/920 kHz/1.84 MHz / 3.68 MHz).
                                                           www.onsemi.com
                                                                      3


                                                            NCN5193
 Table 4. MODEM CHARACTERISTICS (VDD = 1.8 V to 3.5 V, VSS = 0 V, TA = −40°C to +85°C)
                                 Parameter                                  Min             Typ               Max            Units
  Demodulator jitter                                                                                           12          % of 1 bit
   Conditions
   1. Input frequencies at 1200 Hz ± 10 Hz, 2200 Hz ± 20 Hz
   2. Clock frequency of 460.8 kHz ± 0.1%
   3. Input (RxAP) asymmetry, 0
 Table 5. CERAMIC RESONATOR AND CRYSTAL − External Clock Specifications
 (VDD = 1.8 V to 3.5 V, VSS = 0 V, TA = −40°C to +85°C)
                                 Parameter                                  Min             Typ               Max            Units
  460.8 kHz / 920 kHz / 1.84 MHz / 3.68 MHz Ceramic resonator                                                  1.0            %
  or crystal oscillation frequency tolerance
  External Clock
    Duty cycle                                                               35              50                65             %
   Amplitude                                                                            VOH − VOL                             V
 Table 6. DAC CHARACTERISTICS (VDD = 3.0 V to 5.5 V, VSS = 0 V, TA = −40°C to +85°C)
                                 Parameter                                  Min             Typ               Max            Units
  Bandwidth (Note 4)                                                                         25                               Hz
  Resolution                                                                                 17                               Bit
  Maximum Output                                                                                                              V
   Return−to−Zero                                                                         AVDD/2
4. The DAC is a sigma−delta type modulator. Therefore, the bandwidth is determined by the external filter. Decreasing the bandwidth will
   increase DAC accuracy.
                                                          www.onsemi.com
                                                                4


                                                                 NCN5193
                                                       TYPICAL APPLICATION
                                                              C4     R6                          R5
                      VDDA
                          1.8 V − 3.5 V
                                                                     C6              C5         R8
                                   R10            VDD      VDDA    RxAFI  RxAF RxAN
                                                                                                 R9
                  R11                RESET
                                      VPOR
                                                                                                 R3 C3 C2 C1           HART IN
                                                                                      RxAP
                                       KICK
                  R12                                                                 R7         R4 R2             R1
                                        RxD
                                                                                                         VDDA
                                         CD
                                                                                    AREF            R16
                                        TxD
                                        RTS
                                                                                    R14      R15    U2
                   μC                    CS
                                                           NCN5193                  CDREF
                                       DATA                                         TxA
                                                                                               S                 HART &
                                                                                                             4 – 20 mA OUT
                                       SCLK
                                                                                                    VDDA
                                     CLK1                                             DAC
                                     CLK2                                             JUMP
                                                                                      DACREF
                                       XOUT
                                                                                      TEST2
                       3.6864 MHz      XIN                                            TEST1
                                                     CBIAS         VSS   MODE
                C7                   C8                                        U1
                         XT1                        R13
                                               Figure 2. Application Diagram NCN5193
Table 7. TYPICAL BILL OF MATERIALS
 Reference Designator              Value (Typical)            Tolerance            Manufacturer                      Part Number
          U1                                 −                     −            ON Semiconductor                       NCN5193
          U2                                 −                     −            ON Semiconductor                        LM285
         R1, R2                           1.5M                    1%
         R3, R5                           806k                    1%
          R4                              1.3M                    1%
          R6                              174k                    1%
          R7                              2.2M                    1%
         R8, R9                           422k                    1%
          R11                             240k                    1%
     R12, R15, R10                        200k                    1%
          R13                             120k                    1%
       R14, R16                           14k7                    1%
          C1                               1 nF                   5%
          C2                             470 pF                   5%
          C3                             200 pF                   5%
          C4                             220 pF                   5%
          C5                              20 pF                   5%
          C6                             330 pF                   5%
         C7, C8                           18 pF                   10%
          XT1                        3.6864 MHz                 100 ppm               Raltron                       AS−3.6864−18
                                                            www.onsemi.com
                                                                       5


                                                       NCN5193
                                                      CLK2    CLK1    VDD    DAC    DACREF   MODE   CD     RxD
                                                      32      31      30     29     28       27     26     25
                                           SCLK   1                                                                24   RESET
                                           DATA   2                                                                23   TxD
                                           JUMP   3                                                                22   RTS
                                           KICK   4                                                                21   TEST2
                                            CS    5            NCN5193                                             20   TEST1
                                            VSS   6                                                                19   VSS
                                            TxA   7                                                                18   XIN
                                           AREF   8                                                                17   XOUT
                                                      9       10      11     12     13       14     15     16
                                                      CDREF   CBIAS   VPOR   RxAN   VDDA     RxAP   RxAF   RxAFI
                            Figure 3. Pin Out NCN5193 in 32-pin NQFP (top view)
Table 8. PIN OUT SUMMARY 32−PIN NQFP
  Pin No.     Signal Name          Type                                                                                       Pin Description
    1            SCLK              Input          SPI Serial Clock
    2            DATA              Input          SPI Serial Data
    3            JUMP              Input          Sigma−Delta Modulator Alarm condition value
    4            KICK              Input          Watchdog kick
    5             CS               Input          SPI Serial Chip Select
    6            VSS              Ground          Ground
    7             TxA             Output          Transmit Data Modulator output
    8            AREF              Input          Analog reference voltage
    9           CDREF              Input          Carrier detect reference voltage
    10           CBIAS            Output          Comparator bias current
    11           VPOR              Input          POR measurement point
    12           RxAN              Input          Receive filter amplifier negative terminal
    13           VDDA             Power           Analog supply voltage
    14           RxAP              Input          Receive filter amplifier positive terminal
    15           RxAF             Output          Analog receive filter output
    16           RxAFI             Input          Analog receive comparator input
    17           XOUT             Output          Crystal oscillator output
    18            XIN              Input          Crystal oscillator input
    19           VSS              Ground          Ground
    20          TEST1              Input          Test pin. Tie to GND
    21          TEST2              Input          Test pin. Tie to VDD
    22           RTSB              Input          Request to send
    23            TxD              Input          Input transmit data, transmit HART data stream from microcontroller
    24          RESETB          Open Drain        Reset all digital logic when low
    25           RxD              Output          Received demodulated HART data to microcontroller
    26            CD              Output          Carrier detect output
    27           MODE              Input          Mode pin to select external or internal oscillator
    28          DACREF             Input          Sigma−Delta Modulator Reference Voltage
    29           DAC              Output          Sigma−Delta Modulator Output
    30           VDD              Power           Digital supply voltage
    31           CLK1             Output          Programmable Clock Output 1
    32           CLK2             Output          Programmable Clock Output 2
    −             EP              Ground          Exposed pad. Connect to GND
                                                  www.onsemi.com
                                                                             6


                                                            NCN5193
Table 9. PIN DESCRIPTIONS
 Symbol                 Pin Name                                                       Description
 AREF       Analog reference voltage          Receiver Reference Voltage. See Table 2.
 CDREF      Carrier detect reference voltage  Carrier Detect Reference voltage. The value should be 80 mV below AREF to set the
                                              carrier detection to a nominal of 100 mVp−p.
 RESETB     Reset digital logic               When at logic low (VSS) this input holds all the digital logic in reset. During normal
                                              operation RESETB should be at VDD.
 RTSB       Request to send                   Active−low input selects the operation of the modulator. TxA is enabled when this
                                              signal is low. This signal must be held high during power−up.
 RxAP       Analog filter amplifier positive  Positive terminal of the receive filter. For a reference implementation of the receive
            terminal                          filter see Figure 2
 RxAN       Analog filter amplifier positive  Negative terminal of the receive filter. For a reference implementation of the receive
            terminal                          filter see Figure 2
 RxAFI      Analog receive comparator input   Positive input of the carrier detect comparator and the receiver filter comparator.
 TxD        Digital transmit input            Input to the modulator accepts digital data in NRZ form. When TxD is low, the modu-
                                              lator output frequency is 2200 Hz. When TxD is high, the modulator output frequency
                                              is 1200 Hz.
 XIN        Oscillator input                  Input to the internal oscillator must be connected to a parallel mode ceramic resonator
                                              when using the internal oscillator or grounded when using an external clock signal.
 XOUT       Oscillator output                 Output from the internal oscillator must be connected to an external clock signal or to
                                              a parallel mode ceramic resonator when using the internal oscillator.
CLK1       Programmable Clock Output         Output signal derived from oscillator output, frequency division set by internal register.
CLK2       Programmable Clock Output         Output signal derived from oscillator output, frequency division set by internal register.
 CBIAS      Comparator bias current           Connection to the external bias resistor. RBIAS should be selected such that AREF /
                                              RBIAS = 10 mA ± 5%
 CD         Carrier detect output             Output goes high when a valid input is recognized on RxA. If the received signal is
                                              greater than the threshold specified on CDREF for four cycles of the RxA signal, the
                                              valid input is recognized.
 RxAF       Analog receive filter output      The output of the three pole high pass receive data filter
 RxD        Digital receive output            Signal outputs the digital receive data. When the received signal (RxA) is 1200 Hz,
                                              RxD outputs logic high. When the received signal (RxA) is 2200 Hz, RxD outputs logic
                                              low. The HART receive data stream is only active if Carrier Detect (CD) is high.
MODE       Digital input                     Selects the clock source. Connecting this pin to VDD disables the internal oscillator.
                                             The chip then requires an external clock source. Connecting this pin to VSS enables
                                             the internal oscillator to drive the external crystal or ceramic resonator
 TxA        Analog transmit output            Transmit Data Modulator Output. A trapezoidal shaped waveform with a frequency of
                                              1200 Hz or 2200 Hz corresponding to a data value of 1 or 0 respectively applied to
                                              TxD. TxA is active when RTSB is low. TxA equals 0.5 V when RTSB is high.
SCLK       SPI bus clock line                Serial communication clock line
DATA       SPI bus data line                 Serial communication data line.
CS         SPI bus chip select               Serial communication chip select line. Pulled high by microcontroller while a frame is
                                             transmitted.
JUMP       DAC Alarm value                   When a problem is detected, such as a clock failure or the watchdog going off, the DAC
                                             will jump to VSS or DACREF, depending on whether this pin is connected to VSS or
                                             VDD respectively.
DACREF     DAC Reference                     This is the high value of the output and can be connected to any voltage between AREF
                                             and VDD.
DAC        DAC Output                        Output of a 17 bit Sigma−Delta Modulator
KICK       Watchdog Kick                     Periodically a pulse should be provided to reset the watchdog. This can be configured in
                                             internal registers for an internal 1.8kHz signal, or to an external signal provided to this pin.
VPOR       POR Input                         Input to the POR comparator. The voltage on this pin is compared with AREF. An ex-
                                             ternal resistor divider should divide the supply voltage to this pin.
 VDD        Digital power                     Power for the digital modem circuitry
 VDDA       Analog supply voltage             Power for the analog modem circuitry
 VSS        Ground                            Digital ground
 VSSA       Analog ground                     Analog ground
                                                       www.onsemi.com
                                                                  7


                                                                       NCN5193
Functional Description                                                           The Numeric Controlled Oscillator (NCO) works in a
   The NCN5193 is a single-chip modem for use in Highway                    phase continuous mode preventing abrupt phase shifts when
Addressable Remote Transducer (HART) field instruments                      switching between mark and space frequency. The control
and masters. The modem IC contains a transmit data                          signal “Request To Send” (RTSB) enables the NCO. When
modulator with signal shaper, carrier detect circuitry, an                  RTSB is logic low the modulator is active and NCN5193 is
analog receiver, demodulator circuitry and an oscillator, as                in transmit mode. When RTSB is logic high the modulator
shown in the block diagram in Figure 1.                                     is disabled and NCN5193 is in receive mode.
   The modulator accepts digital data at its digital input TxD                   The digital outputs of the NCO are shaped in the Wave
and generates a trapezoidal shaped FSK modulated signal at                  Shaper block to a trapezoidal signal. This circuit controls the
the analog output TxA. A digital “1” or mark is represented                 rising and falling edge to be inside the standard HART
with a frequency of 1200 Hz. A digital “0” or space is                      waveshape limits. Figure 6 shows the transmit-signal forms
represented with a frequency of 2200 Hz. The used bit rate                  captured at TxA for mark and space frequency. The slew
is 1200 baud.                                                               rates are SRm = 1860 V/s at the mark frequency and SRs =
   The demodulator receives the FSK signal at its analog                    3300 V/s at the space frequency. For AREF = 1.235 V, TxA
input, filters it with a band-pass filter and generates 2 digital           will have a voltage swing from approximately 0.25 to
signals: RxD: Received Data and CD: Carrier Detect. At the                  0.75 VDC.
digital output RxD the original modulated signal is received.                  VTxA                          “1” = Mark; fm =1.2 kHz
CD outputs the Carrier Detect signal. It goes logic high if the
received signal is above 100 mVpp during 4 consecutive
carrier periods.                                                            0.5 V                                                                                0.5 V
   The oscillator provides the modem with a stable time base
using either a simple external resonator or an external clock
source.                                                                                                                    SRm = 1860 V/s                             t (ms)
                                                                                          0                              1                            2
Detailed Description                                                           VTxA
                                                                                                              “0” = Space; fs =2.2 kHz
Modulator
   The modulator accepts digital data in NRZ form at the                    0.5 V                                                                          0.5 V
TxD input and generates the FSK modulated signal at the
TxA output.
                                                                                                             SRs = 3300 V/s                                         t (ms)
                                                                                          0                              1                            2
                                                                                                                                                             KVDE20110408
                  Numeric
                             Sine
                                                     TxA
 TxD             Controlled
                            Shaper                                FSK_OUT        Figure 6. Modulator shaped output signal for Mark
                 Oscillator
                                                                                                  and Space frequency at TxA pin.
 RTS                                       MODULATOR
                                                     PC20101117.1           Demodulator
              Figure 4. Modulator Block Diagram                                  The demodulator accepts a FSK signal at the RxA input
   A logic “1” or mark is represented by a frequency fm =                   and reconstructs the original modulated signal at the RxD
1200 Hz. A logic “0”or space is represented by a frequency                  output. Figure 7 illustrates the demodulation process.
fs = 2200 Hz.                                                                FSK_IN
          “1” = Mark               “0” = Space
            1.2 kHz                   2.2 kHz
                                                                              RxD
                                                                                     IDLE (mark)        LSB                                      MSB               IDLE (mark)
                                                                                                 Start  D0      D1   D2     D3       D4  D5  D6  D7    Par Stop
                                                               t                                  “0”    “1”    “0”  “1”    “0”      “0” “1” “0”  “1”  “0”
                                                                                                                                                            t BIT
                                                                                                 tBIT                    8 data bits
                                                                               PC20101013.4
                                                                                                       Figure 7. Modulation Timing
                                                                                 This HART bit stream follows a standard 11-bit UART
                                                                            frame with Start, Stop, 8 Data – and 1 Parity bit (odd). The
                                                                            communication speed is 1200 baud.
         tBIT = 833 ms             tBIT = 833 m s
                                                     KVDE20110407.5         Receive Filter and Comparator
                   Figure 5. Modulation Timing                                   The received FSK signal first is filtered using a band-pass
                                                                            filter build around the low noise receiver operational
                                                                            amplifier. This filter blocks interferences outside the HART
                                                                            signal band.
                                                                   www.onsemi.com
                                                                          8


                                                                NCN5193
                                    C4     R6                                                  R5
                                             C6                              C5           R8
                               RxAFI                 RxAF
                                                                             R9
                                                                            RxAN
                                                                                               R3 C3 C2 C1
                                          15 MW
                                                                            RxAP                                   HART IN
                       Rx Comp                      Filter Amplifier           R7              R4 R2        R1
                                                                            AREF
                                                  DEMODULATOR                         1.235V
                             Figure 8. Demodulator Receive Filter and Signal Comparator
  The filter output is fed into the Rx comparator. The                     Carrier Detect Circuitry
threshold value equals the analog ground making the                          Low HART input signal levels increases the risk for the
comparator to toggle on every zero crossing of the filtered                generation of bit errors. Therefore the minimum signal
FSK signal. The maximum demodulator jitter is 12% of one                   amplitude is set to 80−120 mVpp. If the received signal is
bit given the input frequencies are within the HART                        below this level the demodulator is disabled.
specifications, a clock frequency of 460.8 kHz (±1.0 %) and                  This level detection is done in the Carrier Detector. The
zero input (RxA) asymmetry.                                                output of the demodulator is qualified with the carrier detect
                                                                           signal (CD), therefore, only RxA signals large enough to be
                                                                           detected (100 mVp-p typically) by the carrier detect circuit
                                                                           produce received serial data at RxD.
                                                                                                                 FILTERED
                                                                                                                  HART IN
                                                                                      RxAFI
                                                       Demodulator
                       RxD                               Logic
                                                                                                    15 MΩ
                                                                            Rx Comp
                                                                                                            AREF
                                                                                                                        1.235 VDC
                                                      Carrier Detect
                        CD                                                                                  CDREF
                                                        Counter
                                                                                                                        VAREF – 80 mV
                                                  DEMODULATOR              Carrier Comp
                                 Figure 9. Demodulator Carrier and Signal Comparator
  The carrier detect comparator shown in Figure 9 generates                is 2200 HZ. The difference between RxD and RxD_ENH is
logic low output if the RxAFI voltage is below CDREF. The                  evident when CD is low: RxD is then also low, while
comparator output is fed into a carrier detect block. The                  RxD_ENH is then high. When CD is high, RxD and
carrier detect block drives the carrier detect output pin CD               RxD_ENH have the same output.
high if RTSB is high and four consecutive pulses out of the
comparator have arrived. CD stays high as long as RTSB is                  Miscellaneous Analog Circuitry
high and the next comparator pulse is received in less than
                                                                           Voltage References
2.5 ms. Once CD goes inactive, it takes four consecutive                     The NCN5193 requires two voltage references, AREF
pulses out of the comparator to assert CD again. Four                      and CDREF. AREF sets the DC operating point of the
consecutive pulses amount to 3.33 ms when the received                     internal operational amplifiers and is the reference for the
signal is 1200 Hz and to 1.82 ms when the received signal
                                                           www.onsemi.com
                                                                       9


                                                           NCN5193
Rx comparator. The ON Semiconductor LM285D 1.235 V                    resonator. Typically, capacitors in the range of 10 pF to
reference is recommended.                                             470 pF are used. Additionally, a resistor may be required
  The level at which CD (Carrier Detect) becomes active is            between XOUT and the crystal terminal, depending on
determined by the DC voltage difference (CDREF - AREF).               manufacturer recommendation.
Selecting a voltage difference of 80 mV will set the carrier
detect to a nominal 100 mVp-p.
Bias Current Resistor
  The NCN5193 requires a bias current resistor RBIAS to be                              Crystal
                                                                                       Oscillator
connected between CBIAS and VSS. The bias current
controls the operating parameters of the internal operational
amplifiers and comparators and should be set to 2.5 mA.
                                                                                                    XIN                 PC20101118 . 5
                                                                              XOUT      460.8 kHz
                BIAS
                        AREF/4              2.5 mA
                                                                                 CX                 CX
                             OPA
                                                                                       Figure 11. Crystal Oscillator
                                                                      External Clock Option
                                                                        It may be desirable to use an external clock as shown in
                                                                      Figure 12 rather than the internal oscillator. In addition, the
                                   CBIAS
             PC20101118 .4                                            NCN5193 consumes less current when an external clock is
                                           RBIAS                      used. Minimum current consumption occurs with the clock
                                                                      connected to XOUT and XIN connected to VSS.
                      Figure 10. Bias Circuit
  The value of the bias current resistor is determined by the
reference voltage AREF and the following formula:                                                     Crystal
                                                                                                     Oscillator
                         R BIAS +        VREF
                                     4    2.5 mA
 The recommended bias current resistor is 120 KW when                                                                     PC20101118 .6
                                                                                             XOUT                 XIN
AREF is equal to 1.235 V.
                                                                           460.8 kHz
Oscillator
  The clock signal used by NCN5193 can either be                              Figure 12. Oscillator with External Clock
460.8 kHz, 921.6 kHz, 1.8432 MHz or 3.6864 MHz. This
                                                                      Reset
can be provided by an external clock or a resonator or crystal
                                                                         The NCN5193 modem includes a Power on Reset block.
connected to the internal oscillator. This is selected by
                                                                      An external resistor division of the supply voltage is
connecting pin 27 to VDD (for external oscillator) or VSS
                                                                      required, and should be tied to pin VPOR. This pin is
(for internal oscillator). The correct divider value must be
                                                                      attached to an internal comparator, and is compared to the
chosen so that the internal system clock is always 460.8 kHz.
                                                                      AREF voltage. When this comparator trips, the RESETB
This divider value can be set in the Clock Configuration
                                                                      pin will be pulled low and the IC will reset. After VPOR
Register (CCR), bits 1−0. In the CCR, divider values can
                                                                      returns to a valid level, the RESETB pin will be held low for
also be chosen for the CLK1 and CLK2 outputs. These
                                                                      at least an additional 35 ms (may be longer depending on
values can be freely chosen and do not affect operation of the
                                                                      clock frequency). The RESETB pin will also be pulled low
HART transceiver.
                                                                      when a failure is detected by the watchdog timer. When the
Internal Oscillator Option                                            microcontroller fails to provide a periodical kick signal,
  The oscillator cell will function with a 460.8 kHz,                 either by a pulse on the kick pin or by an update to the
921.6 kHz, 1.8432 MHz or 3.6864 MHz crystal or ceramic                sigma−delta register (configurable in the GCR), the
resonator. A parallel resonant ceramic resonator can be               watchdog will pull down the RESETB pin for 140 ms. A kick
connected between XIN and XOUT. Figure 11 illustrates the             signal should be provided to the IC at least every 53 ms. The
crystal option for clock generation using a 460.8 kHz (±1%            watchdog timer can also guard against system clock failures
tolerance) parallel resonant crystal and two tuning                   if bit 2 of the GCR is set. In this case, the RESETB pin will
capacitors Cx. The actual values of the capacitors may                also be pulled low when the system clock frequency is
depend on the recommendations of the manufacturer of the              outside of 0.5x − 2x the nominal frequency (460.8 kHz).
                                                       www.onsemi.com
                                                                 10


                                                                NCN5193
                                                                              CS
                            POR
      VDD                          AREF
                                                                              SCLK
                                                                              DATA
                                    OPA                                                    b7   b6  b5     b4   b3 b2    b1 b0
             VPOR
                                                                                               Figure 14. SPI Frame
                      KVDE 20110408 .1
             Figure 13. Power on Reset Block
                              Byte 0                  Byte 1                    Byte 2                  Byte 3
                  7 6 5 4 3 2 1 0          7 6 5 4 3 2 1 0          7 6 5 4 3 2 1 0
                  0 1 0     Address   0    W15−W8 for Reg 1, 2, 3   W7−W0 for Reg 1, 2, 3
                                           7 6 5 4 3 2 1 0          7 6 5 4 3 2 1 0           7 6 5 4 3 2 1 0
                                            W23−W16 for Reg A         W15−W8 for Reg A          W7−W0 for Reg A
                                                 Figure 15. Register Write Format
SPI Communication                                                         Once the data is shifted in, CS should go low no sooner than
   The SPI bus on the NCN5193 is made up of three signals;                one clock cycle after the last rising edge of the last byte of
DATA, SCLK, and CS operating in SPI mode 1 (CPOL = 0,                     SCLK. To write to a register, first a command byte must be
CPHA = 1, as shown in Figure 14).                                         sent which includes the register address (as shown in Figure
   CS should first go high at least one clock cycle before the            15), followed by 2 bytes (for GCR, CCR, and ACR) or 3
other signals change. One clock cycle is 2.17 ms at a master              bytes (for SDR) of data. When writing data to the GCR,
clock frequency of 460.8 kHz.                                             CCR, or ACR registers, the first byte must be the bitwise
   SCLK can begin to clock in DATA serially to the chip on                inverse of the configuration data in the second byte.
the falling edge of SCLK. SCLK should have a maximum
frequency of 460.8 kHz. The format of the data should be                  Internal Registers
most significant bit first.                                                  The NCN5193 has four registers to setup its internal
   DATA is shifted into the chip on the falling edge of SCLK,             operation. In Tables 10 to 16 an explanation of their usage
and thus for correct operation DATA should change only on                 is given, together with their reset values.
the rising edge of SCLK. The first bit shifted in is the MSB.
  Table 10. GENERAL CONFIGURATION REGISTER (GCR)
    Address                    Bit 7       Bit 6      Bit 5            Bit 4           Bit 3          Bit 2           Bit 1      Bit 0
      0x01         Reset         1          0          0                 0                0              1             0          1
                   Data          -           -          -          RXD_IDLE               -        WDT_CLK              WDT_KICK
   The general configuration register is used to set the RxD idle state, enable or disable the monitoring of the system clock and
setting the watchdog timer kick source. A write to this register should always be preceded with an inverted value to the shadow
register.
 Table 11. GENERAL CONFIGURATION REGISTER PARAMETERS
     Parameter                 Value                                                Description                                   Info
  RXD_IDLE             0            Low           Sets the idle state for the RxD pin (when CD is low)
                       1            High
  WDT_CLK              0           Enable         Disable/Enable monitoring of the clock frequency by the watchdog timer.
                       1           Disable
  WDT_KICK            00           Disable        Kick signal to watchdog timer is disabled
                      01          External        Watchdog kick source is a pulse on the KICK pin
                      10        Sigma-Delta       Watchdog kick source is an write to the Sigma-Delta Data register (SDR)
                      11
                                                          www.onsemi.com
                                                                     11


                                                                NCN5193
  Table 12. CLOCK CONFIGURATION REGISTER (CCR)
   Address                                      Bit 7        Bit 6        Bit 5      Bit 4       Bit 3      Bit 2       Bit 1      Bit 0
     0x02                  Reset                 1             0           1           1          0           1           1          1
                            Data                          CLK2_DIV                            CLK1_DIV                    SYSCLK_DIV
   The clock configuration register is used to set the correct division ratios for both clock outputs and the system clock. A write
to this register should always be preceded with an inverted value to the shadow register.
 Table 13. CLOCK CONFIGURATION REGISTER PARAMETERS
     Parameter                   Value                                                Description                                    Info
  CLK2_DIV             000         Divide by 1        Set the clock division value for clock output 2 (CLK2) with regard to the
                                                      oscillator frequency.
                       001         Divide by 2
                       010         Divide by 3
                       011         Divide by 4
                       100         Divide by 5
                       101         Divide by 8
                       110        Divide by 16
                       111        Divide by 32
  CLK1_DIV             000         Divide by 1        Set the clock division value for clock output 1 (CLK1) with regard to the
                                                      oscillator frequency.
                       001         Divide by 2
                       010         Divide by 3
                       011         Divide by 4
                       100         Divide by 5
                       101         Divide by 8
                       110        Divide by 16
                       111        Divide by 32
  SYSCLK_DIV            00         Divide by 1        Set the clock division value for the system clock with regard to the oscil-
                                                      lator frequency. These bits must be set so the system clock is 460.8 kHz
                        01         Divide by 2
                        10         Divide by 4
                        11         Divide by 8
 Table 14. ANALOG CONFIGURATION REGISTER – ACR
                                                General Configuration Register (GCR)
 Address              Bit 7        Bit 6          Bit 5             Bit 4         Bit 3            Bit 2           Bit 1          Bit 0
   0x03    Reset        1            1              1                1              1                1               0             1
            Data    MOD_EN      RXAMP_EN       RXCMP_EN        CDCMP_EN         TXAMP_EN      MODDAC_EN        WDOSC_EN         SDDAC_EN
   The analog configuration register is used to enable or disable various analog blocks. A write to this register should always
be preceded with an inverted value to the shadow register.
                                                           www.onsemi.com
                                                                     12


                                                               NCN5193
 Table 15. ANALOG CONFIGURATION REGISTER PARAMETERS
      Parameter                Value                                               Description                                      Info
   MOD_EN                  0     Enable        Disable/Enable the modulator/demodulator
                           1     Disable
   RXAMP_EN                0     Enable        Disable/Enable the receive filter opamp
                           1     Disable
   RXCMP_EN                0     Enable        Disable/Enable the receive comparator
                           1     Disable
   CDCMP_EN                0     Enable        Disable/Enable the carrier detect comparator
                           1     Disable
   TXAMP_EN                0     Enable        Disable/Enable the transmit output amplifier
                           1     Disable
   MODDAC_EN               0     Enable        Disable/Enable the DAC used to provide the waveshaping to the modulator
                           1     Disable
   WDOSC_EN                0     Enable        Disable/Enable the watchdog timer oscillator
                           1     Disable
   SDDAC_EN                0     Enable        Disable/Enable the sigma-delta DAC
                           1     Disable
 Table 16. SIGMA-DELTA DAC REGISTER – SDR
                                                General Configuration Register (GCR)
       Address                                       Bit 23:16                Bit 15:8                Bit 7                Bit 6:0
          0x0A                Reset                    0x00                    0x00                     0                   0x00
                               Data                  Data 16:9                Data 8:1               Data 0                   -
   The sigma-delta register is used to update the output value            how to create a current loop slave transmitter, see
of the 17-bit sigma delta modulator. The sigma-delta                      application notes on the ON Semiconductor website. The
modulator is disabled at reset and must be enabled in the                 DAC output will switch between 0 V and the voltage
ACR first before the value in the SDR will appear at the                  provided to DACREF. To achieve maximum accuracy, the
sigma-delta output.                                                       DACREF voltage should be kept stable, so that power
                                                                          supply variations are not visible in the DAC output. The
Sigma Delta DAC                                                           Sigma−Delta modulator output can be set through the Sigma
   The NCN5193 Modem has an integrated Sigma−Delta                        Delta Register (SDR). When a clock failure is detected,
Modulator for use in a current loop slave transmitter.                    using an internal oscillator, the DAC output will jump to the
Through this DAC, an analog value can be set and                          level set by the JUMP pin, until the IC is reset or a rising
transmitted across the current loop. For more information on              flank is detected on KICK.
Ordering Information
   The NCN5193 is available in a 32−pin no lead quad flat pack (NQFP). Use the following part numbers when ordering.
Contact your local sales representative for more information: www.onsemi.com.
 Table 17. ORDERING INFORMATION
            Part Number                   Temperature Range                           Package                        Shipping†
   NCN5193MNTWG                       −40°C to +85°C (Industrial)           32−pin NQFP                          1000 / Tape & Reel
                                                                            Green/RoHS compliant
†For information on tape and reel specifications, including part orientation and tape sizes, please refer to our Tape and Reel Packaging
  Specifications Brochure, BRD8011/D.
                                                           www.onsemi.com
                                                                     13


                                                                                         NCN5193
                                                                            PACKAGE DIMENSIONS
                                                                                    QFN32 5x5, 0.5P
                                                                                       CASE 485EK
                                                                                           ISSUE A
                                         D                A                                                                       NOTES:
                          ÉÉÉ
                                                                                              L                     L               1. DIMENSIONS AND TOLERANCING PER
                                                          B                                                                            ASME Y14.5M, 1994.
                          ÉÉÉ
                                                                                                                                    2. CONTROLLING DIMENSION: MILLIMETERS.
            PIN ONE
           LOCATION                                                       L1                                                        3. DIMENSION b APPLIES TO PLATED
                          ÉÉÉ
                                                                                                                                       TERMINAL AND IS MEASURED BETWEEN
                                                                                        DETAIL A                                       0.15 AND 0.30MM FROM THE TERMINAL TIP.
                                                                                                                                    4. COPLANARITY APPLIES TO THE EXPOSED
                                                                                  ALTERNATE TERMINAL
                                                          E                                                                            PAD AS WELL AS THE TERMINALS.
                                                                                     CONSTRUCTIONS
                                                                                                                                                 MILLIMETERS
                                                                                                                                          DIM     MIN       MAX
                0.10 C                                                                                                                     A      0.80      0.90
                                                                                                                                          A1      −−−       0.05
                                                                                                                                          A3        0.20 REF
                                                                                            ÉÉÉ
                                                                                            ÇÇÇ
                   0.10 C          TOP VIEW                                      EXPOSED Cu           MOLD CMPD                            b      0.18      0.30
                                                                                                                                           D        5.00 BSC
                                                                                            ÇÇÇ
                                                                                                                                          D2      3.20      3.40
                                                           A                                                                               E        5.00 BSC
                                 DETAIL B
               0.10 C                                         (A3)                                                                        E2      3.20      3.40
                                                                  A1                         DETAIL B                                      e        0.50 BSC
                                                                                             ALTERNATE                                     L      0.35      0.45
                                                                                           CONSTRUCTION                                   L1      −−−       0.15
               0.05 C
                                                                        SEATING
        NOTE 4                    SIDE VIEW                        C    PLANE
                                                                                                                                     RECOMMENDED
                                                                                                                             SOLDERING FOOTPRINT*
               DETAIL A
                                         D2                                                                                                      5.30
                                  9                                                                                                                                     32X
                                                                                                                                                3.55                    0.63
                             8                        17
              32X   L
                                                          E2
                             1
                                                                                                                                                                        3.55 5.30
                                 32                25
                                                         32X b
                                   e
                                                               0.10   M   C A B
                                e/2
                                                               0.05   M   C   NOTE 3
                               BOTTOM VIEW                                                                          PACKAGE
                                                                                                                                      0.50                          32X
                                                                                                                      OUTLINE
                                                                                                                                      PITCH                         0.30
                                                                                                                                                         DIMENSION: MILLIMETERS
                                                                                                     *For additional information on our Pb−Free strategy and soldering
                                                                                                       details, please download the ON Semiconductor Soldering and
                                                                                                       Mounting Techniques Reference Manual, SOLDERRM/D.
  ON Semiconductor and            are trademarks of Semiconductor Components Industries, LLC dba ON Semiconductor or its subsidiaries in the United States and/or other countries.
  ON Semiconductor owns the rights to a number of patents, trademarks, copyrights, trade secrets, and other intellectual property. A listing of ON Semiconductor’s product/patent
  coverage may be accessed at www.onsemi.com/site/pdf/Patent−Marking.pdf. ON Semiconductor reserves the right to make changes without further notice to any products herein.
  ON Semiconductor makes no warranty, representation or guarantee regarding the suitability of its products for any particular purpose, nor does ON Semiconductor assume any liability
  arising out of the application or use of any product or circuit, and specifically disclaims any and all liability, including without limitation special, consequential or incidental damages.
  Buyer is responsible for its products and applications using ON Semiconductor products, including compliance with all laws, regulations and safety requirements or standards,
  regardless of any support or applications information provided by ON Semiconductor. “Typical” parameters which may be provided in ON Semiconductor data sheets and/or
  specifications can and do vary in different applications and actual performance may vary over time. All operating parameters, including “Typicals” must be validated for each customer
  application by customer’s technical experts. ON Semiconductor does not convey any license under its patent rights nor the rights of others. ON Semiconductor products are not
  designed, intended, or authorized for use as a critical component in life support systems or any FDA Class 3 medical devices or medical devices with a same or similar classification
  in a foreign jurisdiction or any devices intended for implantation in the human body. Should Buyer purchase or use ON Semiconductor products for any such unintended or unauthorized
  application, Buyer shall indemnify and hold ON Semiconductor and its officers, employees, subsidiaries, affiliates, and distributors harmless against all claims, costs, damages, and
  expenses, and reasonable attorney fees arising out of, directly or indirectly, any claim of personal injury or death associated with such unintended or unauthorized use, even if such
  claim alleges that ON Semiconductor was negligent regarding the design or manufacture of the part. ON Semiconductor is an Equal Opportunity/Affirmative Action Employer. This
  literature is subject to all applicable copyright laws and is not for resale in any manner.
PUBLICATION ORDERING INFORMATION
LITERATURE FULFILLMENT:                                                     N. American Technical Support: 800−282−9855 Toll Free               ON Semiconductor Website: www.onsemi.com
 Literature Distribution Center for ON Semiconductor                         USA/Canada
 19521 E. 32nd Pkwy, Aurora, Colorado 80011 USA                             Europe, Middle East and Africa Technical Support:                   Order Literature: http://www.onsemi.com/orderlit
 Phone: 303−675−2175 or 800−344−3860 Toll Free USA/Canada                    Phone: 421 33 790 2910
 Fax: 303−675−2176 or 800−344−3867 Toll Free USA/Canada                                                                                         For additional information, please contact your local
 Email: orderlit@onsemi.com                                                                                                                     Sales Representative
 ◊                                                                                 www.onsemi.com                                                                                NCN5193/D
                                                                                               14


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
ON Semiconductor:
 NCN5193MNTWG
