                 PTN3381B
                 Enhanced performance HDMI/DVI level shifter with voltage
                 regulator, dongle detect support and active DDC buffer
                 Rev. 2 — 15 October 2010                                            Product data sheet
1. General description
             The PTN3381B is a high-speed level shifter device which converts four lanes of low-swing
             AC-coupled differential input signals to DVI v1.0 and HDMI v1.3a compliant open-drain
             current-steering differential output signals, up to 1.65 Gbit/s per lane. Each of these lanes
             provides a level-shifting differential buffer to translate from low-swing AC-coupled
             differential signaling on the source side, to TMDS-type DC-coupled differential
             current-mode signaling terminated into 50 Ω to 3.3 V on the sink side. Additionally, the
             PTN3381B provides a single-ended active buffer for voltage translation of the HPD signal
             from 5 V on the sink side to 3.3 V on the source side and provides a channel with active
             buffering and level shifting of the DDC channel (consisting of a clock and a data line)
             between 3.3 V source-side and 5 V sink-side. The DDC channel is implemented using
             active I2C-bus buffer technology providing capacitive isolation, redriving and level shifting
             as well as disablement (isolation between source and sink) of the clock and data lines.
             To provide the highest level of integration in external adapter (or: dongle) applications,
             PTN3381B includes an onboard 5 V DC regulator. Its output is designed to provide the
             required 5 V power supply to the DVI or HDMI connector, thereby eliminating the need for
             a separate external regulator. The on-board regulator needs only two external capacitors
             to operate, and its output is active whenever a valid 3.3 V is applied to the PTN3381B VDD
             pins.
             The low-swing AC-coupled differential input signals to the PTN3381B typically come from
             a display source with multi-mode I/O, which supports multiple display standards, e.g.,
             DisplayPort, HDMI and DVI. While the input differential signals are configured to carry DVI
             or HDMI coded data, they do not comply with the electrical requirements of the DVI v1.0
             or HDMI v1.3a specification. By using PTN3381B, chip set vendors are able to implement
             such reconfigurable I/Os on multi-mode display source devices, allowing the support of
             multiple display standards while keeping the number of chip set I/O pins low. See
             Figure 1.
             The PTN3381B main high-speed differential lanes feature low-swing self-biasing
             differential inputs which are compliant to the electrical specifications of DisplayPort
             Standard v1.1 and/or PCI Express Standard v1.1, and open-drain current-steering
             differential outputs compliant to DVI v1.0 and HDMI v1.3a electrical specifications. The
             I2C-bus channel actively buffers as well as level-translates the DDC signals for optimal
             capacitive isolation. Its I2C-bus control block also provides for optional software HDMI
             dongle detect by issuing a predetermined code sequence upon a read command to an
             I2C-bus specified address. The PTN3381B also supports power-saving modes in order to
             minimize current consumption when no display is active or connected.
             The PTN3381B is a fully featured HDMI as well as DVI level shifter. It is functionally
             equivalent to PTN3361B but provides an onboard 5 V regulator.


NXP Semiconductors                                                                                                                        PTN3381B
                                                                                                                    Fully integrated HDMI/DVI level shifter
                          PTN3381B is powered from a single 3.3 V power supply consuming a small amount of
                          power (100 mW typical without load at 5 V regulator output) and is offered in a 48-terminal
                          HVQFN48 package.
                 MULTI-MODE DISPLAY SOURCE
                                                                                                        OE_N
                                                                                                                     PTN3381B
                                                                        reconfigurable I/Os
                            PCIe PHY ELECTRICAL
                                                                                AC-coupled                                      OUT_D4+
                           TMDS               PCIe                            differential pair                                 OUT_D4−
                           coded          output buffer                         TMDS data
                            data    TX                                                                  IN_D4+
                                    FF                                          DATA LANE
                                                                                                        IN_D4−
                                                  TX
                                                                                AC-coupled                                      OUT_D3+
                           TMDS               PCIe                            differential pair                                 OUT_D3−
                           coded          output buffer                         TMDS data
                            data    TX                                                                  IN_D3+
                                    FF                                          DATA LANE
                                                                                                        IN_D3−
                                                  TX
                                                                                AC-coupled                                      OUT_D2+
                           TMDS               PCIe                            differential pair                                 OUT_D2−
                           coded          output buffer                         TMDS data
                            data    TX                                                                  IN_D2+
                                                                                                                                                                  DVI/HDMI CONNECTOR
                                    FF                                          DATA LANE
                                                                                                        IN_D2−
                                                  TX
                                                                                AC-coupled                                      OUT_D1+
                          TMDS                PCIe                            differential pair                                 OUT_D1−
                           clock          output buffer                             clock
                          pattern   TX                                                                  IN_D1+
                                    FF                                         CLOCK LANE
                                                                                                        IN_D1−
                                                  TX
                                                                                   0 V to 3.3 V                                           0 V to 5 V
                                                                                                        HPD_SOURCE           HPD_SINK
                                                                                                        DDC_EN
                                                                                        3.3 V           (0 V to 3.3 V)
                                                                        3.3 V           3.3 V           DDET                              5V
                                                                                                        SCL_SOURCE           SCL_SINK
                                                                        3.3 V                                                             5V
                                    DDC I/O
                                    (I2C-bus)
              CONFIGURATION                                                                             SDA_SOURCE           SDA_SINK
                                                                                                                                           5 VDC out
                                                                                                                                 V5OUT
                                                                                                                                                         002aae076
           Remark: TMDS clock and data lanes can be assigned arbitrarily and interchangeably to D[4:1].
 Fig 1.    Typical application system diagram
PTN3381B                                        All information provided in this document is subject to legal disclaimers.                     © NXP B.V. 2010. All rights reserved.
Product data sheet                                            Rev. 2 — 15 October 2010                                                                                                 2 of 30


NXP Semiconductors                                                                                                            PTN3381B
                                                                                                            Fully integrated HDMI/DVI level shifter
2. Features and benefits
                   2.1 High-speed TMDS level shifting
                        Converts four lanes of low-swing AC-coupled differential input signals to DVI v1.0 and
                          HDMI v1.3a compliant open-drain current-steering differential output signals
                        Pin-programmable pre-emphasis feature
                        TMDS level shifting operation up to 1.65 Gbit/s per lane (165 MHz character clock)
                        TMDS level shifting operation up to 2.25 Gbit/s per lane (225 MHz character clock)
                          using pre-emphasis feature
                        Integrated 50 Ω termination resistors for self-biasing differential inputs
                        Back-current safe outputs to disallow current when device power is off and monitor is
                          on
                        Disable feature to turn off TMDS inputs and outputs and to enter low-power state
                   2.2 DDC level shifting
                         Integrated DDC buffering and level shifting (3.3 V source to 5 V sink side)
                         Rise time accelerator on sink-side DDC ports
                         0 Hz to 400 kHz I2C-bus clock frequency
                         Back-power safe sink-side terminals to disallow backdrive current when power is off or
                          when DDC is not enabled
                   2.3 HDMI dongle detect support
                        Incorporates I2C slave ROM
                        Responds to DDC read to address 81h with predetermined byte sequence
                        Feature enabled by pin DDET (must be enabled for correct operation in accordance
                          with DisplayPort interoperability guideline)
                   2.4 HPD level shifting
                        HPD non-inverting level shift from 0 V on the sink side to 0 V on the source side, or
                          from 5 V on the sink side to 3.3 V on the source side
                        Integrated 200 kΩ pull-down resistor on HPD sink input guarantees ‘input LOW’ when
                          no display is plugged in
                        Back-power safe design on HPD_SINK to disallow backdrive current when power is off
                   2.5 5 V DC voltage regulator
                        Generates 5 V for the DVI/HDMI connector from the 3.3 V DP_PWR pin supplied by
                          the DisplayPort connector
                        Supports up to 75 mA of load current with an accuracy of ±300 mV
                        Only two external capacitors required
                        Eliminates need for an external 5 V regulator in dongle applications
                        Back drive protection on 5 V output
                        Short-circuit protection
                        Overcurrent protection
PTN3381B                               All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                   Rev. 2 — 15 October 2010                                                                             3 of 30


NXP Semiconductors                                                                                                               PTN3381B
                                                                                                               Fully integrated HDMI/DVI level shifter
                   2.6 General
                          Power supply 3.3 V ± 10 %
                          ESD resilience to 4 kV HBM, 1 kV CDM
                          Support for optional HDMI dongle detection via DDC/I2C-bus channel
                          Power-saving modes (using output enable)
                          Back-current-safe design on all sink-side main link, DDC and HPD terminals
                          Transparent operation: no re-timing or software configuration required
3. Applications
                         DisplayPort to HDMI adapters
                         DisplayPort to DVI adapters required to drive long cables
4. Ordering information
Table 1.    Ordering information
 Type number       Package
                   Name        Description                                                                                                     Version
 PTN3381BBS        HVQFN48     plastic thermal enhanced very thin quad flat package; no leads; 48 terminals; SOT619-1
                               body 7 × 7 × 0.85 mm
PTN3381B                                  All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                      Rev. 2 — 15 October 2010                                                                             4 of 30


NXP Semiconductors                                                                                                            PTN3381B
                                                                                                     Fully integrated HDMI/DVI level shifter
5. Functional diagram
                                            OE_N
                                                                                                              PTN3381B
                                                                  input bias
                                                                                     enable
                                                                                                                                   OUT_D4+
                                                              50 Ω           50 Ω                                                  OUT_D4−
                                          IN_D4+
                                          IN_D4−
                                                                  input bias                         enable
                                                                                     enable
                                                                                                                                   OUT_D3+
                                                              50 Ω           50 Ω                                                  OUT_D3−
                                          IN_D3+
                                          IN_D3−
                                                                  input bias                         enable
                                                                                     enable
                                                                                                                                   OUT_D2+
                                                              50 Ω           50 Ω                                                  OUT_D2−
                                          IN_D2+
                                          IN_D2−
                                                                  input bias                         enable
                                                                                     enable
                                                                                                                                   OUT_D1+
                                                              50 Ω           50 Ω                                                  OUT_D1−
                                          IN_D1+
                                          IN_D1−
                                                                                                     enable
                                                                                  HPD level shifter
                               HPD_SOURCE                                                                                          HPD_SINK
                                 (0 V to 3.3 V)                                                                                    (0 V to 5 V)
                                                                                                                         200 kΩ
                          DDC_EN (0 V to 3.3 V)
                               SCL_SOURCE                                  I2C-BUS                          DDC BUFFER             SCL_SINK
                                                                             SLAVE                             AND
                               SDA_SOURCE                                     ROM                          LEVEL SHIFTER           SDA_SINK
                                            DDET
                                                CP
                                                                                                                                       V5OUT
                               Creg(ext)                                              DC REGULATOR
                                                                                                                                    Co(reg)
                                               CN
                                                                                                                       002aae077
                   Fig 2. Functional diagram of PTN3381B
PTN3381B                        All information provided in this document is subject to legal disclaimers.                       © NXP B.V. 2010. All rights reserved.
Product data sheet                            Rev. 2 — 15 October 2010                                                                                     5 of 30


NXP Semiconductors                                                                                                                                                                                                        PTN3381B
                                                                                                                                                             Fully integrated HDMI/DVI level shifter
6. Pinning information
                     6.1 Pinning
                                                                          48 IN_D4+    47 IN_D4−    46 VDD   45 IN_D3+    44 IN_D3−    43 GND   42 IN_D2+     41 IN_D2−    40 VDD   39 IN_D1+    38 IN_D1−    37 GND
                                                 terminal 1
                                                index area
                                                        GND         1                                                                                                                                                  36 CP
                                                          VDD       2                                                                                                                                                  35 CN
                                                       PES0         3                                                                                                                                                  34 V5OUT
                                                       DDET         4                                                                                                                                                  33 VDD
                                                        GND         5                                                                                                                                                  32 DDC_EN
                                                       REXT         6                                                                                                                                                  31 GND
                                                                                                                          PTN3381BBS
                                          HPD_SOURCE                7                                                                                                                                                  30 HPD_SINK
                                          SDA_SOURCE                8                                                                                                                                                  29 SDA_SINK
                                          SCL_SOURCE                9                                                                                                                                                  28 SCL_SINK
                                                       PES1 10                                                                                                                                                         27 GND
                                                          VDD 11                                                                                                                                                       26 VDD
                                                        GND 12                                                                                                                                                         25 OE_N
                                                                          OUT_D4+ 13   OUT_D4− 14
                                                                                                    VDD 15
                                                                                                             OUT_D3+ 16   OUT_D3− 17
                                                                                                                                       GND 18
                                                                                                                                                OUT_D2+ 19    OUT_D2− 20
                                                                                                                                                                           VDD 21
                                                                                                                                                                                    OUT_D1+ 22   OUT_D1− 23
                                                                                                                                                                                                              GND 24     002aae078
                                                                                                             Transparent top view
                                   HVQFN48 package supply ground is connected to both GND pins and exposed center pad. GND
                                   pins and the exposed center pad must be connected to supply ground for proper device operation.
                                   For enhanced thermal, electrical, and board level performance, the exposed pad needs to be
                                   soldered to the board using a corresponding thermal pad on the board and for proper heat
                                   conduction through the board, thermal vias need to be incorporated in the PCB in the thermal pad
                                   region.
                          Fig 3.   Pin configuration for HVQFN48
                     6.2 Pin description
Table 2.    Pin description
Symbol           Pin       Type                            Description
OE_N, IN_Dx and OUT_Dx signals
OE_N             25        3.3 V low-voltage               Output Enable and power saving function for high-speed differential level
                           CMOS single-ended               shifter path.
                           input                           When OE_N = HIGH:
                                                               IN_Dx termination = high-impedance
                                                               OUT_Dx outputs = high-impedance; zero output current
                                                           When OE_N = LOW:
                                                               IN_Dx termination = 50 Ω
                                                               OUT_Dx outputs = active
IN_D4+           48        Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D4+ makes a differential pair with IN_D4−.
                                                           The input to this pin must be AC coupled externally.
PTN3381B                                   All information provided in this document is subject to legal disclaimers.                                                                                                           © NXP B.V. 2010. All rights reserved.
Product data sheet                                       Rev. 2 — 15 October 2010                                                                                                                                                                        6 of 30


NXP Semiconductors                                                                                                                PTN3381B
                                                                                                                Fully integrated HDMI/DVI level shifter
Table 2.    Pin description …continued
 Symbol           Pin      Type                            Description
 IN_D4−           47       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D4− makes a differential pair with IN_D4+.
                                                           The input to this pin must be AC coupled externally.
 IN_D3+           45       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D3+ makes a differential pair with IN_D3−.
                                                           The input to this pin must be AC coupled externally.
 IN_D3−           44       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D3− makes a differential pair with IN_D3+.
                                                           The input to this pin must be AC coupled externally.
 IN_D2+           42       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D2+ makes a differential pair with IN_D2−.
                                                           The input to this pin must be AC coupled externally.
 IN_D2−           41       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D2− makes a differential pair with IN_D2+.
                                                           The input to this pin must be AC coupled externally.
 IN_D1+           39       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D1+ makes a differential pair with IN_D1−.
                                                           The input to this pin must be AC coupled externally.
 IN_D1−           38       Self-biasing                    Low-swing differential input from display source with PCI Express
                           differential input              electrical signalling. IN_D1− makes a differential pair with IN_D1+.
                                                           The input to this pin must be AC coupled externally.
 OUT_D4+          13       TMDS differential               HDMI compliant TMDS output. OUT_D4+ makes a differential pair with
                           output                          OUT_D4−. OUT_D4+ is in phase with IN_D4+.
 OUT_D4−          14       TMDS differential               HDMI compliant TMDS output. OUT_D4− makes a differential pair with
                           output                          OUT_D4+. OUT_D4− is in phase with IN_D4−.
 OUT_D3+          16       TMDS differential               HDMI compliant TMDS output. OUT_D3+ makes a differential pair with
                           output                          OUT_D3−. OUT_D3+ is in phase with IN_D3+.
 OUT_D3−          17       TMDS differential               HDMI compliant TMDS output. OUT_D3− makes a differential pair with
                           output                          OUT_D3+. OUT_D3− is in phase with IN_D3−.
 OUT_D2+          19       TMDS differential               HDMI compliant TMDS output. OUT_D2+ makes a differential pair with
                           output                          OUT_D2−. OUT_D2+ is in phase with IN_D2+.
 OUT_D2−          20       TMDS differential               HDMI compliant TMDS output. OUT_D2− makes a differential pair with
                           output                          OUT_D2+. OUT_D2− is in phase with IN_D2−.
 OUT_D1+          22       TMDS differential               HDMI compliant TMDS output. OUT_D1+ makes a differential pair with
                           output                          OUT_D1−. OUT_D1+ is in phase with IN_D1+.
 OUT_D1−          23       TMDS differential               HDMI compliant TMDS output. OUT_D1− makes a differential pair with
                           output                          OUT_D1+. OUT_D1− is in phase with IN_D1−.
 HPD and DDC signals
 HPD_SINK         30       5 V CMOS                        0 V to 5 V (nominal) input signal. This signal comes from the DVI or
                           single-ended input              HDMI sink. A HIGH value indicates that the sink is connected; a LOW
                                                           value indicates that the sink is disconnected. HPD_SINK is pulled down
                                                           by an integrated 200 kΩ pull-down resistor.
 HPD_SOURCE 7              3.3 V CMOS                      0 V to 3.3 V (nominal) output signal. This is level-shifted version of the
                           single-ended output             HPD_SINK signal.
 SCL_SOURCE 9              single-ended 3.3 V              3.3 V source-side DDC clock I/O. Pulled up by external termination to
                           open-drain DDC I/O              3.3 V.
 SDA_SOURCE 8              single-ended 3.3 V              3.3 V source-side DDC data I/O. Pulled up by external termination to
                           open-drain DDC I/O              3.3 V.
PTN3381B                                   All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                       Rev. 2 — 15 October 2010                                                                             7 of 30


NXP Semiconductors                                                                                                                     PTN3381B
                                                                                                                     Fully integrated HDMI/DVI level shifter
Table 2.       Pin description …continued
 Symbol              Pin        Type                            Description
 SCL_SINK            28         single-ended 5 V                5 V sink-side DDC clock I/O. Pulled up by external termination to 5 V.
                                open-drain DDC I/O              Provides rise time acceleration for LOW-to-HIGH transitions.
 SDA_SINK            29         single-ended 5 V                5 V sink-side DDC data I/O. Pulled up by external termination to 5 V.
                                open-drain DDC I/O              Provides rise time acceleration for LOW-to-HIGH transitions.
 DDC_EN              32         3.3 V CMOS input                Enables the DDC buffer and level shifter.
                                                                When DDC_EN = LOW, buffer/level shifter is disabled.
                                                                When DDC_EN = HIGH, buffer and level shifter are enabled.
 Supply and ground
 VDD                 2, 11,     3.3 V DC supply                 Supply voltage; 3.3 V ± 10 %.
                     15, 21,
                     26, 33,
                     40, 46
 GND[1]              1, 5, 12, ground                           Supply ground. All GND pins must be connected to ground for proper
                     18, 24,                                    operation.
                     27, 31,
                     37, 43
 Feature control signals
 REXT                6          analog I/O                      Current sense port used to provide an accurate current reference for the
                                                                differential outputs OUT_Dx. For best output voltage swing accuracy, use
                                                                of a 10 kΩ resistor (1 % tolerance) from this terminal to GND is
                                                                recommended. May also be left open-circuit or tied to either VDD or GND.
                                                                See Section 7.2 for details.
 DDET                4          3.3 V input                     Dongle detect enable input. When HIGH, the dongle detect function via
                                                                I2C is active. When LOW, the dongle detect function will not respond to
                                                                an I2C-bus command. Must be tied to GND or VDD either directly or via a
                                                                resistor. Note that this pin may not be left open-circuit. When used in an
                                                                HDMI dongle, this pin must be tied HIGH for correct operation in
                                                                accordance with DisplayPort interoperability guidelines. When used in a
                                                                DVI dongle, this pin must be tied LOW.
 PES1                10         3.3 V CMOS input                Programming pins to activate the pre-emphasis feature of the TMDS
 PES0                3          3.3 V CMOS input                differential outputs. See Section 7.3 for details. Must be tied either to
                                                                GND or VDD either directly or via a resistor (< 1 kΩ). To disable
                                                                pre-emphasis, connect both to GND (PES[1:0] = 00b). PES[1:0] = 11b is
                                                                reserved for testing purposes and should not be used in normal
                                                                application. Note that these pins may not be left open-circuit.
 Voltage regulator terminals
 CP                  36         analog high-voltage             Positive terminal for the voltage regulator external capacitor.[2]
 CN                  35         analog high-voltage             Negative terminal for the voltage regulator external capacitor.[2]
 V5OUT               34         power output                    5 V regulated output from the integrated voltage regulator.[2]
[1]   HVQFN48 package supply ground is connected to both GND pins and exposed center pad. GND pins and the exposed center pad must
      be connected to supply ground for proper device operation. For enhanced thermal, electrical, and board level performance, the exposed
      pad needs to be soldered to the board using a corresponding thermal pad on the board and for proper heat conduction through the
      board, thermal vias need to be incorporated in the PCB in the thermal pad region.
[2]   A ceramic capacitor with ESR < 100 mΩ is recommended and should be placed close to the pin(s).
PTN3381B                                        All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                            Rev. 2 — 15 October 2010                                                                             8 of 30


NXP Semiconductors                                                                                                         PTN3381B
                                                                                                         Fully integrated HDMI/DVI level shifter
7. Functional description
                   Refer to Figure 2 “Functional diagram of PTN3381B”.
                   The PTN3381B level shifts four lanes of low-swing AC-coupled differential input signals to
                   DVI and HDMI compliant open-drain current-steering differential output signals, up to
                   1.65 Gbit/s per lane. Speed of operation and cable length drive may be extended (by
                   using the programmable pre-emphasis feature) to up to 2.25 Gbit/s per lane. It has
                   integrated 50 Ω termination resistors for AC-coupled differential input signals. An enable
                   signal OE_N can be used to turn off the TMDS inputs and outputs, thereby minimizing
                   power consumption. The TMDS outputs are back-power safe to disallow current flow from
                   a powered sink while the PTN3381B is unpowered.
                   The PTN3381B's DDC channel provides active level shifting and buffering, allowing 3.3 V
                   source-side termination and 5 V sink-side termination. The sink-side DDC ports are
                   equipped with a rise time accelerator enabling drive of long cables or high bus
                   capacitance. This enables the system designer to isolate bus capacitance to meet HDMI
                   DDC version 1.3a distance specification. Furthermore, the DDC channel is augmented
                   with an I2C-bus slave ROM device that provides optional HDMI dongle detect response,
                   which can be enabled by dongle detect signal DDET. The PTN3381B offers back-power
                   safe sink-side I/Os to disallow backdrive current from the DDC clock and data lines when
                   power is off or when DDC is not enabled. An enable signal DCC_EN enables the DDC
                   level shifter block.
                   Remark: When used in an HDMI dongle, the DDET function must be enabled for correct
                   operation in accordance with DisplayPort interoperability guidelines. When used in a DVI
                   dongle, the DDET function must be disabled.
                   The PTN3381B also provides voltage translation for the Hot Plug Detect (HPD) signal
                   from 0 V to 5 V on the sink side to 0 V to 3.3 V on the source side.
                   PTN3381B includes an onboard 5 V DC regulator, designed to provide the required 5 V
                   power supply to the DVI or HDMI connector, thereby eliminating the need for a separate
                   external regulator. The onboard regulator needs only two external capacitors to operate,
                   and its output is active whenever a valid 3.3 V is applied to the PTN3381B VDD pins. The
                   back drive protection on 5 V output prevents back-drive current from 5 V output to the
                   input supply. The short-circuit protection limits current flowing through the supply, and the
                   overcurrent protection prevents overload conditions at the charge pump output.
                   The PTN3381B does not re-time any data. It contains no state machines except for the
                   DDC/I2C-bus block. No inputs or outputs of the device are latched or clocked. Because
                   the PTN3381B acts as a transparent level shifter, no reset is required.
PTN3381B                            All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                Rev. 2 — 15 October 2010                                                                             9 of 30


NXP Semiconductors                                                                                                             PTN3381B
                                                                                                             Fully integrated HDMI/DVI level shifter
                   7.1 Enable and disable features
                       PTN3381B offers different ways to enable or disable functionality, using the Output Enable
                       (OE_N), and DDC Enable (DDC_EN) inputs. Whenever the PTN3381B is disabled, the
                       device will be in standby mode and power consumption will be minimal; otherwise the
                       PTN3381B will be in active mode and power consumption will be nominal. These two
                       inputs each affect the operation of PTN3381B differently: OE_N controls the TMDS
                       channels, DDC_EN affects only the DDC channel, and HPD_SINK does not affect either
                       of the channels. The following sections and truth table describe their detailed operation.
                7.1.1 Hot plug detect
                       The HPD channel of PTN3381B functions as a level-shifting buffer to pass the HPD logic
                       signal from the display sink device (via input HPD_SINK) on to the display source device
                       (via output HPD_SOURCE).
                       The output logic state of HPD_SOURCE output always follows the logic state of input
                       HPD_SINK, regardless of whether the device is in active or standby mode.
                7.1.2 Output Enable function (OE_N)
                       When input OE_N is asserted (active LOW), the IN_Dx and OUT_Dx signals are fully
                       functional. Input termination resistors are enabled and the internal bias circuits are turned
                       on.
                       When OE_N is de-asserted (inactive HIGH), the OUT_Dx outputs are in a
                       high-impedance state and drive zero output current. The IN_Dx input buffers are disabled
                       and IN_Dx termination is disabled. Power consumption is minimized.
                       Remark: Note that OE_N signal level has no influence on the HPD_SINK input,
                       HPD_SOURCE output, or the SCL and SDA level shifters. A transition from HIGH to LOW
                       at OE_N may disable the DDC channel for up to 20 μs.
                7.1.3 DDC channel enable function (DDC_EN)
                       The DDC_EN pin is active HIGH and can be used to isolate a badly behaved slave. When
                       DDC_EN is LOW, the DDC channel is turned off. The DDC_EN input should never
                       change state during an I2C-bus operation. Note that disabling DDC_EN during a bus
                       operation may hang the bus, while enabling DDC_EN during bus traffic would corrupt the
                       I2C-bus operation. Hence, DDC_EN should only be toggled while the bus is idle. (See
                       I2C-bus specification).
PTN3381B                                All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                    Rev. 2 — 15 October 2010                                                                           10 of 30


NXP Semiconductors                                                                                                                    PTN3381B
                                                                                                                    Fully integrated HDMI/DVI level shifter
                   7.1.4 Enable/disable truth table
Table 3.     HPD_SINK, OE_N and DDC_EN enabling truth table
 Inputs                             Channels                                                                                                        Mode
 HPD_SINK OE_N           DDC_EN IN_Dx                            OUT_Dx[3]                               DDC[4]                HPD_SOURCE[5]
               [1]       [2]
 LOW           LOW       LOW        50 Ω termination enabled                                             high-impedance        LOW                  Active; DDC
                                    to VRX(bias)                                                                                                    disabled
 LOW           LOW       HIGH       50 Ω termination enabled                                             SDA_SINK              LOW                  Active; DDC
                                    to VRX(bias)                                                         connected to                               enabled
                                                                                                         SDA_SOURCE
                                                                                                         and SCL_SINK
                                                                                                         connected to
                                                                                                         SCL_SOURCE
 LOW           HIGH      LOW        high-impedance               high-impedance;                         high-impedance        LOW                  Standby
                                                                 zero output current
 LOW           HIGH      HIGH       high-impedance               high-impedance;                         SDA_SINK              LOW                  Standby;
                                                                 zero output current                     connected to                               DDC
                                                                                                         SDA_SOURCE                                 enabled
                                                                                                         and SCL_SINK
                                                                                                         connected to
                                                                                                         SCL_SOURCE
 HIGH          LOW       LOW        50 Ω termination enabled                                             high-impedance        HIGH                 Active; DDC
                                    to VRX(bias)                                                                                                    disabled
 HIGH          LOW       HIGH       50 Ω termination enabled                                             SDA_SINK              HIGH                 Active; DDC
                                    to VRX(bias)                                                         connected to                               enabled
                                                                                                         SDA_SOURCE
                                                                                                         and SCL_SINK
                                                                                                         connected to
                                                                                                         SCL_SOURCE
 HIGH          HIGH      LOW        high-impedance               high-impedance;                         high-impedance        HIGH                 Standby
                                                                 zero output current
 HIGH          HIGH      HIGH       high-impedance               high-impedance;                         SDA_SINK              HIGH                 Standby;
                                                                 zero output current                     connected to                               DDC
                                                                                                         SDA_SOURCE                                 enabled
                                                                                                         and SCL_SINK
                                                                                                         connected to
                                                                                                         SCL_SOURCE
[1]   A HIGH level on input OE_N disables only the TMDS channels.
[2]   A LOW level on input DDC_EN disables only the DDC channel.
[3]   OUT_Dx channels ‘enabled’ means outputs OUT_Dx toggling in accordance with IN_Dx differential input voltage switching.
[4]   DDC channel ‘enabled’ means SDA_SINK is connected to SDA_SOURCE and SCL_SINK is connected to SCL_SOURCE.
[5]   The HPD_SOURCE output logic state always follows the HPD_SINK input logic state.
PTN3381B                                       All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                           Rev. 2 — 15 October 2010                                                                           11 of 30


NXP Semiconductors                                                                                                               PTN3381B
                                                                                                               Fully integrated HDMI/DVI level shifter
                   7.2 Analog current reference
                       The REXT pin (pin 6) is an analog current sense port used to provide an accurate current
                       reference for the differential outputs OUT_Dx. For best output voltage swing accuracy,
                       use of a 10 kΩ resistor (1 % tolerance) connected between this terminal and GND is
                       recommended.
                       If an external 10 kΩ ± 1 % resistor is not used, this pin can be left open-circuit, or
                       connected to GND or VDD, either directly (0 Ω) or using pull-up or pull-down resistors of
                       value less than 10 kΩ. In any of these cases, the output will function normally but at
                       reduced accuracy over voltage and temperature of the following parameters: output levels
                       (VOL), differential output voltage swing, and rise and fall time accuracy.
                   7.3 Programmable pre-emphasis
                       PTN3381B includes an optional programmable pre-emphasis feature, allowing adaptor or
                       motherboard PCB designers to extend speed performance or support longer cable drive.
                       The pre-emphasis feature, when enabled, adds a selectable amount of pre-emphasis to
                       each bit transition by injecting a momentary current pulse (typically 200 ps to 400 ps long)
                       to help overcome cable or trace losses.
                       Pre-emphasis is not needed for normal HDMI operation at speeds below 1.65 Gbit/s and
                       is not required to meet eye diagram compliance. At the user's discretion, it can be enabled
                       in order to provide additional signal boost in difficult or lossy signaling environments such
                       as long cables or lossy media.
                       It should be noted that by enabling pre-emphasis, in addition to the AC effect of the
                       pre-emphasis pulse on the signal transition, also a constant DC current is added in order
                       to provide the necessary headroom, which will affect VOH and VOL static levels. This
                       should be taken into account when designing for HDMI or DVI single-ended (DC) voltage
                       compliance. For full HDMI or DVI compliance in normal applications, the default mode
                       (pre-emphasis off) is recommended.
                       The pre-emphasis feature is programmed by means of two CMOS input pins, PES1 and
                       PES0, according to Table 4:
                       Table 4.     PTN3381B pre-emphasis logic table
                        PES1 (pin 10)            PES0 (pin 3)                       Level
                        0                        0                                  0 dB (default)
                        0                        1                                  3.5 dB (150 %)
                        1                        0                                  6 dB (200 %)
                        1                        1                                  Test mode[1]
                       [1]  Should not be used in normal application.
                   7.4 Backdrive current protection
                       The PTN3381B is designed for backdrive prevention on all sink-side TMDS outputs,
                       sink-side DDC I/Os and the HPD_SINK input. This supports user scenarios where the
                       display is connected and powered, but the PTN3381B is unpowered. In these cases, the
                       PTN3381B will sink no more than a negligible amount of leakage current, and will block
                       the display (sink) termination network from driving the power supply of the PTN3381B or
                       that of the inactive DVI or HDMI source.
PTN3381B                                  All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                      Rev. 2 — 15 October 2010                                                                           12 of 30


NXP Semiconductors                                                                                                                 PTN3381B
                                                                                                             Fully integrated HDMI/DVI level shifter
                   7.5 Active DDC buffer with rise time accelerator
                       The PTN3381B DDC channel, besides providing 3.3 V to 5 V level shifting, includes active
                       buffering and rise time acceleration which allows up to 18 meters bus extension for
                       reliable DDC applications. While retaining all the operating modes and features of the
                       I2C-bus system during the level shifts, it permits extension of the I2C-bus by providing
                       bidirectional buffering for both the data (SDA) and the clock (SCL) line as well as the
                       rise time accelerator on the sink-side port (SCL_SINK and SDA_SINK) enabling the bus
                       to drive a load up to 1400 pF or distance of 18 m on the sink-side port, and 400 pF on the
                       source-side port (SCL_SOURCE and SCA_SOURCE). Using the PTN3381B for DVI or
                       HDMI level shifting enables the system designer to isolate bus capacitance to meet HDMI
                       DDC version 1.3 distance specification. The SDA and SCL pins are overvoltage tolerant
                       and are high-impedance when the PTN3381B is unpowered or when DDC_EN is LOW.
                       PTN3381B has rise time accelerators on the sink-side port (SCL_SINK and SDA_SINK)
                       only. During positive bus transitions on the sink-side port, a current source is switched on
                       to quickly slew the SCL_SINK and SDA_SINK lines HIGH once the 5 V DDC bus VIL
                       threshold level of around 1.5 V is exceeded, and turns off as the 5 V DDC bus VIH
                       threshold voltage of approximately 3.5 V is approached.
                   7.6 I2C-bus based HDMI dongle detection
                       The PTN3381B includes an on-board I2C-bus slave ROM which provides a means to
                       detect the presence of an HDMI dongle by the system through the DDC channel,
                       accessible via ports SDA_SOURCE and SCL_SOURCE. This allows system vendors to
                       detect HDMI dongle presence through the already available DDC/I2C-bus port using a
                       predetermined bus sequence. Please see Section 8 for more information.
                       For the I2C-bus HDMI Dongle Detect function to be active, input pin DDET (dongle detect)
                       should be tied HIGH. When DDET is LOW, the PTN3381B will not respond to an I2C-bus
                       command. When used in an HDMI dongle, the DDET function must be enabled for
                       correct operation in accordance with DisplayPort interoperability guidelines. When used in
                       a DVI dongle, the DDET function must be disabled.
                       The HDMI dongle detection is accomplished by accessing the PTN3381B on-board
                       I2C-bus slave ROM using a simple sequential I2C-bus Read operation as described
                       below.
                7.6.1 Slave address
                                                               bit 7     bit 6   bit 5     bit 4      bit 3     bit 2 bit 1  bit 0
                                                                 1         0        0         0          0         0   0     R/W
                                                                                    slave address
                                                                                                                         002aad340
                                 R = 1; W = 0
                         Fig 4.  PTN3381B slave address
PTN3381B                                All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2010. All rights reserved.
Product data sheet                                    Rev. 2 — 15 October 2010                                                                              13 of 30


NXP Semiconductors                                                                                                               PTN3381B
                                                                                                               Fully integrated HDMI/DVI level shifter
                 7.6.2 Read operation
                        The slave device address of PTN3381B is 80h. PTN3381B will respond to a Read
                        command to slave address 81h (PTN3381B will respond with an ACK to a Write
                        command to address 80h). Following the Read command, the PTN3381B will respond
                        with the contents of its internal ROM, as a sequence of 16 bytes, for as long as the master
                        continues to issue clock edges with an acknowledge after each byte. The 16-byte
                        sequence represents the ‘DP-HDMI ADAPTOR<EOT>’ symbol converted to ASCII and is
                        documented in Table 5.
                        The PTN3381B auto-increments its internal ROM address pointer (0h through Fh) as long
                        as it continues to receive clock edges from the master with an acknowledge after each
                        byte. If the master continues to issue clock edges past the 16th byte, the PTN3381B will
                        respond with a data byte of FFh. If the master does not acknowledge a received byte, the
                        PTN3381B internal address pointer will be reset to 0 and a new Read sequence should be
                        started by the master. Access to the 16-byte is by sequential read only as described
                        above; there is no random-access possible to any specific byte in the ROM.
Table 5.    DisplayPort - HDMI Adaptor Detection ROM content
 Internal pointer    0      1     2     3           4           5            6          7            8           9     A    B    C        D          E              F
 offset (hex)
 Data (hex)         44     50    2D    48          44          4D           49         20           41          44    41   50    54      4F          52            04
Table 6.    HDMI dongle detect transaction sequence outline
 Phase I2C transaction         Transmitting                                                   Bit                                         Status
                                                         7         6          5          4          3           2    1   R/W     Master                Slave
 1        START                master                                                                                           optional                     -
 2        Write command        master                    1         0          0          0          0           0    0    0     optional                     -
 3        Acknowledge          slave                                                                                                -              mandatory
 4        Word address offset  master                                 word address offset data byte                             optional                     -
 5        Acknowledge          slave                                                                                                -              mandatory
 6        STOP                 master                                                                                           optional                     -
 7        START                master                                                                                          mandatory                     -
 8        Read command         master                    1         0          0          0          0           0    0    1    mandatory                     -
 9        Acknowledge          slave                                                                                                -              mandatory
 10       Read data            slave                                           data byte at offset 0                                -              mandatory
 11       Acknowledge          master                                                                                          mandatory                     -
 12       Read data            slave                                           data byte at offset 1                                -              mandatory
 13       :                    :                                                                                                    -                        -
 :        :                    :                                                                                                    -                        -
 40       Read data            slave                                          data byte at offset 15                                -              mandatory
 41       Not Acknowledge      master                                                                                          mandatory                     -
 42       STOP                 master                                                                                          mandatory                     -
                        Remark: If the slave does not acknowledge the above transaction sequence, the entire
                        sequence should be retried by the source.
PTN3381B                                  All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2010. All rights reserved.
Product data sheet                                      Rev. 2 — 15 October 2010                                                                              14 of 30


NXP Semiconductors                                                                                                              PTN3381B
                                                                                                              Fully integrated HDMI/DVI level shifter
                   7.7 Characteristics of the I2C-bus
                       The I2C-bus is for 2-way, 2-line communication between different ICs or modules. The two
                       lines are a Serial DAta line (SDA) and a Serial Clock Line (SCL). Both lines must be
                       connected to a positive supply via a pull-up resistor when connected to the output stages
                       of a device. Data transfer may be initiated only when the bus is not busy.
                7.7.1 Bit transfer
                       One data bit is transferred during each clock phase. The data on the SDA line must
                       remain stable during the HIGH period of the clock pulse as changes in the data line at this
                       time will be interpreted as control signals (see Figure 5).
                                              SDA
                                              SCL
                                                                               data line                change
                                                                                 stable;                 of data
                                                                               data valid               allowed                 mba607
                         Fig 5.   Bit transfer
                7.7.2 START and STOP conditions
                       Both data and clock lines remain HIGH when the bus is not busy. A HIGH-to-LOW
                       transition of the data line, while the clock is HIGH is defined as the START condition (S). A
                       LOW-to-HIGH transition of the data line while the clock is HIGH is defined as the STOP
                       condition (P). See Figure 6.
                                 SDA
                                 SCL
                                                       S                                                                            P
                                            START condition                                                                   STOP condition
                                                                                                                                             mba608
                         Fig 6.   Definition of START and STOP conditions.
                7.7.3 System configuration
                       An I2C-bus device generating a message is a ‘transmitter’, a device receiving is the
                       ‘receiver’. The device that controls the message is the ‘master’ and the devices which are
                       controlled by the master are the ‘slaves’. See Figure 7.
PTN3381B                                 All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2010. All rights reserved.
Product data sheet                                     Rev. 2 — 15 October 2010                                                                              15 of 30


NXP Semiconductors                                                                                                                    PTN3381B
                                                                                                              Fully integrated HDMI/DVI level shifter
                        SDA
                        SCL
                                  MASTER                                                            SLAVE                                           MASTER
                                                                 SLAVE                                                      MASTER
                               TRANSMITTER/                                                  TRANSMITTER/                                      TRANSMITTER/
                                                              RECEIVER                                                  TRANSMITTER
                                 RECEIVER                                                        RECEIVER                                          RECEIVER
                                                                                                                                                           002aaa381
                        Fig 7.    System configuration
                7.7.4 Acknowledge
                      The number of data bytes transferred between the START and the STOP conditions from
                      transmitter to receiver is not limited. Each byte of eight bits is followed by one
                      acknowledge bit. The acknowledge bit is a HIGH level put on the bus by the transmitter,
                      whereas the master generates an extra acknowledge related clock pulse.
                      A slave receiver which is addressed must generate an acknowledge after the reception of
                      each byte. Also, a master must generate an acknowledge after the reception of each byte
                      that has been clocked out of the slave transmitter. The device that acknowledges has to
                      pull down the SDA line during the acknowledge clock pulse so that the SDA line is stable
                      LOW during the HIGH period of the acknowledge related clock pulse, set-up and hold
                      times must be taken into account.
                      A master receiver must signal an end of data to the transmitter by not generating as
                      acknowledge on the last byte that has been clocked out of the slave. In this event, the
                      transmitter must leave the data line HIGH to enable the master to generate a STOP
                      condition.
                                         data output
                                      by transmitter
                                                                                                                      not acknowledge
                                        data output
                                        by receiver
                                                                                                                          acknowledge
                                   SCL from master                                     1                    2                 8           9
                                                                 S
                                                                                                                         clock pulse for
                                                             START                                                   acknowledgement
                                                            condition                                                                    002aaa987
                        Fig 8.    Acknowledgement on the I2C-bus
PTN3381B                                 All information provided in this document is subject to legal disclaimers.                      © NXP B.V. 2010. All rights reserved.
Product data sheet                                     Rev. 2 — 15 October 2010                                                                                  16 of 30


NXP Semiconductors                                                                                                               PTN3381B
                                                                                                               Fully integrated HDMI/DVI level shifter
8. Application design-in information
                   8.1 Dongle or cable adaptor detect discovery mechanism
                       The PTN3381B supports the source-side dongle detect discovery mechanism described
                       in VESA DisplayPort Interoperability Guideline Version 1.1.
                       When a source-side cable adaptor is plugged into a multi-mode source device that
                       supports multiple standards such as DisplayPort, DVI and HDMI, a discovery mechanism
                       is needed for the multi-mode source to configure itself for outputting DisplayPort, DVI or
                       HDMI compliant signals through the dongle or cable adaptor. The discovery mechanism
                       ensures that a multi-mode source device only sends either DVI or HDMI signals when a
                       valid DVI or HDMI cable adaptor is present.
                       The VESA Interoperability Guideline recommends that a multi-mode source to power up
                       with both DDC and AUX CH disabled. After initialization, the source device can use a
                       variety of mechanisms to decide whether a dongle or cable adaptor is present by
                       detecting pin 13 on the DisplayPort connector. Depending on the voltage level detected at
                       pin 13, the source configures itself either:
                          • as a DVI or HDMI source (see below paragraph for detection between DVI and
                             HDMI), and enables DDC, while keeping AUX CH disabled, or
                          • as a DisplayPort source and enables AUX CH, while keeping DDC disabled.
                       The monitoring of the voltage level on pin 13 by a multi-mode source device is optional. A
                       multi-mode source may also e.g. attempt an AUX CH read transaction and, if the
                       transaction fails, a DDC transaction to discover the presence/absence of a cable adaptor.
                       Furthermore, a source that supports both DVI and HDMI can discover whether a DVI or
                       HDMI dongle or cable adaptor is present by using a variety of discovery procedures. One
                       possible method is to check the voltage level of pin 14 of the DisplayPort connector.
                       Pin 14 also carries CEC signal used for HDMI. Please note that other HDMI devices on
                       the CEC line may be momentarily pulling down pin 14 as a part of CEC protocol.
                       The VESA Interoperability Guideline recommends that a multi-mode source should
                       distinguish a source-side HDMI cable adaptor from a DVI cable adaptor by checking the
                       DDC buffer ID as described in Section 7.6 “I2C-bus based HDMI dongle detection”. While
                       it is optional for a multi-mode source to use the I2C-bus based HDMI dongle detection
                       mechanism, it is mandatory for HDMI dongle or cable adaptor to respond to the I2C-bus
                       read command described in Section 7.7. The PTN3381B provides an integrated I2C-bus
                       slave ROM to support this mandatory HDMI dongle detect mechanism for HDMI dongles.
                       For a DisplayPort-to-HDMI source-side dongle or cable adaptor, DDET must be tied HIGH
                       to enable the I2C-based HDMI dongle detection response function of PTN3381B. For a
                       DisplayPort-to-DVI sink-side dongle or cable adaptor, DDET must be tied LOW to disable
                       the function.
PTN3381B                                  All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                      Rev. 2 — 15 October 2010                                                                           17 of 30


NXP Semiconductors                                                                                                                   PTN3381B
                                                                                                              Fully integrated HDMI/DVI level shifter
9. Limiting values
                   Table 7.        Limiting values
                   In accordance with the Absolute Maximum Rating System (IEC 60134).
                    Symbol         Parameter                                      Conditions                                  Min       Max                     Unit
                    VDD            supply voltage                                 (3.3 V)                                     −0.3      +4.6                    V
                    VI             input voltage                                  3.3 V CMOS inputs                           −0.3      VDD + 0.5               V
                                                                                  5.0 V CMOS inputs                           −0.3      6.0                     V
                    RL             load resistance                                5 V regulator output                        25        -                       Ω
                    Tstg           storage temperature                                                                        −65       +150                    °C
                    VESD           electrostatic discharge                        HBM                                     [1] -         4000                    V
                                   voltage                                        CDM                                     [2] -         1000                    V
                   [1]    Human Body Model: ANSI/EOS/ESD-S5.1-1994, standard for ESD sensitivity testing, Human Body Model -
                          Component level; Electrostatic Discharge Association, Rome, NY, USA.
                   [2]    Charged Device Model: ANSI/EOS/ESD-S5.3-1-1999, standard for ESD sensitivity testing, Charged Device
                          Model - Component level; Electrostatic Discharge Association, Rome, NY, USA.
10. Recommended operating conditions
                   Table 8.        Recommended operating conditions
                    Symbol           Parameter                              Conditions                                     Min     Typ              Max            Unit
                    VDD              supply voltage                                                                        3.0     3.3              3.6            V
                    VI               input voltage                          3.3 V CMOS inputs                              0       -                3.6            V
                                                                            5.0 V CMOS inputs                              0       -                5.5            V
                    VI(AV)           average input                          IN_Dn+, IN_Dn− inputs                     [1]  -       0                -              V
                                     voltage
                    Rref(ext)        external reference                     connected between pin                     [2]  -       10 ± 1 %         -              kΩ
                                     resistance                             REXT (pin 6) and GND
                    Iload            load current                           5 V regulator output                           -       -                75             mA
                    Co(reg)          regulator output                       external capacitor on                     [3]  -       1                -              μF
                                     capacitance                            pin V5OUT
                    Creg(ext)        external regulator                     from pin CP to pin CN                     [3]  -       330              -              nF
                                     capacitance
                    Tamb             ambient temperature operating in free air                                             −40     -                +85            °C
                   [1]    Input signals to these pins must be AC-coupled.
                   [2]    Operation without external reference resistor is possible but will result in reduced output voltage swing
                          accuracy. For details, see Section 7.2.
                   [3]    A ceramic capacitor with ESR < 100 mΩ is recommended and should be placed close to the pin(s).
PTN3381B                                 All information provided in this document is subject to legal disclaimers.                     © NXP B.V. 2010. All rights reserved.
Product data sheet                                     Rev. 2 — 15 October 2010                                                                                 18 of 30


NXP Semiconductors                                                                                                                         PTN3381B
                                                                                                                         Fully integrated HDMI/DVI level shifter
                      10.1 Current consumption
                                  Table 9.     Current consumption
                                  Symbol      Parameter                      Conditions                                                Min   Typ        Max             Unit
                                  IDD         supply current                 OE_N = 0; Active mode
                                                                                  no load                                              10    30         50              mA
                                                                                  with 75 mA load                                      -     200        300             mA
                                                                             OE_N = 1 and DDC_EN = 0;                                  -     -          5               mA
                                                                             Standby mode; no load
11. Characteristics
                      11.1 Differential inputs
Table 10.       Differential input characteristics for IN_Dx signals
 Symbol            Parameter                                                      Conditions                                        Min    Typ        Max               Unit
 UI                unit interval[1]                                                                                             [2] 600    -          4000              ps
 VRX_DIFFp-p       differential input peak-to-peak voltage                                                                      [3] 0.175  -          1.200             V
 TRX_EYE           receiver eye time                                              minimum eye width at                              0.8    -          -                 UI
                                                                                  IN_Dx input pair
 Vi(cm)M(AC)       peak common-mode input voltage (AC)                            includes all frequencies                      [4] -      -          100               mV
                                                                                  above 30 kHz
 ZRX_DC            DC input impedance                                                                                               40     50         60                Ω
 VRX(bias)         bias receiver voltage                                                                                        [5] 1.0    1.2        1.4               V
 ZI(se)            single-ended input impedance                                   inputs in                                     [6] 100    -          -                 kΩ
                                                                                  high-impedance state
[1]   UI (unit interval) = tbit (bit time).
[2]   UI is determined by the display mode. Nominal bit rate ranges from 250 Mbit/s to 1.65 Gbit/s per lane. Nominal UI at
      1.65 Gbit/s = 606 ps.
[3]   VRX_DIFFp-p = 2 × |VRX_D+ − VRX_D−|. Applies to IN_Dx signals.
[4]   Vi(cm)M(AC) = |VRX_D+ + VRX_D−| / 2 − VRX(cm).
      VRX(cm) = DC (avg) of |VRX_D+ + VRX_D−| / 2.
[5]   Intended to limit power-up stress on chip set’s PCIe output buffers.
[6]   Differential inputs will switch to a high-impedance state when OE_N is HIGH.
PTN3381B                                            All information provided in this document is subject to legal disclaimers.                 © NXP B.V. 2010. All rights reserved.
Product data sheet                                                Rev. 2 — 15 October 2010                                                                             19 of 30


NXP Semiconductors                                                                                                                               PTN3381B
                                                                                                                           Fully integrated HDMI/DVI level shifter
                       11.2 Differential outputs
                               The level shifter’s differential outputs are designed to meet HDMI version 1.3 and
                               DVI version 1.0 specifications.
Table 11.      Differential output characteristics for OUT_Dx signals
 Symbol          Parameter                         Conditions                                                                 Min          Typ        Max                    Unit
 VOH(se)         single-ended HIGH-level           PES[1:0] = 00b                                                       [1]   VTT − 0.01 VTT          VTT + 0.01 V
                 output voltage
 VOL(se)         single-ended LOW-level            PES[1:0] = 00b                                                       [2]   VTT − 0.60 VTT − 0.50 VTT − 0.40 V
                 output voltage
 ΔVO(se)         single-ended output               logic 1 and logic 0 state applied                                    [3]   400          500        600                    mV
                 voltage variation                 respectively to differential inputs
                                                   IN_Dn; Rref(ext) connected;
                                                   see Table 8
 IOZ             OFF-state output current          single-ended                                                               -            -          10                     μA
 tr              rise time                         20 % to 80 %                                                               75           -          180                    ps
 tf              fall time                         80 % to 20 %                                                               75           -          180                    ps
 tsk             skew time                         intra-pair                                                           [4]   -            -          10                     ps
                                                   inter-pair                                                           [5]   -            -          250                    ps
 tjit            jitter time                       jitter contribution                                                  [6]   -            -          10                     ps
[1]   VTT is the DC termination voltage in the HDMI or DVI sink. VTT is nominally 3.3 V.
[2]   The open-drain output pulls down from VTT.
[3]   Swing down from TMDS termination voltage (3.3 V ± 10 %).
[4]   This differential skew budget is in addition to the skew presented between IN_Dn+ and IN_Dn− paired input pins.
[5]   This lane-to-lane skew budget is in addition to skew between differential input pairs.
[6]   Jitter budget for differential signals as they pass through the level shifter.
                       11.3 HPD_SINK input, HPD_SOURCE output
Table 12.      HPD characteristics
 Symbol          Parameter                             Conditions                                                                      Min     Typ        Max               Unit
 VIH             HIGH-level input voltage              HPD_SINK                                                                    [1] 2.0     5.0        5.3               V
 VIL             LOW-level input voltage               HPD_SINK                                                                        0       -          0.8               V
 ILI             input leakage current                 HPD_SINK                                                                        -       -          15                μA
 VOH             HIGH-level output voltage             HPD_SOURCE                                                                      2.5     -          VDD               V
 VOL             LOW-level output voltage              HPD_SOURCE                                                                      0       -          0.2               V
 tPD             propagation delay                     from HPD_SINK to HPD_SOURCE;                                                [2] -       -          200               ns
                                                       50 % to 50 %
 tt              transition time                       HPD_SOURCE rise/fall; 10 % to 90 %                                          [3] 1       -          20                ns
 Rpd             pull-down resistance                  HPD_SINK input pull-down resistor                                           [4] 100     200        300               kΩ
[1]   Low-speed input changes state on cable plug/unplug.
[2]   Time from HPD_SINK changing state to HPD_SOURCE changing state. Includes HPD_SOURCE rise/fall time.
[3]   Time required to transition from VOH to VOL or from VOL to VOH.
[4]   Guarantees HPD_SINK is LOW when no display is plugged in.
PTN3381B                                              All information provided in this document is subject to legal disclaimers.                   © NXP B.V. 2010. All rights reserved.
Product data sheet                                                  Rev. 2 — 15 October 2010                                                                               20 of 30


NXP Semiconductors                                                                                                                        PTN3381B
                                                                                                                      Fully integrated HDMI/DVI level shifter
                      11.4 OE_N, DDC_EN and DDET inputs
Table 13.       OE_N, DDC_EN and DDET input characteristics
 Symbol          Parameter                         Conditions                                                               Min       Typ         Max                 Unit
 VIH             HIGH-level input voltage                                                                                   2.0       -                               V
 VIL             LOW-level input voltage                                                                                              -           0.8                 V
 ILI             input leakage current             OE_N pin                                                             [1] -         -           10                  μA
[1]    Measured with input at VIH maximum and VIL minimum.
                      11.5 DDC characteristics
Table 14.       DDC characteristics
 Symbol          Parameter                                           Conditions                                               Min       Typ     Max                   Unit
 Input and output SCL_SOURCE and SDA_SOURCE; VCC1 = 3.0 V to 3.6 V[1]
 VIH             HIGH-level input voltage                                                                                     0.7VCC1   -       3.6                   V
 VIL             LOW-level input voltage                                                                                      −0.5      -       +0.3VCC1              V
 VILc            contention LOW-level input voltage                                                                           −0.5      0.4     -                     V
 ILI             input leakage current                               VI = 3.6 V                                               -         -       10                    μA
 IIL             LOW-level input current                             VI = 0.2 V                                               -         -       10                    μA
 VOL             LOW-level output voltage                            IOL = 100 μA or 6 mA                                     0.47      0.52    0.6                   V
 VOL−VILc        difference between LOW-level output                 guaranteed by design                                     -         -       70                    mV
                 and LOW-level input voltage
                 contention
 Cio             input/output capacitance                            VI = 3 V or 0 V; VDD = 3.3 V                             -         6       7                     pF
                                                                     VI = 3 V or 0 V; VDD = 0 V                               -         6       7                     pF
 Input and output SDA_SINK and SCL_SINK; VCC2 = 4.5 V to 5.5 V[2]
 VIH             HIGH-level input voltage                                                                                     0.7VCC2   -       5.5                   V
 VIL             LOW-level input voltage                                                                                      −0.5      -       +1.5                  V
 ILI             input leakage current                               VI = 5.5 V                                               -         -       10                    μA
 IIL             LOW-level input current                             VI = 0.2 V                                               -         -       10                    μA
 VOL             LOW-level output voltage                            IOL = 6 mA                                               -         0.1     0.2                   V
 Cio             input/output capacitance                            VI = 3 V or 0 V; VDD = 3.3 V                             -         -       7                     pF
                                                                     VI = 3 V or 0 V; VDD = 0 V                               -         6       7                     pF
 Itrt(pu)        transient boosted pull-up current                   VCC2 = 4.5 V;                                            -         6       -                     mA
                                                                     slew rate = 1.25 V/μs
[1]    VCC1 is the pull-up voltage for DDC source.
[2]    VCC2 is the pull-up voltage for DDC sink.
PTN3381B                                         All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2010. All rights reserved.
Product data sheet                                             Rev. 2 — 15 October 2010                                                                              21 of 30


NXP Semiconductors                                                                                                                     PTN3381B
                                                                                                                     Fully integrated HDMI/DVI level shifter
                      11.6 5 V DC regulator characteristics
Table 15.        5 V DC regulator characteristics
 Symbol            Parameter                                           Conditions                                            Min   Typ      Max                 Unit
 VDD               supply voltage                                                                                            3.0   3.3      3.6                 V
 VO                output voltage                                      5 V regulator output                                  4.7   5        5.3                 V
 Iload             load current                                        5 V regulator output                                  -     -        75                  mA
 IO(sc)            short-circuit output current                                                                              100   150      200                 mA
 Ibckdrv           backdrive current                                   5 V regulator output                                  -     -        10                  μA
 Vo(ripple)(p-p)   peak-to-peak ripple output voltage                  Co(reg) = 1 μF                                    [1] -     250      400                 mV
 η                 efficiency                                          Iload > 10 mA                                         70    75       80                  %
[1]    Recommend low ESR ceramic output capacitor of 2 μF to reduce the output ripple.
PTN3381B                                        All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                            Rev. 2 — 15 October 2010                                                                           22 of 30


NXP Semiconductors                                                                                                                                       PTN3381B
                                                                                                                             Fully integrated HDMI/DVI level shifter
12. Package outline
   HVQFN48: plastic thermal enhanced very thin quad flat package; no leads;
   48 terminals; body 7 x 7 x 0.85 mm                                                                                                                                    SOT619-1
                                                       D                                      B      A
                     terminal 1
                     index area
                                                                                                                                A
                                                                                                     E                               A1
                                                                                                                                                                           c
                                                                                                                                               detail X
                                                       e1                                                                                                  C
                                    e                         1/2 e        b                        v M C A B                         y1 C                   y
                                    13                                                24            w M C
                            L
                                                                                           25
                              12
                                                                                               e
                           Eh                                                                          e2
                                                                                              1/2  e
                                1
                                                                                           36
                     terminal 1
                     index area       48                                          37
                                                       Dh
                                                                                                                                                          X
                                                                     0                     2.5                    5 mm
                                                                                          scale
      DIMENSIONS (mm are the original dimensions)
                 A(1)
        UNIT              A1      b        c    D (1)  Dh       E (1)      Eh          e        e1        e2           L           v     w      y       y1
                max.
         mm              0.05    0.30           7.1   5.25       7.1      5.25                                        0.5
                  1                       0.2                                        0.5       5.5        5.5                    0.1   0.05   0.05     0.1
                         0.00    0.18           6.9   4.95       6.9      4.95                                        0.3
       Note
       1. Plastic or metal protrusions of 0.075 mm maximum per side are not included.
             OUTLINE                                               REFERENCES                                                               EUROPEAN
                                                                                                                                                                ISSUE DATE
             VERSION                    IEC              JEDEC                            JEITA                                            PROJECTION
                                                                                                                                                                   01-08-08
             SOT619-1                    ---             MO-220                            ---
                                                                                                                                                                   02-10-18
Fig 9.       Package outline SOT619-1 (HVQFN48)
PTN3381B                                                All information provided in this document is subject to legal disclaimers.                           © NXP B.V. 2010. All rights reserved.
Product data sheet                                                     Rev. 2 — 15 October 2010                                                                                      23 of 30


NXP Semiconductors                                                                                                            PTN3381B
                                                                                                            Fully integrated HDMI/DVI level shifter
13. Soldering of SMD packages
                     This text provides a very brief insight into a complex technology. A more in-depth account
                     of soldering ICs can be found in Application Note AN10365 “Surface mount reflow
                     soldering description”.
                13.1 Introduction to soldering
                     Soldering is one of the most common methods through which packages are attached to
                     Printed Circuit Boards (PCBs), to form electrical circuits. The soldered joint provides both
                     the mechanical and the electrical connection. There is no single soldering method that is
                     ideal for all IC packages. Wave soldering is often preferred when through-hole and
                     Surface Mount Devices (SMDs) are mixed on one printed wiring board; however, it is not
                     suitable for fine pitch SMDs. Reflow soldering is ideal for the small pitches and high
                     densities that come with increased miniaturization.
                13.2 Wave and reflow soldering
                     Wave soldering is a joining technology in which the joints are made by solder coming from
                     a standing wave of liquid solder. The wave soldering process is suitable for the following:
                       • Through-hole components
                       • Leaded or leadless SMDs, which are glued to the surface of the printed circuit board
                     Not all SMDs can be wave soldered. Packages with solder balls, and some leadless
                     packages which have solder lands underneath the body, cannot be wave soldered. Also,
                     leaded SMDs with leads having a pitch smaller than ~0.6 mm cannot be wave soldered,
                     due to an increased probability of bridging.
                     The reflow soldering process involves applying solder paste to a board, followed by
                     component placement and exposure to a temperature profile. Leaded packages,
                     packages with solder balls, and leadless packages are all reflow solderable.
                     Key characteristics in both wave and reflow soldering are:
                       • Board specifications, including the board finish, solder masks and vias
                       • Package footprints, including solder thieves and orientation
                       • The moisture sensitivity level of the packages
                       • Package placement
                       • Inspection and repair
                       • Lead-free soldering versus SnPb soldering
                13.3 Wave soldering
                     Key characteristics in wave soldering are:
                       • Process issues, such as application of adhesive and flux, clinching of leads, board
                         transport, the solder wave parameters, and the time during which components are
                         exposed to the wave
                       • Solder bath specifications, including temperature and impurities
PTN3381B                               All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2010. All rights reserved.
Product data sheet                                   Rev. 2 — 15 October 2010                                                                           24 of 30


NXP Semiconductors                                                                                                           PTN3381B
                                                                                                           Fully integrated HDMI/DVI level shifter
                13.4 Reflow soldering
                     Key characteristics in reflow soldering are:
                       • Lead-free versus SnPb soldering; note that a lead-free reflow process usually leads to
                          higher minimum peak temperatures (see Figure 10) than a SnPb process, thus
                          reducing the process window
                       • Solder paste printing issues including smearing, release, and adjusting the process
                          window for a mix of large and small components on one board
                       • Reflow temperature profile; this profile includes preheat, reflow (in which the board is
                          heated to the peak temperature) and cooling down. It is imperative that the peak
                          temperature is high enough for the solder to make reliable solder joints (a solder paste
                          characteristic). In addition, the peak temperature must be low enough that the
                          packages and/or boards are not damaged. The peak temperature of the package
                          depends on package thickness and volume and is classified in accordance with
                          Table 16 and 17
                     Table 16.   SnPb eutectic process (from J-STD-020C)
                      Package thickness (mm)                  Package reflow temperature (°C)
                                                              Volume (mm3)
                                                              < 350                                                  ≥ 350
                      < 2.5                                   235                                                    220
                      ≥ 2.5                                   220                                                    220
                     Table 17.   Lead-free process (from J-STD-020C)
                      Package thickness (mm)                  Package reflow temperature (°C)
                                                              Volume (mm3)
                                                              < 350                                       350 to 2000         > 2000
                      < 1.6                                   260                                         260                 260
                      1.6 to 2.5                              260                                         250                 245
                      > 2.5                                   250                                         245                 245
                     Moisture sensitivity precautions, as indicated on the packing, must be respected at all
                     times.
                     Studies have shown that small packages reach higher temperatures during reflow
                     soldering, see Figure 10.
PTN3381B                              All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2010. All rights reserved.
Product data sheet                                  Rev. 2 — 15 October 2010                                                                            25 of 30


NXP Semiconductors                                                                                                             PTN3381B
                                                                                                            Fully integrated HDMI/DVI level shifter
                                                                   maximum peak temperature
                              temperature                              = MSL limit, damage level
                                                                    minimum peak temperature
                                                           = minimum soldering temperature
                                                                                                                             peak
                                                                                                                          temperature
                                                                                                                                                time
                                                                                                                                        001aac844
                               MSL: Moisture Sensitivity Level
                      Fig 10. Temperature profiles for large and small components
                   For further information on temperature profiles, refer to Application Note AN10365
                   “Surface mount reflow soldering description”.
14. Abbreviations
                   Table 18.     Abbreviations
                    Acronym                 Description
                    CDM                     Charged-Device Model
                    CEC                     Consumer Electronics Control
                    DDC                     Data Display Channel
                    DVI                     Digital Visual Interface
                    ESD                     ElectroStatic Discharge
                    ESR                     Equivalent Series Resistance
                    HBM                     Human Body Model
                    HDMI                    High-Definition Multimedia Interface
                    HPD                     Hot Plug Detect
                    I2C-bus                 Inter-IC bus
                    I/O                     Input/Output
                    TMDS                    Transition Minimized Differential Signaling
                    VESA                    Video Electronic Standards Association
PTN3381B                               All information provided in this document is subject to legal disclaimers.                   © NXP B.V. 2010. All rights reserved.
Product data sheet                                   Rev. 2 — 15 October 2010                                                                               26 of 30


NXP Semiconductors                                                                                                             PTN3381B
                                                                                                             Fully integrated HDMI/DVI level shifter
15. Revision history
Table 19.   Revision history
 Document ID               Release date          Data sheet status                                       Change notice       Supersedes
 PTN3381B v.2              20101015              Product data sheet                                      -                   PTN3381B v.1
 PTN3381B v.1              20100930              Product data sheet                                      -                   -
PTN3381B                                All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2010. All rights reserved.
Product data sheet                                    Rev. 2 — 15 October 2010                                                                            27 of 30


NXP Semiconductors                                                                                                                                           PTN3381B
                                                                                                                                        Fully integrated HDMI/DVI level shifter
16. Legal information
16.1 Data sheet status
 Document status[1][2]                   Product status[3]                    Definition
 Objective [short] data sheet            Development                          This document contains data from the objective specification for product development.
 Preliminary [short] data sheet          Qualification                        This document contains data from the preliminary specification.
 Product [short] data sheet              Production                           This document contains the product specification.
[1]    Please consult the most recently issued document before initiating or completing a design.
[2]    The term ‘short data sheet’ is explained in section “Definitions”.
[3]    The product status of device(s) described in this document may have changed since this document was published and may differ in case of multiple devices. The latest product status
       information is available on the Internet at URL http://www.nxp.com.
16.2 Definitions                                                                                           malfunction of an NXP Semiconductors product can reasonably be expected
                                                                                                           to result in personal injury, death or severe property or environmental
                                                                                                           damage. NXP Semiconductors accepts no liability for inclusion and/or use of
Draft — The document is a draft version only. The content is still under
                                                                                                           NXP Semiconductors products in such equipment or applications and
internal review and subject to formal approval, which may result in
                                                                                                           therefore such inclusion and/or use is at the customer’s own risk.
modifications or additions. NXP Semiconductors does not give any
representations or warranties as to the accuracy or completeness of                                        Applications — Applications that are described herein for any of these
information included herein and shall have no liability for the consequences of                            products are for illustrative purposes only. NXP Semiconductors makes no
use of such information.                                                                                   representation or warranty that such applications will be suitable for the
                                                                                                           specified use without further testing or modification.
Short data sheet — A short data sheet is an extract from a full data sheet
with the same product type number(s) and title. A short data sheet is intended                             Customers are responsible for the design and operation of their applications
for quick reference only and should not be relied upon to contain detailed and                             and products using NXP Semiconductors products, and NXP Semiconductors
full information. For detailed and full information see the relevant full data                             accepts no liability for any assistance with applications or customer product
sheet, which is available on request via the local NXP Semiconductors sales                                design. It is customer’s sole responsibility to determine whether the NXP
office. In case of any inconsistency or conflict with the short data sheet, the                            Semiconductors product is suitable and fit for the customer’s applications and
full data sheet shall prevail.                                                                             products planned, as well as for the planned application and use of
                                                                                                           customer’s third party customer(s). Customers should provide appropriate
Product specification — The information and data provided in a Product                                     design and operating safeguards to minimize the risks associated with their
data sheet shall define the specification of the product as agreed between                                 applications and products.
NXP Semiconductors and its customer, unless NXP Semiconductors and
customer have explicitly agreed otherwise in writing. In no event however,                                 NXP Semiconductors does not accept any liability related to any default,
shall an agreement be valid in which the NXP Semiconductors product is                                     damage, costs or problem which is based on any weakness or default in the
deemed to offer functions and qualities beyond those described in the                                      customer’s applications or products, or the application or use by customer’s
Product data sheet.                                                                                        third party customer(s). Customer is responsible for doing all necessary
                                                                                                           testing for the customer’s applications and products using NXP
                                                                                                           Semiconductors products in order to avoid a default of the applications and
16.3 Disclaimers                                                                                           the products or of the application or use by customer’s third party
                                                                                                           customer(s). NXP does not accept any liability in this respect.
Limited warranty and liability — Information in this document is believed to                               Limiting values — Stress above one or more limiting values (as defined in
be accurate and reliable. However, NXP Semiconductors does not give any                                    the Absolute Maximum Ratings System of IEC 60134) will cause permanent
representations or warranties, expressed or implied, as to the accuracy or                                 damage to the device. Limiting values are stress ratings only and (proper)
completeness of such information and shall have no liability for the                                       operation of the device at these or any other conditions above those given in
consequences of use of such information.                                                                   the Recommended operating conditions section (if present) or the
                                                                                                           Characteristics sections of this document is not warranted. Constant or
In no event shall NXP Semiconductors be liable for any indirect, incidental,
                                                                                                           repeated exposure to limiting values will permanently and irreversibly affect
punitive, special or consequential damages (including - without limitation - lost
                                                                                                           the quality and reliability of the device.
profits, lost savings, business interruption, costs related to the removal or
replacement of any products or rework charges) whether or not such                                         Terms and conditions of commercial sale — NXP Semiconductors
damages are based on tort (including negligence), warranty, breach of                                      products are sold subject to the general terms and conditions of commercial
contract or any other legal theory.                                                                        sale, as published at http://www.nxp.com/profile/terms, unless otherwise
Notwithstanding any damages that customer might incur for any reason                                       agreed in a valid written individual agreement. In case an individual
whatsoever, NXP Semiconductors’ aggregate and cumulative liability towards                                 agreement is concluded only the terms and conditions of the respective
customer for the products described herein shall be limited in accordance                                  agreement shall apply. NXP Semiconductors hereby expressly objects to
with the Terms and conditions of commercial sale of NXP Semiconductors.                                    applying the customer’s general terms and conditions with regard to the
                                                                                                           purchase of NXP Semiconductors products by customer.
Right to make changes — NXP Semiconductors reserves the right to make
changes to information published in this document, including without                                       No offer to sell or license — Nothing in this document may be interpreted or
limitation specifications and product descriptions, at any time and without                                construed as an offer to sell products that is open for acceptance or the grant,
notice. This document supersedes and replaces all information supplied prior                               conveyance or implication of any license under any copyrights, patents or
to the publication hereof.                                                                                 other industrial or intellectual property rights.
Suitability for use — NXP Semiconductors products are not designed,                                        Export control — This document as well as the item(s) described herein
authorized or warranted to be suitable for use in life support, life-critical or                           may be subject to export control regulations. Export might require a prior
safety-critical systems or equipment, nor in applications where failure or                                 authorization from national authorities.
PTN3381B                                                           All information provided in this document is subject to legal disclaimers.                    © NXP B.V. 2010. All rights reserved.
Product data sheet                                                               Rev. 2 — 15 October 2010                                                                                28 of 30


NXP Semiconductors                                                                                                                                PTN3381B
                                                                                                                                Fully integrated HDMI/DVI level shifter
Non-automotive qualified products — Unless this data sheet expressly
states that this specific NXP Semiconductors product is automotive qualified,
                                                                                                   16.4 Licenses
the product is not suitable for automotive use. It is neither qualified nor tested
in accordance with automotive testing or application requirements. NXP                              Purchase of NXP ICs with HDMI technology
Semiconductors accepts no liability for inclusion and/or use of
                                                                                                    Use of an NXP IC with HDMI technology in equipment that complies with
non-automotive qualified products in automotive equipment or applications.
                                                                                                    the HDMI standard requires a license from HDMI Licensing LLC, 1060 E.
In the event that customer uses the product for design-in and use in                                Arques Avenue Suite 100, Sunnyvale CA 94085, USA, e-mail:
automotive applications to automotive specifications and standards, customer                        admin@hdmi.org.
(a) shall use the product without NXP Semiconductors’ warranty of the
product for such automotive applications, use and specifications, and (b)
whenever customer uses the product for automotive applications beyond                              16.5 Trademarks
NXP Semiconductors’ specifications such use shall be solely at customer’s
own risk, and (c) customer fully indemnifies NXP Semiconductors for any                            Notice: All referenced brands, product names, service names and trademarks
liability, damages or failed product claims resulting from customer design and                     are the property of their respective owners.
use of the product for automotive applications beyond NXP Semiconductors’
standard warranty and NXP Semiconductors’ product specifications.
17. Contact information
For more information, please visit: http://www.nxp.com
For sales office addresses, please send an email to: salesaddresses@nxp.com
PTN3381B                                                   All information provided in this document is subject to legal disclaimers.                 © NXP B.V. 2010. All rights reserved.
Product data sheet                                                       Rev. 2 — 15 October 2010                                                                             29 of 30


NXP Semiconductors                                                                                                                   PTN3381B
                                                                                                      Fully integrated HDMI/DVI level shifter
18. Contents
1     General description . . . . . . . . . . . . . . . . . . . . . . 1         12            Package outline. . . . . . . . . . . . . . . . . . . . . . . .        23
2     Features and benefits . . . . . . . . . . . . . . . . . . . . 3           13            Soldering of SMD packages . . . . . . . . . . . . . .                 24
2.1     High-speed TMDS level shifting . . . . . . . . . . . . 3                13.1             Introduction to soldering. . . . . . . . . . . . . . . . .         24
2.2     DDC level shifting . . . . . . . . . . . . . . . . . . . . . . . 3      13.2             Wave and reflow soldering. . . . . . . . . . . . . . .             24
2.3     HDMI dongle detect support . . . . . . . . . . . . . . . 3              13.3             Wave soldering . . . . . . . . . . . . . . . . . . . . . . .       24
2.4     HPD level shifting . . . . . . . . . . . . . . . . . . . . . . . 3      13.4             Reflow soldering . . . . . . . . . . . . . . . . . . . . . .       25
2.5     5 V DC voltage regulator . . . . . . . . . . . . . . . . . 3            14            Abbreviations . . . . . . . . . . . . . . . . . . . . . . . . .       26
2.6     General . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 15            Revision history . . . . . . . . . . . . . . . . . . . . . . .        27
3     Applications . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4    16            Legal information . . . . . . . . . . . . . . . . . . . . . .         28
4     Ordering information . . . . . . . . . . . . . . . . . . . . . 4          16.1             Data sheet status . . . . . . . . . . . . . . . . . . . . . .      28
5     Functional diagram . . . . . . . . . . . . . . . . . . . . . . 5          16.2             Definitions . . . . . . . . . . . . . . . . . . . . . . . . . . .  28
6     Pinning information . . . . . . . . . . . . . . . . . . . . . . 6         16.3             Disclaimers . . . . . . . . . . . . . . . . . . . . . . . . . .    28
6.1     Pinning . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6 16.4             Licenses. . . . . . . . . . . . . . . . . . . . . . . . . . . . .  29
6.2     Pin description . . . . . . . . . . . . . . . . . . . . . . . . . 6     16.5             Trademarks . . . . . . . . . . . . . . . . . . . . . . . . . .     29
7     Functional description . . . . . . . . . . . . . . . . . . . 9            17            Contact information . . . . . . . . . . . . . . . . . . . .           29
7.1     Enable and disable features . . . . . . . . . . . . . . 10              18            Contents. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   30
7.1.1   Hot plug detect . . . . . . . . . . . . . . . . . . . . . . . 10
7.1.2   Output Enable function (OE_N) . . . . . . . . . . . 10
7.1.3   DDC channel enable function (DDC_EN). . . . 10
7.1.4   Enable/disable truth table . . . . . . . . . . . . . . . . 11
7.2     Analog current reference . . . . . . . . . . . . . . . . 12
7.3     Programmable pre-emphasis . . . . . . . . . . . . . 12
7.4     Backdrive current protection . . . . . . . . . . . . . . 12
7.5     Active DDC buffer with rise time accelerator . 13
7.6     I2C-bus based HDMI dongle detection . . . . . . 13
7.6.1   Slave address . . . . . . . . . . . . . . . . . . . . . . . . . 13
7.6.2   Read operation . . . . . . . . . . . . . . . . . . . . . . . . 14
7.7     Characteristics of the I2C-bus. . . . . . . . . . . . . 15
7.7.1   Bit transfer . . . . . . . . . . . . . . . . . . . . . . . . . . . 15
7.7.2   START and STOP conditions . . . . . . . . . . . . . 15
7.7.3   System configuration . . . . . . . . . . . . . . . . . . . 15
7.7.4   Acknowledge . . . . . . . . . . . . . . . . . . . . . . . . . 16
8     Application design-in information . . . . . . . . . 17
8.1     Dongle or cable adaptor detect discovery
        mechanism . . . . . . . . . . . . . . . . . . . . . . . . . . . 17
9     Limiting values. . . . . . . . . . . . . . . . . . . . . . . . . 18
10    Recommended operating conditions. . . . . . . 18
10.1    Current consumption . . . . . . . . . . . . . . . . . . . 19
11    Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . 19
11.1    Differential inputs . . . . . . . . . . . . . . . . . . . . . . 19
11.2    Differential outputs . . . . . . . . . . . . . . . . . . . . . 20
11.3    HPD_SINK input, HPD_SOURCE output . . . . 20
11.4    OE_N, DDC_EN and DDET inputs. . . . . . . . . 21
11.5    DDC characteristics . . . . . . . . . . . . . . . . . . . . 21
11.6    5 V DC regulator characteristics . . . . . . . . . . . 22
                                                                                Please be aware that important notices concerning this document and the product(s)
                                                                                described herein, have been included in section ‘Legal information’.
                                                                                © NXP B.V. 2010.                                                All rights reserved.
                                                                                For more information, please visit: http://www.nxp.com
                                                                                For sales office addresses, please send an email to: salesaddresses@nxp.com
                                                                                                                                       Date of release: 15 October 2010
                                                                                                                                        Document identifier: PTN3381B


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
NXP:
 PTN3381BBS,518
