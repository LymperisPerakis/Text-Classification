                                                                                                                                                      LTC4556
                                                                                                         Smart Card Interface
                                                                                                                 with Serial Control
Features                                                                          Description
n   Electrical Specifications Are ISO7816-3 and EMV                               The LTC®4556 provides all necessary power control, level
    Compatible                                                                    translation and supervisory functions for a smart card or
n   Control/Status Serial Port May be Daisy-Chained                               S.A.M. card interface. The part contains a low noise charge
    for Multicard Applications                                                    pump plus LDO for generating VCC power, as well as all
n   Automatic Shutdown on Electrical Faults                                       necessary level shifting circuitry.
n   Buck Boost Charge Pump Generates 5V, 3V or 1.8V
                                                                                  The card voltage can be set to either 1.8V, 3V or 5V. The
    Outputs (Smart Card Classes A, B and C)
                                                                                  LTC4556 includes a card detection channel with automatic
n   Automatic Level Translation
                                                                                  debounce circuitry. To reduce wiring costs, the LTC4556
n   Dynamic Pull-Ups Deliver Fast Signal Rise Times
                                                                                  interfaces to a microcontroller via a simple 4‑wire serial
n   Supervisory Functions Prevent Smart Card Faults
                                                                                  interface. Multiple devices may be connected in daisy-chain
n   Low Operating Current: 250µA Typical
                                                                                  fashion so that the number of wires to the card socket
n   VIN: 2.7V to 5.5V
                                                                                  board is independent of the number of sockets. Status
n   Ultralow Shutdown Current
                                                                                  data is returned over the same interface.
n   >10kV ESD on Smart Card Pins
n   Small 24-Lead 4mm × 4mm QFN Package                                           Extensive security features ensure proper deactivation
                                                                                  sequencing in the event of a supply fault or a smart card
Applications                                                                      electrical fault. The smart card pins can withstand greater
                                                                                  than 10kV ESD in-situ with no additional components.
n   Handheld Payment Terminals
                                                                                  The LTC4556 is available in a small, low profile (0.75mm),
n   Pay Telephones
                                                                                  4mm × 4mm QFN package.
n   ATM Machines
                                                                                  L, LT, LTC, LTM, Linear Technology and the Linear logo are registered trademarks and
n   POS Terminals                                                                 ThinSOT is a trademark of Linear Technology Corporation. All other trademarks are the property
n   Computer Keyboards                                                            of their respective owners. Protected by U.S. Patents, including 6356140, 6411531.
n   Multiple S.A.M. Sockets
Typical Application
                             240k          180k
                                       20
                                   UNDERV
                                                                                                                                      Deactivation Sequence
                         1                          19
                            DVCC            PRES
                        10
    INPUT                   VBATT
   POWER  0.1µF  1µF               LTC4556
                         8                          18                                                                 RST
                            GND                C8                                                                    5V/DIV
                                                    17
                                               C4
                         6                          16
                            FAULT              I/O
                                                    15                                                                 CLK
                                              RST
                        21                          14                                                               5V/DIV
                            DIN               CLK
                        22                          13                          SMART CARD
   4-WIRE                   DOUT              VCC
COMMAND                 23
                            SCLK                       1µF                                                               I/O
INTERFACE               24
                            LD                                                                   4556 TA01
                                                                                                                     5V/DIV
                         2                                                                                              VCC
                            DATA                                                                                     5V/DIV
   4-WIRE                3
                            RIN
     CARD                4                                                                                                                          10µs/DIV              4556 G11.eps
INTERFACE                   SYNC
                         5
                            ASYNC
                              C+ C–       CPO
                           11        9       12
                                                1µF
                                1µF
                                                                                                                                                                          4556fb
                                                          For more information www.linear.com/LTC4556                                                                     1


LTC4556
Absolute Maximum Ratings                                                         Pin Configuration
(Note 1)
VBATT, DVCC, CPO, FAULT,                                                                                                 TOP VIEW
UNDERV to GND........................................ –0.3V to 6.0V
PRES, DATA, RIN, SYNC, ASYNC,                                                                                LD   SCLK   DOUT   DIN     UNDERV   PRES
LD, DIN, SCLK to GND................. –0.3V to (DVCC + 0.3V)                                                 24 23 22 21 20 19
I/O, CLK.........................................–0.3V to (VCC + 0.3V)                             DVCC 1                                                18 C8
ICC (Note 5).............................................................65mA                      DATA 2                                                17 C4
VCC Short-Circuit Duration................................ Indefinite                               RIN 3                  25                            16 I/O
                                                                                                  SYNC 4                  SGND                           15 RST
Operating Temperature Range (Note 4)....– 40°C to 85°C
                                                                                                  ASYNC 5                                                14 CLK
Storage Temperature Range................... –65°C to 125°C                                       FAULT 6                                                13 VCC
                                                                                                              7    8      9 10 11 12
                                                                                                             NC
                                                                                                                  GND
                                                                                                                         C–
                                                                                                                                VBATT
                                                                                                                                        C+
                                                                                                                                                 CPO
                                                                                                                  UF PACKAGE
                                                                                                       24-LEAD (4mm × 4mm) PLASTIC QFN
                                                                                                           TJMAX = 125°C, θJA = 160°C/W
                                                                                               EXPOSED PAD (PIN #) IS GND, MUST BE SOLDERED TO PCB
Order Information
LEAD FREE FINISH              TAPE AND REEL               PART MARKING                PACKAGE DESCRIPTION                                               TEMPERATURE RANGE
LTC4556EUF#PBF                LTC4556EUF#TRPBF            4556                        24-Lead (4mm x 4mm) Plastic QFN                                   –40°C to 85°C
Consult LTC Marketing for parts specified with wider operating temperature ranges. *The temperature grade is identified by a label on the shipping container.
Consult LTC Marketing for information on nonstandard lead based finish parts.
For more information on lead free part marking, go to: http://www.linear.com/leadfree/
For more information on tape and reel specifications, go to: http://www.linear.com/tapeandreel/
Electrical Characteristics                                The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. VBATT = 3.3V, DVCC = 3.3V unless otherwise noted.
PARAMETER                                     CONDITIONS                                                          MIN                       TYP                  MAX     UNITS
Input Power Supply
VBATT Operating Voltage                                                                                  l         2.7                                            5.5        V
IVBATT Operating Current                      VCC = 5V, ICC = 0µA                                        l                                   250                  400       µA
IVBATT Shutdown Current                       No Card Present, VCPO = 0V                                 l                                   0.5                  1.75      µA
DVCC Operating Voltage                                                                                   l         1.7                                            5.5        V
IDVCC Operating Current                                                                                  l                                       5                25        µA
IDVCC Shutdown Current                                                                                   l                                   0.2                  1.5       µA
Charge Pump
ROLCP 5V Mode Open-Loop                       VBATT = 3.075V, ICPO = ICC = 60mA, (Note 3)                l                                   8.2                  17        Ω
Output Resistance
CPO Turn On Time                              ICC = 0mA, 10% to 90%                                      l                                   0.6                  1.5       ms
                                                                                                                                                                         4556fb
2                                                        For more information www.linear.com/LTC4556


                                                                                                                           LTC4556
Electrical Characteristics                                         The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. VBATT = 3.3V, DVCC = 3.3V unless otherwise noted.
PARAMETER                                   CONDITIONS                                                   MIN       TYP         MAX      UNITS
Smart Card Supply
VCC Output Voltage                          5V Mode, 0 < ICC < 60mA                                l     4.65      5.0         5.35          V
                                            3V Mode, 0 < ICC < 50mA                                l     2.75      3.0         3.25          V
                                            1.8V Mode, 0 < ICC < 30mA                              l     1.65      1.8         1.95          V
VCC Turn On-Time                            ICC = 0mA, 10% to 90%                                  l               0.8          1.5        ms
Undervoltage Detection                      Relative to Nominal Output                             l      –9        –5         –2.5         %
Overcurrent Detection                                                                              l      60       110         150         mA
Smart Card Detection
Debounce Time (       PRES to    D7)                                                               l      15        32          60         ms
PRES Pull-Up Current                        VPRES = 0                                              l                 1          2.5         µA
Deactivation Time (     RST to VCC = 0.4V)  ICC = 0mA, CVCC = 1µF                                  l               100         250          µs
CLK (Non-Bidirectional Modes)
Low Level Output Voltage (VOL), (Note 2)    Sink Current = –200µA                                  l                            0.2          V
High Level Output Voltage (VOH), (Note 2)   Source Current = 200µA                                 l  VCC – 0.2                              V
Rise/Fall Time, (Note 2)                    Loaded with 50pF, 10% to 90%                           l                            16          ns
CLK Frequency, (Note 2)                                                                            l      10                              MHz
RST, C4, C8
Low Level Output Voltage (VOL), (Note 2)    Sink Current = –200µA                                  l                            0.2          V
High Level Output Voltage (VOH), (Note 2)   Source Current = 200µA                                 l  VCC – 0.2                              V
Rise/Fall Time, (Note 2)                    Loaded with 50pF, 10% to 90%                           l                           100          ns
I/O, CLK (CLK Specifications in Bidirectional Mode Only)
Low Level Output Voltage (VOL), (Note 2)    Sink Current = –1mA (VDATA = 0V or VSYNC = 0V)         l                            0.3          V
High Level Output Voltage (VOH), (Note 2)   Source Current = 20µA (VDATA = VDVCC or                l  0.85 • VCC                             V
                                            VSYNC = VDVCC)
Rise/Fall Time, (Note 2)                    Loaded with 50pF, 10% to 90%                           l                           500          ns
Short Circuit Current, (Note 2)              VDATA = 0V or VSYNC = 0V                              l                 5          10         mA
DATA, SYNC (SYNC Specifications in Bidirectional Mode Only)
Low Level Output Voltage (VOL)              Sink Current = –500µA (VI/O = 0V or VCLK = 0V)         l                            0.3          V
High Level Output Voltage (VOH)             Source Current = 20µA (VI/O = VCC or VCLK = VCC)       l 0.8 • DVCC                              V
Rise/Fall Time                              Loaded with 50pF                                       l                           500          ns
RIN, DIN, SCLK, LD, SYNC, ASYNC (SYNC Specifications for Non-Bidirectional Mode)
Low Input Threshold (VIL)                                                                          l                       0.15 • DVCC       V
High Input Threshold (VIH)                                                                         l 0.85 • DVCC                             V
Input Current (IIH/IIL)                                                                            l      –1                     1          µA
DOUT
Low Level Output Voltage (VOL)              Sink Current = –200µA                                  l                            0.3          V
High Level Output Voltage (VOH)             Source Current = 200µA                                 l DVCC – 0.3                              V
UNDERV
Threshold                                                                                          l     1.17     1.23         1.29          V
Leakage Current                             VUNDERV = 3.3V                                         l                            50          nA
                                                                                                                                         4556fb
                                                       For more information www.linear.com/LTC4556                                       3


LTC4556
Electrical Characteristics                                The l denotes the specifications which apply over the full operating
temperature range, otherwise specifications are at TA = 25°C. VBATT = 3.3V, DVCC = 3.3V unless otherwise noted.
PARAMETER                                                            CONDITIONS                                                                                                              MIN               TYP        MAX           UNITS
FAULT
Low Level Output Voltage (VOL)                                       Sink Current = –200µA                                                                       l                                          0.005          0.3                     V
Leakage Current                                                      VFAULT = 5.5V                                                                               l                                                          1                 µA
Serial Port Timing
tDS                                     DIN Valid to SCLK Setup                                                                                                                               8                                                ns
tDH                                     DIN Valid to SCLK Hold                                                                                                                                8                                                ns
tDD                                     DOUT Output Delay            CLOAD = 15pF                                                                                                             15                           60                  ns
tL                                      SCLK Low Time                                                                                                                                         50                                               ns
tH                                      SCLK High Time                                                                                                                                        50                                               ns
tCL                                     SCLK to LD                                                                                                                                            50                                               ns
tLC                                     LD to SCLK                                                                                                                                            0                                                ns
tLFC                                    LD Falling to SCLK                                                                                                                                    50                                               ns
Note 1: Stresses beyond those listed under Absolute Maximum Ratings                                                                  Note 3: ROLCP ≡ (2VBATT – VCPO)/ICPO; VCPO will depend upon total load
may cause permanent damage to the device. Exposure to any Absolute                                                                   (ICC) and minimum supply voltage VBATT. See Figure 6.
Maximum Rating condition for extended periods may affect device                                                                      Note 4: The LTC4556E is guaranteed to meet performance specifications
reliability and lifetime.                                                                                                            from 0°C to 70°C. Specifications over the – 40°C to 85°C operating
Note 2: This specification applies to all three smart card voltage classes:                                                          temperature range are assured by design, characterization and correlation
1.8V, 3V and 5V.                                                                                                                     with statistical process controls.
                                                                                                                                     Note 5: Based on long term current density limitation.
Typical Performance Characteristics
                                                                                                                 I/O and CLK Short-Circuit Current                                                Charge Pump Open-Loop Output
                                                                                                                 vs Temperature                                                                   Resistance vs Temperature
                             No Load Supply Current vs VBATT                                                     (CLK in Bidirectional Mode)                                                      (2VBATT – VCPO) / ICPO
                       500                                                                                 6.0                                                                               10
                                TA = 25°C                                                                           DVCC = VBATT = 3.3V                                                              VBATT = 2.7V
                                ICC = 0µA                                                                           VCC = 5V                                                                         VCPO = 4.9V
                                                                              SHORT-CIRCUIT CURRENT (mA)
                       400                                                                                 5.5
                                                                                                                                                                                              9
 SUPPLY CURRENT (µA)                                                                                                                                                 OUTPUT RESISTANCE (Ω)
                       300                     VCC = 5V                                                    5.0                CLK
                                               VCC = 3V                                                                                                                                       8
                                                                                                                                      I/O
                       200                                                                                 4.5
                                               VCC = 1.8V
                                                                                                                                                                                              7
                       100                                                                                 4.0
                         0                                                                                 3.5                                                                                6
                          2.7    3.1     3.5   3.9 4.3 4.7 5.1          5.5                                   –40       –15      10     35       60         85                                 –40       –15       10     35       60         85
                                       VBATT SUPPLY VOLTAGE (V)                                                               TEMPERATURE (°C)                                                                  TEMPERATURE (°C)
                                                                                                                                                      4556 G02                                                                          4556 G03
                                                                  4556 G01
                                                                                                                                                                                                                                          4556fb
4                                                                                                   For more information www.linear.com/LTC4556


                                                                                                                                                                                                                                       LTC4556
Typical Performance Characteristics
                                  VCC Overcurrent Shutdown                                                        Card Detection Debounce Time vs                                                              Bidirectional Channel (I/O) Low
                                  Threshold vs Temperature                                                        VBATT Supply Voltage                                                                         Output Level vs Temperature
                            140                                                                             50                                                                                          200
                                     VBATT = 3.3V                                                                                                                                                                   VDATA = VSYNC = 0V
                                                                                                                                                                                                                    IOL = –1mA
                            130                                                                                                                TA = 85°C
                                                                                                                                                                          I/O LOW OUTPUT VOLTAGE (mV)
                                                    VCC = 1.8V, CPO = 4V                                    45                                                                                                      VBATT = 3V
                                                                                                                                                                                                        175                                     VCC = 1.8V
LOAD CURRENT (mA)                                                                     DEBOUNCE TIME (ms)
                            120
                                  VCC = 5V, CPO = 5.5V                                                      40                                 TA = 25°C
                            110                                                                                                                                                                         150                                     VCC = 3V, 5V
                                                         VCC = 3V, CPO = 5.5V                                                                  TA = –40°C
                                                                                                            35
                            100
                                                                                                                                                                                                        125
                                                                                                            30
                             90
                             80                                                                             25                                                                                          100
                               –40       –15      10     35        60            85                           2.7    3.1     3.5   3.9 4.3 4.7 5.1                  5.5                                    –40          –15       10     35           60         85
                                               TEMPERATURE (°C)                                                            VBATT SUPPLY VOLTAGE (V)                                                                            TEMPERATURE (°C)
                                                                        4556 G04                                                                              4556 G05                                                                                     4556 G06
                                  Extra Input Current vs                                                          VBATT Shutdown Current vs                                                                    DVCC Shutdown Current vs Supply
                                  Load Current (IBATT – 2ICC)                                                     Supply Voltage                                                                               Voltage
                              6                                                                             3.0                                                                                         1.0
                                     VBATT = 3.3V                                                                   VDVCC = VBATT                                                                                   VBATT = VDVCC
                              5      TA = 25°C                                                              2.5
                                                                                                                                                                                                        0.8
 EXTRA INPUT CURRENT (mA)
                                                                                      SUPPLY CURRENT (µA)                                                                         SUPPLY CURRENT (µA)
                                                                                                                                                 TA = –40°C
                              4                                                                             2.0
                                                                                                                                     TA = 25°C                                                          0.6                               TA = 25°C
                              3                                                                             1.5
                                                                                                                                                                                                        0.4
                                                                                                                                                                                                                             TA = –40°C
                              2                                                                             1.0
                                                                                                                                                 TA = 85°C                                                                                         TA = 85°C
                                                                                                                                                                                                        0.2
                              1                                                                             0.5
                              0                                                                              0                                                                                            0
                              0.01         0.1       1       10                 100                           2.7    3.1     3.5   3.9 4.3 4.7 5.1                  5.5                                       2.7     3.1     3.5 3.9 4.3 4.7 5.1                5.5
                                             LOAD CURRENT (mA)                                                             VBATT SUPPLY VOLTAGE (V)                                                                         VDVCC SUPPLY VOLTAGE (V)
                                                                                                                                                              4556 G08                                                                                     4556 G09
                                                                           4556 G07
                                  Charge Pump and LDO Activation                                                  Deactivation Sequence                                                                        Data – I/O Channel
                                                                                                  RST
                                                                                                5V/DIV
       VCPO                                                                                                                                                                                  I/O
      5V/DIV                                                                                                                                                                              2V/DIV
                                                                                                  CLK
                                                                                                5V/DIV
         VCC
      5V/DIV
                                                                                                   I/O
                                                                                                5V/DIV                                                                                     DATA
         I/O                                                                                                                                                                              2V/DIV
      5V/DIV                                                                                       VCC
                                                                                                5V/DIV
                                                    1ms/DIV                4556 G10                                                 10µs/DIV                 4556 G11
                                                                                                                                                                                                                                    100ns/DIV              4556 G12
                                                                                                                                                                                                                                                             4556fb
                                                                                                      For more information www.linear.com/LTC4556                                                                                                            5


LTC4556
Pin Functions
DVCC (Pin 1): Power. Reference voltage for the control logic.         CPO (Pin 12): Charge Pump. CPO is the output of the charge
                                                                      pump. When the smart card requires power, the charge
DATA (Pin 2): Input/Output. Microcontroller side data I/O
                                                                      pump will charge CPO to either 3.7V or 5.35V depending
pin. The DATA pin provides the bidirectional communica‑
tion path to the smart card. The card may be selected to              on what smart card voltage is required. A low impedance
communicate via the DATA pin. If several LTC4556s are                 1µF X5R or X7R ceramic capacitor is required on CPO.
connected in parallel, the DATA pin can be made high                  VCC (Pin 13): Card Socket. The VCC pin should be connected
impedance by selecting neither card socket. The C4 and                to the VCC pin of the smart card socket. The activation of
C8 synchronous card pins can be selected to connect to                the VCC pin is controlled by the serial port (see Tables 1
the DATA pin via the serial port (see Table 4).                       and 2) and can be set to 0V, 1.8V, 3V or 5V.
RIN (Pin 3): Input. The RIN pin supplies the RST signal to            CLK (Pin 14): Card Socket. The CLK pin should be con‑
the smart card. It is level shifted and transmitted directly          nected to the CLK pin of the smart card socket. The CLK
to the RST pin of a selected card. When the card is dese‑             signal can be derived from either the SYNC input or the
lected, the RST pin is latched at its current state.                  ASYNC input depending on which type of card is being
SYNC (Pin 4): Input-Input/Output. The SYNC pin provides               accessed. The card type is selected via the serial port
the clock input for synchronous smart cards. When a                   (see Tables 1 and 3). In bidirectional mode, the CLK pin
synchronous card is selected, its CLK pin follows SYNC                becomes an input/output with the microcontroller side
                                                                      SYNC pin.
directly. When a synchronous card is deselected, the CLK
pin is latched at its current state. In bidirectional mode,           RST (Pin 15): Card Socket. This pin should be connected
the SYNC pin becomes an input/output with the smart                   to the RST pin of the smart card socket. The RST signal
card CLK pin.                                                         is derived from the RIN pin. When the card is selected,
                                                                      its RST pin follows RIN. When the card is deselected, the
ASYNC (Pin 5): Input. The ASYNC pin provides the clock
                                                                      RST pin holds the current value on RIN.
input for asynchronous cards and should be connected
to a free running clock. The clock signal to the smart card           I/O (Pin 16): Card Socket. The I/O pin connects to the
can be a ÷1, ÷2, ÷4 or ÷8 version of the signal on ASYNC.             I/O pin of the smart card socket. When the smart card is
Asynchronous cards can also be placed in clock stop mode              selected, its I/O pin connects to the DATA pin. When the
with the clock stopped either high or low.                            smart card is deselected, its I/O pin returns to the idle
                                                                      state (H).
FAULT (Pin 6): Output. The FAULT pin can be used as an
interrupt to a microcontroller to indicate when a fault has           C4, C8 (Pins 17, 18): Card Socket. These pins connect to
occurred. It is an open drain output, which is logically              the C4 and C8 pins of synchronous memory cards on the
equivalent to D4 . (See Table 1)                                      smart card socket. The signal for these pins is unidirec‑
                                                                      tional and can only be sent to the card. Data for C4 and
NC (Pin 7): No Connection to chip. May be grounded.
                                                                      C8 is transmitted via the DATA pin and may be selected in
GND (Pin 8): Ground. Power ground for the chip. This                  place of I/O via the serial port (see Table 4). When either
pin should be connected directly to a low impedance                   C4 or C8 is selected, it will follow the DATA pin. When it
ground plane.                                                         is deselected, it will remain latched at its current state.
C –, C+ (Pins 9, 11): Charge Pump. Charge pump flying                 PRES (Pin 19): Card Socket. The PRES pin is used to detect
capacitor pins. A 1µF X5R or X7R ceramic capacitor should             the presence of a smart card. It should be connected to a
be connected from C+ to C–.                                           normally open detection switch on the smart card accep‑
VBATT (Pin 10): Power. Supply voltage for analog and power            tor’s socket. This pin has a pull-up current source on-chip
sections of the LTC4556.                                              so no external components are required.
                                                                                                                              4556fb
6                                             For more information www.linear.com/LTC4556


                                                                                                                LTC4556
Pin Functions
UNDERV (Pin 20): Input. The UNDERV pin provides secu‑               SCLK. DOUT can be connected directly to a microcontroller
rity by supplying a precision undervoltage threshold for            or the DIN pin of another LTC4556 or LTC1955 for daisy
external supply monitoring. An external resistive voltage           chained operation.
divider programs the desired undervoltage threshold. Once           SCLK (Pin 23): Input. The SCLK pin clocks the serial port.
UNDERV falls below 1.23V, the LTC4556 automatically                 Each new data bit is received on the rising edge of SCLK.
begins the deactivation sequence.                                   SCLK should be left high during idle times and should not
If external supply monitoring is not required, the UNDERV           be clocked when LD is low.
pin should be connected to either V­BATT or DVCC.                   LD (Pin 24): Input. The falling edge of this pin loads the
DIN (Pin 21): Input. Input for the serial port. Command             current state of the shift register into the command regis‑
data is shifted into DIN synchronously with SCLK. DIN can           ter. Command changes to the smart card will be updated
be connected directly to a microcontroller or the DOUT              on the falling edge of LD. The rising edge of LD latches
pin of another LTC4556 or LTC1955 for daisy chained                 status information into the shift register for the next read/
operation.                                                          write cycle.
DOUT (Pin 22): Output. Output for the serial port. Smart            SGND (Pin 25): Exposed Pad. Must be soldered to PCB
card status data is shifted out of DOUT synchronously with          Ground.
                                                                                                                             4556fb
                                            For more information www.linear.com/LTC4556                                      7


LTC4556
Block Diagram
                                                   CHARGE PUMP
                                        C+      C–     GND    VBATT   CPO
                                        11       9      8      10      12
                                          CHARGE
                                           PUMP
                                                                    LDO           13 VCC
                                                                                  16 I/O
                                                                                  17 C4
                          DATA 2
                                                                                               SMART
                                                                                  18 C8        CARD
                         ASYNC 5        CLOCK                                                  SOCKET
                 SMART                 CONTROL
                  CARD                  LOGIC
        COMMUNICATIONS    SYNC 4                                                  14 CLK
                                        RESET
                            RIN 3      CONTROL                                    15 RST
                                        LOGIC
                                                                 τ                19 PRES
                                                                                   6
                                                                                        FAULT
                                     STATUS DATA
                            DIN 21
             SERIAL PORT  DOUT 22                                                             DIGITAL
         COMMAND/STATUS             SHIFT REGISTER                                 1 DVCC
                                                                                              SUPPLY
                    DATA  SCLK 23
                            LD 24
                                                                     –            20 UNDERV
                                   COMMAND LATCH
                                                                     +
                                                                          1.23V +
                                                                                –
                                                                                     4556 BD
                                                                                                      4556fb
8                                  For more information www.linear.com/LTC4556


                                                                                                                           LTC4556
Operation
Serial Port                                                                 • Clock mode of the card (synchronous, asynchronous
The microcontroller compatible serial port provides all of                     or bidirectional)
the command and control inputs for the LTC4556 as well                      • Operating mode of asynchronous cards (clock stop
as the status of the smart card. Data on the DIN input is                      high, low, ÷1, ÷2, ÷4 or ÷8)
loaded on the rising edge of SCLK. D7 is loaded first and
                                                                            • Selection of the I/O, C4 or C8 pins
D0 last. At the same time the command bits are being
shifted into the DIN input, the status bits are being shifted               The serial port provides the following status data:
out of the DOUT output. The status bits are presented to                    • It indicates the presence or absence of the smart card.
DOUT on the rising edge of SCLK. Once all bits have been
clocked into the shift register, the command data is loaded                 • It indicates the readiness of the smart card VCC supply.
into the command latch by bringing LD low. At this time                        Communication with the smart card is disabled until its
the command latch is updated and the LTC4556 will begin                        power supply voltage has reached the final value.
to act on the new command set. The status data is latched                   • It indicates fault status. In the event of an electrical or
into the shift register on the rising edge of LD. SCLK should                  ATR fault, the fault is reported. For electrical faults, the
be low when LD is brought low and should be high when                          LTC4556 will automatically deactivate the smart card.
LD is brought high. This requires a 9th clock cycle per
                                                                            Table 1 illustrates the command inputs and status outputs
transaction. Figure 2 shows the recommended operation
                                                                            associated with each bit of the serial data word.
of the serial port.
                                                                            Three voltage options are available from the LTC4556:
Multiple LTC4556s may be daisy chained together by
                                                                            5V, 3V and 1.8V. Bits D0, D1 determine which voltage is
connecting the DOUT pin of one LTC4556 to the DIN pin of
another. Figure 7 shows an example of an LTC4556 daisy                      selected. Setting both control bits to 0 deactivates the
chained together with LTC1955s.                                             card and sets the smart card supply voltage to 0V. Table 2
                                                                            shows the operation of the supply control bits.
The maximum clock rate for the serial port is 10MHz.
                                                                            The CLK pin to the smart card can be programmed for
The serial port controls the following parameters of the                    various modes. Both synchronous and asynchronous
smart card socket:                                                          cards are supported. There are several options available
• Selection/deselection of the smart card                                   with asynchronous cards. Table 3 shows how all clock
                                                                            options are obtained using bits D5–D7.
• VCC voltage level of the card (5V/3V/1.8V/0V)
                                                                  READ/WRITE CYCLE
                               tLC   tDS   tDH                             tH                tL      tCL tLFC tCL
                                                      tDD
                     SCLK
                       DIN      X        D7       D6                    D2          D1        D0      X
                        LD
                                                                                                 D7 FROM
                      DOUT         D7          D6       D5                     D1         D0                        D7
                                                                                                  INPUT
                                                                                                                  4556 F02
                                                   Figure 2. Serial Port Timing Diagram
                                                                                                                                      4556fb
                                                   For more information www.linear.com/LTC4556                                         9


LTC4556
Operation
Table 1. Serial Port Commands                                                   current passes from the receiving side of the channel to the
STATUS OUTPUT              BIT     COMMAND INPUT                                transmitting side. The low output voltage of the receiving
0                           D0     VCC Options                                  side will be dependent upon the voltage at the transmitting
0                           D1     (See Table 2)                                side plus the IR drop of the pass transistor.
0                           D2     Card Select/Deselect
                                                                                When a card socket is selected, it becomes a candidate to
0                           D3     Card Communications
                                                                                drive data on the DATA pin and likewise receive data from
Card Electrical Fault       D4     Options (See Table 4)
                                                                                the DATA pin. When a card socket is deselected, the volt‑
Card ATR Fault              D5     Card Clock Options                           age on its I/O pin will return to the idle state (H) and the
Card VCC Ready              D6     (See Table 3)
                                                                                DATA side of that channel will become high impedance.
Card Present                D7
                                                                                The LTC4556 includes provision for unidirectional com‑
Table 2. VCC and Shutdown Options
                                                                                munication with the C4 and C8 pins of the smart card.
D1       D0     STATUS
                                                                                The C4, C8 and I/O pins are individually multiplexed to
                                                                                the DATA pin using bits D3 and D4 as shown in Table 4.
0         0     VCC = 0V (Shutdown)
0         1     VCC = 1.8V                                                      Table 4. Communications Options
1         0     VCC = 3V                                                        D4        D3    COMMUNICATION MODE
1         1     VCC = 5V                                                        0          0    Nothing Selected
                                                                                0          1    C4 Connected to DATA Pin
Table 3. Clock Options                                                          1          0    C8 Connected to DATA Pin
D7          D6        D5    CLOCK MODE                                          1          1    I/O Connected to DATA Pin
0            0         0    Synchronous Mode
0            0         1    Bidirectional Mode                                  Dynamic Pull-Up Current Sources
0            1         0    Asynchronous Stop Low
0            1         1    Asynchronous Stop High
                                                                                The current sources on the bidirectional pins (DATA, I/O)
1            0         0    Asynchronous ÷1
                                                                                are dynamically activated to achieve a fast rise time with
1            0         1    Asynchronous ÷2
                                                                                a relatively small static current. Once a bidirectional pin
1            1         0    Asynchronous ÷4
                                                                                is relinquished, a small start up current begins to charge
                                                                                the node. An edge rate detector determines if the pin is
1            1         1    Asynchronous ÷8
                                                                                released by comparing its slew rate with an internal refer‑
To receive status data from the serial port, a read/write                       ence value. If a valid transition is detected, a large pull-up
operation must be performed. When polling for the pres‑                         current enhances the edge rate on the node. The higher
ence of a smart card, the input word may be set to $00                          slew rate corroborates the decision to charge the node
since this is the shutdown command for the LTC4556.                             thereby affecting a dynamic form of hysteresis.
Data Channel                                                                                       LOCAL
                                                                                                  SUPPLY                      +    VREF
The data channel is level shifted to the appropriate VCC
voltages at the I/O pin.                                                                              ISTART
                                                                                                                              –
An NMOS pass transistor performs the level shifting. The
                                                                                                                          dv
gate of the NMOS transistor is biased such that the transis‑                                  BIDIRECTIONAL               dt
tor is completely off when both sides have relinquished                                                  PIN                       4556 F03
the channel. If one side of the channel asserts an L, then
                                                                                              Figure 3. Dynamic Pull-Up Current Sources
the transistor will convey the L to the other side. Note that
                                                                                                                                            4556fb
10                                                      For more information www.linear.com/LTC4556


                                                                                                                    LTC4556
Operation
As described in the section Serial Port, the LTC4556 sup‑             Additional synchronization circuitry prevents glitches from
ports both synchronous and asynchronous smart cards.                  occurring when switching between synchronous mode and
When bits D5-D7 are set to 0s, the clock channel is in                asynchronous mode. Because of this circuitry, two edges
synchronous mode.                                                     (a falling edge followed by a rising edge) are necessary
In synchronous mode, the CLK pin follows the SYNC pin for             at the CLK pin to switch modes from asynchronous to
a channel that is selected. If the channel is deselected (via         synchronous. For example, if clock stop mode is engaged,
the serial port) the CLK line is latched at its current value.        the clock channel will not change modes until clock stop
                                                                      mode is disengaged.
When control bits D7, D6 and D5 are set to 0, 0 and 1
respectively, the clock channel is in bidirectional mode.             Both SYNC and ASYNC inputs are independently level
This mode permits clock stretching when communicating                 shifted to the appropriate voltage for the CLK pin (5V, 3V,
with bidirectional cards. The bidirectional level translation         1.8V).
circuit is identical to the I/O-DATA circuit. A low can be
                                                                      Reset Channel
asserted from either the SYNC pin or the CLK pin and the
other pin will follow. The low can be “handed off” to affect          When the card is selected, the reset channel provides a
clock stretching if both sides assert at the same time. It            level shifted path from the RIN pin to the RST pin. When
will not run as fast as the unidirectional synchronous or             the card is deselected its RST pin is latched at the current
asynchronous modes but does employ accelerating pull-up               value of RIN.
sources on both sides for maximum clock rate.
                                                                      Smart Card Detection Circuit
In asynchronous mode the CLK pin follows either the
ASYNC pin (÷1 mode) or a divided version of this pin. The             The PRES pin is used to detect the presence of a smart
CLK pin can also be stopped high or low. The available di‑            card. An automatic debounce circuit waits until a smart
vider ratios include ÷2, ÷4 and ÷8. When switching between            card has been present for a continuous period of typically
divider ratios, the internal selection circuitry ensures that         32ms. Once a valid card indication exists, the status bit
no spikes or glitches appear on the CLK pin. Consequently,            is updated and may be polled by cycling data through the
it may take up to 8 clock pulses for the clock frequency              serial port. The DOUT pin (equivalent to D7) of the serial
change command to take affect. Synchronization circuitry              port can be used to indicate the presence of a card in real
ensures that no glitches occur when entering or exiting               time if LD is held low.
one of the stop modes. For example, when entering Stop                The PRES pin has a built-in pull-up current source so no
Low mode, the selection circuitry waits for the next falling          external components are required for switch detection.
edge of the CLK signal to make the change. Likewise if                The pull-up current source is designed to have a small
Stop High is selected it will occur on the next rising edge.          current when the pin voltage is below approximately 1V
Deselection of an asynchronous card does not affect its               but somewhat higher current when the pin voltage reaches
CLK pin. Its clock can be started, stopped or its divider             1V. This helps maintain low power dissipation when a card
ratio changed at any time.                                            is present and yet fast response time to a card removal.
To clean up the duty cycle of the incoming clock in asyn‑             Activation/Deactivation
chronous applications, any of the clock divider modes ÷2,
÷4 or ÷8 will yield a very nearly 50% duty cycle.                     For maximum flexibility, the activation sequencing of the
                                                                      smart card is left to the application programmer. However,
                                                                      deactivation can be achieved either manually or automati‑
                                                                      cally. An electrical fault condition will trigger the automatic
                                                                      deactivation.
                                                                                                                                 4556fb
                                               For more information www.linear.com/LTC4556                                    11


LTC4556
Operation
The built-in deactivation sequence can be executed via the            VCC overcurrent faults are detected by comparing the output
serial port simply by setting the control bits D0 and D1              current of the LDOs with an internal reference level. If the
to 0. The deactivation sequence is outlined below.                    current of the LDO is more than 110mA (typ) for the entire
                                                                      timeout period, the fault is reported and the deactivation
1. The RST pin is immediately brought low.
                                                                      sequence is initiated.
2. The deactivation of the CLK pin depends upon which
                                                                      CLK and RST faults are detected by comparing the outputs
    type of card is used:
                                                                      of these pins with their expected signals. If the signal on
    If the smart card was set to asynchronous mode then               a pin is incorrect for the entire timeout period, the fault is
    the CLK pin will be latched low on its next falling edge.         reported and the deactivation sequence is initiated.
    If no falling edges occur within 5µs (min) then the CLK
                                                                      The clock channel is a special case. Since it can have a free
    line is forced low.
                                                                      running clock, the error indication is accumulated over a
    If the smart card was set to synchronous mode then                longer period of time without being cleared. Even though
    the CLK pin is immediately latched at its current value           the clock may be running, an error will still be detected.
    (either high or low) and then forced low after a duration
                                                                      An overtemperature fault is detected by sensing the
    of 5µs (min). During the 5µs timeout period, changes
                                                                      junction temperature of the IC. If the junction tempera‑
    on SYNC will be ignored.
                                                                      ture exceeds approximately 150°C for the entire timeout
3. The I/O, C4 and C8 pins are brought low.                           period, the fault is reported by setting the fault bit (D4)
4. The VCC pin is brought low.                                        and the deactivation sequence is initiated.
Upon activation, to comply with relevant smart card stan‑             A card removal fault is determined as soon as the PRES
dards, none of the smart card signal pins will be allowed             pin is high. Once this occurs the fault is reported and the
to go high before the smart card supply voltage (VCC) has             deactivation sequence is initiated.
reached its final value.                                              If no card is present, and the application software attempts
                                                                      to power up a card socket, an automatic fault will result.
Electrical Fault Detection
                                                                      Short circuits on the I/O line will not be detected by the
Several types of faults are detected by the LTC4556. They             fault detection hardware; however, a short circuit from I/O
include VCC undervoltage, VCC overcurrent, CLK, RST, C8,              to VCC will be compliant with the maximum current limits
C4 short circuit, card removal during a transaction, failed           set by applicable standards (<15mA). The same is true of
answer to reset (ATR), supply undervoltage or UNDERV                  the CLK pin when it is set to bidirectional mode.
and chip overtemperature. To prevent false errors from
plaguing the microcontroller, the electrical faults are acted         Answer to Reset (ATR) Fault Detection
upon only after a 5µs (min) timeout period. Card removal
                                                                      Answer to Reset faults are detected by an internal counter
during transaction faults initiate the deactivation sequence
                                                                      that is started once the RST line goes high. If the DATA
immediately.
                                                                      pin remains high for 40,000 clock cycles, the ATR fault
VCC undervoltage faults are determined by comparing the               bit is set in the serial port’s status register (see Table 1).
actual output voltage with the internal reference voltage.
If the output is more than ~5% below its set point for                An ATR fault can not occur if the clock mode is set to
the entire timeout period, the fault is reported and the              synchronous. ATR faults will only occur for asynchronous
deactivation sequence is initiated.                                   smart cards.
                                                                                                                               4556fb
12                                            For more information www.linear.com/LTC4556


                                                                                                              LTC4556
Operation
ATR faults are cleared by bringing the RST pin low via RIN.         Using the FAULT Pin
An ATR fault will not automatically deactivate the smart            The FAULT pin can be used as an interrupt to a microcon‑
card. It is the application programmer’s responsibility to          troller. It is an open-drain output and generally requires a
check the status register for ATR faults and deactivate             pull-up resistor. The FAULT pin will go low when an elec‑
the smart card in accordance with smart card standards.             trical fault occurs. The FAULT pin is logically equivalent
Generally, the application has 50ms (EMV 2.1.3.1, 2.1.3.2)          to D4 (see Table 1).
from the 40,000th clock pulse to deactivate the card. Once
the LTC4556 receives the deactivation command, it will
shut down the smart card in less than 250µs.
                                                                                                                            4556fb
                                            For more information www.linear.com/LTC4556                                 13


LTC4556
Applications Information
10kV ESD Protection                                                  nature of multilayer ceramic chip capacitors will minimize
All smart card pins (CLK, RST, I/O, C4, C8 and VCC) can              voltage spikes but only if the power path is kept very
withstand over 10kV of human body model ESD in-situ.                 short (i.e., minimum inductance). The VBATT node should
                                                                     be especially well bypassed. The capacitor for this node
In order to ensure proper ESD protection, careful board
                                                                     should be directly adjacent to the QFN package. The CPO
layout is required. The GND pin should be tied directly
to a ground plane. The multilayer ceramic chip VCC capaci‑           and flying capacitors should be very close as well. The
tor should be located very close to the VCC pin and tied             LTC4556 can tolerate more distance between the LDO
immediately to the ground plane.                                     capacitor and the VCC pin.
                                                                     Figure 4 shows an example of a tight printed circuit board
Capacitor Selection                                                  layout using single layer copper. For best performance a
Warning: A polarized capacitor such as tantalum or alumi-            multilayer board can be used and should employ a solid
num should never be used for the flying capacitor since              ground plane on at least one layer.
its voltage can reverse upon start up of the LTC4556.                The following capacitors are recommended for use with
Low ESR ceramic capacitors should always be used for                 the LTC4556:
the flying capacitor.
                                                                                     TYPE     VALUE     CASE SIZE MURATA P/N
A total of four capacitors are required to operate the               BATT, CPO,       X5R       1µF         0603  GRM39 X5R 105K 6.3
LTC4556. An input bypass capacitor is required at VBATT              CFLY, VCC
and DVCC. An output bypass capacitor is required on the              CDVCC            X5R      0.1µF        0402  GRM36 X5R 104K 10
smart card VCC pin. A charge pump flying capacitor is
required from C + to C– and a charge storage capacitor is
required on the charge pump out pin CPO.
To prevent excessive noise spikes due to charge pump
operation, low ESR (equivalent series resistance) multi-
layer ceramic chip capacitors are strongly recommended.
There are several types of ceramic capacitors available each
having considerably different characteristics. For example,                                                          VCC
X7R/X5R ceramic capacitors have excellent voltage and
temperature stability but relatively low packing density.
Y5V ceramic capacitors have apparently higher packing
density but poor performance over their rated voltage or
temperature ranges. Under certain voltage and temperature
conditions Y5V and X7R/X5R ceramic capacitors can be
compared directly by case size rather than specified value                                                    CPO
for a desired minimum capacitance.
                                                                                                      VBATT
Placement of the capacitors is critical for correct opera‑
tion of the LTC4556. Because the charge pump generates                                              GND
                                                                                                                    4556 F04
large current steps, all of the capacitors should be placed
as close to the LTC4556 as possible. The low impedance                            Figure 4. Optimum Single Layer PCB Layout
                                                                                                                                  4556fb
14                                           For more information www.linear.com/LTC4556


                                                                                                                 LTC4556
Applications Information
Interfacing to a Microcontroller                                       Daisy-Chained Operation
The serial port of the LTC4556 can be connected directly               For applications requiring more than one card socket, the
to a 68HC11 style microcontroller’s serial port. The mi‑               serial port of the LTC4556 is designed to be easily daisy-
crocontroller should be configured as the master device                chained. The DOUT pin of one LTC4556 can be connected
and its clock’s idle state should be set to high (MSTR = 1,            directly to the DIN pin of another LTC4556 or LTC1955.
CPOL = 1 and CPHA = 0 for the MC68HC11 family). Figure 5               Rather than sending one 8-bit byte before asserting LD,
shows the recommended configuration and direction of                   the microcontroller should send one 8-bit byte per device.
data flow. Note that an additional I/O line is necessary for           LD should only be asserted after all devices have been up‑
LD to load the data once it has shifted around the loop.               dated. Figure 7 shows an LTC4556 cascaded in daisy chain
Command data is latched into the command register on                   fashion with two LTC1955s. In this case the microcontroller
the falling edge of the LD signal. The LTC4556 will begin              would write five 8-bit bytes before asserting the LD pin.
to act on new command data as soon as LD goes low. Any
general purpose microcontroller I/O line can be configured
to control the LD pin.
The status of the LTC4556 is returned over the serial port.
Status data is latched into the shift register on the rising
edge of the LD pin. Whenever the system is waiting for
status data from the LTC4556, its LD pin should be held low.
                                   µCONTROLLER                   LTC4556
                                           MOSI              DIN
                                           MISO              DOUT
                                                                                           CARD
                                            SCK              SCLK
                                             I/O             LD
                                                                                                4556 F05
                                                 Figure 5. Microcontroller Interface
                                                                                                                             4556fb
                                               For more information www.linear.com/LTC4556                                15


LTC4556
Applications Information
Asynchronous Card Detection                                            Since the output voltage is programmed to 5V, the charge
                                                                       pump will be acting as a voltage doubler. With the card
Since the shift register is transparent when LD is held
                                                                       drawing 60mA, the input current will be 2 • (60mA)
low, DOUT is the same as D7. Recall from Table 1 that D7
                                                                       or about 120mA. Allowing the VBATT supply to droop
indicates the status of the card detection channel. Thus it
                                                                       from 3.1V to 2.7V during the 30us timeout period
is not necessary to perform an entire read/write operation
                                                                       the input capacitance would need to be at least
to determine the card detection status. With LD low, DOUT
can be used to generate a real time card detection interrupt.          120mA/[(3.1V – 2.7V)/30µs] or 9µF.
Using the UNDERV Pin                                                   Zero Shutdown Current
The UNDERV pin can be used to add protection against a                 Although the LTC4556 is designed to have very low shut‑
                                                                       down current it can still draw over a microampere on both
supply undervoltage fault. By using two external program‑
                                                                       DVCC and VBATT when in shutdown. For applications that
ming resistors, the undervoltage detection can be set to
                                                                       require virtually zero shutdown current, the DVCC pin can
an arbitrary level (Figure 8). To ensure that the smart card
                                                                       be grounded. This will reduce the VBATT current to well
is properly shut down, there must be sufficient energy
                                                                       under a single microampere. Internal logic ensures that
available in the input bypass capacitor to run it until the
                                                                       the LTC4556 is in shutdown when DVCC is grounded. Note,
deactivation cycle begins. It can take approximately 30µs
                                                                       however, that all of the logic signals that are referenced to
from the detection of a fault until the deactivation sequence
                                                                       DVCC (DIN, SCLK, LD, DATA, RIN, SYNC and ASYNC) will
begins. It is desirable to maintain the VBATT supply at 2.7V
                                                                       have to be at 0V as well to prevent ESD diodes to DVCC
or greater during this period.
                                                                       from being forward biased.
Consider the following (worst-case) example:
                                                                       Operation at Higher Supplies
1) The UNDERV pin is programmed to trip below 3.1V.
                                                                       If a 5.5V to 6V supply voltage is available, it is possible
2) It is possible to have the card activated at 5V and draw‑
ing 60mA.                                                              to achieve some power savings by overriding the charge
                                                                       pump. The higher supply can be connected directly to the
                                                                       CPO pin. As long as the voltage on CPO is higher than that
                                                                       at which it ordinarily regulates (5.35V or 3.7V depending
                                                                       on voltage selections) the charge pump’s oscillator will
                                                                       not run. This configuration can give considerable power
                                                                       savings since the charge pump is not being used.
                                                                                                                                4556fb
16                                             For more information www.linear.com/LTC4556


                                                                                                                  LTC4556
Applications Information
A voltage source is still needed on both DVCC and VBATT in                 VCPO ≥ 2VBATT –(ICC )ROLCP
this configuration. Recall that DVCC sets the logic reference
level for all the control and smart card communication                 The LDO has been designed to meet all applicable smart
pins. The voltage on VBATT can be any convenient level that            card standards for VCC with VCPO as low as 5.13V. Given
meets the parameters in the Electrical Characteristics table.          this information, trade-offs can be made by the user with
The 5.5V to 6V supply can be left permanently connected                regard to total consumption (ICC) and minimum supply
to CPO but there will be approximately 5µA of current flow             voltage.
into CPO when the LTC4556 is in shutdown.
                                                                       Changing the Smart Card Supply Voltage
Charge Pump Strength                                                   Although the LTC4556 control system will allow the smart
Under low VBATT conditions, the amount of current available            card voltage to be changed from one value to the next
to the smart card is limited by the charge pump.                       without an interim power down, this is not recommended.
                                                                       When changing from a higher voltage to a lower voltage
Figure 6 shows how the LTC4556 can be modeled as a                     there will generally not be a problem; however, changing
Thevenin equivalent circuit to determine the amount of                 from a lower voltage to a higher voltage can result in both
current available given the effective input voltage, 2VBATT            an undervoltage condition or an overcurrent condition.
and the effective open-loop output resistance, ROLCP.                  The likely result is that the LTC4556 will automatically
From Figure 6, the available current is given by:                      deactivate. Applicable smart card standards specify that
                                                                       the smart card supply be powered to zero before applying
          2VBATT – VCPO                                                a new voltage.
   ICC ≤
              ROLCP
                                                                       Compliance Testing
ROLCP is dependent on a number of factors including the
switching term, 1/(fOSC • CFLY), internal switch resistances           Inductance due to long leads on type approval equipment
and the nonoverlap period of the switching circuit. How‑               can cause ringing and overshooot that leads to testing
ever, for a given ROLCP, the minimum CPO voltage can be                problems. Small amounts of capacitance and damping
determined from the following expression:                              resistors can be included in the application without compro‑
                                                                       mising the normal electrical performance of the LTC4556
                                                                       or smart card system. Generally a 100Ω resistor and a
                                                                       20pF capacitor will accomplish this as shown in Figure 9.
                                                       ROLCP CPO
                                                   +    2VBATT      LDO            VCC
                                                   –
                                                                                4556 F06
                                             Figure 6. Equivalent Open-Loop Circuit
                                                                                                                               4556fb
                                              For more information www.linear.com/LTC4556                                    17


LTC4556
Applications Information
                                                                1µF
                                               1µF           9        11              19
                                                    10     C–       C+             PRES
                                                       VBATT
        INPUT                                        8
                                                       GND                                        SMART CARD
       POWER                                         1
                                                       DVCC
                                                    20
                                                       UNDERV
                                                     6
        FAULT                                          FAULT
                                                    21                LTC4556
                                                       DIN
       4-WIRE                                       22
                                                       DOUT
    COMMAND                                         23
                                                       SCLK
    INTERFACE                                       24
                                                       LD
                                                     2                                   12
                                                       DATA                          CPO
       4-WIRE                                        3
                                                       RIN                                  1µF
         CARD                                        4
    INTERFACE                                          SYNC
                                                     5
                                                       ASYNC
                                                                1µF
                                               4.7µF         11       14       21     2
                                                12, 13     C–       C+     PRES B PRES A
                                                       VBATT
                                                 9, 10
                                                       GND                                        VENDOR CARD
                                                     1
                                                       DVCC
                                                    23
                                                       UNDERV
                                                    24
                                                       FAULT                                      VENDOR CARD
                                                    27                LTC1955
                                                       DIN
                                                    28
                                                       DOUT
                                                    26
                                                       SCLK
                                                    25
                                                       LD
                                                    29                                   15
                                                       DATA                          CPO
                                                    30
                                                       RIN                                  4.7µF
                                                    32
                                                       SYNC
                                                    31
                                                       ASYNC
                                                                1µF
                                               4.7µF         11       14       21     2
                                                12, 13     C–       C+     PRES B PRES A
                                                       VBATT
                                                 9, 10
                                                       GND                                        VENDOR CARD
                                                     1
                                                       DVCC
                                                    23
                                                       UNDERV
                                                    24
                                                       FAULT                                      VENDOR CARD
                                                    27                LTC1955
                                                       DIN
                                                    28
                                                       DOUT
                                                    26
                                                       SCLK
                                                    25
                                                       LD
                                                    29                                   15
                                                       DATA                          CPO
                                                    30
                                                       RIN                                  4.7µF
                                                    32
                                                       SYNC
                                                    31
                                                       ASYNC
                                                                                                           4556 F07
                Figure 7. An LTC4556 and Two LTC1955s Daisy Chained Together
                                                                                                                    4556fb
18                           For more information www.linear.com/LTC4556


                                                                                                       LTC4556
Applications Information
                                                              MAIN SUPPLY
                                                              VTRIP = 1.23V (1 + R1/R2)
                                                         R1
                                                20
                                       UNDERV
                                 LTC4556                 R2
                                                                                 4556 F08
                           Figure 8. Setting the Undervoltage Trip Point
                                   100Ω
                            I/O                                                    C7
                                   100Ω                             20pF                   SMART
                           CLK                                                     C3       CARD
                   LTC4556         100Ω                     20pF                          SOCKET
                           RST                                                     C2
                                                    20pF
                           VCC                                                     C1
                                        1µF          0.1µF                                C5
                                                                                              4556 F09
                Fiugre 9. Additional Components for Improved Compliance Testing
                                                                                                            4556fb
                                For more information www.linear.com/LTC4556                                19


LTC4556
Package Description
Please refer to http://www.linear.com/designtools/packaging/ for the most recent package drawings.
                                                                           UF Package
                                                          24-Lead Plastic QFN (4mm × 4mm)
                                                         (Reference LTC DWG # 05-08-1697 Rev B)
                                                                  0.70 ±0.05
4.50 ±0.05        2.45 ±0.05
       3.10 ±0.05 (4 SIDES)
                                                                      PACKAGE OUTLINE
                                                               0.25 ±0.05
                                                             0.50 BSC
                       RECOMMENDED SOLDER PAD PITCH AND DIMENSIONS
                                                                                                         BOTTOM VIEW—EXPOSED PAD
                                                                                                                                                PIN 1 NOTCH
                                                                                                                                                R = 0.20 TYP OR
                                            4.00 ±0.10                    0.75 ±0.05                    R = 0.115                               0.35 × 45° CHAMFER
                                             (4 SIDES)                                                        TYP
                                                                                                                      23 24
                                      PIN 1                                                                                           0.40 ±0.10
                                      TOP MARK
                                      (NOTE 6)                                                                                      1
                                                                                                                                    2
                                                                                         2.45 ±0.10
                                                                                         (4-SIDES)
                                                                                                                                    (UF24) QFN 0105 REV B
                                                                                       0.200 REF                                 0.25 ±0.05
                                                                                       0.00 – 0.05                             0.50 BSC
                             NOTE:
                             1. DRAWING PROPOSED TO BE MADE A JEDEC PACKAGE OUTLINE MO-220 VARIATION (WGGD-X)—TO BE APPROVED
                             2. DRAWING NOT TO SCALE
                             3. ALL DIMENSIONS ARE IN MILLIMETERS
                             4. DIMENSIONS OF EXPOSED PAD ON BOTTOM OF PACKAGE DO NOT INCLUDE
                                MOLD FLASH. MOLD FLASH, IF PRESENT, SHALL NOT EXCEED 0.15mm ON ANY SIDE, IF PRESENT
                             5. EXPOSED PAD SHALL BE SOLDER PLATED
                             6. SHADED AREA IS ONLY A REFERENCE FOR PIN 1 LOCATION
                                ON THE TOP AND BOTTOM OF PACKAGE
                                                                                                                                                              4556fb
20                                                        For more information www.linear.com/LTC4556


                                                                                                                                            LTC4556
Revision History
REV DATE  DESCRIPTION                                                                                                                         PAGE NUMBER
 A  11/13 Remove tLW spec from Serial Port Timing                                                                                                   4
          Revised Serial Port Timing section and diagram                                                                                            9
 B  2/14  Added tLFC parameter to Serial Port Timing electrical parameters.                                                                         4
          Modified Figure 2.                                                                                                                        9
                                                                                                                                                      4556fb
                                                                                                                                                   21
                             Information furnished by Linear Technology Corporation is believed to be accurate and reliable.
                             However, no responsibility is assumed for its use. Linear Technology Corporation makes no representa‑
                                                     For more
                             tion that the interconnection         information
                                                           of its circuits         www.linear.com/LTC4556
                                                                           as described herein will not infringe on existing patent rights.


LTC4556
Typical Application
                                                              Battery-Powered RS232 to Smart Card Interface
                            0.1µF
                                                                                                                  FAULT
                                                               0.1µF                                                                      180k      262k               +
                                                                               47k              RESET         47k             0.1µF                          4.7µF
                                                                                                                                                                            Li-ION
                      16     17     4                      21    45   19      37                                                     1            20        10
                                                                                                                      1k
                   RXEN DREN     VCC                   MOD B VDD VRH XIRQ                     4       5      3                    DVCC        UNDERV     VBATT
                                                                                             VCC18 VCC3 VCCA
                                                                                        36 1
                                                                                  RST        RST                          6
                                                                                                                            FAULT
                                                                                               LTC1728ES5-1.8
                                                                                                    GND
                     LTC1348CG                               MC68L11E9PB2                                                               LTC4556EUF
  DB9                                                                                                 2                                                          18                   C8
                                                                                                                                                            C8
                                                                                                                                                                 17                   C4
                                                                                                                                                            C4
    RD 2    7                           25       40                                     38                                                                       16                   C7
               DR1OUT           DR1IN               PD1 (TXD)                     IRQ                                                                       I/O
    TD 3    8                           24       39                                     42                               21                                      15                   C2 SMART CARD
               RX1IN           RX1OUT               PD0 (RXD)            (MOSI) PD3                                         DIN                            RST
                                                                                        41                               22                                      14                   C3
                                                                         (MISO) PD2                                         DOUT                           CLK
  GND                                                                                   43                               23                                      13                   C1
                                                                          (SCK) PD4                                         SCLK                           VCC
      5                                                                                 44                               24
                                                                             (SS) PD5                                       LD                                          1µF        0.1µF
                                                                                                                                                                                            C5
            5                           27                                                                                                                       19
               C1+                 C3 +                                                                                                                   PRES
  0.1µF                                       0.1µF
            6                           26
               C1 –                C3 –
            2
               C2 +                                                                     24                                5
                                                                             (2MHz) E                                       ASYNC
  0.1µF                                                                                 9                                 3
            3                                                                     PB0                                       RIN
               C2 –                                                                     1                                 2
                                                                            (IC3) PA0                                       DATA
                                                                                        28
                                                                                  PC0
                                                                                        46                                4
                                                                                  PA7                                       SYNC
                                                                                        29
                                                                                  PC1
                V+      V–        GND                VRL VSS MODA EXTAL         XTAL                                         C–     C+  CPO      GND
                  1      28          15                 18  20   22      26        27                                          9     11   12       8
         0.1µF              0.1µF                                                                                                            1µF
                                                                          10M
                                                                                    8.000MHz                                    1µF
                                                                27pF                  27pF
                                                                                                                                                                                            4556 TA02
Related Parts
PART NUMBER                           DESCRIPTION                                                                           COMMENTS
LTC1555L/LTC1555L-1.8                 1MHz, SIM Power Supply and Level Translator                                           VIN: 2.6V to 6.6V, VOUT = 1.8V/3V/5V, IQ = 32µA,
                                      for 1.8V/3V/5V SIM Cards                                                              ISD < 1µA, SSOP16
LTC1555/LTC1556                       650kHz, SIM Power Supply and Level Translator                                         VIN: 2.7V to 10V, VOUT = 3V/5V, IQ = 60µA, ISD < 1µA,
                                      for 3V/5V SIM Cards                                                                   SSOP16, SSOP20
LTC1755/LTC1756                       850kHz, Smart Card Interface with Serial Control for 3V/5V                            VIN: 2.7V to 7V, VOUT = 3V/5V, IQ = 60µA, ISD < 1µA,
                                      Smart Card Applications                                                               SSOP16, SSOP24
LTC1955                               Dual Smart Card Interface with Serial Control for 1.8V/3V/5V                          VIN: 3V to 5.5V, VOUT = 1.8V/3V/5V, IQ = 200µA,
                                      Smart Card Applications                                                               ISD < 1µA, QFN32
LTC1986                               900kHz, SIM Power Supply for 3V/5V SIM Cards                                          VIN: 2.6V to 4.4V, VOUT = 3V/5V, IQ = 14µA, ISD < 1µA,
                                                                                                                            ThinSOT™
LTC4555                               SIM Power Supply and Level Translator                                                 VIN: 3V to 6V, VOUT = 1.8V/3V, IQ = 40µA, ISD < 1µA,
                                      for 1.8V/3V SIM Cards                                                                 QFN16
LTC4557                               Dual SIM/Smart Card Power Supply and Level Translator                                 VIN: 2.7V to 5.5V, VOUT = 1.8V/3V, IQ = 250µA, ISD < 1µA,
                                      for 1.8V/3V Cards                                                                     QFN16
                                                                                                                                                                                              4556fb
              Linear Technology Corporation
22
                                                                                                                                                                 LT/TP 0214 REV B • PRINTED IN USA
              1630 McCarthy Blvd., Milpitas, CA 95035-7417           For more information www.linear.com/LTC4556
              (408) 432-1900 ● FAX: (408) 434-0507         ●  www.linear.com/LTC4556                                                                   LINEAR TECHNOLOGY CORPORATION 2003


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 LTC4556EUF#PBF LTC4556EUF#TR LTC4556EUF#TRPBF LTC4556EUF
