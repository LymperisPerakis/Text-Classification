                                                                                                                    LTC1663
                                                                                                          10-Bit Rail-to-Rail
                                                                                                   Micropower DAC with
                                                                                                           2-Wire Interface
FEATURES                                                                                       DESCRIPTION
n   Micropower 10-Bit DAC in SOT-23                                                            The LTC®1663 is a 10-bit voltage output DAC with true
n   Low Operating Current: 60μA                                                                buffered rail-to-rail output voltage capability. It operates
n   Ultralow Power Shutdown Mode: 10μA                                                         from a single supply with a range of 2.7V to 5.5V. The
n   2-Wire Serial Interface Compatible                                                         reference for the DAC is selectable between the supply
    with SMBus                                                                                 voltage or an internal bandgap reference. Selecting the
n   Selectable Internal Reference or Ratiometric to                                            internal bandgap reference will set the full-scale output
    VCC                                                                                        voltage range to 2.5V. Selecting the supply as the reference
n   Maximum DNL Error: 0.75LSB                                                                 sets the output voltage range to the supply voltage.
n   8 User Selectable Addresses (MSOP Package)                                                 The part features a simple 2-wire serial interface compat-
n   Single 2.7V to 5.5V Operation
n
                                                                                               ible with SMBus that allows communication between many
    Buffered True Rail-to-Rail Voltage Output
n
                                                                                               devices. The internal data registers are double buffered to
    Power-On Reset
n
                                                                                               allow for simultaneous update of several devices at once.
    0.6V VIL and 1.4V VIH for SDA and SCL
n
                                                                                               The DAC can be put in low current power-down mode for
    Small 5-Lead SOT-23 and 8-Lead MSOP Packages
                                                                                               use in power conscious systems.
APPLICATIONS                                                                                   Power-on reset ensures the DAC output is at 0V when
                                                                                               power is initially applied, and all internal registers are
n   Digital Calibration                                                                        cleared.
n   Offset/Gain Adjustment
n   Industrial Process Control                                                                 For I2C designs, please refer to the LTC1669.
n   Automatic Test Equipment                                                                   L, LT, LTC and LTM are registered trademarks of Linear Technology Corporation. All other
                                                                                               trademarks are the property of their respective owners.
n   Arbitrary Function Generators
n   Battery-Powered Data Conversion Products
BLOCK DIAGRAM
                                                                       4 (5)
                                                                       VCC                                                                   Differential Nonlinearity (DNL)
                                                         BANDGAP
                                                1.25V                                                                                       1.0
                                                        REFERENCE
                                                                                                                                                      VREF = VCC = 5V
                                                                                                                                            0.8       TA = 25°C
                                                           REFERENCE                                                                        0.6
                                                            SELECT                                                                          0.4
                                                                                                                             ERROR (LSB)
                                                                                                                                            0.2
                                                                                                                                             0
                                   10-BIT
                                 DAC LATCH
                                                                                   +                                                       –0.2
                                                                                           VOUT 3 (8)
                                                                                                                                           –0.4
                                                                                   –                                                       –0.6
                                                                                       R                                                   –0.8
   MSOP            COMMAND         INPUT
PACKAGE              LATCH         LATCH                                                                                                   –1.0
   ONLY                                                                        R                                                                  0     28   156 384 512 640 768 896 1024
                                                                                                                                                                     CODE
    (6) AD0
                                                                                                                                                                                  1663 TA01
    (2) AD1
                       2-WIRE INTERFACE
    (3) AD2
                         SDA              SCL                                  GND
                         1 (1)            5 (4)                                2 (7)        1663 BD
          NOTE: PIN NUMBERS IN PARENTHESES REFER TO THE MSOP PACKAGE
                                                                                                                                                                                              1663fd
                                                                                                                                                                                              1


LTC1663
ABSOLUTE MAXIMUM RATINGS                                                     (Note 1)
VCC to GND .............................................. – 0.3V to 7.5V          Operating Temperature Range
SDA, SCL ................................................. –0.3V to 7.5V              LTC1663C ............................................... 0°C to 70°C
AD0, AD1, AD2 (MSOP Only) ........–0.3V to (VCC + 0.3V)                               LTC1663I............................................. –40°C to 85°C
VOUT .............................................–0.3V to (VCC + 0.3V)               LTC1663E (Note 8).............................. –40°C to 85°C
Storage Temperature Range.................. –65°C to 150°C                        Lead Temperature (Soldering, 10 sec) ................. 300°C
PACKAGE/ORDER INFORMATION
                                                        ORDER PART                                                                     ORDER PART
                                                           NUMBER                                                                         NUMBER
                                                                                                     TOP VIEW
                     TOP VIEW
          SDA  1                    8 VOUT
                                                      LTC1663CMS8                         SDA 1                     5 SCL
                                                                                                                                    LTC1663CS5
          AD1  2                    7 GND             LTC1663IMS8                         GND 2
                                                                                                                                    LTC1663-1CS5
          AD2  3                    6 AD0
          SCL  4                    5 VCC
                                                      LTC1663-8CMS8                      VOUT 3                     4 VCC
                                                                                                                                    LTC1663-2CS5
                   MS8 PACKAGE
                                                      LTC1663-8IMS8                                                                 LTC1663ES5
                                                                                                   S5 PACKAGE
              8-LEAD PLASTIC MSOP
                                                                                             5-LEAD PLASTIC SOT-23
            TJMAX = 125°C, θJA = 150°C/W            MS8 PART MARKING                       TJMAX = 125°C, θJA = 250°C/W          S5 PART MARKING*
                                                      LTEQ           LTA6                                                            LTEP            LTSB
                                                      LTJJ           LTA7                                                           LTSA             LTEP
 Order Options Tape and Reel: Add #TR
 Lead Free: Add #PBF Lead Free Tape and Reel: Add #TRPBF
 Lead Free Part Marking: http://www.linear.com/leadfree/
Consult LTC Marketing for parts speciﬁed with wider operating temperature ranges. *The temperature grade is identiﬁed by a label on the shipping container.
ELECTRICAL CHARACTERISTICS                                          The ● denotes speciﬁcations which apply over the full operating temperature
range, otherwise speciﬁcations are at TA = 25°C. VCC = 2.7V to 5.5V, VCC set as reference, VOUT unloaded, unless otherwise noted.
SYMBOL        PARAMETER                                    CONDITIONS                                                     MIN       TYP        MAX      UNITS
DAC
              Resolution                                                                                           l      10                               Bits
              Monotonicity                                 (Note 2)                                                l      10                               Bits
DNL           Differential Nonlinearity                    Guaranteed Monotonic (Note 2)                           l                ± 0.2     ±0.75       LSB
INL           Integral Nonlinearity                        (Note 2)                                                l                ±0.5       ± 2.5      LSB
                                                           LTC1663E (Note 2)                                       l                ±0.5        ±3        LSB
VOS           Offset Error                                 Measured at Code 20                                     l                ±10        ±30         mV
                                                           Measured at Code 20 (LTC1663E)                          l                ±10        ±35         mV
VOSTC         Offset Error Temperature Coefﬁcient                                                                                   ±15                 μV/°C
FSE           Full-Scale Error                             Reference Set to VCC                                    l                 ±3        ±15        LSB
                                                           Reference Set to Internal Bandgap                       l                 ±3        ±15        LSB
                                                           Reference Set to VCC (LTC1663E)                         l                           ±20        LSB
                                                           Reference Set to Internal Bandgap (LTC1663E)            l                           ±20        LSB
VOUT          DAC Output Span                              Reference Set to VCC                                                   0 to VCC                    V
                                                           Reference Set to Internal Bandgap                                      0 to 2.5                    V
VFSTC         Full-Scale Voltage Temperature               Reference Set to VCC                                                     ±30                 μV/°C
              Coefﬁcient                                   Reference Set to Internal Bandgap                                        ±50                 μV/°C
PSRR          Power Supply Rejection Ratio                 Reference Set to Internal Bandgap,                                       ±0.4                LSB/V
                                                           Code = 1023
                                                                                                                                                         1663fd
2


                                                                                                                             LTC1663
ELECTRICAL CHARACTERISTICS                                          The ● denotes speciﬁcations which apply over the full operating temperature
range, otherwise speciﬁcations are at TA = 25°C. VCC = 2.7V to 5.5V, VCC set as reference, VOUT unloaded, unless otherwise noted.
SYMBOL        PARAMETER                                   CONDITIONS                                           MIN       TYP      MAX     UNITS
VCC           Positive Supply Voltage                                                                    l     2.7                5.5           V
ICC           Supply Current                              VCC = 3V (Note 3)                              l                60      100         μA
                                                          VCC = 5V (Note 3)                              l                75      125         μA
ISD           Supply Current in Shutdown Mode             (Note 3)                                       l                10       16         μA
                                                          LTC1663E (Note 3)                              l                12       24         μA
Op Amp DC Performance
              Short-Circuit Current (Sourcing)            VOUT Shorted to GND, Input Code = 1023         l                25      100        mA
              Short-Circuit Current (Sinking)             VOUT Shorted to VCC, Input Code = 0            l                30      120        mA
              Output Impedance to GND                     Input Code = 0, VCC = 5V                                        65                   Ω
                                                          Input Code = 0, VCC = 3V                                       150                   Ω
                                                          In Shutdown Mode                                               500                  kΩ
              Output Impedance to VCC                     Input Code = 1023, VCC = 5V                                     80                   Ω
                                                          Input Code = 1023, VCC = 3V                                    120                   Ω
AC Performance
              Voltage Output Slew Rate                    Rising (Notes 4, 5)                                            0.75               V/μs
                                                          Falling (Notes 4, 5)                                           0.25               V/μs
              Voltage Output Settling Time                To ± 0.5LSB (Notes 4, 5)                                        30                   μs
              Digital Feedthrough                                                                                        0.75               nV•s
              Digital-to-Analog Glitch Impulse            1LSB Change Around Major Carry                                  70                nV•s
Digital Inputs SCL, SDA
VIH           High Level Input Voltage                                                                   l     1.4                              V
VIL           Low Level Input Voltage                                                                    l                        0.6           V
VLTH          Logic Threshold Voltage                                                                                      1                    V
ILEAK         Digital Input Leakage                       VCC = 5.5V and 0V, VIN = GND to VCC            l                        ±1.0        μA
                                                          VCC = 5.5V and 0V, VIN = GND to VCC (LTC1663E) l                        ±1.2        μA
CIN           Digital Input Capacitance                   (Note 7)                                       l                         10          pF
Digital Output SDA
VOL           Digital Output Low Voltage                  IPULLUP = 350μA                                l                        0.4           V
Address Inputs AD0, AD1, AD2 (MSOP Only)
IUP           Address Pin Pull-Up Current                 VIN = 0V                                       l                0.5      1.5        μA
VIH           High Level Input Voltage                                                                   l   VCC – 0.3                          V
VIL           Low Level Input Voltage                                                                    l                        0.8           V
TIMING CHARACTERISTICS                                       The ● denotes speciﬁcations which apply over the full operating temperature
range, otherwise speciﬁcations are at TA = 25°C. VCC = 2.7V to 5.5V, VCC set as reference, VOUT unloaded, unless otherwise noted.
SYMBOL                  PARAMETER                                                                        MIN        TYP       MAX        UNITS
SMBus Timing Characteristics (Notes 6, 7)
fSMB                    SMBus Operating Frequency                                                   ●     10                  100            kHz
tBUF                    Bus Free Time Between Stop and Start Condition                              ●    4.7                                   μs
tHD, STA                Hold Time After (Repeated) Start Condition                                  ●    4.0                                   μs
tSU, STA                Repeated Start Condition Setup Time                                         ●    4.7                                   μs
tSU, STO                Stop Condition Setup Time                                                   ●    4.0                                   μs
tHD, DAT                Data Hold Time                                                              ●    300                                   ns
                                                                                                                                           1663fd
                                                                                                                                           3


 LTC1663
 TIMING CHARACTERISTICS                             The ● denotes speciﬁcations which apply over the full operating temperature
 range, otherwise speciﬁcations are at TA = 25°C. VCC = 2.7V to 5.5V, VCC set as reference, VOUT unloaded, unless otherwise noted.
 SYMBOL                                     PARAMETER                                                                                                                               MIN                TYP            MAX             UNITS
 tSU, DAT                                   Data Setup Time                                                                                                ●                        250                                                      ns
 tLOW                                       Clock Low Period                                                                                               ●                        4.7                                                      μs
 tHIGH                                      Clock High Period                                                                                              ●                        4.0                                50                    μs
 tf                                         Clock, Data Fall Time                                                                                          ●                                                           300                   ns
 tr                                         Clock, Data Rise Time                                                                                          ●                                                          1000                   ns
 Note 1: Stresses beyond those listed under Absolute Maximum Ratings                                                             Note 5: VCC = VREF = 5V. DAC switched between 0.1VFS and 0.9VFS, i.e.,
 may cause permanent damage to the device. Exposure to any Absolute                                                              codes k = 102 and k = 922.
 Maximum Rating condition for extended periods may affect device                                                                 Note 6: All values are referenced to VIH and VIL levels.
 reliability and lifetime.                                                                                                       Note 7: Guaranteed by design and not subject to test.
 Note 2: Nonlinearity and monotonicity are deﬁned from code 20 to code                                                           Note 8: The LTC1663E is guaranteed to meet performance speciﬁcations
 1003 (full scale). See Applications Information.                                                                                from 0°C to 70°C. Speciﬁcations over the –40°C to 85°C operating
 Note 3: Digital inputs at 0V or VCC.                                                                                            temperature range are assured by design, characterization and correlation
 Note 4: Load is 10kΩ in parallel with 100pF.                                                                                    with statistical process controls.
 TYPICAL PERFORMANCE CHARACTERISTICS
                                                                                                                                                                                           Source and Sink Current
                           Integral Nonlinearity (INL)                                                  Differential Nonlinearity (DNL)                                                    Capability with VCC = 5V
                     1.0                                                                          1.0                                                                               5.0
                               VREF = VCC = 5V                                                              VREF = VCC = 5V                                                                                                      TA = 25°C
                     0.8       TA = 25°C                                                          0.8                                                                               4.5
                                                                                                            TA = 25°C
                                                                                                                                                                                                         DAC CODE = 1023
                     0.6                                                                          0.6                                                                               4.0
                                                                                                                                                               OUTPUT VOLTAGE (V)
                     0.4                                                                          0.4                                                                               3.5
      ERROR (LSB)                                                                  ERROR (LSB)
                     0.2                                                                          0.2                                                                               3.0
                      0                                                                            0                                                                                2.5
                    –0.2                                                                         –0.2                                                                               2.0
                    –0.4                                                                         –0.4                                                                               1.5
                    –0.6                                                                         –0.6                                                                               1.0
                                                                                                                                                                                                             DAC CODE = 0
                    –0.8                                                                         –0.8                                                                               0.5
                    –1.0                                                                         –1.0                                                                                 0
                           0     28   156 384 512 640 768 896 1024                                      0     28   156 384 512 640 768 896 1024                                            0    1 2 3 4 5 6 7 8 9 10
                                              CODE                                                                         CODE                                                                 OUTPUT CURRENT SOURCE/SINK (mA)
                                                                    1663 G01                                                                    1663 G02                                                                              1663 G03
                           Large-Signal Step Response                                                   Midscale Glitch                                                                    Load Regulation vs Output Current
                                                                                                                                                                                     1.0
        5                                                                                                                                                                                      VCC = VREF = 5V
   SDA                                                                                 5V                                                                                            0.8       VOUT = 2.5V
(VOLTS) 0                                                                           SDA                                                                                                        CODE = 512
                                                                                                                                                                                     0.6
                                                                                       0V                                                                                                      TA = 25°C
                      5                                                                                               CODE = 512 TO 511                                              0.4
                                                   CODE = 990
                                                                                                                                                                     ΔVOUT (LSB)
                      4                                                                                                                                                              0.2
                                                     VCC = 5V                                                                                                                         0
        3
   VOUT                                              RL = 4.7k
                                                     CL = 100pF                                                                                                                     –0.2
(VOLTS) 2                                                                         VOUT                                                                                                                SOURCE                   SINK
                                                     TA = 25°C                 10mV/DIV                                                                                             –0.4
                      1                                                                                                                   VCC = 5V
                                                      CODE = 32                                                                           RL = 4.7k                                 –0.6
                      0                                                                                                                   CL = 100pF
                                                                                                                                                                                    –0.8
                                                                                                                                          TA = 25°C
                                                                                                                                                                                    –1.0
                                                 5μs/DIV            1663 G04
                                                                                                                              2μs/DIV           1663 G05
                                                                                                                                                                                           –4    –3     –2     –1 0        1    2     3          4
                                                                                                                                                                                                                 IOUT (mA)
                                                                                                                                                                                                                                          1663fd
                                                                                                                                                                                                                                      1663 G06
 4


                                                                                                                                                                                     LTC1663
TYPICAL PERFORMANCE CHARACTERISTICS
                                                                                                 Offset Error Voltage vs                                             Full-Scale Output Voltage vs
                      Load Regulation vs Output Current                                          Temperature                                                         Temperature
                1.0                                                                          5                                                               2.510
                       VCC = VREF = 3V
                0.8                                                                          4                                                               2.508     REFERENCE SET TO
                       VOUT = 1.5V
                                                                                                                                                                       INTERNAL BANDGAP
                       CODE = 512
                                                                OFFSET ERROR VOLTAGE (mV)
                0.6                                                                          3                                                               2.506
                       TA = 25°C
                                                                                                                                        OUTPUT VOLTAGE (V)
                0.4                                                                          2                                                               2.504
 ΔVOUT (LSB)
                0.2                                                                          1                                                               2.502
                 0                                                                           0                                                               2.500
               –0.2                                                                         –1                                                               2.498
                            SOURCE           SINK
               –0.4                                                                         –2                                                               2.496
               –0.6                                                                         –3                                                               2.494
               –0.8                                                                         –4                                                               2.492
           –1.0                                                                             –5                                                               2.490
              –1.0 –0.8 –0.6 –0.4 –0.2 0 0.2 0.4 0.6 0.8 1.0                                  –60 –40 –20 0 20 40 60        80    100                             –60 –40 –20 0 20 40 60            80     100
                                    IOUT (mA)                                                            TEMPERATURE (°C)                                                    TEMPERATURE (°C)
                                                     1663 G07                                                                1663 G08                                                                1663 G09
PIN FUNCTIONS
SDA (Pin 1, Pin 1 on SOT-23): Serial Data Bidirectional                                                          SCL (Pin 4, Pin 5 on SOT-23): Serial Clock Input Pin.
Pin. Data is shifted into the SDA pin and acknowledged                                                           Data is shifted into the SDA pin at the rising edges of the
by the SDA pin. High impedance pin while data is shifted                                                         clock. This high impedance pin requires a pull-up resistor
in. Open-drain N-channel output during acknowledgment.                                                           or current source to VCC.
Requires a pull-up resistor or current source to VCC.                                                            VCC (Pin 5, Pin 4 on SOT-23): Power Supply. 2.7V ≤ VCC
AD1 (Pin 2): Slave Address Select Bit 1. Tie this pin to                                                         ≤ 5.5V. Also used as the reference voltage input when the
either VCC or GND to modify the corresponding bit of the                                                         part is programmed to use VCC as the reference.
LTC1663’s slave address.                                                                                         AD0 (Pin 6): Slave Address Select Bit 0. Tie this pin to
AD2 (Pin 3): Slave Address Select Bit 2. Tie this pin to                                                         either VCC or GND to modify the corresponding bit of the
either VCC or GND to modify the corresponding bit of the                                                         LTC1663’s slave address.
LTC1663’s slave address.
                                                                                                                 GND (Pin 7, Pin 2 on SOT-23): System Ground.
                                                                                                                 VOUT (Pin 8, Pin 3 on SOT-23): Voltage Output. Buffered
                                                                                                                 rail-to-rail DAC output.
DEFINITIONS
Differential Nonlinearity (DNL): The difference between                                                          Digital Feedthrough: The glitch that appears at the ana-
the measured change and the ideal 1LSB change for any                                                            log output caused by AC coupling from the digital inputs
two adjacent codes. The DNL error between any two codes                                                          when they change state. The area of the glitch is speciﬁed
is calculated as follows:                                                                                        in (nV)(sec).
         DNL = (ΔVOUT – LSB)/LSB                                                                                 Full-Scale Error (FSE): The deviation of the actual full-scale
Where ΔVOUT is the measured voltage difference between                                                           voltage from ideal. FSE includes the effects of offset and
two adjacent codes.                                                                                              gain errors (see Applications Information).
                                                                                                                                                                                                         1663fd
                                                                                                                                                                                                         5


6
                                                                                                                                                                                                                                                                                                LTC1663
                                                                SDA
                                                                                                                                                                                                                                                                               TIMING DIAGRAM
                                                                                                    tSU, DAT                                        tSU, STA                                           tBUF
                                                                                   tLOW                              tHD, DAT                                  tHD, STA                             tSU, STO
                                                                                                                                                                                                                    1663 TD
                                                                SCL
                                                                tHD, STA                           tHIGH
                                                                                              tr           tf
                                                                         START                                                           REPEATED START                                        STOP              START
                                                                       CONDITION                                                           CONDITION                                         CONDITION         CONDITION
                                                               Typical LTC1663 Input Waveform—Programming DAC Output for Full Scale (AD2 to AD0 Set High)
                                               ADDRESS                                                     COMMAND                                                    LS DATA                                                     MS DATA
                            0    1     0       0   AD2   AD1   AD0    WR           X      X         X      X    X    BG     SD      SY         D7    D6        D5     D4      D3   D2   D1     D0              X    X         X   X    X    X   D9   D8
                    START                                                                                                                                                                                                                                       STOP
             SDA            0     1        0   0    1     1     1      0   ACK     X      X         X       X   X     0         0   0    ACK   1      1         1         1   1    1    1       1   ACK        X    X         X   X    X    X   1    1    ACK
             SCL            1     2        3   4    5     6     7      8    9      1      2         3       4   5     6         7   8     9    1      2         3         4   5    6    7       8    9         1    2         3   4    5    6   7    8     9
                                                                                                                                                                                                                                                                       FULL-SCALE
                                                                                                                                                                                                                                                                       VOLTAGE
             VOUT
                                                                                                                                                                                                                                                                       ZERO-SCALE
                    NOTE: X = DON’T CARE                                                                                                                                                                                                                               VOLTAGE
                                                                                                                                                                                                                                                                            1663 TA02
    1663fd


                                                                                                                                 LTC1663
DEFINITIONS
Integral Nonlinearity (INL): The deviation from a straight                           Resolution (n): Deﬁnes the number of DAC output states
line passing through the endpoints of the DAC transfer                               (2n) that divide the full-scale range. Resolution does not
curve (Endpoint INL). Because the output cannot go                                   imply linearity.
below zero, the linearity is measured between full scale                             Voltage Offset Error (VOS): Nominally, the voltage at the
and the lowest code that guarantees the output will be                               output when the DAC is loaded with all zeros. A single
greater than zero. The INL error at a given input code is                            supply DAC can have a true negative offset, but the output
calculated as follows:
                                                                                     cannot go below zero (see Applications Information).
   INL = [VOUT – VOS – (VFS – VOS)(code/1023)]/LSB
                                                                                     For this reason, single supply DAC offset is measured at
Where VOUT is the output voltage of the DAC measured                                 the lowest code that guarantees the output will be greater
at the given input code.                                                             than zero.
Least Signiﬁcant Bit (LSB): The ideal voltage difference
between two successive codes.
   LSB = VREF/1024
APPLICATIONS INFORMATION
                                                    Write Word Protocol Used by the LTC1663
                            1           7           1    1            8         1           8          1     8       1     1
                            S    Slave Address     Wr    A     Command Byte     A      LSData Byte     A MSData Byte A     P
                                                                                                                       1663 TA03
                          S = Start Condition, Wr = Write Bit = 0, A = Acknowledge, P = Stop Condition
Serial Digital Interface                                                             When the master has ﬁnished communicating with the
The LTC1663 communicates with a host (master) using                                  slave, it issues a STOP condition. A STOP condition is
the standard 2-wire interface. The Timing Diagram shows                              generated by transitioning SDA from low to high while
the timing relationship of the signals on the bus. The two                           SCL is high. The bus is then free for communication with
bus lines, SDA and SCL, must be high when the bus is                                 another SMBus device.
not in use. External pull-up resistors or current sources,
                                                                                     Acknowledge
such as the LTC1694 SMBus Accelerator, are required on
these lines.                                                                         The Acknowledge signal is used for handshaking between
                                                                                     the master and the slave. An Acknowledge (active LOW)
The LTC1663 is a receive-only (slave) device. The master
                                                                                     generated by the slave lets the master know that the latest
can communicate with the LTC1663 using the Quick Com-
                                                                                     byte of information was received. The Acknowledge related
mand, Send Byte or Write Word protocols as explained
                                                                                     clock pulse is generated by the master. The master releases
later.
                                                                                     the SDA line (HIGH) during the Acknowledge clock pulse.
The START and STOP Conditions                                                        The slave-receiver must pull down the SDA line during the
                                                                                     Acknowledge clock pulse so that it remains a stable LOW
When the bus is not in use, both SCL and SDA must be                                 during the HIGH period of this clock pulse.
high. A bus master signals the beginning of a communica-
tion to a slave device by transmitting a START condition.                            Write Word Protocol
A START condition is generated by transitioning SDA
                                                                                     The master initiates communication with the LTC1663 with
from high to low while SCL is high.
                                                                                     a START condition and a 7-bit address followed by the Write
                                                                                                                                            1663fd
                                                                                                                                             7


LTC1663
APPLICATIONS INFORMATION
Bit (Wr) = 0. The LTC1663 acknowledges and the master          Command Byte
delivers the command byte. The LTC1663 acknowledges
                                                                   7       6        5         4        3         2       1         0
and latches the command byte into the command byte
                                                                   X      X         X         X        X        BG      SD        SY
input register. The master then delivers the least signiﬁcant
data byte. Again the LTC1663 acknowledges and the data           SY     1  Allows update on Acknowledge of SYNC Address only
is latched into the least signiﬁcant data byte input register.          0  Update on Stop condition only (Power-On Default)
The master then delivers the most signiﬁcant data byte.          SD     1  Puts the device in power-down mode
The LTC1663 acknowledges once more and latches the                      0  Puts the device in standard operating mode
data into the most signiﬁcant data byte input register.                    (Power-On Default)
Lastly, the master terminates the communication with a           BG     1  Selects the internal bandgap reference
                                                                        0  Selects the supply as the reference (Power-On Default)
STOP condition. On the reception of the STOP condition,
                                                                  X     X  Don’t Care
the LTC1663 transfers the input register information to
output registers and the DAC output is updated.
                                                               The stop condition normally initiates the update of the
Slave Address (MSOP Package Only)                              DAC’s output latches. Simultaneous update of more than
                                                               one DAC or other devices on the bus can be achieved by
The LTC1663 can respond to one of eight 7-bit addresses.
                                                               reissuing new start bit, address, command and data bytes
The ﬁrst 4 bits (MSBs) have been factory programmed to
                                                               before issuing a ﬁnal stop condition (which will update
0100. The ﬁrst 4 bits of the LTC1663-8 have been factory
                                                               all the devices). An alternate way to achieve simultaneous
programmed to 0011. The three address bits, AD2, AD1
                                                               LTC1663 updates is to override the stop condition update
and AD0 are programmed by the user and determine the
                                                               by setting the “SY” bit of the command byte. Setting this
LSBs of the slave address, as shown in the table below:
                                                               bit sets the device to update the DAC output latches only
                                      LTC1663      LTC1663-8   at the reception of a SYNC address quick command. The
    AD2       AD1         AD0         0100 xxx      0011 xxx   actual update occurs on the rising edge of SCL during the
      L         L           L         0100 000      0011 000   Acknowledge. In this way, all devices can update on the
      L         L           H         0100 001      0011 001   reception of the SYNC address quick command instead
      L         H           L         0100 010      0011 010   of the STOP condition.
      L         H           H         0100 011      0011 011   A Shutdown (SD) bit = HIGH will put the device in a low
     H          L           L         0100 100      0011 100   power state but retain all data latch information. Shutdown
     H          L           H         0100 101      0011 101   will occur at the reception of a STOP condition. This way
     H          H           L         0100 110      0011 110   shutdown could be synchronized to other devices. The
     H          H           H         0100 111      0011 111   output impedance of the DAC will go to a high impedance
Slave Address (SOT-23 Package)                                 state (≈ 500kΩ to GND).
The slave address for the SOT-23 package has been              The Bandgap (BG) bit when set to “0” selects the DAC
factory programmed to be “0100 000” (LTC1663),                 supply voltage as its voltage reference. The full-scale
“0100 001” (LTC1663-1) and “0100 010” (LTC1663-2) If           output of the DAC with this setting is equal to the supply
another address is required, please consult the factory.       voltage. When the BG bit is set to “1,” the internal bandgap
                                                               reference (≈1.25V) is selected as the DAC’s reference. The
                                                               full-scale output voltage for this setting is 2.5V.
                                                                                                                                   1663fd
8


                                                                                                                                    LTC1663
APPLICATIONS INFORMATION
Data Bytes                                                                               The SY/CLR bit set high only has meaning when the “SY”
Least Signiﬁcant Data Byte                                                               bit of the command byte was previously set HIGH. On
    7         6            5          4            3         2             1           0 the otherhand, the SY/CLR bit set LOW will always clear
   D7        D6           D5         D4           D3       D2             D1         D0  the part, independent of the state of the “SY” bit in the
                                                                                         command byte.
Most Signiﬁcant Data Byte
    7         6           5          4           3         2               1           0 Input Threshold
    X         X           X          X           X         X              D9         D8
                                                                                         Anticipating the trend toward lower supply voltages,
X = Don’t care
                                                                                         the SMBus is speciﬁed with a VIH of 1.4V and a VIL of
Send Byte Protocol                                                                       0.6V. While some SMBus parts may violate this stringent
                                                                                         SMBus speciﬁcation by allowing a higher VIH value for a
The Send Byte protocol used on the LTC1663 is actually a                                 correspondingly higher input supply voltage, the LTC1663
subset of the Write Word protocol described previously.                                  meets and maintains the constant SMBus input threshold
The Send Byte protocol can only be used to send the                                      speciﬁcation across the entire supply voltage range of
command byte information to the LTC1663.                                                 2.7V to 5.5V. The logic input threshold is designed to be
           1            7          1    1            8          1        1               1V with 50mV of hysteresis.
           S    Slave Address     Wr    A     Command Byte      A       P
         S = Start Condition, Wr = Write Bit, A = Acknowledge, P = Stop Condition
                                                                             1663 TA04
                                                                                         Voltage Output
                                                                                         The output ampliﬁer contained in the LTC1663 can source
The Send Byte protocol is also used whenever the Write
                                                                                         or sink up to 5mA. The output stage swings to within a
Word protocol is interrupted for any reason. Reception of                                few millivolts of either supply rail when unloaded and
a START or STOP condition after the Acknowledge of the                                   has an equivalent output resistance of 85Ω when driving
command byte, but before the Acknowledge of the last                                     a load to the rails. The output ampliﬁer is stable driving
data byte, will cause both data bytes to be ignored and                                  capacitive loads up to 1000pF.
the command byte to be accepted.
                                                                                         A small resistor placed in series with the output can be
Reception of a START or STOP condition before the Ac-                                    used to achieve stability for any load capacitance greater
knowledge of the command byte will cause the interrupted                                 than 1000pF. For example, a 0.1μF load can be driven
command byte to be ignored.                                                              by the LTC1663 if a 110Ω series resistance is used. The
                                                                                         phase margin of the resulting circuit is 45° and increases
SYNC Address/Quick Command                                                               monotonically from this point if larger values of resistance,
In addition to the slave address, the LTC1663 has an address                             capacitance or both are substituted for the values given.
that can be shared by other devices so that they may be
updated synchronously. The address is called to the SYNC                                 Rail-to-Rail Output Considerations
address and uses the quick command protocol.                                             As in any rail-to-rail device, the output is limited to volt-
The SYNC Address is 1111 110                                                             ages within the supply range.
                    1          7           1           1        1                        If the DAC offset is negative, the output for the lowest
                  Start    1111 110    SY/CLR        Ack     Stop                        codes limits at 0V as shown in Figure 1b.
                        SYNC Address                           1663 TA05
                                                                                         Similarly, limiting can occur near full scale when VCC is
                                                                                         used as the reference. If VREF = VCC and the DAC full-scale
 SY/CLR      1    Update output latches on rising edge of SCL during
                  Acknowledge of SYNC Address                                            error (FSE) is positive, the output for the highest codes
             0    Clear all internal latches on rising edge of SCL during                limits at VCC as shown in Figure 1c. No full-scale limiting
                  Acknowledge of SYNC Address                                            can occur if the internal reference is used.
                                                                                                                                                  1663fd
                                                                                                                                                  9


LTC1663
APPLICATIONS INFORMATION
                                                                                                                                                 POSITIVE
                                                                                                               VREF = VCC                        FSE
                                                                                                                                                OUTPUT
                                                                                                                                                VOLTAGE
                                                                                                                INPUT CODE
                                                                                                                      (c)
                                                                  VREF = VCC
                                                 OUTPUT
                                                VOLTAGE
                                                        0            512                   1023
                                                                 INPUT CODE
                                                                     (a)
                     OUTPUT
                    VOLTAGE
                         0V
               NEGATIVE              INPUT CODE
                 OFFSET
                                         (b)                                                                                                       1663 F01
        Figure 1. Effects of Rail-to-Rail Operation On a DAC Transfer Curve. (a) Overall Transfer Function (b) Effect of Negative
        Offset for Codes Near Zero Scale (c) Effect of Positive Full-Scale Error for Input Codes Near Full Scale When VREF = VCC
Offset and linearity are deﬁned and tested over the region                 used. The LT1460 is ideal for use as a power supply for
of the DAC transfer function where no output limiting can                  the LTC1663 and can provide 3V, 3.3V and 5V full-scale
occur.                                                                     output voltage ranges. The LT1460 provides accuracy, noise
                                                                           immunity and extended supply range to the LTC1663 when
Internal Reference                                                         the LTC1663 is operated ratiometric to VCC. Since both
In applications where a predictable output is required                     parts are available in SOT-23 packages, the PC board space
that is independent of supply voltage, the LTC1663 has a                   for this application is extremely small. See Figure 2.
user-selectable internal reference. Selecting the internal
reference will set the full-scale output voltage to 2.5V. This                                   1
                                                                                                       LT1460S3-3
                                                                                                                       2                3V
                                                                             3.9V TO 20V            IN          OUT
can be useful in applications where the supply voltage is                             0.1μF               GND
                                                                                                                         +
                                                                                                                                0.01μF
                                                                                                             3
poorly regulated.                                                                                                                          4 (5)
                                                                                                                                         VCC
                                                                                                                          5 (4)
                                                                                                                                  SCL                       3 (8)
Using the LT®1460 Micropower Series Reference as a                                                                 TO
                                                                                                                   μP     1 (1)
                                                                                                                                       LTC1663      OUT           0V ≤ VOUT ≤ 3V
                                                                                                                                  SDA
Power Supply for the LTC1663                                                                                                             GND
                                                                                       LTC1663 PIN NUMBERS IN PARENTHESES                  2 (7)
In applications where the advantages of using the internal                             REFER TO MSOP PACKAGE                                                              1663 F02
reference are required but the full-scale range needs to
be greater than 2.5V, an external series reference can be                              Figure 2. LT1460 As Power Supply for the LTC1663
                                                                                                                                                                            1663fd
10


                                                                                                                                                                                  LTC1663
PACKAGE DESCRIPTION
                                                                                  S5 Package
                                                                       5-Lead Plastic TSOT-23
                                                                (Reference LTC DWG # 05-08-1635)
                                      0.62             0.95
                                                                                                                            2.90 BSC
                                     MAX                REF
                                                                                                                            (NOTE 4)
                                                                   1.22 REF
                                                                                             1.50 – 1.75
                  3.85 MAX 2.62 REF                                1.4 MIN        2.80 BSC
                                                                                              (NOTE 4)
                                                                                                  PIN ONE
                                RECOMMENDED SOLDER PAD LAYOUT                                                                                                0.30 – 0.45 TYP
                                                                                                         0.95 BSC
                                        PER IPC CALCULATOR                                                                                                   5 PLCS (NOTE 3)
                                                                                                 0.80 – 0.90
          0.20 BSC                                                                                                                                           0.01 – 0.10
                                                                                          1.00 MAX
                  DATUM ‘A’
                                        0.30 – 0.50 REF
                                                                      0.09 – 0.20                                            1.90 BSC
           NOTE:                                                       (NOTE 3)                                                                     S5 TSOT-23 0302
           1. DIMENSIONS ARE IN MILLIMETERS
           2. DRAWING NOT TO SCALE
           3. DIMENSIONS ARE INCLUSIVE OF PLATING
           4. DIMENSIONS ARE EXCLUSIVE OF MOLD FLASH AND METAL BURR
           5. MOLD FLASH SHALL NOT EXCEED 0.254mm
           6. JEDEC PACKAGE REFERENCE IS MO-193
                                                                                MS8 Package
                                                                         8-Lead Plastic MSOP
                                                                (Reference LTC DWG # 05-08-1660)
                                             0.889 ± 0.127                                                              3.00 ± 0.102
                                              (.035 ± .005)                                                            (.118 ± .004)                                  0.52
                                                                                                                          (NOTE 3)           8  7 6 5               (.0205)
                                                                                                                                                                      REF
                 5.23
                (.206)                         3.20 – 3.45
                                              (.126 – .136)                                                                                                       3.00 ± 0.102
                 MIN                                                                                                   4.90 ± 0.152
                                                                                       DETAIL “A”                                                                (.118 ± .004)
                                                                           0.254                                       (.193 ± .006)
                                                                                                                                                                     (NOTE 4)
                                                                           (.010)
                                                                                               0° – 6° TYP
        0.42 ± 0.038                           0.65         GAUGE PLANE
      (.0165 ± .0015)                        (.0256)
             TYP                               BSC                                                                                          1   2 3     4
                                                                                                      0.53 ± 0.152
                RECOMMENDED SOLDER PAD LAYOUT                                                         (.021 ± .006)                1.10                               0.86
                                                                                                                                  (.043)                             (.034)
                                                                                         DETAIL “A”                                MAX                                REF
                                                             0.18
                                                            (.007)
                                                                                                               SEATING
                 NOTE:                                                                                           PLANE   0.22 – 0.38
                 1. DIMENSIONS IN MILLIMETER/(INCH)                                                                                                                   0.127 ± 0.076
                                                                                                                        (.009 – .015)                                  (.005 ± .003)
                 2. DRAWING NOT TO SCALE                                                                                                  0.65
                                                                                                                             TYP                                          MSOP (MS8) 0204
                 3. DIMENSION DOES NOT INCLUDE MOLD FLASH, PROTRUSIONS OR GATE BURRS.                                                   (.0256)
                    MOLD FLASH, PROTRUSIONS OR GATE BURRS SHALL NOT EXCEED 0.152mm (.006") PER SIDE                                       BSC
                 4. DIMENSION DOES NOT INCLUDE INTERLEAD FLASH OR PROTRUSIONS.
                    INTERLEAD FLASH OR PROTRUSIONS SHALL NOT EXCEED 0.152mm (.006") PER SIDE
                 5. LEAD COPLANARITY (BOTTOM OF LEADS AFTER FORMING) SHALL BE 0.102mm (.004") MAX
                                                                                                                                                                                           1663fd
                                                                                                                                                                                          11
                                 Information furnished by Linear Technology Corporation is believed to be accurate and reliable.
                                 However, no responsibility is assumed for its use. Linear Technology Corporation makes no representa-
                                 tion that the interconnection of its circuits as described herein will not infringe on existing patent rights.


LTC1663
TYPICAL APPLICATION
        Program Up to 8 Control Outputs Per BUS (8 LTC1663 and 8 LTC1663-8 DACs) and Place Them Where They Are Needed
                          μP                                                                 VCC = 2.7V TO 5.5V
                       SDA SCL
                                                                                                                        1
                                                                                                                    VCC
                                                                                                              5
                                                                                                                SMBus 1        +
                                                                                                                  LTC1694           0.1μF
                                                                                                              4
                                                                                                                SMBus 2
                                                                                                                    GND
                                                                                                                        2
                                                     5           +                                                         5           +
                                         4                           0.1μF                                    4                              0.1μF
                                           SCL     VCC                                                          SCL       VCC
                                         1                                                                    1
                                           SDA                                                                  SDA
                                             LTC1663-8CMS8      8    CONTROL                                       LTC1663CMS8         8     CONTROL
                                         6                 VOUT                                               6                 VOUT
                                           AD0                       OUTPUT 0                                   AD0                          OUTPUT 8
                                         2                                                                    2
                                           AD1                       0V ≤ VOUT0 < VCC                           AD1                          0V ≤ VOUT8 < VCC
                                         3                                                                    3
                                           AD2     GND                                                          AD2       GND
                                                     7                                                                     7
                                                     5           +                                                         5           +
                                         4                           0.1μF                                    4                              0.1μF
                                           SCL     VCC                                                          SCL       VCC
                                         1                                                                    1
                                           SDA                                                                  SDA
                                             LTC1663-8CMS8      8    CONTROL                                       LTC1663CMS8         8     CONTROL
                                         6                 VOUT                                               6                 VOUT
                                           AD0                       OUTPUT 1                                   AD0                          OUTPUT 9
                                         2                                                                    2
                                           AD1                       0V ≤ VOUT1 < VCC                           AD1                          0V ≤ VOUT9 < VCC
                                         3                                                                    3
                                           AD2     GND                                                          AD2       GND
                                                     7                                                                     7
                                                     5           +                                                         5           +
                                         4                           0.1μF                                    4                              0.1μF
                                           SCL     VCC                                                          SCL       VCC
                                         1                                                                    1
                                           SDA                                                                  SDA
                                             LTC1663-8CMS8      8    CONTROL                                       LTC1663CMS8         8     CONTROL
                                         6                 VOUT                                               6                 VOUT
                                           AD0                       OUTPUT 7                                   AD0                          OUTPUT 15
                                         2                                                                    2
                                           AD1                       0V ≤ VOUT7 < VCC                           AD1                          0V ≤ VOUT15 < VCC
                                         3                                                                    3
                                           AD2     GND                                                          AD2       GND
                     TO OTHER SMBus                  7                              TO OTHER SMBus                         7
                         DEVICES                                                        DEVICES                                                 1663 TA06
RELATED PARTS
 PART NUMBER             DESCRIPTION                                                        COMMENTS
 LTC1694                 SMBus I2C Accelerator                                              Dual SMBus Accelerator with Active AC and DC Pull-Up Current
                                                                                            Sources
 LTC1694-1               SMBus I2C Accelerator                                              Dual SMBus Accelerator with Active AC Pull-Up Current Only
 DACs
 LTC1659                 Single Rail-to-Rail 12-Bit VOUT DAC in 8-Lead MSOP                 Low Power Multiplying VOUT DAC. Output Swings from GND to REF.
                         Package. VCC = 2.7V to 5.5V                                        REF Input Can Be Tied to VCC. 3-Wire Interface.
 LTC1660/LTC1664         Octal/Quad 10-Bit VOUT DACs in 16-Pin Narrow SSOP                  VCC = 2.7V to 5.5V Micropower Rail-to-Rail Output. 3-Wire Interface
 LTC1661                 Dual 10-Bit VOUT in 8-Lead MSOP Package                            VCC = 2.7V to 5.5V Micropower Rail-to-Rail Output. 3-Wire Interface.
 LTC1669                 10-Bit VOUT DAC in SOT-23, I2C Interface                           Pin-Compatible with LTC1663
 ADCs
 LTC1285/LTC1288         8-Pin SO, 3V Micropower ADCs                                       1- or 2-Channel, Autoshutdown
 LTC1286/LTC1298         8-Pin SO, 5V Micropower ADCs                                       1- or 2-Channel, Autoshutdown
 LTC1594/LTC1598         4/8-Channel, 5V Micropower 12-Bit ADCs                             Low Power, Small Size, Low Cost
                                                                                                                                                                                   1663fd
12 Linear Technology Corporation
                                                                                                                                                          LT 1007 REV D • PRINTED IN USA
           1630 McCarthy Blvd., Milpitas, CA 95035-7417
           (408) 432-1900 ● FAX: (408) 434-0507    ●   www.linear.com                                                                    © LINEAR TECHNOLOGY CORPORATION 2007


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 LTC1663ES5 LTC1663ES5#TRM LTC1663IMS8#TR LTC1663CS5 LTC1663-8CMS8#TR LTC1663CS5#TRM
LTC1663-8IMS8#PBF LTC1663-1CS5#TRPBF LTC1663CMS8 LTC1663ES5#TRMPBF LTC1663-8CMS8#TRPBF
LTC1663-2CS5#TR LTC1663-1CS5#TRM LTC1663-2CS5#TRPBF LTC1663-1CS5#PBF LTC1663CMS8#PBF
LTC1663-8IMS8#TRPBF LTC1663-2CS5 LTC1663IMS8#TRPBF LTC1663CS5#PBF LTC1663-8CMS8
LTC1663CMS8#TR LTC1663-8CMS8#PBF LTC1663-1CS5 LTC1663-2CS5#PBF LTC1663CMS8#TRPBF
LTC1663CS5#TRPBF LTC1663IMS8#PBF LTC1663-8IMS8 LTC1663IMS8 LTC1663ES5#TR LTC1663-
1CS5#TRMPBF LTC1663-1CS5#TR LTC1663CS5#TRMPBF LTC1663-2CS5#TRM LTC1663-8IMS8#TR
LTC1663ES5#TRPBF LTC1663ES5#PBF LTC1663-2CS5#TRMPBF LTC1663CS5#TR
