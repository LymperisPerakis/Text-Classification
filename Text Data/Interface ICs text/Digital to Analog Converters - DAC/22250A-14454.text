                                       MCP4902/4912/4922
8/10/12-Bit Dual Voltage Output Digital-to-Analog Converter
                     with SPI Interface
Features                                                Description
•   MCP4902: Dual 8-Bit Voltage Output DAC              The MCP4902/4912/4922 devices are dual 8-bit,
•   MCP4912: Dual 10-Bit Voltage Output DAC             10-bit, and 12-bit buffered voltage output
•   MCP4922: Dual 12-Bit Voltage Output DAC             Digital-to-Analog Converters (DACs), respectively. The
                                                        devices operate from a single 2.7V to 5.5V supply with
•   Rail-to-Rail Output
                                                        SPI compatible Serial Peripheral Interface. The user
•   SPI Interface with 20 MHz Clock Support             can configure the full-scale range of the device to be
•   Simultaneous Latching of the Dual DACs              VREF or 2 * VREF by setting the Gain Selection Option
    with LDAC pin                                       bit (gain of 1 of 2).
•   Fast Settling Time of 4.5 µs                        The user can shut down both DAC channels by using
•   Selectable Unity or 2x Gain Output                  SHDN pin or shut down the DAC channel individually
•   External Voltage Reference Inputs                   by setting the Configuration register bits. In Shutdown
•   External Multiplier Mode                            mode, most of the internal circuits in the shutdown
                                                        channel are turned off for power savings and the output
•   2.7V to 5.5V Single-Supply Operation
                                                        amplifier is configured to present a known high
•   Extended Temperature Range: -40°C to +125°C         resistance output load (500 ktypical.
Applications                                            The devices include double-buffered registers,
•   Set Point or Offset Trimming                        allowing synchronous updates of two DAC outputs,
                                                        using the LDAC pin. These devices also incorporate a
•   Precision Selectable Voltage Reference
                                                        Power-on Reset (POR) circuit to ensure reliable power-
•   Motor Control Feedback Loop                         up.
•   Digitally-Controlled Multiplier/Divider
                                                        The devices utilize a resistive string architecture, with
•   Calibration of Optical Communication Devices        its inherent advantages of low DNL error and fast
                                                        settling time. These devices are specified over the
Related Products(1)                                     extended temperature range (+125°C).
                                         Voltage        The devices provide high accuracy and low noise
                DAC       No. of
     P/N                                Reference       performance for consumer and industrial applications
              Resolution ChannelS
                                         (VREF)         where calibration or compensation of signals (such as
                                                        temperature, pressure and humidity) are required.
MCP4801            8               1
MCP4811            10              1                    The MCP4902/4912/4922 devices are available in the
                                           Internal     PDIP, SOIC and TSSOP packages.
MCP4821            12              1
                                          (2.048V)      Package Types
MCP4802            8               2
MCP4812            10              2                               14-Pin PDIP, SOIC, TSSOP
MCP4822            12              2                                  VDD 1                14 VOUTA
MCP4901            8               1                                   NC 2                13 VREFA
                                                                                 MCP49X2
MCP4911            10              1                                   CS 3                12 VSS
                                          External                    SCK 4                11 VREFB
MCP4921            12              1
MCP4902            8               2                                   SDI 5               10 VOUTB
MCP4912            10              2                                   NC 6                9 SHDN
MCP4922            12              2                                   NC 7                8 LDAC
    Note 1: The products listed here have similar AC/                 MCP4902: 8-bit dual DAC
            DC performances.                                          MCP4912: 10-bit dual DAC
                                                                      MCP4922: 12-bit dual DAC
 2010 Microchip Technology Inc.                                                                    DS22250A-page 1


MCP4902/4912/4922
Block Diagram
                       LDAC      CS       SDI     SCK
                                   Interface Logic                       VDD
                                                            Power-on
                                                             Reset
                                 Input           Input
                               Register A      Register B                 VSS
                                 DACA             DACB
                                Register         Register
                VREF A           String          String                   VREF B
                                 DACA            DACB
                        Buffer                                 Buffer
                       Gain                                     Gain
                       Logic            Output                 Logic
                                       Op Amps
                                          Output
                                           Logic
                               VOUTA       SHDN       VOUTB
DS22250A-page 2                                                        2010 Microchip Technology Inc.


                                                                                        MCP4902/4912/4922
1.0        ELECTRICAL                                                                † Notice: Stresses above those listed under “Maximum
                                                                                     Ratings” may cause permanent damage to the device.
           CHARACTERISTICS                                                           This is a stress rating only and functional operation of
                                                                                     the device at those or any other conditions above those
Absolute Maximum Ratings †                                                           indicated in the operational listings of this specification
VDD....................................................................... 6.5V      is not implied. Exposure to maximum rating conditions
                                                                                     for extended periods may affect device reliability.
All inputs and outputs w.r.t ..... VSS –0.3V to VDD+0.3V
Current at Input Pins ......................................... ±2 mA
Current at Supply Pins .................................... ±50 mA
Current at Output Pins .................................... ±25 mA
Storage temperature .......................... -65°C to +150°C
Ambient temp. with power applied ..... -55°C to +125°C
ESD protection on all pins 4 kV (HBM), 400V (MM)
Maximum Junction Temperature (TJ)................+150°C
ELECTRICAL CHARACTERISTICS
 Electrical Specifications: Unless otherwise indicated, VDD = 5V, VSS = 0V, VREF = 2.048V, Output Buffer Gain (G) = 2x, RL = 5 k to
 GND, CL = 100 pF TA = -40 to +85°C. Typical values are at +25°C.
           Parameters                             Sym             Min           Typ       Max         Units                  Conditions
 Power Requirements
 Operating Voltage                                VDD              2.7           —         5.5           V
 Operating CurrentInput Cur-                       IDD              —           350       700           µA      VDD = 5V
 rent                                                               —           250       500           µA      VDD = 3V
                                                                                                                VREF input is unbuffered, all digital
                                                                                                                inputs are grounded, all analog
                                                                                                                outputs (VOUT) are unloaded.
                                                                                                                Code = 000h.
 Hardware Shutdown Current                       ISHDN              —           0.3         2           µA      Power-on Reset circuit is turned
                                                                                                                off
 Software Shutdown Current                    ISHDN_SW              —           3.3         6           µA      Power-on Reset circuit stays on
 Power-on-Reset Threshold                        VPOR               —           2.0        —             V
 DC Accuracy
 MCP4902
             Resolution                              n               8           —         —           Bits
             INL Error                             INL              -1        ±0.125        1          LSb
             DNL                                  DNL             -0.5          ±0.1      +0.5         LSb      Note 1
 MCP4912
             Resolution                              n             10            —         —           Bits
             INL Error                             INL            -3.5          ±0.5       3.5         LSb
             DNL                                  DNL             -0.5          ±0.1      +0.5         LSb      Note 1
 MCP4922
             Resolution                              n             12            —         —           Bits
             INL Error                             INL             -12           ±2        12          LSb
             DNL                                  DNL            -0.75          ±0.2     +0.75         LSb      Note 1
 Offset Error                                     VOS               —          ±0.02        1          % of     Code = 0x000h
                                                                                                       FSR
 Note 1:       Guaranteed monotonic by design over all codes.
        2:     This parameter is ensured by design, and not 100% tested.
 2010 Microchip Technology Inc.                                                                                              DS22250A-page 3


MCP4902/4912/4922
ELECTRICAL CHARACTERISTICS (CONTINUED)
 Electrical Specifications: Unless otherwise indicated, VDD = 5V, VSS = 0V, VREF = 2.048V, Output Buffer Gain (G) = 2x, RL = 5 k to
 GND, CL = 100 pF TA = -40 to +85°C. Typical values are at +25°C.
          Parameters                  Sym       Min         Typ            Max          Units                  Conditions
 Offset Error Temperature           VOS/°C        —         0.16            —          ppm/°C     -45°C to 25°C
 Coefficient                                      —        -0.44            —          ppm/°C     +25°C to 85°C
 Gain Error                             gE        —        -0.10             1          % of      Code = 0xFFFh, not including off-
                                                                                        FSR       set error
 Gain Error Temperature             G/°C         —          -3             —          ppm/°C
 Coefficient
 Input Amplifier (VREF Input)
 Input Range – Buffered              VREF      0.040         —        VDD – 0.040         V       Note 2
 Mode                                                                                             Code = 2048
 Input Range – Unbuffered            VREF         0          —             VDD             V      VREF = 0.2V p-p, f = 100 Hz and
 Mode                                                                                             1 kHz
 Input Impedance                    RVREF         —         165             —            k       Unbuffered Mode
 Input Capacitance –                CVREF         —           7             —             pF
 Unbuffered Mode
 Multiplier Mode -3 dB               fVREF        —         450             —            kHz      VREF = 2.5V ±0.2Vp-p,
 Bandwidth                                                                                        Unbuffered, G = 1x
                                     fVREF        —         400             —            kHz      VREF = 2.5V ±0.2 Vp-p,
                                                                                                  Unbuffered, G = 2x
 Multiplier Mode –                THDVREF         —         -73             —             dB      VREF = 2.5V ±0.2Vp-p,
 Total Harmonic Distortion                                                                        Frequency = 1 kHz
 Output Amplifier
 Output Swing                        VOUT         —       0.01 to           —              V      Accuracy is better than 1 LSb for
                                                        VDD – 0.04                                VOUT = 10 mV to (VDD – 40 mV)
 Phase Margin                          m         —          66             —          degrees
 Slew Rate                             SR         —         0.55            —           V/µs
 Short Circuit Current                 ISC        —          15             24           mA
 Settling Time                      tsettling     —         4.5             —             µs      Within 1/2 LSb of final value from
                                                                                                  1/4 to 3/4 full-scale range
 Dynamic Performance (Note 2)
 DAC-to-DAC Crosstalk                             —          10             —           nV-s
 Major Code Transition Glitch                     —          45             —           nV-s      1 LSb change around major carry
                                                                                                  (0111...1111 to 1000...0000)
 Digital Feedthrough                              —          10             —           nV-s
 Analog Crosstalk                                 —          10             —           nV-s
 Note 1:     Guaranteed monotonic by design over all codes.
        2:   This parameter is ensured by design, and not 100% tested.
DS22250A-page 4                                                                                 2010 Microchip Technology Inc.


                                                                        MCP4902/4912/4922
ELECTRICAL CHARACTERISTIC WITH EXTENDED TEMPERATURE
Electrical Specifications: Unless otherwise indicated, VDD = 5V, VSS = 0V, VREF = 2.048V, Output Buffer Gain (G) = 2x, RL = 5 k to
GND, CL = 100 pF. Typical values are at +125°C by characterization or simulation.
        Parameters                 Sym         Min         Typ          Max         Units                  Conditions
Power Requirements
Operating Voltage                  VDD         2.7          —           5.5           V
Operating Current                   IDD         —          400           —           µA       VREF input is unbuffered, all digi-
                                                                                              tal inputs are grounded, all analog
                                                                                              outputs (VOUT) are unloaded.
                                                                                              Code=000h
Hardware Shutdown                 ISHDN         —           1.5          —           µA       POR circuit is turned-off
Current
Software Shutdown Current ISHDN_SW              —            5           —           µA       POR circuit stays turned-on
Power-On Reset threshold           VPOR         —          1.85          —            V
DC Accuracy
MCP4902
           Resolution                n           8          —            —           Bits
           INL Error                INL                   ±0.25                     LSb
           DNL                     DNL                     ±0.2                     LSb       Note 1
MCP4912
           Resolution                n          10          —            —           Bits
           INL Error                INL                     ±1                      LSb
           DNL                     DNL                     ±0.2                     LSb       Note 1
MCP4922
           Resolution                n          12          —            —           Bits
           INL Error                INL                     ±4                      LSb
           DNL                     DNL                    ±0.25                     LSb       Note 1
Offset Error                       VOS          —         ±0.02          —        % of FSR    Code 0x000h
Offset Error Temperature         VOS/°C         —           -5           —         ppm/°C     +25°C to +125°C
Coefficient
Gain Error                           gE         —         -0.10          —        % of FSR    Code = 0xFFFh, not including off-
                                                                                              set error
Gain Error Temperature            G/°C         —           -3           —         ppm/°C
Coefficient
Input Amplifier (VREF Input)
Input Range – Buffered             VREF         —        0.040 to        —            V       Note 1
Mode                                                   VDD – 0.040                            Code = 2048,
                                                                                              VREF = 0.2V p-p, f = 100 Hz and
                                                                                              1 kHz
Input Range – Unbuffered           VREF          0          —           VDD           V
Mode
Input Impedance                   RVREF         —          174           —           k       Unbuffered mode
Input Capacitance –               CVREF         —            7           —           pF
Unbuffered Mode
Note 1:     Guaranteed monotonic by design over all codes.
       2:   This parameter is ensured by design, and not 100% tested.
 2010 Microchip Technology Inc.                                                                              DS22250A-page 5


MCP4902/4912/4922
ELECTRICAL CHARACTERISTIC WITH EXTENDED TEMPERATURE (CONTINUED)
 Electrical Specifications: Unless otherwise indicated, VDD = 5V, VSS = 0V, VREF = 2.048V, Output Buffer Gain (G) = 2x, RL = 5 k to
 GND, CL = 100 pF. Typical values are at +125°C by characterization or simulation.
          Parameters                 Sym        Min         Typ          Max        Units                  Conditions
 Multiplying Mode                   fVREF        —          450           —          kHz       VREF = 2.5V ±0.1 Vp-p,
 -3 dB Bandwidth                                                                               Unbuffered, G = 1x
                                    fVREF        —          400           —          kHz       VREF = 2.5V ±0.1 Vp-p,
                                                                                               Unbuffered, G = 2x
 Multiplying Mode – Total        THDVREF         —           —            —           dB       VREF = 2.5V ±0.1Vp-p,
 Harmonic Distortion                                                                           Frequency = 1 kHz
 Output Amplifier
 Output Swing                       VOUT         —        0.01 to         —           V        Accuracy is better than 1 LSb for
                                                         VDD – 0.04                            VOUT = 10 mV to (VDD – 40 mV)
 Phase Margin                         m         —           66           —        degrees
 Slew Rate                            SR         —          0.55          —          V/µs
 Short Circuit Current                ISC        —           17           —          mA
 Settling Time                     tsettling     —           4.5          —           µs       Within 1/2 LSb of final value from
                                                                                               1/4 to 3/4 full-scale range
 Dynamic Performance (Note 2)
 DAC to DAC Crosstalk                            —           10           —          nV-s
 Major Code Transition                           —           45           —          nV-s      1 LSb change around major carry
 Glitch                                                                                        (0111...1111 to
                                                                                               1000...0000)
 Digital Feedthrough                             —           10           —          nV-s
 Analog Crosstalk                                —           10           —          nV-s
 Note 1:     Guaranteed monotonic by design over all codes.
        2:   This parameter is ensured by design, and not 100% tested.
DS22250A-page 6                                                                                  2010 Microchip Technology Inc.


                                                                  MCP4902/4912/4922
AC CHARACTERISTICS (SPI TIMING SPECIFICATIONS)
Electrical Specifications: Unless otherwise indicated, VDD= 2.7V – 5.5V, TA= -40 to +125°C.
Typical values are at +25°C.
            Parameters                 Sym         Min      Typ     Max   Units             Conditions
Schmitt Trigger High-Level              VIH      0.7 VDD     —       —      V
Input Voltage (All digital input
pins)
Schmitt Trigger Low-Level               VIL         —        —    0.2 VDD   V
Input Voltage
(All digital input pins)
Hysteresis of Schmitt Trigger         VHYS          —    0.05 VDD    —      V
Inputs
Input Leakage Current               ILEAKAGE        -1       —       1     A   SHDN = LDAC = CS = SDI =
                                                                                SCK + VREF = VDD or VSS
Digital Pin Capacitance                CIN,         —        10      —     pF   VDD = 5.0V, TA = +25°C,
(All inputs/outputs)                  COUT                                      fCLK = 1 MHz (Note 1)
Clock Frequency                        FCLK         —        —       20   MHz   TA = +25°C (Note 1)
Clock High Time                          tHI        15       —       —     ns   Note 1
Clock Low Time                          tLO         15       —       —     ns   Note 1
CS Fall to First Rising CLK           tCSSR         40       —       —     ns   Applies only when CS falls with
Edge                                                                            CLK high. (Note 1)
Data Input Setup Time                   tSU         15       —       —     ns   Note 1
Data Input Hold Time                    tHD         10       —       —     ns   Note 1
SCK Rise to CS Rise Hold               tCHS         15       —       —     ns   Note 1
Time
CS High Time                           tCSH         15       —       —     ns   Note 1
LDAC Pulse Width                        tLD        100       —       —     ns   Note 1
LDAC Setup Time                          tLS        40       —       —     ns   Note 1
SCK Idle Time before CS Fall           tIDLE        40       —       —     ns   Note 1
Note 1:       This parameter is ensured by design and not 100% tested.
                                                                                             tCSH
           CS
                                                                                               tIDLE
                      tCSSR                  tHI     tLO                          tCHS
               Mode 1,1
         SCK Mode 0,0
                          tSU   tHD
            SI
                            MSb in                                            LSb in
        LDAC
                                                                                        tLS           tLD
FIGURE 1-1:              SPI Input Timing Data.
 2010 Microchip Technology Inc.                                                                     DS22250A-page 7


MCP4902/4912/4922
TEMPERATURE CHARACTERISTICS
 Electrical Specifications: Unless otherwise indicated, VDD = +2.7V to +5.5V, VSS = GND.
            Parameters               Sym        Min      Typ     Max     Units              Conditions
 Temperature Ranges
 Specified Temperature Range           TA        -40      —      +125      °C
 Operating Temperature Range           TA        -40      —      +125      °C    Note 1
 Storage Temperature Range             TA        -65      —      +150      °C
 Thermal Package Resistances
 Thermal Resistance, 14L-PDIP         JA         —       70      —      °C/W
 Thermal Resistance, 14L-SOIC         JA         —      120      —      °C/W
 Thermal Resistance, 14L-TSSOP        JA         —      100      —      °C/W
 Note 1:    The MCP4902/4912/4922 devices operate over this extended temperature range, but with reduced
            performance. Operation in this range must not cause TJ to exceed the maximum junction temperature of
            150°C.
DS22250A-page 8                                                                        2010 Microchip Technology Inc.


                                                                                        MCP4902/4912/4922
2.0                   TYPICAL PERFORMANCE CURVES
  Note:                       The graphs and tables provided following this note are a statistical summary based on a limited number of
                              samples and are provided for informational purposes only. The performance characteristics listed herein
                              are not tested or guaranteed. In some graphs or tables, the data presented may be outside the specified
                              operating range (e.g., outside specified power supply range) and therefore outside the warranted range.
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                 0.3                                                                                          0.0766
                                                                                                              0.0764
                 0.2
                                                                                         Absolute DNL (LSB)
                                                                                                              0.0762
                 0.1
   DNL (LSB)
                                                                                                               0.076
                      0                                                                                       0.0758
                                                                                                              0.0756
                -0.1
                                                                                                              0.0754
                -0.2                                                                                          0.0752
                -0.3                                                                                           0.075
                          0         1024       2048             3072           4096                                        -40   -20       0   20       40   60       80   100 120
                                           Code (Decimal)                                                                              Ambient Temperature (ºC)
FIGURE 2-1:                                DNL vs. Code (MCP4922).                     FIGURE 2-4:      Absolute DNL vs.
                                                                                       Temperature (MCP4922).
               0.2                                                                                            0.35
                                                                                                               0.3
                                                                                         Absolute DNL (LSB)
               0.1                                                                                            0.25
   DNL (LSB)
                                                                                                               0.2
                 0
                                                                                                              0.15
                                                                                                               0.1
               -0.1
                                                                                                              0.05
               -0.2                                                                                                0
                      0            1024        2048         3072               4096                                    1               2            3             4             5
                                      Code (Decimal)            125C   85C      25C                                                        Voltage Reference (V)
FIGURE 2-2:      DNL vs. Code and                                                      FIGURE 2-5:      Absolute DNL vs. Voltage
Temperature (MCP4922).                                                                 Reference (MCP4922).
                0.4                                                                                            5
                                                                                                                                                             Ambient Temperature
                0.3                                                                                            4
                                                                                                                                                               125C        85       25
                                                                                                               3
                0.2
                                                                                                               2
   DNL (LSB)                                                                                INL (LSB)
                0.1                                                                                            1
                  0                                                                                            0
               -0.1                                                                                           -1
               -0.2                                                                                           -2
                                                                                                              -3
               -0.3
                                                                                                              -4
               -0.4                                                                                           -5
                      0            1024        2048             3072           4096                                0              1024          2048      3072                      4096
                                    Code (Decimal)          1     2    3   4     5.5                                                       Code (Decimal)
FIGURE 2-3:      DNL vs. Code and VREF,                                                FIGURE 2-6:      INL vs. Code and
Gain = 1 (MCP4922).                                                                    Temperature (MCP4922).
 2010 Microchip Technology Inc.                                                                                                                                      DS22250A-page 9


MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                        2.5                                                                                                     2
                             2
   Absolute INL (LSB)
                                                                                                                                0
                                                                                                                INL (LSB)
                        1.5
                                                                                                                                -2
                             1
                                                                                                                                -4
                        0.5
                             0                                                                                                  -6
                                 -40   -20     0      20       40       60       80   100    120                                     0           1024            2048         3072           4096
                                              Ambient Temperature (ºC)                                                                                     Code (Decimal)
FIGURE 2-7:      Absolute INL vs.                                                                   FIGURE 2-10:                                           INL vs. Code (MCP4922).
Temperature (MCP4922).
                                                                                                         Note:                           Single device graph (Figure 2-10) for
                                                                                                                                         illustration of 64 code effect.
                             3
                                                                                                                    0.2
                        2.5                                                                                                                                      Temp = - 40oC to +125oC
   Absolute INL (LSB)
                             2                                                                                      0.1
                                                                                                    DNL (LSB)
                        1.5
                                                                                                                            0
                             1
                        0.5                                                                                     -0.1
                             0
                                 1            2            3                 4          5                       -0.2
                                                                                                                                 0       128    256       384    512 640    768      896 1024
                                                   Voltage Reference (V)                                                                                        Code
FIGURE 2-8:                                          Absolute INL vs. VREF                          FIGURE 2-11:     DNL vs. Code and
(MCP4922).                                                                                          Temperature (MCP4912).
                        3
                                                                        VREF                                                1.5
                        2                                  1        2        3    4    5.5
                        1                                                                                                   0.5                                       o
                                                                                                                                                                    85 C
   INL (LSB)
                        0
                                                                                                           INL (LSB)
                                                                                                                            -0.5
                        -1
                                                                                                                            -1.5
                        -2
                                                                                                                                                                                         o
                                                                                                                                                                                       25 C
                        -3                                                                                                  -2.5                                               o
                                                                                                                                                                            - 40 C
                                                                                                                                                      o
                                                                                                                                                 125 C
                        -4
                             0               1024        2048       3072                     4096                           -3.5
                                                     Code (Decimal)                                                                  0    128    256       384    512 640     768    896 1024
                                                                                                                                                                 Code
FIGURE 2-9:                                          INL vs. Code and VREF                          FIGURE 2-12:     INL vs. Code and
(MCP4922).                                                                                          Temperature (MCP4912).
DS22250A-page 10                                                                                                                                             2010 Microchip Technology Inc.


                                                                                             MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                     0.06                                                                                   20
                                                           Temp = -40oC to +125oC
                                                                                                            18
                     0.04
                                                                                                            16
                                                                                                            14
                                                                                              Occurrence
                     0.02
                                                                                                            12
        DNL (LSB)
                                                                                                            10
                           0
                                                                                                             8
                    -0.02                                                                                    6
                                                                                                             4
                    -0.04                                                                                    2
                                                                                                             0
                    -0.06                                                                                        215   225   235   245   255    265    275     285     295         305         315     325
                               0     32    64        96    128 160 192 224 256                                                                 IDD (μA)
                                                          Code
FIGURE 2-13:     DNL vs. Code and                                                           FIGURE 2-16:                                 IDD Histogram (VDD = 2.7V).
Temperature (MCP4902).
                    0.5                                                                                     16
                                                 o           o                                              14
                                               -40 C to +85 C
                 0.25                                                                                       12
                                                                                               Occurrence
                                                                                                            10
  INL (LSB)
                                                                                                             8
                      0
                                                                                                             6
                                                                                                             4
              -0.25                                              o                                           2
                                                             125 C
                                                                                                             0
                    -0.5                                                                                         250   265   280   295   310   325    340    355     370     385         400     415
                           0       32     64      96       128 160    192   224     256                                                        IDD (μA)
                                                          Code
FIGURE 2-14:     INL vs. Code and                                                           FIGURE 2-17:                                 IDD Histogram (VDD =
Temperature (MCP4902).                                                                      5.0V).
                    400                                                              5.5V
                                                                                     5.0V
                                                                                     4.0V
                    350                                                              3.0V
                                                                                     2.7V
      IDD (µA)
                                                                                     VDD
                    300
                    250
                    200
                          -40      -20     0  20 40 60 80 100 120
                                          Ambient Temperature (ºC)
FIGURE 2-15:                                     IDD vs. Temperature and
VDD.
 2010 Microchip Technology Inc.                                                                                                                                     DS22250A-page 11


MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                          2                                                                                          -0.08                                             VDD
                                                                                    5.5V
                                                                                                                                                                       5.5V
                      1.5                                                           5.0V                              -0.1
                                                                                               Gain Error (%)
   ISHDN (μA)
                                                                                                                                                                       5.0V
                                                                                    4.0V
                          1                                                                                          -0.12
                                                                                    3.0V
                                                                                    2.7V
                                                                                                                                                                       4.0V
                      0.5                                                           VDD
                                                                                                                     -0.14                                             3.0V
                                                                                                                                                                       2.7V
                          0                                                                                          -0.16
                              -40       -20     0   20 40 60 80 100 120                                                      -40    -20    0   20 40 60 80 100 120
                                                Ambient Temperature (ºC)                                                                  Ambient Temperature (ºC)
FIGURE 2-18:      Hardware Shutdown Current                                                FIGURE 2-21:      Gain Error vs. Ambient
vs. Ambient Temperature and VDD.                                                           Temperature and VDD.
                      6                                                                                                                                                VDD
                                                                                                                      4
                                                                                    5.5V
                      5                                                                                                                                                5.5V
                                                                                    5.0V                             3.5
                                                                                             VIN Hi Threshold (V)
                                                                                                                                                                       5.0V
                      4
   ISHDN_SW (μA)
                                                                                    4.0V                              3
                      3                                                                                              2.5
                                                                                    3.0V                                                                                4.0V
                                                                                    2.7V
                      2                                                                                               2
                                                                                VDD                                                                                     3.0V
                      1                                                                                              1.5                                                2.7V
                      0                                                                                               1
                          -40       -20         0   20    40  60   80 100 120                                              -40     -20    0   20 40 60 80 100 120
                                                 Ambient Temperature (ºC)                                                                 Ambient Temperature (ºC)
FIGURE 2-19:      Software Shutdown Current                                                FIGURE 2-22:      VIN High Threshold vs
vs. Ambient Temperature and VDD.                                                           Ambient Temperature and VDD.
                      0.12
                                                                                                                     1.6                                               VDD
                          0.1
                                                                                             VIN Low Threshold (V)
                                                                                                                     1.5
                                                                                                                                                                       5.5V
   Offset Error (%)
                      0.08                                                                                           1.4
                                                                                                                                                                       5.0V
                                                                                    VDD                              1.3
                      0.06
                                                                                                                     1.2
                      0.04                                                                                                                                             4.0V
                                                                                    5.5V
                                                                                                                     1.1
                      0.02
                                                                                                                      1
                              0                                                                                                                                        3.0V
                                                                                    5.0V                             0.9
                                                                                    4.0V                                                                               2.7V
                      -0.02                                                         3.0V
                                                                                    2.7V                             0.8
                                  -40     -20     0   20   40   60   80   100 120                                          -40     -20     0  20 40 60 80 100 120
                                                  Ambient Temperature (ºC)                                                                Ambient Temperature (ºC)
FIGURE 2-20:      Offset Error vs. Ambient                                                 FIGURE 2-23:      VIN Low Threshold vs
Temperature and VDD.                                                                       Ambient Temperature and VDD.
DS22250A-page 12                                                                                                                                2010 Microchip Technology Inc.


                                                                                         MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                                   2.5                                                                                    0.0045                                                    VDD
                                                                               VDD
                                  2.25
                                                                                             VOUT_LOW Limit (Y-AVSS)(V)
                                                                               5.5V                                        0.004
   VIN_SPI Hysteresis (V)
                                     2                                                                                                                                              5.5V
                                                                               5.0V
                                  1.75                                                                                    0.0035
                                   1.5
                                                                               4.0V                                        0.003
                                  1.25
                                                                                                                                                                                    5.0V
                                     1
                                                                               3.0V                                       0.0025
                                  0.75                                         2.7V                                                                                                 4.0V
                                                                                                                                                                                    3.0V
                                   0.5                                                                                     0.002                                                    2.7V
                                  0.25
                                     0                                                                                    0.0015
                                         -40 -20     0   20 40 60 80 100 120                                                         -40 -20       0    20   40   60   80 100 120
                                                    Ambient Temperature (ºC)                                                                   Ambient Temperature (ºC)
FIGURE 2-24:      Input Hysteresis vs. Ambient                                          FIGURE 2-27:      VOUT Low Limit vs. Ambient
Temperature and VDD.                                                                    Temperature and VDD.
                                                                                                                          18                                                        VDD
                                   175                                         5.5V -
                                                                               2.7V                                       17
      VREF_UNBUFFERED Impedance
                                                                                                                                                                                    5.5V
                                                                               VDD                                                                                                  5.0V
                                                                                          IOUT_HI_SHORTED (mA)
                                                                                                                          16                                                        4.0V
                                   170                                                                                                                                              3.0V
                                                                                                                          15                                                        2.7V
                                   165                                                                                    14
                                                                                                                          13
               (kOhm)
                                   160                                                                                    12
                                                                                                                          11
                                   155                                                                                    10
                                          -40 -20    0   20 40 60 80 100 120                                                   -40   -20     0   20 40 60 80 100 120
                                                    Ambient Temperature (ºC)                                                                Ambient Temperature (ºC)
FIGURE 2-25:      VREF Input Impedance vs.                                              FIGURE 2-28:      IOUT High Short vs. Ambient
Ambient Temperature and VDD.                                                            Temperature and VDD.
                                  0.045                                                                                   6.0
                                                                               5.5V
                                   0.04                                        5.0V
       VOUT_HI Limit (VDD-Y)(V)
                                                                                                                          5.0
                                  0.035
                                                                               4.0V                                                     VREF=4.0
                                   0.03                                                                                   4.0
                                                                                           VOUT (V)
                                                                                                                                     Output Shorted to VDD
                                  0.025                                        3.0V
                                                                               2.7V                                       3.0
                                   0.02
                                  0.015                                        VDD                                        2.0
                                   0.01
                                                                                                                          1.0        Output Shorted to VSS
                                  0.005
                                     0                                                                                    0.0
                                          -40 -20    0   20 40 60 80 100 120                                                    0       2      4        6      8  10    12   14     16
                                                    Ambient Temperature (ºC)                                                                            IOUT (mA)
FIGURE 2-26:      VOUT High Limit vs. Ambient                                           FIGURE 2-29:                                                   IOUT vs VOUT. Gain = 1x.
Temperature and VDD.
 2010 Microchip Technology Inc.                                                                                                                                       DS22250A-page 13


MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.048V, Gain = 2x, RL = 5 k, CL = 100 pF.
                                                                 VOUT
  VOUT
   SCK
 LDAC                                                           LDAC
                   Time (1 µs/div)                                                          Time (1 µs/div)
FIGURE 2-30:          VOUT Rise Time.                        FIGURE 2-33:                     VOUT Rise Time.
  VOUT
                                                                VOUT
                                                                 SCK
   SCK
 LDAC                                                          LDAC
                   Time (1 µs/div)                                                          Time (1 µs/div)
FIGURE 2-31:          VOUT Fall Time.                        FIGURE 2-34:                     VOUT Rise Time Exit
                                                             Shutdown.
                                                                    Ripple Rejection (dB)
   VOUT
   SCK
  LDAC
                   Time (1 µs/div)                                                           Frequency (Hz)
FIGURE 2-32:          VOUT Rise Time.                        FIGURE 2-35:                     PSRR vs. Frequency.
DS22250A-page 14                                                                                2010 Microchip Technology Inc.


                                                                                 MCP4902/4912/4922
Note: Unless otherwise indicated, TA = +25°C, VDD = 5V, VSS = 0V, VREF = 2.50V, Gain = 2x, RL = 5 k, CL = 100 pF.
                                                                                                   0                                 D=   160
                                                                                                                                     D=   416
                       0                                            D=   160                                                         D=   672
                                                                    D=   416                                                         D=   928
                                                                    D=   672                      -45                                D=   1184
                       -2                                           D=   928
                                                                                  qVREF – qVOUT
                                                                                                                                     D=   1440
   Attenuation (dB)
                                                                    D=   1184
                       -4                                           D=   1440                                                        D=   1696
                                                                    D=   1696
                                                                                                  -90                                D=   1952
                                                                    D=   1952
                                                                                                                                     D=   2208
                       -6                                           D=   2208
                                                                    D=   2464                                                        D=   2464
                                                                    D=   2720                                                        D=   2720
                       -8                                           D=   2976              -135                                      D=   2976
                                                                    D=   3232                                                        D=   3232
                      -10                                           D=   3488
                                                                                                                                     D=   3488
                                                                    D=   3744
                                                                                                                                     D=   3744
                                                                                           -180
                      -12
                                                                                               100                           1,000
                         100
                                 Frequency (kHz)
                                                            1,000                                       Frequency (kHz)
FIGURE 2-36:                         Multiplier Mode Bandwidth.                 FIGURE 2-38:                Phase Shift.
 Note:
                            VOUT               Dn • G
                                    - 20 log (
                                               4096 )
 Attenuation (dB) = 20 log (
                             VREF )
                      600
                      580
                      560
   Bandwidth (kHz)
                      540
                      520
                      500                                    G=1
                      480
                      460                                    G=2
                      440
                      420
                      400
                            37
                            34
                            32
                            29
                            27 44
                               88
                               32
                               76
                               20
                            24
                            22
                            19
                            16
                            14 64
                               08
                               52
                               96
                               40
                            11
                            92
                            67
                            41
                            168
                              2
                              6
                              084
                               Worst Case Codes (decimal)
FIGURE 2-37:                         -3 db Bandwidth vs. Worst
Codes.
 2010 Microchip Technology Inc.                                                                                           DS22250A-page 15


MCP4902/4912/4922
NOTES:
DS22250A-page 16   2010 Microchip Technology Inc.


                                                                    MCP4902/4912/4922
3.0        PIN DESCRIPTIONS
The descriptions of the pins are listed in Table 3-1.
TABLE 3-1:         PIN FUNCTION TABLE
      Pin No.           Symbol                                             Function
          1               VDD         Supply Voltage Input (2.7V to 5.5V)
          2               NC          No Connection
          3                CS         Chip Select Input
          4               SCK         Serial Clock Input
          5               SDI         Serial Data Input
          6               NC          No Connection
          7               NC          No Connection
          8              LDAC         Synchronization Input. This pin is used to transfer DAC settings (Input Registers)
                                      to the output registers (VOUT)
          9              SHDN         Hardware Shutdown Input
         10              VOUTB        DACB Output
         11              VREFB        DACB Reference Voltage Input (VSS to VDD)
         12               VSS         Ground reference point for all circuitry on the device
         13              VREFA        DACA Reference Voltage Input (VSS to VDD)
         14              VOUTA        DACA Output
3.1        Supply Voltage Pins (VDD, VSS)                        3.5        Latch DAC Input (LDAC)
VDD is the positive supply voltage input pin. The input          LDAC (latch DAC synchronization input) pin is used to
supply voltage is relative to VSS and can range from             transfer the input latch registers to their corresponding
2.7V to 5.5V. The power supply at the VDD pin should             DAC registers (output latches, VOUT). When this pin is
be as clean as possible for a good DAC performance.              low, both VOUTA and VOUTB are updated at the same
It is recommended to use an appropriate bypass                   time with their input register contents. This pin can be
capacitor of about 0.1 µF (ceramic) to ground. An                tied to low (VSS) if the VOUT update is desired at the
additional 10 µF capacitor (tantalum) in parallel is also        rising edge of the CS pin. This pin can be driven by an
recommended to further attenuate high frequency                  external control device such as an MCU I/O pin.
noise present in application boards.
                                                                 3.6        Hardware Shutdown Input (SHDN)
VSS is the analog ground pin and the current return path
                                                                 SHDN is the hardware shutdown input pin. When this
of the device. The user must connect the VSS pin to a
                                                                 pin is low, both DAC channels are shut down. DAC
ground plane through a low-impedance connection. If
                                                                 output is not available during the shutdown.
an analog ground path is available in the application
Printed Circuit Board (PCB), it is highly recommended            3.7        Analog Outputs (VOUTA, VOUTB)
that the VSS pin be tied to the analog ground path or
isolated within an analog ground plane of the circuit            VOUTA is the DAC A output pin, and VOUTB is the DAC
board.                                                           B output pin. Each output has its own output amplifier.
                                                                 The DAC output amplifier of each channel can drive the
                                                                 output pin with a range of VSS to VDD.
3.2        Chip Select (CS)
                                                                 3.8        Voltage Reference Inputs
CS is the Chip Select input, which requires an active
low signal to enable serial clock and data functions.                       (VREFA, VREFB)
                                                                 VREFA is the voltage reference input for DAC channel
3.3        Serial Clock Input (SCK)                              A, and VREFB is the reference input for DAC channel B.
                                                                 The reference on these pins is utilized to set the
SCK is the SPI compatible serial clock input pin.                reference voltage on the string DAC. The input signal
                                                                 can range from VSS to VDD. These pins can be tied to
3.4        Serial Data Input (SDI)                               VDD.
SDI is the SPI compatible serial data input pin.
 2010 Microchip Technology Inc.                                                                         DS22250A-page 17


MCP4902/4912/4922
NOTES:
DS22250A-page 18   2010 Microchip Technology Inc.


                                                                     MCP4902/4912/4922
4.0        GENERAL OVERVIEW                                       TABLE 4-1:          LSb OF EACH DEVICE
The MCP4902, MCP4912 and MCP4922 are dual                                              Gain
                                                                        Device                          LSb Size
voltage-output 8-bit, 10-bit and 12-bit DAC devices,                                 Selection
respectively. These devices include input amplifiers,                 MCP4902            1x     VREF/256
rail-to-rail output amplifiers, reference buffers for                   (n = 8)          2x     (2* VREF)/256
external      voltage      reference,                shutdown and
reset-management circuitry. The devices use an SPI                    MCP4912            1x     VREF/1024
serial communication interface and operate with a                      (n = 10)          2x     (2* VREF)/1024
single supply voltage from 2.7V to 5.5V.                              MCP4922            1x     VREF/4096
The DAC input coding of these devices is straight                      (n = 12)          2x     (2* VREF)/4096
binary. Equation 4-1 shows the DAC analog output                    where VREF is the external voltage reference.
voltage calculation.
                                                                  4.1        DC Accuracy
EQUATION 4-1:             ANALOG OUTPUT
                          VOLTAGE (VOUT)                          4.1.1         INL ACCURACY
                        VREF  Dn                               Integral Non-Linearity (INL) error is the maximum
             VOUT = ------------------------------
                                    n
                                                 - G              deviation between an actual code transition point and
                                 2
 Where:                                                           its corresponding ideal transition point, after offset and
                                                                  gain errors have been removed. The two end points
  VREF     =   EXternal voltage reference                         (from 0x000 and 0xFFF) method is used for the calcu-
      Dn   =    DAC input code                                    lation. Figure 4-1 shows the details.
      G    =    Gain Selection                                    A positive INL error represents transition(s) later than
           =   2 for <GA> bit = 0                                 ideal. A negative INL error represents transition(s) ear-
           =   1 for <GA> bit = 1                                 lier than ideal.
       n   =   DAC Resolution
           =   8 for MCP4902
           =   10 for MCP4912                                                                      INL < 0
           =   12 for MCP4922                                                    111
                                                                                        Actual
                                                                                 110    Transfer
The ideal output range of each device is:                                               Function
                                                                                 101
• MCP4902 (n = 8)
(a) 0 V to 255/256 * VREF when gain setting = 1x.                    Digital     100
                                                                     Input
(b) 0 V to 255/256 * 2 * VREF when gain setting = 2x.                Code        011                       Ideal Transfer
• MCP4912 (n = 10)
                                                                                                           Function
(a) 0 V to 1023/1024 * VREF when gain setting = 1x.                              010
(b) 0 V to 1023/1024 * 2 * VREF when gain setting = 2x.                          001
• MCP4922 (n = 12)
                                                                                 000
(a) 0 V to 4095/4096 * VREF when Gain setting = 1x.
                                                                                                    INL < 0
(b) 0 V to 4095/4096 * 2 * VREF when gain setting = 2x.
                                                                                             DAC Output
   Note:     See the output swing voltage specification
             in Section 1.0 “Electrical Characteris-              FIGURE 4-1:              Example for INL Error.
             tics”.
1 LSb is the ideal voltage difference between two                 4.1.2         DNL ACCURACY
successive codes. Table 4-1 illustrates the LSb
                                                                  A Differential Non-Linearity (DNL) error is the measure
calculation of each device.
                                                                  of variations in code widths from the ideal code width.
                                                                  A DNL error of zero indicates that every code is exactly
                                                                  1 LSb wide.
 2010 Microchip Technology Inc.                                                                         DS22250A-page 19


MCP4902/4912/4922
                                                            4.2.2                        VOLTAGE REFERENCE
                                                                                         AMPLIFIERS
                                                            The input buffer amplifiers for the MCP4902/4912/4922
           111
                                                            devices provide low offset voltage and low noise. A
           110                                              Configuration bit for each DAC allows the VREF input to
                   Actual
                   transfer                                 bypass the VREF input buffer amplifiers, achieving a
           101     function                                 Buffered or Unbuffered mode. Buffered mode provides
                                                            a very high input impedance, with only minor limitations
 Digital   100                         Ideal transfer       on the input range and frequency response.
 Input
                                       function             Unbuffered (<BUF> = 0) is the default configuration.
 Code      011
                                                            Unbuffered mode provides a wide input range (0V to
           010                                              VDD), with a typical input impedance of 165 k with
                                     Wide code, > 1 LSb
                                                            7 pF.
           001
                                                            4.2.3                        POWER-ON RESET CIRCUIT
           000
                                Narrow code, < 1 LSb        The internal Power-on Reset (POR) circuit monitors the
                                                            power supply voltage (VDD) during the device
                       DAC Output                           operation. The circuit also ensures that the DACs
                                                            power-up with high output impedance (<SHDN> = 0,
FIGURE 4-2:              Example for DNL Accuracy.          typically 500 k. The devices will continue to have a
                                                            high-impedance output until a valid write command is
4.1.3        OFFSET ERROR                                   performed to either of the DAC registers and the LDAC
An offset error is the deviation from zero voltage output   pin meets the input low threshold.
when the digital input code is zero.                        If the power supply voltage is less than the POR
                                                            threshold (VPOR = 2.0V, typical), the DACs will be held
4.1.4        GAIN ERROR                                     in their Reset state. The DACs will remain in that state
A gain error is the deviation from the ideal output,        until VDD > VPOR and a subsequent write command is
VREF– 1 LSb, excluding the effects of offset error.         received.
                                                            Figure 4-3 shows a typical power supply transient
4.2        Circuit Descriptions                             pulse and the duration required to cause a reset to
                                                            occur, as well as the relationship between the duration
4.2.1        OUTPUT AMPLIFIERS                              and trip voltage. A 0.1 µF decoupling capacitor,
                                                            mounted as close as possible to the VDD pin, can
The DAC’s outputs are buffered with a low-power,
                                                            provide additional transient immunity.
precision CMOS amplifier. This amplifier provides low
offset voltage and low noise. The output stage enables
the device to operate with output voltages close to the
                                                                                               5V
power supply rails. Refer to Section 1.0 “Electrical
                                                                     Supply Voltages
                                                                                                                                                 VPOR
Characteristics” for the analog output voltage range                                                                                VDD - VPOR
and load conditions.
                                                                                                                                 Transient Duration
In addition to resistive load driving capability, the
amplifier will also drive high capacitive loads without
oscillation. The amplifier’s strong outputs allow VOUT to                                                                Time
be used as a programmable voltage reference in a                                                          10
                                                                                                                            TA         =
system.
                                                                                Transient Duration (µs)
                                                                                                           8
Selecting a gain of 2 reduces the bandwidth of the
                                                                                                           6
amplifier in Multiplying mode. Refer to Section 1.0
“Electrical Characteristics” for the Multiplying mode                                                      4
                                                                                                                         Transients     above    the
bandwidth for given load conditions.                                                                       2
                                                                                                               Transients   below     the
4.2.1.1          Programmable Gain Block                                                                   0
                                                                                                                    1      2     3     4               5
                                                                                                                        VDD – VPOR (V)
The rail-to-rail output amplifier has configurable gain,
allowing optimal full-scale outputs for different voltage   FIGURE 4-3:                                              Typical Transient Response.
reference inputs. The output amplifier gain has two
selections, a gain of 1x (<GA> = 1) or a gain of 2x
(<GA> = 0).
The default value is a gain of 2 (<GA> = 0).
DS22250A-page 20                                                                                                         2010 Microchip Technology Inc.


                                                             MCP4902/4912/4922
4.2.4         SHUTDOWN MODE
                                                                                                            VOUT
The user can shut down each DAC channel selectively                 Op
by using a software command or shut down all chan-                  Amp
nels by using the SHDN pin. During Shutdown mode,
most of the internal circuits in the channel that was shut
                                                                        Power-Down
down are turned off for power savings. The serial inter-
                                                                        Control Circuit
face remains active, thus allowing a write command to
bring the device out of the Shutdown mode. There will
be no analog output at the channel that was shut down                                   Resistive    500 k
and the VOUT pin is internally switched to a known                                       Load
                                                              Resistive String DAC
resistive load (500 k typical. Figure 4-4 shows the
analog output stage during the Shutdown mode.
The condition of the Power-on Reset circuit during the
                                                           FIGURE 4-4:              Output Stage for Shutdown
shutdown is as follows:
                                                           Mode.
a)    Turned-off, if the shutdown occurred by the
      SHDN pin;
b)    On, if the shutdown occurred by the software.
The device will remain in Shutdown mode until the
SHDN pin is brought to high or a write command with
<SHDN> bit = 1 is latched into the device. When a DAC
is changed from Shutdown to Active mode, the output
settling time takes less than 10 µs, but more than the
standard active mode settling time (4.5 µs).
 2010 Microchip Technology Inc.                                                                  DS22250A-page 21


MCP4902/4912/4922
NOTES:
DS22250A-page 22   2010 Microchip Technology Inc.


                                                             MCP4902/4912/4922
5.0       SERIAL INTERFACE                                5.2       Write Command
                                                          The write command is initiated by driving the CS pin
5.1       Overview                                        low, followed by clocking the four Configuration bits and
The MCP4902/4912/4922 devices are designed to             the 12 data bits into the SDI pin on the rising edge of
interface directly with the Serial Peripheral Interface   SCK. The CS pin is then raised, causing the data to be
(SPI) port, which is available on many microcontrollers   latched into the selected DAC’s input registers. The
and supports Mode 0,0 and Mode 1,1. Commands and          MCP4902/4912/4922 utilizes a double-buffered latch
data are sent to the device via the SDI pin, with data    structure to allow both DACA’s and DACB’s outputs to
being clocked-in on the rising edge of SCK. The           be synchronized with the LDAC pin, if desired. Upon
communications are unidirectional, thus the data          the LDAC pin achieving a low state, the values held in
cannot be read out of the MCP4902/4912/4922. The          the DAC’s input registers are transferred into the DAC’s
CS pin must be held low for the duration of a write       output registers. The outputs will transition to the value
command. The write command consists of 16 bits and        and held in the DACX register.
is used to configure the DAC’s control and data latches.  All writes to the MCP4902/4912/4922 are 16-bit words.
Register 5-1 to Register 5-3 detail the input register    Any clocks past the 16th clock will be ignored. The
that is used to configure and load the DACA and DACB      Most Significant 4 bits are Configuration bits. The
registers for each device. Figure 5-1 to Figure 5-3       remaining 12 bits are data bits. No data can be
show the write command for each device.                   transferred into the device with CS high. This transfer
Refer to Figure 1-1 and SPI Timing Specifications         will only occur if 16 clocks have been transferred into
Table for detailed input and output timing specifications the device. If the rising edge of CS occurs prior to that,
for both Mode 0,0 and Mode 1,1 operation.                 shifting of data into the input registers will be aborted.
 2010 Microchip Technology Inc.                                                                  DS22250A-page 23


MCP4902/4912/4922
REGISTER 5-1:          WRITE COMMAND REGISTER FOR MCP4922 (12-BIT DAC)
  W-x     W-x   W-x     W-0    W-x    W-x     W-x     W-x   W-x    W-x       W-x  W-x     W-x     W-x    W-x    W-x
  A/B     BUF    GA    SHDN    D11    D10      D9     D8    D7      D6       D5   D4      D3       D2     D1    D0
 bit 15                                                                                                         bit 0
REGISTER 5-2:          WRITE COMMAND REGISTER FOR MCP4912 (10-BIT DAC)
  W-x     W-x   W-x     W-0    W-x    W-x     W-x     W-x   W-x    W-x       W-x  W-x     W-x     W-x    W-x    W-x
  A/B     BUF    GA    SHDN     D9    D8       D7     D6    D5      D4       D3   D2      D1       D0      x     x
 bit 15                                                                                                         bit 0
REGISTER 5-3:          WRITE COMMAND REGISTER FOR MCP4902 (8-BIT DAC)
  W-x     W-x   W-x     W-0    W-x    W-x     W-x     W-x   W-x    W-x       W-x  W-x     W-x     W-x    W-x    W-x
  A/B     BUF    GA    SHDN     D7    D6       D5     D4    D3      D2       D1   D0       x        x      x     x
 bit 15                                                                                                         bit 0
Where:
 bit 15     A/B: DACA or DACB Selection bit
            1 = Write to DACB
            0 = Write to DACA
 bit 14     BUF: VREF Input Buffer Control bit
            1=   Buffered
            0=   Unbuffered
 bit 13     GA: Output Gain Selection bit
            1 = 1x (VOUT = VREF * D/4096)
            0 = 2x (VOUT = 2 * VREF * D/4096)
 bit 12     SHDN: Output Shutdown Control bit
            1 = Active mode operation. VOUT is available. 
            0 = Shutdown the selected DAC channel. Analog output is not available at the channel that was shut down.
                 VOUT pin is connected to 500 ktypical)
 bit 11-0   D11:D0: DAC Input Data bits. Bit x is ignored.
 Legend
 R = Readable bit                   W = Writable bit          U = Unimplemented bit, read as ‘0’
 -n = Value at POR                  1 = bit is set             0 = bit is cleared         x = bit is unknown
DS22250A-page 24                                                                        2010 Microchip Technology Inc.


                                                              MCP4902/4912/4922
     CS
              0    1     2     3      4 5  6  7  8  9   10 11   12 13 14 15   (Mode 1,1)
     SCK                                                                      (Mode 0,0)
                  config bits                      12 data bits
     SDI     A/B BUF GA SHDN D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
     LDAC
     VOUT
FIGURE 5-1:             Write Command for MCP4922 (12-bit DAC).
     CS
              0    1     2     3      4 5  6  7  8  9   10 11   12 13 14 15   (Mode 1,1)
     SCK                                                                      (Mode 0,0)
                  config bits                      12 data bits
     SDI     A/B BUF GA SHDN D9         D8 D7 D6 D5 D4 D3 D2 D1 D0      X  X
     LDAC
     VOUT
     Note:      X = “don’t care” bits
FIGURE 5-2:             Write Command for MCP4912 (10-bit DAC).
     CS
              0    1     2     3      4 5  6  7  8  9   10 11   12 13 14 15   (Mode 1,1)
     SCK                                                                      (Mode 0,0)
                  config bits                      12 data bits
     SDI     A/B BUF GA SHDN D7         D6 D5 D4 D3 D2 D1 D0     X  X   X   X
     LDAC
     VOUT
      Note:     X = “don’t care” bits
FIGURE 5-3:             Write Command for MCP4902 (8-bit DAC).
 2010 Microchip Technology Inc.                                               DS22250A-page 25


MCP4902/4912/4922
NOTES:
DS22250A-page 26   2010 Microchip Technology Inc.


                                                              MCP4902/4912/4922
6.0       TYPICAL APPLICATIONS
The MCP4902/4912/4922 family of devices are gen-                                         VDD                      VDD
eral purpose DACs intended to be used in applications
                                                            C1 = 10 µF
where a precision with low-power and moderate                                                      C2                                     C2
                                                            C2 = 0.1 µF            C1                        C1
bandwidth is required.
Applications generally suited for the devices are:                     VDD       VREFA
•   Set Point or Offset Trimming                                                                            CS1
                                                                                 VOUTA
•   Sensor Calibration
                                                                                         MCP49x2
                                                                                                   SDI
•   Digitally-Controlled Multiplier/Divider                       C1             VREFB
•   Portable Instrumentation (Battery Powered)
                                                                                 VOUTB
                                                                                                                   PIC® Microcontroller
•   Motor Control Feedback Loop
                                                             VREFA
6.1       Digital Interface
                                                             VOUTA               SDI     AVSS              SDO
                                                                       MCP49x2
The MCP4902/4912/4922 utilizes a 3-wire synchro-
nous serial protocol to transfer the DAC’s setup and                                                        SCK
                                                             VREFB
output values from the digital source. The serial proto-
col can be interfaced to SPI or Microwire peripherals        VOUTB                                        LDAC
that is common on many microcontroller units (MCUs),
including Microchip’s PIC® MCUs and dsPIC® DSCs.
                                                                                                           CS0
In addition to the three serial connections (CS, SCK
and SDI), the LDAC signal synchronizes the two DAC                     AVSS                                       VSS
outputs. By bringing down the LDAC pin to “low”, all
DAC input codes and settings in the two DAC input
                                                            FIGURE 6-1:                Typical Connection
registers are latched into their DAC output registers at
the same time. Therefore, both DACA and DACB
                                                            Diagram.
outputs are updated at the same time. Figure 6-1
shows an example of the pin connections. Note that the      6.3        Layout Considerations
LDAC pin can be tied low (VSS) to reduce the required
                                                            Inductively-coupled AC transients and digital switching
connections from 4 to 3 I/O pins. In this case, the DAC
                                                            noises can degrade the input and output signal
output can be immediately updated when a valid
                                                            integrity, and potentially reduce the device perfor-
16-clock transmission has been received and CS pin
                                                            mance. Careful board layout will minimize these effects
has been raised.
                                                            and increase the Signal-to-Noise Ratio (SNR). Bench
                                                            testing has shown that a multi-layer board utilizing a
6.2       Power Supply Considerations                       low-inductance ground plane, isolated inputs and
The typical application will require a bypass capacitor     isolated outputs with proper decoupling, is critical for
in order to filter high-frequency noise. The noise can be   the best performance. Particularly harsh environments
induced onto the power supply’s traces from various         may require shielding of critical signals.
events such as digital switching or as a result of          Breadboards and wire-wrapped boards are not
changes on the DAC’s output. The bypass capacitor           recommended if low noise is desired.
helps to minimize the effect of these noise sources.
Figure 6-1 illustrates an appropriate bypass strategy. In
this example, two bypass capacitors are used in
parallel: (a) 0.1 µF (ceramic) and (b) 10 µF (tantalum).
These capacitors should be placed as close to the
device power pin (VDD) as possible (within 4 mm).
The power source supplying these devices should be
as clean as possible. If the application circuit has
separate digital and analog power supplies, VDD and
VSS should reside on the analog plane.
 2010 Microchip Technology Inc.                                                                         DS22250A-page 27


MCP4902/4912/4922
6.4        Single-Supply Operation                                    6.4.1.1        Decreasing Output Step Size
The MCP4902/4912/4922 family of devices are rail-to-                  If the application is calibrating the bias voltage of a
rail voltage output DAC devices designed to operate                   diode or transistor, a bias voltage range of 0.8V may be
with a VDD range of 2.7V to 5.5V. Its output amplifier is             desired with about 200 µV resolution per step. Two
robust enough to drive small-signal loads directly.                   common methods to achieve a 0.8V range is to either
Therefore, it does not require any external output buffer             reduce VREF to 0.82V or use a voltage divider on the
for most applications.                                                DAC’s output.
                                                                      Using a VREF is an option if the VREF is available with
6.4.1        DC SET POINT OR CALIBRATION                              the desired output voltage range. However,
A common application for the DAC devices is                           occasionally, when using a low-voltage VREF, the noise
digitally-controlled set points and/or calibration of                 floor causes SNR error that is intolerable. Using a
variable parameters, such as sensor offset or slope.                  voltage divider method is another option and provides
For example, the MCP4922 provides 4096 output                         some advantages when VREF needs to be very low or
steps. If the external voltage reference (VREF) is                    when the desired output voltage is not available. In this
4.096V, the LSb size is 1 mV. If a smaller output step                case, a larger value VREF is used while two resistors
size is desired, a lower external voltage reference is                scale the output range down to the precise desired
needed.                                                               level.
                                                                      Example 6-1 illustrates this concept. Note that the
                                                                      bypass capacitor on the output of the voltage divider
                                                                      plays a critical function in attenuating the output noise
                                                                      of the DAC and the induced noise from the
                                                                      environment.
EXAMPLE 6-1:             EXAMPLE CIRCUIT OF SET POINT OR THRESHOLD CALIBRATION
    (a) Single Output DAC:
                         MCP4901                                        VDD
                         MCP4911
                         MCP4921
    (b) Dual Output DAC:
                         MCP4902
                         MCP4912
                         MCP4922                                                                        VCC+
                                                                 RSENSE
                            VDD
                 VREF                                                                                                    VO
                                                                                                   Comparator
                                                          R1                              VTRIP
                                              VOUT
                              DAC
                                                                                   0.1 uF               VCC–
                                                             R2
               SPI
                       3-wire
                                          Dn
                   V OUT = V REF  G  ------                 G = Gain selection (1x or 2x)
                                              N
                                           2                 Dn = Digital value of DAC (0-255) for MCP4901/MCP4902
                                                                = Digital value of DAC (0-1023) for MCP4911/MCP4912
                                    R2                        = Digital value of DAC (0-4095) for MCP4921/MCP4922
                    Vtrip = V OUT  --------------------
                                    R1 + R2                 N = DAC Bit Resolution
DS22250A-page 28                                                                                 2010 Microchip Technology Inc.


                                                                                                       MCP4902/4912/4922
6.4.1.2          Building a “Window” DAC                                                            If the threshold is not near VREF or VSS, then creating
                                                                                                    a “window” around the threshold has several
When calibrating a set point or threshold of a sensor,
                                                                                                    advantages. One simple method to create this
typically only a small portion of the DAC output range is
                                                                                                    “window” is to use a voltage divider network with a
utilized. If the LSb size is adequate enough to meet the
                                                                                                    pull-up and pull-down resistor. Example 6-2 and
application’s accuracy needs, the unused range is
                                                                                                    Example 6-4 illustrate this concept.
sacrificed without consequences. If greater accuracy is
needed, then the output range will need to be reduced
to increase the resolution around the desired threshold.
EXAMPLE 6-2:              SINGLE-SUPPLY “WINDOW” DAC
  (a) Single Output DAC:
                         MCP4901
                         MCP4911
                         MCP4921
  (b) Dual Output DAC:
                         MCP4902
                         MCP4912
                         MCP4922
                                                                                            VCC+                                       VCC+
                                                                                                    Rsense
                       VREF       VDD
                                                                                         R3                                        Comparator
                                                                                    R1                                Vtrip
                                                                VOUT
                                     DAC
                                                                                                                                       VCC-
                                                                                         R2                          0.1 µF
                   SPI
                            3
                                                                                            VCC-
                              Dn
      V OUT = VREF  G  ------ N
                              2
       G = Gain selection (1x or 2x)
      Dn = Digital value of DAC (0-255) for MCP4901/MCP4902
          = Digital value of DAC (0-1023) for MCP4911/MCP4912
          = Digital value of DAC (0-4095) for MCP4921/MCP4922
       N = DAC Bit Resolution
                                      R 2 R3
                           R 23 = ------------------                                                      R1
                                   R2 + R 3                                                      VOUT                  VO
        Thevenin
        Equivalent                  V CC+ R2  +  VCC- R3 
                           V 23  = -----------------------------------------------------                            R23
                                                    R 2 + R3
                                      V OUT R23 + V 23 R1
                           V trip = --------------------------------------------                                V23
                                                  R 2 + R23
 2010 Microchip Technology Inc.                                                                                                         DS22250A-page 29


MCP4902/4912/4922
6.5       Bipolar Operation                                           Example 6-3 illustrates a simple bipolar voltage source
                                                                      configuration. R1 and R2 allow the gain to be selected,
Bipolar operation is achievable using the MCP4902/                    while R3 and R4 shift the DAC’s output to a selected
4912/4922 family of devices by using an external                      offset. Note that R4 can be tied to VREF instead of VSS,
operational amplifier (op amp). This configuration is                 if a higher offset is desired. Also note that a pull-up to
desirable due to the wide variety and availability of op              VREF could be used instead of R4, if a higher offset is
amps. This allows a general purpose DAC, with its cost                desired.
and availability advantages, to meet almost any
desired output voltage range, power and noise
performance.
EXAMPLE 6-3:                       DIGITALLY-CONTROLLED BIPOLAR VOLTAGE SOURCE                                                                   2
    (a) Single Output DAC:                                                                        VREF
                                      MCP4901        VREF VDD
                                      MCP4911                                                                   R1                       VCC+
                                      MCP4921                                                                                                                   VO
                                                                       VOUT           R3
    (b) Dual Output DAC:                                                                                                  VIN+
                                      MCP4902               DAC
                                     MCP4912                                                                                             VCC–
                                     MCP4922                                               R4                         0.1 µF
                                                  SPI
                                                        3
                                      Dn
      VOUT = V REF  G  ------         N
                                      2                    G = Gain selection (1x or 2x)
              V OUT R4                                     Dn = Digital value of DAC (0-255) for MCP4901/MCP4902
      VIN+  = --------------------
               R3 + R 4                                       = Digital value of DAC (0-1023) for MCP4911/MCP4912
                                                              = Digital value of DAC (0-4095) for MCP4921/MCP4922
                                  R2         R2
      VO = V IN+  1 + ------ – VDD  ------             N = DAC Bit Resolution
                                 R1       R 1
6.5.1        DESIGN EXAMPLE: DESIGN A BIPOLAR
             DAC USING EXAMPLE 6-3 WITH 12-BIT                                  –R2                – 2.05          – 2.05                      R2         1
                                                                                --------- = ------------- = -------------                      ------ = ---
             MCP4922 OR MCP4921                                                   R1               V REF              4.1                      R1         2
An output step magnitude of 1 mV with an output range                   If R1 = 20 k and R2 = 10 k, the gain will be 0.5.
of ±2.05V is desired for a particular application.
The following steps show the details:                                 Step 4: Next, solve for R3 and R4 by setting the DAC to
                                                                                4096, knowing that the output needs to be
Step 1: Calculate the range: +2.05V – (-2.05V) = 4.1V.                          +2.05V.
Step 2: Calculate the resolution needed:
         4.1V/1 mV = 4100                                                                      R4               2.05V + 0.5V REF                            2
                                                                                      ----------------------- = ----------------------------------------- = ---
         Since 212 = 4096, 12-bit resolution is                                        R3 + R 4                          1.5VREF                          3
         desired.
                                                                        If R4 = 20 k, then R3 = 10 k
Step 3:The amplifier gain (R2/R1), multiplied by VREF,
         must be equal to the desired minimum output
         to achieve bipolar operation. Since any gain
         can be realized by choosing resistor values
         (R1+R2), the VREF source needs to be deter-
         mined first. If a VREF of 4.1V is used, solve for
         the gain by setting the DAC to 0, knowing that
         the output needs to be -2.05V. The equation
         can be simplified to:
DS22250A-page 30                                                                                                   2010 Microchip Technology Inc.


                                                                                                                  MCP4902/4912/4922
6.6       Selectable Gain and Offset Bipolar                                                                  This circuit is typically used in Multiplier mode and is
          Voltage Output Using a Dual DAC                                                                     ideal for linearizing a sensor whose slope and offset
                                                                                                              varies. Refer to Section 6.9 “Using Multiplier Mode”
In some applications, precision digital control of the                                                        for more information on Multiplier mode.
output range is desirable. Example 6-4 illustrates how
                                                                                                              The equation to design a bipolar “window” DAC would
to use the MCP4902/4912/4922 to achieve this in a
                                                                                                              be utilized if R3, R4 and R5 are populated.
bipolar or single-supply application.
EXAMPLE 6-4:                          BIPOLAR VOLTAGE SOURCE WITH SELECTABLE GAIN AND OFFSET
                                                                                                                                        R2
                                       VREFA VDD
                                                                                                                                       VCC+
                                                                                           R1
                                                                                  VOUTA
                                                              DACA
  Dual Output DAC:
             MCP4902                                                                                      VCC+
                                                             VDD       DACA (Gain Adjust)                                                                     VO
             MCP4912 VREFB
             MCP4922                                                                                              R5
                                                                                  VOUTB    R3
                                                              DACB
                                     SPI                               DACB (Offset Adjust)                       R4
                                                                                                                        0.1uF          VCC–
                                                        3
                                                                                                          VCC–
                                                  DA
      VOUTA =  V REFA G A  ------                   N
                                                        -
                                                   2
                                                  DB                                         GX = Gain selection (1x or 2x)
      V OUTB =  VREFB G B  ------                    -
                                                     N                                       N = DAC Bit Resolution
                                                  2
                                                                                       DA, DB = Digital value of DAC (0-255) for MCP4902
              VOUTB R 4 + VCC- R3
     V IN+ = ------------------------------------------------                                  = Digital value of DAC (0-1023) for MCP4912
                            R3 + R4
                                                                                               = Digital value of DAC (0-4095) for MCP4922
                                 R2                              R2
      V O = V IN+  1 + ------ – V OUTA  ------
                                R 1                           R 1
            Offset Adjust Gain Adjust
                                                                      Bipolar “Window” DAC using R4 and R5
     Thevenin                                    V CC+ R4 + V CC- R 5                             R4 R5
     Equivalent                V45 = --------------------------------------------       R 45 = ------------------
                                                             R4 + R5                           R4 + R5
                                                VOUTB R 45 + V45 R 3                                               R2             R2
                           V IN+ = -----------------------------------------------      V O = VIN+  1 + ------ – V OUTA  ------
                                                             R3 + R 45                                            R 1          R 1
                                                                                              Offset Adjust Gain Adjust
 2010 Microchip Technology Inc.                                                                                                                     DS22250A-page 31


MCP4902/4912/4922
6.7       Designing a Double-Precision                                              Step 1: Calculate the resolution needed:
          DAC Using a Dual DAC                                                              4.1V/1 µV = 4.1x106. Since 222 = 4.2x106, 22-
                                                                                            bit resolution is desired. Since DNL = ±0.75
Example 6-5 illustrates how to design a single-supply                                       LSb, this design can be attempted with the
voltage output capable of up to 24-bit resolution from a                                    MCP4922.
dual 12-bit DAC. This design is simply a voltage divider
                                                                                    Step 2: Since DACB’s VOUTB has a resolution of 1 mV,
with a buffered output.
                                                                                            its output only needs to be “pulled” 1/1000 to
As an example, if a application similar to the one                                          meet the 1 µV target. Dividing VOUTA by 1000
developed in Section 6.5.1 “Design Example: Design                                          would allow the application to compensate for
a Bipolar DAC Using Example 6-3 with 12-bit                                                 DACB’s DNL error.
MCP4922 or MCP4921” required a resolution of 1 µV
                                                                                    Step 3: If R2 is 100, then R1 needs to be 100 k.
instead of 1 mV and a range of 0V to 4.1V, then 12-bit
resolution would not be adequate.                                                   Step 4:The resulting transfer function is not perfectly
                                                                                            linear, as shown in the equation of
                                                                                            Example 6-5.
EXAMPLE 6-5:            SIMPLE, DOUBLE-PRECISION DAC WITH MCP4922
           VREF     VDD
                                                                                              VCC+
                                                     VOUTA
                  MCP4922                                                                                         VO
                                        DACA (Fine Adjust)                   R1
                    VDD
                                                      R1 >> R2
                                                       VOUTB                 R2                VCC–
                  MCP4922                                                       0.1 µF
                                       DACB (Course Adjust)
          SPI
                 3
                                                          DA
                 V OUTA = VREFA GA -------                   12                                 G = Gain selection (1x or 2x)
                                                         2                                      D = Digital value of DAC (0- 4096)
                        VOUTA R 2 + VOUTB R 1
                 V O = -----------------------------------------------------
                                         R 1 + R2
                                                          DB
                 V OUTB = VREFB GB -------                   12
                                                         2
DS22250A-page 32                                                                                               2010 Microchip Technology Inc.


                                                                          MCP4902/4912/4922
6.8        Building Programmable Current                               When working with very small sensor voltages, plan on
           Source                                                      eliminating the amplifier’s offset error by storing the
                                                                       DAC’s setting under known sensor conditions.
Example 6-6 shows an example for building a
programmable current source using a voltage follower.
The current sensor (sensor resistor) is used to convert
the DAC voltage output into a digitally-selectable
current source.
Adding the resistor network from Example 6-2 would
be advantageous in this application. The smaller Rsense
is, the less power dissipated across it. However, this
also reduces the resolution that the current can be
controlled with. The voltage divider, or “window”, DAC
configuration would allow the range to be reduced, thus
increasing resolution around the range of interest.
EXAMPLE 6-6:                            DIGITALLY-CONTROLLED CURRENT SOURCE
                                                                                                      VDD or VREF
                                                     VREF    VDD
     (a) Single Output DAC:                                                                             Load
                                                                                       VCC+
                                          MCP4901
                                          MCP4911
                                                                           VOUT                               IL
                                          MCP4921            DAC
    (b) Dual Output DAC:                                                                          Ib
                                          MCP4902     SPI
                                                                                       VCC–
                                          MCP4912          3-wire
                                          MCP4922
                                                                                               RSENSE
            IL
      Ib = ----
            
            VOUT                                           G = Gain select (1x or 2x)
      IL = ---------------  ------------                    Dn = Digital value of DAC (0-255) for MCP4901/MCP4902
            R sense  + 1
                                                                = Digital value of DAC (0-1023) for MCP4911/MCP4912
      where Common-Emitter Current Gain                   = Digital value of DAC (0-4095) for MCP4921/MCP4922
                                           Dn                N = DAC Bit Resolution
      VOUT = V REF  G  ------              N
                                           2
 2010 Microchip Technology Inc.                                                                             DS22250A-page 33


MCP4902/4912/4922
6.9       Using Multiplier Mode                                 If the gain selection bit is configured for 1x mode
                                                                (<GA> = 1), the resulting input signal will be attenuated
The MCP4902/4912/4922 family of devices use exter-              by D/2n. With the 12-bit DAC (MCP4921 or MCP4922),
nal reference, and these devices are ideally suited for         if the gain is configured for 2x mode (<GA> = 0), the
use as a multiplier/divider in a signal chain. The              codes less than 2048 attenuate the signal, while the
common applications are: (a) Precision programmable             codes greater than 2048 gain the signal.
gain/attenuator amplifiers and (b) Motor control
feedback loop. The wide input range (0V – VDD) is in            A DAC provides significantly more gain/attenuation
Unbuffered mode and near rail-to-rail range in Buffered         resolution when compared to typical Programmable
mode: its bandwidth (> 400 kHz), selectable 1x/2x gain          Gain Amplifiers. Adding an op amp to buffer the output,
and low power consumption give maximum flexibility to           as illustrated in Examples 6-2 to 6-6, extends the
meet the application’s needs.                                   output range and power to meet the precise needs of
                                                                the application.
To configure the MCP4902/4912/4922 family of
devices for multiple applications, connect the input sig-
nal to VREF and serially configure the DAC’s input buf-
fer, gain and output value. The DAC’s output can utilize
any of Examples 6-1 to 6-6, depending on the applica-
tion requirements. Example 6-7 is an illustration of how
the DAC can operate in a motor control feedback loop.
EXAMPLE 6-7:            MULTIPLIER MODE USING VREF INPUT
                                                                                    VRPM_SET
                                                                                    VRPM
               (a) Single Output DAC:
                                                                       ZFB
                                    MCP4901
                                                            VDD
                                    MCP4911                                             VCC+
                                    MCP4921                                              +
                                                                        VOUT
               (b) Dual Output DAC:              VREF        DAC
                                    MCP4902
                                    MCP4912                                              –
                                    MCP4922
                                                    SPI                                 VCC-
                                                          3
                                                                                              Rsense
                                                                         Dn
                                                     V OUT = V REF  G  ------
                                                                             N
                                                                         2
DS22250A-page 34                                                                          2010 Microchip Technology Inc.


                                                     MCP4902/4912/4922
7.0      DEVELOPMENT SUPPORT
7.1      Evaluation and Demonstration
         Boards
The Mixed Signal PICtailTM Demo Board supports the
MCP4902/4912/4922 family of devices. Please refer to
www.microchip.com for further information on this
products capabilities and availability.
 2010 Microchip Technology Inc.                                DS22250A-page 35


MCP4902/4912/4922
NOTES:
DS22250A-page 36   2010 Microchip Technology Inc.


                                                                      MCP4902/4912/4922
8.0     PACKAGING INFORMATION
8.1     Package Marking Information
         14-Lead PDIP (300 mil)                                              Example:
               XXXXXXXXXXXXXX                                                            MCP4922
               XXXXXXXXXXXXXX                                                               E/P e3
                     YYWWNNN                                                              1011256
         14-Lead SOIC (150 mil)                                              Example:
                     XXXXXXXXXX                                                             MCP4922
                     XXXXXXXXXX
                                                                                             E/SL e3
                        YYWWNNN                                                              1011256
         14-Lead TSSOP                                                       Example:
                XXXXXX                                                          4922E/ST
                  YYWW                                                               1011
                   NNN                                                                256
                Legend: XX...X       Customer-specific information
                            Y        Year code (last digit of calendar year)
                            YY       Year code (last 2 digits of calendar year)
                            WW       Week code (week of January 1 is week ‘01’)
                            NNN      Alphanumeric traceability code
                             e3      Pb-free JEDEC designator for Matte Tin (Sn)
                            *        This package is Pb-free. The Pb-free JEDEC designator ( e3 )
                                     can be found on the outer packaging for this package.
                Note:    In the event the full Microchip part number cannot be marked on one line, it will
                         be carried over to the next line, thus limiting the number of available characters
                         for customer-specific information.
 2010 Microchip Technology Inc.                                                                        DS22250A-page 37


MCP4902/4912/4922
                     
    !     )RUWKHPRVWFXUUHQWSDFNDJHGUDZLQJVSOHDVHVHHWKH0LFURFKLS3DFNDJLQJ6SHFLILFDWLRQORFDWHGDW
             KWWSZZZPLFURFKLSFRPSDFNDJLQJ
                            N
     NOTE 1
                                                                         E1
                            1     2     3
                                            D
                                                                                                         E
            A                                                          A2
                                                                                L                                         c
             A1
                                      b1
                                    b                     e                                              eB
                                                                8QLWV                 ,1&+(6
                                                    'LPHQVLRQ/LPLWV       0,1          120            0$;
                    1XPEHURI3LQV                                1                      
                    3LWFK                                          H                 %6&
                    7RSWR6HDWLQJ3ODQH                          $          ±            ±            
                    0ROGHG3DFNDJH7KLFNQHVV                     $                            
                    %DVHWR6HDWLQJ3ODQH                        $                   ±              ±
                    6KRXOGHUWR6KRXOGHU:LGWK                    (                            
                    0ROGHG3DFNDJH:LGWK                         (                            
                    2YHUDOO/HQJWK                                '                            
                    7LSWR6HDWLQJ3ODQH                           /                           
                    /HDG7KLFNQHVV                                 F                           
                    8SSHU/HDG:LGWK                              E                           
                    /RZHU/HDG:LGWK                               E                           
                    2YHUDOO5RZ6SDFLQJ                       H%          ±            ±            
  !
 3LQYLVXDOLQGH[IHDWXUHPD\YDU\EXWPXVWEHORFDWHGZLWKWKHKDWFKHGDUHD
 6LJQLILFDQW&KDUDFWHULVWLF
 'LPHQVLRQV'DQG(GRQRWLQFOXGHPROGIODVKRUSURWUXVLRQV0ROGIODVKRUSURWUXVLRQVVKDOOQRWH[FHHGSHUVLGH
 'LPHQVLRQLQJDQGWROHUDQFLQJSHU$60(<0
       %6&%DVLF'LPHQVLRQ7KHRUHWLFDOO\H[DFWYDOXHVKRZQZLWKRXWWROHUDQFHV
                                                                                          0LFURFKLS 7HFKQRORJ\ 'UDZLQJ &%
DS22250A-page 38                                                                                   2010 Microchip Technology Inc.


                                                                          MCP4902/4912/4922
           " #  "  $$&' *+   "#/
    !     )RUWKHPRVWFXUUHQWSDFNDJHGUDZLQJVSOHDVHVHHWKH0LFURFKLS3DFNDJLQJ6SHFLILFDWLRQORFDWHGDW
             KWWSZZZPLFURFKLSFRPSDFNDJLQJ
                                              D
                                 N
                                                                      E
                                                                  E1
                 NOTE 1
                                 1   2    3
                                                          e
                                                                                                 h
                                        b
                                                                                                               α
                                                                                      h
                                                                            φ                                     c
                       A                                           A2
                        A1                                                        L
                                                                                         L1            β
                                                                8QLWV               0,//,0(7(56
                                                    'LPHQVLRQ/LPLWV        0,1          120           0$;
                    1XPEHURI3LQV                                1                        
                    3LWFK                                         H                    %6&
                    2YHUDOO+HLJKW                                $          ±              ±          
                    0ROGHG3DFNDJH7KLFNQHVV                     $                     ±            ±
                    6WDQGRII                                  $                     ±          
                    2YHUDOO:LGWK                                 (                    %6&
                    0ROGHG3DFNDJH:LGWK                         (                    %6&
                    2YHUDOO/HQJWK                                '                    %6&
                    &KDPIHU RSWLRQDO                             K                     ±          
                    )RRW/HQJWK                                   /                     ±          
                    )RRWSULQW                                    /                    5()
                    )RRW$QJOH                                                           ±            
                    /HDG7KLFNQHVV                                F                     ±          
                    /HDG:LGWK                                    E                     ±          
                    0ROG'UDIW$QJOH7RS                                                 ±           
                    0ROG'UDIW$QJOH%RWWRP                                              ±           
  !
 3LQYLVXDOLQGH[IHDWXUHPD\YDU\EXWPXVWEHORFDWHGZLWKLQWKHKDWFKHGDUHD
 6LJQLILFDQW&KDUDFWHULVWLF
 'LPHQVLRQV'DQG(GRQRWLQFOXGHPROGIODVKRUSURWUXVLRQV0ROGIODVKRUSURWUXVLRQVVKDOOQRWH[FHHGPPSHUVLGH
 'LPHQVLRQLQJDQGWROHUDQFLQJSHU$60(<0
       %6& %DVLF'LPHQVLRQ7KHRUHWLFDOO\H[DFWYDOXHVKRZQZLWKRXWWROHUDQFHV
       5() 5HIHUHQFH'LPHQVLRQXVXDOO\ZLWKRXWWROHUDQFHIRULQIRUPDWLRQSXUSRVHVRQO\
                                                                               0LFURFKLS 7HFKQRORJ\ 'UDZLQJ &%
 2010 Microchip Technology Inc.                                                                               DS22250A-page 39


MCP4902/4912/4922
    !   )RUWKHPRVWFXUUHQWSDFNDJHGUDZLQJVSOHDVHVHHWKH0LFURFKLS3DFNDJLQJ6SHFLILFDWLRQORFDWHGDW
           KWWSZZZPLFURFKLSFRPSDFNDJLQJ
DS22250A-page 40                                                                   2010 Microchip Technology Inc.


                                                                          MCP4902/4912/4922
           :; ";$< " #  ":  *   :""# 
    !     )RUWKHPRVWFXUUHQWSDFNDJHGUDZLQJVSOHDVHVHHWKH0LFURFKLS3DFNDJLQJ6SHFLILFDWLRQORFDWHGDW
             KWWSZZZPLFURFKLSFRPSDFNDJLQJ
                                        D
                              N
                                                               E
                                                         E1
             NOTE 1
                              1 2
                                                         e
                              b
                                                                 c                                                φ
              A                                           A2
                  A1                                                       L1                                     L
                                                                8QLWV               0,//,0(7(56
                                                    'LPHQVLRQ/LPLWV        0,1         120            0$;
                    1XPEHURI3LQV                                1                       
                    3LWFK                                         H                   %6&
                    2YHUDOO+HLJKW                                $          ±             ±           
                    0ROGHG3DFNDJH7KLFNQHVV                     $                            
                    6WDQGRII                                    $                    ±           
                    2YHUDOO:LGWK                                 (                   %6&
                    0ROGHG3DFNDJH:LGWK                         (                            
                    0ROGHG3DFNDJH/HQJWK                         '                            
                    )RRW/HQJWK                                   /                            
                    )RRWSULQW                                    /                   5()
                    )RRW$QJOH                                                          ±            
                    /HDG7KLFNQHVV                                F                    ±           
                    /HDG:LGWK                                    E                    ±           
  !
 3LQYLVXDOLQGH[IHDWXUHPD\YDU\EXWPXVWEHORFDWHGZLWKLQWKHKDWFKHGDUHD
 'LPHQVLRQV'DQG(GRQRWLQFOXGHPROGIODVKRUSURWUXVLRQV0ROGIODVKRUSURWUXVLRQVVKDOOQRWH[FHHGPPSHUVLGH
 'LPHQVLRQLQJDQGWROHUDQFLQJSHU$60(<0
       %6& %DVLF'LPHQVLRQ7KHRUHWLFDOO\H[DFWYDOXHVKRZQZLWKRXWWROHUDQFHV
       5() 5HIHUHQFH'LPHQVLRQXVXDOO\ZLWKRXWWROHUDQFHIRULQIRUPDWLRQSXUSRVHVRQO\
                                                                                           0LFURFKLS 7HFKQRORJ\ 'UDZLQJ &%
 2010 Microchip Technology Inc.                                                                               DS22250A-page 41


MCP4902/4912/4922
  Note:   For the most current package drawings, please see the Microchip Packaging Specification located at
          http://www.microchip.com/packaging
DS22250A-page 42                                                                   2010 Microchip Technology Inc.


                                        MCP4902/4912/4922
APPENDIX A:            REVISION HISTORY
Revision A (April 2010)
• Original Release of this Document.
 2010 Microchip Technology Inc.                   DS22250A-page 43


MCP4902/4912/4922
NOTES:
DS22250A-page 44   2010 Microchip Technology Inc.


                                                                                MCP4902/4912/4922
PRODUCT IDENTIFICATION SYSTEM
To order or obtain information, e.g., on pricing or delivery, refer to the factory or the listed sales office.
  PART NO.             X              /XX
                                                                                        Examples:
    Device      Temperature       Package                                               a)     MCP4902-E/P:    Extended temperature,
                    Range                                                                                      PDIP package.
                                                                                        b)     MCP4902-E/SL:   Extended temperature,
                                                                                                               SOIC package.
  Device:              MCP4902: Dual 8-Bit Voltage Output DAC
                       MCP4902T: Dual 8-Bit Voltage Output DAC                          c)     MCP4902T-E/SL:  Extended temperature,
                                      (Tape and Reel)                                                          SOIC package, Tape
                       MCP4912: Dual 10-Bit Voltage Output DAC                                                 and Reel
                       MCP4912T: Dual 10-Bit Voltage Output DAC                         d)     MCP4902-E/ST:   Extended temperature,
                                      (Tape and Reel)                                                          TSSOP package.
                       MCP4922: Dual 12-Bit Voltage Output DAC                          e)     MCP4902T-E/ST:  Extended temperature,
                       MCP4922T: Dual 12-Bit Voltage Output DAC                                                TSSOP package, Tape
                                      (Tape and Reel)                                                          and Reel
                                                                                        f)     MCP4912-E/P:    Extended temperature,
                                                                                                               PDIP package.
  Temperature          E      = -40C to +125C      (Extended)
  Range:                                                                                g)     MCP4912-E/SL:   Extended temperature,
                                                                                                               SOIC package.
                                                                                        h)     MCP4912T-E/SL:  Extended temperature,
  Package:             P      =    14-Lead Plastic Dual In-Line (PDIP)
                       SL     =    14-Lead Plastic Small Outline - Narrow (SOIC)                               SOIC package, Tape
                       ST     =    14-Lead Plastic Think Shrink Small Outline                                  and Reel
                                   (TSSOP)
                                                                                        i)     MCP4912-E/ST:   Extended temperature,
                                                                                                               TSSOP package.
                                                                                        j)     MCP4912T-E/ST:  Extended temperature,
                                                                                                               TSSOP package, Tape
                                                                                                               and Reel
                                                                                        k)     MCP4922-E/P:    Extended temperature,
                                                                                                               PDIP package.
                                                                                        l)     MCP4922-E/SL:   Extended temperature,
                                                                                                               SOIC package.
                                                                                        m)     MCP4922T-E/SL:  Extended temperature,
                                                                                                               SOIC package, Tape
                                                                                                               and Reel
                                                                                        n)     MCP4922-E/ST:   Extended temperature,
                                                                                                               TSSOP package.
                                                                                        o)     MCP4922T-E/ST:  Extended temperature,
                                                                                                               TSSOP package, Tape
                                                                                                               and Reel
 2010 Microchip Technology Inc.                                                                                     DS22250A-page 45


MCP4902/4912/4922
NOTES:
DS22250A-page 46   2010 Microchip Technology Inc.


 Note the following details of the code protection feature on Microchip devices:
 •     Microchip products meet the specification contained in their particular Microchip Data Sheet.
 •     Microchip believes that its family of products is one of the most secure families of its kind on the market today, when used in the
       intended manner and under normal conditions.
 •     There are dishonest and possibly illegal methods used to breach the code protection feature. All of these methods, to our
       knowledge, require using the Microchip products in a manner outside the operating specifications contained in Microchip’s Data
       Sheets. Most likely, the person doing so is engaged in theft of intellectual property.
 •     Microchip is willing to work with the customer who is concerned about the integrity of their code.
 •     Neither Microchip nor any other semiconductor manufacturer can guarantee the security of their code. Code protection does not
       mean that we are guaranteeing the product as “unbreakable.”
 Code protection is constantly evolving. We at Microchip are committed to continuously improving the code protection features of our
 products. Attempts to break Microchip’s code protection feature may be a violation of the Digital Millennium Copyright Act. If such acts
 allow unauthorized access to your software or other copyrighted work, you may have a right to sue for relief under that Act.
Information contained in this publication regarding device                  Trademarks
applications and the like is provided only for your convenience
                                                                            The Microchip name and logo, the Microchip logo, dsPIC,
and may be superseded by updates. It is your responsibility to
                                                                            KEELOQ, KEELOQ logo, MPLAB, PIC, PICmicro, PICSTART,
ensure that your application meets with your specifications.
                                                                            PIC32 logo, rfPIC and UNI/O are registered trademarks of
MICROCHIP MAKES NO REPRESENTATIONS OR
                                                                            Microchip Technology Incorporated in the U.S.A. and other
WARRANTIES OF ANY KIND WHETHER EXPRESS OR                                   countries.
IMPLIED, WRITTEN OR ORAL, STATUTORY OR
OTHERWISE, RELATED TO THE INFORMATION,                                      FilterLab, Hampshire, HI-TECH C, Linear Active Thermistor,
INCLUDING BUT NOT LIMITED TO ITS CONDITION,                                 MXDEV, MXLAB, SEEVAL and The Embedded Control
QUALITY, PERFORMANCE, MERCHANTABILITY OR                                    Solutions Company are registered trademarks of Microchip
FITNESS FOR PURPOSE. Microchip disclaims all liability                      Technology Incorporated in the U.S.A.
arising from this information and its use. Use of Microchip                 Analog-for-the-Digital Age, Application Maestro, CodeGuard,
devices in life support and/or safety applications is entirely at           dsPICDEM, dsPICDEM.net, dsPICworks, dsSPEAK, ECAN,
the buyer’s risk, and the buyer agrees to defend, indemnify and             ECONOMONITOR, FanSense, HI-TIDE, In-Circuit Serial
hold harmless Microchip from any and all damages, claims,                   Programming, ICSP, Mindi, MiWi, MPASM, MPLAB Certified
suits, or expenses resulting from such use. No licenses are                 logo, MPLIB, MPLINK, mTouch, Octopus, Omniscient Code
conveyed, implicitly or otherwise, under any Microchip                      Generation, PICC, PICC-18, PICDEM, PICDEM.net, PICkit,
intellectual property rights.                                               PICtail, REAL ICE, rfLAB, Select Mode, Total Endurance,
                                                                            TSHARC, UniWinDriver, WiperLock and ZENA are
                                                                            trademarks of Microchip Technology Incorporated in the
                                                                            U.S.A. and other countries.
                                                                            SQTP is a service mark of Microchip Technology Incorporated
                                                                            in the U.S.A.
                                                                            All other trademarks mentioned herein are property of their
                                                                            respective companies.
                                                                            © 2010, Microchip Technology Incorporated, Printed in the
                                                                            U.S.A., All Rights Reserved.
                                                                                 Printed on recycled paper.
                                                                            ISBN: 978-1-60932-129-1
                                                                            Microchip received ISO/TS-16949:2002 certification for its worldwide
                                                                            headquarters, design and wafer fabrication facilities in Chandler and
                                                                            Tempe, Arizona; Gresham, Oregon and design centers in California
                                                                            and India. The Company’s quality system processes and procedures
                                                                            are for its PIC® MCUs and dsPIC® DSCs, KEELOQ® code hopping
                                                                            devices, Serial EEPROMs, microperipherals, nonvolatile memory and
                                                                            analog products. In addition, Microchip’s quality system for the design
                                                                            and manufacture of development systems is ISO 9001:2000 certified.
 2010 Microchip Technology Inc.                                                                                             DS22250A-page 47


                             WORLDWIDE SALES AND SERVICE
AMERICAS                      ASIA/PACIFIC               ASIA/PACIFIC                EUROPE
Corporate Office              Asia Pacific Office        India - Bangalore           Austria - Wels
2355 West Chandler Blvd.      Suites 3707-14, 37th Floor Tel: 91-80-3090-4444        Tel: 43-7242-2244-39
Chandler, AZ 85224-6199       Tower 6, The Gateway       Fax: 91-80-3090-4123        Fax: 43-7242-2244-393
Tel: 480-792-7200             Harbour City, Kowloon                                  Denmark - Copenhagen
                                                         India - New Delhi
Fax: 480-792-7277             Hong Kong                                              Tel: 45-4450-2828
                                                         Tel: 91-11-4160-8631
Technical Support:            Tel: 852-2401-1200                                     Fax: 45-4485-2829
                                                         Fax: 91-11-4160-8632
http://support.microchip.com  Fax: 852-2401-3431
                                                         India - Pune                France - Paris
Web Address:
                              Australia - Sydney         Tel: 91-20-2566-1512        Tel: 33-1-69-53-63-20
www.microchip.com
                              Tel: 61-2-9868-6733        Fax: 91-20-2566-1513        Fax: 33-1-69-30-90-79
Atlanta                       Fax: 61-2-9868-6755
                                                         Japan - Yokohama            Germany - Munich
Duluth, GA
                              China - Beijing                                        Tel: 49-89-627-144-0
Tel: 678-957-9614                                        Tel: 81-45-471- 6166
                              Tel: 86-10-8528-2100                                   Fax: 49-89-627-144-44
Fax: 678-957-1455                                        Fax: 81-45-471-6122
                              Fax: 86-10-8528-2104                                   Italy - Milan
Boston                                                   Korea - Daegu
                              China - Chengdu                                        Tel: 39-0331-742611
Westborough, MA                                          Tel: 82-53-744-4301
                              Tel: 86-28-8665-5511                                   Fax: 39-0331-466781
Tel: 774-760-0087                                        Fax: 82-53-744-4302
                              Fax: 86-28-8665-7889                                   Netherlands - Drunen
Fax: 774-760-0088                                        Korea - Seoul
                              China - Chongqing          Tel: 82-2-554-7200          Tel: 31-416-690399
Chicago
                              Tel: 86-23-8980-9588       Fax: 82-2-558-5932 or       Fax: 31-416-690340
Itasca, IL
Tel: 630-285-0071             Fax: 86-23-8980-9500       82-2-558-5934               Spain - Madrid
Fax: 630-285-0075             China - Hong Kong SAR                                  Tel: 34-91-708-08-90
                                                         Malaysia - Kuala Lumpur
                              Tel: 852-2401-1200         Tel: 60-3-6201-9857         Fax: 34-91-708-08-91
Cleveland
Independence, OH              Fax: 852-2401-3431         Fax: 60-3-6201-9859         UK - Wokingham
Tel: 216-447-0464             China - Nanjing                                        Tel: 44-118-921-5869
                                                         Malaysia - Penang
Fax: 216-447-0643             Tel: 86-25-8473-2460                                   Fax: 44-118-921-5820
                                                         Tel: 60-4-227-8870
Dallas                        Fax: 86-25-8473-2470       Fax: 60-4-227-4068
Addison, TX                   China - Qingdao            Philippines - Manila
Tel: 972-818-7423             Tel: 86-532-8502-7355      Tel: 63-2-634-9065
Fax: 972-818-2924             Fax: 86-532-8502-7205      Fax: 63-2-634-9069
Detroit                       China - Shanghai           Singapore
Farmington Hills, MI          Tel: 86-21-5407-5533       Tel: 65-6334-8870
Tel: 248-538-2250             Fax: 86-21-5407-5066       Fax: 65-6334-8850
Fax: 248-538-2260
                              China - Shenyang           Taiwan - Hsin Chu
Kokomo                        Tel: 86-24-2334-2829       Tel: 886-3-6578-300
Kokomo, IN                    Fax: 86-24-2334-2393       Fax: 886-3-6578-370
Tel: 765-864-8360
Fax: 765-864-8387             China - Shenzhen           Taiwan - Kaohsiung
                              Tel: 86-755-8203-2660      Tel: 886-7-536-4818
Los Angeles                   Fax: 86-755-8203-1760      Fax: 886-7-536-4803
Mission Viejo, CA
Tel: 949-462-9523             China - Wuhan              Taiwan - Taipei
Fax: 949-462-9608             Tel: 86-27-5980-5300       Tel: 886-2-2500-6610
                              Fax: 86-27-5980-5118       Fax: 886-2-2508-0102
Santa Clara
Santa Clara, CA               China - Xian               Thailand - Bangkok
Tel: 408-961-6444             Tel: 86-29-8833-7252       Tel: 66-2-694-1351
Fax: 408-961-6445             Fax: 86-29-8833-7256       Fax: 66-2-694-1350
Toronto                       China - Xiamen
Mississauga, Ontario,         Tel: 86-592-2388138
Canada                        Fax: 86-592-2388130
Tel: 905-673-0699             China - Zhuhai
Fax: 905-673-6509             Tel: 86-756-3210040
                              Fax: 86-756-3210049
                                                                                                       01/05/10
DS22250A-page 48                                                                  2010 Microchip Technology Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Microchip:
 MCP4902-E/P MCP4902-E/SL MCP4902-E/ST MCP4902T-E/SL MCP4902T-E/ST MCP4912-E/P MCP4912-E/SL
 MCP4912-E/ST MCP4912T-E/SL MCP4912T-E/ST MCP4912T-E/STVAO
