19-1315; Rev 1; 12/97
        Low-Power, Dual, 10-Bit, Voltage-Output DACs
                                 with Serial Interface
                                                                                                                                              MAX5158/MAX5159
 _______________General Description                                          ____________________________Features
The MAX5158/MAX5159 low-power, serial, voltage-                              ♦ 10-Bit Dual DAC with Internal Gain of +2V/V
output, dual, 10-bit digital-to-analog converters (DACs)
consume only 500µA from a single +5V (MAX5158) or                            ♦ Rail-to-Rail Output Swing
+3V (MAX5159) supply. These devices feature Rail-to-                         ♦ 8µs Settling Time
Rail® output swing and are available in a space-saving
16-pin QSOP package. To maximize dynamic range, the                          ♦ Single-Supply Operation: +5V (MAX5158)
DAC output amplifiers are configured with an internal gain                                              +3V (MAX5159)
of +2V/V.                                                                    ♦ Low Quiescent Current: 500µA (normal operation)
The 3-wire serial interface is SPI™/QSPI™ and                                                         2µA (shutdown mode)
Microwire™ compatible. Each DAC has a double-
                                                                             ♦ SPI/QSPI and Microwire Compatible
buffered input organized as an input register followed by
a DAC register, which allows the input and DAC registers                     ♦ Available in Space-Saving 16-Pin QSOP Package
to be updated independently or simultaneously with a
                                                                             ♦ Power-On Reset Clears Registers and DACs to Zero
16-bit serial word. Additional features include a 2µA pro-
grammable shutdown, hardware-shutdown lockout, a                             ♦ Adjustable Output Offset
separate reference-voltage input for each DAC that
accepts AC and DC signals, and an active-low clear input
(CL) that resets all registers and DACs to zero. The                              ______________Ordering Information
MAX5158/MAX5159 provide a programmable logic pin
for added functionality and a serial-data output pin for                             PART           TEMP. RANGE          PIN-PACKAGE
daisy chaining.                                                                   MAX5158CPE         0°C to +70°C        16 Plastic DIP
                                                                                  MAX5158CEE         0°C to +70°C        16 QSOP
________________________Applications                                              MAX5158EPE       -40°C to +85°C        16 Plastic DIP
        Digital Offset and Gain Adjustment                                        MAX5158EEE       -40°C to +85°C        16 QSOP
                                                                                  MAX5158MJE       -55°C to +125°C       16 CERDIP*
        µP-Controlled Systems
                                                                              Ordering Information continued at end of data sheet.
        Motion Control                                                        *Contact factory for availability.
        Remote Industrial Controls
 _________________________________________________________Functional Diagram
                             DOUT     CL         PDL      DGND     AGND     VDD         REFA
                                                                                                                         OSA
                                                DECODE
                                                                                                               R
                                                CONTROL
                                                                                                               R
                                                           INPUT           DAC                                           OUTA
                                                                                        DAC A                            OSB
                                                           REG A          REG A
                               16-BIT
                               SHIFT                                                                           R
                              REGISTER
                                                                                   MAX5158
                                                                                   MAX5159                     R
                                SR
                              CONTROL                      INPUT           DAC                                           OUTB
                                                 LOGIC                                  DAC B
                                                           REG B          REG B
                                                OUTPUT
                        CS      DIN      SCLK    UPO                                    REFB
Rail-to-Rail is a registered trademark of Nippon Motorola Ltd. Microwire is a trademark of National Semiconductor Corp.
SPI and QSPI are trademarks of Motorola, Inc.
                        ________________________________________________________________ Maxim Integrated Products                        1
For free samples & the latest literature: http://www.maxim-ic.com, or phone 1-800-998-8800
For small orders, phone 408-737-7600 ext. 3468.


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
                  ABSOLUTE MAXIMUM RATINGS
MAX5158/MAX5159
                  VDD to AGND............................................................-0.3V to +6V    Continuous Power Dissipation (TA = +70°C)
                  VDD to DGND ...........................................................-0.3V to +6V       Plastic DIP (derate 10.5mW/°C above +70°C) ...........842mW
                  AGND to DGND ..................................................................±0.3V      QSOP (derate 8.30mW/°C above +70°C) ...................667mW
                  OSA, OSB to AGND........................(AGND - 4V) to (VDD + 0.3V)                       CERDIP (derate 10.00mW/°C above +70°C) ..............800mW
                  REF_, OUT_ to AGND.................................-0.3V to (VDD + 0.3V)               Operating Temperature Ranges
                  Digital Inputs (SCLK, DIN, CS, CL, PDL)                                                   MAX515_ _C_ E .................................................0°C to +70°C
                     to DGND............................................................(-0.3V to +6V)      MAX515_ _E_ E ..............................................-40C° to +85°C
                  Digital Outputs (DOUT, UPO)                                                               MAX515_ _MJE.............................................-55°C to +125°C
                     to DGND ................................................-0.3V to (VDD + 0.3V)       Storage Temperature Range .............................-65°C to +160°C
                  Maximum Current into Any Pin .........................................±20mA            Lead Temperature (soldering, 10sec) .............................+300°C
                  Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
                  operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
                  absolute maximum rating conditions for extended periods may affect device reliability.
                  ELECTRICAL CHARACTERISTICS—MAX5158
                  (VDD = +5V ±10%, VREFA = VREFB = 2.048V, RL = 10kΩ, CL = 100pF, TA = TMIN to TMAX, unless otherwise noted. Typical values are
                  at TA= +25°C (OS_ tied to AGND for a gain of +2V/V).)
                               PARAMETER                         SYMBOL                              CONDITIONS                            MIN         TYP        MAX        UNITS
                   STATIC PERFORMANCE
                    Resolution                                                                                                              10                                 Bits
                    Integral Nonlinearity                            INL        (Note 1)                                                                            ±1        LSB
                    Differential Nonlinearity                       DNL         Guaranteed monotonic                                                                ±1        LSB
                    Offset Error                                    VOS_        Code = 2                                                                            ±6         mV
                    Offset Tempco                                 TCVOS         Normalized to 2.048V                                                     4                  ppm/°C
                    Gain Error                                                                                                                         -0.1          1        LSB
                    Gain-Error Tempco                                           Normalized to 2.048V                                                     4                  ppm/°C
                    VDD Power-Supply
                                                                   PSRR         2.7V ≤ VDD ≤ 5.5V                                                       20         260        µV/V
                    Rejection Ratio
                   REFERENCE INPUT
                    Reference Input Range                           REF                                                                      0                 VDD - 1.4        V
                    Reference Input Resistance                      RREF        Minimum with code 1558 hex                                  18          25                     kΩ
                   MULTIPLYING-MODE PERFORMANCE
                                                                                Input code = 1FF8 hex,
                    Reference 3dB Bandwidth                                                                                                            300                     kHz
                                                                                VREF_ = 0.67Vp-p at 0.75VDC
                                                                                Input code = 0000 hex,
                    Reference Feedthrough                                                                                                              -82                     dB
                                                                                VREF_ = (VDD - 1.4 Vp-p) at 1kHz
                    Signal-to-Noise plus                                        Input code = 1FF8 hex,
                                                                  SINAD                                                                                 75                     dB
                    Distortion Ratio                                            VREF_ = 1Vp-p at 1.25VDC, f = 25kHz
                   DIGITAL INPUTS
                    Input High Voltage                               VIH        CL, PDL, CS, DIN, SCLK                                       3                                  V
                    Input Low Voltage                                VIL        CL, PDL, CS, DIN, SCLK                                                             0.8          V
                    Input Hysteresis                                VHYS                                                                               200                     mV
                    Input Leakage Current                            IIN        VIN = 0V to VDD                                                       0.001         ±1         µA
                    Input Capacitance                                CIN                                                                                 8                     pF
                  2    _______________________________________________________________________________________


    Low-Power, Dual, 10-Bit, Voltage-Output DACs
                             with Serial Interface
ELECTRICAL CHARACTERISTICS—MAX5158 (continued)
                                                                                                                                      MAX5158/MAX5159
(VDD = +5V ±10%, VREFA = VREFB = 2.048V, RL = 10kΩ, CL = 100pF, TA = TMIN to TMAX, unless otherwise noted. Typical values are
at TA= +25°C (OS_ tied to AGND for a gain of +2V/V).)
           PARAMETER                SYMBOL                     CONDITIONS                    MIN        TYP       MAX    UNITS
 DIGITAL OUTPUTS (DOUT, UPO)
 Output High Voltage                  VOH      ISOURCE = 2mA                               VDD - 0.5                        V
 Output Low Voltage                   VOL      ISINK = 2mA                                              0.13      0.4       V
 DYNAMIC PERFORMANCE
 Voltage Output Slew Rate              SR                                                               0.75               V/µs
 Output Settling Time                          To 1/2LSB of full-scale, VSTEP = 4V                        8                µs
 Output Voltage Swing                          Rail-to-rail (Note 2)                                   0 to VDD             V
 OSA or OSB Input Resistance          ROS_                                                   24          34                kΩ
 Time Required to Exit Shutdown                                                                          25                µs
 Digital Feedthrough                           CS = VDD, fDIN = 100kHz, VSCLK = 5Vp-p                     5                nV-s
 Digital Crosstalk                                                                                        5                nV-s
 POWER SUPPLIES
 Positive Supply Voltage              VDD                                                    4.5                  5.5       V
 Power-Supply Current                  IDD     (Note 3)                                                  0.5      0.65     mA
 Power-Supply Current
                                   IDD(SHDN) (Note 3)                                                     2       10       µA
 in Shutdown
 Reference Current in Shutdown                                                                            0       ±1       µA
 TIMING CHARACTERISTICS
 SCLK Clock Period                     tCP     (Note 4)                                      100                           ns
 SCLK Pulse Width High                 tCH                                                   40                            ns
 SCLK Pulse Width Low                  tCL                                                   40                            ns
 CS Fall to SCLK Rise Setup Time      tCSS                                                   40                            ns
 SCLK Rise to CS Rise Hold Time       tCSH                                                    0                            ns
 SDI Setup Time                        tDS                                                   40                            ns
 SDI Hold Time                         tDH                                                    0                            ns
 SCLK Rise to DOUT
                                      tDO1     CLOAD = 200pF                                                      80       ns
 Valid Propagation Delay
 SCLK Fall to DOUT
                                      tDO2     CLOAD = 200pF                                                      80       ns
 Valid Propagation Delay
 SCLK Rise to CS Fall Delay           tCS0                                                   10                            ns
 CS Rise to SCLK Rise Hold            tCS1                                                   40                            ns
 CS Pulse Width High                  tCSW                                                   100                           ns
Note 1: Accuracy is specified from code 2 to code 1023.
Note 2: Accuracy is better than 1LSB for VOUT_ greater than 6mV and less than VDD - 50mV. Guaranteed by PSRR test at the
        end points.
Note 3: Digital inputs are set to either VDD or DGND, code = 0000 hex, RL = ∞.
Note 4: SCLK minimum clock period includes rise and fall times.
                     _______________________________________________________________________________________                      3


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
                  ELECTRICAL CHARACTERISTICS—MAX5159
MAX5158/MAX5159
                  (VDD = +2.7V to +3.6V, VREFA = VREFB = 1.25V, RL = 10kΩ, CL = 100pF, TA = TMIN to TMAX, unless otherwise noted. Typical values
                  are at TA = +25°C (OS_ pins tied to AGND for a gain of +2V/V).)
                            PARAMETER              SYMBOL                       CONDITIONS                    MIN        TYP       MAX       UNITS
                   STATIC PERFORMANCE
                   Resolution                                                                                  10                             Bits
                   Integral Nonlinearity              INL     (Note 5)                                                               ±1       LSB
                   Differential Nonlinearity         DNL      Guaranteed monotonic                                                   ±1       LSB
                   Offset Error                       VOS     Code = 3                                                               ±6       mV
                   Offset Tempco                    TCVOS     Normalized to 1.25V                                         6.5                ppm/°C
                   Gain Error                                                                                             -0.1       ±1       LSB
                   Gain-Error Tempco                          Normalized to 1.25V                                         6.5                ppm/°C
                   VDD Power-Supply
                                                     PSRR     2.7V ≤ VDD ≤ 3.6V                                           40        320       µV/V
                   Rejection Ratio
                   REFERENCE INPUT (VREF)
                   Reference Input Range              REF                                                      0                 VDD - 1.4     V
                   Reference Input Resistance        RREF     Minimum with code 1558 hex                       18         25                  kΩ
                   MULTIPLYING-MODE PERFORMANCE
                                                              Input code = 1FF8 hex,
                   Reference 3dB Bandwidth                                                                                300                 kHz
                                                              VREF_ = 0.67Vp-p at 0.75VDC
                                                              Input code = 0000 hex,
                   Reference Feedthrough                                                                                  -82                 dB
                                                              VREF_ = (VDD - 1.4)Vp-p at 1kHz
                   Signal-to-Noise plus                       Input code = 1FF8 hex,
                                                    SINAD                                                                 73                  dB
                   Distortion Ratio                           VREF_ = 1Vp-p at 1VDC, f = 15kHz
                   DIGITAL INPUTS
                   Input High Voltage                 VIH     CL, PDL, CS, DIN, SCLK                          2.2                              V
                   Input Low Voltage                  VIL     CL, PDL, CS, DIN, SCLK                                                0.8        V
                   Input Hysteresis                  VHYS                                                                 200                 mV
                   Input Leakage Current              IIN     VIN = 0V to VDD                                              0         ±1       µA
                   Input Capacitance                  CIN                                                                  8                  pF
                   DIGITAL OUTPUTS
                   Output High Voltage               VOH      ISOURCE = 2mA                                 VDD - 0.5                          V
                   Output Low Voltage                 VOL     ISINK = 2mA                                                0.13       0.4        V
                   DYNAMIC PERFORMANCE (DOUT, UPO)
                   Voltage Output Slew Rate           SR                                                                 0.75                 V/µs
                   Output Settling Time                       To 1/2LSB of full-scale, VSTEP = 2.5V                        8                   µs
                   Output Voltage Swing                       Rail-to-rail (Note 6)                                     0 to VDD               V
                   OSA or OSB Input Resistance       ROS_                                                      24         34                  kΩ
                   Time Required for Valid
                                                                                                                          25                   µs
                   Operation after Shutdown
                   Digital Feedthrough                        CS = VDD, fDIN = 100kHz, VSCLK = 3Vp-p                       5                  nV-s
                   Digital Crosstalk                                                                                       5                  nV-s
                  4   _______________________________________________________________________________________


    Low-Power, Dual, 10-Bit, Voltage-Output DACs
                             with Serial Interface
ELECTRICAL CHARACTERISTICS—MAX5159 (continued)
                                                                                                                                  MAX5158/MAX5159
(VDD = +2.7V to +3.6V, VREFA = VREFB = 1.25V, RL = 10kΩ, CL = 100pF, TA = TMIN to TMAX, unless otherwise noted. Typical values
are at TA = +25°C (OS_ pins tied to AGND for a gain of +2V/V).)
       PARAMETER              SYMBOL                     CONDITIONS                         MIN      TYP      MAX     UNITS
POWER SUPPLIES
Positive Supply Voltage         VDD                                                          2.7               3.6       V
 Power-Supply Current           IDD     (Note 7)                                                      0.5      0.6      mA
 Power-Supply Current
                              IDD(SHDN) (Note 7)                                                       1        8       µA
 in Shutdown
 Reference Current in
                                                                                                               ±1       µA
 Shutdown
TIMING CHARACTERISTICS
SCLK Clock Period                tCP    (Note 4)                                            100                         ns
 SCLK Pulse Width High          tCH                                                          40                         ns
 SCLK Pulse Width Low            tCL                                                         40                         ns
 CS Fall to SCLK Rise
                                tCSS                                                         40                         ns
 Setup Time
 SCLK Rise to CS Rise
                                tCSH                                                          0                         ns
 Hold Time
 SDI Setup Time                  tDS                                                         50                         ns
 SDI Hold Time                  tDH                                                           0                         ns
 SCLK Rise to DOUT Valid
                                tDO1    CLOAD = 200pF                                                          120      ns
 Propagation Delay
 SCLK Fall to DOUT Valid
                                tDO2    CLOAD = 200pF                                                          120      ns
 Propagation Delay
 SCLK Rise to CS Fall Delay     tCS0                                                         10                         ns
 CS Rise to SCLK Rise Hold      tCS1                                                         40                         ns
 CS Pulse Width High            tCSW                                                        100                         ns
Note 5: Accuracy is specified from code 3 to code 1023.
Note 6: Accuracy is better than 1LSB for VOUT greater than 6mV and less than VDD - 80mV. Guaranteed by PSRR test at the end
        points.
Note 7: Digital inputs are set to either VDD or DGND, code = 0000 hex, RL = ∞.
                    _______________________________________________________________________________________                   5


                    Low-Power, Dual, 10-Bit Voltage-Output DACs
                    with Serial Interface
                      __________________________________________Typical Operating Characteristics
MAX5158/MAX5159
                     (VDD = +5V, RL = 10kΩ, CL = 100pF, OS_ pins tied to AGND, TA = +25°C, unless otherwise noted.)
                                                                                                                                                                                 MAX5158
                                                                    REFERENCE VOLTAGE INPUT                                                                                                                                                                                                    TOTAL HARMONIC DISTORTION
                                                                      FREQUENCY RESPONSE                                                                             SUPPLY CURRENT vs. TEMPERATURE                                                                                             PLUS NOISE vs. FREQUENCY
                                                     0                                                                                                       700                                                                                                                 -30
                                                                                                            MAX5158/5159-01
                                                                                                                                                                                                                                    MAX5158/5159 toc02                                                                                                 MAX5158/5159 toc03
                                                    -2                                                                                                                                                                                                                                      VREF = 1Vp-p @ 2.5VDC
                                                                                                                                                             650                                   CODE = 1FF8 (HEX)                                                                        CODE = 1FF8 (HEX)
                                                    -4                                                                                                                                                                                                                           -40
                        RELATIVE OUTPUT (dB)                                                                                          SUPPLY CURRENT (µA)
                                                    -6
                                                                                                                                                                                                                                                           THD + NOISE (dB)
                                                                                                                                                             600
                                                    -8                                                                                                                                                                                                                           -50
                                                   -10                                                                                                       550
                                                   -12                                                                                                                                                                                                                           -60
                                                                                                                                                             500                                   CODE = 0000 (HEX)
                                                   -14
                                                   -16                                                                                                                                                                                                                           -70
                                                                VREF = 0.67Vp-p @ 2.5VDC                                                                     450
                                                   -18                                                                                                                                                 VREF = 2.048V
                                                                CODE = 1FF8 (HEX)                                                                                                                      RL = ∞
                                                   -20                                                                                                       400                                                                                                                 -80
                                                           1         370        740    1110        1480   1850                                                     -55 -35 -15      5    25   45     65     85 105 125                                                                  1                         10                          100
                                                                            FREQUENCY (kHz)                                                                                         TEMPERATURE (°C)                                                                                                    FREQUENCY (kHz)
                                                                                                                                                                                                                                                                                                    SHUTDOWN CURRENT
                                                          FULL-SCALE ERROR vs. RESISTIVE LOAD                                                                        REFERENCE FEEDTHROUGH AT 1kHz                                                                                                   vs. TEMPERATURE
                                                  0.50                                                                                                       -50                                                                                                                  6
                                                                                                             MAX5158/5159 toc04                                                                                                MAX5158/5159 toc05                                                                                                   MAX5158/5159 toc06
                                                                                                                                                             -60                        VREF = 3.6Vp-p @ 1.88VDC                                                                            VREF = 1V
                                                                                                                                                                                        CODE = 0000 (HEX)
                                                  0.25                                                                                                       -70                                                                                                                  5
                         FULL-SCALE ERROR (LSB)                                                                                    RELATIVE OUTPUT (dB)                                                                                                  SHUTDOWN CURRENT (µA)
                                                                                                                                                             -80
                                                     0                                                                                                                                                                                                                            4
                                                                                                                                                             -90
                                                  -0.25                                                                                                     -100                                                                                                                  3
                                                                                                                                                            -110
                                                   -0.5                                                                                                                                                                                                                           2
                                                                                                                                                            -120
                                                                                                                                                            -130
                                                  -0.75                                                                                                                                                                                                                           1
                                                                                                                                                            -140
                                                   -1.0                                                                                                     -150                                                                                                                  0
                                                          0.1               1                 10          100                                                      0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5                                                                         -55 -35 -15       5   25        45 65     85 105 125
                                                                                  RL (kΩ)                                                                                           FREQUENCY (kHz)                                                                                                     TEMPERATURE (°C)
                                                                           OUTPUT FFT PLOT                                                                              DYNAMIC RESPONSE RISE TIME                                                                                            DYNAMIC RESPONSE FALL TIME
                                                                                                                                                                                                          MAX5158/5159 toc08                                                                                                   MAX5158/5159 toc09
                                                     0
                                                                                                              MAX5158/5159 toc07
                                                   -10                VREF = 2.45Vp-p @ 1.225VDC
                                                                      f = 1kHz                                                                                                                                                              CS                                                                                                              CS
                                                   -20                CODE = 1FF8 (HEX)                                                                                                                                                     5V/div                                                                                                          5V/div
                  RELATIVE OUTPUT (dB)
                                                   -30
                                                   -40                NOTE: RELATIVE TO FULL-SCALE
                                                   -50
                                                   -60                                                                                                                                                                                      OUT_                                                                                                            OUT_
                                                                                                                                                                                                                                            1V/div                                                                                                          1V/div
                                                   -70
                                                   -80
                                                   -90
                                                  -100
                                                          0.5        1.6        2.7     3.8        4.9     6.0                                                                           2µs/div                                                                                                             2µs/div
                                                                            FREQUENCY (kHz)                                                                         VREF = 2.048V                                                                                                       VREF = 2.048V
                     6                              _______________________________________________________________________________________


                            Low-Power, Dual, 10-Bit, Voltage-Output DACs
                                                     with Serial Interface
            ____________________________Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                    MAX5158/MAX5159
(VDD = +3V, RL = 10kΩ, CL = 100pF, OS_ pins tied to AGND, TA = +25°C, unless otherwise noted.)
                                                                                                                                                                  MAX5159
                                           REFERENCE VOLTAGE INPUT                                                                                                                                                                                                        TOTAL HARMONIC DISTORTION
                                             FREQUENCY RESPONSE                                                                                      SUPPLY CURRENT vs. TEMPERATURE                                                                                        PLUS NOISE vs. FREQUENCY
                             0                                                                                                               560                                                                                                              -30
                                                                                           MAX5158/5159 toc10                                                                                             MAX5158/5159 toc11                                                                                                   MAX5158/5159 toc12
                                                                                                                                                      VREF = 1V                                                                                                         VREF = 1Vp-p @ 1VDC
                            -2
                                                                                                                                             540      RL = ∞                                                                                                            CODE = 1FF8 (HEX)
                            -4                                                                                                                                                  CODE = 1FF8 (HEX)
                                                                                                                                                                                                                                                              -40
                                                                                                                                             520
RELATIVE OUTPUT (dB)                                                                                              SUPPLY CURRENT (µA)
                            -6
                                                                                                                                                                                                                                      THD + NOISE (dB)
                            -8                                                                                                               500                                                                                                              -50
                           -10                                                                                                               480
                           -12                                                                                                                                                                                                                                -60
                                                                                                                                             460
                           -14                                                                                                                                                  CODE = 0000 (HEX)
                                                                                                                                             440
                           -16                                                                                                                                                                                                                                -70
                                        VREF = 0.67Vp-p @ 0.75VDC                                                                            420
                           -18          CODE = 1FF8
                           -20                                                                                                               400                                                                                                              -80
                                  1          320        640        960         1280   1600                                                          -55 -35 -15      5   25   45    65   85 105 125                                                                 1                      10                            100
                                                    FREQUENCY (kHz)                                                                                                  TEMPERATURE (°C)                                                                                               FREQUENCY (kHz)
                                                                                                                                                                                                                                                                                SHUTDOWN CURRENT
                                  FULL-SCALE ERROR vs. RESISTIVE LOAD                                                                                  REFERENCE FEEDTHROUGH AT 1kHz                                                                                             vs. TEMPERATURE
                          0.50                                                                                                                -50                                                                                                             3.0
                                                                                             MAX5158/5159 toc13                                                                                                  MAX5158/5159 toc14                                                                                            MAX5158/5159 toc15
                                                                                                                                                                                                                                                                        VREF = 1V
                                                                                                                                                                         VREF = 1.6Vp-p @ 0.88VDC
                                                                                                                                              -60                                                                                                             2.8       RL = ∞
                                                                                                                                                                         CODE = 0000 (HEX)
                          0.25                                                                                                                -70                                                                                                             2.6
 FULL-SCALE ERROR (LSB)                                                                                               RELATIVE OUTPUT (dB)                                                                                            SHUTDOWN CURRENT (µA)
                                                                                                                                              -80                                                                                                             2.4
                             0
                                                                                                                                              -90                                                                                                             2.2
                          -0.25                                                                                                              -100                                                                                                             2.0
                                                                                                                                             -110                                                                                                             1.8
                          -0.50
                                                                                                                                             -120                                                                                                             1.6
                                                                                                                                             -130                                                                                                             1.4
                          -0.75
                                                                                                                                             -140                                                                                                             1.2
                          -1.00                                                                                                              -150                                                                                                             1.0
                                  0.1               1                     10          100                                                           0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5                                                                     -55 -35 -15      5   25     45   65     85 105 125
                                                          RL (kΩ)                                                                                                     FREQUENCY (kHz)                                                                                               TEMPERATURE (°C)
                                                   OUTPUT FFT PLOT                                                                                       DYNAMIC RESPONSE RISE TIME                                                                                       DYNAMIC RESPONSE FALL TIME
                                                                                                                                                                                         MAX5158/5159 toc17                                                                                               MAX5158/5159 toc18
                             0
                                                                                             MAX5158/5159toc16
                           -10                                VREF = 1.4Vp-p @ 0.75VDC                                                                                                                                         CS                                                                                                              CS
                                                              f = 1kHz                                                                                                                                                         2V/div                                                                                                          2V/div
                           -20                                CODE = 1FF8 (HEX)
 RELATIVE OUTPUT (dB)
                           -30
                           -40
                           -50
                           -60
                           -70                                                                                                                                                                                                 OUT_                                                                                                            OUT_
                                                                                                                                                                                                                               500mV/div                                                                                                       500mV/div
                           -80
                           -90
                          -100
                                  0.5        1.6        2.7         3.8        4.9       6.0                                                                              2µs/div                                                                                                        2µs/div
                                                    FREQUENCY (kHz)                                                                                   VREF = 1.25V                                                                                                   VREF = 1.25V
                                                        _______________________________________________________________________________________                                                                                                                                                                                7


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
                  _____________________________Typical Operating Characteristics (continued)
MAX5158/MAX5159
                  (VDD = +5V (MAX5158), VDD = +3V (MAX5159), RL = 10kΩ, CL = 100pF, OS_ pins tied to AGND, unless otherwise noted.)
                                                                                                                                     MAX5158/MAX5159
                                                           MAX5158                                                                                                                                                               MAX5159
                                               SUPPLY CURRENT vs. SUPPLY VOLTAGE                                                                                                                                     SUPPLY CURRENT vs. SUPPLY VOLTAGE
                                        0.60                                                                                                                                                              0.60
                                                                                                MAX5158/5159 TOC19                                                                                                                                                MAX5158/5159 TOC19a
                                                                            CODE = 1FF8 (HEX)                                                                                                                                                 CODE = 1FF8 (HEX)
                                        0.55                                                                                                                                                              0.55
                  SUPPLY CURRENT (mA)                                                                                                                                 SUPPLY CURRENT (mA)
                                        0.50                                                                                                                                                              0.50
                                                                            CODE = 0000 (HEX)                                                                                                                                                 CODE = 0000 (HEX)
                                        0.45                                                                                                                                                              0.45
                                        0.40                                                                                                                                                              0.40
                                               4.50      4.75        5.00        5.25       5.50                                                                                                                     2.7         3.0               3.3        3.6
                                                                                                                                          MAX5158
                                                            SUPPLY VOLTAGE (V)                                                                                                                                                  SUPPLY VOLTAGE (V)
                                                                                                                                   MAJOR-CARRY TRANSITION
                                                                                                                                                                                            MAX5158/5159 toc20
                                                                                                                                                                                                                 CS
                                                                                                                                                                                                                 2V/div
                                                                                                                                                                                                                 OUT_
                                                                                                                                                                                                                 50mV/div
                                                                                                                                                                                                                 AC COUPLED
                                                                                                                                                5µs/div
                                                                                                                               TRANSITION FROM 1000 (HEX) TO 0FF8 (HEX)
                                                              MAX5158                                                                                                                                                               MAX5158
                                                          ANALOG CROSSTALK                                                                                                                                                    DIGITAL FEEDTHROUGH
                                                                                                 MAX5158/5159 toc21                                                                                                                                                MAX5158/5159 toc22   SCLK
                                                                                                                      OUTA
                                                                                                                      5V/div                                                                                                                                                            5V/div
                                                                                                                                                                                                                                                                                        OUTA
                                                                                                                      OUTB                                                                                                                                                              500µV/div
                                                                                                                      200µV/div                                                                                                                                                         AC COUPLED
                                                                                                                      AC COUPLED
                                                                   250µs/div                                                                                                                                                           2.5µs/div
                                                 VREF = 2.048V, GAIN = +2V/V, CODE = 1FF8 HEX
                  8                      _______________________________________________________________________________________


    Low-Power, Dual, 10-Bit, Voltage-Output DACs
                             with Serial Interface
_____________________Pin Description
                                                                                                                                     MAX5158/MAX5159
                                                                                                                          OS_
                                                                                                                      R
  PIN      NAME                   FUNCTION
   1       AGND      Analog Ground                                                                                    R
   2       OUTA      DAC A Output Voltage                                            R           R        R               OUT_
   3        OSA      DAC A Offset Adjustment
                                                                         2R     2R          2R       2R         2R
   4       REFA      Reference for DAC A
                                                                                 D0         D7       D8          D9
                     Active-Low Clear Input. Resets all reg-
   5        CL
                     isters to zero. DAC outputs go to 0V.
                                                                  REF_
   6        CS       Chip-Select Input
                                                                  AGND
   7        DIN      Serial-Data Input
   8       SCLK      Serial Clock Input                           SHOWN FOR ALL 1s ON DAC
   9       DGND      Digital Ground                            Figure 1. Simplified DAC Circuit Diagram
   10      DOUT      Serial-Data Output                                     VOUT = (VREF x NB / 1024) x 2
   11      UPO       User-Programmable Output                  where NB is the numeric value of the DAC’s binary input
                                                               code (0 to 1023) and VREF is the reference voltage.
                     Power-Down Lockout. The device can-
   12       PDL                                                The reference input impedance ranges from 18kΩ
                     not be powered down when PDL is low.
                                                               (1558 hex) to several giga ohms (with an input code of
   13      REFB      Reference for DAC B
                                                               0000 hex). The reference input capacitance is code
   14       OSB      DAC B Offset Adjustment                   dependent and typically ranges from 15pF with an
                                                               input code of all zeros to 50pF with a full-scale input
   15      OUTB      DAC B Output Voltage                      code.
   16       VDD      Positive Power Supply
                                                                                                              Output Amplifier
                                                               The output amplifiers on the MAX5158/MAX5159 have
_______________Detailed Description                            internal resistors that provide for a gain of +2V/V when
The MAX5158/MAX5159 dual, 10-bit, voltage-output               OS_ is connected to AGND. These resistors are
DACs are easily configured with a 3-wire serial inter-         trimmed to minimize gain error. The output amplifiers
face. These devices include a 16-bit data-in/data-out          have a typical slew rate of 0.75V/µs and settle to
shift register, and each DAC has a double-buffered             1/2LSB within 8µs, with a load of 10kΩ in parallel with
input composed of an input register and a DAC register         100pF. Loads less than 2kΩ degrade performance.
(see Functional Diagram). In addition, trimmed internal        The OS_ pin can be used to produce an adjustable off-
resistors produce an internal gain of +2V/V that maxi-         set voltage at the output. For instance, to achieve a 1V
mizes output voltage swing. The amplifier’s offset-adjust      offset, apply -1V to the OS_ pin to produce an output
pin allows for a DC shift in the DAC’s output.                 range from 1V to (1V + VREF x 2). Note that the DAC’s
Both DACs use an inverted R-2R ladder network that             output range is still limited by the maximum output volt-
produces a weighted voltage proportional to the input          age specification.
voltage value. Each DAC has its own reference input to                                                Power-Down Mode
facilitate independent full-scale values. Figure 1             The MAX5158/MAX5159 feature a software-program-
depicts a simplified circuit diagram of one of the two         mable shutdown mode that reduces the typical supply
DACs.                                                          current to 2µA. The two DACs can be shutdown inde-
                                   Reference Inputs            pendently, or simultaneously using the appropriate pro-
The reference inputs accept both AC and DC values              gramming command. Enter shutdown mode by writing
with a voltage range extending from 0V to (VDD - 1.4V).        the appropriate input-control word (Table 1). In shut-
Determine the output voltage using the following equa-         down mode, the reference inputs and amplifier out-
tion (OS_ = AGND):                                             puts become high impedance, and the serial interface
                  _______________________________________________________________________________________                        9


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
                                                                                              remains active. Data in the input registers is saved,
MAX5158/MAX5159
                                                                                              allowing the MAX5158/MAX5159 to recall the output
                                                                                              state prior to entering shutdown when returning to nor-
                                           SCLK                 SK                            mal mode. Exit shutdown by recalling the previous con-
                                                                                              dition or by updating the DAC with new information.
                                                                                              When returning to normal operation (exiting shutdown),
                                                                      MICROWIRE
                            MAX5158                                      PORT                 wait 20µs for output stabilization.
                                            DIN                 SO
                            MAX5159
                                                                                                                                          Serial Interface
                                                                                              The MAX5158/MAX5159 3-wire serial interface is com-
                                            CS                  I/O                           patible with both Microwire (Figure 2) and SPI/QSPI
                                                                                              (Figure 3) serial-interface standards. The 16-bit serial
                                                                                              input word consists of an address bit, two control bits, 10
                                                                                              bits of data (MSB to LSB), and 3 sub-bits as shown in
                  Figure 2. Connections for Microwire                                         Figure 4. The address and control bits determine the
                                                                                              MAX5158/MAX5159’s response, as outlined in Table 1.
                  Table 1. Serial-Interface Programming Command
                                          16-BIT SERIAL WORD
                                                  D9..........................D0                                      FUNCTION
                       A0    C1       C0                                         S2–S0
                                                  (MSB)                  (LSB)
                       0      0       1               10-bit DAC data             000    Load input register A; DAC registers are unchanged.
                       1      0       1               10-bit DAC data             000    Load input register B; DAC registers are unchanged.
                       0      1       0               10-bit DAC data             000    Load input register A; all DAC registers are updated.
                       1      1       0               10-bit DAC data             000    Load input register B; all DAC registers are updated.
                                                                                         Load all DAC registers from the shift register
                       0      1       1               10-bit DAC data             000
                                                                                         (start up both DACs with new data.).
                                                                                         Update both DAC registers from their respective input registers
                       1      0       0                  xxxxxxxxxx               000
                                                                                         (start up both DACs with data previously stored in the input registers).
                       1      1       1                  xxxxxxxxxx               000    Shut down both DACs (provided PDL = 1).
                                                                                         Update DAC register A from input register A
                       0      0       0               0 0 1 x xxxxxx              000
                                                                                         (start up DAC A with data previously stored in input register A).
                                                                                         Update DAC register B from input register B
                       0      0       0               1 0 1 x xxxxxx              000
                                                                                         (start up DAC B with data previously stored in input register B).
                       0      0       0               1 1 0 x xxxxxx              000    Shut down DAC A (provided PDL = 1).
                       0      0       0               1 1 1 x xxxxxx              000    Shut down DAC B (provided PDL = 1).
                       0      0       0               0 1 0 x xxxxxx              000    UPO goes low (default).
                       0      0       0               0 1 1 x xxxxxx              000    UPO goes high.
                       0      0       0               1 0 0 1 xxxxxx              000    Mode 1, DOUT clocked out on SCLK’s rising edge.
                       0      0       0               1 0 0 0 xxxxxx              000    Mode 0, DOUT clocked out on SCLK’s falling edge (default).
                       0      0       0               0 0 0 x xxxxxx              000    No operation (NOP).
                  x = Don’t care
                  Note: When A0, C1, and C0 = 0, then D9, D8, D7, and D6 become control bits. S2–S0 are sub bits, always zero.
                  10   ______________________________________________________________________________________


     Low-Power, Dual, 10-Bit, Voltage-Output DACs
                              with Serial Interface
                                                                                                 The MAX5158/MAX5159’s digital inputs are double
                                                                                                                                                               MAX5158/MAX5159
                                                                          +5V                    buffered, which allows any of the following: loading the
                                                                                                 input register(s) without updating the DAC register(s),
                                                                                                 updating the DAC register(s) from the input register(s),
                                                                                                 or updating the input and DAC registers concurrently.
                                                                          SS
                                                                                                 The address and control bits allow the DACs to act
                                                                                                 independently.
                               DIN                        MOSI
                                                                                                 Send the 16-bit data as one 16-bit word (QSPI) or two
                                                                                                 8-bit packets (SPI, Microwire), with CS low during this
                                                                       SPI/QSPI                  period. The address and control bits determine which
          MAX5158           SCLK                          SCK
                                                                        PORT                     register will be updated and the state of the registers
          MAX5159                                                                                when exiting shutdown. The 3-bit address/control deter-
                                                                                                 mines the following:
                               CS                         I/O
                                                                                                 • registers to be updated
                                                                                                 • clock edge on which data is to be clocked out via
                                                       CPOL = 0, CPHA = 0                           the serial-data output (DOUT)
                                                                                                 • state of the user-programmable logic output
Figure 3. Connections for SPI/QSPI                                                               • configuration of the device after shutdown.
                                                                                                 The general timing diagram of Figure 5 illustrates how
                                                                                                 data is acquired. Driving CS low enables the device to
MSB ..................................................................................LSB        receive data. Otherwise, the interface control circuitry is
                               16 Bits of Serial Data                                            disabled. With CS low, data at DIN is clocked into the
                                                                                                 register on the rising edge of SCLK. As CS goes high,
 Address Bits           Control Bits MSB....DataBits...LSB Sub Bits                              data is latched into the input and/or DAC registers,
       A0                 C1, C0              D9.................. ......D0 S2–S0                depending on the address and control bits. The maxi-
           1 Address/
                                                                                                 mum clock frequency guaranteed for proper operation
          2 Control Bits
                                                    10 Data Bits                   000           is 10MHz. Figure 6 depicts a more detailed timing dia-
                                                                                                 gram of the serial interface.
Figure 4. Serial-Data Format
                          CS
                                                                                                                                         COMMAND
                                                                                                                                         EXECUTED
                       SCLK
                                          1                                             8        9                                  16
                         DIN         A0        C1    C0    D9     D8     D7       D6   D5   D4       D3   D2   D1   D0   S2   S1   S0
Figure 5. Serial-Interface Timing Diagram
                               ______________________________________________________________________________________                                    11


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
MAX5158/MAX5159
                        CS                                                                                                                        tCSW
                                                tCSS                            tCH                          tCP                 tCSH
                                  tCSO                                    tCL                                                             tCS1
                       SCLK
                                                   tDS
                                                         tDH
                        DIN
                  Figure 6. Detailed Serial-Interface Timing Diagram
                                         SCLK                                   SCLK                         SCLK
                                               MAX5158                                MAX5158                      MAX5158
                                               MAX5159                                MAX5159                      MAX5159
                                         DIN             DOUT                   DIN         DOUT             DIN         DOUT
                                         CS                                     CS                           CS                                  TO OTHER
                                                                                                                                                 SERIAL DEVICES
                  Figure 7. Daisy Chaining MAX5158/MAX5159s
                         DIN
                        SCLK
                         CS1
                         CS2                                                                                                                             TO OTHER
                                                                                                                                                         SERIAL DEVICES
                         CS3
                                                         CS                                 CS                           CS
                                                                MAX5158                            MAX5158                      MAX5158
                                                                MAX5159                            MAX5159                      MAX5159
                                                         SCLK                               SCLK                         SCLK
                                                         DIN                                DIN                          DIN
                  Figure 8. Multiple MAX5158/MAX5159s Sharing a Common DIN Line
                  12   ______________________________________________________________________________________


     Low-Power, Dual, 10-Bit, Voltage-Output DACs
                              with Serial Interface
                                                                                                                                                 MAX5158/MAX5159
Table 2. Unipolar Code Table (Gain = +2)
                                                                                                       +5V/+3V              OS_
      DAC CONTENTS
                                     ANALOG OUTPUT                             REF_
   MSB           LSB
                                                                                                         VDD
  11   1111     1111 (000)                  1023 
                                     +VREF        x2                                                               R
                                            1024                                      MAX5158
                                                                                        MAX5159
  10   0000     0001 (000)                   513                                                                   R
                                      +VREF        x2
                                             1024                                   DAC_                                        OUT_
                                         512 
  10   0000     0000 (000)        +VREF        x 2 = VREF                                    AGND                  DGND
                                         1024 
  01   1111     1111 (000)                  511                        GAIN = +2V/V
                                     +VREF        x2
                                            1024 
  00   0000     0001 (000)                  1                Figure 9. Unipolar Output Circuit (Rail-to-Rail)
                                     +VREF       
                                            1024 
  00   0000     0000 (000)                   0V
Note: ( ) are for the sub bits.
                                                                                                    +5V/+3V              OS_
                                                                            REF_
                                    Serial-Data Output                                                VDD                             VOS
The serial-data output, DOUT, is the internal shift regis-
                                                                                    MAX5158                      R
ter’s output. DOUT allows for daisy chaining of devices
and data readback. The MAX5158/MAX5159 can be                                       MAX5159
programmed to shift data out of DOUT on SCLK’s                                                                   R
falling edge (Mode 0) or on the rising edge (Mode 1).                              DAC _                                       OUT_
Mode 0 provides a lag of 16 clock cycles, which main-
tains compatibility with SPI/QSPI and Microwire inter-                                       AGND                DGND
faces. In Mode 1, the output data lags 15.5 clock
cycles. On power-up, the device defaults to Mode 0.
               User-Programmable Logic Output (UPO)
UPO allows an external device to be controlled through
                                                               Figure 10. Setting OS_ for Output Offset
the serial interface (Table 1), thereby reducing the num-
ber of microcontroller I/O pins required. On power-up,
UPO is low.                                                    load. Refer to the digital output VOH and VOL specifica-
                                                               tions in the Electrical Characteristics.
                    Power-Down Lockout Input (P  PDL)          Figure 8 shows an alternate method of connecting sev-
The power-down lockout pin (PDL) disables software             eral MAX5158/MAX5159s. In this configuration, the
shutdown when low. When in shutdown, transitioning             data bus is common to all devices; data is not shifted
PDL from high to low wakes up the part with the output         through a daisy chain. More I/O lines are required in
set to the state prior to shutdown. PDL can also be            this configuration because a dedicated chip-select
used to asynchronously wake up the device.                     input (CS) is required for each IC.
                                 Daisy Chaining Devices         __________Applications Information
Any number of MAX5158/MAX5159s can be daisy
chained by connecting the DOUT pin of one device to                                                              Unipolar Output
the DIN pin of the following device in the chain (Figure 7).   Figure 9 shows the MAX5158/MAX5159 configured for
Since the MAX5158/MAX5159’s DOUT pin has an internal           unipolar, rail-to-rail operation with a gain of +2V/V. The
active pull-up, the DOUT sink/source capability deter-         MAX5158 can produce a 0V to 4.096V output with a
mines the time required to discharge/charge a capacitive       2.048V reference (Figure 9), while the MAX5159 can
                      ______________________________________________________________________________________                                13


                  Low-Power, Dual, 10-Bit Voltage-Output DACs
                  with Serial Interface
MAX5158/MAX5159
                  Table 3. Bipolar Code Table                                                    +5V/
                                                                                                  +3V
                          DAC CONTENTS                                                                                    +5V/+3V
                                                              ANALOG OUTPUT                         AC   26k
                       MSB           LSB                                                                                                  MAX495
                                                                                                REFERENCE
                                                                                                  INPUT
                                                                          511 
                    11     1111      1111 (000)                    +VREF      
                                                                          512 
                                                                                                                  10k
                                                                          1                   500mVp-p                                  REF            VDD
                    10     0000      0001 (000)                    +VREF                                                                                               R
                                                                          512                                                                                                   OS_
                    10     0000      0000 (000)                          0V                                                                                          R
                                                                          1 
                    01     1111      1111 (000)                    -VREF                                                           DAC_                                         OUT_
                                                                          512 
                                                                          511 
                    00     0000      0001 (000)                    -VREF                                                                          MAX5158
                                                                          512                                                                     MAX5159
                                                                                                                                     AGND                      DGND
                                                                      512 
                    00     0000      0000 (000)              -VREF         = - VREF
                                                                      512 
                                                                                               Figure 12. AC Reference Input Circuit
                  Note: ( ) are for the sub bits.
                                                                                                                                                                V+
                    REF_             +5V/+3V                                                                                                                             PHOTODIODE
                                                             10k           10k
                                                                                                               REF_             +5V/+3V
                                                                                                                                                         OS_
                                                      OS_                                                                           VDD
                                      VDD
                                                                                                                                                R                            V+
                                               R                           V+                                         MAX5158
                           MAX5158
                                                                                                                      MAX5159
                           MAX5159                                                                                                              R                                   VOUT
                                               R             10k                        VOUT                                                            OUT_
                         DAC _                                                                   µP               DAC _
                                                      OUT_                                              DIN
                                                                                                                 AGND                       DGND                             V-
                                                               10k         V-
                                      DGND     AGND
                                                                                                                                                                     RPULLDOWN
                  Figure 11. Bipolar Output Circuit                                            Figure 13. Digital Calibration
                  produce a range of 0V to 2.5V with a 1.25V reference.                                                               Using an AC Reference
                  Table 2 lists the unipolar output codes. An offset to the                    In applications where the reference has an AC signal
                  output can be achieved by connecting a voltage to                            component, the MAX5158/MAX5159 have multiplying
                  OS_, as shown in Figure 10. By applying VOS_ = -1V,                          capabilities within the reference input voltage range
                  the output values will range between 1V and (1V +                            specifications. Figure 12 shows a technique for apply-
                  VREF x 2).                                                                   ing a sinusoidal input to REF_, where the AC signal is
                                                                     Bipolar Output            offset before being applied to the reference input.
                  The MAX5158/MAX5159 can be configured for a bipo-                                                     Harmonic Distortion and Noise
                  lar output, as shown in Figure 11. The output voltage is                     The total harmonic distortion plus noise (THD+N) is typ-
                  given by the equation (OS_ = AGND):                                          ically less than -78dB at full scale with a 1Vp-p input
                              VOUT = VREF [((2 x NB) / 1024) - 1]                              swing at 5kHz. The typical -3dB frequency is 300kHz
                  where NB represents the numeric value of the DAC’s                           for both devices, as shown in the Typical Operating
                  binary input code. Table 3 shows digital codes and the                       Characteristics.
                  corresponding output voltage for Figure 11’s circuit.
                  14     ______________________________________________________________________________________


    Low-Power, Dual, 10-Bit, Voltage-Output DACs
                             with Serial Interface
                                                                                                                                                      MAX5158/MAX5159
                                                VDD
                                                                           OSA
                     MAX5158                                         R
                     MAX5159
    VIN   REFA
                                                                     R              R1
                                                                          OUTA
           CS                  INPUT    DAC           DACA
                     SHIFT     REG A   REG A                                                   R2
          SCLK
                   REGISTER
                               INPUT    DAC                                         R3                               VOUT
           DIN                                        DACB                OUTB
                               REG B   REG B
          REFB                                                                                          R4
   VREF                                                              R
                                                                     R
                                                                          OSB
                                                                                     [ ] [ ]
                                                                                 VOUT = GAIN – OFFSET
                                                                                    = (V 2NA )( R2 )(1+ R4 ) (V              2NB
                                                                                                                                    )( R4R3 )]
                                                                                      [ 1024 R1+R2 R3 ] [
                                                                                          IN                           REF
                                                                                                                             1024
                                                                                   NA IS THE NUMERIC VALUE OF THE INPUT CODE FOR DACA.
                                                      AGND   DGND                  NB IS THE NUMERIC VALUE OF THE INPUT CODE FOR DACB.
Figure 14. Digital Control of Gain and Offset
                               Digital Calibration and                                   Power-Supply Considerations
                                 Threshold Selection                On power-up, the input and DAC registers clear (set to
Figure 13 shows the MAX5158/MAX5159 in a digital                    zero code). For rated performance, VREF_ should be at
calibration application. With a bright light value applied          least 1.4V below VDD. Bypass the power supply with a
to the photodiode (on), the DAC is digitally ramped until           4.7µF capacitor in parallel with a 0.1µF capacitor
it trips the comparator. The microprocessor (µP) stores             to AGND. Minimize lead lengths to reduce lead
this “high” calibration value. Repeat the process with a            inductance.
dim light (off) to obtain the dark current calibration. The
µP then programs the DAC to set an output voltage at
                                                                          Grounding and Layout Considerations
                                                                    Digital and AC transient signals on AGND can create
the midpoint of the two calibrated values. Applications
                                                                    noise at the output. Connect AGND to the highest quality
include tachometers, motion sensing, automatic read-
                                                                    ground available. Use proper grounding techniques,
ers, and liquid clarity analysis.
                                                                    such as a multilayer board with a low-inductance ground
                 Digital Control of Gain and Offset                 plane. Carefully lay out the traces between channels to
The two DACs can be used to control the offset and                  reduce AC cross-coupling and crosstalk. Wire-wrapped
gain for curve-fitting nonlinear functions, such as trans-          boards and sockets are not recommended. If noise
ducer linearization or analog compression/expansion                 becomes an issue, shielding may be required.
applications. The input signal is used as the reference
for the gain-adjust DAC, whose output is summed with
the output from the offset-adjust DAC. The relative
weight of each DAC output is adjusted by R1, R2, R3,
and R4 (Figure 14).
                     ______________________________________________________________________________________                                      15


                  Low-Power, Dual, 13-Bit Voltage-Output DACs
                  with Serial Interface
                   __________________Pin Configuration                                           _Ordering Information (continued)
MAX5158/MAX5159
                                                                                                       PART              TEMP. RANGE                     PIN-PACKAGE
                       TOP VIEW                                                                   MAX5159CPE              0°C to +70°C                   16 Plastic DIP
                                    AGND 1                     16 VDD                             MAX5159CEE              0°C to +70°C                   16 QSOP
                                    OUTA 2                     15 OUTB                            MAX5159EPE            -40°C to +85°C                   16 Plastic DIP
                                     OSA 3                     14 OSB                             MAX5159EEE            -40°C to +85°C                   16 QSOP
                                                                                                  MAX5159MJE            -55°C to +125°C                  16 CERDIP*
                                    REFA 4       MAX5158       13 REFB
                                                 MAX5159                                       *Contact factory for availability.
                                      CL 5                     12 PDL
                                      CS 6                     11 UPO
                                      DIN 7                    10 DOUT
                                    SCLK 8                      9   DGND
                                                                                                ___________________Chip Information
                                                DIP/QSOP
                                                                                               TRANSISTOR COUNT: 3053
                                                                                               SUBSTRATE CONNECTED TO AGND
                  ________________________________________________________Package Information
                                                                                                                                              QSOP.EPS
                  Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are
                  implied. Maxim reserves the right to change the circuitry and specifications without notice at any time.
                  16 ____________________Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600
                  © 1997 Maxim Integrated Products                  Printed USA                        is a registered trademark of Maxim Integrated Products.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX5158CEE+ MAX5158CEE+T MAX5158CPE+ MAX5158EEE+ MAX5158EEE+T MAX5158EPE+
MAX5159CEE+ MAX5159CEE+T MAX5159CPE+ MAX5159EEE+ MAX5159EEE+T MAX5159EPE+
