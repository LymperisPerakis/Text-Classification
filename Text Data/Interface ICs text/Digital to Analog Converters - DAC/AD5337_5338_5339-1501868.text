                                                                                    2.5 V to 5.5 V, 250 μA, 2-Wire Interface,
                                                                                    Dual Voltage Output, 8-/10-/12-Bit DACs
                                                                                                     AD5337/AD5338/AD5339
FEATURES                                                                                                                GENERAL DESCRIPTION
AD5337                                                                                                                  The AD5337/AD5338/AD5339 are dual 8-, 10-, and 12-bit
   2 buffered 8-bit DACs in 8-lead MSOP                                                                                 buffered voltage output DACs, respectively. Each part is housed
AD5338, AD5338-1                                                                                                        in an 8-lead MSOP package and operates from a single 2.5 V to
   2 buffered 10-bit DACs in 8-lead MSOP                                                                                5.5 V supply, consuming 250 μA at 3 V. On-chip output amplifiers
AD5339                                                                                                                  allow rail-to-rail output swing with a slew rate of 0.7 V/μs. A 2-
   2 buffered 12-bit DACs in 8-lead MSOP                                                                                wire serial interface operates at clock rates up to 400 kHz. This
Low power operation: 250 μA @ 3 V, 300 μA @ 5 V                                                                         interface is SMBus compatible at VDD < 3.6 V. Multiple devices
2-wire (I2C-compatible) serial interface                                                                                can be placed on the same bus.
2.5 V to 5.5 V power supply
                                                                                                                        The references for the two DACs are derived from one reference
Guaranteed monotonic by design over all codes
                                                                                                                        pin. The outputs of all DACs can be updated simultaneously
Power-down to 80 nA @ 3 V, 200 nA @ 5 V
                                                                                                                        using the software LDAC function. The parts incorporate a
3 power-down modes
                                                                                                                        power-on reset circuit to ensure that the DAC outputs power up
Double-buffered input logic
                                                                                                                        to 0 V and remain there until a valid write to the device takes
Output range: 0 V to VREF
                                                                                                                        place. A software clear function resets all input and DAC
Power-on reset to 0 V
                                                                                                                        registers to 0 V. A power-down feature reduces the current
Simultaneous update of outputs (LDAC function)
                                                                                                                        consumption of the devices to 200 nA @ 5 V (80 nA @ 3 V).
Software clear facility
Data readback facility                                                                                                  The low power consumption of these parts in normal operation
On-chip rail-to-rail output buffer amplifiers                                                                           makes them ideally suited to portable battery-operated equip-
Temperature range: −40°C to +105°C                                                                                      ment. The power consumption is typically 1.5 mW at 5 V and
                                                                                                                        0.75 mW at 3 V, reducing to 1 μW in power-down mode.
APPLICATIONS
Portable battery-powered instruments
Digital gain and offset adjustment
Programmable voltage and current sources
Programmable attenuators
Industrial process control
                                                                               FUNCTIONAL BLOCK DIAGRAM
                                                                                                VDD                          REFIN
                                                                    LDAC
                                         SCL                                            INPUT                 DAC            STRING   BUFFER              VOUTA
                                                                                      REGISTER              REGISTER         DAC A
                                                          INTERFACE
                                        SDA                 LOGIC
                                                                                        INPUT                 DAC            STRING
                                                                                      REGISTER              REGISTER                  BUFFER              VOUTB
                                                                                                                             DAC B
                                           A0
                                                                                                                                           POWER-DOWN
                                                                                                                                              LOGIC
                                                              POWER-ON                    AD5337/AD5338/AD5339
                                                                RESET
                                                                                                             GND                                                  03756-001
                                                                                                            Figure 1.
Rev. C
Information furnished by Analog Devices is believed to be accurate and reliable. However, no
responsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other
rights of third parties that may result from its use. Specifications subject to change without notice. No               One Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.
license is granted by implication or otherwise under any patent or patent rights of Analog Devices.                     Tel: 781.329.4700                                 www.analog.com
Trademarks and registered trademarks are the property of their respective owners.                                       Fax: 781.461.3113 ©2003–2007 Analog Devices, Inc. All rights reserved.


AD5337/AD5338/AD5339
TABLE OF CONTENTS
Features .............................................................................................. 1               Output Amplifier........................................................................ 15
Applications....................................................................................... 1                   Power-on Reset ........................................................................... 15
General Description ......................................................................... 1                         Serial Interface ............................................................................ 16
Functional Block Diagram .............................................................. 1                               Write Operation.......................................................................... 17
Revision History ............................................................................... 2                      Read Operation........................................................................... 18
Specifications..................................................................................... 3                   Double-Buffered Interface ........................................................ 19
  AC Characteristics........................................................................ 5                          Power-Down Modes .................................................................. 19
  Timing Characteristics ................................................................ 6                          Applications..................................................................................... 20
Absolute Maximum Ratings............................................................ 7                                  Typical Application Circuit....................................................... 20
  ESD Caution.................................................................................. 7                       Bipolar Operation....................................................................... 20
Pin Configuration and Function Descriptions............................. 8                                              Multiple Devices on One Bus ................................................... 20
Typical Performance Characteristics ............................................. 9                                     Product as a Digitally Programmable Window Detector ..... 21
Terminology .................................................................................... 13                     Coarse and Fine Adjustment Capabilities............................... 21
Theory of Operation ...................................................................... 15                           Power Supply Decoupling ......................................................... 21
  Digital-to-Analog Converter Section ...................................... 15                                      Outline Dimensions ....................................................................... 24
  Resistor String ............................................................................. 15                      Ordering Guide .......................................................................... 24
  DAC Reference Inputs ............................................................... 15
REVISION HISTORY
9/07—Rev. B to Rev. C                                                                                                10/04—Rev. 0 to Rev. A
Changes to Features.......................................................................... 1                      Updated Format..................................................................Universal
Changes to Table 4............................................................................ 7                     Added AD5338-1................................................................Universal
Changes to Ordering Guide .......................................................... 25                              Changes to Specifications.................................................................4
                                                                                                                     Updated Outline Dimensions....................................................... 24
9/06—Rev. A to Rev. B                                                                                                Changes to Ordering Guide .......................................................... 24
Updated Format..................................................................Universal
Changes to Figure 31...................................................................... 16                        11/03—Rev. 0: Initial Version
Changes to Table 6.......................................................................... 16
Changes to Table 10........................................................................ 23
Changes to Ordering Guide .......................................................... 25
                                                                                                    Rev. C | Page 2 of 28


                                                                                                   AD5337/AD5338/AD5339
SPECIFICATIONS
VDD = 2.5 V to 5.5 V; VREF = 2 V; RL = 2 kΩ to GND; CL = 200 pF to GND; all specifications TMIN to TMAX, unless otherwise noted.
Table 1.
                                               A Grade 1                          B Grade1
            2
Parameter                             Min      Typ       Max          Min         Typ      Max     Unit         Conditions/Comments
DC PERFORMANCE 3, 4
  AD5337
     Resolution                                8                                  8                Bits
     Relative Accuracy                         ±0.15     ±1                       ±0.15    ±0.5    LSB
     Differential Nonlinearity                 ±0.02     ±0.25                    ±0.02    ±0.25   LSB          Guaranteed monotonic by
                                                                                                                design over all codes
  AD5338
     Resolution                                10                                 10               Bits
     Relative Accuracy                         ±0.5      ±4                       ±0.5     ±2      LSB
     Differential Nonlinearity                 ±0.05     ±0.5                     ±0.05    ±0.50   LSB          Guaranteed monotonic by
                                                                                                                design over all codes
  AD5339
     Resolution                                12                                 12               Bits
     Relative Accuracy                         ±2        ±16                      ±2       ±8      LSB
     Differential Nonlinearity                 ±0.2      ±1                       ±0.2     ±1      LSB          Guaranteed monotonic by
                                                                                                                design over all codes
  Offset Error                                 ±0.4      ±3                       ±0.4     ±3      % of FSR
  Gain Error                                   ±0.15     ±1                       ±0.15    ±1      % of FSR
  Lower Deadband                               20        60                       20       60      mV           Lower deadband exists
                                                                                                                only if offset error is
                                                                                                                negative
  Offset Error Drift 5                         −12                                −12              ppm of
                                                                                                   FSR/°C
  Gain Error Drift5                            −5                                 −5               ppm of
                                                                                                   FSR/°C
  Power Supply Rejection Ratio5                −60                                −60              dB           ∆VDD = ±10%
  DC Crosstalk5                                200                                200              μV           RL = 2 kΩ to GND or VDD
DAC REFERENCE INPUTS5
  VREF Input Range                    0.25               VDD          0.25                 VDD     V
  VREF Input Impedance                37       45                     37          45               kΩ           Normal operation
                                               >10                                >10              MΩ           Power-down mode
  Reference Feedthrough                        −90                                −90              dB           Frequency = 10 kHz
OUTPUT CHARACTERISTICS5
  Minimum Output Voltage 6                     0.001                              0.001            V            Measure of the minimum
                                                                                                                drive capabilities of the
                                                                                                                output amplifier
  Maximum Output Voltage6                      VDD −                              VDD −            V            Measure of the maximum
                                               0.001                              0.001                         drive capabilities of the
                                                                                                                output amplifier
  DC Output Impedance                          0.5                                0.5              Ω
  Short-Circuit Current                        25                                 25               mA           VDD = 5 V
                                               16                                 16               mA           VDD = 3 V
  Power-Up Time                                2.5                                2.5              μs           Coming out of power-
                                                                                                                down mode, VDD = 5 V
                                               5                                  5                μs           Coming out of power-
                                                                                                                down mode, VDD = 3 V
                                                            Rev. C | Page 3 of 28


AD5337/AD5338/AD5339
                                                              A Grade 1                                B Grade1
                2
Parameter                                          Min        Typ            Max           Min         Typ       Max          Unit             Conditions/Comments
LOGIC INPUTS (A0)5
    Input Current                                                            ±1                                  ±1           μA
    Input Low Voltage (VIL)                                                  0.8                                 0.8          V                VDD = 5 V ± 10%
                                                                             0.6                                 0.6          V                VDD = 3 V ± 10%
                                                                             0.5                                 0.5          V                VDD = 2.5 V
    Input High Voltage (VIH)                       2.4                                     2.4                                V                VDD = 5 V ± 10%
                                                   2.1                                     2.1                                V                VDD = 3 V ± 10%
                                                   2.0                                     2.0                                V                VDD = 2.5 V
    Pin Capacitance                                           3                                        3                      pF
LOGIC INPUTS (SCL, SDA)5
    Input High Voltage (VIH)                       0.7 ×                     VDD +         0.7 ×                 VDD +        V                SMBus compatible at
                                                   VDD                       0.3           VDD                   0.3                           VDD < 3.6 V
    Input Low Voltage (VIL)                        −0.3                      +0.3          –0.3                  +0.3         V                SMBus compatible at
                                                                             VDD                                 VDD                           VDD < 3.6 V
    Input Leakage Current (IIN)                                              ±1                                  ±1           μA
    Input Hysteresis (VHYST)                       0.05 ×                                  0.05 ×                             V
                                                   VDD                                     VDD
    Input Capacitance (CIN)                                   8                                        8                      pF
    Glitch Rejection                                                         50                                  50           ns               Input filtering suppresses
                                                                                                                                               noise spikes of less than
                                                                                                                                               50 ns
LOGIC OUTPUT (SDA)5
    Output Low Voltage (VOL)                                                 0.4                                 0.4          V                ISINK = 3 mA
                                                                             0.6                                 0.6          V                ISINK = 6 mA
    Three-State Leakage Current                                              ±1                                  ±1           μA
    Three-State Output Capacitance                            8                                        8                      pF
POWER REQUIREMENTS
    VDD                                            2.5                       5.5           2.5                   5.5          V
    IDD (Normal Mode) 7                                                                                                                        VIH = VDD and VIL = GND
        VDD = 4.5 V to 5.5 V                                  300            375                       300       375          μA
        VDD = 2.5 V to 3.6 V                                  250            350                       250       350          μA
    IDD (Power-Down Mode)                                                                                                                      VIH = VDD and VIL = GND
        VDD = 4.5 V to 5.5 V                                  0.2            1.0                       0.2       1.0          μA               IDD = 4 μA (max) during 0
                                                                                                                                               readback on SDA
        VDD = 2.5 V to 3.6 V                                  0.08           1.00                      0.08      1.00         μA               IDD = 1.5 μA (max) during 0
                                                                                                                                               readback on SDA
1
  Temperature range for A Version and B Version: −40°C to +105°C; typical at 25°C.
2
  See the Terminology section for explanations of the specific parameters.
3
  DC specifications tested with the outputs unloaded.
4
  Linearity is tested using a reduced code range: AD5337 (Code 8 to Code 248), AD5338, AD5338-1 (Code 28 to Code 995), AD5339 (Code 115 to Code 3981).
5
  Guaranteed by design and characterization; not production tested.
6
  For the amplifier output to reach its minimum voltage, offset error must be negative; to reach its maximum voltage, VREF = VDD and offset plus gain error must be positive.
7
  IDD specification is valid for all DAC codes. Interface inactive. All DACs active and excluding load currents.
                                                                                 Rev. C | Page 4 of 28


                                                                                                                    AD5337/AD5338/AD5339
AC CHARACTERISTICS
VDD = 2.5 V to 5.5 V; RL = 2 kΩ to GND; CL = 200 pF to GND; all specifications TMIN to TMAX, unless otherwise noted.
Table 2.
                                                        A Version and B Version 1
              2, 3
Parameter                                             Min          Typ           Max            Unit Conditions/Comments
Output Voltage Settling Time                                                                         VREF = VDD = 5 V
   AD5337                                                          6             8              μs   1/4 scale to 3/4 scale change (0x40 to 0xC0)
   AD5338                                                          7             9              μs   1/4 scale to 3/4 scale change (0x100 to 0x300)
   AD5339                                                          8             10             μs   1/4 scale to 3/4 scale change (0x400 to 0xC00)
Slew Rate                                                          0.7                          V/μs
Major Code Transition Glitch Energy                                12                           nV-s 1 LSB change around major carry
Digital Feedthrough                                                1                            nV-s
Digital Crosstalk                                                  1                            nV-s
DAC-to-DAC Crosstalk                                               3                            nV-s
Multiplying Bandwidth                                              200                          kHz  VREF = 2 V ± 0.1 V p-p
Total Harmonic Distortion                                          −70                          dB   VREF = 2.5 V ± 0.1 V p-p, frequency = 10 kHz
1
  Temperature range for A version and B version: −40°C to +105°C; typical at 25°C.
2
  Guaranteed by design and characterization; not production tested.
3
  See the Terminology section for explanations of the specific parameters.
                                                                           Rev. C | Page 5 of 28


AD5337/AD5338/AD5339
TIMING CHARACTERISTICS
VDD = 2.5 V to 5.5 V. All specifications TMIN to TMAX, unless otherwise noted.
Table 3.
                              Limit at TMIN, TMAX
Parameter                  A Version and B Version                    Unit            Conditions/Comments
fSCL                   400                                            kHz max         SCL clock frequency
t1                     2.5                                            μs min          SCL cycle time
t2                     0.6                                            μs min          tHIGH, SCL high time
t3                     1.3                                            μs min          tLOW, SCL low time
t4                     0.6                                            μs min          tHD, STA, start/repeated start condition hold time
t5                     100                                            ns min          tSU, DAT, data setup time
t6 1                   0.9                                            μs max          tHD, DAT, data hold time
                       0                                              μs min          tHD, DAT, data hold time
t7                     0.6                                            μs min          tSU, STA, setup time for repeated start
t8                     0.6                                            μs min          tSU, STO, stop condition setup time
t9                     1.3                                            μs min          tBUF, bus free time between a stop and a start condition
t10                    300                                            ns max          tR, rise time of SCL and SDA when receiving
                       0                                              ns min          tR, rise time of SCL and SDA when receiving (CMOS compatible)
t11                    250                                            ns max          tF, fall time of SDA when transmitting
                       0                                              ns min          tF, fall time of SDA when receiving (CMOS compatible)
                       300                                            ns max          tF, fall time of SCL and SDA when receiving
                       20 + 0.1 CB 2                                  ns min          tF, fall time of SCL and SDA when transmitting
CB                     400                                            pF max          Capacitive load for each bus line
1
    A master device must provide a hold time of at least 300 ns for the SDA signal (referred to VIH min of the SCL signal) to bridge the undefined region of SCL’s falling edge.
2
    CB is the total capacitance of one bus line in pF; tR and tF measured between 0.3 VDD and 0.7 VDD.
         SDA
                       t9                  t3            t10                          t11                                t4
          SCL
                                 t4                            t6            t2                                                        t1                        t8
                                                                                            t5                     t7
                               START
                             CONDITION                                                                        REPEATED                                        STOP
                                                                                                                                                                            03756-002
                                                                                                                START                                       CONDITION
                                                                                                              CONDITION
                                                                    Figure 2. 2-Wire Serial Interface Timing Diagram
                                                                                  Rev. C | Page 6 of 28


                                                                                                     AD5337/AD5338/AD5339
ABSOLUTE MAXIMUM RATINGS
TA = 25°C, unless otherwise noted.                                        Stresses above those listed under Absolute Maximum Ratings
Table 4.                                                                  may cause permanent damage to the device. This is a stress
                                                                          rating only; functional operation of the device at these or any
Parameter                        Rating
                                                                          other conditions above those indicated in the operational
VDD to GND                       −0.3 V to +7 V
                                                                          section of this specification is not implied. Exposure to absolute
SCL, SDA to GND                  −0.3 V to VDD + 0.3 V
                                                                          maximum rating conditions for extended periods may affect
A0 to GND                        −0.3 V to VDD + 0.3 V
                                                                          device reliability.
Reference Input Voltage to GND   −0.3 V to VDD + 0.3 V
VOUTA to VOUTB to GND            −0.3 V to VDD + 0.3 V                    Transient currents of up to 100 mA do not cause SCR latch-up.
Operating Temperature Range
  Industrial (B Version)         −40°C to +105°C
Storage Temperature Range        −65°C to +150°C
                                                                          ESD CAUTION
Junction Temperature (TJ max)    150°C
MSOP Package
  Power Dissipation              (TJ max − TA) θJA
  θJA Thermal Impedance          206°C/W
  θJC Thermal Impedance          44°C/W
Lead Temperature                 JEDEC Industry Standard
  Soldering                      J-STD-020
                                                         Rev. C | Page 7 of 28


AD5337/AD5338/AD5339
PIN CONFIGURATION AND FUNCTION DESCRIPTIONS
                                                         VDD 1                    8   A0
                                                                  AD5337/
                                                      VOUTA 2     AD5338/         7   SCL
                                                      VOUTB 3     AD5339          6   SDA
                                                                                            03756-003
                                                                   TOP VIEW
                                                       REFIN 4   (Not to Scale)   5   GND
                                                          Figure 3. Pin Configuration
Table 5. Pin Function Descriptions
Pin No.   Mnemonic    Description
1         VDD         Power Supply Input. These parts can be operated from 2.5 V to 5.5 V, and the supply should be decoupled to GND.
2         VOUTA       Buffered Analog Output Voltage from DAC A. The output amplifier has rail-to-rail operation.
3         VOUTB       Buffered Analog Output Voltage from DAC B. The output amplifier has rail-to-rail operation.
4         REFIN       Reference Input Pin for the Two DACs. It has an input range from 0.25 V to VDD.
5         GND         Ground Reference Point for All Circuitry on the Parts.
6         SDA         Serial Data Line. This is used in conjunction with the SCL line to clock data into or out of the 16-bit input shift
                      register. SDA is a bidirectional open-drain data line that should be pulled to the supply with an external pull-up resistor.
7         SCL         Serial Clock Line. This is used in conjunction with the SDA line to clock data into or out of the 16-bit input shift
                      register. Clock rates of up to 400 kbps can be accommodated in the 2-wire interface.
8         A0          Address Input. Sets the least significant bit of the 7-bit slave address.
                                                             Rev. C | Page 8 of 28


                                                                                                                                                                                      AD5337/AD5338/AD5339
TYPICAL PERFORMANCE CHARACTERISTICS
                    1.0                                                                                                                                 0.3
                              TA = 25°C                                                                                                                           TA = 25°C
                              VDD = 5V                                                                                                                            VDD = 5V
                                                                                                                                                        0.2
                    0.5
                                                                                                                                                        0.1
 INL ERROR (LSB)                                                                                                                     DNL ERROR (LSB)
                     0                                                                                                                                   0
                                                                                                                                                       –0.1
                   –0.5
                                                                                                                                                       –0.2
                                                                                                03756-006                                                                                                                           03756-009
                   –1.0                                                                                                                                –0.3
                          0             50         100          150         200           250                                                                 0              50        100          150         200          250
                                                         CODE                                                                                                                                CODE
                                        Figure 4. AD5337 Typical INL Plot                                                                                                   Figure 7. AD5337 Typical DNL Plot
                     3                                                                                                                                  0.6
                              TA = 25°C                                                                                                                           TA = 25°C
                              VDD = 5V                                                                                                                            VDD = 5V
                     2                                                                                                                                  0.4
                     1                                                                                                                                  0.2
 INL ERROR (LSB)                                                                                                                     DNL ERROR (LSB)
                     0                                                                                                                                   0
                    –1                                                                                                                                 –0.2
                    –2                                                                                                                                 –0.4
                                                                                                03756-007                                                                                                                           03756-010
                    –3                                                                                                                                 –0.6
                          0             200        400          600          800          1000                                                                0             200        400          600         800          1000
                                                         CODE                                                                                                                                CODE
                                        Figure 5. AD5338 Typical INL Plot                                                                                                   Figure 8. AD5338 Typical DNL Plot
                    12                                                                                                                                  1.0
                              TA = 25°C                                                                                                                           TA = 25°C
                              VDD = 5V                                                                                                                            VDD = 5V
                     8
                                                                                                                                                        0.5
                     4
 INL ERROR (LSB)                                                                                                                     DNL ERROR (LSB)
                     0                                                                                                                                   0
                    –4
                                                                                                                                                       –0.5
                    –8
                                                                                                 03756-008                                                                                                                          03756-011
                   –12                                                                                                                                 –1.0
                          0       500     1000    1500   2000    2500   3000       3500   4000                                                                0       500      1000   1500   2000    2500   3000      3500    4000
                                                         CODE                                                                                                                                CODE
                                        Figure 6. AD5339 Typical INL Plot                                                                                                   Figure 9. AD5339 Typical DNL Plot
                                                                                                             Rev. C | Page 9 of 28


AD5337/AD5338/AD5339
                0.50                                                                                                                               0.2
                           TA = 25°C                                                                                                                         TA = 25°C
                           VDD = 5V                                                                                                                0.1       VREF = 2V
                                                                                                                                                                                       GAIN ERROR
                0.25                                                                                                                                0
                                                            MAX DNL
                                                                                                                                                  –0.1
 ERROR (LSB)
                                                                                                                                      ERROR (%)
                                        MAX INL
                  0                                                                                                                               –0.2
                                                           MIN DNL
                                                                                                                                                  –0.3
               –0.25                                                                                                                              –0.4
                                                   MIN INL                                                                                                                             OFFSET ERROR
                                                                                                                                                  –0.5
                                                                                                         03756-012                                                                                                       03756-015
               –0.50                                                                                                                              –0.6
                       0     0.5   1.0       1.5     2.0     2.5      3.0   3.5        4.0   4.5   5.0                                                   0           1         2         3          4        5      6
                                                           VREF (V)                                                                                                                   VDD (V)
                             Figure 10. AD5337 INL and DNL Error vs. VREF                                                                                       Figure 13. Offset Error and Gain Error vs. VDD
                 0.5                                                                                                                                5
                           VDD = 5V                                                                                                                                                 5V SOURCE
                 0.4
                           VREF = 3V
                 0.3                                                                                                                                4
                 0.2                                                         MAX INL
 ERROR (LSB)
                 0.1                                                                                                                                3                               3V SOURCE
                                                                                                                                      VOUT (V)
                                        MAX DNL
                  0
                                                                             MIN DNL
                –0.1                                                                                                                                2
                –0.2
                –0.3                   MIN INL                                                                                                      1                                                     5V SINK
                                                                                                         03756-013                                                                                                      03756-016
                –0.4                                                                                                                                                                            3V SINK
                –0.5                                                                                                                                0
                    –40                  0                   40                   80               120                                                   0           1         2         3          4        5      6
                                                   TEMPERATURE (°C)                                                                                                        SINK/SOURCE CURRENT (mA)
                       Figure 11. AD5337 INL and DNL Error vs. Temperature                                                                                   Figure 14. VOUT Source and Sink Current Capability
                 1.0                                                                                                                              300
                           VDD = 5V
                           VREF = 2V
                                                                                                                                                  250
                 0.5
                                                                        OFFSET ERROR                                                              200
 ERROR (%)
                  0                                                                                                                   IDD (µA)    150
                                                      GAIN ERROR
                                                                                                                                                  100
                –0.5
                                                                                                                                                   50        TA = 25°C
                                                                                                                                                                                                                        03756-017
                                                                                                                                                             VDD = 5V
                                                                                                     03756-014
                                                                                                                                                             VREF = 2V
                –1.0                                                                                                                                0
                    –40                  0                   40                   80               120                                                   ZERO SCALE                                        FULL SCALE
                                                   TEMPERATURE (°C)                                                                                                                    CODE
               Figure 12. AD5337 Offset Error and Gain Error vs. Temperature                                                                                         Figure 15. Supply Current vs. Code
                                                                                                                 Rev. C | Page 10 of 28


                                                                                                                                                                     AD5337/AD5338/AD5339
             300                                                                                                                                TA = 25°C
                                                                                                                                                VDD = 5V
                                                                             –40°C
                                                                                                                                                VREF = 5V
             250
                                                                                                                                        CH1
                                                +25°C         +105°C
             200                                                                                                                                             VOUTA
  IDD (µA)   150
             100
                                                                                                                                                             SCL
                                                                                                                                        CH2
              50
                                                                                                                                                                                                                03756-021
                                                                                                       03756-018
               0                                                                                                                               CH1 1V, CH2 5V, TIME BASE = 1µs/DIV
                2.5            3.0        3.5           4.0            4.5           5.0         5.5
                                                      VDD (V)
                         Figure 16. Supply Current vs. Supply Voltage                                                                         Figure 19. Midscale Settling (¼ to ¾ Scale Code Change)
             0.5                                                                                                                                TA = 25°C
                                                                                                                                                VDD = 5V
                                                                                                                                                VREF = 2V
             0.4
                                                                                                                                        CH1
             0.3
  IDD (µA)
                                                                                                                                                  VDD
                                                                             –40°C
             0.2
                                                       +25°C
                                                                                                                                                 VOUTA
                                                                                                                                        CH2
             0.1
                                                                                                                                                                                                                    03756-022
                                                                                +105°C
                                                                                                       03756-019
               0                                                                                                                               CH1 2V, CH2 200mV, TIME BASE = 200µs/DIV
                2.5            3.0        3.5           4.0            4.5           5.0         5.5
                                                      VDD (V)
                   Figure 17. Power-Down Current vs. Supply Voltage                                                                                         Figure 20. Power-On Reset to 0 V
             400
                                                                                                                                               TA = 25°C
                       TA = 25°C                                                                                                               VDD = 5V
             350                                 VDD = 5V                                                                                      VREF = 2V
             300                                                                                                                        CH1
                         DECREASING
             250                                INCREASING
                                                                                                                                                             VOUTA
  IDD (µA)   200                     VDD = 3V
                                                                                                                                                             SCL
             150
             100                                                                                                                        CH2
              50
                                                                                                   03756-020                                                                                            03756-023
               0
                   0     0.5     1.0    1.5     2.0     2.5     3.0      3.5     4.0       4.5   5.0                                          CH1 500mV, CH2 5V, TIME BASE = 1µs/DIV
                                                  VLOGIC (V)
Figure 18. Supply Current vs. Logic Input Voltage for SDA and SCL Voltage                                                                           Figure 21. Existing Power-Down to Midscale
                       Increasing and Decreasing
                                                                                                               Rev. C | Page 11 of 28


AD5337/AD5338/AD5339
                                                                                                                                      0.02
                                                                                                                                                 TA = 25°C
                                                                                                                                                 VDD = 5V
                           VDD = 3V                                 VDD = 5V
                                                                                                                                      0.01
                                                                                                              FULL-SCALE ERROR (V)
 FREQUENCY
                                                                                                                                        0
                                                                                                                                     –0.01
                                                                                 03756-024
                                                                                                                                                                                                        03756-027
                    150               200              250           300                                                             –0.02
                                                                                                                                             0          1          2         3         4        5   6
                                                IDD (µA)
                                                                                                                                                                          VREF (V)
                    Figure 22. IDD Histogram with VDD = 3 V and VDD = 5 V                                                                                Figure 25. Full-Scale Error vs. VREF
             2.50
             2.49
 VOUT (V)                                                                                                     1mV/DIV
             2.48
                                                                                                                                                                                                        03756-028
                                                                                 03756-025
             2.47
                                                1µs/DIV                                                                                                                  50ns/DIV
                Figure 23. AD5339 Major Code Transition Glitch Energy                                                                                    Figure 26. DAC-to-DAC Crosstalk
              10
                0
             –10
             –20
 dB
             –30
             –40
             –50
                                                                                 03756-026
             –60
                    10      100        1k        10k         100k   1M         10M
                                            FREQUENCY (Hz)
 Figure 24. Multiplying Bandwidth (Small-Signal Frequency Response)
                                                                                         Rev. C | Page 12 of 28


                                                                                                             AD5337/AD5338/AD5339
TERMINOLOGY
Relative Accuracy (Integral Nonlinearity, INL)                                   Major Code Transition Glitch Energy
For the DAC, relative accuracy, or integral nonlinearity (INL),                  The energy of the impulse injected into the analog output when
is a measure, in LSBs, of the maximum deviation from a straight                  the code in the DAC register changes state. Normally specified
line passing through the endpoints of the DAC transfer function.                 as the area of the glitch in nV-s, it is measured when the digital
Typical INL vs. code plots can be seen in Figure 4, Figure 5, and                code is changed by 1 LSB at the major carry transition (011...11
Figure 6.                                                                        to 100...00 or 100...00 to 011...11).
Differential Nonlinearity (DNL)                                                  Digital Feedthrough
The difference between the measured change and the ideal                         A measure of the impulse injected into the analog output of the
1 LSB change between any two adjacent codes. A specified                         DAC from the digital input pins of the device when the DAC
differential nonlinearity of ±1 LSB maximum ensures mono-                        output is not being updated. Specified in nV-s and measured
tonicity. This DAC is guaranteed monotonic by design. Typical                    with a worst-case change on the digital input pins, such as
DNL vs. code plots can be seen in Figure 7, Figure 8, and                        changing from all 0s to all 1s or vice-versa.
Figure 9.                                                                        Digital Crosstalk
Offset Error                                                                     The glitch impulse transferred to the output of one DAC at
A measure of the offset error of the DAC and the output                          midscale in response to a full-scale code change (all 0s to all 1s,
amplifier, expressed as a percentage of the full-scale range.                    or vice versa) in the input register of another DAC. It is
Gain Error                                                                       expressed in nV-s.
A measure of the span error of the DAC. It is the deviation in                   DAC-to-DAC Crosstalk
slope of the actual DAC transfer characteristic from the ideal,                  The glitch impulse transferred to the output of one DAC due to
expressed as a percentage of the full-scale range.                               a digital code change and subsequent output change of another
Offset Error Drift                                                               DAC. This includes both digital and analog crosstalk. It is
A measure of the change in offset error with changes in                          measured by loading one of the DACs with a full-scale code
temperature. It is expressed in (ppm of full-scale range)/°C.                    change (all 0s to all 1s, or vice versa) with the LDAC bit set low
                                                                                 and monitoring the output of another DAC. The energy of the
Gain Error Drift
                                                                                 glitch is expressed in nV-s.
A measure of the change in gain error with changes in
temperature. It is expressed in (ppm of full-scale range)/°C.                    Multiplying Bandwidth
                                                                                 The amplifiers within the DAC have a finite bandwidth. The
Power Supply Rejection Ratio (PSRR)
                                                                                 multiplying bandwidth is the frequency at which the output
This indicates how the output of the DAC is affected by changes
                                                                                 amplitude falls to 3 dB below the input. A sine wave on the
in the supply voltage. PSRR is the ratio of the change in VOUT to
                                                                                 reference (with full-scale code loaded to the DAC) appears on
a change in VDD for full-scale output of the DAC. It is measured
                                                                                 the output.
in dB. VREF is held at 2 V and VDD is varied ±10%.
                                                                                 Total Harmonic Distortion (THD)
DC Crosstalk
                                                                                 The difference between an ideal sine wave and its attenuated
The dc change in the output level of one DAC at midscale in
                                                                                 version using the DAC. The sine wave is used as the reference
response to a full-scale code change (all 0s to all 1s and vice
                                                                                 for the DAC, and the THD is a measure of the harmonic
versa) and output change of another DAC. It is expressed in μV.
                                                                                 distortion present in the DAC output. It is measured in dB.
Reference Feedthrough
The ratio of the amplitude of the signal at the DAC output to
the reference input when the DAC output is not being updated.
It is expressed in dB.
                                                                Rev. C | Page 13 of 28


AD5337/AD5338/AD5339
                                                GAIN ERROR                                                                                     GAIN ERROR
                                                   PLUS                                                                                           PLUS
                                               OFFSET ERROR                                                               ACTUAL              OFFSET ERROR
                                                                                                     OUTPUT
       OUTPUT           IDEAL                                                                       VOLTAGE
      VOLTAGE
                                     ACTUAL
                                                                                                                               IDEAL
                                                                                                   POSITIVE
                                                                                                                                                             03756-005
                                                                                                    OFFSET
  NEGATIVE
   OFFSET                   DAC CODE                                                                                      DAC CODE
   ERROR
                                                                                                         Figure 28. Transfer Function with Positive Offset
                DEADBAND CODES
  AMPLIFIER
  FOOTROOM
    (1mV)
  NEGATIVE
   OFFSET
   ERROR
                                                              03756-004
        Figure 27. Transfer Function with Negative Offset
                                                                          Rev. C | Page 14 of 28


                                                                                                           AD5337/AD5338/AD5339
THEORY OF OPERATION
The AD5337/AD5338/AD5339 are dual resistor string DACs                                            R
fabricated on a CMOS process with resolutions of 8, 10, and
12 bits, respectively. Each part contains two output buffer                                       R
amplifiers and is written to via a 2-wire serial interface. The
                                                                                                                       TO OUTPUT
                                                                                                  R
DACs operate from single supplies of 2.5 V to 5.5 V, and the                                                           AMPLIFIER
output buffer amplifiers provide rail-to-rail output swing with
a slew rate of 0.7 V/μs. The two DACs share a single reference
input pin. Each DAC has three programmable power-down
modes that allow the output amplifier to be configured with                                       R
either a 1 kΩ load to ground, a 100 kΩ load to ground, or as
                                                                                                  R
a high impedance three-state output.
                                                                                                                                    03756-030
DIGITAL-TO-ANALOG CONVERTER SECTION
                                                                                                       Figure 30. Resistor String
The architecture of one DAC channel consists of a resistor-
string DAC followed by an output buffer amplifier. The voltage                  DAC REFERENCE INPUTS
at the REFIN pin provides the reference voltage for the DAC.                    There is a single reference input pin for the two DACs. The
Figure 29 shows a block diagram of the DAC architecture.                        reference input is unbuffered. The user can have a reference
Because the input coding to the DAC is straight binary, the ideal               voltage as low as 0.25 V and as high as VDD, because there is no
output voltage is given by                                                      restriction due to headroom and foot room of any reference
              VREF × D                                                          amplifier.
     VOUT =
                2N                                                              It is recommended to use a buffered reference in the external
                                                                                circuit, for example, REF192. The input impedance is typically
where:
                                                                                45 kΩ.
D is the decimal equivalent of the binary code, which is loaded
to the DAC register                                                             OUTPUT AMPLIFIER
     0 to 255 for AD5337 (8 bits)                                               The output buffer amplifier is capable of generating rail-to-rail
     0 to 1023 for AD5338 and AD5338-1 (10 bits)                                voltages on its output, which gives an output range of 0 V to
     0 to 4095 for AD5339 (12 bits)                                             VDD when the reference is VDD. The amplifier is capable of driving
N is the DAC resolution.                                                        a load of 2 kΩ to GND or VDD in parallel with 500 pF to GND
                                 REFIN
                                                                                or VDD. The source and sink capabilities of the output amplifier
                                                                                can be seen in the plot in Figure 14.
                                                                                The slew rate is 0.7 V/μs with a half-scale settling time to
   INPUT          DAC          RESISTOR
 REGISTER       REGISTER                                    VOUTA               ±0.5 LSB (at 8 bits) of 6 μs.
                                STRING
                                                                                POWER-ON RESET
                                                                    03756-029
                                            OUTPUT BUFFER
                                              AMPLIFIER
                                                                                The AD5337/AD5338/AD5339 power on in a defined state via a
                 Figure 29. DAC Channel Architecture                            power-on reset function. The power-on state is normal operation,
RESISTOR STRING                                                                 with output voltage set to 0 V.
The resistor string portion is shown in Figure 30. It is simply a               Both input and DAC registers are filled with zeros until a valid
string of resistors, each of value R. The digital code loaded to                write sequence is made to the device. This is particularly useful
the DAC register determines the node at which the voltage is                    in applications where it is important to know the state of the
tapped off and fed into the output amplifier. The voltage is                    DAC outputs while the device is powering on.
tapped off by closing one of the switches that connects the
string to the amplifier. Because the DAC comprises a string
of resistors, it is guaranteed to be monotonic.
                                                               Rev. C | Page 15 of 28


AD5337/AD5338/AD5339
SERIAL INTERFACE                                                              Read/Write Sequence
The AD5337/AD5338/AD5339 are controlled via an I2C®-                          For the AD5337/AD5338/AD5339, all write access sequences
compatible serial bus. The DACs are connected to this bus as                  and most read sequences begin with the device address (with
slave devices, that is, no clock is generated by the AD5337/                  R/W = 0), followed by the pointer byte. This pointer byte specifies
AD5338/AD5339 DACs. This interface is SMBus compatible                        which DAC is being accessed in the subsequent read/write
at VDD < 3.6 V.                                                               operation (see Figure 31). In a write operation, the data follows
The AD5337/AD5338/AD5339 have a 7-bit slave address. The                      immediately. In a read operation, the address is resent with
six MSBs are 000110, and the LSB is determined by the state of                R/W = 1, and then the data is read back. However, it is also
the A0 pin. The facility of making hardwired changes to A0                    possible to perform a read operation by sending only the
allows the use of one or two of these devices on one bus. The                 address with R/W = 1. The previously loaded pointer settings
AD5338-1 has a unique 7-bit slave address. The six MSBs are                   are then used for the readback operation. See Figure 32 for a
010001, and the LSB is determined by the state of the A0 pin.                 graphical explanation of the interface.
Using a combination of AD5338 and AD5338-1 allows the user                    MSB                                                          LSB
to accommodate four of these dual 10-bit devices (eight                        X      X       0                0            0   0   DACB DACA    03756-031
channels) on the same bus.
                                                                                                      Figure 31. Pointer Byte
The 2-wire serial bus protocol operates as follows:
                                                                              Table 6 explains the individual bits that make up the pointer byte.
1.   The master initiates data transfer by establishing a start
     condition when a high-to-low transition on the SDA line                  Table 6. Pointer Byte Bits
     occurs while SCL is high. The following byte is the address              Pointer Byte Bit      Description
     byte, which consists of the 7-bit slave address, followed by             X                     Don’t care bits.
     an R/W bit. (This bit determines whether data is read from               0                     This bit is reserved and must be set to 0
     or written to the slave device.)                                         DACB                  1: The following data bytes are for DAC B.
                                                                              DACA                  1: The following data bytes are for DAC A.
     The slave with the address corresponding to the transmitted
     address responds by pulling SDA low during the ninth                     Input Shift Register
     clock pulse (this is termed the acknowledge bit). At this
                                                                              The input shift register is 16 bits wide. Data is loaded into the
     stage, all other devices on the bus remain idle while the
                                                                              device as two data bytes on the serial data line, SDA, under the
     selected device waits for data to be written to or read from
                                                                              control of the serial clock input, SCL. The timing diagram for this
     its shift register.
                                                                              operation is shown in Figure 2. The two data bytes consist of four
2.   Data is transmitted over the serial bus in sequences of nine             control bits followed by 8, 10, or 12 bits of DAC data, depending
     clock pulses (eight data bits, followed by an acknowledge                on the device type. The first two bits loaded are Bit PD1 and
     bit). The transitions on the SDA line must occur during the              Bit PD0, which control the mode of operation of the device.
     low period of SCL and remain stable during the high period               See the Power-Down Modes section for a complete description.
     of SCL.                                                                  Bit 13 is CLR, Bit 12 is LDAC, and the remaining bits are left-
3.   When all data bits have been read from or written to, a stop             justified DAC data bits, starting with the MSB (see Figure 32).
     condition is established. In write mode, the master pulls
                                                                              Table 7. Input Shift Register
     the SDA line high during the 10th clock pulse to establish a
     stop condition. In read mode, the master issues a No                     Register    Setting    Result
     Acknowledge for the ninth clock pulse, that is, the SDA                  CLR         0          All DAC registers and input registers are
                                                                                                     filled with 0s on completion of the write
     line remains high. The master then brings the SDA line low
                                                                                                     sequence.
     before the 10th clock pulse and high during the 10th clock
                                                                                          1          Normal operation.
     pulse to establish a stop condition.
                                                                              LDAC        0          The two DAC registers and, therefore, all
                                                                                                     DAC outputs, simultaneously updated on
                                                                                                     completion of the write sequence.
                                                                                          1          Addressed input register only is updated.
                                                                                                     There is no change in the contents of the
                                                                                                     DAC registers.
                                                             Rev. C | Page 16 of 28


                                                                                                                                    AD5337/AD5338/AD5339
Default Readback Condition                                                                     Multiple DAC Read Back Sequence
All pointer byte bits power up to 0. Therefore, if the user                                    If the user attempts to read back data from more than one DAC
initiates a readback without writing to the pointer byte first, no                             at a time, the part reads back the default, power-on reset
single DAC channel has been specified. In this case, the default                               conditions, that is, all 0s except for CLR, which is 1.
readback bits are all 0s, except for the CLR bit, which is 1.
                                                                                               WRITE OPERATION
Multiple DAC Write Sequence                                                                    When writing to the AD5337/AD5338/AD5339 DACs, the user
Because there are individual bits in the pointer byte for each                                 must begin with an address byte (R/W = 0), after which the
DAC, it is possible to write the same data and control bits to two                             DAC acknowledges that it is prepared to receive data by pulling
DACs simultaneously by setting the relevant bits to 1.                                         SDA low. This address byte is followed by the pointer byte,
                                                                                               which is also acknowledged by the DAC. Two bytes of data are
                                                                                               then written to the DAC, as shown in Figure 33. A stop
                                                                                               condition follows.
                                       MOST SIGNIFICANT DATA BYTE                                           LEAST SIGNIFICANT DATA BYTE
                           MSB                8-BIT AD5337                     LSB           MSB                    8-BIT AD5337               LSB
                           PD1   PD0       CLR   LDAC    D7      D6    D5       D4            D3       D2      D1     D0     X      X     X    X
                           MSB                   10-BIT AD5338                 LSB           MSB                    10-BIT AD5338              LSB
                           PD1   PD0       CLR   LDAC    D9      D8    D7       D6            D5       D4      D3     D2    D1      D0    X     X
                           MSB                   12-BIT AD5339                 LSB           MSB                    12-BIT AD5339              LSB
                           PD1   PD0       CLR   LDAC    D11     D10   D9       D8            D7       D6      D5     D4    D3      D2    D1   D0     03756-032
                                                               Figure 32. Data Formats for Write and Read Back
SCL
SDA         0          0     0         1         1       0       A0      R/W             X         X                                                LSB
  START                                                                         ACK     MSB                                                                 ACK
CONDITION                                                                        BY                                                                          BY
    BY                            ADDRESS BYTE                                 AD533x                               POINTER BYTE                           AD533x
 MASTER
SCL
SDA              MSB                                                     LSB             MSB                                                         LSB
                                                                                ACK                                                                                ACK       STOP
                MOST SIGNIFICANT DATA BYTE                                       BY      LEAST SIGNIFICANT DATA BYTE                                                BY     CONDITION
                                                                                                                                                                                       03756-033
                                                                               AD533x                                                                             AD533x      BY
                                                                                                                                                                            MASTER
                                                                          Figure 33. Write Sequence
                                                                            Rev. C | Page 17 of 28


AD5337/AD5338/AD5339
READ OPERATION                                                                             Note that in a read sequence, data bytes are the same as those in
When reading data back from the AD5337/AD5338/AD5339                                       the write sequence, except that don’t cares are read back as 0s.
                                                                                           However, if the master sends an ACK and continues clocking
DACs, the user begins with an address byte (R/W = 0), after
                                                                                           SCL (no stop is sent), the DAC retransmits the same two bytes
which the DAC acknowledges that it is prepared to receive data
                                                                                           of data on SDA. This allows continuous read back of data from
by pulling SDA low. This address byte is usually followed by the
                                                                                           the selected DAC register. Alternatively, the user can send a
pointer byte, which is also acknowledged by the DAC. Then, the
                                                                                           start followed by the address with R/W = 1. In this case, the
master initiates another start condition (repeated start) and the
                                                                                           previously loaded pointer settings are used and read back of
address is resent with R/W = 1. This is acknowledged by the
                                                                                           data can begin immediately.
DAC indicating that it is prepared to transmit data. Two bytes
of data are then read from the DAC as shown in Figure 34. A
stop condition follows.
  SCL
  SDA          0         0       0             1   1       0   A0   R/W             X       X                                   LSB
     START                                                                ACK   MSB                                                    ACK
   CONDITION                                                               BY                                                           BY
      BY                                  ADDRESS BYTE                   AD533x                      POINTER BYTE
                                                                                                                                      AD533x
    MASTER
  SCL
  SDA                        0       0     0           1   1   0    A0      R/W             MSB                                           LSB
          REPEATED                                                                 ACK                                                          ACK
            START                                                                   BY                                                           BY
          CONDITION                      ADDRESS BYTE                             AD533x                        DATA BYTE                      MASTER
             BY
           MASTER
  SCL
  SDA              MSB                                               LSB
                                                                             NO           STOP
                                     LEAST SIGNIFICANT DATA BYTE            ACK         CONDITION
                                                                                                                                                         03756-034
                                                                             BY            BY
                                                                           MASTER        MASTER
                                                                     Figure 34. Read Sequence
                                                                          Rev. C | Page 18 of 28


                                                                                                       AD5337/AD5338/AD5339
DOUBLE-BUFFERED INTERFACE                                                     When both bits are 0, the DAC works with its normal power
The AD5337/AD5338/AD5339 DACs have a double-buffered                          consumption of 300 μA at 5 V. However, for the three power-
interface consisting of two banks of registers—an input register              down modes, the supply current falls to 200 nA at 5 V (80 nA
and a DAC register per channel. The input register is directly                at 3 V). Not only does the supply current drop, but the output
connected to the input shift register, and the digital code is                stage is also internally switched from the output of the amplifier
transferred to the relevant input register upon completion of a               to a resistor network of known values. This is advantageous in
valid write sequence. The DAC register contains the digital code              that the output impedance of the part is known while the part is
used by the resistor string.                                                  in power-down mode, which provides a defined input condition
                                                                              for whatever is connected to the output of the DAC amplifier.
Access to the DAC register is controlled by the LDAC bit.                     There are three options. The output can be connected internally
When the LDAC bit is set high, the DAC register is latched                    to GND through a 1 kΩ resistor, a 100 kΩ resistor, or can be left
and therefore, the input register can change state without                    open-circuited (three-state). Resistor tolerance = ±20%. The
affecting the DAC register. This is useful if the user requires               output stage is illustrated in Figure 35.
simultaneous updating of all DAC outputs. The user can write
to three of the input registers individually; by setting the LDAC
                                                                                       RESISTOR       AMPLIFIER                   VOUT
bit low when writing to the remaining DAC input register, all                         STRING DAC
outputs update simultaneously.
These parts contain an extra feature whereby the DAC register
is only updated if its input register has been updated since the                                    POWER-DOWN
                                                                                                     CIRCUITRY         RESISTOR
                                                                                                                                         03756-035
                                                                                                                       NETWORK
last time that LDAC was brought low, thereby removing
unnecessary digital crosstalk.
                                                                                           Figure 35. Output Stage During Power-Down
POWER-DOWN MODES
                                                                              The bias generator, output amplifiers, resistor string, and all
The AD5337/AD5338/AD5339 have very low power consumption,                     other associated linear circuitry are shut down when power-
typically dissipating 0.75 mW with a 3 V supply and 1.5 mW                    down mode is activated. However, the contents of the DAC
with a 5 V supply. Power consumption can be further reduced                   registers remain unchanged when power-down mode is activated.
when the DACs are not in use by putting them into one of three                The time to exit power-down is typically 2.5 μs for VDD = 5 V
power-down modes, which are selected by Bit 15 and Bit 14                     and 5 μs when VDD = 3 V. This is the time from the rising edge
(PD1 and PD0) of the data byte. Table 8 shows how the state of                of the eighth SCL pulse to the time when the output voltage
the bits corresponds to the mode of operation of the DAC.                     deviates from its power-down voltage (see Figure 21 for a plot).
Table 8. PD1/PD0 Operating Modes
PD1      PD0      Operating Mode
0        0        Normal operation
0        1        Power-down (1 kΩ load to GND)
1        0        Power-down (100 kΩ load to GND)
1        1        Power-down (three-state output)
                                                             Rev. C | Page 19 of 28


AD5337/AD5338/AD5339
APPLICATIONS
TYPICAL APPLICATION CIRCUIT                                                       BIPOLAR OPERATION
The AD5337/AD5338/AD5339 can be used with a wide                                  The AD5337/AD5338/AD5339 are designed for single-supply
range of reference voltages for full, one-quadrant multiplying                    operation, but a bipolar output range is also possible using the
capability over a reference range of 0 V to VDD. More typically,                  circuit in Figure 37. This circuit gives an output voltage range of
these devices are used with a fixed precision reference voltage.                  ±5 V. Rail-to-rail operation at the amplifier output is achievable
Suitable references for 5 V operation are the AD780, the REF192,                  using an AD820 or an OP295 as the output amplifier.
and the ADR391 (2.5 V references). For 2.5 V operation, a                                                                                         R2 = 10kΩ
suitable external reference would be the AD589 or AD1580, a                                                                                       +5V
                                                                                          6V TO 12V                           R1 = 10kΩ
1.23 V band gap reference. Figure 36 shows a typical setup for
the AD5337/AD5338/AD5339 when using an external reference.                                  10µF       0.1µF                                    AD820/        ±5V
                                                                                                                  +5V                           OP295
Note that A0 can be high or low.                                                                                        VDD         VOUTA
                                    VDD = 2.5V TO 5.5V                                      AD1585                            AD5339              –5V
                                                                                          VIN      VOUT                             VOUTB
                                                                                                                        REFIN
            0.1µF       10µF                                                                    GND         1µF
                                              AD5337/
                                              AD5338/
                                              AD5339                                                                    A0
      VIN                                                VOUTA
                                                                                                                        GND SCL SDA
            VOUT                     REFIN
      EXT                                                VOUTB
      REF               1µF
                                                                                                                                2-WIRE
                                                                                                                                                                           03756-037
                                                                                                                                SERIAL
  AD780/REF192/ADR391                SCL                                                                                      INTERFACE
    WITH VDD = 5V OR                 SDA
   AD589/AD1580 WITH                                                                                  Figure 37. Bipolar Operation with the AD5339
       VDD = 2.5V
                                        A0      GND
                                                                                  The output voltage for any input code can be calculated as
                                                                                  follows:
                                                                  03756-036
                          SERIAL
                        INTERFACE
                                                                                                  ⎡⎛         D ⎞ R1 + R2           R2 ⎤
      Figure 36. AD5337/AD5338/AD5339 Using External Reference                             VOUT = ⎢⎜ REFIN × N ⎟ ×       − REFIN ×    ⎥
                                                                                                  ⎣⎝        2 ⎠    R1              R1 ⎦
If an output range of 0 V to VDD is required, the simplest
solution is to connect the reference input to VDD. Because this                   where:
supply can be inaccurate and noisy, the AD5337/AD5338/                            D is the decimal equivalent of the code loaded to the DAC.
AD5339 can be powered from a reference voltage, for example,                      N is the DAC resolution.
using a 5 V reference such as the REF195, which provides a                        REFIN is the reference voltage input.
steady output supply voltage. With no load on the DACs, the                       With REFIN = 5 V, R1 = R2 = 10 kΩ:
REF195 is required to supply 600 μA supply current to the DAC
                                                                                          VOUT = (10 × D/2N) − 5
and 112 μA to the reference input. When the DAC outputs are
loaded, the REF195 also needs to supply the current to the loads;                 MULTIPLE DEVICES ON ONE BUS
therefore, the total current required with a 10 kΩ load on each                   Figure 38 shows two AD5339 devices on the same serial bus.
output is                                                                         Each has a different slave address because the state of the A0 pin
     712 μA + 2 × (5 V/10 kΩ) = 1.7 mA                                            is different. This allows each of four DACs to be written to or
                                                                                  read from independently.
The load regulation of the REF195 is typically 2 ppm/mA,
which results in an error of 3.4 ppm (17 μV) for the 1.7 mA                                           VDD                                 A0
                                                                                                                                               AD5339
current drawn from it. This corresponds to a 0.0009 LSB error                                             PULL-UP
                                                                                                        RESISTORS                         SDA      SCL
at 8 bits and a 0.014 LSB error at 12 bits.
                                                                                            MICROCONTROLLER
                                                                                                                                            SDA     SCL
                                                                                                                                                               03756-038
                                                                                                                                          A0    AD5339
                                                                                                      Figure 38. Multiple AD5339 Devices on One Bus
                                                                 Rev. C | Page 20 of 28


                                                                                                                                      AD5337/AD5338/AD5339
PRODUCT AS A DIGITALLY PROGRAMMABLE                                                                         POWER SUPPLY DECOUPLING
WINDOW DETECTOR                                                                                             In any circuit where accuracy is important, careful consideration
Figure 39 shows a digitally programmable upper/lower limit                                                  of the power supply and ground return layout helps to ensure
detector using the two DACs in the AD5337/AD5338/AD5339.                                                    the rated performance. The printed circuit board on which the
The upper and lower limits for the test are loaded into DAC A                                               AD5337/AD5338/AD5339 are mounted should be designed so
and DAC B, which, in turn, set the limits on the CMP04. If the                                              that the analog and digital sections are separated and confined
signal at the VIN input is not within the programmed window,                                                to certain areas of the board. If the AD5337/AD5338/AD5339
an LED indicates the fail condition.                                                                        are in a system where multiple devices require an AGND-to-
5V                                                                                                          DGND connection, the connection should be made at one
           0.1µF       10µF             VIN                        1kΩ               1kΩ                    point only. The star ground point should be established as close
                                                                                                            as possible to the device. The AD5337/AD5338/AD5339 should
                                                                   FAIL              PASS
VREF
                              VDD                                                                           have ample supply bypassing of 10 μF in parallel with 0.1 μF on
             REFIN
                               VOUTA                                                                        the supply located as close to the package as possible, ideally
                     AD5337/                                                                                right up against the device. The 10 μF capacitors are the tantalum
                     AD5338/                       1/2             PASS/FAIL                                bead type. The 0.1 μF capacitor should have low effective series
                     AD53391                      CMP04
 DIN         SDA                                                                                            resistance (ESR) and low effective series inductance (ESI) to
SCL          SCL               VOUTB
                                                                       1/6 74HC05
                                                                                                            provide a low impedance path to ground at high frequencies to
                       GND                                                                                  handle transient currents due to internal logic switching. The
                                                                                              03756-039
       1ADDITIONAL
                                                                                                            power supply lines of the AD5337/AD5338/AD5339 should use
                     PINS OMITTED FOR CLARITY.
                                                                                                            as large a trace as possible to provide low impedance paths and
                             Figure 39. Window Detection
                                                                                                            reduce the effects of glitches on the power supply line. Fast
COARSE AND FINE ADJUSTMENT CAPABILITIES                                                                     switching signals such as clocks should be shielded with digital
The two DACs in the AD5337/AD5338/AD5339 can be paired                                                      ground to avoid radiating noise to other parts of the board, and
together to form a coarse and fine adjustment function, as                                                  they should never be run near the reference inputs. A ground
shown in Figure 40. DAC A is used to provide the coarse                                                     line routed between the SDA and SCL lines helps to reduce
adjustment while DAC B provides the fine adjustment. Varying                                                crosstalk between them. This is not required on a multilayer
the ratio of R1 and R2 changes the relative effect of the coarse                                            board because there is a separate ground plane, but separating
and fine adjustments. With the resistor values and external                                                 the lines does help.
reference shown, the output amplifier has unity gain for the                                                Avoid crossover of digital and analog signals. Traces on opposite
DAC A output, thus, the output range is 0 V to 2.5 V − 1 LSB.                                               sides of the board should run at right angles to each other. This
For DAC B, the amplifier has a gain of 7.6 × 10–3, giving DAC B                                             reduces the effects of feedthrough on the board. Using a microstrip
a range equal to 19 mV.                                                                                     technique is the best solution, but its use is not always possible
The circuit is shown with a 2.5 V reference, but reference                                                  with a double-sided board. In this technique, the component
voltages up to VDD can be used. The op amps indicated allow                                                 side of the board is dedicated to the ground plane, while signal
a rail-to-rail output swing.                                                                                traces are placed on the solder side.
                                    VDD = 5V        R3           R4
                                                  51.2kΩ        390Ω
              0.1µF         10µF
                                                                       5V
   VIN                                 VDD                                           VOUT
EXT                            REFIN
REF VOUT                                       VOUTA                        AD820/
                     1µF                                R1                  OP295
  GND                                                  390Ω
                                    AD5337/
                                    AD5338/
AD780/REF192/ADR391                 AD53391
   WITH VDD = 5V
                                               VOUTB
                                       GND               R2
                                                       51.2kΩ
       1ADDITIONAL                                                                            03756-040
                     PINS OMITTED FOR CLARITY.
                           Figure 40. Coarse/Fine Adjustment
                                                                                           Rev. C | Page 21 of 28


AD5337/AD5338/AD5339
Table 9. Overview of All AD53xx Serial Devices
Part No.       Resolution (Bits)   No. of DACs DNL (LSBs)        Interface Settling Time (μs) Package      No. of Pins
Single
  AD5300       8                   1           ±0.25             SPI       4                  SOT-23, MSOP 6, 8
  AD5310       10                  1           ±0.50             SPI       6                  SOT-23, MSOP 6, 8
  AD5320       12                  1           ±1.00             SPI       8                  SOT-23, MSOP 6, 8
  AD5301       8                   1           ±0.25             2-Wire    6                  SOT-23, MSOP 6, 8
  AD5311       10                  1           ±0.50             2-Wire    7                  SOT-23, MSOP 6, 8
  AD5321       12                  1           ±1.00             2-Wire    8                  SOT-23, MSOP 6, 8
Dual
  AD5302       8                   2           ±0.25             SPI       6                  MSOP         8
  AD5312       10                  2           ±0.50             SPI       7                  MSOP         8
  AD5322       12                  2           ±1.00             SPI       8                  MSOP         8
  AD5303       8                   2           ±0.25             SPI       6                  TSSOP        16
  AD5313       10                  2           ±0.50             SPI       7                  TSSOP        16
  AD5323       12                  2           ±1.00             SPI       8                  TSSOP        16
  AD5337       8                   2           ±0.25             2-Wire    6                  MSOP         8
  AD5338       10                  2           ±0.50             2-Wire    7                  MSOP         8
  AD5338-1     10                  2           ±0.50             2-Wire    7                  MSOP         8
  AD5339       12                  2           ±1.00             2-Wire    8                  MSOP         8
Quad
  AD5304       8                   4           ±0.25             SPI       6                  MSOP         10
  AD5314       10                  4           ±0.50             SPI       7                  MSOP         10
  AD5324       12                  4           ±1.00             SPI       8                  MSOP         10
  AD5305       8                   4           ±0.25             2-Wire    6                  MSOP         10
  AD5315       10                  4           ±0.50             2-Wire    7                  MSOP         10
  AD5325       12                  4           ±1.00             2-Wire    8                  MSOP         10
  AD5306       8                   4           ±0.25             2-Wire    6                  TSSOP        16
  AD5316       10                  4           ±0.50             2-Wire    7                  TSSOP        16
  AD5326       12                  4           ±1.00             2-Wire    8                  TSSOP        16
  AD5307       8                   4           ±0.25             SPI       6                  TSSOP        16
  AD5317       10                  4           ±0.50             SPI       7                  TSSOP        16
  AD5327       12                  4           ±1.00             SPI       8                  TSSOP        16
Octal
  AD5308       8                   8           ±0.25             SPI       6                  TSSOP        16
  AD5318       10                  8           ±0.50             SPI       7                  TSSOP        16
  AD5328       12                  8           ±1.00             SPI       8                  TSSOP        16
                                                    Rev. C | Page 22 of 28


                                                                                                  AD5337/AD5338/AD5339
Table 10. Overview of AD53xx Parallel Devices
                                              No. of       Settling            Additional Pin Functions
Part No.     Resolution (Bits) DNL (LSBs)     VREF Pins    Time (μs)        BUF GAIN HBEN CLR           Package      No. of Pins
Single
  AD5300     8                 ±0.25          1           6                 *      *                 *  TSSOP        20
  AD5331     10                ±0.50          1           7                        *                 *  TSSOP        20
  AD5340     12                ±1.00          1           8                 *      *                 *  TSSOP        24
  AD5341     12                ±1.00          1           8                 *      *        *        *  TSSOP        20
Dual
  AD5332     8                 ±0.25          2            6                                         *  TSSOP        20
  AD5333     10                ±0.50          2           7                 *      *                 *  TSSOP        24
  AD5342     12                ±1.00          2           8                 *      *                 *  TSSOP        28
  AD5343     12                ±1.00          1           8                                 *        *  TSSOP        20
Quad
  AD5334     8                 ±0.25          2            6                       *                 *  TSSOP        24
  AD5335     10                ±0.50          2           7                                 *        *  TSSOP        24
  AD5336     10                ±0.50          4           7                        *                 *  TSSOP        28
  AD5344     12                ±1.00          4            8                                            TSSOP        28
Octal
  AD5346     8                 ±0.25          4            6                *      *                 *  TSSOP, LFCSP 38, 40
  AD5347     10                ±0.50          4            7                *      *                 *  TSSOP, LFCSP 38, 40
  AD5348     12                ±1.00          4            8                *      *                 *  TSSOP, LFCSP 38, 40
                                                        Rev. C | Page 23 of 28


AD5337/AD5338/AD5339
OUTLINE DIMENSIONS
                                                                    3.20
                                                                    3.00
                                                                    2.80
                                                                 8       5   5.15
                                                         3.20
                                                                             4.90
                                                         3.00
                                                                             4.65
                                                         2.80    1
                                                                         4
                                                         PIN 1
                                                                 0.65 BSC
                                                   0.95
                                                   0.85                       1.10 MAX
                                                   0.75
                                                                                                             0.80
                                                      0.15      0.38                              8°         0.60
                                                                                      0.23
                                                      0.00      0.22                              0°         0.40
                                                                                      0.08
                                                        COPLANARITY        SEATING
                                                              0.10         PLANE
                                                               COMPLIANT TO JEDEC STANDARDS MO-187-AA
                                                         Figure 41. 8-Lead Mini Small Outline Package [MSOP]
                                                                                   (RM-8)
                                                                      Dimensions shown in millimeters
ORDERING GUIDE
Model                                   Temperature Range                       Package Description               Package Option Branding
AD5337ARM                               −40°C to +105°C                         8-Lead MSOP                       RM-8           D23
AD5337ARM-REEL7                         −40°C to +105°C                         8-Lead MSOP                       RM-8           D23
AD5337ARMZ 1                            −40°C to +105°C                          8-Lead MSOP                      RM-8           D23#
AD5337ARMZ-REEL71                       −40°C to +105°C                          8-Lead MSOP                      RM-8           D23#
AD5337BRM-REEL                          −40°C to +105°C                          8-Lead MSOP                      RM-8           D20
AD5337BRM-REEL7                         −40°C to +105°C                          8-Lead MSOP                      RM-8           D20
AD5337BRMZ1                             −40°C to +105°C                          8-Lead MSOP                      RM-8           D20#
AD5337BRMZ-REEL1                        −40°C to +105°C                          8-Lead MSOP                      RM-8           D20#
AD5337BRMZ-REEL71                       −40°C to +105°C                          8-Lead MSOP                      RM-8           D20#
AD5338ARM                               −40°C to +105°C                         8-Lead MSOP                       RM-8           D24
AD5338ARMZ1                             −40°C to +105°C                          8-Lead MSOP                      RM-8           D5F
AD5338ARMZ-REEL71                       −40°C to +105°C                          8-Lead MSOP                      RM-8           D5F
AD5338ARMZ-11                           −40°C to +105°C                          8-Lead MSOP                      RM-8           D57
AD5338ARMZ-1REEL71                      −40°C to +105°C                          8-Lead MSOP                      RM-8           D57
AD5338BRM                               −40°C to +105°C                         8-Lead MSOP                       RM-8           D21
AD5338BRM-REEL                          −40°C to +105°C                          8-Lead MSOP                      RM-8           D21
AD5338BRM-REEL7                         −40°C to +105°C                          8-Lead MSOP                      RM-8           D21
AD5338BRMZ1                             −40°C to +105°C                          8-Lead MSOP                      RM-8           D5H
AD5338BRMZ-11                           −40°C to +105°C                          8-Lead MSOP                      RM-8           D58
AD5338BRMZ-1REEL71                      −40°C to +105°C                          8-Lead MSOP                      RM-8           D58
AD5339ARM                               −40°C to +105°C                         8-Lead MSOP                       RM-8           D25
AD5339ARMZ1                             −40°C to +105°C                          8-Lead MSOP                      RM-8           D6P
AD5339ARMZ-REEL71                       −40°C to +105°C                          8-Lead MSOP                      RM-8           D6P
AD5339BRM                               −40°C to +105°C                         8-Lead MSOP                       RM-8           D22
AD5339BRM-REEL                          −40°C to +105°C                          8-Lead MSOP                      RM-8           D22
AD5339BRM-REEL7                         −40°C to +105°C                          8-Lead MSOP                      RM-8           D22
AD5339BRMZ1                             −40°C to +105°C                          8-Lead MSOP                      RM-8           D6R
AD5339BRMZ-REEL1                        −40°C to +105°C                          8-Lead MSOP                      RM-8           D6R
AD5339BRMZ-REEL71                       −40°C to +105°C                          8-Lead MSOP                      RM-8           D6R
1
  Z = RoHS Compliant Part. # denotes lead-free product may be top or bottom marked.
                                                                           Rev. C | Page 24 of 28


                             AD5337/AD5338/AD5339
NOTES
      Rev. C | Page 25 of 28


AD5337/AD5338/AD5339
NOTES
                     Rev. C | Page 26 of 28


                             AD5337/AD5338/AD5339
NOTES
      Rev. C | Page 27 of 28


AD5337/AD5338/AD5339
NOTES
Purchase of licensed I²C components of Analog Devices or one of its sublicensed Associated Companies conveys a license for the purchaser under the Philips I²C Patent
Rights to use these components in an I²C system, provided that the system conforms to the I²C Standard Specification as defined by Philips.
©2003–2007 Analog Devices, Inc. All rights reserved. Trademarks and
registered trademarks are the property of their respective owners.
                                                   D03756-0-9/07(C)
                                                                         Rev. C | Page 28 of 28


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 AD5338ARMZ-1 AD5337ARM AD5338ARMZ AD5338ARM AD5337ARMZ AD5337BRMZ AD5338BRMZ-1
AD5337ARMZ-REEL7 AD5339ARMZ AD5337BRMZ-REEL7 AD5339BRMZ-REEL7 AD5339ARM AD5337BRMZ-
REEL AD5338BRMZ AD5338BRMZ-1REEL7 AD5338ARMZ-REEL7 AD5339BRMZ AD5338ARMZ-1REEL7
AD5339ARMZ-REEL7
