        Is Now A Part Of
 Visit www.maxlinear.com
for more information about
       MaxLinear Inc.


                                                                                                    SP3221E
      Intelligent +3.0V to +5.5V RS-232 Transceiver
FEATURES
• Meets true EIA/TIA-232-F Standards
    from a +3.0V to +5.5V power supply                                         EN     1                  16 SHDN
• Interoperable with EIA/TIA-232 and adheres
                                                                              C1+ 2                      15 VCC
    to EIA/TIA-562 down to a +2.7V power
    source                                                                      V+ 3                     14 GND
• AUTO ON-LINE® circuitry automatically                                        C1-    4      SP3221E     13 T1OUT
    wakes up from a 1µA typical shutdown
                                                                              C2+ 5                      12 ONLINE
• Minimum 250kbps data rate under load
• Regulated charge pump yields stable                                          C2-    6                  11 T1IN
    RS-232 outputs regardless of VCC variations                                 V-    7                  10   STATUS
• ESD specifications:
     +15KV Human Body Model                                                 R1IN      8                   9  R1OUT
     +15KV IEC61000-4-2 Air Discharge
     +8KV IEC61000-4-2 Contact Discharge
                                                                                                          DESCRIPTION
The SP3221E is an RS-232 transceiver solution intended for portable applications such as
notebook and hand held computers. This device uses an internal high-efficiency, charge-pump
power supply that requires only 0.1µF capacitors in 3.3V operation. This charge pump and
Exar's driver architecture allow the SP3221E to deliver compliant RS-232 performance from
a single power supply ranging from +3.0V to +5.5V. The SP3221E is a 1-driver/1-receiver
device ideal for laptop/notebook computer and PDA applications. The SP3221E is offered
in 16 pin TSSOP and SSOP packages.
The AUTO ON-LINE® feature allows the device to automatically "wake-up" during a shut-
down state when an RS-232 cable is connected and a connected peripheral is turned on.
Otherwise, the device automatically shuts itself down drawing less than 1µA.
                                                                                                  SELECTION TABLE
     Device       Power            RS- 232       RS-232       AUTO ON-LINE ®               TTL       Data Rate
                 Supplies           Drivers     Receivers                                 3-state     (kbps)
   SP3221E    +3.0V to +5.5V           1             1                 YES                 YES         250
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com       SP3221E_200_081816
                                                              1


ABSOLUTE MAXIMUM RATINGS
These are stress ratings only and functional operation                             Output Voltages
of the device at these ratings or any other above those                            TxOUT.............................................................+13.2V
indicated in the operation sections of the specifications                          RxOUT, STATUS.......................-0.3V to (VCC + 0.3V)
below is not implied. Exposure to absolute maximum                                 Short-Circuit Duration
rating conditions for extended periods of time may                                 TxOUT.....................................................Continuous
affect reliability and cause permanent damage to the                               Storage Temperature......................-65°C to +150°C
device.
VCC.......................................................-0.3V to +6.0V           Power Dissipation per package
V+ (NOTE 1).......................................-0.3V to +7.0V                   16-pin TSSOP
V- (NOTE 1)........................................+0.3V to -7.0V                  Theta-JA.................................................100.4°C/W
V+ + |V-| (NOTE 1)...........................................+13V                  Theta-JC.................................................19°C/W
ICC (DC VCC or GND current).........................+100mA
Input Voltages                                                                     16-pin SSOP
TxIN, ONLINE,                                                                      Theta-JA.................................................87°C/W
SHUTDOWN, EN......................-0.3V to VCC + 0.3V                              Theta-JC.................................................26°C/W
RxIN...................................................................+15V
NOTE 1: V+ and V- can have maximum magnitudes of 7V, but their absolute difference cannot exceed 13V.
                                                                                           ELECTRICAL CHARACTERISTICS
Unless otherwise noted, the following specifications apply for VCC = +3.0V to +5.5V with TAMB = TMIN to TMAX.
Typical values apply at VCC = +3.3V or +5.0V and TAMB = 25°C (Note 2).
  PARAMETER                                               MIN.          TYP.      MAX.     UNITS          CONDITIONS
  DC CHARACTERISTICS
  Supply Current,                                                        1.0        10        µA        RxIN open, ONLINE = GND,
  AUTO ON-LINE®                                                                                         SHUTDOWN = Vcc, TxIN = Vcc or
                                                                                                        GND, Vcc = +3.3V, TAMB = +25ºC
  Supply Current, Shutdown                                               1.0        10       µA         SHUTDOWN = GND,
                                                                                                        TxIN = Vcc or GND, Vcc = +3.3V,
                                                                                                        TAMB = +25ºC
  Supply Current,                                                        0.3       1.0       mA         ONLINE = SHUTDOWN = Vcc, No
  AUTO ON-LINE® Disabled                                                                                Load, Vcc = +3.3V, TAMB = +25ºC
  LOGIC INPUTS AND RECEIVER OUTPUT
  Input Logic Threshold                                                                                 Vcc = 3.3V or 5.0V,
                          LOW                                                      0.8        V         TxIN, EN, SHUTDOWN, ONLINE
                          HIGH                            2.0
  Input Leakage Current                                                +/-0.01    +/-1.0     µA         TxIN, EN, ONLINE, SHUTDOWN,
                                                                                                        TAMB = +25ºC, Vin = 0V to Vcc
  Output Leakage Current                                               +/-0.05    +/-10      µA         Receiver disabled,
                                                                                                        Vout = 0V to Vcc
  Output Voltage LOW                                                               0.4        V         IOUT = 1.6mA
  Output Voltage HIGH                                Vcc - 0.6        Vcc - 0.1               V         IOUT = -1.0mA
NOTE 2: C1 - C4 = 0.1µF, tested at 3.3V ±10%.
             C1 = 0.047µF, C2-C4 = 0.33µF, tested at 5V±10%.
                            Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com                       SP3221E_200_081816
                                                                                2


                                                                              ELECTRICAL CHARACTERISTICS
Unless otherwise noted, the following specifications apply for VCC = +3.0V to +5.5V with TAMB = TMIN to TMAX.
Typical values apply at VCC = +3.3V or +5.0V and TAMB = 25°C (Note 2).
 PARAMETER                                  MIN.        TYP.       MAX.        UNITS        CONDITIONS
 DRIVER OUTPUT
 Output Voltage Swing                     +/-5.0       +/-5.4                     V       Driver output loaded with 3kΩ to
                                                                                          GND, TAMB = +25ºC
 Output Resistance                         300                                   Ω        Vcc = V+ = V- = 0V, Vout = +/-2V
 Output Short-Circuit Current                                      +/-60         mA       Vout = 0V
 Output Leakage Current                                            +/-25         µA       Vcc = 0V or 3.0V to 5.5V,
                                                                                          Vout = +/-12V, Driver disabled
 RECEIVER INPUT
 Input Voltage Range                       -15                      +15           V
 Input Threshold LOW                       0.6          1.2                       V       Vcc = 3.3V
 Input Threshold LOW                       0.8          1.5                       V       Vcc = 5.0V
 Input Threshold HIGH                                   1.5         2.4           V       Vcc = 3.3V
 Input Threshold HIGH                                   1.8         2.4           V       Vcc = 5.0V
 Input Hysteresis                                       0.3                       V
 Input Resistance                            3            5          7           kΩ
 AUTO ON-LINE® CIRCUITRY CHARACTERISTICS (ONLINE = GND, SHUTDOWN = Vcc)
 STATUS Output Voltage LOW                                          0.4           V       IOUT = 1.6mA
 STATUS Output Voltage HIGH             Vcc - 0.6                                 V       IOUT = -1.0mA
 Receiver Threshold to Driver                           100                      µs       Figure 13
 Enabled (tONLINE)
 Receiver Positive or Negative                          0.5                      µs       Figure 13
 Threshold to STATUS HIGH
 (tSTSH)
 Receiver Positive or Negative                           20                      µs       Figure 13
 Threshold to STATUS LOW
 (tSTSL)
NOTE 2: C1 - C4 = 0.1µF, tested at 3.3V ±10%.
          C1 = 0.047µF, C2-C4 = 0.33µF, tested at 5V±10%.
                   Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com       SP3221E_200_081816
                                                               3


                                                                                       TIMING CHARACTERISTICS
Unless otherwise noted, the following specifications apply for VCC = +3.0V to +5.5V with TAMB = TMIN to TMAX.
Typical values apply at VCC = +3.3V or +5.0V and TAMB = 25°C.
 PARAMETER                                 MIN.        TYP.      MAX.        UNITS         CONDITIONS
 AC CHARACTERISTICS
 Data Rate                                 250                                 kbps      RL = 3kΩ, CL = 1000pF,
 Receiver Propagation Delay                            0.15                     µs       Receiver input to Receiver output,
 tPHL and tPLH                                                                           CL = 150pF
 Receiver Output Enable Time                           200                      ns       Normal Operation
 Receiver Output Disable Time                          200                      ns       Normal Operation
 Driver Skew                                           350        800           ns       │tPHL - tPLH│, RL = 3kΩ,
                                                                                         CL = 1000pF
 Receiver Skew                                          50        800           ns       │tPHL - tPLH│, CL = 150pF
 Transition-Region Slew Rate                6                      30          V/µs      Vcc = 3.3V, RL = 3kΩ, CL = 150pF
                                                                                         to 1000pF, TAMB = 25°C, measure-
                                                                                         ments taken from -3.0V to +3.0V
                                                                                         or +3.0V to -3.0V
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com         SP3221E_200_081816
                                                              4


                                                                               TYPICAL OPERATING CIRCUIT
Figure 1. SP3221E Typical Operating Circuit
                Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                            5


                                                                              TYPICAL PERFORMANCE CHARACTERISTICS
Unless otherwise noted, the following performance characteristics apply for VCC = +3.3V, 250Kbps data rate,
driver loaded with 3kΩ, 0.1µF charge pump capacitors, and TAMB = +25°C.
                14                                                                              6
                12                                                                                                     Txout+
                                                                                                4
                10
                    8                                                                           2
  Ic c (m A )
                    6
                                                                                        V out
                                                                                                0
                    4                                                                                2.7   3.2   3.7         4.2   4.7   5.2
                    2                                                                           -2
                    0
                                                                                                -4
                        2.7   3.2         3.7         4.2         4.7   5.2                                            Txout-
                                                     V c c (V )                                 -6
                                                                                                                       Vcc
Figure 2. Supply Current VS. Supply Voltage                                           Figure 3. Transmitter Output Voltage VS. Supply
                                                                                      Voltage
            12
            10
                8
                6
  mA
                4
                2
                0
                    0               100                     200         300
                                            kb p s
Figure 4. Supply Current VS.Data Rate
                                     Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com           SP3221E_200_081816
                                                                                 6


                                                                                             PIN DESCRIPTION
   Name                                                  Function                                         Pin #
          Receiver Enable, apply logic LOW for normal operation. Apply logic HIGH to
     EN                                                                                                      1
          disable receiver output (high-Z state).
    C1+   Positive terminal of the voltage doubler charge-pump capacitor                                     2
     V+   Regulated +5.5V output generated by charge pump                                                    3
    C1-   Negative terminal of the voltage doubler charge-pump capacitor                                     4
    C2+   Positive terminal of the inverting charge-pump capacitor                                           5
    C2-   Negative terminal of the inverting charge-pump capacitor                                           6
     V-   Regulated -5.5V output generated by charge pump                                                    7
    R1IN  RS-232 receiver input                                                                              8
  R1OUT   TTL/CMOS receiver output                                                                           9
  STATUS  TTL/CMOS output indicating receiver signal activity                                               10
    T1IN  TTL/CMOS driver input                                                                             11
          Apply logic HIGH to override AUTO ON-LINE ® circuitry keeping driver active
  ONLINE                                                                                                    12
          (SHUTDOWN must also be logic HIGH, refer to table 2)
   T1OUT  RS-232 driver output                                                                              13
    GND   Ground                                                                                            14
    Vcc   +3.0V to +5.5V supply voltage                                                                     15
          Apply logic LOW to shut down drivers and charge pump. This overrides all
SHUTDOWN                                                                                                    16
          AUTO ON-LINE ® circuitry and ONLINE (refer to table 2).
         Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com      SP3221E_200_081816
                                                     7


DESCRIPTION                                                                        THEORY OF OPERATION
The SP3221E is a 1-driver/1-receiver device                                        The SP3221E is made up of four basic
ideal for portable or handheld applications.                                       circuit blocks:
The SP3221E transceiver meets the EIA/                                             1. Driver, 2. Receiver, 3. The Exar propri-
TIA-232 and ITU-T V.28/V.24 communication                                          etary charge pump, and 4. AUTO ON-LINE®
protocols and can be implemented in battery-                                       circuitry.
powered, portable, or handheld applications
such as notebook or handheld computers.                                            Driver
The SP3221E device features the Exar                                               The driver is an inverting level transmitter that
proprietary and patented (U.S.‑‑ 5,306,954)                                        converts TTL or CMOS logic levels to 5.0V
on-board charge pump circuitry that gener-                                         EIA/TIA-232 levels with an inverted sense
ates ±5.5V RS-232 voltage levels from a                                            relative to the input logic levels. Typically,
single +3.0V to +5.5V power supply.                                                the RS-232 output voltage swing is +5.4V
                                                                                   with no load and +5V minimum fully loaded.
This device is an ideal choice for power sen-                                      The driver output is protected against infinite
sitive designs. Featuring AUTO ON-LINE®                                            short-circuits to ground without degradation
circuitry, the SP3221E reduces the power                                           in reliability. This driver will comply with
supply drain to a 1µA supply current. In                                           the EIA-TIA-232F and all previous RS-232
many portable or handheld applications,                                            versions. Unused driver inputs should be
an RS-232 cable can be disconnected or                                             connected to GND or VCC.
a connected peripheral can be turned off.
Under these conditions, the internal charge                                        The driver can guarantee an output data rate
pump and the drivers will be shut down.                                            of 250kbps while being fully loaded with 3kΩ
Otherwise, the system automatically comes                                          in parallel with 1000pF, ensuring compatibility
online. This feature allows design engineers                                       with PC-to-PC communication software.
to address power saving concerns without
major design changes.                                                              The slew rate of the driver output is internally
                                                                                   limited to a maximum of 30V/µs in order
                                                   VCC                             to meet the EIA standards (EIA RS-232D
                           C5
                               +
                                 0.1µF               15                            2.1.7, Paragraph 5). The transition of the
                                                                                   loaded output from HIGH to LOW also
                                                   VCC
                                        2 C1+                       3
                               +                                V+       +
                           C1    0.1µF                                C3
                                                                                   meets the monotonicity requirements of
                                                                           0.1µF
                                        4 C1-
                                        5 C2+    SP3221E         V- 7
                           C2
                               +
                                 0.1µF                                C4
                                                                         +
                                                                           0.1µF   the standard.
                                        6 C2-
                     TTL/CMOS INPUT    11 T1IN               T1OUT 13
                                                                         RS-232
                                                                         OUTPUT    Figure 6 shows a loopback test circuit used
         UART
                                                                                   to test the RS-232 Driver. Figure 8 shows
           or        TTL/CMOS OUTPUT    9 R1OUT                R1IN 8    RS-232
                                                                         INPUT
                                                                                   the test results where the driver was active at
        Serial µC                                        5KΩ
                                                                                   250kbps and loaded with an RS-232 receiver
                                                                                   in parallel with a 1000pF capacitor. RS-232
                                        1
                                          EN
                                                                                   data transmission rate of 250kbps provides
                               VCC
                                       16
                                                                                   compatibility with designs in personal com-
                                       12
                                          SHUTDOWN
                                          ONLINE
                                                                                   puter peripherals and LAN applications.
                                       10 STATUS
                                                    GND
                                                       14
  RESET       µP      VIN
          Supervisor
              IC
Figure 5. Interface Circuitry Controlled by Micropro-
cessor Supervisory Circuit
                         Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com         SP3221E_200_081816
                                                                                 8


                                                                      Receiver
                                                                      The receiver converts ±5.0V EIA/TIA-232
                                                                      levels to TTL or CMOS logic output levels.
                                                                      The receiver has an inverting output that can
                                                                      be disabled by using the EN pin.
                                                                      The receiver is active when the AUTO ON-
                                                                      LINE® circuitry is enabled or when in shut-
                                                                      down. During the shutdown, the receiver will
                                                                      continue to be active. If there is no activity
                                                                      present at the receiver for a period longer
                                                                      than 20µs or when SHUTDOWN is enabled,
                                                                      the device goes into a standby mode where
                                                                      the circuit draws 1µA. Driving EN to a logic
                                                                      HIGH forces the output of the receiver into
                                                                      high-impedance. The truth table logic of the
                                                                      SP3221E driver and receiver outputs can be
                                                                      found in Table 2.
Figure 6. Loopback Test Circuit for RS-232 Driver                     Since receiver input is usually from a trans-
Data Transmission Rates                                               mission line where long cable lengths and
                                                                      system interference can degrade the signal,
                                                                      the inputs have a typical hysteresis margin
                                                                      of 300mV. This ensures that the receiver
                                                                      is virtually immune to noisy transmission
                                                                      lines. Should an input be left unconnected,
                                                                      an internal 5kΩ pull-down resistor to ground
                                                                      will commit the output of the receiver to a
                                                                      HIGH state.
Figure 7. Loopback Test Circuit result at 250Kbps
(Driver Fully Loaded)
                  Device: SP3221E
  SHUTDOWN           EN        TXOUT              RXOUT
        0             0         High Z            Active
        0             1         High Z            High Z
        1             0         Active            Active
        1             1         Active            High Z
Table 2. SHUTDOWN and EN Truth Tables
Note: In AUTO ON-LINE® Mode where ONLINE = GND
and SHUTDOWN = VCC, the device will shut down if
there is no activity present at the Receiver inputs.
                     Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                                 9


Charge Pump                                                        Phase 3
                                                                   — VDD charge storage — The third phase of
The charge pump uses a unique approach                             the clock is identical to the first phase — the
compared to older less–efficient designs.                          charge transferred in C1 produces –VCC in
The charge pump still requires four external                       the negative terminal of C1, which is applied
capacitors, but uses a four–phase voltage                          to the negative side of capacitor C2. Since
shifting technique to attain symmetrical                           C2+ is at VCC, the voltage potential across C2
5.5V power supplies. The internal power                            is 2 times VCC.
supply consists of a regulated dual charge
pump that provides output voltages of                              Phase 4
+/-5.5V regardless of input voltage (VCC)                          — VDD transfer — The fourth phase of
over the +3.0V to +5.5V range. This                                the clock connects the negative terminal
is important to maintain compliant RS-                             of C2 to GND, and transfers this positive
232 levels regardless of power supply                              generated voltage across C2 to C4, the
fluctuations.                                                      VDD storage capacitor. This voltage is
                                                                   regulated to +5.5V. At this voltage, the in-
The charge pump operates in a discontinu-                          ternal oscillator is disabled. Simultaneous
ous mode using an internal oscillator. If the                      with the transfer of the voltage to C4, the
output voltages are less than a magnitude                          positive side of capacitor C1 is switched to VCC
of 5.5V, the charge pump is enabled. If the                        and the negative side is switched to GND, al-
output voltages exceed a magnitude of 5.5V,                        lowing the charge pump cycle to begin again.
the charge pump is disabled. This oscillator                       The charge pump cycle will continue as long
controls the four phases of the voltage shift-                     as the operational conditions for the internal
ing. A description of each phase follows.                          oscillator are present.
Phase 1                                                            Since both V+ and V– are separately gener-
— VSS charge storage — During this phase                           ated from VCC, in a no–load condition V+
of the clock cycle, the positive side of capaci-                   and V– will be symmetrical. Older charge
tors C1 and C2 are initially charged to VCC.                       pump approaches that generate V– from
Cl+ is then switched to GND and the charge                         V+ will show a decrease in the magnitude
in C1– is transferred to C2–. Since C2+ is con-                    of V– compared to V+ due to the inherent
nected to VCC, the voltage potential across                        inefficiencies in the design.
capacitor C2 is now 2 times VCC.
Phase 2
— VSS transfer — Phase two of the clock
connects the negative terminal of C2 to the VSS
storage capacitor and the positive terminal of
C2 to GND. This transfers a negative gener-
ated voltage to C3. This generated voltage is
regulated to a minimum voltage of -5.5V.
Simultaneous with the transfer of the volt-
age to C3, the positive side of capacitor C1
is switched to VCC and the negative side is
connected to GND.
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                             10


                                              VCC = +5V
                                                              +5V         C4
                                                                         +    –    VDD Storage Capacitor
                                            +                 +
                                        C1                 C2
                                            –                  –         –   +
                                                                                   VSS Storage Capacitor
                                           –5V                –5V          C3
Figure 8. Charge Pump - Phase 1
                                               VCC = +5V
                                                                           C4
                                                                          +    –    VDD Storage Capacitor
                                             +                  +
                                         C1                 C2
                                             –                  –         –    +
                                                                                    VSS Storage Capacitor
                                                               –10V         C3
Figure 9. Charge Pump - Phase 2
                                                        [           T            ]
                                                                                              +6V
                                    a) C2+
                                      1                             T                          0V
                            2         2                                                        0V
                                    b) C2-
                                                                    T
                                                                                              -6V
                                           Ch1 2.00V Ch2 2.00V M 1.00ms Ch1 1.96V
Figure 10. Charge Pump Waveforms
                                                 VCC = +5V
                                                                 +5V         C4
                                                                            +    –   VDD Storage Capacitor
                                               +                  +
                                           C1                C2
                                               –                  –         –    +
                                                                                     VSS Storage Capacitor
                                             –5V                 –5V          C3
Figure 11. Charge Pump - Phase 3
                                              VCC = +5V
                                                              +10V        C4
                                                                         +    –    VDD Storage Capacitor
                                            +                  +
                                        C1                 C2
                                            –                  –         –    +
                                                                                   VSS Storage Capacitor
                                                                           C3
Figure 12. Charge Pump - Phase 4
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com      SP3221E_200_081816
                                                                   11


 Charge Pump Capacitor selection
The Exar charge pump is designed to                                on the transmitter outputs and may slightly
operate reliably with a range of low cost                          reduce power consumption. C2, C3, and
capacitors.Either polarized or non polar-                          C4 can be increased without changing
ized capacitors may be used. If polarized                          C1’s value
capacitors are used they should be oriented
as shown in the Typical Operating Circuit.                         For best charge pump efficiency locate the
The V+ capacitor may be connected to either                        charge pump and bypass capacitors as
ground or Vcc (polarity reversed.)                                 close as possible to the IC. Surface mount
                                                                   capacitors are best for this purpose. Using
The charge pump operates with 0.1µF ca-                            capacitors with lower equivalent series re-
pacitors for 3.3V operation. For other supply                      sistance (ESR) and self-inductance, along
voltages, see the table for required capacitor                     with minimizing parasitic PCB trace induc-
values. Do not use values smaller than those                       tance will optimize charge pump operation.
listed. Increasing the capacitor values (e.g.,                     Designers are also advised to consider that
by doubling in value) reduces ripple                               capacitor values may shift over time and
                                                                   operating temperature.
            Minimum recommended charge pump capacitor value
            Input Voltage VCC                                       Charge pump capacitor value
              3.0V to 3.6V                                           C1 - C4 = 0.1µF
              4.5V to 5.5V                                           C1 = 0.047µF, C2-C4 = 0.33µF
              3.0V to 5.5V                                           C1 - C4 = 0.22µF
Table 4. Capacitor selection table
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                             12


                                                                   The second stage of the AUTO ON-LINE®
AUTO ON-LINE Circuitry
                   ®
                                                                   circuitry, shown in Figure 15, processes the
                                                                   receiver's RXINACT signal with an accu-
The SP3221E device has AUTO ON-LINE®                               mulated delay that disables the device to
circuitry on board that saves power in ap-                         a 1µA typical supply current. The STATUS
plications such as laptop computers, PDA's,                        pin goes to a logic LOW when the cable
and other portable systems.                                        is disconnected. The typical accumulated
                                                                   delay is around 20µs. When the SP3221E
The SP3221E device incorporates an AUTO                            driver and internal charge pump are disabled,
ON-LINE® circuit that automatically enables                        the supply current is reduced to 1µA typical.
itself when the external transmitter is enabled                    This can commonly occur in handheld or
and the cable is connected. Conversely,                            portable applications where the RS-232
the AUTO ON-LINE® circuit also disables                            cable is disconnected or the RS-232 driver
most of the internal circuitry when the device                     of the connected peripheral are truned off.
is not being used and goes into a standby
mode where the device typically draws 1µA.                         The AUTO ON-LINE® mode can be disabled
This function is externally controlled by the                      by the SHUTDOWN pin. If this pin is a logic
ONLINE pin. When this pin is tied to a logic                       LOW, the AUTO ON-LINE® function will not
LOW, the AUTO ON-LINE® function is ac-                             operate regardless of the logic state of the
tive. Once active, the device is enabled until                     ONLINE pin. Table 3 summarizes the logic
there is no activity on the receiver input. The                    of the AUTO ON-LINE® operating modes.
receiver input typically sees at least ±3V,                        The truth table logic of the SP3221E driver
which are generated from the transmitter                           and receiver outputs can be found in Table 2.
at the other end of the cable with a ±5V
minimum. When the external transmitter                             When the SP3221E device is shutdown,
is disabled or the cable is disconnected,                          the charge pumps are turned off. V+ charge
the receiver input will be pulled down by its                      pump output decays to VCC,the V- output
internal 5kΩ resistor to ground. When this                         decays to GND. The decay time will depend
occurs over a period of time, the internal                         on the size of capacitors used for the charge
transmitter will be disabled and the device                        pump. Once in shutdown, the time required
goes into a shutdown or standby mode.                              to exit the shut down state and have valid
When the ONLINE pin is HIGH, the AUTO                              V+ and V- levels is typically 200µs.
ON-LINE® mode is disabled.
                                                                   For easy programming, the STATUS can
The AUTO ON-LINE ® circuit has two                                 be used to indicate DTR or a Ring Indicator
stages:                                                            signal. Tying ONLINE and SHUTDOWN
                                                                   together will bypass the AUTO ON-LINE®
         1) Inactive Detection                                     circuitry so this connection acts like a shut-
         2) Accumulated Delay                                      down input pin
The first stage, shown in Figure 14, detects
an inactive input. A logic HIGH is asserted
on RXINACT if the cable is disconnected or
the external transmitters are disabled. Oth-
erwise, RXINACT will be at a logic LOW.
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                             13


  RS-232 SIGNAL
   AT RECEIVER         SHUTDOWN                   ONLINE                 STATUS                TRANSCEIVER STATUS
       INPUT
                                                                                                     Normal Operation
        YES                 HIGH                    LOW                    HIGH
                                                                                                    (AUTO ON-LINE©)
        YES                 HIGH                    HIGH                   HIGH                      Normal Operation
         NO                 HIGH                    HIGH                   LOW                       Normal Operation
         NO                 HIGH                    LOW                    LOW               Shutdown (AUTO ON-LINE©)
        YES                 LOW                 HIGH/LOW                   HIGH                         Shutdown
         NO                 LOW                 HIGH/LOW                   LOW                          Shutdown
Table 3. AUTO ON-LINE® Logic
                                                                      S
                                                                      H
                                                                      U
                       RECEIVER +2.7V                                 T
                    RS-232 INPUT         0V
                       VOLTAGES -2.7V                                 D
                                                                      O
                                                                      W
                                       VCC                            N
                          STATUS
                                        0V
                                                      tSTSL
                                                                    tSTSH
                                                                  tONLINE
                                       +5V
                            DRIVER
                   RS-232 OUTPUT        0V
                        VOLTAGES
                                       -5V
Figure 13. AUTO ON-LINE® Timing Waveforms
                                                 Inactive Detection Block         RX INACT
                                                 RS-232
                           RXIN               Receiver Block                        RXOUT
Figure 14. Stage I of AUTO ON-LINE® Circuitry
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com        SP3221E_200_081816
                                                             14


ESD TOLERANCE                                                      ESD is applied to points and surfaces of the
The SP3221E device incorporates                                    equipment that are accessible to personnel
ruggedized ESD cells on the driver output                          during normal usage. The transceiver IC
and receiver input pins. The ESD structure is                      receives most of the ESD current when the
improved over our previous family for more                         ESD source is applied to the connector pins.
rugged applications and environments                               The test circuit for IEC61000-4-2 is shown
sensitive to electro-static discharges and                         on Figure 16. There are two methods within
associated transients. The improved ESD                            IEC61000-4-2, the Air Discharge method and
tolerance is at least +15kV without damage                         the Contact Discharge method. With the Air
nor latch-up.                                                      Discharge Method, an ESD voltage is applied
                                                                   to the equipment under test (EUT) through
There are different methods of ESD testing                         air. This simulates an electrically charged
applied:                                                           person ready to connect a cable onto the
          a) MIL-STD-883, Method 3015.7                            rear of the system only to find an unpleasant
          b) IEC61000-4-2 Air-Discharge                            zap just before the person touches the back
          c) IEC61000-4-2 Direct Contact                           panel. The high energy potential on the
The Human Body Model has been the                                  person discharges through an arcing path
generally accepted ESD testing method                              to the rear panel of the system before he or
for semiconductors. This method is also                            she even touches the system. This energy,
specified in MIL-STD-883, Method 3015.7                            whether discharged directly or through air,
for ESD testing. The premise of this ESD test                      is predominantly a function of the discharge
is to simulate the human body’s potential to                       current rather than the discharge voltage.
store electro-static energy and discharge it                       Variables with an air discharge such as
to an integrated circuit. The simulation is                        approach speed of the object carrying the
performed by using a test model as shown                           ESD potential to the system and humidity
in Figure 15. This method will test the IC’s                       will tend to change the discharge current.
capability to withstand an ESD transient                           For example, the rise time of the discharge
during normal handling such as in manu-                            current varies with the approach speed.
facturing areas where the IC's tend to be                          The Contact Discharge Method applies the
handled frequently.                                                ESD current directly to the EUT. This method
                                                                   was devised to reduce the unpredictability
The IEC-61000-4-2, formerly IEC801-2, is                           of the ESD arc. The discharge current rise
generally used for testing ESD on equipment                        time is constant since the energy is directly
and systems. For system manufacturers,                             transferred without the air-gap arc. In situ-
they must guarantee a certain amount of                            ations such as hand held systems, the ESD
ESD protection since the system itself is                          charge can be directly discharged to the
exposed to the outside environment and                             equipment from a person already holding
human presence. The premise with IEC-                              the equipment. The current is transferred
61000-4-2 is that the system is required to                        on to the keypad or the serial port of the
withstand an amount of static electricity when                     equipment directly and then travels through
                                                                   the PCB and finally to the IC.
 Figure15. ESD Test Circuit for Human Body Model
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                                             15


Figure 16. ESD Test Circuit for IEC61000-4-2
The circuit model in Figures 15 and 16 rep-
resent the typical ESD testing circuit used for
all three methods. The CS is initially charged                        i→
with the DC power supply when the first
                                                                     30A
switch (SW1) is on. Now that the capacitor
is charged, the second switch (SW2) is on
while SW1 switches off. The voltage stored
in the capacitor is then applied through RS,
the current limiting resistor, onto the device                       15A
under test (DUT). In ESD tests, the SW2
switch is pulsed so that the device under
test receives a duration of voltage.
                                                                     0A
For the Human Body Model, the current
limiting resistor (RS) and the source capacitor
                                                                               t=0ns                      t=30ns
(CS) are 1.5kΩ an 100pF, respectively. For                                                        t→
IEC-61000-4-2, the current limiting resistor
(RS) and the source capacitor (CS) are 330Ω                         Figure 17. ESD Test Waveform for IEC61000-4-2
an 150pF, respectively.
The higher CS value and lower RS value in
the IEC-61000-4-2 model are more stringent
than the Human Body Model. The larger
storage capacitor injects a higher voltage
to the test point when SW2 is switched on.
The lower current limiting resistor increases
the current charge onto the test point.
   DEVICE PIN              HUMAN BODY			                                            IEC61000-4-2
    TESTED                   MODEL    Air Discharge                                Direct Contact            Level
  Driver Output                  ±15kV		                       ±15kV                     ±8kV                    4
  Receiver Input                 ±15kV		                       ±15kV                     ±8kV                    4
Table 5. Transceiver ESD Tolerance Levels
                   Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com   SP3221E_200_081816
                                                              16


                                                                         PACKAGE: 16 Pin TSSOP
                                                                                    
                                                                
                             
                            
Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com   SP3221E_200_081816
                                           17


                                                                          PACKAGE: 16 Pin SSOP
                                                                                    
                     
                                                     
Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com SP3221E_200_081816
                                           18


                                                                                       ORDERING INFORMATION
Part Number                                                  Temperature Range                                           Package Types
SP3221ECY-L......................................................0°C to +70°C--------------------------------------------16-pin TSSOP
SP3221ECY-L/TR................................................0°C to +70°C--------------------------------------------16-pin TSSOP
SP3221EEY-L..................................................... -40°C to +85°C-------------------------------------------16-pin TSSOP
SP3221EEY-L/TR............................................... -40°C to +85°C-------------------------------------------16-pin TSSOP
SP3221ECA-L......................................................0°C to +70°C--------------------------------------------- 16-pin SSOP
SP3221ECA-L/TR................................................0°C to +70°C--------------------------------------------- 16-pin SSOP
SP3221EEA-L.................................................... -40°C to +85°C-------------------------------------------- 16-pin SSOP
SP3221EEA-L/TR.............................................. -40°C to +85°C-------------------------------------------- 16-pin SSOP
Note: "-L" indicates lead free packaging, "/TR" is for tape and reel option.
                  Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com                   SP3221E_200_081816
                                                                      19


                                         REVISION HISTORY
  DATE                      REVISION             DESCRIPTION
  Nov 2012                  1.0.0                Production release
  Dec 2012                  1.0.1                Remove reference to SSOP package
  Sept 2014                 1.0.2                Add SSOP package option, update package thermal information
                                                 ECN 1414-04 Oct 2014
  Aug 2016                  2.0.0                Update Auto On-Line Circuitry section and Logic table
					                                                                        Notice
EXAR Corporation reserves the right to make changes to any products contained in this publication in order to improve design, performance or
reliability. EXAR Corporation assumes no representation that the circuits are free of patent infringement. Charts and schedules contained herein are
only for illustration purposes and may vary depending upon a user's specific application. While the information in this publication has been carefully
checked; no responsibility, however, is assumed for inaccuracies.
EXAR Corporation does not recommend the use of any of its products in life support applications where the failure or malfunction of the product can
reasonably be expected to cause failure of the life support system or to significantly affect its safety or effectiveness. Products are not authorized for
use in such applications unless EXAR Corporation receives, in writing, assurances to its satisfaction that: (a) the risk of injury or damage has been
minimized ; (b) the user assumes all such risks; (c) potential liability of EXAR Corporation is adequately protected under the circumstances.
Copyright 2014-16 EXAR Corporation
Datasheet August 2016
For technical support please email Exar's Serial Technical Support group at: serialtechsupport@exar.com
Reproduction, in part or whole, without the prior written consent of EXAR Corporation is prohibited.
                           Exar Corporation 48720 Kato Road, Fremont CA, 94538 • (510) 668-7000 • www.exar.com                       SP3221E_200_081816
                                                                              20


The content of this document is furnished for informational use only, is subject to change without
notice, and should not be construed as a commitment by MaxLinear, Inc.. MaxLinear, Inc. assumes
no responsibility or liability for any errors or inaccuracies that may appear in the informational content
contained in this guide. Complying with all applicable copyright laws is the responsibility of the user.
Without limiting the rights under copyright, no part of this document may be reproduced into, stored in,
or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical,
photocopying, recording, or otherwise), or for any purpose, without the express written permission of
MaxLinear, Inc.
Maxlinear, Inc. does not recommend the use of any of its products in life support applications where
the failure or malfunction of the product can reasonably be expected to cause failure of the life support
system or to significantly affect its safety or effectiveness. Products are not authorized for use in such
applications unless MaxLinear, Inc. receives, in writing, assurances to its satisfaction that: (a) the risk
of injury or damage has been minimized; (b) the user assumes all such risks; (c) potential liability of
MaxLinear, Inc. is adequately protected under the circumstances.
MaxLinear, Inc. may have patents, patent applications, trademarks, copyrights, or other intellectual
property rights covering subject matter in this document. Except as expressly provided in any written
license agreement from MaxLinear, Inc., the furnishing of this document does not give you any license
to these patents, trademarks, copyrights, or other intellectual property.
Company and product names may be registered trademarks or trademarks of the respective owners
with which they are associated.
© 2017 MaxLinear, Inc. All rights reserved


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
MaxLinear:
 SP3221ECY-L/TR SP3221EEY-L SP3221ECY-L SP3221EEY-L/TR SP3221ECA-L/TR SP3221EEA-L/TR
SP3221EEA-L SP3221ECA-L
