                                              PEX 8636, PCI Express Gen 2 Switch, 36 Lanes, 24 Ports
Highlights                                       The ExpressLane™ PEX 8636 device offers Multi-Host PCI Express
 PEX 8636 General Features                      switching capability enabling users to connect multiple hosts to their
  o 36-lane, 24-port PCIe Gen2 switch            respective endpoints via scalable, high bandwidth, non-blocking
    - Integrated 5.0 GT/s SerDes
  o 35 x 35mm2, 1156-ball FCBGA package          interconnection to a wide variety of applications including
  o Typical Power: 8.8 Watts                     communications platforms. The PEX 8636 is well suited for fan-out,
                                                 aggregation, and peer-to-peer applications.
  PEX 8636 Key Features
  o Standards Compliant                          Multi-Host Architecture
    - PCI Express Base Specification, r2.0
      (backwards compatible w/ PCIe
                                                 The PEX 8636 employs an enhanced version of PLX’s field tested PCIe
      r1.0a/1.1)                                 switch architecture, which allows users to configure the device in legacy
    - PCI Power Management Spec, r1.2            single-host mode or multi-host mode with up to Eight host ports capable of
    - Microsoft Vista Compliant                  1+1 (one active & one backup) or N+1 (N active & one backup) host failover.
    - Supports Access Control Services
                                                 This powerful architectural enhancement enables users to build PCIe based
    - Dynamic link-width control
    - Dynamic SerDes speed control               systems to support high-availability, failover, redundant and clustered
  o High Performance                             systems.
    ♦ performancePAK
      9 Read Pacing (bandwidth throttling)       High Performance & Low Packet Latency
      9 Multicast
      9 Dynamic Buffer/FC Credit Pool
                                                 The PEX 8636 architecture supports packet cut-thru with a maximum
    - Non-blocking switch fabric                 latency of 200ns (x1 to x1). This, combined with large packet memory,
    - Full line rate on all ports                flexible common buffer/FC credit pool and non-blocking internal switch
    - Packet Cut-Thru with 200ns max packet      architecture, provides full line rate on all ports for performance-hungry
      latency (x1 to x1)                         applications such as servers and switch fabrics. The low latency enables
    - 2KB Max Payload Size
  o Flexible Configuration                       applications to achieve high throughput and performance. In addition to low
    - Ports configurable as x1, x4, x8, x16      latency, the device supports a packet payload size of up to 2048 bytes,
    - Registers configurable with strapping      enabling the user to achieve even higher throughput.
      pins, EEPROM, I2C, or host software
    - Lane and polarity reversal
    - Compatible with PCIe 1.0a PM
                                                 Data Integrity
  o Multi-Host & Fail-Over Support               The PEX 8636 provides end-to-end CRC (ECRC) protection and Poison bit
    - Configurable Non-Transparent (NT) port     support to enable designs that require end-to-end data integrity. PLX also
    - Failover with NT port                      supports data path parity and memory (RAM) error correction circuitry
    - Up to Eight upstream/Host ports with       throughout the internal data paths as packets pass through the switch.
      1+1 or N+1 failover to other upstream
      ports
  o Quality of Service (QoS)                     Flexible Configuration
    - Eight traffic classes per port             The PEX 8636’s 24 Ports can be
    - Weighted round-robin source                configured to lane widths of x1,
      port arbitration                           x4, x8 or x16. Flexible buffer
  o Reliability, Availability, Serviceability
    ♦ visionPAK
                                                 allocation, along with the device's
      9 Per Port Performance Monitoring          flexible packet flow control,
          Per port payload & header counters    maximizes        throughput       for
      9 SerDes Eye Capture                       applications where more traffic
      9 Error Injection and Loopback
                                                 flows in the downstream, rather
    - 3 Hot Plug Ports with native HP Signals
    - All ports hot plug capable thru I2C        than upstream, direction. Any port
      (Hot Plug Controller on every port)        can be designated as the upstream
    - ECRC and Poison bit support                port, which can be changed
    - Data Path parity                           dynamically. Figure 1 shows
    - Memory (RAM) Error Correction
    - INTA# and FATAL_ERR# signals
                                                 some of the PEX 8636’s common
    - Advanced Error Reporting                   port configurations in legacy
    - Port Status bits and GPIO available        Single-Host mode.
      • Per port error diagnostics
    - JTAG AC/DC boundary scan
© PLX Technology, www.plxtech.com                              Page 1 of 5                                       10/8/2009, Version 1.0


                                        PEX 8636, PCI Express Gen 2 Switch, 36 Lanes, 24 Ports
The PEX 8636 can also be configured in Multi-Host mode            Multi-Host & Failover Support
where users can choose up to Eight ports as host/upstream         In Multi-Host mode, PEX 8636 can be configured with up
ports and assign a desired number of downstream ports to          to Eight upstream host ports, each with its own dedicated
each host. In Multi-Host mode, a virtual switch is created        downstream ports. The device can be configured for 1+1
for each host port and its associated downstream ports            redundancy or N+1 redundancy. The PEX 8636 allows the
inside the device. The traffic between the ports of a virtual     hosts to communicate their status to each other via special
switch is completely isolated from the traffic in other           door-bell registers. In failover mode, if a host fails, the
virtual switches. Figure 2 illustrates some configurations        host designated for failover will disable the upstream port
of the PEX 8636 in Multi-Host mode where each ellipse             attached to the failing host and program the downstream
represents a virtual switch inside the device.                    ports of that host to its own domain. Figure 4a shows a two
                                                                  host system in Multi-Host mode with two virtual switches
The PEX 8636                                                      inside the device and Figure 4b shows Host 1 disabled
also provides                                                     after failure and Host 2 having taken over all of Host 1’s
several ways to                                                   end-points.
configure its
registers. The
device can be
configured
through
strapping pins,
I2C interface,
host software,
or an optional
serial
EEPROM. This
allows for easy
debug during                                                      Hot Plug for High Availability
the development phase, performance monitoring during              Hot plug capability allows users to replace hardware
the operation phase, and driver or software upgrade.              modules and perform maintenance without powering down
                                                                  the system. The PEX 8636 hot plug capability feature
                                                                  makes it suitable for High Availability (HA)
Dual-Host & Failover Support
                                                                  applications. Four downstream ports include a Standard
In Single-Host mode, the PEX 8636 supports a Non-
                                                                  Hot Plug Controller. If the PEX 8636 is used in an
Transparent (NT) Port, which enables the
                                                                  application where one or more of its downstream ports
implementation of dual-
                                                                  connect to PCI Express slots, each port’s Hot Plug
host systems for
                                                                  Controller can be used to manage the hot-plug event of its
redundancy and host
                                                                  associated slot. Every port on the PEX 8636 is equipped
failover capability. The
                                                                  with a hot-plug control/status register to support hot-plug
NT port allows systems
                                                                  capability through external logic via the I2C interface.
to isolate host memory
domains by presenting
the processor subsystem                                           SerDes Power and Signal Management
as an endpoint rather                                             The PEX 8636 supports software control of the SerDes
than another memory                                               outputs to allow optimization of power and signal strength
system. Base address                                              in a system. The PLX SerDes implementation supports
registers are used to                                             four levels of power – off, low, typical, and high. The
translate addresses;                                              SerDes block also supports loop-back modes and
doorbell registers are used to send interrupts between the        advanced reporting of error conditions, which enables
address domains; and scratchpad registers (accessible by          efficient management of the entire system.
both CPUs) allow inter-processor communication (see
Figure 3).
© PLX Technology, www.plxtech.com                          Page 2 of 5                                        10/8/2009, Version 1.0


                                       PEX 8636, PCI Express Gen 2 Switch, 36 Lanes, 24 Ports
Interoperability                                                  visionPAK™
The PEX 8636 is designed to be fully compliant with the           Another PLX exclusive, visionPAK is a debug diagnostics
PCI Express Base Specification r2.0, and is backwards             suite of integrated hardware and software instruments that
compatible to PCI Express Base Specification r1.1 and             users can use to help bring their systems to market faster.
r1.0a. Additionally, it supports auto-negotiation, lane           visionPAK features consist of Performance Monitoring,
reversal, and polarity reversal on its wide ports.                SerDes Eye Capture, Error Injection, SerDes Loopback,
Furthermore, the PEX 8636 is tested for Microsoft Vista           and more.
compliance. All PLX switches undergo thorough
interoperability testing in PLX’s Interoperability Lab and
                                                                  Performance Monitoring
                                                                  The PEX 8636’s real time performance monitoring allows
compliance testing at the PCI-SIG plug-fest.
                                                                  users to literally “see” ingress and egress performance on
performancePAK™                                                   each port as traffic passes through the switch using PLX’s
Exclusive to PLX, performancePAK is a suite of unique             Software Development Kit (SDK). The monitoring is
and innovative performance features which allows PLX’s            completely passive and therefore has no affect on overall
Gen 2 switches to be the highest performing Gen 2                 system performance. Internal counters provide extensive
switches in the market today. The performancePAK                  granularity down to traffic & packet type and even allows
features consists of the Read Pacing, Multicast, and              for the filtering of traffic (i.e. count only Memory Writes).
Dynamic Buffer Pool.                                              SerDes Eye Capture
Read Pacing                                                       Users can evaluate their system’s signal integrity at the
The Read Pacing feature allows users to throttle the              physical layer using the PEX 8636’s SerDes Eye Capture
amount of read requests being made by downstream                  feature. Using PLX’s SDK, users can view the receiver
devices. When a downstream device requests several long           eye of any lane on the switch. Users can then modify
reads back-to-back, the Root Complex gets tied up in              SerDes settings and see the impact on the receiver eye.
serving that downstream port. If that port has a narrow link      Figure 5 shows a screenshot of the SerDes Eye Capture
and is therefore slow in receiving these read packets from        feature in the SDK.
the Root Complex, then other downstream ports may
become starved – thus, impacting performance. The Read
Pacing feature enhances performances by allowing for the
adequate servicing of all downstream devices.
Multicast
The Multicast feature enables the copying of data (packets)
from one ingress port to multiple (up to 23) egress ports in
one transaction allowing for higher performance in dual-
graphics, storage, security, and redundant applications,
among others. Multicast relieves the CPU from having to
conduct multiple redundant transactions, resulting in
higher system performance.
Dynamic Buffer Pool
The PEX 8636 employs a dynamic buffer pool for Flow
Control (FC) management. As opposed to a static buffer                          Figure 5. SerDes Eye Capture
scheme which assigns fixed, static buffers to each port,
PLX’s dynamic buffer allocation scheme utilizes a                 Error Injection & SerDes Loopback
common pool of FC Credits which are shared by other               Using the PEX 8636’s Error Injection feature, users can
ports. This shared buffer pool is fully programmable by the       inject malformed packets and/or fatal errors into their
user, so FC credits can be allocated among the ports as           system and evaluate a system’s ability to detect and
needed. Not only does this prevent wasted buffers and             recover from such errors. The PEX 8636 also supports
inappropriate buffer assignments, any unallocated buffers         Internal Tx, External Tx, Recovered Clock, and Recovered
remain in the common buffer pool and can then be used             Data Loopback modes.
for faster FC credit updates.
© PLX Technology, www.plxtech.com                          Page 3 of 5                                          10/8/2009, Version 1.0


                                        PEX 8636, PCI Express Gen 2 Switch, 36 Lanes, 24 Ports
Applications
                                                                   Host Failover in Comms Control Plane
Suitable for host-centric as well as peer-to-peer traffic
                                                                   The PEX 8636 can also be utilized in applications where
patterns, the PEX 8636 can be configured for a wide
                                                                   host failover is required. In the control plane application
variety of form factors and applications.
                                                                   below (Figure 8), an Active-Standby failover example is
Host Centric Fan-out in Control Plane                              shown. In this case, there is one active host which is
The PEX 8636, with its high port count, provides adequate          managing the endpoints during run-time. The PEX 8636
connectivity when used in host-centric applications. Figure        provides Non-Transparent functionality which can be
6 shows a control plane design where a single processor is         enabled on a single port. The Non-Transparent port allows
used to control a large number of proprietary ASICS,               the Standby processor to communicate and exchange
FPGAs and/or other fabric interface chips. The upstream            status information with the primary processor without
port in this case can be programmed with a fat pipe, up to         interfering with the endpoints. When failover needs to
x16, to the processor in order to sustain bandwidth                occur, system software configures the PEX 8636 so that
requirements from the downstream devices. Moreover,                the upstream port is connected to the standby processor.
each port in the PEX 8636 can independently support
2.5GT/s and/or 5.0GT/s devices.
                                                                        Figure 8. Failover using Non-Transparency
                                                                   A second method for implementing failover is through the
           Figure 6. Host Centric Application                      Virtual Switch mode function. Figure 9 shows a control
                                                                   plane application using the Virtual Switch mode. In these
Multicast in Control Plane                                         example, two hosts may be active simultaneously and
The PEX 8636 implements Multicast as defined in the                controlling their own domains while exchange status
PCIe Specification. It provides support for 64 multicast           information through doorbell registers or I2C interface.
groups and any port in the Switch can be the source port           The devices can be programmed to trigger fail-over if the
for a multicast transaction. In a control plane application,       heartbeat information is not provided. In the event of a
the multicast feature provides processor relief during             failure, the surviving device will reset the endpoints
configuration and run-time by requiring the processor to           connected to the failing processor and enumerate them in
issue a single transaction and allowing the switch to              its own domain without impacting the operation of
replicate that particular transaction to multiple destinations     endpoints already in its domain.
as defined in the multicast group.
                                                                     Figure 8. Failover using Virtual Switch function
            Figure 7. Multicast on PEX 8636
© PLX Technology, www.plxtech.com                           Page 4 of 5                                        10/8/2009, Version 1.0


                                       PEX 8636, PCI Express Gen 2 Switch, 36 Lanes, 24 Ports
Software Usage Model                                               RDK provides everything that a user needs to get their
                                                                   hardware and software development started.
From a system model viewpoint, each PCI Express port is
a virtual PCI to PCI bridge device and has its own set of          Software Development Kit (SDK)
PCI Express configuration registers. It is through the             PLX’s Software Development Kit is available for
upstream port that the BIOS or host can configure the              download at www.plxtech.com/sdk. The software
other ports using standard PCI enumeration. The virtual            development kit includes drivers, source code, and GUI
PCI to PCI bridges within the PEX 8636 are compliant to            interfaces to aid in configuring and debugging the PEX
the PCI and PCI Express system models. The                         8636. For more information, please refer to the PEX 8636
Configuration Space Registers (CSRs) in a virtual                  RDK Product Brief.
primary/secondary PCI to PCI bridge are accessible by
type 0 configuration cycles through the virtual primary bus        Both performancePAK and visionPAK are supported by
interface (matching bus number, device number, and                 PLX’s RDK and SDK, the industry’s most advanced
function number).                                                  hardware- and software-development kits.
Interrupt Sources/Events
                                                                   Product Ordering Information
The PEX 8636 switch supports the INTx interrupt message
type (compatible with PCI 2.3 Interrupt signals) or                Part Number                       Description
Message Signaled Interrupts (MSI) when enabled.                                                      36-lane, 24-port PCI Express Switch,
                                                                   PEX8636-AA50BC F
                                                                                                     Pb-Free (35x35mm2)
Interrupts/messages are generated by PEX 8636 for hot
                                                                   PEX8636-16U1D BB                  PEX 8636 Rapid Development Kit with
plug events, doorbell interrupts, baseline error reporting,        RDK                               x16 Upstream and 20 x1 Downstream
and advanced error reporting.
                                                                   PLX Technology, Inc. All rights reserved. PLX, the PLX logo, ExpressLane,
                                                                   Read Pacing and Dual Cast are trademarks of PLX Technology, Inc. All other
                                                                   product names that appear in this material are for identification purposes only
                                                                   and are acknowledged to be trademarks or registered trademarks of their
                                                                   respective companies. Information supplied by PLX is believed to be accurate
                                                                   and reliable, but PLX assumes no responsibility for any errors that may appear in
                                                                   this material. PLX reserves the right, without notice, to make changes in product
                                                                   design or specification.
                                                                   Visit www.plxtech.com for more information.
         Figure 10. PEX8636-16U1D AIC RDK
Development Tools
PLX offers hardware and software tools to enable rapid
customer design activity. These tools consist of a hardware
module (PEX 8636 RDK), hardware documentation
(available at www.plxtech.com), and a Software
Development Kit (also available at www.plxtech.com).
ExpressLane PEX 8636 RDK
The PEX 8636 RDK (see Figure 10) is a hardware module
containing the PEX 8636 which plugs right into your
system. The PEX 8636 RDK can be used to test and
validate customer software, or used as an evaluation
vehicle for PEX 8636 features and benefits. The PEX 8636
© PLX Technology, www.plxtech.com                           Page 5 of 5                                                      10/8/2009, Version 1.0


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Broadcom Limited:
 PEX8636-AA50RBC G
