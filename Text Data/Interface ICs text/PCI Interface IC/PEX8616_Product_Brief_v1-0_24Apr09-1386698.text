         Version 1.0 2009
Features
  PEX 8616 Vitals
                                                               PEX 8616
  o 16-lane, 4-port PCIe Gen2 switch
    - Integrated 5.0 GT/s SerDes
  o 19 x 19mm2, 324-pin FCBGA package            PCIe Gen2, 5.0GT/s 16-lane, 4-port Switch
  o Typical Power: 1.7 Watts
                                               The ExpressLaneTM PEX 8616 device offers PCI Express switching
                                               capability enabling users to add scalable high bandwidth, non-blocking
  PEX 8616 Key Features
                                               interconnection to a wide variety of applications including
  o Standards Compliant
    - PCI Express Base Specification, r2.0     workstations, storage systems, communications platforms,
      (backwards compatible w/ PCIe r1.0a/1.1) embedded systems, and intelligent I/O modules. The PEX 8616 is
    - PCI Power Management Spec, r1.2
    - Microsoft Vista Compliant
                                               well suited for fan-out, aggregation, and peer-to-peer applications.
    - Supports Access Control Services
    - Dynamic link-width control               High Performance & Low Packet Latency
    - Dynamic SerDes speed control             The PEX 8616 architecture supports packet cut-thru with a maximum
  o High Performance                           latency of 170ns (x4 to x4). This, combined with large packet memory and
    - Non-blocking switch fabric
    - Full line rate on all ports              non-blocking internal switch architecture, provides full line rate on all ports
    - Packet Cut-Thru with 170ns max packet    for performance-hungry applications such as servers and switch fabrics.
      latency (x4 to x4)                       The low latency enables applications to achieve high throughput and
    - 2KB Max Payload Size                     performance. In addition to low latency, the device supports a max payload
    - Read Pacing (bandwidth throttling)
    - Dual-Cast
                                               size of 2048 bytes, enabling the user to achieve even higher throughput.
  o Flexible Configuration
    - Ports configurable as x1, x2, x4, x8     Data Integrity
    - Registers configurable with strapping    The PEX 8616 provides end-to-end CRC (ECRC) protection and Poison bit
      pins, EEPROM, I2C, or host software      support to enable designs that require end-to-end data integrity. PLX also
    - Lane and polarity reversal
    - Compatible with PCIe 1.0a PM             supports data path parity and memory (RAM) error correction as packets
  o Dual-Host & Fail-Over Support              pass through the switch.
    - Configurable Non-Transparent port
    - Moveable upstream port                   Flexible Register & Port Configuration
    - Crosslink port capability
  o Quality of Service (QoS)
                                                The PEX 8616’s 4 ports can be configured to lane widths of x1, x2, x4, or
    - Eight traffic classes per port           x8. Flexible buffer allocation, along with the device's flexible packet flow
    - Weighted round-robin source              control, maximizes throughput for applications where more traffic flows in
      port arbitration                         the downstream, rather than upstream, direction. Any port can be designated
  o Reliability, Availability, Serviceability  as the upstream port, which can be changed dynamically. The PEX 8616 also
    - 2 Hot Plug Ports with native HP Signals
    - All ports hot plug capable thru I2C      provides several ways to
                                               configure its registers.                   x4                        x8
      (Hot Plug Controller on every port)
    - ECRC and Poison bit support              The device can be
    - Data Path parity                         configured through
    - Memory (RAM) Error Correction
    - INTA# and FATAL_ERR# signals
                                               strapping pins, I2C                 PEX 8616                  PEX 8616
    - Advanced Error Reporting                 interface, host software,
    - Port Status bits and GPIO available      or an optional serial
    - Per port error diagnostics               EEPROM. This allows for                                       x4       x4
    - Performance Monitoring
                                                                                  x4 x4 x4
                                               easy debug during the
      • Per port payload & header counters
                                               development phase,                         x4                        x8
                                               performance monitoring
                                               during the operation                                              NT
                                               phase, and driver or                                          PEX 8616
                                                                                   PEX 8616
                                               software upgrade. Figure
                                               1 shows some of the
                                               PEX 8616’s common port
                                               configurations.                    x4 x2 x2                       x8
                                                                              Figure 1. Common Port Configurations


Dual-Host & Failover Support                                 its associated slot. Every port on the PEX 8616 is
The PEX 8616 product supports a Non-Transparent              equipped with a hot-plug control/status register to
(NT) Port, which enables the implementation of multi-        support hot-plug capability through external logic via the
host systems and intelligent I/O modules in storage,         I2C interface.
communications, and blade server applications. The NT
port allows systems to isolate host memory domains by        SerDes Power and Signal Management
presenting the processor subsystem as an endpoint rather     The PEX 8616 supports software control of the SerDes
than another memory         Primary
                            Primary Host
                                    Host    Secondary
                                            Secondary Host
                                                      Host
                                                             outputs to allow optimization of power and signal
system. Base address           CPU              CPU          strength in a system. The PLX SerDes implementation
registers are used to                                        supports four levels of power – off, low, typical, and
translate addresses;                                         high. The SerDes block also supports loop-back modes
doorbell registers are         Root                          and advanced reporting of error conditions, which
used to send                Complex                          enables efficient management of the entire system.
interrupts between the
address domains; and                  NT
                                                             Interoperability
scratchpad registers                                         The PEX 8616 is designed to be fully compliant with the
                            PEX 8616         Non-Transparent
(accessible by both                                          PCI Express Base Specification r2.0, and is backwards
                                                     Port
CPUs) allow inter-                                           compatible to PCI Express Base Specification r1.1 and
processor                End           End                   r1.0a. Additionally, it supports auto-negotiation, lane
communication           Point         Point                  reversal, and polarity reversal. Furthermore, the
(see Figure 2).       Figure 2. Non-Transparent Port         PEX 8616 is designed for Microsoft Vista compliance.
In a two-port configuration (as in Figure 1), the            All PLX switches undergo thorough interoperability
PEX 8616 can serve as an NT buffer, isolating two host       testing in PLX’s Interoperability Lab and compliance
domains via two x8 links.                                    testing at the PCI-SIG plug-fest.
Dual Cast
The PEX 8616 supports Dual Cast, a feature which
allows for the copying of data (e.g. packets) from one       Applications
ingress port to two egress ports allowing for higher
performance in dual-graphics, storage, security, and         Suitable for host-centric as well as peer-to-peer traffic
redundant applications.                                      patterns, the PEX 8616 can be configured for a broad
                                                             range of form factors and applications.
Read Pacing
The Read Pacing feature allows users to throttle the         Host Centric Fan-out
amount of read requests being made by downstream             The PEX 8616, with its symmetric or asymmetric lane
devices. When a downstream device requests several           configuration capability, allows user-specific tuning to a
long reads back-to-back, the Root Complex gets tied up       variety of host-centric applications. Figure 3 shows a
in serving this downstream port. If this port has a narrow   typical workstation design where the root complex
link and is therefore slow in receiving these read packets   provides a PCI Express link that needs to be expanded to
from the Root Complex, then other downstream ports           a larger number of smaller ports for a variety of I/O
may become starved – thus, impacting performance. The        functions. In this example, the PEX 8616 has a 4-lane
Read Pacing feature enhances performances by allowing        upstream port and three downstream ports using x4
for the adequate servicing of all downstream devices.        links.
Hot Plug for High Availability                               The PEX 8616 can also be used to create PCIe Gen1 (2.5
Hot plug capability allows users to replace hardware         Gbps) ports. The PEX 8616 is backwards compatible
modules and perform maintenance without powering             with PCIe Gen1 devices. Therefore, the PEX 8616
down the system. The PEX 8616 hot plug capability            enables a Gen 2 native Chip Set to fan-out to Gen 1
feature makes it suitable for High Availability (HA)         endpoints. In Figure 3, the PCIe slots connected to the
applications. Two downstream ports include a Standard        PEX 8616’s downstream ports can be populated with
Hot Plug Controller. If the PEX 8616 is used in an           either PCIe Gen1 or PCIe Gen 2 devices. Conversely,
application where one or more of its downstream ports        the PEX 8616 can also be used to create Gen 2 ports on
connect to PCI Express slots, each port’s Hot Plug           a Gen 1 native Chip Set in the same fashion.
Controller can be used to manage the hot-plug event of


                        CPU   CPU
                                                                                                     Quad-Port FC HBA
                        CPU   CPU                         FC                      x4
                                                                      FC Cont.
                                                          FC
                        Chipset            Memory
                                                          FC                                           PEX 8616
                                                                      FC Cont.
                                                                                  x4
                x16                x4
   Endpoint                                               FC                                                  x8
                  x16
                             PEX 8616
                        x4                                    Figure 5. Quad-Port Fibre-Channel HBA
          Endpoint
                           x4          x4               Failover Storage Systems
                    PCIe Gen1 or PCIe Gen2 slots
                                                        The PEX 8616’s Dual Cast feature proves to be very
              Figure 3. Fan-in/out Usage                useful in storage systems. In the example shown in
                                                        Figure 6, the Dual Cast feature enables the PEX 8616 to
Network Interface Cards                                 copy data going to its two downstream ports to the
The PEX 8616 can also be utilized in communications     backup system and vice versa (see yellow traffic
applications such as Network Interface Cards (NICs).    patterns) in one transaction as opposed to having to
NICs, like the one shown in Figure 4, can utilize the   execute two separate transactions to send data to the
PEX 8616 for its fan-out capabilities. In the example   redundant chassis. By offloading the task of backing up
below, the PEX 8616 is being used on a Dual-port 10-    data onto the secondary system, processor and system
Gigabit Ethernet (GE) NIC card. The PEX 8616 utilizes   performance is enhanced. Non-Transparent (NT) ports
a x8 link to connect to the host and two x4 downstream  are used to isolate the host domains of the backup
links to fan-out to the 10GE ports. The peer-to-peer    system from the primary system.
communication feature of the PEX 8616 allows the                                                                   Backup
                                                                                                 CPU   CPU
endpoints to communicate with each other without any         CPU    CPU
                                                                                                                   System
                                                                                                 CPU   CPU
intervention or management by the host.                      CPU    CPU
                                         Dual-Port NIC                         Memory            Chipset         Memory
                          x4
                                                            Chipset
  10 GE      MAC/PHY
                                                               x4                                  x4
                                                                                 x4                     PEX
                                         PEX 8616                                             NT       8616
             MAC/PHY
                          x4                                PEX 8616
  10 GE
                                                           x4                x4            x4              x4
                                               x8
                                                                            NT                   NT
             Figure 4. 10GE NIC Fan-Out                           PEX 8616             PEX 8616
                                                                 x4         x4          x4         x4
Host Bus Adapters                                                 FC       FC           FC        FC
The PEX 8616 is well suited for Host Bus Adapter cards          Control  Control      Control  Control
(HBAs) as well. Figure 5 shows a Quad-Port Fibre
Channel HBAs utilizing the PEX 8616 to allow
connectivity to two Fibre Channel (FC) controllers. The          8 Disk Chassis       8 Disk Chassis
PEX 8616 uses a x8 link on the upstream port and two
                                                              Figure 6. Dual Cast in Storage Systems
x4 downstream links to fan-out to the FC Controllers
Each FC controller supports two FC ports.


    Software Usage Model                                                                      Development Tools
    From a system model viewpoint, each PCI Express port                                      PLX offers hardware and software tools to enable rapid
    is a virtual PCI to PCI bridge device and has its own set                                 customer design activity. These tools consist of a
    of PCI Express configuration registers. It is through the                                 hardware module (PEX 8616RDK), hardware
    upstream port that the BIOS or host can configure the                                     documentation (available at www.plxtech.com), and a
    other ports using standard PCI enumeration. The virtual                                   Software Development Kit (also available at
    PCI to PCI bridges within the PEX 8616 are compliant                                      www.plxtech.com).
    to the PCI and PCI Express system models. The
    Configuration Space Registers (CSRs) in a virtual                                         ExpressLane PEX 8616RDK
    primary/secondary PCI to PCI bridge are accessible by                                     The PEX 8616RDK is a hardware module containing the
    type 0 configuration cycles through the virtual primary                                   PEX 8616 which plugs right into your system. The
    bus interface (matching bus number, device number, and                                    PEX 8616RDK can be used to test and validate customer
    function number).                                                                         software, or used as an evaluation vehicle for PEX 8616
                                                                                              features and benefits. The PEX 8616RDK provides
    Interrupt Sources/Events                                                                  everything that a user needs to get their hardware and
    The PEX 8616 switch supports the INTx interrupt                                           software development started.
    message type (compatible with PCI 2.3 Interrupt signals)
    or Message Signaled Interrupts (MSI) when enabled.                                        Software Development Kit (SDK)
    Interrupts/messages are generated by PEX 8616 for hot                                     PLX’s Software Development Kit is available for
    plug events, doorbell interrupts, baseline error reporting,                               download at www.plxtech.com/sdk. The software
    and advanced error reporting.                                                             development kit includes drivers, source code, and GUI
                                                                                              interfaces to aid in configuring and debugging the
                                                                                              PEX 8616.
                                                 Product Ordering Information
                                                  Part Number                      Description
    PLX Technology, Inc.
                                                  PEX8616-BB50BC                   16-Lane, 4-Port PCI Express Switch (19x19mm2)
    870 Maude Ave.
                                                  PEX8616-BB50BC F                 16-Lane, 4-Port PCI Express Switch, Pb-Free (19x19mm2)
    Sunnyvale, CA 94085 USA
                                                  PEX8616-BB RDK                   PEX 8616 Rapid Development Kit
    info@plxtech.com
    www.plxtech.com                              Please visit the PLX Web site at http://www.plxtech.com or contact PLX sales at 408-774-9060 for sampling.
© 2009 PLX Technology, Inc. All rights reserved. PLX and the PLX logo are registered trademarks of PLX Technology, Inc. ExpressLane is a trademark of PLX Technology,
Inc., which may be registered in some jurisdiction. All other product names that appear in this material are for identification purposes only and are acknowledged to be
trademarks or registered trademarks of their respective companies. Information supplied by PLX is believed to be accurate and reliable, but PLX Technology, Inc. assumes no
responsibility for any errors that may appear in this material. PLX Technology, Inc. reserves the right, without notice, to make changes in product design or specification.
PEX8616-SIL-PB-1.0                                                                                                                                                         04/09


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Broadcom Limited:
 PEX8616-BB50RBC G
