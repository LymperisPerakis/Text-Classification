                TJA1128
                LIN mini system basis chip
                Rev. 1 — 29 March 2018                                            Product data sheet
1 General description
             The TJA1128 is a LIN Mini System Basis Chip (SBC) with a LIN transceiver, a low-
             dropout voltage regulator (LDO), a window watchdog, two WAKE inputs, one general
             purpose input (GPI) and one high-voltage multipurpose (HVMPO) output. The voltage
             regulator delivers up to 85 mA and is available with 3.3 V and 5.0 V output voltages. The
             TJA1128 can be operated in very low-current STANDBY and SLEEP modes with bus
             and local wake-up capability.
2 Features and benefits
         2.1 General
             • Battery operating voltage range from (3.3 V) 5.0 V to 28 V
             • Very low current consumption in SLEEP and STANDBY mode
               – SLEEP mode (voltage regulator off): typically 14 µA
               – STANDBY mode (voltage regulator on): typically 22 µA
             • Remote wake-up capability via pin LIN
             • Local wake-up via pins WAKE1 and WAKE2
               – Configurable level-sensitive wake-up detection
               – Cyclic sampled wake-up detection option with synchronized bias control via pin
                 HVMPO
             • Wake-up source recognition
             • Configurable high-voltage multipurpose output (HVMPO)
               – Bias control output for cyclic wake-up
               – Limp home output
               – Bias control output for battery monitoring circuit
               – General purpose input (GPI) controlled output
             • Limp home function on overtemperature, watchdog service fail, VCC undervoltage and
               RSTN short-circuit to ground
             • Overtemperature shutdown
             • Bidirectional reset pin with variable power-on reset length
         2.2 Device customization
             • Quasi one-time configuration via Serial Peripheral Interface (SPI)
             • Initial mode to configure and disable
               – Functions (e.g., LIN, watchdog, Reset, WAKE)
               – Modes (e.g., SLEEP)


NXP Semiconductors
                                                                                                                            TJA1128
                                                                                                                  LIN mini system basis chip
                   2.3 Low-dropout voltage regulator for 3.3 V/5.0 V microcontroller supply
                       • 5.0 V/3.3 V nominal output voltage, ±2 % accuracy
                       • 85 mA output current capability
                       • Undervoltage detection with reset output
                       • Excellent transient response with a small ceramic output capacitor
                       • Output is short-circuit proof to GND
                   2.4 LIN transceiver
                       • ISO 17987-4:2016 (12 V LIN) compliant
                       • LIN 2.0, LIN 2.1, LIN 2.2, LIN 2.2A compliant
                       • SAE J2602-1 compliant
                       • K-line compatible
                       • Baud rate up to 20 kBd
                       • LIN high-speed mode with fast LIN slope to support high baud rates (> 20 kBd)
                       • Integrated termination resistor for LIN slave applications
                       • TXD dominant time-out function
                   2.5 Window watchdog
                       • Watchdog with Window, Timeout and Autonomous modes
                       • Microcontroller-independent clock source
                       • Watchdog period selectable between 16 ms and 128 ms
                       • Dedicated modes for software development and end-of-line flashing
                   2.6 Designed for automotive applications
                       • Qualified according to AEC-Q100
                       • Load dump pulse protected against up to 43 V
                       • ±8 kV Electrostatic Discharge (ESD) protection, according to the Human Body Model
                         (HBM) on LIN-bus pin
                       • ±6 kV ESD protection according to IEC 61000-4-2 on pins BAT, WAKE1, WAKE2 and
                         ±8 kV on pin LIN
                       • Bus terminal and battery pin protected against transients in the automotive environment
                         (ISO 7637)
                       • LIN-bus pin short-circuit proof to battery and ground
                       • Leadless HVSON14 package (3.0 mm × 4.5 mm) supporting Automated Optical
                         Inspection (AOI) capability and low thermal resistance
TJA1128                                All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                     Rev. 1 — 29 March 2018
                                                                                                                                                         2 / 39


NXP Semiconductors
                                                                                                                                            TJA1128
                                                                                                                               LIN mini system basis chip
3       Ordering information
Table 1. Ordering information
 Type number         Package
                     Name        Description                                                                                                  Version
 TJA1128             14 pin      HVSON14; plastic, thermal enhanced very thin small outline package; SOT1086-2
                     HVSON       no leads; 14 terminals, body 3 x 4.5 x 0.85 mm
                   3.1 Ordering options
                         Table 2. Overview of TJA1128 SBC family
                          Device             LDO supply                       WAKE inputs Watchdog                                    Initial CRC value
                          TJA1128A           5.0 V                            1                                 No                    6D
                          TJA1128B           3.3 V                            1                                 No                    C0
                          TJA1128C           5.0 V                            2                                 No                    C5
                          TJA1128D           3.3 V                            2                                 No                    68
                          TJA1128E           5.0 V                            1                                 Yes                   84
                          TJA1128F           3.3 V                            1                                 Yes                   29
                          TJA1128G           5.0 V                            2                                 Yes                   2C
                          TJA1128H           3.3 V                            2                                 Yes                   81
4       Block diagram
                                                 TJA1128
                                                                                                                            VOLTAGE                          BAT
                                    WWD                                        WATCHDOG                                   REGULATOR
                                                                                                                            3.3 V/5 V                        VCC
                                                                                                                     TEMPERATURE
                                                                                  OSCILLATOR
                                                                                                                      PROTECTION
                                TXD (SDI)
                                                                                                                       LIN TRANSCEIVER                       LIN
                               RXD (SDO)
                                EN (SCK)
                                                                                                                                                             WAKE1
                             STBN (SCSN)                                                                                     WAKE
                                                                                SYSTEM                                                                       WAKE2
                                     GPI                                     CONTROLLER
                                                   VCC
                                                                                                                                                             HVMPO
                                    RSTN
                                                                                                                                                             GND
                                                                                                                                                         aaa-029686
                          Figure 1. Block diagram
TJA1128                                   All information provided in this document is subject to legal disclaimers.                        © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                                         3 / 39


NXP Semiconductors
                                                                                                                            TJA1128
                                                                                                                  LIN mini system basis chip
5       Pinning information
                   5.1 Pinning
                        Figure 2. Pin configuration diagram
                   5.2 Pin description
                       Table 3. Pin description
                       Symbol                          Pin            Description
                       TXD (SDI)                         1            LIN transmit data input (SPI data input in CONFIG mode)
                       EN (SCK)                          2            Enable input (SPI clock input in CONFIG mode)
                       RSTN                              3            Reset input/output; active-LOW
                       RXD (SDO)                         4            LIN receive data output; wake-up event information (SPI data
                                                                      output in CONFIG mode)
                       STBN (SCSN)                       5            Standby control input (SPI chip select input in CONFIG mode);
                                                                      active-LOW
                       WWD                               6            Window watchdog trigger input
                       GPI                               7            General purpose input
                       VCC                               8            Voltage regulator output
                       GND                               9            Ground
                       LIN                              10            LIN bus line input/output
                       BAT                              11            Battery supply
                       WAKE2                            12            Local wake-up input 2
                       WAKE1                            13            Local wake-up input 1
                       HVMPO                            14            High-voltage multipurpose output (open-drain)
TJA1128                                All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                     Rev. 1 — 29 March 2018
                                                                                                                                                         4 / 39


NXP Semiconductors
                                                                                                                             TJA1128
                                                                                                                   LIN mini system basis chip
                       For enhanced thermal and electrical performance, the exposed center pad of the
                       HVSON14 package should be soldered to board ground and not to any other voltage
                       level.
6       Functional description
                   6.1 ISO 17987/LIN 2.x/SAE J2602 compliant
                       The TJA1128 is fully compliant with ISO 17987-4:2016 (12 V LIN), LIN 2.0, LIN 2.1, LIN
                       2.2, LIN 2.2A and SAE J2602. The LIN physical layer is independent of higher OSI model
                       layers (e.g., the LIN protocol). Consequently, nodes containing an ISO 17987-compliant
                       physical layer can be combined, without restriction, with LIN physical layer nodes that
                       comply with earlier revisions (LIN 1.0, LIN 1.1, LIN 1.2, LIN 1.3, LIN 2.0, LIN 2.1, LIN 2.2
                       and LIN 2.2A).
                   6.2 Operating modes
                       The system controller contains a state machine that supports nine operating modes:
                       • NORMAL
                       • STANDBY
                       • PORT
                       • GOTOSLP
                       • SLEEP
                       • RESET
                       • CONFIG
                       • OVERTEMP
                       • OFF
                       The state transitions are illustrated in Figure 3.
TJA1128                                 All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                      Rev. 1 — 29 March 2018
                                                                                                                                                          5 / 39


NXP Semiconductors
                                                                                                                                                   TJA1128
                                                                                                                                  LIN mini system basis chip
                                                                                        NORMAL
                                                                                                                        EN = LOW
                                                                                                                            AND
                                                                                                                       STBN = HIGH
                                                                                                                            AND
                                                                      EN = LOW                                          DISSLP = 0
                                                                           AND
                                                                   (STBN = LOW
                                          EN = HIGH                         OR
                                             AND                     DISSLP = 1)
                                         STBN = LOW                                         EN = HIGH
                                                                                                  AND
                                                                                           STBN = LOW                                 GOTOSLP
                                                               EN = HIGH
                                                                    AND
                                     STANDBY                  STBN = HIGH
                                                                                                                        EN = HIGH
                                                                                              PORT                                        EN = LOW
                                                                EN = LOW                                                                     AND
                       wake-up event                                                                                                     t>tto(gotoslp)
                                              CRC valid
                                                   AND
                                            RSTN = HIGH
                                                                                      RSTN = LOW                                     SLEEP
                                                                                                                                                        from any state except
                                                                                                                                                           OFF and SLEEP
                                                   CRC fail
                                                      AND                                                         wake-up event
                                                                                         RESET
                                              RSTN = HIGH                                                                                               overtemperature
                                                      AND
                                           VBAT > Vth(config)min
                                                                                                                       no overtemperature
                                                                                                                                                OVERTEMP
                                             write access to
                           CONFIG              MTPNV CRC                                power-on
                                                      AND                                                         reset event
                                                  CRC valid
                                    write access to                                                                       from CONFIG, STANDBY,
                                    MTPNV CRC                                                                            NORMAL, PORT, GOTOSLP
                                          AND                                              OFF
                                        CRC fail
                                                     VBAT undervoltage
                                 from any state                                                                                                                       aaa-029687
                       Figure 3. System controller state diagram
                6.2.1 NORMAL mode
                      NORMAL mode is the active operating mode. In this mode, the voltage regulator VCC
                      is enabled to supply a microcontroller. The LIN transceiver and the watchdog are active,
                      provided that they are available and enabled. The LIN transceiver is enabled after its
                      initialization time tinit(norm).
                      Pending wake-up events are cleared in NORMAL mode.
                      The NORMAL mode can be entered from STANDBY mode and PORT mode. The
                      TJA1128 switches from STANDBY mode to NORMAL mode when EN is pulled HIGH
                      while STBN is LOW. The transition from PORT mode to NORMAL mode starts when
                      STBN is pulled LOW, while EN is HIGH.
TJA1128                                     All information provided in this document is subject to legal disclaimers.                            © NXP B.V. 2018. All rights reserved.
Product data sheet                                          Rev. 1 — 29 March 2018
                                                                                                                                                                               6 / 39


NXP Semiconductors
                                                                                                                                      TJA1128
                                                                                                                            LIN mini system basis chip
                6.2.2 STANDBY mode
                      The STANDBY mode is a low-power mode with enabled voltage regulator VCC to supply
                      a microcontroller. The LIN transceiver is disabled and the watchdog is either active or in
                      autonomous mode, provided that the watchdog is available and enabled.
                      In STANDBY mode, wake-up event detection is provided. Depending on the device
                      configuration, local wake-up events on WAKE1 and WAKE2 (if available) and remote LIN
                      wake-up events can be detected. RXD is held LOW after detection of an enabled wake-
                      up event.
                      The STANDBY mode can be entered from RESET mode, PORT mode and NORMAL
                      mode. After RESET mode, the STANDBY mode is entered if the device is configured
                      with a valid CRC value. A mode transition to STANDBY mode from NORMAL mode is
                      initiated when EN is pulled LOW while STBN is LOW. If the SLEEP mode is disabled
                      (DISSLP=1; see system register in Table 6), the NORMAL mode to STANDBY mode
                      transition takes place when EN is pulled LOW, regardless of the STBN input level. The
                      transition from PORT mode to STANDBY mode starts when EN is pulled LOW.
                6.2.3 PORT mode
                      The PORT mode can be used to differentiate between PORT mode and CONFIG mode.
                      Details are described in Section 6.2.10 "Differentiation between CONFIG and PORT
                      modes". This is helpful during the software initialization phase to check whether the
                      TJA1128 is already configured.
                      In addition, the TJA1128 provides in this mode, information about captured wake-up
                      event sources, level status on WAKE1 and WAKE2 and limp home status. These status
                      and capture flags can be read via a serial data format with a start bit encoded as LOW
                      level and a stop bit encoded as HIGH level. Similar to UART data framing with 8N1-
                      coding. When a 55h data is applied on TXD, the status and capture flags are transmitted
                      on RXD. In Figure 4 the serial data format and the assignment of the status and capture
                      flags are illustrated.
                                    tinit(TXD)H
                       TXD   X                            START             0            1             2              3  4      5       6           7             STOP
                                                         tbit(TXD)                     tpd(TXD-RXD)
                       RXD                                START            WS1          WS2             LIN         WUR1 WUF1  WUR2    WUF2         LIMP          STOP
                                                                                                                                                              aaa-029688
                        Figure 4. Serial data format in PORT mode
                      The wake-up event sources and limp home status are signaled as active LOW, see
                      Table 4. These capture wake-up events and the limp home status will be cleared on the
                      rising edge of stop bit.
                      The level status on WAKE1 and WAKE2 as well as the capture flag status is sampled on
                      falling edge of start bit. However, after the falling edge of the start bit, new wake and limp
                      home events will be captured and not cleared on the rising edge of the associated stop
                      bit.
TJA1128                                     All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2018. All rights reserved.
Product data sheet                                           Rev. 1 — 29 March 2018
                                                                                                                                                                   7 / 39


NXP Semiconductors
                                                                                                                           TJA1128
                                                                                                                 LIN mini system basis chip
                      Table 4. PORT mode capture and status information
                       Bit        Symbol             Value                  Description
                       7          LIMP               —                      Limp home
                                                     0                      Limp home event detected
                                                     1                      No limp home event detected
                       6          WUF2               —                      Wake-up on falling edge on WAKE2
                                                     0                      Falling edge detected on WAKE2
                                                     1                      No falling edge detected on WAKE2
                       5          WUR2               —                      Wake-up on rising edge on WAKE2
                                                     0                      Rising edge detected on WAKE2
                                                     1                      No rising edge detected on WAKE2
                       4          WUF1               —                      Wake-up on falling edge on WAKE1
                                                     0                      Falling edge detected on WAKE1
                                                     1                      No falling edge detected on WAKE1
                       3          WUR1               —                      Wake-up on rising edge on WAKE1
                                                     0                      Rising edge detected on WAKE1
                                                     1                      No rising edge detected on WAKE1
                       2          LIN                —                      LIN wakeup
                                                     0                      LIN wake-up event detected
                                                     1                      No LIN wake-up event detected
                       1          WS2                —                      WAKE2 status
                                                     0                      Voltage on WAKE2 is below switching threshold (Vth(sw))
                                                     1                      Voltage on WAKE2 is above switching threshold (Vth(sw))
                       0          WS1                —                      WAKE1 status
                                                     0                      Voltage on WAKE1 is below switching threshold (Vth(sw))
                                                     1                      Voltage on WAKE1 is above switching threshold (Vth(sw))
                      The PORT mode can be entered from STANDBY mode, and GOTOSLP mode. A
                      TJA1128 mode transition to PORT mode is initiated either from GOTOSLP mode when
                      EN is pulled HIGH or from STANDBY mode when EN is pulled HIGH while STBN is
                      HIGH.
                6.2.4 GOTOSLP mode
                      The GOTOSLP mode is a temporary mode with enabled voltage regulator VCC. The
                      LIN transceiver is disabled and the watchdog is either active or in autonomous mode,
                      provided that the watchdog is available and enabled.
                      In GOTOSLP mode, wake-up event detection is provided. Depending on the device
                      configuration local wake-up events on WAKE1 and WAKE2 (if available) and remote LIN
TJA1128                               All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                    Rev. 1 — 29 March 2018
                                                                                                                                                        8 / 39


NXP Semiconductors
                                                                                                                              TJA1128
                                                                                                                    LIN mini system basis chip
                      wake-up events can be detected. RXD is held LOW after detection of an enabled wake-
                      up event.
                      The GOTOSLP mode can be entered from NORMAL mode. A mode transition is initiated
                      when EN is pulled LOW while STBN is HIGH, provided the SLEEP mode is enabled.
                6.2.5 SLEEP mode
                      The SLEEP mode is the low-power mode with the lowest power consumption. The low-
                      dropout voltage regulator, the LIN transceiver and the watchdog are disabled. Pin RSTN
                      is forced LOW.
                      In SLEEP mode, wake-up event detection is provided. Depending on the device
                      configuration, local wake-up events on WAKE1 and WAKE2 (if available) and remote LIN
                      wake-up events can be detected.
                      The SLEEP mode is entered from GOTOSLP mode, when the GOTOSLP mode time-out
                      tto(gotoslp) has been exceeded, while EN is LOW.
                6.2.6 RESET mode
                      The RESET mode is a temporary mode to ensure that pin RSTN is pulled down for a
                      defined time to allow the microcontroller to start up in a controlled manner.
                      The TJA1128 switches to RESET mode in response to a reset event. See Section 6.5
                      "System reset".
                6.2.7 OFF mode
                      In OFF mode the power-on detection is enabled; all other functions are inactive. The
                      TJA1128 starts to boot up when the battery voltage exceeds the power-on detection
                      threshold Vth(det)pon (triggering a start-up process). The start-up process from OFF mode
                      via RESET mode to either STANDBY mode or CONFIG mode is completed after the
                      start-up time, tstartup.
                      The TJA1128 switches to OFF mode when the battery supply is first connected or from
                      any mode when the battery voltage drops below the power-off detection threshold
                      Vth(det)poff.
                6.2.8 OVERTEMP mode
                      The OVERTEMP mode is provided to prevent the TJA1128 from being damaged by
                      excessive temperatures. The low-dropout voltage regulator, the LIN transceiver and the
                      watchdog are disabled. Pin RSTN is forced LOW. No wake-up event will be detected.
                      The TJA1128 switches immediately to OVERTEMP mode from any mode (other
                      than OFF mode or SLEEP mode) when the global chip temperature exceeds the
                      overtemperature protection activation threshold, Tth(act)otp.
                6.2.9 CONFIG mode
                      The CONFIG mode is provided for device configuration via SPI. Only in this mode
                      device pins 1, 2, 4 and 5 are used as SPI. See pinning information in Section 5 "Pinning
                      information". In CONFIG mode the low-dropout voltage regulator is enabled; LIN
                      transceiver, watchdog and wake-up detection are disabled.
TJA1128                                  All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                           9 / 39


NXP Semiconductors
                                                                                                                                 TJA1128
                                                                                                                       LIN mini system basis chip
                      The SBC configuration options are described in Section 6.3.3 "SBC configuration
                      register". The nonvolatile SBC configuration is described in Section 6.3.4 "Nonvolatile
                      SBC configuration".
                      The CONFIG mode can be entered from RESET mode. After RESET mode, the CONFIG
                      mode is entered if the device is not configured with a valid CRC value and the supply
                      voltage is above minimum configuration threshold Vth(config)min. Based on the signal
                      sequence it can be checked whether the SBC is in CONFIG mode. Details are described
                      in Section 6.2.10 "Differentiation between CONFIG and PORT modes".
               6.2.10 Differentiation between CONFIG and PORT modes
                      The CONFIG mode can be distinguished from the PORT mode via the RXD (SDO)
                      output level. As illustrated in Figure 5, after the transition to PORT mode the RXD (SDO)
                      output turns to HIGH. Whereas, in CONFIG mode the SDO (RXD) output turns to LOW
                      after SCSN (STBN) is pulled HIGH.
                              STBN
                                      X                                                                                         HIGH-level
                            (SCSN)
                                                                                    tsu                    td(port) td(RXD)
                                 EN
                                                                                                                                HIGH-level
                              (SCK)
                                TXD
                                                                                                        X
                               (SDI)
                                RXD
                                                             wake-up event flag                                                 HIGH-level
                             (SDO)
                               State                                 STANDBY                                                  PORT
                                                                                                                                             time
                                                                                                                                           aaa-029689
                       Figure 5. RXD (SDO) output after transition to PORT mode
TJA1128                                All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2018. All rights reserved.
Product data sheet                                     Rev. 1 — 29 March 2018
                                                                                                                                                           10 / 39


NXP Semiconductors
                                                                                                                                      TJA1128
                                                                                                                            LIN mini system basis chip
                              SCSN
                                                                                                                                     HIGH-level
                             (STBN)
                                                                                 tv(Q)
                                SCK
                                                                                                                   X
                                (EN)
                                 SDI
                                                                                                                   X
                               (TXD)
                                SDO
                                                                             X                                                       LOW-level
                              (RXD)
                                                        td(conf)
                              RSTN                                                                                                   HIGH-level
                                State         RESET                                                                  CONFIG
                                                                                                                                                  time
                                                                                                                                               aaa-029690
                        Figure 6. SDO (RXD) output after SCSN (STBN) turns to HIGH-level
                       In Figure 6 it is illustrated, that with the same pattern on STBN (SCSN) and EN (SCK)
                       as shown in Figure 5, on the RXD (SDO) output level the TJA1128 modes CONFIG and
                       PORT can be determined.
                   6.3 SBC configuration
                6.3.1 SPI
                       The Serial Peripheral Interface (SPI) provides the communication link with the
                       microcontroller for the SBC configuration. The SPI is configured for full duplex data
                       transfer, so status information is returned when new control data is shifted in. The
                       interface also offers a read-only access option, allowing the application to read back
                       registers without changing the register content.
                       The SPI uses four interface signals for synchronization and data transfer: SCSN (STBN),
                       SCK (EN), SDI (TXD) and SDO (RXD). For detail pinning information see Section 5
                       "Pinning information".
                       Bit sampling is performed on the falling edge of the clock and data is shifted in/out on the
                       rising edge, as illustrated in Figure 12.
                       The SPI data in the TJA1128 is stored in a number of dedicated 8-bit registers. Each
                       register is assigned a unique 7-bit address. Two bytes (16 bits) must be transmitted to
                       the SBC for a single register read or write operation. The first byte contains the 7-bit
                       address along with a read-only bit (the LSB). The read-only bit must be 0 to indicate a
                       write operation (if this bit is 1, a read operation is assumed and any data on the SDI pin is
                       ignored). The second byte contains the data to be written to the register.
                       24-bit read and write operations is also supported. The register address is automatically
                       incremented, as illustrated in Figure 7.
TJA1128                                  All information provided in this document is subject to legal disclaimers.                   © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                                11 / 39


NXP Semiconductors
                                                                                                                                            TJA1128
                                                                                                                                 LIN mini system basis chip
                          SCK
                               A6  A5  A4    A3     A2     A1    A0 RO          D7      D6     D5     D4      D3     D2   D1 D0    D7 D6 D5    D4   D3    D2       D1     D0
                                                                                                     Data 0           Data 1
                                                                      SDI      X     Address                                    X
                                                                                                    (at Addr) (at Addr + 1)
                                                                                                     Data 0           Data 1
                                                                    SDO          X Address                                    X
                                                                                                    (at Addr) (at Addr + 1)
                                                                  SCSN                                                                                              aaa-029691
                         Figure 7. SPI data structure for a write operation (24-bit)
                        The content of the addressed registers is returned via pin SDO (RXD) during a SPI data
                        read or write operation, i.e., the prior register content before the new value is set.
                        The TJA1128 tolerates attempts to write to registers that do not exist. If the available
                        address space is exceeded during a write operation, the data above the valid address
                        range is ignored. During a write operation, the TJA1128 monitors the number of SPI bits
                        transmitted. If the number recorded is not 16 or 24, then the write operation is aborted.
                        A SPI access must not be attempted for at least td(conf) after a positive edge on RSTN.
                        Any earlier access may be ignored.
                6.3.2 Register map overview
                        The addressable register space is 128 registers with addresses from 0x00 to 0x7F. Of
                        these, 8 registers are available for SPI access. An overview of the register mapping is
                        provided in Table 5. Further details are provided in Section 6.3.3 "SBC configuration
                        register" and Section 6.3.4 "Nonvolatile SBC configuration".
Table 5. Register map overview
 Address    Register name                                                                              Bits
                                 7                6                     5                   4                      3              2           1                     0
 10h        System                         reserved                                    RSTTIM                                reserved                        DISSLP
 11h        Wake                           reserved                                  BUSWKE                            LC2WKE                     LC1WKE
 12h        LDO                                                                       reserved                                                            DISVCCUV
 13h        LIN                                       reserved                                                 DISLIN               HSMODE                 DISTXTO
 14h        Watchdog          WDSDM        reserved                          WDPER                           reserved        WDAUTO               WDMOD
 15h        HVMPO                  reserved                     WKBSET               WKBPER                  MPOINV                      MPOMOD
 30h        MTPNV CRC                                                                                 CRC
 31h        MTPNV status      NVMPS         NVERR                                                                       WRCNTS
                6.3.3 SBC configuration register
                        In Table 6, the system register bit assignment is listed. In this register the output reset
                        pulse (see Section 6.5 "System reset") can be selected and the SLEEP mode (see
                        Section 6.2.5 "SLEEP mode") can be disabled.
TJA1128                                   All information provided in this document is subject to legal disclaimers.                        © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                                      12 / 39


NXP Semiconductors
                                                                                                                                            TJA1128
                                                                                                                                  LIN mini system basis chip
Table 6. System register (address 10h)
Legend: * factory preset value
 Bit                 Symbol             Access                   Value                      Description
 7 to 5              reserved           R                        —                          —
 4                   RSTTIM             R/W                      —                          RSTN output reset pulse width
                                                                 0*                         tw(rst) = 4 ms
                                                                 1                          tw(rst) = 700 µs
 3 to 1              reserved           R                        —                          —
 0                   DISSLP             R/W                      —                          disable SLEEP mode
                                                                 0*                         SLEEP enabled
                                                                 1                          SLEEP disabled
                                In the wake register the wake detection configuration bits for the local wake-up inputs
                                WAKE1 and WAKE2 (see Section 6.9 "Local wake-up inputs") and for the LIN transceiver
                                (Section 6.8 "LIN transceiver") are provided. The bit assignment is listed in Table 7.
Table 7. Wake register (address 11h)
Legend: * factory preset value
 Bit                 Symbol             Access                   Value                      Description
 7 to 5              reserved           R                        —                          —
                                 [1][2]
 4                   BUSWKE             R/W                      —                          remote LIN bus wake-up enable
                                                                 0*                         LIN wake-up disabled
                                                                 1                          LIN wake-up enabled
                                [1]
 3 to 2              LC2WKE             R/W                      —                          local WAKE2 configuration
                                                                 00*                        local disabled
                                                                 01                         local wake-up on rising edge
                                                                 10                         local wake-up on falling edge
                                                                 11                         local wake-up on both edges
                                [1]
 1:0                 LC1WKE             R/W                      —                          local WAKE1 configuration
                                                                 00*                        local disabled
                                                                 01                         local wake-up on rising edge
                                                                 10                         local wake-up on falling edge
                                                                 11                         local wake-up on both edges
[1]   Do not disable all wake sources when the SLEEP mode is enabled. In this case only a power-on event can cause a transition out of SLEEP mode.
[2]   The LIN wake-up is disabled irrespective of the BUSWKE bit setting, if the LIN transceiver is disabled (DISLIN = 1).
                                The LDO register can be used to disable the VCC undervoltage detection. See
                                Section 6.7.2 "Low-dropout voltage regulator (pin VCC)". In Table 8 the LDO register bit
                                assignment is listed.
TJA1128                                                All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                                     Rev. 1 — 29 March 2018
                                                                                                                                                                      13 / 39


NXP Semiconductors
                                                                                                                              TJA1128
                                                                                                                    LIN mini system basis chip
Table 8. LDO register (address 12h)
Legend: * factory preset value
 Bit            Symbol         Access              Value                      Description
 7 to 1         reserved       R                   —                          —
 0              DISVCCUV       R/W                 —                          disable VCC undervoltage detection
                                                   0*                         VCC undervoltage detection enabled
                                                   1                          VCC undervoltage detection disabled
                         The LIN register in Table 9 provides the LIN transceiver configuration options. In this
                         register LIN high-speed mode can be enabled and the TXD dominant time-out can be
                         disabled. Furthermore, the LIN transceiver can be disabled. Details are provided in
                         Section 6.8 "LIN transceiver".
Table 9. LIN register (address 13h)
Legend: * factory preset value
 Bit            Symbol         Access              Value                      Description
 7 to 4         reserved       R                   —                          —
 3              DISLIN         R/W                 —                          disable LIN transceiver
                                                   0*                         LIN transceiver enabled
                                                   1                          LIN transceiver disabled
 2 to 1         HSMODE         R/W                 —                          LIN high-speed mode
                                                   00*                        LIN high-speed mode disabled
                                                   01                         LIN high speed mode enabled until next BAT power-on
                                                                              event
                                                   10                         LIN high speed mode enabled
                                                   11                         LIN high-speed mode disabled
 0              DISTXTO        R/W                 —                          disable LIN TXD dominant time-out
                                                   0*                         LIN TXD dominant time-out enabled
                                                   1                          LIN TXD dominant time-out disabled
                         In the watchdog register the watchdog (see Section 6.4 "Watchdog") configuration
                         options are provided. The watchdog mode and period can be chosen. In addition, the
                         software development mode can be enabled. In Table 10 the watchdog register bit
                         assignment is listed.
Table 10. Watchdog register (address 14h)
Legend: * factory preset value
 Bit            Symbol         Access              Value                      Description
 7              WDSDM          R/W                 —                          watchdog software development mode
                                                   0*                         software development mode disabled
                                                   1                          software development mode enabled
 6              reserved       R                   —                          —
TJA1128                                  All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                        14 / 39


NXP Semiconductors
                                                                                                                              TJA1128
                                                                                                                    LIN mini system basis chip
 Bit            Symbol         Access              Value                      Description
 5 to 4         WDPER          R/W                 —                          watchdog nominal period
                                                   00*                        16 ms
                                                   01                         32 ms
                                                   10                         64 ms
                                                   11                         128 ms
 3              reserved       R                   —                          —
 2              WDAUTO         R/W                 —                          watchdog autonomous mode
                                                   0*                         autonomous mode disabled
                                                   1                          autonomous mode enabled
 1 to 0         WDMOD          R/W                 —                          watchdog operation mode
                                                   00*                        watchdog disabled
                                                   01                         window mode
                                                   10                         timeout mode
                                                   11                         watchdog disabled
                         With the HVMPO register the use of the HVMPO can be configured. It can be used
                         to enable and configure the cyclic wake function. Furthermore, the HVMPO can be
                         configured as LIMP home output, as state controlled output and as GPI controlled output.
                         In Table 11 the HVMPO register bit assignment is listed.
Table 11. HVMPO register (address 15h)
Legend: * factory preset value
 Bit            Symbol         Access              Value                      Description
 7 to 6         reserved       R                   —                          —
 5              WKBSET         R/W                 —                          cyclic wake nominal settle time
                                                   0*                         tset(cyclicwk) = 70 µs
                                                   1                          tset(cyclicwk) = 134 µs
 4              WKBPER         R/W                 —                          cyclic wake nominal period time
                                                   0*                         tper(cyclicwk) = 16 ms
                                                   1                          tper(cyclicwk) = 64 ms
 3              MPOINV         R/W                 —                          inverted HVMPO
                                                   0*                         HVMPO not inverted
                                                   1                          HVMPO inverted
TJA1128                                  All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                        15 / 39


NXP Semiconductors
                                                                                                                              TJA1128
                                                                                                                    LIN mini system basis chip
 Bit            Symbol        Access               Value                      Description
 2 to 0         MPOMOD        R/W                  —                          HVMPO operation mode
                                                   000*                       disabled
                                                   001                        GPI controlled output
                                                   010                        bias control output for cyclic wake-up
                                                   011                        LIMP home output
                                                   100                        state controlled output: NORMAL
                                                   101                        state controlled output: NORMAL + STANDBY + PORT
                                                   110                        state controlled output: NORMAL + STANDBY+ PORT +
                                                                              GOTOSLP
                                                   111                        state controlled output: SLEEP
                6.3.4 Nonvolatile SBC configuration
                       The TJA1128 has multiple time programmable (MTP) nonvolatile memory (NVM) cells
                       to support programming of default device configuration. The MTPNVM address range is
                       from 10h to 15h. For details. See Section 6.3.3 "SBC configuration register".
               6.3.4.1 Programming of MTPNVM
                       NXP delivers the TJA1128 in the CONFIG mode as initial mode, also referred to as the
                       factory preset configuration. The CONFIG mode is described in Section 6.2.9 "CONFIG
                       mode".
                       If the TJA1128 has been programmed previously, the factory presets may need to be
                       restored before reprogramming can begin. See Section 6.3.4.2 "Restoring factory preset
                       values". When the factory presets have been restored successfully, a system reset is
                       generated automatically and TJA1128 switches back to CONFIG mode.
                       Programming of the SBC configuration register listed in Section 6.3.3 "SBC configuration
                       register" is performed in two steps. First, the required SBC configuration values are
                       written to registers. In a second step, the programming is confirmed by writing the correct
                       CRC value to register MTPNV CRC. See Table 13. The MTPNVM will be programmed
                       with the SBC configuration values, provided these configuration values in conjunction
                       with the initial CRC value (see Table 2) matches with the correct CRC value. If the CRC
                       value is not correct, programming is aborted. After a successful MTPNVM programming
                       a system reset of the TJA1128 is generated to indicate that the MTPNVM has been
                       programmed successfully.
                       During MTPNVM programming the supply voltage must continue in the battery
                       supply voltage operating range. MTPNVM programming shall not be done at cold
                       or hot temperature conditions (see Tvj when programming the MTPNVM). MTPNVM
                       programming time takes up to tprog(MTPNV).
                       The MTPNV status register contains the MTPNVM write counter value WRCNTS,
                       the error status bit NVERR and the MTPNVM programming status bit NVMPS. The
                       WRCNTS value is increased with each MTPNVM program cycle until 3Fh is reached (no
                       overflow). Note the purpose of this counter is to provide information and not to prevent
                       reprogramming if the maximum limit is reached. The error status bit NVERR indicates
                       whether a MTPNVM fault was detected. Table 12 lists the MTPNV status register.
TJA1128                                  All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                        16 / 39


NXP Semiconductors
                                                                                                                                       TJA1128
                                                                                                                            LIN mini system basis chip
Table 12. MTPNV status (address 31h)
 Bit               Symbol             Access              Value                      Description
 7                 NVMPS              R                   —                          nonvolatile memory programming status
                                                          0                          MTPNVM cannot be overwritten
                                                          1                          MTPNVM write access enabled
 6                 NVERR              R                   —                          error status
                                                          0                          error detected
                                                          1                          no error
 5 to 0            WRCNTS             R                   —                          write counter status
                                                                      [1]
                                                          xxxxxx                     Number of MTPNVM write accesses
[1]   Value depends on number of MTPNVM program cycles. Initial value is 00h.
                             The cyclic redundancy check value stored in the MTPNV CRC register (see Table 13) is
                             calculated using the data written to SBC configuration registers from Section 6.3.3 "SBC
                             configuration register" (address 10h to 15h) and adding at the end two bytes: 1st byte
                             with 00h and 2nd byte with 01h. All reserved bits shall be interpreted as 0 during CRC
                             calculation.
Table 13. MTPNV CRC (address 30h)
 Bit               Symbol             Access              Value                      Description
 7 to 0            CRC                R/W                 —                          cyclic redundancy check
                                                          —                          CRC value
                             The CRC value is sequentially calculated using the data in the SBC configuration
                             registers in an incremental address order and the modulo-2 division with the generator
                             polynomial: X8 + X5 + X3 +X2 + X + 1. The result of this operation must be bitwise
                             inverted.
                             The following parameters can be used to calculate the CRC value (e.g., via the
                             AUTOSAR method):
                             Table 14. Parameter for CRC coding
                              Parameter                                                                       Value
                              CRC value                                                                       8 bits
                              Polynomial                                                                      2Fh
                              Initial CRC value                                                               depends on TJA1128 variant; see Table 2
                              Input data reflected                                                            no
                              Result data reflected                                                           no
                              XOR value                                                                       FFh
TJA1128                                         All information provided in this document is subject to legal disclaimers.             © NXP B.V. 2018. All rights reserved.
Product data sheet                                              Rev. 1 — 29 March 2018
                                                                                                                                                                 17 / 39


NXP Semiconductors
                                                                                                                             TJA1128
                                                                                                                   LIN mini system basis chip
                       Alternatively, the following algorithm can be used:
                         data = 0 // unsigned byte
                         crc = initial_CRC // depends on TJA1128 variant
                         sbc_register(0) = system_register_content
                         sbc_register(1) = wake_register_content
                         sbc_register(2) = ldo_register_content
                         sbc_register(3) = lin_register_content
                         sbc_register(4) = watchdog_register_content
                         sbc_register(5) = hvmpo_register_content
                         sbc_register(6) = 0 // additional fixed value to be used for
                           calculation
                         sbc_register(7) = 1 // additional fixed value to be used for
                           calculation
                         for i = 0 to 7
                            data = sbc_register(i) EXOR crc
                            for j = 0 to 7
                               if data ≥ 128
                                  data = data * 2 // shift left by 1
                                  data = data EXOR 0x2F
                               else
                                  data = data * 2 // shift left by 1
                               next jcrc = data
                         next i
                         crc = crc EXOR 0xFF
               6.3.4.2 Restoring factory preset values
                       Factory preset values are restored, if the following conditions apply continuously for at
                       least td(MTPNV)rst during battery power-up:
                       • VBAT > Vth(config)min
                       • pin RSTN is held LOW
                       • LIN is held dominant
                       After the factory preset values have been restored and LIN is recessive again, the
                       TJA1128 performs a system reset and enters the CONFIG mode.
                       During factory restore the supply voltage must continue in the battery supply voltage
                       operating range. The restoring takes up to tprog(MTPNV).
                       Note that the write counter, WRCNTS, in the register MTPNV status is incremented every
                       time the factory presets are restored.
                   6.4 Watchdog
                       The TJA1128 contains a watchdog that supports two operating modes: window and
                       timeout. In window mode, a watchdog trigger event within a defined watchdog window
                       triggers and resets the watchdog timer. In timeout mode, the watchdog runs continuously
                       and can be triggered and reset at any time within the watchdog period by a watchdog
                       trigger. The watchdog mode bits WDMOD are listed in the watchdog register. See
                       Table 10.
                       In addition, the TJA1128 provides a watchdog autonomous mode. In this mode, the
                       watchdog switches off after a transition from NORMAL mode to either STANDBY mode
                       or GOTOSLP mode. The watchdog is switched on again after a wake-up event or a
TJA1128                                 All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                      Rev. 1 — 29 March 2018
                                                                                                                                                       18 / 39


NXP Semiconductors
                                                                                                                               TJA1128
                                                                                                                     LIN mini system basis chip
                        transition to NORMAL mode. The watchdog autonomous bit WDAUTO is listed in the
                        watchdog register, See Table 10.
                        Four watchdog periods are supported, from 16 ms to 128 ms. The watchdog period
                        is programmed via bits WDPER in the watchdog register. See Table 10. The selected
                        period is valid for both window and timeout modes.
                        Independent of the watchdog setting the watchdog start-up behavior is always identical.
                        For the first trigger the watchdog mode is timeout mode with the maximum watchdog
                        nominal period. Afterwards the watchdog mode and period is according to the watchdog
                        setting.
                        A watchdog trigger event resets the watchdog timer. A watchdog trigger event is a LOW
                        pulse on the WWD pin for ttrig(d)low at least.
                        The TJA1128 supports also a watchdog software development mode. It is provided for
                        test and development purposes only and is not a dedicated SBC operating mode. The
                        TJA1128 can be in any functional operating mode with watchdog software development
                        mode enabled. This mode is enabled and disabled via bit WDSDM in the watchdog
                        register. See Table 10. In the watchdog software development mode, the watchdog can
                        be disabled or activated for test and software debugging purposes. During the transition
                        from RESET to STANDBY the input level on the WWD pin is checked; with HIGH-level
                        the watchdog is enabled and with LOW-level the watchdog is disabled.
                   6.5 System reset
                        When a system reset occurs, the SBC switches to RESET mode and initiates a process
                        that generates a low-level pulse on pin RSTN. The TJA1128 can distinguish up to 10
                        different reset sources, as detailed in Table 15.
Table 15. Reset sources
 Reset sources                 Description
 power-on                      mode transition from OFF to RESET when VBAT > Vth(det)pon
 LIN wake                      mode transition from SLEEP to RESET after LIN wake-up
 WAKE1 wake                    mode transition from SLEEP to RESET after WAKE1 wake-up
 WAKE2 wake                    mode transition from SLEEP to RESET after WAKE2 wake-up
 device configured             mode transition from CONFIG to RESET after device configuration
 watchdog overflow             watchdog timer overflow in timeout mode or window mode
 watchdog trigger fault        watchdog triggered too early in window mode
 RSTN LOW                      RSTN pulled LOW externally
 VCC undervoltage              VCC undervoltage detection when VO(VCC) < Vuvd(VCC)
 overtemperature               overtemperature detection when Tvj > Tth(act)otp
 factory restore               factory preset values are restored
                 6.5.1 Characteristics of pin RSTN
                        Pin RSTN is a bidirectional open-drain low side driver with integrated pull-up resistor, as
                        shown in Figure 1. With this configuration, the SBC can detect the pin being pulled down
                        externally, e.g., by the microcontroller. The input reset pulse width must be at least tw(rst)
                        to guarantee that external reset events are detected correctly.
TJA1128                                   All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                         19 / 39


NXP Semiconductors
                                                                                                                             TJA1128
                                                                                                                   LIN mini system basis chip
                6.5.2 Selecting the output reset pulse time width
                       The duration of the output reset pulse can be configured in the CONFIG mode via bit
                       RSTTIM in the System register. See Table 6.
                   6.6 Temperature protection
                       The temperature of the TJA1128 is monitored, except in SLEEP and OFF modes.
                       The SBC switches to OVERTEMP mode if the global chip temperature exceeds the
                       overtemperature protection activation threshold, Tth(act)otp. In Section 6.2.8 "OVERTEMP
                       mode" the OVERTEMP mode is described.
                       When the global chip temperature drops below the overtemperature protection release
                       threshold, Tth(rel)otp, the SBC switches to STANDBY mode via RESET mode.
                   6.7 Power supplies
                6.7.1 Battery supply voltage (pin BAT)
                       The internal circuitry is supplied from the battery via pin BAT. The device must be
                       protected against negative supply voltages, e.g., by using an external series diode.
                       The TJA1128 starts up when the battery voltage exceeds the power-on detection
                       threshold, Vth(det)pon. If VBAT drops below the power-off detection threshold, Vth(det)poff, the
                       SBC switches to OFF mode. In Section 6.2.7 "OFF mode" the OFF mode is described.
                6.7.2 Low-dropout voltage regulator (pin VCC)
                       The TJA1128 provides a 5 V or 3.3 V supply (VCC), depending on the variant. Pin VCC
                       can deliver up to 85 mA load current. It is designed to supply the microcontroller and its
                       peripherals.
                       LDO supply current depends on VCC load current. As VCC load current increases, LDO
                       supply current increases. For a battery supply voltage on pin BAT of 16 V and a VCC
                       load current of 70 mA, the typical LDO supply current increases by 0.8 mA.
                       The output voltage on VCC is monitored. A system reset is generated, if the voltage on
                       VCC drops below the VCC undervoltage detection threshold, Vuvd(VCC), provided VCC
                       undervoltage detection is enabled (DISVCCUV = 0; see LDO register in Table 8).
                   6.8 LIN transceiver
                       The LIN transceiver is the interface between the LIN master/slave protocol controller
                       and the physical bus in a LIN network. According to the Open System Interconnect
                       (OSI) model, this interface makes up the LIN physical layer. The LIN transceiver is
                       optimized for, but not limited to, automotive applications with excellent ElectroMagnetic
                       Compatibility (EMC) performance.
                       The LIN transceiver can be disabled (via bit DISLIN; see LIN register in Table 9) to
                       support applications where a LIN transceiver is not used.
TJA1128                                 All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                      Rev. 1 — 29 March 2018
                                                                                                                                                       20 / 39


NXP Semiconductors
                                                                                                                             TJA1128
                                                                                                                   LIN mini system basis chip
                6.8.1 Remote wake-up via the LIN bus
                      The TJA1128 detects a remote wake-up via the LIN bus in GOTOSLP, PORT,
                      RESET, STANDBY and SLEEP mode, provided remote LIN bus wake-up is enabled
                      (BUSWKE = 1; see Wake register in Table 7.
                      A falling edge on pin LIN, followed by a LOW level maintained for twake(dom)LIN, followed
                      by a rising edge on pin LIN, triggers a remote wake-up. See Figure 8 and Figure 9. Note
                      that the time period twake(dom)LIN is measured either in NORMAL mode while TXD is
                      HIGH, or in GOTOSLP, PORT, RESET, STANDBY and SLEEP mode irrespective of the
                      status of pin TXD.
                                                             LIN recessive
                                                                                                                         VBUSrec
                           VLIN
                                       VBUSdom                  twake(dom)LIN
                                      LIN dominant
                         ground
                                                                             SLEEP                                    RESET           STANDBY
                          mode
                           RXD                                                LOW                                      HIGH               LOW
                                                                                                                                            aaa-029692
                       Figure 8. Principle of remote wake-up via LIN bus during SLEEP mode
                      The remote LIN bus wake-up request is communicated to the microcontroller in
                      STANDBY (see Section 6.2.2 "STANDBY mode") and GOTOSLP (see Section 6.2.4
                      "GOTOSLP mode") mode by a continuous LOW level on pin RXD.
                                                             LIN recessive
                                                                                                                         VBUSrec
                           VLIN
                                       VBUSdom                  twake(dom)LIN
                                      LIN dominant
                         ground
                                                                   GOTOSLP/STANDBY                                        GOTOSLP/STANDBY
                          mode
                           RXD                                                HIGH                                               LOW
                                                                                                                                            aaa-029693
                       Figure 9. Principle of remote wake-up via LIN bus during GOTOSLP and STANDBY mode
                6.8.2 Initial TXD dominant check
                      An initial TXD dominant check prevents the bus line being driven to a permanent
                      dominant state (blocking all network communications) if pin TXD is forced permanently
                      LOW by a hardware and/or software application failure. The TXD input level is checked
                      after a transition to NORMAL mode. If TXD is LOW, the transmit path remains disabled
                      and is only enabled when TXD goes HIGH.
TJA1128                                 All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                      Rev. 1 — 29 March 2018
                                                                                                                                                       21 / 39


NXP Semiconductors
                                                                                                                               TJA1128
                                                                                                                     LIN mini system basis chip
                6.8.3 TXD dominant time-out
                       A TXD dominant time-out timer circuit prevents the bus lines from being driven to a
                       permanent dominant state (blocking all network communications) if pin TXD is forced
                       permanently LOW by a hardware and/or software application failure. This timer is started
                       every time pin TXD goes LOW. If the LOW state on pin TXD persists for longer than the
                       TXD dominant time-out time (tto(dom)TXD), the transmitter is disabled, releasing the bus
                       line to recessive state. The TXD dominant time-out timer is reset when pin TXD goes
                       HIGH.
                       This function can be disabled (via bit DISTXTO; see LIN register in Table 9) to allow the
                       TJA1128 to be used in applications requiring the transmission of long LOW sequences.
                6.8.4 LIN high-speed mode
                       The TJA1128 provides two LIN high-speed mode configuration options (via bits
                       HSMODE). See LIN register in Table 9.
                       • A temporary LIN high-speed mode. After the SBC configuration with bits HSMODE =
                          01 the LIN high speed mode is enabled until next BAT power-on event.
                       • A permanent LIN high-speed mode. With bits HSMODE = 10 the LIN transmitter will
                          always transmit in LIN high-speed mode.
                       In the LIN high-speed mode, the curve shaping of the LIN output signal is disabled,
                       i.e., the LIN output driver switches fast on and off to support higher baud rates than 20
                       kBd. The actual maximum baud rate depends on the LIN bus load: Total LIN pull-up
                       resistance and total LIN capacitance.
                   6.9 Local wake-up inputs
                       The TJA1128 provides 1 or 2 local wake-up pins (WAKE1 and WAKE2). The edge
                       sensitivity (falling, rising or both) of the wake-up pins can be configured independently
                       via the LC1WKE and LC2WKE bits in the Wake register. See Table 7. These bits can
                       also be used to disable wake-up via the wake-up pins. When wake-up is enabled, a valid
                       wake-up event on either of these pins will be detected in RESET, STANDBY, PORT,
                       GOTOSLP and SLEEP modes.
                       WAKE1 and WAKE2 can be used in two sampling modes: Continuous or cyclic. With
                       cyclic sampling the wake pins are synchronized with the HVMPO output. Further
                       details about the cyclic sampled wake-up detection option can be found in section
                       Section 6.10.2 "Bias control output for cyclic wake-up". In Figure 13, a typical circuit for
                       cyclic sampling with WAKE1 and WAKE2 is shown.
                6.10 High-voltage multipurpose output
                       The high-voltage multipurpose output (HVMPO) pin is a battery-robust, active-LOW,
                       open-drain output. It can be configured via the HVMPO register for multi purposes. See
                       Table 11.
               6.10.1 GPI controlled output
                       The HVMPO can be controlled via GPI by setting the HVMPO operation mode to
                       MPOMOD = 001. The GPI input has an internal pull-up and with bit MPOINV = 0 the GPI
TJA1128                                   All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                         22 / 39


NXP Semiconductors
                                                                                                                              TJA1128
                                                                                                                    LIN mini system basis chip
                      is an active-LOW input, i.e., if GPI is LOW then HVMPO is driving actively LOW. The
                      HVMPO level is inverted if MPOINV = 1.
               6.10.2 Bias control output for cyclic wake-up
                      The HVMPO can be configured as bias control output for cyclic wake-up sampling. The
                      cyclic sampling is enabled by setting the HVMPO operation mode in the HVMPO register
                      to MPOMOD = 010. Figure 13 shows a typical application circuit with the HVMPO for the
                      cyclic sampling bias control.
                      Two cyclic wake nominal period times tper(cyclicwk) are supported. It can be selected via
                      the WKBPER bit in the HVMPO register.
                      The cyclic wake nominal setting time tset(cyclicwk) is available in two configurations. The
                      setting time can be selected via the WKBSET bit in the HVMPO register. The cyclic bias
                      timing is illustrated in Figure 10.
                       HVMPO    OFF          ON                                                        OFF                     ON                   OFF
                       WAKEx
                                       tset(cyclicwk)
                                                                                        tper(cyclicwk)
                       External
                                                                  OPEN                                                   CLOSE
                        Switch
                                                                                                                                                       time
                                                                                                                                                      aaa-029694
                        Figure 10. Cyclic bias timing with HVMPO
               6.10.3 LIMP home output
                      This HVMPO function is used to enable so-called limp home hardware in the event of
                      a serious ECU failure. Detectable failure conditions are VCC undervoltage and LOW-
                      level on RSTN input while system controller is in the STANDBY, PORT, GOTOSLP or
                      NORMAL mode and watchdog failure and SBC overtemperature.
                      After limp home event detection, the internal limp home flag is set. If the limp-home
                      flag is set, HVMPO is held LOW while the TJA1128 is in RESET, STANDBY, PORT,
                      GOTOSLP, SLEEP, OVERLOAD or NORMAL mode. The internal limp home flag can be
                      read and cleared in PORT mode. See Section 6.2.3 "PORT mode". In OFF mode, the
                      flag is also cleared.
                      The LIMP home output function of the HVMPO can be configured by setting the HVMPO
                      operation mode to MPOMOD = 011.
               6.10.4 State controlled output
                      As state controlled output the HVMPO drives active LOW as a function of the current
                      TJA1128 mode. Four state controlled output functions are available. It can be configured
                      with HVMPO operation modes MPOMOD = 1xx in the HVMPO register.
TJA1128                                  All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                       Rev. 1 — 29 March 2018
                                                                                                                                                        23 / 39


NXP Semiconductors
                                                                                                                                    TJA1128
                                                                                                                          LIN mini system basis chip
                 6.11 Test mode
                          The TJA1128 has a factory test mode. This test mode is not for customer use.
                          To avoid entering this test mode it should be prevented to apply more than 13 pulses on
                          pin TXD within the time window of 25 ms after BAT power-on detection, while pin RSTN
                          is LOW.
7       Limiting values
Table 16. Limiting values
In accordance with the Absolute Maximum Rating System (IEC 60134).
 Symbol       Parameter                 Conditions                                                                       Min      Max                    Unit
 VX           voltage on pins BAT,      —                                                                                –0.3     +43                    V
              HVMPO
              voltage on pins WAKE1,    —                                                                                –18      +43                    V
              WAKE2
              voltage on pin LIN        with respect to GND and BAT                                                      –43      +43                    V
              voltage on pin VCC        —                                                                                –0.3     +6                     V
              Voltage on logic pins     —                                                                                –0.3     VVCC+0.3               V
              TXD, RXD, RSTN, EN,
              STBN, WWD, GPI
 IHVMPO       input current on pin      —                                                                                —        20                     mA
              HVMPO
 Vtrt         transient voltage on pin  with inverse-polarity protection diode and                                       –150     +100                   V
              BAT                       22 µF capacitor to ground
              transient voltage on      with 2.2 kΩ series resistor                                                      –150     +100                   V
              WAKE1, WAKE2
              transient voltage on LIN  coupling via 1 nF capacitor                                                      –150     +100                   V
                                                                                                                     [1]
 VESD         electrostatic discharge   IEC 61000-4-2                                                                    —        —                      —
              voltage
                                        on pin BAT with capacitor                                                        –6       +6                     kV
                                        on pins WAKE1, WAKE2 with 47 pF                                                  –6       +6                     kV
                                        capacitor and 2.2 kΩ series resistor
                                        on pin LIN                                                                       –8       +8                     kV
                                                                                                                     [2]
                                        Human Body Model                                                                 —        —                      —
                                        on pins BAT, WAKE1, WAKE2, HVMPO                                                 –4       +4                     kV
                                        on pin LIN                                                                       –8       +8                     kV
                                        on any other pin                                                                 –2       +2                     kV
                                                                                                                     [3]
                                        Charge Device Model                                                              —        —                      —
                                        on any pin                                                                       –500     +500                   V
 Tvj          virtual junction          —                                                                                –40      +150                   °C
              temperature
                                        when programming the MTPNVM                                                      0        +85                    °C
 Tstg         storage temperature       —                                                                                –55      +150                   °C
TJA1128                                   All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                              24 / 39


NXP Semiconductors
                                                                                                                                                   TJA1128
                                                                                                                                      LIN mini system basis chip
[1]   Equivalent to discharging a 150 pF capacitor through a 330 Ω resistor.
[2]   Equivalent to discharging a 100 pF capacitor through a 1.5 kΩ resistor. According AEC-Q100-002 Rev-D.
[3]   According to AEC-Q100-011 Rev-C1. The classification level is C4B.
8       Thermal characteristics
Table 17. Thermal characteristics
 Symbol          Parameter                                                                    Condition                                       Typ               Unit
                                                                                                                                          [1]
 Rth(vj-a)       Thermal resistance from virtual junction to                                  Dual-layer board                                76                K/W
                 ambient                                                                                                                  [1]
                                                                                              Four-layer board                                40                K/W
 Rth(vj-c)       Thermal resistance from virtual junction to case                                                                             5                 K/W
[1]   According to JEDEC JESD51-2, JESD51-3 and JESD51-5 at natural convection on 1s board with thermal via array under the exposed pad connected to
      the second copper layer.
9       Static characteristics
Table 18. Static characteristics
VBAT = 3.0 V to 28 V; Tvj = –40 °C to +150 °C; RL(LIN-BAT) = 500 Ω; all voltages are defined with respect to ground; positive
                                                                                                                                                         [1]
currents flow into the IC; typical values are given at VBAT = 12 V and Tvj = 25 °C; unless otherwise specified.
 Symbol             Parameter              Conditions                                                                                 Min      Typ         Max              Unit
 Supply; pin BAT
 IBAT               battery supply         SLEEP mode; BUSWKE = 0;                                                                    —        14          22               µA
                    current                VBAT = 5 V to 14 V;
                                           VLIN = VWAKE1 = VWAKE2 = VBAT;
                                           VTXD = VWWD = VGPI = VEN = VSTBN = 0 V;
                                           IVCC = 0 µA; Tvj = –40 °C to +50 °C
                                           STANDBY mode; BUSWKE = 0;                                                                  —        22          32               µA
                                           WDMOD = 0h; VBAT = 10.8 V to 14 V;
                                           VLIN = VWAKE1 = VWAKE2 = VBAT;
                                           VTXD = VWWD = VGPI = VVCC;
                                           VEN = VSTBN = 0 V;
                                           IVCC = 0 µA; Tvj = –40 °C to +50 °C
                                                                                                                                  [2]
                                           additional current with LIN wake detection enabled;                                        —        —           2                µA
                                           BUSWKE = 1;
                                           VBAT = 5 V to 14 V; VLIN = VBAT;
                                           Tvj = –40 °C to +50 °C
                                                                                                                                  [2]
                                           additional current with active watchdog; VBAT = 5 V to                                     —        —           2                µA
                                           14 V;
                                           Tvj = –40 °C to +50 °C
                                                                                                                                  [2]
                                           additional current with WAKE1 input pulled down; VBAT =                                    —        —           2                µA
                                           5 V to 14 V;
                                           VWAKE1 = 0 V; Tvj = –40 °C to +50 °C
                                                                                                                                  [2]
                                           additional current with WAKE2 input pulled down; VBAT =                                    —        —           2                µA
                                           5 V to 14 V;
                                           VWAKE2 = 0 V; Tvj = –40 °C to +50 °C
                                                                                                                                  [2]
                                           NORMAL mode; bus recessive;                                                                —        1.2         1.7              mA
                                           VBAT = 10.8 V to 28 V;
                                           VLIN = VWAKE1 = VWAKE2 = VBAT;
                                           VTXD = VWWD = VGPI = VEN = VVCC;
                                           VSTBN = 0 V; IVCC = 0 µA;
                                           Tvj = –40 °C to +150 °C
TJA1128                                                All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2018. All rights reserved.
Product data sheet                                                     Rev. 1 — 29 March 2018
                                                                                                                                                                             25 / 39


NXP Semiconductors
                                                                                                                                          TJA1128
                                                                                                                                LIN mini system basis chip
 Symbol          Parameter            Conditions                                                                                Min   Typ         Max              Unit
                                                                                                                            [2]
                                      NORMAL mode; bus dominant;                                                                —     3.5         4.2              mA
                                      VBAT = 14 V;
                                      VWAKE1 = VWAKE2 = VBAT;
                                      VWWD = VGPI = VEN = VVCC;
                                      VTXD = VSTBN = 0 V; IVCC = 0 µA;
                                      Tvj = –40 °C to +150 °C
                                                                                                                            [2]
                                      additional current at low battery;                                                        —     170         369              µA
                                      VBAT = 3.8 V to 10.8 V; Tvj = –40 °C to +150 °C
 Vth(det)pon     power-on             VBAT rising                                                                               4.0   —           4.8              V
                 detection threshold
 Vth(det)poff    power-off            VBAT falling                                                                              3.0   —           3.3              V
                 detection threshold
 Vuvd(LIN)(WAKE) LIN and WAKE         on pin BAT with VBAT falling                                                              4.0   —           4.5              V
                 undervoltage
                 detection voltage
 Vuvr(LIN)(WAKE) LIN and WAKE         on pin BAT with VBAT rising                                                               4.5   —           5.0              V
                 undervoltage
                 recovery voltage
 Vth(config)min  minimum              on pin BAT                                                                                10.8  —           —                V
                 configuration
                 threshold
 Voltage regulator; pin VCC
 VO              output voltage       VO(VCC)nom = 3.3 V; VBAT = 3.8 V to 28 V; IVCC = –70 mA                                   3.234 3.3         3.366            V
                                      to 0.25 mA
                                      VO(VCC)nom = 3.3 V; VBAT = 4.5 V to 28 V; IVCC = –85 mA                                   3.234 3.3         3.366            V
                                      to 0.25 mA
                                      VO(VCC)nom = 3.3 V; VBAT = 3.8 V to 28 V; IVCC < 0.25 mA                                  3.201 3.3         3.399            V
                                      VO(VCC)nom = 5.0 V; VBAT = 5.5 V to 28 V; IVCC = –70 mA                                   4.9   5.0         5.1              V
                                      to 0.25 mA
                                      VO(VCC)nom = 5.0 V; VBAT = 6.0 V to 28 V; IVCC = –85 mA                                   4.9   5.0         5.1              V
                                      to 0.25 mA
                                      VO(VCC)nom = 5.0 V; VBAT = 5.5 V to 28 V; IVCC < 0.25 mA                                  4.85  5.0         5.15             V
 RON(BAT–VCC)    ON resistance        VO(VCC)nom = 3.3 V; VBAT = 3.0 V to 3.8 V                                                 —     —           9                Ω
                 between pin BAT
                                      VO(VCC)nom = 5.0 V; VBAT = 3.0 V to 5.5 V                                                 —     —           9                Ω
                 and pin VCC
 Vuvd(VCC)       VCC undervoltage VO(VCC)nom = 3.3 V                                                                            2.75  —           3.00             V
                 detection voltage
                                      VO(VCC)nom = 5.0 V                                                                        4.2   —           4.6              V
 Vuvr(VCC)       VCC undervoltage VO(VCC)nom = 3.3 V                                                                            2.875 —           3.135            V
                 recovery voltage
                                      VO(VCC)nom = 5.0 V                                                                        4.35  —           4.75             V
                                                                                                                            [2]
 IO(sc)          short-circuit output —                                                                                         –200  —           –85              mA
                 current
 CO(VCC)         VCC output           MLC capacitor                                                                             375   1000        —                nF
                 capacitance
 LIN bus line; pin LIN
 IBUS_LIM        current limitation   NORMAL mode; LIN = 00h;                                                                   40    —           200              mA
                 for driver dominant VBAT = VLIN = 18 V; VTXD = 0 V
                 state
TJA1128                                          All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2018. All rights reserved.
Product data sheet                                               Rev. 1 — 29 March 2018
                                                                                                                                                                    26 / 39


NXP Semiconductors
                                                                                                                                            TJA1128
                                                                                                                                LIN mini system basis chip
 Symbol           Parameter           Conditions                                                                                Min     Typ         Max              Unit
 IBUS_PAS_dom     Receiver dominant VBAT = 12 V; VLIN = 0 V; LIN driver off                                                     –1      —           —                mA
                  input leakage
                                      VBAT = 28 V; VLIN = 0 V; LIN driver off                                                   –1.5    —           —                mA
                  current including
                  LIN slave pull-up
                  resistor
 IBUS_PAS_rec     Receiver recessive 5 V < VBAT < 18 V; 5 V < VLIN < 18 V; VLIN ≥ VBAT; LIN                                     —       —           20               µA
                  input leakage       driver off
                  current
                                      18 V < VBAT < 28 V; 18 V < VLIN < 28 V; VLIN ≥ VBAT; LIN                                  —       —           30               µA
                                      driver off
                                                                                                                            [2]
 IBUS_NO_GND      loss-of-ground      VBAT = 12 V; VLIN = 0 V to 18 V;                                                          –1000   —           +10              µA
                  current             VGND = VBAT
 IBUS_NO_BAT      loss-of-battery     VBAT = 0 V; VLIN = 0 V to 18 V                                                            —       —           30               µA
                  current
 VBUSdom          receiver dominant   VBAT = 5 V to 28 V                                                                        —       —           0.4 ×            V
                  state                                                                                                                             VBAT
 VBUSrec          receiver recessive  VBAT = 5 V to 28 V                                                                        0.6 ×   —           —                V
                  state                                                                                                         VBAT
                                                                                                                            [3]
 VBUS_CNT         receiver center     VBAT = 5 V to 28 V;                                                                       0.475 × 0.5 ×       0.525 × V
                  voltage             VBUS_CNT = (Vth_rec + Vth_dom) / 2                                                        VBAT    VBAT        VBAT
                                                                                                                            [3]
 VHYS             receiver hysteresis VBAT = 5 V to 28 V;                                                                       —       —           0.175 × V
                  voltage             VHYS = (Vth_rec – Vth_dom)                                                                                    VBAT
 VSerDiode        voltage drop at the internal pull-up path with RSLAVE;                                                        0.4     0.7         1.0              V
                  serial diode        ISerDiode = 0.9 mA
 VO(dom)          dominant output     NORMAL mode; LIN = 00h;                                                                   —       —           1.4              V
                  voltage             VBAT = 7.0 V; VTXD = 0 V
                                      NORMAL mode; LIN = 00h; VBAT = 18.0 V; VTXD = 0 V                                         —       —           3.6              V
 RSLAVE           slave resistance    —                                                                                         20      30          60               kΩ
                                                                                                                            [2]
 CLIN             capacitance on pin with respect to ground                                                                     —       —           20               pF
                  LIN
 Digital input; pins EN (SCK), GPI, STBN (SCSN), TXD (SDI), WWD
 Vth(sw)          switching           —                                                                                         0.25 ×  —           0.75 ×           V
                  threshold voltage                                                                                             VVCC                VVCC
 Rpu              pull-up resistance  —                                                                                         15      —           50               kΩ
                  on pin GPI, TXD,
                  WWD
 Rpd              pull-down           —                                                                                         15      —           50               kΩ
                  resistance on pin
                  EN, STBN
 Digital output; pin RXD (SDO)
 VOL              LOW-level output    IOL = 2 mA                                                                                —       —           0.4              V
                  voltage
 Rpu              pull-up resistance  —                                                                                         8       10          12               kΩ
 Reset input/output; pin RSTN
 Vth(sw)          switching           —                                                                                         0.25 ×  —           0.75 ×           V
                  threshold voltage                                                                                             VVCC                VVCC
 VOL              LOW-level output    VVCC = 1.0 V to 5.5 V; external pull-up resistor with ≥                                   —       —           0.2 ×            V
                  voltage             3 kΩ to VCC                                                                                                   VVCC
 Rpu              pull-up resistance  —                                                                                         15      —           50               kΩ
TJA1128                                          All information provided in this document is subject to legal disclaimers.                 © NXP B.V. 2018. All rights reserved.
Product data sheet                                               Rev. 1 — 29 March 2018
                                                                                                                                                                      27 / 39


NXP Semiconductors
                                                                                                                                                   TJA1128
                                                                                                                                        LIN mini system basis chip
 Symbol               Parameter               Conditions                                                                                Min    Typ         Max              Unit
 Local wake input; pins WAKE1, WAKE2
 Vth(sw)              switching               —                                                                                         0.25 × 0.5 ×       0.75 ×           V
                      threshold voltage                                                                                                 VBAT   VBAT        VBAT
 Vhys(i)              input hysteresis        —                                                                                         0.1 ×  —           —                V
                      voltage                                                                                                           VBAT
 Ii                   Input current           LCxWKE > 0h; VBAT = 12 V;                                                                 –1     —           +1               µA
                                              VWAKE = 0 V to VBAT
 High-voltage multipurpose output; pin HVMPO
 VOL                  LOW-level output        HVMPO on; IHVMPO = 0.8 mA                                                                 —      —           0.4              V
                      voltage
 ILO                  output leakage          HVMPO off; VBAT = 12 V;                                                                   —      —           1                µA
                      current                 VHVMPO = 0 V to 28 V
 Temperature protection
                                                                                                                                    [2]
 Tth(act)otp          overtemperature         —                                                                                         155    165         175              °C
                      protection
                      activation
                      threshold
                      temperature
                                                                                                                                    [2]
 Tth(rel)otp          overtemperature         —                                                                                         130    140         150              °C
                      protection
                      release threshold
                      temperature
[1]    All parameters are guaranteed over the virtual junction temperature range by design. Factory testing uses correlated test conditions to cover the specified
       temperature and power supply voltage ranges.
[2]    Not tested in production; guaranteed by design.
[3]    Vth_dom: receiver threshold of the recessive to dominant LIN bus edge. Vth_rec: receiver threshold of the dominant to recessive LIN bus edge.
TJA1128                                                  All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2018. All rights reserved.
Product data sheet                                                       Rev. 1 — 29 March 2018
                                                                                                                                                                             28 / 39


NXP Semiconductors
                                                                                                                                           TJA1128
                                                                                                                                 LIN mini system basis chip
10 Dynamic characteristics
Table 19. Dynamic characteristics
VBAT = 3.0 V to 28 V; Tvj = –40 °C to +150 °C; RL(LIN-BAT) = 500 Ω; all voltages are defined with respect to ground; positive
                                                                                                                                                 [1]
currents flow into the IC; typical values are given at VBAT = 12 V and Tvj = 25 °C; unless otherwise specified.
 Symbol       Parameter              Conditions                                                                            Min      Typ       Max                 Unit
 Supply; pin BAT
 tstartup     start-up time          from OFF mode until CONFIG and                                                        —                  5.7                 ms
                                     STANDBY mode; RSTTIM = 0 ;
                                     CVCC = 1 µF
                                     from OFF mode until STANDBY mode;                                                     —        —         2.1                 ms
                                     RSTTIM = 1 ; CVCC = 1 µF
 Voltage regulator; pin VCC
 td(uvd)      undervoltage           NORMAL mode ; VVCC falling                                                            15       —         30                  µs
              detection delay
                                     STANDBY mode ; VVCC falling                                                           15       —         55                  µs
              time
 LIN transmitter; pins LIN, TXD
                                                                                                               [2] [3] [4]
 d1           duty cycle 1           Vth(rec)(max) = 0.744 x VBAT;                                                         0.396    —         —                   —
                                     Vth(dom)(max) = 0.581 x VBAT; tbit = 50 µs;
                                     VBAT = 7 V to 28 V
                                                                                                               [2] [3] [4]
                                     Vth(rec)(max) = 0.665 x VBAT;                                                         0.396    —         —                   —
                                     Vth(dom)(max) = 0.499 x VBAT;
                                     tbit = 50 µs; VBAT = 5 V to 7 V
                                                                                                               [2] [3] [5]
 d2           duty cycle 2           Vth(rec)(min) = 0.442 x VBAT;                                                         —        —         0.581               —
                                     Vth(dom)(min) = 0.284 x VBAT;
                                     tbit = 50 µs; VBAT = 7.6 V to 28 V
                                                                                                               [2] [3] [5]
                                     Vth(rec)(min) = 0.496 x VBAT;                                                         —        —         0.581               —
                                     Vth(dom)(min) = 0.361 x VBAT;
                                     tbit = 50 µs; VBAT = 5.6 V to 7.6 V
                                                                                                               [2] [3] [4]
 d3           duty cycle 3           Vth(rec)(max) = 0.778 x VBAT;                                                         0.417    —         —                   —
                                     Vth(dom)(max) = 0.616 x VBAT;
                                     tbit = 96 µs; VBAT = 7 V to 28 V
                                                                                                               [2] [3] [4]
                                     Vth(rec)(max) = 0.665 x VBAT;                                                         0.417    —         —                   —
                                     Vth(dom)(max) = 0.499 x VBAT;
                                     tbit = 96 µs; VBAT = 5 V to 7 V
                                                                                                               [2] [3] [5]
 d4           duty cycle 4           Vth(rec)(min) = 0.389 x VBAT;                                                         —        —         0.590               —
                                     Vth(dom)(min) = 0.251 x VBAT;
                                     tbit = 96 µs; VBAT = 7.6 V to 28 V
                                                                                                               [2] [3] [5]
                                     Vth(rec)(min) = 0.496 x VBAT;                                                         —        —         0.590               —
                                     Vth(dom)(min) = 0.361 x VBAT;
                                     tbit = 96 µs; VBAT = 5.6 V to 7.6 V
 tto(dom)TXD  TXD dominant           timer started at falling edge on TXDx                                                 6        —         8                   ms
              time-out
TJA1128                                        All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2018. All rights reserved.
Product data sheet                                             Rev. 1 — 29 March 2018
                                                                                                                                                                     29 / 39


NXP Semiconductors
                                                                                                                                        TJA1128
                                                                                                                              LIN mini system basis chip
 Symbol         Parameter           Conditions                                                                           Min     Typ       Max                 Unit
 LIN receiver; pins LIN, RXD
 trx_pd         receiver            rising and falling edge                                                              —       —         6                   µs
                propagation delay
 trx_sym        receiver            rising edge with respect to falling edge                                             –2      —         +2                  µs
                propagation delay
                symmetry
 twake(dom)LIN LIN dominant                                                                                              30      80        150                 µs
                wake-up time
 td(RXD)        RXD delay time      STANDBY mode or GOTOSLP mode                                                         —       —         10                  µs
 Mode transition; pins STBN, EN
 tdeglitch      deglitch time                                                                                            3.6     —         10                  µs
 tsu            set-up time         NORMAL mode and PORT mode                                                            30      —         —                   µs
                                    STANDBY mode                                                                         50      —         —                   µs
 th             hold time           NORMAL mode and PORT mode                                                            30      —         —                   µs
                                    STANDBY mode                                                                         50      —         —                   µs
 td(stb)        standby mode                                                                                             —       —         25                  µs
                delay time
 td(port)       port mode delay                                                                                          —       —         50                  µs
                time
 td(norm)       normal mode delay                                                                                        —       —         50                  µs
                time
 tinit(norm)    LIN initialization                                                                                       —       —         50                  µs
                time
 tto(gotoslp)   gotoslp mode time-                                                                                       0.9     —         1.1                 ms
                out
 td(conf)       config mode delay                                                                                        —       —         25                  µs
                time
 Local wake input; pins WAKE1, WAKE2
 twake          wake-up time                                                                                             45      —         95                  µs
 tinit(wake)    wake initialization after rising VBAT > Vuvr(LIN)(WAKE)                                                  —       —         80                  µs
                time
 td(WAKE-       WAKE to RXD         STANDBY mode or GOTOSLP mode;                                                        —       —         110                 µs
 RXDL)          LOW delay time      after wake-up event detection
 High-voltage multipurpose output; pin HVMPO
 tper(cyclicwk) cyclic wake period  WKBPER = 0                                                                           14.4    16        17.6                ms
                time
                                    WKBPER = 1                                                                           57.6    64        70.4                ms
 tset(cyclicwk) cyclic wake settle  WKBSET = 0                                                                           62      70        78                  µs
                time
                                    WKBSET = 1                                                                           120     134       149                 µs
 td(GPI-        GPI to HVMPO        MPOMOD = 1h                                                                          —       —         4                   µs
 HVMPO)         delay time
 td(limp-       limp to HVMPO       MPOMOD = 3h                                                                          —       —         60                  µs
 HVMPO)         delay time
TJA1128                                       All information provided in this document is subject to legal disclaimers.                © NXP B.V. 2018. All rights reserved.
Product data sheet                                            Rev. 1 — 29 March 2018
                                                                                                                                                                  30 / 39


NXP Semiconductors
                                                                                                                                     TJA1128
                                                                                                                           LIN mini system basis chip
 Symbol       Parameter            Conditions                                                                        Min      Typ       Max                 Unit
 PORT mode; pins TXD, RXD
 tinit(TXD)H  HIGH-level TXD       PORT mode                                                                         30       —         —                   µs
              initialization time
 tbit(TXD)    TXD bit time         PORT mode                                                                         30       —         —                   µs
 tpd(TXD-RXD) TXD to RXD           PORT mode                                                                         —        —         16                  µs
              propagation delay
              time
 tsym(TXD-    TXD to RXD           PORT mode                                                                         –2       —         +2                  µs
 RXD)         propagation delay
              symmetry time
 Serial peripheral interface timing; pins EN (SCK), STBN (SCSN), TXD (SDI), RXD (SDO)
 tcy(clk)     clock cycle time                                                                                       10       —         —                   µs
 tSPILEAD     SPI enable lead                                                                                        500      —         —                   ns
              time
 tSPILAG      SPI enable lag time                                                                                    500      —         —                   ns
 tclk(H)      clock HIGH time                                                                                        5        —         —                   µs
 tclk(L)      clock LOW time                                                                                         5        —         —                   µs
 tsu(D)       data input set-up                                                                                      500      —         —                   ns
              time
 th(D)        data input hold time                                                                                   500      —         —                   ns
 tv(Q)        data output valid                                                                                      —        —         1                   µs
              time
 tWH(S)       chip select pulse                                                                                      20                 —                   µs
              width HIGH
 td(SCKL-     delay time from                                                                                        500      —         —                   ns
 SCSNL)       SCK LOW to
              SCSN LOW
 Watchdog; pin WWD
 tdeglitch    deglitch time                                                                                          3.6      —         10                  µs
 ttrig(wd)low watchdog trigger                                                                                       60       —         —                   µs
              low time
 ttrig(wd)1   watchdog trigger                                                                                       0.45×    —         0.55×               ms
              time 1                                                                                                 WDPER              WDPER
 ttrig(wd)2   watchdog trigger                                                                                       0.9×     —         1.1×                ms
              time 2                                                                                                 WDPER              WDPER
 Reset; pin RSTN
 tw(rst)      reset pulse width    RSTTIM = 0                                                                        3.6      4         4.4                 ms
              time
                                   RSTTIM = 1                                                                        600      700       800                 µs
 td(MTPNV)rst reset MTPNVM         RESET mode                                                                        0.9      1         1.1                 s
              restore delay time
TJA1128                                   All information provided in this document is subject to legal disclaimers.                 © NXP B.V. 2018. All rights reserved.
Product data sheet                                        Rev. 1 — 29 March 2018
                                                                                                                                                               31 / 39


NXP Semiconductors
                                                                                                                                               TJA1128
                                                                                                                                     LIN mini system basis chip
 Symbol          Parameter                  Conditions                                                                           Min    Typ       Max                 Unit
 MTP nonvolatile memory
 tprog(MTPNV) MTPNVM                        propagation delay from CONFIG mode                                                   —      —         80                  ms
                 programming time           to RESET mode
[1]   Parameters not tested in production; guaranteed by design.
[2]   Bus load conditions: CLIN = 1 nF and RLIN = 1 kΩ; CLIN = 6.8 nF and RLIN = 660 Ω; CLIN = 10 nF and RLIN = 500 Ω
[3]   See timing diagram in Figure 11
[4]   Equation 1
[5]   Equation 2
                                  Figure 11. Timing diagram of LIN duty cycle
TJA1128                                               All information provided in this document is subject to legal disclaimers.               © NXP B.V. 2018. All rights reserved.
Product data sheet                                                    Rev. 1 — 29 March 2018
                                                                                                                                                                         32 / 39


NXP Semiconductors
                                                                                                                                          TJA1128
                                                                                                                            LIN mini system basis chip
                            SCSN
                          (STBN)
                                                      tSPILEAD             tcy(clk)                                          tSPILAG        tWH(S)
                           td(SCKL-SCSNL)                             tclk(H) tclk(L)
                              SCK
                                     X
                              (EN)
                                                                                         th(D)
                                                                                                                                  th(D)
                                                           tsu(D)
                               SDI
                                                X                           MSB                                          LSB                  X
                            (TXD)
                                                                                                               tv(Q)             tv(Q)
                             SDO)
                                                               X                 MSB                                            LSB                                X
                            (RXD)
                                                                                                                                                       time
                                                                                                                                                     aaa-029696
                      Figure 12. SPI timing diagram
11 Application information
                11.1 Typical application diagram
                                                                                                                                                          VECU
                                                                  VCC                                                   BAT
                                                                             8                                       11
                                                                 1 µF                                                           47 nF                             22 µF
                                   VDD                            TXD
                                                TX                          1                                           HVMPO
                                                                  RXD                                                14
                                                RX                          4
                                                                                          TJA1128                             e.g. PDTA144E
                                                                    EN
                               MICRO-         Px.x                          2
                                                               STBN
                          CONTROLLER          Px.y                          5
                                                                WWD                                                     WAKE1
                                              Px.z                          6                                        13
                                                                                                                        WAKE2
                                                               RSTN                                                  12
                                          RSTN                              3
                                                                   GPI                                                  LIN
                                                                            7                                        10
                                   VSS                                                            9
                                                                                                    GND
                                                                                                                                                                 LIN
                                                                                                                                                         220 pF
                                                                                                                                                      aaa-029697
                      Figure 13. Typical application diagram
                11.2 ESD robustness according to LIN EMC test specification
                     ESD robustness (IEC 61000-4-2) has been tested by an external test house according to
                     the LIN EMC test specification (part of Conformance Test Specification Package for LIN
                     2.1, October 10th, 2008). The test report is available on request.
TJA1128                                 All information provided in this document is subject to legal disclaimers.                        © NXP B.V. 2018. All rights reserved.
Product data sheet                                      Rev. 1 — 29 March 2018
                                                                                                                                                                    33 / 39


NXP Semiconductors
                                                                                                                         TJA1128
                                                                                                               LIN mini system basis chip
                     Table 20. ESD robustness (IEC 61000-4-2) according to LIN EMC test specification
                     Pin            Test configuration                                                         Value            Unit
                     LIN            No capacitor connected to LIN pin                                          ±10              kV
                                    220 pF capacitor connected to LIN pin                                      ±11              kV
                     BAT            series diode and 47 nF and 22 µF capacitors                                >|15|            kV
                                    connected to pin BAT
12 Packaging
                12.1 Package outline
                     Package dimensions are provided in package drawings. To find the most current
                     package outline drawing, go to www.nxp.com and perform a keyword search for the
                     drawing's document number.
                     Table 21. Package outline
                     Package                                       Package outline drawing number
                     14 pin HVSON                                  SOT1086-2
TJA1128                             All information provided in this document is subject to legal disclaimers.           © NXP B.V. 2018. All rights reserved.
Product data sheet                                  Rev. 1 — 29 March 2018
                                                                                                                                                   34 / 39


NXP Semiconductors
                                                                                                                                                  TJA1128
                                                                                                                                        LIN mini system basis chip
        HVSON14: plastic, thermal enhanced very thin small outline package; no leads;
        14 terminals; body 3 x 4.5 x 0.85 mm                                                                                                           SOT1086-2
                                X
                                                  D                                  B    A
                                                                                          E                    A
                                                                                                                      A1
                                                                                                                                                     c
                       terminal 1
                       index area
                                                                                                                                  detail X
                                                  e1
                       terminal 1                                                                                                           C
                       index area                                                       v      C A B
                                       e                            b
                                                                                        w      C                            y1 C              y
                                     1                                    7
                               L
                                                                                     k
                              Eh
                                    14                                    8
                                                 Dh
                                                         0                           2.5                             5 mm
          Dimensions                                                                scale
              Unit       A    A1   b      c   D   Dh        E      Eh        e       e1      k        L        v       w      y   y1
                 max 1.00 0.05 0.35          4.6 4.25      3.1    1.65                     0.35 0.45
           mm    nom 0.85 0.03 0.32      0.2 4.5 4.20      3.0    1.60 0.65         3.9    0.30 0.40         0.1      0.05 0.05   0.1
                 min 0.80 0.00 0.29          4.4 4.15      2.9    1.55                     0.25 0.35
                                                                                                                                                         sot1086-2
               Outline                                        References                                                         European
                                                                                                                                                  Issue date
               version              IEC           JEDEC                        JEITA                                             projection
                                                                                                                                                   10-07-14
             SOT1086-2              ---           MO-229                         ---
                                                                                                                                                   10-07-15
 Figure 14. Package outline
13 Revision history
Table 22. Revision history
 Document ID                    Release date                    Data sheet status                              Change notice                  Supercedes
 TJA1128 v.1                    20180329                        Product data sheet                             —                              —
TJA1128                                          All information provided in this document is subject to legal disclaimers.                       © NXP B.V. 2018. All rights reserved.
Product data sheet                                               Rev. 1 — 29 March 2018
                                                                                                                                                                            35 / 39


NXP Semiconductors
                                                                                                                                                          TJA1128
                                                                                                                                          LIN mini system basis chip
14 Legal information
14.1 Data sheet status
                      [1][2]                                          [3]
  Document status                                 Product status                                 Definition
  Objective [short] data sheet                    Development                                    This document contains data from the objective specification for product
                                                                                                 development.
  Preliminary [short] data sheet                  Qualification                                  This document contains data from the preliminary specification.
  Product [short] data sheet                      Production                                     This document contains the product specification.
[1]     Please consult the most recently issued document before initiating or completing a design.
[2]     The term 'short data sheet' is explained in section "Definitions".
[3]     The product status of device(s) described in this document may have changed since this document was published and may differ in case of multiple
        devices. The latest product status information is available on the Internet at URL http://www.nxp.com.
                                                                                                   Suitability for use — NXP Semiconductors products are not designed,
                                                                                                   authorized or warranted to be suitable for use in life support, life-critical or
14.2 Definitions                                                                                   safety-critical systems or equipment, nor in applications where failure or
                                                                                                   malfunction of an NXP Semiconductors product can reasonably be expected
Draft — The document is a draft version only. The content is still under
                                                                                                   to result in personal injury, death or severe property or environmental
internal review and subject to formal approval, which may result in
                                                                                                   damage. NXP Semiconductors and its suppliers accept no liability for
modifications or additions. NXP Semiconductors does not give any
                                                                                                   inclusion and/or use of NXP Semiconductors products in such equipment or
representations or warranties as to the accuracy or completeness of
                                                                                                   applications and therefore such inclusion and/or use is at the customer’s own
information included herein and shall have no liability for the consequences
                                                                                                   risk.
of use of such information.
                                                                                                   Applications — Applications that are described herein for any of these
Short data sheet — A short data sheet is an extract from a full data sheet
                                                                                                   products are for illustrative purposes only. NXP Semiconductors makes
with the same product type number(s) and title. A short data sheet is
                                                                                                   no representation or warranty that such applications will be suitable
intended for quick reference only and should not be relied upon to contain
                                                                                                   for the specified use without further testing or modification. Customers
detailed and full information. For detailed and full information see the
                                                                                                   are responsible for the design and operation of their applications and
relevant full data sheet, which is available on request via the local NXP
                                                                                                   products using NXP Semiconductors products, and NXP Semiconductors
Semiconductors sales office. In case of any inconsistency or conflict with the
                                                                                                   accepts no liability for any assistance with applications or customer product
short data sheet, the full data sheet shall prevail.
                                                                                                   design. It is customer’s sole responsibility to determine whether the NXP
                                                                                                   Semiconductors product is suitable and fit for the customer’s applications
Product specification — The information and data provided in a Product
                                                                                                   and products planned, as well as for the planned application and use of
data sheet shall define the specification of the product as agreed between
                                                                                                   customer’s third party customer(s). Customers should provide appropriate
NXP Semiconductors and its customer, unless NXP Semiconductors and
                                                                                                   design and operating safeguards to minimize the risks associated with
customer have explicitly agreed otherwise in writing. In no event however,
                                                                                                   their applications and products. NXP Semiconductors does not accept any
shall an agreement be valid in which the NXP Semiconductors product
                                                                                                   liability related to any default, damage, costs or problem which is based
is deemed to offer functions and qualities beyond those described in the
                                                                                                   on any weakness or default in the customer’s applications or products, or
Product data sheet.
                                                                                                   the application or use by customer’s third party customer(s). Customer is
                                                                                                   responsible for doing all necessary testing for the customer’s applications
                                                                                                   and products using NXP Semiconductors products in order to avoid a
                                                                                                   default of the applications and the products or of the application or use by
14.3 Disclaimers                                                                                   customer’s third party customer(s). NXP does not accept any liability in this
                                                                                                   respect.
Limited warranty and liability — Information in this document is believed
to be accurate and reliable. However, NXP Semiconductors does not
                                                                                                   Limiting values — Stress above one or more limiting values (as defined in
give any representations or warranties, expressed or implied, as to the
                                                                                                   the Absolute Maximum Ratings System of IEC 60134) will cause permanent
accuracy or completeness of such information and shall have no liability
                                                                                                   damage to the device. Limiting values are stress ratings only and (proper)
for the consequences of use of such information. NXP Semiconductors
                                                                                                   operation of the device at these or any other conditions above those
takes no responsibility for the content in this document if provided by an
                                                                                                   given in the Recommended operating conditions section (if present) or the
information source outside of NXP Semiconductors. In no event shall NXP
                                                                                                   Characteristics sections of this document is not warranted. Constant or
Semiconductors be liable for any indirect, incidental, punitive, special or
                                                                                                   repeated exposure to limiting values will permanently and irreversibly affect
consequential damages (including - without limitation - lost profits, lost
                                                                                                   the quality and reliability of the device.
savings, business interruption, costs related to the removal or replacement
of any products or rework charges) whether or not such damages are based
on tort (including negligence), warranty, breach of contract or any other                          Terms and conditions of commercial sale — NXP Semiconductors
legal theory. Notwithstanding any damages that customer might incur for                            products are sold subject to the general terms and conditions of commercial
any reason whatsoever, NXP Semiconductors’ aggregate and cumulative                                sale, as published at http://www.nxp.com/profile/terms, unless otherwise
liability towards customer for the products described herein shall be limited                      agreed in a valid written individual agreement. In case an individual
in accordance with the Terms and conditions of commercial sale of NXP                              agreement is concluded only the terms and conditions of the respective
Semiconductors.                                                                                    agreement shall apply. NXP Semiconductors hereby expressly objects to
                                                                                                   applying the customer’s general terms and conditions with regard to the
                                                                                                   purchase of NXP Semiconductors products by customer.
Right to make changes — NXP Semiconductors reserves the right to
make changes to information published in this document, including without
limitation specifications and product descriptions, at any time and without                        No offer to sell or license — Nothing in this document may be interpreted
notice. This document supersedes and replaces all information supplied prior                       or construed as an offer to sell products that is open for acceptance or
to the publication hereof.                                                                         the grant, conveyance or implication of any license under any copyrights,
                                                                                                   patents or other industrial or intellectual property rights.
TJA1128                                                    All information provided in this document is subject to legal disclaimers.                     © NXP B.V. 2018. All rights reserved.
Product data sheet                                                         Rev. 1 — 29 March 2018
                                                                                                                                                                                    36 / 39


NXP Semiconductors
                                                                                                                                                      TJA1128
                                                                                                                                       LIN mini system basis chip
Export control — This document as well as the item(s) described herein                            Semiconductors’ specifications such use shall be solely at customer’s own
may be subject to export control regulations. Export might require a prior                        risk, and (c) customer fully indemnifies NXP Semiconductors for any liability,
authorization from competent authorities.                                                         damages or failed product claims resulting from customer design and use
                                                                                                  of the product for automotive applications beyond NXP Semiconductors’
Non-automotive qualified products — Unless this data sheet expressly                              standard warranty and NXP Semiconductors’ product specifications.
states that this specific NXP Semiconductors product is automotive qualified,
the product is not suitable for automotive use. It is neither qualified nor                       Translations — A non-English (translated) version of a document is for
tested in accordance with automotive testing or application requirements.                         reference only. The English version shall prevail in case of any discrepancy
NXP Semiconductors accepts no liability for inclusion and/or use of non-                          between the translated and English versions.
automotive qualified products in automotive equipment or applications. In
the event that customer uses the product for design-in and use in automotive
applications to automotive specifications and standards, customer (a) shall
use the product without NXP Semiconductors’ warranty of the product for
such automotive applications, use and specifications, and (b) whenever
                                                                                                  14.4 Trademarks
customer uses the product for automotive applications beyond NXP                                  Notice: All referenced brands, product names, service names and
                                                                                                  trademarks are the property of their respective owners.
TJA1128                                                   All information provided in this document is subject to legal disclaimers.                  © NXP B.V. 2018. All rights reserved.
Product data sheet                                                        Rev. 1 — 29 March 2018
                                                                                                                                                                                37 / 39


NXP Semiconductors
                                                                                                                                                             TJA1128
                                                                                                                                           LIN mini system basis chip
Tables
Tab. 1.   Ordering information ..........................................3                         Tab. 13.              MTPNV CRC (address 30h) ............................17
Tab. 2.   Overview of TJA1128 SBC family ..................... 3                                   Tab. 14.              Parameter for CRC coding ..............................17
Tab. 3.   Pin description ...................................................4                     Tab. 15.              Reset sources ................................................. 19
Tab. 4.   PORT mode capture and status information ..... 8                                         Tab. 16.              Limiting values ................................................ 24
Tab. 5.   Register map overview ....................................12                             Tab. 17.              Thermal characteristics ................................... 25
Tab. 6.   System register (address 10h) ........................ 13                                Tab. 18.              Static characteristics ....................................... 25
Tab. 7.   Wake register (address 11h) ...........................13                                Tab. 19.              Dynamic characteristics .................................. 29
Tab. 8.   LDO register (address 12h) .............................14                               Tab. 20.              ESD robustness (IEC 61000-4-2) according
Tab. 9.   LIN register (address 13h) .............................. 14                                                   to LIN EMC test specification ..........................34
Tab. 10.  Watchdog register (address 14h) .................... 14                                  Tab. 21.              Package outline ...............................................34
Tab. 11.  HVMPO register (address 15h) ....................... 15                                  Tab. 22.              Revision history ...............................................35
Tab. 12.  MTPNV status (address 31h) ..........................17
Figures
Fig. 1.   Block diagram ................................................... 3                      Fig. 8.               Principle of remote wake-up via LIN bus
Fig. 2.   Pin configuration diagram ................................. 4                                                  during SLEEP mode ....................................... 21
Fig. 3.   System controller state diagram ........................6                                Fig. 9.               Principle of remote wake-up via LIN bus
Fig. 4.   Serial data format in PORT mode ..................... 7                                                        during GOTOSLP and STANDBY mode ......... 21
Fig. 5.   RXD (SDO) output after transition to PORT                                                Fig. 10.              Cyclic bias timing with HVMPO .......................23
          mode ............................................................... 10                  Fig. 11.              Timing diagram of LIN duty cycle ....................32
Fig. 6.   SDO (RXD) output after SCSN (STBN) turns                                                 Fig. 12.              SPI timing diagram ..........................................33
          to HIGH-level ...................................................11                      Fig. 13.              Typical application diagram .............................33
Fig. 7.   SPI data structure for a write operation (24-                                            Fig. 14.              Package outline ...............................................35
          bit) ................................................................... 12
TJA1128                                                    All information provided in this document is subject to legal disclaimers.                        © NXP B.V. 2018. All rights reserved.
Product data sheet                                                         Rev. 1 — 29 March 2018
                                                                                                                                                                                       38 / 39


NXP Semiconductors
                                                                                                                                                    TJA1128
                                                                                                                                   LIN mini system basis chip
Contents
1       General description ............................................ 1              6.10.3           LIMP home output ........................................... 23
2       Features and benefits .........................................1                6.10.4           State controlled output .....................................23
2.1       General .............................................................. 1      6.11             Test mode ........................................................24
2.2       Device customization .........................................1               7             Limiting values .................................................. 24
2.3       Low-dropout voltage regulator for 3.3 V/5.0                                   8             Thermal characteristics ....................................25
          V microcontroller supply .................................... 2               9             Static characteristics ........................................ 25
2.4       LIN transceiver .................................................. 2          10            Dynamic characteristics ...................................29
2.5       Window watchdog ............................................. 2               11            Application information .................................... 33
2.6       Designed for automotive applications ................ 2                       11.1             Typical application diagram ............................. 33
3       Ordering information .......................................... 3               11.2             ESD robustness according to LIN EMC test
3.1       Ordering options ................................................ 3                            specification ..................................................... 33
4       Block diagram ..................................................... 3           12            Packaging .......................................................... 34
5       Pinning information ............................................ 4              12.1             Package outline ............................................... 34
5.1       Pinning ............................................................... 4     13            Revision history ................................................ 35
5.2       Pin description ................................................... 4         14            Legal information .............................................. 36
6       Functional description ........................................5
6.1       ISO 17987/LIN 2.x/SAE J2602 compliant .......... 5
6.2       Operating modes ............................................... 5
6.2.1     NORMAL mode ................................................. 6
6.2.2     STANDBY mode ................................................7
6.2.3     PORT mode .......................................................7
6.2.4     GOTOSLP mode ............................................... 8
6.2.5     SLEEP mode ..................................................... 9
6.2.6     RESET mode .....................................................9
6.2.7     OFF mode ......................................................... 9
6.2.8     OVERTEMP mode .............................................9
6.2.9     CONFIG mode ...................................................9
6.2.10    Differentiation between CONFIG and PORT
          modes .............................................................. 10
6.3       SBC configuration ............................................11
6.3.1     SPI ................................................................... 11
6.3.2     Register map overview .................................... 12
6.3.3     SBC configuration register ...............................12
6.3.4     Nonvolatile SBC configuration ......................... 16
6.3.4.1   Programming of MTPNVM .............................. 16
6.3.4.2   Restoring factory preset values ....................... 18
6.4       Watchdog .........................................................18
6.5       System reset ....................................................19
6.5.1     Characteristics of pin RSTN ............................ 19
6.5.2     Selecting the output reset pulse time width ......20
6.6       Temperature protection ................................... 20
6.7       Power supplies ................................................ 20
6.7.1     Battery supply voltage (pin BAT) ..................... 20
6.7.2     Low-dropout voltage regulator (pin VCC) ........ 20
6.8       LIN transceiver ................................................ 20
6.8.1     Remote wake-up via the LIN bus .................... 21
6.8.2     Initial TXD dominant check ..............................21
6.8.3     TXD dominant time-out ....................................22
6.8.4     LIN high-speed mode ...................................... 22
6.9       Local wake-up inputs .......................................22
6.10      High-voltage multipurpose output .................... 22
6.10.1    GPI controlled output .......................................22
6.10.2    Bias control output for cyclic wake-up ............. 23
                                                                                     Please be aware that important notices concerning this document and the product(s)
                                                                                     described herein, have been included in section 'Legal information'.
                                                                                     © NXP B.V. 2018.                                                     All rights reserved.
                                                                                     For more information, please visit: http://www.nxp.com
                                                                                     For sales office addresses, please send an email to: salesaddresses@nxp.com
                                                                                                                                                  Date of release: 29 March 2018
                                                                                                                                                   Document identifier: TJA1128


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
NXP:
 TJA1128CTK/0Z TJA1128HTK/0Z TJA1128FTK/0Z TJA1128BTK/0Z TJA1128ETK/0Z TJA1128GTK/0Z
TJA1128ATK/0Z TJA1128DTK/0Z
