NCV7429
System Basis Chip with
LIN, LS and HS Switches
Description
  The NCV7429 is a monolithic LIN System-Basis-Chip with
enhanced feature set useful in Automotive Body Control systems.
                                                                                         www.onsemi.com
Besides the LIN bus interface the IC features a 5 V voltage regulator,
high-side and low-side switches to control LEDs and relays, and
supervision functionality like a window watchdog. This allows
a highly integrated solution by replacing external discrete components
while maintaining the system flexibility. As a consequence, the board
                                                                                           TSSOP−20 EP
space and ECU weight can be minimized.                                                      CASE 948AB
Features
• Main Supply Functional Operating Range from 5 V to 28 V                             MARKING DIAGRAM
• Main Supply Parametrical Operating Range 6 V to 18 V
• LIN Physical Layer According to ISO 17987−4 (backwards                                         NV74
   compatible to LIN 1.3, LIN 2.x) and SAE J2602                                                 29−5
                                                                                                ALYWG
•  Power Management Through Operating Modes: Normal, Standby,                                      G
   Sleep and Flash
•  Software Development Mode for Software Debugging
                                                                                   A         = Assembly Location
•  Low Drop Voltage Regulator VR1: 5 V/150 mA, 2%                                  L         = Wafer Lot
•  One Wake-up Input, e.g. for Contact Monitoring                                  Y         = Year
                                                                                   W         = Work Week
•  Wake-up Logic with Cyclic Contact Monitoring                                    G        = Pb-Free Package
•  Wake-up Source Recognition                                                (Note: Microdot may be in either location)
•  Independent PWM Functionality for All Outputs
   (Integrated PWM Registers)                                                            PIN ASSIGNMENT
•  Window Watchdog with Programmable Times                                             1                      20
•  2x Low-side Driver (typ. 1.5 W) with Over-load Protection                 GND1                                  LS2
                                                                            SWDM                                   LS1
   and Active Clamp; e.g. for Relays
                                                                             NRES                                  GND2
•  3x High-side Driver (typ. 5 W) with Over- and Under-load Detection;         VR1                                 LIN
   e.g. for LED’s and Switches                                                TxDL
                                                                                               NCV7429
                                                                                                                   VS
•  24-bit SPI Interface                                                RxDL/INTN                                   VS_OUT
                                                                                SDI                                OUT1
•  Protection against Short Circuit, Over-voltage and Over-temperature        SDO                                  OUT2
•  TSSOP−20 EP Package                                                       SCLK                                  OUT3/FSO
                                                                              CSN                                  WU
•  NCV Prefix for Automotive and Other Applications Requiring
   Unique Site and Control Change Requirements; AEC−Q100                                      (Top View)
   Qualified and PPAP Capable
•  These Devices are Pb-Free, Halogen Free/BFR Free and are
   RoHS Compliant                                                                  ORDERING INFORMATION
                                                                              Device            Package        Shipping†
Typical Applications
• De-centralized Door Electronic Systems                                NCV7429DE5R2G TSSOP−20
                                                                                               (Pb-Free)
                                                                                                              2500 / Tape &
                                                                                                                  Reel
                                                                       †For information on tape and reel specifications,
                                                                         including part orientation and tape sizes, please
                                                                         refer to our Tape and Reel Packaging Specification
                                                                         Brochure, BRD8011/D.
 © Semiconductor Components Industries, LLC, 2017              1                                   Publication Order Number:
 March, 2017 − Rev. 0                                                                                            NCV7429/D


                                                                  NCV7429
                                                              BLOCK DIAGRAM
                                                                                          VS_OUT
                                                      VS
                                                      16                              15
                                                                                                   NCV7429
                                              VS
                                                                                                                   19   LS1
                                                                                          Low−Side
                          VR1      4          VR1                   Protection :
                                          5 V / 150 mA              Short circuit
                                                                    Open load                                      20   LS2
                                                                 Over −temperature        Low−Side
                                                                 Under/over voltage
                         NRES      3
                                                                    Watchdog
                                                                                                          VS_OUT
                                   10   CONTROL_0                                            High−Side             14
                          CSN            CONTROL_1
                                          CONTROL_2
                                           CONTROL_3
                                                                                                                        OUT1
                         SCLK      9
                                        STATUS
                                         STATUS_0
                                          STATUS_1
                                                 _2
                           SDI     7                                  Logic
                                         PWM_1/2                                                          VS_OUT
                                          PWM_3
                          SDO      8                                                        High−Side              13   OUT2
                                        ROM
                                                      SPI
                                                                                                          VS_OUT
                        SWDM       2                                                        High−Side              12   OUT3/FSO
                                                                     Timer 1/2              VS_OUT
                                               VS
                                   5                                                       Local                   11
                         TxDL                                                                                           WU
                                                                                          wakeup
                                                   LIN                                    detector
                                   6
                                                                       PWM
                     RxDL/INTN
                                               17                      1                           18
                                               LIN
                                                                       GND1                        GND2
                                                            Figure 1. Block Diagram
Table 1. PIN DESCRIPTION
Pin No.   Pin Name                  Pin Type                                                                  Description
   1        GND1        Ground                                    Ground connection
   2       SWDM         HV Digital Input with                     Software development mode entry input
                        Pull-down
   3        NRES        Digital Open-drain Output                 Reset signal to the MCU
                        with Internal Pull-up
   4        VR1         5 V Regulator Output                      2%, 150 mA
   5        TxDL        Digital Input with Pull-up                Transmitter data input of the LIN transceiver
   6      RxDL/INTN     Digital Push-pull Output                  Receiver output of the LIN transceiver/Interrupt output
   7         SDI        Digital Input with Pull-down              SPI data input
   8        SDO         Digital Push-pull Output,                 SPI data output
                        Tristate
   9        SCLK        Digital Input with Pull-down              SPI clock input
  10        CSN         Digital Input with Pull-up                SPI chip select input
  11         WU         HV Input                                  Voltage-sense input (threshold typ. VS_OUT/2), switched pull-up/down
  12      OUT3/FSO      HS Driver                                 Resistive loads, Ron 5 W typ, Ilim > 140 mA / FSO output
  13        OUT2        HS Driver                                 Resistive loads, Ron 5 W typ, Ilim > 140 mA
                                                               www.onsemi.com
                                                                           2


                                                                       NCV7429
Table 1. PIN DESCRIPTION (continued)
 Pin No.    Pin Name               Pin Type                                                                      Description
   14        OUT1      HS Driver                                      Resistive loads, Ron 5/20 W typ, Ilim > 140/35 mA, two configurations
   15       VS_OUT     Battery Supply Input                           Power-supply of the high-side drivers OUT1−3 and WU input
   16         VS       Battery Supply Input                           Principle power-supply of the device
   17         LIN      LIN Bus Interface                              LIN bus pin, low in dominant state
   18        GND2      Ground                                         Ground connection
   19         LS1      LS Driver                                      Low-side Driver, Ron 1.5 W typ, Ilim > 250 mA, active clamp to ground
   20         LS2      LS Driver                                      Low-side Driver, Ron 1.5 W typ, Ilim > 250 mA, active clamp to ground
            Exposed    Ground                                         Substrate; Exposed pad has to be connected to both GND pins
              Pad
                                                  APPLICATION INFORMATION
KL30                                                                       Cbuf_VSOUT
           VBAT
                                       Cbuf_VS
                                                                                                VS_OUT
+12 V
                                                            VS   (100nF)                                 (100nF)
                                                                                                                                       VBAT
                                                            16                                  15
                                                                                                         NCV7429                               lift1
                         (1k)                      VS
                                                                                                                         19   LS1
                                                                                                Low−Side
                                 VR1    4           VR1                       Protection:                                             RELAY            M
                                                 5 V / 150 mA                 Short circuit
                                                                              Open load                                  20   LS2              lift2
                                                                           Over −temperature    Low−Side
                         Cload_VR1
                           (2.2uF)                                         Under/over voltage
                                NRES    3
                                                                              Watchdog
                                                                                                                VS_OUT
                                CSN     10   CONTROL_0
                                              CONTROL_1
                                               CONTROL_2
                                                                                                   High−Side             14   OUT1
                                                                                                                                               out1
                                                CONTROL_3
                                SCLK    9     STATUS _0
            MCU                                STATUS
                                                STATUS_1
                                                       _2
                                                                                Logic                                           (10−22nF)
                                 SDI    7
                                              PWM_1/2                                                           VS_OUT
                                SDO     8
                                               PWM_3
                                                                                                  High−Side              13   OUT2             out2
                                             ROM
                                                            SPI
                                                                                                                                   (10−22nF)
                                                                                                                VS_OUT
                            SWDM        2                                                         High−Side              12   OUT3/FSO         out3
                                                                               Timer1/2           VS_OUT                           (10−22nF)
                                                     VS
                                TxDL    5
                                                                                                 Local
                                                                                                                         11   WU
                                                                                                                                               wake
                                                                                                wakeup                                                 SWITCHES
                                                                                                detector                           (1−10k)
                                                        LIN                      PWM                                                  (10nF)
                        RxDL/INTN       6
                                                     17                            1                     18
                                                     LIN
                                                                                   GND1                  GND2
                                                            Cload_LIN
                                                             (220pF)
                                                 LIN                                                                                                       LIN BUS
                                             Figure 2. Example Application Diagram
                                                                  www.onsemi.com
                                                                               3


                                                                NCV7429
 Table 2. ABSOLUTE MAXIMUM RATINGS
          Symbol                                   Parameter                                Min                   Max               Unit
         Vmax_VS,        Power Supply Voltage                                               −0.3                   40                  V
     Vmax_VS_OUT
         Vmax_WU         Wake Pin Voltage Range                                             −0.3             VS_OUT + 0.3              V
     Vmax_OUT1−3         High-side Output OUT1−3 Voltage Range                              −0.3             VS_OUT + 0.3              V
       Vmax_LS1/2        LS1/2 Pin Voltage Range DC                                         −0.3                   40                  V
                         (Voltage Internally Limited during Flyback)
       Wmax_LS1/2        Maximum LS1/2 Clamping Energy                                                             36                 mJ
        Imax_LS1/2       Maximum LS1/2 Pin Current                                                                500                mA
                         Maximum LS1/2 Pin Current, Transient or without VS and             −120                                     mA
                         VS_OUT Supply
         Vmax_LIN        DC Voltage on LIN Pin                                              −40                    40                  V
        Vmax_VR1         Stabilized Supply Voltage, Logic Supply                            −0.3           min(5.5, VS + 0.3)          V
       Vmax_digIO        DC Voltage at Digital Pins (NRES, TxDL, RxDL/INTN, SDI,            −0.3                VR1 + 0.3              V
                         SDO, SCLK, CSN)
      Vmax_SWDM          DC Voltage at SWDM Input                                           −0.3                   40                  V
   ESD Human Body        All Pins                                                            −2                    +2                 kV
    Model Following
       EIA−JESD22        Pin LIN to GND                                                      −4                    +4
    (100 pF, 1500 W)
                         Pins OUT1−3, LS1/2 to GND                                           −4                    +4
  ESD Following IEC      Valid for Pins VS, VS_OUT, LIN, OUT1−3, WU                          −6                    +6                 kV
         61000−4−2       − VS, VS_OUT pins with reverse-protection and filtering
      (150pF, 330W)          capacitor
                         − OUT1−3 pins with parallel capacitor 10 nF
                         − WU pin stressed through a serial resistor > 10 kW
      ESD Charged        All Pins                                                           −500                  +500                 V
       Device Model
          Following
   JESD22−C101/AE        Corner Pins                                                        −750                  +750                 V
       C−Q100−011
            Tj_mr        Junction Temperature                                               −40                   +170                °C
             Tstg        Storage Temperature Range                                          −55                   +150                °C
            MSL          Moisture Sensitivity Level (max. 260°C Processing)                                  2
Stresses exceeding those listed in the Maximum Ratings table may damage the device. If any of these limits are exceeded, device functionality
should not be assumed, damage may occur and reliability may be affected.
 Table 3. THERMAL CHARACTERISTICS
          Symbol                                          Parameter                                              Value              Unit
                         Thermal Characteristics
            RqJC            Thermal Resistance, Junction-to-Case                                                   8.3
                                                                                                                                    °C/W
            RqJA            Thermal Resistance, Junction-to-Ambient, 1S0P PCB (Note 1)                             70
            RqJA            Thermal Resistance, Junction-to-Ambient, 2S2P PCB (Note 2)                             40
1. Value based on test board according to JESD51−3 standard, signal layer with 10% trace coverage.
2. Value based on test board according to JESD51−7 standard, signal layers with 20% trace coverage, inner planes with 90% coverage.
                                                           www.onsemi.com
                                                                     4


                                                                   NCV7429
 Table 4. RECOMMENDED OPERATING RANGES
         Symbol                                      Parameter                                  Min            Max               Unit
     Vop_VS_par,          Power Supply Voltage for Valid Parameter Specifications                6              18                 V
  Vop_VS_OUT_par
    Vop_VS_func,          Power Supply for Correct Functional Behavior                           5              28                 V
  Vop_VS_OUT_func
         Vop_WU           Wake Pin Voltage Range                                                 0          VS_OUT                 V
     Vop_OUT1−3           High-side Output OUT1−3 Voltage Range                                  0          VS_OUT                 V
      Vop_LS1/2           LS1/2 Pin Voltage Range DC                                             0          VS_OUT                 V
                          (voltage internally limited during flyback)
         Vop_LIN          LIN Pin Voltage Range                                                  0             VS                  V
        Vop_VR1           Stabilized Supply Voltage, Logic Supply                               4.9            5.1                 V
       Vop_digIO          DC Voltage at Digital Pins (NRES, TxDL, RxDL/INTN, SDI,                0             VR1                 V
                          SDO, SCLK, CSN)
      Vop_SWDM            DC Voltage at SWDM Input                                               0             VS                  V
          Tj_op           Junction Temperature                                                  −40           +150                °C
Functional operation above the stresses listed in the Recommended Operating Ranges is not implied. Extended exposure to stresses beyond
the Recommended Operating Ranges limits may affect device reliability.
 Table 5. ELECTRICAL CHARACTERISTICS
 (6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
         Symbol                       Parameter                              Conditions              Min     Typ       Max       Unit
  VS SUPPLY
     VS, VS_OUT          Supply Voltage                          Functional, Voltage Regulators with  5                 28         V
                                                                 Deteriorated Performance
                                                                 Parameter Specification              6                 18
       VS_PORH           VS POR Threshold                        VS Rising                           3.4               4.1         V
        VS_PORL          VS POR Threshold                        VS Falling                          2.1               3.0         V
     VS_OUT_UV           VS_OUT UV-threshold Voltage             VS Falling                          5.1               5.8         V
   VS_OUT_UV_hyst        Undervoltage Hysteresis                                                     0.1               0.5         V
     VS_OUT_OV           VS_OUT OV-threshold Voltage             VS Rising                           20                 22         V
   VS_OUT_OV_hyst        Overvoltage Hysteresis                                                      0.3      0.5      0.8         V
       I_VS_norm         VS Consumption in Normal Mode           Normal mode,                                 0.6      1.1        mA
                                                                 VR1 on (not loaded),
                                                                 bus communication off,
                                                                 TxDL not active
        I_VS_stby        VS Consumption in Standby Mode          Standby mode,                                28        60        mA
                         (Static Sense)                          VS = 12 V, VR1 on (not loaded),
                                                                 no LIM bus communication,
                                                                 no wake-up request pending,
                                                                 WU wakeup disabled,
                                                                 Tj = 85°C (Note 3)
      I_VS_sleep         VS Consumption in Sleep Mode            Sleep mode,                                  15        30        mA
                         (Static Sense)                          VS = 12 V, VR1 off,
                                                                 no LIM bus communication,
                                                                 no wake-up request pending,
                                                                 WU wakeup disabled,
                                                                 Tj = 85°C (Note 3)
    I_VS_add_VR1         VR1 Current Consumption from VS         Normal/Standby mode,                       0.005 ·               mA
                                                                 VR1 loaded                                 I_VR1
     I_VS_add_LS         Added LSx Drivers Current               N = 1 – 2 … number of LSx drivers           15 +      110        mA
                         Consumption from VS                     active                                      20·N
                                                              www.onsemi.com
                                                                        5


                                                                NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
         Symbol                         Parameter                          Conditions            Min   Typ    Max Unit
 VS SUPPLY
     I_VS_add_WU           Added WU Comparator Current                                                  0.6    2   mA
                           Consumption from VS
VS_OUT SUPPLY
    I_VSOUT_norm           VS_OUT Consumption in Normal       Normal mode,                              15     30  mA
                           Mode                               OUT1−3 off, floating
     I_VSOUT_stby          VS_OUT Consumption in Standby      Standby mode, OUT1−3 off,                  0     2   mA
                           Mode                               floating, WU wakeup disabled, WU
                                                              pin floating
    I_VSOUT_sleep          VS_OUT Consumption in Sleep        Sleep mode, OUT1−3 off, floating,          0     2   mA
                           Mode                               WU wakeup disabled, WU pin
                                                              floating
 I_VSOUT_add_OUT           Added OUTx Drivers Current         Normal mode, OUTx = floating,           15 x N   90  mA
                           Consumption from VS_OUT            N = 1 – 3 … number of OUTx
                                                              drivers active
                                                              Standby/Sleep mode, OUTx =               15 +   120  mA
                                                              floating, N = 1 – 3 … number of         15 x N
                                                              OUTx drivers active
  I_VSOUT_add_WU           Added WU Comparator Current        WU pin floating                            4     8   mA
                           Consumption from VS_OUT
VS + VS_OUT SUPPLY COMBINED CONSUMPTIONS
        I_stby_cs          VS + VS_OUT Consumption in         Standby mode,                          (Note 4)      mA
                           Standby Mode                       VS = VS_OUT = 12 V, VR1 on
                           (with Cyclic Sense)                (not loaded), OUTx floating,
                                                              driven by Timer1/2,
                                                              bus communication off,
                                                              No wake-up request pending,
                                                              Tj = 25°C (Note 3)
       I_sleep_cs          VS + VS_OUT Consumption in         Sleep mode,                            (Note 5)      mA
                           Sleep Mode                         VS = VS_OUT = 12 V, VR1 off,
                           (with Cyclic Sense)                OUTx floating, driven by Timer1/2,
                                                              bus communication off,
                                                              No wake-up request pending,
                                                              Tj = 25°C (Note 3)
        I_FailSafe         VS + VS_OUT Consumption in         Fail-safe mode,                           50    100  mA
                           Fail-safe Mode                     OUTx floating, OUT3/FSO on
 3. Guaranteed by design.
 4. Cyclic-sense Standby mode VS + VS_OUT consumption:
         I_standby_cs (typ.) = I_VS_standby + I_VSOUT_sleep + I_VS_standby_cs_add
         I_stdby_cs_add (typ.) = 24.5 mA + (28 mA S Tx_TON / Tx_TPER)
 5. Cyclic-sense Sleep mode VS + VS_OUT consumption:
         I_sleep_cs (typ.) = I_VS_sleep + I_VSOUT_sleep + I_VS_sleep_cs_add
         I_sleep_cs_add (typ.) = 25.5 mA + (28 mA S Tx_TON / Tx_TPER)
                                                           www.onsemi.com
                                                                      6


                                                                NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
         Symbol                      Parameter                            Conditions                 Min      Typ       Max        Unit
VOLTAGE REGULATOR VR1
          V_VR1         Regulator Output Voltage              0 mA ≤ I(VR1) ≤ 150 mA,                4.9       5         5.1         V
                                                              6 V ≤ VS ≤ 28 V,
                                                              Cload_LIN ≥ 82 pF
                                                              Under EMC exposure (Note 6, 7)        4.85       5         5.15        V
                                                              Cload_LIN < 82 pF
        Iout_VR1        Regulator Output Current              Maximum VR1 load current                                   150       mA
        Ilim_VR1        Regulator Current Limitation          Maximum VR1 short current              240                 600       mA
       Isink_VR1        Regulator Sink Current                V(VR1) = 5.2 V                         100                            mA
      Vdrop_VR1         Dropout Voltage                       I(VR1) = 60 mA, VS = 5 V                       0.25        0.4         V
                                                              I(VR1) = 60 mA, VS = 4.5 V                      0.3        0.5
                                                              I(VR1) = 30 mA, VS = 4.5 V                      0.2        0.4
     Loadreg_VR1        Load Regulation                       1 mA ≤ I(VR1) ≤ 30 mA                  −30                  30       mV
     Linereg_VR1        Line Regulation                       I(VR1) ≤ 5 mA                          −30                  30       mV
      Cload_VR1         VR1 Load Capacitor                    ESR < 200 mW, ceramic capacitor         1       2.2                   mF
                                                              recommended
   Icmp_VR1_rise        Current Comp. Rising Threshold        VR1 consumption increasing             0.8       2         3.1       mA
    Icmp_VR1_fall       Current Comp. Falling Threshold       VR1 consumption decreasing             0.6      1.4        2.1       mA
   Icmp_VR1_hys         Current Comp. Hysteresis                                                              0.5                  mA
   Tfilt_VR1_Icmp       Current Comp. Filter Time                                                              16                   ms
       Vfail_VR1        VR1 Fail Threshold                    VR1 forced, VR1 decreasing             1.85      2         2.25        V
       Tfail_VR1        VR1 Fail Blanking Time                                                                 5                    ms
      Tshort_VR1        VR1 Short Blanking Time               VR1 starting-up                         34       40         46       ms
       Ttsd_VR1         VR1 Deactivation Time after Ther-                                           0.85       1         1.15        s
                        mal Shutdown 2
        Toff_VR1        VR1 Off Time after 8 Watchdog                                                170      200        230       ms
                        Failures
VR1 UNDER-VOLTAGE DETECTOR
      VR1_RES1          VR1 Reset Threshold 1 (Default)       SPI VR1_RES.x = 00,                   4.45     4.65        4.8         V
                                                              VR1 voltage falling
      VR1_RES2          VR1 Reset Threshold 2                 SPI VR1_RES.x = 01,                    4.2      4.4        4.6         V
                                                              VR1 voltage falling
      VR1_RES3          VR1 Reset Threshold 3                 SPI VR1_RES.x = 10,                    3.8       4         4.2         V
                                                              VR1 voltage falling
      VR1_RES4          VR1 Reset Threshold 4                 SPI VR1_RES.x = 11,                    3.6      3.8          4         V
                                                              VR1 voltage falling
   Tdel_VR1_RES         Reaction Delay between VR1 Un-                                                                    40        ms
                        dervoltage and NRES Low Pulse
   Tfilt_VR1_RES        VR1 Undervoltage Filter Time                                                           16                   ms
 6. Based on characterization, Guaranteed by design.
 7. DPI EMC coupled to LIN pin, Clin not used. Tested according to LIN Conformance Test Specification Package for LIN 2.1, October 10th,
     2008.
                                                           www.onsemi.com
                                                                     7


                                                                NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
           Symbol                    Parameter                             Conditions         Min   Typ  Max    Unit
HIGH-SIDE OUTPUTS OUT1−3
  Ron_OUT1_norm         On-Resistance to VS_OUT,              Tj = 25°C, I(OUT1) = −60 mA            5           W
                        “Normal-ohmic” Configuration
                                                              Tj = 150°C, I(OUT1) = −60 mA                13     W
   Ron_OUT1_high        On-Resistance to VS_OUT,              Tj = 25°C, I(OUT1) = −6 mA             20          W
                        “High-ohmic” Configuration
                                                              Tj = 150°C, I(OUT1) = −6 mA                 52     W
      Ron_OUT2−3        On-Resistance to VS_OUT               Tj = 25°C, I(OUT2−3) = −60 mA          5           W
                                                              Tj = 150°C, I(OUT2−3) = −60 mA              13     W
   Ilim_OUT1_norm       Output Current Limitation to          V(OUT1) = 0 V                   −330 −235  −140   mA
                        Ground, “Normal-ohmic” Configura-
                        tion
    Ilim_OUT1_high      Output Current Limitation to          V(OUT1) = 0 V                   −82   −58  −35    mA
                        Ground, “High-ohmic” Configuration
       Ilim_OUT2−3      Output Current Limitation to Ground V(OUT2−3) = 0 V                   −330 −235  −140   mA
   Iuld_OUT1_norm       OUT1 Underload Threshold,                                             −6.5 −3.5  −0.8   mA
                        “Normal-ohmic” Configuration
    Iuld_OUT1_high      OUT1 Underload Threshold,                                             −1.5 −0.87 −0.2   mA
                        “High-ohmic” Configuration
       Iuld_OUT1−3      OUT2−3 Underload Threshold                                            −6.5 −3.5  −0.8   mA
     Ileak_OUT1−3       Output Leakage Current                VS_OUT = 28 V, V(OUT1−3) = 0 V   −3                mA
     Slew_OUT1−3        Slew Rate of OUT1−3                   VS_OUT = 13.2 V,                 0.2  0.5   0.8   V/ms
                                                              140 mA resistive load
Tblank_ULD_OUT1−3 Underload Detection Blanking De-            OUT1−3 switched on               65    80   95     ms
                        lay
 Tfilt_ULD_OUT1−3       Underload Detection Filter Time                                        50    60   75     ms
 Tfilt_OLD_OUT1−3       Overload Shutdown Filter Time                                          50    60   75     ms
LOW-SIDE RELAY OUTPUTS LS1/2
         Ron_LS1/2      On-Resistance to Ground               Tj = 25°C, I(LS1/2) = 100 mA          1.5    3     W
                                                              Tj = 125°C, I(LS1/2) = 100 mA               3.7    W
                                                              (Note 8)
         Ilim_LS1/2     Output Current Limitation             LS1/2 = VS_OUT                  250   340  500    mA
                                                              LS1/2 = VS_OUT > 18 V           200   290  450    mA
     Vclamp_LS1/2       Output Clamp Voltage                  I(LS1/2) = 100 mA                40         50      V
        Ileak_LS1/2     Output Leakage Current                LS1/2 = VS_OUT = 16 V                        3     mA
        Slew_LS1/2      Slew Rate of LS1/2                    VS_OUT = 13.2 V,                 0.2   2     4    V/ms
                                                              100 mA resistive load
    Tfilt_OLD_LS1/2     Overload Shutdown Filter Time                                          50    60   75     ms
WAKE-UP INPUT WU
     Vth_down_WU        Wake-up Negative Edge Threshold       WU configurable as Source/Sink   0.4  0.5   0.6 VS_OUT
                        Voltage                               via SPI
        Vth_up_WU       Wake-up Positive Edge Threshold                                        0.4  0.5   0.6 VS_OUT
                        Voltage
         Vhyst_WU       Wake-up Threshold Hysteresis                                          100   300  500    mV
        Ipullup_WU      Pullup Current                        1.5 V < V(WU) < V(VS_OUT − 3 V) −30   −20  −10     mA
     Ipulldown_WU       Pulldown Current                      1.5 V < V(WU) < V(VS_OUT − 3 V)  10    20   30     mA
          Twu_WU        Minimum Time for Wake-up                                               50    64   85     ms
 8. Based on characterization, Guaranteed by design.
                                                           www.onsemi.com
                                                                     8


                                                                NCV7429
 Table 5. ELECTRICAL CHARACTERISTICS (continued)
 (6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
        Symbol                        Parameter                            Conditions         Min Typ Max Unit
MODE TRANSITION TIMING
     Tdel_powerup        Transition Time from Power-up to      VS reaching VS_PORH to VR1              15  ms
                         Init                                  startup
   Tdel_norm_stdby       Transition Time from Normal/Flash     CSN going high to Standby mode          10  ms
                         to Standby Mode via SPI               entry (Note 9)
   Tdel_norm_sleep       Transition Time from Normal/Flash     CSN going high to Sleep mode            10  ms
                         to Sleep Mode via SPI                 entry (Note 9)
   Tdel_stdby_norm       Delay of INTN Pulse in Standby af-                                            10  ms
                         ter Wakeup
     Tdel_sleep_init     Transition from Sleep to Init Mode                                            10  ms
                         via Wakeup
NRES AND INTN SIGNAL TIMING
        T_NRES           NRES Low Pulse Duration,                                             1.7  2  2.3 ms
                         e.g. after a Watchdog Failure or
                         VR1 Undervoltage
        T_INTN           INTN Low Pulse Duration                                              106 125 144  ms
                         after Wake-up Event
DRIVER TIMING
   Tdel_OUT1−3_on        Activation Delay of OUT1−3 Driver     VS_OUT = 13.2 V;               12       40  ms
                         (from CSN rising edge)                V(OUT1−3) > 0.5·VS_OUT
   Tdel_OUT1−3_off       De-activation Delay of OUT1−3         VS_OUT = 13.2 V;               20       55  ms
                         Driver (from CSN rising edge)         V(OUT1−3) < 0.5·VS_OUT
    Tdel_LS1/2_on        Activation Delay of LS1/2 Driver      VS_OUT = 13.2 V;               17   42  85  ms
                         (from CSN rising edge)                V(LS1/2) < 0.5·VS_OUT
    Tdel_LS1/2_off       De-activation Delay of LS1/2 Driver   VS_OUT = 13.2 V;               17   32  62  ms
                         (from CSN rising edge)                V(LS1/2) > 0.5·VS_OUT
INTERNAL PWM FOR DRIVERS CONTROL
       f_PWM_lo          PWM Controller Frequency,             FSEL_OUTx/LSx = 0              127 150 173  Hz
                         Low Setting
       f_PWM_hi          PWM Controller Frequency,             FSEL_OUTx/LSx = 1              170 200 230  Hz
                         High Setting
TIMER1/2 TIMING
        Ttim_acc         Timer1/2 Period/On-time Accuracy T1_TPER.[2:0], T1_TON,              −15     +15  %
                         (see CONTROL_2 register settings) T2_TPER.[2:0], T2_TON.[1:0]
  9. Delays and slopes of LS1/2 drivers not included.
                                                            www.onsemi.com
                                                                      9


                                                                            NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
         Symbol                                    Parameter                              Conditions           Min          Typ      Max       Unit
SPI TIMING
     tCSN_SCLK                  First SPI Clock Edge after CSN Ac- (Note 10)                                   200                              ns
                                tive
      tCSN_SDO                  SDO Output Stable after CSN Ac-            C(SDO) = 100 pF (Note 10)                                  150       ns
                                tive
      tCSN_High                 Inter-frame Space (CSN Inactive)           All SPI frames stored into internal  6                               ms
                                                                           registers (Note 10)
     tSCLK_High                 Duration of SPI Clock High Level           (Note 10)                           250                              ns
      tSCLK_Low                 Duration of SPI Clock Low Level            (Note 10)                           250                              ns
       tSCLK_per                SPI Clock Period                           (Note 10)                            1                               ms
         tSDI_set               Setup Time of SDI Input Towards            (Note 10)                           100                              ns
                                SPI Clock
        tSDI_hold               Hold Time of SDI Input Towards SPI (Note 10)                                   100                              ns
                                Clock
     tSCLK_SDO                  SDO Output Stable after SPI Clock          C(SDO) = 100 pF (Note 10)                                  250       ns
                                Falling Edge
      t_SPI_exec                SPI Frame Execution Time                   Time from CSN rising edge to exe-                          25        ms
                                                                           cution of the frame
 10. Guaranteed by design; not tested in production.
                                                                                                                            SPI frame executed
                     tCSN _SCLK    tSC LK _per           tSC LK_ Low                 tS CL K_High                 tCSN _ High
  CSN
 SCLK
   SDI
             tSDI _ set                 tSDI _ hold
  SDO
        tCSN _SDO                                                                 t SCL K_SDO                      t_SPI _exec
                                                                Figure 3. SPI Timing Parameters
                                                                       www.onsemi.com
                                                                                 10


                                                                      NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
       Symbol                            Parameter                              Conditions                  Min      Typ        Max  Unit
WATCHDOG TIMING
       Twd_acc              Watchdog Timing Accuracy                                                        −15                 +15   %
      T_wd_TO               Timeout Watchdog Period;                                                         55       65         75  ms
                            (watchdog is in the timeout mode
                            after NRES release or in the Stand-
                            by mode)
      T_wd_CW               Window Watchdog Closed Window           SPI WD_PER.x = 00                                 6              ms
                                                                    SPI WD_PER.x = 01                                 24
                                                                    SPI WD_PER.x = 10                                 60
                                                                    SPI WD_PER.x = 11                                120
      T_wd_OW               Window Watchdog Open Window             SPI WD_PER.x = 00                                 10             ms
                                                                    SPI WD_PER.x = 01                                 40
                                                                    SPI WD_PER.x = 10                                100
                                                                    SPI WD_PER.x = 11                                200
      T_wd_trig             Window Watchdog Trigger Period          SPI WD_PER.x = 00                       6.9      9.75       13.6 ms
                            via SPI (the safe trigger area)
                                                                    SPI WD_PER.x = 01                       27.6      39        54.1
                                                                    SPI WD_PER.x = 10                        69      97.5       136
                                                                    SPI WD_PER.x = 11                       138      195        272
  T_wd_TO_FLASH             Timeout Watchdog Period in Flash        SPI WD_PER.x = 00                       13.6      16        18.4 ms
                            Mode
                                                                    SPI WD_PER.x = 01                       54.4      64        73.6
                                                                    SPI WD_PER.x = 10                       136      160        184
                                                                    SPI WD_PER.x = 11                       544      640        736
    T_wd_33_TO              WD_STATUS.1 bit Threshold of            Position inside T_wd_TO interval                  33              %
                            Timeout Length (in timeout mode)
    T_wd_66_TO              WD_STATUS.0 bit Threshold of            Position inside T_wd_TO interval                  66              %
                            Timeout Length (in timeout mode)
    T_wd_33_OW              WD_STATUS.1 bit Threshold of            Position inside T_wd_OW interval                  33              %
                            Open Window Length (in open win-
                            dow mode)
    T_wd_66_OW              WD_STATUS.0 bit Threshold of            Position inside T_wd_OW interval                  66              %
                            Open Window Length (in open win-
                            dow mode)
     Reset or previous
        WD service
                                                 nominal T _wd_TO
                                                                                     ÎÎÎÎÎÏÏÏÏÏÏÏÏ
                                                                                     ÎÎÎÎÎÏÏÏÏÏÏÏÏ
                                                                                     ÎÎÎÎÎÏÏÏÏÏÏÏÏ
  Time − out
                                          Safe trigger of time −out WD                                           WD expired
  WD period
         Previous
        WD service                                                                     T_wd_TO tolerance
                                                      T_wd_trig
                                   nominal T _wd_CW                                        nominal T _wd_OW
             ÏÏÏÏÏÏÏÏÏÏÏÏÎÎÎ                                                                                           ÎÎÎÎ
             ÏÏÏÏÏÏÏÏÏÏÏÏÎÎÎ                                                                                           ÎÎÎÎ
Window WD                         Closed window
                                                                                      Safe trigger of window WD
      period             (WD trigger would be too early )
                OK20170129.01
                                                                    T_wd_CW                                               T_wd_OW
                                                                                              recommended
                                                                    tolerance                                              tolerance
                                                                                                WD trigger
                                                      Figure 4. Watchdog Modes Timing
                                                                 www.onsemi.com
                                                                           11


                                                                NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
        Symbol                       Parameter                             Conditions               Min    Typ Max   Unit
LIN TRANSMITTER DC CHARACTERISTICS
  VLin_dom_LoSup        LIN Dominant Output Voltage           TxDL = low; VS = 7.3 V                            1.2    V
  VLin_dom_HiSup        LIN Dominant Output Voltage           TxDL = low; VS = 18 V                              2     V
        VLin_rec        LIN Recessive Output Voltage          TxDL = high;                        VS − 1.5       VS    V
                                                              I(LIN) = 0 mA
        ILIN_lim        Short Circuit Current Limitation      V(LIN) = VS = 18 V                    40          200  mA
      Rslave_LIN        Internal Pull-up Resistance                                                 20      33  47   kW
LIN RECEIVER DC CHARACTERISTICS
   Vbus_dom_LIN         Bus Voltage for Dominant State                                                          0.4  VS
    Vbus_rec_LIN        Bus Voltage for Recessive State                                             0.6              VS
    Vrec_dom_LIN        Receiver Threshold                    LIN bus recessive → dominant          0.4         0.5  VS
    Vrec_rec_LIN        Receiver Threshold                    LIN bus dominant → recessive          0.5         0.6  VS
    Vrec_cnt_LIN        Receiver Center Voltage               (Vrec_dom_LIN + Vrec_rec_LIN) / 2    0.475       0.525 VS
    Vrec_hys_LIN        Receiver Hysteresis                   (Vrec_rec_LIN − Vrec_dom_LIN)        0.05        0.175 VS
     ILIN_off_dom       LIN Output Current,                   Normal mode, driver off;              −1          −0.2 mA
                        Bus in Dominant State                 VS = 12 V; V(LIN) = 0 V
  ILIN_off_dom_slp      LIN Output Current,                   Sleep or Standby mode, driver off;    −20    −15  −2    mA
                        Bus in Dominant State                 VS = 12 V; V(LIN) = 0 V
      ILIN_off_rec      LIN Output Current,                   Driver off; 8 V < VS < 18 V;                      10    mA
                        Bus in Recessive State                8 V < V(LIN) < 18 V; V(LIN) ≥ VS;
                                                              Guaranteed by design
    ILIN_no_GND         Communication Not Affected            VS = GND = 12 V;                      −1           1   mA
                                                              0 < V(LIN) < 18 V
      ILIN_no_VS        LIN Bus Remains Operational           VS = GND = 0 V;                                    5    mA
                                                              0 < V(LIN) < 18 V
LIN TRANSMITTER DYNAMIC CHARACTERISTICS
           D1           Duty Cycle 1 =                        THREC(max) = 0.744 × VS,             0.396        0.5
                        tBUS_REC(min) / (2 × TBit)            THDOM(max) = 0.581 × VS,
                                                              Tbit = 50 ms,
                                                              VS = 7 V to 18 V; L1−L3 (Note 11)
           D2           Duty Cycle 2 =                        THREC(min) = 0.422 × VS,              0.5        0.581
                        tBUS_REC(max) / (2 × TBit)            THDOM(mi) = 0.284 × VS,
                                                              Tbit = 50 ms,
                                                              VS = 7.6 V to 18 V; L1−L3 (Note 11)
           D3           Duty Cycle 3 =                        THREC(max) = 0.788 × VS,             0.417        0.5
                        tBUS_REC(min) / (2 × TBit)            THDOM(max) = 0.616 × VS,
                                                              Tbit = 96 ms,
                                                              VS = 7 V to 18 V; L1−L3 (Note 11)
           D4           Duty Cycle 4 =                        THREC(min) = 0.389 × VS,              0.5        0.59
                        tBUS_REC(max) / (2 × TBit)            THDOM(min) = 0.251 × VS,
                                                              Tbit = 96 ms
                                                              VS = 7.6 V to 18 V; L1−L3 (Note 11)
                                                           www.onsemi.com
                                                                     12


                                                                   NCV7429
Table 5. ELECTRICAL CHARACTERISTICS (continued)
(6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
        Symbol                         Parameter                               Conditions                  Min    Typ    Max  Unit
LIN TRANSMITTER DYNAMIC CHARACTERISTICS
       T_fall_LIN         LIN Falling Edge                        VS = 12 V; L1, L2 (Note 11);                           22.5  ms
                                                                  Normal slope mode
      T_rise_LIN          LIN Rising Edge                         VS = 12 V; L1, L2 (Note 11);                           22.5  ms
                                                                  Normal slope mode
      T_sym_LIN           LIN Slope Symmetry                      VS = 12 V; L1, L2 (Note 11);              −4       0    4    ms
                                                                  Normal slope mode
   T_fall_norm_LIN        LIN Falling Edge                        VS = 12 V; L3 (Note 11);                                27   ms
                                                                  Normal slope mode
    T_fall_low_LIN        LIN Falling Edge                        VS = 12 V; L3 (Note 11);                                62   ms
                                                                  Low slope mode
  T_rise_norm_LIN         LIN Rising Edge                         VS = 12 V; L3 (Note 11);                                27   ms
                                                                  Normal slope mode
   T_rise_low_LIN         LIN Rising Edge                         VS = 12 V; L3 (Note 11);                                62   ms
                                                                  Low slope mode
  T_sym_norm_LIN          LIN Slope Symmetry                      Normal mode; VS = 12 V;                   −5       0    5    ms
                                                                  L3 (Note 11)
   T_TxDL_timeout         TxDL Dominant Time-out                  SPI setting TxDL_TO[1:0]=“00”             27      55    70  ms
                          Selected by SPI bits TxDL_TO
                                                                  SPI setting TxDL_TO[1:0]=“01”             6       13    20
                                                                  SPI setting TxDL_TO[1:0]=“1X”                 disabled
         C_LIN            Capacitance of the LIN Pin              Guaranteed by design;                             20    30   pF
                                                                  not tested in production
LIN RECEIVER DYNAMIC CHARACTERISTICS
   Trec_prop_down         Propagation Delay of Receiver Fall-      C(RxDL) = 20 pF                                        6    ms
                          ing Edge
     Trec_prop_up         Propagation Delay of Receiver Ris-       C(RxDL) = 20 pF                                        6    ms
                          ing Edge
       Trec_sym           Propagation Delay Symmetry              Trec_prop_down − Trec_prop_up,            −2            2    ms
                                                                   C(RxDL) = 20 pF
     T_LIN_wake           Dominant Duration for Wakeup                                                      30      90   150   ms
 11. The following bus loads are considered: L1 = 1 kW/1 nF; L2 = 680 W/6.8 nF; L3 = 500 W/10 nF.
                     TxDL                  tBIT                     tBIT
                                                             50%
                                                                                                                   t
                       LIN                        tBUS_dom(max)            tBUS_rec(min)
                  TH Rec(max)                                                                    Thresholds of
                  TH Dom(max)                                                                  receiving node 1
                   TH Rec(min)                                                                   Thresholds of
                   TH Dom (min)                                                                receiving node 2
                                                                                                                   t
                                                   tBUS_ dom(min)         tBUS_ rec(max)
                                        Figure 5. LIN Dynamic Characteristics − Duty Cycles
                                                                www.onsemi.com
                                                                         13


                                          NCV7429
  LIN
  100%
                        60%                     60%
                         40%                   40%
    0%
                                                                                t
                            T_fall                           T_rise
            Figure 6. LIN Dynamic Characteristics − Transmitter Slope
 LIN
 VS
                                                                    60% VS
                                                                    40% VS
                                                                                  t
RxDL    Trec _prop _down                        Trec _prop _up
                             50%
                                                                                  t
                  Figure 7. LIN Dynamic Characteristics − Receiver
 LIN
                                    Detection of Remote Wake−Up
VS
                                                                           recessive
                      T_LIN _wake
                                                        60% VS
       40 % VS
                                                                           dominant
                                                                                    t
                                   Figure 8. LIN Wakeup
                                     www.onsemi.com
                                               14


                                                                 NCV7429
 Table 5. ELECTRICAL CHARACTERISTICS (continued)
 (6 V ≤ Vs ≤ 18 V, 6 V ≤ Vs_out ≤ 18 V, −40°C ≤ Tj ≤ 150°C; unless otherwise specified)
         Symbol                       Parameter                             Conditions                   Min       Typ      Max       Unit
 DIGITAL OUTPUTS RXDL/INTN, SDO
        IoutL_pinx       Low-level Output Driving Current      pinx is logical Low,                       2         5         12       mA
                                                               forced V(pinx) = 0.4 V
        IoutH_pinx       High-level Output Driving Current     pinx is logical High,                     −12        −5        −2       mA
                                                               forced V(pinx) = VR1 − 0.4 V
     Ileak_HZ_pinx       Leakage in the Tristate, Pin SDO      pinx in the HZ state,                      −5                  5        mA
                                                               forced 0 V < V(pinx) < VR1
 DIGITAL OUTPUT NRES
       IoutL_NRES        Low-level Output Driving Current      NRES is active (logical Low),              2         5         12       mA
                                                               forced V(NRES) = 0.4 V
      VoutL_NRES         Low-level Output Voltage, Low         VR1 > 2 V, VS < VR1,                                          0.4        V
                         VR1/VS                                I(NRES) = 0.1 mA
                                                               VS > 2 V,                                                     0.4        V
                                                               I(NRES) = 0.1 mA
    Rpullup_NRES         Internal Pull-up Resistor to VR1                                                 55       100       185       kW
 DIGITAL INPUTS SWDM, TXDL, SDI, SCLK, CSN
         VinL_pinx       Low-level Input Voltage                                                          0                  0.8        V
        VinH_pinx        High-level Input Voltage                                                         2                  VR1        V
      Vin_hys_pinx       Input Voltage Hysteresis                                                        100                 500       mV
        Vin_SWDM         SWDM Pin Threshold Voltage                                                       7        8.5        10        V
    Vin_hys_SWDM         SWDM Pin Threshold Hysteresis                                                    10       200       300       mV
      Rpullup_pinx       Internal Pull-up Resistor to VR1;                                                55       100       185       kW
                         Pins TxDL, CSN
    Rpulldown_pinx       Internal Pull-down Resistor to                                                   55       100       185       kW
                         Ground; Pins SWDM, SDI, SCLK
 THERMAL PROTECTION
            Tjw          Thermal Warning Level                                                           125       135       145       °C
           Tjsd1         Thermal Shutdown Level 1                                                        135       147       160       °C
           Tjsd2         Thermal Shutdown Level 2                                                        145       159       175       °C
        Tjsd1−Tjw        Thermal Warning and Thermal                                                      5         12                 °C
                         Shutdown 1 Level Distance
       Tjsd2−Tjsd1       Thermal Shutdown 1 and Thermal                                                   5         12                 °C
                         Shutdown 2 Levels Distance
Product parametric performance is indicated in the Electrical Characteristics for the listed test conditions, unless otherwise noted. Product
performance may not be indicated by the Electrical Characteristics if operated under different conditions.
                                                            www.onsemi.com
                                                                      15


                                                           NCV7429
                                                FUNCTIONAL DESCRIPTION
  The NCV7429 is a monolithic LIN System-Basis-Chip              microcontroller unit (MCU) and related 5 V loads (e.g. its
with enhanced feature set useful in automotive body control      own MCU-related digital inputs/outputs). An external
systems. Besides the LIN bus interface, the IC features a 5 V    capacitor needs to be connected on VR1 pin in order to
voltage regulator, several high-side and low-side switches to    ensure the regulator’s stability and to filter the disturbances
control LEDs and relays plus supervision functionality like      caused by the connected loads. Ceramic X7R 2.2 mF
a window watchdog. This allows a highly integrated               capacitor is recommended.
solution by replacing external discrete components while           VR1 voltage is supplying all digital low-voltage
maintaining the valuable flexibility. Due to this the board      input/output pins.
space and ECU weight can be minimized to the lowest level.         The protection and monitoring of the VR1 regulator
                                                                 consist of the following features:
POWER SUPPLY AND REGULATORS                                      • VR1 Current Limitation – the current protection
VS/VS_OUT – Main Power Supply                                      ensures fast enough charging of the external capacitor
  VS pin is the main power supply of the device, while             at start-up while protecting the regulator in case of
VS_OUT supplies OUT1−3 drivers and WU input. In the                shorts to ground
application, it will be typically connected to the KL30 or       • Junction Temperature Monitor – the junction
KL15 car node. It is necessary to provide an external              temperature is monitored and when it rises above the
reverse-polarity protection and filtering capacitor on the VS      second shutdown level, the VR1 regulator is
supply (see Figure 2).                                             de-activated and the device is forced to the Fail-safe
  VS/VS_OUT supplies are monitored with respect to the             mode in order to protect the regulators and the full
following events:                                                  application. For details, see par. “Thermal Protection”.
• VS power-on reset is detected as a crossing of VS_POR          • VR1 Failure Comparator – during the VR1 start-up and
   level. When VS remains below VS_POR,                            operation, the VR1 voltage is continuously compared
   the device is passive and provides no functionality, the        with Vfail_VR1 level (typ. 2 V). During startup, if VR1
   SPI registers are reset to their default values. When VS        does not rise above Vfail_VR1 level within Tshort_VR1
   rises above VS_PORH, the device starts following its            (typ. 40 ms), it’s considered shorted to ground and the
   state diagram through the power-up state. This event is         device is forced to the Fail-safe mode (see Figure 10).
   latched in the SPI bit “COLD_START” so that the                 During the VR1 operation, any dip below Vfail_VR1
   application software can detect the VS connection.              level longer than Tfail_VR1 (typ. 5 ms) is considered as
• VS_OUT Under-Voltage is detected when VS_OUT                     a failure – temporary excursions of VR1 under the
   falls below VS_OUT_UV threshold (typ. 5.5 V).                   failure threshold can be caused, for example, by EMC,
   A VS_OUT under-voltage can be encountered, for                  and can lead to memory data inconsistencies inside the
   example, with a discharged car battery or during engine         MCU. Both the failure during VR1 startup and the
   cranking. The high-side and low-side drivers are                operation are latched in the “VR1_FAIL” SPI bit for
   typically forced off. The exact driver reaction depends         subsequent software diagnostics.
   on the SPI control settings – see par. “VS_OUT Over-          • VR1 Reset Comparator – the VR1 regulator output is
   and Under-Voltage”. Under-voltage events are flagged            compared with a reset level VR1_RES (programmable
   through SPI bit “VS_OUT_UV”.                                    to typ. 74%, 79%, 87% and 91% of the nominal VR1
• VS_OUT Over-Voltage is detected when VS_OUT                      voltage). If the VR1 level drops below this level for
   rises over VS_OUT_OV threshold (typ. 21 V). Similarly           longer than Tfilt_VR1_RES (typ. 16 ms), a reset towards
   to the under-voltage, the high-side and low-side drivers        the MCU is generated through the NRES pin and all
   are de-activated based on the SPI settings and the event        outputs (OUT1−3, LS1/2) are switched off and all the
   is flagged through SPI bit “VS_OUT_OV”.                         control registers are set to their defaults, except
                                                                   “FSO_DIS” bit setting (see Figure 11).
GND1, GND2 – Ground Connections                                  • VR1 Consumption Monitor (Icmp) – to ensure a safe
  The device ground connection is split to two pins – GND1         transition into the Standby mode, where VR1 remains
and GND2. Both pins have to be connected on the
                                                                   active while the watchdog is off, the VR1 current
application PCB.
                                                                   consumption is monitored. The watchdog is really
Regulator VR1                                                      disabled in the Standby mode only when the VR1
  VR1 is a low-drop output regulator providing 5 V voltage         consumption falls below Icmp_VR1_fall (typ. 1.1 mA).
derived from the VS main supply. It is able to deliver up to       An increase of the VR1 consumption above the
150 mA and is primarily intended to supply the application         Icmp_VR1_rise level activates the watchdog again.
                                                       www.onsemi.com
                                                              16


                                                                                                                                                     NCV7429
   SPI: VR1_FAIL                                                          0                                              0                           1                                                                  1                                 1                            0                                  0
SPI: COLD_START                                                           1                                                    1                                          0                                             0                                                          0                                      0
        VS
      VS_UV
     VS_POR
                                            <Tshort_VR1                                                             <Tfilt_VR1_RES                        Tfilt_VR1_RES   Tdel_VR1_RES                  Tfilt_VR1_RES                                                                      Tfilt_VR1_RES   Tdel_VR1_RES
       VR1
    VR1_RES
    Vfail_VR1
                                                                                             <Tfail_VR1                                         >Tfail_VR1
     NRES
                                                                                                                                                                                                                            T_NRES
                                                          Tfilt_VR1_RES   Tdel_VR1_RES
                                                                                                T_NRES
       SPI
                All regs reset to default
                                                                                                                                                                                                                                                              VR1_FAIL reset
                                                                                                                                   VR1_FAIL=1
                                                                                                                                                      COLD_START reset by
                                                                                                                                                                                                                                                                 by successful
                                                                                                                                                        first successful read
                                                                                                                                                                                                                                                               “read & clear”
                      COLD_START=1
                                                                                                                                                               All control regs
                                                                                                                                                               reset to default
                                                                                                                              Figure 9. VR1 Monitoring
                Mode Sleep mode                                                                                                                                                                                                                       Normal mode
                                                                                                         init                Fail−safe mode                                                   init     Reset
             Watchdog    off                                                                                                                                                                                                                       timeout −> window
         : SPI VR1_FAIL                                                                  0                                                            1                                                                                               1                            0
                                                                                              VR1 failure                                                                                            < Tshort_VR1
                                                                                             during startup                                           VR1_RES
                                            VR1                    Vfail_VR1                                                                                                                                            VR1 startup
                                                                                                                                                                                                                        successfull
                                                                                                                Tshort_VR1
                                                                                                                                                                                         Tdel_VR1_RES
                                 NRES
                                                                                                                                                                                                                                   ÎÎÎÎÎ
                                                                                                                                                                                                                                   ÎÎÎÎÎ
                                                                                                                                                                                                       T_NRES
                                                                                                                                                                                                                                               OUTx, LS1/2
                                   OUTx                                                                                                                                                                                                       setting ignored
                                            FSO
                                                                                                    Wakeup
                                                                                                                                                                                           Wakeup                                       OUTx/LSx
                                                                                                                                                                                                                                                                  VR1_FAIL flag
                                                                                                  VR1 failure
                                                                                                                                                                                                                                                                    read & clear
                                                                                                                                                                                                                              activation command
                                                                                              Figure 10. VR1 Monitoring − VR1 Failure during Startup
                                                                                                                                                www.onsemi.com
                                                                                                                                                                          17


                                                                                                NCV7429
     Mode       Normal / Standby mode                                                                                           Normal mode
                                                                                               Reset
  Watchdog       timeout / window / off                                                                                      timeout −> window
 SPI VR1_FAIL                               0                                                    0                                                             0
                                                              VR1 overload
                                         VR1_RESx
        VR1                              Vfail_VR1
                                                                                                         Tfilt_VR1_RES
                                                        Tfilt_VR1_RES
                                                                                                          Tdel_VR1_RES
      NRES
                                                                                                          T_NRES
      OUTx
        FSO
                                                             All control registers                                                                  OUTx/LSx
                          OUTx/LSx
                                                                  reset to default
                activation command                                                                                                        activation command
                                                    Figure 11. VR1 Monitoring − VR1 Undervoltage
      Mode         Normal / Standby mode                                                                                                  Normal mode
                                                                                                 Reset
   Watchdog         timeout / window / off                                                                                             timeout −> window
SPI: VR1_FAIL                                   0                         1                          1                                           1                                  0
                                                                             VR1 short
                                          VR1_RESx
         VR1                              Vfail_VR1
                                                                                                           Tfilt_VR1_RES
                                                                                                             Tdel_VR1_RES
       NRES
                                                                                                                                   ÎÎÎÎÎ
                                                                                                                                   ÎÎÎÎÎ
                                                                                                             T_NRES
                                                                                                                                             OUTx , LS1/2
                                                                                                                                   ÎÎÎÎÎ
       OUTx                                                                                                                                 setting ignored
         FSO
                                                           Tfail_VR1
                                                                     All control registers
                                                                                                                                                                   VR1_FAIL flag
                              OUTx/LSx                                                                                                OUTx/LSx
                                                                                                                                                                     read & clear
                                                                          reset to default
                    activation command                                                                                      activation command
                        Figure 12. VR1 Monitoring − VR1 Short in Normal/Standby Mode
                                                                                             www.onsemi.com
                                                                                                     18


                                                              NCV7429
COMMUNICATION TRANSCEIVER                                          HIGH- AND LOW-SIDE DRIVERS
LIN Transceiver                                                    High-Side Drivers OUT1−3
   The NCV7429 on-chip LIN transceiver is an interface                High-side drivers OUT1−OUT3 are designed to supply
between a physical LIN bus and the LIN protocol controller.        mainly LED’s or switches (for cyclic monitoring). When
It is compatible to LIN2.x and J2602 specifications.               switched on, they connect the corresponding pin to the
   The LIN is supplied solely from the VS pin and its state        VS_OUT supply. Driver OUT1 can be configured to have
control is as follows:                                             two distinct levels of on-resistance; typically 5 W in
• In the Normal mode of the device, LIN transceiver                “normal-ohmic” configuration (default) and typically 20 W
    transmits dominant or recessive symbols on the LIN             in “high-ohmic” configuration. Drivers OUT2−3 have
    bus based on the logical level on TxDL pin. The signal         a typical on-resistance of 5 W.
    received from the bus is indicated on RxDL pin. Both              At the VS power-up or wakeup from the Sleep mode, all
    logical pins are referred to the VR1 supply. A resistive       OUT1−3 drivers are off. Immediately after the device enters
    pull-up path of typ. 30 kW is internally connected             the Normal mode, they can be set to one of the following
    between LIN and VS.                                            states via the corresponding SPI bits:
• In the Standby and Sleep mode of the device, the LIN             • Driver is off in all modes (default)
    transceiver is in its wakeup detection state. Logical          • Driver is on in all modes, except Fail-safe mode
    level on TxDL is ignored and pin RxDL is kept high             • Driver is activated periodically in all modes, except
    until it’s used as an interrupt request signal. A LIN bus         Fail-safe mode. The periodicity is driven either by
    wakeup corresponds to a dominant symbol at least                  Timer 1 (period from 0.5 sec to 4 sec, on time 10 ms or
    T_LIN_wake long (typ. 90 ms) followed by a rising                 20 ms) or Timer 2 (period from 10 ms to 200 ms, on
    edge (i.e. transition to recessive) – see Figure 8. In this       time 100 ms, 200 ms, 1 ms or 5 ms). Periodical
    way, false wakeups due to permanent LIN dominant                  activation can be used, for example, for LED flashing
    failures are avoided. Only a pull-up current of typ.              or cyclic contact monitoring.
    15 mA is connected between VS and LIN instead of the           • Driver is controlled by the on-chip PWM controller in
    30 kW pull-up path. The LIN wakeup detection is by                all modes, except Fail-safe mode. Each OUTx driver
    default active in the Standby and Sleep modes and can             has a dedicated 7-bit PWM duty cycle and the base
    be disabled via SPI control registers.                            frequency selectable through individual SPI settings.
   The LIN transceiver features SPI-configurable TxDL                 The SPI settings for the drivers are applied immediately
dominant time-out timer. This circuit, if enabled, prevents        after the SPI frame is successfully completed (CSN rising
the bus lines being driven to a permanent dominant state           edge) as long as FSO is not active. This can be done even
(blocking all network communication) if pin TxDL is forced         immediately after the device initialization before the first
permanently low by a hardware and/or software application          watchdog service.
failure. The timer is triggered by a negative edge on pin             All OUTx outputs are protected by the following features:
TxDL. If the duration of the low-level on pin TxDL exceeds         • Over-current protection and current limitation: if the
the internal timer value T_TxDL_timeout, the transmitter is
                                                                      driver current exceeds the over-current limit for longer
disabled, driving the bus into a recessive state and the event
                                                                      than Tfilt_OLD_OUTx (typ. 60 ms), the event is latched
is latched in the SPI status bit “TO_TxDL”. The
                                                                      into the SPI status bits and the driver is disabled. It will
transmission is de-blocked when “TO_TxDL” bit is reset by
                                                                      be again enabled only when the corresponding SPI flag
the corresponding register “read and clear” and TxDL pin
                                                                      is read and cleared. The over-current event in the
returns to high (recessive) state.
                                                                      Standby or Sleep mode causes the interrupt in case SPI
   The LIN transceiver provides two LIN slope control
                                                                      bit “WU_OC” is set.
modes, configured by SPI bit “LIN_SLOPE”.
   In normal slope mode the transceiver can transmit and           • Under-load detection: during the on-time of the driver,
receive data via LIN bus with speed up to 20 kBaud                    a too low current indicates missing load. The
according LIN2.x specification. This mode is used by                  under-load event is latched into the corresponding SPI
default.                                                              status bits; however, the driver is not disabled and
   In low slope mode the slew rate of the signal on the LIN           remains controlled according the SPI bits.
bus is reduced (rising and falling edges of the LIN bus signal     • Thermal protection and VS_OUT under/over-voltage
are longer). This further reduces the EMC emission. As a              protection: through monitoring of the junction
consequence the maximum speed on the LIN bus is reduced               temperature and the VS_OUT supply voltage; all loads
up to 10 kBaud. This mode is suited for applications where            are protected as described in par. “Protection”. If SPI
the communication speed is not critical. The low slope mode           bit “WU_TSD” resp. “WU_OVUV” is set, the thermal
can be configured by setting SPI bit “LIN_SLOPE”.                     shutdown 1 event resp. VS_OUT over-/under-voltage
                                                                      in the Standby or Sleep mode causes the interrupt.
                                                         www.onsemi.com
                                                                19


                                                             NCV7429
  OUT3 output is also intended for failure indication. By             (period from 10 ms to 200 ms). WU is left to settle
default, OUT3 switch is not controlled by the SPI settings            during the on-time and the state detection is started
but by the internal FSO signal – see section “Fail-Safe (FSO)         20 ms before the on-time end through a filter of typ.
Signal”. Only when the FSO signal is disconnected from                16 ms. The result of the periodical state detection is
OUT3 by setting SPI bit “FSO_DIS”, OUT3 acts identically              latched into the SPI status register and is not updated
to OUT1 and OUT2.                                                     until the next period of the selected timer. A wakeup is
                                                                      detected in case sample of the WU state changes in any
Low-Side Drivers LS1/2
                                                                      direction.
  NCV7429 offers two low-side drivers LS1 and LS2
primarily intended to drive relays, typically:                        Additionally, the WU input can be internally pre-biased
• R = 160 W ± 10%, L = 240/300 mH                                  through individual control bits by a pull-down
• R = 220 W ± 10%, L = 330/420 mH                                  (WU_PUD=0) or pull-up (WU_PUD=1) current source.
  For the relay demagnetization, LS1/2 drivers feature             The pre-bias is disabled in Standby or Sleep mode if WU
active flyback clamps towards ground (no diode to                  wakeup is disabled (WU_DIS=1).
VS_OUT) allowing to keep the load off even under                      In case cyclic sense is used, the WU timer settings must
load-dump condition on VS_OUT. Alternatively, LS1/2 can            be correctly chosen together with the high-side output
drive LED’s.                                                       settings. The driver physically ensuring the periodical
  LS1/2 can be configured in one of the following states:          contact supply must be set for the same timer as the contact
• Off in all modes (default)                                       monitor by the MCU software.
• On in the Normal mode; off in all other modes                    OPERATING MODES
• Controlled by individual PWM in the Normal mode; off                NCV7429 can be configured to different operating modes
   in all other modes. If a relay is connected to the output,      in function of the application needs and the external
   this setting should not be used.                                conditions. The device resources can be enabled/disabled and
  LS1/2 outputs are protected by the following features:           the overall power consumption can be adapted to the
• Over-current protection and current limitation: if the           electronic module state – ranging from full power mode down
   driver current exceeds the over-current limit for longer        to a very low quiescent current “sleep” mode. The principal
   than Tfilt_OLD_LS1/2 (typ. 60 ms), the event is latched         operating modes of NCV7429 are shown in Figure 13.
   into the SPI status bits and the driver is disabled. It will
                                                                   Un-Powered and Init Modes
   be again enabled only when the corresponding SPI flag              As long as VS remains below the VS_POR level (typ.
   is read and cleared.                                            3.45 V), the device is held in power-up reset. All outputs
• Thermal protection and VS_OUT under/over-voltage                 except NRES are in HiZ state, the linear regulator output is
   protection: through monitoring of the junction                  off.
   temperature and the VS_OUT supply voltage; all loads               As soon as the VS main supply exceeds the power-on reset
   are protected as described in par. “Protection”.                level, the device enters an initialization sequence
                                                                   represented by a transient “init” mode. All SPI registers are
WAKEUP INPUT WU                                                    set to their default values, “COLD_START” SPI bit is set
  NCV7429 offers an independent contact-monitoring                 high for subsequent diagnostics and the VR1 regulator is
input WU which can be used either for Normal-mode                  started. After a successful start of the VR1 regulator (i.e.
contact polling or for contact change detection during the         VR1 exceeds the Vfail_VR1 level in less than Tshort_VR1 –
Standby and Sleep modes. In any mode, the WU input can             typ. 40 ms), NRES is still kept low until VR1 reaches its
be configured into one of the following modes of operation:        reset level. After another 2 ms (parameter T_NRES), NRES
• Static sense: the WU input is constantly monitored by            is released to high and the device enters Normal mode with
   an input comparator and a filter of typ. 64 ms. In the          timeout watchdog.
   Normal mode, the result of the comparison (the input               In case VR1 does not start within Tshort_VR1, it’s again
   high/low state) can be polled any time through the SPI          disabled, SPI “VR1_FAIL” bit is set and the device enters
   status bits. In the Standby and Sleep modes, a change of        Fail-safe mode. The Fail-safe mode can be exited via any
   the WU polarity (in any direction) is recognized as a           valid wakeup event or by VS re-connection. The
   wakeup event. The MCU can then recognize the exact              initialization sequence is shown in Figure 12.
   WU wakeup source by reading “WU_WU” SPI status                     During Init phase, the SWDM input is sampled. In case
   bits.                                                           SWDM is High, the Software Development mode is entered
• Cyclic sense: the WU state detection is performed                and watchdog is disabled in all modes until the following Init
   periodically as fostered by one of the internal timers:         mode. SWDM pin can be sampled upon SPI request as well.
   Timer 1 (period from 0.5 sec to 4 sec) or Timer 2
                                                        www.onsemi.com
                                                                20


                                                             NCV7429
Normal Mode                                                        Fail-Safe Mode
   In this mode the device provides full functionality, all           Fail-safe mode is the mode equals to the Sleep mode, but
resources are available. The voltage regulator VR1 is able to      all peripherals (VR1, OUT1−3, LS1/2) and the watchdog are
source 150 mA. MCU can enable/disable the device features          inactive.
via SPI as well as monitor the status of the device.                  The Fail-safe mode is entered after following failure
   VR1 level is monitored through reset and failure                conditions:
comparators – see Figure 12. When the Normal mode is               • VR1 did not reach Vfail_VR1 level (typ. 2 V) within
entered, the watchdog is started in a timeout mode;                   Tshort_VR1 during startup (VS connection or wakeup
a window watchdog mode is applied after the first correct             from Sleep mode)
watchdog service. The watchdog has to be correctly                 • Fifteen consecutive watchdog failures occur
triggered; otherwise a watchdog failure is detected resulting
in reset signal to the MCU. Afterwards, the watchdog is
                                                                   • The device junction temperature exceeded thermal
                                                                      shutdown level Tjsd2 (typ. 155°C) for eight times
re-started in the timeout mode. After eight consecutive
                                                                      within one minute
watchdog failures, the VR1 regulator is disabled for 200 ms
and re-started again. If the watchdog service still fails seven       Wakeup from Fail-safe mode is indicated by SPI flag
more times, the device is put into Fail-safe mode. The             “FAIL-SAFE”.
Fail-safe mode can then be exited either via a wakeup or VS
re-connection.                                                     Flash Mode
   Through SPI bits “MODE[1:0]”, the MCU can either keep              Flash mode is identical to the Normal mode with the
the device in the Normal mode, or request transition into one      exception of the watchdog which operates in timeout mode.
of the low-power modes – Standby or Sleep.                         The purpose of the Flash mode is to enable transfer of bigger
                                                                   bulk of data between the MCU and a programming interface
Standby Mode                                                       – typically in the field. The Flash mode is entered by setting
   Standby mode is the first low-power mode. The voltage           dedicated SPI bit FLASH_RDY in CONTROL_2 register
regulator VR1 remains active while the watchdog is                 followed by “MODE[1:0]” = 11b request.
disabled. The Standby mode is mainly intended to keep the
application powered (e.g. for RAM content preservation)            Software Development Mode
while the MCU is in a halt-state (software not running).              Software Development mode is identical to the Normal
   In order to make a safe transition into the Standby mode,       mode with the exception of the watchdog which is disabled.
the watchdog will remain enabled even in the Standby mode          The purpose of the Software Development mode is to enable
until the consumption from VR1 decreases below                     software debugging without watchdog interaction or
Icmp_VR1_fall level (typ. 1.1 mA). When the VR1                    transfer of bigger bulk of data between the MCU and
consumption increases back above Icmp_VR1_rise level               a programming interface – typically during the
(typ. 1.7 mA), the device will perform a wakeup from the           module-level production.
Standby mode to ensure supervision of the MCU software.               The Software Development mode will be entered if the
The current supervision of VR1 can be disabled via SPI by          voltage applied on SWDM pin exceeds the corresponding
setting the bit “ICMP_STBY”.                                       comparison level Vin_SWDM in the Init phase or is SWDM
   During the Standby mode, several types of wakeup events         sampling is requested by “SWDM_SAMP” SPI bit.
can be signaled to the MCU through INTN pin: timer1 or             Sampled SWDM state is latched in read-only “SWDM” SPI
timer2 expiration, wakeup on LIN bus, change on WU pin             bit. As SWDM pin is high-voltage tolerant, it might be tied
or SPI activity. SPI activity wakeup is not signaled through       to the VS line through a protection resistor.
INTN pin. The watchdog is started in timeout mode and
MCU can request a mode transition afterwards. VR1 also
continues to be monitored by the reset circuit, which will
generate a low NRES pulse in case the regulator output
drops below the reset level.
Sleep Mode
   Sleep mode is the mode with the lowest consumption.
VR1 regulator and the watchdog are inactive. The device
maintains minimum operation allowing reception of
wake-up events generated by WU input, LIN bus line, or
driven by timer1 or timer2. In case of a wake-up event, the
device switches from the Sleep mode to the Normal mode
(through the Init mode, as the VR1 must be started similarly
to the VS power-up). SPI bit WD_TRIG is set to 0 after
a wakeup.
                                                         www.onsemi.com
                                                                21


                                                                                                           NCV7429
                                                                                    Failure condition:
                                                                                    • TSD 2 recovery
                                                                                                     All control registers
    VS < VS_POR                                                                                          set to default
                                                                                          Init Mode                                                                                           Fail−safe Mode
                                                                                       (transition mode)
                                                                                                                                                                                            All registers set to default
                                                  VS > VS_POR                            VR1: started − up                                          Wakeup                                            VR1: off
                      Un−Powered                                                      OUT 1−3 :per SPI                                                                                            OUT1−3 : off
                                                  All control registers                     LS1/2: off                                                   All control registers                     LS 1/2 : off
                                                      set to default                     Watchdog : off                                                      set to default                       Watchdog : off
                                                                                          LIN : inactive                                                                                     LIN: wakeup detection
                                                                                  FSO: as per FSO generator                                                                                          FSO : on
                                                                                          NRES : Low                                                                                               NRES : Low
                                                         VR1 > Vfail_VR1 (typ. 2 V)                            VR1 > Vfail_VR1 (typ. 2 V)
                                                      before Tshort_VR1 (typ. 40 ms)                        before Tshort_VR1 (typ. 40 ms)
                                                         and SWDM> Vin_SWDM                                     and SWDM< Vin_SWDM                                                Fail−safe condition:
                                                                                                                                                                                  • VR1 < Vfail_VR1 after Tshort_VR1 (from Init ),
                                                                                                                                                                                  • 15 consecutive watchdog failures ,
                                                                                                                                                                                  • 8 consecutive TSD 2 events
                                                       Reset                                                                        Reset
                                                (transition mode)                                                              (transition mode)
                                                                                                                                                           Reset event:
          Reset event:
                                                                                                                                                           • VR1 < VR1_RESx,
          • VR1 < VR1_RESx                             VR1: on                                                                      VR1: on
                                                                                                                                                           • watchdog failure
                                              OUT 1−3 : per SPI                                                              OUT 1− 3: per SPI
                                                     LS1/2: off                                                                    LS 1/2: off
          All control registers                                                                                                                            All control registers
                                                  Watchdog : off                                                                 Watchdog : off
              set to default                           LIN : off                                                                    LIN : off                  set to default
                                          FSO : as per FSO generator                                                     FSO : as per FSO generator
                                                   NRES : Low                                                                     NRES : Low
                                                                                                                              Normal Mode
                                        Software Development                                                               Timeout Watchdog
                                                       Mode
                                                                                                                                    VR1: on
SWDM pin sample request                        Watchdog off                                                                  OUT 1−3 : per SPI
                                                                                                                                                                     SWDM pin sample request
        and                                                                                                                                                                      and
                                                                                                                              LS 1/2: off /on /PWM
  SWDM > Vin_SWDM                                                                                                                                                       SWDM < Vin_SWDM
                                                                                                                             Watchdog : timeout
                                       All other functions equal to Normal                                               LIN : normal communication
                                         mode incl. all mode transitions                                                 FSO : as per FSO generator
                                                                                                                                  NRES : High
                                                                                                                                                                                                   Wakeup
                                                                                                                                                     SPI request to keep
                                                                                                                                                        Normal / Flash
                                                                                                                         Normal/Flash Mode
                                                                                                                     Window/Timeout Watchdog
                                                                                                                                    VR1: on
                                                                                                                            OUT 1−3 : per SPI
                                                                                                                             LS 1/2: off /on /PWM
                                                                                                                         Watchdog : window /timeout
                                                                                                                         LIN : normal communication
                                                                        Normal mode                                      FSO : as per FSO generator
                                                                         SPI request                                              NRES : High
                                 I(VR1) < Icmp_VR1 (if enabled)
                                               and
                                   no Wakeup request pending                                                                                                                   Sleep mode
                                                                                 Standby mode                                                                                  SPI request
                                                                                  SPI request
              Standby Mode                                       Standby Mode
               Watchdog off                                    Timeout Watchdog                                                                                                     Sleep Mode
                     VR1: on                                            VR1: on                                                                                                          VR1: off
              OUT 1−3: per SPI                                   OUT 1 − 3 : per SPI                                                                                               OUT 1 −3: per SPI
                   LS 1/ 2 : off                                     LS 1/2: off                                                                                                       LS 1/2: off
                Watchdog : off                                   Watchdog : timeout                                                                                                  Watchdog : off
          LIN : wakeup detection / off                        LIN : wakeup detection / off                                                                                     LIN: wakeup detection /off
         FSO : as per FSO generator                          FSO : as per FSO generator                                                                                       FSO : as per FSO generator
                  NRES : High                                        NRES : High                                                                                                       NRES : Low
                                 I(VR1) > Icmp_VR1 (if enabled)
                                                or
                                             Wakeup
                                                                              Figure 13. Principal Operating Modes
                                                                                                   www.onsemi.com
                                                                                                                    22


                                                         NCV7429
WAKE-UP EVENTS                                                    Every valid wakeup event starts the timeout watchdog,
  In the Standby and Sleep modes, NCV7429 can detect           which then must be correctly triggered. If another wakeup
several types of wake-up events summarized in Table 6:         event occurs during the initial timeout watchdog, the
• In the Sleep mode, a wakeup will cause initialization of     watchdog is not re-started and another interrupt request
  VR1 regulator and transition to a Reset mode. After the      (pulse on INTN pin) is generated only if the corresponding
  release of the NRES signal, the timeout watchdog will        wakeup flag is located in different status register. E.g., LIN
  be started and the device enters the Normal mode – i.e.      wakeup will start the watchdog timeout timer while the
  the SPI settings for outputs will be applied immediately.    device remains in the Standby mode. If, for example, a WU
  The following events will cause wakeup from the Sleep        pin wakeup is then detected, it will be latched into the SPI
  mode:                                                        registers, but no new interrupt will be generated and the
   ♦ Bus wakeup through LIN – can be enabled/disabled          watchdog will keep running. If VS_OUT overvoltage is
     through SPI.                                              detected afterwards, new interrupt will be generated. This
   ♦ Switch monitoring on WU input – can be configured         example is shown in Figure 14 and Figure 15.
     and enabled/disabled through SPI.                            In all wakeup cases in the Standby mode, the device
   ♦ Timer wakeup – timer1 and timer2 can be                   remains in the Standby mode with watchdog running until
     configured to cause a wakeup after a fixed time           it is changed. SPI settings for drivers are applied after the
     period – the selected timer is started at the moment      correct watchdog service.
     the Sleep mode is requested and causes wakeup                In case LIN, WU pin and Timer1/2 wakeup sources are
     immediately when the selected time period expires.        disabled while the Standby or Sleep mode is entered through
     The timer wakeup can be configured and                    a SPI request, LIN and WU wakeup is automatically enabled
     enabled/disabled by SPI.                                  (SPI bits “WU_LIN_DIS” and “WU_DIS” are ignored).
   ♦ Thermal shutdown 1 – enabled if “WU_TSD” is set.
                                                                  SPI wakeup flags have to be cleared before transition to
   ♦ OUT1−3 overcurrent – enabled if “WU_OC” is set.
                                                               the Standby or Sleep mode is requested, otherwise
   ♦ VS_OUT over-/under-voltage – enabled if
                                                               immediate wakeup occurs.
     “WU_OVUV” is set.
• From the Standby mode, where VR1 remains active,
  a wakeup event will cause watchdog startup in timeout
  mode:
   ♦ SPI wakeup (CSN low and rising edge on SCLK).
     Interrupt request is not generated.
   ♦ VR1 consumption wakeup (VR1 consumption
     exceeds the Icmp_VR1_rise level; can be disabled by
     SPI control). Interrupt request is generated. If VR1
     consumption falls below the Icmp_VR1_fall level
     within the timeout period, the watchdog is disabled
     again.
   ♦ Bus wakeup through LIN, switch monitoring on
     WU, timer wakeups, thermal shutdown 1, OUT1−3
     overcurrent and VS_OUT over-/under-voltage have
     the same meaning as in the Sleep mode. Any of
     them will cause an interrupt request, if enabled.
                                                      www.onsemi.com
                                                            23


                                                                       NCV7429
Table 6. WAKEUP EVENTS
                                                                                                                                                                                   NRES      INTN
Device Mode        Wakeup Event             SPI Default                       SPI Control                                                  SPI Flag
                                                                                                                                                                                   Pulse     Pulse
                 SPI                            N/A                    Cannot be Disabled                                      N/A                                                            No
                 I(VR1) > Icmp               Enabled                   ICMP_STBY                                               N/A
                 Bus Wakeup (LIN)            Enabled                   WU_LIN_DIS                                              STATUS_0.WU_LIN
                 WU Change                   Enabled                   WU_DIS                                                  STATUS_0.WU_WU
Standby                                                                                                                                                                              No
                 Timer1/2 Wakeup             Disabled                  WU_TIM_EN[1:0]                                          STATUS_0.WU_TIM
                                                                                                                                                                                             Yes
                 TSD1                        Disabled                  WU_TSD                                                  STATUS_1.TSD1
                                                                                                                               STATUS_1.VS_OUT_OV,
                 VS_OUT OV/UV                Disabled                  WU_OVUV
                                                                                                                               STATUS_1.VS_OUT_UV
                 OUT1−3 Overcurrent          Disabled                  WU_OC                                                   STATUS_2.OUTx_OC
                 Bus Wakeup (LIN)            Enabled                   WU_LIN_DIS                                              STATUS_0.WU_LIN
                 WU Change                   Enabled                   WU_DIS                                                  STATUS_0.WU_WU
                 Timer1/2 Wakeup             Disabled                  WU_TIM_EN[1:0]                                          STATUS_0.WU_TIM
Sleep            TSD1                        Disabled                  WU_TSD                                                  STATUS_1.TSD1                                         Yes      No
                                                                                                                               STATUS_1.VS_OUT_OV,
                 VS_OUT OV/UV                Disabled                  WU_OVUV
                                                                                                                               STATUS_1.VS_OUT_UV
                 OUT1−3 Overcurrent          Disabled                  WU_OC                                                   STATUS_2.OUTx_OC
                 Bus Wakeup (LIN)            Enabled                   Cannot be Disabled                                      STATUS_0.WU_LIN
Fail-safe        WU Change                   Enabled                   (settings ignored)                                      STATUS_0.WU_WU                                        Yes      No
                 Timer1/2 Wakeup             Disabled                  WU_TIM_EN[1:0]                                          STATUS_0.WU_TIM
                Mode                                    Standby mode                                                                                                     Standby mode
             Watchdog                 off                                                                   timeout                                                    timeout     off
            SPI: WU_LIN                0                                                   1                                                                           0
            SPI: WU_WU                      0                                                         1                                                                0
        SPI: VS_OUT_OV                           0                                                                         1                                               0
                 RxDL/
                  INTN
                                                T_INTN                         T_INTN
                                 MCU stopped                                                                                                                                   MCU stopped
              VR1 load                                                                                               MCU running
                                                                                               VS ov e r−v olta ge                                Watchdog service +
                                                                                                                        STATUS_0     STATUS_1
                                                          LIN wakeup      WU wakeup                                     read&clear   read&clear
                                                                                               wakeup (enabled)
                                                                                                                                                    Standby request
                          Figure 14. Interrupt Generation, VR1 Current Comparator Enabled
                                                          www.onsemi.com
                                                                                      24


                                                                   NCV7429
                 Mode                                Standby mode                                                                                            Standby mode
              Watchdog                 off                                                       timeout                                                          off
            SPI: WU_LIN                 0                                       1                                                                        0
            SPI: WU_WU                       0                                             1                                                             0
       SPI: VS_OUT_OV                            0                                                           1                                                  0
                  RxDL/
                   INTN
                                                                            T_INTN
                                                                                    V S o v er−v oltage                             Watchdog service +
                                                                                                          STATUS_0     STATUS_1
                                                      LIN wakeup    WU wakeup                             read&clear   read&clear
                                                                                    wakeup (enabled)
                                                                                                                                      Standby request
                          Figure 15. Interrupt Generation, VR1 Current Comparator Disabled
WATCHDOG                                                                        • Window: the watchdog time is split to two distinct parts
   The on-chip watchdog requires that the MCU software                                – a closed window, where the watchdog may not be
sends specific SPI messages (watchdog “triggers” or                                   triggered, is followed by an open window where the
“services”) in a specified time frame. A correct watchdog                             MCU must send a valid watchdog trigger. Window
trigger/service consists of a write access to SPI register                            watchdog is used during the Normal operating mode of
CONTROL_0 with “WD_TRIG” bit inverted compared to                                     the device after the initial timeout watchdog is correctly
its previous state. The watchdog timer re-starts immediately                          triggered. Position of the watchdog counter inside the
after a successful trigger is received.                                               open window is reflected in SPI status bits
   A read access to the CONTROL_0 register or a write                                 “WD_STATUS[1:0]”.
access with “WD_TRIG” bit unchanged does not trigger the                        •     Failure: If the watchdog is not triggered correctly
watchdog. The moment of the watchdog trigger corresponds
                                                                                      (trigger not sent during timeout or open window; or
to the rising edge of the CSN signal (end of the SPI frame).
                                                                                      sent during the closed window), reset is generated on
   The watchdog can work in the following modes (see
                                                                                      pin NRES and the “WD_TRIG” bit is reset to ”0”.
Figure 4 and Figure 16):
                                                                                      After the NRES release, the watchdog always starts in
• Off; the watchdog is always off in the Sleep and                                    the timeout mode. Watchdog failures are counted and
   Software development modes. It is also off in the                                  their number can be read from the SPI status registers
   Standby mode, provided that the VR1 consumption                                    (bits “WD_CNT[3:0]”). After eight watchdog failures
   stays below the Icmp_VR1_rise limit, or when the Icmp                              in sequence, the VR1 regulator is switched off for
   comparator is disabled.                                                            200 ms. In case of seven more watchdog failures, VR1
• Timeout: the watchdog works as a timeout timer. The                                 is completely turned off and the device goes into
   MCU software must serve the watchdog any time                                      Fail-safe mode until a wake-up occurs (e.g. via the LIN
   before the time-out expiration. Timeout watchdog is                                bus). Second successful watchdog trigger (first in
   started after reset events (power-up, watchdog failure,                            window mode) resets the failure counter. Watchdog
   VR1 under-voltage, thermal shutdown 2), by any                                     failure handling is shown in Figure 17 and Figure 18.
   wakeup event from both Standby and Sleep mode and
   in Flash mode. After NRES event, the timeout is typ.                           The watchdog time for window mode is selectable from
   65 ms, while in the Flash mode the timeout may be                            four different values by SPI bits “WD_PER[1:0]”. The
   selected via SPI. The timeout watchdog is started                            watchdog time setting is applied only if it’s contained in an
   regardless if the wakeup is or is not accompanied by a                       SPI frame representing a correct watchdog trigger message.
   reset. Watchdog counter position is reflected in SPI                         The setting is ignored otherwise.
   status bits “WD_STATUS[1:0]”.
                                                     www.onsemi.com
                                                                          25


                                                                    NCV7429
                                               Any reset event, except WD failure
                                                     SPI bit WD_TRIG = 0                     Init mode
                                                                    TIME−OUT Watchdog                                                             (Standby requested
                                                                                                                                          AND (I(VR1)<Icmp OR Icmp disabled))
                                                                        No Failure                                                                OR Sleep requested
                                                                     WD started as a timeout
                             WD trigger OK                        HS drivers: as per SPI/ mode
                    Normal / Flash mode requested                 LS drivers: as per SPI/ mode
                                                                      LIN : as per SPI/ mode
                                                                FSO : off in no other failure occured
WD trigger OK
                                                                                                                                                      Wakeup
                                                                         WD trigger failed
        WINDOW Watchdog (Normal)                                                                           (Standby requested
        TIME−OUT Watchdog (Flash)                                                                                                                      Watchdog OFF
       WD started as window (closed+open) or                                                       AND (I(VR1)<Icmp OR Icmp disabled ))
                       timeout                                                                                                                           WD de −activated
           SPI counter WD_CNT cleared                                                                                                            HS drivers: as per SPI/ mode
                                                                                                           OR Sleep requested
           HS drivers: as per SPI/ mode                                                                                                              LS drivers: SPI / mode
            LS drivers: as per SPI/ mode                  WD trigger failed                                                                          LIN : as per SPI/ mode
               LIN : as per SPI/ mode                                                                                                          FSO : off in no other failure occured
        FSO :off in no other failure occurred
                                                                                                          OR thermal shutdown 2
                                                                                                                                                           HW condition
                                                                                                                                                  for Software Development mode
                                                                      Watchdog failure
                                                                      (transient state)
                                                                        2 ms NRES pulse
                                                                 SPI counter WD_CNT incremented
                                                                       SPI bit WD_TRIG = 0
                                                                         HS drivers: off
                WD trigger OK
                                                                          LS drivers: off
                                                                             LIN : off                                                                    VR1 Off
                                WD trigger failed
                                                                             FSO : on                                                                 (transient state)
                                                                                                                                              VR1 off for 200 ms, WD de−activated
                                                             WD trigger                                                                                  HS drivers: off
                                                                          NRES
                                                               failed                        VR1 re−initialized                                          LS drivers: off
                                                                         released
                                                               AND                             after 200 ms                                                 LIN : off
                                                                        after 2 ms
                                                          WD _CNT 08/15                                                                                     FSO : on
       WINDOW Watchdog (Normal)
       TIME−OUT Watchdog (Flash)                                   TIME−OUT Watchdog
            Failure Recovery                                         Failure Recovery                                                      8 consecutive failures
                                                                                                                                               (WD_CNT=8)
       WD started as window (closed+open) or                          WD started as a timeout
                       timeout                                          HS drivers: off
                                                                                                                                           7 more consecutive failures
                  HS drivers: off                                        LS drivers: off
                                                                                                                                                (WD_CNT=15)
                   LS drivers: off                                          LIN : off
               LIN : as per SPI/ mode                                       FSO : on
                      FSO : on
                                                WD trigger OK
                                                    OR                                                                                                 Fail −safe Mode
                                             Flash mode request
                                                                                                                                                    VR1 off, WD de−activated
                                                                                                                                                         HS drivers: off
                                                                                                                    Wakeup                               LS drivers : off
                                                                                                                                                     LIN : wakeup detection
                                                                                                                                                            FSO : on
                                                    Figure 16. Watchdog Operation
                                                              www.onsemi.com
                                                                           26


                                                                                                                                                  NCV7429
                                                                                                                       Reset                                                               Reset
                    Mode                                    Normal mode                                                             Normal mode                                                                                                        Normal mode
                 Watchdog                                  Window watchdog                                                        Timeout watchdog                                                                Timeout wd                               Window watchdog
               SPI: WD_CNT                                                             0                                 1                                 1                                 2                                         2                                                         0
                  Watchdog                                                                                                         missing watchdog services
                   services
                                                               T_wd_CW + T_wd_OW                                                                   T_wd_TO
                       NRES                                                         1st watchdog                                             2 nd watchdog                                                                                                          watchdog services
                                                                                                                                         ÎÎÎÎ ÎÎÎÎÎ
                                                                                        failure                                                   failure                                                                                                               restored
                                                                                                                        T_NRES                                                              T_NRES
                       OUTx
                       / LSx                                                                                                             ÎÎÎÎ ÎÎÎÎÎ
                                                                                                                                         ÎÎÎÎ ÎÎÎÎÎ
                                                                                                                                                     OUTx, LS1/2
                                                                                                                                                    setting ignored
                                                                                                                                                                                                                                    OUTx, LS1/2
                                                                                                                                                                                                                                   setting ignored
                            FSO
                                                                                                                                                                                                                                                                      WD_CNT cleared
                                                                                                       All control registers                  OUTx/LSx                       All control registers                      OUTx/LSx
                                                                                                            reset to default        activation command                            reset to default            activation command
                                                                                           Figure 17. Watchdog Failure − Isolated Events
     Mode
                                               Reset                      Reset                                                                                                                      Reset
                Normal                                  Normal                              Normal                                                       Init+       Normal                                          Normal                                                               Init+                 Normal
                                                                                                                               VR1 off                                                                                                                            Fail−safe
  Watchdog      Window                                  Timeout                             Timeout                                                      Reset       Timeout                                         Timeout                                                              Reset             Timeout Window
SPI: WD_CNT        0                           1           1                2               2      7                                  8                                  8                           9              9                14                                         15                                              15                        0
   Watchdog                                                                                     missing watchdog services
    services
                                                        T_wd_TO
                   1st wd                                 2nd wd                                8th wd                                                                                                                             15th wd                                                                                           wd services
     NRES          failure                                failure                               failure                                                                                                                                                                                                                               restored
                                                                                                                                                                                                                                   failure
                                               T_NRES                      T_NRES                                                                          T_NRES                                    T_NRES                                                                                     T_NRES
       VR1
                                                                                                                                                                                                                                                                                                ÎÎÎÎ
                                                                                                                                                                                                                                                                                                ÎÎÎÎ
                                                                                                                               Toff_VR1
      OUTx                                                                                                                                                                                                                                                                                                            OUTx, LSx
                                                                                                                                                                                                                                                                                                ÎÎÎÎ
      / LSx                                                                                                                                                                                                                                                                                                            ignored
       FSO
                                                                                                                                                                                                                                                                                       Wakeup                       OUTx /LSx
                                                                                                                                                                                                                                                                                                                                        WD _CNT cleared
                       All control registers                   All control registers                   All control registers                                                          All control registers                               All control registers
                            reset to default                        reset to default                        reset to default                                                               reset to default                                    reset to default                                          activation command
                                                                                           Figure 18. Watchdog Failure − Multiple Events
                                                                                                                                  www.onsemi.com
                                                                                                                                                                    27


                                                                                 NCV7429
PROTECTION                                                                                  that the MCU can still take appropriate actions. Junction
                                                                                            temperature above the second shutdown level leads to
Thermal Protection                                                                          complete device de-activation, VR1 included and SPI
  The device junction temperature is monitored in order to                                  counter TSD_CNT[2:0] is incremented. VR1 is re-started
avoid permanent degradation or damage. Three distinct                                       after a waiting time of 1 second in case the junction
junction temperature levels are provided – thermal warning                                  temperature drops below the second shutdown level. If the
level Tjw (typ. 135°C), thermal shutdown level 1 Tjsd1 (typ.                                thermal shutdown then re-occurs seven more times, the
145°C) and thermal shutdown level 2 Tjsd2 (typ. 155°C).                                     device is forced into the Fail-safe mode. TSD_CNT[2:0] is
The thermal protection circuit is always active in the Normal                               decremented by one after each one minute without thermal
and Standby mode. It is also active in the Sleep mode if any                                shutdown 2 event.
of the high-side outputs is active.                                                            “TSD1” SPI flag has to be cleared to re-activate the high-
  When the junction temperature exceeds the warning level,                                  and low- side drivers. In the Standby and Sleep mode, the
the event is only latched into the SPI for subsequent                                       interrupt request is generated to inform the microcontroller
diagnostics without any direct effect on the device                                         about the thermal shutdown 1 event.
configuration. When the first thermal shutdown level is                                        The details of the thermal protection handling are shown
exceeded, the most power-consuming functions are disabled                                   in Figure 19, Figure 20 and Figure 21.
(high- and low- side drivers) while VR1 keeps running so
                                         Normal mode                                                                                    Sleep mode
                                                                                                                                      with OUTx active
                                        Standby mode
                                                                                                              Wakeup             Junction Temperature OK
                                    Junction Temperature OK
                                                                                                                                       HS outputs : per SPI
                                                                                                                                      LIN: wakeup detection
                                        All functions unaffected
                                                                                                                                           WU : per SPI
                       TWAR bit                  Tj > Tjw                                                                                     Tj > Tjw
                    read & cleared
                     AND Tj< Tjw
                                         Thermal Warning                                                                              Thermal Warning
                                   (Normal mode, Standby mode)                                                                   (Sleep mode with OUTx active)
                                                                                                              Wakeup                    TWAR bit set in SPI
   TSD1/2 bit read & cleared              TWAR bit set in SPI                                                                          HS outputs: per SPI
             AND                                                                                                                      LIN : wakeup detection
         Tj < Tjsd 1                    All functions unaffected                                                                           WU : per SPI
                                                Tj > Tjsd 1                                                                                  Tj > Tjsd1
                                      Thermal Shutdown 1
                                   (Normal mode , Standby mode)                                                                     Thermal Shutdown 1
                                                                                                                                 (Sleep mode with OUTx active)
                                           TSD1 bit set in SPI
                                     HS, LS drivers: permanently off                                                                    TSD1 bit set in SPI
                                         LIN : as per SPI/ mode                                                     VR 1 started         HS outputs: off
                                                 VR1: on                                                                              LIN : wakeup detection
                                          WU as per SPI / mode                                                                             WU : per SPI
                                    INTN pulse generated in Standby
                                                                                                    Wakeup
                    1 sec elapsed
                         AND                    Tj > Tjsd 2
                      Tj < Tjsd 2
                                      Thermal Shutdown 2
                                   (Normal mode , Standby mode)                             Fail −safe mode
                                          TSD 2 bit set in SPI                             SPI counter TSD_CNT= 7
                                   SPI counter TSD_CNT incremented                            HS, LS drivers: off
                                     HS, LS drivers: permanently off                        LIN : wakeup detection
                                                LIN : off                                          VR 1: off
                                                VR 1: off                                    WU : wakeup enabled
                                       WU : no wakeup detection                                    FSO : on
                                                FSO : on
                                                                     TSD 2 re−occured 8 times
                                                                  (TSD 2 while TSD_CNT=7)
                                                                              AND
                                                                           Tj < Tjsd 2
                                                                 Figure 19. Thermal Protection
                                                                          www.onsemi.com
                                                                                       28


                                                                                                                                                                                                     NCV7429
                          Mode                                                       Normal mode                                                                                                   TSD2                                        i. R.                                Normal mode
            SPI: TW/TSD1/2                                                                                                 TW                                   TSD 1                                    TSD 2                                                                      TSD 2
             SPI: TSD_CNT                                                                                            0                                                                                        1                                                                                    1                                                              0
                                       Tj                      Tjds2                                                                                                                                                                                                                1 minute
                                                               Tjsd1
                                                                 Tjw
                                                                                                                            high power
                                                                                                                            dissipation                                                                                                                                                                       normal
                                                                                                                                                                                                                                                                                                          power dissipation
                               VR1
                                                                                                                                                                                                      1s
                       NRES
                        OUTx
                        / LSx
                                                                                                                                                                                                                                                 T_NRES
                                                                                                                                                                                                                                                                                           ÎÎÎÎ
                                                                                                                                                                                                                                                                                           ÎÎÎÎ
                                                                                                                                                                                                                                                                                                      OUTx, LS1/2
                                                                                                                                                                                                                                                                                                     setting ignored
                              FSO
                                                                                                         Thermal warning
                                                                                                                                           Thermal shutdown 1
                                                                                                                                                                                                                                                                                                                                            TSD_CNT decremented
                                                                        OUTx/LSx                                                                                         Thermal shutdown 2,                                                                                                   OUTx/LSx              TWAR / TSD1 / TSD2
                                                              activation command                                                                                                                                                                                                     activation command
                                                                                                                                                                       All regs reset to default                                                                                                                             read & clear
                                                                                                        Figure 20. Thermal Monitoring − Single Event
        Mode                           Normal mode                                                                                                              TSD2                               i. R. N.                                     TSD 2             i. R. N.                    TSD2                Fail−safe                                              i. R. Normal
SPI: TW/TSD1/2                                                 TW                                       TSD1                                                      TSD 2                                       TSD2                                        TSD 2              TSD2                             TSD2                                                                      TSD2
 SPI: TSD_CNT                                           0                                                                                                                1                                     1                                           2                  7                                  7                                                                          7
            Tj     Tjds2
                   Tjsd1
                     Tjw
                                                                    high power                                                                                                                     high power                                                     high power
                                                                                                                                                                                                                                                                                                                                                                  normal power
                                                                    dissipation                                                                                                                    dissipation                                                    dissipation
                                                                                                                                                                                                                                                                                                                                                                   dissipation
         VR1
                                                                                                                                                                  1s                                                                                1s
       NRES
                                                                                                                                                                                                     T_NRES                                                         T_NRES                                                                                                     T_NRES   Î
       OUTx
       / LSx
                                                                                                                                                                                                                                                                                                                                                                                        Î
         FSO
                                                                                                                             Thermal shutdown 2,
                                                                                                                                                                                                                   All regs reset to default
                                            Thermal warning
                                                                                   Thermal shutdown 1
                            OUTx/LSx                                                                                                                                                                                                                                                                                                                                  Wakeup
                                                                                                                                                                                                                                                                                                                                                                                            OUTx/LSx
                                                                                                                                                                                                                                                                                                                                                                                 activation command
                  activation command
                                                                                                                           All regs reset to default
                                                                                                                                                                                                                                                                                                                                                                                TWAR / TSD1 / TSD2
                                                                                                                                                                                                                                                                                                                                                                                          read & clear
                                                                                          Figure 21. Thermal Monitoring − Multiple Events
                                                                                                                                                                                      www.onsemi.com
                                                                                                                                                                                                                      29


                                                                           NCV7429
VS_OUT Over- and Under-Voltage                                                              If the SPI control bit “LS_OVUV” is low, the same action
  In order to protect the loads connected to the high- and                               is taken for the low-side drivers. After the VS_OUT
low- side drivers, the VS_OUT (car battery) supply is                                    under/over-voltage condition disappears, it remains flagged
compared against two levels – under-voltage level                                        in the SPI status. If the SPI control bit “VS_LOCK_DIS” is
VS_OUT_UV (typ. 5.5 V) and VS_OUT_OV (typ. 21 V).                                        low, the drivers will remain deactivated until the
The VS_OUT monitoring circuitry is active in Normal mode                                 corresponding flag is not read and cleared. If
as well as in the Standby and Sleep modes.                                               “VS_LOCK_DIS” is high, the drivers will return to their
  Whenever VS_OUT falls below the VS_OUT_UV level or                                     state defined by SPI registers settings. The details of the
raises above VS_OUT_OV level, all high-side drivers are                                  VS_OUT monitoring are shown in Figure 22.
disabled. The under/over-voltage event is latched in the                                    SPI control bit “VS_LOCK_DIS” is ignored by OUT3
corresponding SPI status bit and if SPI bit “WU_OVUV” is                                 driver in case it is controlled by FSO signal. OUT3 will
set, the wakeup request is generated in Standby or Sleep                                 return to the previous state immediately after VS_OUT
mode.                                                                                    under/over-voltage disappears.
                                         VS_OUT< VS_OUT_UV                                               VS_OUT> VS_OUT_OV
         VS_OUT Under−Voltage                                         VS_OUT in range                                         VS_OUT Over−Voltage
               VS_OUT_UV bit set                                                                                                   VS_OUT_OV bit set
                 HS outputs: off                                       HS, LS outputs : as per SPI                                   HS outputs : off
            LSx: off if LS_OVUV bit = 0;                                                                                        LSx: off if LS_OVUV bit = 0;
               unaffected otherwise                                                                                                unaffected otherwise
                                          VS_OUT> VS_OUT_UV
                                                                                                       VS_OUT< VS_OUT_OV
                                                 AND
                                                                                                              AND
                                      (VS_OUT_UV bit read and cleared
                                                                                                   (VS_OUT_OV bit read and cleared
                                                 OR
                                                                                                              OR
                                           VS_LOCK_DIS bit = 1 )
                                                                                                        VS_LOCK_DIS bit = 1)
                                           Figure 22. Under- and Over-voltage on VS_OUT Supply
RESET SIGNAL NRES                                                                        INTERRUPT SIGNAL
  NRES is an open-drain output with an internal pull-up                                     An interrupt request is used in the Standby mode to
resistor connected to VR1. It signals reset to the MCU as                                indicate some of the wakeup events to the MCU – see section
a consequence of several specific events:                                                “Wake-up Events”. Interrupt is signaled through RxDL pin
• VR1 under-voltage (including VS power-up)                                              by pulling it Low for typically 125 ms. Beside the 125 ms
• Watchdog failure                                                                       Low pulse, RxDL/INTN remains High throughout the
                                                                                         Standby mode.
• Thermal shutdown 2
                                                                                            During Normal mode, RxDL/INTN assumes its normal
• Sleep mode                                                                             function (LIN received data).
• Wakeup from Sleep mode (the wakeup is accompanied
   by reset – see Table 6; SPI control registers are not                                 FAIL-SAFE (FSO) SIGNAL
   cleared)                                                                                 A fail-safe signal is internally generated reflecting some
• Fail-safe mode                                                                         critical system failures and events. By default, the signal is
                                                                                         connected to the OUT3 output and over-rules the OUT3 SPI
  The low-level pulse on NRES pins always extends                                        settings – active FSO signal switches OUT3 on, inactive
T_NRES (typ. 2 ms) beyond the reset event – e.g. a watchdog                              FSO signal switches OUT3 off. In case the SPI bit
failure causes a 2 ms NRES low pulse; a VR1 under-voltage                                “FSO_DIS” is set, OUT3 acts as a general-purpose
causes NRES pulse extending 2 ms beyond the                                              high-side driver identically to OUT1 and OUT2. FSO
under-voltage disappearance.                                                             remains then only an internal signal not visible to the
  After NRES pulse caused by failure (not after wakeup                                   application. SPI bit “FSO_DIS” is not cleared during any
from Sleep mode), all outputs (OUT1−3, LS1/2) are inactive                               reset event.
and CONTROL SPI registers are cleared, except                                               FSO internal signal is active after the following events:
“FSO_DIS” bit. After a wakeup from the Sleep mode,                                       • During the Init phase:
registers content is preserved.
                                                                                             ♦ VR1 short: FSO is active when VR1 is below its
  Both LIN transmission and reception is blocked during
                                                                                                failure level (Vfail_VR1) for more than Tshort_VR1
NRES pulse. A recessive-to-dominant edge on TxDL pin
                                                                                                (typ. 40 ms) during VR1 regulator startup.
after NRES pulse is required to start transmission to the LIN
bus.
                                                                      www.onsemi.com
                                                                                 30


                                                              NCV7429
• In the Normal and Standby modes:                                      ♦  Thermal shutdown: FSO is active when the junction
    ♦ VR1 under-voltage: FSO is active when VR1 is                        temperature is above the second shutdown threshold
      below its failure level (Vfail_VR1). It is deactivated              (Tjsd2). It is deactivated only when TSD2 status bit
      only when VR1_FAIL status bit is cleared.                           is cleared.
    ♦ Watchdog: FSO is immediately activated in case of             •  In the Fail-safe mode: FSO is always active. FSO is
      failed watchdog trigger. It is deactivated only when             deactivated only when corresponding SPI flag is
      the watchdog is correctly triggered again for two                cleared.
      times.
                                                          SPI CONTROL
   Serial Peripheral Interface (SPI) is the main                       data after a successful completion of the frame (rising
communication channel between the application MCU and                  edge on CSN). Only the bits eligible for write access
NCV7429. The structure of a SPI frame is shown in Figure               are refreshed, the input data are ignored for the others
23. MCU starts the frame by sending an 8-bit header                    (e.g. a write access to status registers).
consisting of two bits of register access mode type followed        •  For read access, the data on SDI are ignored; SDO
by a six-bit address. During the header transmission,                  signals data content of the register addressed by the
NCV7429 sends out eight bits of status information                     header. After the frame completion, the register content
regardless the address. After the header, sixteen bits of data         remains unchanged regardless the type of the individual
are exchanged. A correct SPI frame has either no bits (no              bits.
SCLK edges during CSN low; serves to read out the global            •  For read & clear access, a normal register read is
status information) or exactly twenty-four bits. If another
                                                                       performed. When the frame is completed (CSN rising
amount of clock edges occurs during CSN low, the frame is
                                                                       edge), the register bits eligible for read & clear access
considered incorrect and the input data are always ignored.
                                                                       are reset to 0.
   Depending on the access type, the transmitted/received
data are treated differently:                                       •  Device ROM access switches the address space to
                                                                       sixteen-bit constant data memorized in the NCV7429
• During a write access, SDO signals current content of
                                                                       (indicating the device version, SPI frame format and
   the register while new data for the same register are
                                                                       other information). Input data are ignored.
   received on SDI. The register is refreshed with the new
                                                                                                                     SPI frame
                       Access                                                  Input Data           Input Data          valid
               IN       Type
                                              Register Address
                                                                                 Byte 1               Byte 0
 CSN
SCLK
 SDI                 RW1    RW0      A5    A4     A3      A2    A1   A0    DI15    DI14          DI2    DI1     DI0
                     FLT            FLT    FLT   FLT           FLT  FLT
SDO                 GLOB
                            res.
                                    SPI    VS    VR1
                                                         res.
                                                               TH   DRV    DO15   DO14          DO2    DO1     DO0    X
                                      Device Status Bits                               Address−depend ent
            OUT
                                                                                              Data
                                                Figure 23. SPI Frame Structure
                                                         www.onsemi.com
                                                                 31


                                                             NCV7429
                                                     SPI FRAME FORMAT
                     D23       D22         D21           D20          D19       D18          D17        D16       D15      ...    D0
 NCV7429 IN          RW1       RW0         A5             A4          A3        A2            A1         A0      DI15      ...   DI0
 NCV7429 OUT      FLT_GLOB Reserved      FLT_SPI      FLT_VS     FLT_VR1 Reserved          FLT_TH     FLT_DRV    DO15      ...   DO0
Inframe:
                         RW1         RW0                                              Description
                            0          0        Write to SPI Register
   SPI Access Type          0          1        Read Only from SPI Register
                            1          0        Read & Clear SPI Register
                            1          1        Access Device ROM
                         A5      A4         A3          A2       A1        A0                Register               SPI Access
                          0       0          0           0        0         0       CONTROL_0                  Write, Read
                          0       0          0           0        0         1       CONTROL_1                  Write, Read
                          0       0          0           0        1         0       CONTROL_2                  Write, Read
                          0       0          0           0        1         1       CONTROL_3                  Write, Read
                          0       0          0           1        0         0       CONTROL_4                  Write, Read
                          0       0          0           1        0         1       Reserved
                          0       0          0           1        1         0       PWM_OUT1/2                 Write, Read
     SPI Registers
                          0       0          0           1        1         1       PWM_OUT3                   Write, Read
                          0       0          1           0        0         0       PWM_LS                     Write, Read
                          0       0          1           0        0         1       STATUS_0                   Read, Read & Clear
                          0       0          1           0        1         0       STATUS_1                   Read, Read & Clear
                          0       0          1           0        1         1       STATUS_2                   Read, Read & Clear
                          0       0          1           1        X         X       Reserved
                          0       1         X           X         X         X       Reserved
                          1      X          X           X         X         X       Reserved
                         A5      A4         A3          A2       A1        A0             Data Content                Comment
                          0       0          0           0        0         0       $4300                      ID_HEADER
                          0       0          0           0        0         1       $0203                      PRODUCT VERSION
                          0       0          0           0        1         0       $7400                      PRODUCT CODE 1
                          0       0          0           0        1         1       $2900                      PRODUCT CODE 2
     Device ROM
                          0       0          0           1        0         0       Reserved
                         ...     ...        ...         ...       ...       ...     Reserved
                          1       1          1           1        0         1       Reserved
                          1       1          1           1        1         0       $0200                      SPI_FRAME_ID
                          1       1          1           1        1         1       Reserved
Outframe:
                       SDO Bit       Bit Name                                            Bit Content
                         D23       FLT_GLOB          Logical combination (OR) of all following flags
                         D22         Reserved        0
                                                     Previous SPI frame faulty − wrong number of clocks or addressing a nonexistent
                         D21         FLT_SPI
    General Device                                   address
      Status Info        D20          FLT_VS         VS_OV OR VS_UV
                         D19         FLT_VR1         Equal to VR1_FAIL bit
                         D18         Reserved        0
                         D17          FLT_TH         TSD2 OR TSD1 OR TWAR
                         D16         FLT_DRV         OR combination of all overcurrent and underload bits of OUTx and LSx
                                                         www.onsemi.com
                                                                 32


                                                         NCV7429
                                               SPI REGISTER DETAILS
CONTROL_0 REGISTER
Address: 00h
Access: Write, Read
       Bit       D15   D14    D13    D12   D11    D10      D9      D8       D7     D6      D5      D4    D3      D2      D1     D0
 Access Type     RW    RW      RW    RW     RW    RW        −       −      RW      RW       −       −    RW      RW      RW     RW
 Bit Name       MODE. MODE.    WD    WD     WD   ICMP     Res.    Res.     VR1     VR1     Res.   Res.   LIN    TXDL    TXDL    FSO
                  1     0     TRIG  PER.1 PER.0  STBY                     RES.1   RES.0                 SLOPE   TO.1    TO.0    DIS
 Reset Value      0     0       0     0      0     0        0       0        0      0       0       0     0       0       0      x
                        MODE.1          MODE.0                                  Operating Mode Request
                            0             0          Normal mode (window watchdog)
                            0             1          Go to Sleep mode
    Mode Control
                            1             0          Go to Standby mode
                                                     Flash mode (time-out watchdog); preceding SPI command has to set
                            1             1
                                                     FLASH_RDY bit in CONTROL_2, otherwise mode is not changed
                                WD_TRIG                                           Watchdog Trigger Bit
  Watchdog Trigger
                                   0                 Watchdog trigger set to 0; default state after wakeup from Sleep
          Bit
                                   1                 Watchdog trigger set to 1
                       WD_PER.1       WD_PER.0                        Configuration of the Watchdog Trigger Time
                            0             0          Trigger time = 9.75 ms (Normal mode) / Timeout = 16 ms (Flash mode)
  Watchdog Trigger
                            0             1          Trigger time = 39 ms (Normal mode) / Timeout = 64 ms (Flash mode)
         Time
                            1             0          Trigger time = 97.5 ms (Normal mode) / Timeout = 160 ms (Flash mode)
                            1             1          Trigger time = 195 ms (Normal mode) / Timeout = 640 ms (Flash mode)
                              ICMP_STBY                                  Disables the VR1 Current Comparator
     Standby VR1
                                   0                 Comparator is Enabled in Standby mode
      Comparator
                                   1                 Comparator is Disabled
                      VR1_RES.1       VR1_RES.0                            Adjustment of the VR1 Reset Level
                            0             0          Set the reset threshold to typ. 4.5 V (91%)
   VR1 Reset Level          0             1          Set the reset threshold to typ. 4.3 V (87%)
                            1             0          Set the reset threshold to typ. 3.9 V (79%)
                            1             1          Set the reset threshold to typ. 3.7 V (74%)
                              LIN_SLOPE                                         Change of the LIN Slope
  LIN Slope Control                0                 High slew rate (as per LIN specification)
                                   1                 Low slew rate
                       TxDL_TO.1      TxDL_TO.0               Dominant TxD Time-out Configuration of the LIN Interface
                            0             0          Set the timer to typ. 55 ms
    TxDL Time-out
                            0             1          Set the timer to typ. 13 ms
         Timer
                            1             0          Time-out timer disabled
                            1             1          Time-out timer disabled
                                FSO_DIS                                            OUT3/FSO Function
     FSO Function                  0                 OUT3 pin is driven by internal FSO signal
        Disable                                      OUT3 pins is a general-purpose high-side driver, setting not cleared during
                                   1
                                                     Reset
                                                   www.onsemi.com
                                                               33


                                                      NCV7429
CONTROL_1 REGISTER
Address: 01h
Access: Write, Read
       Bit        D15  D14   D13    D12   D11  D10      D9      D8      D7       D6      D5      D4   D3       D2     D1       D0
 Access Type        −  RW    RW     RW     −    −       RW       −       −       RW       −       −    −        −     RW       RW
 Bit Name         Res. WU    WU     WU    Res. Res.     WU      Res.   Res.      WU     Res.     Res. Res.    Res.    WU       WU
                       LIN   TIM    TIM                 DIS                     PUD                                   T.1       T.0
                       DIS   EN.1   EN.0
 Reset Value        0   0     0      0     0    0        0       0       0        0       0       0    0        0      0         0
                             WU_LIN_DIS                         Disables LIN Wakeup in Standby or Sleep Mode
     LIN Wakeup
                                  0               LIN Wakeup Enabled
       Disable
                                  1               LIN Wakeup Disabled
                               WU_DIS                        Disables WU Input Wakeup in Standby or Sleep Mode
       WU Input
                                  0               WU Input Wakeup Enabled
   Wakeup Disable
                                  1               WU Input Wakeup Disabled
                              WU_PUD                              WU Input Sink/Source Current Configuration
       WU Input
                                  0               WU configured as current sink in all modes, if WU wakeup is enabled
     Sink/Source
                                  1               WU configured as current source in all modes, if WU wakeup is enabled
                           WU_TIM_EN.[1:0]         Enables Cyclic (Timer Controlled) Wakeup from Standby or Sleep Mode
                           0             0        Timers 1/2 are not used as wakeup sources
    Timer Wakeup
                           0             1        Wakeup generated based on Timer 1
       Control
                           1             0        Wakeup generated based on Timer 2
                           1             1        Wakeup generated based on Timer 1
                              WU_T.[1:0]                       Defines the Filter Configuration for Wake Input WU
                           0             0        Static sense with 64 μs filter time (static sense)
                                                  Timer 2 cyclic sense with sampling start 20 ms before off-state and 16 ms filter
                           0             1
    WU Input Filter                               time
         Time                                     Timer 2 cyclic sense with sampling start 20 ms before off-state and 16 ms filter
                           1             0
                                                  time
                                                  Timer 1 cyclic sense with sampling start 20 ms before off-state and 16 ms filter
                           1             1
                                                  time
                                                www.onsemi.com
                                                            34


                                                         NCV7429
CONTROL_2 REGISTER
Address: 02h
Access: Write, Read
        Bit       D15   D14    D13    D12    D11  D10      D9       D8     D7       D6      D5      D4     D3      D2      D1      D0
 Access Type      RW    RW      −      −      −    −        −       RW     RW       RW     RW       RW     RW      RW     RW       RW
 Bit Name        FLASH SWDM    Res.   Res.   Res. Res.     Res.     T2      T2      T2      T2      T2     T1       T1     T1      T1
                  RDY  SAMP                                       TPER.2 TPER.1 TPER.0 TON.1      TON.0 TPER.2 TPER.1 TPER.0      TON
 Reset Value       0     0      0      0      0    0        0        0       0       0       0       0      0       0       0       0
                               FLASH_RDY                                        Unlocks Flash Mode Entry
                                    0                Flash mode request in CONTROL_0 register ignored
      Flash Ready                   1                Flash mode may be entered by setting MODE.[1:0] to 11b in following SPI
                                                     write request. This bit is automatically cleared by any following SPI write com-
                                                     mand.
                              SWDM_SAMP                                        SWDM Pin Sample Request
                                    0                SWDM latched value preserved
  SWDM Pin Sample
                                    1                SWDM pin sample is requested. New SWDM value will be latched.
                                                     This bit is automatically cleared when the sampling is finished.
                              T2_TPER.[2:0]                          Defines the Period of the Cyclic Sense Timer2
                          0         0         0      Period: 200 ms
                          0         0         1      Period: 50 ms
                          0         1         0      Period: 20 ms
     Timer2 Period        0         1         1      Period: 10 ms
                          1         0         0      Period: 100 ms
                          1         0         1      Period: 150 ms
                          1         1         0      Reserved − if used, will be equal to the default value of 200 ms
                          1         1         1      Reserved − if used, will be equal to the default value of 200 ms
                              T2_TON.[1:0]                         Defines the On Time for the Cyclic Sense Timer2
                            0               0        ON time 100 ms
   Timer2 On-time           0               1        ON time 200 ms
                            1               0        ON time 1 ms
                            1               1        ON time 5 ms
                              T1_TPER.[2:0]                          Defines the Period of the Cyclic Sense Timer1
                          0         0         0      Period: 0.5 s
                          0         0         1      Period: 1.0 s
                          0         1         0      Period: 1.5 s
     Timer1 Period        0         1         1      Period: 2.0 s
                          1         0         0      Period: 2.5 s
                          1         0         1      Period: 3.0 s
                          1         1         0      Period: 3.5 s
                          1         1         1      Period: 4.0 s
                                 T1_TON                            Defines the On Time for the Cyclic Sense Timer1
   Timer1 On-time                   0                ON time 10 ms
                                    1                ON time 20 ms
                                                   www.onsemi.com
                                                               35


                                                      NCV7429
CONTROL_3 REGISTER
Address: 03h
Access: Write, Read
       Bit         D15 D14   D13    D12   D11  D10     D9         D8      D7     D6     D5      D4      D3     D2     D1     D0
 Access Type       RW  RW     RW     −     −    −        −         −      RW     RW     RW      RW     RW      RW      −      −
 Bit Name          WU  WU     WU    Res.  Res. Res.    Res.      Res.     VS     LS     LS2     LS2    LS1     LS1    Res.   Res.
                   TSD OC    OVUV                                        LOCK   OVUV   ON.1    ON.0    ON.1   ON.0
                                                                          DIS
 Reset Value        0   0      0     0     0    0        0         0       0      0      0       0       0      0      0      0
        Thermal                WU_TSD                                  Enables Thermal Shutdown 1 Wakeup
      Shutdown 1                  0               TSD1 wakeup disabled
        Wakeup                    1               TSD1 wakeup enabled in Standby/Sleep mode
        OUT1−3                  WU_OC                                  Enables OUT1−3 Overcurrent Wakeup
      Overcurrent                 0               OUT1−3 overcurrent wakeup disabled
        Wakeup                    1               OUT1−3 overcurrent wakeup enabled in Standby/Sleep mode
                              WU_OVUV                             Enables VS_OUT Over-/Under-voltage Wakeup
    VS_OUT OV/UV
                                  0               VS_OUT OV/UV wakeup disabled
        Wakeup
                                  1               VS_OUT OV/UV wakeup enabled in Standby/Sleep mode
                            VS_LOCK_DIS                               Disables the Automatic VS_OUT Lockout
       VS_OUT
                                  0               Outputs will be reactivated only when the VS_OUT UV/OV flag is cleared
    UV/OV Lockout
                                  1               Outputs will be reactivated when VS_OUT UV/OV condition disappears
                               LS_OVUV                                 Enables LSx in Case of VS_OUT OV/UV
     LS1/2 Active
                                  0               Disabled − LSx will be disabled in case of VS_OUT UV/OV
  in VS_OUT UV/OV
                                  1               Enabled − LSx will remain in their previous state in case of VS_OUT UV/OV
                       LSx_ON.1       LSx_ON.0                   Defines the Configuration of the Low-side LS1/2
                           0             0        Driver is off in all modes
      LS1/2 Driver         0             1        Driver is on in Normal/Flash mode (off in other modes)
        Control            1             0        Driver is controlled by its PWM setting in Normal/Flash mode (off in other
                                                  modes)
                           1             1        Reserved − if used, LSx will be off in all modes (equal to default)
                                                www.onsemi.com
                                                            36


                                                      NCV7429
CONTROL_4 REGISTER
Address: 04h
Access: Write, Read
       Bit       D15  D14   D13    D12   D11  D10       D9        D8      D7      D6      D5     D4      D3     D2      D1   D0
 Access Type     RW    −     −      −     RW   RW       RW        RW      RW      RW     RW      RW     RW       −       −    −
 Bit Name       OUT1  Res.  Res.   Res.  OUT3 OUT3     OUT3     OUT2     OUT2    OUT2   OUT1    OUT1   OUT1     Res.    Res. Res.
                HIGHR                    ON.2 ON.1     ON.0      ON.2    ON.1    ON.0    ON.2   ON.1    ON.0
 Reset Value       0   0     0      0      0    0        0         0       0       0       0      0       0      0       0    0
                           OUT1_HIGHR                                  Enables Weaker Switch on OUT1 Output
     OUT1 Switch                 0                “Normal-ohmic” configuration; typ. 5 W Ron; parameters equal to OUT2−3
       Strength                  1                “High-ohmic” configuration; typ. 20 W Ron; lower underload threshold and
                                                  current limitation
                           OUTx_ON.[2:0]                       Defines the Configuration of the High-side OUT1..3
                        0        0         0      Driver is off in all modes
                        0        0         1      Driver is on in Normal/ Flash, Standby and Sleep mode
                        0        1         0      Driver is cyclic on with the timing of Timer1 in Normal/Flash, Standby and
                                                  Sleep mode
     OUT1−3 Driver      0        1         1      Driver is cyclic on with the timing of Timer2 in Normal/Flash, Standby and
       Control                                    Sleep mode
                        1        0         0      Driver is controlled by the corresponding PWM unit in Normal/Flash, Standby
                                                  and Sleep mode
                        1        0         1      Reserved − if used, the driver is off in all modes (equal to default)
                        1        1         0      Reserved − if used, the driver is off in all modes (equal to default)
                        1        1         1      Reserved − if used, the driver is off in all modes (equal to default)
                                                www.onsemi.com
                                                            37


                                                         NCV7429
PWM_OUT1/2 REGISTER
Address: 06h
Access: Write, Read
       Bit      D15   D14    D13     D12   D11    D10      D9     D8      D7      D6      D5      D4    D3      D2      D1    D0
 Access Type     RW    RW     RW      RW    RW     RW      RW     RW      RW      RW      RW      RW    RW      RW      RW    RW
 Bit Name       FSEL   PW     PW      PW    PW     PW      PW     PW     FSEL     PW      PW      PW    PW      PW      PW    PW
                OUT1 OUT1.6 OUT1.5 OUT1.4 OUT1.3 OUT1.2 OUT1.1 OUT1.0    OUT2   OUT2.6 OUT2.5 OUT2.4 OUT2.3 OUT2.2 OUT2.1 OUT2.0
 Reset Value      0     0      0       0     0      0       0      0       0       0       0       0     0        0      0     0
PWM_OUT3 REGISTER
Address: 07h
Access: Write, Read
       Bit      D15   D14    D13     D12   D11    D10      D9     D8      D7      D6      D5      D4    D3      D2      D1    D0
 Access type     RW    RW     RW      RW    RW     RW      RW     RW       −       −       −       −     −       −       −     −
 Bit Name       FSEL   PW     PW      PW    PW     PW      PW     PW     Res.     Res.    Res.   Res.   Res.   Res.    Res.  Res.
                OUT3 OUT3.6 OUT3.5 OUT3.4 OUT3.3 OUT3.2 OUT3.1 OUT3.0
 Reset Value      0     0      0       0     0      0       0      0       0       0       0       0     0       0       0     0
PWM_LS REGISTER
Address: 08h
Access: Write, Read
       Bit      D15   D14    D13     D12   D11    D10      D9     D8      D7      D6      D5      D4    D3      D2      D1    D0
 Access Type     RW    RW     RW      RW    RW     RW      RW     RW      RW      RW      RW      RW    RW      RW      RW    RW
 Bit Name       FSEL   PW     PW      PW    PW     PW      PW     PW     FSEL     PW      PW      PW    PW      PW      PW    PW
                 LS1  LS1.6  LS1.5   LS1.4 LS1.3  LS1.2   LS1.1  LS1.0    LS2    LS2.6   LS2.5   LS2.4 LS2.3   LS2.2   LS2.1 LS2.0
 Reset Value      0     0      0       0     0      0       0      0       0       0       0       0     0        0      0     0
                             FSEL_OUTx
                              FSEL_LSx                                        PWM Frequency Selector
   PWM Frequency
                                   0                  Base frequency of PWM on the corresponding output f(PWM) = 150 Hz
                                   1                  Base frequency of PWM on the corresponding output f(PWM) = 200 Hz
                            PW_OUTx[6:0]
  Output Duty Cycle          PW_LSx[6:0]                                          Duty Cycle Selector
                               $0 … $7F               Corresponding output is active with duty cycle PW_xxx[6:0] / 127
                                                    www.onsemi.com
                                                              38


                                                           NCV7429
STATUS_0 REGISTER
Address: 09h
Access: Read, Read & Clear
        Bit        D15   D14    D13     D12   D11   D10      D9      D8       D7      D6     D5      D4       D3     D2     D1      D0
 Access Type        R     R      R      R/RC  R/RC   R        −        −     R/RC      R      R       R        R      R      R       R
 Bit Name          OP    OP     COLD     WU    WU  SWDM      Res.    Res.     WU      WD     WD      WD       WD     TSD    TSD     TSD
                  MOD.1 MOD.0 START     TIM    LIN                            WU    CNT.3   CNT.2   CNT.1    CNT.0  CNT.2  CNT.1   CNT.0
                         OPMOD.1          OPMOD.0                                       Operating Mode
                             0               0         Sleep or Fail-safe – latched; updated after first successful access to the regis-
                                                       ter
   Operating Mode
                             0               1         Standby
                             1               0         Normal
                             1               1         Flash
                               COLD_START                                          Power on Reset Status
                                      0                Cold start (= VS connection) not occurred
       Cold Start
                                      1                Cold start (= VS connection) occurred;
                                                       cleared after first successful access of the register
                          WU_TIM           WU_LIN                                 Remote Wake-up Source
   Wake-up Source            0               0         No timer nor LIN wake-up occurred
      Recognition            X               1         LIN wake-up occurred
                             1               X         Timer wake-up occurred
                                   SWDM                              Software Development Mode Status (SWDM Pin)
     SWDM Status                      0                SWDM low during sampling – Normal watchdog operation
                                      1                SWDM high during sampling – Software Development mode entered
                                  WU_WU                                        Local Wake-up Source (WU Pin)
   Wake-up Source
                                      0                No WU pin wake-up occurred
      Recognition
                                      1                WU pin wake-up occurred
                               WD_CNT.[3:0]                                     Number of Watchdog Failures
                                      0                No watchdog failure encountered
  Watchdog Failure                $1 … $E              Non-zero number of watchdog failures encountered;
        Counter                                        cleared by second successful watchdog service
                                     $F                Fail-safe mode entered due to 15 watchdog failures;
                                                       cleared by successful watchdog service
                               TSD_CNT.[2:0]                        Number of VR1 Restarts after Thermal Shutdown 2
                                      0                No VR1 restarts encountered
  TSD2 VR1 Restart                $1 … $6              Non-zero VR1 restarts encountered; decremented after 1 minute
        Counter
                                     $7                Seven consecutive thermal shutdown 2 events, another TSD2 leads to
                                                       Fail-safe mode entry; decremented after 1 minute after wakeup if no another
                                                       TSD2 occurs
                                                     www.onsemi.com
                                                                 39


                                                        NCV7429
STATUS_1 REGISTER
Address: 0Ah
Access: Read, Read & Clear
       Bit       D15  D14     D13     D12   D11  D10      D9      D8       D7      D6     D5      D4     D3   D2   D1  D0
 Access Type     R/RC  −       −       R      −   −      R/RC      −        −     R/RC   R/RC    R/RC   R/RC R/RC R/RC  −
 Bit Name        FAIL Res.    Res.    WU    Res. Res.     VR1     Res.    Res.     VS     VS     TSD2   TSD1 TWAR  TO  Res.
                 SAFE                                     FAIL                    OUT    OUT                      TxDL
                                                                                   OV     UV
                              FAIL_SAFE                                       Wakeup from Fail-safe Mode
    Fail-safe Mode                  0               Fail-safe was not entered
                                    1               Wakeup from Fail-safe mode
                                   WU                                     Status of WU Input in Normal Mode
     Status of WU
                                    0               WU is Low
         Input
                                    1               WU is High
                               VR1_FAIL                                      Voltage Regulator VR1 Failure
                                    0               No VR1 failure occurred
     VR1 Failure
                                    1               VR1 fails for at least 5 ms (VR1 < 2 V for > 5 ms) OR
                                                    (VR1 < 2 V at 40 ms after turn-on)
                              VS_OUT_OV                                       Overvoltage on VS_OUT Pin
       VS_OUT
                                    0               VS_OUT has not been above the overvoltage limit
     Overvoltage
                                    1               VS_OUT exceeded the overvoltage limit (latched)
                              VS_OUT_UV                                       Undervoltage on VS_OUT Pin
       VS_OUT
                                    0               VS_OUT has not been below the undervoltage limit
     Undervoltage
                                    1               VS_OUT fell below the undervoltage limit (latched)
                      TSD2        TSD1     TWAR                                Thermal Warning/Shutdown
                        0           0         0     No thermal limit exceeded
        Thermal         0           0         1     Thermal warning encountered
      Protection        0           1         1     Thermal shutdown 1 encountered
                        1           1         1     Thermal shutdown 2 encountered
                           Other Combinations       Reserved
      Permanent                TO_TxDL                                               TxDL Dominant
      Dominant                      0               No LIN transmitter timeout encountered
      Protection                    1               LIN transmitter timeout encountered
                                                  www.onsemi.com
                                                              40


                                                             NCV7429
STATUS_2 REGISTER
Address: 0Bh
Access: Read, Read & Clear
       Bit        D15    D14      D13     D12    D11  D10     D9      D8     D7     D6     D5     D4     D3       D2   D1      D0
 Access Type        −     −        R       R     R/RC R/RC     −       −    R/RC   R/RC   R/RC     −       −     R/RC R/RC    R/RC
 Bit Name         Res.   Res.     WD      WD      LS2  LS1   Res.    Res.   OUT3   OUT2   OUT1   Res.    Res.   OUT3  OUT2   OUT1
                                 STAT.1  STAT.0   OC   OC                    OC     OC     OC                     UL   UL      UL
                                WD_STAT.[1:0]                                    Watchdog Counter Status
                               0                0        Watchdog counter below 33% of acceptable interval (Note 1)
      Watchdog
                               0                1        Watchdog counter above 33% and below 66% of acceptable interval (Note 1)
    Counter Status
                               1                0        Reserved − not used
                               1                1        Watchdog counter above 66% of acceptable interval (Note 1)
1. Acceptable interval means timeout or open window interval
                                    LSx_OC
        Driver                     OUTx_OC                           Overcurrent Status of the Corresponding Output
     Overcurrent                        0                No overcurrent encountered
                                        1                Overcurrent encountered
                                   OUTx_UL                            Underload Status of the Corresponding Output
        Driver
                                        0                No underload encountered
      Underload
                                        1                Underload encountered
                                                        www.onsemi.com
                                                                 41


                                                              NCV7429
                                                 PACKAGE DIMENSIONS
                                                          TSSOP−20 EP
                                                            CASE 948AB
                                                              ISSUE O
                       D                                              B                 NOTES:
                           DETAIL B                                                      1. DIMENSIONING AND TOLERANCING PER ASME
                  B                                                               e/2       Y14.5M, 1994.
              20                    11           0.20 C A-B D                            2. CONTROLLING DIMENSION: MILLIMETERS.
                                                                                         3. DIMENSION b DOES NOT INCLUDE DAMBAR
                                              2X 10 TIPS                                    PROTRUSION. ALLOWABLE DAMBAR PROTRUSION
                                                                                            SHALL BE 0.07 IN EXCESS OF THE LEAD WIDTH AT
                                                                                            MMC. DAMBAR CANNOT BE LOACTED ON THE
                                                                                            LOWER RADIUS OR THE FOOT OF THE LEAD.
                                                                                         4. DIMENSIONS b, b1, c, c1 TO BE MEASURED BE-
                                                                        DETAIL B            TWEEN 0.10 AND 0.25 FROM LEAD TIP.
             ÉÉÉ
                                                                                         5. DATUMS A AND B ARE ARE DETERMINED AT DATUM
          E1                              E                                 b               H. DATUM H IS LOACTED AT THE MOLD PARTING
             ÉÉÉ                                                    ÍÍÍÍ
                                                                                            LINE AND COINCIDENT WITH LEAD WHERE THE
                                                                            b1              LEAD EXITS THE PLASTIC BODY.
                                                                                         6. DIMENSION D DOES NOT INCLUDE MOLD FLASH,
                                                                    ÍÍÍÍ
                                                                                            PROTRUSIONS OR GATE BURRS. MOLD FLASH,
                                              D                                             PROTRUSIONS OR GATE BURRS SHALL NOT
                                                                    ÍÍÍÍ
                                                                 c c1                       EXCEED 0.15 PER SIDE. DIMENSION E1 DOES NOT
    PIN 1                                                                                   INCLUDE INTERLEAD FLASH OR PROTRUSION. IN-
    REFERENCE
              1                        10                                                   TERLEAD FLASH OR PROTRUSION SHALL NOT EX-
                  e                                                                         CEED 0.15 PER SIDE. D AND E1 ARE DETERMINED
                                          20X b                       SECTION B−B           AT DATUM H.
                  A
                                              0.10  M   C A-B D                                                      MILLIMETERS
                   TOP VIEW                                                                                   DIM    MIN      MAX
                                             A2                                                   M            A      ---     1.10
                                                                                                               A1    0.05     0.15
     0.05 C                                                    B                                               A2    0.85     0.95
                                                                                                               b     0.19     0.30
                                              A                B              DETAIL A                         b1    0.19     0.25
                                                                                                                c    0.09     0.20
                                                                           END VIEW
     0.08 C                                                                                                    c1    0.09     0.16
                                    A1                SEATING                                                  D     6.40     6.60
20X
                   SIDE VIEW                      C   PLANE      H                                             E       6.40 BSC
                                                                                                               E1    4.30     4.50
                                                                                        L2                      e      0.65 BSC
                       P                                                                         GAUGE
                                                                                                 PLANE         L     0.50     0.70
                                                                                                               L2      0.25 BSC
                                                                                                               M      0_       8_
                                                              SEATING                                          P      ---     4.20
                                                              PLANE
                                                                               L                               P1     ---     3.00
                                                                                                C
                                                                        DETAIL A
          P1                                                     SOLDERING FOOTPRINT
                                                                             4.30
                 BOTTOM VIEW
                                                       6.76                                       3.10
                                                          20X                                   20X
                                                         0.98         0.65                      0.35
                                                                      PITCH
                                                                                DIMENSIONS: MILLIMETERS
                                                        www.onsemi.com
                                                                   42


                                                                                         NCV7429
  ON Semiconductor and            are trademarks of Semiconductor Components Industries, LLC dba ON Semiconductor or its subsidiaries in the United States and/or other countries.
  ON Semiconductor owns the rights to a number of patents, trademarks, copyrights, trade secrets, and other intellectual property. A listing of ON Semiconductor’s product/patent
  coverage may be accessed at www.onsemi.com/site/pdf/Patent−Marking.pdf. ON Semiconductor reserves the right to make changes without further notice to any products herein.
  ON Semiconductor makes no warranty, representation or guarantee regarding the suitability of its products for any particular purpose, nor does ON Semiconductor assume any liability
  arising out of the application or use of any product or circuit, and specifically disclaims any and all liability, including without limitation special, consequential or incidental damages.
  Buyer is responsible for its products and applications using ON Semiconductor products, including compliance with all laws, regulations and safety requirements or standards,
  regardless of any support or applications information provided by ON Semiconductor. “Typical” parameters which may be provided in ON Semiconductor data sheets and/or
  specifications can and do vary in different applications and actual performance may vary over time. All operating parameters, including “Typicals” must be validated for each customer
  application by customer’s technical experts. ON Semiconductor does not convey any license under its patent rights nor the rights of others. ON Semiconductor products are not
  designed, intended, or authorized for use as a critical component in life support systems or any FDA Class 3 medical devices or medical devices with a same or similar classification
  in a foreign jurisdiction or any devices intended for implantation in the human body. Should Buyer purchase or use ON Semiconductor products for any such unintended or unauthorized
  application, Buyer shall indemnify and hold ON Semiconductor and its officers, employees, subsidiaries, affiliates, and distributors harmless against all claims, costs, damages, and
  expenses, and reasonable attorney fees arising out of, directly or indirectly, any claim of personal injury or death associated with such unintended or unauthorized use, even if such
  claim alleges that ON Semiconductor was negligent regarding the design or manufacture of the part. ON Semiconductor is an Equal Opportunity/Affirmative Action Employer. This
  literature is subject to all applicable copyright laws and is not for resale in any manner.
PUBLICATION ORDERING INFORMATION
LITERATURE FULFILLMENT:                                                     N. American Technical Support: 800−282−9855 Toll Free               ON Semiconductor Website: www.onsemi.com
 Literature Distribution Center for ON Semiconductor                         USA/Canada
 19521 E. 32nd Pkwy, Aurora, Colorado 80011 USA                             Europe, Middle East and Africa Technical Support:                   Order Literature: http://www.onsemi.com/orderlit
 Phone: 303−675−2175 or 800−344−3860 Toll Free USA/Canada                    Phone: 421 33 790 2910
 Fax: 303−675−2176 or 800−344−3867 Toll Free USA/Canada                     Japan Customer Focus Center                                         For additional information, please contact your local
 Email: orderlit@onsemi.com                                                  Phone: 81−3−5817−1050                                              Sales Representative
 ◊                                                                                 www.onsemi.com                                                                                NCV7429/D
                                                                                               43


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
ON Semiconductor:
 NCV7429DE5R2G
