                                                                                                         MAX9860
                                           16-Bit Mono Audio Voice Codec
                          General Description                                                                            Features
The MAX9860 is a low-power, voiceband, mono audio           o 1.8V Single-Supply Operation
codec designed to provide a complete audio solution
for wireless voice headsets and other mono voice audio      o Digital Highpass Elliptical Filters with Notch for
devices. Using an on-chip bridge-tied load mono head-           217Hz (GSM)
phone amplifier, the MAX9860 can output 30mW into a         o Mono 30mW BTL Headphone Amplifier
32Ω earpiece while operating from a single 1.8V power
supply. Very low power consumption makes it an ideal        o Dual Low-Noise Microphone Inputs
choice for battery-powered applications.                    o Automatic Microphone Gain Control and Noise
The MAX9860’s flexible clocking circuitry utilizes com-         Gate
mon system clock frequencies ranging from 10MHz to
                                                            o 90dB DAC DR (fS = 48kHz)
60MHz, eliminating the need for an external PLL and
multiple crystal oscillators. Both the ADC and DAC sup-     o 81dB ADC DR (fS = 48kHz)
port sample rates of 8kHz to 48kHz in either synchro-       o Supports Master Clock Frequencies from 10MHz
nous or asynchronous operation. Both master and slave
                                                                to 60MHz
timing modes are supported.
Two differential microphone inputs are available with a     o Supports Sample Rates from 8kHz to 48kHz
user-programmable preamplifier and programmable             o Flexible Digital Audio Interface
gain amplifier. Automatic gain control with selectable
attack/release times and signal threshold allows maxi-      o Clickless/Popless Operation
mum dynamic range. A noise gate with selectable             o 2-Wire, I2C-Compatible Control Interface
threshold provides a means to quiet the channel when
                                                            o Available in 24-Pin, Thin QFN, 4mm x 4mm x
no signal is present. Both the DAC and ADC digital filters
provide full attenuation for out-of-band signals as well as     0.8mm Package
a 5th order GSM-compliant digital highpass filter. A digi-
tal side tone mixer provides loopback of the micro-
phones/ADC signal to the DAC/headphone output.                                          Ordering Information
Serial DAC and ADC data is transferred over a flexible                 PART             TEMP RANGE                     PIN-PACKAGE
digital I2S-compatible interface that also supports TDM         MAX9860ETG+            -40°C to +85°C                    24 TQFN-EP*
mode. Mode settings, volume control, and shutdown are
                                                            +Denotes a lead-free/RoHS-compliant package.
programmed through a 2-wire, I2C-compatible interface.
                                                            *EP = Exposed pad.
The MAX9860 is fully specified over the -40°C to +85°C
extended temperature range and is available in a low-
profile, 4mm x 4mm, 24-pin thin QFN package.
                                                                            Simplified Block Diagram
                                      Applications                                     DVDDIO             AVDD AND DVDD
                                                                                     1.7V TO 3.6V           1.7V TO 1.9V
        Audio Headsets
        Portable Navigation Device
        Mobile Phones                                                             I2C             MAX9860
                                                                              INTERFACE
        Smart Phones
                                                                                                           DAC
        VoIP Phones
                                                                                               DIGITAL
        Audio Accessories                                     DIGITAL AUDIO
                                                                                DIGITAL
                                                                                              FILTERING
                                                                                AUDIO                                               DIFF
                                                             INPUT/OUTPUT     INTERFACE          AND       ADC
                                                                                               MIXERS                               MIC
                                                                                CLOCK                      ADC                      DIFF
                                                                               CONTROL                                              MIC
Pin Configuration and Typical Operating Circuit appear at
end of data sheet.
For pricing, delivery, and ordering information, please contact Maxim Direct
at 1-888-629-4642, or visit Maxim’s website at www.maximintegrated.com.                                               19-4349; Rev 2; 2/12


MAX9860
16-Bit Mono Audio Voice Codec
ABSOLUTE MAXIMUM RATINGS
(Voltages referenced to AGND.)                                                              Continuous Power Dissipation (TA = +70°C)
DVDDIO, SDA, SCL, IRQ.......................................-0.3V to +3.6V                     24-Pin TQFN (derate 27.8mW/°C above +70°C,
AVDD, DVDD............................................................-0.3V to +2V              multilayer board) ......................................................2222mW
AGND, DGND, MICGND .......................................-0.3V to +0.3V                    Operating Temperature Range ...........................-40°C to +85°C
OUTP, OUTN, PREG, REF, MICBIAS .....-0.3V to (VAVDD + 0.3V)                                 Storage Temperature Range .............................-65°C to +150°C
MICLP, MICLN, MICRP, MICRN, REG....-0.3V to (VPREG + 0.3V)                                  Junction Temperature ......................................................+150°C
MCLK, LRCLK, BCLK,                                                                          Lead Temperature (soldering, 10s) .................................+300°C
   SDOUT, SDIN..................................-0.3V to (VDVDDIO + 0.3V)                   Soldering Temperature (reflow) .......................................+260°C
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
absolute maximum rating conditions for extended periods may affect device reliability.
PACKAGE THERMAL CHARACTERISTICS (Note 1)
TQFN
  Junction-to-Ambient Thermal Resistance (θJA)...............36°C/W
  Junction-to-Case Thermal Resistance (θJC)......................3°C/W
Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer
          board. For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
ELECTRICAL CHARACTERISTICS
(VAVDD = VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF, CMICBIAS =
CPREG = CREG = 1µF, AVPRE = +20dB, AVMICPGA = 0dB, fMCLK = 13MHz, fLRCLK = 8kHz, TA = TMIN to TMAX, unless otherwise noted.
Typical values are at TA = +25°C.) (Note 2)
             PARAMETER                            SYMBOL                                CONDITIONS                           MIN            TYP            MAX           UNITS
                                                                       AVDD (inferred from HP output PSRR)                    1.7            1.8             1.9
                                                                       DVDD (inferred from codec performance
 Supply Voltage Range                                                                                                         1.7            1.8             1.9           V
                                                                       tests)
                                                                       DVDDIO                                                 1.7            1.8             3.6
                                                                       DAC playback mode              AVDD                                  1.46             2.2
                                                                       (48kHz)                        DVDD                                  1.05             1.6
                                                                       Full operation                 AVDD                                  4.08             5.7
 Total Supply Current                                                  8kHz mono ADC + DAC            DVDD                                  0.78             1.0
                                                IAVDD+DVDD                                                                                                                mA
 (Note 3)                                                              Full operation                 AVDD                                  6.17             9.0
                                                                       8kHz stereo ADC + DAC          DVDD                                   0.8             1.2
                                                                                                      AVDD                                  5.38             8.0
                                                                       Stereo ADC only (48kHz)
                                                                                                      DVDD                                  1.68             2.2
                                                                                                      AVDD                                  0.56              5
 Shutdown Supply Current                             ISHDN             TA = +25°C                     DVDD +                                                              µA
                                                                                                                                            1.65              5
                                                                                                      DVDDIO
 Shutdown to Full Operation                                                                                                                   10                          ms
 DAC (Note 4)
 Gain Error                                                                                                                                   ±1             ±5            %
                                                                       +0dB volume setting, fS = 8kHz, measured
 Dynamic Range (Note 5)                                DR                                                                      84             90                          dB
                                                                       at headphone output, TA = +25°C
 DAC Full-Scale Output                                                                                                                         1                         VRMS
                                                                       f = 1kHz, 0dBFS, HP            fS = 8kHz                              1.2
 DAC Path Phase Delay                                                  filter disabled, digital                                                                           ms
                                                                       input to analog output         fS = 16kHz                            0.59
                                                                       f = 1kHz, fMCLK = 12.288MHz,
 Total Harmonic Distortion + Noise                 THD+N                                                                                     -87                          dB
                                                                       fLRCLK = 48kHz
2                                                                                                                                                             Maxim Integrated


                                                                                                  MAX9860
                                               16-Bit Mono Audio Voice Codec
ELECTRICAL CHARACTERISTICS (continued)
(VAVDD = VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF, CMICBIAS =
CPREG = CREG = 1µF, AVPRE = +20dB, AVMICPGA = 0dB, fMCLK = 13MHz, fLRCLK = 8kHz, TA = TMIN to TMAX, unless otherwise noted.
Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                  SYMBOL                     CONDITIONS                 MIN  TYP     MAX      UNITS
                                                 f = 1kHz, VRIPPLE = 100mVP-P,
                                                                                                    94
                                                 AVPGA = 0dB
 Power-Supply Rejection Ratio            PSRR                                                                        dB
                                                 f = 10kHz, VRIPPLE = 100mVP-P,
                                                                                                    71
                                                 AVPGA = 0dB
 DAC LOWPASS DIGITAL FILTER
                                                 With respect to fS within ripple; fS = 8kHz     0.448 x
                                                                                                                     Hz
 Passband Cutoff                          fPLP   to 48kHz                                           fS
                                                 -3dB cutoff                                      0.451              fS
 Passband Ripple                                 f < fPLP                                         ±0.1               dB
                                                                                                 0.476 x
 Stopband Cutoff                          fSLP   With respect to fS; fS = 8kHz to 48kHz                              Hz
                                                                                                    fS
 Stopband Attenuation                            f > fSLP, f = 20Hz to 20kHz                        75               dB
 DAC HIGHPASS DIGITAL FILTER
                                                 DVFLT = 0x1                                     0.0161
                                                 (elliptical for 16kHz GSM)                        x fS
                                                 DVFLT = 0x2                                     0.0312
                                                 (500Hz Butterworth for 16kHz)                     x fS
 5th Order Passband Cutoff
                                                 DVFLT = 0x3                                     0.0321
 (-3dB from Peak, I2C Register          fDHPPB                                                                       Hz
                                                 (elliptical for 8kHz GSM)                         x fS
 Programmable) (Note 6)
                                                 DVFLT = 0x4                                     0.0625
                                                 (500Hz Butterworth for 8kHz)                      x fS
                                                 DVFLT = 0x5                                     0.0042
                                                 (200Hz Butterworth for 48kHz)                     x fS
                                                 DVFLT = 0x1                                     0.0139
                                                 (elliptical for 16kHz GSM)                        x fS
                                                 DVFLT = 0x2                                     0.0156
                                                 (500Hz Butterworth for 16kHz)                     x fS
 5th Order Stopband Cutoff
                                                 DVFLT = 0x3                                     0.0279
 (-30dB from Peak, I2C Register         fDHPSB                                                                       Hz
                                                 (elliptical for 8kHz GSM)                         x fS
 Programmable) (Note 6)
                                                 DVFLT = 0x4                                     0.0312
                                                 (500Hz Butterworth for 8kHz)                      x fS
                                                 DVFLT = 0x5                                     0.0021
                                                 (200Hz Butterworth for 48kHz)                     x fS
 DC Blocking                            DCAtten  DVFLT ≠ 0x0                                       90                dB
 ADC
                                                 Differential MIC Input, AVPRE = 0dB,
 Full-Scale Input Voltage               0dBFS                                                       1               VP-P
                                                 AVPGA = 0dB
 Channel Gain Mismatch                                                                            ±0.3               %
 Maxim Integrated                                                                                                        3


MAX9860
16-Bit Mono Audio Voice Codec
ELECTRICAL CHARACTERISTICS (continued)
(VAVDD = VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF, CMICBIAS =
CPREG = CREG = 1µF, AVPRE = +20dB, AVMICPGA = 0dB, fMCLK = 13MHz, fLRCLK = 8kHz, TA = TMIN to TMAX, unless otherwise noted.
Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                   SYMBOL                 CONDITIONS                 MIN     TYP      MAX      UNITS
                                               fS = 8kHz, AVPRE = 0dB,
                                                                                                   81
 Dynamic Range (Note 5)                    DR  A-weighted from 20Hz to fS/2                                           dB
                                               fS = 48kHz, AVPRE = 0dB, TA = +25°C        75       83
                                               f = 1kHz, 0dBFS, HP filter     fS = 8kHz           1.2
 ADC Phase Delay                               disabled, analog input to                                              ms
                                               digital output                 fS = 16kHz         0.61
 Total Harmonic Distortion                THD  f = 1kHz, fS = 48kHz, TA = +25°C          -70      -75                 dB
                                               f = 1kHz, VRIPPLE = 100mVP-P,
                                                                                                   82
                                               AVPGA = 0dB
 Power-Supply Rejection Ratio            PSRR                                                                         dB
                                               f = 10kHz, VRIPPLE = 100mVP-P,
                                                                                                   76
                                               AVPGA = 0dB
 Channel Crosstalk                             Driven channel at -1dBFS, f = 1kHz                 -92                 dB
 ADC LOWPASS DIGITAL FILTER
                                               With respect to fS within ripple;               0.445 x
                                                                                                                      Hz
 Passband Cutoff                          fPLP fS = 8kHz to 48kHz                                  fS
                                               -3dB cutoff                                      0.449                 fS
 Passband Ripple                               f < fPLP                                          ±0.1                 dB
                                                                                               0.469 x
 Stopband Cutoff                          fSLP With respect to fS; fS = 8kHz to 48kHz                                 Hz
                                                                                                   fS
 Stopband Attenuation                          f > fSLP                                            74                 dB
 ADC HIGHPASS DIGITAL FILTER
                                                                                                0.0161
                                               AVFLT = 0x1 (elliptical for 16kHz GSM)
                                                                                                  x fS
                                               AVFLT = 0x2 (500Hz Butterworth for               0.0312
                                               16kHz)                                             x fS
 5th Order Passband Cutoff
                                                                                                0.0321
 (-3dB from Peak, I2C Register          fAHPPB AVFLT = 0x3 (elliptical for 8kHz GSM)                                  Hz
                                                                                                  x fS
 Programmable) (Note 6)
                                               AVFLT = 0x4                                      0.0625
                                               (500Hz Butterworth for 8kHz)                       x fS
                                               AVFLT = 0x5                                      0.0042
                                               (200Hz Butterworth for 48kHz)                      x fS
4                                                                                                           Maxim Integrated


                                                                                                 MAX9860
                                              16-Bit Mono Audio Voice Codec
ELECTRICAL CHARACTERISTICS (continued)
(VAVDD = VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF, CMICBIAS =
CPREG = CREG = 1µF, AVPRE = +20dB, AVMICPGA = 0dB, fMCLK = 13MHz, fLRCLK = 8kHz, TA = TMIN to TMAX, unless otherwise noted.
Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                  SYMBOL                    CONDITIONS               MIN    TYP      MAX      UNITS
                                                AVFLT = 0x1                                     0.0139
                                                (elliptical for 16kHz GSM)                        x fS
                                                AVFLT = 0x2                                     0.0156
                                                (500Hz Butterworth for 16kHz)                     x fS
 5th Order Stopband Cutoff
                                                AVFLT = 0x3                                     0.0279
 (-30dB from peak, I2C Register         fAHPSB                                                                       Hz
                                                (elliptical for 8kHz GSM)                         x fS
 Programmable) (Note 6)
                                                AVFLT = 0x4                                     0.0312
                                                (500Hz Butterworth for 8kHz)                      x fS
                                                AVFLT = 0x5                                     0.0021
                                                (200Hz Butterworth for 48kHz)                     x fS
 DC Blocking                           DCATTEN  AVFLT ≠ 0x0                                       90                 dB
 CLOCKING
                                                MCLK is not required to be synchronous
 MCLK Input Frequency                                                                      10              60       MHz
                                                or related to the desired LRCLK data rate
 MCLK Duty Cycle                                                                           40      50      60        %
 Maximum MCLK Input Jitter                      For guaranteed performance limits                 100              psRMS
 LRCLK Data Rate Frequency                                                                 8               48       kHz
 LRCLK PLL Lock Time                                                                               12      25        ms
 LRCLK Acceptable Jitter for
                                                                                                 ±20                 ns
 Maintaining PLL Lock
 MONO HEADPHONE AMPLIFIER
                                                f = 1kHz, THD+N ≤ 1%        RL = 16Ω       30      50
 Output Power                            POUT                                                                       mW
                                                TA = +25°C                  RL = 32Ω               33
                                                RL = 32Ω, POUT = 25mW, f = 1kHz                  0.05
 Total Harmonic Distortion + Noise      THD+N                                                                        %
                                                RL = 16Ω, POUT = 25mW, f = 1kHz                  0.08
                                                +0dB volume setting, DAC input at
 Dynamic Range (Note 5)                   DR                                                       90                dB
                                                fS = 8kHz to 48kHz
                                                VAVDD = 1.7V to 1.9V                       60      84
 Power-Supply Rejection Ratio            PSRR   VRIPPLE = 100mVP-P, f = 217Hz                      86                dB
                                                VRIPPLE = 100mVP-P, f = 20kHz                      71
 Output Offset Voltage                    VOS   VOUTP - VOUTN, TA =+25°C                                  ± 3.5      mV
                                                                             RL = 32Ω             500
 Capacitive Drive Capability                    No sustained oscillations                                            pF
                                                                             RL = ∞               100
                                                Peak voltage into/out of shutdown, 32sps,
 Click-and-Pop Level                                                                              -70               dBV
                                                A-weighted
 Maxim Integrated                                                                                                        5


MAX9860
16-Bit Mono Audio Voice Codec
ELECTRICAL CHARACTERISTICS (continued)
(VAVDD = VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF, CMICBIAS =
CPREG = CREG = 1µF, AVPRE = +20dB, AVMICPGA = 0dB, fMCLK = 13MHz, fLRCLK = 8kHz, TA = TMIN to TMAX, unless otherwise noted.
Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                  SYMBOL                   CONDITIONS               MIN     TYP      MAX       UNITS
 MICROPHONE AMPLIFIER
                                                                             PAM = 00            Off
                                                                             PAM = 01     -0.5     0      +0.5
 Preamplifier Gain                       AVPRE  TA = +25°C                                                            dB
                                                                             PAM = 10      19     20        21
                                                                             PAM = 11      29     30        31
                                                PGAM = 0x14–0x1F                                   0
 MIC PGA Gain                          AVMICPGA                                                                       dB
                                                PGAM = 0x00                                      +20
 MIC PGA Gain Step Size                                                                            1                  dB
 Common-Mode Rejection Ratio             CMRR   VIN = 100mVP-P at 217Hz                           50                  dB
                                                All gain settings, measured at
 MIC Input Resistance                   RIN_MIC                                            30     50                  kΩ
                                                MICLN/MICRN
 MIC Input Bias Voltage                                                                    0.7   0.8       0.9         V
                                                AVPRE = 0dB, AVMICPGA = 0dB,
                                                                                                 -75                  dB
                                                VIN = 1VP-P, f = 1kHz
 Total Harmonic Distortion + Noise      THD+N
                                                AVPRE = +30dB, AVMICPGA = 0dB,
                                                                                                 -66                  dB
                                                VIN = 31mVP-P, f = 1kHz
                                                VAVDD = 1.7V to 1.9V                       60     95                  dB
 MIC Power-Supply Rejection
                                         PSRR   VRIPPLE = 100mV at 1kHz, input referred           82                  dB
 Ratio
                                                VRIPPLE = 100mV at 10kHz, input referred          76                  dB
 MICROPHONE BIAS
 MICBIAS Output Voltage                VMICBIAS ILOAD = 1mA, TA = +25°C                    1.5   1.55      1.6         V
 Load Regulation                                ILOAD = 1mA to 2mA                               0.2        10        mV
                                                VRIPPLE = 100mVP-P at 217Hz                       82                  dB
 MICBIAS Line Ripple Rejection            LRR
                                                VRIPPLE = 100mVP-P at 10kHz                       81                  dB
 MICBIAS Noise Voltage                          A-weighted                                        9.5               µVRMS
 AUTOMATIC GAIN CONTROL
 AGC Hold Duration                              AGCHLD[1:0] setting range, FREQ ≠ 0         50             400        ms
 AGC Attack Time                                AGCATK[1:0] setting range, FREQ ≠ 0          3             200        ms
 AGC Release Time                               AGCRLS[2:0] setting range, FREQ ≠ 0      0.078              10         s
 AGC Threshold Level                            AGCSTH[3:0] setting range, FREQ ≠ 0         -3             -18        dB
 NOISE GATE
 NG Attack and Release Time                                                                       0.5                  s
 NG Threshold Level                                                                        -72             -16        dB
 Noise Gate Threshold Step Size                                                                    4                  dB
 NG Attenuation                                                                              0              12        dB
 DIGITAL SIDETONE
 Sidetone Gain Adjust                    DVST   2dB steps                                  -60               0        dB
                                                MIC input to headphone       8kHz                 2.2
 Sidetone Phase Delay                    PDLY   output, f = 1kHz, HP filter                                           ms
                                                disabled                     16kHz                1.1
6                                                                                                           Maxim Integrated


                                                                                   MAX9860
                                             16-Bit Mono Audio Voice Codec
DIGITAL AUDIO INTERFACE ELECTRICAL CHARACTERISTICS
(VDVDD = VDVDDIO = 1.8V, unless otherwise noted.) (Note 2)
            PARAMETER              SYMBOL                     CONDITIONS   MIN      TYP MAX UNITS
 BCLK Cycle Time                     tBCLKS    Slave operation              75                ns
 BCLK High Time                      tBCLKH    Slave operation              30                ns
 BCLK Low Time                       tBCLKL    Slave operation              30                ns
 BCLK or LRCLK Rise and Fall
                                      tR, tF   Master operation                      7        ns
 Time
 SDIN or LRCLK to BCLK Rising
                                        tSU    ABCI = DBCI = 0              25                ns
 Setup Time
 SDIN or LRCLK to BCLK Falling
                                        tSU    ABCI = DBCI = 1              25                ns
 Setup Time
 SDIN or LRCLK to BCLK Rising
                                        tHD    ABCI = DBCI = 0               0                ns
 Hold Time
 SDIN or LRCLK to BCLK Falling
                                        tHD    ABCI = DBCI = 1               0                ns
 Hold Time
 SDOUT Delay Time from BCLK
                                       tDLY    ABCI = DBCI = 0, CL = 30pF    0           40   ns
 Rising Edge
I2C INTERFACE ELECTRICAL CHARACTERISTICS
(VDVDD = VDVDDIO = 1.8V, unless otherwise noted.) (Note 2)
            PARAMETER              SYMBOL                     CONDITIONS   MIN      TYP MAX UNITS
 Serial-Clock Frequency                fSCL                                  0          400  kHz
 Bus Free Time Between STOP
                                       tBUF                                 1.3               µs
 and START Conditions
 Hold Time (Repeated) START
                                    tHD,STA                                 0.6               µs
 Condition
 SCL Pulse Width Low                  tLOW                                  1.3               µs
 SCL Pulse Width High                 tHIGH                                 0.6               µs
 Setup Time for a Repeated
                                    tSU,STA                                 0.6               µs
 START Condition
 Data Hold Time                     tHD,DAT                                  0          900   ns
 Data Setup Time                    tSU,DAT                                100                ns
 SDA and SCL Receiving
                                         tR    CB is in pF                20 + 0.1CB    300   ns
 Rise Time
 SDA and SCL Receiving
                                         tF    CB is in pF                20 + 0.1CB    300   ns
 Fall Time
 Maxim Integrated                                                                                 7


MAX9860
16-Bit Mono Audio Voice Codec
I2C INTERFACE ELECTRICAL CHARACTERISTICS (continued)
(VDVDD = VDVDDIO = 1.8V, unless otherwise noted.) (Note 2)
            PARAMETER                  SYMBOL                    CONDITIONS                         MIN    TYP       MAX      UNITS
 SDA Transmitting
                                             tF   CB is in pF                                    20 + 0.1CB          250         ns
 Fall Time
 Setup Time for STOP Condition          tSU,STO                                                     0.6                          µs
 Bus Capacitance                            CB                                                                       400         pF
 Pulse Width of Suppressed Spike            tSP                                                      0                50         ns
 DIGITAL INPUTS (LRCLK, BCLK, SDIN, MCLK)
                                                                                                      0.7
 Input Voltage High                        VIH                                                                                   V
                                                                                                 x VDVDDIO
                                                                                                                   0.3
 Input Voltage Low                          VIL                                                                                  V
                                                                                                               x VDVDDIO
 MCLK Input Voltage High                                                                            1.4                          V
 MCLK Input Voltage Low                                                                                               0.4        V
 Input Leakage Current                   IIH, IIL TA = +25°C                                         -1               +1         µA
 Input Capacitance                                                                                           3                   pF
 DIGITAL INPUTS (SCL, SDA)
                                                                                                    0.7
 Input Voltage High                        VIH                                                                                   V
                                                                                                 x VDVDD
                                                                                                                     0.3
 Input Voltage Low                          VIL                                                                                  V
                                                                                                                  x VDVDD
 Input Hysteresis                                                                                           200                 mV
 Input Leakage Current                   IIH, IIL TA = +25oC                                         -1               +1         µA
 Input Capacitance                                                                                           3                   pF
 CMOS DIGITAL OUTPUTS (BCLK, LRCLK, SDOUT)
 Output Low Voltage                        VOL    IOL = 3mA                                                           0.4        V
                                                                                                 VDVDDIO
 Output High Voltage                      VOH     IOL = 3mA                                                                      V
                                                                                                    - 0.4
 OPEN-DRAIN DIGITAL OUTPUTS (SDA, IRQ)
 Output High Leakage Current               IOH    VOUT = VDVDDIO, TA = +25°C                         -1               +1         µA
 Output Low Voltage                        VOL    IOL = 3mA                                                           0.4        V
 Note 2: All devices are 100% production tested at room temperature. All temperature limits are guaranteed by design.
 Note 3: Supply current measurements taken with no applied signal at microphone inputs. A digital zero audio signal used for all dig-
         ital serial audio inputs. Headphone outputs are loaded as stated in the global conditions.
 Note 4: DAC performance is measured at headphone outputs.
 Note 5: ADC, DAC, and headphone amplifier dynamic ranges are measured using the EIAJ method. -60dBV 1kHz input signal, A-weight-
         ed and normalized to 0dBFS.
 Note 6: Notch for GSM filters occurs at 217Hz.
8                                                                                                                      Maxim Integrated


                                                                                                                       MAX9860
                                                                                                  16-Bit Mono Audio Voice Codec
                                                                                                                                                        Typical Operating Characteristics
(VAVDD = +1.8V, VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF,
CPREG = CREG = 1µF, CMICBIAS = 1µF AVMICPGA = 0dB, AVPRE = +20dB, fMCLK = 13MHz, TA = +25°C, unless otherwise noted.)
                     TOTAL HARMONIC DISTORTION + NOISE                                                                 TOTAL HARMONIC DISTORTION + NOISE                                                         TOTAL HARMONIC DISTORTION + NOISE
                        vs. OUTPUT POWER (DAC TO HP)                                                                      vs. OUTPUT POWER (DAC TO HP)                                                               vs. FREQUENCY (DAC TO HP)
              10                                                                                                10                                                                                        10
                                                                          MAX9860 toc01                                                                                     MAX9860 toc02                                                                      MAX9860 toc03
                           RL = 32Ω                                                                                          RL = 16Ω                                                                                  RL = 32Ω
               1                                                                                                 1                                                                                         1
                                                                                                                                     f = 3.5kHz
THD+N (%)                                                                                 THD+N (%)                                                                                         THD+N (%)
                                         f = 3.5kHz
              0.1                                                                                               0.1                                                                                       0.1                     POUT = 5mW
                                                                                                                                        f = 1kHz
                                              f = 1kHz
             0.01                                                                                              0.01                                                                                      0.01
                                                                                                                                                                                                                                      POUT = 20mW
                                          f = 20kHz                                                                                  f = 20kHz
            0.001                                                                                             0.001                                                                                     0.001
                     0         5         10        15    20        25   30                                             0        10         20      30    40         50    60                                    0.01                0.1             1        10
                                      OUTPUT POWER (mW)                                                                                 OUTPUT POWER (mW)                                                                           FREQUENCY (kHz)
                     TOTAL HARMONIC DISTORTION + NOISE                                                                 TOTAL HARMONIC DISTORTION + NOISE                                                         TOTAL HARMONIC DISTORTION + NOISE
                         vs. FREQUENCY (DAC TO HP)                                                                        vs. FREQUENCY (MICL TO ADC)                                                               vs. FREQUENCY (MICL TO ADC)
              10                                                                                                10                                                                                        10
                                                                          MAX9860 toc04                                                                                     MAX9860 toc05                                                                      MAX9860 toc06
                           RL = 16Ω                                                                                          MICPRE = 0dB                                                                              MICPRE = +20dB
                                                                                                                             VIN = 1VP-P                                                                               VIN = 100mVP-P
               1                                                                                                 1
                                                                                                                                                                                                           1
THD+N (%)                                                                                 THD+N (%)                                                                                         THD+N (%)
                                      POUT = 5mW
              0.1                                                                                               0.1
                                                                                                                                                                                                          0.1
             0.01                          POUT = 20mW                                                         0.01
            0.001                                                                                             0.001                                                                                      0.01
                    0.01                 0.1             1              10                                            0.01           0.1           1           10         100                                   0.01          0.1          1            10   100
                                         FREQUENCY (kHz)                                                                                   FREQUENCY (kHz)                                                                          FREQUENCY (kHz)
                     TOTAL HARMONIC DISTORTION + NOISE                                                                         HEADPHONE OUTPUT POWER                                                                  POWER-SUPPLY REJECTION RATIO
                        vs. FREQUENCY (MICL TO ADC)                                                                               vs. LOAD RESISTANCE                                                                    vs. FREQUENCY (DAC TO HP)
              10                                                                                                60                                                                                         0
                                                                          MAX9860 toc07                                                                                     MAX9860 toc08                                                                      MAX9860 toc09
                           MICPRE = +30dB                                                                                                                                                                -10
                           VIN = 31VP-P                                                                                                                                                                  -20
                                                                                                                50
               1                                                                                                                                                                                         -30
                                                                                          OUTPUT POWER (mW)
                                                                                                                40                                                                                       -40
THD+N (%)                                                                                                                                                                                   PSRR (dB)
                                                                                                                                                                                                         -50
              0.1                                                                                               30                                                                                       -60
                                                                                                                                                                                                         -70
                                                                                                                20                                                                                       -80
             0.01                                                                                                                                                                                        -90
                                                                                                                10                                                                                      -100
                                                                                                                                                                                                        -110
            0.001                                                                                                0                                                                                      -120
                    0.01           0.1              1         10        100                                            0        25         50      75    100        125   150                                   0.01          0.1          1            10   100
                                         FREQUENCY (kHz)                                                                                LOAD RESISTANCE (Ω)                                                                         FREQUENCY (kHz)
  Maxim Integrated                                                                                                                                                                                                                                                             9


MAX9860
16-Bit Mono Audio Voice Codec
                                                                                                                          Typical Operating Characteristics (continued)
(VAVDD = +1.8V, VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF,
CPREG = CREG = 1µF, CMICBIAS = 1µF AVMICPGA = 0dB, AVPRE = +20dB, fMCLK = 13MHz, TA = +25°C, unless otherwise noted.)
                                      POWER-SUPPLY REJECTION RATIO
                                        vs. FREQUENCY (MIC TO ADC)                                                                   0dBFS FFT (DAC TO HP)                                                                     -60dBFS FFT (DAC TO HP)
                           0                                                                                              20                                                                                        20
                                                                                 MAX9860 toc10                                                                             MAX9860 toc11                                                                                MAX9860 toc12
                                                                                                                                                       fMCLK = 13MHz                                                                              fMCLK = 13MHz
                         -10
                                                                                                                           0                           fLRCLK = 8kHz                                                 0                            fLRCLK = 8kHz
                         -20                                                                                                                           PLL DISABLED                                                                               PLL DISABLED
                                                                                                 OUTPUT AMPLITUDE (dB)                                                                     OUTPUT AMPLITUDE (dB)
                         -30                                                                                              -20                                                                                       -20
                         -40
                                                                                                                          -40                                                                                       -40
PSRR (dB)
                         -50
                         -60                                                                                              -60                                                                                       -60
                         -70
                                                                                                                          -80                                                                                       -80
                         -80
                         -90                                                                                             -100                                                                                      -100
                        -100
                                                                                                                         -120                                                                                      -120
                        -110
                        -120                                                                                             -140                                                                                      -140
                               0.01        0.1          1          10        100                                                0     5         10          15         20                                                 0      5         10          15         20
                                                 FREQUENCY (kHz)                                                                          FREQUENCY (kHz)                                                                            FREQUENCY (kHz)
                                          0dBFS FFT (DAC TO HP)                                                                     -60dBFS FFT (DAC TO HP)                                                                   0dBFS FFT (DAC TO HP AMP)
                         20                                                                                               20                                                                                        20
                                                                                 MAX9860 toc13                                                                             MAX9860 toc14                                                                                MAX9860 toc15
                                                             fMCLK = 13MHz                                                                            fMCLK = 13MHz                                                                             fMCLK = 12.288MHz
                          0                                  fLRCLK = 8kHz                                                 0                          fLRCLK = 8kHz                                                  0                          fLRCLK = 48kHz
                                                             PLL ENABLED                                                                              PLL ENABLED                                                                               PLL DISABLED
OUTPUT AMPLITUDE (dB)                                                                            OUTPUT AMPLITUDE (dB)                                                                     OUTPUT AMPLITUDE (dB)
                         -20                                                                                              -20                                                                                       -20
                         -40                                                                                              -40                                                                                       -40
                         -60                                                                                              -60                                                                                       -60
                         -80                                                                                              -80                                                                                       -80
                        -100                                                                                             -100                                                                                      -100
                        -120                                                                                             -120                                                                                      -120
                        -140                                                                                             -140                                                                                      -140
                                0          5           10          15           20                                              0     5         10          15         20                                                 0      5         10          15         20
                                                 FREQUENCY (kHz)                                                                          FREQUENCY (kHz)                                                                            FREQUENCY (kHz)
                                       -60dBFS FFT (DAC TO HP AMP)                                                                  0dBFS FFT (MICL TO ADC)                                                                   -60dBFS FFT (MICL TO ADC)
                         20                                                                                               20                                                                                        20
                                                                                 MAX9860 toc16                                                                             MAX9860 toc17                                                                                MAX9860 toc18
                                                            fMCLK = 12.288MHz                                                                         fMCLK = 13MHz                                                                               fMCLK = 13MHz
                          0                                 fLRCLK = 48kHz                                                 0                          fLRCLK = 8kHz                                                  0                            fLRCLK = 8kHz
                                                            PLL DISABLED                                                                              PLL DISABLED                                                                                PLL DISABLED
OUTPUT AMPLITUDE (dB)                                                                            OUTPUT AMPLITUDE (dB)                                                                     OUTPUT AMPLITUDE (dB)
                         -20                                                                                              -20                                                                                       -20
                         -40                                                                                              -40                                                                                       -40
                         -60                                                                                              -60                                                                                       -60
                         -80                                                                                              -80                                                                                       -80
                        -100                                                                                             -100                                                                                      -100
                        -120                                                                                             -120                                                                                      -120
                        -140                                                                                             -140                                                                                      -140
                                0          5           10          15           20                                              0     1          2          3          4                                                  0      1          2          3            4
                                                 FREQUENCY (kHz)                                                                          FREQUENCY (kHz)                                                                            FREQUENCY (kHz)
 10                                                                                                                                                                                                                                               Maxim Integrated


                                                                                                                                         MAX9860
                                                                                                                    16-Bit Mono Audio Voice Codec
                                                                                                                                     Typical Operating Characteristics (continued)
(VAVDD = +1.8V, VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF,
CPREG = CREG = 1µF, CMICBIAS = 1µF AVMICPGA = 0dB, AVPRE = +20dB, fMCLK = 13MHz, TA = +25°C, unless otherwise noted.)
                                       0dBFS FFT (MICL TO ADC)                                                                                       -60dBFS FFT (MICL TO ADC)                                                                                    0dBFS FFT (MICL TO ADC)
                         20                                                                                                          20                                                                                                          20
                                                                                          MAX9860 toc19                                                                                               MAX9860 toc20                                                                                               MAX9860 toc21
                                                                  fMCLK = 13MHz                                                                                                 fMCLK = 13MHz                                                                                              fMCLK= 12.288MHz
                          0                                       fLRCLK = 8kHz                                                       0                                         fLRCLK = 8kHz                                                     0                                        fLRCLK = 48kHz
                                                                  PLL ENABLED                                                                                                   PLL ENABLED                                                                                                PLL DISABLED
OUTPUT AMPLITUDE (dB)                                                                                     OUTPUT AMPLITUDE (dB)                                                                                       OUTPUT AMPLITUDE (dB)
                         -20                                                                                                         -20                                                                                                         -20
                         -40                                                                                                         -40                                                                                                         -40
                         -60                                                                                                         -60                                                                                                         -60
                         -80                                                                                                         -80                                                                                                         -80
                        -100                                                                                                        -100                                                                                                        -100
                        -120                                                                                                        -120                                                                                                        -120
                        -140                                                                                                        -140                                                                                                        -140
                                0            1             2             3            4                                                     0              1              2             3         4                                                     0              5              10             15          20
                                                  FREQUENCY (kHz)                                                                                              FREQUENCY (kHz)                                                                                             FREQUENCY (kHz)
                                      -60dBFS FFT (MICL TO ADC)                                                                                  -5dBFS WIDEBAND FFT (DAC TO HP)                                                                            -60dBFS WIDEBAND FFT (DAC TO HP)
                         20                                                                                                          20                                                                                                          20
                                                                                          MAX9860 toc22                                                                                               MAX9860 toc23                                                                                               MAX9860 toc24
                                                                fMCLK = 12.288MHz                                                                                               fMCLK = 13MHz                                                                                                    fMCLK = 13MHz
                          0                                     fLRCLK = 48kHz                                                                                                  fLRCLK = 8kHz                                                                                                    fLRCLK = 8kHz
                                                                PLL DISABLED                                                          0                                         PLL DISABLED                                                      0                                              PLL DISABLED
OUTPUT AMPLITUDE (dB)                                                                                     OUTPUT AMPLITUDE (dB)                                                                                       OUTPUT AMPLITUDE (dB)
                         -20                                                                                                                                                    RL = 32Ω                                                                                                         RL = 32Ω
                                                                                                                                     -20                                                                                                         -20
                         -40
                         -60                                                                                                         -40                                                                                                         -40
                         -80
                                                                                                                                     -60                                                                                                         -60
                        -100
                                                                                                                                     -80                                                                                                         -80
                        -120
                        -140                                                                                                        -100                                                                                                        -100
                                0            5             10            15          20                                                    0.1         1             10       100       1000    10,000                                                 0.1         1             10        100        1000   10,000
                                                  FREQUENCY (kHz)                                                                                              FREQUENCY (kHz)                                                                                             FREQUENCY (kHz)
                                              SUPPLY CURRENT                                                                                           DAC DIGITAL FILTER                                                                                          ADC DIGITAL FILTER
                                             vs. SUPPLY VOLTAGE                                                                                     FREQUENCY RESPONSE, 8kHz                                                                                    FREQUENCY RESPONSE, 8kHz
                         4.5                                                                                                         10                                                                                                          10
                                                                                          MAX9860 toc25                                                                                               MAX9860 toc26                                                                                               MAX9860 toc27
                         4.0                                                                                                          0                                                                                                           0
                                                   IAVDD                                                                             -10                                                                                                         -10
                                                                                                          OUTPUT AMPLITUDE (dBFS)                                                                                     OUTPUT AMPLITUDE (dBFS)
                         3.5
SUPPLY CURRENT (mA)
                                                                                                                                     -20                                                                                                         -20
                         3.0
                                                                                                                                     -30                                                                                                         -30
                         2.5
                                             FULL-DUPLEX 8kHz MODE                                                                   -40                                                                                                         -40
                         2.0
                                                                                                                                     -50                                                                                                         -50
                         1.5
                                                                                                                                     -60                                                                                                         -60
                         1.0                                                                                                         -70                                                                                                         -70
                                                                                                                                                  ELLIPTICAL FOR 8kHz GSM WITH                                                                               ELLIPTICAL FOR 8kHz GSM WITH
                         0.5                                                                                                         -80                                                                                                         -80
                                             IDVDD + IDVDDIO                                                                                      NOTCH AT 217Hz                                                                                             NOTCH AT 217Hz
                          0                                                                                                          -90                                                                                                         -90
                               1.65   1.70       1.75   1.80      1.85        1.90   1.95                                                  0.01                0.1                  1            10                                                    0.01                0.1                   1               10
                                                 SUPPLY VOLTAGE (V)                                                                                            FREQUENCY (kHz)                                                                                             FREQUENCY (kHz)
     Maxim Integrated                                                                                                                                                                                                                                                                                                     11


MAX9860
16-Bit Mono Audio Voice Codec
                                                                                                             Typical Operating Characteristics (continued)
(VAVDD = +1.8V, VDVDD = VDVDDIO = +1.8V, RL = ∞, headphone load (RL) connected between OUTP and OUTN, CREF = 2.2µF,
CPREG = CREG = 1µF, CMICBIAS = 1µF AVMICPGA = 0dB, AVPRE = +20dB, fMCLK = 13MHz, TA = +25°C, unless otherwise noted.)
                                                      HEADPHONE STARTUP WAVEFORM                                                                                                                               HEADPHONE SHUTDOWN WAVEFORM
                                                                                                                        MAX9860 toc28                                                                                                                                              MAX9860 toc29
                                           SDA                                                                                                                                SDA
                                        (2V/div)                                                                                                                           (2V/div)
                                     SPK+ -SPK-                                                                                                                   SPK+ -SPK-
                                        (1V/div)                                                                                                                     (1V/div)
                                                                   TIME (4ms/div)                                                                                                                                                                   TIME (2ms/div)
                                                             SOFT-START ADC                                                                                                                           AUTOMATIC GAIN CONTROL THRESHOLDS
                                                                                                                                                                                                10
                                                                                                                          MAX9860 toc30                                                                                                                                         MAX9860 toc31
                                            SDA                                                                                                                                                  0
                                         (2V/div)
                                                                                                                                                                      OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                -10
                                                                                                                                                                                                -20
                                                                                                                                                                                                -30
                                                                                                                                                                                                -40
                                    ADC OUTPUT                                                                                                                                                  -50
                                     (500mV/div)
                                                                                                                                                                                                -60
                                                                                                                                                                                                -70
                                                                                                                                                                                                -80
                                                                   TIME (4ms/div)                                                                                                                     -100 -90 -80 -70 -60 -50 -40 -30 -20 -10 0
                                                                                                                                                                                                                                             INPUT AMPLITUDE (dBV)
                                                                                                                    TOTAL HARMONIC DISTORTION + NOISE                                                                                                      DYNAMIC RANGE
                                       NOISE GATE THRESHOLDS                                                       vs. MCLK FREQUENCY, 0dBFS (DAC to HP)                                                                                       vs. MCLK FREQUENCY, -60dBFS (DAC to HP)
                            0                                                                                 1                                                                                                                                 0
                                                                               MAX9860 toc32                                                                                                            MAX9860 toc33                                                                                               MAX9860 toc34
                                                                                                                                                                fLRCLK = 8kHz                                                                                                                      fLRCLK = 8kHz
                          -10                                                                                                                                                                                                                 -10
                                                                                                                                                                                                                                              -20
OUTPUT AMPLITUDE (dBFS)
                          -20
                                                                                                                                                                                                                                              -30
                                                                                                                                                                                                                        DYNAMIC RANGE (dB)
                          -30                                                                                0.1                                                                                                                              -40
                                                                                               THD+N (%)
                          -40                                                                                                                                                                                                                 -50
                                                                                                                                                                                                                                              -60
                          -50
                                                                                                                                                                                                                                              -70
                          -60                                                                               0.01                                                                                                                              -80
                          -70                                                                                                                                                                                                                 -90
                                                                                                                                                                                                                                             -100
                          -80
                                                                                                                                                                                                                                             -110
                          -90                                                                              0.001                                                                                                                             -120
                             -100       -80         -60   -40         -20                                          10                     20        30     40         50                              60                                            10       20        30     40                       50          60
                                           INPUT AMPLITUDE (dBV)                                                                               MCLK FREQUENCY (MHz)                                                                                               MCLK FREQUENCY (MHz)
  12                                                                                                                                                                                                                                                                            Maxim Integrated


                                                                                                      MAX9860
                                          16-Bit Mono Audio Voice Codec
                                                                                                     Pin Description
 PIN          NAME                                                    FUNCTION
                    Microphone Bias. +1.55V microphone bias for internal and/or external microphone. An external resistor from
   1        MICBIAS
                    2.2kΩ to 470Ω should be used to set the microphone current. Bypass to MICGND with a 1µF capacitor.
   2           REG  Internal Bias. PREG/2 voltage reference. Bypass to AGND with a 1µF capacitor (+0.8V).
   3          PREG  Positive Internal Regulated Supply. Bypass to AGND with a 1µF capacitor (+1.6V).
   4           REF  Converter Reference (1.23V). Bypass to AGND with a 2.2µF capacitor.
   5          AGND  Analog Ground
   6          AVDD  Analog Power Supply. Bypass to AGND with 10µF and 0.1µF capacitors.
   7          OUTP  Positive Headphone Output
   8          OUTN  Negative Headphone Output
   9           SDA  I2C Serial-Data Input/Output
  10           SCL  I2C Serial-Data Clock
  11        DVDDIO  Digital Interface Power Supply. Supply for digital audio interface. Bypass to DGND with a 1µF capacitor.
  12          DGND  Digital Ground
  13          DVDD  Digital Core Power Supply. Bypass to DGND with a 1µF capacitor.
  14          MCLK  Master Clock Input
  15         SDOUT  Serial Audio Interface ADC Data Output
  16          SDIN  Serial Audio Interface DAC Data Input
  17         LRCLK  Serial Audio Interface Left/Right Clock
  18          BCLK  Serial Audio Interface Bit Clock
  19           IRQ  Interrupt Request. IRQ is an active-low open drain output. Pull up to DVDDIO with a 10kΩ resistor.
                    Negative Right Microphone Input. AC-couple to low-side of microphone or connect to negative signal.
  20         MICRN
                    AC-couple to ground for single-ended operation.
                    Positive Right Microphone Input. AC-couple to high-side of microphone or connect to positive signal.
  21         MICRP
                    AC-couple the signal for single-ended operation.
                    Negative Left Microphone Input. AC-couple to low-side of microphone or connect to negative signal.
  22         MICLN
                    AC-couple to ground for single-ended operation.
                    Positive Left Microphone Input. AC-couple to high-side of microphone or connect to positive signal.
  23         MICLP
                    AC-couple the signal for single-ended operation.
  24        MICGND  MICBIAS Ground. Connect to AGND.
  —             EP  Exposed Pad. Connect to AGND.
Maxim Integrated                                                                                                             13


MAX9860
16-Bit Mono Audio Voice Codec
                          Detailed Description             to limit undesirable low-frequency signals and GSM
                                                           transmission noise. The digital filtering provides attenu-
The MAX9860 low-power, voiceband, mono audio
                                                           ation of out-of-band energy by up to 76dB, eliminating
codec provides a complete audio solution for wireless
                                                           audible aliasing. A digital sidetone function allows
voice headsets and other mono audio devices.
                                                           audio from the record path to be summed into the play-
The mono playback path accepts digital audio over a        back path after digital filtering.
flexible digital audio interface compatible with I2S, TDM,
                                                           The MAX9860’s flexible clock circuitry utilizes a pro-
and left-justified audio signals. An oversampling sigma-
                                                           grammable clock divider and a digital PLL to allow the
delta DAC converts an incoming digital data stream to
                                                           DAC and ADC to operate at maximum dynamic range
analog audio and outputs through the mono bridge-tied
                                                           for all combinations of master clock (MCLK) and sam-
load headphone amplifier.
                                                           ple rate (LRCLK). Any master clock between 10MHz to
The stereo record path has two microphone inputs with      60MHz is supported as are all sample rates from 8kHz
selectable gain. The microphones are powered by an         to 48kHz. Master and slave mode are supported for
integrated microphone bias. An oversampling sigma-         maximum flexibility.
delta ADC converts the microphone signals and out-
puts the digital bit stream over the digital audio                                              I2C Registers
interface.                                                 The MAX9860 audio codec is completely controlled
The record path includes automatic gain control (AGC)      through software using an I2C interface. The power-on
to optimize the signal level and a noise gate to reduce    default setting is software shutdown, requiring that the
idle noise. The automatic gain control monitors the out-   internal registers be programmed to activate the device.
puts of the ADC and makes constant adjustments to the      See Table 1 for the device’s complete register map.
input gain to reduce the dynamic range of the incoming
microphone signal by up to 20dB. The noise gate cor-
                                                                                              I2C Slave Address
                                                           The MAX9860 responds to the slave address 0x20 for
rects for the increase in noise typically associated with
                                                           all write commands and 0x21 for all read operations.
AGC by lowering the gain when there is no audio signal.
Integrated digital filtering provides a range of notch and
highpass filters for both the playback and record paths
14                                                                                                      Maxim Integrated


                                                                                     MAX9860
                                     16-Bit Mono Audio Voice Codec
Table 1. I2C Register Map
                                                                                 REGISTER
      REGISTER       B7    B6       B5     B4     B3     B2       B1        B0            POR       R/W
                                                                                 ADDRESS
STATUS/INTERRUPT
Interrupt Status    CLD   SLD      ULK       0     0      0       0         0      0x00    —         R
Microphone NG/AGC
                           NG                             AGC                      0x01    —         R
Readback
Interrupt Enable    ICLD  ISLD     IULK      0     0      0        0        0      0x02   0x00      R/W
CLOCK CONTROL
System Clock          0     0         PSCLK        0         FREQ         16KHZ    0x03   0x00      R/W
Stereo Audio Clock
                     PLL                            NHI                            0x04   0x00      R/W
Control High
Stereo Audio Clock
                                                NLO                                0x05   0x00      R/W
Control Low
DIGITAL AUDIO INTERFACE
Interface            MAS   WCI      DBCI   DDLY     HIZ    TDM        0       0    0x06   0x00      R/W
Interface             0      0      ABCI    ADLY    ST               BSEL          0x07   0x00      R/W
DIGITAL FILTERING
Voice Filter                   AVFLT                           DVFLT               0x08   0x00      R/W
DIGITAL LEVEL CONTROL
DAC Attenuation                                 DVA                                0x09   0x00      R/W
ADC Output Levels              ADCRL                           ADCLL               0x0A   0x00      R/W
DAC Gain and
                        0         DVG                      DVST                    0x0B   0x00      R/W
Sidetone
MICROPHONE LEVEL CONTROL
Microphone Gain         0         PAM                     PGAM                     0x0C   0x00      R/W
RESERVED
Reserved                0       0      0     0      0        0        0       0    0x0D        0x00
MICROPHONE AUTOMATIC GAIN CONTROL
Microphone AGC     AGCSRC          AGCRLS             AGCATK            AGCHLD     0x0E   0x00      R/W
Noise Gate,
                              ANTH                            AGCTH                0x0F   0x00      R/W
Microphone AGC
POWER MANAGEMENT
System Shutdown    SHDN     0      0      0      DACEN     0   ADCLEN     ADCREN   0x10   0x00      R/W
Maxim Integrated                                                                                        15


MAX9860
16-Bit Mono Audio Voice Codec
                                           Status/Interrupt
Status registers 0x00 and 0x01 are read-only registers
that report the status of various device functions. The
status register bits are cleared upon a read operation of
the status register and are set the next time the event
occurs. Register 0x02 determines whether or not the sta-
tus flags in register 0x00 simultaneously sets IRQ high.
Table 2. Status/Interrupt Registers
   REGISTER ADDRESS                B7            B6           B5            B4            B3         B2           B1              B0
            0x00                  CLD           SLD          ULK             0            0           0            0              0
            0x01                                 NG                                                 AGC
            0x02                 ICLD           ISLD         IULK            0            0           0            0              0
       BITS                                                              FUNCTION
                   Clip Detect Flag. Indicates that a signal has become clipped in the ADC or DAC digital signal paths. CLD also
       CLD         indicates that the AGC function, when enabled, has set the microphone PGA to 0dB and no further gain reduction
                   is possible.
                   Slew Level Detect Flag. When volume or gain changes are made, the slewing circuitry smoothly steps through all
       SLD
                   intermediate settings. When SLD is set high, all slewing has completed and the volume or gain is at its final value.
                   Digital PLL Unlock Flag. Indicates that the digital audio PLL for the ADC or DAC has become unlocked and digital
       ULK         signal data is not reliable. When beginning operation in master mode, this flag goes high and can be cleared by
                   reading the status register.
                   Noise Gate Attenuation. When the noise gate is enabled these bits indicate the current noise gate attenuation.
                                                     Code                                                  Attenuation
                                                      000                                                      0dB
                                                      001                                                      1dB
                                                      010                                                      2dB
        NG
                                                      011                                                      3dB
                                                      100                                                      6dB
                                                      101                                                      8dB
                                                      110                                                     10dB
                                                      111                                                     12dB
                   AGC Gain. When the AGC is enabled these bits indicate the AGC controlled level to the MIC preamp. The levels
       AGC
                   indicated by these bits correspond to the levels defined for the PGAM bits described in register 0x0C.
16                                                                                                                      Maxim Integrated


                                                                                                         MAX9860
                                            16-Bit Mono Audio Voice Codec
                                           Clock Control           prescaled MCLK input (PCLK). This allows high flexibili-
The MAX9860 can work with a master clock (MCLK)                    ty in both the MCLK and LRCLK frequencies and can
supplied from any system clock within the range of                 be used in either master or slave mode.
10MHz to 60MHz. Internally, the MAX9860 requires a                 Exact Integer Mode: Common MCLK frequencies
10MHz to 20MHz clock so a prescaler divides by 1, 2,               (12MHz, 13MHz, and 19.2MHz) can be programmed to
or 4 to create the internal clock (PCLK). PCLK is used             operate in exact integer mode for both 8kHz and 16kHz
to clock all portions of the MAX9860.                              sample rates. In these modes, the MCLK and LRCLK
The MAX9860 is capable of supporting any sample rate               rates are selected by using the FREQ and 16KHZ bits
from 8kHz to 48kHz, including all common sample rates              instead of the NHI, NLO, and PLL control bits.
(8kHz, 16kHz, 24kHz, 32kHz, 44.1kHz, 48kHz). To                    PLL Mode: When operating in slave mode, a PLL can
accommodate a wide range of system architectures,                  be enabled to lock onto externally generated LRCLK
the MAX9860 supports three main clocking modes:                    signals that are asynchronously related to PCLK.
Normal Mode: This mode uses a 15-bit clock divider
coefficient to set the sample rate relative to the
Table 3. Clock Control Registers
   REGISTER ADDRESS              B7           B6            B5          B4          B3           B2            B1         B0
              0x03                0            0                PSCLK                0                 FREQ             16KHZ
              0x04               PLL                                                NHI
              0x05                                                            NLO
            BITS                                                         FUNCTION
                           MCLK Prescaler
                           Divides MCLK down to generate a PCLK between 10MHz and 20MHz.
         PSCLK[1:0]        00 = Disable clock for low-power shutdown.
                           01 = Select if MCLK is between 10MHz and 20MHz.
                           10 = Select if MCLK is between 20MHz and 40MHz.
                           11 = Select if MCLK is greater than 40MHz.
                           Integer Clock Mode
                           Enables exact integer mode for three predefined PCLK frequencies. Exact integer mode is normally
                           intended for master mode, but can be enabled in slave mode if the externally supplied LRCLK exactly
                           matches the frequency specified in each mode.
          FREQ[1:0]        00 = Normal operation (configure clocking with the PLL, NHI, and NLO bits).
                           01 = Select when PCLK is 12MHz (LRCLK = PCLK/1500 or PCLK/750).
                           10 = Select when PCLK is 13MHz (LRCLK = PCLK/1625 or PCLK/812.5).
                           11 = Select when PCLK is 19.2MHz (LRCLK = PCLK/2400 or PCLK/1200).
                           When FREQ ≠ 00, the PLL, NHI, and NLO bits are unused.
                           16kHz Mode
                           When FREQ ≠ 00:
                           0 = LRCLK is exactly 8kHz.
                           1 = LRCLK is exactly 16kHz.
           16KHZ
                           When FREQ = 00, 16KHZ is used to set the AGC clock rate:
                           0 = Use when LRCLK ≤ 24kHz.
                           1 = Use when LRCLK > 24kHz.
 Maxim Integrated                                                                                                              17


MAX9860
16-Bit Mono Audio Voice Codec
Table 3. Clock Control Registers (continued)
           BITS                                                                FUNCTION
                             PLL Enable
                             0 = (Valid for slave and master mode)—The frequency of LRCLK is set by the NHI and NLO divider
                                  bits. Set PLL = 0 in slave mode only if the externally generated LRCLK can be exactly selected
                                  using the LRCLK divider.
                             1 = (Valid for slave mode only)—Used when the audio master generates an LRCLK not selectable
           PLL
                                  using the LRCLK divider. A digital PLL locks on to the externally supplied LRCLK signal
                                  regardless of the MCLK frequency.
                             Rapid Lock Mode
                             To enable rapid lock mode set NHI and NLO to the nearest desired ratio and set NLO[0] = 1 (Register
                             0x05, bit 0) before setting the PLL mode bit.
                             LRCLK Divider
                             NHI and NLO control a 15-bit clock divider (N). When the PLL = 0 and FREQ = 00, the frequency of
                             LRCLK is determined by the clock divider. See Table 4 for common N values.
       NHI and NLO
                             N = (65,536 x 96 x fLRCLK)/fPCLK
                             fLRCLK = LRCLK frequency
                             fPCLK = prescaled MCLK internal clock frequency (PCLK)
Table 4. Common N Values
                                LRCLK (kHz)
  MCLK
  (MHz)     PSCLK         8        16        32      44.1     48
 11.2896      01       116A      22D4      45A9      6000    687D
    12        01       1062      20C5       4189    5A51     624E
 12.288       01       1000      2000       4000     5833    6000
    13        01        F20      1E3F      3C7F      535F    5ABE
   19.2       01        A3D      147B       28F6     3873    3D71
    24        10       1062      20C5       4189    5A51     624E
    26        10        F20      1E3F      3C7F      535F    5ABE
    27        10        E90      1D21      3A41      5048    5762
Note: Values in bold italics are exact integers that provide
maximum full-scale performance.
18                                                                                                                      Maxim Integrated


                                                                                                            MAX9860
                                            16-Bit Mono Audio Voice Codec
                            Digital Audio Interface                   master mode, the MAX9860 outputs LRCLK and BCLK,
The MAX9860’s digital audio interface supports a wide                 while in slave mode, they are inputs. When operating in
range of operating modes to ensure maximum compati-                   master mode, BCLK can be configured in a number of
bility. See Figures 1 through 4 for timing diagrams. In               ways to ensure compatiblity with other audio devices.
Table 5. Digital Audio Interface Registers
    REGISTER ADDRESS             B7           B6            B5            B4           B3            B2            B1          B0
              0x06              MAS          WCI          DBCI           DDLY          HIZ         TDM              0            0
              0x07                0            0          ABCI           ADLY          ST                         BSEL
            BITS                                                            FUNCTION
                          Master Mode
             MAS          0 = The MAX9860 operates in slave mode with LRCLK and BCLK configured as inputs.
                          1 = The MAX9860 operates in master mode with LRCLK and BCLK configured as outputs.
                          LRCLK Invert
                          0 = Left-channel data is input and output while LRCLK is low.
             WCI          1 = Right-channel data is input and output while LRCLK is low.
                          WCI is ignored when TDM = 1.
                          DAC BCLK Invert (must be set to ABCI)
                          In master and slave mode:
                          0 = SDIN is latched into the part on the rising edge of BCLK.
                          1 = SDIN is latched into the part on the falling edge of BCLK.
            DBCI
                          In master mode:
                          0 = LRCLK changes state following the rising edge of BCLK.
                          1 = LRCLK changes state following the falling edge of BCLK.
                          DAC Delay Mode
                          0 = SDIN data is latched on the first BCLK edge following an LRCLK edge.
                          1 = SDIN data is assumed to be delayed one BCLK cycle so that it is latched on the 2nd BCLK edge
            DDLY
                              following an LRCLK edge (I2S-compatible mode).
                          DDLY is ignored when TDM = 1.
                          SDOUT High-Impedance Mode
                          0 = SDOUT is set either high or low after all data bits have been transferred out of the part.
                          1 = SDOUT goes to a high-impedance state after all data bits have been transferred out of the part,
             HIZ
                              allowing SDOUT to be shared by other devices.
                          Use HIZ only when TDM = 1.
                          TDM Mode Select
                          0 = LRCLK signal polarity indicates left and right audio.
                          1 = LRCLK is a framing pulse which transitions polarity to indicate the start of a frame of audio data
             TDM              consisting of multiple channels.
                          When operating in TDM mode the left channel is output immediately following the frame sync pulse. If right-
                          channel data is being transmitted, the 2nd channel of data immediately follows the 1st channel data.
                          ADC BCLK Invert (must be set to DBCI)
            ABCI          0 = SDOUT is valid on the rising edge of BCLK and transitions immediately after the rising edge.
                          1 = SDOUT is valid on the falling edge of BCLK and transitions immediately after the falling edge.
 Maxim Integrated                                                                                                                     19


MAX9860
16-Bit Mono Audio Voice Codec
Table 5. Digital Audio Interface Registers (continued)
       BITS                                                         FUNCTION
                   ADC Delay Mode
                   0 = SDOUT data is valid on the first BCLK edge following an LRCLK edge.
                   1 = SDOUT data is delayed one BCLK cycle so that it is valid on the 2nd BCLK edge following an
       ADLY
                       LRCLK edge (I2S-compatible mode).
                   ADLY is ignored when TDM = 1.
                   Stereo Enable
                   0 = The interface transmits and receives only one channel of data. If right record path is enabled, no
                       data from this channel is transmitted.
        ST
                   1 = The interface operates in stereo. The left and right incoming data are summed to mono and then
                       routed to the DAC. The summed data is divided by 2 to prevent overload. Both the left and right
                       record signals are transmitted.
                   BCLK Select
                   Configures BCLK when operating in master mode. BSEL has no effect in slave mode. Set BSEL = 010,
                   unless sharing the bus with multiple devices.
                   000 = Off
                   001 = 64x LRCLK (192x internal clock divided by 3)
       BSEL
                   010 = 48x LRCLK (192x internal clock divided by 4)
                   011 = Reserved for future use.
                   100 = PCLK/2
                   101 = PCLK/4
                   110 = PCLK/8
                   111 = PCLK/16
20                                                                                                              Maxim Integrated


                                                                                                                                                                         MAX9860
                                                                             16-Bit Mono Audio Voice Codec
            AUDIO MASTER MODES (ST = 1):
            LEFT JUSTIFIED : WCI = 0, _BCI = 0, _DLY = 0
                                 7ns (typ)                                                                          7ns (typ)
       LRCLK                                                      LEFT                                                                            RIGHT
                                                                                                            1/f S
                                  RELATIVE TO PCLK (NOTE 7)
      SDOUT            D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                   D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                      40ns (max)
                                       0ns (min)
                                                                7ns (typ)             7ns (typ)
        BCLK
                                                                            CONFIGURED BY BSEL
              25ns (min)                         0ns (min)
         SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED + LRCLK INVERT: WCI = 1, _BCI = 0, _DLY = 0
                                 7ns (typ)                                                                          7ns (typ)
       LRCLK                                                    RIGHT                                                                             LEFT
                                                                                                           1/fS
                                RELATIVE TO PCLK (NOTE 7)
      SDOUT           D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                   D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                     40ns (max)
                                      0ns (min)
                                                               7ns (typ)             7ns (typ)
        BCLK
                                                                           CONFIGURED BY BSEL
           25ns (min)                           0ns (min)
         SDIN                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED + BCLK INVERT: WCI = 0, _BCI = 1, _DLY = 0
                                 7ns (typ)                                                                          7ns (typ)
       LRCLK                                                     LEFT                                                                            RIGHT
                                                                                                           1/f S
                                  RELATIVE TO PCLK (NOTE 7)
      SDOUT           D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                   D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                     40ns (max)
                                      0ns (min)
                                                               7ns (typ)             7ns (typ)
        BCLK
                                                                           CONFIGURED BY BSEL
           25ns (min)                           0ns (min)
         SDIN                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                I2S: WCI = 0, _BCI = 0, _DLY = 1
                                7ns (typ)                                                                          7ns (typ)
                                                                LEFT                                                                             RIGHT
       LRCLK
                                                                                                          1/fS
                                RELATIVE TO PCLK (NOTE 7)
      SDOUT                D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                  D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                          40ns (max)
                                           0ns (min)
                                                              7ns (typ)            7ns (typ)
        BCLK
                                                                          CONFIGURED BY BSEL
          25ns (min)                           0ns (min)
         SDIN                    D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         NOTE 7: THE DELAY FROM A BCLK EDGE AND AN LRCLK EDGE IS DETERMINED BY LENGTH OF TIME THAT PCLK (THE INTERNALLY DIVIDED DOWN VERSION OF MCLK AS DEFINED BY THE PSCLK BITS) IS HIGH DURING
         ONE PERIOD OF MCLK PLUS THE INTERNAL DELAY. FOR EXAMPLE: IF PCLK = 12.288MHz, THE DELAY BETWEEN BCLK AND LRCLK IS TYPICALLY 45ns.
Figure 1. Digital Audio Interface Audio Master Mode Examples
Maxim Integrated                                                                                                                                                                                  21


MAX9860
16-Bit Mono Audio Voice Codec
                     VOICE (TDM) MASTER MODES:
                             _BCI = 0, HIZ = 1, ST = 0
                                    7ns (typ)                                                                                                                                7ns (typ)
          LRCLK
                                                                                                        1/fS
                                   RELATIVE TO PCLK (NOTE 8)
         SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7     L6 L5 L4 L3 L2 L1         L0
                                       40ns (max)
                                        0ns (min)
                                                                   7ns (typ)               7ns (typ)
           BCLK
                                                                           CONFIGURED BY BSEL
              25ns (min)                           0ns (min)
            SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4          L3 L2 L1 L0
                              _BCI = 1, HIZ = 1, ST = 0
                                      7ns (typ)                                                                                                                              7ns (typ)
          LRCLK
                                                                                                        1/fS
                                     RELATIVE TO PCLK (NOTE 8)
         SDOUT               L15 L14 L13 L12 L11 L10 L9 L8     L7 L6 L5 L4 L3 L2 L1         L0
                                         40ns (max)
                                          0ns (min)
                                                                     7ns (typ)                7ns (typ)
           BCLK
                                                                           CONFIGURED BY BSEL
              25ns (min)                           0ns (min)
            SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4          L3 L2 L1 L0
                            _BCI = 0, HIZ = 0, ST = 0
                                      7ns (typ)                                                                                                                              7ns (typ)
          LRCLK
                                                                                                        1/fS
                                    RELATIVE TO PCLK (NOTE 8)
          SDOUT              L15 L14 L13 L12 L11 L10 L9 L8     L7 L6 L5 L4 L3 L2 L1         L0
                                         40ns (max)
                                          0ns (min)
                                                                   7ns (typ)                7ns (typ)
           BCLK
                                                                          CONFIGURED BY BSEL
              25ns (min)                           0ns (min)
           SDIN               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4          L3 L2 L1 L0
                             _BCI = 0, HIZ = 1, ST = 1
                                      7ns (typ)                                                                                                                              7ns (typ)
          LRCLK
                                                                                                        1/fS
                                     RELATIVE TO PCLK (NOTE 8)
         SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5         L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8         R7 R6 R5 R4 R3 R2 R1 R0
                                        40ns (max)
                                         0ns (min)
                                                                    7ns (typ)              7ns (typ)
           BCLK
                                                                         CONFIGURED BY BSEL
              25ns (min)                           0ns (min)
            SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7     L6 L5 L4 L3 L2 L1          L0 R15 R14 R13 R12 R11 R10 R9   R8 R7 R6 R5 R4 R3 R2 R1 R0
           NOTE 8: THE DELAY FROM A BCLK EDGE AND AN LRCLK EDGE IS DETERMINED BY LENGTH OF TIME THAT PCLK (THE INTERNALLY DIVIDED DOWN VERSION OF MCLK AS DEFINED BY THE PSCLK BITS) IS HIGH DURING
           ONE PERIOD OF MCLK PLUS THE INTERNAL DELAY. FOR EXAMPLE: IF PCLK = 12.288MHz, THE DELAY BETWEEN BCLK AND LRCLK IS TYPICALLY 45ns.
Figure 2. Digital Audio Interface Voice Master Mode Examples
22                                                                                                                                                                                           Maxim Integrated


                                                                                                                                                    MAX9860
                                                                               16-Bit Mono Audio Voice Codec
         AUDIO SLAVE MODES (ST = 1):
         LEFT JUSTIFIED: WCI = 0, _BCI = 0, _DLY = 0
  LRCLK                                                     LEFT                                                                     RIGHT
                                                                                               1/fS
                               25ns (min)                                                                                             0ns (min)
 SDOUT            D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0            D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                 40ns (max)
                                  0ns (min)
                                                                 30ns (min)
   BCLK
                                                                        75ns (min) 30ns (min)
         25ns (min)                         0ns (min)
    SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         LEFT JUSTIFIED + LRCLK INVERT: WCI = 1, _BCI = 0, _DLY = 0
  LRCLK                                                    RIGHT                                                                     LEFT
                                                                                              1/fS
                              25ns (min)                                                                                             0ns (min)
 SDOUT           D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0            D15           D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                40ns (max)
                                 0ns (min)
                                                                30ns (min)
   BCLK
                                                                       75ns (min)
        25ns (min)                         0ns (min)
   SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         LEFT JUSTIFIED + BCLK INVERT: WCI = 0, _BCI = 1, _DLY = 0
  LRCLK                                                     LEFT                                                                    RIGHT
                                                                                              1/fS
                               25ns (min)                                                                                             0ns (min)
 SDOUT           D15       D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0            D15           D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                40ns (max)
                                 0ns (min)
                                                                30ns (min)
   BCLK
                                                                       75ns (min)
        25ns (min)                         0ns (min)
   SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         I2S: WCI = 0, _BCI = 0, _DLY = 1
  LRCLK                                                    LEFT                                                                     RIGHT
                                                                                              1/fS
                             25ns (min)                                                                                              0ns (min)
 SDOUT             D15          D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0          D15            D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                    40ns (max)
                                     0ns (min)
                                                               30ns (min)
   BCLK
                                                                      75ns (min)
       25ns (min)                         0ns (min)
   SDIN                     D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 3. Digital Audio Interface Audio Slave Mode Examples
Maxim Integrated                                                                                                                                             23


MAX9860
16-Bit Mono Audio Voice Codec
             VOICE (TDM) SLAVE MODES: _BCI = 0, HIZ =1, ST = 0
   LRCLK
                                                                                                     1/fS
                                                                                                                                                0ns (min)
                             25ns (min)                                                                                                                     0ns (min)
   SDOUT             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3                   L2 L1 L0
                               40ns (max)
                                0ns (min)
                                                               30ns (min)
    BCLK
                                                                       75ns (min)
        25ns (min)                         0ns (min)
     SDIN             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6              L5 L4 L3 L2 L1 L0
                   _BCI = 1, HIZ = 1, ST = 0
   LRCLK
                                                                                                     1/fS
                                                                                                                                               0ns (min)
                              25ns (min)                                                                                                                    0ns (min)
   SDOUT             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4                 L3 L2 L1 L0
                                 40ns (max)
                                  0ns (min)
                                                                 30ns (min)
    BCLK
                                                                         75ns (min)
      25ns (min)                           0ns (min)
     SDIN             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6              L5 L4 L3 L2 L1 L0
                    _BCI = 0, HIZ = 0, ST = 0
   LRCLK
                                                                                                     1/fS
                                                                                                                                                 0ns (min)
                              25ns (min)                                                                                                                    0ns (min)
   SDOUT             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4                 L3 L2 L1 L0
                                 40ns (max)
                                  0ns (min)
                                                                 30ns (min)
    BCLK
                                                                        75ns (min)
        25ns (min)                         0ns (min)
     SDIN             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6              L5 L4 L3 L2 L1 L0
                     _BCI = 0, HIZ = 1, ST = 1
   LRCLK
                                                                                                     1/fS
                                                                                                                                                0ns (min)
                              25ns (min)                                                                                                                   0ns (min)
   SDOUT             L15 L14 L13 L12 L11 L10 L9 L8 L7           L6 L5 L4 L3 L2 L1          L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                 40ns (max)
                                  0ns (min)                      30ns (min)
    BCLK
                                                                        75ns (min)
        25ns (min)                         0ns (min)
     SDIN             L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3                   L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
Figure 4. Digital Audio Interface Voice Slave Mode Examples
24                                                                                                                                                           Maxim Integrated


                                                                                                          MAX9860
                                               16-Bit Mono Audio Voice Codec
                                         Digital Filtering
The MAX9860 incorporates selecable highpass and
notch filters for both the playback and record paths.
Each filter is valid for a specific sample rate.
Table 6. Digital Filter Registers
   REGISTER ADDRESS                 B7           B6          B5              B4          B3           B2       B1 B0
             0x08                                     AVFLT                                              DVFLT
              BITS                                                              FUNCTION
            AVFLT                 ADC Voice Filter Frequency Select. See Table 7.
            DVFLT                 DAC Voice Filter Frequency Select. See Table 7.
Table 7. Digital Filters
     CODE            FILTER TYPE           SAMPLE RATE                                       DESCRIPTION
      0x0                   —                       —            Disabled
      0x1               Elliptical               16kHz           Elliptical highpass with 217Hz notch
      0x2              Butterworth               16kHz           500Hz Butterworth highpass
      0x3               Elliptical                8kHz           Elliptical highpass with 217Hz notch
      0x4              Butterworth                8kHz           500Hz Butterworth highpass
      0x5              Butterworth               48kHz           200Hz Butterworth highpass
   0x6 to 0xF               —                       —            Reserved
Maxim Integrated                                                                                                     25


MAX9860
16-Bit Mono Audio Voice Codec
                          Digital Level Control                 adjustment is provided for the two record channels.
The MAX9860 includes digital gain adjustment for the            Sidetone gain adjustment is also provided to set the
playback and record paths. Independent gain                     sidetone level relative to the playback level.
Table 8. Digital Level Control Registers
   REGISTER ADDRESS        B7            B6            B5           B4          B3          B2             B1            B0
         0x09                                                           DVA
         0x0A                                ADCRL                                              ADCLL
         0x0B               0                 DVG                                          DVST
         BITS                                                        FUNCTION
                      DAC Level Adjust
                      Adjusts the digital audio level before being converted by the DAC. The least significant bit of DVA is
                      always 0.
                           CODE               GAIN               CODE              GAIN            CODE               GAIN
                            0x00               +3                0x40               -29             0x80               -61
                            0x02               +2                0x42               -30             0x82               -62
                            0x04               +1                0x44               -31             0x84               -63
                            0x06                 0               0x46               -32             0x86               -64
                            0x08                -1               0x48               -33             0x88               -65
                            0x0A                -2               0x4A               -34             0x8A               -66
                            0x0C                -3               0x4C               -35             0x8C               -67
                            0x0E                -4               0x4E               -36             0x8E               -68
                            0x10                -5               0x50               -37             0x90               -69
                            0x12                -6               0x52               -38             0x92               -70
                            0x14                -7               0x54               -39             0x94               -71
                            0x16                -8               0x56               -40             0x96               -72
                            0x18                -9               0x58               -41             0x98               -73
                            0x1A               -10               0x5A               -42             0x9A               -74
         DVA
                            0x1C               -11               0x5C               -43             0x9C               -75
                            0x1E               -12               0x5E               -44             0x9E               -76
                            0x20               -13               0x60               -45             0xA0               -77
                            0x22               -14               0x62               -46             0xA2               -78
                            0x24               -15               0x64               -47             0xA4               -79
                            0x26               -16               0x66               -48             0xA6               -80
                            0x28               -17               0x68               -49             0xA8               -81
                            0x2A               -18               0x6A               -50             0xAA               -82
                            0x2C               -19               0x6C               -51             0xAC               -83
                            0x2E               -20               0x6E               -52             0xAE               -84
                            0x30               -21               0x70               -53             0xB0               -85
                            0x32               -22               0x72               -54             0xB2               -86
                            0x34               -23               0x74               -55             0xB4               -87
                            0x36               -24               0x76               -56             0xB6               -88
                            0x38               -25               0x78               -57             0xB8               -89
                            0x3A               -26               0x7A               -58             0xBA               -90
                            0x3C               -27               0x7C               -59            ≥ 0xBC             MUTE
                            0x3E               -28               0x7E               -60               —                 —
26                                                                                                              Maxim Integrated


                                                                                  MAX9860
                                      16-Bit Mono Audio Voice Codec
Table 8. Digital Level Control Registers (continued)
            BITS                                                    FUNCTION
                    Left and Right ADC Output Level
                    Adjusts the digital audio level output by the ADCs.
                          CODE                  GAIN
                            0x0                   +3
                            0x1                   +2
                            0x2                   +1
                            0x3                     0
                            0x4                    -1
                            0x5                    -2
      ADCRL/ADCLL           0x6                    -3
                            0x7                    -4
                            0x8                    -5
                            0x9                    -6
                            0xA                    -7
                            0xB                    -8
                           0xC                     -8
                           0xD                    -10
                            0xE                   -11
                            0xF                   -12
                    DAC Gain
                    The gain set by DVG adds to the level set by DVA.
                          CODE                  GAIN
            DVG              00                     0
                             01                   +6
                             10                  +12
                             11                  +18
                    Sidetone
                    Sets the level of left ADC output mixed into the DAC.
                          CODE                  GAIN                 CODE    GAIN
                           0x00                Disabled               0x10    -30
                           0x01                     0                 0x11    -32
                           0x02                    -2                 0x12    -34
                           0x03                    -4                 0x13    -36
                           0x04                    -6                 0x14    -38
                           0x05                    -8                 0x15    -40
            DVST           0x06                   -10                 0x16    -42
                           0x07                   -12                 0x17    -44
                           0x08                   -14                 0x18    -46
                           0x09                   -16                 0x19    -48
                           0x0A                   -18                 0x1A    -50
                           0x0B                   -20                 0x1B    -52
                           0x0C                   -22                 0x1C    -54
                           0x0D                   -24                 0x1D    -56
                           0x0E                   -26                 0x1E    -58
                           0x0F                   -28                 0x1F    -60
Maxim Integrated                                                                        27


MAX9860
16-Bit Mono Audio Voice Codec
                                   Microphone Inputs       gain and then routed to the ADCs. The first stage offers
The MAX9860 provides two differential microphone           selectable 0dB, 20dB, or 30dB settings. The second
inputs and a low-noise 1.55V microphone bias for power-    stage is a programmable gain amplifier (PGA) adjustable
ing the microphones. In typical applications, the left     from 0dB to 20dB in 1dB steps. Zero-crossing detection
microphone is used to record a voice signal and the        is included on the PGA to minimize zipper noise while
right microphone is used to record a background noise      making gain changes. See Figure 5 for a detailed dia-
signal. In applications that require only one microphone,  gram of the microphone input structure.
use the left microphone input and disable the right ADC.
The microphone signals are amplified by two stages of
                                         MICBIAS 1.55V REG    MAX9860
                                                             0/20/30dB
                                                                       VCM   0dB to +20dB
                                          MICLP
                                                               PREAMP                      ADC
                                          MICLN                              PGA
                                                                                            L
                                                                     -
                                         MICGND
                                                                              AGC
                                                             0/20/30dB
                                                                       VCM
                                          MICRP
                                                               PREAMP        PGA           ADC
                                          MICRN                                             R
                                                                              0dB to +20dB
 Figure 5. Microphone Input Block Diagram
28                                                                                                   Maxim Integrated


                                                                                             MAX9860
                                   16-Bit Mono Audio Voice Codec
Table 9. Microphone Input Register
  REGISTER ADDRESS      B7          B6            B5         B4           B3           B2         B1    B0
             0x0C        0                PAM                                        PGAM
            BITS                                                FUNCTION
                   Left and Right Microphone Preamp Gain
                         CODE              GAIN (dB)
                           00               Disabled
            PAM            01                   0
                           10                 +20
                           11                 +30
                   Note: Selecting 00 disables the microphone inputs and microphone bias automatically.
                   Left and Right Microphone PGA
                         CODE              GAIN (dB)             CODE             GAIN (dB)
                          0x00                +20                 0x0B                +9
                          0x01                +19                 0x0C                +8
                          0x02                +18                 0x0D                +7
                          0x03                +17                 0x0E                +6
                          0x04                +16                 0x0F                +5
           PGAM
                          0x05                +15                 0x10                +4
                          0x06                +14                 0x11                +3
                          0x07                +13                 0x12                +2
                          0x08                +12                 0x13                +1
                          0x09                +11                ≥ 0x14                0
                          0x0A                +10                  —                   —
                   Note: When AGC is enabled, the AGC controller overrides these settings.
Maxim Integrated                                                                                           29


MAX9860
16-Bit Mono Audio Voice Codec
                 Automatic Gain Control (AGC)                     Since AGC increases the level of all signals below a
                                      and Noise Gate              user-defined threshold, the noise floor effectively is
The MAX9860 includes AGC on both microphone                       increased by 20dB. To counteract this, a noise gate is
inputs. AGC is enabled by setting the hold time through           included to reduce the gain at low levels. Unlike typical
AGCHLD. AGC dynamically controls the analog PGA                   noise gates that completely silence the output below a
microphone input gain to hold the level constant over a           threshold, the noise gate in the MAX9860 reduces the
20dB input range, enhancing the voice path operation              gain for signals below the defined level. As the signal
for various use conditions. When AGC is enabled, it               level becomes further below the threshold, the gain is
monitors the signal level at the output of the ADC and            further reduced. The Automatic Gain Control
then makes gain adjustments by controlling the analog             Thresholds and Noise Gate Thresholds graphs in the
microphone PGA. When AGC is enabled, PGAM is not                  Typical Operating Characteristics show the resulting
user programmable.                                                steady-state transfer curves when AGC and the noise
                                                                  gate are enabled.
 Table 10. AGC and Noise Gate Registers
   REGISTER ADDRESS            B7           B6            B5          B4           B3          B2           B1            B0
           0x0E             AGCSRC                     AGCRLS                         AGCATK                    AGCHLD
           0x0F                                   ANTH                                             AGCTH
          BITS                                                          FUNCTION
                          AGC/Noise Gate Signal Source Select
         AGCSRC           0 = The left ADC output is used by the AGC and noise gate.
                          1 = The sum of the left and right ADC outputs is used by the AGC and noise gate.
                          AGC Release Time
                          Time taken by the AGC circuit to increase the gain from minimum to maximum.
                                CODE                  TIME
                                 000                  78ms
                                 001                 156ms
         AGCRLS                  010                 312ms
                                 011                 625ms
                                 100                  1.25s
                                 101                  2.5s
                                 110                    5s
                                 111                   10s
                          AGC Attack Time
                          The time constant of the AGC gain reduction curve.
                                CODE               TIME (ms)
         AGCATK                   00                    3
                                  01                    12
                                  10                    50
                                  11                   200
                          AGC Hold Time
                          Time the AGC circuit waits before beginning to increase gain when a signal below the threshold is
                          detected.
                                CODE               TIME (ms)
         AGCHLD
                                  00              AGC disabled
                                  01                    50
                                  10                   100
                                  11                   400
30                                                                                                                Maxim Integrated


                                                                                                  MAX9860
                                   16-Bit Mono Audio Voice Codec
Table 10. AGC and Noise Gate Registers (continued)
            BITS                                                 FUNCTION
                  Noise Gate Threshold
                  The signal level at which the noise gate begins reducing the gain. When the signal level is above the
                  threshold the noise gate has no effect. When the signal level is below the threshold, the noise gate
                  decreases the gain by 1dB for every 2dB the signal is below the threshold.
                  The noise gate can be enabled independently from AGC. When AGC is enabled, PGAM must be set to
                  +20dB (indicating a small signal is present) for the noise gate to attenuate.
                  For microphone signals, use the noise gate and AGC simultaneously with ANTH set between -16dB
                  and -28dB.
            ANTH      ANTH[3:0]           LEVEL (dBFS)          ANTH[3:0]           LEVEL (dBFS)
                          0x0                Disabled                0x8                  -44
                          0x1                   -72                  0x9                  -40
                          0x2                   -68                 0xA                   -36
                          0x3                   -64                 0xB                   -32
                          0x4                   -60                 0xC                   -28
                          0x5                   -56                 0xD                   -24
                          0x6                   -52                  0xE                  -20
                          0x7                   -48                  0xF                  -16
                  AGC Signal Threshold
                  The target output signal level. When the signal level is below the threshold, the AGC increases the
                  gain. The signal level is measured after ADCRL and ADCLL are applied to the ADC output.
                      ANTH[3:0]           LEVEL (dBFS)          ANTH[3:0]           LEVEL (dBFS)
                          0x0                    -3                  0x8                  -11
                          0x1                    -4                  0x9                  -12
           AGCTH          0x2                    -5                 0xA                   -13
                          0x3                    -6                 0xB                   -14
                          0x4                    -7                 0xC                   -15
                          0x5                    -8                 0xD                   -16
                          0x6                    -9                  0xE                  -17
                          0x7                   -10                  0xF                  -18
Maxim Integrated                                                                                                        31


MAX9860
16-Bit Mono Audio Voice Codec
                                  Power Management                   ADCs can be independently enabled so that only the
The MAX9860 includes complete power management                       required circuitry is active.
control to minimize power usage. The DAC and both
 Table 11. Power Management Register
   REGISTER ADDRESS              B7           B6          B5            B4           B3            B2          B1            B0
            0x10                SHDN           0           0             0        DACEN            0        ADCLEN       ADCREN
           BITS                                                            FUNCTION
                            Active-Low Software Shutdown
                            0 = MAX9860 is in full shutdown.
           SHDN             1 = MAX9860 is powered on.
                            When SHDN = 0. All register settings are preserved and the I2C interface remains active.
                            DAC Enable
          DACEN             0 = DAC disabled.
                            1 = DAC enabled.
                            ADC Left/Right Enable
                            0 = Left/right ADC disabled.
     ADCLEN/ADCREN          1 = Left/right ADC enabled.
                            The left ADC must be enabled when using the right ADC.
                                            Revision Code
The MAX9860 includes a revision code to allow easy
identification of the device revision. The current revision
code is 0x40.
 Table 12. Revision Code Register
     ADDR            B7              B6            B5            B4            B3              B2            B1             B0
     0xFF                                                               REV
                                   I2C Serial Interface              transmits data on SDA in sync with the master-generat-
The MAX9860 features an I2C/SMBus™-compatible,                       ed SCL pulses. The master acknowledges receipt of
2-wire serial interface consisting of a serial-data line             each byte of data. Each read sequence is framed by a
(SDA) and a serial-clock line (SCL). SDA and SCL facili-             START or REPEATED START condition, a not acknowl-
tate communication between the MAX9860 and the                       edge, and a STOP condition. SDA operates as both an
master at clock rates up to 400kHz. Figure 6 shows the               input and an open-drain output. A pullup resistor, typi-
2-wire interface timing diagram. The master generates                cally greater than 500Ω, is required on SDA. SCL oper-
SCL and initiates data transfer on the bus. The master               ates only as an input. A pullup resistor, typically greater
device writes data to the MAX9860 by transmitting the                than 500Ω, is required on SCL if there are multiple mas-
proper slave address followed by the register address                ters on the bus, or if the single master has an open-
and then the data word. Each transmit sequence is                    drain SCL output. Series resistors in line with SDA and
framed by a START (S) or REPEATED START (Sr) con-                    SCL are optional. Series resistors protect the digital
dition and a STOP (P) condition. Each word transmitted               inputs of the MAX9860 from high voltage spikes on the
to the MAX9860 is 8 bits long and is followed by an                  bus lines, and minimize crosstalk and undershoot of the
acknowledge clock pulse. A master reading data from                  bus signals.
the MAX9860 transmits the proper slave address fol-
lowed by a series of nine SCL pulses. The MAX9860
 SMBus is a trademark of Intel Corp.
32                                                                                                                   Maxim Integrated


                                                                                                                  MAX9860
                                                      16-Bit Mono Audio Voice Codec
           SDA
                                                                     tSU,STA                                             tBUF
                                           tSU,DAT                                     tHD,STA
                                   tLOW                                                             tSP
                                                        tHD,DAT                                         tSU,STO
           SCL                              tHIGH
              tHD,STA
                                        tR         tF
                  START CONDITION                                    REPEATED START CONDITION                     STOP          START
                                                                                                                CONDITION     CONDITION
Figure 6. 2-Wire Interface Timing Diagram
                                                          Bit Transfer                                                          Acknowledge
One data bit is transferred during each SCL cycle. The                       The acknowledge bit (ACK) is a clocked 9th bit that the
data on SDA must remain stable during the high period                        MAX9860 uses to handshake receipt each byte of data
of the SCL pulse. Changes in SDA while SCL is high                           when in write mode (see Figure 8). The MAX9860 pulls
are control signals (see the START and STOP                                  down SDA during the entire master-generated 9th clock
Conditions section).                                                         pulse if the previous byte is successfully received.
                                                                             Monitoring ACK allows for detection of unsuccessful
                                  START and STOP Conditions                  data transfers. An unsuccessful data transfer occurs if
SDA and SCL idle high when the bus is not in use.                            a receiving device is busy or if a system fault has
A master initiates communication by issuing a START (S)                      occurred. In the event of an unsuccessful data transfer,
condition. A START condition is a high-to-low transition                     the bus master retries communication. The master pulls
on SDA with SCL high. A STOP (P) condition is a low-to-                      down SDA during the 9th clock cycle to acknowledge
high transition on SDA while SCL is high (Figure 7). A                       receipt of data when the MAX9860 is in read mode. An
START condition from the master signals the beginning                        acknowledge is sent by the master after each read byte
of a transmission to the MAX9860. The master terminates                      to allow data transfer to continue. A not acknowledge is
transmission, and frees the bus, by issuing a STOP con-                      sent when the master reads the final byte of data from
dition. The bus remains active if a REPEATED START                           the MAX9860, followed by a STOP condition.
(Sr) condition is generated instead of a STOP condition.
                                                                                                                        Write Data Format
                                           Early STOP Conditions             A write to the MAX9860 includes transmission of a
The MAX9860 recognizes a STOP condition at any                               START condition, the slave address with the R/W bit set
point during data transmission except if the STOP con-                       to 0, one byte of data to configure the internal register
dition occurs in the same high pulse as a START condi-                       address pointer, one or more bytes of data, and a
tion. For proper operation, do not send a STOP                               STOP condition. Figure 9 illustrates the proper frame
condition during the same SCL high pulse as the                              format for writing one byte of data to the MAX9860.
START condition.                                                             Figure 10 illustrates the frame format for writing n bytes
                                                      Slave Address          of data to the MAX9860.
The slave address is defined as the seven most signifi-                      The slave address with the R/W bit set to 0 indicates
cant bits (MSBs) followed by the read/write bit. For the                     that the master intends to write data to the MAX9860.
MAX9860, the seven most significant bits are 0010000.                        The MAX9860 acknowledges receipt of the address
Setting the read/write bit to 1 (slave address = 0x21)                       byte during the master-generated 9th SCL pulse.
configures the MAX9860 for read mode. Setting the                            The second byte transmitted from the master config-
read/write bit to 0 (slave address = 0x20) configures                        ures the MAX9860’s internal register address pointer.
the MAX9860 for write mode. The address is the first                         The pointer tells the MAX9860 where to write the next
byte of information sent to the MAX9860 after the                            byte of data. An acknowledge pulse is sent by the
START condition.                                                             MAX9860 upon receipt of the address pointer data.
 Maxim Integrated                                                                                                                        33


MAX9860
16-Bit Mono Audio Voice Codec
                                               S                  Sr                     P
                                 SCL
                                 SDA
Figure 7. START (S), STOP (P), and REPEATED START (Sr) Conditions
                                                                              CLOCK PULSE FOR
                                                                             ACKNOWLEDGMENT
                                     START
                                   CONDITION
                                SCL               1     28                              9
                                                                     NOT ACKNOWLEDGE
                                SDA
                                                                         ACKNOWLEDGE
Figure 8. Acknowledge
                                                                                                 ACKNOWLEDGE FROM MAX9860
                                                                                          B7  B6   B5  B4    B3  B2   B1   B0
                  ACKNOWLEDGE FROM MAX9860          ACKNOWLEDGE FROM MAX9860
    S              SLAVE ADDRESS         0   A        REGISTER ADDRESS               A                DATA BYTE                 A     P
                                   R/W                                                                  1 BYTE
                                                                                                                  AUTOINCREMENT INTERNAL
                                                                                                                 REGISTER ADDRESS POINTER
Figure 9. Writing One Byte of Data to the MAX9860
The third byte sent to the MAX9860 contains the data                                                              Read Data Format
that is written to the chosen register. An acknowledge               Send the slave address with the R/W bit set to 1 to initi-
pulse from the MAX9860 signals receipt of the data byte.             ate a read operation. The MAX9860 acknowledges
The address pointer autoincrements to the next register              receipt of its slave address by pulling SDA low during
address after each received data byte. This autoincre-               the 9th SCL clock pulse. A START command followed
ment feature allows a master to write to sequential regis-           by a read command resets the address pointer to reg-
ters within one continuous frame. Figure 10 illustrates              ister 0x00.
how to write to multiple registers with one frame. The               The first byte transmitted from the MAX9860 is the con-
master signals the end of transmission by issuing a                  tents of register 0x00. Transmitted data is valid on the
STOP condition. Register addresses greater than 0x10                 rising edge of SCL. The address pointer autoincre-
are reserved. Do not write to these addresses.                       ments after each read data byte. This autoincrement
34                                                                                                                        Maxim Integrated


                                                                                                                               MAX9860
                                                      16-Bit Mono Audio Voice Codec
                                                                         ACKNOWLEDGE FROM MAX9860                    ACKNOWLEDGE FROM MAX9860
                                                                            B7 B6 B5 B4 B3 B2 B1 B0                    B7 B6 B5 B4 B3 B2 B1 B0
      ACKNOWLEDGE FROM MAX9860          ACKNOWLEDGE FROM MAX9860
       S      SLAVE ADDRESS         0  A        REGISTER ADDRESS         A             DATA BYTE 1           A                 DATA BYTE n           A  P
                               R/W                                                       1 BYTE                                  1 BYTE
                                                                                           AUTOINCREMENT INTERNAL
                                                                                          REGISTER ADDRESS POINTER
 Figure 10. Writing N Bytes of Data to the MAX9860
                                                                                                                NOT ACKNOWLEDGE FROM MASTER
            ACKNOWLEDGE FROM MAX9860        ACKNOWLEDGE FROM MAX9860          ACKNOWLEDGE FROM MAX9860
        S      SLAVE ADDRESS        0  A        REGISTER ADDRESS         A   Sr      SLAVE ADDRESS            1  A           DATA BYTE            A   P
                                R/W                          REPEATED START                              R/W                  1 BYTE
                                                                                                                                AUTOINCREMENT INTERNAL
                                                                                                                               REGISTER ADDRESS POINTER
 Figure 11. Reading One Byte of Data from the MAX9860
          ACKNOWLEDGE FROM MAX9860       ACKNOWLEDGE FROM MAX9860         ACKNOWLEDGE FROM MAX9860
      S      SLAVE ADDRESS        0  A       REGISTER ADDRESS        A  Sr      SLAVE ADDRESS          1   A                 DATA BYTE           A  P
                             R/W                         REPEATED START                            R/W                        1 BYTE
                                                                                                                                  AUTOINCREMENT INTERNAL
                                                                                                                                 REGISTER ADDRESS POINTER
 Figure 12. Reading N Bytes of Data from the MAX9860
feature allows all registers to be read sequentially within                        The master acknowledges receipt of each read byte
one continuous frame. A STOP (P) condition can be                                  during the acknowledge clock pulse. The master must
issued after any number of read data bytes. If a STOP                              acknowledge all correctly received bytes except the
condition is issued followed by another read operation,                            last byte. The final byte must be followed by a not
the first data byte to be read is from register 0x00.                              acknowledge from the master and then a STOP condi-
The address pointer can be preset to a specific register                           tion. Figure 11 illustrates the frame format for reading
before a read command is issued. The master presets                                one byte from the MAX9860. Figure 12 illustrates the
the address pointer by first sending the MAX9860’s                                 frame format for reading multiple bytes from the
slave address with the R/W bit set to 0 followed by the                            MAX9860.
register address. A REPEATED START (Sr) condition is
then sent followed by the slave address with the R/W bit
set to 1. The MAX9860 then transmits the contents of
the specified register. The address pointer autoincre-
ments after transmitting the first byte.
 Maxim Integrated                                                                                                                                         35


MAX9860
16-Bit Mono Audio Voice Codec
                                                     Pin Configuration                      Route microphone signals from the microphone to the
                                                                                            MAX9860 as a differential pair, ensuring that the positive
                                                                                            and negative signals follow the same path as closely as
                       MICGND
     TOP VIEW                                                                               possible with equal trace length. When using single-
                                    MICLP    MICLN    MICRP   MICRN     IRQ                 ended microphones or other single-ended audio
                       24           23       22       21      20        19
                                                                                            sources, AC ground the negative microphone input sig-
                                                                                            nal as near to the audio source as possible and then treat
         MICBIAS   1                                                           18   BCLK    the positive and negative traces as differential pairs.
                                +
            REG    2                                                           17   LRCLK   The MAX9860 thin QFN package features an exposed
                                                                                            thermal pad on its underside. This pad lowers the pack-
           PREG    3                                                           16   SDIN    age’s thermal resistance by providing a direct heat
                                             MAX9860                                        conduction path from the die to the PCB. Connect the
            REF    4                                                           15   SDOUT
                                                                                            exposed thermal pad to AGND.
           AGND    5                                          *EP              14   MCLK    An evaluation kit (EV kit) is available to provide an
                                                                                            example layout for the MAX9860. The EV kit allows
           AVDD    6                                                           13   DVDD
                                                                                            quick setup of the MAX9860 and includes easy-to-use
                        7           8         9       10      11        12                  software allowing all internal registers to be controlled.
                                    OUTN              SCL
                                                               DVDDIO
                       OUTP                  SDA                        DGND
                                             THIN QFN
                                            4mm x 4mm
           *EP = EXPOSED PAD
                       Applications Information
Proper layout and grounding are essential for optimum
performance. When designing a PCB for the MAX9860,
partition the circuitry so that the analog sections of the
MAX9860 are separated from the digital sections. This
ensures that the analog audio traces do not need to be
routed near digital traces.
Use a large continuous ground plane on a dedicated
layer of the PCB to minimize loop areas. Connect
AGND, DGND, and MICGND directly to the ground
plane using the shortest trace length possible. Proper
grounding improves audio performance, minimizes
crosstalk between channels, and prevents any digital
noise from coupling into the analog audio signal.
Ground the bypass capacitors on REG, PREG, and REF
directly to the ground plane with minimum trace length.
Also be sure to minimize the path length to AGND and
MICGND. Bypass AVDD directly to AGND. Bypass
MICBIAS directly to MICGND.
Connect all digital I/O termination to the ground plane
with minimum path length to DGND. Bypass DVDD and
DVDDIO directly to DGND.
36                                                                                                                                      Maxim Integrated


                                                                                                                                                                  MAX9860
                                                                16-Bit Mono Audio Voice Codec
                                                                        Functional Diagram/Typical Operating Circuit
                                                                      1.7V TO 3.6V                             1.7V TO 1.9V           1.7V TO 1.9V
                                                                                        1µF                                       1µF                 0.1µF      10µF
                                                                        11                                        13                     6
                                                                       DVDDIO                                      DVDD                  AVDD
                                                                                                                         DIGITAL ANALOG
                                                          0, +6dB,
              SDOUT 15                                 +12dB, +24dB           -90dB TO 0                                                                                             7 OUTP
                                                                                            INTERPOLATION
                                              MONO          DVG          Σ       DVA                                           DAC
               SDIN 16                                                                          FILTER
                             DIGITAL AUDIO                                                                                                                                           8  OUTN
                              INTERFACE               P                     P
                                                P                                                  P              P
              LRCLK 17
                                                                                                                                                                       0,
                                                          DVST                                                                                                       20dB,
               BCLK 18                                                                           MAX9860                                      0 TO +20dB                                      1µF
                                                              -60dB TO 0dB                                                                    (1dB STEPS)             30dB
                                                                                                                                                                                     23 MICLP
                                                    P         (2dB STEPS)
          DVDDIO                                                                                                              LEFT
                                                                                                                                                      PGAM           PAM
                                    P                                  -12dB TO +3dB                                           ADC                                                   22 MICLN
                                                                                                                                                                                              1µF
      10kΩ                             P                                    ADCLL/                   DECIMATION                                               P        0, P
                                                                            ADCRL                      FILTER                                  0 TO +20dB            20dB,
                 IRQ 19                                                                                                                                                                       1µF
                                                                                                                                               (1dB STEPS)           30dB            21 MICRP
                                 TIMING AND                                           P
                               CONTROL LOGIC                        LOW-LEVEL               P                P                RIGHT
               MCLK 14                                                                                                                                PGAM           PAM
                                                                      AUDIO                                                    ADC                                                   20 MICRN
        DVDDIO                                                       QUIETING
                                                                     CONTROL                                                                                                P                 1µF
                                                                                                                                                              P                MICBIAS
                                                                                                                 AUTOMATIC
                                                                                                                     GAIN                                                            1
1.5kΩ    1.5kΩ                                                           P
                                                                                                                  CONTROL                                                      MICBIAS
                 SCL 10
                                                   STATUS                                                                                                                                      2.2µF
                                   I2C SERIAL                                                                         P
                SDA   9               PORT               P
                                                      USER-                                                                                             INTERNAL REGULATORS
                                                      PROGRAMMABLE
                                                      MODE CONTROL
                                                                                                                DGND           AGND      MICGND           REG      PREG       REF
                                                                                                                12              5          24            2         3          4
              P INDICATES USER PROGRAMMABLE I2C CONTROL BITS.                                                                                    1µF        1µF       2.2µF
                                                                                                                                                Package Information
                                                                                                      For the latest package outline information and land patterns (foot-
                                                                                                      prints), go to www.maximintegrated.com/packages. Note that a
                                                                                                      “+”, “#”, or “-” in the package code indicates RoHS status only.
                                                                                                      Package drawings may show a different suffix character, but the
                                                                                                      drawing pertains to the package regardless of RoHS status.
                                                                                                         PACKAGE                   PACKAGE                                              LAND
                                                                                                                                                           OUTLINE NO.
                                                                                                              TYPE                     CODE                                      PATTERN NO.
                                                                                                        24 TQFN-EP                   T2444+4                    21-0139                90-0022
Maxim Integrated                                                                                                                                                                                   37


 MAX9860
16-Bit Mono Audio Voice Codec
                                                                                                                              Revision History
   REVISION       REVISION                                                                                                                       PAGES
                                                                           DESCRIPTION
   NUMBER           DATE                                                                                                                      CHANGED
       0             10/08        Initial release                                                                                                  —
       1              9/09        Corrected error in Table 11                                                                                      32
       2              2/12        Removed VOS typical spec and updated max spec                                                                     5
Maxim Integrated cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim Integrated product. No circuit patent
licenses are implied. Maxim Integrated reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and
max limits) shown in the Electrical Characteristics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
38 ________________________________Maxim Integrated 160 Rio Robles, San Jose, CA 95134 USA 1-408-601-1000
© 2012 Maxim Integrated Products, Inc.                      Maxim Integrated and the Maxim Integrated logo are trademarks of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX9860ETG+ MAX9860ETG+T MAX9860ETG+G3U MAX9860ETG+TG3U
