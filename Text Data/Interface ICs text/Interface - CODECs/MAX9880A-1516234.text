19-5139; Rev 1; 3/11
                    KIT
              ATION
         EVALU   BL E
           AVAILA
                                              Low-Power, High-Performance
                                               Dual I2S Stereo Audio Codec
                            General Description                                                                                  Features
                                                                                                                                                     MAX9880A
The MAX9880A is a high-performance, stereo audio               o 1.8V Single-Supply Operation
codec designed for portable consumer applications              o 10.6mW Playback Power Consumption
such as smartphones and tablets. Operating from a sin-         o 8kHz to 96kHz Stereo DAC with 96dB Dynamic
gle 1.8V supply to ensure low-power consumption, the             Range
MAX9880A offers a variety of input and output configu-
rations for design flexibility. The MAX9880A can be            o 8kHz to 48kHz Stereo ADC with 82dB Dynamic
                                                                 Range
combined with an audio subsystem, such as the
MAX9877 or MAX9879, for a complete audio solution              o Support for Any Master Clock Between 10MHz to
for portable applications.                                       60MHz
The MAX9880A’s stereo differential microphone inputs           o Stereo Microphone Inputs Support Digital
                                                                 Microphones
can support either analog or digital microphones. A
stereo single-ended line input, with a configurable pre-       o Stereo Headphone Amplifiers: Differential
amplifier, can either be recorded by the ADC or routed           (30mW), Single-Ended, or Capacitorless (10mW)
directly to the headphone or line output amplifiers. The       o Stereo Line Inputs and Stereo Line Outputs
stereo headphone amplifiers can be configured as dif-          o Voiceband Filters with Stopband Attenuation
ferential, single ended, or capacitorless. The stereo line       Greater than 70dB
outputs have dedicated level adjustment.                       o Battery-Measurement Auxiliary ADC
There are two digital audio interfaces. The primary            o Comprehensive Headset Detection
interface is intended for voiceband applications, while
the secondary interface can be used for high perfor-           o Dual I2S- and TDM-Compatible Digital Audio
                                                                 Interfaces
mance stereo audio data. Two digital input streams can
be processed simultaneously and both digital inter-            o I2C- or SPI-Compatible Control Bus with 3.6V
faces support TDM and I2S data formats.                          Tolerant Inputs
The flexible clocking circuitry utilizes any available                                         Ordering Information
10MHz to 60MHz system clock, eliminating the need for
                                                                      PART                   TEMP RANGE                    PIN-PACKAGE
an external PLL and multiple crystal oscillators. Both
the ADC and DAC can be operated synchronously or                MAX9880AEWM+                 -40°C to +85°C                48 WLP
asynchronously in master or slave mode. The ADC can             MAX9880AETM+                 -40°C to +85°C                48 TQFN-EP*
be operated from 8kHz to 48kHz sample rates, while             +Denotes a lead(Pb)-free/RoHS-compliant package.
the DAC can be operated up to 96kHz.                           *EP = Exposed pad.
The MAX9880A prevents click and pop during volume
changes and during power-up and power-down. Audio                                  Simplified Block Diagram
quality is further enhanced with user-configurable digital
filters for voice and audio data. Voiceband filters pro-
                                                                                               DIGITAL   DIGITAL
vide extra attenuation at the GSM packet frequency and              MIC          MASTER        AUDIO     AUDIO           I2C
                                                                                                                                   JACK SENSE/
                                                                                                                                  MEASUREMENT
greater than 70dB stopband attenuation at fS/2. An I2C              BIAS         CLOCK       INTERFACE INTERFACE     INTERFACE
                                                                                                                                      ADC
                                                                                                  1         2
or SPI™ serial interface provides control for volume lev-
els, signal mixing, and general operating modes.                                                                   LEFT
                                                                           MIX       LEFT                          DAC              MIX
The MAX9880A is available in space-saving, 48-bump,                                                DIGITAL
                                                                                                  FILTERING
2.7mm x 3.5mm, 0.4mm-pitch WLP and 48-pin, 6mm x                                                                   RIGHT
6mm TQFN packages.                                                         MIX       RIGHT                          DAC             MIX
                                        Applications
                                                                                                                                    MIX
        Cellular Phones
        Tablet PCs                                                                                MAX9880A
                                                                                                                                    MIX
        Portable Gaming Devices
        Portable Multimedia Players
                                                                Functional Diagram/Typical Operating Circuit appears at
SPI is a trademark of Motorola, Inc.                            end of data sheet.
                       ________________________________________________________________ Maxim Integrated Products                                1
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642,
or visit Maxim’s website at www.maxim-ic.com.


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ABSOLUTE MAXIMUM RATINGS
MAX9880A
           (Voltages with respect to AGND.)                                                    LINL, LINR, MICLP/DIGMICDATA,
           DVDD, AVDD, PVDD ................................................-0.3V to +2V         MICLN/DIGMICCLK, MICRP/SPDMDATA,
           DVDDS1, JACKSNS, MICVDD ..............................-0.3V to +3.6V                  MICRN/SPDMCLK ...............................-0.3V to (VAVDD + 0.3V)
           DGND, PGND........................................................-0.1V to +0.1V    Continuous Power Dissipation (TA = +70°C)
           PREG, REF, REG ....................................-0.3V to (VAVDD + 0.3V)            48-Bump WLP (derate 12.5mW/°C above +70°C) .....1000mW
           MICBIAS .............................................-0.3V to (VMICVDD + 0.3V)        48-Pin TQFN (derate 37mW/°C above +70°C) ..........2963mW
           MCLK, LRCLKS1, BCLKS1,                                                              Junction Temperature ......................................................+150°C
             SDINS1, SDOUTS1..........................-0.3V to (VDVDDS1 + 0.3V)                Operating Temperature Range ...........................-40°C to +85°C
           X1, X2, LRCLKS2, BCLKS2, SDINS2,                                                    Storage Temperature Range .............................-65°C to +150°C
             SDOUTS2, DOUT, MODE ...................-0.3V to (VDVDD + 0.3V)                    Lead Temperature (soldering, 10s) .................................+300°C
           SDA/DIN, SCL/SCLK, CS, IRQ ..............................-0.3V to +3.6V             Soldering Temperature (reflow) .......................................+260°C
           LOUTP, LOUTN, ROUTP, ROUTN,
             LOUTL, LOUTR ....................(VPGND - 0.3V) to (VPVDD + 0.3V)
           Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional
           operation of the device at these or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to
           absolute maximum rating conditions for extended periods may affect device reliability.
           PACKAGE THERMAL CHARACTERISTICS (Note 1)
           TQFN                                                                                WLP
            Junction-to-Ambient Thermal Resistance (θJA)...............27°C/W                   Junction-to-Ambient Thermal Resistance (θJA)................42°C/W
            Junction-to-Case Thermal Resistance (θJC)......................1°C/W                Junction-to-Case Thermal Resistance (θJC).......................5°C/W
           Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-
                   layer board. For detailed information on package thermal considerations, refer to www.maxim-ic.com/thermal-tutorial.
           ELECTRICAL CHARACTERISTICS
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                   PARAMETER                  SYMBOL                                 CONDITIONS                                   MIN          TYP         MAX        UNITS
                                                            PVDD, DVDD, AVDD                                                     1.65           1.8         1.95
            Supply Voltage Range                                                                                                                                          V
                                                            DVDDS1, MICVDD                                                       1.65           1.8         3.6
                                                                                         Analog (AVDD + PVDD +
                                                            Full-duplex 8kHz                                                                   5.33           8
                                                                                         MICVDD)
                                                            mono (Note 3)
                                                                                         Digital (DVDD + DVDDS1)                                1.4           2
                                                            DAC playback                 Analog (AVDD + PVDD +
                                                                                                                                                3.5           6
                                                            48kHz stereo                 MICVDD)
                                                            (Note 3)                     Digital (DVDD + DVDDS1)                                2.5           4
            Total Supply Current                 I VDD                                                                                                                  mA
                                                                                         Analog (AVDD + PVDD +
                                                            Full-duplex 48kHz                                                                   8.4          12
                                                                                         MICVDD)
                                                            stereo (Note 3)
                                                                                         Digital (DVDD + DVDDS1)                                3.0           5
                                                            Stereo line-in to            Analog (AVDD + PVDD +
                                                                                                                                                4.9           8
                                                            line-out only,               MICVDD)
                                                            TA = +25°C                   Digital (DVDD + DVDDS1)                              0.012         0.05
                                                                                         Analog (AVDD + PVDD +
            Shutdown Supply                                                                                                                     0.3           2
                                                            TA = +25°C                   MICVDD)                                                                         µA
            Current
                                                                                         Digital (DVDD + DVDDS1)                                2.6           8
            Shutdown to Full
                                                            Excludes PLL lock time                                                              10                      ms
            Operation
           2    _______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                  MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
     PARAMETER            SYMBOL                            CONDITIONS                        MIN      TYP        MAX   UNITS
DAC (Note 4)
Dynamic Range                        fS = 48kHz, AVVOL = 0dB,          Master or slave mode             96
                             DR                                                                                          dB
(Note 5)                             TA = +25°C                        Slave mode             88
                                     Differential mode                                                  1
Full-Scale Output                                                                                                       VRMS
                                     Capacitorless and single-ended modes                              0.56
                                     DC accuracy, measured with respect to full-scale
Gain Error                                                                                              1          5     %
                                     output
                                     1kHz, 0dB input, highpass
                                                                        f S = 8kHz                     1.2
                                     filter disabled measured from
Voice Path Phase Delay      PDLY                                                                                         ms
                                     digital input to analog output;
                                     MODE = 0 (IIR voice)               f S = 16kHz                    0.59
Total Harmonic                       fMCLK = 12.288MHz, f S = 48kHz, 0dBFS, measured
                            THD                                                                        -75               dB
Distortion                           at headphone outputs
DAC Attenuation Range      AVDAC     VDACA/SDACA = 0xF to 0x0                                 -15                  0     dB
DAC Gain Adjust            AV GAIN   VDACG = 00 to 11                                          0                  +18    dB
                                     VAVDD = VPVDD = 1.65V to 1.95V                                     85
Power-Supply Rejection               f = 217Hz, VRIPPLE = 100mVP-P, AV VOL = 0dB                        85
                            PSRR                                                                                         dB
Ratio                                f = 1kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                         80
                                     f = 10kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                        74
DAC VOICE MODE DIGITAL IIR LOWPASS FILTER (6x Interpolation)
                                     With respect to f S within ripple; f S = 8kHz to 48kHz         0.448 x f S
Passband Cutoff             f PLP                                                                                        Hz
                                     -3dB cutoff                                                    0.451 x f S
Passband Ripple                      f < f PLP                                                         ±0.1              dB
Stopband Cutoff             f SLP    With respect to f S; f S = 8kHz to 48kHz                       0.476 x f S          Hz
Stopband Attenuation                 f > f SLP, f = 20Hz to 20kHz                             75                         dB
DAC VOICE MODE DIGITAL 5th-ORDER IIR HIGHPASS FILTER
                                     DVFLT = 0x1                                                    0.0161 x
                                     (Elliptical tuned for 16kHz GSM + 217Hz notch)                    fS
                                     DVFLT = 0x2                                                    0.0312 x
5th-Order Passband                   (500Hz Butterworth tuned for 16kHz)                               fS
Cutoff
                                     DVFLT = 0x3                                                    0.0321 x
(-3dB from Peak,           fDHPPB                                                                                        Hz
                                     (Elliptical tuned for 8kHz GSM + 217Hz notch)                     fS
I2C Register
Programmable)                        DVFLT = 0x4                                                    0.0625 x
                                     (500Hz Butterworth tuned for 8kHz)                                fS
                                     DVFLT = 0x5                                                    0.0042 x
                                     (fS/240 Butterworth)                                              fS
                    _______________________________________________________________________________________                   3


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                PARAMETER            SYMBOL                            CONDITIONS                        MIN      TYP       MAX   UNITS
                                                DVFLT = 0x1                                                    0.0139 x
                                                (Elliptical tuned for 16kHz GSM + 217Hz notch)                    fS
                                                DVFLT = 0x2                                                    0.0156 x
           5th-Order Stopband                   (500Hz Butterworth tuned for 16kHz)                               fS
           Cutoff
                                                DVFLT = 0x3                                                    0.0279 x
           (-30dB from Peak,          fDHPSB                                                                                       Hz
                                                (Elliptical tuned for 8kHz GSM + 217Hz notch)                     fS
           I2C Register
           Programmable)                        DVFLT = 0x4                                                    0.0312 x
                                                (500Hz Butterworth tuned for 8kHz)                                fS
                                                DVFLT = 0x5                                                    0.0021 x
                                                (fS/240 Butterworth)                                              fS
           DC Attenuation            DCATTEN DVFLT not equal to 000                                                90              dB
           DAC STEREO AUDIO MODE DIGITAL FIR LOWPASS FILTER (DHF = 0 for fLRCLK < 50kHz)
                                                With respect to f S within ripple; f S = 8kHz to 48kHz         0.43 x f S
           Passband Cutoff             f PLP    -3dB cutoff                                                    0.47 x f S          Hz
                                                -6.02dB cutoff                                                 0.50 x f S
           Passband Ripple                      f < f PLP                                                        ±0.1              dB
                                                With respect to f S; f S = 8kHz to 48kHz; f = 0.58 f S
           Stopband Cutoff             f SLP                                                                   0.58 x f S          Hz
                                                to 7.42 f S
           Stopband Attenuation                 f > f SLP                                                60                        dB
           DAC STEREO AUDIO MODE DIGITAL FIR LOWPASS FILTER (DHF = 1 for fLRCLK > 50kHz)
                                                Ripple limit cutoff                                            0.24 x f S
           Passband Cutoff             f PLP                                                                                       Hz
                                                -3dB cutoff                                                    0.33 x f S
           Passband Ripple                      f < f PLP                                                        ±0.1              dB
           Stopband Cutoff             f SLP    With respect to f S; f = 0.5 f S to 3.5 f S                     0.5 x f S          Hz
           Stopband Attenuation                 f > f SLP                                                60                        dB
           DAC STEREO AUDIO MODE DIGITAL DC-BLOCKING HIGHPASS FILTER
           Passband Cutoff                                                                                     0.000625 x
                                      fDHPPB    DVFLT = 0x1 (DAI1), DCB = 1 (DAI2)                                                 Hz
           (-3dB from Peak)                                                                                        fS
           DC Attenuation            DCATTEN DVFLT = 0x1 (DAI1), DCB = 1 (DAI2)                                    90              dB
           ADC (Note 6)
           Dynamic Range                        f S = 8kHz, MODE = 0 (IIR voice), TA = +25°C             72        82
                                        DR                                                                                         dB
           (Note 5)                             fS = 8kHz to 48kHz, MODE = 1 (FIR audio) (Note 7)                  84
                                                Differential MIC input or stereo line inputs,
           Full-Scale Input                                                                                        1              VP-P
                                                AV PRE = 0dB, AV PGAM = 0dB
                                                DC accuracy, measured with respect to 80% of full-
           Gain Error (Note 7)                                                                                     1         5     %
                                                scale output
                                                1kHz, 0dB input, highpass
                                                                                      f S = 8kHz                  1.2
                                                filter disabled measured from
           Voice Path Phase Delay                                                                                                  ms
                                                analog input to digital output;
                                                                                      f S = 16kHz                0.61
                                                MODE = 0 (IIR voice)
           4   _______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                   MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
     PARAMETER            SYMBOL                         CONDITIONS                           MIN       TYP        MAX   UNITS
Total Harmonic
                            THD      f = 1kHz, f S = 8kHz, TA = +25°C, -20dB input                      -80        -70    dB
Distortion
ADC Level Adjust           AVADC     AVL/AVR = 0xF to 0x0                                     -12                  +3     dB
                                     VAVDD = 1.65V to 1.95V, input referred                   60         80
                                     f = 217Hz, VRIPPLE = 100mVP-P, AVADC = 0dB,
                                                                                                         80
                                     input referred
Power-Supply Rejection
                            PSRR     f = 1kHz, VRIPPLE = 100mVP-P, AVADC = 0dB, input                                     dB
Ratio                                                                                                    78
                                     referred
                                     f = 10kHz, VRIPPLE = 100mVP-P, AVADC = 0dB,
                                                                                                         72
                                     input referred
ADC VOICE MODE DIGITAL IIR LOWPASS FILTER
                                     With respect to f S within ripple; f S = 8kHz to 48kHz         0.445 x f S
Passband Cutoff             f PLP                                                                                         Hz
                                     -3dB cutoff                                                    0.449 x f S
Passband Ripple                      f < f PLP                                                         ±0.1               dB
Stopband Cutoff             f SLP    With respect to f S; f S = 8kHz to 48kHz                       0.469 x f S           Hz
Stopband Attenuation                 f > f SLP, f = 20Hz to 20kHz                             74                          dB
ADC VOICE MODE DIGITAL 5th-ORDER IIR HIGHPASS FILTER
                                     AVFLT = 0x1                                                     0.0161 x
                                     (Elliptical tuned for 16kHz GSM + 217Hz notch)                     fS
                                     AVFLT = 0x2                                                     0.0312 x
                                     (500Hz Butterworth tuned for 16kHz)                                fS
Passband Cutoff
                           fAHPPB    AVFLT = 0x3                                                     0.0321 x             Hz
(-3dB from Peak)
                                     (Elliptical tuned for 8kHz GSM + 217Hz notch)                      fS
                                     AVFLT = 0x4                                                     0.0625 x
                                     (500Hz Butterworth tuned for 8kHz)                                 fS
                                     AVFLT = 0x5 (f S/240 Butterworth)                              0.0042 x f S
                                     AVFLT = 0x1 (Elliptical tuned for 16kHz GSM +                   0.0139 x
                                     217Hz notch)                                                       fS
                                     AVFLT = 0x2 (500Hz Butterworth tuned for 16kHz)                0.0156 x f S
Stopband Cutoff
                           fAHPSB    AVFLT = 0x3 (Elliptical tuned for 8kHz GSM +                    0.0279 x             Hz
(-30dB from Peak)
                                     217Hz notch)                                                       fS
                                     AVFLT = 0x4 (500Hz Butterworth tuned for 8kHz)                 0.0312 x f S
                                     AVFLT = 0x5 (f S/240 Butterworth)                              0.0021 x f S
DC Attenuation            DCATTEN AVFLT  000                                                            90               dB
ADC STEREO AUDIO MODE DIGITAL FIR LOWPASS FILTER
                                     With respect to f S within ripple; f S = 8kHz to 48kHz          0.43 x f S
Passband Cutoff             f PLP    -3dB cutoff                                                     0.48 x f S           Hz
                                     -6.02dB cutoff                                                   0.5 x f S
                    _______________________________________________________________________________________                    5


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                 PARAMETER           SYMBOL                         CONDITIONS                        MIN       TYP        MAX    UNITS
            Passband Ripple                     f < f PLP                                                       ±0.1               dB
            Stopband Cutoff             f SLP   With respect to f S; f S = 8kHz to 48kHz                      0.58 x f S           Hz
            Stopband Attenuation                f > f SLP, f = 20Hz to 20kHz                                     60                dB
            ADC STEREO AUDIO MODE DIGITAL DC-BLOCKING HIGHPASS FILTER
            Passband Cutoff                                                                                   0.000625
                                      fAHPPB    AVFLT = 0x1                                                                        Hz
            (-3dB from Peak)                                                                                     x fS
            DC Attenuation           DCATTEN AVFLT = 0x1                                                         90                dB
            OUTPUT VOLUME CONTROL
                                                VOLL/VOLR = 0x00                                       8.1        8.6       9.2
                                                VOLL/VOLR = 0x01                                       7.6        8.1       8.6
                                                VOLL/VOLR = 0x02                                       7.1        7.6       8.1
            Output Volume Control               VOLL/VOLR = 0x04                                       6.1        6.6       7.2
                                                                                                                                   dB
            (Note 8)                            VOLL/VOLR = 0x08                                       3.1        3.6       4.3
                                                VOLL/VOLR = 0x10                                      -5.9       -5.4      -4.9
                                                VOLL/VOLR = 0x20                                       -60       -55.1     -52
                                                VOLL/VOLR = 0x27                                       -94        -84      -81
                                                VOLL/VOLR = 00x00 to 0x06 (+9dB to +6dB)                          0.5
            Output Volume Control               VOLL/VOLR = 00x06 to 0x0F (+6dB to +3dB)                           1
                                                                                                                                   dB
            Step Size                           VOLL/VOLR = 00x0F to 0x17 (-3dB to -19dB)                          2
                                                VOLL/VOLR = 00x17 to 0x27 (-19dB to -81dB)                         4
            Output Volume Control
                                                f = 1kHz                                                         100               dB
            Mute Attenuation
            HEADPHONE AMPLIFIER (Note 9)
            Output Power                        f = 1kHz, 0dBFS input,              RL = 16           25         48
                                       POUT                                                                                        mW
            (Differential Mode)                 THD < 1%, TA = +25°C                RL = 32                      30
            Output Power                        f = 1kHz, 0dBFS input,              RL = 16                      17
                                       POUT                                                                                        mW
            (Capacitorless Mode)                THD < 1%, TA = +25°C                RL = 32                      10
            Total Harmonic                                                          RL = 16                      -78      -67
            Distortion + Noise        THD+N     f = 1kHz, -3dBFS input                                                             dB
            (Differential Mode)                                                     RL = 32                      -79
            Total Harmonic                                                          RL = 16                      -73      -60
            Distortion + Noise        THD+N     f = 1kHz, -3dBFS input                                                             dB
            (Capacitorless Mode)                                                    RL = 32                      -75
            Total Harmonic                                                          RL = 16                      -70      -60
            Distortion + Noise        THD+N     f = 1kHz, -3dBFS input                                                             dB
            (Single-Ended Mode)                                                     RL = 32                      -70
            Dynamic Range
                                        DR      AV VOL = +6dB                                          77         90               dB
            (Notes 5, 7)
           6   _______________________________________________________________________________________


                                                Low-Power, High-Performance
                                                 Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                 MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
     PARAMETER            SYMBOL                         CONDITIONS                          MIN     TYP      MAX     UNITS
                                     VAVDD = VPVDD = 1.65V to 1.95V                           60      80
Power-Supply Rejection               f = 217Hz, VRIPPLE = 100mVP-P, AV VOL = 0dB                      80
                            PSRR                                                                                        dB
Ratio (Note 7)                       f = 1kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                       78
                                     f = 10kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                      72
                                     AV VOL = -81dB,       LOUTP to LOUTN, ROUTP to
                                                                                                     ±0.2
                                     differential mode     ROUTN, TA = +25°C
Output Offset Voltage       VOS                                                                                         mV
                                     AV VOL = -81dB,       LOUTP to LOUTN, ROUTP to
                                                                                                     ±0.6
                                     capacitorless mode    LOUTN, TA = +25°C
                                     Differential, P OUT = 5mW, f = 1kHz                              90
Crosstalk                  XTALK                                                                                        dB
                                     Capacitorless mode, P OUT = 5mW, f = 1kHz                        45
Capacitive Drive                                                           RL = 32                  500
                                     No sustained oscillations                                                          pF
Capability                                                                 RL =                     100
Click-and-Pop Level                                                        Into shutdown             -70
                                     Peak voltage, A-weighted,
(Differential,                                                                                                         dBV
                                     32 samples per second                 Out of shutdown           -70
Capacitorless Modes)
Click-and-Pop Level                  Peak voltage, A-weighted,             Into shutdown             -70
                                                                                                                       dBV
(Single-Ended Mode)                  32 samples per second                 Out of shutdown           -70
LINE OUTPUTS (Note 7)
Full-Scale Output                                                                                    0.5               VRMS
                                     LOGL/LOGR = 0x00                                        -0.7    -0.1     +0.6
                                     LOGL/LOGR = 0x01                                        -2.6    -2.1      -1.6
Line Output Level                    LOGL/LOGR = 0x02                                        -4.6    -4.1      -3.6
                            AVLO                                                                                        dB
Adjust                               LOGL/LOGR = 0x04                                        -8.6    -8.1      -7.6
                                     LOGL/LOGR = 0x08                                        -16.6   -16      -15.6
                                     LOGL/LOGR = 0x0F                                        -31.1   -29.9    -29.1
Line Output Mute
                                     f = 1kHz                                                         90                dB
Attenuation
Total Harmonic
                           THD+N     RL = 1k, f = 1kHz, VOUT = 1.4V P-P (Note 9)                    -67       -59      dB
Distortion + Noise
                                     RL = 1k, LINL/LINR = 20Hz < f < 20kHz                           86
Signal-to-Noise Ratio                                                                                                   dB
                                     1µF to GND            A-weighted                                 90
                                     VAVDD = VPVDD = 1.65V to 1.95V                                   46
Power-Supply Rejection               f = 217Hz, VRIPPLE = 100mVP-P, AV VOL = 0dB                      78
                            PSRR                                                                                        dB
Ratio                                f = 1kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                       80
                                     f = 10kHz, VRIPPLE = 100mVP-P, AV VOL = 0dB                      76
Capacitive Drive
                                     RL = 10k, no sustained oscillations                            100                pF
Capability
                     _______________________________________________________________________________________                 7


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                PARAMETER            SYMBOL                        CONDITIONS                         MIN       TYP      MAX     UNITS
           MICROPHONE AMPLIFIER
                                                PALEN/PAREN = 01                                      -0.5       0       +0.5
           Preamplifier Gain          AV PRE    PALEN/PAREN = 10                                      19.5       20      20.5      dB
                                                PALEN/PAREN = 11                                      29.3       30      30.5
                                                PGAML/PGAMR = 0x1F                                    -0.5       0       +0.6
           MIC PGA Gain              AV PGAM                                                                                       dB
                                                PGAML/PGAMR = 0x00                                    19.3      19.9     20.4
           Common-Mode
                                      CMRR      VIN = 100mVP-P, f = 217Hz                                        50                dB
           Rejection Ratio
           MIC Input Resistance      RIN_MIC All gain settings                                         30        50                k
                                                AV PRE = 0dB
                                                                                                                -80
           Total Harmonic                       VIN = 1VP-P, f = 1kHz, A-weighted
                                      THD+N                                                                                        dB
           Distortion + Noise                   AV PRE = +30dB
                                                                                                                -65
                                                VIN = 32mV P-P, f = 1kHz, A-weighted
                                                VAVDD = 1.65V to 1.95V, input referred                 60        80
                                                f = 217Hz, VRIPPLE = 100mV, AVADC = 0dB, input
                                                                                                                 80
                                                referred
           Power-Supply Rejection
                                       PSRR     f = 1kHz, VRIPPLE = 100mV, AVADC = 0dB, input                                      dB
           Ratio                                                                                                 78
                                                referred
                                                f = 10kHz, VRIPPLE = 100mV, AVADC = 0dB, input
                                                                                                                 72
                                                referred
           MICROPHONE BIAS
                                                                   VMICVDD = 1.8V, MBIAS = 0          1.48      1.52     1.56
           MICBIAS Output Voltage VMICBIAS ILOAD = 1mA                                                                              V
                                                                   VMICVDD = 3V, MBIAS = 0            2.15      2.2      2.25
           Load Regulation                      ILOAD = 1mA to 2mA, MBIAS = 0                                   0.6       10       V/A
           Line Regulation                      VAVDD = 1.8V, VMICVDD = 1.65V to 1.95V, MBIAS = 0               1.55              mV/V
           Power-Supply Rejection               f = 217Hz, VRIPPLE = 100mVP-P                                   100
                                       PSRR                                                                                        dB
           Ratio                                f = 10kHz, VRIPPLE = 100mVP-P                                    90
           Noise Voltage                        A-weighted                                                      9.5              µVRMS
           LINE INPUT
           Full-Scale Input             VIN     AVLINE = 0dB                                                    1.0               VP-P
                                                LIGL/LIGR = 0x00                                      22.8      23.9     24.9
                                                LIGL/LIGR = 0x01                                      20.7      21.9     22.9
           Line Input Level Adjust    AVLINE    LIGL/LIGR = 0x02                                      18.9       20      20.9      dB
                                                LIGL/LIGR = 0x04                                      14.9       16      16.9
                                                LIGL/LIGR = 0x08                                       6.9       8        8.9
           8   _______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                 MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
     PARAMETER            SYMBOL                          CONDITIONS                       MIN      TYP       MAX     UNITS
Line Input Mute
                                      f = 1kHz                                                       100                dB
Attenuation
Input Resistance          RIN_LINE    AVLINE = +24dB                                        20                          k
Total Harmonic
                           THD+N      VIN = 0.1VP-P, f = 1kHz                                        -74                dB
Distortion + Noise
AUXIN INPUT
Input DC Voltage Range                AUXEN = 1                                             0                 0.738      V
AUXIN Input Resistance       RIN      AUXEN = 1, 0V  VAUXIN  0.738V                       10       40                 M
JACK DETECT
                                                                                         0.92 x   0.95 x   0.98 x
                                      SHDN = 1
JACKSNS High                                                                            VMICBIAS VMICBIAS VMICBIAS
                            VTH1                                                                                         V
Threshold                                                                                           0.95 x
                                      SHDN = 0                                                     VMICVDD
                                                                                                          D
                                                                                          0.06 x    0.10 x 0.17 x
                                      SHDN = 1
JACKSNS Low                                                                             VMICBIAS VMICBIAS VMICBIAS
                            VTH2                                                                                         V
Threshold                                                                                           0.08 x
                                      SHDN = 0
                                                                                                   VMICVDD
JACKSNS Sense
                           VSENSE     SHDN = 0                                                     VMICVDD               V
Voltage
JACKSNS Sense
                           RSENSE     SHDN = 0                                             1.9       2.3       3.1      k
Resistance
JACKSNS Deglitch
                           t GLITCH                                                         12                300       ms
Period
Headphone Sense
                                                                                                      8                 
Threshold
1-BIT SPDM OUTPUT
Dynamic Range                         f S = 48kHz, A-weighted, 20Hz to 20kHz,
                             DR                                                                      90                 dB
(Note 5)                              AV VOL = 0dB; master or slave mode, TA = +25°C
Output Operational
                                      0dB signal 1’s density                                25                 75       %
Range
DIGITAL SIDETONE (MODE = 1 IIR Voice Mode Only)
Sidetone Gain Adjust
                           AV STGA    Differential output mode                             -60                  0       dB
Range
                                      MIC input to headphone        f S = 8kHz                       2.2
Voice Path Phase Delay      PDLY      output, f = 1kHz, HP filter                                                       ms
                                      disabled                      f S = 16kHz                      1.1
                     _______________________________________________________________________________________                 9


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                PARAMETER            SYMBOL                          CONDITIONS                       MIN        TYP        MAX      UNITS
           INPUT CLOCK CHARACTERISTICS
           MCLK Input Frequency        fMCLK       For any LRCLK sample rate                           10                    60      MHz
                                                   Prescaler = /1 mode                                 40                    60
           MCLK Input Duty Cycle                                                                                                      %
                                                   /2 or /4 modes                                      30                    70
           Maximum MCLK Input
                                                   Maximum allowable RMS for performance limits                  100                  ps
           Jitter
           LRCLK Sample Rate                       DHF = 0                                             8                     48
                                                                                                                                     kHz
           (Note 10)                               DHF = 1                                             48                    96
           LRCLK Average                           FREQ1 mode = 0x8 to 0xF                             0                     0
           Frequency Error (Master
                                                   PCLK = 192x, 256x, 384x, 512x, 768x, and 1024x      0                     0        %
           and Slave Modes)
           (Note 11)                               FREQ1 mode = Any clock other than above           -0.025                +0.025
                                                   Any allowable LRCLK and     Rapid lock mode                    2          7
           LRCLK PLL Lock Time                                                                                                        ms
                                                   PCLK rate, slave mode       Nonrapid lock mode                12          25
           LRCLK Acceptable                        Allowable LRCLK period change from nominal for
           Jitter for Maintaining                  slave PLL mode at any allowable LRCLK and PCLK                           ±100      ns
           PLL Lock                                rates
           Soft-Start/Stop Time                                                                                  10                   ms
           CRYSTAL OSCILLATOR
           Frequency                               Fundamental mode only                                        12.288               MHz
           Maximum Crystal ESR                                                                                   100                  
           Input Leakage Current      I IH, I IL   X1, TA = +25°C                                      -1                    +1       µA
           Input Capacitance         CX1, C X2                                                                    4                   pF
           Maximum Load
                                     CL1, CL2                                                                    45                   pF
           Capacitor
           DIGITAL INPUT (MCLK)
           Input High Voltage           VIH                                                            1.2                             V
           Input Low Voltage            VIL                                                                                 0.6        V
           Input Leakage Current      I IH, I IL   TA = +25°C                                          -1                    +1       µA
           Input Capacitance                                                                                     10                   pF
           DIGITAL INPUTS (SDINS1, BCLKS1, LRCLKS1)
                                                                                                       0.7
           Input High Voltage           VIH                                                                                            V
                                                                                                    x VDVDDS1
                                                                                                                            0.3
           Input Low Voltage            VIL                                                                                            V
                                                                                                                         x VDVDDS1
           Input Hysteresis                                                                                      200                  mV
           Input Leakage Current      I IH, I IL   TA = +25°C                                          -1                    +1       µA
           Input Capacitance                                                                                     10                   pF
           10   ______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                  MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
     PARAMETER            SYMBOL                         CONDITIONS                        MIN       TYP      MAX     UNITS
DIGITAL INPUTS (SDA, SCL, DIN, SCLK, CS, MODE, SDINS2, BCLKS2, LRCLKS2)
                                                                                            0.7
Input High Voltage           VIH                                                                                         V
                                                                                         x VDVDD
                                                                                                               0.3
Input Low Voltage            VIL                                                                                         V
                                                                                                            x VDVDD
Input Hysteresis                                                                                     200                mV
Input Leakage Current      I IH, I IL   TA = +25°C                                          -1                 +1       µA
Input Capacitance                                                                                     10                pF
DIGITAL INPUTS (DIGMICDATA)
                                                                                           0.65
Input High Voltage           VIH                                                                                         V
                                                                                         x VDVDD
                                                                                                              0.35
Input Low Voltage            VIL                                                                                         V
                                                                                                            x VDVDD
Input Hysteresis                                                                                     100                mV
Input Leakage Current      I IH, I IL   TA = +25°C                                         -35                +35       µA
Input Capacitance                                                                                     10                pF
CMOS DIGITAL OUTPUTS (BCLKS1, LRCLKS1, SDOUTS1)
Output Low Voltage          VOL         I OL = 3mA                                                             0.4       V
                                                                                         VDVDDS1
Output High Voltage         VOH         I OH = 3mA                                                                       V
                                                                                           - 0.4
CMOS DIGITAL OUTPUTS (BCLKS2, LRCLKS2, SDOUTS2)
Output Low Voltage          VOL         I OL = 3mA                                                             0.4       V
                                                                                          VDVDD
Output High Voltage         VOH         I OH = 3mA                                                                       V
                                                                                           - 0.4
CMOS DIGITAL OUTPUTS (DOUT)
Output Low Voltage          VOL         I OL = 1mA, CS = DVDD                                                  0.4       V
                                                                                          VDVDD
Output High Voltage         VOH         I OH = 1mA, CS = DVDD                                                            V
                                                                                           - 0.4
Output Low Current           I OL       MODE = DVDD, DOUT = 0, TA = +25°C                   -1                 +1       µA
Output High Current          IOH        MODE = DVDD, DOUT = DVDD, TA = +25°C                -1                 +1       µA
CMOS DIGITAL OUTPUTS (DIGMICCLK, SPDMDATA, SPDMCLK)
Output Low Voltage          VOL         I OL = 1mA                                                             0.4       V
                                                                                          VDVDD
Output High Voltage         VOH         I OH = 1mA                                                                       V
                                                                                           - 0.4
OPEN-DRAIN DIGITAL OUTPUTS (SDA, IRQ)
Output High Current          IOH        VOUT = VDVDD, TA = +25°C                            -1                 +1       µA
                                                                                                               0.2
Output Low Voltage          VOL         I OL = 3mA                                                                       V
                                                                                                            x VDVDD
                     ______________________________________________________________________________________                  11


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                PARAMETER            SYMBOL                           CONDITIONS                      MIN       TYP      MAX     UNITS
           DIGITAL MICROPHONE TIMING CHARACTERISTICS (VDVDD = 1.8V)
                                                                          MICCLK = 00                          1.536
           DIGMICCLK Frequency        fMICCLK     fMCLK = 12.288MHz       MICCLK = 01                          2.048              MHz
                                                                          MICCLK = 10                           64f S
           DIGMICDATA to
                                      t SU, MIC   Either clock edge                                    20                          ns
           DIGMICCLK Setup Time
           DIGMICDATA to
                                      tHD, MIC    Either clock edge                                    0                           ns
           DIGMICCLK Hold Time
           SPDM TIMING CHARACTERISTICS
                                                                          SPDMCLK = 00                         1.536
           SPDMCLK Frequency         f SPDMCLK fMCLK = 12.288MHz          SPDMCLK = 01                         2.048              MHz
                                                                          SPDMCLK = 10                         3.072
                                               Rising edge SPDMCLK
                                               to right-channel valid Minimum, fMCLK = 20MHz                     15
           SPDMCLK to                          SPDMDATA and falling
                                     tDLY,SPDM                                                                                     ns
           SPDMDATA Delay Time                 edge SPDMCLK to left-
                                               channel valid          Maximum, fMCLK = 10MHz                     65
                                               SPDMDATA
           DIGITAL AUDIO INTERFACE TIMING CHARACTERISTICS (TDM = 0, VDVDD = 1.8V)
           BCLK Cycle Time            tBCLKS                                                           75                          ns
           BCLK High Time             tBCLKH      TA = +25°C                                           30                          ns
           BCLK Low Time              tBCLKL      TA = +25°C                                           30                          ns
           BCLK or LRCLK Rise
                                       tR, tF     Master operation, CL = 15pF                                    7                 ns
           and Fall Time
           SDIN or LRCLK to BCLK
                                        t SU                                                           20                          ns
           Setup Time
           SDIN or LRCLK to BCLK
                                        tHD                                                            5                           ns
           Hold Time
           SDOUT Delay Time from
                                        tDLY      CL = 30pF                                            0                  40       ns
           BCLK Rising Edge
           DIGITAL AUDIO INTERFACE TIMING CHARACTERISTICS (TDM = 1, Figure 3, VDVDD = 1.8V)
           TDM Clock Frequency         1/tCLK     TDM mode (TDM = 1)                                  128                2048     kHz
           TDM Clock Time High         tCLKH      TDM mode (TDM = 1), TA = +25°C                      220                          ns
           TDM Clock Time Low          tCLKL      TDM mode (TDM = 1), TA = +25°C                      220                          ns
                                                  Short TDM mode (TDM = 1, FSW = 0), master mode
                                                                                                                200
           TDM Short-Sync Setup                   (MAS = 1)
                                     t SYNCSET                                                                                     ns
           Time                                   Short TDM mode (TDM = 1, FSW = 0), slave mode
                                                                                                       20
                                                  (MAS = 0)
           12   ______________________________________________________________________________________


                                                  Low-Power, High-Performance
                                                   Dual I2S Stereo Audio Codec
ELECTRICAL CHARACTERISTICS (continued)
                                                                                                                                  MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
      PARAMETER           SYMBOL                       CONDITIONS                          MIN       TYP      MAX     UNITS
                                      Short TDM mode (TDM = 1, FSW = 0), master mode
                                      (MAS = 1)                                                      200
TDM Short Sync Hold
                          tSYNCHOLD                                                                                     ns
Time                                  Short TDM mode (TDM = 1, FSW = 0), slave mode
                                                                                            20
                                      (MAS = 0)
TDM Short Sync Tx Data
                           t SYNCTX   Short TDM mode (TDM = 1, FSW = 0)                               12                ns
Delay
TDM Long Sync Start
                          tCLKSYNC Long TDM mode (TDM = 1, FSW = 1)                                  3.4                ns
Delay
TDM Long Sync End
                          t ENDSYNC Long TDM mode (TDM = 1, FSW = 1)                                  51                ns
Time Setup
TDM Data Delay from
                           tCLKTX     TDM mode (TDM = 1)                                                       40       ns
Clock
TDM High-Impedance
                           tHIZOUT    TDM mode (TDM = 1)                                             120                ns
State Setup from Data
TDM Rx Data Setup
                           t SETUP    TDM mode (TDM = 1)                                    20                          ns
Time
TDM Rx Data Hold Time tHOLD    TDM mode (TDM = 1)                                           20                          ns
 2
I C TIMING CHARACTERISTICS (VDVDD = 1.65V)
Serial-Clock Frequency      f SCL                                                           0                  400     kHz
Bus Free Time Between
STOP and START              tBUF                                                            1.3                         µs
Conditions
Hold Time (Repeated)
                           tHD,STA                                                          0.6                         µs
START Condition
SCL Pulse-Width Low         tLOW                                                            1.3                         µs
SCL Pulse-Width High        tHIGH                                                           0.6                         µs
Setup Time for a
Repeated START             t SU,STA                                                         0.6                         µs
Condition
Data Hold Time             tHD,DAT    RPU,SDA = 475                                        0                  900      ns
Data Setup Time            t SU,DAT                                                        100                          ns
SDA and SCL Receiving                                                                      20 +
                              tR      (Note 12)                                                                300      ns
Rise Time                                                                                 0.1CB
SDA and SCL Receiving                                                                      20 +
                              tF      (Note 12)                                                                300      ns
Fall Time                                                                                 0.1CB
SDA Transmitting Fall                                                                      20 +
                              tF      RPU,SDA = 475 (Note 12)                                                 250      ns
Time                                                                                      0.1CB
Setup Time for STOP
                           t SU,STO                                                         0.6                         µs
Condition
                   ______________________________________________________________________________________                    13


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           ELECTRICAL CHARACTERISTICS (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN, dif-
           ferential modes, CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB,
           AVVOL = 0dB, AVLO = 0dB, fMCLK = 13MHz, TA = TMIN to TMAX, unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                PARAMETER            SYMBOL                        CONDITIONS                          MIN       TYP       MAX     UNITS
           Bus Capacitance              CB                                                                                 400       pF
           Pulse Width of
                                        t SP                                                             0                  50       ns
           Suppressed Spike
           SPI TIMING CHARACTERISTICS
           Minimum SCLK Clock
                                        tCP                                                                       40                 ns
           Period
           Minimum SCLK Pulse-
                                        tCL                                                                       18                 ns
           Width Low
           Minimum SCLK Pulse-
                                        tCH                                                                       18                 ns
           Width High
           Minimum CS Setup
                                       tCSS                                                                       20                 ns
           Time
           Minimum CS Hold Time        tCSH                                                                       20                 ns
           Minimum CS Pulse-
                                       tCSW                                                                       20                 ns
           Width High
           Minimum DIN Setup Time       tDS                                                                        5                 ns
           Minimum DIN Hold Time        tDH                                                                        5                 ns
           Minimum Output Data
                                        tDO     CL = 50pF                                                          9                 ns
           Propagation Delay
           Minimum Output Data
                                       tDEN                                                                        5                 ns
           Enable Time
           Minimum Output Data
                                        tDZ                                                                        5                 ns
           Disable Time
           Note 2:  The MAX9880A is 100% production tested at TA = +25°C. Specifications over temperature limits are guaranteed by
                    design.
           Note 3: Clocking all zeros into the DAC. Master mode. Differential headphone mode.
           Note 4: DAC performance measured at headphone outputs.
           Note 5: Dynamic range measured using the EIAJ method. -60dBFS 1kHz output signal, A-weighted, and normalized to 0dBFS.
                    f = 20Hz to 20kHz.
           Note 6: Performance measured using microphone inputs, unless otherwise stated.
           Note 7: Performance measured using line inputs.
           Note 8: Performance measured using line inputs to line outputs.
           Note 9: Performance measured using DAC. fMCLK = 12.288MHz, fLRCLK = 48kHz, unless otherwise stated.
           Note 10: LRCLK can be any rate in the indicated range. Asynchronous or noninteger MCLK/LRCLK ratios can exhibit some full-
                    scale performance degradation compared to synchronous integer-related MCLK/LRCLK ratios.
           Note 11: In master-mode operation, the accuracy of the MCLK input proportionally determines the accuracy of the sample clock
                    rate.
           Note 12: CB is in pF.
           14   ______________________________________________________________________________________


                                                                                                                Low-Power, High-Performance
                                                                                                                 Dual I2S Stereo Audio Codec
                                                                                                                                                           Typical Operating Characteristics
                                                                                                                                                                                                                                                                                                                MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                    TOTAL HARMONIC DISTORTION + NOISE                                                                  TOTAL HARMONIC DISTORTION + NOISE                                                                     TOTAL HARMONIC DISTORTION + NOISE
                    vs. POWER OUT (DAC TO HEADPHONE)                                                                   vs. POWER OUT (DAC TO HEADPHONE)                                                                      vs. POWER OUT (DAC TO HEADPHONE)
               0                                                                                                  0                                                                                                     0
                                                                                 MAX9880A toc01                                                                                         MAX9880A toc02                                                                                         MAX9880A toc03
                         fMCLK = 13MHz                                                                                      fMCLK = 13MHz                                                                                         fMCLK = 12.288MHz
              -10        fLRCLK = 8kHz                                                                           -10        fLRCLK = 8kHz                                                                              -10        fLRCLK = 48kHz
              -20        RLOAD = 32Ω                                                                             -20        RLOAD = 16Ω                              1kHz                                              -20        RLOAD = 32Ω
                         DIFFERENTIAL MODE                                                                                  DIFFERENTIAL MODE                                                                                     DIFFERENTIAL MODE
              -30                                                                                                -30                                                                                                   -30
THD+N (dB)                                                                                         THD+N (dB)                                                                                            THD+N (dB)
              -40                                                                                                -40                                                                                                   -40
              -50                  3kHz                                                                          -50                  3kHz                                                                             -50
                                                                   1kHz                                                                                                                                                                                                      1kHz
              -60                                                                                                -60                                                                                                   -60             6kHz
              -70                                                                                                -70                                                                                                   -70
                                                                                                                                                                                                                                                                                  20Hz
              -80                                                                                                -80                                                                                                   -80
                                                                    20Hz
              -90                                                                                                -90                                                        20Hz                                       -90
             -100                                                                                               -100                                                                                                  -100
                    0         10             20         30          40          50                                     0        10          20        30        40          50     60                                        0           10           20         30           40            50
                                        POWER OUT (mW)                                                                                      POWER OUT (mW)                                                                                       POWER OUT (mW)
                    TOTAL HARMONIC DISTORTION + NOISE                                                                  TOTAL HARMONIC DISTORTION + NOISE                                                                     TOTAL HARMONIC DISTORTION + NOISE
                    vs. POWER OUT (DAC TO HEADPHONE)                                                                   vs. POWER OUT (DAC TO HEADPHONE)                                                                      vs. POWER OUT (DAC TO HEADPHONE)
               0                                                                                                  0                                                                                                     0
                                                                                 MAX9880A toc04                                                                                         MAX9880A toc05                                                                                         MAX9880A toc06
                         fMCLK = 12.288MHz                                                                                  fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz
              -10        fLRCLK = 48kHz                                                                          -10        fLRCLK = 96kHz                                                                             -10        fLRCLK = 96kHz
              -20        RLOAD = 16Ω                                                                             -20        RLOAD = 32Ω                                                                                -20        RLOAD = 16Ω
                         DIFFERENTIAL MODE                                                                                  DIFFERENTIAL MODE                                                                                     DIFFERENTIAL MODE
              -30                                                                                                -30                                                                                                   -30
THD+N (dB)                                                                                         THD+N (dB)                                                                                            THD+N (dB)
              -40                                                                                                -40                              1kHz                                                                 -40
              -50                                      1kHz                                                      -50                                                                                                   -50                                      1kHz
              -60                   6kHz                                                                         -60                 6kHz                                                                              -60                       6kHz
              -70                                                                                                -70                                                                                                   -70
              -80                                                                                                -80                                                                                                   -80
                                                                                                                                                                        20Hz
              -90                                                        20Hz                                    -90                                                                                                   -90                                                          20Hz
             -100                                                                                               -100                                                                                                  -100
                    0        10         20        30          40     50         60                                     0         10              20        30          40          50                                        0        10         20        30          40         50        60
                                        POWER OUT (mW)                                                                                      POWER OUT (mW)                                                                                       POWER OUT (mW)
                    TOTAL HARMONIC DISTORTION + NOISE                                                                  TOTAL HARMONIC DISTORTION + NOISE                                                                     TOTAL HARMONIC DISTORTON + NOISE
                    vs. FREQUENCY (DAC TO HEADPHONE)                                                                   vs. FREQUENCY (DAC TO HEADPHONE)                                                                      vs. FREQUENCY (DAC TO HEADPHONE)
              -70                                                                                               -70                                                                                                   -70
                                                                                 MAX9880A toc07                                                                                     MAX9880A toc08                                                                                           MAX9880A toc09
                         fMCLK = 13MHz                                                                                      fMCLK = 13MHz                                                                                         fMCLK = 12.288MHz
                         fLRCLK = 8kHz                                                                          -72         fLRCLK = 8kHz                                                                             -72         fLRCLK = 48kHz
                         RLOAD = 32Ω                                                                            -74         RLOAD = 16Ω                                                                               -74         RLOAD = 32Ω
              -75        DIFFERENTIAL MODE                                                                                  DIFFERENTIAL MODE                                                                                     DIFFERENTIAL MODE
                                                                                                                -76                                                                                                   -76
                                                                                                                               5mW
THD+N (dB)                                                                                        THD+N (dB)                                                                                             THD+N (dB)
                                                                                                                -78                                                                                                   -78
                                  5mW
              -80                                                                                               -80                                                                                                   -80          5mW
                                                                                                                -82                                                                                                   -82
                                                                                                                -84                                                                                                   -84
              -85                                  20mW                                                                                               20mW
                                                                                                                -86                                                                                                   -86                               20mW
                                                                                                                -88                                                                                                   -88
              -90                                                                                               -90                                                                                                   -90
                    10               100                  1000              10,000                                     10               100                 1000                 10,000                                      10            100             1k               10k            100k
                                        FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
                                             ______________________________________________________________________________________                                                                                                                                                         15


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                  Typical Operating Characteristics (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
           CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
           AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                                TOTAL HARMONIC DISTORTON + NOISE                                                         TOTAL HARMONIC DISTORTON + NOISE                                                          TOTAL HARMONIC DISTORTON + NOISE
                                vs. FREQUENCY (DAC TO HEADPHONE)                                                         vs. FREQUENCY (DAC TO HEADPHONE)                                                          vs. FREQUENCY (DAC TO HEADPHONE)
                         -70                                                                                       -70                                                                                      -70
                                                                                  MAX9880A toc10                                                                              MAX9880A toc11                                                                          MAX9880A toc12
                                     fMCLK = 12.288MHz                                                                        fMCLK = 12.288MHz                                                                         fMCLK = 12.288MHz
                         -72         fLRCLK = 48kHz                                                                -72        fLRCLK = 96kHz                                                                -72         fLRCLK = 96kHz
                         -74         RLOAD = 16Ω                                                                   -74        RLOAD = 32Ω                                                                   -74         RLOAD = 16Ω
                                     DIFFERENTIAL MODE                                                                        DIFFERENTIAL MODE                                                                         DIFFERENTIAL MODE
                         -76                                                                                       -76                                                                                      -76
           THD+N (dB)                                                                                THD+N (dB)                                                                                THD+N (dB)
                         -78         5mW                                                                           -78                                                                                      -78             5mW
                         -80                                                                                       -80            5mW                                                                       -80
                         -82                                                                                       -82                                                                                      -82
                         -84                                                                                       -84                                                                                      -84
                         -86                            20mW                                                       -86                          20mW                                                        -86                          20mW
                         -88                                                                                       -88                                                                                      -88
                         -90                                                                                       -90                                                                                      -90
                                10          100           1k          10k      100k                                      10          100          1k         10k          100k                                     10          100          1k         10k          100k
                                                   FREQUENCY (Hz)                                                                           FREQUENCY (Hz)                                                                           FREQUENCY (Hz)
                                TOTAL HARMONIC DISTORTION + NOISE                                                        TOTAL HARMONIC DISTORTION + NOISE                                                         TOTAL HARMONIC DISTORTION + NOISE
                                vs. POWER OUT (DAC TO HEADPHONE)                                                         vs. POWER OUT (DAC TO HEADPHONE)                                                          vs. POWER OUT (DAC TO HEADPHONE)
                           0                                                                                        0                                                                                         0
                                                                                    MAX9880A toc13                                                                          MAX9880A toc14                                                                              MAX9880A toc15
                                     fMCLK = 13MHz                                                                            fMCLK = 12.288MHz                                                                         fMCLK = 12.288MHz
                          -10        fLRCLK = 8kHz                                                                 -10        fLRCLK = 48kHz                                                                 -10        fLRCLK = 96kHz
                          -20        RLOAD = 32Ω                                                                   -20        RLOAD = 32Ω                                                                    -20        RLOAD = 32Ω
                                     CAPACITORLESS MODE                                                                       CAPACITORLESS MODE                                                                        CAPACITORLESS MODE
                          -30                                                                                      -30                                                                                       -30
           THD+N (dB)                                                                                THD+N (dB)                                                                                THD+N (dB)
                          -40                                                                                      -40                                                                                       -40
                          -50               3kHz                                                                   -50               6kHz                                                                    -50                     1kHz
                                                                        1kHz                                                                                       1kHz                                                                                      6kHz
                          -60                                                                                      -60                                                                                       -60
                          -70                                                                                      -70                                                                                       -70
                          -80                                           20Hz                                       -80                                         20Hz                                          -80                                         20Hz
                          -90                                                                                      -90                                                                                       -90
                         -100                                                                                     -100                                                                                      -100
                                0                  5             10             15                                       0                  5           10                15                                       0                 5            10                 15
                                                  POWER OUT (mW)                                                                           POWER OUT (mW)                                                                            POWER OUT (mW)
                                TOTAL HARMONIC DISTORTION + NOISE                                                        TOTAL HARMONIC DISTORTION + NOISE                                                         TOTAL HARMONIC DISTORTION + NOISE
                                vs. FREQUENCY (DAC TO HEADPHONE)                                                         vs. FREQUENCY (DAC TO HEADPHONE)                                                          vs. FREQUENCY (DAC TO HEADPHONE)
                          -60                                                                                      -60                                                                                      -60
                                                                                    MAX9880A toc16                                                                            MAX9880A toc17                                                                          MAX9880A toc18
                                     fMCLK = 13MHz                                                                            fMCLK = 12.288MHz                                                                         fMCLK = 12.288MHz
                                     fLRCLK = 8kHz                                                                            fLRCLK = 48kHz                                                                            fLRCLK = 96kHz
                          -65        RLOAD = 32Ω                                                                   -65        RLOAD = 32Ω                                                                   -65         RLOAD = 32Ω
                                     CAPACITORLESS MODE                                                                       CAPACITORLESS MODE                                                                        CAPACITORLESS MODE
                          -70                                                                                      -70                                                                                      -70
            THD+N (dB)                                                                               THD+N (dB)                                                                                THD+N (dB)
                                                                                                                                   1mW                                                                                       5mW
                          -75                                                                                      -75                                                                                      -75
                                           1mW
                          -80                                                                                      -80                                                                                      -80
                                                           5mW                                                                                  5mW                                                                                      20mW
                          -85                                                                                      -85                                                                                      -85
                          -90                                                                                      -90                                                                                      -90
                                10                100            1000          10,000                                    10          100          1k         10k          100k                                     10          100          1k         10k          100k
                                                   FREQUENCY (Hz)                                                                           FREQUENCY (Hz)                                                                           FREQUENCY (Hz)
           16              ______________________________________________________________________________________


                                                                                                            Low-Power, High-Performance
                                                                                                             Dual I2S Stereo Audio Codec
                                                                                                            Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                   TOTAL HARMONIC DISTORTION + NOISE                                                               TOTAL HARMONIC DISTORTION + NOISE                                                                   TOTAL HARMONIC DISTORTION + NOISE
                   vs. POWER OUT (DAC TO HEADPHONE)                                                                vs. POWER OUT (DAC TO HEADPHONE)                                                                    vs. POWER OUT (DAC TO HEADPHONE)
             -40                                                                                             -40                                                                                                  0
                                                                              MAX9880A toc19                                                                                    MAX9880A toc20                                                                                 MAX9880A toc21
                        fMCLK = 13MHz                                                                                   fMCLK = 12.288MHz                                                                                  fMCLK = 12.288MHz
             -45        fLRCLK = 8kHz                                                                        -45        fLRCLK = 48kHz                                                                          -10        fLRCLK = 96kHz
                        RLOAD = 32Ω                                                                                     RLOAD = 32Ω                                                                                        RLOAD = 32Ω
             -50                                                                                             -50                                                                                                -20
                        SINGLE-ENDED MODE                                                                               SINGLE-ENDED MODE                                                                                  SINGLE-ENDED MODE
             -55                                      1kHz                                                   -55                                      1kHz                                                      -30
THD+N (%)                                                                                      THD+N (%)                                                                                          THD+N (dB)
             -60                                                                                             -60                                                                                                -40
             -65                                                                                             -65                                                                                                -50                    1kHz
             -70                                                                                             -70                                                                                                -60                                              6kHz
                                     20Hz                           3kHz                                                            20Hz                          6kHz
             -75                                                                                             -75                                                                                                -70
             -80                                                                                             -80                                                                                                -80
                                                                                                                                                                                                                                                                 20Hz
             -85                                                                                             -85                                                                                                -90
             -90                                                                                             -90                                                                                               -100
                   0         2         4          6          8        10    12                                     0         2         4        6            8         10    12                                        0         3            6          9       12       15
                                       POWER OUT (mW)                                                                                  POWER OUT (mW)                                                                                   POWER OUT (mW)
                   TOTAL HARMONIC DISTORTION + NOISE                                                                TOTAL HARMONIC DISTORTON + NOISE                                                                   TOTAL HARMONIC DISTORTION + NOISE
                   vs. FREQUENCY (DAC TO HEADPHONE)                                                                 vs. FREQUENCY (DAC TO HEADPHONE)                                                                   vs. FREQUENCY (DAC TO HEADPHONE)
             -60                                                                                            -70                                                                                                 -60
                                                                              MAX9880A toc22                                                                                  MAX9880A toc23                                                                                 MAX9880A toc24
                        fMCLK = 13MHz                                                                                                                                                                                      fMCLK = 12.288MHz
                                                                                                            -72          1mW
                        fLRCLK = 8kHz                                                                                                                                                                                      fLRCLK = 96kHz
             -65        RLOAD = 32Ω                                                                                                                                                                             -65        RLOAD = 32Ω
                                                                                                            -74
                        SINGLE-ENDED MODE                                                                                                                                                                                  SINGLE-ENDED MODE
                                                                                                            -76
             -70                                                                                                                                                                                                -70        5mW
THD+N (dB)                                                                                     THD+N (dB)                                                                                        THD+N (dB)
                         1mW                                                                                -78
             -75                                                                                            -80                                                                                                 -75
                                                                                                                                       5mW
                                                                                                            -82
             -80                                                                                                                                                                                                -80
                                                                                                            -84                                                                                                                         20mW
                                            5mW                                                                         fMCLK = 12.288MHz
                                                                                                            -86         fLRCLK = 48kHz
             -85                                                                                                                                                                                                -85
                                                                                                            -88         RLOAD = 32Ω
                                                                                                                        SINGLE-ENDED MODE
             -90                                                                                            -90                                                                                                 -90
                   10                 100                1000              10,000                                  10            100            1k               10k        100k                                      10          100              1k         10k        100k
                                        FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)                                                                                    FREQUENCY (Hz)
                    TOTAL HARMONIC DISTORTION + NOISE                                                               TOTAL HARMONIC DISTORTION + NOISE                                                                  TOTAL HARMONIC DISTORTION + NOISE
                   vs. POWER OUT (LINE-IN TO HEADPHONE)                                                            vs. POWER OUT (LINE-IN TO HEADPHONE)                                                               vs. FREQUENCY (LINE-IN TO HEADPHONE)
              0                                                                                               0                                                                                                 10
                                                                                                                                                                                                                                                                            MAX9880A toc27
                                                                              MAX9880A toc25                                                                                    MAX9880A toc26
                        LINE-IN PREAMP = +18dB                                                                          LINE-IN PREAMP = 0dB
             -10                                                                                             -10                                                                                                            LINE-IN PREAMP = +18dB
                        RLOAD = 32Ω                                                                                     RLOAD = 32Ω
                                                                                                                                                             1kHz                                                           RLOAD = 32I
                        DIFFERENTIAL MODE                                                                    -20        DIFFERENTIAL MODE
             -20                                                                                                                                                                                                 1          DIFFERENTIAL MODE
                                                                                                             -30                                     6kHz
             -30
                                                                                                                                                                                                 THD+N (%)
THD+N (dB)                                                                                     THD+N (dB)
                                                                                                             -40
             -40
                                                                                                             -50                                                                                                0.1              5mW
             -50         1kHz
                                       6kHz                                                                  -60
             -60                                             20Hz
                                                                                                             -70                                                    20Hz
                                                                                                                                                                                                               0.01
             -70                                                                                             -80
                                                                                                                                                                                                                              20mW
             -80                                                                                             -90
             -90                                                                                            -100                                                                                          0.001
                   0            10          20         30            40     50                                     0           10          20          30           40       50                                       10          100             1000       10,000     100,000
                                       POWER OUT (mW)                                                                                  POWER OUT (mW)                                                                                   FREQUENCY (Hz)
                                            ______________________________________________________________________________________                                                                                                                                         17


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                          Typical Operating Characteristics (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
           CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
           AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                                     TOTAL HARMONIC DISTORTION + NOISE                                                           TOTAL HARMONIC DISTORTION + NOISE
                                    vs. FREQUENCY (LINE-IN TO HEADPHONE)                                                           vs. FREQUENCY (DAC TO LINE-OUT)                                                                 POWER OUT vs. HEADPHONE LOAD
                              10                                                                                           -30                                                                                          50
                                                                                     MAX9880A toc28
                                                                                                                                                                                  MAX9880A toc29                                                                                MAX9880A toc30
                                                                                                                                      fMCLK = 13MHz                                                                                                      fMCLK = 12.288MHz
                                          LINE-IN PREAMP = 0dB                                                                                                                                                          45
                                                                                                                                      fLRCLK = 8kHz                                                                                                      fLRCLK = 48kHz
                                          RLOAD = 32I                                                                      -40        0dBFS                                                                             40                               THD+N ≤ 0.1%
                               1          DIFFERENTIAL MODE
                                                                                                                                                                                                                                                         DIFFERENTIAL MODE
                                                                                                                                                                                                                        35
                                                                                                                                                                                                     POWER OUT (mW)
                                                                                                                           -50
           THD+N (%)
                                                                                                        THD+N (dB)
                                                                                                                                                       IIR                                                              30
                              0.1                                                                                          -60                                                                                          25
                                              5mW                                                                                                                                                                       20
                                                                                                                           -70
                                                                                                                                                                                                                        15
                             0.01
                                                                                                                                                                                                                        10
                                                                                                                           -80
                                                                                                                                                                FIR                                                      5
                                            20mW
                        0.001                                                                                              -90                                                                                           0
                                    10          100         1000        10,000   100,000                                         10              100            1000        10,000                                            1               10               100          1000
                                                       FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                             HEADPHONE LOAD (Ω)
                                     OUTPUT POWER vs. LOAD RESISTANCE                                                                                                                                                         TOTAL HARMONIC DISTORTION + NOISE
                                            (DAC TO HEADPHONE)                                                                         POWER OUT vs. HEADPHONE LOAD                                                           vs. FREQUENCY (MICROPHONE TO ADC)
                               25                                                                                           25                                                                                          10
                                                                                       MAX9880A toc31                                                                               MAX9880A toc32                                                                               MAX9880A toc33
                                                             fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz                                                     fMCLK = 13MHz
                                                             fLRCLK = 48kHz                                                                                  fLRCLK = 48kHz                                                        fLRCLK = 8kHz
                               20                            THD+N ≤ 0.1%                                                   20                               THD+N ≤ 0.1%                                                          MICPRE = 0dB
                                                             CAPACITORLESS MODE                                                                              SINGLE-ENDED MODE                                           1         VIN = 1VP-P
            POWER OUT (mW)                                                                               POWER OUT (mW)
                                                                                                                            15
                                                                                                                                                                                                      THD+N (%)
                               15
                                                                                                                                                                                                                        0.1
                               10                                                                                           10
                                                                                                                                                                                                                       0.01
                                5                                                                                            5
                                0                                                                                            0                                                                                        0.001
                                     1                10           100            1000                                           1                10             100         1000                                             10              100              1000         10,000
                                                    HEADPHONE LOAD (Ω)                                                                          HEADPHONE LOAD (Ω)                                                                             FREQUENCY (Hz)
                                    TOTAL HARMONIC DISTORTION + NOISE                                                            TOTAL HARMONIC DISTORTION + NOISE                                                              POWER-SUPPLY REJECTION RATIO
                                    vs. FREQUENCY (MICROPHONE TO ADC)                                                            vs. FREQUENCY (MICROPHONE TO ADC)                                                            vs. FREQUENCY (DAC TO HEADPHONE)
                              10                                                                                          100                                                                                            0
                                                                                     MAX9880A toc34                                                                                                                                                                            MAX9880A toc36
                                                                                                                                                                                 MAX9880A toc35
                                         fMCLK = 13MHz                                                                                                                                                                            fMCLK = 12.288MHz
                                         fLRCLK = 8kHz                                                                                 fMCLK = 13MHz                                                                              fLRCLK = 48kHz
                                         MICPRE = +20dB                                                                                fLRCLK = 8kHz                                                                   -20        VRIPPLE = 100mVP-P
                                                                                                                           10          MICPRE = +30dB
                               1         VIN = 100mVP-P
                                                                                                                                       VIN = 32mVP-P
                                                                                                                                                                                                                       -40
           THD+N (%)                                                                                    THD+N (%)                                                                                    PSRR (dB)
                                                                                                                            1
                              0.1                                                                                                                                                                                      -60
                                                                                                                           0.1
                                                                                                                                                                                                                       -80
                             0.01
                                                                                                                          0.01
                                                                                                                                                                                                                      -100
                        0.001                                                                                       0.001                                                                                             -120
                                    10                100          1000          10,000                                          10              100            1000        10,000                                            1         10         100    1k          10k   100k
                                                       FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                               FREQUENCY (Hz)
           18                  ______________________________________________________________________________________


                                                                                                                 Low-Power, High-Performance
                                                                                                                  Dual I2S Stereo Audio Codec
                                                                                                                 Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                  MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                            POWER-SUPPLY REJECTION RATIO                                                                   POWER-SUPPLY REJECTION RATIO                                                                    FFT, DAC TO HEADPHONE,
                         vs. FREQUENCY (MICROPHONE TO ADC)                                                                    vs. FREQUENCY (MICBIAS)                                                                 0dBFS, fMCLK = 13MHz, fLRCLK = 8kHz
                    0                                                                                              0                                                                                            20
                                                                         MAX9880A toc37                                                                                     MAX9880A toc38                                                                       MAX9880A toc39
                             VRIPPLE = 100mVP-P                                                                            VRIPPLE = 100mVP-P                                                                             FREQ1 = 0xA
                   -10       fMCLK = 12.288MHz                                                                                                                                                                   0
                             fLRCLK = 48kHz                                                                      -20
                   -20
                                                                                                                                                                                                                -20
                   -30
                                                                                                                 -40
                                                                                                                                                                                              AMPLITUDE (dB)
                   -40                                                                                                                                                                                          -40
PSRR (dB)          -50                                                                        PSRR (dB)          -60                                                                                            -60
                   -60                                                                                                                                                                                          -80
                                                                                                                 -80
                   -70
                                                                                                                                                                                                               -100
                   -80
                                                                                                                -100
                   -90                                                                                                                                                                                         -120
                  -100                                                                                          -120                                                                                           -140
                         1         10         100         1k     10k   100k                                            1         10         100         1k     10k   100k                                             0           5k         10k         15k   20k
                                             FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                               FREQUENCY (Hz)
                               FFT, DAC TO HEADPHONE,                                                                      FFT, DAC TO HEADPHONE,                                                                         FFT, DAC TO HEADPHONE,
                         -60dBFS, fMCLK = 13MHz, fLRCLK = 8kHz                                                     0dBFS, fMCLK = 12.288MHz, fLRCLK = 48kHz                                                      -60dBFS, fMCLK = 12.288MHz, fLRCLK = 48kHz
                    20                                                                                            20                                                                                            20
                                                                           MAX9880A toc40                                                                                    MAX9880A toc41                                                                      MAX9880A toc42
                             FREQ1 = 0xA                                                                                   NI = 0x6000                                                                                    NI = 0x6000
                     0                                                                                             0                                                                                              0
                   -20                                                                                           -20                                                                                            -20
 AMPLITUDE (dB)                                                                                AMPLITUDE (dB)                                                                                 AMPLITUDE (dB)
                   -40                                                                                           -40                                                                                            -40
                   -60                                                                                           -60                                                                                            -60
                   -80                                                                                           -80                                                                                            -80
                  -100                                                                                          -100                                                                                           -100
                  -120                                                                                          -120                                                                                           -120
                  -140                                                                                          -140                                                                                           -140
                         0              5k          10k        15k     20k                                             0              5k          10k        15k     20k                                              0           5k         10k         15k   20k
                                             FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                               FREQUENCY (Hz)
                             FFT, DAC TO HEADPHONE,                                                                        FFT, DAC TO HEADPHONE,                                                                          FFT, DAC TO HEADPHONE,
                     0dBFS, fMCLK = 12.288MHz, fLRCLK = 96kHz                                                     -60dBFS, fMCLK = 12.288MHz, fLRCLK = 96kHz                                                          0dBFS, fMCLK = 13MHz, fLRCLK = 48kHz
                   20                                                                                            20                                                                                             20
                                                                          MAX9880A toc43                                                                               MAX9880A toc44                                                                            MAX9880A toc45
                              NI = 0x6000                                                                                  NI = 0x6000                                                                                    PLL MODE
                     0        DHF = 1                                                                             0        DHF = 1                                                                               0
                   -20                                                                                           -20                                                                                            -20
AMPLITUDE (dB)                                                                              AMPLITUDE (dB)                                                                                    AMPLITUDE (dB)
                   -40                                                                                           -40                                                                                            -40
                   -60                                                                                           -60                                                                                            -60
                   -80                                                                                           -80                                                                                            -80
                  -100                                                                                          -100                                                                                           -100
                  -120                                                                                          -120                                                                                           -120
                  -140                                                                                          -140                                                                                           -140
                         0              5k          10k        15k     20k                                             0           5k             10k        15k     20k                                              0           5k         10k         15k   20k
                                             FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                               FREQUENCY (Hz)
                                               ______________________________________________________________________________________                                                                                                                          19


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                             Typical Operating Characteristics (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
           CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
           AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                                          FFT, DAC TO HEADPHONE,                                                                           FFT, DAC TO HEADPHONE,                                                                     FFT, DAC TO HEADPHONE,
                                    -60dBFS, fMCLK = 13MHz, fLRCLK = 48kHz                                                          0dBFS, fMCLK = 13MHz, fLRCLK = 44.1kHz                                                     -60dBFS, fMCLK = 13MHz, fLRCLK = 44.1kHz
                              20                                                                                              20                                                                                             20
                                                                                        MAX9880A toc46                                                                                MAX9880A toc47                                                                                   MAX9880A toc48
                                         PLL MODE                                                                                        PLL MODE                                                                                      PLL MODE
                               0                                                                                               0                                                                                               0
                              -20                                                                                             -20                                                                                            -20
           AMPLITUDE (dB)                                                                                  AMPLITUDE (dB)                                                                                AMPLITUDE (dB)
                              -40                                                                                             -40                                                                                            -40
                              -60                                                                                             -60                                                                                            -60
                              -80                                                                                             -80                                                                                            -80
                             -100                                                                                            -100                                                                                           -100
                             -120                                                                                            -120                                                                                           -120
                             -140                                                                                            -140                                                                                           -140
                                    0             5k          10k         15k       20k                                             0           5k          10k         15k         20k                                            0           5k           10k         15k         20k
                                                         FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                                  FREQUENCY (Hz)
                                         FFT, MICROPHONE TO ADC,                                                                         FFT, MICROPHONE TO ADC,                                                                      FFT, MICROPHONE TO ADC,
                                     0dBFS, fMCLK = 13MHz, fLRCLK = 8kHz                                                            -60dBFS, fMCLK = 13MHz, fLRCLK = 8kHz                                                      0dBFS, fMCLK = 12.288MHz, fLRCLK = 48kHz
                                0                                                                                               0                                                                                            20
                                                                                          MAX9880A toc49                                                                                MAX9880A toc50                                                                                MAX9880A toc51
                                                                          FREQ1 = 0xA                                                    FREQ1 = 0xA                                                                                   NI = 0x6000
                              -20                                                                                             -20                                                                                             0
                                                                                                                                                                                                                             -20
                              -40                                                                                             -40
            AMPLITUDE (dB)                                                                                  AMPLITUDE (dB)                                                                               AMPLITUDE (dB)
                                                                                                                                                                                                                             -40
                              -60                                                                                             -60
                                                                                                                                                                                                                             -60
                              -80                                                                                             -80
                                                                                                                                                                                                                             -80
                             -100                                                                                            -100
                                                                                                                                                                                                                            -100
                             -120                                                                                            -120                                                                                           -120
                             -140                                                                                            -140                                                                                           -140
                                     0           1000         2000        3000      4000                                             0         1000         2000        3000    4000                                               0           5k           10k         15k         20k
                                                         FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                                  FREQUENCY (Hz)
                                       FFT, MICROPHONE TO ADC,                                                                           FFT, MICROPHONE TO ADC,                                                                         FFT, MICROPHONE TO ADC,
                               -60dBFS, fMCLK = 12.288MHz, fLRCLK = 48kHz                                                           0dBFS, fMCLK = 13MHz, fLRCLK = 48kHz                                                           -60dBFS, fMCLK = 13MHz, fLRCLK = 48kHz
                              20                                                                                              20                                                                                               0
                                                                                         MAX9880A toc52                                                                               MAX9880A toc53                                                                                      MAX9880A toc54
                                         NI = 0x6000                                                                                                                     PLL MODE                                                                                        PLL MODE
                                0                                                                                              0                                                                                             -20
                              -20                                                                                             -20
                                                                                                                                                                                                                             -40
           AMPLITUDE (dB)                                                                                  AMPLITUDE (dB)                                                                                  AMPLITUDE (dB)
                              -40                                                                                             -40
                                                                                                                                                                                                                             -60
                              -60                                                                                             -60
                                                                                                                                                                                                                             -80
                              -80                                                                                             -80
                                                                                                                                                                                                                            -100
                             -100                                                                                            -100
                             -120                                                                                            -120                                                                                           -120
                             -140                                                                                            -140                                                                                           -140
                                     0              5k        10k         15k       20k                                             0           5k          10k         15k         20k                                            0              5k         10k        15k         20k
                                                         FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                                  FREQUENCY (Hz)
           20                  ______________________________________________________________________________________


                                                                                                                                 Low-Power, High-Performance
                                                                                                                                  Dual I2S Stereo Audio Codec
                                                                                                                                Typical Operating Characteristics (continued)
                                                                                                                                                                                                                                                                                                                                                     MAX9880A
(VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                            WIDEBAND FFT, DAC TO HEADPHONE,                                                                                            WIDEBAND FFT, DAC TO HEADPHONE,                                                                                 DAC IIR HIGHPASS FILTER FREQUENCY
                            0dBFS, fMCLK = 13MHz, fLRCLK = 8kHz                                                                                       -60dBFS, fMCLK = 13MHz, fLRCLK = 8kHz                                                                                    RESPONSE, MODE = 0
                     20                                                                                                               0                                                                                                            20
                                                                                      MAX9880A toc55                                                                                                      MAX9880A toc56                                                                                                            MAX9880A toc57
                                FREQ1 = 0xA                                                                                                                FREQ1 = 0xA                                                                                                      DVFLT = 0                         fLRCLK = 8kHz
                      0                                                                                                          -20                                                                                                                       0
                     -20                                                                                                                                                                                                                                                    DVFLT = 3
                                                                                                                                 -40
                                                                                                                                                                                                                                                  -20
AMPLITUDE (dB)                                                                                               AMPLITUDE (dB)                                                                                                     AMPLITUDE (dB)
                     -40
                                                                                                                                 -60
                     -60                                                                                                                                                                                                                          -40
                                                                                                                                 -80
                     -80
                                                                                                                                                                                                                                                  -60
                                                                                                                                -100
                    -100                                                                                                                                                                                                                                                                   DVFLT = 4
                                                                                                                                -120                                                                                                              -80
                    -120
                    -140                                                                                                        -140                                                                                                             -100
                            0       20k       40k      60k     80k      100k    120k                                                                   0       20k       40k      60k     80k    100k   120k                                                           0       100      200         300     400    500        600
                                               FREQUENCY (Hz)                                                                                                             FREQUENCY (Hz)                                                                                                   FREQUENCY (Hz)
                                ADC IIR HIGHPASS FILTER FREQUENCY                                                                                     DAC IIR/FIR LOWPASS FILTER FREQUENCY                                                                             DAC FIR LOWPASS FILTER FREQUENCY
                                        RESPONSE, MODE = 0                                                                                                    RESPONSE (fLRCLK = 8kHz)                                                                                      RESPONSE (fLRCLK = 96kHz)
                      20                                                                                                          20                                                                                                              20
                                                                                            MAX9880A toc58                                                                                                    MAX9880A toc59                                                                                                    MAX9880A toc60
                                  AVFLT = 0                          fLRCLK = 8kHz                                                                                                 MODE = 1
                       0                                                                                                                  0                                                                                                              0
                                 AVFLT = 3
                     -20                                                                                                         -20                                                                                                              -20
   AMPLITUDE (dB)                                                                                              AMPLITUDE (dB)                                                                                                  AMPLITUDE (dB)
                                                                                                                                                                          MODE = 0
                     -40                                                                                                         -40                                                                                                              -40
                     -60                                                                                                         -60                                                                                                              -60
                                               AVFLT = 4
                     -80                                                                                                         -80                                                                                                              -80
                    -100                                                                                                        -100                                                                                                             -100
                            0        100      200      300      400       500        600                                                              3000      3200       3400         3600    3800    4000                                                          20k     24k    28k      32k     36k    40k    44k   48k
                                               FREQUENCY (Hz)                                                                                                             FREQUENCY (Hz)                                                                                                   FREQUENCY (Hz)
                           ADC IIR/FIR LOWPASS FILTER FREQUENCY                                                                                              SHUTDOWN TO FULL OPERATION                                                                                      SHUTDOWN TO FULL OPERATION
                                   RESPONSE (fLRCLK = 8kHz)                                                                                                        (DIFFERENTIAL)                                                                                                  (SE CLICKLESS)
                      20
                                                                                          MAX9880A toc61                                                                                                   MAX9880A toc62                                                                                                      MAX9880A toc63
                                                        MODE = 1
                                                                                                                                                                                                                                                  SCL (1V/div)
                                                                                                                                  SCL (1V/div)
                       0
                     -20
  AMPLITUDE (dB)
                                               MODE = 0
                     -40
                                                                                                                                  LOUTP (500mV/div)                                                                                               LOUTP (500mV/div)
                     -60
                     -80
                    -100
                           3000      3200       3400         3600      3800      4000                                                                                      TIME (4ms/div)                                                                                                  TIME (40ms/div)
                                               FREQUENCY (Hz)
                                                    ______________________________________________________________________________________                                                                                                                                                                                    21


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                             Typical Operating Characteristics (continued)
MAX9880A
           (VAVDD = VPVDD = VMICVDD = VDVDD = VDVDDS1 = +1.8V, RL = ∞, headphone load (RL) connected between _OUTP and _OUTN,
           CREF = 2.2µF, CMICBIAS = CPREG = CREG = 1µF, AVPRE = +20dB, AVPGAM = 0dB, AVDAC = 0dB, AVLINE = +20dB, AVVOL = 0dB,
           AVLO = 0dB, fMCLK = 13MHz, differential output, unless otherwise noted.)
                                    SHUTDOWN TO FULL OPERATION
                                         (SE FAST TURN ON)                                                                                                FULL OPERATION TO SHUTDOWN                                                                                                                              SOFT-START ADC
                                                                                                      MAX9880A toc64                                                                                                                              MAX9880A toc65                                                                                 MAX9880A toc66
                                                                                                                                                                                                                                                                           SCL (1V/div)
                SCL (1V/div)                                                                                                     SCL (1V/div)
                                                                                                                                                                                                                                                                           ADC OUTPUT (500mV/div)
                LOUTP (500mV/div)                                                                                                LOUTP (500mV/div)
                                                                   TIME (4ms/div)                                                                                              TIME (400µs/div)                                                                                                                       TIME (1ms/div)
                                                                          TOTAL HARMONIC DISTORTION + NOISE
                                                                             vs. MCLK FREQUENCY, 0dBFS                                                                                                                                    DYNAMIC RANGE vs. MCLK FREQUENCY
                                                                      0                                                                                                                                                            120
                                                                                                                                                            MAX9880A toc67                                                                                                                                                      MAX9880A toc68
                                                                               fLRCLK = 48kHz                                                                                                                                                 VIN = -60dBFS
                                                                    -10        PLL MODE                                                                                                                                                       fLRCLK = 48kHz
                                                                                                                                                                                                                                   110        PLL MODE
                                                                    -20
                                                                                                                                                                                                             DYNAMIC RANGE (dB)
                                                                    -30
                                                                                                                                                                                                                                   100
                                          THD+N (dB)
                                                                    -40
                                                                    -50                                                                                                                                                             90
                                                                    -60
                                                                                                                                                                                                                                    80
                                                                    -70
                                                                    -80
                                                                                                                                                                                                                                    70
                                                                    -90
                                                                   -100                                                                                                                                                             60
                                                                          10                                                                              100                                                                            10                                                                                 100
                                                                                         MCLK FREQUENCY (MHz)                                                                                                                                                      MCLK FREQUENCY (MHz)
                                                                                        LINE INPUT RESISTANCE
                                                                                           vs. GAIN SETTING                                                                                                                                      AUX CODE vs. INPUT VOLTAGE
                                                                    300                                                                                                                                                  30,000
                                                                                                                                                              MAX9880A toc69
                                                                                                                                                                                                                         25,000                                                                                               MAX9880A toc70
                                                                    250
                                           INPUT RESISTANCE (kΩ)                                                                                                                             AUX CODE (SIGNED DECIMAL)
                                                                                                                                                                                                                         20,000
                                                                    200
                                                                                                                                                                                                                         15,000
                                                                    150
                                                                                                                                                                                                                         10,000
                                                                    100
                                                                                                                                                                                                                                  5000
                                                                     50                                                                                                                                                             0
                                                                      0                                                                                                                                                    -5000
                                                                          -10      -5     0       5                    10   15                       20   25                                                                             -0.4 -0.2                 0    0.2                         0.4   0.6   0.8   1.0   1.2
                                                                                              GAIN SETTING (dB)                                                                                                                                                        INPUT VOLTAGE (V)
           22      ______________________________________________________________________________________


                                           Low-Power, High-Performance
                                            Dual I2S Stereo Audio Codec
                                                                                                                                                         Pin Configurations
                                                                                                                                                                              MAX9880A
    TOP VIEW
(BUMP SIDE DOWN)                                                              MAX9880A
                1           2                   3                         4                          5                       6                  7             8
         +
              DGND          X1                  X2                       IRQ                       MODE                   AVDD                 PREG         AGND
    A
              DVDD       SDA/DIN      SCL/SCLK                           CS                        DOUT                    REF               MICVDD      MICBIAS
    B
                                                                                                                                              MICLN/      MICRP/
             SDINS2      LRCLKS2         BCLKS2                          N.C.                       N.C.                   REG              DIGMICCLK    SPDMDATA
    C
                                                                                             JACKSNS/                                         MICLP/      MICRN/
              MCLK       SDOUTS2         SDINS1                          N.C.                  AUX                        N.C.              DIGMICDATA   SPDMCLK
    D
             LRCLKS1      BCLKS1            PVDD                      LOUTP                        ROUTP                  PGND                LOUTL         LINL
     E
             SDOUTS1     DVDDS1             PVDD                      LOUTN                        ROUTN                  PGND                LOUTR         LINR
     F
                                                                                  WLP
                                      DVDDS1
                       TOP VIEW
                                                 N.C.      PVDD   N.C.    LOUTP    LOUTN   ROUTN    ROUTP   N.C.   PGND    LOUTL   LOUTR
                                      36 35 34 33 32 31 30 29 28 27 26 25
                        SDOUTS1 37                                                                                                         24 LINR
                         SDINS1 38                                                                                                         23 LINL
                        LRCLKS1 39                                                                                                         22 JACKSNS/AUX
                         BCLKS1 40                                                                                                         21 MICRN/SPDMCLK
                           MCLK 41                                                                                                         20 MICRP/SPDMDATA
                        SDOUTS2 42                                                MAX9880A                                                 19 MICLP/DIGMICDATA
                         SDINS2 43                                                                                                         18 MICLN/DIGMICCLK
                        LRCLKS2 44                                                                                                         17 MICBIAS
                         BCLKS2 45                                                                                                         16 MICVDD
                           DVDD 46                                                                                                         15 AGND
                                                                                                                     *EP
                           DGND 47              +                                                                                          14 N.C.
                            N.C. 48                                                                                                        13 REG
                                       1          2        3      4        5       6       7         8      9      10 11 12
                                      SDA/DIN   SCL/SCLK
                                                           X1     X2      CS
                                                                                   DOUT    MODE
                                                                                                    IRQ
                                                                                                            AVDD
                                                                                                                   REF     N.C.    PREG
                                                                           THIN QFN
                                                                         (6mm × 6mm)
                       *EP = EXPOSED PAD
     ______________________________________________________________________________________                                                                              23


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                Pin Description
MAX9880A
                          PIN
                                             NAME                                           FUNCTION
            TQFN-EP              WLP
                                                        I2C Serial-Data Input/Output (MODE = 0). Connect a pullup resistor to DVDD for
                  1               B2        SDA/DIN
                                                        full output swing. SPI compatible serial-data input (MODE = 1).
                                                        I2C Serial-Clock Input (MODE = 0). Connect a pullup resistor to DVDD for full
                  2               B3       SCL/SCLK
                                                        output swing. SPI-compatible serial clock input (MODE = 1).
                                                        Crystal Oscillator Input. Connect load capacitor and one terminal of the crystal
                  3               A2          X1
                                                        to this pin. Acceptable input frequency range: 10MHz to 30MHz.
                                                        Crystal Oscillator Output. Connect load capacitor and second terminal of the
                  4               A3          X2
                                                        crystal to this pin.
                  5               B4          CS        SPI-Compatible, Active-Low Chip-Select Input
                  6               B5         DOUT       SPI-Compatible Serial-Data Output
                  7               A5         MODE       I2C/SPI Mode Select Input (MODE = 0 for I2C mode, MODE = 1 for SPI mode)
                                                        Hardware Interrupt Output. IRQ can be programmed to go low when bits in the
                                                        status register 0x00 are set. Read status register 0x00 to clear IRQ once set.
                  8               A4          IRQ
                                                        Repeat faults have no effect on IRQ until it is cleared by reading the I2C status
                                                        register 0x00. Connect a 10k pullup resistor to DVDD for full output swing.
                  9               A6         AVDD       Analog Power Supply. Bypass to AGND with a 1µF capacitor.
                  10              B6          REF       Converter Reference. Bypass to AGND with a 2.2µF capacitor (1.23V nominal).
                11, 14,
                                C4, D4,
                28, 33,                      N.C.       No Connection. Connect to GND.
                                C5, D6
                35, 48
                                                        Positive Internal Regulated Supply. Bypass to AGND with a 1µF capacitor (1.6V
                  12              A7         PREG
                                                        nominal).
                                                        PREG/2 Voltage Reference. Bypass to AGND with a 1µF capacitor (0.8V
                  13              C6         REG
                                                        nominal)
                  15              A8         AGND       Analog Ground
                  16              B7        MICVDD      Microphone Bias Power Supply. Bypass to AGND with a 1µF capacitor.
                                                        Low-Noise Microphone Bias. Connect a 2.2k to 470 resistor to the positive
                  17              B8        MICBIAS
                                                        output of the microphone. Bypass to AGND with a 1µF capacitor.
                                             MICLN/     Left Negative Differential Microphone Input. AC-couple a microphone with a series
                  18              C7
                                           DIGMICCLK    1µF capacitor. Also digital microphone clock output. Selectable through I2C.
                                                        Left Positive Differential Microphone Input. AC-couple a microphone with a
                                             MICLP/
                  19              D7                    series 1µF capacitor. Also digital microphone data input. Selectable through
                                          DIGMICDATA
                                                        I2C.
                                             MICRP/     Right Positive Differential Microphone Input or SPDM Data Output. AC-couple a
                  20              C8
                                           SPDMDATA     microphone with a series 1µF capacitor. Selectable through I2C.
                                            MICRN/      Right Negative Differential Microphone Input or SPDM Clock Output. AC-couple
                  21              D8
                                           SPDMCLK      a microphone with a series 1µF capacitor. Selectable through I2C.
                                                        Jack Sense. Detects the presence or absence of a jack. See the Headset
                  22              D5      JACKSNS/AUX   Detection section. When used as an auxiliary ADC input, AUX is used to
                                                        measure DC voltages.
           24     ______________________________________________________________________________________


                                         Low-Power, High-Performance
                                          Dual I2S Stereo Audio Codec
                                                                           Pin Description (continued)
                                                                                                                               MAX9880A
          PIN
                             NAME                                            FUNCTION
TQFN-EP         WLP
  23             E8           LINL        Left-Line Input. AC-couple analog audio signal to LINL with a 1µF capacitor.
  24             F8           LINR        Right-Line Input. AC-couple analog audio signal to LINR with a 1µF capacitor.
  25             F7          LOUTR        Right-Line Output
  26             E7          LOUTL        Left-Line Output
  27            E6, F6        PGND        Headphone Power Ground
                                          Positive Right-Channel Headphone Output. Connect directly to the load in
  29             E5          ROUTP
                                          differential and capacitorless mode. AC-couple to the load in single-ended mode.
                                          Negative Right-Channel Headphone Output. Unused in capacitorless and
  30             F5          ROUTN
                                          single-ended mode.
                                          Negative Left-Channel Headphone Output. Common headphone return in
  31             F4          LOUTN
                                          capacitorless mode. Unused in single-ended mode.
                                          Positive Left-Channel Headphone Output. Connect directly to the load in
  32             E4          LOUTP
                                          differential and capacitorless mode. AC-couple to the load in single-ended mode.
  34            E3, F3        PVDD        Headphone Power Supply. Bypass to PGND with a 1µF capacitor.
                                          S1 Digital Audio Interface Power-Supply Input. Bypass to DGND with a 1µF
  36             F2          DVDDS1
                                          capacitor.
  37             F1         SDOUTS1       S1 Digital Audio Serial-Data ADC Output
  38             D3          SDINS1       S1 Digital Audio Serial-Data DAC Input
                                          S1 Digital Audio Left-Right Clock Input/Output. LRCLKS1 is the audio sample
                                          rate clock and determines whether the audio data on SDINS1 is routed to the left
  39             E1         LRCLKS1       or right channel. In TDM mode, LRCLKS1 is a frame sync pulse. LRCLKS1 is an
                                          input when the MAX9880A is in slave mode and an output when in master
                                          mode.
                                          S1 Digital Audio Bit Clock Input/Output. BCLKS1 is an input when the
  40             E2          BCLKS1
                                          MAX9880A is in slave mode and an output when in master mode.
  41             D1           MCLK        Master Clock Input. Acceptable input frequency range: 10MHz to 60MHz.
  42             D2         SDOUTS2       S2 Digital Audio Serial-Data ADC Output
  43             C1          SDINS2       S2 Digital Audio Serial-Data DAC Input
                                          S2 Digital Audio Left-Right Clock Input/Output. LRCLKS2 is the audio sample
                                          rate clock and determines whether the audio data on SDINS2 is routed to the left
  44             C2         LRCLKS2       or right channel. In TDM mode, LRCLKS2 is a frame sync pulse. LRCLKS2 is an
                                          input when the MAX9880A is in slave mode and an output when in master
                                          mode.
                                          S2 Digital Audio Bit Clock Input/Output. BCLKS2 is an input when the
  45             C3          BCLKS2
                                          MAX9880A is in slave mode and an output when in master mode.
                                          Digital Power Supply. Supply for the digital core and I2C/SPI interface. Bypass to
  46             B1           DVDD
                                          DGND with a 1.0µF capacitor.
  47             A1          DGND         Digital Ground
  —              —             EP         Exposed Pad. Connect the exposed thermal pad to AGND.
                   ______________________________________________________________________________________                 25


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                 Detailed Description                          The MAX9880A’s flexible clock circuitry utilizes a pro-
MAX9880A
                                                                               grammable clock divider and a digital PLL to allow the
           The MAX9880A is a low-power stereo audio codec
                                                                               DAC and ADC to operate at maximum dynamic range
           designed for portable applications requiring minimum
                                                                               for all combinations of master clock (MCLK) and sam-
           power consumption.
                                                                               ple rate (LRCLK) without consuming extra supply cur-
           The stereo playback path accepts digital audio through              rent. Any master clock between 10MHz and 60MHz is
           flexible digital audio interfaces compatible with I2S,              supported as are all sample rates from 8kHz to 48kHz
           TDM, and left-justified audio signals. The MAX9880A                 for the record path and 8kHz to 96kHz for the playback
           can process two simultaneous digital input streams that             path. Master and slave modes are supported for maxi-
           can be mixed digitally. The primary interface is intend-            mum flexibility.
           ed for voiceband applications, while the secondary
                                                                               The right analog microphone input can be retasked to
           interface can be used for stereo audio data. An over-
                                                                               output SPDM data. Integrated digital filtering provides a
           sampling sigma-delta DAC converts the mixed incom-
                                                                               range of notch and highpass filters for both the play-
           ing digital data stream to analog audio and outputs
                                                                               back and record paths to limit undesirable low-frequen-
           through the stereo headphone amplifier and stereo-line
                                                                               cy signals and GSM transmission noise. The digital
           outputs. The headphone amplifier can be configured in
                                                                               filtering provides attenuation of out-of-band energy by
           differential, single-ended, and capacitorless output
                                                                               over 70dB, eliminating audible aliasing. A digital
           modes.
                                                                               sidetone function allows audio from the record path to
           The stereo record path has two differential analog                  be summed into the playback path after digital filtering.
           microphone inputs with selectable gain. The micro-
           phones are powered by an integrated microphone bias.                                             I2C/SPI Registers
           The MAX9880A can retask the left analog microphone                  Forty internal registers program and report the status of
           input to accept data from up to two digital micro-                  the MAX9880A. Table 1 lists all of the registers, their
           phones. An oversampling sigma-delta ADC converts                    addresses, and power-on-reset states. Registers
           the microphone signals and outputs the digital bit                  0x00–0x03 are read-only while all of the other registers
           stream over the digital audio interface. An auxiliary               are read/write. Write zeros to all unused bits in the regis-
           ADC allows accurate measurements of DC voltages by                  ter table when updating the register, unless otherwise
           retasking the right audio ADC. DC voltages can be                   noted. All bits in the read-only registers are not pro-
           read through the registers.                                         grammable. Read operations of unused bits return zero.
           The MAX9880A also includes two line inputs. These
           inputs allow a stereo single-ended signal to be gain
                                                                                                                 I2C Slave Address
                                                                               The MAX9880A is preprogrammed with a slave
           adjusted and then recorded by the ADCs and output by
                                                                               address of 0x20 or 0010000. The address is defined as
           the headphone amplifier and line output amplifiers. A
                                                                               the 7 most significant bits (MSBs) followed by the
           jack detection function allows the detection of head-
                                                                               read/write bit. Set the read/write bit to 1 to configure the
           phone, microphone, and headset jacks. Insertion and
                                                                               MAX9880A to read mode. Set the read/write bit to zero
           removal events can be programmed to trigger a hard-
                                                                               to configure the MAX9880A to write mode. The address
           ware interrupt and flag a register bit.
                                                                               is the first byte of information sent to the MAX9880A
                                                                               after the START (S) condition.
           Table 1. Register Map
                                                                                                                   REGISTER
                                                                                                                               POR
                      REGISTER           B7      B6      B5           B4         B3      B2      B1        B0      ADDRESS            R/W
                                                                                                                              STATE
                                                                                                                   (SEE NOTE)
           STATUS
           Status                        CLD     SLD    ULK           —          *        *      JDET      —         0x00       —      R
           Jack Status                    JKSNS[1:0]     —            —          —       —        —        —         0x01       —      R
           AUX High                                                        AUX[15:8]                                 0x02       —      R
           AUX Low                                                         AUX[7:0]                                  0x03       —      R
           Interrupt Enable             ICLD     ISLD   IULK          0          0*      0*     IJDET       0        0x04      0x00   R/W
           SYSTEM CLOCK CONTROL
           System Clock                   0       0           PSCLK                           FREQ1                  0x05      0x00   R/W
           26   ______________________________________________________________________________________


                                                       Low-Power, High-Performance
                                                        Dual I2S Stereo Audio Codec
Table 1. Register Map (continued)
                                                                                                                                                          MAX9880A
                                                                                                                                 REGISTER
                                                                                                                                             POR
           REGISTER                 B7          B6           B5           B4       B3         B2             B1          B0      ADDRESS            R/W
                                                                                                                                            STATE
                                                                                                                                 (SEE NOTE)
DAI1 CLOCK CONTROL
Stereo Audio Clock Control High    PLL1                                          NI1[14:8]                                         0x06     0x00    R/W
Stereo Audio Clock Control Low                                       NI1[7:1]                                      RLK1/NI1[0]     0x07     0x00    R/W
DAI1 CONFIGURATION
Interface Mode A                   MAS1      WCI1        BCI1         DLY1       HIZOFF1     TDM1        FSW1            0         0x08     0x00    R/W
Interface Mode B                   DL1       SEL1       SDOEN1       SDIEN1 DMONO1                        BSEL1                    0x09     0x00    R/W
Time-Division Multiplex                 SLOTL1                   SLOTR1                       SLOTDLY1[3:0]                        0x0A     0x00    R/W
DAI2 CLOCK CONTROL
Stereo Audio Clock Control High    PLL2                                          NI2[14:8]                                         0x0B     0x00    R/W
Stereo Audio Clock Control Low                                       NI2[7:1]                                      RLK2/NI2[0]     0x0C     0x00    R/W
DAI2 CONFIGURATION
Interface Mode A                   MAS2      WCI2        BCI2         DLY2       HIZOFF2     TDM2        FSW2         WS2          0x0D     0x00    R/W
Interface Mode B                   DL2       SEL2       SDOEN2       SDIEN2       DHF                     BSEL2                    0x0E     0x00    R/W
Time-Division Multiplex                 SLOTL2                   SLOTR2                       SLOTDLY2[3:0]                        0x0F     0x00    R/W
DIGITAL MIXERS
DAC-L/R Mixer                                        MIXDAL                                           MIXDAR                       0x10     0x00    R/W
DIGITAL FILTERING
Codec Filters                     MODE                   AVFLT                    DCB                     DVFLT                    0x11     0x00    R/W
SPDM OUTPUTS
Configuration                        SPDMCLK            SPDML        SPDMR            0          0            0          0         0x12     0x00    R/W
Input                                            MIXSPDML                                            MIXSPDMR                      0x13     0x00    R/W
REVISION ID
Rev ID location (replicated for
                                                                                REV                                                0x14     0x42    R/W
SPI mode)
LEVEL CONTROL
Sidetone                                 DSTS                0                                DVST                                 0x15     0x00    R/W
Stereo DAC Level                    0       SDACM            0            0                           SDACA                        0x16     0x00    R/W
Voice DAC Level                     0       VDACM                VDACG                                VDACA                        0x17     0x00    R/W
Left ADC Level                      0            0                AVLG                                 AVL                         0x18     0x00    R/W
Right ADC Level                     0            0                AVRG                                 AVR                         0x19     0x00    R/W
Left-Line Input Level               0        LILM            0            0                            LIGL                        0x1A     0x00    R/W
Right-Line Input Level              0        LIRM            0            0                            LIGR                        0x1B     0x00    R/W
Left Volume Control                 0       VOLLM                                         VOLL                                     0x1C     0x00    R/W
Right Volume Control                0       VOLRM                                         VOLR                                     0x1D     0x00    R/W
Left-Line Output Level              0       LOLM             0            0                           LOGL                         0x1E     0x00    R/W
Right-Line Output Level             0       LORM             0            0                           LOGR                         0x1F     0x00    R/W
Left Microphone Gain                0                PALEN                                   PGAML                                 0x20     0x00    R/W
Right Microphone Gain               0                PAREN                                   PGAMR                                 0x21     0x00    R/W
CONFIGURATION
Input                                    MXINL                    MXINR         AUXCAP AUXGAIN AUXCAL               AUXEN          0x22     0x00    R/W
Microphone                              MICCLK          DIGMICL DIGMICR               0          0            0      MBIAS         0x23     0x00    R/W
Mode                              DSLEW      VSEN        ZDEN             0           0                  HPMODE                    0x24     0x00    R/W
Jack Detect                       JDETEN         0       JDWK             0           0          0                JDEB             0x25     0x00    R/W
                         ______________________________________________________________________________________                                      27


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           Table 1. Register Map (continued)
MAX9880A
                                                                                                                       REGISTER
                                                                                                                                   POR
                       REGISTER                B7       B6      B5       B4         B3           B2    B1       B0     ADDRESS                 R/W
                                                                                                                                  STATE
                                                                                                                       (SEE NOTE)
            POWER MANAGEMENT
            Enable                          LNLEN    LNREN    LOLEN    LOREN       DALEN     DAREN    ADLEN    ADREN      0x26      0x00       R/W
            System Shutdown                 SHDN        0       0         0        XTEN      XTOSC         0     0        0x27      0x00       R/W
            REVISION ID
            Revision ID                                                        REV                                        0xFF      0x42       R/W
           *Reserved.
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                                                      Device Status                Bits in status register 0x00 are set when an alert condi-
           Status registers 0x00 and 0x01 are read-only registers                  tion exists. All bits in status register 0x00 are automati-
           that report the status of various device functions. The                 cally cleared upon a read operation of the register and
           status register bits are cleared upon reading the status                are set again if the condition remains or occurs follow-
           register and are set the next time the event occurs.                    ing the read of this register.
           Registers 0x02 and 0x03 report the DC level applied to
           AUX. See the ADC section for more details.
           Table 2. Status Register
                                                                                                                                    REGISTER
                     REGISTER            B7          B6          B5           B4           B3         B2        B1         B0       ADDRESS
                                                                                                                                   (SEE NOTE)
           Status                        CLD        SLD         ULK           —              *         *       JDET        —           0x00
           Jack Status                     JKSNS[1:0]            —            —              —        —         —          —           0x01
           AUX High                                                            AUX[15:8]                                               0x02
           AUX Low                                                                AUX[7:0]                                             0x03
           *Reserved.
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
           28   ______________________________________________________________________________________


                                              Low-Power, High-Performance
                                               Dual I2S Stereo Audio Codec
Table 3. Status Register Bits
                                                                                                                                    MAX9880A
   BITS                                                          FUNCTION
              Clip Detect Flag. Indicates that a signal has become clipped in the ADC or DAC. To resolve a clip condition in
    CLD       the signal path, the DAC gain settings and analog input gain settings should be lowered. As the CLD bit does
              not indicate where the overload has occurred, identify the source by lowering gains individually.
              Slew Level Detect Flag. When volume or gain changes are made, the slewing circuitry smoothly steps through
    SLD       all intermediate settings. When SLD is set high, all slewing has completed and the volume or gain is at its final
              value. SLD is also set when soft start or stop is complete.
              Digital PLL Unlock Flag. Indicates that the digital audio PLL has become unlocked and digital signal data is not
    ULK
              reliable.
              Headset Configuration Change Flag. JDET reports changes in JKSNS[1:0]. Changes to JKSNS[1:0] are
   JDET
              debounced before setting JDET. The debounce period is programmable using the JDEB bits.
              JKSNS reports the status of the JACKSNS pin when JDETEN = 1. JKSNS is not debounced and should be
              interpreted according to the following information.
                                    JKSNS[1:0]                                               DESCRIPTION
 JKSNS[1:0]                              00                             JACKSNS is below VTH2.
                                         01                             JACKSNS is between VTH1 and VTH2.
                                         10                             Invalid.
                                        11                           JACKSNS is above VTH1.
              Auxiliary Input Measurement. AUX is a 16-bit signed two’s complement number representing the voltage
              measured at JACKSNS/AUX. Before reading a value from AUX, set AUXCAP to 1 to ensure a stable reading. After
              reading the value, set AUXCAP to 0.
              Use the following formula to convert the AUX value into an equivalent JACKSNS/AUX voltage:
    AUX
                                                                         AUX 
                                                     Voltage = 0.738V  
                                                                         k 
              k = AUX value when AUXGAIN = 1. See AUXGAIN for details on determining the value of k, the calibration
              constant.
                  ______________________________________________________________________________________                       29


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                              Hardware Interrupts                    If a flag is set, it is reported as a hardware interrupt only
MAX9880A
           Hardware interrupts are reported on the open-drain IRQ                    if the corresponding interrupt enable is set. Each bit
           pin. When an interrupt occurs, IRQ remains low until the                  enables interrupts for the status flag in the respective
           interrupt is serviced by reading the status register 0x00.                bit location in register 0x00.
           Table 4. Interrupt Enable
                                                                                                                                       REGISTER
                  REGISTER                B7           B6        B5             B4          B3          B2        B1         B0        ADDRESS
                                                                                                                                      (SEE NOTE)
           Interrupt Enable              ICLD        ISLD        IULK           0           0*          0*      IJDET         0          0x04
           *Reserved.
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                                                       Clock Control                   flexibility in both the MCLK and LRCLK frequencies
           The MAX9880A can work with a master clock (MCLK)                            and can be used in either master or slave mode.
           supplied from any system clock within the 10MHz to                        • Exact integer mode: Common MCLK frequencies
           60MHz range. Internally the MAX9880A requires a                             (12MHz, 13MHz, 16MHz, and 19.2MHz) can be pro-
           10MHz to 20MHz clock. A prescaler divides MCLK by                           grammed to operate in exact integer mode for both
           1, 2, or 4 to create the internal clock (PCLK). PCLK is                     8kHz and 16kHz sample rates. In these modes, the
           used to clock all portions of the MAX9880A.                                 MCLK and LRCLK rates are selected by using the
           The MAX9880A can support any sample rate from 8kHz                          FREQ1 bits instead of the NI high, NI low, and PLL con-
           to 48kHz for the digital audio path DAI1 (DAC and                           trol bits.
           ADC) and 8kHz to 96kHz for the DAI2 (high-fidelity                        • PLL mode: When operating in slave mode, a PLL
           DAC path), including all common sample rates (8kHz,                         can be enabled to lock onto externally generated
           16kHz, 24kHz, 32kHz, 44.1kHz, 48kHz, 96kHz). To                             LRCLK signals that are not integer related to PCLK.
           accommodate a wide range of system architectures,                           Prior to enabling the interface, program NI to the
           the MAX9880A supports three main clocking modes:                            nearest desired ratio and set the NI[0] = 1 to enable
           • Normal mode: This mode uses a 15-bit clock                                the PLL’s rapid lock mode. If NI[0] = 0, then NI is
              divider coefficient to set the sample rate relative to                   ignored and PLL lock time is slower.
              the prescaled MCLK input (PCLK). This allows high
           Table 5. System and Audio Clock Registers
                                                                                                                                       REGISTER
                        REGISTER                B7          B6          B5           B4       B3        B2       B1          B0        ADDRESS
                                                                                                                                       (SEE NOTE)
            SYSTEM CLOCK CONTROL
            System Clock                         0          0                PSCLK                           FREQ1                       0x05
            DAI1 CLOCK CONTROL
            Stereo Audio Clock Control High     PLL1                                        NI1[14:8]                                    0x06
            Stereo Audio Clock Control Low                                      NI1[7:1]                                RLK1/NI1[0]      0x07
            DAI2 CLOCK CONTROL
            Stereo Audio Clock Control High     PLL2                                        NI2[14:8]                                    0x0B
            Stereo Audio Clock Control Low                                      NI2[7:1]                                RLK2/NI2[0]      0x0C
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
           30   ______________________________________________________________________________________


                                          Low-Power, High-Performance
                                           Dual I2S Stereo Audio Codec
Table 5. System and Audio Clock Registers (continued)
                                                                                                                              MAX9880A
   BITS                                                      FUNCTION
             MCLK Prescaler. Divides MCLK down to generate a PCLK between 10MHz and 20MHz.
             00 = Disable clock for low-power shutdown.
  PSCLK      01 = Select if MCLK is between 10MHz and 20MHz. PCLK = MCLK.
             10 = Select if MCLK is between 20MHz and 40MHz. PCLK = MCLK/2.
             11 = Select if MCLK is greater than 40MHz. PCLK = MCLK/4.
             Exact Integer Modes. Allows integer sampling for specific PCLK (prescaled MCLK) frequencies and 8kHz or
             16kHz sample rates.
                   FREQ1[3:0]                  PCLK (MHz)                 LRCLK (kHz)                 PCLK/LRCLK
                     0x00                                              Normal or PLL mode
                     0x1–0x7                    Reserved                    Reserved                    Reserved
                       0x8                          12                          8                         1500
                       0x9                          12                         16                          750
  FREQ1                0xA                          13                          8                         1625
                       0xB                          13                         16                         812.5
                       0xC                          16                          8                         2000
                       0xD                          16                         16                         1000
                       0xE                         19.2                         8                         2400
                       0xF                         19.2                        16                         1200
             Modes 0x8 to 0xF are available in either master or slave mode. In slave mode, if the indicated PCLK/LRCLK
             ratio cannot be guaranteed, use PLL mode instead.
             PLL Mode Enable
             0 = (Valid for slave and master mode) The frequency of LRCLK is set by the NI divider bits. In master mode,
 PLL1/PLL2       the MAX9880A generates LRCLK using the specified divide ratio. In slave mode, the MAX9880A expects
                 an LRCLK as specified by the divide ratio.
             1 = (Valid for slave mode only) A digital PLL locks on to any externally supplied LRCLK signal.
             Rapid Lock Mode. To enable rapid lock mode set NI_ to the nearest desired ratio and set RLK_ = 1 before
 RLK1/RLK2
             enabling the interface.
             Normal Mode LRCLK Divider. When PLL = 0, the frequency of LRCLK is determined by NI. See Table 6 for
             common NI values.
             For LRCLK = 8kHz to 48kHz operation (DHF = 0 for DAI2):
              NI = (65,536 x 96 x fLRCLK)/fPCLK
              fLRCLK = LRCLK frequency
  NI1/NI2
              f PCLK = Prescaled internal MCLK frequency (PCLK)
             For LRCLK > 50kHz operation (DHF = 1 for DAI2):
              NI = (65,536 x 48 x fLRCLK)/fPCLK
              fLRCLK = LRCLK frequency
              f PCLK = Prescaled internal MCLK frequency (PCLK)
               ______________________________________________________________________________________                    31


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           Table 6. Common NI Values
MAX9880A
                                                              (DAI1, DAI2 for DHF = 0)                                (DAI2 for DHF = 1)
                LRCLK (kHz)
                                      8     11.025     12       16     22.05        24     32      44.1         48    64     88.2     96
                            10      13A9     1B18     1D7E     2752     3631       3AFB   4EA5    6C61     75F7      4EA5   6C61     75F7
                            11      11E0     18A2     1ACF     23BF     3144       359F   477E    6287     6B3E      477E   6287     6B3E
                         11.2896    116A     1800     1A1F     22D4     3000       343F   45A9    6000     687D      45A9   6000     687D
           PCLK             12      1062     1694     1893     20C5     2D29       3127   4189    5A51     624E      4189   5A51     624E
           (MHz):         12.288    1000     160D     1800     2000    2C1A        3000   4000    5833     6000      4000   5833     6000
           (Note: Any
           PCLK from        13       F20     14D8     16AF     1E3F     29AF       2D5F   3C7F    535F     5ABE      3C7F   535F    5ABE
           10MHz to         14       E0B     135B     1511     1C16     26B5       2A21   382C    4D6A     5443      382C   4D6A     5443
           20MHz
           with any         15       D1B     1210     13A9     1A37     2420       2752   346E    4841     4EA5      346E   4841     4EA5
           LRCLK            16       C4A     10EF     126F     1893     21DE       24DD   3127    43BD     49BA      3127   43BD    49BA
           7.8kHz to
           50kHz         16.9344     B9C     1000     116A     1738     2000       22D4   2E71    4000     45A9      2E71   4000     45A9
           can be           17       B91      FF0     1159     1721     1FE0       22B2   2E43    3FC1     4564      2E43   3FC1     4564
           used.)
                            18      AEC       F0E     1062     15D8     1E1B       20C5   2BB1    3C36     4189      2BB1   3C36     4189
                          18.432    AAB       EB3     1000     1555     1D66       2000   2AAB    3ACD     4000      2AAB   3ACD     4000
                            19       A59      E43      F86     14B2     1C85       1F0B   2964    390B     3E16      2964   390B     3E16
                            20       9D5     D8C       EBF     13A9     1B18       1D7E   2752    3631     3AFB      2752   3631    3AFB
           Note: Values in bold and underline are exact integers that provide maximum full-scale performance.
                                          Digital Audio Interface              • DAC path connectable to either S1 or S2
           The MAX9880A’s dual digital audio interface supports a              • ADC path connectable to either S1 or S2
           wide range of operating modes to ensure maximum
           compatibility. See Figures 1 to 5 for timing diagrams. In           • 8kHz to 48kHz sample rates
           master mode, the MAX9880A outputs LRCLK and                         • I2S and TDM-compatible modes
           BCLK, while in slave mode they are inputs. When oper-               • Voice filters or audio filter modes
           ating in master mode, BCLK can be configured in a
           number of ways to ensure compatiblity with other audio              DAI2: Digital Audio Path 2 Operation
           devices.                                                            •   High-fidelity DAC path with DR of 96dB
           The MAX9880A has two sets of digital audio interface                •   DAC path connectable to either S1 or S2
           pins, S1 and S2, that can be connected to one of two                •   8kHz to 96kHz sample rates
           digital audio paths, DAI1 or DAI2.
                                                                               •   I2S and TDM-compatible modes
           DAI1: Digital Audio Path 1 Operation
                                                                               • Audio FIR filters
           • DAC path with DR of 90dB and ADC path with DR of
             82dB                                                              • No ADC clock control from DAI2 sample clock and
                                                                                 no voice filter modes available in DAI2
           32   ______________________________________________________________________________________


                                                   Low-Power, High-Performance
                                                    Dual I2S Stereo Audio Codec
Table 7. Digital Audio Interface Registers
                                                                                                                                         MAX9880A
                                                                                                                         REGISTER
        REGISTER                B7            B6       B5            B4       B3         B2         B1          B0       ADDRESS
                                                                                                                        (SEE NOTE)
DAI1 CONFIGURATION
Interface Mode A              MAS1        WCI1        BCI1       DLY1      HIZOFF1     TDM1        FSW1          0          0x08
Interface Mode B               DL1        SEL1      SDOEN1      SDIEN1     DMONO1                 BSEL1                     0x09
Time-Division Multiplex              SLOTL1                 SLOTR1                      SLOTDLY1[3:0]                       0x0A
DAI2 CONFIGURATION
Interface Mode A              MAS2        WCI2        BCI2       DLY2      HIZOFF2     TDM2        FSW2        WS2          0x0D
Interface Mode B               DL2        SEL2      SDOEN2      SDIEN2       DHF                   BSEL2                    0x0E
Time-Division Multiplex              SLOTL2                 SLOTR2                      SLOTDLY2[3:0]                       0x0F
Grayed boxes = Not used.
Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
accessible through SPI.
    BITS                                                              FUNCTION
                Master Mode
   MAS1/2       0 = The MAX9880A operates in slave mode with LRCLK and BCLK configured as inputs.
                1 = The MAX9880A operates in master mode with LRCLK and BCLK configured as outputs.
                LRCLK Invert (TDM1/2 = 0)
   WCI1/2       0 = Left-channel data is input and output while LRCLK is low.
                1 = Right-channel data is input and output while LRCLK is low.
                BCLK Invert
                In master and slave modes:
                0 = SDIN is latched into the part on the rising edge of BCLK. SDOUT transitions immediately after the rising edge
                    of BCLK.
   BCI1/2       1 = SDIN is latched into the part on the falling edge of BCLK. SDOUT transitions immediately after the falling
                    edge of BCLK.
                In master mode:
                0 = LRCLK changes state immediately after the rising edge of BCLK.
                1 = LRCLK changes state immediately after the falling edge of BCLK.
                Delay Mode. DLY1/2 have two different functions in TDM and non-TDM mode.
                In Non-TDM Mode (TDM1/TDM2 = 0): The functionality is as follows:
                1 = The most significant bit of an audio word is latched at the second BCLK edge after the LRCLK transition.
   DLY1/2       0 = The most significant bit of an audio word is latched at the first BCLK edge after the LRCLK transition.
                In TDM Mode (TDM1/TDM2 = 1): The functionality is as follows:
                1 = The HOLD time on the SDOUT output is increased to be greater than 150ns.
                0 = The HOLD time on the SDOUT output is the default (greater than 20ns but less than 150ns).
                SDOUT High-Impedance Mode
                0 = SDOUT goes to a high-impedance state after all data bits have been transferred out of the MAX9880A,
 HIZOFF1/2          allowing SDOUT to be shared by other devices.
                1 = SDOUT is set either high or low after all data bits have been transferred out of the MAX9880A.
                Note: High-impedance mode is intended for use when TDM = 1.
                    ______________________________________________________________________________________                          33


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           Table 7. Digital Audio Interface Registers (continued)
MAX9880A
                 BITS                                                           FUNCTION
                           TDM Mode Select
                TDM1/2     1 = Enables time-division multiplex mode and configures the audio interface to accept PCM data.
                           0 = Disables time-division multiplex mode. LRCLK signal polarity indicates left and right audio.
                           Frame Sync Width
                           1 = Frame sync pulse extended to the width of the entire 16-bit first slot 0 data word (TDM1/TDM2 = 1 only;
                FSW1/2
                               SLOTDLY[0] must be 0 when FSW is set to 1).
                           0 = Frame sync pulse is 1 bit wide.
                           Word Size
                           0 = The number of bits per input data word sample is 16 bits, and at least 16 BCLKs per input word are required.
                  WS2
                           1 = The number of bits per input data word sample is 18 bits, and at least 18 BCLKs per input word transfer is
                               required. These control bits are only recognized when TDM1/TDM2 are cleared to 0.
                           Data Loop. Enabling of these bits provides a bridge from one DAI interface to the other. Data format looping could
                           occur in both directions simultaneously.
                                                      BIT                                                  DESCRIPTION
                                                   DL1 = 0                              Normal operation
                 DL1/2
                                              DL1 = 1, SEL2 = 1                         Enables SDINS1 to SDOUTS2.
                                                   DL2 = 0                              Normal operation
                                              DL2 = 1, SEL1 = 0                         Enables SDINS2 to SDOUTS1.
                           Note: The LRCLKS1 and LRCLKS2 interfaces must be identical.
                           Set the SEL1/2, SDOEN1/2, and SDIEN1/2 bits as shown in the table below to connect the S1 and S2 pins to the
                           DAI1 and DAI2 paths in the MAX9880A.
                                            SETTING                     SEL1      SEL2       SDIEN1        SDOEN1     SDIEN2       SDOEN2
                           Connect S1 pins to DAI1 (DAC and ADC)            0       X           1            1            0              0
                           Connect S2 pins to DAI1 (DAC and ADC)            1       0           1            0            0              1
            SEL1/SEL2      Connect S1 pins (DAC only) to DAI2               1       0           0            0            1              0
                           Connect S2 pins (DAC only) to DAI2               X       1           0            0            1              0
                           Connect S1 pins (DAC and ADC) to DAI1,
                                                                            0       1           1            1            1              0
                           connect S2 to DAI2 (DAC only)
                           Connect S2 pins (DAC and ADC) to DAI1,
                                                                            1       0           1            0            1              1
                           connect S1 to DAI2 (DAC only)
                           SDOUT Enable
            SDOEN1/2       1 = Serial-data output enabled on S1/S2 pins.
                           0 = Serial-data output disabled on S1/S2 pins.
                           SDIN Enable
                SDIEN1/2   1 = Serial-data input to DAI1/2 audio path enabled.
                           0 = Serial-data input to DAI1/2 audio path disabled.
                           Mono Playback Mode
                           0 = Stereo data input on DAI1 path is processed separately.
                DMONO1     1 = Stereo data input on DAI1 path is mixed to a single channel and routed to both the left and right DAC.
                           When operating in mono voice mode (MODE = 1), stereo data may still be input through DAI1 path and optionally
                           mixed using DMONO1 = 1.
           34     ______________________________________________________________________________________


                                             Low-Power, High-Performance
                                              Dual I2S Stereo Audio Codec
Table 7. Digital Audio Interface Registers (continued)
                                                                                                                                  MAX9880A
   BITS                                                          FUNCTION
             BCLK Select. Configures BCLK when operating in master mode. BSEL has no effect in slave mode. Set BSEL =
             010, unless sharing the bus with multiple devices.
                                  BSEL                                                  DESCRIPTION
                                   000                         Off (BCLK output held low)
                                   001                         64x LRCLK (192x internal clock divided by 3)
  BSEL1/2                          010                         48x LRCLK (192x internal clock divided by 4)
                                   011                         128x LRCLK (Note: Not a valid BSEL2 choice when DHF = 1.)
                                   100                         PCLK/2
                                   101                         PCLK/4
                                   110                         PCLK/8
                                   111                         PCLK/16
             TDM Slot Select. Selects the time slot to use for left/right data according to the following information when
             operating in time-division multiplex mode.
                                  SLOT                                                  DESCRIPTION
 SLOTL1/2
                                    00                         Time slot 1
 SLOTR1/2
                                    01                         Time slot 2
                                    10                         Time slot 3
                                    11                         Time slot 4
             Slot Data Delay (SLOTDLY1/SLOTDLY2)
             In TDM Mode: Configures the data delay for each slot in TDM mode of operation according to the following
             information.
             In Non-TDM Mode (TDM = 0): SLOTDLY[1:0] does not have any effect.
                            SLOTDLY1/2[3:0]                                             DESCRIPTION
                                  0xxx                         Data for slot 4 begins immediately.
SLOTDLY1/2                        1xxx                         Data for slot 4 delayed 1 BCLK cycle.
                                  x0xx                         Data for slot 3 begins immediately.
                                  x1xx                         Data for slot 3 delayed 1 BCLK cycle.
                                  xx0x                         Data for slot 2 begins immediately.
                                  xx1x                         Data for slot 2 delayed 1 BCLK cycle.
                                  xxx0                         Data for slot 1 begins immediately.
                                  xxx1                         Data for slot 1 delayed 1 BCLK cycle (not valid when FSW = 1).
             DAC High Sample Rate Mode (DHF) (Valid only for DAI2 audio path)
   DHF       1 = LRCLK is greater than 50kHz. 4x FIR interpolation filter used.
             0 = LRCLK is less than 50kHz. 8x FIR interpolation filter used.
                 ______________________________________________________________________________________                      35


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                                        AUDIO MASTER MODES:
                                        LEFT JUSTIFIED: TDM = 0, WCI = 0, BCI = 0, DLY = 0, SLOTDLY = 0
                                                         7ns (typ)                                                                             7ns (typ)
                           LRCLK                                                                   LEFT                                                                    RIGHT
                                                                                                                                      1/fS
                                                         RELATIVE TO PCLK (SEE NOTE)
                           SDOUT                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15             D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                               40ns (max)
                                                               0ns (min)               7ns (typ)                   7ns (typ)
                            BCLK
                                                                                                          CONFIGURED BY BSEL
                                   20ns (min)                         5ns (min)
                            SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                       LEFT JUSTIFIED + LRCLK INVERT: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 0
                                                         7ns (typ)                                                                             7ns (typ)
                           LRCLK                                                                   LEFT                                                                    RIGHT
                                                                                                                                      1/fS
                                                         RELATIVE TO PCLK (SEE NOTE)
                           SDOUT                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15             D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                              40ns (max)
                                                              0ns (min)                7ns (typ)                   7ns (typ)
                            BCLK
                                                                                                          CONFIGURED BY BSEL
                                   20ns (min)                         5ns (min)
                            SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                       LEFT JUSTIFIED + BCLK INVERT: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 0
                                                         7ns (typ)                                                                             7ns (typ)
                           LRCLK                                                                   LEFT                                                                    RIGHT
                                                                                                                                      1/fS
                                                        RELATIVE TO PCLK (SEE NOTE)
                            SDIN                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15             D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                               40ns (max)
                                                               0ns (min)               7ns (typ)                   7ns (typ)
                            BCLK
                                                                                                          CONFIGURED BY BSEL
                                   20ns (min)                         5ns (min)
                            SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                       I2S: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 0
                                                         7ns (typ)                                                                             7ns (typ)
                           LRCLK                                                                   LEFT                                                                    RIGHT
                                                                                                                                      1/fS
                                                        RELATIVE TO PCLK (SEE NOTE)
                            SDIN                         D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                              40ns (max)
                                                              0ns (min)                7ns (typ)                   7ns (typ)
                            BCLK
                                                                                                          CONFIGURED BY BSEL
                                   20ns (min)                         5ns (min)
                            SDIN                         D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                       LEFT JUSTIFIED: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 1
                                                         7ns (typ)                                                                             7ns (typ)
                           LRCLK                                                                   LEFT                                                                    RIGHT
                                                                                                                                      1/fS
                                                           RELATIVE TO PCLK (SEE NOTE)
                           SDOUT                D15     D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                      D15             D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                            40ns (max)
                                                            0ns (min)                  7ns (typ)                   7ns (typ)
                            BCLK
                                   20ns (min)                         5ns (min)                           CONFIGURED BY BSEL
                            SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                          NOTE: THE DELAY FROM A BCLK EDGE AND AN LRCLK EDGE IS DETERMINED BY LENGTH OF TIME THAT PCLK (THE INTERNALLY DIVIDED-DOWN VERSION OF MCLK AS DEFINED BY THE PSCLK BITS) PERIOD OF MCLK PLUS THE
                                INTERNAL DELAY. FOR EXAMPLE: IF fPCLK = 12.288MHz, THEN THE DELAY BETWEEN BCLK AND LRCLK IS TYPICALLY 45ns.
           Figure 1. Digital Audio Interface Audio Master Mode
           36   ______________________________________________________________________________________


                                                                                            Low-Power, High-Performance
                                                                                             Dual I2S Stereo Audio Codec
                                                                                                                                                                                                MAX9880A
                           AUDIO SLAVE MODES:
                           LEFT JUSTIFIED: TDM = 0, WCI = 0, BCI = 0, DLY = 0, SLOTDLY = 0
              LRCLK                                                               LEFT                                                                        RIGHT
                                                                                                                         1/fS
                                              20ns (min)                                                                                                      0ns (min)
              SDOUT                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                     D15              D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                40ns (max)
                                                0ns (min)                    30ns (min)
               BCLK
                                                                                         75ns (min)         30ns (min)
                      20ns (min)                           5ns (min)
               SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                           LEFT JUSTIFIED + LRCLK INVERT: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 0
              LRCLK                                                               LEFT                                                                        RIGHT
                                                                                                                         1/fS
                                              20ns (min)                                                                                                      0ns (min)
              SDOUT                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                     D15              D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                40ns (max)
                                                0ns (min)
                                                                             30ns (min)
               BCLK
                                                                                         75ns (min)         30ns (min)
                      20ns (min)                           5ns (min)
               SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                           LEFT JUSTIFIED + LRCLK INVERT: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 0
              LRCLK                                                               LEFT                                                                        RIGHT
                                                                                                                         1/fS
                                              20ns (min)                                                                                                      0ns (min)
               SDIN                D15      D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                     D15              D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                     40ns (max)
                                                     0ns (min)
                                                                             30ns (min)
               BCLK
                                                                                         75ns (min)         30ns (min)
                      20ns (min)                           5ns (min)
               SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                           I2S: TDM = 0, WCI = 0, BCI = 0, DLY = 1, SLOTDLY = 0
              LRCLK                                                               LEFT                                                                        RIGHT
                                                                                                                         1/fS
                                              20ns (min)                                                                                                      0ns (min)
               SDIN                         D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                                     40ns (max)
                                                     0ns (min)
                                                                             30ns (min)
               BCLK
                                                                                         75ns (min)         30ns (min)
                      20ns (min)                           5ns (min)
               SDIN                         D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                           LEFT JUSTIFIED: TDM = 0, WCI = 1, BCI = 0, DLY = 0, SLOTDLY = 1
              LRCLK                                                               LEFT                                                                        RIGHT
                                                                                                                         1/fS
                                              20ns (min)                                                                                                      0ns (min)
              SDOUT                D15     D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                     D15              D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
                                              40ns (max)
                                              0ns (min)
                                                                             30ns (min)
               BCLK
                                                                                         75ns (min)         30ns (min)
                      20ns (min)                           5ns (min)
               SDIN                      D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 2. Digital Audio Interface Audio Slave Mode
                            ______________________________________________________________________________________                                                                         37


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                                  VOICE (TDM/PCM) MASTER MODES:
                                  TDM = 1, BCI = 0, HIZOFF = 0, SLOTDLY = 0, SLOT = 00, DLY = 0
                                          7ns (typ)                                                                                                 7ns (typ)
                  LRCLK
                                                                                                              1/fS
                                          200ns
                  SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                               40ns (max)
                                               0ns (min)                         7ns (typ)             7ns (typ)
                   BCLK
                                                                                     CONFIGURED BY BSEL
                     20ns (min)                        0ns (min)
                   SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                          TDM = 1, BCI = 1, HIZOFF = 0, SLOTDLY = 0, SLOT = 00
                                          7ns (typ)                                                                                                 7ns (typ)
                  LRCLK
                                                                                                              1/fS
                                          200ns
                  SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                               40ns (max)
                                               0ns (min)                         7ns (typ)             7ns (typ)
                   BCLK
                                                                                      CONFIGURED BY BSEL
                     20ns (min)                        0ns (min)
                   SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                          TDM = 1, BCI = 0, HIZOFF = 1, SLOTDLY = 0, SLOT = 00, DLY = 0
                                          7ns (typ)                                                                                                 7ns (typ)
                  LRCLK
                                                                                                              1/fS
                                          200ns
                  SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                               40ns (max)
                                               0ns (min)                         7ns (typ)             7ns (typ)
                   BCLK
                                                                                      CONFIGURED BY BSEL
                     20ns (min)                        0ns (min)
                   SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
           Figure 3. Digital Audio Interface Voice Master Mode
           38   ______________________________________________________________________________________


                                                                                   Low-Power, High-Performance
                                                                                    Dual I2S Stereo Audio Codec
                                                                                                                                                                                          MAX9880A
                             VOICE (TDM/PCM) SLAVE MODES:
                             TDM = 1, BCI = 0, HIZOFF = 0, SLOTDLY = 0, SLOT = 00, DLY = 0
             LRCLK
                                                                                                            1/fS
                                       20ns                                                                                                    0ns (min)        0ns (min)
             SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                         40ns (max)
                                         0ns (min)                       30ns (min)                  7ns (typ)
              BCLK
                                                                                75ns (min)                  30ns (min)
                20ns (min)                        0ns (min)
              SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                TDM = 1, BCI = 1, HIZOFF = 0, SLOTDLY = 0, SLOT = 00, DLY = 0
             LRCLK
                                                                                                            1/fS
                                       20ns                                                                                                    0ns (min)        0ns (min)
             SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                         40ns (max)
                                         0ns (min)                       30ns (min)                  7ns (typ)
              BCLK
                                                                                75ns (min)                  30ns (min)
                20ns (min)                        0ns (min)
              SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                TDM = 1, BCI = 0, HIZOFF = 1, SLOTDLY = 0, SLOT = 00, DLY = 0
             LRCLK
                                                                                                            1/fS
                                       20ns                                                                                                    0ns (min)        0ns (min)
             SDOUT               L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                                         40ns (max)
                                         0ns (min)                       30ns (min)
              BCLK
                                                                                75ns (min)                  30ns (min)
                20ns (min)                        0ns (min)
              SDIN              L15 L14 L13 L12 L11 L10 L9 L8 L7 L6 L5 L4 L3 L2 L1 L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
Figure 4. Digital Audio Interface Voice Slave Mode
Table 8. Digital Mixers
                                                                                                                                                                             REGISTER
        REGISTER                                  B7                    B6                      B5                  B4        B3         B2                B1        B0      ADDRESS
                                                                                                                                                                            (SEE NOTE)
DIGITAL MIXERS
DAC-L/R Mixer                                                                 MIXDAL                                                          MIXDAR                          0x10
Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
accessible through SPI.
     BITS                                                                                                                FUNCTION
                     Digital Mixers (MIXDAL/MIXDAR). Selects and mixes the audio source(s) for the DACs according to the
                     information below.
                                                          MIXDAL/MIXDAR                                                                                    SOURCE
   MIXDAL/
                                                                       1xxx                                                   DAI1 left-channel data
   MIXDAR
                                                                       x1xx                                                   DAI1 right-channel data
                                                                       xx1x                                                   DAI2 left-channel data
                                                                       xxx1                                                   DAI2 right-channel data
                             ______________________________________________________________________________________                                                                  39


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                 Digital Filtering                 stopband attenuation as well as selectable highpass fil-
MAX9880A
           The MAX9880A incorporates both IIR (voice) and FIR                      ters. The FIR filters provide low power consumption and
           (audio) digital filters to accomodate a wide range of                   are linear phase to maintain stereo imaging.
           audio sources. The IIR fiilters provide over 70dB of
           Table 9. Digital Filtering Register
                                                                                                                                    REGISTER
                   REGISTER                  B7         B6           B5       B4          B3          B2       B1           B0      ADDRESS
                                                                                                                                   (SEE NOTE)
           DIGITAL FILTERING
           Codec Filters                   MODE                     AVFLT                DCB                 DVFLT                       0x11
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                BITS                                                            FUNCTION
                             Digital Audio Filter Mode. Selects the filtering mode for the DAI1 DAC and ADC signal paths.
                MODE         0 = IIR voice filters
                             1 = FIR audio filters
                             ADC Digital Audio Filter. Configures the highpass filters for the DAI1 signal path.
                             MODE = 0
                             Select the desired digital filter response from Table 10. See the frequency response graphs in the Typical
                AVFLT        Operating Characteristics section for details on each filter.
                             MODE = 1
                             0x0 = DC-blocking filter disabled.
                             0x1 = DC-blocking filter enabled.
                             1 = DC-blocking filter for DAI2 enabled.
                DCB
                             0 = DC-blocking filter for DAI2 disabled.
                             DAC Digital Audio Filter. Configures the highpass filters for the DAI1 signal path.
                             MODE = 0
                             Select the desired digital filter response from Table 10. See the frequency response graphs in the Typical
                DVFLT        Operating Characteristics section for details on each filter.
                             MODE = 1
                             0x0 = DC-blocking filter disabled.
                             0x1 = DC-blocking filter enabled.
           Table 10. IIR Highpass Digital Filters
                                                       VALID SAMPLE
                  CODE             FILTER TYPE                                  HIGHPASS CORNER FREQUENCY                    217Hz NOTCH
                                                         RATE (kHz)
                   0x0                                                               Disabled
                   0x1               Elliptical                16                               256Hz                              Yes
                   0x2              Butterworth                16                               500Hz                               No
                   0x3               Elliptical                8                                256Hz                              Yes
                   0x4              Butterworth                8                                500Hz                               No
                   0x5              Butterworth              8 to 24                            f S/240                             No
                0x6 to 0x7                                                          Reserved
           40    ______________________________________________________________________________________


                                                      Low-Power, High-Performance
                                                       Dual I2S Stereo Audio Codec
Table 11. SPDM Output Registers
                                                                                                                                         MAX9880A
                                                                                                                         REGISTER
     REGISTER                B7          B6             B5     B4             B3       B2              B1       B0       ADDRESS
                                                                                                                        (SEE NOTE)
Configuration                   SPDMCLK               SPDML   SPDMR           0         0              0        0           0x12
Input                                     MIXSPDML                                       MIXSPDMR                           0x13
Grayed boxes = Not used.
Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
accessible through SPI.
The MAX9880A supports stereo PDM outputs. The PDM                      PDM modulators allows a mix/mux of the audio digital data
signals consist of PDM data outputs (SPDMDATA) and a                   stream from the digital audio ports SDINS1 and SDINS2.
clock output (SPDMCLK). The mixer at the input to the                  Figure 5 shows the SPDM interface timing diagram.
    SPDMCLK
                           tDLY, DSD
                                          tDLY, DSD
    SPDMDATA     LEFT CH                 RIGHT CH                   LEFT CH                 RIGHT CH
Figure 5. SPDM Timing Diagram
        BITS                                                             FUNCTION
                     SPDM Clock Rate (SPDMCLK)
                     00 = SPDMCLK is set to PCLK/8.
    SPDMCLK          01 = SPDMCLK is set to PCLK6.
                     10 = SPDMCLK is set to PCLK/4.
                     11 = Reserved
                     0 = Disables SPDM data.
 SPDML/SPDMR
                     1 = Enables SPDM data.
                     SPDM Input Mixers. Selects and mixes the audio source(s) for the SPDM output according to following
                     information.
                                       MIXSPDML/MIXSPDMR                                               SOURCE
   MIXSPDML/
                                                 1xxx                                         DAI1 left-channel data
   MIXSPDMR
                                                 x1xx                                        DAI1 right-channel data
                                                 xx1x                                         DAI2 left-channel data
                                                 xxx1                                        DAI2 right-channel data
                    ______________________________________________________________________________________                          41


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                           Digital Gain Control                     provided for the two record channels. Sidetone gain
MAX9880A
           The MAX9880A includes gain adjustment for the play-                      adjustment is also provided to set the sidetone level rel-
           back and record paths. Independent gain adjustment is                    ative to the playback level.
           Table 12. Digital Gain Registers
                                                                                                                                    REGISTER
                   REGISTER                B7          B6         B5           B4          B3        B2           B1       B0       ADDRESS
                                                                                                                                   (SEE NOTE)
           LEVEL CONTROL
           Sidetone                             DSTS               0                                DVST                               0x15
           Stereo DAC Level                 0       SDACM          0           0                          SDACA                        0x16
           Voice DAC Level                  0       VDACM              VDACG                              VDACA                        0x17
           Left ADC Level                   0          0               AVLG                                AVL                         0x18
           Right ADC Level                  0          0               AVRG                                AVR                         0x19
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                  BITS                                                               FUNCTION
                                Digital Sidetone Source Mixer
                                00 = No sidetone selected.
                 DSTS           01 = Left ADC
                                10 = Right ADC
                                11 = Left and right ADC
                                Digital Sidetone Level Control. All gain settings are relative to the ADC input voltage.
                                Differential Headphone Output Mode
                                   SETTING          GAIN (dB)            SETTING            GAIN (dB)          SETTING            GAIN (dB)
                                     0x00               Off                0x0B                 -20              0x16               -42
                                     0x01                 0                0x0C                 -22              0x17               -44
                                     0x02                -2                0x0D                 -24              0x18               -46
                                     0x03                -4                0x0E                 -26              0x19               -48
                                     0x04                -6                0x0F                 -28              0x1A               -50
                                     0x05                -8                0x10                 -30              0x1B               -52
                                     0x06               -10                0x11                 -32              0x1C               -54
                                     0x07               -12                0x12                 -34              0x1D               -56
                                     0x08               -14                0x13                 -36              0x1E               -58
                                     0x09               -16                0x14                 -38              0x1F               -60
                 DVST                0x0A               -18                0x15                 -40                —                 —
                                Capacitorless and Single-Ended Headphone Output Mode
                                   SETTING          GAIN (dB)            SETTING            GAIN (dB)          SETTING            GAIN (dB)
                                     0x00               Off                0x0B                 -25              0x16               -47
                                     0x01                -5                0x0C                 -27              0x17               -49
                                     0x02                -7                0x0D                 -29              0x18               -51
                                     0x03                -9                0x0E                 -31              0x19               -53
                                     0x04               -11                0x0F                 -33              0x1A               -55
                                     0x05               -13                0x10                 -35              0x1B               -57
                                     0x06               -15                0x11                 -37              0x1C               -59
                                     0x07               -17                0x12                 -39              0x1D               -61
                                     0x08               -19                0x13                 -41              0x1E               -63
                                     0x09               -21                0x14                 -43              0x1F               -65
                                     0x0A               -23                0x15                 -45                —                 —
           42   ______________________________________________________________________________________


                                         Low-Power, High-Performance
                                          Dual I2S Stereo Audio Codec
Table 12. Digital Gain Registers (continued)
                                                                                                                         MAX9880A
    BITS                                                      FUNCTION
               DAC Mute Enable
   SDACM/
               0 = No mute
   VDACM
               1 = Mute
               DAC Gain
               00 = 0dB
               01 = +6dB
   VDACG
               10 = +12dB
               11 = +18dB
               Note: VDACG is only used when MODE = 0. If MODE = 1, then the DAC gain is always 0dB.
               DAC Level Control. VDACA/SDACA works in all modes.
                      SETTING                    GAIN (dB)                   SETTING                    GAIN (dB)
                         0x0                          0                         0x8                         -8
                         0x1                         -1                         0x9                         -9
                         0x2                         -2                         0xA                         -10
 VDACA/SDACA
                         0x3                         -3                         0xB                         -11
                         0x4                         -4                         0xC                         -12
                         0x5                         -5                         0xD                         -13
                         0x6                         -6                         0xE                         -14
                         0x7                         -7                         0xF                         -15
               ADC Gain Control. Applies the specified gain to the digital ADC paths according to the following
               information.
                                    SETTING                                                GAIN (dB)
  AVLG/AVRG                            0x0                                                     0
                                       0x1                                                    +6
                                       0x2                                                   +12
                                       0x3                                                   +18
               ADC Left/Right Level Control
                      SETTING                    GAIN (dB)                   SETTING                    GAIN (dB)
                         0x0                         +3                         0x8                         -5
                         0x1                         +2                         0x9                         -6
                         0x2                         +1                         0xA                         -7
   AVL/AVR
                         0x3                          0                         0xB                         -8
                         0x4                         -1                         0xC                         -9
                         0x5                         -2                         0xD                         -10
                         0x6                         -3                         0xE                         -11
                         0x7                         -4                         0xF                         -12
               ______________________________________________________________________________________               43


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                           Line Inputs                                                   Playback Volume
MAX9880A
           The MAX9880A include one pair of single-ended line                       The MAX9880A incorporates volume and mute control to
           inputs. When enabled the line inputs connect directly to                 allow level control for the playback audio path. Program
           the headphone amplifier and line outputs and can be                      registers 0x1C and 0x1D to set the desired volume.
           optionally connected to the ADC for recording.
                                                                                                                         Line Output Level
                                                                                    The MAX9880A incorporates gain and mute control to
                                                                                    allow level control for the line outputs.
           Table 13. Line Input Registers
                                                                                                                                     REGISTER
                   REGISTER                B7         B6          B5         B4            B3          B2           B1     B0        ADDRESS
                                                                                                                                    (SEE NOTE)
           Left-Line Input Level            0        LILM          0            0                            LIGL                       0x1A
           Right-Line Input Level           0        LIRM          0            0                            LIGR                       0x1B
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                  BITS                                                               FUNCTION
                               Line Input Left/Right Playback Mute
                LILM/LIRM      0 = Line input is connected to the headphone amplifiers.
                               1 = Line input is disconnected from the headphone amplifiers.
                               Line Input Left/Right Gain
                                       SETTING                      GAIN (dB)                     SETTING                       GAIN (dB)
                                          0x0                          +24                             0x8                         +8
                                          0x1                          +22                             0x9                         +6
                                          0x2                          +20                             0xA                         +4
                LIGL/LIGR
                                          0x3                          +18                             0xB                         +2
                                          0x4                          +16                             0xC                         0
                                          0x5                          +14                             0xD                         -2
                                          0x6                          +12                             0xE                         -4
                                          0x7                          +10                             0xF                         -6
           Table 14. Playback Volume Registers
                                                                                                                                     REGISTER
                   REGISTER                B7         B6          B5         B4            B3          B2           B1      B0       ADDRESS
                                                                                                                                    (SEE NOTE)
           Left Volume Control              0       VOLLM                                       VOLL                                    0x1C
           Right Volume Control             0       VOLRM                                       VOLR                                    0x1D
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                  BITS                                                              FUNCTION
                               Left/Right Playback Mute. VOLLM and VOLRM mute both the DAC and line input audio signals.
                               0 = Audio playback is unmuted.
                 VOLLM/
                               1 = Audio playback is muted.
                 VOLRM
                               Note: VSEN has no effect on the mute function. When VOLLM or VOLRM is set, the output is muted
                               immediately (ZDEN = 1) or at the next zero-crossing (ZDEN = 0).
           44    ______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
Table 14. Playback Volume Registers (continued)
                                                                                                                                         MAX9880A
      BITS                                                             FUNCTION
                    Left/Right Playback Volume. VOLL and VOLR control the playback volume for both the DAC and line input
                    audio signals.
                       SETTING           GAIN (dB)         SETTING           GAIN (dB)           SETTING            GAIN (dB)
                         0x00                +9             0x0E                 -2                0x1C                 -39
                         0x01              +8.5             0x0F                 -3                0x1D                 -43
                         0x02                +8             0x10                 -5                0x1E                 -47
                         0x03              +7.5             0x11                 -7                0x1F                 -51
                         0x04                +7             0x12                 -9                0x20                 -55
                         0x05              +6.5             0x13                -11                0x21                 -59
   VOLL/VOLR             0x06                +6             0x14                -13                0x22                 -63
                         0x07                +5             0x15                -15                0x23                 -67
                         0x08                +4             0x16                -17                0x24                 -71
                         0x09                +3             0x17                -19                0x25                 -75
                         0x0A                +2             0x18                -23                0x26                 -79
                         0x0B                +1             0x19                -27                0x27                 -81
                         0x0C                 0             0x1A                -31
                                                                                               0x28 to 0x3F           MUTE
                         0x0D                -1             0x1B                -35
                    Note: Gain settings apply when the headphone amplifier is configured in differential mode. In the single-
                    ended and capacitorless modes, the actual gain is 5dB lower. Assuming LOGL/LOGR = 0dB, line output
                    gain is 6dB lower.
Table 15. Output Line-Level Registers
                                                                                                                         REGISTER
        REGISTER                B7         B6          B5         B4          B3         B2          B1         B0       ADDRESS
                                                                                                                        (SEE NOTE)
Left-Line Output Level           0        LOLM          0          0                          LOGL                          0x1E
Right-Line Output Level          0        LORM          0          0                          LOGR                          0x1F
Grayed boxes = Not used.
Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
accessible through SPI.
      BITS                                                             FUNCTION
                    Left/Right Line Output Mute. LOLM and LORM mute both the DAC and line input audio signals.
                    0 = Line output is unmuted.
  LOLM/LORM         1 = Line output is muted.
                    Note: VSEN has no effect on the mute function. When LOLM or LORM is set the output is muted immediately
                    (ZDEN = 1) or at the next zero-crossing (ZDEN = 0).
                    Left/Right Line Output Gain. LOGL and LOGR set the line output gain according to the following information.
                            SETTING                      GAIN (dB)                    SETTING                     GAIN (dB)
                             0x00                           0                          0x08                         -16
                             0x01                           -2                         0x09                         -18
   LOGL/LOGR                 0x02                           -4                         0x0A                         -20
                             0x03                           -6                         0x0B                         -22
                             0x04                           -8                         0x0C                         -24
                             0x05                          -10                         0x0D                         -26
                             0x06                          -12                         0x0E                         -28
                             0x07                          -14                         0x0F                         -30
                    ______________________________________________________________________________________                          45


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                Microphone Inputs                    microphone signals are amplified by two stages of gain
MAX9880A
           Two differential microphone inputs and a low noise 1.5V                   and then routed to the ADCs. The first stage offers
           microphone bias for powering the microphones are                          selectable 0dB, 20dB, or 30dB settings. The second
           provided by the MAX9880A. In typical applications, the                    stage is a programmable gain amplifier (PGA)
           left microphone records a voice signal and the right                      adjustable from 0dB to 20dB in 1dB steps. Zero-cross-
           microphone records a background noise signal. In                          ing detection is included on the PGA to minimize zipper
           applications that require only one microphone, use the                    noise while making gain changes. See Figure 6 for a
           left microphone input and disable the right ADC. The                      detailed diagram of the microphone input structure.
                                                                            MAX9880A
                                                      MICBIAS   1.5V
                                                                                         0/20/30dB
                                                                                                     VREG
                                                        MICLP
                                                                                          PREAMP                              ADC
                                                       MICLN                                                      PGA
                                                                                                                               L
                                                                                                              0dB TO +20dB
                                                                                                 -
                                                                                         0/20/30dB
                                                                                                     VREG
                                                       MICRP
                                                                                                                              ADC
                                                       MICRN                              PREAMP                  PGA
                                                                                                                               R
                                                                                                              0dB TO +20dB
           Figure 6. Microphone Input Block Diagram
           Table 16. Microphone Input Registers
                                                                                                                                     REGISTER
                   REGISTER                B7         B6               B5       B4            B3             B2          B1   B0     ADDRESS
                                                                                                                                    (SEE NOTE)
            Left Microphone Gain            0              PALEN                                            PGAML                      0x20
            Right Microphone Gain           0              PAREN                                            PGAMR                      0x21
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                 BITS                                                                  FUNCTION
                               Left/Right Microphone Preamplifier Gain. Enables the microphone circuitry and sets the preamplifier gain.
                               00 = Disabled
                PALEN/
                               01 = 0dB
                PAREN
                               10 = +20dB
                               11 = +30dB
           46   ______________________________________________________________________________________


                                           Low-Power, High-Performance
                                            Dual I2S Stereo Audio Codec
Table 16. Microphone Input Registers (continued)
                                                                                                                          MAX9880A
      BITS                                                    FUNCTION
                  Left/Right Microphone Programmable Gain Amplifier
                         SETTING                  GAIN (dB)                SETTING                   GAIN (dB)
                           0x00                      +20                     0x0B                       +9
                           0x01                      +19                     0x0C                       +8
                           0x02                      +18                     0x0D                       +7
                           0x03                      +17                     0x0E                       +6
    PGAML/
                           0x04                      +16                     0x0F                       +5
    PGAMR
                           0x05                      +15                     0x10                       +4
                           0x06                      +14                     0x11                       +3
                           0x07                      +13                     0x12                       +2
                           0x08                      +12                     0x13                       +1
                           0x09                      +11                  0x14 to 0x1F                   0
                           0x0A                      +10
                                                   ADC                                            Setup Procedure
The MAX9880A includes two 18-bit ADCs. The first              1) Ensure a valid MCLK signal is provided and config-
ADC is used to record left-channel microphone and                ure PSCLK appropriately.
line-input audio signals. The second ADC can be used          2) Choose a clocking mode. The following options are
to record right-channel microphone and line-input sig-           possible:
nals or it can be configured to accurately measure DC
voltages.                                                        a. Slave mode with LRCLK and BCLK signals
                                                                    provided. The measurement sample rate is
When measuring DC voltages both the left and right ADC              determined by the external clocks.
must be enabled by setting ADLEN and ADREN in regis-
ter 0x26. The input to the second ADC is JACKSNS/                b. Slave mode with no LRCLK and BCLK signals
AUX and the output is reported in AUX (registers 0x02               provided. Configure the device for normal clock
and 0x03). Since the audio ADC is used to perform the               mode using the NI ratio. Select fS = 48kHz to
measurement, the digital audio interface must be prop-              allow for the fastest settling times.
erly configured. If the left ADC is being used to convert        c. Master mode with audio. Configure the device
audio, then the DC measurement is performed at the                  in normal mode using the NI ratio or exact inte-
same sample rate. When not using the left ADC, config-              ger mode using FREQ1 as required by the audio
ure the digital interface for a 48kHz sample rate to                signal.
ensure the fastest possible settling time.                       d. Master mode without audio. Configure the
To ensure accurate results, the MAX9880A includes                   device in normal mode using the NI ratio. Select
two calibration routines. Calibrate the ADC each time               fS = 48kHz to allow for the fastest settling times.
the MAX9880A is powered on. Calibration settings are          3) Ensure jack sense is disabled.
not lost if the MAX9880A is placed in shutdown. When
making a measurement, set AUXCAP to 1 to prevent              4) Enable the left and right ADC; take the MAX9880A
AUX from changing while reading the registers.                   out of shutdown.
                  ______________________________________________________________________________________            47


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                     Offset Calibration Procedure                       Complete DC Measurement Example
MAX9880A
           Perform before the first DC measurement is taken after      fMCLK = 13MHz, slave mode, BCLK, and LRCLK are
           applying power to the MAX9880A.                             not externally supplied.
           1) Enable the AUX input (AUXEN = 1).                        1) Configure the digital audio interface for fs = 48kHz
           2) Enable the offset calibration (AUXCAL = 1).                 (PSCLK = 01, FREQ1 = 0x0, PLL = 0, NI = 0x5ABE,
                                                                          MAS = 0).
           3) Wait the appropriate time (see Table 17).
                                                                       2) Disable jack sense (JDETEN = 0).
           4) Complete calibration (AUXCAL = 0).
                                                                       3) Enable the left and right ADC; take the MAX9880A
                                       Gain Calibration Procedure         out of shutdown (ADLEN = ADREN = SHDN = 1).
           Perform the first time a DC measurement is taken after      4) Calibrate the offset:
           applying power to the MAX9880A or if the temperature
           changes significantly.                                         a. Enable the AUX input (AUXEN = 1).
           1) Enable the AUX input (AUXEN = 1).                           b. Enable the offset calibration (AUXCAL = 1).
           2) Start gain calibration (AUXGAIN = 1).                       c. Wait 40ms.
           3) Wait the appropriate time (see Table 17).                   d. Complete calibration (AUXCAL = 0).
           4) Freeze the measurement results (AUXCAP = 1).             5) Calibrate the gain:
           5) Read AUX and store the value in memory to correct           a. Start gain calibration (AUXGAIN = 1).
               all future measurements (k = AUX[15:0], k is typical-      b. Wait 40ms.
               ly 19,500).                                                c. Freeze the measurement results (AUXCAP = 1).
           6) Complete calibration (AUXGAIN = AUXCAP = 0).                d. Read AUX and store the value in memory to cor-
                                     DC Measurement Procedure                rect all future measurements (k = AUX[15:0]).
           Perform after offset and gain calibration are complete.        e. Complete calibration (AUXGAIN = AUXCAP =
           1) Enable the AUX input (AUXEN = 1).                              AUXEN = 0).
           2) Wait the appropriate time (see Table 17).                6) Measure the voltage on JACKSNS/AUX.
           3) Freeze the measurement results (AUXCAP = 1).                a. Enable the AUX input (AUXEN = 1).
           4) Read AUX and correct with the gain calibration value        b. Wait 40ms.
                                                                          c. Freeze the measurement results (AUXCAP = 1).
                ⎛                  ⎛ A UX[15: 0 ] ⎞ ⎞
                ⎜⎝ V AUX = 0. 738 ⎜⎝     k        ⎟⎠ ⎟ .
                                                     ⎠
                                                                          d. Read AUX and correct with the gain calibration
                                                                             value.
           5) Complete measurement (AUXCAP = 0).                          e. Complete measurement (AUXCAP = 0).
                                                                       7) DC measurement is complete.
           Table 17. AUX ADC Wait Times
                                       LRCLK (kHz)                                        WAIT TIME (ms)
                                             48                                                   40
                                            44.1                                                  44
                                             32                                                   60
                                             24                                                   80
                                           22.05                                                  90
                                             16                                                   120
                                             12                                                   160
                                          11.025                                                  175
                                              8                                                   240
           48   ______________________________________________________________________________________


                                                  Low-Power, High-Performance
                                                   Dual I2S Stereo Audio Codec
Table 18. ADC Input Register
                                                                                                                                          MAX9880A
                                                                                                                           REGISTER
         REGISTER               B7           B6        B5           B4         B3         B2          B1          B0       ADDRESS
                                                                                                                          (SEE NOTE)
Input                                MXINL                  MXINR          AUXCAP      AUXGAIN     AUXCAL       AUXEN         0x22
Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
accessible through SPI.
        BITS                                                             FUNCTION
                    Left/Right ADC Audio Input Mixer
                    00 = No input selected
                    01 = Left/right analog microphone
                    10 = Left/right line input
  MXINL/MXINR
                    11 = Left/right analog microphone + line input
                    Note: If the right line input is disabled, then the left line input is connected to both mixers. Enabling the left
                    and right digital microphones disables the left and right audio mixer, respectively. See the DIGMICL/
                    DIGMICR bit description for more details.
                    Auxiliary Input Capture
    AUXCAP          0 = Update AUX with the voltage at JACKSNS/AUX.
                    1 = Hold AUX for reading.
                    Auxiliary Input Gain Calibration
                    0 = Normal operation
                    1 = The input buffer is disconnected from JACKSNS/AUX and connected to an internal voltage reference.
    AUXGAIN
                        While in this mode, read the AUX register and store the value. Use the stored value as a gain
                        calibration factor, k, on subsequent readings. AUXCAL must remain set for time indicated in Table 17 to
                        guarantee an accurate offset calibration.
                    Auxiliary Input Offset Calibration
                    0 = Normal operation
    AUXCAL          1 = JACKSNS/AUX is disconnected from the input and the ADC automatically calibrates out any internal
                        offsets. AUXCAL must remain set for time indicated in Table 17 to guarantee an accurate offset
                        calibration.
                    Auxiliary Input Enable
                    0 = Use JACKSNS/AUX for jack detection.
        AUXEN
                    1 = Use JACKSNS/AUX for DC measurements.
                    Note: Set MXINR = 00, ADLEN = 1, and ADREN = 1 when AUXEN = 1.
                    ______________________________________________________________________________________                           49


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                      Digital Microphone Input                                       microphone input. The right analog microphone input is
MAX9880A
           The MAX9880A can accept audio from up to two digi-                                        still available to allow a combination of analog and digi-
           tal microphones. When using digital microphones, the                                      tal microphones to be used. Figure 7 shows the digital
           left analog microphone input is retasked as a digital                                     microphone interface timing diagram.
                                                                        1/fMICCLK
                   DIGMICCLK
                                                 tHD, MIC        tSU, MIC            tHD, MIC          tSU, MIC
                  DIGMICDATA            LEFT                                RIGHT                                 LEFT                   RIGHT
           Figure 7. Digital Microphone Timing Diagram
           Table 19. Digital Microphone Input Register
                                                                                                                                                           REGISTER
                   REGISTER                B7               B6              B5                  B4                B3         B2         B1         B0      ADDRESS
                                                                                                                                                          (SEE NOTE)
           Microphone                          MICCLK                DIGMICL             DIGMICR                  0           0         0        MBIAS        0x23
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                 BITS                                                                                 FUNCTION
                               Digital Microphone Clock
                               00 = PCLK/8
                MICCLK         01 = PCLK/6
                               10 = 64f S (high jitter clock)
                               11 = Reserved
                               Digital Left/Right Microphone Enable
                                      DIGMICL                               DIGMICR                                LEFT ADC INPUT                RIGHT ADC INPUT
                                           0                                     0                                    ADC input mixer             ADC input mixer
                DIGMICL/                                                                                     Line input (left analog
                                           0                                     1                                                           Right digital microphone
                DIGMICR                                                                                     microphone unavailable)
                                           1                                     0                           Left digital microphone             ADC input mixer
                                           1                                     1                           Left digital microphone         Right digital microphone
                               Note: The left analog microphone input is never available when DIGMICL or DIGMICR = 1.
                               Microphone Bias Output Voltage
                 MBIAS         Set MBIAS = 0 for nominal output of 1.52V (VMICVDD = 1.8V)
                               Set MBIAS = 1 for nominal output of 2.2V (VMICVDD = 3V)
           50   ______________________________________________________________________________________


                                                 Low-Power, High-Performance
                                                  Dual I2S Stereo Audio Codec
                                 Mode Configuration              and providing information to assist the system controller
                                                                                                                              MAX9880A
The MAX9880A includes circuitry to minimize click-and-           in determining the configuration of an inserted plug. If
pop during volume changes, detect headsets, and con-             programmed to do so, upon insertion or removal of a
figure the headphone amplifier mode. Both volume                 plug, the IRQ output is asserted (pulled low).
slewing and zero-crossing detection are included to              Table 20 shows the registers associated with the jack
ensure click-and-pop free volume transitions.                    detect function in MAX9880A.
                         Headset Detection Overview
The MAX9880A contains headset detect circuitry that is
capable of detecting the insertion or removal of a plug
Table 20. Jack-Detect Registers
                                                                                            REGISTER
   REGISTER          B7         B6         B5         B4    B3   B2        B1          B0              POR STATE    R/W
                                                                                            ADDRESS
Status               CLD        SLD       ULK         —     *     *        JDET        —      0x00         —         R
Jack Status             JKSNS[1:0]         —          —     —     —         —          —      0x01         —         R
Interrupt Enable    ICLD       ISLD       IULK        0     0*    0*      IJDET        0      0x04        0x00      R/W
Jack Detect        JDETEN        0       JDWK         0     0     0             JDEB          0x25        0x00      R/W
Grayed boxes = Not used.
               Jack Configuration Change Flag (JDET)                                          Jack-Detect Enable (JDETEN)
1 = Jack configuration has changed.                              Enables the jack-detect circuitry.
0 = No change in jack configuration.                                                 Jack-Sense Weak Pullup (JDWK)
JDET reports changes in JKSNS[1:0]. Changes to                   Enables a weak internal pullup current for reduced
JKSNS[1:0] are debounced before setting JDET. The                power loss when the chip is in shutdown or the
debounce period is programmable using the JDEB bits.             MICBIAS is disabled.
Jack status register 0x01 is a read-only register that reports   JDWK = 0 enables a 2.2kΩ pullup to obtain full jack-
the status of the jack-detect circuitry when enabled.            detect operation. This mode can be used to detect
                                       Jack Sense (JKSNS)        insertion and removal of a plug as well as distinguish
JKSNS[1:0] reports the status of the JACKSNS pin                 between headphone and headset accessories.
when JDETEN = 1. JKSNS[1:0] should be interpreted                JDWK = 1 enables a 4µA pullup current source when
according to Table 21.                                           SHDN = 0 or MICBIAS disabled. In this power-saving
                      Jack-Detect Interrupt Enable (IJDET)       configuration, the circuit can detect insertion and
                                                                 removal of a plug but cannot distinguish between head-
Hardware interrupts are reported on the open-drain IRQ           phone and headset accessories.
pin. When an interrupt occurs, IRQ remains low until the
interrupt is serviced by reading the status register 0x00.       The recommended usage follows: Set JDWK = 0 (or set
If a flag is set, it is reported as a hardware interrupt only    any bit in the microphone preamplifier gain registers
if the corresponding interrupt enable is set. Each bit           PALEN[1:0] or PAREN[1:0]). This enables the 2.2kΩ
enables interrupts for the status flag in the respective         pullup. Once the jack has been inserted and the type of
bit location in register 0x00. So IJDET must be set to           accessory determined, set JDWK = 1 to save power.
enable interrupts for jack detect.                               Once the plug is removed, set JDWK = 0.
Table 21. Jack Sense (JKSNS)
               JKSNS[1:0]                                                       DESCRIPTION
                   00                      JACKSNS is below VTH2 (low).
                   01                      JACKSNS is between VTH1 and VTH2 (mid).
                   10                      Invalid.
                   11                      JACKSNS is above VTH1 (high).
                    ______________________________________________________________________________________               51


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                                                                                   LOUTP
                                                                                                          MICBIAS
                                                        MIC    GND   HPR   HPL
                                                                                                          JACKSNS/AUX
                                                                                   ROUTP
                                                                                                          MICLP
           Figure 8. Typical Configuration for Headset Detection
           Table 22. Debounce Time                                           (> 95% x MICBIAS), mid, or low (< 10% x MICBIAS).
                                                                             When connected to the microphone pin of the headset
                 JDEB                      DEBOUNCE (ms)                     jack, this window comparator allows detection of:
                   00                              25                        • No headset (high)
                   01                              50                        • Cellular headset with microphone (high → mid)
                   10                             100
                                                                             • Stereo headset without microphone (high → low)
                   11                             200
                                                                             • Cellular headset button press (mid → low → mid)
                                                                             • Headset removal (low or mid → high)
                                                 Debounce (JDEB)
                                                                             Jack removal: A jack is present. All output poles
           Configures the JDET debounce time for changes to                  (headphones/line outs) are assumed driven by a low
           JKSNS[1:0] according to Table 22.                                 impedance amplifier. All input poles (microphones) are
           For jack plug insertion/removal, the sequence of events           assumed to be biased with a voltage above ground but
           is as follows:                                                    below 95% of the MICBIAS voltage. For the MAX9880A
                                                                             to sense when a jack is removed, the JACKSNS pin
           Jack insertion: No jack is present. The MAX9880A has
                                                                             must be connected to the jack in such a way as to
           a power supply and is in low-power sleep mode
                                                                             ensure either the JACKSNS pin gets pulled above 95%
           (LOUTP/ROUTP are high impedance). When the
                                                                             of MICBIAS (as would happen if JACKSNS is hooked to
           JDETEN I 2 C bit is set, the JACKSNS pin has weak
                                                                             a microphone pole) or it changes state from low to high
           pullups to MICVDD. When a jack is subsequently insert-
                                                                             or vice versa (as would happen if JACKSNS is hooked
           ed, JACKSNS should change state (indicated by I2C
                                                                             to a ground pole which goes high impedance when the
           bits JKSNS[1:0]), and this causes the IRQ pin to be
                                                                             jack is removed, or is hooked to a regular jack insertion
           pulled low, which can trigger a system wakeup.
                                                                             tab that shorts to ground when the jack is removed).
           Jack present: After an interrupt has been sent to the             Subsequently, IRQ is pulled low.
           system controller, the I2C must indicate unambiguously
                                                                             Jack absent: After an interrupt has been sent to the
           that a jack is present when the I2C registers are read.
                                                                             system controller, the I2C must indicate unambiguously
           This is done with the JDET I2C bit, which goes high
                                                                             that a jack is not present when the I2C registers are
           when there is a change of state of the JKSNS[1:0] bits.
                                                                             read. This is indicated by reading the status of the
           The MAX9880A jack-detect system monitors the
                                                                             JKSNS[1:0] I2C read bits.
           JACKSNS pin and reports the voltage level as high
           52   ______________________________________________________________________________________


                                            Low-Power, High-Performance
                                             Dual I2S Stereo Audio Codec
                                                                                                                  MAX9880A
Table 23. Headset Detect Configuration
                                               JACK ACTION                  JKSNS           IRQ TOGGLES?
   SHDN       MICBIAS       JDWK
                                           FROM                 TO   FROM           TO   IJDET = 1   IJDET = 0
     0            —            0            None           Headset    11            01     Yes          No
     0            —            0            None         Headphone    11            00     Yes          No
     0            —            0          Headset           None      01            11     Yes          No
     0            —            0         Headphone          None      00            11     Yes          No
     0            —            1            None           Headset    11            00     Yes          No
     0            —            1            None         Headphone    11            00     Yes          No
     0            —            1          Headset           None      00            11     Yes          No
     0            —            1         Headphone          None      00            11     Yes          No
     1            0            0            None           Headset    11            01     Yes          No
     1            0            0            None         Headphone    11            00     Yes          No
     1            0            0          Headset           None      01            11     Yes          No
     1            0            0         Headphone          None      00            11     Yes          No
     1            0            1            None           Headset    11            00     Yes          No
     1            0            1            None         Headphone    11            00     Yes          No
     1            0            1          Headset           None      00            11     Yes          No
     1            0            1         Headphone          None      00            11     Yes          No
     1            1           —             None           Headset    11            01     Yes          No
     1            1           —             None         Headphone    11            00     Yes          No
     1            1           —           Headset           None      01            11     Yes          No
     1            1           —          Headphone          None      00            11     Yes          No
Note: JDETEN = 1; MICBIAS enable; any bit of PALEN/PAREN set.
                   ______________________________________________________________________________________    53


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                               Headphone Modes                          ended mode optionally includes click-and-pop reduc-
MAX9880A
           The MAX9880A’s headphone amplifier supports differen-                        tion to eliminate the click-and-pop that would normally
           tial, single-ended, and capacitorless output modes, as                       be caused by the output coupling capacitor. When
           shown in Figure 9. In each mode, the amplifier can be                        click-and-pop reduction is not required leave LOUTN
           configured for stereo or mono operation. The single-                         and ROUTN unconnected.
                                    DIFFERENTIAL                        CAPACITORLESS                     SINGLE-ENDED
                                                                                                                    220µF
                                 LOUTP                                LOUTP                             LOUTP
                                 LOUTN                                LOUTN                             LOUTN
                                                                                                                    1µF
                                                                                                                    220µF
                                 ROUTP                                ROUTP                             ROUTP
                                 ROUTN                               ROUTN                              ROUTN
                                                                                                                    1µF
                                     OPTIONAL COMPONENTS REQUIRED FOR CLICK-AND-POP SUPPRESSION ONLY.
           Figure 9. Headphone Amplifier Modes
           Table 24. Mode Configuration Register
                                                                                                                                       REGISTER
                   REGISTER                 B7          B6           B5           B4           B3       B2          B1           B0    ADDRESS
                                                                                                                                      (SEE NOTE)
           Mode                          DSLEW         VSEN         ZDEN           0            0               HPMODE                  0x24
           Jack Detect                   JDETEN          0         JDWK            0            0        0                JDEB          0x25
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                  BITS                                                                   FUNCTION
                               Digital Volume Slew Speed
                DSLEW          0 = Digital volume changes are slewed over 10ms.
                               1 = Digital volume changes are slewed over 80ms.
                               Volume Change Smoothing
                  VSEN         0 = Volume changes slew through all intermediate values.
                               1 = Volume changes occur in one step.
                               Line Input Zero-Crossing Detection
                               0 = Line input volume changes occur at zero crossings in the audio waveform or after 62ms if no zero
                  ZDEN
                                   crossing occurs.
                               1 = Line input volume changes occur immediately.
           54   ______________________________________________________________________________________


                                              Low-Power, High-Performance
                                               Dual I2S Stereo Audio Codec
Table 24. Mode Configuration Register (continued)
                                                                                                                                 MAX9880A
     BITS                                                         FUNCTION
                Headphone Amplifier Mode
                                      HPMODE                                                           MODE
                                         000                                Stereo differential
                                         001                                Mono (left) differential
                                         010                                Stereo capacitorless
   HPMODE                                011                                Mono (left) capacitorless
                                         100                                Stereo single-ended (clickless)
                                         101                                Mono (left) single-ended (clickless)
                                         110                                Stereo single-ended (fast turn-on)
                                         111                                Mono (left) single-ended (fast turn-on)
                Note: In mono operation, the right amplifier is disabled.
                Jack-Detection Enable
                SHDN = 0: Sleep Mode. Enables pullups on JACKSNS/AUX to detect jack insertion.
    JDETEN
                SHDN = 1: Normal Mode. Enables the comparator circuitry on JACKSNS/AUX to detect voltage changes.
                Note: AUXEN must be set to 0 for jack detection to function.
                Jack-Sense Weak Pullup. Enables an internal pullup. Set JDWK = 1 to enable an internal 4µA current
     JDWK
                source. Set JDWK = 0 for external pullup.
                Jack Detect Debounce. Configures the JDET debounce time for changes to JKSNS[1:0] according to
                information below.
                                        JDEB                                                DEBOUNCE TIME (ms)
     JDEB                                00                                                             25
                                         01                                                             50
                                         10                                                            100
                                         11                                                            200
                             Power Management                                                                    Revision Code
The MAX9880A includes complete power management                 The MAX9880A includes a revision code to allow easy
control to minimize power usage. The DAC and both               identification of the device revision. Revision code at
ADCs can be independently enabled so that only the              register address 0xFF is not accessible through the SPI
required circuitry is active.                                   interface and so the revision code is accessible
                                                                through SPI at an additional address of 0x214. The cur-
                                                                rent revision code is 0x42.
                ______________________________________________________________________________________                      55


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           Table 25. Power Management Register
MAX9880A
                                                                                                                                    REGISTER
                    REGISTER               B7         B6          B5         B4          B3         B2         B1          B0       ADDRESS
                                                                                                                                   (SEE NOTE)
           Enable                        LNLEN      LNREN      LOLEN       LOREN       DALEN     DAREN       ADLEN      ADREN          0x26
           System Shutdown               SHDN          0          0           0          XTEN     XTOSC         0           0          0x27
           Grayed boxes = Not used.
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
                 BITS                                                             FUNCTION
                              Left-Line Input Enable. Enables the left-line input preamp and automatically enables the left and right
                              headphone amplifiers. If LNREN = 0, the left-line input signal is also routed to the right ADC input mixer and
                LNLEN
                              right headphone amplifier.
                              Note: Control of the right headphone amplifier can be overridden by HPMODE.
                              Right-Line Input Enable. Enables the right-line input preamp and automatically enables the right headphone
                LNREN         amplifiers.
                              Note: Control of the right headphone amplifier can be overridden by HPMODE.
                LOLEN         Left-Line Output Enable. Enables the left-line output.
                LOREN         Right-Line Output Enable. Enables the right-line output.
                              Left DAC Enable. Enables the left DAC and automatically enables the left and right headphone amplifiers. If
                DALEN         DAREN = 0, the left DAC signal is also routed to the right headphone amplifier.
                              Note: Control of the right headphone amplifier can be overridden by HPMODE.
                DAREN         Right DAC Enable. Enables the right DAC. Right DAC operation requires DALEN = 1.
                ADLEN         Left ADC Enable.
                              Right ADC Enable. Enabling the right ADC must be done in the same I2C write operation that enables the left
                ADREN         ADC. The right ADC can be enabled while the left ADC is running if used for DC measurements. SHDN must
                              be toggled to disable the right ADC in this case. Right ADC operation requires ADLEN = 1.
                SHDN          Shutdown. Places the device in low power shutdown mode.
                              Crystal Clock Enable
                 XTEN         1 = Output of crystal oscillator and buffer routed to the clock prescaler. MCLK input disabled.
                              0 = MCLK input routed to the clock prescaler. Crystal oscillator and buffer disabled.
                              Crystal Clock Source
                XTOSC         1 = Disables the internal crystal oscillator. Provide an external clock on X1.
                              0 = Enables the internal crystal oscillator. Attach a crystal between X1 and X2. XTOSC is ignored if XTEN = 0.
           Table 26. Revision Code Register
                                                                                                                                    REGISTER
                    REGISTER               B7         B6          B5         B4           B3        B2         B1          B0       ADDRESS
                                                                                                                                   (SEE NOTE)
           Revision ID                                                             REV                                                 0x14
           Revision ID                                                             REV                                                 0xFF
           Note: Register addresses listed are for I2C. To get the SPI address, add 0x200 with the following exception: Register 0xFF is not
           accessible through SPI.
           56   ______________________________________________________________________________________


                                                   Low-Power, High-Performance
                                                    Dual I2S Stereo Audio Codec
                                                                                                                                    MAX9880A
           tCSS              tCP                                                                       tCSH
     CS
                                                                                                                        tCSW
                                   tCL
   SCLK
                    tCH
    DIN
                                   tDH       tDS                                      tDO                         tDZ
                                                       tDEN
   DOUT
Figure 10. SPI Interface Timing Diagram
      CS
    SCLK
     DIN              R/W            ADDR9          ADDR0     UNUSED4            UNUSED0      D7                          D0
                                                                                                    1 DATA BYTE
                    HIGH-Z
    DOUT
Figure 11. Writing 1 Byte of Data to the MAX9880A
                  Serial Peripheral Interface (SPI)                       Serial-Data In (DIN) and Serial-Data Out (DOUT)
                                       Chip Select (CS)             The SPI frame is organized into 24 bits. The first 16 bits
The MAX9880A SPI interface is active only when CS is                consist of the R/W enable bit, followed by the 10 regis-
low. When CS is high, the MAX9880A configures the                   ter address bits and 5 unused bits. The next 8 bits are
DOUT output for high impedance and resets the inter-                data bits, sent most significant bit first.
nal SPI logic. If CS goes high in the middle of an SPI              For an SPI write transfer, write a 1 to the R/W bit, fol-
transfer, all the data is discarded. When CS is low,                lowed by the 10 register address bits, 5 unused bits,
unless the register address is correctly decoded by the             then the 8 data bits.
MAX9880A, the DOUT output is high impedance.                        Figure 11 illustrates the proper frame format for writing
                                                                    one byte of data to the MAX9880A. Additional 24-bit
                                  Serial Clock (SCLK)
                                                                    frames can be sent while CS remains low. The DOUT
The SPI master provides the SCLK signal to clock the
                                                                    output is high impedance during a write operation.
SPI interface. SCLK has an upper frequency limit of
25MHz. The MAX9880A samples the DIN input data on                   For an SPI read transfer, write a zero to the R/W bit, fol-
the falling edge of SCLK and changes the output data                lowed by the 10 register address bits and 5 unused
on the rising edge of SCLK. The MAX9880A ignores                    bits. Any data sent after the register address bits are
SCLK transitions when CS is high.                                   ignored. The internal contents of the register being read
                    ______________________________________________________________________________________                     57


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                      CS
                 SCLK
                      DIN               R/W            ADDR9              ADDR0   UNUSED4             UNUSED0
                                      HIGH-Z
                 DOUT                                                                                                     D7                                 D0
                                                                                                                                  1 DATA BYTE
           Figure 12. Reading 1 Byte of Data from the MAX9880A
                CS
             SCLK
                DIN            R/W             ADDR9           ADDR0   UNUSED4         UNUSED0
                             HIGH-Z
             DOUT                                                                                D7                     D0          D7                            D0
                                                                                                      1 DATA BYTE                              1 DATA BYTE
                                                                                                                    AUTOINCREMENT INTERNAL
                                                                                                                    REGISTER ADDRESS POINTER
           Figure 13. Reading n Bytes of Data from the MAX9880A
           do not change until the transfer is complete. The DOUT                                                                  I2C Serial Interface
           output is high impedance when writing the register                           The MAX9880A features an I2C/SMBus™-compatible,
           address bits. If the correct register address is decod-                      2-wire serial interface consisting of a serial-data line
           ed, DOUT is driven low at the first rising clock edge                        (SDA) and a serial-clock line (SCL). SDA and SCL
           after the first unused bit.                                                  facilitate communication between the MAX9880A and
           Figure 12 illustrates the proper frame format for reading                    the master at clock rates up to 400kHz. Figure 14
           1 byte of data from the MAX9880A.                                            shows the 2-wire interface timing diagram. The master
                                                                                        generates SCL and initiates data transfer on the bus.
           When reading data from the MAX9880A, the address                             The master device writes data to the MAX9880A by
           pointer autoincrements by one register address if CS is                      transmitting the proper slave address followed by the
           held low after reading the first 8 data bits. For each                       register address and then the data word. Each transmit
           subsequent eight clock cycles, a byte of data is read.                       sequence is framed by a START (S) or repeated
           This autoincrement feature allows a master to read                           START (Sr) condition and a STOP (P) condition. Each
           sequential registers within one continuous SPI register                      word transmitted to the MAX9880A is 8 bits long and is
           address range from 0x200 to 0x227. The register                              followed by an acknowledge clock pulse. A master
           address does not autoincrement if a read is initiated at                     reading data from the MAX9880A transmits the proper
           a register address lower than 0x200. If the register                         slave address followed by a series of nine SCL pulses.
           address increments beyond 0x227, the DOUT output is                          The MAX9880A transmits data on SDA in sync with the
           high impedance. Figure 13 illustrates the proper format                      master-generated SCL pulses. The master acknowl-
           for reading multiple bytes of data.                                          edges receipt of each byte of data. Each read
           SMBus is a trademark of Intel Corp.
           58         ______________________________________________________________________________________


                                                              Low-Power, High-Performance
                                                               Dual I2S Stereo Audio Codec
                                                                                                                                                     MAX9880A
       SDA
                                                                    tSU,STA                                                  tBUF
                                           tSU,DAT                                     tHD,STA
                               tLOW                                                                  tSP
                                                          tHD,DAT                                          tSU,STO
       SCL                                  tHIGH
         tHD,STA
                                      tR             tF
             START CONDITION                                        REPEATED START CONDITION                           STOP           START
                                                                                                                     CONDITION      CONDITION
Figure 14. 2-Wire Interface Timing Diagram
                                                          S                   Sr                 P
                                      SCL
                                      SDA
Figure 15. START, STOP, and Repeated START Conditions
sequence is framed by a START or repeated START                                                         START and STOP Conditions
condition, a not acknowledge, and a STOP condition.                            SDA and SCL idle high when the bus is not in use. A
SDA operates as both an input and an open-drain out-                           master initiates communication by issuing a START
put. A pullup resistor, typically greater than 500Ω, is                        condition. A START condition is a high-to-low transition
required on SDA. SCL operates only as an input. A                              on SDA with SCL high. A STOP condition is a low-to-
pullup resistor, typically greater than 500Ω, is required                      high transition on SDA while SCL is high (Figure 15). A
on SCL if there are multiple masters on the bus, or if the                     START condition from the master signals the beginning
single master has an open-drain SCL output. Series                             of a transmission to the MAX9880A. The master termi-
resistors in line with SDA and SCL are optional. Series                        nates transmission and frees the bus by issuing a STOP
resistors protect the digital inputs of the MAX9880A                           condition. The bus remains active if a repeated START
from high voltage spikes on the bus lines and minimize                         condition is generated instead of a STOP condition.
crosstalk and undershoot of the bus signals.
                                                                                                              Early STOP Conditions
                                          Bit Transfer                         The MAX9880A recognizes a STOP condition at any
One data bit is transferred during each SCL cycle. The                         point during data transmission except if the STOP con-
data on SDA must remain stable during the high period                          dition occurs in the same high pulse as a START condi-
of the SCL pulse. Changes in SDA while SCL is high                             tion. For proper operation, do not send a STOP
are control signals (see the START and STOP                                    condition during the same SCL high pulse as the
Conditions section).                                                           START condition.
                      ______________________________________________________________________________________                                    59


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                                                                                              CLOCK PULSE FOR
                                                                                             ACKNOWLEDGMENT
                                                 START
                                               CONDITION
                                            SCL                1         2                              9
                                                                                   NOT ACKNOWLEDGE
                                            SDA
                                                                                         ACKNOWLEDGE
           Figure 16. Acknowledge
                                                                                                                  ACKNOWLEDGE FROM MAX9880A
                                                                                                            B7   B6   B5   B4    B3    B2   B1   B0
                             ACKNOWLEDGE FROM MAX9880A             ACKNOWLEDGE FROM MAX9880A
                S           SLAVE ADDRESS            0     A          REGISTER ADDRESS              A                      DATA BYTE                  A    P
                                               R/W                                                                          1 BYTE
                                                                                                                                        AUTOINCREMENT INTERNAL
                                                                                                                                       REGISTER ADDRESS POINTER
           Figure 17. Writing 1 Byte of Data
                                                    Slave Address                  The master pulls down SDA during the 9th clock cycle
           The slave address is defined as the seven most signifi-                 to acknowledge receipt of data when the MAX9880A is
           cant bits (MSBs) followed by the read/write bit. For the                in read mode. An acknowledge is sent by the master
           MAX9880A, the seven most significant bits are                           after each read byte to allow data transfer to continue.
           0010000. Setting the read/write bit to 1 (slave address                 A not acknowledge is sent when the master reads the
           = 0x21) configures the MAX9880A for read mode.                          final byte of data from the MAX9880A, followed by a
           Setting the read/write bit to 0 (slave address = 0x20)                  STOP condition.
           configures the MAX9880A for write mode. The address
           is the first byte of information sent to the MAX9880A                                                          Write Data Format
           after the START condition.                                              A write to the MAX9880A includes transmission of a
                                                                                   START condition, the slave address with the R/W bit set
                                                     Acknowledge                   to 0, 1 byte of data to configure the internal register
           The acknowledge bit (ACK) is a clocked 9th bit that the                 address pointer, 1 or more bytes of data, and a STOP
           MAX9880A uses to handshake receipt each byte of                         condition. Figure 17 illustrates the proper frame format
           data when in write mode (see Figure 16). The                            for writing 1 byte of data to the MAX9880A. Figure 18
           MAX9880A pulls down SDA during the entire master-                       illustrates the frame format for writing n bytes of data to
           generated 9th clock pulse if the previous byte is suc-                  the MAX9880A.
           cessfully received. Monitoring ACK allows for detection                 The slave address with the R/W bit set to 0 indicates
           of unsuccessful data transfers. An unsuccessful data                    that the master intends to write data to the MAX9880A.
           transfer occurs if a receiving device is busy or if a sys-              The MAX9880A acknowledges receipt of the address
           tem fault has occurred. In the event of an unsuccessful                 byte during the master-generated 9th SCL pulse.
           data transfer, the bus master retries communication.
           60       ______________________________________________________________________________________


                                                                     Low-Power, High-Performance
                                                                      Dual I2S Stereo Audio Codec
The second byte transmitted from the master config-                                                the rising edge of SCL. The address pointer autoincre-
                                                                                                                                                                                          MAX9880A
ures the MAX9880A’s internal register address pointer.                                             ments after each read data byte. This autoincrement
The pointer tells the MAX9880A where to write the next                                             feature allows all registers to be read sequentially within
byte of data. An acknowledge pulse is sent by the                                                  one continuous frame. A STOP condition can be issued
MAX9880A upon receipt of the address pointer data.                                                 after any number of read data bytes. If a STOP condi-
The third byte sent to the MAX9880A contains the data                                              tion is issued followed by another read operation, the
that is written to the chosen register. An acknowledge                                             first data byte to be read is from register 0x00.
pulse from the MAX9880A signals receipt of the data                                                The address pointer can be preset to a specific register
byte. The address pointer autoincrements to the next                                               before a read command is issued. The master presets
register address after each received data byte. This                                               the address pointer by first sending the MAX9880A’s
autoincrement feature allows a master to write to                                                  slave address with the R/W bit set to 0 followed by the
sequential registers within one continuous frame. The                                              register address. A repeated START condition is then
master signals the end of transmission by issuing a                                                sent followed by the slave address with the R/W bit set
STOP condition. Register addresses greater than 0x17                                               to 1. The MAX9880A then transmits the contents of the
are reserved. Do not write to these addresses.                                                     specified register. The address pointer autoincrements
                                                                                                   after transmitting the first byte.
                                     Read Data Format
Send the slave address with the R/W bit set to 1 to initi-                                         The master acknowledges receipt of each read byte
ate a read operation. The MAX9880A acknowledges                                                    during the acknowledge clock pulse. The master must
receipt of its slave address by pulling SDA low during                                             acknowledge all correctly received bytes except the
the 9th SCL clock pulse. A START command followed                                                  last byte. The final byte must be followed by a not
by a read command resets the address pointer to reg-                                               acknowledge from the master and then a STOP condi-
ister 0x00.                                                                                        tion. Figure 19 illustrates the frame format for reading 1
                                                                                                   byte from the MAX9880A. Figure 20 illustrates the frame
The first byte transmitted from the MAX9880A is the                                                format for reading multiple bytes from the MAX9880A.
contents of register 0x00. Transmitted data is valid on
                                                                                     ACKNOWLEDGE FROM MAX9880A                           ACKNOWLEDGE FROM MAX9880A
                                                                                             B7 B6 B5 B4 B3 B2 B1 B0                       B7 B6 B5 B4 B3 B2 B1 B0
    ACKNOWLEDGE FROM MAX9880A                    ACKNOWLEDGE FROM MAX9880A
     S          SLAVE ADDRESS            0       A           REGISTER ADDRESS        A               DATA BYTE 1            A                      DATA BYTE n           A       P
                                R/W                                                                    1 BYTE                                        1 BYTE
                                                                                                             AUTOINCREMENT INTERNAL
                                                                                                             REGISTER ADDRESS POINTER
Figure 18. Writing n Bytes of Data
                                                                                                                                    NOT ACKNOWLEDGE FROM MASTER
             ACKNOWLEDGE FROM MAX9880A                   ACKNOWLEDGE FROM MAX9880A            ACKNOWLEDGE FROM MAX9880A
         S         SLAVE ADDRESS             0       A        REGISTER ADDRESS           A    Sr      SLAVE ADDRESS             1    A            DATA BYTE          A       P
                                   R/W                                   REPEATED START                               R/W                           1 BYTE
                                                                                                                                                     AUTOINCREMENT INTERNAL
                                                                                                                                                    REGISTER ADDRESS POINTER
Figure 19. Reading 1 Byte of Data
                         ______________________________________________________________________________________                                                                      61


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
MAX9880A
                 ACKNOWLEDGE FROM MAX9880A          ACKNOWLEDGE FROM MAX9880A        ACKNOWLEDGE FROM MAX9880A            NOT ACKNOWLEDGE FROM MASTER
             S        SLAVE ADDRESS         0   A        REGISTER ADDRESS       A    Sr     SLAVE ADDRESS         1   A               DATA BYTE          A   P
                                      R/W                           REPEATED START                          R/W                         1 BYTE
                                                                                                                                          AUTOINCREMENT INTERNAL
                                                                                                                                          REGISTER ADDRESS POINTER
           Figure 20. Reading n Bytes of Data
                               Applications Information                                     Connect all digital I/O termination to the ground plane
                                                                                            with minimum path length to DGND. Bypass DVDD and
           Proper layout and grounding are essential for optimum
                                                                                            DVDDS1 directly to DGND.
           performance. When designing a PCB for the
           MAX9880A, partition the circuitry so that the analog                             Route microphone signals from the microphone to the
           sections of the MAX9880A are separated from the digi-                            MAX9880A as a differential pair, ensuring that the posi-
           tal sections. This ensures that the analog audio traces                          tive and negative signals follow the same path as
           are not routed near digital traces.                                              closely as possible with equal trace length. When using
                                                                                            single-ended microphones or other single-ended audio
           Use a large continuous ground plane on a dedicated
                                                                                            sources, ground the negative microphone input as
           layer of the PCB to minimize loop areas. Connect
                                                                                            close to the audio source as possible and then treat the
           AGND and DGND directly to the ground plane using
                                                                                            positive and negative traces as differential pairs.
           the shortest trace length possible. Proper grounding
           improves audio performance, minimizes crosstalk                                  The MAX9880A TQFN package features an exposed
           between channels, and prevents any digital noise from                            thermal pad on its underside. Connect the exposed
           coupling into the analog audio signals.                                          thermal pad to AGND.
           Ground the bypass capacitors on MICBIAS, REG,                                    An evaluation kit (EV kit) is available to provide an
           PREG, and REF directly to the ground plane with mini-                            example layout for the MAX9880A. The EV kit allows
           mum trace length. Also be sure to minimize the path                              quick setup of the MAX9880A and includes easy-to-use
           length to AGND. Bypass AVDD directly to AGND.                                    software allowing all internal registers to be controlled.
                                                                                                                                    Startup Sequences
           Table 27. Clock Initialization (Perform Before Any Playback or Record Setup)
                   SEQUENCE                                             DESCRIPTION                                                   REGISTERS
                         1                  SHDN = 0                                                                                      0x27
                         2                  Configure clocks                                                                0x05, 0x06, 0x07, 0x0B, 0x0C
                         3                  Configure digital audio interface                                             0x08, 0x09, 0x0A, 0x0D, 0x0E, 0x0F
           Table 28. Music Playback
                   SEQUENCE                                          DESCRIPTION                                                      REGISTERS
                       1                    Select DAC audio source                                                                      0x10
                       2                    Select music filters                                                                         0x11
                       3                    Set output volume                                                                         0x1C, 0x1D
                       4                    Set line output volume                                                                    0x1E, 0x1F
                       5                    Select headphone mode                                                                        0x24
                       6                    Enable line outputs and DAC as required                                                      0x26
                       7                    Enable LRCLK and BCLK (if operating in slave mode)                                           N/A
                       8                    Enable MAX9880A                                                                              0x27
                       9                    Enable external amplifier (if using)                                                         N/A
           62     ______________________________________________________________________________________


                                          Low-Power, High-Performance
                                           Dual I2S Stereo Audio Codec
Table 29. Line Input Playback
                                                                                                             MAX9880A
    SEQUENCE                                 DESCRIPTION                            REGISTERS
       1           Set line input gain                                               0x1A, 0x1B
       2           Set volume                                                        0x1C, 0x1D
       3           Set line output volume (if using)                                 0x1E, 0x1F
       4           Select headphone mode                                               0x24
       5           Enable line outputs and line inputs as required                     0x26
       6           Enable MAX9880A                                                     0x27
       7           Enable external amplifier (if using)                                 N/A
Table 30. Line Input Playback with Record
    SEQUENCE                                 DESCRIPTION                            REGISTERS
       1           Select music filters                                                0x11
       2           Set line input gain                                               0x1A, 0x1B
       3           Set volume                                                        0x1C, 0x1D
       4           Set line output volume (if using)                                 0x1E, 0x1F
       5           Configure ADC input mixer                                           0x22
       6           Select headphone mode                                               0x24
       7           Enable line outputs, line inputs, and ADC as required               0x26
       8           Enable LRCLK and BCLK (if operating in slave mode)                   N/A
       9           Enable MAX9880A                                                     0x27
       10          Enable external amplifier (if using)                                 N/A
Table 31. Voice Playback
    SEQUENCE                                 DESCRIPTION                            REGISTERS
       1           Select DAC audio source                                             0x10
       2           Select voice filters                                                0x11
       3           Set volume                                                        0x1C, 0x1D
       4           Set line output volume (if using)                                 0x1E, 0x1F
       5           Select headphone mode                                               0x24
       6           Enable line outputs and DAC as required                             0x26
       7           Enable LRCLK and BCLK (if operating in slave mode)                   N/A
       8           Enable MAX9880A                                                     0x27
       9           Enable external amplifier (if using)                                 N/A
               ______________________________________________________________________________________   63


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
           Table 32. Voice Microphone Record
MAX9880A
                SEQUENCE                                  DESCRIPTION                            REGISTERS
                     1          Select voice filters                                                 0x11
                     2          Set ADC level to 0dB                                              0x18, 0x19
                     3          Configure microphone gain                                         0x20, 0x21
                     4          Set line output volume (if using)                                 0x1E, 0x1F
                     5          Configure ADC input mixer                                            0x22
                     6          Configure MICBIAS voltage                                            0x23
                     7          Enable ADC                                                           0x26
                     8          Enable LRCLK and BCLK (if operating in slave mode)                   N/A
                     9          Enable MAX9880A                                                      0x27
           Table 33. Voice Playback with Record
                SEQUENCE                                  DESCRIPTION                            REGISTERS
                     1          Select voice filters                                                 0x11
                     2          Set ADC level to 0dB                                              0x18, 0x19
                     3          Configure microphone gain                                         0x20, 0x21
                     4          Set line output volume (if using)                                 0x1E, 0x1F
                     5          Configure ADC input mixer                                            0x22
                     6          Configure MICBIAS voltage                                            0x23
                     7          Enable ADCs and DACs as required                                     0x26
                     8          Enable LRCLK and BCLK (if operating in slave mode)                   N/A
                     9          Enable MAX9880A                                                      0x27
           64   ______________________________________________________________________________________


                                             Low-Power, High-Performance
                                              Dual I2S Stereo Audio Codec
    Example of Register Settings for Music                  mode, music source connected through S2 pins to
                                                                                                                      MAX9880A
      Playback and Voice Duplex Senarios                    DAI2 audio path, and output on headphone amplifiers
                                                            (output capacitorless mode).
                                   Music Playback
fMCLK = 12.288MHz (master clock supplied to codec),
fLRCLK = 48kHz, standard I2S format, codec in slave
Table 34. Music Playback
 SEQUENCE                            DESCRIPTION                  REGISTER ADDRESS            REGISTER VALUE
      1       SHDN = 0                                                    0x27                      04h
      2       Configure system clock                                      0x05                      10h
      3       Configure DAI2 clock                                        0x0B                      60h
      4       Configure DAI2 clock                                        0x0C                      00h
      5       Configure DAI2 audio path                                   0x0D                      11h
      6       Configure DAI2 audio path                                   0x0E                      50h
      7       Select DAC audio source                                     0x10                      21h
      8       Select music filters                                        0x11                      80h
      9       Set output volume (0dB)                                  0x1C, 0x1D                   09h
     10       Set line output volume (muted)                           0x1E, 0x1F                   40h
     11       Select headphone mode (output capacitorless mode)           0x24                      02h
     12       Enable line outputs and DAC as required                     0x26                      0Ch
     13       Enable MAX9880A                                             0x27                      84h
                                   Voice Duplex             mode, voice signals on S1 pins to DAI1 audio path and
f MCLK = 13MHz (master clock supplied to codec),            output on headphone amplifier left (differential mode).
f LRCLK = 8kHz, TDM/PCM format, codec in slave
Table 35. Voice Duplex
 SEQUENCE                            DESCRIPTION                  REGISTER ADDRESS           REGISTER VALUE
     1       SHDN = 0                                                     0x27                      04h
     2       Configure system clock                                       0x05                      10h
     3       Configure DAI1 clock                                         0x0B                      0Fh
     4       Configure DAI1 clock                                         0x0C                      1Fh
     5       Configure DAI1 audio path                                    0x0D                      04h
     6       Configure DAI2 audio path                                    0x0E                      30h
     7       Select DAC audio source                                      0x10                      21h
     8       Select voice GSM filters                                     0x11                      33h
     9       Set ADC level to 0dB                                      0x18, 0x19                   03h
     10      Configure microphone gain (20dB preamp gain)              0x20, 0x21                   54h
     11      Set headphone volume                                      0x1C, 0x1D                   09h
     12      Set line output volume (if using)                         0x1E, 0x1F                   40h
     13      Configure ADC input mixer                                    0x22                      50h
     14      Configure MICBIAS voltage (2.2V)                             0x23                      01h
     15      Select headphone mode                                        0x24                      01h
     16      Enable line outputs, ADC and DAC as required                 0x26                      0Bh
     17      Enable MAX9880A                                              0x27                      84h
                 ______________________________________________________________________________________         65


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  MAX9880A
66
                                                                                                                                            1.8V        1.8V
                                                                                                                                                                                                                                                                                                                                                                                                                                           1.8V                1.8V                                                  1.8V
                                                                                                                                                                          IRQ          MODE          SCL/SCLK
                                                                                                                                                                                                                       CS          SDA/DIN          DOUT                    MCLK                     BCLKS1          LRCLKS1          SDINS1          SDOUTS1          BCLKS2          LRCLKS2          SDINS2          SDOUTS2
                                                                                                                               1µF                              1µF                                                                                                                                                                                                                                                                                                                          1µF
                                                                                                                                                                                                                                                                                                                                                                                                                                                     1µF                  1µF                                                     1µF
                                                                                                                                           DVDDS1      MICVDD                                                                                                                                                                                                                                                                             DVDD                AVDD                    PREG                          PVDD
                                                                                                                                              36          16          8            7             2                 5           1                6                      41                       40              39               38              37               45              44               43              42                       46                 9                      12                              34
                                                                                                                                             (F2)        (B7)      (A4)         (A5)          (B3)              (B4)        (B2)             (B5)                    (D1)                     (E2)            (E1)             (D3)            (F1)             (C3)            (C2)             (C1)            (D2)                      (B1)             (A6)                    (A7)                            (E3, F3)                                            3
                                                                                                    2.2µF               10
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (A2)   X1
                                                                                                                  REF   (B6)
                                                                                                                                     REF                                                                                                                              CLOCK                                                           AUDIO SOURCE SELECTION                                                                         SEL1, SEL2                            LINEAR                                                              XTEN,    XTAL
                                                                                                                                                                                                        I2C/SPI                                                                                                                                                                                                                                                                                                                                         OSC
                                                                                                                                                                                                                                                                       GEN                                                                                                                                                                                                   REG                                                               XTOSC
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        4   X2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (A3)
                                                                                                                                                                                                                                                                       PSCLK       FREQ1
                                                                                                                                                                                                                                                                                                      DIGITAL AUDIO PATH 1                                              DIGITAL AUDIO PATH 2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Low-Power, High-Performance
                                                                                                                                                                                                                                                           SPDMCLK
                                                                                                                                                                                                                                                                                                         (8kHz TO 48kHz)                                                   (8kHz TO 96kHz)
                                                                                                    1µF                 13                                                                                                                                                                                                             PLL1, NI1,                                                        PLL2, NI2,
                                                                                                                 REG    (C6)                                                                                                                                                                                                           REGS 08-OA                                                        REGS 0D-0F                    _DACA:         VOLL:
                                                                                                                                                       VCM         PREG                                                                                                                                                                                                                                                              0dB TO -15dB +6dB TO -84dB         DCB
                                                                                                                               MICBIAS                                                                                                                                                                                                                                                                                                                                 AUDIO                  MIXSPDML
                                                                                         1µF                            17
                                                                                                              MICBIAS   (B8)                                                                                                                                                                                                                                                                                               MIX/MUX                                     FILTER
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     MIX       SPDML
                                                                                                                                                                                                                                                                                                                                                                                                                                       _DACA:         VOLR:
                                                                                                                                                                                                                                                                                                                                                                                                                                     0dB TO -15dB +6dB TO -84dB         DCB                                                           1b
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            SPDMDATA
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              MIXSPDMR                                I/F
                                                                                                                                                                                               MAX9880A                                                                                                                                                                                                                                                                AUDIO
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       FILTER
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     MIX       SPDMR
                                                                                                                                                                                                                                                                                                                                                                                      DVST:
                                                                                                                                                                                                                                                                                                                                                 DSTS                             -9dB TO -69dB
                                                                                                                                                                                                                                                                                                                                                  MIX/MUX
                                                                                                           MICLP/       19              PALEN:        PGAML:
                                                                                                                                       0/20/30dB    +20dB TO 0dB                                                                                                    AVL:                                                                                           VDACG:      _DACA:                                                                  VOLL:
                                                                                                       DIGMICDATA       (D7)                                                     MXINL                                                                          +4dB TO -11dB                                                                                    0/6/12/18dB 0dB TO -15dB                                                          +6dB TO -84dB                                                                                                     32
                                                                                                                                                                                                                   ADLEN                       MODE                                                                                                                                                                                                                                                MIXDAL                                                   HPMODE (E4)     LOUTP
                                                                                                                                                                                                                                         VOICE/AUDIO                                                                                                                                                                                                                 VOICE/AUDIO
                                                                                                                                                                                       MIX                         ADCL                                                                                                                                                                                                                                                                                      DAC
                                                                                                               MICLN/   18                                                                                                                 FILTER                                                                                                 MIX/MUX                                                                                                              FILTER                        MIX
                                                                                                            DIGMICCLK   (C7)                                                                                                                   AVFLT                                          AVLG:                                                                                                                                                                  MODE, DVFLT                            DALEN                                                      31   LOUTN
                                                                                                                                                                                                                                                                                           0/6/12/18dB                                                                                                                                                                                                                                                               (F4)
                                                                                                                                                                                                                                                                                                                                                                   VDACG:      _DACA:                                                                  VOLR:                                                                                                         29
                                                                                                                                                                                                                                                                                                                                                                 0/6/12/18dB 0dB TO -15dB                                                          +6dB TO -84dB                               MIXDAR                                                       HPMODE (E5)     ROUTP
                                                                                                                                       SPDMDATA
                                                                                                                                                                                                                                                                                                                                                                                                                                                                     VOICE/AUDIO                     MIX     DAC
                                                                                                                                                                                                                                                                                                                                                                                                                                                                       FILTER
                                                                                                               MICRP/   20              PAREN:        PGAMR:                                                                                                                                                                                                                                                                                                                                                DAREN                                                      30   ROUTN
                                                                                                                                       0/20/30dB    +20dB TO 0dB                                                                                                                                                                                                                                                                                                     MODE, DVFLT                                                                                     (F5)
                                                                                                            SPDMDATA    (C8)                                                                                                                                        AVR:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Dual I2S Stereo Audio Codec
                                                                                                                                                                                 MIXINR                                                                         +4dB TO -11dB                                                                                                                                                                                                                                                                      LOGL:
                                                                                                                                                                                                                                               MODE
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0dB TO -30dB LOLEN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       26
                                                                                                                                                                                                                                         VOICE/AUDIO
                                                                                                               MICRN/   21                                                             MIX                         ADCR                                                                                                                                                                                                                                                                                                                                              (E7)   LOUTL
                                                                                                                                                                                                                                           FILTER
                                                                                                             SPDMCLK    (D8)
                                                                                                                                       SPDMCLK                                                                     ADREN                       AVFLT                                          AVRG:
                                                                                                                                         LIGL:                                                                                                                                             0/6/12/18dB
                                                                                                                        23           +30dB TO 0dB
                                                                                                                 LINL   (E8)
                                                                                                                                               LNLEN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   LOGR:
                                                                                           FM                                            LIGR:                                                                                                                                                                                                                                                                                                                                                                                                  0dB TO -30dB LOREN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       25
                                                                                         RECEIVER                       24           +30dB TO 0dB
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (F7)   LOUTR
                                                                                                                 LINR   (F8)
                                                                                                                                               LNREN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       22   JACKSNS/
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                HEADPHONE            (D5)   AUX
                                                                                                                                                                                                                                                                                                                  47                                                                                                                         15                                                                              27                   SENSE
                                                                                                                                                                                                                                                                                                                 (A1)                                                                                                                       (A8)                                                                           (E6, F6)               AUXEN
______________________________________________________________________________________
                                                                                                                                                                                                                                                                                                                          DGND                                                                                                                    AGND                                                                          PGND
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Functional Diagram/Typical Operating Circuit


                                                Low-Power, High-Performance
                                                 Dual I2S Stereo Audio Codec
                                                                                             Package Information
                                                                                                                                       MAX9880A
For the latest package outline information and land patterns (footprints), go to www.maxim-ic.com/packages. Note that a “+”, “#”, or
“-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the drawing per-
tains to the package regardless of RoHS status.
                                                                                                              LAND
        PACKAGE TYPE                       PACKAGE CODE                     OUTLINE NO.
                                                                                                           PATTERN NO.
           48 TQFN-EP                           T4866+1                        21-0141                        90-0057
             48 WLP                            W482A3+1                        21-0230            Refer to Application Note 1891
                    ______________________________________________________________________________________                       67


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                   Package Information (continued)
MAX9880A
           For the latest package outline information and land patterns (footprints), go to www.maxim-ic.com/packages. Note that a “+”, “#”, or
           “-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the drawing per-
           tains to the package regardless of RoHS status.
           68   ______________________________________________________________________________________


                                                Low-Power, High-Performance
                                                 Dual I2S Stereo Audio Codec
                                                                        Package Information (continued)
                                                                                                                                       MAX9880A
For the latest package outline information and land patterns (footprints), go to www.maxim-ic.com/packages. Note that a “+”, “#”, or
“-” in the package code indicates RoHS status only. Package drawings may show a different suffix character, but the drawing per-
tains to the package regardless of RoHS status.
                    ______________________________________________________________________________________                      69


           Low-Power, High-Performance
           Dual I2S Stereo Audio Codec
                                                                                                                             Revision History
MAX9880A
            REVISION       REVISION                                                                                                          PAGES
                                                                              DESCRIPTION
            NUMBER          DATE                                                                                                            CHANGED
                 0            7/10       Initial release                                                                                         —
                                                                                                                                        15–22, 24, 29, 31,
                                                                                                                                         47, 49, 51, 52,
                 1            3/11       Various data sheet errors
                                                                                                                                         55–58, 60, 61,
                                                                                                                                             62, 66
           Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are
           implied. Maxim reserves the right to change the circuitry and specifications without notice at any time.
           70 ____________________Maxim Integrated Products, 120 San Gabriel Drive, Sunnyvale, CA 94086 408-737-7600
           © 2011 Maxim Integrated Products                                        Maxim is a registered trademark of Maxim Integrated Products, Inc.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX9880AETM+ MAX9880AETM+T MAX9880AEWM+T
