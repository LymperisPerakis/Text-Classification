                                                                                                                                            4 ADC/8 DAC with PLL,
                                                                                                                                            192 kHz, 24-Bit Codec
Data Sheet                                                                                                                                               AD1939
FEATURES                                                                                                                GENERAL DESCRIPTION
PLL generated or direct master clock                                                                                    The AD1939 is a high performance, single-chip codec that
Low EMI design                                                                                                          provides four analog-to-digital converters (ADCs) with
112 dB DAC/107 dB ADC dynamic range and SNR                                                                             differential input, and eight digital-to-analog converters (DACs)
−94 dB THD + N                                                                                                          with differential output using the Analog Devices, Inc. patented
Single 3.3 V supply                                                                                                     multibit sigma-delta (Σ-Δ) architecture. An SPI port is included,
Tolerance for 5 V logic inputs                                                                                          allowing a microcontroller to adjust volume and many other
Supports 24-bits and 8 kHz to 192 kHz sample rates                                                                      parameters. The AD1939 operates from 3.3 V digital and analog
Differential ADC input                                                                                                  supplies. The AD1939 is available in a 64-lead (differential
Differential DAC output                                                                                                 output) LQFP package.
Log volume control with autoramp function
SPI controllable for flexibility                                                                                        The AD1939 is designed for low EMI. This consideration is
Software-controllable clickless mute                                                                                    apparent in both the system and circuit design architectures.
Software power-down                                                                                                     By using the on-board PLL to derive the master clock from the
Right-justified, left-justified, I2S, and TDM modes                                                                     LR clock or from an external crystal, the AD1939 eliminates
Master and slave modes up to 16-channel input/output                                                                    the need for a separate high frequency master clock and can
64-lead LQFP package                                                                                                    also be used with a suppressed bit clock. The DACs and ADCs
Qualified for automotive applications                                                                                   are designed using the latest Analog Devices continuous time
                                                                                                                        architectures to further minimize EMI. By using 3.3 V supplies,
APPLICATIONS                                                                                                            power consumption is minimized, further reducing emissions.
Automotive audio systems
Home Theater Systems
Set-top boxes
Digital audio effects processors
                                                                               FUNCTIONAL BLOCK DIAGRAM
                                                                                                     DIGITAL AUDIO
                                                                                                     INPUT/OUTPUT
                                                            AD1939
                                                                                                  SERIAL DATA PORT
                                                                                                                                               DAC
                                                                                                                                               DAC
                                                              ADC                           SDATA                       SDATA
                                                                                             OUT                          IN                   DAC
                                                                                                                                  DIGITAL
                                       ANALOG                 ADC                                               CLOCKS            FILTER       DAC         ANALOG
                                                                             DIGITAL
                                         AUDIO                               FILTER                                                 AND                    AUDIO
                                        INPUTS                ADC                                                                VOLUME        DAC         OUTPUTS
                                                                                                TIMING MANAGEMENT                CONTROL
                                                                                                    AND CONTROL                                DAC
                                                              ADC                                 (CLOCK AND PLL)
                                                                                                                                               DAC
                                                                                                                                               DAC
                                                                                                         SPI
                                                             PRECISION                              CONTROL PORT
                                                              VOLTAGE
                                                             REFERENCE
                                                                                                                                                                  06071-001
                                                                                                    CONTROL DATA
                                                                                                    INPUT/OUTPUT
                                                                                                            Figure 1.
Rev. E                                                                     Document Feedback
Information furnished by Analog Devices is believed to be accurate and reliable. However, no
responsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other
rights of third parties that may result from its use. Specifications subject to change without notice. No               One Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.
license is granted by implication or otherwise under any patent or patent rights of Analog Devices.                     Tel: 781.329.4700 ©2006–2013 Analog Devices, Inc. All rights reserved.
Trademarks and registered trademarks are the property of their respective owners.                                       Technical Support                                  www.analog.com


AD1939                                                                                                                                                                                        Data Sheet
TABLE OF CONTENTS
Features .............................................................................................. 1                Analog-to-Digital Converters (ADCs) .................................... 13
Applications ....................................................................................... 1                   Digital-to-Analog Converters (DACs) .................................... 13
General Description ......................................................................... 1                          Clock Signals ............................................................................... 13
Functional Block Diagram .............................................................. 1                                Reset and Power-Down ............................................................. 14
Revision History ............................................................................... 2                       Serial Control Port ..................................................................... 14
Specifications..................................................................................... 3                    Power Supply and Voltage Reference....................................... 15
  Test Conditions ............................................................................. 3                        Serial Data Ports—Data Format ............................................... 15
  Analog Performance Specifications ........................................... 3                                        Time-Division Multiplexed (TDM) Modes ............................ 15
  Crystal Oscillator Specifications................................................. 4                                   Daisy-Chain Mode ..................................................................... 19
  Digital Input/Output Specifications........................................... 5                                    Control Registers ............................................................................ 24
  Power Supply Specifications........................................................ 5                                  Definitions ................................................................................... 24
  Digital Filters ................................................................................. 6                    PLL and Clock Control Registers ............................................. 24
  Timing Specifications .................................................................. 6                             DAC Control Registers .............................................................. 25
Absolute Maximum Ratings............................................................ 8                                   ADC Control Registers .............................................................. 27
  Thermal Resistance ...................................................................... 8                            Additional Modes ....................................................................... 29
  ESD Caution .................................................................................. 8                    Application Circuits ....................................................................... 30
Pin Configuration and Function Descriptions ............................. 9                                           Outline Dimensions ....................................................................... 31
Typical Performance Characteristics ........................................... 11                                       Ordering Guide .......................................................................... 31
Theory of Operation ...................................................................... 13                            Automotive Products ................................................................. 31
REVISION HISTORY
2/13—Rev. D to Rev. E                                                                                                 Changes to Ordering Guide .......................................................... 31
                                                                                                                      6/07—Rev. 0 to Rev. A
Change to tCLH Parameter, Table 7 ................................................... 7
Changes to Serial Control Port Section ........................................14                                     Deleted I2C References....................................................... Universal
                                                                                                                      Change to Figure 1 ............................................................................1
7/11—Rev. C to Rev. D                                                                                                 Changes to Figure 2 ...........................................................................9
                                                                                                                      Changes to Table 10 ..........................................................................9
Changes to Pin 15, Pin 18, Pin 19, and Pin 20 Descriptions ...... 9                                                   Changes to Table 11 ....................................................................... 14
Changes to Pin 26 and Pin 27 Descriptions ................................ 10                                         Changes to Table 12 ....................................................................... 16
9/10—Rev. B to Rev. C                                                                                                 Changes to Figure 24 and Figure 25............................................. 22
                                                                                                                      Changes to Table 13 ....................................................................... 23
Added Qualified for Automotive Applications to the Features                                                           Change to Figure 26 ....................................................................... 23
Section ................................................................................................ 1            Changes to Table 15 and Table 16 ................................................ 24
Changed Case Temperature from 130°C to 125°C ...................... 4                                                 Changes to Figure 27 and Figure 28............................................. 29
Changed TA from −40°C to +130°C to −40°C to +105°C ........... 5                                                      Change to Figure 30 ....................................................................... 30
Changed TA from −40°C to +130°C to −40°C to +105°C ........... 7                                                      Updated Outline Dimensions ....................................................... 31
Changes to Ordering Guide .......................................................... 31                               Changes to Ordering Guide .......................................................... 31
Added Automotive Products Section .......................................... 31                                       7/06—Revision 0: Initial Version
3/10—Rev. A to Rev. B
                                                                                                     Rev. E | Page 2 of 32


Data Sheet                                                                                                                     AD1939
SPECIFICATIONS
TEST CONDITIONS
Performance of all channels is identical, exclusive of the interchannel gain mismatch and interchannel phase deviation specifications.
Supply voltages (AVDD, DVDD)               3.3 V
Temperature range1                         As specified in Table 1 and Table 2
Master clock                               12.288 MHz (48 kHz fS, 256 × fS mode)
Input sample rate                          48 kHz
Measurement bandwidth                      20 Hz to 20 kHz
Word width                                 24 bits
Load capacitance (digital output)          20 pF
Load current (digital output)              ±1 mA or 1.5 kΩ to ½ DVDD supply
Input voltage high                         2.0 V
Input voltage low                          0.8 V
1
  Functionally guaranteed at −40°C to +125°C case temperature.
ANALOG PERFORMANCE SPECIFICATIONS
Specifications guaranteed at an ambient temperature of 25°C.
Table 1.
Parameter                                                 Conditions/Comments                Min   Typ          Max       Unit
ANALOG-TO-DIGITAL CONVERTERS
   ADC Resolution                                         All ADCs                                 24                     Bits
   Dynamic Range                                          20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                                        96    102                    dB
      With A-Weighted Filter (RMS)                                                           98    105                    dB
   Total Harmonic Distortion + Noise                      −1 dBFS                                  −96          −87       dB
   Full-Scale Input Voltage (Differential)                                                         1.9                    V rms
   Gain Error                                                                                −10                +10       %
   Interchannel Gain Mismatch                                                                −0.25              +0.25     dB
   Offset Error                                                                              −10   0            +10       mV
   Gain Drift                                                                                      100                    ppm/°C
   Interchannel Isolation                                                                          −110                   dB
   CMRR                                                   100 mV rms, 1 kHz                        55                     dB
                                                          100 mV rms, 20 kHz                       55                     dB
   Input Resistance                                                                                14                     kΩ
   Input Capacitance                                                                               10                     pF
   Input Common-Mode Bias Voltage                                                                  1.5                    V
DIGITAL-TO-ANALOG CONVERTERS
   Dynamic Range                                          20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                                        102   107                    dB
      With A-Weighted Filter (RMS)                                                           105   110                    dB
      With A-Weighted Filter (Average)                                                             112                    dB
   Total Harmonic Distortion + Noise                      0 dBFS
                                                          Two channels running                     −94                    dB
                                                          Eight channels running                   −86          −76       dB
   Full-Scale Output Voltage                                                                       1.76 (4.96)            V rms (V p-p)
   Gain Error                                                                                −10                +10       %
   Interchannel Gain Mismatch                                                                −0.2               +0.2      dB
   Offset Error                                                                              −25   −6           +25       mV
   Gain Drift                                                                                −30                +30       ppm/°C
   Interchannel Isolation                                                                          100                    dB
                                                                       Rev. E | Page 3 of 32


AD1939                                                                                                         Data Sheet
Parameter                                      Conditions/Comments                  Min     Typ         Max     Unit
   Interchannel Phase Deviation                                                             0                   Degrees
   Volume Control Step                                                                      0.375               dB
   Volume Control Range                                                                     95                  dB
   De-emphasis Gain Error                                                                               ±0.6    dB
   Output Resistance at Each Pin                                                            100                 Ω
REFERENCE
   Internal Reference Voltage                  FILTR pin                                    1.50                V
   External Reference Voltage                  FILTR pin                            1.32    1.50        1.68    V
   Common-Mode Reference Output                CM pin                                       1.50                V
REGULATOR
   Input Supply Voltage                        VSUPPLY pin                          4.5     5           5.5     V
   Regulated Output Voltage                    VSENSE pin                           3.19    3.37        3.55    V
Specifications measured at a case temperature of 125°C.
Table 2.
Parameter                                      Conditions/Comments                  Min     Typ          Max    Unit
ANALOG-TO-DIGITAL CONVERTERS
   ADC Resolution                              All ADCs                                     24                  Bits
   Dynamic Range                               20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                               93      102                 dB
      With A-Weighted Filter (RMS)                                                  96      104                 dB
   Total Harmonic Distortion + Noise           −1 dBFS                                      −96          −87    dB
  Full-Scale Input Voltage (Differential)                                                   1.9                 V rms
   Gain Error                                                                       −10                  +10    %
   Interchannel Gain Mismatch                                                       −0.25                +0.25  dB
   Offset Error                                                                     −10     0            +10    mV
DIGITAL-TO-ANALOG CONVERTERS
   Dynamic Range                               20 Hz to 20 kHz, −60 dB input
      No Filter (RMS)                                                               101     107                 dB
      With A-Weighted Filter (RMS)                                                  104     110                 dB
      With A-Weighted Filter (Average)                                                      112                 dB
   Total Harmonic Distortion + Noise           0 dBFS
                                               Two channels running                         −94                 dB
                                               Eight channels running                       −86          −70    dB
   Full-Scale Output Voltage                                                                1.76 (4.96)         V rms (V p-p)
   Gain Error                                                                       −10                  +10    %
   Interchannel Gain Mismatch                                                       −0.2                 +0.2   dB
   Offset Error                                                                     −25     −6           +25    mV
   Gain Drift                                                                       −30                  +30    ppm/°C
REFERENCE
   Internal Reference Voltage                  FILTR pin                                    1.50                V
   External Reference Voltage                  FILTR pin                            1.32    1.50         1.68   V
   Common-Mode Reference Output                CM pin                                       1.50                V
REGULATOR
   Input Supply Voltage                        VSUPPLY pin                          4.5     5            5.5    V
   Regulated Output Voltage                    VSENSE pin                           3.2     3.43         3.65   V
CRYSTAL OSCILLATOR SPECIFICATIONS
Table 3.
Parameter                                                Min                    Typ       Max            Unit
Transconductance                                                                3.5                      mmhos
                                                             Rev. E | Page 4 of 32


Data Sheet                                                                                     AD1939
DIGITAL INPUT/OUTPUT SPECIFICATIONS
−40°C < TA < +105°C, DVDD = 3.3 V ± 10%.
Table 4.
Parameter                                    Conditions/Comments           Min         Typ Max    Unit
High Level Input Voltage (VIH)                                             2.0                    V
                                             MCLKI/XI pin                  2.2                    V
Low Level Input Voltage (VIL)                                                              0.8    V
Input Leakage                                IIH @ VIH = 2.4 V                             10     µA
                                             IIL @ VIL = 0.8 V                             10     µA
High Level Output Voltage (VOH)              IOH = 1 mA                    DVDD − 0.60            V
Low Level Output Voltage (VOL)               IOL = 1 mA                                    0.4    V
Input Capacitance                                                                          5      pF
POWER SUPPLY SPECIFICATIONS
Table 5.
Parameter                                    Conditions/Comments           Min         Typ Max   Unit
SUPPLIES
  Voltage                                    DVDD                          3.0         3.3 3.6   V
                                             AVDD                          3.0         3.3 3.6   V
                                             VSUPPLY                       4.5         5.0 5.5   V
  Digital Current                            Master clock = 256 fS
    Normal Operation                         fS = 48 kHz                               56        mA
                                             fS = 96 kHz                               65        mA
                                             fS = 192 kHz                              95        mA
    Power-Down                               fS = 48 kHz to 192 kHz                    2.0       mA
  Analog Current
    Normal Operation                                                                   74        mA
    Power-Down                                                                         23        mA
DISSIPATION
  Operation                                  Master clock = 256 fS, 48 kHz
    All Supplies                                                                       429       mW
    Digital Supply                                                                     185       mW
     Analog Supply                                                                     244       mW
  Power-Down, All Supplies                                                             83        mW
POWER SUPPLY REJECTION RATIO
  Signal at Analog Supply Pins               1 kHz, 200 mV p-p                         50        dB
                                             20 kHz, 200 mV p-p                        50        dB
                                         Rev. E | Page 5 of 32


AD1939                                                                                                                 Data Sheet
DIGITAL FILTERS
Table 6.
Parameter                              Mode                                         Factor        Min      Typ        Max        Unit
ADC DECIMATION FILTER                  All modes, typical @ 48 kHz
  Pass Band                                                                         0.4375 fS              21                    kHz
  Pass-Band Ripple                                                                                         ±0.015                dB
  Transition Band                                                                   0.5 fS                 24                    kHz
  Stop Band                                                                         0.5625 fS              27                    kHz
  Stop-Band Attenuation                                                                           79                             dB
  Group Delay                                                                       22.9844/fS             479                   µs
DAC INTERPOLATION FILTER
  Pass Band                            48 kHz mode, typical @ 48 kHz                0.4535 fS              22                    kHz
                                       96 kHz mode, typical @ 96 kHz                0.3646 fS     35                             kHz
                                       192 kHz mode, typical @ 192 kHz              0.3646 fS              70                    kHz
  Pass-Band Ripple                     48 kHz mode, typical @ 48 kHz                                                  ±0.01      dB
                                       96 kHz mode, typical @ 96 kHz                                                  ±0.05      dB
                                       192 kHz mode, typical @ 192 kHz                                                ±0.1       dB
  Transition Band                      48 kHz mode, typical @ 48 kHz                0.5 fS                 24                    kHz
                                       96 kHz mode, typical @ 96 kHz                0.5 fS                 48                    kHz
                                       192 kHz mode, typical @ 192 kHz              0.5 fS                 96                    kHz
  Stop Band                            48 kHz mode, typical @ 48 kHz                0.5465 fS              26                    kHz
                                       96 kHz mode, typical @ 96 kHz                0.6354 fS              61                    kHz
                                       192 kHz mode, typical @ 192 kHz              0.6354 fS              122                   kHz
  Stop-Band Attenuation                48 kHz mode, typical @ 48 kHz                              70                             dB
                                       96 kHz mode, typical @ 96 kHz                              70                             dB
                                       192 kHz mode, typical @ 192 kHz                            70                             dB
  Group Delay                          48 kHz mode, typical @ 48 kHz                25/fS                  521                   µs
                                       96 kHz mode, typical @ 96 kHz                11/fS                  115                   µs
                                       192 kHz mode, typical @ 192 kHz              8/fS                   42                    µs
TIMING SPECIFICATIONS
−40°C < TA < +105°C, DVDD = 3.3 V ± 10%.
Table 7.
Parameter                                Condition                    Comments                                       Min    Max     Unit
INPUT MASTER CLOCK (MCLK) AND
RESET
  tMH                                    MCLK duty cycle              DAC/ADC clock source = PLL clock @ 256 fS, 384 40     60      %
                                                                      fS, 512 fS, and 768 fS
  tMH                                                                 DAC/ADC clock source = direct MCLK @ 512 fS    40     60      %
                                                                      (bypass on-chip PLL)
  fMCLK                                  MCLK frequency               PLL mode, 256 fS reference                     6.9    13.8    MHz
  fMCLK                                                               Direct 512 fS mode                                    27.6    MHz
  tPDR                                   Low                                                                         15             ns
  tPDRR                                  Recovery                     Reset to active output                         4096           tMCLK
PLL
  Lock Time                              MCLK and LRCLK input                                                               10      ms
  256 fS VCO Clock, Output Duty Cycle,                                                                               40     60      %
     MCLKO/XO Pin
                                                            Rev. E | Page 6 of 32


Data Sheet                                                                                    AD1939
Parameter           Condition                Comments                                     Min Max Unit
SPI PORT                                     See Figure 11
  tCCH              CCLK high                                                             35      ns
  tCCL              CCLK low                                                              35      ns
  fCCLK             CCLK frequency           fCCLK = 1/tCCP; only tCCP shown in Figure 11     10  MHz
  tCDS              CIN setup                To CCLK rising                               10      ns
  tCDH              CIN hold                 From CCLK rising                             10      ns
  tCLS              CLATCH setup             To CCLK rising                               10      ns
  tCLH              CLATCH hold              From CCLK falling                            10      ns
  tCLHIGH           CLATCH high              Not shown in Figure 11                       10      ns
  tCOE              COUT enable              From CCLK falling                                30  ns
  tCOD              COUT delay               From CCLK falling                                30  ns
  tCOH              COUT hold                From CCLK falling, not shown in Figure 11    30      ns
  tCOTS             COUT tristate            From CCLK falling                                30  ns
DAC SERIAL PORT                              See Figure 24
  tDBH              DBCLK high               Slave mode                                   10      ns
  tDBL              DBCLK low                Slave mode                                   10      ns
  tDLS              DLRCLK setup             To DBCLK rising, slave mode                  10      ns
  tDLH              DLRCLK hold              From DBCLK rising, slave mode                5       ns
  tDLS              DLRCLK skew              From DBCLK falling, master mode              −8  +8  ns
  tDDS              DSDATA setup             To DBCLK rising                              10      ns
  tDDH              DSDATA hold              From DBCLK rising                            5       ns
ADC SERIAL PORT                              See Figure 25
  tABH              ABCLK high               Slave mode                                   10      ns
  tABL              ABCLK low                Slave mode                                   10      ns
  tALS              ALRCLK setup             To ABCLK rising, slave mode                  10      ns
  tALH              ALRCLK hold              From ABCLK rising, slave mode                5       ns
  tALS              ALRCLK skew              From ABCLK falling, master mode              −8  +8  ns
  tABDD             ASDATA delay             From ABCLK falling                               18  ns
AUXILIARY INTERFACE
  tAXDS             AAUXDATA setup           To AUXBCLK rising                            10      ns
  tAXDH             AAUXDATA hold            From AUXBCLK rising                          5       ns
  tDXDD             DAUXDATA delay           From AUXBCLK falling                             18  ns
  tXBH              AUXBCLK high                                                          10      ns
  tXBL              AUXBCLK low                                                           10      ns
  tDLS              AUXLRCLK setup           To AUXBCLK rising                            10      ns
  tDLH              AUXLRCLK hold            From AUXBCLK rising                          5       ns
                                   Rev. E | Page 7 of 32


AD1939                                                                                                                            Data Sheet
ABSOLUTE MAXIMUM RATINGS
Table 8.                                                                         THERMAL RESISTANCE
Parameter                                  Rating                                θJA represents thermal resistance, junction-to-ambient;
Analog (AVDD)                              −0.3 V to +3.6 V                      θJC represents the thermal resistance, junction-to-case.
Digital (DVDD)                             −0.3 V to +3.6 V                      All characteristics are for a 4-layer board.
VSUPPLY                                    −0.3 V to +6.0 V
                                                                                 Table 9. Thermal Resistance
Input Current (Except Supply Pins)         ±20 mA
Analog Input Voltage (Signal Pins)         –0.3 V to AVDD + 0.3 V                Package Type                       θJA       θJC       Unit
Digital Input Voltage (Signal Pins)        −0.3 V to DVDD + 0.3 V                64-Lead LQFP                       47        11.1      °C/W
Operating Temperature Range (Case)         −40°C to +125°C
Storage Temperature Range                  −65°C to +150°C                       ESD CAUTION
Stresses above those listed under Absolute Maximum Ratings
may cause permanent damage to the device. This is a stress
rating only; functional operation of the device at these or any
other conditions above those indicated in the operational
section of this specification is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect
device reliability.
                                                                Rev. E | Page 8 of 32


Data Sheet                                                                                                                                                                                                         AD1939
PIN CONFIGURATION AND FUNCTION DESCRIPTIONS
                                                           AVDD                ADC2RN   ADC2RP   ADC2LN     ADC2LP   ADC1RN   ADC1RP    ADC1LN    ADC1LP            AVDD
                                          NC     NC                  LF                                                                                    CM              NC     NC
                                          64     63        62        61        60       59       58         57       56       55        54        53       52       51     50     49
                            AGND     1                                                                                                                                                   48   AGND
                          MCLKI/XI   2                                                                                                                                                   47   FILTR
                        MCLKO/XO     3                                                                                                                                                   46   AGND
                            AGND     4                                                                                                                                                   45   AVDD
                            AVDD     5                                                                                                                                                   44   AGND
                             OL3P    6                                                                                                                                                   43   OR2N
                             OL3N    7
                                                                                                           AD1939                                                                        42   OR2P
                             OR3P    8                                                              TOP VIEW                                                                             41   OL2N
                                                                                                  (Not to Scale)
                            OR3N     9                                                                                                                                                   40   OL2P
                                                                                                 DIFFERENTIAL
                             OL4P 10                                                                OUTPUT                                                                               39   OR1N
                             OL4N 11                                                                                                                                                     38   OR1P
                             OR4P 12                                                                                                                                                     37   OL1N
                            OR4N 13                                                                                                                                                      36   OL1P
                           PD/RST 14                                                                                                                                                     35   CLATCH
                         DSDATA4 15                                                                                                                                                      34   CCLK
                            DGND 16                                                                                                                                                      33   DGND
                                          17     18        19        20        21       22       23         24       25       26        27        28       29       30     31     32
                                                                                                 VSUPPLY
                                                                                                                                                                    CIN
                                                                                        DLRCLK              VSENSE   VDRIVE                                ALRCLK
                                          DVDD                                                                                                                             COUT
                                                                               DBCLK                                                              ABCLK
                                                                                                                                                                                  DVDD
                                                 DSDATA3   DSDATA2   DSDATA1                                                  ASDATA2   ASDATA1
                                                                                                                                                                                                       06071-021
                        NC = NO CONNECT
                                               Figure 2. 64-Lead LQFP, Differential Output, Pin Configuration
Table 10. Pin Function Descriptions
Pin No.     In/Out      Mnemonic                                               Description
1           I           AGND                                                   Analog Ground.
2           I           MCLKI/XI                                               Master Clock Input/Crystal Oscillator Input.
3           O           MCLKO/XO                                               Master Clock Output/Crystal Oscillator Output.
4           I           AGND                                                   Analog Ground.
5           I           AVDD                                                   Analog Power Supply. Connect to analog 3.3 V supply.
6           O           OL3P                                                   DAC 3 Left Positive Output.
7           O           OL3N                                                   DAC 3 Left Negative Output.
8           O           OR3P                                                   DAC 3 Right Positive Output.
9           O           OR3N                                                   DAC 3 Right Negative Output.
10          O           OL4P                                                   DAC 4 Left Positive Output.
11          O           OL4N                                                   DAC 4 Left Negative Output.
12          O           OR4P                                                   DAC 4 Right Positive Output.
13          O           OR4N                                                   DAC 4 Right Negative Output
14          I           PD/RST                                                 Power-Down Reset (Active Low).
15          I/O         DSDATA4                                                DAC Serial Data Input 4. Data input to DAC4 data in/TDM DAC2 data out (dual-line
                                                                               mode)/AUX DAC2 data out (to external DAC2).
16          I           DGND                                                   Digital Ground.
17          I           DVDD                                                   Digital Power Supply. Connect to digital 3.3 V supply.
18          I/O         DSDATA3                                                DAC Serial Data Input 3. Data input to DAC3 data in/TDM DAC2 data in (dual-line
                                                                               mode)/AUX ADC2 data in (from external ADC2).
19          I/O         DSDATA2                                                DAC Serial Data Input 2. Data input to DAC2 data in/TDM DAC data out/AUX ADC1
                                                                               data in (from external ADC1).
20          I           DSDATA1                                                DAC Serial Data Input 1. Data input to DAC1 data in/TDM DAC data in/TDM data in.
21          I/O         DBCLK                                                  Bit Clock for DACs.
22          I/O         DLRCLK                                                 LR Clock for DACs.
                                                                                                 Rev. E | Page 9 of 32


AD1939                                                                                     Data Sheet
Pin No. In/Out Mnemonic Description
23      I      VSUPPLY  5 V Input to Regulator, Emitter of Pass Transistor.
24      I      VSENSE   3.3 V Output of Regulator, Collector of Pass Transistor.
25      O      VDRIVE   Drive for Base of Pass Transistor.
26      I/O    ASDATA2  ADC Serial Data Output 2. Data Output from ADC2/TDM ADC data in/AUX DAC1 data
                        out (to external DAC1).
27      O      ASDATA1  ADC Serial Data Output 1. Data Output from ADC1/TDM ADC data out/TDM data out.
28      I/O    ABCLK    Bit Clock for ADCs.
29      I/O    ALRCLK   LR Clock for ADCs.
30      I      CIN      Control Data Input (SPI).
31      I/O    COUT     Control Data Output (SPI).
32      I      DVDD     Digital Power Supply. Connect to digital 3.3 V supply.
33      I      DGND     Digital Ground.
34      I      CCLK     Control Clock Input (SPI).
35      I      CLATCH   Latch Input for Control Data (SPI).
36      O      OL1P     DAC 1 Left Positive Output.
37      O      OL1N     DAC 1 Left Negative Output.
38      O      OR1P     DAC 1 Right Positive Output.
39      O      OR1N     DAC 1 Right Negative Output.
40      O      OL2P     DAC 2 Left Positive Output.
41      O      OL2N     DAC 2 Left Negative Output.
42      O      OR2P     DAC 2 Right Positive Output.
43      O      OR2N     DAC 2 Right Negative Output.
44      I      AGND     Analog Ground.
45      I      AVDD     Analog Power Supply. Connect to analog 3.3 V supply.
46      I      AGND     Analog Ground.
47      O      FILTR    Voltage Reference Filter Capacitor Connection. Bypass with 10 µF||100 nF to AGND.
48      I      AGND     Analog Ground.
49             NC       No Connect.
50             NC       No Connect.
51      I      AVDD     Analog Power Supply. Connect to analog 3.3 V supply.
52      O      CM       Common-Mode Reference Filter Capacitor Connection. Bypass with
                        47 µF||100 nF to AGND.
53      I      ADC1LP   ADC1 Left Positive Input.
54      I      ADC1LN   ADC1 Left Negative Input.
55      I      ADC1RP   ADC1 Right Positive Input.
56      I      ADC1RN   ADC1 Right Negative Input.
57      I      ADC2LP   ADC2 Left Positive Input.
58      I      ADC2LN   ADC2 Left Negative Input.
59      I      ADC2RP   ADC2 Right Positive Input.
60      I      ADC2RN   ADC2 Right Negative Input.
61      O      LF       PLL Loop Filter, Return to AVDD.
62      I      AVDD     Analog Power Supply. Connect to analog 3.3 V supply.
63             NC       No Connect.
64             NC       No Connect.
                               Rev. E | Page 10 of 32


Data Sheet                                                                                                                                                                                                        AD1939
TYPICAL PERFORMANCE CHARACTERISTICS
                      0.10
                                                                                                                                                            0
                      0.08
                      0.06
                      0.04
                                                                                                                                       MAGNITUDE (dB)
    MAGNITUDE (dB)
                                                                                                                                                         –50
                      0.02
                         0
                     –0.02
                                                                                                                                                        –100
                     –0.04
                     –0.06
                     –0.08
                                                                                                                                                        –150
                     –0.10
                                                                                                                                                                                                                           06071-005
                                                                                                           06071-002
                                                                                                                                                                0             12            24            36          48
                             0      2     4    6         8        10        12        14    16   18
                                                                                                                                                                                     FREQUENCY (kHz)
                                                       FREQUENCY (kHz)
                                 Figure 3. ADC Pass-Band Filter Response, 48 kHz                                                                                    Figure 6. DAC Stop-Band Filter Response, 48 kHz
                         0                                                                                                                               0.10
                       –10
                       –20
                                                                                                                                                         0.05
                       –30
    MAGNITUDE (dB)                                                                                                                    MAGNITUDE (dB)
                       –40
                       –50                                                                                                                                 0
                       –60
                       –70
                                                                                                                                                        –0.05
                       –80
                       –90
                      –100                                                                                                                              –0.10
                                                                                                           06071-003                                                                                                       06071-006
                             0       5    10       15        20        25         30       35    40                                                             0             24            48            72          96
                                                       FREQUENCY (kHz)                                                                                                               FREQUENCY (kHz)
                                 Figure 4. ADC Stop-Band Filter Response, 48 kHz                                                                                    Figure 7. DAC Pass-Band Filter Response, 96 kHz
                      0.06
                                                                                                                                                            0
                      0.04
                                                                                                                                       MAGNITUDE (dB)
                      0.02
 MAGNITUDE (dB)
                                                                                                                                                         –50
                        0
                     –0.02                                                                                                                              –100
                     –0.04
                                                                                                                                                        –150
                                                                                                                                                                                                                           06071-007
                     –0.06
                                                                                                                                                                0             24            48            72          96
                                                                                                                06071-004
                             0                     8                             16                   24
                                                                                                                                                                                     FREQUENCY (kHz)
                                                       FREQUENCY (kHz)
                                 Figure 5. DAC Pass-Band Filter Response, 48 kHz                                                                                    Figure 8. DAC Stop-Band Filter Response, 96 kHz
                                                                                                                 Rev. E | Page 11 of 32


AD1939                                                                                                                                                                      Data Sheet
                   0.5
                                                                                                                               0
                   0.4
                   0.3
                                                                                                                              –2
                   0.2
                                                                                                            MAGNITUDE (dB)
 MAGNITUDE (dB)
                   0.1
                                                                                                                              –4
                    0
                  –0.1                                                                                                        –6
                  –0.2
                  –0.3                                                                                                        –8
                  –0.4
                                                                                                                             –10
                  –0.5
                                                                                                                                                                                            06071-009
                                                                                 06071-008
                                                                                                                                48                 64                80                96
                         0             8           16          32           64
                                                                                                                                                     FREQUENCY (kHz)
                                               FREQUENCY (kHz)
                             Figure 9. DAC Pass-Band Filter Response, 192 kHz                                                      Figure 10. DAC Stop-Band Filter Response, 192 kHz
                                                                                       Rev. E | Page 12 of 32


Data Sheet                                                                                                                                AD1939
THEORY OF OPERATION
ANALOG-TO-DIGITAL CONVERTERS (ADCS)                                               slew rate or low bandwidth can cause high frequency noise and
                                                                                  tones to fold down into the audio band; exercise care in
There are four analog-to-digital converter (ADC) channels in                      selecting these components.
the AD1939 configured as two stereo pairs with differential
inputs. The ADCs can operate at a nominal sample rate of 48 kHz,                  The voltage at CM, the common-mode reference pin, can be
96 kHz, or 192 kHz. The ADCs include on-board digital anti-                       used to bias the external op amps that buffer the output signals
aliasing filters with 79 dB stop-band attenuation and linear                      (see the Power Supply and Voltage Reference section).
phase response, operating at an oversampling ratio of 128
(48 kHz, 96 kHz, and 192 kHz modes). Digital outputs are                          CLOCK SIGNALS
supplied through two serial data output pins (one for each                        The on-chip phase-locked loop (PLL) can be selected to
stereo pair) and a common frame clock (ALRCLK) and bit                            reference the input sample rate from either of the LRCLK pins
clock (ABCLK). Alternatively, one of the TDM modes can be                         or 256, 384, 512, or 768 times the sample rate, referenced to the
used to access up to 16 channels on a single TDM data line.                       48 kHz mode from the MCLKI/XI pin. The default at power-up
                                                                                  is 256 × fS from the MCLKI/XI pin. In 96 kHz mode, the master
The ADCs must be driven from a differential signal source for                     clock frequency stays at the same absolute frequency; therefore,
best performance. The input pins of the ADCs connect to internal                  the actual multiplication rate is divided by 2. In 192 kHz mode,
switched capacitors. To isolate the external driving op amp from                  the actual multiplication rate is divided by 4. For example, if a
the glitches caused by the internal switched capacitors, each in-                 device in the AD1939 family is programmed in 256 × fS mode, the
put pin should be isolated by using a series-connected external                   frequency of the master clock input is 256 × 48 kHz = 12.288 MHz.
100 Ω resistor together with a 1 nF capacitor connected from                      If the AD1939 is then switched to 96 kHz operation (by writing
each input to ground. This capacitor must be of high quality, for                 to the SPI port), the frequency of the master clock should
example, ceramic NP0 or polypropylene film.                                       remain at 12.288 MHz, which is 128 × fS in this example. In
The differential inputs have a nominal common-mode voltage                        192 kHz mode, this becomes 64 × fS.
of 1.5 V. The voltage at the common-mode reference pin (CM)                       The internal clock for the ADCs is 256 × fS for all clock modes.
can be used to bias external op amps to buffer the input signals                  The internal clock for the DACs varies by mode: 512 × fS (48 kHz
(see the Power Supply and Voltage Reference section). The                         mode), 256 × fS (96 kHz mode), or 128 × fS (192 kHz mode). By
inputs can also be ac-coupled and do not need an external dc                      default, the on-board PLL generates this internal master clock
bias to CM.                                                                       from an external clock. A direct 512 × fS (referenced to 48 kHz
A digital high-pass filter can be switched in line with the ADCs                  mode) master clock can be used for either the ADCs or DACs if
under serial control to remove residual dc offsets. It has a 1.4 Hz,              selected in the PLL and Clock Control 1 register.
6 dB per octave cutoff at a 48 kHz sample rate. The cutoff fre-                   Note that it is not possible to use a direct clock for the ADCs set
quency scales directly with sample frequency.                                     to the 192 kHz mode. It is required that the on-chip PLL be
DIGITAL-TO-ANALOG CONVERTERS (DACS)                                               used in this mode.
The AD1939 digital-to-analog converter (DAC) channels are                         The PLL can be powered down in the PLL and Clock Control 0
arranged as differential, four stereo pairs giving eight analog                   register. To ensure reliable locking when changing PLL modes,
outputs for improved noise and distortion performance. The                        or if the reference clock is unstable at power-on, power down
DACs include on-board digital reconstruction filters with 70 dB                   the PLL and then power it back up when the reference clock
stop-band attenuation and linear phase response, operating at an                  stabilizes.
oversampling ratio of 4 (48 kHz or 96 kHz modes) or 2 (192 kHz
mode). Each channel has its own independently programmable                        The internal master clock (MCLK) can be disabled in the PLL
attenuator, adjustable in 255 steps in increments of 0.375 dB.                    and Clock Control 0 register to reduce power dissipation when
Digital inputs are supplied through four serial data input pins                   the AD1939 is idle. The clock should be stable before it is
(one for each stereo pair) and a common frame clock (DLRCLK)                      enabled. Unless a standalone mode is selected (see the Serial
and bit clock (DBCLK). Alternatively, one of the TDM modes can                    Control Port section), the clock is disabled by reset and must be
be used to access up to 16 channels on a single TDM data line.                    enabled by writing to the SPI port for normal operation.
Each output pin has a nominal common-mode dc level of 1.5 V                       To maintain the highest performance possible, limit the clock
and swings ±1.27 V for a 0 dBFS digital input signal. A single op                 jitter of the internal master clock signal to less than a 300 ps rms
amp, third-order, external, low-pass filter is recommended to                     time interval error (TIE). Even at these levels, extra noise or
remove high frequency noise present on the output pins, as well                   tones can appear in the DAC outputs if the jitter spectrum
as to provide differential-to-single-ended conversion in the case                 contains large spectral peaks. If the internal PLL is not used, it is
of the differential output. Note that the use of op amps with low                 best to use an independent crystal oscillator to generate the
                                                                 Rev. E | Page 13 of 32


AD1939                                                                                                                               Data Sheet
master clock. In addition, it is especially important that the                        for operation without serial control; standalone is configured at
clock signal not pass through an FPGA, CPLD, or other large                           reset by connecting CIN, CCLK, and CLATCH to ground. In
digital chip (such as a DSP) before being applied to the                              standalone mode, all registers are set to default, except the
AD1939. In most cases, this induces clock jitter due to the                           internal MCLK enable, which is set to 1. The ADC, ABCLK, and
sharing of common power and ground connections with other                             ALRCLK clock ports are set to master/slave by the connecting
unrelated digital output signals. When the PLL is used, jitter in                     the COUT pin to either DVDD or ground. Standalone mode
the reference clock is attenuated above a certain frequency                           only supports stereo mode with an I2S data format and 256 fS
depending on the loop filter.                                                         MCLK rate. Refer to Table 11 for details. If CIN, CCLK, and
                                                                                      CLATCH are not grounded, the AD1939 SPI port is active. It is
RESET AND POWER-DOWN
                                                                                      recommended to use a weak pull-up resistor on CLATCHin
The function of the RST pin sets all the control registers to their                   applications that have a microcontroller. This pull-up resistor
default settings. To avoid pops, reset does not power down the                        ensures that the AD1939 recognizes the presence of a
analog outputs. After RST is deasserted and the PLL acquires                          microcontroller.
lock condition, an initialization routine runs inside the
AD1939. This initialization lasts for approximately 256 master                        The SPI control port of the AD1939 is a 4-wire serial control
clock cycles.                                                                         port. The format is similar to the Motorola SPI format except
                                                                                      the input data-word is 24 bits wide. The serial bit clock and
The power-down bits in the PLL and Clock Control 0, DAC                               latch can be completely asynchronous to the sample rate of the
Control 1, and ADC Control 1 registers power down the                                 ADCs and DACs. Figure 11 shows the format of the SPI signal.
respective sections. All other register settings are retained. To                     The first byte is a global address with a read/write bit. For the
guarantee proper startup, the RST pin should be pulled low by                         AD1939, the address is 0x04, shifted left one bit due to the R/W
an external resistor.                                                                 bit. The second byte is the AD1939 register address and the
                                                                                      third byte is the data.
SERIAL CONTROL PORT
The AD1939 has an SPI control port that permits programming
and reading back of the internal control registers for the ADCs,
DACs, and clock system. A standalone mode is also available
Table 11. Standalone Mode Selection
ADC Clocks                        CIN                        COUT                             CCLK                     CLATCH
Slave                             0                          0                                0                        0
Master                            0                          1                                0                        0
                           tCLS
                                                                                                                    tCLH
                                                         tCCH tCCL
                                   tCCP
          CLATCH
                                                                                                                                     tCOTS
            CCLK
                                                               tCDS tCDH
              CIN            D23          D22           D9        D8                                                       D0
            COUT
                    tCOE                                D9        D8                                                       D0
                                                 tCOD                                                                                        06071-010
                                                             Figure 11. Format of the SPI Signal
                                                                     Rev. E | Page 14 of 32


Data Sheet                                                                                                                                             AD1939
POWER SUPPLY AND VOLTAGE REFERENCE                                               polarity of DBCLK and DLRCLK is programmable according to
                                                                                 the DAC Control 1 register. The ADC serial formats and serial
The AD1939 is designed for 3.3 V supplies. Separate power                        clock polarity are programmable according to the ADC Control 1
supply pins are provided for the analog and digital sections.                    register. Both DAC and ADC serial ports are programmable to
To minimize noise pickup, these pins should be bypassed with                     become the bus masters according to DAC Control 1 register
100 nF ceramic chip capacitors placed as close to the pins as                    and ADC Control 2 register. By default, both ADC and DAC
possible. A bulk aluminum electrolytic capacitor of at least                     serial ports are in the slave mode.
22 μF should also be provided on the same PC board as the
codec. For critical applications, improved performance is                        TIME-DIVISION MULTIPLEXED (TDM) MODES
obtained with separate supplies for the analog and digital sections.             The AD1939 serial ports also have several different TDM serial
If this is not possible, it is recommended that the analog and                   data modes. The first and most commonly used configurations
digital supplies be isolated by means of a ferrite bead in series                are shown in Figure 12 and Figure 13. In Figure 12, the ADC
with each supply. It is important that the analog supply be as                   serial port outputs one data stream consisting of four on-chip
clean as possible.                                                               ADCs followed by four unused slots. In Figure 13, the eight on-
The AD1939 includes a 3.3 V regulator driver that only requires                  chip DAC data slots are packed into one TDM stream. In this
an external pass transistor and bypass capacitors to make a 5 V                  mode, both DBCLK and ABCLK are 256 fS.
to 3.3 V regulator. If the regulator driver is not used, connect                LRCLK
VSUPPLY, VDRIVE, and VSENSE to DGND.                                                                                      256 BCLKs
                                                                                  BCLK
                                                                                         32 BCLKs
All digital inputs are compatible with TTL and CMOS levels.
                                                                                         SLOT 1     SLOT 2    SLOT 3   SLOT 4
All outputs are driven from the 3.3 V DVDD supply and are                         DATA   LEFT 1     RIGHT 1   LEFT 2   RIGHT 2   SLOT 5   SLOT 6    SLOT 7   SLOT 8
compatible with TTL and 3.3 V CMOS levels.
                                                                                                                                      LRCLK
The ADC and DAC internal voltage reference (VREF) is brought                                                                          BCLK
                                                                                                                                                                       06071-016
out on FILTR and should be bypassed as close as possible to the                                        MSB      MSB–1      MSB–2      DATA
chip with a parallel combination of 10 μF and 100 nF. Any
                                                                                                     Figure 12. ADC TDM (8-Channel I2S Mode)
external current drawn should be limited to less than 50 μA.
The internal reference can be disabled in the PLL and Clock                      LRCLK
Control 1 register and FILTR can be driven from an external                                                               256 BCLKs
source. This can be used to scale the DAC output to the clipping                  BCLK
                                                                                         32 BCLKs
level of a power amplifier based on its power supply voltage.
                                                                                         SLOT 1     SLOT 2    SLOT 3   SLOT 4    SLOT 5   SLOT 6    SLOT 7   SLOT 8
The ADC input gain varies by the inverse ratio. The total gain                    DATA
                                                                                         LEFT 1     RIGHT 1   LEFT 2   RIGHT 2   LEFT 3   RIGHT 3   LEFT 4   RIGHT 4
from ADC input to DAC output remains constant.
                                                                                                                                      LRCLK
The CM pin is the internal common-mode reference. It should                                                                           BCLK
                                                                                                                                                                       06071-017
be bypassed as close as possible to the chip, with a parallel                                          MSB       MSB–1     MSB–2      DATA
combination of 47 μF and 100 nF. This voltage can be used to
                                                                                                     Figure 13. DAC TDM (8-Channel I2S Mode)
bias external op amps to the common-mode voltage of the input
and output signal pins. The output current should be limited to                  The I/O pins of the serial ports are defined according to the
less than 0.5 mA source and 2 mA sink.                                           serial mode that is selected. For a detailed description of the
                                                                                 function of each pin in TDM and AUX modes, see Table 12.
SERIAL DATA PORTS—DATA FORMAT
                                                                                 The AD1939 allows systems with more than eight DAC channels
The eight DAC channels use a common serial bit clock (DBCLK)                     to be easily configured by the use of an auxiliary serial data port.
and a common left-right framing clock (DLRCLK) in the serial                     The DAC TDM-AUX mode is shown in Figure 14. In this mode,
data port. The four ADC channels use a common serial bit                         the AUX channels are the last four slots of the TDM data stream.
clock (ABCLK) and left-right framing clock (ALRCLK) in the                       These slots are extracted and output to the AUX serial port. It
serial data port. The clock signals are all synchronous with the                 should be noted that due to the high DBCLK frequency, this mode
sample rate. The normal stereo serial modes are shown in                         is available only in the 48 kHz/44.1 kHz/32 kHz sample rate.
Figure 23.
                                                                                 The AD1939 also allows system configurations with more than
The ADC and DAC serial data modes default to I2S. The ports                      four ADC channels as shown in Figure 15 (using 8 ADCs) and
can also be programmed for left-justified, right-justified, and                  Figure 16 (using 16 ADCs). Again, due to the high ABCLK fre-
TDM modes. The word width is 24 bits by default and can be                       quency, this mode is available only in the 48 kHz/44.1 kHz/32 kHz
programmed for 16 or 20 bits. The DAC serial formats are                         sample rate.
programmable according to the DAC Control 0 register. The
                                                                Rev. E | Page 15 of 32


AD1939                                                                                                                                                             Data Sheet
Combining the AUX ADC and DAC modes results in a system                                         and one AD1939. This mode is shown in Figure 17 (combined
configuration of 8 ADCs and 12 DACs. The system, then, con-                                     AUX DAC and ADC modes).
sists of two external stereo ADCs, two external stereo DACs,
Table 12. Pin Function Changes in TDM and AUX Modes
Pin Mnemonic        Stereo Modes                           TDM Modes                                                                    AUX Modes
ASDATA1             ADC1 Data Out                          ADC TDM Data Out                                                             TDM Data Out
ASDATA2             ADC2 Data Out                          ADC TDM Data In                                                              AUX Data Out 1 (to Ext. DAC 1)
DSDATA1             DAC1 Data In                           DAC TDM Data In                                                              TDM Data In
DSDATA2             DAC2 Data In                           DAC TDM Data Out                                                             AUX Data In 1 (from Ext. ADC 1)
DSDATA3             DAC3 Data In                           DAC TDM Data In 2 (Dual-Line Mode)                                           AUX Data In 2 (from Ext. ADC 2)
DSDATA4             DAC4 Data In                           DAC TDM Data Out 2 (Dual-Line Mode)                                          AUX Data Out 2 (to Ext. DAC 2)
ALRCLK              ADC LRCLK In/ADC LRCLK Out             ADC TDM Frame Sync In/ADC TDM Frame Sync Out                                 TDM Frame Sync In/TDM Frame Sync Out
ABCLK               ADC BCLK In/ADC BCLK Out               ADC TDM BCLK In/ADC TDM BCLK Out                                             TDM BCLK In/TDM BCLK Out
DLRCLK              DAC LRCLK In/DAC LRCLK Out             DAC TDM Frame Sync In/DAC TDM Frame Sync Out                                 AUX LRCLK In/AUX LRCLK Out
DBCLK               DAC BCLK In/DAC BCLK Out               DAC TDM BCLK In/DAC TDM BCLK Out                                             AUX BCLK In/AUX BCLK Out
          ALRCLK
           ABCLK
                                                                                                                               AUXILIARY DAC CHANNELS
                                                                                                                                      APPEAR AT
                              UNUSED SLOTS                                8 ON-CHIP DAC CHANNELS                                    AUX DAC PORTS
         DSDATA1
                      EMPTY    EMPTY   EMPTY   EMPTY   DAC L1   DAC R1   DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   AUX L1   AUX R1   AUX L2   AUX R2
         (TDM_IN)
                                           32 BITS
                                MSB
          DLRCLK                               LEFT                                                                       RIGHT
       (AUX PORT)
           DBCLK
       (AUX PORT)
         ASDATA2
       (AUX1_OUT)                          MSB                                                                    MSB
                                                                                                                                                                       06071-051
         DSDATA4
       (AUX2_OUT)                          MSB                                                                    MSB
                                                                Figure 14. 16-Channel DAC TDM-AUX Mode
                                                                            Rev. E | Page 16 of 32


Data Sheet                                                                                                                                     AD1939
      ALRCLK
       ABCLK
                                                                      8 ON-CHIP DAC CHANNELS
     DSDATA1       DAC L1             DAC R1          DAC L2           DAC R2          DAC L3        DAC R3           DAC L4      DAC R4
     (TDM_IN)
                                   4 ON-CHIP ADC CHANNELS                                              4 AUX ADC CHANNELS
      ASDATA1      ADC L1             ADC R1          ADC L2           ADC R2          AUX L1        AUX R1           AUX L2      AUX R2
    (TDM_OUT)
                                        32 BITS
                           MSB
       DLRCLK
    (AUX PORT)                              LEFT                                                              RIGHT
        DBCLK
    (AUX PORT)
     DSDATA2
     (AUX1_IN)                          MSB                                                            MSB
                                                                                                                                                06071-050
     DSDATA3
     (AUX2_IN)                          MSB                                                            MSB
                                                               Figure 15. 8-Channel AUX ADC Mode
      ALRCLK
       ABCLK
                  4 ON-CHIP ADC CHANNELS            AUXILIARY ADC CHANNELS                               UNUSED SLOTS
      ASDATA1
                 ADC L1   ADC R1   ADC L2   ADC R2 AUX L1   AUX R1   AUX L2   AUX R2 UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED
    (TDM_OUT)
                                        32 BITS
                           MSB
       DLRCLK                               LEFT                                                              RIGHT
    (AUX PORT)
        DBCLK
    (AUX PORT)
     DSDATA2
     (AUX1_IN)                          MSB                                                            MSB
                                                                                                                                                06071-052
     DSDATA3
     (AUX2_IN)                          MSB                                                            MSB
                                                              Figure 16. 16-Channel AUX ADC Mode
                                                                        Rev. E | Page 17 of 32


AD1939                                                                                                                                                            Data Sheet
      ALRCLK
       ABCLK
                                                                                                                              AUXILIARY DAC CHANNELS
                                                                                                                                     APPEAR AT
                          UNUSED SLOTS                                   8 ON-CHIP DAC CHANNELS                                    AUX DAC PORTS
     DSDATA1
                 EMPTY     EMPTY    EMPTY    EMPTY    DAC L1   DAC R1   DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   AUX L1   AUX R1   AUX L2   AUX R2
     (TDM_IN)
                  4 ON-CHIP ADC CHANNELS               AUXILIARY ADC CHANNELS                                        UNUSED SLOTS
      ASDATA1
                 ADC L1    ADC R1   ADC L2   ADC R2   AUX L1   AUX R1   AUX L2   AUX R2 UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED UNUSED
    (TDM_OUT)
       DLRCLK                                LEFT                                                                        RIGHT
    (AUX PORT)
        DBCLK
    (AUX PORT)
      DSDATA2
     (AUX1_IN)                           MSB                                                                     MSB
      DSDATA3
     (AUX2_IN)                           MSB                                                                     MSB
     ASDATA2
   (AUX1_OUT)                            MSB                                                                     MSB
                                                                                                                                                                      06071-053
     DSDATA4
   (AUX2_OUT)                            MSB                                                                     MSB
                                                           Figure 17. Combined AUX DAC and ADC Mode
                                                                           Rev. E | Page 18 of 32


Data Sheet                                                                                                                                                                    AD1939
DAISY-CHAIN MODE                                                                                     There are two configurations for the ADC port to work in
                                                                                                     daisy-chain mode. The first one is with an ABCLK at 256 fS
The AD1939 also allows a daisy-chain configuration to expand                                         shown in Figure 21. The second configuration is shown in
the system to 8 ADCs and 16 DACs (see Figure 18). In this                                            Figure 22. Note that in the 512 fS ABCLK mode, the ADC
mode, the DBCLK frequency is 512 fS. The first eight slots of the                                    channels occupy the first eight slots; the second eight slots are
DAC TDM data stream belong to the first AD1939 in the chain                                          empty. The TDM_IN of the first AD1939 must be grounded in
and the last eight slots belong to the second AD1939. The second                                     all modes of operation.
AD1939 is the device attached to the DSP TDM port.
                                                                                                     The I/O pins of the serial ports are defined according to the
To accommodate 16 channels at a 96 kHz sample rate, the                                              serial mode selected. See Table 13 for a detailed description of
AD1939 can be configured into a dual-line, TDM mode as                                               the function of each pin. See Figure 26 for a typical AD1939
shown in Figure 19. This mode allows a slower DBCLK than                                             configuration with two external stereo DACs and two external
normally required by the one-line TDM mode.                                                          stereo ADCs.
Again, the first four channels of each TDM input belong to the                                       Figure 23 through Figure 25 show the serial mode formats. For
first AD1939 in the chain and the last four channels belong to                                       maximum flexibility, the polarity of LRCLK and BCLK are
the second AD1939.                                                                                   programmable. In these figures, all of the clocks are shown with
The dual-line TDM mode can also be used to send data at a                                            their normal polarity. The default mode is I2S.
192 kHz sample rate into the AD1939 as shown in Figure 20.
                DLRCLK
                  DBCLK
                                    8 DAC CHANNELS OF THE FIRST IC IN THE CHAIN                          8 DAC CHANNELS OF THE SECOND IC IN THE CHAIN
        DSDATA1 (TDM_IN)
   OF THE SECOND AD1939    DAC L1    DAC R1   DAC L2    DAC R2   DAC L3   DAC R3   DAC L4   DAC R4   DAC L1   DAC R1    DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4
      DSDATA2 (TDM_OUT)
   OF THE SECOND AD1939
                                                                                                     DAC L1   DAC R1    DAC L2   DAC R2   DAC L3   DAC R3   DAC L4   DAC R4
         THIS IS THE TDM
     TO THE FIRST AD1939
                                                       8 UNUSED SLOTS
                                                                                                              32 BITS
                                                                                                                                                                                 06071-054
                       FIRST         SECOND
                      AD1939         AD1939              DSP
                                                                                                          MSB
                 Figure 18. Single-Line DAC TDM Daisy-Chain Mode (Applicable to 48 kHz Sample Rate, 16-Channel, Two-AD1939 Daisy Chain)
                                                                               Rev. E | Page 19 of 32


AD1939                                                                                                                                         Data Sheet
          DLRCLK
           DBCLK
                             8 DAC CHANNELS OF THE FIRST IC IN THE CHAIN              8 DAC CHANNELS OF THE SECOND IC IN THE CHAIN
         DSDATA1
             (IN)         DAC L1         DAC R1         DAC L2        DAC R2         DAC L1          DAC R1         DAC L2        DAC R2
         DSDATA2
            (OUT)                                                                    DAC L1          DAC R1         DAC L2        DAC R2
         DSDATA3
             (IN)         DAC L3         DAC R3         DAC L4        DAC R4         DAC L3          DAC R3         DAC L4        DAC R4
         DSDATA4
            (OUT)                                                                    DAC L3          DAC R3         DAC L4        DAC R4
                                           32 BITS
                                MSB
                                                                                                                                                  06071-055
                 FIRST        SECOND
                AD1939        AD1939         DSP
     Figure 19. Dual-Line DAC TDM Mode (Applicable to 96 kHz Sample Rate, 16-Channel, Two-AD1939 Daisy Chain); DSDATA3 and DSDATA4 Are the Daisy Chain
        DLRCLK
         DBCLK
       DSDATA1                  DAC L1                       DAC R1                        DAC L2                        DAC R2
       DSDATA2                  DAC L3                       DAC R3                        DAC L4                        DAC R4
                                          32 BITS
                              MSB                                                                                                                             06071-058
                                    Figure 20. Dual-Line DAC TDM Mode (Applicable to 192 kHz Sample Rate, 8-Channel Mode)
               ALRCLK
                 ABCLK
                                    4 ADC CHANNELS OF SECOND IC IN THE CHAIN                     4 ADC CHANNELS OF FIRST IC IN THE CHAIN
    ASDATA1 (TDM_OUT
 OF THE SECOND AD1939          ADC L1         ADC R1         ADC L2        ADC R2          ADC L1          ADC R1        ADC L2       ADC R2
          IN THE CHAIN)
      ASDATA2 (TDM_IN
 OF THE SECOND AD1939          ADC L1         ADC R1         ADC L2        ADC R2
          IN THE CHAIN)
                                                                                                 32 BITS
                     FIRST      SECOND
                    AD1939      AD1939            DSP
                                                                                               MSB                                                                        06071-056
                                          Figure 21. ADC TDM Daisy-Chain Mode (256 fS ABCLK, Two-AD1939 Daisy Chain)
                                                                      Rev. E | Page 20 of 32


Data Sheet                                                                                                                                        AD1939
               ALRCLK
                ABCLK
                              4 ADC CHANNELS OF                     4 ADC CHANNELS OF
                            SECOND IC IN THE CHAIN                 FIRST IC IN THE CHAIN
    ASDATA1 (TDM_OUT
 OF THE SECOND AD1939      ADC L1   ADC R1   ADC L2    ADC R2   ADC L1   ADC R1   ADC L2   ADC R2
          IN THE CHAIN)
      ASDATA2 (TDM_IN
 OF THE SECOND AD1939      ADC L1   ADC R1   ADC L2    ADC R2
          IN THE CHAIN)
                                                                                                          32 BITS
                   FIRST         SECOND
                  AD1939         AD1939          DSP
                                                                                                        MSB                                                     06071-057
                                        Figure 22. ADC TDM Daisy-Chain Mode (512 fS ABCLK, Two-AD1939 Daisy Chain)
    LRCLK                                 LEFT CHANNEL                                                              RIGHT CHANNEL
     BCLK
    SDATA        MSB                                        LSB                               MSB                               LSB
                                                         LEFT-JUSTIFIED MODE—16 BITS TO 24 BITS PER CHANNEL
    LRCLK                                 LEFT CHANNEL                                                              RIGHT CHANNEL
     BCLK
    SDATA                  MSB                                           LSB                            MSB                           LSB
                                                          I2S-JUSTIFIED MODE—16 BITS TO 24 BITS PER CHANNEL
    LRCLK                                 LEFT CHANNEL                                                              RIGHT CHANNEL
     BCLK
    SDATA                            MSB                                           LSB                          MSB                         LSB
                                                      RIGHT-JUSTIFIED MODE—SELECT NUMBER OF BITS PER CHANNEL
    LRCLK
     BCLK
    SDATA                  MSB                                           LSB                            MSB                           LSB
                                                                DSP MODE—16 BITS TO 24 BITS PER CHANNEL
                                                                                      1/fS
            NOTES
            1. DSP MODE DOES NOT IDENTIFY CHANNEL.
                                                                                                                                                    06071-013
            2. LRCLK NORMALLY OPERATES AT fS EXCEPT FOR DSP MODE, WHICH IS 2 × fS.
            3. BCLK FREQUENCY IS NORMALLY 64 × LRCLK BUT MAY BE OPERATED IN BURST MODE.
                                                                         Figure 23. Stereo Serial Modes
                                                                               Rev. E | Page 21 of 32


AD1939                                                                                                                         Data Sheet
                    tDBH
          DBCLK
                            tDBL
                            tDLS                                                                                        tDLH
         DLRCLK
                            tDDS
        DSDATAx
  LEFT-JUSTIFIED                   MSB              MSB–1
          MODE
                                         tDDH
                                                 tDDS
        DSDATAx
   I2S-JUSTIFIED                                        MSB
          MODE
                                                              tDDH
                                                                                            tDDS               tDDS
        DSDATAx
 RIGHT-JUSTIFIED                                                                                  MSB             LSB
                                                                                                                                      06071-014
          MODE
                                                                                                        tDDH          tDDH
                                                                      Figure 24. DAC Serial Timing
                    tABH
          ABCLK
                            tABL
                            tALS                                                                                        tALH
         ALRCLK
                           tABDD
        ASDATAx
  LEFT-JUSTIFIED
          MODE                           MSB                  MSB–1
                                                tABDD
         ASDATAx
    I2S-JUSTIFIED                                             MSB
           MODE
                                                                                          tABDD
        ASDATAx
 RIGHT-JUSTIFIED                                                                                        MSB
                                                                                                                                      06071-015
                                                                                                                         LSB
          MODE
                                                                      Figure 25. ADC Serial Timing
                                                                         Rev. E | Page 22 of 32


Data Sheet                                                                                                                                                              AD1939
Table 13. Pin Function Changes in TDM and AUX Modes (Replication of Table 12)
Pin Mnemonic   Stereo Modes                        TDM Modes                                                                         AUX Modes
ASDATA1        ADC1 Data Out                       ADC TDM Data Out                                                                  TDM Data Out
ASDATA2        ADC2 Data Out                       ADC TDM Data In                                                                   AUX Data Out 1 (to Ext. DAC 1)
DSDATA1        DAC1 Data In                        DAC TDM Data In                                                                   TDM Data In
DSDATA2        DAC2 Data In                        DAC TDM Data Out                                                                  AUX Data In 1 (from Ext. ADC 1)
DSDATA3        DAC3 Data In                        DAC TDM Data In 2 (Dual-Line Mode)                                                AUX Data In 2 (from Ext. ADC 2)
DSDATA4        DAC4 Data In                        DAC TDM Data Out 2 (Dual-Line Mode)                                               AUX Data Out 2 (to Ext. DAC 2)
ALRCLK         ADC LRCLK In/ADC LRCLK Out          ADC TDM Frame Sync In/ADC TDM Frame Sync Out                                      TDM Frame Sync In/TDM Frame Sync Out
ABCLK          ADC BCLK In/ADC BCLK Out            ADC TDM BCLK In/ADC TDM BCLK Out                                                  TDM BCLK In/TDM BCLK Out
DLRCLK         DAC LRCLK In/DAC LRCLK Out          DAC TDM Frame Sync In/DAC TDM Frame Sync Out                                      AUX LRCLK In/AUX LRCLK Out
DBCLK          DAC BCLK In/DAC BCLK Out            DAC TDM BCLK In/DAC TDM BCLK Out                                                  AUX BCLK In/AUX BCLK Out
                                        30MHz                                                                             SHARC IS RUNNING IN SLAVE MODE
                                                                                                                          (INTERRUPT-DRIVEN)
                                                       FSYNC-TDM (RFS)
                                                                                          SHARC®
                                                                                            TFS (NC)
                                       12.288MHz
                                                                         RxCLK   RxDATA                TxCLK     TxDATA
                        LRCLK                                                                                                                LRCLK
                        BCLK                                                                                                                 BCLK
                 AUX                                                                                                                               AUX
                ADC 1   DATA                                                                                                                 DATA DAC 1
                                                                         ASDATA1 ALRCLK ABCLK DSDATA1
                        MCLK                                                                                                                 MCLK
                                                     DBCLK
                                                     DLRCLK                                AD1939
                        LRCLK                                                                                                                LRCLK
                        BCLK                         DSDATA2                                                   ASDATA2                       BCLK
                 AUX                                                                      TDM MASTER                                               AUX
                ADC 2   DATA                         DSDATA3                              AUX MASTER           DSDATA4                       DATA DAC 2
                                                                                                                                                            06071-019
                        MCLK                         MCLKI/XI                                                                                MCLK
                           Figure 26. Example of AUX Mode Connection to SHARC (AD1939 as TDM Master/AUX Master Shown)
                                                                                   Rev. E | Page 23 of 32


AD1939                                                                                                                          Data Sheet
CONTROL REGISTERS
DEFINITIONS
The global address for the AD1939 is 0x04, shifted left one bit due to the R/W bit. All registers are reset to 0, except for the DAC volume
registers that are set to full volume.
Note that the first setting in each control register parameter is the default setting.
Table 14. Register Format
          Global Address                       R/W                                                Register Address                       Data
Bit       23:17                                16                                                 15:8                                   7:0
Table 15. Register Addresses and Functions
Address                    Function
0                          PLL and Clock Control 0
1                          PLL and Clock Control 1
2                          DAC Control 0
3                          DAC Control 1
4                          DAC Control 2
5                          DAC individual channel mutes
6                          DAC L1 volume control
7                          DAC R1 volume control
8                          DAC L2 volume control
9                          DAC R2 volume control
10                         DAC L3 volume control
11                         DAC R3 volume control
12                         DAC L4 volume control
13                         DAC R4 volume control
14                         ADC Control 0
15                         ADC Control 1
16                         ADC Control 2
PLL AND CLOCK CONTROL REGISTERS
Table 16. PLL and Clock Control 0 Register
Bit          Value            Function                                 Description
0            0                Normal operation                         PLL power-down
             1                Power-down
2:1          00               INPUT 256 (× 44.1 kHz or 48 kHz)         MCLKI/XI pin functionality (PLL active), master clock rate setting
             01               INPUT 384 (× 44.1 kHz or 48 kHz)
             10               INPUT 512 (× 44.1 kHz or 48 kHz)
             11               INPUT 768 (× 44.1 kHz or 48 kHz)
4:3          00               XTAL oscillator enabled                  MCLKO/XO pin, master clock rate setting
             01               256 × fS VCO output
             10               512 × fS VCO output
             11               Off
6:5          00               MCLKI/XI                                 PLL input
             01               DLRCLK
             10               ALRCLK
             11               Reserved
7            0                Disable: ADC and DAC idle                Internal master clock enable
             1                Enable: ADC and DAC active
                                                                Rev. E | Page 24 of 32


Data Sheet                                                                                 AD1939
Table 17. PLL and Clock Control 1 Register
Bit    Value     Function                                   Description
0      0         PLL clock                                  DAC clock source select
       1         MCLK
1      0         PLL clock                                  ADC clock source select
       1         MCLK
2      0         Enabled                                    On-chip voltage reference
       1         Disabled
3      0         Not locked                                 PLL lock indicator (read only)
       1         Locked
7:4    0000      Reserved
DAC CONTROL REGISTERS
Table 18. DAC Control 0 Register
Bit    Value     Function                                   Description
0      0         Normal                                     Power-down
       1         Power-down
2:1    00        32 kHz/44.1 kHz/48 kHz                     Sample rate
       01        64 kHz/88.2 kHz/96 kHz
       10        128 kHz/176.4 kHz/192 kHz
       11        Reserved
5:3    000       1                                          SDATA delay (BCLK periods)
       001       0
       010       8
       011       12
       100       16
       101       Reserved
       110       Reserved
       111       Reserved
7:6    00        Stereo (normal)                            Serial format
       01        TDM (daisy chain)
       10        DAC AUX mode (ADC-, DAC-, TDM-coupled)
       11        Dual-line TDM
Table 19. DAC Control 1 Register
Bit    Value     Function                                   Description
0      0         Latch in mid cycle (normal)                BCLK active edge (TDM in)
       1         Latch in at end of cycle (pipeline)
2:1    00        64 (2 channels)                            BCLKs per frame
       01        128 (4 channels)
       10        256 (8 channels)
       11        512 (16 channels)
3      0         Left low                                   LRCLK polarity
       1         Left high
4      0         Slave                                      LRCLK master/slave
       1         Master
5      0         Slave                                      BCLK master/slave
       1         Master
6      0         DBCLK pin                                  BCLK source
       1         Internally generated
7      0         Normal                                     BCLK polarity
       1         Inverted
                                                     Rev. E | Page 25 of 32


AD1939                                                                                       Data Sheet
Table 20. DAC Control 2 Register
Bit         Value    Function                 Description
0           0        Unmute                   Master mute
            1        Mute
2:1         00       Flat                     De-emphasis (32 kHz/44.1 kHz/48 kHz mode only)
            01       48 kHz curve
            10       44.1 kHz curve
            11       32 kHz curve
4:3         00       24                       Word width
            01       20
            10       Reserved
            11       16
5           0        Noninverted              DAC output polarity
            1        Inverted
7:6         00       Reserved
Table 21. DAC Individual Channel Mutes
Bit         Value    Function                 Description
0           0        Unmute                   DAC 1 left mute
            1        Mute
1           0        Unmute                   DAC 1 right mute
            1        Mute
2           0        Unmute                   DAC 2 left mute
            1        Mute
3           0        Unmute                   DAC 2 right mute
            1        Mute
4           0        Unmute                   DAC 3 left mute
            1        Mute
5           0        Unmute                   DAC 3 right mute
            1        Mute
6           0        Unmute                   DAC 4 left mute
            1        Mute
7           0        Unmute                   DAC 4 right mute
            1        Mute
Table 22. DAC Volume Controls
Bit         Value    Function                 Description
7:0         0        No attenuation           DAC volume control
            1 to 254 −3/8 dB per step
            255      Full attenuation
                                       Rev. E | Page 26 of 32


Data Sheet                                                                                                   AD1939
ADC CONTROL REGISTERS
Table 23. ADC Control 0 Register
Bit         Value        Function                                                 Description
0           0            Normal                                                   Power-down
            1            Power down
1           0            Off                                                      High-pass filter
            1            On
2           0            Unmute                                                   ADC 1L mute
            1            Mute
3           0            Unmute                                                   ADC 1R mute
            1            Mute
4           0            Unmute                                                   ADC 2L mute
            1            Mute
5           0            Unmute                                                   ADC 2R mute
            1            Mute
7:6         00           32 kHz/44.1 kHz/48 kHz                                   Output sample rate
            01           64 kHz/88.2 kHz/96 kHz
            10           128 kHz/176.4 kHz/192 kHz
            11           Reserved
Table 24. ADC Control 1 Register
Bit         Value        Function                                                 Description
1:0         00           24                                                       Word width
            01           20
            10           Reserved
            11           16
4:2         000          1                                                        SDATA delay (BCLK periods)
            001          0
            010          8
            011          12
            100          16
            101          Reserved
            110          Reserved
            111          Reserved
6:5         00           Stereo                                                   Serial format
            01           TDM (daisy chain)
            10           ADC AUX mode (ADC-, DAC-, TDM-coupled)
            11           Reserved
7           0            Latch in mid cycle (normal)                              BCLK active edge (TDM in)
            1            Latch in at end of cycle (pipeline)
                                                           Rev. E | Page 27 of 32


AD1939                                                                                               Data Sheet
Table 25. ADC Control 2 Register
Bit             Value         Function                                            Description
0               0             50/50 (allows 32, 24, 20, or 16 bit clocks (BCLKs)  LRCLK format
                              per channel)
                1             Pulse (32 BCLKs per channel)
1               0             Drive out on falling edge (DEF)                     BCLK polarity
                1             Drive out on rising edge
2               0             Left low                                            LRCLK polarity
                1             Left high
3               0             Slave                                               LRCLK master/slave
                1             Master
5:4             00            64                                                  BCLKs per frame
                01            128
                10            256
                11            512
6               0             Slave                                               BCLK master/slave
                1             Master
7               0             ABCLK pin                                           BCLK source
                1             Internally generated
                                                           Rev. E | Page 28 of 32


Data Sheet                                                                                                                             AD1939
ADDITIONAL MODES                                                                  To relax the requirement for the setup time of the AD1939 in
                                                                                  cases of high speed TDM data transmission, the AD1939 can
The AD1939 offers several additional modes for board level                        latch in the data using the falling edge of DBCLK. This effec-
design enhancements. To reduce the EMI in board level design,                     tively dedicates the entire BCLK period to the setup time. This
serial data can be transmitted without an explicit BCLK. See                      mode is useful in cases where the source has a large delay time
Figure 27 for an example of a DAC TDM data transmission                           in the serial data driver. Figure 28 shows this pipeline mode of
mode that does not require high speed DBCLK. This configura-                      data transmission.
tion is applicable when the AD1939 master clock is generated
by the PLL with the DLRCLK as the PLL reference frequency.                        Both the BCLK-less and pipeline modes are available on the
                                                                                  ADC serial data port.
           DLRCLK
                                        32 BITS
          INTERNAL
             DBCLK
          DSDATAx
           DLRCLK
          INTERNAL
             DBCLK
      TDM-DSDATAx                                                                                                                                    06071-059
                                       Figure 27. Serial DAC Data Transmission in TDM Format Without DBCLK
                           (Applicable Only If PLL Locks to DLRCLK, This Mode Is Also Available in the ADC Serial Data Port)
         DLRCLK
          DBCLK
                                                   DATA MUST BE VALID
                                                   AT THIS BCLK EDGE
        DSDATAx                   MSB                                                                                                    06071-060
                                            Figure 28. I2S Pipeline Mode in DAC Serial Data Transmission
                                    (Applicable in Stereo and TDM, Useful for High Frequency TDM Transmission,
                                               This Mode Is Also Available in the ADC Serial Data Port)
                                                                 Rev. E | Page 29 of 32


AD1939                                                                                                                                                                             Data Sheet
APPLICATION CIRCUITS
Typical application circuits are shown in Figure 29 through Figure 32. Figure 29 shows a typical ADC input filter circuit. Recommended
loop filters for LR clock and master clock as the PLL reference are shown in Figure 30. Output filters for the DAC outputs are shown in
Figure 31 and a regulator circuit is shown in Figure 32.
                                      120pF
         600Z       5.76kΩ            5.76kΩ
AUDIO
INPUT
                              2                                                                                                     11kΩ               68pF
          100pF                   –                                                                                                                    NPO
                                  OP275
                                               1                                                                                  11kΩ       3.01kΩ
                                                                                                                           DAC
                              3                                                                                           OUTN
                                  +                                                                                                          270pF     2
                                                                                                                                                           –
                                                                                                                                             NPO                       1   604Ω
                                                                                                                                                           OP275                                     AUDIO
                                                                                                                                             560pF     3                                             OUTPUT
                                      5.76kΩ            4.7µF 237Ω                                                                                         +
                                                                                                                                             NPO                               2.2nF
                                                           +                                 ADCxN                                                                              NPO
                                                                       1nF                                                 DAC
                                      120pF                                                                               OUTP
                                                                      NPO                                                        5.62kΩ      1.50kΩ
                                                                                     100pF                                        5.62kΩ
                                      5.76kΩ
                                                                                                                                                                                                         06071-031
                                                                   1nF
                              6                                   NPO
                                  –                     4.7µF 237Ω
                                               7
                                  OP275                                                      ADCxP
                              5                            +
                                                                                                     06071-029
                                  +
                  Figure 29. Typical ADC Input Filter Circuit                                                                Figure 31. Typical DAC Output Filter Circuit (Differential)
                                                                                                                                               100nF           10µF
                                                                                                                                                           +
                       LRCLK                                   MCLK                                                               VSUPPLY                                         5V
            LF                                     LF
                                                                                                                                                 1kΩ               E
                       39nF                                    5.6nF                                                                                       B
                   +                                                                                                                VDRIVE                            FZT953
                                  2.2nF                                  390pF
                       3.32kΩ                                  562Ω                                                                                                C
                                                                                 06071-030
                                                                                                                                   VSENSE                                         3.3V
         AVDD2                            AVDD2                                                                                                            +
                                                                                                                                               100nF           10µF
                                                                                                                                                                                         06071-032
  Figure 30. Recommended Loop Filters for LRCLK or MCLK PLL Reference                                                            Figure 32. Recommended 3.3 V Regulator Circuit
                                                                                                 Rev. E | Page 30 of 32


Data Sheet                                                                                                                                                AD1939
OUTLINE DIMENSIONS
                                                                                                      12.20
                                                                0.75                                  12.00 SQ
                                                                0.60      1.60                        11.80
                                                                0.45      MAX
                                                                                       64                                 49
                                                                                   1                                           48
                                                                                             PIN 1
                                                                                                                                    10.20
                                                                                                     TOP VIEW                       10.00 SQ
                                                                                                     (PINS DOWN)
                                                                                                                                     9.80
                                 1.45
                                                        0.20
                                 1.40
                                                        0.09
                                 1.35
                                                          7°
                                                         3.5°
                                    0.15                                          16                                           33
                                                          0°
                                    0.05   SEATING                                     17                                 32
                                           PLANE     0.08
                                                     COPLANARITY             VIEW A                                0.27
                                                                                               0.50
                                                                                               BSC                 0.22
                                        VIEW A                                              LEAD PITCH             0.17
                                   ROTATED 90° CCW
                                                                                                                                               051706-A
                                                         COMPLIANT TO JEDEC STANDARDS MS-026-BCD
                                                      Figure 33. 64-Lead Low Profile Quad Flat Package [LQFP]
                                                                             (ST-64-2)
                                                                  Dimensions shown in millimeters
ORDERING GUIDE
Model 1, 2                                  Temperature Range                      Package Description                                Package Option
AD1939YSTZ                                  –40°C to +105°C                        64-Lead LQFP                                       ST-64-2
AD1939YSTZRL                                –40°C to +105°C                        64-Lead LQFP, 13” Tape and Reel                    ST-64-2
AD1939WBSTZ                                 –40°C to +105°C                        64-Lead LQFP                                       ST-64-2
AD1939WBSTZ-RL                              –40°C to +105°C                        64-Lead LQFP, 13” Tape and Reel                    ST-64-2
EVAL-AD1939AZ                                                                      Evaluation Board
1
    Z = RoHS Compliant Part.
2
    W = Qualified for Automotive Applications.
AUTOMOTIVE PRODUCTS
The AD1939W models are available with controlled manufacturing to support the quality and reliability requirements of automotive
applications. Note that these automotive models may have specifications that differ from the commercial models; therefore, designers
should review the Specifications section of this data sheet carefully. Only the automotive grade products shown are available for use in
automotive applications. Contact your local Analog Devices account representative for specific product ordering information and to
obtain the specific Automotive Reliability reports for these models.
                                                                       Rev. E | Page 31 of 32


AD1939                                                                                     Data Sheet
NOTES
©2006–2013 Analog Devices, Inc. All rights reserved. Trademarks and
registered trademarks are the property of their respective owners.
                                                   D06071-0-2/13(E)
                                                                    Rev. E | Page 32 of 32


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 AD1939WBSTZ AD1939YSTZ EVAL-AD1939AZ AD1939WBSTZ-RL AD1939YSTZRL
