                                                                                                           Datasheet
USB Audio Decoder LSI Series
AAC/WMA/MP3
+SD Memory Card + iPod
 BU9450xAxxx Series
●Description                                                         ●Package      W(Typ.) x D(Typ.) x H(Max.)
 BU9450xAxxx series are WAV/AAC/WMA/MP3 decoder
 LSI which contains USB host, SD card I/F, audio DAC,
 system controller, regulator for internal CORE power
 supply.
●Features
    USB2.0 Full Speed host I/F function contained.
    SD card I/F function contained.
       2
    I C format I/F function contained.
                                     2
    Protocol conversion from I C to USB HID or from USB
                 2
         HID to I C.
         (BU94502AMUV and BU94502AKS2 only)
    MP3 decode function contained. (Available for
         MPEG1, 2 and 2.5, Layer 1, 2 and 3)                                                VQFN040V6060
    WMA decode function contained. (Available for WMA9                               6.00mm x 6.00mm x 1.00mm
         standard and not available for DRM)
    AAC decode function contained. (available for
         MPEG4 AAC-LC and not available for DRM)
    WAV format file playing function contained.
    Sample Rate Converter contained.
    System Controller contained.
    FAT analysis function contained.
    Browsing function of File Names, Folder Names on
         music playing contained.
    ID3TAG and WMATAG and AACTAG Analysis.
    Fast forward playing and fast backward playing
         function contained.
    Resume function contained.
    Reading a specified file data is possible from
         connected memory.
    LUN is selectable.                                                                        SQFP-T52
    Sound Effect function contained.                                               12.00mm x 12.00mm x 1.50mm
    Digital Audio Out function contained.
           2
         (I S, EIAJ, S/PDIF)
    Audio DAC contained.
    Regulator for internal CORE power supply contained.
●Applications
   Audio products, etc
●Line up
                   Part number             iPod                   Package                Ordering part number
                  BU94501AMUV                         VQFN040V6060      Reel of 2000     BU94501AMUV-E2
                                       Not supported
                  BU94501AKS2                         SQFP-T52          Tray of 1000     BU94501AKS2
                  BU94502AMUV                         VQFN040V6060      Reel of 2000     BU94502AMUV-E2
                                         Supported
                  BU94502AKS2                         SQFP-T52          Tray of 1000     BU94502AKS2
              ○Product structure：Silicon Monolithic integrated circuit ○Radiation resistance design is not arranged
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                   TSZ02201-0V2V0E600070-1-2
                                                               1/69
TSZ22111・14・001                                                                                            2017.3.21 Rev.004


BU9450xAxxx series
●Basic circuit application diagram                   -part1
         This LSI builds in regulator for internal CORE power supply (1.5V).
         DVDD_M terminal of 10PIN connect to bypass condenser and don’t connect to power supply (3.3V)
         Please confirm the optimal oscillation circuit parameters applicable to your systems or products with the oscillator manufacturer in advance.
         VQFN040V6060 package exposes its frame of the backside of package. Note that this part is assumed to use after providing heat
         dissipation treatment to improve heat dissipation efficiency. Try to occupy as wide as possible with heat dissipation pattern not only on the
         board surface but also the backside.
                               Figure 1. an example of connection circuit application（BU9450xAMUV）
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                          TSZ02201-0V2V0E600070-1-2
                                                                             2/69
TSZ22111・15・001                                                                                                                       2017.3.21 Rev.004


BU9450xAxxx series
●Basic circuit application diagram                   -part2
         This LSI builds in regulator for internal CORE power supply (1.5V).
         DVDD_M terminal of 52PIN connect to bypass condenser and don’t connect to power supply (3.3V)
         Please confirm the optimal oscillation circuit parameters applicable to your systems or products with the oscillator manufacturer in advance.
                                 Figure 2. an example of connection circuit application（BU9450xAKS2）
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                          TSZ02201-0V2V0E600070-1-2
                                                                             3/69
TSZ22111・15・001                                                                                                                       2017.3.21 Rev.004


BU9450xAxxx series
●Difference of BU9450XA Series features
       Item                             BU94502AMUV             BU94501AMUV      BU94502AKS2              BU94501AKS2
       Package                                     VQFN040V6060                                SQFP-T52
       Number of pins                                    40pin                                   52pin
       Power supply                          3.3V (inner 1.5V regulator )             3.3V (inner 1.5V regulator )
                                              USB Full speed(12Mbps),                  USB Full speed(12Mbps),
       USB     Host I/F
                                              USB mass storage class                   USB mass storage class
                                                       SPI mode                                SPI mode
       SD card I/F
                                            SD, SDHC, MMC, mini-SDcard               SD, SDHC, MC, mini-SDcard
       iPod                                Supported            Not supported *1   Supported             Not supported *1
       iPod automatic
                                           Supported            Not supported *1   Supported             Not supported *1
       enumeration
        2
       I C command I/F
                                                       Supported                               Supported
       （Slave）
       Patch cord download                             Supported                               Supported
       Change the Setting of
       timeout and retry mode
                                                       Supported                               Supported
       in USB memory or SD
       card mount operation
       Audio line output                               Supported                               Supported
                                                    2                                       2
       Digital audio output                        I S, EIAJ, SPDIF                        I S, EIAJ, SPDIF
       Sample rate convertor                           Supported                               Supported
       clock                                       16.9344MHz      (*1)                    16.9344MHz      (*1)
       Playable MP3 files                        *.mp3, *.mp2, *.mp1                     *.mp3, *.mp2, *.mp1
       Playable WMA files                             *.asf, *.wma                            *.asf, *.wma
       Playable AAC files                        *.m4a, *.3gp, *.mp4                     *.m4a, *.3gp, *.mp4
       Playable WAV files                                *.wav                                   *.wav
       Browsing function                               Supported                               Supported
     *1   For using of BU94502AMUV and BU94502AKS2, It is necessary to become a licensee of Apple Inc. regarding "Made
                       for iPod/iPhone/iPad License".
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                              TSZ02201-0V2V0E600070-1-2
                                                                 4/69
TSZ22111・15・001                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
 ●Block diagram
                                                                            MP3/WMA/        SRC
                       USB                                                  AAC/WAV
                         I/F                     File                        Decoder
                                             System          Data                            I2S
                                                                                                      I2S Out
                                             (FAT12         Buffer                           OUT
                                             /16/32)                       TAG Analysis /
                                                                              Browsing      SPDIF
                        SD                                                                            SPIDIF Out
                                                                                             OUT
                         I/F
                                                             System Controller
                                 USB/
        16.9344                                                                           Audio       Power
                               System                                                                  AMP
          MHz                                                                             DAC
                                  PLL
                                                                        Serial
                                                         Command
          3.3V                1.5V LDO                                  (SPI)
                                                            I/F
                                                                       Data I/F
                                USB/SD
                                         Title 5. SONG_E
                                   01:10 Album  ALBUM Z
                                         Artist ARTIST A          MCU
                                  User I/F                 Main Control Block
                                                          Figure 3. Block diagram
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                   TSZ02201-0V2V0E600070-1-2
                                                                    5/69
TSZ22111・15・001                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
 ●Arrangement of Terminals
    BU94501AMUV / BU94502AMUV
                                                                    DVDD_M     SDA          SCL             BUSY            MCHNG          SEARCH        IRPTO        TMODE           RESETX          DVSSIO
                                                                    10          9            8                7               6             5             4            3                2              1
                                         DVSSIO             11                                                                                                                                                  40         SD_CS
                                         DVDDIO             12                                                                                                                                                  39         SD_DI
                                          TEST1             13                                                                                                                                                  38         SD_CLK
                                         XIN_PLL            14                                                                                                                                                  37         SD_DO
                                     XOUT_PLL               15                                      BU9450xAMUV                                                                                                 36         SD_CON
                                          TEST2             16                                      VQFN040V6060                                                                                                35         DAVDD
                                          TEST3             17                                                                                                                                                  34         LDACO
                                          TEST4             18                                                                                                                                                  33         VCDACO
                                         AVDDC              19                                                                                                                                                  32         RDACO
                                         AVSSC              20                                                                                                                                                  31         DAVSS
                                                                    21         22           23              24             25              26            27           28              29              30
                                                                    USBDM      USBDP        REXTI
                                                                                                                                                                                      DVDDIO          AMUTE
                                                                                                                           LRCK/SPDIF
                                                                                                                                           BCK
                                                                                                                                                         DATA
                                                                                                            CLK24MI
                                                                                                                                                                      MCLK
                                           Figure 4. Arrangement of Terminals (BU9450xAMUV)
    BU94501AKS2 / BU94502AKS2
                                                   DVDD_M    SDA        SCL         BUSY         MCHNG            SEARCH            N.C.         IRPTO        TMODE          RESETX            N.C.           N.C.     DVSSIO
                                                  52         51 50                 49            48               47               46           45            44              43               42              41       40
                               DVSSIO         1                                                                                                                                                                                 39   N.C.
                               DVDDIO         2                                                                                                                                                                                 38   SD_CS
                                TEST1         3                                                                                                                                                                                 37   SD_DI
                               XIN_PLL        4                                                                                                                                                                                 36   SD_CLK
                             XOUT_PLL         5                                                                                                                                                                                 35   SD_DO
                                  N.C.        6                                                                                                                                                                                 34   SD_CON
                                  N.C.        7                                                       BU9450xAKS2                                                                                                               33   N.C.
                                TEST2         8
                                                                                                       SQFP-T52                                                                                                                 32   N.C.
                                TEST3         9                                                                                                                                                                                 31   DAVDD
                                TEST4        10                                                                                                                                                                                 30   LDACO
                               AVDDC         11                                                                                                                                                                                 29   VCDACO
                               AVSSC         12                                                                                                                                                                                 28   RDACO
                                  N.C.       13                                                                                                                                                                                 27   DAVSS
                                                  14        15          16        17            18                19               20           21          22             23               24             25          26
                                                  USBDM     USBDP      REXTI
                                                                                  CLK24MI
                                                                                               LRCK/SPDIF
                                                                                                                N.C.                                                       N.C.
                                                                                                                                                                                                              DVDDIO   AMUTE
                                                                                                                                  BCK
                                                                                                                                              DATA
                                                                                                                                                                                               N.C.
                                                                                                                                                              MCLK
                                           Figure 5. Arrangement of Terminals (BU9450xAKS2)
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                                                                                                                                           TSZ02201-0V2V0E600070-1-2
                                                                                                                                6/69
TSZ22111・15・001                                                                                                                                                                                                                                2017.3.21 Rev.004


BU9450xAxxx series
 ●Description of Terminals -part1
    BU94501AMUV / BU94502AMUV
     No     Pin Name              IO Cir    IO       PU      Function
      1     DVSSIO                  －       －        －       GND terminal
                                                             H: Release RESET,
      2     RESETX                  A        I      PU*3
                                                             L: RESET
      3     TMODE                   H        I       －       Test mode terminal. Connect it to GND.
      4     IRPTO                   B       O        －       Connection interrupt output terminal
      5     SEARC                   B       O        －       Search flag output terminal
      6     MCHNG                   B       O        －       File play end flag output terminal
      7     BUSY                    B       O        －       Command analysis BUSY output temrinal
                                                              2
      8     SCL                      I       I       *2      I C slave clock input terminal
                                                              2
      9     SDA                      I     I/O       *2      I C slave data I/O terminal
                                                             CORE power (VDD2) monitor terminal. Connect it to bypass
     10     DVDD_M                  －       －        －
                                                             capacitor.
      11    DVSSIO                  －       －        －       GND terminal
     12     DVDDIO                  －       －        －       IO power (VDD1) terminal
     13     TEST1                   －        I       －       Test mode terminal. Connect it to GND.
     14     XIN_PLL                 E        I       －       X'tal (16.9344MHz) connection input terminal.
     15     XOUT_PLL                E       O        －       X'tal (16.9344MHz) connection output terminal.
     16     TEST2                   H        I       PU      Pull it up at VDD1 power.
     17     TEST3                   H        I       PU      Pull it up at VDD1 power.
     18     TEST4                   H        I    PU *1*3    Test mode terminal. Connect it to GND.
     19     AVDDC                   －       －        －       USB Power supply (VDD1) terminal
     20     AVSSC                   －       －        －       USB GND terminal
     21     USB_DM                  C      I/O       －       USB D－I/O terminal
     22     USB_DP                  C      I/O       －       USB D+ I/O terminal
                                                             USB bias resistor (12kΩ) connecting terminal
     23     REXTI                   D       O        －       Arrange the resistance of 12kΩ near PIN, and wiring on the PIN
                                                             side doesn't cross with other signal lines.
     24     CLK24MI                 B      I/O      PU*3     24MHz clock input terminal at SRC through mode
     25     LRCK/SPDIF              B       O        －       Digital Audio channel clock or SPDIF output terminal
     26     BCK                     B       O        －       Digital Audio bit clock output terminal
     27     DATA                    B       O        －       Digital Audio data output terminal
     28     MCLK                    B       O        －       Audio Master clock (12.288MHz/16.9344MHz) output terminal
     29     DVDDIO                  －       －        －       IO Power supply (VDD1) terminal
     30     AMUTE                   G       O        －       Audio Mute output terminal (H：MUTE OFF, L：MUTE ON)
     31     DAVSS                   －       －        －       Audio DAC GND terminal
     32     RDACO                   F       O        －       Audio DAC Rch Line output terminal
     33     VCDACO                  J       O        －       Audio DAC Reference voltage output terminal
     34     LDACO                   F       O        －       Audio DAC Lch Line output terminal
     35     DAVDD                   B       －        －       Audio DAC Power supply (VDD1) terminal
     36     SD_CON                  B        I      PU*3     SD card Connect terminal
     37     SD_DO                   B        I       －       SD card Data In terminal
     38     SD_CLK                  B       O        －       SD card Clock terminal
     39     SD_DI                   B       O        －       SD card Data Out terminal
     40     SD_CS                   B       O        －       SD card Chip select terminal
          *1 Pull-Up turns OFF when L is input.
          *2 An external pull-up resistor is required because of Open Drain IO
          *3 please input L level directly without resistance when you input L to the terminal with Pull-Up (about 33 kΩ)
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                     TSZ02201-0V2V0E600070-1-2
                                                                7/69
TSZ22111・15・001                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
 ●Description of Terminals -part2
BU94501AKS2 / BU94502AKS2
    No      Pin Name              IO Cir    IO       PU      Function
      1     DVSSIO                  －       －        －       GND terminal
      2     DVDDIO                  －       －        －       IO power (VDD1) terminal
      3     TEST1                   －        I       －       Test mode terminal. Connect it to GND.
      4     XIN_PLL                 E        I       －       X'tal (16.9344MHz) connection input terminal.
      5     XOUT_PLL                E       O        －       X'tal (16.9344MHz) connection output terminal.
      6     N.C.                    －       －        －       Non Connection
      7     N.C.                    －       －        －       Non Connection
      8     TEST2                   H        I       PU      Pull it up at VDD1 power.
      9     TEST3                   H        I       PU      Pull it up at VDD1 power.
     10     TEST4                   H        I    PU *1*3    Test mode terminal. Connect it to GND.
      11    AVDDC                   －       －        －       USB Power supply (VDD1) terminal
     12     AVSSC                   －       －        －       USB GND terminal
     13     N.C.                    －       －        －       Non Connection
     14     USB_DM                  C      I/O       －       USB D－I/O terminal
     15     USB_DP                  C      I/O       －       USB D+ I/O terminal
                                                             USB bias resistor (12kΩ) connecting terminal
     16     REXTI                   D       O        －       Arrange the resistance of 12kΩ near PIN, and wiring on the PIN
                                                              side doesn't to cross with other signal lines.
     17     CLK24MI                 B        I      PU*3     24MHz clock input terminal at SRC through mode
     18     LRCK/SPDIF              B       O        －       Digital Audio channel clock or SPDIF output terminal
     19     N.C.                    －       －        －       Non Connection
     20     BCK                     B       O        －       Digital Audio bit clock output terminal
     21     DATA                    B       O        －       Digital Audio data output terminal
     22     MCLK                    B       O        －       Audio Master clock (12.288MHz/16.9344MHz) output terminal
     23     N.C.                    －       －        －       Non Connection
     24     N.C.                    －       －        －       Non Connection
     25     DVDDIO                  －       －        －       IO Power supply (VDD1) terminal
     26     AMUTE                   G       O        －       Audio Mute output terminal (H：MUTE OFF, L：MUTE ON)
     27     DAVSS                   －       －        －       Audio DAC GND terminal
     28     RDACO                   F       O        －       Audio DAC Rch Line output terminal
     29     VCDACO                  J       O        －       Audio DAC Reference voltage output terminal
     30     LDACO                   F       O        －       Audio DAC Lch Line output terminal
     31     DAVDD                   B       －        －       Audio DAC Power supply (VDD1) terminal
     32     N.C.                    －       －        －       Non Connection
     33     N.C.                    －       －        －       Non Connection
     34     SD_CON                  B        I      PU*3     SD card Connect terminal
     35     SD_DO                   B        I       －       SD card Data In terminal
     36     SD_CLK                  B       O        －       SD card Clock terminal
     37     SD_DI                   B       O        －       SD card Data Out terminal
     38     SD_CS                   B       O        －       SD card Chip select terminal
     39     N.C.                    －       －        －       Non Connection
     40     DVSSIO                  －       －        －       GND terminal
     41     N.C.                    －       －        －       Non Connection
     42     N.C.                    －       －        －       Non Connection
     43     RESETX                  A        I      PU*3     H: Release RESET, L: RESET
     44     TMODE                   H        I       －       Test mode terminal. Connect it to GND.
     45     IRPTO                   B       O        －       Connection interrupt output terminal
     46     N.C.                    －       －        －       Non Connection
     47     SEARCH                  B       O        －       Search flag output terminal
     48     MCHNG                   B       O        －       File play end flag output terminal
     49     BUSY                    B       O        －       Command analysis BUSY output terminal
                                                              2
     50     SCL                      I       I       *2      I C slave clock input terminal
                                                              2
     51     SDA                      I     I/O       *2      I C slave data I/O terminal
                                                             CORE power (VDD2) monitor terminal
     52     DVDD_M                  －       －        －
                                                             Connect it to bypass capacitor.
          *1 Pull-Up turns OFF when L is input.
          *2 An external pull-up resistor is required because of Open Drain IO
          *3 please input L level directly without resistance when you input L to the terminal with Pull-Up (about 33 kΩ)
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                     TSZ02201-0V2V0E600070-1-2
                                                                8/69
TSZ22111・15・001                                                                                              2017.3.21 Rev.004


BU9450xAxxx series
●Terminal equivalent circuit diagram
                         A                             B                        C                  D
               DVDDIO     DVDDIO            DVDDIO      DVDDIO
                                                                     D                                AVDDC
                                                                     P                     AVDDC
                                                                     D
                                                                     M
                                                                           15KΩ   15KΩ
                     DVSSIO                                              AVSSC    AVSSC          AVSSC
                                                    DVSSIO
                         E                             F                        G                  H
                                                                    DVDDIO                         DVDDIO
                                                DAVDD
               VDD_PLL           VDD_PLL
           XIN                       XOUT
                   VSS_PLL          VSS_PLL                         DVSSIO
                                                DAVSS
                                                                                                    DVSSIO
                          I                            J
                                             DAVDD
             DVSSIO
                                             DAVSS
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                              TSZ02201-0V2V0E600070-1-2
                                                               9/69
TSZ22111・15・001                                                                                      2017.3.21 Rev.004


    BU9450xAxxx series
      ●Description of each block’s movement                 -part1
       1.  USB host interface
                 Builds in the USB Full speed (12Mbps) HOST control function.
                 Supports the USB mass storage class.
                 Supports changeover of LUN (Logical Unit Number) and possible that Test Unit Ready of other LUN is confirmed
                   during the playback.
  
                                                     2
                  Converts the protocol from I C to USB (HID) or vice versa during communications with the master
                   microcomputer.*
                 Builds in isochronous transmission functions up to 192byte/Frame. *
                 Builds in the interrupt IN transfer function. *
                 Doesn’t support external HUB.
                 Doesn’t support MTP.
                 *These functions are available for a device having two or more configurations.
       2.  SD card interface
                 Supports the SPI mode.
                 Supports SDHC memory cards.
                 Supports MMC, mini-SD and micro-SD cards.
                 Does not support CPRM.
            2
       3.  I C command interface (Slave I/F)
    
                                                                              2
                  Communicates with the master microcomputer using the I C interface format.
    
                                   2
                  Operates as I C slave I/F.
                 Supports the standard mode (100kbps) and the fast mode (400kbps).
                 Supports 7-bit addresses.
       4.  Audio output
                 Supports audio line outputs from built-in 1bit-DAC.
                 Builds in the digital soft mute function. *
    
                                                              2
                  Supports digital audio outputs of the I S format, the EIAJ format and those and the digital audio interface
                      (SPDIF).
                 Builds in sound effects including POPS, JAZZ, ROCK, CLASSIC, R&B and Bass Boost. *
                 *This is available for audio line outputs only.
       5.  Sample rate converter
                 Converts all support sample rates to 44.1 kHz based on the polyphase calculation.
                 Selection of sample rate converter ON / OFF is possible by the command configuration.
                                                                2
                 * Supports only digital audio outputs of the I S and EIAJ format and
                 When sample rate converter is used in off, enter the clock of 24.576 MHz synchronizing with the clock of 16.9344
                   MHz ( enter XIN_PLL terminal ) to the CLK24MI terminal.
       6.  System controller
                 Control all operations including interface control to the master microcomputer, USB device access, SD card
                 access, FAT analysis, sort function, decoding, encoding and audio output.
    www.rohm.com
    © 2012 ROHM Co., Ltd. All rights reserved.                                                  TSZ02201-0V2V0E600070-1-2
                                                                   10/69
    TSZ22111・15・001                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
  ●Description of each block’s movement                -part2
     7.  FAT analysis
             Supports FAT32, FAT16 and FAT12 file system.
             Supports VFAT (long file name).
             Supports multi-partition up to 1 partition.
             Supports multi-drive up to 1 drive.
             Supports playable folder hierarchies up to 16 hierarchies whose full path including the file name is within 260
             characters.
             Supports playable file extension of *.wav for WAV files.
             Supports playable file extensions of *.m4a, *.3gp and *.mp4 for AAC files.
             Supports playable file extensions of *.asf and *.wma for WMA files.
             Supports playable file extensions of *.mp3, *.mp2 and*.mp1 for MP3 files. For *.mp2 and *.mp1, the function
             allows you to select whether to play. Does not extinguish between upper case letters and lower case letters of file
             extensions.
             Up to 256 folders and 256 files can be sorted and played in the order of UNICODE when sorting functional
             effective.
             Can obtain 5 file names ahead from current music file.
             Can obtain a folder name or file name within 128 bytes.
             Supports 512, 1024, 2048 and 4096 bytes per sector.
             Playable file size up to 2G-1 byte. A file over 2Gbyte is recognized as a playable file, too. But, it is for 2Gbyte
             -1byte that it can play.
             Supports the device size up to FAT specification (2T byte).
     8.  Control from master microcomputer (little endian order)
                                                                       2
             Can control from the master microcomputer using the I C interface.
             Controllable using commands of play, pause, stop, tune skip, tune forward, folder move, device change, volume
             setting, repeat change, random play, digital audio output setting, sound effect setting and direct tune selection and
             etc.
             Can read information on internal status during play or stop, folder number, file number within the folder, play time,
             total number of folders, total number of files, name of folder being played, name of file being played and TAG (title,
             artist, album, genre), and etc.
     9.  MP3 decoder
             Supports MPEG audio 1, 2 and 2.5.
             Supports Layer1, 2 and 3.
             Supports sample rate of 8 k, 16 k, 32 k, 11.025 k, 22.05 k, 44.1 k, 12 k, 24 k and 48 kHz.
             Supports bit rate of 8 to 320 kbps and VBR (Variable Bit Rate). *Excluding the free format
             Supports ID3TAG V1.0, V.1, 1, V2.2, V2.3 and V2.4.
              (Up to 128 bytes can obtain for album, artist, title and genre, respectively.)
     10.  WMA decoder
             Supports Windows Media Audio 9 standard.
             Not supports DRM files.
             Supports sample rate of 8 k, 16 k, 32 k, 11.025 k, 22.05 k, 44.1 k and 48 kHz.
             Supports bit rate of 5 to 384 kbps and VBR (Variable Bit Rate).
             Supports WMA-TAG.
             (Up to 128 bytes can obtain for album, artist, title and genre, respectively.)
     11.  AAC decoder
             Supports MPEG4 AAC-LC (Audio stream).
             Based on 3GPP TS 26.244 and iTunes.
             Supports File Type of m4a, mp4 and 3gpX. (X stands for any numeric value.)
             Not supports DRM files.
             Supports sample rate of 8 k, 16 k, 32 k, 11.025 k, 22.05 k, 44.1 k, 12 k, 24 k and 48 kHz.
             Supports bit rate of 8 to 320kbps and VBR (Variable Bit Rate).
             Supports AACTAG (iTunes Meta-data and 3GP Meta-data).
              (Up to 128 bytes can obtain for album, artist, title and genre, respectively.)
                *For files other than those encoded by iTunes, sound interruption may occur when skipping or forwarding to the
               next tune if streams such as gaps and video data are contained in the file.
     12.  WAV play
             Supports WAV format.
             Supports sample rate of 8 k, 16 k, 32 k, 11.025 k, 22.05 k, 44.1 k, 12 k, 24 k and 48 kHz.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                    TSZ02201-0V2V0E600070-1-2
                                                               11/69
TSZ22111・15・001                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
            Supports 16-bit PCM data.
            Supports RIFF TAG.
             (Up to 128 bytes can obtain for album, artist, title and genre, respectively.)
     13.  Browsing and direct tune selection
            Can analyzes and read other file name in memory while playing the current music.
            Up to 64 bytes can obtain for file name, folder name respectively.
            Supports direct music selection using the analysis data.
     14.  Repeat and random play
            Supports repeat within the memory, repeat within folder and repeat with single tune.
            Supports random play within the area of ±128 files.
            Can select auto-play of next music or stop playing at the end of current music playing.
     15.  Read from files within memory
            Can read the data from specified file stored in the specified folder within the memory.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                    TSZ02201-0V2V0E600070-1-2
                                                             12/69
TSZ22111・15・001                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
●Absolute maximum ratings                 (Ta = 25℃)
                   Parameter                       Symbol              Limits                     Unit                 Comment
   Supply voltage(Analog, I/O)                    VDD1MAX           -0.3 to 4.5                     V         DVDDIO, DAVDD, AVDDC
   Input voltage                                     VIN       -0.3 to VDD1 + 0.3                   V
   Storage temperature range                        TSTG            -55 to 125                        C
   Operating temperature range                      TOPR             -40 to 85                        C
   VQFN040V6060 Package                                                                                       BU94501AMUV
                                                     PD1                800                       mW
   Power dissipation *1                                                                                       BU94502AMUV
   SQFP-T52 Package                                                                                           BU94501AKS2
                                                     PD2                850                       mW
   Power dissipation *1                                                                                       BU94502AKS2
   *1：74.2mm × 74.2mm × 1.6mm, FR4, 1-layer glass epoxy board (Copper area 23.69mm2)
                     In the case of use at Ta=25℃ or more, 8mW should be reduced per 1℃.
   *2：In the case of use at Ta=25℃ or more, 8.5mW should be reduced per 1℃.
●Operating conditions (Ta = 25℃)
              Parameter                       Symbol               Limits                        Unit                  Comment
    Supply voltage(Analog, I/O)                VDD1              3.0 to 3.6                        V        DVDDIO, DAVDD, AVDDC
●Electrical characteristics
（Unless specified, Ta=25℃、VDD1=3.3V, DVSS=AVSSC=VSS_PLL=DAVSS=0V, XIN_PLL=16.9344MHz）
                                                              Limits
            Parameter                      Symbol                                            Unit                     Condition
                                                       MIN.     TYP.         MAX.
     <Total >
   Circuit current
                                        IDD1USB1          -     51.0          75.0           mA           *1 When USB memory is played.
   (VDD1 USB1)
   Circuit current (VDD1 SD1) IDD1SD1                     -     26.0          45.0           mA           *1 When SD card is played.
   <Digital block>
   H-Level input voltage                     VIH     VDD1*0.7    －           VDD1              V          *2
   L-Level input voltage                     VIL      DVSS       －         VDD1*0.3            V          *2
   H-Level output voltage1                 VOH1      VDD1-0.4    －           VDD1              V          IOH=-1.6mA, *3
   L-Level output voltage1                  VOL1          0      －             0.4             V          IOL=1.6mA. *3
   L-Level output voltage2                  VOL2          0      －             0.4             V          IOL=3.6mA, *4
   H-Level output voltage3                 VOH3      VDD1-0.4    －           VDD1              V          IOH=-0.6mA, *5
   L-Level output voltage3                  VOL3          0      －             0.4             V          IOL=0.6mA, *5
   H-Level output voltage4                 VOH4      VDD1-1.0    －           VDD1              V          IOH=-1.6mA, *6
   L-Level output voltage4                  VOL4          0      －             1.0             V          IOL=1.6mA, *6
   <USB-HOST >
   H-Level input voltage                  VIHUSB VDD1*0.6        －           VDD1              V          *7
   L-Level input voltage                  VILUSB      AVSSC      －         VDD1*0.3            V          *7
   Output impedance(H)                      ZOH         22.0    45.0          60.0             Ω          *7
   Output impedance(L)                      ZOL         22.0    45.0          60.0             Ω          *7
   H-Level output voltage                VOHUSB VDD1-0.5         －           VDD1              V          *7
   L-Level output voltage                VOLUSB           0      －             0.3             V          *7
   Rise/Fall time                           Tr/Tf        －       11            －              ns          *7, Output capacity 50pF
   Voltage of crossing point               VCRS          －    VDD1/2           －               V          *7, Output capacity 50pF
   Range of differential input             VDIFF         0.8     －             2.5             V          *7
   Differential input sensitivity         VSENS          0.2     －             －               V          *7
   Pull-down resistance                     RPD        14.25    20.0          24.8            kΩ          *7
   <Audio DAC>
   Distortion rate                          THD          －     0.005          0.05            %           1kHz, 0dB, sine, *8
   Dynamic range                             DR          －       90            －              dB          1kHz, -60dB, sine, *8
   S/N ratio                                 S/N         66      96            －              dB          1kHz, 0dB, A-weighted, *8
   Max output level                       VSMAX         0.60    0.75           －            Vrms          1kHz, 0dB, sine, *8
      BU94501AMUV / BU94502AMUV                                          BU94501AKS2 / BU94502AKS2
      *1 3.3V system I/O, Analog Power supply(VDD1),                     *1 3.3V system I/O, Analog Power supply(VDD1),
            1kHz, 0dB, sine-wave playing                                       1kHz, 0dB, sine-wave playing
      *2 2, 3, 7-9, 13, 14, 16-18, 24, 36, 37 pin                        *2 3, 4, 8-10, 17, 34, 35, 43, 44, 49-51 pin
      *3 4-7, 24-28, 30 pin                                              *3 45,47-49,17,18,20-22,26 pin
      *4 9 pin                                                           *4 51 pin
      *5 38-40 pin                                                       *5 36-38 pin
      *6 15 pin                                                          *6 5 pin
      *7 21, 22 pin                                                      *7 14, 15 pin
      *8 32, 34 pin output no-load                                       *8 28, 30 pin output no-load
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                               TSZ02201-0V2V0E600070-1-2
                                                                 13/69
TSZ22111・15・001                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
●Application Information
    1. Clock and Reset
           Clock
        Clock name I/O                                    Function                                  Remarks
          XIN_PLL         I      X'tal (16.9344MHz) connection input terminal          -
         XOUT_PLL        O       X'tal (16.9344MHz) connection terminal                -
           Reset
          Signal name I/O                        Function                                     Remarks
            RESETX          I     System reset input terminal                -
         Please release the reset signal continue L input for more than 100 us after clock input from the oscillation I/O terminal
                            becomes stable. (See Figure 6.)
                                         Waiting time for
                                     oscillation stabilization    fclk
                      Power
                      supply
                     XIN_PLL
                     RESETX
                                                                        tRSTX
                                                               Figure 6. Reset Timing
                                                                        Rating
                Item          Code                                                                Unit      Remarks
                                                  min                     typ            max
         Clock frequency        fCLK           16.9302                 16.9344        16.9386     MHz -
          Reset L interval     tRSTX              100                      -              -        us   -
    2. USB I/F
        USB I/O interface
       Signal name I/O                           Function                                       Remarks
         USB_DP        I/O    USB D+ I/O terminal                               -
         USB_DM        I/O    USB D- I/O terminal                               -
          REXTI         O     USB bias resistor connection terminal Connect a resistor of 12 kΩ±1% to GND.
         This interface communicates with the USB device using USB_DP and USB_DM differential signals.
         REXTI terminal is used to connect to the bias resistor in the USB-PHY block.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                        TSZ02201-0V2V0E600070-1-2
                                                                          14/69
TSZ22111・15・001                                                                                              2017.3.21 Rev.004


BU9450xAxxx series
    3. SD I/F
        SD memory card SPI interface
        Signal name I/O                       Function                                        Remarks
           SD_CS         O      SD chip select                            -
          SD_CLK         O      SPI clock                                 -
            SD_DI        O      SPI data input                            -
           SD_DO          I     SPI data output                           -
                                                                          H: Do not detect SD card connect,
          SD_CON          I     SD card connect detection terminal
                                                                          L: Detect SD card connect
        This interface connects to the SD memory card slot to communicate with the SD memory device.
        Supports the SPI mode.
        Supports SD, SDHC memory cards and MMC, mini-SD and micro-SD cards.
        Does not supports CPRM.
        Since the SD memory card slot needs to detect the insertion status of the SD memory device, be sure to use the slot
        having the SD memory card insertion status detection terminal. The SD_CON terminal is pulled up within the device
        and detects “SD card connect” when L is input.
        The SD_CON terminal is pulled up within the device and detects “SD card connect” when L is input.
        3.1 Timing
        （Unless specified, Ta=25℃, VDD1=3.3V, Load=20pF, 10kΩ）
                                                                             Rating
                   Item                       Symbol                                                  Unit          Remarks
                                                                min           typ          max
    SD_CS Setup time                           Tcss              -             5            -          us
    SD_CS Hold time                            Tcsh              -            15            -          us
    SD_CLK Clock Frequency                     Tclk              -           13.5           -         MHz
    SD_DI Output delay                         Tod              -20            -           20          ns
    SD_DO Data in Setup time                    Tds             18             -            -          ns
    SD_DO Data in Hold time                    Tdh               5             -            -          ns
    Output High Voltage                        Voh        0.625*VDD1           -            -          V
    Output Low Voltage                          Vol              -             -       0.25*VDD1       V
                                                                                                          Tcsh
                                            Tcss
                                  SD_CS
                                                                        Tclk
                                                             Voh
                                  SD_CLK
                                                     Vol
                                                            Tod
                                  SD_DI             MSB
                                  SD_DO          MSB
                                                             Tds      Tdh
                                                       Figure 7. SPI I/F Timing
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                      TSZ02201-0V2V0E600070-1-2
                                                                  15/69
TSZ22111・15・001                                                                                                2017.3.21 Rev.004


BU9450xAxxx series
     4. Audio line output
          Audio line output
          Signal name I/O                                    Function                                                                             Remarks
             LDACO         O     Lch audio line output                                                   -
             RDACO         O     Rch audio line output                                                   -
         This is a line output of decoded music data.
         When a sample rate converter is used in on, data on the sample rate 48kHz, 32kHz are changed into 44.1kHz and
         outputted.
         It turns ON when line output is selected by a command.
         Figure 8. shows the relationship between audio outputs and volume steps.
         The initial value is –24.1dB at power ON.
                                                             0
                                                           -10
                                       Audio output (dB)
                                                           -20
                                                           -30
                                                                                     Initial value: -24.1dB
                                                           -40
                                                                     ↓－∞
                                                           -50
                                                                       step
                                                                     NTRY
                                                           -60
                                                                 0       2   4   6   8   10    12   14   16   18   20   22   24   26   28   30   32
                                                                     _
                                                                                              Volume step up
                                                                             Figure 8. Volume Step Function
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                                                            TSZ02201-0V2V0E600070-1-2
                                                                                                    16/69
TSZ22111・15・001                                                                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
5. Equalizers
           Selectable audio line output from 5 types of equalizers and 2 types of bus boosts, using commands.
           You can use a combination of an equalizer and bus boost 1.
           Even when line output is not selected, the equalizer setting is valid. However, for digital output, the equalizer cannot
           change the sound quality.
           Figure 9. - Figure 14.show frequency characteristics of each filter.
           Clipping may occur by the combination of volume and equalizer setting.
                                                                     POPS
                      20
                      15
                                                                                       POPS(0x52, 0x01)
                                                                                       POPS+BassBoost1(0x52, 0x09)
                      10
           Mag.(dB)
                       5
                       0
                       -5
                      -10
                            10               100                        1000                         10000                          100000
                                                                      Freq.(Hz)
                                                   Figure 9. POPS Frequency Characteristics
                                                                     JAZZ
                      20
                      15
                                                                                                     JAZZ(0x52, 0x02)
                                                                                                     JAZZ+BassBoost1(0x52, 0x0A)
                      10
           Mag.(dB)
                        5
                        0
                       -5
                      -10
                            10               100                       1000                         10000                          100000
                                                                      Freq.(Hz)
                                                   Figure 10. JAZZ Frequency Characteristics
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                TSZ02201-0V2V0E600070-1-2
                                                                   17/69
TSZ22111・15・001                                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
                                                                     Rock
                       20
                       15
                                                                                                 ROCK(0x52, 0x03)
                                                                                                 ROCK+BassBoost1(0x52, 0x0B)
                       10
            Mag.(dB)
                        5
                        0
                        -5
                       -10
                             10              100                        1000                   10000                            100000
                                                                      Freq.(Hz)
                                                   Figure 11. ROCK Frequency Characteristics
                                                                    Classic
                       20
                       15
                                                                                               CLASSIC(0x52, 0x04)
                                                                                               CLASSIC+BassBoost1(0x52, 0x0C)
                       10
            Mag.(dB)
                        5
                        0
                        -5
                       -10
                             10              100                        1000                   10000                            100000
                                                                      Freq.(Hz)
                                              Figure 12. CLASSIC Frequency Characteristics
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                          TSZ02201-0V2V0E600070-1-2
                                                                    18/69
TSZ22111・15・001                                                                                               2017.3.21 Rev.004


BU9450xAxxx series
                                                           R&B
                       20
                       15
                                                                             R&B(0x52, 0x05)
                                                                             R&B+BassBoost1(0x52, 0x0D)
                       10
            Mag.(dB)
                        5
                        0
                        -5
                       -10
                             10              100              1000         10000                          100000
                                                            Freq.(Hz)
                                                      Figure 13. R&B
                                                          BassBoost
                       20
                       15
                                                                              BassBoost1(0x52, 0x08)
                                                                              BassBoost2(0x52, 0x0F)
                       10
            Mag.(dB)
                        5
                        0
                        -5
                       -10
                             10              100              1000         10000                          100000
                                                            Freq.(Hz)
                                                   Figure 14. Bass Boost
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                     TSZ02201-0V2V0E600070-1-2
                                                         19/69
TSZ22111・15・001                                                                          2017.3.21 Rev.004


BU9450xAxxx series
6. MUTE control output
            Audio MUTE
           Signal name I/O                    Function                                       Remarks
              AMUTE         O     Audio mute control terminal          H: At audio output , L: At mute
          It outputs H at audio output and L at mute.
          When power is ON or in the silence mode such as FF or FB, This control terminal is used to mute audio output
          It can be used for the flag to do mute with the amplifier of the rear step and so on.
          Figure 15. shows the operation waveforms.
                                At start of play                             At stop of play
             AMUTE
                                                23 ms at 0dB                      23 ms at 0dB
       LDACO, RDACO
                                                   Figure 15. Waveform at Audio Mute
                             2
7. Digital audio output (I S, EIAJ)
          Audio outputs are shown in Table 1. “Audio Output”.
          Because TEST terminal is an output terminal, use it as OPEN.
                                                          Table 1. Audio Output
                                                                                  DIGTAL output mode
                                PIN          ANALOG output mode
                                                                            SPDIF OFF              SPDIF ON
                            RDACO                 Line Out Rch                  HiZ                   HiZ
                             LDACO                Line Out Lch                  HiZ                   HiZ
                               LRCK              TEST terminal              LR CLOCK                SPDIF
                                BCK              TEST terminal              BIT CLOCK            TEST terminal
                               DATA              TEST terminal               LR DATA             TEST terminal
                              MCLK               TEST terminal          MASTER CLOCK             TEST terminal
                                          2
               Digital audio interface (I S, EIAJ)
           Signal name I/O                    Function                                       Remarks
               LRCK         O     LR clock output (fs=44.1kHz)       -
                BCK         O     Bit clock output                   -
               DATA         O     Data output                        -
                                                                       At fs=32kHz 12.288MHz (384fs)
               MCLK         O     Masterxlock output                   At fs=44.1kHz 16.9344MHz (384fs)
                                                                       At fs=48kHz 12.288MHz (256fs)
                This is a digital audio output interface terminal.
                It becomes enabled by using the appropriate command.
                                                                                                                   2
                When serial audio output is selected, The output format can be selected from the EIAJ format or I S format of 32fs,
                48fs or 64fs .
                Selectable With the mode that the sample rate of the playback tune is outputted and the mode fixed on 44.1 kHz
                by sample rate converter.
                Figure 16. - Figure 21. show the output formats.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                         TSZ02201-0V2V0E600070-1-2
                                                                   20/69
TSZ22111・15・001                                                                                                2017.3.21 Rev.004


 BU9450xAxxx series
LRCK                                                       Left Channel                                                         Right Channel
BCK(32fs)
DATA           1      0      15    14    13   12     11     10       9      8      7      6     5      4     3      2     1      0     15
                                                                   2
                                                   Figure 16. I S Output Timing (32fs)
LRCK                                                       Left Channel                                                         Right Channel
BCK(48fs)
DATA                     15 14 13 12 11 10       9     8    7    6     5   4    3   2    1    0                                     15 14
                                                                   2
                                                   Figure 17. I S Output Timing (48fs)
 LRCK                                                       Left Channel                                                         Right Channel
 BCK(64fs)
 DATA                    15 14 13 12 11 10  9 8  7   6   5   4   3   2   1  0                                                       15 14 13 12
                                                                   2
                                                   Figure 18. I S Output Timing (64fs)
LRCK                                                       Left Channel                                                         Right Channel
BCK(32fs)
DATA           0      15     14    13    12   11     10      9       8      7      6      5     4      3     2      1     0      15    14
                                                 Figure 19. EIAJ Output Timing (32fs)
  LRCK                                                         Left Channel                                                        Right Channel
  BCK(48fs)
  DATA         1   0                                     15 14 13 12 11 10             9    8   7   6    5   4   3    2   1   0
                                                 Figure 20. EIAJ Output Timing (48fs)
  LRCK                                                         Left Channel                                                        Right Channel
  BCK(64fs)
  DATA       2   1  0                                                         15 14 13 12 11 10   9  8   7 6   5  4   3 2   1  0
                                                 Figure 21. EIAJ Output Timing (64fs)
 www.rohm.com
 © 2012 ROHM Co., Ltd. All rights reserved.                                                                TSZ02201-0V2V0E600070-1-2
                                                                       21/69
 TSZ22111・15・001                                                                                                          2017.3.21 Rev.004


BU9450xAxxx series
                2
        7.1    I S, EIAJ Output Timing
               2
         48fs I S format（Unless specified, Ta=25℃, VDD1=3.3V, Load=20pF）
                                                                                Rating
                  Item                         Symbol                                          Unit       Remarks
                                                                  min             typ  max
    BCK Clock Frequency                        Tbck                -            472.4   -       ns
    BCK Low time                               Tbck1              216            236    -        ns
    BCK High time                              Tbck2              216            236    -        ns
    LRCK Clock Frequency                       Tlrck               -             44.1   -       kHz
    LRCK Output delay                          Tlrck1             -20              0   20        ns
    DATA Output delay                          Tda1               -20              0   20        ns
    Output High Voltage                         Toh          VDD1-0.4              -    -        V
    Output Low Voltage                          Vol                -               -   0.4       V
                          LRCK                                          Left Channel
                                            Vol
                                                   Tlrck1       Tbck1  Tbck2
                                                                        Voh
                          BCK
                                           Vol             Vol
                                                                 Tda1
                          DATA                                         MSB
                                                               2
                                                   Figure 22. I S, EIAJ Output Timing
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                 TSZ02201-0V2V0E600070-1-2
                                                                   22/69
TSZ22111・15・001                                                                                      2017.3.21 Rev.004


BU9450xAxxx series
8. Digital audio output (SPDIF)
            Digital audio interface
           Signal Name I/O                       Function                                            Remarks
              SPDIF         O    SPDIF output                             -
               SPDIF output become enabled by setting it using the appropriate command.
               Figure 23. shows the digital audio signal output format.
                                    0             34                        1112                                  27 28 29 30 31
                                      Synchronous
            Source code                                        all 0           LSB        Audio data(16bit)      MSB V   U  C  P
                                       preamble
                                                      (B pattern)
            Synchronous
                                                      (M pattern)
            preamble
                                                      (W pattern)
            Source code(4-31)                       0  0  0   0     0 0 0   0  1   0 1 1 0   1
                                      Synchronous
            SPDIF output               preamble
                                                        Figure 23. SPDIF Output Format
               One sub frame of SPDIF consists of synchronous preambles, 16-bit audio data, V bit (validity flag), U bit
               (user data), C bit (channel status) and P bit (parity bit).
               Output rate is fixed to 1X speed.
               SPDIF outputs synchronous preambles (source code 0-3) as they are, and other elements (source code
               4-31) as the biphase output. While the operation stops, L output is enabled.
               Synchronous preambles and C bit use 32 frames (≈4.4 ms) for one cycle. The data formats are shown in
               Tables.2 and 3 V bit is fixed to L. U bit uses 98 frames (≈13.3 ms) for one cycle
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                  TSZ02201-0V2V0E600070-1-2
                                                                        23/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
                                              Table 2. Synchronous Preamble Pattern
                              L0      R0   L1     R1      L2     R2      L3      R3 L4   R4     L5     R5
                     0         B      W     M      W       M      W      M       W  M    W      M       W
                     1        M       W     M      W       M      W      M       W  M    W      M       W
                    ：         ：       ：    ：       ：      ：       ：      ：       ：  ：    ：      ：       ：
                    31        M       W     M      W       M      W      M       W  M    W      M       W
                                                        Table 3. C Bit Format
                             L0      R0    L1     R1      L2     R2     L3       R3 L4   R4     L5     R5
                    0              0           0             Copy            0         0             0
                    1              0           0              1              0         0             0
                    2              0           0              0             Lbit       0             0
                    3              0           0           1      0      0        1    0             0
                    4              0           0              0              0         0             0
                    5              0           0              0              0         0             0
                    ：             ：            ：              ：              ：         ：            ：
                    31             0           0              0              0         0             0
                                                        Table 4. U Bit Format
                              L0      R0   L1     R1      L2     R2      L3      R3 L4   R4     L5     R5
                     0         0       0    0      0       0      0       0       0  0    0      0      0
                     1         0       0    0      0       0      0       0       0  0    0      0      0
                     2         1       0    0      0       0      0       0       0  0    0      0      0
                     3         1       0    0      0       0      0       0       0  0    0      0      0
                    ：         ：       ：    ：       ：      ：       ：      ：       ：  ：    ：      ：       ：
                    97         1       0    0      0       0      0       0       0  0    0      0      0
              P bit is set to 1 if the number of “1” contained in source codes 4-30 is odd, and set to 0 if the number is
              even. Therefore, the number of source codes to be set to 1 for one data must be even, SPDIF ends with
              L output, and preamble output always starts in the same direction.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                 TSZ02201-0V2V0E600070-1-2
                                                                24/69
TSZ22111・15・001                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
        8.1    SPDIF Output Timing
         （Unless specified, Ta=25℃, VDD1=3.3V, Load=20pF）
                                                                         Rating
                  Item                       Symbol                                       Unit       Remarks
                                                               min         typ    max
    SPDIF Clock Frequency                      Tck              -        2.822     -      MHz
    SPDIF Clock High time                     Tck1            157         177      -       ns
    SPDIF Clock Low time                      Tck2            157         177      -       ns
    Output High Voltage                        Voh          VDD1-0.4        -      -       V
    Output Low Voltage                         Vol              -           -     0.4      V
                                           Tck         Tck1   Tck2
                                                                    Voh
                 SPDIF
                                     Vol           Vol
                                                   Figure 24. SPDIF Output Timing
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                            TSZ02201-0V2V0E600070-1-2
                                                                25/69
TSZ22111・15・001                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
    2
9. I C command interface
                   2
           Slave I C serial interface
          Signal name I/O                               Function                                                    Remarks
                                     2
               SCL          I       I C interface clock input                               External pull-up resistor is required.
                                     2
              SDA         I/O       I C interface data I/O                                  External pull-up resistor is required.
                          2
              This is an I C serial interface terminal to communicate with the microcomputer (master).
                                      2
              It supports slave I C operations.
                2
         9.1   I C protocol
                When the I2C bus is in the IDLE state, SDA and SCL are set to H by the external Pull-up resistor.
                To start communications, the master sets SDA to L while SCL set to H (Start condition).
                To finish communications, the master sets SDA to H while SCL set to H (Stop condition). During transfer, the
                                                                                                                                             2
                 master changes SDA only while SCL is L. Figure 25. shows Start condition and Stop condition of I C.
                  SCL                         1            2                    8          9                1              9
                  SDA                       MSB                               LSB         ACK                            ACK
                              Start                                                                                                Stop
                              condition                                   2
                                                        Figure 25. I C Start and Stop Conditions                                   condition
         9.2   Slave address
               2
              I C bus slave addresses support the 7-bit addressing mode.
              Figure 26. shows the slave address transfer format.
                                                S       A6        A5      A4       A3     A2       A1    A0  R/W     ACK
                                               Start
                                             condition                                                              sent by
                                                                            Slave Address
                                                                                                                     slave
                                                         R / W = Read / Write Pulse
                                                         ACK = Acknowledge
                                                         Figure 26. Slave Address Transfer Format
                                                              Table 5. Settable Slave Addresses
                                                MSB
                                                                                                               LSB
                                                            A5        A4
                                                                      A           A3       A2         A1
                                                                                                                 A0
                                                                      6
                                                  1          0         0           0        0          1          1
         9.3   Protocol to write from the master
                                                                                             2
               When sending commands from the master using the I C bus, be sure to conform to the transfer protocol shown in
               Figure 27.
                               S      Slave Address       R/W     A    Data(8bit)    A    Data(8bit)  A       Data(8bit)     A/A P
                                                       "0"(write)
                                    From Master to Slave        A = Acknowledge(SDA low)
                                    From Slave to Master        A = No Acknowledge(SDA high)
                                                                S = Start Condition
                                                                P = Stop condition
                                                         Figure 27. Command Send Protocol
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                                 TSZ02201-0V2V0E600070-1-2
                                                                                   26/69
TSZ22111・15・001                                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
        9.4  Protocol to read to the master
                                                                                                                   2
            When sending the received data from the slave to the master using the I C bus, be sure to conform to the transfer
            protocol shown in Figure 28. First, transfer the status read command (step1). Then, input SCL clock of required
            bytes in step2 to read the status.
                                                                                                                                                   2
            If the device status is BUSY when receiving the device status or the data within the memory, the I C bus may be
            occupied by the device in BUSY. This LSI transfers the data to the master to avoid such occupation of the bus.
            However, as the BUSY status still exists internally, the proper data may not be transferred in BUSY. To cope with
            this situation, the first byte of the transfer data (step2) is used to judge whether the transferred data is valid or
            invalid. After addressing from the master to the slave, if the 0 bit of the first byte of the transfer data immediately
            after requiring the data transfer is 0, the data transferred from the slave is valid. If the 0 bit of the first byte is 1, it
            shows the BUSY status. Thus, judge all the transferred data to be invalid. If this happens, retry Step1 to send
            commands to read the status.
            The first byte of the transferred data (step2) can be readable as the BUSY byte. Please read the status after
            sending the status read command (step1). In addition, internal statuses other than BUSY shown in Table 6. can
            be read.
            The first byte of the transferred data (step2) can be readable as the BUSY byte. Please read the status after
            sending the status read command (step1). In addition, internal statuses other than BUSY shown in Table.7 can
            be read.
            Figure 29. shows the relationship between the transferred data and BUSY.
                                                             Table 6. BUSY Byte Structure
                                                        bit                       STATUS
                                                         7                              0
                                                         6                              0
                                                         5                              0
                                                         4                        PRECOM
                                                         3                         IRPTO
                                                         2                        SEARCH
                                                         1                        MCHNG
                                                         0                          BUSY
                        Step1
                             S    Slave Address      R/W     A    Data(8bit)    A          Data(8bit)     A/A   P
                                                  "0"(write)
                        Step2
                             S    Slave Address      R/W     A   BUSY(8bit)     A    Data(8bit)   A           Data(8bit)    A     P
                                                  "1"(read)
                                From Master to Slave       A = Acknowledge(SDA low)
                                From Slave to Master       A = No Acknowledge(SDA high)
                                                           S = Start Condition
                                                           P = Stop condition
                                                        Figure 28. Status Reception Protocol
              I2C    Step1 command           S     Slave Address       R    A   BUSY[0]=1     A   Data(8bit)    A          Data(8bit) A    P
             BUSY                                                               BUSY byte
                                      Step1 command             S      Slave Address     R    A       0x00      A    Data(8bit)   A     Data(8bit)   A P
                                                                                                BUSY byte for Status
                                          Figure 29. Relationship between Transferred Data and BUSY
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                                 TSZ02201-0V2V0E600070-1-2
                                                                               27/69
TSZ22111・15・001                                                                                                                          2017.3.21 Rev.004


BU9450xAxxx series
               2
        9.5   I C Bus line timing
                                                                 2
                                                       Table 7. I C Bus line timing
         SDA and SCL bus-line characteristic (Unless specified, Ta=25℃, Vcc=3.3V)
                                       Parameter                                   Code         Min.        Max.       Unit
          1 SDA, SCL H input voltage                                                VIH       VDD*0.7       VDD         V
          2 SDA, SCL L input voltage                                                VIL        DVSS       VDD*0.3       V
          3 SDA H output voltage                                                   VOH        VDD-0.4       VDD         V
          4 SDA L output voltage                                                    VOL           0          0.4        V
          5 SCL clock frequency                                                    fSCL           0          400       kHz
               Bus-free-time between "Stop" condition and "Start"
          6                                                                        tBUF          1.3          －         μS
                                  condition
               Hold time for "Start" condition
          7                                                                     tHD;STA          0.6          －         μS
               After this, the first clock pulse is generated.
          8 LOW status hold-time of SCL clock                                     tLOW           1.3          －         μS
          9 HIGH status hold-time of SCL clock                                    tHIGH          0.6          －         μS
         10 Data-hold-time                                                      tHD;DAT          0＊           －         μS
         11 Date-setup-time                                                     tSU;DAT         100           －         ns
         12 Rising time of SDA and SCL signal                                        tR      20+0.1*Cb       300        ns
         13 Fall time of SDA and SCL signal                                          tF      20+0.1*Cb       300        ns
         14 Setup time of "Stop" condition                                      tSU;STO          0.6          －         μS
         15 Capacitive load of each bus-line                                         Cb           －          400        pF
          The above-mentioned numerical values are all the values corresponding to VIH min and VIL max level.
          *To exceed an undefined area on falling edged of SCL, transmission device should internally offer the hold-time of
          300ns or more for SDA signal (VIH min of SCL signal).
          Because the "Repeated Start" condition to send "Start" condition without sending "Stop" condition doesn't correspond,
          after sending "Start" condition, always send "Stop" condition.
          Neither terminal SCL nor terminal SDA correspond to 5V tolerant.
              SDA
                              tBUF
                                                                                        tF
                                               tLOW       tR
              SCL
                                             tHD;STA        tHD;DAT            tHIGH      tSU;DAT        tSU;STO
                         P            S                                                                            P
                                                               2
                                                   Figure 30. I C Bus line timing chart
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                          TSZ02201-0V2V0E600070-1-2
                                                                   28/69
TSZ22111・15・001                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
10. Interrupt Signals to microprocessor
         10.1 BUSY
           BUSY status detection output
         Signal name        I/O                   Function                                        Remarks
             BUSY            O      BUSY status detection output signal      H: Busy, L: Not Busy
              This is output to indicate that the LSI is in the BUSY status.
              A BUSY signal outputs H until analyzing a command from the master and starting the command operation.
              The command input to this LSI in BUSY status is unacceptable.
              Connect it to the PIO port of the microcomputer.
         10.2 MCHNG
           Tune number change detection output
       Signal name I/O                           Function                                          Remarks
         MCHNG         O      Tune number change detection output signal       H: During playing, L: At the end or stop of tune
               This signal outputs the information which tells that the file within the memory is being played or the file to be
               played is changed.
               Precisely, the signal outputs H during the internal decode sequence operation, and L at stop of the operation.
               Connect it to the interruption port of the microcomputer.
         10.3 SEARCH
           SEARCH status detection output
        Signal name I/O                         Function                                         Remarks
         SEARCH          O     SEARCH status detection output signal       H: SEARCH, L: Not SEARCH
               This is output to indicate that the LSI is in the SEARCH status.
               A SEARCH signal becomes H at the time of memory mount, file search, TAG analysis and TOC analysis.
               This signal is OR of the 2-bit SEARCH status.
               The LSI ignores command input during SEARCH. However, it can accept only ABORT, STOP and status read
               commands even during SEARCH and can execute them command.
               Connect it to the PIO port of the microcomputer.
         10.4 IRPTO
           Interrupt output to microcomputer
         Signal name       I/O                    Function                                        Remarks
            IRPTO           O      Interrupt output to microcomputer        H: Interrupt, L: Not Interrupt
                This is output to indicate that the LSI is now requiring interruption to the microcomputer.
                Change from L to H shows that an interruption has occurred.
                When signage is H, it is shown that interrupt occurs.
               Connect it to the interruption port of the microcomputer.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                         TSZ02201-0V2V0E600070-1-2
                                                                  29/69
TSZ22111・15・001                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
11. File search
          11.1 Function
               - The file search function supports file system of FAT32, FAT16 and FAT12. (NTFS is not supported.)
               - The number of maximum playable files per folder follows the specification of FAT.
                                               Table 8. Maximum Playable Files per Folder
                                                            Root folder            Sub folder
                                           FAT12               512                   65534
                                           FAT16               512                   65534
                                           FAT32              65535                  65534
               The number of files described above includes folders and files other than playable files (WAV/AAC/WMA/MP3).
               Thus, if non-playable files or folders contain in the above folders and the number of total files exceeds the
               maximum limit, all the playable files may not be played.
               - Less than 256 files in the order of FAT within each folder are sorted according to UNICODE. More than 256
               files, if any, will be sorted in the FAT order. The same rule is applied when sorting sub-folders. More than 100
               sub-folders, if any, will be sorted in the FAT order. Sorting function can be selected valid or invalid with a
               command. The folder hierarchies up to 16 hierarchies whose full path including the file name is within 260
               characters can be searched.
          11.2 Playable file
              The playable file extension is *.WAV for the WAV file, *.M4A, *.3GP and *.MP4 for the AAC file, *.ASF and *.WMA
              for the WMA file, and *.MP3, *.MP2 and *.MP1 for the MP3 file. (There is no distinction between upper case
              letters and lower case letters.) Note that the file operation differs in the following cases
              ・Codec selection command: For details, please see
                                SET_MP3 / SET_WMA / SET_AAC / SET_WAV / SET_MP3_PLAY command specifications.
              ・Attribute: Files with hidden attributes are also playable. Files with system attributes cannot be played.
              ・File name: The file name, including its size, does not depend on playability.
              ・File size: A file with file size "0" is not recognized as a playable file.
          11.3 File playing sequence
             The file playing sequence depends on the following rules when sort function valid. See Figure 28.
            [1] Files of 1 to 256, in the order written to FAT (FAT order) in each folder, are sorted in the order of UNICODE.
                 Files more than 256 are played in the FAT order. The same rule is applied when sorting sub-folders.
                 All the folders including null ones and those to which no playable file is written are sorted (selectable setting by
                 command). If over 256 playable files or sub-folders are contained in the folder, they are played in the order
                 written to the FAT directory entries.
                 The writing method of directory entries will not help understand the file play order because the method depends
                 on the OS operation at writing.
            [2] When a playable file exists in the root folder (the top hierarchy), the file is to be played first.
            [3] After all the playable files within the root folder have been played, playable files in the folder in the lower
                 hierarchy, if any, are played.
            [4] If another folder exists in the lower hierarchy, playable files within this folder are played. If not, the LSI searches
                 other folders in the same hierarchy. If another folder exists there, the LSI plays that folder.
            [5] After playing all the files, the LSI returns to the root folder as in [2] and play the files starting with the top sorted
                 one.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                          TSZ02201-0V2V0E600070-1-2
                                                                  30/69
TSZ22111・15・001                                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
        11.4 Folder/File sort
             The LSI sorts the sub-folders and files in the following sequence:
           [1] Obtain up to 256 sub-folders and files each in the order written to FAT within selected folder.
           [2] Compare the obtained folder/file names for 8 characters (16 bytes) from the beginning in UNICODE (2-byte
               character) and sort them in the ascending order. *
           [3] If there are files/folders with same character strings: follow the order of MP3, WMA, AAC and WAV when the
               extension is different; and, otherwise, follow the order written to FAT.
           [4] 101 or more files or sub-folders follow the order written to FAT.
           * The processing of the file name and the folder name is shown in the following.
           1) When a LFN (long file name) entry exists, 2 bytes are treated as one character.
           2) When no LFN entry exists, the SFN(short file name) entry is processed as follows.
             2-a) When the first appeared character code is within the range of 0x00-0x7F (US-ASCII), the LSI treats one byte
                   as one character, and adds '0x00' to the upper of the character to expand the entire character to an
                   UNICODE.
             2-b) For a case other than 2-a), practically, the LSI treats these 2 bytes as one character.
           *For details on LFN and SFN, see the FAT file system specifications.
                                         A.mp3
                        [Root Folder]    B.mp3
                                         C.mp3
                                                                     D.mp3
                                                                     E.mp3
                                                     A_FOLDER        F.mp3
                                                                     G.mp3
                                                                     H.mp3
                                                                                                I.mp3
                                                                                   B_FODER
                                                                                                J.mp3
                                                                                                K.mp3
                                                                                                L.mp3
                                                                                                M.mp3
                                                                                   C_FOLDER     N.mp3
                                                                                                O.doc
                                                                                                P.xls
                                                                                                Q.mp3
                                                                     R.txt
                                                     D_FOLDER        S.txt
                                                                     T.txt
                                                                                                U.mp3
                                                                                                V.mp3
                                                                                                W.mp3
                                                                                   E_FOLDER
                                                                                                X.mp3
                                                                                                Y.mp3
                                                                                                Z.mp3
                         ◊           Figure 31. Example of Folder/File Structure within the Memory Device
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                     TSZ02201-0V2V0E600070-1-2
                                                                31/69
TSZ22111・15・001                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
                                   Table 9. File Play Sequence for Folder/File Structure in Figure 28.
                                  Playing        File to be
                                                                                  Remarks
                                sequence          played
                                      1           A.mp3       -The LSI first starts playing the playable
                                                                files in the root folder, if any.
                                      2           B.mp3       -The files are played in the ascending
                                                                order of UNICODE given to each file
                                      3           C.mp3         name.
                                      4           D.mp3       -After playing all the playable files in the
                                      5           E.mp3         root folder, the LSI searches folders in
                                                                the lower hierarchy.
                                      6           F.mp3
                                                              -The folders are searched in the
                                      7           G.mp3       ascending order of UNICODE given to
                                      8           H.mp3       each folder name.
                                      9            I.mp3
                                     10           J.mp3
                                     11           K.mp3
                                     12           L.mp3
                                     13           M.mp3
                                     14           N.mp3
                                     15           Q.mp3       -Unplayable files are ignored.
                                     16           U.mp3       -After playing all the playable files
                                                              including those in A_FOLDER and in its
                                     17           V.mp3       lower hierarchy, the LSI moves to the
                                     18           W.mp3       hierarchy in which A FOLDER exists and
                                                              searches files.
                                     19           X.mp3       -In this case, since no playable file exists
                                                                in D FOLDER, which is in the same
                                     20           Y.mp3
                                                                hierarchy of A_FOLDER, the LSI plays
                                     21           Z.mp3         the playable files in E FOLDER in the
                                                                further lower hierarchy.
        11.5 Search within multi-drive and multi-partition
           If a device is a multi-drive type or multi partition type, the LSI can recognize the drive by selecting LUN (Logical Unit
           Number) for the supporting FAT.
           If particular LUN isn’t selected, the LSI mounts the device whose LUN detected first. (default)
              It is possible that Test Unit Ready of other LUNs is confirmed during the playback.
        11.6 External HUB search
           When the USB connector is connected to a HUB, and a FAT-supported drive is connected ahead of the HUB at
           mounting the USB for this LSI, only one drive is recognized.
           The LSI does not support external HUBs, it cannot detect plugging/unplugging of the drive ahead of the HUB after
           the USB is mounted.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                         TSZ02201-0V2V0E600070-1-2
                                                                   32/69
TSZ22111・15・001                                                                                               2017.3.21 Rev.004


BU9450xAxxx series
12. Playing files
         12.1 Function
              For the files judged to be playable through the file search function, the LSI automatically switches the decoder
              using the file extension and decodes these files.
              Fast forward play and rewinding play operations are available.
              Also, repeat play and random play are available.
         12.2 Playable file formats
              12.2.1 MP3 file format
                 This format supports MPEG Audio 1, 2, 2.5 and Layer 1, 2, 3.
                 It supports sample rates of 8 kHz, 16 kHz, 32 kHz, 11.025 kHz, 22.05 kHz, 44.1 kHz, 12 kHz, 24 kHz and 48kHz.
                 It supports bit rates of 8 to 320kbps and VBR (Variable Bit Rate).
              12.2.2 WMA file format
                 This format supports WMA Ver.9 Standard.
                 It supports sample rates of 8 kHz, 16 kHz, 32 kHz, 11.025 kHz , 22.05 kHz, 44.1 kHz and 48 kHz.
                 It supports bit rates of 5 to 384kbps and VBR (Variable Bit Rate).
                 It does not support DRM.
                 It supports ASF files including audio streams only.
              12.2.3 AAC file format
                 This format supports MPEG4 AAC-LC.
                 It conforms to ITunes and 3GPP TS 26.244.
                 It supports file types of m4a, mp42 and 3gpX. (X is an arbitrary numeric value.)
                 ITunes is validated in the following versions: 4.*, 5.*, 6.* and 7.0-7.5.
                 It supports sample rates of 8 kHz, 16 kHz, 32 kHz, 11.025 kHz, 22.05 kHz, 44.1 kHz, 12 kHz, 24 kHz and 48
                 kHz.
                 It supports bit rates of 8 to 320kbps and VBR (Variable Bit Rate).
                 It does not support DRM.
              12.2.4 WAV file format
                  This format supports RIFF WAVE.
                 It supports sample rates of 8 kHz, 16 kHz, 32 kHz, 11.025 kHz, 22.05 kHz, 44.1 kHz, 12 kHz, 24 kHz and 48k
                 Hz.
              If you try to play a file created in any format other than above, the LSI immediately terminates decoding it.
         12.3 Playing files having damaged data
               If the data section of the MP3 file is damaged, the LSI plays the music data in the possible range instead of
               ceasing to play the entire file. It mutes the unplayable section. However, AMUTE terminal remains H output.
               If the data section of the WAV file is damaged, noises are output.
               The LSI executes other files within the playable range and stops playing. Then, it skips to the next tune.
               If a part of the data header is damaged, the LSI immediately terminates playing and skips to the next tune.
               If the file’s extension is playable but its file’s data does not have a format supporting to the extension, the LSI
               immediately terminates playing and skips to the next tune.
               If the file does not have a file format, the LSI immediately terminates playing and skips to the next tune.
               However, when the file data is structured in a format other than MP3 and its file extension is *.MP3, *.MP2 or
               *.MP1, the LSI plays it in the silence mode basically. However, if the LSI can read any playable data, it plays the
               file partially.
               In this case, the time information which is output as the serial status also becomes unstable. The time information
               is then partially output but you cannot obtain the correct information.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                      TSZ02201-0V2V0E600070-1-2
                                                                  33/69
TSZ22111・15・001                                                                                               2017.3.21 Rev.004


BU9450xAxxx series
         12.4 NEXT playing mode and Repeat playing mode
              You can select the operation as shown below depending on the next playing mode, repeat mode and random
              mode.
              Next playing mode
              [1]   PLAY_NEXT:               Automatically searches the next tune after the tune being played ends and starts
                                             playing the next tune.
              [2]   PLAY_ALL_STOP:           After the last tune being played within the memory ends, stops upon completion of
                                             search for the next tune.
                                             Starts playing the next tune by the play command issued subsequently.
              [3]   PLAY_FOL_STOP:           After the last tune being played within the folder ends, stops upon completion of
                                             search for the next tune.
                                             Starts playing the next tune by the play command issued subsequently.
              [4]   PLAY_TUN_STOP:           After the tune being played ends, stops upon completion of search for the next tune.
                                             Starts playing the next tune by the play command issued subsequently.
              Repeat mode
              Ⅰ：REPEAT_ALL:                  After playing all the tunes within the memory in process, starts playing them from the
                                             beginning of the memory.
              Ⅱ：REPEAT_FOL:                  Repeats playing tunes within the folder in process.
              Ⅲ：REPEAT_TUN:                  Repeats playing the tune in process. The operation at the time of FF and FB
                                             command reception follows a setup of a SET_REPRAND command.
              Ⅳ：RANDOM_ALL:                  Plays the range of ±128 files from the current tune being played at random within the
                                             memory.
              Ⅴ：RANDOM_FOL:                  Plays the range of ±128 files from the current tune being played at random within the
                                             folder in process.
              Select one operation from next play mode and repeat mode respectively to determine the operation.
              When repeat mode is REPEAT_FOL, the PLAY_ALL_STOP becomes invalid, and serves as PLAY_NEXT.
              When repeat mode is [3][4][5], the PLAY_ALL_STOP and PLAY_FOL_STOP becomes invalid, and serves as
              PLAY_NEXT.
                                     Ⅰ：               Ⅱ：                Ⅲ：                Ⅳ：                Ⅴ：
                                     REPEAT_ALL       REPEAT_FOL        REPEAT_TUN        RANDOM_ALL        RANDOM_FOL
        [1] PLAY_NEXT                      ○                 ○                  ○                ○                  ○
        [2] PLAY_ALL_STOP                  ○                 ×                  ×                ×                  ×
        [3] PLAY_FOL_STOP                  ○                 ○                  ×                ×                  ×
        [4] PLAY_TUN_STOP                  ○                 ○                  ○                ○                  ○
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                     TSZ02201-0V2V0E600070-1-2
                                                                 34/69
TSZ22111・15・001                                                                                              2017.3.21 Rev.004


BU9450xAxxx series
13. Command operations
         13.1 Write command
                                                                                                     2
       The LSI allows command operations from an external microcomputer via a slave I C serial interface.
       The command length to be sent varies depending on the command.
       Table 9. shows the command specifications.
       Table 10. shows enabled/disabled state of each command.
                                                   Table 9. Command Operations
     Command name         Comma Command                    Explanation of operation
                          nd
                          Byte      1st 2nd   3rd  4th
                          length
     CONFIG
     CHG_SYSTEM_MOD           4     0x60 0x00   N   0x00   ・Set up System Operation Mode.
     E                                                     ・Please choose 3rd byte N from the following. The other setup does not receive
                                                            a command. Please be sure to perform the changes to each mode via CONFIG
                                                            mode. The changes between PLAYER mode and FILEREAD mode cannot be
                                                            performed directly
                                                              N= 0x00 ; CONFIG Mode
                                                              N= 0x01 ; PLAYER Mode
                                                              N= 0x02 ; FILE RW Mode
                                                           The initial setting is N= 0x00.
     STOP                     2     0x60 0x01    -    -    ・When receiving the STOP command, end the present processing and shift to
                                                            the initial state in each system operation mode.
                                                           ・Playing of a file will be stopped when receiving the STOP command during
                                                            Playing, a stop, and file search.
                                                           ・Playing of a file will be stopped when receiving the STOP command during fast
                                                            forward or fast back Playing.
                                                           ・After stopping playing the file, the LSI restarts playing it from the tune being
                                                            stopped. However, if the memory is removed and new one is inserted before
                                                            restarting, the LSI returns to the top tune of the memory.
     ABORT                    4     0x60 0x02 0x01 0x00    ・Suspends folder analysis. After suspend, the analysis state becomes "not
                                                            analyzed" and the cursor position becomes invalid. In order to reset this status,
                                                            it is necessary to transmit an ANALYZE_ROOT command, and it is necessary
                                                            to make the cursor position valid. After ANALYZE_ROOT command, contents
                                                            acquisition of a desired folder can be performed. It is not necessary to analyze
                                                            intermediate folders one by one from a route folder.
                                                           ・The LSI suspends analysis only and continues playing the file when receiving
                                                            the ABORT command.
     CHG_DEV                  2     0x60 0x03    -    -    ・This command select device between USB memory and SD memory card.
                                                            To do this, both devices must be connected or one device is provided against
                                                            the other (USB memory against SD memory card, and vice versa). Any other
                                                            cases will be ignored.
                                                           ・After the device is selected, the system operation mode remains the previous
                                                            mode (before selecting) and goes to the initial state.
                                                           ・The setting values of the individual commands remain as they are. However,
                                                            those of the REPEAT and RANDOM commands return to the initial values.
     DIS_WDT                  2     0x60 0x04    -    -    ・This command disables Watch dog Timer.
                                                           ・Initial setting is that Watch dog Timer function is effective.
     SET_WDT                  2     0x60 0x05    -    -    ・This command writes “1” to STATUS WDT_RFLG when it is executed.
     SET_SORT                 4     0x60 0x06   N   0x00   ・Set up file sorting operation in a memory.
                                                           ・Select N at the 3rd byte from the following. Any setting other than N=0x00 is
                                                            considered to specify N=0x01.
                                                              N=0x00: Disables sorting of files/folders.
                                                                         Data is read out in the order that is written to FAT.
                                                              N=0x01: Enables sorting of files/folders.
                                                           ・Initial setting is N= 0x01. A sorting function is effective.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                               TSZ02201-0V2V0E600070-1-2
                                                                 35/69
TSZ22111・15・001                                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
     SET_12MOUT               4     0x60 0x07  N    M   ・Set up CLKOUT12 terminal and a MCLK terminal output.
                                                        ・Select N at the 3rd byte from the following. Any other settings will not accept the
                                                         command.
                                                           N=0x00: Disables 12 MHz clock output from the CLKOUT12 terminal.
                                                           N=0x01: Enables 12 MHz clock output from the CLKOUT12 terminal.
                                                        ・Select M at the 4th byte from the following. Any other settings will not accept
                                                         the command.
                                                           M=0x00: Disables 12.288MHz/16.9344 MHz clock output from the MCLK
                                                           terminal.
                                                           M=0x01: Enables 12.288MHz/16.9344 MHz clock output from the MCLK
                                                           terminal.
                                                        ・The 16.9344 MHz clock is a clock which buffers the input from the XIN_PLL
                                                         terminal.
                                                        ・The 12.288 MHz clock is divided from CLK24MI terminal input.
                                                        ・initial setting is N= 0x00 and M= 0x00. Output is invalid.
     SET_MP3                  4     0x60 0x09  N   0x00 ・Select the layer of the MPEG audio to play.
                                                        ・Select N at the 3rd byte from the following. Any setting other than N=0x00 is
                                                         considered to specify N=0x01.
                                                           N=0x00: Plays all the files having extension mp1, mp2, and mp3.
                                                           N=0x01: Plays the files having extension mp3 only.
                                                        ・Initial setting is N= 0x00. All the files of mp1, mp2, and mp3 are reproduced.
     SET_LBIT                 4     0x60 0x0D  N   0x00 ・Set up LBIT and a copy bit when SPDIF output.
                                                        ・Select N at the 3rd byte from the following. Any setting other than N=0x01 is
                                                         considered to specify N=0x00.
                                                           N=0x00: SPDIF LBIT=1, copy bit = 0 (copy disabled).
                                                           N=0x01: SPDIF LBIT=0, copy bit = 1 (copy enabled).
                                                        ・Initial value is N= 0x00, (ban on a copy).
     SET_UTPKT                4     0x60 0x0F  N   0x00 ・Set up a USB terminal output.
                                                        ・Select N at the 3rd byte from the following. Any other setting is considered to
                                                         specify N=0x01.
                                                           N=0x00: Normally operating terminal
                                                           N=0x01: Outputs a test packet from the USB terminal.
                                                        ・Initial value is N= 0x00.
     GET_DEV_FREE             4     0x60 0x10 0x00 0x00 ・Analyze the availability of the media selected now.
                                                        ・The LSI starts analyzing the free space after receiving the command. During
                                                         analysis, SEARCH=0x1 is set. Upon completion of analysis, SEARCH=0x0 is
                                                         set.
                                                        ・After analyzing the free space, you can use the READ_DEV_FREE command
                                                         to obtain the current free space.
                                                        ・The LSI does not monitor the free space automatically. Whenever changing
                                                         the system operation mode or the selected media, you should restart analysis.
     SET_TOUT_TUR             4     0x60 0x18 0x01  N   ・Specify the wait time after the first-time Test Unit Ready command in USB
                                                         memory mount operation.
                                                        ・Setting value [value of SET_TOUT_TUR] x 2 x [value of SET_RETVAL]
                                                         becomes the wait time.
                                                        ・Initial setting is N=0x4 ( 4 x 2 x 375 = 3,000msec).
                                                        ・Specify N within the range from 0x00 to 0xFF.
     SET_IDL_TIME             8     0x60 0x18 0x02 0x00 ・Specify the idle time after USB memory bus reset.
                                                        ・Specify the setting value to the 5 - 6th byte with a little endian.
                                                        ・Setting value {6 th=M, 5 th=N} x0.167 (usec) becomes wait time.
                                                        ・Initial setting is 220usec (setting value =1325= {M=x05, N=x2D}) .
                                                        ・Specify setting value within the range from300 (50usec) to 9000 (1.5msec).
     SET_USB_R_WAIT           6     0x60 0x18 0x03 0x00 The wait time after bus reset is set up at the time of USB memory recognition
                                                        ・Specify the setting value to the 5 - 6th byte with a little endian.
                                                        ・Setting value {6 th=M, 5 th=N} x200 (msec) is wait time.
                                                        An initial value is 600 msec (N,M=0x0300), and maximum value is 13107 sec
                                                         (N,M=0xFFFF).
     SET_TOUT_M               4     0x60 0x18 0x04 0x00 The ACK timeout of the command under memory mount is set up.
                                                        The set point x100 (msec) is timeout. At the time, 5th byte is upper byte and 6th
                                                        byte is lower byte.
                                                        An initial value is 30 sec (5th byte =0x2C, 6th byte =0x01), and maximum value is
                                                        60 sec (5th byte =0x58, 6th byte =0x02).If set point is over the maximum value,
                                                        this command is ignored.
                                                        Mount ERROR will be carried out if a timeout occur.
     SET_TOUT_C               4     0x60 0x18 0x05 0x00 The ACK timeout of the commands at the time of PLAY or STOP or PAUSE and
                                                        sector read under memory mount is set up.
                                                        The set point x100 (msec) is timeout. At the time, 5th byte is upper byte and 6th
                                                        byte is lower byte.
                                                        An initial value is 5 sec (5th byte =0x32, 6th byte =0x00), and maximum value is
                                                        60 sec (5th byte =0x58, 6th byte =0x02). If set point is over the maximum value,
                                                        this command is ignored.
                                                        Communication ERROR will be carried out if a timeout occur.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                             TSZ02201-0V2V0E600070-1-2
                                                              36/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     SET_USB_GETDEV_          6     0x60 0x18 0x06 0x00 ・Specify the timeout value for device descriptor acquisition in the head of USB
     F                                                    memory mount operation.
                                                        ・Specify the setting value to the 5 - 6th byte with a little endian.
                                                        ・Setting value {6 th=M, 5 th=N} x100 (msec)becomes timeout value.
                                                        ・Communication ERROR will be carried out if a timeout occur.
                                                        ・Initial setting is N=100 ( 10sec).
                                                        ・Specify N within the range from 0x1 to 0xFFFF.
     SET_TESTU_MODE           4     0x60 0x18 0x07  N   ・Specify the operation for the first-time Test Unit Ready command in USB
                                                          memory mount operation.
                                                        ・Select N from the following. Any other settings will not accept the command.
                                                        N= 0x00 : Retry is performed according to the setting value of a SET_RETVAL
                                                        command.
                                                        N= 0x01 : Retry is performed infinitely.
                                                        N= 0x02 : Cancels infinite retry of N=0x01 setting.
                                                        ・Initial setting is N= 0x00 (Retry is performed according to the setting value of a
                                                          SET_RETVAL command.)
     SET_USBCMD_CAN           8     0x60 0x18 0x08 0x00 ・Specify the initialization procedure performed in USB memory mount operation.
                                                        ・Specify the mask of the initialization procedure with a little endian.
                                                        ・The following bit values should be used for an initialization procedure mask.
                                                        When a bit is 0, an applicable initialization procedure is performed.
                                                        When a bit is 1, an applicable initialization procedure is not performed.
                                                        0x0001 : GET_DEVICE_STATUS
                                                        0x0002 : CLEAR_FEATURE
                                                        0x0004 : SET_ADDRESS
                                                        0x0008 : GET_DESCRIPTOR
                                                        0x0010 : GET_CONFIG
                                                        0x0020 : SET_CONFIG
                                                        0x0040 : GET_LUN
                                                        0x0080 : CLEAR_PORT_FEATURE
                                                        0x0100 : GET_PORT_STATUS
                                                        0x0200 : SET_PORT_FEATURE
                                                        0x0400 : GET_HUB_DESCRIPTOR
                                                        0x0800 : INQUIRY
                                                        0x1000 : TEST_UNIT_READY
                                                        0x2000 : REQUEST_SENSE
                                                        0x4000 : READ_CAPACITY
                                                        ・Initial setting is0x0000 .
                                                        ・Please specify 0 to 7th-8th byte.
     SET_RETVAL              6or8   0x60 0x18 0x09  N   ・Specify the retry operation performed in USB memory mount operation.
                                                        ・Specify the setting value from the 5th byte with a little endian.
                                                        ・The length of a setting value changes with values of N.
                                                        ・Select N from the following. Any other settings will not accept the command.
                                                        N = 0x00: Specify the number of times of execution of sector read at 2 bytes.
                                                        Setting value+1 becomes the number of times of execution. Initial setting is 3.
                                                        Specify N within the range from 0x0 to 0xFFFF.
                                                        N = 0x01: Specify the times of retry for first-time device descriptor acquisition
                                                        at 2 bytes. Initial setting is 3. Specify N within the range from 0x1 to 0xFFFF.
                                                        N = 0x02: Specify the number of times of execution of the first-time Test Unit
                                                        Ready command at 2 bytes. Initial setting is 375. Specify N within the range
                                                        from 0x0 to 0xFFFF.
                                                        N = 0x05: Specify the timeout setting in the HUB port scan at 4 bytes. Initial
                                                        setting is 30000. Specify N within the range from 0x1 to 0xFFFF_FFFF.
                                                        N = 0x06: Specify the number of times of execution of the second-time Test
                                                        Unit Ready command at 2 bytes. Initial setting is 375. Specify N within the range
                                                        from 0x0 to 0xFFFF.
     SET_RETRYMODE            6     0x60 0x18 0x0A  N   ・Specify the operation for the each processing in USB memory mount operation.
                                                        ・Select 5th byte from the following.
                                                         0x00 : Retry is performed according to the preset value or specified value by
                                                         command.
                                                          0x01 : Retry is performed infinitely.
                                                          0x02 : Cancels infinite retry setting (0x01).
                                                        ・Select N from the following. Any other settings will not accept the command.
                                                        N= 0x01: Specify the operation of sector read.
                                                        N= 0x02: Specify the operation of first-time device descriptor acquisition
                                                        N= 0x03: Specify the operation of HUB port scan.
                                                        N= 0x04: Specify the operation of the waiting for the ACK response for other
                                                        command request.
                                                        N= 0x05: Specify the operation of wait after first-time bus reset.
     SET_TUR_PASS             4     0x60 0x18 0x0B  N   ・Specify the operation after Test Unit Ready timeout in USB memory mount
                                                          operation.
                                                        ・ Select N from the following. Any other setting is considered to specify
                                                        N=0x01.
                                                        N=0x00: TestUnitReady timeout is considered as mount failure.
                                                        N=0x01: If the number of effective LUN is one, continues mount operation.
                                                        ・Initial value is N= 0x00.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                             TSZ02201-0V2V0E600070-1-2
                                                              37/69
TSZ22111・15・001                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
     SET_TESTU_MODE2          4     0x60 0x18 0x0C  N   ・Specify the operation for the second-time Test Unit Ready command in USB
                                                         memory mount operation.
                                                        ・Select N from the following. Any other settings will not accept the command.
                                                        N= 0x00 : Retry is performed according to the setting value of a SET_RETVAL
                                                         command.
                                                        N= 0x01 : Retry is performed infinitely.
                                                        N= 0x02 : Cancels infinite retry of N=0x01 setting.
                                                        ・Initial setting is N= 0x00 (Retry is performed according to the setting value of a
                                                         SET_RETVAL command.)
     SET_TOUT_TUR2            6     0x60 0x18 0x0D 0x00 ・Specify the wait time after the second-time Test Unit Ready command in USB
                                                         memory mount operation.
                                                        ・Setting value [value of SET_TOUT_TUR2] x 2 x [value of SET_RETVAL]
                                                         becomes the wait time.
                                                        ・Specify the setting value to the 5 - 6th byte with a little endian.
                                                        ・Initial setting is N=0xFF (255 x 2 x 375 =191,250msec).
                                                        ・Specify N within the range from 0x00 to 0xFFFF
     SET_EMP_DIR              4     0x60 0x1A  N   0x00 ・At the time of the FAT analysis, A number isn't given to folders which the file
                                                         which can reproduce is not in through.
                                                        ・Select N at the 3rd byte from the following. Any other setting is considered to
                                                         specify N=0x01.
                                                             N=0x00 ; A number is assigned in folders as well which the file which can
                                                             reproduce is not in through.
                                                           N=0x01 ; A number isn’t assigned in folders as well which the file which can
                                                             reproduce is not in through.
                                                        ・Initial value is N= 0x00.
     SEL_IRPTO                4     0x60 0x1B  N   0x00 ・Specify the mode of IRPTO signal output condition.
                                                        ・In variable interruption mode, IRPTO is unified output by two or more status
                                                         change. Master microcomputer can select the status.
                                                        ・In fixed interruption mode, IRPTO is output by single status change according
                                                         to system mode.
                                                        ・Select N from the following. Any other setting is considered to specify N=0x00.
                                                        N=0x00: Variable interruption mode
                                                        N=0x01: Fixed interruption mode
                                                        ・Initial value is N= 0x00(Variable interruption mode)
     SET_MASK_IRPTO_          4     0x60 0x1C 0x00  N   ・MASK is done from the movement of IRPTO toward each bit of the status
     00                                                  register STATUS1 (Offset : 0x0000).
                                                        MASK is done with bit which 'H' was set up to from the interruption factor of
                                                        IRPTO
                                                        Initial value is 0x7A.
                                                        ・Refer to 6.4.12 for the details of the movement.
     SET_MASK_IRPTO_          4     0x60 0x1C 0x02  N   ・MASK is done from the movement of IRPTO toward each bit of the status
     02                                                  register STATUS1 (Offset : 0x0002).
                                                         MASK is done with bit which 'H' was set up to from the interruption factor of
                                                         IRPTO
                                                         Initial value is 0x3F.
                                                        ・Refer to 6.4.12 for the details of the movement.
     SET_MASK_IRPTO_          4     0x60 0x1C 0x22  N   ・MASK is done from the movement of IRPTO toward each bit of the status
     22                                                  register STATUS1 (Offset : 0x0022).
                                                         MASK is done with bit which 'H' was set up to from the interruption factor of
                                                         IRPTO
                                                         Initial value is 0x4E.
                                                        ・Refer to 6.4.12 for the details of the movement.
     SET_MASK_IRPTO_          4     0x60 0x1C 0x2F  N   ・MASK is done from the movement of IRPTO toward each bit of the status
     2F                                                  register STATUS1 (Offset : 0x002F).
                                                         MASK is done with bit which 'H' was set up to from the interruption factor of
                                                         IRPTO
                                                         Initial value is 0x75.
                                                        ・Refer to 6.4.12 for the details of the movement.
     SET_MASK_IRPTO_          4     0x60 0x1C 0x37  N   ・MASK is done from the movement of IRPTO toward each bit of the status
     37                                                  register STATUS1 (Offset : 0x0037).
                                                         MASK is done with bit which 'H' was set up to from the interruption factor of
                                                         IRPTO
                                                         Initial value is 0xF8.
                                                        ・Refer to 6.4.12 for the details of the movement.
     SET_NODIFF               4     0x60 0x21 0x00  N   ・When folder and file are sorted. It is configured whether it cases sensitivity of
                                                         the alphabet.
                                                         When it was configured without a distinction. It becomes only alphabet ("a" - "z"
                                                         and "A" - "Z") that it is equated.
                                                        ・Select N at the 4rd byte from the following. Any other setting is considered to
                                                         specify N=0x01.
                                                             N=0x00 ; Alphabet doesn't case sensitivity.
                                                             N=0x01 ; Alphabet cases sensitivity.
                                                         ・Initial value is N= 0x00.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                           TSZ02201-0V2V0E600070-1-2
                                                              38/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     SET_IGNORE              12     0x60 0ｘ22 0x00  N   ・Specify the character string disregarded at the time of sorting files and folders.
                                                        ・The specified character string is compared with the head of the name.
                                                        ・Specify 4byte ASCII character string to 5-8th byte.
                                                        ・If the ASCII character is less than 4byte, fill with 0x00 data.
                                                        ・Select N from the following.
                                                        N=0x00 ; Normal sort. Specified character is not disregarded.
                                                        N=0x01-0x04 ; Specified character is disregarded. Specify character length to N.
                                                        ・Initial value is N= 0x00.(Normal sort)
     SET_SRC_OFF              4     0x60 0x23 0x00 0x01 ・sample rate converter is used in off
                                                          ・sample rate converter can't be turned on by the command. Turned on it by the
                                                          IC reset.
     SET_SD                   4     0x60 0x24  N    M   ・Specify the use of a serial bus.
                                                        ・Select N from the following.
                                                        N=0x00:No effective-I/F
                                                        N=0x01:SD I/F
                                                        ・Initial setting is N=0x00(No effective-I/F).
                                                        ・Select M from the following.
                                                        M=0x00: Initialization processing is carried out after detecting SD connection.
                                                        M=0x01: Initialization processing is not carried out after detecting SD
                                                        connection.
                                                        ・Initial setting is M=0x00(Initialization processing is carried out).
                                                        ・When select M=0x01, send SET_SD_INFO command in advance.
     AUTO_RECOG_LUN           4     0x60 0x25  N   0x00 ・When multiple LUN device is connected, the auto polling of the Test Unit Ready
                                                          to each LUN is enabled.
                                                        ・The result of the polling is saved to LUN_READY status.
                                                          Then, LUN_READY_RENEW status notifies the updating.
                                                        ・Select N from the following. Any other setting is considered to specify N=0x01.
                                                        N=0x00 ; The auto polling of the Test Unit Ready is disabled.
                                                        N=0x01 ; The auto polling of the Test Unit Ready is enabled.
                                                        ・Initial setting is N=0x00(The auto polling of the Test Unit Ready is disabled).
     SET_RECOG_TIM            4     0x60 0x26 0x00  N   ・Cycles to do the auto polling of AUTO_RECOG_LUN is configured.
                                                        ・Set value x200 (msec) becomes the cycle of the polling performance.
                                                        ・Initial value is 1sec.
     RECOG_LUN                4     0x60 0x27 0x00 0x00 ・Check Test Unit Ready of each LUN , and update LUN_READY status only
                                                          once.
     SET_WMA                  4     0x60 0x28 0x00 0x00 ・The file of the extension "WMA', "ASF" is removed from the playback object.
                                                          ・The configuration of this command can't do exemption by the command.
                                                          Exempt it by the IC reset.
     SET_AAC                  4     0x60 0x29 0x00 0x00 ・The file of the extension"MP4', "M4A", "3GP" is removed from the playback
                                                          object.
                                                          ・The configuration of this command can't do exemption by the command.
                                                          Exempt it by the IC reset.
     SET_LUN                  4     0x60 0x31 0x00  N   LUN, which USB memory mounts, is specified.
                                                        LUN specified at the time of USB connection mounts.
                                                        When another LUN is already mounted, Re-mounts By FORCE_DISCON_USB
                                                        command and FORCE_CON_USB command,
                                                        When not specifying LUN, effective LUN becomes an AUTO setup and LUN
                                                        detected first is mounted at the time of USB memory connection.
                                                        (Initial value)
     RESET_LUN                4     0x60 0x32 0x00 0x00 Effective LUN is set to AUTO and LUN detected first comes to be mounted at
                                                        the time of USB memory connection.
     FORCE_DISCON_US          4     0x60 0x33 0x00 0x00 Force USB memory to be disconnected.
     B
     FORCE_CON_USB            4     0x60 0x34 0x00 0x00 Mount USB memory again,.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                            TSZ02201-0V2V0E600070-1-2
                                                              39/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     FORCE_DISCON_SD          4     0x60 0x36 0x00 0x00 Force SD card to be disconnected
     FORCE_CON_SD             4     0x60 0x37 0x00 0x00 Mount SD card again.
     SET_SD_TMOUT             8     0x60 0x38 0x01  N   ・Specify the timeout value for SD cad mount operation.
                                                        ・Specify the setting value to the 5 - 8th byte with a little endian.
                                                        ・Setting value (msec) becomes timeout value.
                                                        ・If Setting value is 0 , Retry is performed infinitely until it is cancelled by
                                                          SET_SD_ABORT command.
                                                        ・Select N from the following. Any other settings will not accept the command.
                                                        N=0x00: Specify timeout of the whole SD mount operation. Initial setting is
                                                        30000.
                                                        N=0x01: Specify timeout of the first-time CMD8 response. Initial setting is 500.
                                                        N=0x02: Specify timeout of the second-time CMD8 response. Initial setting is
                                                        1000.
                                                        N=0x03: Specify timeout of the sector reading. Initial setting is 5000.
     SET_SD_ABORT             4     0x60 0x38 0x00 0x00 ・Cancels infinite retry of SD mount operation by SET_SD_TMOUT command.
                                                        ・SD mount operation is failed.
     SET_WAV                  4     0x60 0x39 0x00 0x00 ・Remove the file of extension "WAV" for reproduction.
                                                        ・A setup of this command cannot be canceled. Please reset the LSI.
     SET_MP3_PLAY             4     0x60 0x3A 0x00 0x00 ・Remove the file of extension "MP3", "MP1", and "MP2" for reproduction.
                                                        ・A setup of this command cannot be canceled. Please reset the LSI.
     SET_USB_SUBC             4     0x60 0x3B 0x00  M   ・Specifies valid subclass code for USB mount operation.
                                                        ・Specify the combination of the following bits to M
                                                        0x01 : The subclass 0x01 is valid.
                                                        0x02 : The subclass 0x02 is valid.
                                                        0x04 : The subclass 0x03 is valid.
                                                        0x08 : The subclass 0x04 is valid.
                                                        0x10 : The subclass 0x05 is valid.
                                                        0x20 : The subclass 0x06 is valid.
                                                        ・Initial setting is M=0x30 (the subclass 0x05 and 0x06 is valid).
     ENABLE_MEDIADRV          4     0x60 0x3C 0x00 0x00 ・Enables USB memory/SD card mount operation.
                                                        ・USB memory/SD card mount operation is disabled until this command is
                                                        received.
     SET_SD_INFO             10     0x60 0x3D  N    N   ・Specify the inside information of SD driver.
                                                        ・When you select M= 0x01 (Initialization processing is not carried out) for
                                                          SET_SD command, send SET_SD_INFO command in advance.
                                                        ・Specify 8 bytes data acquired by the READ_SD_STATUS command to the 3rd
                                                        - 10th byte.
     SET_PATCH_CODE           4     0x6F 0x03 0x00 0x00 ・Download a patch image packet to this LSI.
                                                        ・Specify the start offset of the patch image packet to the 5-6th byte with a little
                                                          endian.
                                                        ・Specify the length of the patch image packet to the 7-8th byte with a little
                                                          endian.
                                                        ・Specify the patch image packet after the 9th byte.
                                                        ・The maximum length of the patch image packet is 502 bytes.
                                                        ・Specify 2 bytes CRC16 after the patch image packet with a little endian.
                                                        ・When CRC16 is not right, the command is not accepted and PRECOM status
                                                          becomes H.
     SET_PATCH_CRC            4     0x6F 0x03 0x01 0x00 ・Validate the patch image.
                                                        ・Specify the CRC16 of the whole patch image to the 5-6th byte with a little
                                                          endian.
                                                        ・Specify the length of the whole patch image to the 7-8th byte with a little
                                                          endian.
                                                        ・ When CRC16 or length is not right, the command is not accepted and
                                                          PRECOM status becomes H.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                           TSZ02201-0V2V0E600070-1-2
                                                              40/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     PLAY control
     PLAY                     2     0x61 0x01   -    -  ・When receiving the PLAY command during stop, the LSI starts playing the file
                                                         currently selected.
                                                        ・When receiving the PLAY command during pause, the LSI starts playing the
                                                         file at the paused time.
                                                        ・When receiving the PLAY command in the CONFIG mode, the LSI
                                                         automatically goes to the PLAYER mode and plays the first tune in the sort
                                                         order.
     PAUSE                    2     0x61 0x02   -    -  ・When receiving the PAUSE command during play, the LSI pauses playing of
                                                         the file
     HOME                     4     0x61 0x03  N   0x00 ・When receiving the HOME command, the LSI searches files of the first tune
                                                         within the memory.
                                                        ・TAG analysis, if it is enabled, is performed.
                                                        ・It is not the first tune in the memory at the time of the random setup, but it is
                                                         moved for the tune chosen at random.
                                                        ・Select N at the 3rd byte from the following. Any setting other than N=0x00 is
                                                         considered to specify N=0x01.
                                                         N=0x00: Stops after search is completed.
                                                         N=0x01: Starts playing after search is completed.
     PLAYMODE                 4     0x61 0x04  N   0x00 ・When receiving the PLAYMODE command, the LSI changes play mode in
                                                        accordance with the setting of N in the 3rd byte.
                                                        ・During play, the play mode is immediately changed. During stop, this command
                                                        cannot start playing the file.
                                                        ・Select N at the 3rd byte from the following. Any other settings will not accept the
                                                        command.
                                                           N=0x00: Changes to normal play.
                                                           N=0x01: Changes to fast forward.
                                                           N=0x02: Changes to rewind.
                                                        ・Initial setting is N= 0x00. It is normal Playing.
     VOL+                     4     0x61 0x06 0x01 0x00 ・When receiving the VOL+ command, the LSI controls the sound volume step
                                                         by incrementing by 1.
                                                        ・The sound volume is controlled in 32 steps from -∞ (minimum volume) to 0 dB
                                                         (maximum volume).
     VOL-                     4     0x61 0x06 0x02 0x00 ・When receiving the VOL- command, the LSI controls the volume step by
                                                         decrementing by 1.
                                                        ・The sound volume is controlled in 32 steps from -∞ (minimum volume) to 0 dB
                                                         (maximum volume).
     REPEAT                   4     0x61 0x06 0x03 0x00 ・This command changes the mode for repeat.
                                                        ・REPEAT command toggles as: memory repeat ->1 music repeat -> folder
                                                         repeat.
                                                        ・For the settings of the REPEAT, RANDOM, and SET_REPRAND commands,
                                                         the one finally set becomes enabled.
                                                        ・Initial setting is the all-songs repeat in a memory.
     RANDOM                   4     0x61 0x06 0x04 0x00 ・This command changes the mode for random play.
                                                        ・If random play is enabled, the LSI plays the currently-played file at random in
                                                         the area of ±128 files in the sort order.
                                                        ・The RANDOM command toggles as: Normal play→Repeat all the tunes within
                                                         the memory.
                                                        ・For the settings of the REPEAT, RANDOM and SET_REPRAND commands,
                                                         the one finally set becomes enabled.
     FF                       4     0x61 0x07  M    N   ・When receiving the FF command during play, pause, or stop, the LSI searches
                                                         the file N tunes ahead from the file being played or paused in the sort order.
                                                        ・If the number of remaining files is less than N in the sort order, the LSI
                                                         searches back to the first file.
                                                        ・If N=0, the LSI searches the current file.
                                                        ・If REPEAT or RANDOM is set, the LSI searches the next file in accordance
                                                         with the setting. However, if “Repeats one tune” is set, the LSI searches the
                                                         next file in accordance with the SET_REPRAND command setting.
                                                        ・If TAG analysis is enabled, the LSI also performs that analysis.
                                                        ・After searching, the LSI operates in accordance with the setting in the 3rd byte.
                                                        Select M at the 3rd byte from the following. Any setting other than M=0x00 is
                                                        considered to specify M=0x01.
                                                           M=0x00: Stops after search is completed.
                                                           M=0x01: Starts playing after search is completed.
                                                        ・The number of tunes to be searched depends on the setting of N in the 4th
                                                         byte.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                             TSZ02201-0V2V0E600070-1-2
                                                              41/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     FB                       4     0x61 0x08  M   N ・When receiving the FB command during play, pause, or stop, the LSI searches
                                                      the file, N tunes back from the file being played, paused or stopped, in the sort
                                                      order.
                                                     ・When the LSI play is playing a tune in less than N files from the top in the sort
                                                      order, it searches the first tune. However, only when the file to be searched is
                                                      the first tune within the memory in the “repeat within the memory” setting, the
                                                      LSI searches the file across the last tune within the memory to the first one. If
                                                      the file to be searched is the first file within the folder in the “repeat within the
                                                      folder” setting, the LSI searches the file within the same folder.
                                                     ・If N=0, the LSI searches the top of the current file. However if it receives the
                                                      FB command with N=0 when the play time is within 1 second, the LSI searches
                                                      the top of the previous tune.
                                                     ・If REPEAT or RANDOM is set, the LSI searches files in accordance with the
                                                      setting. However, if “Repeats one tune” is set, the LSI searches the next file in
                                                      accordance with the SET_REPRAND command setting.
                                                     ・If TAG analysis is enabled, the LSI also performs that analysis.
                                                     ・After searching, the LSI operates in accordance with the setting in the 3rd byte.
                                                      Select M at the 3rd byte from the following. Any setting other than M=0x00 is
                                                      considered to specify M=0x01.
                                                      M=0x00: Stops after search is completed.
                                                      M=0x01: Starts playing after search is completed.
                                                     ・The number of tunes to be searched depends on the setting of N in the 4th
                                                      byte.
     FOL+                     4     0x61 0x09  M   N ・When receiving the FOL+ command during play, pause, or stop, the LSI
                                                      searches the folder N tunes ahead from the one having the file being played,
                                                      paused or stopped in the sort order.
                                                     ・If the remaining folders are less than N in the sort order, the LSI returns to the
                                                      first folder.
                                                     ・Even if REPEAT or RANDOM is set, the LSI searches the file in the status
                                                      where repeat mode is set.
                                                     ・Search the file chosen at random when RANDOM is set.
                                                     ・If N=0, the LSI searches the top of the current folder.
                                                     ・If TAG analysis is enabled, the LSI also performs that analysis.
                                                     ・After searching, the LSI operates in accordance with the setting in the 3rd byte.
                                                      Select M at the 3rd byte from the following. Any setting other than M=0x00 is
                                                      considered to specify M=0x01.
                                                      M=0x00: Stops after search is completed.
                                                      M=0x01: Starts playing after search is completed.
                                                     ・The number of tunes to be searched depends on the setting of N in the 4th
                                                      byte.
     FOL-                     4     0x61 0x0A  M   N ・When receiving the FOL- command during play, pause, or stop, the LSI
                                                      searches the folder N tunes back from the one having the file being played or
                                                      paused in the sort order.
                                                     ・When playing a tune less than N folders from the top in the sort order, the LSI
                                                      returns to the first folder. However, when playing a file within the first folder,
                                                      the LSI searches the folder across the last tune within the memory.
                                                     ・Even if REPEAT or RANDOM is set, the LSI searches the file in the status
                                                      where repeat mode is set.
                                                     ・Search the file chosen at random when RANDOM is set.
                                                     ・If N=0, the LSI searches the top of the current folder.
                                                     ・If TAG analysis is enabled, the LSI also performs that analysis.
                                                     ・After searching, the LSI operates in accordance with the setting in the 3rd byte.
                                                      Select M at the 3rd byte from the following. Any setting other than M=0x00 is
                                                      considered to specify M=0x01.
                                                      M=0x00: Stops after search is completed.
                                                      M=0x01: Starts playing after search is completed.
                                                     ・The number of folders to be searched depends on the setting of N in the 4th
                                                      byte.
     PLAY_RESUME             46     0x61 0x0B 0x00 N ・This command sets 42-byte data obtained by the READ_RESUME_INFO
                                                      command to 5th-46th bytes.
                                                     ・Set the data in ascending order of the offsets obtained by the
                                                      READ_RESUME_INFO command.
                                                     ・Select N at the 4rd byte from the following. Any other setting is considered to
                                                      specify N=0x01.
                                                        N=0x00 ; Playback is started in the time when 「READ_RESUME_INFO」
                                                      command was forwarded.
                                                        N=0x01 ; Stop (Pause) in the time when 「READ_RESUME_INFO」command
                                                     was forwarded.
                                                        N=0x02 ; Playback is started from the front of the tune when
                                                                                 「READ_RESUME_INFO」command was forwarded.
                                                        N=0x03 ; Stop (Pause) the front of the tune when 「READ_RESUME_INFO」
                                                     command was forwarded.
                                                     ・If the resume target cannot be searched, the LSI searches the first tune of in
                                                      the device and plays or stop (Pause).
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                           TSZ02201-0V2V0E600070-1-2
                                                           42/69
TSZ22111・15・001                                                                                                        2017.3.21 Rev.004


BU9450xAxxx series
     PLAY Setting
     SET_DOUT                 4     0x61 0x10 0x00 N ・This command sets audio output.
                                                     ・Select N at the 4th byte from the following. Any other settings will not accept
                                                      the command.
                                                      N=0x00: Outputs via audio line.
                                                      N=0x01: Outputs using the digital audio interface (SPDIF).
                                                      N=0x02: Outputs in I2S(32fs) format.
                                                      N=0x03: Outputs in I2S(48fs) format.
                                                      N=0x04: Outputs in I2S(64fs) format.
                                                      N=0x05: Outputs in EIAJ(32fs) format.
                                                      N=0x06: Outputs in EIAJ (48fs) format.
                                                      N=0x07: Outputs in EIAJ (64fs) format.
                                                     ・By default, N=0x00: "audio line output" is set.
     SET_EQ                   4     0x61 0x10 0x01 N ・This command sets the equalizer.
                                                     ・Set N at the 4th byte from the following. Any other settings will not accept the
                                                      command.
                                                      N=0x00: EQ OFF
                                                      N=0x01: POPS
                                                      N=0x02: JAZZ
                                                      N=0x03: ROCK
                                                      N=0x04: CLASSIC
                                                      N=0x05: R&B
                                                      N=0x07: EQ OFF
                                                      N=0x08: BASS BOOST1
                                                      N=0x09: POPS + BASS BOOST1
                                                      N=0x0A: JAZZ + BASS BOOST1
                                                      N=0x0B: ROCK + BASS BOOST1
                                                      N=0x0C: CLASSIC + BASS BOOST1
                                                      N=0x0D: R&B + BASS BOOST1
                                                      N=0x0F: BASS BOOST2
                                                     ・By default, N=0x00: EQ OFF is set.
     SET_VOL                  4     0x61 0x10 0x02 N ・This command sets the sound volume with the value of N at the 4th byte in 32
                                                      steps from 0x00 to 0x1F.
                                                     ・Setting range outside 0x00 to 0x1F will not accept the command.
                                                     ・By default, N=0x06 is set.
     SET_NEXT                 4     0x61 0x10 0x03 N ・This command sets next tune play mode.
                                                     ・Select N at the 4th byte from the following. Any settings other than N=0x04
                                                      will not accept the command.
                                                      N=0x00: PLAY_NEXT:
                                                           After the tune being played is completed, the LSI automatically searches
                                                      the next tune and starts playing it.
                                                      N=0x01: PLAY_ALL_STOP:
                                                           After the last tune within the memory being played is completed, the LSI
                                                     reaches the next tune and stops.
                                                           When the play command is issued again, the LSI starts playing the next
                                                     tune.
                                                      N=0x02: PLAY_FOL_STOP:
                                                           After the last tune within the folder being played is completed, the LSI
                                                      searches the next tune and stops.
                                                           When the play command is issued again, the LSI starts playing the next
                                                     tune.
                                                      N=0x03: PLAY_TUN_STOP:
                                                           After the tune being played is completed, the LSI searches the next tune
                                                     and stops.
                                                           When the play command is issued again, the LSI starts playing the next
                                                     tune.
                                                     ・By default, N=0x00 is set.
                                                     ・If the repeat mode is set to “repeat within folder”, operation setting N=0x01 will
                                                      become disabled. The LSI searches the next tune and then starts playing it.
                                                     ・If the repeat mode is set to “repeat one tune”, operation settings N=0x01 and
                                                      0x02 will become disabled. The LSI searches the next tune and then starts
                                                      playing it.
                                                     ・If the repeat mode is set to “random within memory” or “random within folder”,
                                                      the operation settings N=0x01 and 0x02 will become disabled. The LSI
                                                      searches the next tune and then starts playing it.
     SET_REPRAND              4     0x61 0x10 0x04 N ・This command sets repeat mode.
                                                     ・Select N at the 4th byte from the following. Any other settings will not accept
                                                      the command.
                                                      N=0x00: REPEAT_ALL: Repeats within the memory
                                                           Repeats all the tunes within the memory being played.
                                                      N=0x01: REPEAT_FOL: Repeats within the folder
                                                           Repeats the tunes within the folder being played.
                                                      N=0x02: REPEAT_TUN: Repeats one tune
                                                           Repeats the tune being played.
                                                           A setup of the repeat in the memory is followed when FF and FB command.
                                                      N=0x03: REPEAT_TUN: Repeats one tune
                                                           Repeats the tune being played.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                          TSZ02201-0V2V0E600070-1-2
                                                           43/69
TSZ22111・15・001                                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
                                                         A setup of the repeat in the memory is followed when FF and FB command.
                                                         N=0x04: RANDOM_ALL: Random within the memory
                                                         Plays tunes at random starting from the one being played, in a range 128 tunes
                                                         ahead and back of the tune.
                                                         N=0x05: RANDOM_FOL: Random within the folder
                                                         Plays tunes at random within the folder starting from the one being played,
                                                          in a range 128 tunes ahead and back of the tune.
                                                        ・By default, N=0x00 is set.
                                                        ・For the settings of the REPEAT, RANDOM and SET_REPRAND commands,
                                                         the one finally set becomes enabled.
     SET_TAG                  4     0x61 0x10 0x05  N   ・This command sets TAG analysis mode.
                                                        ・Select N at the 4th byte from the following. Any settings other than N=0x00
                                                         will be considered to specify N=0x01.
                                                         N=0x00: Does not perform TAG analysis.
                                                         N=0x01: Performs TAG analysis.
                                                        ・TAG analysis is performed immediately before the LSI starts playing a tune,
                                                         and started from the file to be searched after the setting is enabled.
                                                        ・After TAG analysis is completed, the LSI writes the result to the status register.
                                                        ・By default, N=0x01: "Performs TAG analysis" is set.
     SET_TOC                  4     0x61 0x10 0x06  N   ・This command sets TOC analysis mode.
                                                        ・Select N at the 4th byte from the following. Any setting other than N=0x00 will
                                                         be considered to specify N=0x01.
                                                         N=0x00: Does not perform TOC analysis.
                                                         N=0x01: Performs TOC analysis.
                                                        ・When receiving the command, inserting or changing the device, the LSI
                                                         analyzes the total number of folders within the device (all the folders including
                                                         root folders) and the total number of playable files. When receiving a
                                                         command, TOC analysis is performed only at change from OFF to ON.
                                                        ・The total number of files conforms to the SEL_MP3, SET_WMA, SET_AAC,
                                                         SET_WAV, SET_MP3_PLAY command.
                                                        ・The total number of folders conforms to the SET_EMP_DIR command.
                                                        ・After TOC analysis is completed, the LSI writes the number of total folder and
                                                         total playable file to the status register, and stops at the first tune in the device.
                                                        ・By default, N=0x00: "Does not perform TOC analysis" is set.
     SET_PRM                  8     0x61 0x10 0x07  L   ・This command sets play time (M) and skip time (N) for fast forward and rewind.
                                                        ・Play time is a period of time to make sound. Skip time is a period of time to
                                                         skip during search.
                                                        ・For fast forward and rewind, a cycle of {play time (M) + skip time (N) + error
                                                         (O)} is repeated.
                                                         The error is determined by the difference between the minimum decode unit
                                                          and the rounding error between the play time and the real time requiring to
                                                          search the skip time. The error varies depending on the file and memory
                                                         structure.
                                                        ・Play time is set to M[15:0]= [6th byte, 5th byte], and skip time to N[15:0]= [8th
                                                         byte, 7th byte].
                                                          The unit is msec. By default, play time is 300ms=M[15:0]= [6th byte=x01,5th
                                                         byte=x2C], and skip time is 2100ms=N[15:0]= [8th byte=x08,7th byte=x34].
                                                          Specifying 0x0 sets the default.
                                                          Set play time to 300ms or more, and skip time to (play time×16) or less.
                                                          When it is moved by the fast rewind play in the front to the tune,
                                                          the regenerated time of the first period may become shorter than setup time.
                                                        ・0xL in the 4th byte sets the attenuation level during fast forward and rewind.
                                                         The allowable level is -6dB X[4th byte].
                                                          Allowable setting range is from 0x00 to 0x10.
                                                          By default, 0x02=-12dB is set. Setting of 0x10 is equivalent to MUTE.
     BROWSING
     ANALYZE_ROOT             4     0x62 0x00 0x00 0ｘ00 ・The LSI starts analyzing the root folder immediately after receiving the
                                                         command.
                                                        ・The analysis is performed for the information of 10 entries (files or subfolders)
                                                        ・Upon completion of analysis, the cursor position for browsing within the
                                                         memory is set to the first entry (file or subfolder) within the root folder.
     PLAY_CURSOR              4     0x62 0x01 0x00 0x00 ・This command selects the file being pointed by the memory browsing cursor.
                                                        ・If a playable file is selected, the LSI starts playing it.
                                                        ・If a folder or unplayable file is selected, this command will not be accepted.
                                                        ・Don't use PLAY_CURSOR in the PLAYER mode when use SET_EXTENSION
                                                         command by the setup except for N=0x00 (Playable file).
                                                         Get access data of present cursor position by READ_BROWSE_ENTRY_INFO
                                                         command, and start play by PLAY_DIRECT command.
     GET_TAG_CURSOR           4     0x62 0x01 0x01 0x00 ・This command performs TAG analysis for the file being pointed by the memory
                                                         browsing cursor.
                                                        ・When a file is pointed by the memory browsing cursor, the LSI immediately
                                                         starts TAG analysis through the file. Upon completion of analysis, the LSI
                                                         writes the result to the status register.
                                                        ・When a folder is pointed by the memory browsing cursor, this command will
                                                         not be accepted.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                             TSZ02201-0V2V0E600070-1-2
                                                              44/69
TSZ22111・15・001                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
     PLAY_DIRECT             10     0x62 0x01 0x04 0x00 ・This command starts playing the file specified by the access data.
                                                        ・If the access data does not specify a playable file, the LSI searches the first
                                                         tune in the device and stops.
                                                        ・The position of the memory browsing cursor does not change.
                                                        ・Set the access data at the 5th-10th bytes.
     MOV_NEXT                 4     0x62 0x02 0x01  N   ・This command moves the memory browsing cursor from the current position to
                                                          the position N ahead in the sort order.
                                                        ・The analysis is performed for the information of the 10 entries specified,
                                                          starting from the move destination. After the analysis is completed, the LSI
                                                          writes the result to the status register.
                                                        ・If there are less than N files after the current memory browsing cursor position
                                                          in the folder, the cursor position goes to the end of the folder.
                                                        ・If the sort function (SET_SORT) is OFF, the cursor moves in the FAT order.
     MOV_PREV                 4     0x62 0x02 0x02  N   ・This command moves the memory browsing cursor from the current position to
                                                          the position N backward in the sort order.
                                                        ・The analysis is performed for the information of the 10 entries specified,
                                                         starting from the move destination. After the analysis is completed, the LSI
                                                         writes the result to the status register.
                                                        ・If there are less than N files from the top of the folder to the current memory
                                                          browsing cursor position, the cursor position goes to the top of the folder.
                                                        ・If the sort function (SET_SORT) is OFF, the cursor moves in the FAT order.
     MOV_UP                   4     0x62 0x02 0x03 0x00 ・This command moves the memory browsing cursor to a higher-level folder.
                                                        ・After moving, the LSI analyzes the folder.
                                                        ・If the cursor is in the highest layer (root), nothing will be done.
     MOV_DOWN                 4     0x62 0x02 0x04 0x00 ・This command selects the lower-level holder pointed by the memory browsing
                                                         cursor to move. After moving, the LSI analyzes the folder.
                                                        ・When a folder is selected, the LSI starts analyzing it.
                                                        ・When a file is selected, the LSI does not accept the command.
                                                        ・If the cursor selects the folder in the lowest layer, nothing will be done.
     MOV_HOME                 4     0x62 0x02 0x05 0x00 ・This command moves the memory browsing cursor to the top of the root folder.
                                                        ・After moving, the LSI analyzes the folder.
     MOV_PLAYING              4     0x62 0x02 0x06 0x00 ・This command moves the memory browsing cursor to the tune being played.
                                                        ・After moving, the LSI analyzes the folder.
                                                        ・During stop or search, the LSI does not accept the command.
     MOV_DIRECT              10     0x62 0x02 0x07  N   ・This command moves the memory browsing cursor to the position specified by
                                                         the access data.
                                                        ・After moving, the LSI starts analyzing at this position.
                                                        ・Set the access data at the 5th-10th bytes.
                                                        ・Select the operation after moving with N in the 4th byte. Select N from the
                                                         following. Any setting other than N=0x00 will be considered to specify
                                                         N=0x01.
                                                          N=0x00: Only moves the cursor and analyzes.
                                                          N=0x01: If moving to a file, starts playing it.
                                                        ・Don't use MOV_DIRECT command with N=0x01 (a setup with the starts
                                                           playing) in the PLAYER mode when use SET_EXTENSION command by the
                                                           setup except for N=0x00 (the file which can reproduce). The movement of the
                                                           browsing cursor is to use a MOV_DIRECT command (There is no N=0x00;
                                                           Playable file.)
                                                            Play start is to use PLAY_DIRECT command.
     SET_EXTENSION            4     0x62 0x04 0x00  N   ・This command sets the type of file to be output to the status register when
                                                         browsing within the memory (analyzing the folder).
                                                        ・Select N at the 4th byte from the following. Any other settings will not accept
                                                          the command.
                                                          N=0x00: Playable file
                                                          N=0x02: All files
                                                          N=0x03: Folder only (Does not browsing files.)
                                                        ・The initial value depends on the mode.
                                                          In PLAYER mode: N=0x00: Playable file
                                                          In PLAYLIST mode: N=0x01: Play list file
                                                          In FILE RW: N=0x02: All files
                                                          In other cases: N=0x00: Playable file
                                                        ・The setting of this command is reflected only when the ANALYZE_ROOT
                                                          command is executed. After setting the command again, be sure to execute
                                                          the ANALYZE_ROOT command.
                                                        ・Don't use MOV_DIRECT command (There is N=0x01; starts playing.) and a
                                                          PLAY_CURSOR command in the PLAYER mode when use it by the setup
                                                          except for N=0x00 (Playable file).
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                             TSZ02201-0V2V0E600070-1-2
                                                              45/69
TSZ22111・15・001                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
     FILE READ
     FOPEN_R                 260    0x63 0x01 0x00 0x00 ・This command specifies the full path and name of the file to be read from the
                                                         memory using the File Read function.
                                                        ・If a file exists after receiving the command, open the specified file.
                                                        ・The full path is 256 bytes at maximum (including drive letter (A:\), file name and
                                                         extension). Set this at the 5th-260th bytes.
                                                        If the length is less than 256 bytes, insert 0x00 at the end. Insert ”\”(0x5C) for
                                                        the delimiter between folder layers.
                                                        ・The drive letter is "A:\" for USB and "B:\" for SD.
                                                        ・You can also specify the path in a format without drive letter. In this case, the
                                                         length is 253 bytes at maximum.
                                                        ・If the full path has a drive letter different from the one for the memory being
                                                         selected, an error occurs. (For example, "B:\" is set for the full path when
                                                         USB is selected.)
     FOPEN_R_CURSOR           4     0x63 0x01 0x01 0x00 ・This command specifies the file pointed by the memory browsing cursor for the
                                                         one to be read from the memory using the File Read function.
                                                        ・If a file exists after receiving the command, open the specified file.
     FOPEN_R_DIRECT          10     0x63 0x01 0x02 0x00 ・This command specifies the access data of the file to be read from the memory
                                                         using the File Read function.
                                                        ・The access data is 6 bytes. Set it at the 5th-10th bytes.
                                                        ・If a file exists after receiving the command, open the specified file.
     FCLOSE                   4     0x63 0x03 0x00 0x00 ・This command closes the file.
                                                        ・After the File Read function is completed, CLOSE the file.
     FREAD_DAT                6     0x63 0x06  N    N   ・This command specifies the position of data to be read from the file at File
                                                         Read.
                                                        ・Specify the data position to be read in the 3rd to 6th bytes in Little Endian
                                                         format.
                                                        ・When using the I2C bus, send this command and then check that the
                                                         FRDREADY bit turns 1. Then, send the READ_FR_DATA command. Data
                                                         of up to 256 bytes can be read at one time.
                                                        ・When using the SPI bus, send this command and then check that the
                                                         FRDREADYA bit turns 1. Then, read the data from the SPI bus. Data of up
                                                         to 4096 bytes can be read at one time.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                              TSZ02201-0V2V0E600070-1-2
                                                              46/69
TSZ22111・15・001                                                                                                          2017.3.21 Rev.004


BU9450xAxxx series
                                 Table 10. Command enable/disable in each system operation mode
   Command                      Command enable/disable in each             Command enable/disable in each status
                                     system operation mode
                                                                                    SEARCH    SEARCH
                               CONFIG       PLAYER      FILE READ     STOP   PLAY                        Analyze  Write
                                                                                     (mode)     (file)
   CONFIG
   CHG_SYSTEM_MODE
                                  ○           ○             ○          ○      ○         ×        ×         ×       ○
   STOP
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   ABORT
                                  ○           ○             ○          ○      ○         ○        ○         ○       ｘ
   CHG_DEV
                                  ○           ○             ○          ○      ○         ×        ×         ×       ○
   DIS_WDT
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_WDT
                                  ○           ○             ○          ○      ×         ×        ×         ×       ○
   SET_SORT
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_12MOUT
                                  ○           ○             ○          ○      ×         ×        ×         ×       ○
   SET_MP3
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   SET_LBIT
                                  ○           ○             ○          ○      ×         ×        ×         ×       ○
   SET_UTPKT
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   GET_DEV_FREE
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_TOUT_TUR
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   SET_IDL_TIME
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   SET_USB_R_WAIT
                                  ○           ○             ○          ○      ○         ×        ×         ×       ○
   SET_TOUT_M
                                  ○           ○             ○          ○      ○         ×        ×         ×       ○
   SET_TOUT_C
                                  ○           ○             ○          ○      ○         ×        ×         ×       ○
   SET_USB_GETDEV_F
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_TESTU_MODE
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_USBCMD_CAN
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_RETVAL
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_RETRYMODE
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_TESTU_PASS
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_TESTU_MODE2
                                  ○           ○             ○          ○      ×         ×        ×         ×       ×
   SET_TOUT_TUR2
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   SET_EMP_DIR
                                  ○           ×             ×          ○      ×         ×        ×         ×       ×
   SEL_IRPTO
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IRPTO_MASK_00
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IRPTO_MASK_02
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IRPTO_MASK_22
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IRPTO_MASK_2F
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IRPTO_MASK_37
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_NODIFF
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
   SET_IGNORE
                                  ○           ○             ○          ○      ○         ○        ○         ○       ○
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                 TSZ02201-0V2V0E600070-1-2
                                                                47/69
TSZ22111・15・001                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
   SET_SRC_OFF
                                  ○        ○ ○       ○ ○ ○     ○       ○        ○
   SET_SD
                                  ○        ○ ○       ○ ○ ○     ○       ○        ○
   AUTO_RECOG_LUN
                                  ○        ○ ○       ○ ○ ○     ○       ○        ○
   SET_RECOG_TIM
                                  ○        ○ ○       ○ ○ ○     ○       ○        ○
   RECOG_LUN
                                  ○        ○ ○       ○ ○ ○     ○       ○        ○
   SET_WMA
                                  ○        × ×       ○ × ×     ×       ×        ×
   SET_AAC
                                  ○        × ×       ○ × ×     ×       ×        ×
   SET_LUN
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   RESET_LUN
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   FORCE_DISCON_USB
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   FORCE_CON_USB
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   FORCE_DISCON_SD
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   FORCE_CON_SD
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   SET_SD_TMOUT
                                  ○        ○ ○       ○ × ×     ×       ×        ×
   SET_SD_ABORT
                                  ○        ○ ○       ○ × ×     ×       ×        ×
   SET_WAV
                                  ○        × ×       ○ × ×     ×       ×        ×
   SET_MP3_PLAY
                                  ○        × ×       ○ × ×     ×       ×        ×
   ENABLE_MEDIADRV
                                  ○        × ×       × × ×     ×       ×        ×
   SET_SD_INFO
                                  ○        × ×       ○ × ×     ×       ×        ×
   SET_PATCH_CODE
                                  ○        × ×       ○ × ×     ×       ×        ×
   SET_PATH_CRC
                                  ○        × ×       ○ × ×     ×       ×        ×
   PLAY control
   PLAY
                                  ○        ○ ×       ○ ○ ×     ×       ×        ×
   PAUSE
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   HOME
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   PLAYMODE
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   VOL+
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   VOL-
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   REPEAT
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   RANDOM
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   FF
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   FB
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   FOL+
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   FOL-
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   PLAY_RESUME
                                  ×        ○ ×       ○ ○ ×     ×       ×        ×
   PLAY Setting
   SET_DOUT
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   SET_EQ
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
   SET_VOL
                                  ○        ○ ○       ○ ○ ×     ×       ×        ○
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                 TSZ02201-0V2V0E600070-1-2
                                               48/69
TSZ22111・15・001                                                      2017.3.21 Rev.004


BU9450xAxxx series
   SET_NEXT
                                  ×            ○            ×           ○        ○          ×          ×          ×         ×
   SET_REPRAND
                                  ×            ○            ×           ○        ○          ×          ×          ×         ×
   SET_TAG
                                  ×            ○            ×           ○        ○          ×          ×          ×         ×
   SET_TOC
                                  ×            ○            ×           ○        ○          ×          ×          ×         ×
   SET_PRM
                                  ×            ○            ×           ○        ○          ×          ×          ×         ×
   BROWSING
   ANALYZE_ROOT
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   PLAY_CURSOR
                                  ×            ○            ×           ○        ○          ×          ｘ          ×         ×
   GET_TAG_CURSOR
                                  ×            ○            ×           ○        ○          ×          ○          ×         ×
   PLAY_DIRECT
                                  ×            ○            ×           ○        ○          ×          ｘ          ×         ×
   MOV_NEXT
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   MOV_PREV
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   MOV_UP
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   MOV_DOWN
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   MOV_HOME
                                  ×            ○            ○           ○        ○          ×          ○          ×         ×
   MOV_PLAYING
                                  ×            ○            ×           ×        ○          ×          ×          ×         ×
   MOV_DIRECT
                                  ×            ○            ×           ○        ○          ×          ○          ×         ×
   SET_EXTENSION
                                  ×            ○            ○           ○        ○          ○          ○          ×         ×
   FILE READ
   FOPEN_R
                                  ×            ×            ○           ○        ×          ×          ×          ×         ×
   FOPEN_R_CURSOR
                                  ×            ×            ○           ○        ×          ×          ×          ×         ×
   FOPEN_R_DIRECT
                                  ×            ×            ○           ○        ×          ×          ×          ×         ×
   FCLOSE
                                  ×            ×            ○           ○        ×          ×          ×          ×         ×
   FREAD_DAT
                                  ×            ×            ○           ○        ×          ×          ×          ×         ×
                      ○=enable ×=disable
         13.2 Status output
                                                                                                                        2
          The operation information, such as internal statuses, play time, folders, files and Tags, is output using an I C interface.
          The statuses shown in Table 11. Status Register Map is output.
                                       2
          When reading status via I C, the OFFSET position is automatically incremented after reading byte data. However, by
                       2
          issuing the I C start condition, the OFFSET position is reset to OFFSET specified by the previous command.
          To read statuses, two methods are available: to specify OFFSET of the status register map and read any bytes
          continuously from the OFFSET position; and to read byte data by a command without specifying the OFFSET position.
          Table 12. shows the status output commands.
                                           2
          Byte data, when reading via I C, is output in Little Endian format.
          When read over OFFSET=0x140, OFFSET does not return to 0x00, therefore the read value turns into an unfixed
          value.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                      TSZ02201-0V2V0E600070-1-2
                                                                49/69
TSZ22111・15・001                                                                                               2017.3.21 Rev.004


BU9450xAxxx series
                                                      Table 11. Status Register Map
    OFFSET         Status             bit7       bit6         bit5         bit4      bit3       bit2        bit1          bit0
                                    (MSB)                                                                                (LSB)
      0x00       STATUS1           ERROR      SEARCH                      BUSY      MCHNG      STOP      PAUSE           PLAY
      0x01       STATUS2            IRPTO          0      STOP_INFO                   0      PRECOM     RES_ERR       DEC_ERR
      0x02       STATUS3           USBINS      SDINS        USBFILE      SDFILE   MDEVUSB    MDEVSD     PDEVUSB       PDEVSD
      0x03       STATUS4          SEL_TOC    TINFUSB        TINFSD      SET_TAG    ANA_TAG   TAGINFO
      0x04       STATUS5               0      SET_SD          FBP          FFP     PLAYFILE
                                PRECOMSTA
      0x05       STATUS6
                                       T
      0x06        VOLINF               0           0           0         VOLINF
      0x07       DOUTINF                       EQINF                                         DOUTINF
      0x08      PMODEINF                    REPEATINF                                       SETNEXTINF
      0x09       SEL_MP3         AUTO_LUN    SET_SRC       SET_AAC     SET_WMA    WDT_RFLG    12MOUT   SET_SORT       SET_MP3
      0x0A         PSEC                        PSECH                                           PSECL
      0x0B        PMINL                       PMINLH                                          PMINLL
      0x0C        PMINH                        PMIHH                                          PMINHL
      0x0D         TSEC                        TSECH                                           TSECL
      0x0E         TMINL                      TMINLH                                          TMINLL
      0x0F        TMINH                       TMINHH                                          TMINHL
      0x10        LANGL                        LANGL
      0x11        LANGH                        LANGH
      0x12       PFOLNL                       PFOLNL
      0x13       PFOLNH                       PFOLNH
      0x14      PFILENFLL                    PFILENLL
      0x15      PFILENFLH                    PFILENLH
      0x16      PFILENFHL                    PFILENHL
      0x17      PFILENFHH                    PFILENHH
      0x18      PFILENMLL                    PFILENLL
      0x19     PFILENMLH                     PFILENLH
      0x1A     PFILENMHL                     PFILENHL
      0x1B     PFILENMHH                     PFILENHH
      0x1C      TFOLMEML                    TFOLMEML
      0x1D     TFOLMEMH                     TFOLMEMH
      0x1E     TFILEMEMLL                  TFILEMEMLL
      0x1F    TFILEMEMLH                   TFILEMEMLH
      0x20    TFILEMEMHL                   TFILEMEMHL
                                           TFILEMEMH
      0x21    TFILEMEMHH
                                                  H
                                                                       GET_TAG
      0x22    BROWSESTAT          ANA_ERR          0           0                            GET_TAG_ID                ANA_CUR
                                                                          _END
                                           NUMANAFOL
      0x23   NUMANAFOLLL
                                                  LL
                                           NUMANAFOL
      0x24   NUMANAFOLLH
                                                 LH
                                           NUMANAFOL
      0x25   NUMANAFOLHL
                                                 HL
                                           NUMANAFOL
      0x26   NUMANAFOLHH
                                                 HH
                                           TFILEANAFO
      0x27  TFILEANAFOLLL
                                                 LLL
                                           TFILEANAFO
      0x28  TFILEANAFOLLH
                                                LLH
                                           TFILEANAFO
      0x29  TFILEANAFOLHL
                                                LHL
                                           TFILEANAFO
      0x2A  TFILEANAFOLHH
                                                LHH
                                           TFOLANAFO
      0x2B   TFOLANAFOLL
                                                  LL
                                           TFOLANAFO
      0x2C   TFOLANAFOLH
                                                 LH
                                           TFOLANAFO
      0x2D   TFOLANAHEIRL
                                                  LL
                                                SET        SET_EMP
      0x2E    SORTOPTION        SET_NODIFF                                  0         0          0           0             0
                                             _IGNORE         _DIR
      0x2F       FIOSTAT           FIOERR          0           0        FIOOPEN   FRDREADY       0     FIOSEARCH      FIOMODE
      0x30        FIOSET               0           0           0            0         0          0               FIOOPE
                                           LUN_READY
      0x35   LUN_READY_L
                                                  _L
                                           LUN_READY
      0x36   LUN_READY_H
                                                 _H
                                                                                            LUN_READY
      0x37       MEMINFO                     MEMINFO                              LUN_BUSY                reseve        reseve
                                                                                             _RENEW
     0x38 -     COMAREA                     COMAREA
     0x13F
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                      TSZ02201-0V2V0E600070-1-2
                                                                   50/69
TSZ22111・15・001                                                                                              2017.3.21 Rev.004


BU9450xAxxx series
     OFFSET       Status         bit        NAME   Contents
       0x00    STATUS1           7         ERROR   ERROR situation           0 ; Nothing error, 1 ; Error
                                                   * ERROR=0 in Config mode.
                                6:5       SEARCH   SEARCH situation
                                                   bit6:device recognition 0: Search stop            1: Under a search
                                                   bit5:file search 0: Search stop          1: Under a search
                                 4           BUSY  BUSY situation         0: non-BUSY , 1:BUSY
                                 3         MCHNG   Music change detection 0: Under a music end / stop, 1: Stop after search/ Playing.
                                 2           STOP  STOP state         0: not stopped, 1: Under a stop
                                 1         PAUSE   PAUSE state         0: not stopped, 1: Under a stop
                                 0           PLAY  Playing state       0: not reproducing, 1: Under Playing
       0x01    STATUS2           7          IRPTO  IRPTO interruption state          0: Nothing interruption, 1;interruption
                                 6             0   0
                                5:4     STOP_INFO  Stop state detailed information
                                                   0: It is except during the stop/stop after device mount, 1: Stop pulled [ music ] out the head, 2:
                                                   Error stop, 3: Stop by SET_NEXT Command setting
                                 3             0   0
                                 2        PRECOM   The last command situation 0;Normal receptionist, 1;Abnormalities (un-receiving)
                                 1       RES_ERR   Resume error 0: With no error, 1: Error
                                 0       DEC_ERR   Decoding error         0: With no error, 1: Error
       0x02    STATUS3           7         USBINS  USB connection detection 0:USB un-connecting, 1:USB connection detection
                                 6          SDINS  SD connection detection           0:SD un-connecting, 1:SD connection detection
                                 5        USBFILE  Playable file existence in a USB memory           0;Nothing, 1;existence
                                 4         SDFILE  Playable file existence in a SD memory          0;Nothing, 1;existence
                                 3       MDEVUSB   USB memory recognition situation 0: Un-recognizing, 1: Recognition
                                 2        MDEVSD   SD memory recognition situation 0: Un-recognizing, 1: Recognition
                                 1       PDEVUSB   USB memory situation           0: Under a stop, 1: Under Playing/TAG analysis
                                 0        PDEVSD   SD memory situation           0: Under a stop, 1: Under Playing/TAG analysis
       0x03    STATUS4           7        SEL_TOC  TOC analysis setup 0:TOC analysis OFF , 1:TOC analysis ON
                                 6        TINFUSB  Acquisition of total file/folder number in a USB memory.
                                                   0: Un-acquiring, 1: Finishing acquisition
                                 5         TINFSD  Acquisition of total file/folder number in a SD memory.
                                                   0: Un-acquiring, 1: Finishing acquisition
                                 4        SET_TAG  TAG analysis setup 0:TAG analysis OFF, 1:TAG analysis ON
                                 3        ANA_TAG  TAG analysis situation 0;TAG analysis stop, 1;Under TAG analysis
                                2:0       TAGINFO  Existence TAG kind
                                                   0:ID 3V1, 1:ID 3V2, 2;With WMA, 3;AAC, 4:WAV, and 7: no TAG information
       0x04    STATUS5           7             0   0
                                 6         SET_SD  SD I/F effective 0:OFF , 1:ON
                                 5            FBP  Fast back Playing situation 0: normal Playing, 1:fast-back Playing
                                 4            FFP  Fast forward Playing situation 0: normal Playing, 1:fast-forward Playing
                                3:0       PLAYFILE Playing file information 1:MP3, 2:WMA, 3:AAC, 4:WAV
       0x05    STATUS6          7:0    PRECOMSTAT  The last command receptionist situation detailed information ; The last command outputs whether
                                                   it received normally. Refer to 6.4.13 for the contents
                                                   A state is held to the following command. A state is not cleared by the lead command.
                                                   The 0th bit is the same as that of PRECOM status. They are the contents at the time of
                                                   abnormalities except it.
       0x06      VOLINF         7:5            0   0
                                4:0        VOLINF  Volume setting information. The value set up by SET_VOL [4:0] is outputted.
       0x07     DOUTINF         7:4         EQINF  EQ setting information. The value set up by SET_EQ [3:0] is outputted.
                                3:0       DOUTINF  Audio output setting information. The value set up by SET_DOUT [3:0] is outputted.
       0x08   PMODEINF          7:4     REPEATINF  REPEAT MODE setting information. The value set up by SET_REPRAND [3:0] is outputted.
                                3:0     SETNEXTINF PLAY NEXT MODE setting information. The value set up by SET_NEXT [3:0] is outputted.
       0x09    SEL_MP3           7       AUTO_LUN  Test Unit Ready auto polling condition 0: Auto polling , 1: not polling
                                 6        SET_SRC  SRC effective 0:ON , 1:OFF
                                 5        SET_AAC  AAC file playback configuration 0:AAC play , 1:AAC not play
                                 4       SET_WMA   WMA file playback configuration 0:WMA play, 1:WMA not play
                                 3       WDT_RFLG  Monitor register for WDT          0:after RESET
                                 2        12MOUT   12MHz clock output            0:OFF, 1:ON
                                 1       SET_SORT  file sorting functional setup 0;SORT function OFF, 1;SORT function effective
                                 0        SET_MP3  MP3 file Playing setup
                                                   0;Extensions mp1 and mp2, mp3 Playing, 1;Reproduce only extension mp3.
       0x0A       PSEC          7:4        PSECH   Playing time second information [7:4] x 10 seconds
                                3:0         PSECL  Playing time second information [3:0] x 1 second
       0x0B      PMINL          7:4        PMINLH  Playing time minutes information [7:4] x 10 minutes
                                3:0        PMINLL  Playing time minutes information [3:0] x 1 minute
       0x0C      PMINH          7:4        PMINHH  Playing time minutes information [7:4] x 1000 minutes
                                3:0        PMINHL  Playing time minutes information [3:0] x 100 minutes
       0x0D       TSEC          7:4        TSECH   1 track time second information [7:4] x 10 seconds
                                3:0         TSECL  1 track time second information [3:0] x 1 second
       0x0E      TMINL          7:4        TMINLH  1 track time minutes information [7:4] x 10 minutes
                                3:0        TMINLL  1 track time minutes information [3:0] x 1 minute
       0x0F      TMINH          7:4        TMINHH  1 track time minutes information [7:4] x 1000 minutes
                                3:0        TMINHL  1 track time minutes information [3:0] x 100 minutes
       0x10      LANGL          7:0         LANGL  TAG character code information lower byte [7:0]
       0x11      LANGH          7:0        LANGH   TAG character code information higher byte [15:8]
       0x12     PFOLNL          7:0        PFOLNL  Playing folder number in memory. Lower byte [7:0]
                                                   ROOT becomes No.1. A number is shaken in order of sorting.
       0x13     PFOLNH          7:0       PFOLNH   Playing folder number in memory. Higher rank byte [15:8]
       0x14   PFILENFLL         7:0       PFILENLL Playing file number in the present folder. [15:0], lower byte [7:0], a number is shaken from No.1 in
                                                   order of sorting.
       0x15   PFILENFLH         7:0      PFILENLH  Playing file number in the present folder. [15:0], Higher rank byte [15:8]
       0x16   PFILENFHL         7:0      PFILENHL  Playing file number in the present folder. [31:16], Low rank byte [23:16]
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                         TSZ02201-0V2V0E600070-1-2
                                                                  51/69
TSZ22111・15・001                                                                                                                  2017.3.21 Rev.004


BU9450xAxxx series
        0x17    PFILENFHH       7:0       PFILENHH  Playing file number in the present folder. [31:16], Higher rank byte [31:24]
        0x18    PFILENMLL       7:0        PFILENLL Playing file number in the memory. [15:0] Low rank byte [7:0]
        0x19    PFILENMLH       7:0        PFILENLH Playing file number in the memory. [15:0] Higher rank byte [15:8]
       0x1A     PFILENMHL       7:0        PFILENHL Playing file number in the memory. [31:16] Low rank byte [23:16]
       0x1B     PFILENMHH       7:0       PFILENHH  Playing file number in the memory. [31:16] Higher rank byte [31:24]
       0x1C     TFOLMEML        7:0       TFOLMEML  The number of total folders in a memory. low rank byte [7:0]
       0x1D     TFOLMEMH        7:0      TFOLMEMH   The number of total folders in a memory. higher rank byte [15:8]
       0x1E    TFILEMEMLL       7:0      TFILEMEMLL The number of total files in memory. [15:0] low-rank byte [7:0]
       0x1F    TFILEMEMLH       7:0     TFILEMEMLH  The number of total files in memory. [15:0] higher-rank [15:8]
        0x20   TFILEMEMHL       7:0     TFILEMEMHL  The number of total files in memory. [31:16] low-rank byte [23:16]
        0x21   TFILEMEMHH       7:0     TFILEMEMHH  The number of total files in memory. [31:16] higher-rank byte [31:24]
        0x22  BROWSESTAT         7         ANA_ERR  browsing analysis Error      0: With no error   1: Error-generate in analysis.
                                 6             0    -
                                 5             0    -
                                 4     GET_TAG_END  Cursor position TAG analysis situation
                                                    0: Under TAG un-analyzing/analysis, 1: Finishing of TAG analysis
                                3:1      GET_TAG_ID Cursor position TAG kind
                                                    0:ID3V1, 1:ID3V2, 2:WMA, 3:AAC, 4:WAV, 7: no TAG information
                                 0         ANA_CUR  Cursor position entry analysis. 0;Analysis stop, 1;Under analysis
        0x23  NUMANAFOLLL       7:0    NUMANAFOLLL  Cursor position number in a cursor existence folder [15:0]
                                                    The entry number which the cursor within the folder in which low rank byte [7:0] cursor exists has
                                                    pointed out is outputted. A number is shaken from No.1 in order of sorting in a folder.
        0x24  NUMANAFOLLH       7:0    NUMANAFOLLH  Cursor position number in a cursor existence folder [15:0] Higher rank byte [15:8]
        0x25  NUMANAFOLHL       7:0    NUMANAFOLHL  Cursor position number in a cursor existence folder [31:16] Low rank byte [23:16]
        0x26 NUMANAFOLHH        7:0    NUMANAFOLHH  Cursor position number in a cursor existence folder [31:16] Higher rank byte [31:24]
        0x27 TFILEANAFOLLL      7:0   TFILEANAFOLLL The number of files total in a cursor existence folder [15:0] Low rank byte [7:0]
        0x28 TFILEANAFOLLH      7:0   TFILEANAFOLLH The number of files total in a cursor existence folder [15:0] Higher rank byte [15:8]
        0x29 TFILEANAFOLHL      7:0   TFILEANAFOLHL The number of files total in a cursor existence folder [31:16] Low rank byte [23:16]
       0x2A  TFILEANAFOLHH      7:0   TFILEANAFOLHH The number of files total in a cursor existence folder [31:16] Higher rank byte [31:24]
       0x2B   TFOLANAFOLL       7:0    TFOLANAFOLL  The number of subfolders total in a cursor existence folder [15:0] Low rank byte [7:0]
       0x2C   TFOLANAFOLH       7:0    TFOLANAFOLH  The number of subfolders total in a cursor existence folder [15:0] Higher rank byte [15:8]
       0x2D   TFOLANAHEIRL      7:0    TFOLANAHEIRL The class’s number of cursor existence folder [7:0] A ROOT class is set to 1.
       0x2E    SORTOPTION        7       SET_NODIFF Cases sensitivity of the alphabet     0: Cases sensitivity , 1: Not cases sensitivity
                                 6      SET_IGNORE  Set characters is ignored     0:Not ignored , 1:ignored
                                 5      SET_EMP_DIR A number isn't given to empty folders      0: number given , 1:number not given
                                1：4            0    0
       0x2F       FIOSTAT        7          FIOERR  FILE IO Error situation      0: With no Error, 1:Error
                                 6             0    0
                                 5             0    0
                                 4         FIOOPEN  FILE OPEN state          0: Un-open 1;during file open
                                 3        FRDREADY  Read-out FIFO preparation situation 0:Under preparation, 1:Preparation O.K.
                                 2             0    0
                                 1       FIOSEARCH  FILE IO processing situation 0:Processing stop, 1:Under processing
                                 0         FIOMODE  FILE IO mode effective/invalid 0;invalid 1; effective
        0x30      FIOSET        7:6            0    0
                                5:4            0    0
                                3:0         FIOOPE  The contents situation of FILE IO processing
                                                      0;With no processing , 1;OPEN, 2;Read, 3;Write, 4;Close, 5;Delete
        0x31  LUN_READY_L       7:0    LUN_READY_L  The condition of Test Unit Ready of each LUN [7:0] 0: NG , 1: OK
        0x32  LUN_READY_H       7:0    LUN_READY_H  The condition of Test Unit Ready of each LUN [15:8] 0: NG , 1: OK
        0x37     MEMINFO        7:4        MEMINFO  Memory device information chosen now
                                 3        LUN_BUSY  Test Unit Ready condition identification flag 0:not identification , 1: identification
                                 2   LUN_READY_RENE The change of state flag of Test Unit Ready 0:Changed , 1:Not changed
                                               W    (It is cleared by 0 by a READ_LUN_READY command read.
                                 1          reserve -
                                 0          reserve -
        0x38     COMAREA        7:0       COMAREA   Data common area The contents change with status read-out commands.
          -                                         (When read-out exceeding OFFSET=0x140 is performed, OFFSET does not return to 0x00, but the
                                                    value read becomes unfixed)
       0x13F
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                      TSZ02201-0V2V0E600070-1-2
                                                                   52/69
TSZ22111・15・001                                                                                                                      2017.3.21 Rev.004


BU9450xAxxx series
                                                  Table 12. Status Output Commands
   Command name        Com        Command                Status        STATUS
                       mand
                       Byte       1st  2nd  3rd    4th   The
                       length                            number of
                                                         output
                                                         bytes
   READ_BUFF                4     0x6C 0x00   N      M    Arbitrary    ・Output the arbitrary number data of bytes from the OFFSET position where
                                                                        the status register map was specified.
                                                                                               th
                                                                       ・OFFSET is 3rd and 4 byte. It is specified as a byte by Little Endian (M, N=
                                                                        0x00, 0x00 to 0x01, 0xFF).
   READ_STATUS              4     0x6D 0x00  0x00   0x00       6       ・Output about internal status.
                                                                       ・Output about OFFSET 0x00-0x05 of a status buffer.
   READ_PSET                4     0x6D 0x00  0x01   0x00       4       ・Output about setting information.
                                                                       ・Output about OFFSET 0x06-0x09 of a status buffer.
   READ_PTIME               4     0x6D 0x00  0x02   0x00       6       ・Output about Playing time information.
                                                                       ・Output about OFFSET 0x0A-0x0F of a status buffer.
   READ_LANG                4     0x6D 0x00  0x02   0x01       2       ・Output about TAG character code information.
                                                                       ・Output about OFFSET 0x10-0x11 of a status buffer.
   READ_PNUM                4     0x6D 0x00  0x02   0x02      10       ・Output about the number under Playing.
                                                                       ・Output about OFFSET 0x12-0x1B of a status buffer.
                                                                       ・An exact value of the number of total files and folders in memory
                                                                        cannot be acquired when music is specified by cursor and access
                                                                        data, such as a PLAY_CURSOR command.
   READ_TNUM                4     0x6D 0x00  0x02   0x03       6       ・Output about the file in a memory, and the number of folders.
                                                                       ・Output about OFFSET 0x1C-0x21 of a status buffer.
   READ_FNUM                4     0x6D 0x00  0x02   0x04       4       ・Output the number of files which is in a folder during the present Playing.
   READ_PFILE_NAME          4     0x6D 0x00  0x03     N      130       ・Output the file name of the file of the +Nth file during the present Playing.
                                                                       Specify N from 0x00 to 0x03. N=0x00 is the present file.
                                                                       Output is enabled only when the Nth file is within the same folder where the
                                                                       one being played resides. If the Nth file is in a different folder, “0” is output
                                                                       ・Output data has the proposed data ID (2 bytes). See 16. File Name, Folder
                                                                        Name, TAG Information for the output format.
   READ_PFOL_NAME           4     0x6D 0x00  0x04   0ｘ00     130       ・Output the folder name of the file being played.
                                                                       ・Output data has the proposed data ID (2 bytes). See 6.4.6 for the output
                                                                        format.
   READ_PFILE_TAG           4     0x6D 0x00  0x05     N      130       ・Outputs the data which is written to TAG of the file being played.
                                                                       ･Specify TAG type with 0xN at the 4th bytes. Select N at the 4th byte from the
                                                                        following. Any other settings will not accept the command.
                                                                        N=0x00: TITLE ,       N=0x01: ARTIST ,
                                                                        N=0x02: ALBUM , N=0x03: GENRE
                                                                       ・Output data has the preposed data ID (2 bytes). See 16. File Name, Folder
                                                                        Name, TAG Information for the output format.
   READ_RESUME_INFO         4     0x6D 0x00  0x06   0x00      42       ・Outputs the data required to execute resume play.
                                                                       ・The data is output in Little Endian format.
                                                                       ・See 6.4.5 for the output format.
   READ_DEV_FREE            4     0x6D 0x00  0x07     N        8       ・Outputs the free space analysis results of the file analyzed by the
                                                                        GET_DEV_FREE command.
                                                                       ・Specify the space type to be output with N at the 4th byte. Select N at the 4th
                                                                        byte from the following. Any other settings will be considered to specify
                                                                        N=0x01.
                                                                        N=0x00: Outputs the free space of the selected media by the byte.
                                                                        N=0x01: Outputs the TOTAL space of the selected media by the byte.
                                                                       ・If the GET_DEV_FREE command has not been sent, this command outputs
                                                                        “0”.
   READ_DEVDESC             4     0x6D 0x00  0x08   0x00      18       ・Output a Device Descriptor value when the USB memory is inserted and
                                                                        chosen.
                                                                       ・Vendor ID and Product ID are the following offset.
                                                                       0x08：Vendor ID Lower byte
                                                                       0x09：Vendor ID Upper byte
                                                                       0x0A：Product ID Lower byte
                                                                       0x0B：Product ID Upper byte
   READ_CONDESC             4     0x6D 0x00  0x08   0x01      32       ・Output a Configuration Descriptor value when the USB memory has been
                                                                        recognized.
                                                                       ・32 bytes from the head of top Configuration Descriptor is outputted.
   READ_INQIRY              4     0x6D 0x00  0x08   0x02      32       ・Output a MSC Inquiry value when the USB memory has been recognized.
                                                                       ・ Vender identification (ASCII) and Product identification (ASCII) are the
                                                                        following offset.
                                                                       0x08-0x0F Vender identification(ASCII)
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                                    TSZ02201-0V2V0E600070-1-2
                                                                    53/69
TSZ22111・15・001                                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
                                                            0x10-0x1F Product identification(ASCII)
   READ_LUN                 4     0x6D 0x00 0x08 0x03  1    ·In case of AUTO detection mode of LUN, LUN of mounted USB memory can
                                                              be read.
                                                            ·If LUN is specified using the "SET_LUN" command, specified LUN of mounted
                                                              USB memory can be read. But if failed to mount, 0xFF is read.
                                                            · Attention) When memory connected to multi-card reader is removed or
                                                              re-inserted, LUN read by this command is NOT correct until mount of
                                                              re-inserted media is completed.
   READ_LUN_NUM             4     0x6D 0x00 0x08 0x04  1    ·Read the total of LUN of the USB memory which is connected now.
   READ_SET_LUN             4     0x6D 0x00 0x08 0x05  1    ·Read LUN specified by the "SET_LUN" command.
                                                            In not setting up, 0xFF is read.
   READ_IRPTO_FACTOR        4     0x6D 0x00 0x09 0x00 10    ・The condition of the status register made the target of the dimension of
                                                              IRPTO is outputted.
                                                              5byte data is outputted in the order STATUS1 (Offset : 0x000)、STATUS3
                                                              (Offset : 0x002) 、 BROWSESTAT (Offset : 0x022) 、 FIOSTAT (Offset :
                                                              0x02F)、MEMINFO (Offset : 0x037), and 5byte and outputs the flag which
                                                              shows bit which is the dimension of IRPTO. As for the flag of the interrupted
                                                              dimension, MASK isn't done by MASK configuration.
   READ_LUN_READY           4     0x6D 0x00 0x0A 0x00  2    ・ The consequence of Test Unit Ready of each confirmed LUN by
                                                              「AUTO_RECOG_LUN」 or 「RECOG_LUN」is read out.
                                                            ・When Test Unit Ready is OK, output 1.
                                                            ・When Test Unit Ready is NG, output 0.
                                                            ・It is outputted about OFFSET 0x31-0x32 of the status buffer.
                                                            ・LUN_READY_RENEW flag is cleared by the read of this command.
   READ_MASK_IRPTO_0        4     0x6D 0x00 0x0B 0x00  1    ・MASK configuration from the dimension of IRPTO can be read out each bit of
   0                                                          the status register STATUS1 (Offset : 0x00).
                                                            ‘H' bit is MASK from the IRPTO dimension.
   READ_MASK_IRPTO_0        4     0x6D 0x00 0x0B 0x02  1    ・MASK configuration from the dimension of IRPTO can be read out each bit of
   2                                                          the status register STATUS1 (Offset : 0x02).
                                                            ‘H' bit is MASK from the IRPTO dimension.
   READ_MASK_IRPTO_2        4     0x6D 0x00 0x0B 0x22  1    ・MASK configuration from the dimension of IRPTO can be read out each bit of
   2                                                          the status register STATUS1 (Offset : 0x22).
                                                            ‘H' bit is MASK from the IRPTO dimension.
   READ_MASK_IRPTO_2        4     0x6D 0x00 0x0B 0x2F  1    ・MASK configuration from the dimension of IRPTO can be read out each bit of
   F                                                          the status register STATUS1 (Offset : 0x2F).
                                                            ‘H' bit is MASK from the IRPTO dimension.
   READ_MASK_IRPTO_3        4     0x6D 0x00 0x0B 0x37  1    ・MASK configuration from the dimension of IRPTO can be read out each bit of
   7                                                          the status register STATUS1 (Offset : 0x37).
                                                            ‘H' bit is MASK from the IRPTO dimension.
   READ_STOP                4     0x6D 0x00 0x0C 0x00  4    ・Output the state of reproduction stop processing.
   _PROGRESS                                                ・When you send command accompanied by reproduction operation after
                                                              STOP command ,check the completion of stop processing with this command
                                                              in advance.
                                                            ・1st byte outputs the state of stop processing.
                                                            1st byte=0x00: stop processing is completed. The command accompanied by
                                                              reproduction operation can be executed.
                                                            1st byte=other than 0x00: stop processing or reproduction processing is
                                                            running .
                                                            ・2nd-4th byte outputs other internal processing state.
   READ_BROWSE              4     0x6D 0x01 0x00 0x00  1    ・Output about the browsing analysis status in a memory.
   _STATUS                                                  ・Output about OFFSET 0x22- of a status buffer.
   READ_BROWSE              4     0x6D 0x01 0x00 0x01  4    ・Output about the cursor position number of browsing in a memory.
   _PNUM                                                    ・Output about OFFSET 0x23-0x26 of a status buffer.
   READ_BORWSE_TNU          4     0x6D 0x01 0x00 0x02  7    ・Output about the number of entries in the folder in which the cursor of
   M                                                          browsing in a memory exists, and the number of classes.
                                                            ・Output about OFFSET 0x27-0x2D of a status buffer.
   READ_BROWSE_FOL          4     0x6D 0x01 0x01 0x00 76    ・Outputs the information on the folder where the entry being pointed by the
   _INFO                                                      memory browsing cursor resides.
                                                            ・See 6.4.7 for the output format.
   READ_BROWSE              4     0x6D 0x01 0x02  N   76    ・Outputs the information on the Nth entry ahead from the one being pointed by
   _ENTRY_INFO                                                the memory browsing cursor.
                                                            ・Specify N at the 4th byte. Specify N in the range from 0x00 to 0x10.
                                                            ・See 17. File browsing within memory for the output format.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                        TSZ02201-0V2V0E600070-1-2
                                                         54/69
TSZ22111・15・001                                                                                                    2017.3.21 Rev.004


BU9450xAxxx series
   READ_BROWSE_TAG          4     0x6D 0x01 0x03  N   130    ・Outputs the TAG analysis results of the file analyzed by the
                                                              GET_TAG_CURSOR command.
                                                             ・Specify the TAG type with N at the 4th byte.
                                                                               th
                                                             Select N at the 4 byte from the following. Any other settings will not accept
                                                              the command.
                                                             N=0x00: TITLE, N=0x01: ARTIST,
                                                             N=0x02: ALBUM, N=0x03: GENRE
                                                             ・Output data has the proposed data ID (2 bytes). See 17. File browsing within
                                                              memory for the output format
   READ_FR_STATUS           4     0x6D 0x03 0x00 0x00   2    ・Output about a file read functional status.
                                                             ・Output about OFFSET 0 x2F-0x30 of a status buffer.
   READ_FR_SIZE             4     0x6D 0x03 0x01 0x00   4    ・Output the file size of the file specified by the file read function.
                                                             ・A unit is a byte. It outputs by Little Endian.
   READ_FR_DATA             4     0x6D 0x03 0x02 0x00 260    ・Reads the data of the file specified by the File Read function.
                                                             ・Up to 256 bytes of data can be read at one time.
                                                             ・The leading 4 bytes are file offset. They are output in Little Endian format.
   READ_SYSMODE             4     0x6D 0x0A 0x00 0x00   1    ・Output about the present system operation mode.
   READ_ERROR               4     0x6D 0x0A 0x01 0x00   4    ・Output about the contents of the present error.
                                                             ・An internal error code original with this LSI is outputted.
   READ_MEMINFO             4     0x6D 0x0A 0x02 0x00   1    ・Output about the present memory information.
                                                             ・Output about OFFSET 0x37 of a status buffer.
   READ_MOUNT_ERRO          4     0x6D 0x0A 0x04 0x00  14    ・Output the information on which stage of media mount went wrong when
   R                                                          ERROR occurs.
                                                             ・1st byte: USB enumeration state is outputted.
                                                             ・2nd byte: SD initialization state is outputted.
                                                             ・10th byte: file system analysis state is outputted.
                                                             ・Other bytes should be disregarded.
                                                             ・See "12.4.15 Process information when a media mount error " for details of
                                                              content.
   READ_SD_STATUS           4     0x6D 0x0C 0x00 0x00   8    ・Output the inside information of SD driver.
                                                             ・The contents are original with this LSI.
                                                             ・Please use it by a SET_SD_INFO command.
   READ_FW_VER              4     0x6D 0xFF 0x00 0x00   4    ・Output about a firmware version.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                            TSZ02201-0V2V0E600070-1-2
                                                          55/69
TSZ22111・15・001                                                                                                         2017.3.21 Rev.004


BU9450xAxxx series
                                 Table 13. Command enable/disable in each system operation mode
                       Command enable/disable in each system operation
       Command                                                                  Command enable/disable in each status
                                            mode
                                                                       STOP PLAY     SEARCH      SEARCH       Analyze  Write
                           CONFIG          PLAYER         FILE READ
                                                                                     (device)    (FILE)
 READ_BUFF                   ○               ○                ○           ○    ○          ○           ○            ○        ○
 READ_STATUS                 ○               ○                ○           ○    ○          ○           ○            ○        ○
 READ_PSET                   ○               ○                ○           ○    ○          ○           ○            ○        ○
 READ_PTIME                  ○               ○                ○           ○    ○          ×           ×            ×        ×
 READ_LANG                   ○               ○                ○           ○    ○          ×           ×            ×        ×
 READ_PNUM                   ○               ○                ○           ○    ○          ×           ×            ×        ×
 READ_TNUM                   ○               ○                ○           ○    ○          ×           ×            ×        ×
 READ_FNUM                   ×               ○                ×           ○    ○          ×           ×            ×        ×
 READ_PFILE_NAME             ×               ○                ×           ○    ○          ×           ×            ×        ×
 READ_PFOL_NAME              ×               ○                ×           ○    ○          ×           ×            ×        ×
 READ_PFILE_TAG              ×               ○                ×           ○    ○          ×           ×            ×        ×
 READ_RESUME_INFO            ×               ○                ×           ○    ○          ×           ×            ×        ×
 READ_DEV_FREE               ○               ○                ○           ○    ×          ×           ×            ×        ×
 READ_DEVDESC
                             ○               ○                ○           ○    ×          ×           ×            ×        ×
 READ_CONDESC
                             ○               ○                ○           ○    ×          ×           ×            ×        ×
 READ_INQIRY
                             ○               ○                ○           ○    ×          ×           ×            ×        ×
 READ_LUN                    ×               ○                ○           ○    ○          ×           ×            ×        ○
 READ_LUN_NUM                ×               ○                ○           ○    ○          ×           ×            ×        ○
 READ_SET_LUN                ×               ○                ○           ○    ○          ×           ×            ×        ○
 READ_IRPTO_FACTOR           ○               ○                ○           ○    ○          ○           ○            ○        ○
 READ_LUN_READY              ○               ○                ○           ○    ○          ○           ○            ○        ○
 READ_MASK_IRPTO_00
                             ○               ○                ○           ○    ○          ×           ×            ×        ○
 READ_MASK_IRPTO_02
                             ○               ○                ○           ○    ○          ×           ×            ×        ○
 READ_MASK_IRPTO_22
                             ○               ○                ○           ○    ○          ×           ×            ×        ○
 READ_MASK_IRPTO_2F
                             ○               ○                ○           ○    ○          ×           ×            ×        ○
 READ_MASK_IRPTO_37
                             ○               ○                ○           ○    ○          ×           ×            ×        ○
 READ_STOP
 _PROGRESS                   ×               ○                ×           ○    ○          ○           ○            ○        ○
 READ_BROWSE
 _STATUS                     ×               ○                ○           ○    ○          ○           ○            ○        ○
 READ_BROWSE
 _PNUM                       ×               ○                ○           ○    ○          ×           ×            ×        ×
 READ_BORWSE_TNUM            ×               ○                ○           ○    ○          ×           ×            ×        ×
 READ_BROWSE_FOL
 _INFO                       ×               ○                ○           ○    ○          ×           ×            ×        ×
 READ_BROWSE
 _ENTRY_INFO                 ×               ○                ○           ○    ○          ×           ×            ×        ×
 READ_BROWSE_TAG             ×               ○                ○           ○    ○          ×           ×            ×        ×
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                    TSZ02201-0V2V0E600070-1-2
                                                                    56/69
TSZ22111・15・001                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
 READ_FR_STATUS              ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_FR_SIZE                ×              ×    ○       ○ × ×     ×       ×        ×
 READ_FR_DATA                ×              ×    ○       ○ × ×     ×       ×        ×
 READ_SYSMODE                ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_ERROR                  ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_MEMINFO                ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_MOUNT_ERROR            ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_SD_STATUS              ○              ○    ○       ○ ○ ○     ○       ○        ○
 READ_FW_VER                 ○              ○    ○       ○ ○ ○     ○       ○        ○
                    ○=enable           ×=disable
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                     TSZ02201-0V2V0E600070-1-2
                                                   57/69
TSZ22111・15・001                                                          2017.3.21 Rev.004


BU9450xAxxx series
14. System Operation MODE
          The LSI starts operation by setting up System Operation MODE after download of the program by IPL after a power
          supply and reset release.
          Possible operation changes with each modes of operation.
          Only the one mode can set up mode of operation with a command.
          The mode which is simultaneously different cannot be set up.
          A microcomputer sets up the change in System Operation MODE with a command.
          Please be sure to perform the changes to each mode via CONFIG mode.
          The changes between PLAYER mode and FILEREAD mode cannot be performed directly.
          The settlement of the following command is to do a re-setup because it is returned in the initial value when it passes
          through the CONFIG mode.
          REPEAT, RANDOM, SET_EQ, SET_NEXT, SET_REPRAND, SET_TAG, SET_PRM
          Command         CHG_SYSTEM_MODE
          N=0x00 ; CONFIG MODE
            It is in the state which changes after a power supply
            It is the mode which performs initial setting of a system.
            Please change to the mode of other operation after setting up with an initial-setting command.
            In this mode, even if it detects insertion of a memory, mount of a memory is not performed.
            The mount of a memory carried out behind each mode changes.
          N=0x01 ; PLAYER MODE
            It is the mode which performs decoding play of the file in a memory.
            File browsing (structural analysis in a memory) can be performed.
          N=0x02 ; FILE Read MODE
            It is the mode which Reading can perform about the specific file in a memory.
            A specific file can be deleted.
            File browsing (structural analysis in a memory) can be performed.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                    TSZ02201-0V2V0E600070-1-2
                                                               58/69
TSZ22111・15・001                                                                                           2017.3.21 Rev.004


BU9450xAxxx series
15. Resume information
           This LSI outputs the information for resume function, using READ_RESUME_INFO command.
                                            Table 14. Resume information register structure
                          The
           Status
                       number of           NAME                                            Contents
          OFFSET
                         bytes
                                                            This data shows the information on the file being played and on
                                                            the play position.
                                    Resume information
         0x38-0x61         42                               The data has a LSI-unique structure.
                                            data
                                                            The resume information data is data of 42 bytes.
                                                            It outputs with a little endian.
           The above resume information has a LSI-unique structure and is used when executing resume play. Therefore, you
           should use the data contents as they are without rewriting.
           The resume function is implemented by writing the resume information read by READ_RESUME_INFO command to
           PLAY_RESUME command. After writing to PLAY_RESUME, the LSI automatically searches the resume. As for the
           action of the searches end, selectable from [Playback is started in the time when 「READ_RESUME_INFO」command
           was forwarded], [top (Pause) in the time when 「READ_RESUME_INFO」command was forwarded], [Playback is
           started from the front of the tune when 「READ_RESUME_INFO」command was forwarded], [Stop (Pause) the front
           of the tune when 「READ_RESUME_INFO」command was forwarded].
           After reading READ_RESUME_INFO command during file play, the LSI resumes the file from the time
           READ_RESUME_INFO has been read.
           The data contents read by READ_RESUME_INFO command cannot assure the operations when executing
           PLAY_RESUME which has been rewritten due to the positional information within the memory. If the resume
           information does not match because of change of memory, the LSI starts searches front file of memory.
16. File Name, Folder Name, TAG Information
           A file name, a folder name, and TAG information are outputted to a status register.
          The first 2 bytes to be output indicate file data ID information.
          The target data is outputted from the 3rd byte.
          A file name, a folder name, and TAG information status register structure are shown in Table 15.
                                       Table 15.File (folder, TAG) information registers structure
                          The
           Status
                       number of           NAME                                            Contents
          OFFSET
                         bytes
                                                            The type of data is outputted.
            0x38           1             Data type          0x00; TEXT- NUL (0x00) Terminated character string
                                                            0x01; BYTE- Unsigned 1 byte integer
                                                            Encoding of a character string is outputted.
                                                            0x00 ; ISO8859-1(Latin1)
                                                            0x01 : UTF-16(with BOM)
                                                            0x02 : UTF-16BE
            0x39           1             Encoding
                                                            0x03 : UTF-8
                                                            0x49 : UTF-16LE
                                                            When a data type is except 0x00:TEXT, data length (byte unit) is
                                                            outputted.
                                                            A file name (or a folder name, TAG) is outputted by left fitting.
                                         File name
         0x3A-0xB9        128                               Up to 128 bytes can be output.
                                    (Folder name, TAG)
                                                            If the data is less than 128 bytes, it terminates with 0x00.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                           TSZ02201-0V2V0E600070-1-2
                                                                   59/69
TSZ22111・15・001                                                                                                   2017.3.21 Rev.004


BU9450xAxxx series
        The character code information on TAG information is outputted to a status register.
        Character code information status register structure is shown in Table 16.
                                        Table 16. Character code information registers structure
                    LANGH                     LANGL
                                           OFFSET=0x10                           Language Code
                OFFSET=0x11
                      0x00                     0x00           ID3V1 TAG or ISO8859-1(ID3V2 TAG)
                      0x00                     0x01           UTF-16 (ID3V2 TAG)
                      0x00                     0x02           UTF-16BE (ID3V2 TAG
                      0x00                     0x03           UTF-8 (ID3V2 TAG or AAC TAG iTunes Meta-data)
                      0x00                     0x49           UTF-16LE (WMA TAG)
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                       TSZ02201-0V2V0E600070-1-2
                                                                60/69
TSZ22111・15・001                                                                                            2017.3.21 Rev.004


BU9450xAxxx series
17. File browsing within memory
     The LSI can analyzing and reading of the entry information of files and subfolders within a folder which is different from the
     one having the current tune while the current tune is being played or stopped. Since the read information contains access
     data to be used to select tunes, the LSI enables to directly select and play tunes using this data.
     File Browsing within the memory will be enabled by: operating the cursor position which can be controlled separately from
     the position of the tune being played and analyzing the folder to read the information on folders.
     When sending the command to move the cursor, the LSI can analyze and read the information of 10 entries (files or
     folders) from the move destination.
     The cursor movement conforms to the sort order determined by the sort function. If the sort function is enabled, the
     system first reads the files, and then the subfolders, in the sort order. If the sort function is disabled, the LSI reads the
     files and subfolders in the order that they are written to FAT.
     A file browsing function becomes effective after ANALYSE_ROOT command is send, and starts the analysis in a root
     folder.
     When you select music directly by using the access data or cursor position, The following status doesn't return a normal
     value because it doesn't understand the number in the whole in the memory.
     Playing folder number in memory status, Playing file number in the memory status.
     The file information status register structure which can be read by the file browsing function in a memory is shown in Table
     17.
                                           Table 17. File (folder) information register structure
                          The
            Status
                       number of            NAME                                           Contents
          OFFSET
                         bytes
                                                             The position in the memory in which a file and folder information
                                                             is written is shown.
         0x38-0x3D         6            Access data
                                                             Direct song selection is possible from a microcomputer using this
                                                             data.
                                                             The type of file is outputted.
                                                             0x0Y= file-native (LFN, SFN), 0x1Y= folder-native (LFN, SFN)
                                                             0x8Y= file-UTF16LE (LFN),         0x9Y= folder-UTF16LE (LFN)
             0x3E          1             Entry type          Y becomes the following cases.
                                                             0x1=MP3, 0x2=WMA,
                                                             0x3=AAC, 0x4=WAV ,
                                                             0x6-0xE=reserve, 0xF,0x0=other file
             0x3F          1                  -              0x00
                                                             The cluster number in the memory in which a file and folder
         0x40-0x43         4          Cluster number
                                                             information is written is shown.
                                         File name
         0x44-0x84        64                                 A file name (folder name) is outputted by left fitting.
                                       (Folder name)
            Cautions)
            If browsing operation is frequently performed during music playing, music skipping may occur by the memory with a
            slow access speed.
18. File data read
     It is possible to read the contents of the specified file in a memory.
     File name is specified by the full path (within 256 bytes) including a file name and an extension.
     A full path including a file name and an extension supports to 16 classes within 256 bytes.
     The above-operation can be performed when system operation mode is FILE Read mode.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                          TSZ02201-0V2V0E600070-1-2
                                                                    61/69
TSZ22111・15・001                                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
19. IRPTO Interruption Terminal to Microcomputer
          When some status changes, this LSI notifies interruption to master microcomputer by IRPTO terminal.
          When signal is H, it is shown that interrupt occurs.
          Please connect IRPTO terminal to the interruption port of level detection.
          The mode of IRPTO signal output condition can be selected by SEL_IRPTO command.
          ・variable interruption mode: IRPTO is unified output by two or more status change. Master microcomputer can select
          the status.
          ・fixed interruption mode: IRPTO is output by single status change according to system mode.
          19.1 variable interruption mode
          INTERRUPT REQUEST is caused from the IRPTO terminal to the microcomputer when either of the hereunder status
          register changes.
          Interruption factor can be selected by SET_MASK_00-SET_MASK_37 command. The initial setting of the interruption
          factor is shaded status.
                                              Table 18. Status registers for interruption factor
     OFFSET Status            bit7      bit6        bit5            bit4           bit3          bit2        bit1          bit0
                              (MSB)                                                                                        (LSB)
     0x00      STATUS1        ERROR     SEARCH                      BUSY           MCHNG         STOP        PAUSE         PLAY
     0x02      STATUS3        USBINS    SDINS       USBFILE         SDFILE         MDEVUSB       MDEVSD      PDEVUSB       PDEVSD
     0x22      BROWSESTAT     ANA_ERR   0           0               GET_TAG_END                   GET_TAG_ID               ANA_CUR
     0x2F      FIOSTAT        FIOERR    0           0               FIOOPEN        FRDREADY      0           FIOSEARCH     FIOMODE
                                                                                                 LUN_READY_
     0x37      MEMINFO                  MEMINFO                                    LUN_BUSY                       reserve     reserve
                                                                                                 RENEW
          IRPTO is returned to L when forego status is read out by using the READ_IRPTO_FACTOR command. Following table
          shows the contents of the output data by READ_IRPTO_FACTOR command.
          The status value and interruption factor is included. When status changes, corresponding bit of interruption factor
          becomes H.
          For example, when only ERROR status changes, Interruption factor 1 becomes 0x80.
                                 Table 19. the contents of the output data by READ_IRPTO_FACTOR
              STATUS
                            byte                    NAME                                         content
              OFFSET
            0x38 + 0x0        1                 Status value 1             (Offset : 0x00) STATUS1
            0x38 + 0x1        1                 Status value 2             (Offset : 0x02) STATUS2
            0x38 + 0x2        1                 Status value 3             (Offset : 0x22) BROWSESTAT
            0x38 + 0x3        1                 Status value 4             (Offset : 0x2F) FIOSTAT
            0x38 + 0x4        1                 Status value 5             (Offset : 0x37) MEMINFO
            0x38 + 0x5        1              Interruption factor 1         status change flag for Status value 1
            0x38 + 0x6        1              Interruption factor 2         status change flag for Status value 2
            0x38 + 0x7        1              Interruption factor 3         status change flag for Status value 3
            0x38 + 0x8        1              Interruption factor 4         status change flag for Status value 4
            0x38 + 0x9        1              Interruption factor 5         status change flag for Status value 5
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                            TSZ02201-0V2V0E600070-1-2
                                                                   62/69
TSZ22111・15・001                                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
               19.2 Fixed interrupt mode
               In fixed interruption mode, IRPTO is output by single status change according to system mode.
               Following table shows IRPTO signal output condition for each system mode.
                    State               Interruption                                       Contents
                                                           An interrupt occurs when status register MEMINFO=0x03
                                                           (OFFSET=0x37, [7:4] ).See 6.4.14. Selected memory information for
            PLAYER MODE              MEMINFO = 0x3
                                                           content.
                                                              Clear conditions; interruption is cleared by memory disconnection.
                                                           An interrupt occurs when a specified file is searched and read-out is
          FILE READ MODE                FRDREADY           ready.
                                                              Clear conditions; interruption is cleared by data are read (block unit).
20. Previous Command Processing Situation
         The previous command processing situation is outputted as status register STATUS6 (OFFSET=0x05) PRECOMSTAT.
         Bit0 of STATUS6(OFFSET=0x05) and Bit2 of STATUS2 (OFFSET=0x01) is the same value. When Bit2 of STATUS2
         set to "0", the previous command is normally processed. When Bit2 of STATUS2 set to "1", the previous command is
         not processed.
         The following shows the value descriptions.
          Value           NAME                       Cause of being unprocessed
          0x01            UNCLASSIFIED               Non classification error
          0x03            UNKNOWN CMD                Undefined command
          0x05            SEARCH                     Searching now
          0x07            INVALID ARG                Invalid parameter is detected.
          0x09            WRONG MODE                 Invalid command in the current system operation mode
          0x0B            NOT READY                  Initialization is not completed.
          0x0F            NOT IMPLEMENTED            The function is not mounted.
          0x15            DEVICE ERROR               Device error
21. Selected memory information
         The kind and information on a device which are chosen now are outputted by a READ_MEMINFO command.
         An output value is cleared at the memory disconnection or CHG_DEV command reception, and is updated at the
         completion of mount operation.
         The details of an output value are shown below.
          Value[7:4]        Contents
          0x0               Mounted USB device (playable device)
          0x1               NO-Mounted USB device (file system un-support, etc.)
          0x2               USB LOW SPEED device
          0x3               USB device with two or more DEVICE CONFIGRATION
          0x4               The USB device and SD device which cannot be recognized
                            (USB enumeration failure etc.)
          0x5               MEMINFO is undecided.
          0x6               -
          0x7               SD Card
          0x8-0xF           It means that there is HUB, when Bit7 is H.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                         TSZ02201-0V2V0E600070-1-2
                                                                  63/69
TSZ22111・15・001                                                                                                 2017.3.21 Rev.004


BU9450xAxxx series
22. Process information when a media mount error
        When media mount failure occurs, READ_MOUNT_ERROR command output the information on the stage of media
        mount operation.
        After being set to ERROR=1, the detailed information about in which process the error occurred can be read with this
        command.
        For example, when ERROR=1 and 1st byte=0x08 or 0x09, it turns out that mount error is caused by device response
        error for TEST UNIT READY or REQUEST SENSE.
        The details of an output value are shown below.
        1st byte (offset=0) of a read value outputs the process state of USB mount operation.
        A read value corresponds to the processing which went wrong.
        A read value is cleared at the start of a USB mount operation.
        A read value is updated irrespective of the success or failure of mount operation at the completion of mount operation.
          Read value Process state                                     Read value Process state
          0x00             Before a start of operation                 0x10           GET_DEVSTATUS
          0x01             DEVICE_DISCRIPTOR acquisition               0x11           Sector read command send
          0x02             SET_ADDRESS                                 0x12           Sector read command receive
          0x03             CONFIG_DESCRIPTOR acquisition               0x13           Sector read status receive
          0x04             End Point connect                           0x14           -
          0x05             SET_CONFIGRATION                            0x15           -
          0x06             GET MAX LUN                                 0x16           -
          0x07             CLEAR_FEATURE                               0x17           Not-supported Device Subclass
          0x08             INQUIRY                                     0x18           Only HUB is connected
          0x09             TEST UNIT READY                             0x19           LOW DEVICE is detected
          0x0A             REQUEST SENSE                               -              -
          0x0B             READ_CAPACITY                               -              -
          0x0C             CLEAR_PORT_FEATURE                          -              -
          0x0D             GET_PORT_STATUS                             -              -
          0x0E             SET_PORT_FEATURE                            -              -
          0x0F             HUB_DESCRIPTOR acquisition                  -              -
        2nd byte (offset=1) of a read value outputs the process state of SD initialization.
        bit corresponding to the succeeded process is set to 1.
        A read value is cleared at the start of a SD mount operation.
        A read value is updated one by one during mount, irrespective of the success or failure of mount operation.
        Update is stopped at the completion of mount operation
        A read value is 0x00 before a start of operation.
          bit               Process state
          0                 CMD0 response
          1                 CMD8 response
          2                 CMD55 response
          3                 CMD41 response
          4                 CMD58 response
          5                 CMD1 response
        10th byte (offset=9) of a read value outputs the process state of FAT file system analysis.
        A read value corresponds to the processing which went wrong.
        A read value is updated one by one during mount, irrespective of the success or failure of mount operation.
        Update is stopped at the completion of mount operation
          Read value        Process state
          0x00              Before a start of operation
          0x01              MBR read
          0x02              MBR analysis
          0x03              BPB analysis
          0x04              FAT table check
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                    TSZ02201-0V2V0E600070-1-2
                                                             64/69
TSZ22111・15・001                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
23. Patch Code Download
     For play ability improvement to peculiar USB memory and SD card, This LSI supports to download a patch cord from a
     master microcomputer.
                                                                                  2
     In Config mode, a patch is downloadable from a master microcomputer via I C.
     The whole patch image size sent into BU94502AMUV must be smaller than 8440 Bytes.
     Please divide a patch image into packets within 504 bytes, send by SET_PATCH_CODE command.
     After downloading all patch image packets , validate the patch image by SET_PATCH_CRC command.
         ・ Generator polynomial uses CRC-CITT (X^16 + X^12+X^ 5+1).
         ・ Initial value is 0xFFFF.
         ・ Output XOR is 0x0000.
         ・ A bit feed is the right feed.
                     Whole patch image                                                   This LSI
                  patch image packet #1      CRC#1     SET_PATCH_CODE          save to instruction ram
                  patch image packet #2      CRC#2     SET_PATCH_CODE          save to instruction ram
                  patch image packet #3      CRC#3     SET_PATCH_CODE          save to instruction ram
                            ・                  ・                                            ・
                            ・                  ・                                            ・
                            ・                  ・                                            ・
                  patch image packet #n      CRC#n     SET_PATCH_CODE           save to instruction ram
                                                                                 Check whole CRC,
            CRC of Whole
                                                       SET_PATCH_CODE           validate patch image
              patch image
                                              Figure 32. Concept of Patch Code Download
24. Watch Dog Timer
      The LSI incorporates Watch Dog Timer, which monitors the system hang-up and resets whenever it occurs.
     After resetting hang-up. Can disable WDT using DIS_WDT command. Once WDT is disabled, it cannot be enabled until
     reset is input.
      When WDT, in the valid status, detects a hang-up within the LSI regardless of external situations (on the microcomputer),
     the LSI resets the system internally.
      To monitor whether the LSI is reset by WDT from the master microcomputer (external), use SET_WDT command to write
     H to STATUS WDT_RFLG and monitor this status. After reset, this status is read as L. This helps you judge that WDT
     has reset the LSI by reading out L when reading the status regularly after writing H using SET_WDT command.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                       TSZ02201-0V2V0E600070-1-2
                                                             65/69
TSZ22111・15・001                                                                                            2017.3.21 Rev.004


BU9450xAxxx series
●Notes for use
  (1)Power on Reset
    Please keep the terminal RESETX at the Low level when the power supply starts. Please make the terminal RESETX High
    level after 100us after 3.3V system power supply and the oscillation of the system clock is steady. Moreover, please make
    the terminal RESETX Low level during 100us or more when resetting it while operating.
  (2) About compatibility in USB memory device and SD memory card
    According to the file structure and communication speed of an USB memory, SD memory card, this LSI might not play back
    correctly.
  (3) About turning on the power supply
    Current rush might flow momentarily by the order of turning on the power supply and the delay in IC with two or more power
    supplies, and note the capacity of the power supply coupling, the power supply, and width and drawing the GND pattern
    wiring.
  (4) About absolute maximum rating
    When the absolute maximum rating such as the applied voltage and the ranges of the operating temperature
    is exceeded, LSI might be destroyed. Please apply neither voltage nor the temperature that exceeds the
    absolute maximum rating. Please execute physical measures for safety such as fuse when it is thought to
    exceed the absolute maximum rating, and examine it so that the condition to exceed the absolute maximum
    rating is not applied to LSI.
  (5) About GND Voltage
    In any state of operation must be the lowest voltage about the voltage of the terminal GND. Please actually confirm the
    voltage of each terminal is not a voltage that is lower than the terminal GND including excessive phenomenon.
  (6) About design of overheating malfunction preventive circuit
    Please design overheating malfunction preventive circuit with an enough margin in consideration of a permissible loss in the
    state of using actually.
    Use a thermal design that allows for a sufficient margin in light of the power dissipation (Pd) in actual operating conditions.
    VQFN040V6060 package（BU94501AMUV / BU94502AMUV）exposes its frame of the backside of package. Note that this
    part is assumed to use after providing heat dissipation treatment to improve heat dissipation efficiency. Try to occupy as
    wide as possible with heat dissipation pattern not only on the board surface but also the backside.
  (7) About the short between terminals and the mounting by mistake
    Please note the direction and the gap of position of LSI enough about LSI when you mount on the substrate.
    LSI might be destroyed when mounting by mistake and energizing. Moreover, LSI might be destroyed when short-circuited
    by entering of the foreign substances between the terminal and GND, between terminals, between the terminal and the
    power supply of LSI.
  (8) About operation in strong electromagnetic field
    Use in strong electromagnetic field has the possibility of malfunctioning and evaluate it enough, please.
  (9) Browsing operation
    With a memory with slow access speed, Browsing operation during music playing may generate skipping.
  (10) Playing time of MP3 file
    The playing time when it can be acquired at the time of playing the MP3 file, may shift when fast forward playing, rewinding
    playing, and VBR playing.
  (11) About WMA
    Windows Media Audio is the music compression technology which Microsoft Corp. developed.
    Windows Media is the registered trademark of U.S. Microsoft Corporation in the U.S., and other countries.
               2
  (12) About I C format I/F
                                           2
    Although this LSI has adopted the I C format, the level shifter circuit is not built in.
    For this reason, level shifter is needed for connection with the device besides the range of operating power supply voltage
    of this LSI.
  (13) About " Made for iPod / iPhone / iPad License "
    For using of BU94502AMUV / BU94502AKS2, It is necessary to become a licensee of Apple Inc. regarding "Made for
    iPod/iPhone/iPad License"
  Status of this document
    The Japanese version of this document is the formal specification. A customer may use this translation version only for a
    reference.
    to help reading the formal version. If there are any differences in translation version of this document, formal version takes
    priority.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                     TSZ02201-0V2V0E600070-1-2
                                                               66/69
TSZ22111・15・001                                                                                             2017.3.21 Rev.004


BU9450xAxxx series
●Information about ordering part number
    B     U       9         4       5      0 x A  x     x     x   -   x x
   Part Number                                   Package            Packaging and forming specification
   BU94502A (iPod support)                       MUV: VQFN040V6060  E2: Reel-formed emboss taping
   BU94501A (iPod not support)                   KS2: SQFP-T52      None: Tray, Tube
                                                                    VQFN040V6060 is provided in reel-formed
                                                                    emboss taping
                                                                    SQFP-T52 is provided in a tray.
●External dimension
BU94501AMUV / BU94502AMUV ( VQFN040V6060 )
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                TSZ02201-0V2V0E600070-1-2
                                                   67/69
TSZ22111・15・001                                                                        2017.3.21 Rev.004


BU9450xAxxx series
BU94501AKS2 / BU94502AKS2 ( SQFP-T52 )
●Mark name image
          VQFN040V6060 (TOP VIEW)                                     SQFP-T52(TOP VIEW)
                                            Part Number Marking                                Part Number Marking
                                           LOT Number                                         LOT Number
                                             1PIN MARK                                          1PIN MARK
                             Part number              Part Number Marking     Ordering part number
                                                    BU94501
                   BU94501AMUV                                              BU94501AMUV-E2
                                                    AMUV
                   BU94501AKS2                      U94501AKS2              BU94501AKS2
                                                    BU94502
                   BU94502AMUV                                              BU94502AMUV-E2
                                                    AMUV
                   BU94502AKS2                      U94502AKS2              BU94502AKS2
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                             TSZ02201-0V2V0E600070-1-2
                                                              68/69
TSZ22111・15・001                                                                                     2017.3.21 Rev.004


BU9450xAxxx series
●Revision history
         Date         Revision                                                     Changes
     02.Jul.2012          001          New Release
     13.Jul.2012          002          P.4 : Difference of BU9450XA Series features Playable AAC files *.asf => *.3gp
                                       P.2, 3 : Basic circuit application diagram The addition of the precaution
                                       P.7, 8 : Description of Terminals The addition of the precaution
                                       P.46 : SET_CLRPATH_CUR command specifications addition
                                       The addition of other details explanations and indication composition become proper.
     10.Dec.2012          003          P.35 : ABOT command option (TAG analysis) is deleted
                                       P.44,49 : GET_PATH_CURSOR command is deleted
                                       P.46,49 : SET_CLRPATH_CUR command is deleted
                                       P.50,52,62 : GET_PATH_END FLAG is deleted
                                       P.50,52,35 : DET_HUB, DET_UNSUP, DET_VENDOR FLAG is deleted
                                       P.55,56 : READ_BROWSE_PATH command is deleted
                                       P.60: Table16. Table 16. File path information register structure is deleted
                                       P.41 : Explanation addition of the HOME command in the random setup
                                       P.42 : Explanation addition of the FOL+ command in the random setup
                                       P.42 : Explanation addition of the FOL- command in the random setup
                                       The addition of other details explanations and indication composition become proper.
     21.Mar.2017          004          P.1,4,6,13,67：Change package type “SQFP-T52M” → “SQFP-T52”.
                                       P.67,68：Change External dimension.
www.rohm.com
© 2012 ROHM Co., Ltd. All rights reserved.                                                         TSZ02201-0V2V0E600070-1-2
                                                                    69/69
TSZ22111・15・001                                                                                                  2017.3.21 Rev.004


                                                            Notice
Precaution on using ROHM Products
                                                                                                                           (Note 1)
    1.  If you intend to use our Products in devices requiring extremely high reliability (such as medical equipment                ,
        aircraft/spacecraft, nuclear power controllers, etc.) and whose malfunction or failure may cause loss of human life,
        bodily injury or serious damage to property (“Specific Applications”), please consult with the ROHM sales
        representative in advance. Unless otherwise agreed in writing by ROHM in advance, ROHM shall not be in any way
        responsible or liable for any damages, expenses or losses incurred by you or third parties arising from the use of any
        ROHM’s Products for Specific Applications.
                               (Note1) Medical Equipment Classification of the Specific Applications
                                     JAPAN                USA                EU              CHINA
                                    CLASSⅢ                               CLASSⅡb
                                                       CLASSⅢ                              CLASSⅢ
                                    CLASSⅣ                                CLASSⅢ
    2.  ROHM designs and manufactures its Products subject to strict quality control system. However, semiconductor
        products can fail or malfunction at a certain rate. Please be sure to implement, at your own responsibilities, adequate
        safety measures including but not limited to fail-safe design against the physical injury, damage to any property, which
        a failure or malfunction of our Products may cause. The following are examples of safety measures:
              [a] Installation of protection circuits or other protective devices to improve system safety
              [b] Installation of redundant circuits to reduce the impact of single or multiple circuit failure
    3.  Our Products are not designed under any special or extraordinary environments or conditions, as exemplified below.
        Accordingly, ROHM shall not be in any way responsible or liable for any damages, expenses or losses arising from the
        use of any ROHM’s Products under any special or extraordinary environments or conditions. If you intend to use our
        Products under any special or extraordinary environments or conditions (as exemplified below), your independent
        verification and confirmation of product performance, reliability, etc, prior to use, must be necessary:
              [a] Use of our Products in any types of liquid, including water, oils, chemicals, and organic solvents
              [b] Use of our Products outdoors or in places where the Products are exposed to direct sunlight or dust
              [c] Use of our Products in places where the Products are exposed to sea wind or corrosive gases, including Cl2,
                   H2S, NH3, SO2, and NO2
              [d] Use of our Products in places where the Products are exposed to static electricity or electromagnetic waves
              [e] Use of our Products in proximity to heat-producing components, plastic cords, or other flammable items
              [f] Sealing or coating our Products with resin or other coating materials
              [g] Use of our Products without cleaning residue of flux (even if you use no-clean type fluxes, cleaning residue of
                 flux is recommended); or Washing our Products by using water or water-soluble cleaning agents for cleaning
                 residue after soldering
              [h] Use of the Products in places subject to dew condensation
    4.  The Products are not subject to radiation-proof design.
    5.  Please verify and confirm characteristics of the final or mounted products in using the Products.
    6.  In particular, if a transient load (a large amount of load applied in a short period of time, such as pulse. is applied,
        confirmation of performance characteristics after on-board mounting is strongly recommended. Avoid applying power
        exceeding normal rated power; exceeding the power rating under steady-state loading condition may negatively affect
        product performance and reliability.
    7.  De-rate Power Dissipation depending on ambient temperature. When used in sealed area, confirm that it is the use in
        the range that does not exceed the maximum junction temperature.
    8.  Confirm that operation temperature is within the specified range described in the product specification.
    9.  ROHM shall not be in any way responsible or liable for failure induced under deviant condition from what is defined in
        this document.
Precaution for Mounting / Circuit board design
    1.  When a highly active halogenous (chlorine, bromine, etc.) flux is used, the residue of flux may negatively affect product
        performance and reliability.
    2.  In principle, the reflow soldering method must be used on a surface-mount products, the flow soldering method must
        be used on a through hole mount products. If the flow soldering method is preferred on a surface-mount products,
        please consult with the ROHM representative in advance.
    For details, please refer to ROHM Mounting specification
Notice-PAA-E                                                                                                            Rev.003
© 2015 ROHM Co., Ltd. All rights reserved.


Precautions Regarding Application Examples and External Circuits
    1.   If change is made to the constant of an external circuit, please allow a sufficient margin considering variations of the
         characteristics of the Products and external components, including transient characteristics, as well as static
         characteristics.
    2.   You agree that application notes, reference designs, and associated data and information contained in this document
         are presented only as guidance for Products use. Therefore, in case you use such information, you are solely
         responsible for it and you must exercise your own independent verification and judgment in the use of such information
         contained in this document. ROHM shall not be in any way responsible or liable for any damages, expenses or losses
         incurred by you or third parties arising from the use of such information.
Precaution for Electrostatic
    This Product is electrostatic sensitive product, which may be damaged due to electrostatic discharge. Please take proper
    caution in your manufacturing process and storage so that voltage exceeding the Products maximum rating will not be
    applied to Products. Please take special care under dry condition (e.g. Grounding of human body / equipment / solder iron,
    isolation from charged objects, setting of Ionizer, friction prevention and temperature / humidity control).
Precaution for Storage / Transportation
    1.   Product performance and soldered connections may deteriorate if the Products are stored in the places where:
              [a] the Products are exposed to sea winds or corrosive gases, including Cl2, H2S, NH3, SO2, and NO2
              [b] the temperature or humidity exceeds those recommended by ROHM
              [c] the Products are exposed to direct sunshine or condensation
              [d] the Products are exposed to high Electrostatic
    2.   Even under ROHM recommended storage condition, solderability of products out of recommended storage time period
         may be degraded. It is strongly recommended to confirm solderability before using Products of which storage time is
         exceeding the recommended storage time period.
    3.   Store / transport cartons in the correct direction, which is indicated on a carton with a symbol. Otherwise bent leads
         may occur due to excessive stress applied when dropping of a carton.
    4.   Use Products within the specified time after opening a humidity barrier bag. Baking is required before using Products of
         which storage time is exceeding the recommended storage time period.
Precaution for Product Label
    A two-dimensional barcode printed on ROHM Products label is for ROHM’s internal use only.
Precaution for Disposition
    When disposing Products please dispose them properly using an authorized industry waste company.
Precaution for Foreign Exchange and Foreign Trade act
    Since concerned goods might be fallen under listed items of export control prescribed by Foreign exchange and Foreign
    trade act, please consult with ROHM in case of export.
Precaution Regarding Intellectual Property Rights
    1.   All information and data including but not limited to application example contained in this document is for reference
         only. ROHM does not warrant that foregoing information or data will not infringe any intellectual property rights or any
         other rights of any third party regarding such information or data.
    2.   ROHM shall not have any obligations where the claims, actions or demands arising from the combination of the
         Products with other articles such as components, circuits, systems or external equipment (including software).
    3.   No license, expressly or implied, is granted hereby under any intellectual property rights or other rights of ROHM or any
         third parties with respect to the Products or the information contained in this document. Provided, however, that ROHM
         will not assert its intellectual property rights or other rights against you or your customers to the extent necessary to
         manufacture or sell products containing the Products, subject to the terms and conditions herein.
Other Precaution
    1.   This document may not be reprinted or reproduced, in whole or in part, without prior written consent of ROHM.
    2.   The Products may not be disassembled, converted, modified, reproduced or otherwise changed without prior written
         consent of ROHM.
    3.   In no event shall you use in any way whatsoever the Products and the related technical information contained in the
         Products or this document for any military purposes, including but not limited to, the development of mass-destruction
         weapons.
    4.   The proper names of companies or products described in this document are trademarks or registered trademarks of
         ROHM, its affiliated companies or third parties.
Notice-PAA-E                                                                                                              Rev.003
© 2015 ROHM Co., Ltd. All rights reserved.


                                                                                                                    Datasheet
General Precaution
    1. Before you use our Pro ducts, you are requested to care fully read this document and fully understand its contents.
        ROHM shall n ot be in an y way responsible or liabl e for fa ilure, malfunction or acci dent arising from the use of a ny
        ROHM’s Products against warning, caution or note contained in this document.
    2. All information contained in this docume nt is current as of the issuing date and subj ect to change without any prior
        notice. Before purchasing or using ROHM’s Products, please confirm the la test information with a ROHM sale s
        representative.
    3.  The information contained in this doc ument is provi ded on an “as is” basis and ROHM does not warrant that all
        information contained in this document is accurate an d/or error-free. ROHM shall not be in an y way responsible or
        liable for an y damages, expenses or losses incurred b y you or third parties resulting from inaccur acy or errors of or
        concerning such information.
Notice – WE                                                                                                             Rev.001
© 2015 ROHM Co., Ltd. All rights reserved.


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
ROHM Semiconductor:
 BU94502AMUV-E2 BU94501AMUV-E2 BU94502AKS2-E2 BU94501AKS2-E2
