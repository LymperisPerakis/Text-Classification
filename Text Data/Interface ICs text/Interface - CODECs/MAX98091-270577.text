                                                                                                                       EVALUATION KIT AVAILABLE
MAX98091                                                                     Ultra-Low Power Stereo Audio Codec
General Description                                                              Features and Benefits
The MAX98091 is a fully integrated audio codec whose                             ●     102dB DR Stereo DAC to HP
high-performance, ultra-low power consumption and                                ●     4.1mW Stereo Playback Power Consumption
small footprint make it ideal for portable applications.                         ●     99dB DR Stereo ADC
The device features a highly flexible input scheme with                          ●     4.5mW Stereo Record Power Consumption
six input pins that can be configured as analog or digital
                                                                                 ●     3 Stereo Single-Ended/Differential Analog
microphone inputs, differential or single-ended line inputs,
                                                                                       Microphone/Line Inputs
or as full-scale direct differential inputs. Analog inputs can
be routed to the record path ADC or directly to any analog                       ●     Two PDM Digital Microphone Inputs
output mixer.                                                                    ●     Master Clock Frequencies from 256 x fS to 60MHz
The device accepts master clock frequencies of either                            ●     I2S/LJ/RJ/TDM Digital Audio Interface
256 x fS or from 10MHz to 60MHz. The digital audio inter-                        ●     FlexSound Technology Signal Processing
face supports master or slave mode operation, sample                                   • Record Path Biquad Filter
rates from 8kHz to 96kHz, and standard PCM formats                                     • Playback Path 7-Band Parametric EQ
such as I2S, left/right-justified, and TDM.                                            • Playback Path Automatic Level Control
                                                                                       • Digital Filtering and Gain/Level Control
The record/playback paths feature FlexSound® technology
                                                                                 ●     Stereo Low EMI Class D Speaker Amplifiers
DSP. This includes digital gain and filtering, a biquad filter
                                                                                       • 3.2W/Channel (RL = 4Ω, VSPKVDD = 5V)
(record), dynamic range control (playback), and a seven                                • 1.8W/Channel (RL = 8Ω, VSPKVDD = 5V)
band parametric equalizer (playback) that can improve loud-
speaker performance by optimizing the frequency response.                        ●     Stereo DirectDrive Class H Headphone Amplifier
                                                                                       Jack Detection and Identification
The stereo Class D speaker amplifier provides efficient
                                                                                 ●     Differential Receiver Amplifier/Stereo Line Output
amplification, features low radiated emissions, supports
filterless operation, and can drive both 4Ω and 8Ω loads.                        ●     Extensive Click-and-Pop Reduction Circuitry
The DirectDrive® stereo Class H headphone ampli-                                 ●     RF Immune Analog Inputs and Outputs
fier provides a ground-referenced output eliminating the                         ●     Programmable Microphone Bias
need for large DC-blocking capacitors. The device also                           ●     I2C Control Interface
includes a differential receiver (earpiece) amplifier that
                                                                                 ●     56-Bump 0.4mm WLP and 48-Pin
can be reconfigured as a stereo single-ended line output.
                                                                                       6mmx6mmx0.75mm TQFN Packages
Simplified Block Diagram
                                                       BATTERY 1.8V 1.2V          I2S/TDM           I2C
                         OR          STEREO DIGITAL                                                            STEREO LINE OUTPUT
               DIGITAL           1   MICROPHONE 1                                                              CLASS AB AMPLIFIER
            MICROPHONE                                      POWER             DIGITAL AUDIO       CONTROL        (SINGLE ENDED)   LINE OUTPUT
                                 2   STEREO DIGITAL       MANAGEMENT            INTERFACE        REGISTERS
                                                                                                                        OR             OR
                 OR                  MICROPHONE 2                                                                 SPEAKER LEFT
         ANALOG                                                                                                 CLASS D AMPLIFIER
       MICROPHONE LINE INPUT                                                                                      (DIFFERENTIAL)    RECEIVER/
                                     MICROPHONE 1                           FLEXSOUND DSP                                           EARPIECE
                                      PREAMP/PGA                     • DIGITAL BIQUAD FILTER
                 OR              3   (DIFFERENTIAL)                    (RECORD)                                   SPEAKER LEFT
                                 4                                   • 7-BAND PARAMETRIC                        CLASS D AMPLIFIER
         ANALOG                      MICROPHONE 2                                                                 (DIFFERENTIAL)
                     LINE INPUT                                        EQUALIZER (PLAYBACK)
       MICROPHONE                     PREAMP/PGA       STEREO                                       STEREO                           SPEAKER
                                                                     • DYNAMIC RANGE CONTROL
                                     (DIFFERENTIAL)      ADC                                          DAC                           LEFT/RIGHT
                                                                       (PLAYBACK)                                SPEAKER RIGHT
                                                                     • DIGITAL FILTERING                        CLASS D AMPLIFIER
                         OR         LINE INPUT A PGA
               DIGITAL           5                                   • DIGITAL GAIN/LEVEL                         (DIFFERENTIAL)
                                   (DIFFERENTIAL OR
            MICROPHONE                                                 CONTROL
                                 6   SINGLE-ENDED)
                 OR                                                                                            STEREO HEADPHONE
                                    LINE INPUT B PGA
         ANALOG                                                                                                 CLASS H AMPLIFIER
                                   (DIFFERENTIAL OR
       MICROPHONE LINE INPUT                                                                                     (SINGLE-ENDED)
                                     SINGLE-ENDED)
                                                                                                                                   HEADPHONES
                  OR
                                    JACK DETECTION
                                                                          MAX98091                                                      OR
                                                                                                                   CHARGE PUMP       HEADSET
      3-POLE (TRS) 4-POLE (TRRS)
For related parts and recommended products to use with this part, refer
to www.maximintegrated.com/MAX98091.related.
Ordering Information appears at end of data sheet.
19-6700; Rev 2; 11/14


MAX98091                                                                                    Ultra-Low Power Stereo Audio Codec
                                                         TABLE OF CONTENTS
General Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Features and Benefits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Simplified Block Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
Absolute Maximum Ratings  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
Package Thermal Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
Electrical Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11
Digital Filter Specifications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21
Digital Input/Output Characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
Input Clock Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27
Digital Audio Interface Timing Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
I2C Timing Characteristics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Digital Microphone Timing Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
Quiescent Power Consumption . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32
Typical Operating Characteristics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37
Bump/Pin Configurations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68
Bump/Pin Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 70
Detailed Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72
Device I2C Register Map  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72
Software Reset . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
Power and Performance Management . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
   Device Performance Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  81
   Device Enable Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  83
Audio Input Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85
   Analog Microphone Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  86
       Analog Microphone Preamplifier and PGA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  87
       Analog Microphone Bias Voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  88
   Digital Microphone Inputs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  88
       Digital Microphone Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  88
       Secondary Record Path Sample Rate Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  90
       Digital Microphone Frequency Compensation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92
   Analog Line Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95
       Analog Line Input Mixers  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  95
       Analog Line Input PGAs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  96
   Analog Input PGA to Analog Output Mixer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98
   Analog Full-Scale Direct to ADC Mixer Inputs  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  98
www.maximintegrated.com                                                                                                                              Maxim Integrated │ 2


MAX98091                                                                                  Ultra-Low Power Stereo Audio Codec
                                        TABLE OF CONTENTS (continued)
Audio Record Path  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99
   Analog-to-Digital Converter (ADC)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  100
       ADC Functional Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101
       ADC Input Mixer Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101
   Record Path FlexSound DSP  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101
       Record Path Digital Filters  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  101
       Record Path Sidetone . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  107
       Record Path Digital Gain and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  108
Digital Audio Interface (DAI) Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110
   DAI Clock Control and Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111
   Master Mode Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111
       Quick Configuration Mode  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
       Exact Integer Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114
       Manual Ratio Mode . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
   Slave Mode Clock Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
   DAI Digital Audio Data Path Control and Routing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117
   DAI Digital Audio Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  120
       TDM Mode Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  123
Audio Playback Path . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126
   Playback Path FlexSound DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  126
       Playback Path Digital Gain and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  126
       Playback Path 7-Band Parametric Equalizer  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  128
       Playback Path Dynamic Range Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  131
       Playback Path Digital Filters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135
   Digital-to-Analog Converter (DAC) Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135
Analog Audio Output Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138
   Analog Class AB Configurable Receiver/Line Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  139
       Receiver/Earpiece Mixer and Gain Control  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  139
       Line Output Mixer and Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
   Analog Class D Speaker Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  143
       Speaker Output Mixer and Gain Control  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  144
       Efficient Class D Speaker Output Driver  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  146
   Analog Class-H Headphone Output  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  146
       Headphone Output Mixer and Gain Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  147
       Headphone Ground Sense . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  150
       DirectDrive Headphone Amplifier . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
       Class H Amplifier Charge Pump . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
   Click-and-Pop Reduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  153
www.maximintegrated.com                                                                                                                            Maxim Integrated │ 3


MAX98091                                                                                      Ultra-Low Power Stereo Audio Codec
                                            TABLE OF CONTENTS (continued)
   Jack Detection Internal Comparators  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  156
   Jack Detection Programmable Debounce . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  156
   Jack Detection Interrupt Generation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  158
   Operation with an Internal Pullup Resistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  158
   Operation with an External Pullup Resistance  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  158
   Accessory Button Detection  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  160
   Jack Detection with Internal Analog Microphones  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  160
Quick Setup Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
Device Status Flags  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
   Status Flag Masking  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  166
Device Revision Identification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166
I2C Serial Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167
   Bit Transfer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  167
   START and STOP Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  167
   Early STOP Conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  167
   Slave Address  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  167
   Acknowledge . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  168
   Write Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  168
   Read Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  169
Applications Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 170
   Typical Application Circuits  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  170
   Startup/Shutdown Register Sequencing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  172
   External Supply Sequencing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
   Component Selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
       AC-Coupling Capacitors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
       Charge-Pump Capacitor Selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
   Filterless Class D Speaker Operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
       EMI Considerations and Optional Ferrite Bead Filter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174
   RF Susceptibility  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174
   Supply Bypassing, Layout, and Grounding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  175
   Recommended PCB Routing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  175
   Unused Pins . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  176
Ordering Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177
Chip Information  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177
Package Information . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 177
Revision History  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 178
www.maximintegrated.com                                                                                                                                 Maxim Integrated │ 4


MAX98091                                                                          Ultra-Low Power Stereo Audio Codec
                                                    LIST OF FIGURES
Figure 1. I2S Audio Interface Timing Diagrams (TDM = 0) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Figure 2. TDM Audio Interface Short Mode Timing Diagram (TDM = 1, BCI = 1) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29
Figure 3. I2C Interface Timing Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30
Figure 4. Digital Microphone Timing Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31
Figure 5. Analog Audio Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 85
Figure 6. Analog Microphone Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 86
Figure 7. Digital Microphone Input Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 89
Figure 8. Secondary Record Path Sample Rate Division . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91
Figure 9. Digital Microphone Compensation Filter Frequency Response  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92
Figure 10. Analog Line Input Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95
Figure 11. Analog Line Input External Gain Configurations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96
Figure 12. Analog Direct to ADC Mixer Input Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98
Figure 13. Record Path Block Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 99
Figure 14. Record Path ADC Section . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100
Figure 15. Record Path FlexSound Technology DSP Block . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 103
Figure 16. Simplified Digital Audio Interface Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110
Figure 17. DAI Clock Control and Configuration Section . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  111
Figure 18. DAI Digital Data Path Configuration  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 117
Figure 19. Digital Audio Interface (DAI) Data Path Configurations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 118
Figure 20. DAI Timing for I2S Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121
Figure 21. DAI Timing for Left Justified Data Formats . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 121
Figure 22. DAI Timing for Right Justified Data Formats . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122
Figure 23. DAI Timing for TDM Data Format . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125
Figure 24. Playback Path Block Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 126
Figure 25. Playback Path Sidetone and Level Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127
Figure 26. Playback Path DSP . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 128
Figure 27. Dynamic Range Compression and Expansion  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131
Figure 28. DRC Enable and Make-Up Gain . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131
Figure 29. DRC Compression Ratio and Threshold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132
Figure 30. DRC Expansion Ratio and Threshold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 132
Figure 31. DRC Attack and Release Time Waveforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 133
Figure 32. Playback Path Digital-to-Analog Converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 137
Figure 33. Analog Audio Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138
Figure 34. Receiver Output Functional Diagram  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 139
www.maximintegrated.com                                                                                                                    Maxim Integrated │ 5


MAX98091                                                                        Ultra-Low Power Stereo Audio Codec
                                     LIST OF FIGURES (continued)
Figure 35. Stereo Single-Ended Line Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140
Figure 36. Class D Speaker Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 143
Figure 37. DirectDrive Headphone Output Functional Diagram . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 146
Figure 38. Reduced Power DAC Playback to Headphone Output Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . 148
Figure 39. Headphone Output Ground Sense Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 150
Figure 40. Conventional vs. DirectDrive Headphone Output Bias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
Figure 41. Class H Amplifier Charge Pump Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 152
Figure 42. Class H Amplifier Supply Range Transitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 153
Figure 43. Zero-Crossing Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 153
Figure 44. Block Diagram and Typical Application Circuit for Jack Detection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 155
Figure 45. Jack Detection Cases with Internal Pullup Resistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 157
Figure 46. Jack Detection Operation with External Pullup Resistance  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 159
Figure 47. Jack Detection with Internal Analog Microphones . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 160
Figure 48. START, STOP, and REPEATED START Conditions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167
Figure 49. Acknowledge Timing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 168
Figure 50. Writing One Byte of Data to the MAX98091 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 168
Figure 51. Writing n-Bytes of Data to the MAX98091  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 168
Figure 52. Reading One Byte of Data from the MAX98091 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 169
Figure 53. Reading n-Bytes of Data from the MAX98091 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 169
Figure 54. Typical Application Circuit with Analog Microphone Inputs and Receiver Output  . . . . . . . . . . . . . . . . . . 170
Figure 55. Typical Application Circuit with Digital Microphone Input and Stereo Line Outputs . . . . . . . . . . . . . . . . . 171
Figure 56. Optional Class D Ferrite Bead EMI Filter  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174
Figure 57. Optional Class H Output RFI Filter  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 174
Figure 58. PCB Breakout Routing Example for WLP Package  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 175
www.maximintegrated.com                                                                                                                   Maxim Integrated │ 6


MAX98091                                                                            Ultra-Low Power Stereo Audio Codec
                                                        LIST OF TABLES
Table 1. MAX98091 Control Register Map . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73
Table 2. Software Reset Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
Table 3. Bias Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81
Table 4. DAC and Headphone Performance Mode Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82
Table 5. ADC Performance Mode Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82
Table 6. Device Shutdown Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83
Table 7. Input Enable Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 83
Table 8. Output Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84
Table 9. Microphone 1 Enable and Level Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87
Table 10. Microphone 2 Enable and Level Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 87
Table 11. Microphone Bias Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88
Table 12. Digital Microphone Clocks for Commonly Used Master Clocks Settings . . . . . . . . . . . . . . . . . . . . . . . . . . . 89
Table 13. Digital Microphone Enable  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 90
Table 14. Secondary Record Path Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 91
Table 15. Digital Microphone Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92
Table 16. Recommended Compensation Filter Settings for fPCLK = 11.2896MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . 93
Table 17. Recommended Compensation Filter Settings for fPCLK = 12MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93
Table 18. Recommended Compensation Filter Settings for fPCLK = 12.288MHz  . . . . . . . . . . . . . . . . . . . . . . . . . . . 93
Table 19. Recommended Compensation Filter Settings for f MCLK = 13MHz/26MHz  . . . . . . . . . . . . . . . . . . . . . . . . 94
Table 20. Recommended Compensation Filter Settings for f MCLK = 19.2MHz . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94
Table 21. Recommended Compensation Filter Settings for f MCLK = 256 x fS . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94
Table 22. Line Input Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95
Table 23. External Gain Mode Series Resistance Values . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 96
Table 24. Line Input Level Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97
Table 25. Input Mode and Source Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97
Table 26. Left ADC Mixer Input Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102
Table 27. Right ADC Mixer Input Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102
Table 28. DSP Filter Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104
Table 29. DSP Biquad Filter Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 105
Table 30. Primary Record Path Biquad Digital Preamplifier Level Configuration Register . . . . . . . . . . . . . . . . . . . . 106
Table 31. Secondary Record Path Biquad Digital Preamplifier Level Configuration Register . . . . . . . . . . . . . . . . . . 106
Table 32. Primary Record Path Biquad Filter Coefficients . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107
www.maximintegrated.com                                                                                                                       Maxim Integrated │ 7


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
                                      LIST OF TABLES (continued)
Table 33. Secondary Record Path Biquad Filter Coefficients  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107
Table 34. Record Path Sidetone Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 107
Table 35. Primary Record Path Left Channel Digital Gain Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . 108
Table 36. Primary Record Path Right Channel Digital Gain Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . 108
Table 37. Secondary Record Path Left Channel Digital Digital Gain Configuration Register  . . . . . . . . . . . . . . . . . . 109
Table 38. Secondary Record Path Right Channel Digital Digital Gain Configuration Register . . . . . . . . . . . . . . . . . 109
Table 39. System Master Clock (MCLK) Prescaler Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112
Table 40. Master Mode Clock Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112
Table 41. Master Clock Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
Table 42. Sample Rate Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 113
Table 43. Quick Configuration Mode Lookup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114
Table 44. Clock Mode Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114
Table 45. Manual Clock Ratio Configuration Register (NI MSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 115
Table 46. Manual Clock Ratio Configuration Register (NI LSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
Table 47. Manual Clock Ratio Configuration Register (MI MSB)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
Table 48. Manual Clock Ratio Configuration Register (MI MSB) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 116
Table 49. Digital Audio Interface (DAI) Data Path Configurations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 119
Table 50. Digital Audio Interface (DAI) Input/Output Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 119
Table 51. Digital Audio Interface (DAI) Format Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120
Table 52. Digital Audio Interface (DAI) TDM Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 123
Table 53. Record Path TDM Slot Configuration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124
Table 54. Playback Path Digital Audio Interface (DAI) TDM Format Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 124
Table 55. Playback Gain and Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 127
Table 56. DSP Biquad Filter Enable Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129
Table 57. Parametric Equalizer Playback Level Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129
Table 58. Parametric Equalizer Band N (1–7) Biquad Filter Coefficient Registers  . . . . . . . . . . . . . . . . . . . . . . . . . . 130
Table 59. Dynamic Range Control (DRC) Timing Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134
Table 60. Dynamic Range Control (DRC) Gain Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134
Table 61. Dynamic Range Control (DRC) Compressor Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134
Table 62. Dynamic Range Control (DRC) Expander Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 135
Table 63. DSP Filter Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 136
Table 64. Receiver and Left Line Output Mixer Source Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140
Table 65. Receiver and Left Line Output Mixer Gain Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
Table 66. Receiver and Left Line Output Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 141
Table 67. Right Line Output Mixer Source Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 142
www.maximintegrated.com                                                                                                               Maxim Integrated │ 8


MAX98091                                                                           Ultra-Low Power Stereo Audio Codec
                                        LIST OF TABLES (continued)
Table 68. Right Line Output Mixer Gain Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 142
Table 69. Right Line Output Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 142
Table 70. Left Speaker Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144
Table 71. Right Speaker Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144
Table 72. Speaker Mixer Gain Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144
Table 73. Left Speaker Amplifier Volume Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 145
Table 74. Right Speaker Amplifier Volume Control Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 145
Table 75. Left Headphone Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147
Table 76. Right Headphone Mixer Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147
Table 77. Headphone Mixer Control and Gain Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 147
Table 78. Left Headphone Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 149
Table 79. Right Headphone Amplifier Volume Control Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 149
Table 80. Charge-Pump Operating Ranges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 151
Table 81. Zero-Crossing Detection and Volume Smoothing Configuration Register . . . . . . . . . . . . . . . . . . . . . . . . . 154
Table 82. Jack Detection Status Results  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 156
Table 83. Jack Detect Configuration Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161
Table 84. Jack Status Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 161
Table 85. Digital Audio Interface (DAI) Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
Table 86. Playback Path Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 162
Table 87. Analog Microphone/Direct Input to Record Path Quick Setup Register . . . . . . . . . . . . . . . . . . . . . . . . . . . 163
Table 88. Line Input to Record Path Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 163
Table 89. Analog Microphone Input to Analog Output Quick Setup Register  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164
Table 90. Line Input to Analog Output Quick Setup Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 164
Table 91. Device Status Interrupt Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 165
Table 92. Device Status Interrupt Mask Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166
Table 93. Revision ID Number Register . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166
Table 94. Device I2C Slave Address  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 167
Table 95. Detailed Device Startup Sequence . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172
Table 96. Register Changes that Require SHDN = 0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 172
Table 97. Power-On Reset Voltage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 173
Table 98. Unused Pin Connections . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .176
www.maximintegrated.com                                                                                                                      Maxim Integrated │ 9


MAX98091                                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Functional Diagram
                   SCL        SDA            IRQ             AVDD        REF         BIAS                                               SDOUT          DVDD           DVDDIO           SDIN                   MCLK                          LRCLK                      BCLK
                                                                BIAS CONTROL
                     I2C INTERFACE                                                                                                             DIGITAL AUDIO INTERFACE
                                                               AND GENERATION
                                                                                                                                 DATA OUTPUT           SDOEN
                                                                                            MAX98091                               ENABLE              HIZOFF
                                                                                                                                                                     LTEN
                                                                                                                                                                                                                                                     MAS
                                                          SECONDARY RECORD PATH                                                                                                LOOP-
                                                                                                                                         SLOT_REC_[1:0]       SLOT_[1:0]     THROUGH                                                                 BCI            BIT
                                                                                                                                                                                                       PRESCALED                      FRAME
                                                                                                                                                                                MUX                   CLOCK (PCLK)                    CLOCK           WCI         CLOCK
                                          DMIC2L                               LEFT                                                                                                                   GENERATION
                                                             LEFT                                 LEFT                                                  TDM, FSW
                                        CHANNEL                              BIQUAD                                                                                                                                                                USE_MI
                                                          FILTERS                                LEVEL                           OUTPUT SHIFT         SLOTDLY[3:0]          INPUT SHIFT
                                          ENABLE                              FILTER                                                                                                                                   PSCLK[1:0]                  NI[14:0]
                                                                                                                                  REGISTER           RJ, DLY, WS[1:0]        REGISTER
                                                                                                                                                                                                                                                   MI[14:0]
                                        DIGMIC2L                            DMIC2BQEN                                                LOOP-                                  DATA INPUT
                                                                             AV2BQ[3:0]         AV2LG[2:0]                                          LBEN       SDIEN                                                                CLOCK GENERATION AND DISTRIBUTION
                                                        DMIC2_MODE                               AV2L[3:0]                        BACK MUX                                    ENABLE
                                                                           DMIC2_B0[23:0]
                                                         DMIC2_HPF,        DMIC2_B1[23:0]
                                                              DHF          DMIC2_B2[23:0]       AV2RG[2:0]                                                                                                                           FREQ[3:0]    BSEL[2:0]
                                                                           DMIC2_A1[23:0]        AV2R[3:0]
                                        DIGMIC2R                           DMIC2_A2[23:0]                                                                                    PLAYBACK
                                                                                                                                                            DMONO
                                                                                                                                                                           INPUT MIXER                                         DAI: CLOCK CONTROL
                                                                                                                                                DAI: DATA PATH                                                                  AND CONFIGURATION
                                          DMIC2R                              RIGHT
                                                            RIGHT                                RIGHT
                                        CHANNEL                              BIQUAD
                                                          FILTERS                                LEVEL
                                          ENABLE                              FILTER
                                                                                                                                                                                                TO DIGITAL                                         TO RECORD AND
                                                                                                                                                                                             MIC CONTROL                                          PLAYBACK PATHS
                         ADLEN                                                 PRIMARY RECORD PATH
                                                                                                                                                                                                                                                                      DACLEN
                                                                                                                                                                                                                             LEFT PLAYBACK PATH
                          ADC                       DIGITAL                              LEFT                                 LEFT                        LEFT
                                                                       LEFT                                 LEFT                                                                                           LEFT 7-BAND        LEFT/RIGHT DRC:
                          LEFT                        MIC                               BIQUAD                               LEVEL                        GAIN                   LEFT        LEFT                                                      LEFT               DAC
                                                                     FILTERS                            SIDETONE                                                                                           PARAMETRIC             DYNAMIC
                                                     LEFT                               FILTER                                                                                SIDETONE      LEVEL                                                    FILTERS            LEFT
                                                                                                                                                                                                            EQUALIZER         RANGE CONTROL
                                                     MUX
                                                                                       RECBQEN                               AVLG[2:0]                                                                     EQ_BANDEN               DRCEN
                         ADCHP                                                                                                AVL[3:0]                                                                       DVEQ[3:0]            DRCG[4:0]
                                                                                       AVBQ[3:0]
                        OSR128                     DIGMICL            MODE           REC_B0[23:0]                                                         DVG[1:0]                                            EQCLP              DRCRLS[2:0]
                                                                                                                                                                                               DVM         B0_EQ_[23:0]          DRCATK[2:0]          MODE               DACHP
                       ADCDITHER                                       AHPF          REC_B1[23:0]        DSTS[1:0]           AVRG[2:0]                                         DSTS[1:0]
                                                                                                                                                                                              DV[3:0]      B1_EQ_[23:0]         DRCCMP[2:0]            DHPF          PERFMODE
                                                                       DHF           REC_B2[23:0]                             AVR[3:0]                                                                     B2_EQ_[23:0]         DRCTHC[4:0]
                                                   DIGMICR
                                                                                     REC_A1[23:0]                                                                                                          A1_EQ_[23:0]         DRCEXP[2:0]
                                                                                     REC_A2[23:0]                                                                                                          A2_EQ_[23:0]          DRCHE[4:0]
                          ADC
                                                    DIGITAL                                                                  RIGHT                       RIGHT
                        RIGHT                                                            RIGHT                                                                                                            RIGHT 7-BAND           RIGHT ALC:
                                                      MIC             RIGHT                                RIGHT             LEVEL                        GAIN                  RIGHT       RIGHT                                                     RIGHT               DAC
                                                                                        BIQUAD                                                                                                            PARAMETRIC             AUTOMATIC
                                                     RIGHT           FILTERS                            SIDETONE                                                              SIDETONE      LEVEL                                                    FILTERS           RIGHT
                                                                                        FILTER                                                                                                              EQUALIZER         LEVEL CONTROL
                                                     MUX
                                                                                RIGHT RECORD PATH                                           L/R ST                                                                          RIGHT PLAYBACK PATH
                         ADREN                                                                           SIDETONE TO                        LEVEL                         SIDETONE FROM                                                                               DACREN
                                                                                                      PLAYBACK PATH                                                       PLAYBACK PATH
                                                                                                                                            DVST[4:0]                                                                        FLEXSOUND TECHNOLOGY DSP
                                                                                                                                                                                                                                                         RCVLVOL[4:0]
                                                                                                                                                                                                                                                             RCVLM
                                                                                                                                                                                                                                                            RCVLEN
                                                                              DMICCLK[2:0]                                                                                                                                      MIXSPL[5:0]
         JACKSNS      JACK                                MBVSEL[1:0]                              SRDIV[2:0]                                                                                           DACL
                                                                            DMIC_COMP[3:0]                                                                                                                                     MIXSPLG[1:0]
                   DETECTION                                                                      ZEROPAD                                                                                              DACR
                                            MBEN                            DMIC_FREQ[1:0]                                                                                                                      RCV/
                                                                                                                              ANALOG                   DAC TO                                                           -12dB TO 0dB                                                          RCVP/
                                                                                                                                                                                                        MIC 1   LINE                                                     -62dB TO 8dB
                                                         MICROPHONE                                                            INPUTS                 ANALOG                                                    OUT                                        LINE OUT                           LOUTL
          MICBIAS                                              BIAS                                                                                                                                     MIC 2                                             LEFT PGA
                                                                                                     PCLK                      TO ADC                OUTPUTS                                                    LEFT
                                                          GENERATOR               DIGITAL                                                                                                             LINE A MIXER
                                                                              MICROPHONE       DMD2
                                                                                                                                                                                                      LINE B                                                                    ZDEN
                                                                                CONTROL                                                                                                                                                 LINMOD                                  VS2EN
                                                                                               DMD1                                                                                                                                                                             VSEN
                                                                                                                                                                                                        DACL
                                         EXTMIC[0]       PA1EN[1:0]          PGAM1[4:0]                                                                                                                                                                                                       RCVN/
                                                                                                                                                                                                                                         RCV/
                                                                                                                                                                                                       DACR     RCV/                                                     -62dB TO 8dB         LOUTR
                                                                                                                                                                                                                                          LINE             LINE OUT
                                                                                                                                                                                                        MIC 1   LINE                      OUT             RIGHT PGA
                                IN1-IN2                                                                                                                                                                         OUT       -12dB TO 0dB
                                                                                                                                                                                                        MIC 2                            MUX
                                            MIC 1                                                                                                                                                              RIGHT
                                IN5-IN6    INPUT             MIC 1              MIC 1
                                                           PREAMP                PGA                                                                                                                  LINE A MIXER
                                            MUX
                                                                   0dB                 0dB TO 20dB                                                                                                    LINE B                    MIXSPL[5:0]              RCVRVOL[4:0]
         IN1/DMD1                                                  10dB                                                                                                                                                        MIXSPLG[1:0]                  RCVRM
         IN2/DMC1                                                  30dB                                                                                                                                                                                     RCVREN
                                                                               ZDENB                                                                                                                    DACL                    MIXSPL[5:0]
                                                                                                                                                                                                       DACR                    MIXSPLG[1:0]                  SPVOLL[4:0]
                               IN3-IN4                                                                                                                                                                                                                                                        SPKLGND
                                                                                                                                                                                                        MIC 1   SPK                                             SPLM
                                            MIC 2                                                                                                                                                                                                              SPLEN
                                                             MIC 2              MIC 2                                                                                                                           LEFT
                               IN5-IN6     INPUT                                                                                                                                                        MIC 2
                                                           PREAMP                PGA                                                                                                                           MIXER     -12dB TO 0dB              -48dB TO 14dB                              SPKLP
                                            MUX                                                                                                                                                       LINE A
                                                                   0dB                 0dB TO 20dB                                                                                                                                       SPEAKER                                              SPKLN
                                                                                                                                                                                                                                                                   6dB
                                                                   10dB                                                                                                                               LINE B                             LEFT PGA
                                                                   30dB
                                         EXTMIC[1]       PA2EN[1:0]          PGAM2[4:0]                                   MIXADL[6:0]
                                                                                                                                                                                                                                                              ZDEN
                                                                                                                                                                                                                                                                                              SPKVDD
                                                                                                                                                                                                                                                              VS2EN
               IN3                                                                                                 IN1-IN2
                                          IN1SEEN                                                                                                                                                                                                             VSEN
               IN4                                                                                                 IN3-IN4                                                                              DACL
                                          IN3SEEN
                                                                                                                                                                                                                                                   -48dB TO 14dB                              SPKRP
                                          IN5SEEN                                                                  IN5-IN6                                                                             DACR
                                                           LINEAEN                                                           ADC                                                                                         -12dB TO 0dB    SPEAKER                   6dB                        SPKRN
                                          IN34DIFF                                                                                                                                                                                      RIGHT PGA
                                                          EXTBUFA                                                   LINE A   LEFT                                                                       MIC 1   SPK
                                                                                                                                                                                                               RIGHT
                                                                                                                    LINE B MIXER                                                                        MIC 2
                                                                                                                                                                                                               MIXER                                             SPKSLAVE
                                   IN1                                                                               MIC 1                                                                            LINE A
                                   IN3     LINE A                                                                                                                                                                              MIXSPL[5:0]                   SPVOLR[4:0]
                                                                                                                     MIC 2                                                                            LINE B                                                                                  SPKRGND
                                   IN5      INPUT           LINE A                                                                                                                                                            MIXSPLG[1:0]                      SPLM
                                           MIXER              PGA                                                                                                                                                                                              SPREN
                               IN3-IN4
                                                                    -6dB                                           IN1-IN2
                                                                    TO 20dB                                        IN3-IN4                                                                                                                               HPVOLL[4:0]
                                                                                                                                                                                                        DACL                                                 HPLM
         IN5/DMD2                                       LINAPGA[2:0]                                               IN5-IN6   ADC                                                                                                MIXHPL[5:0]                 HPLEN
                                         MIXG135                                                                                                                                                       DACR                    MIXHPLG[1:0]
                                                                                                                    LINE A  RIGHT
         IN6/DMC2                                                                                                                                                                                       MIC 1
                                         MIXG246                                                                    LINE B MIXER                                                                                 HP
                                                                                                                                                                                                                         -12dB TO 0dB
                                                        LINBPGA[2:0]                                                                                                                                    MIC 2   LEFT
                                                                                                                     MIC 1                                                                                     MIXER                       HP
                                                                                                                                                                                                      LINE A                                                             -67dB TO 3dB         HPL
                                                                                                                     MIC 2                                                                                                               LEFT           HEADPHONE
                                   IN2                                                                                                                                                                                                                    LEFT PGA
                                                                                                                                                                                                      LINE B                             MUX
                                   IN4     LINE B
                                   IN6      INPUT           LINE B
                                                              PGA
                               IN6-IN5     MIXER                                                                          MIXADR[6:0]
                                                                    -6dB                                                                                                                                                              MIXHPLSEL              ZDEN
                                                                                                                                                                                                                                                                                              HPSNS
                                                                    TO 20dB                                                                                                                                                                                 VS2EN
                                                                                                                                                                                                                                      MIXHPRSEL              VSEN
                                                           LINEBEN
                                          IN2SEEN         EXTBUFB                                                                          ANALOG INPUT                                                 DACL
                                          IN4SEEN                                                                                       TO ANALOG OUTPUT                                               DACR                                HP                           -67dB TO 3dB
                                          IN6SEEN                                                                                                                                                                                                       HEADPHONE                             HPR
                                                                                                                                                                                                                                        RIGHT
                                          IN65DIFF                                                                                                                                                      MIC 1    HP                                      RIGHT PGA
                                                                                                                                                                                                                         -12dB TO 0dB    MUX
                                                                                                                                                                                                        MIC 2  RIGHT
                                                                                                                                                                                                               MIXER
                                                                                                                                                                                                      LINE A
                                                                                                                                                                                                      LINE B                    MIXHPR[5:0]              HPVOLR[4:0]           HEADPHONE      HPVDD
                                                                                                                                                                                                                               MIXHPRG[1:0]                  HPRM              DIRECTDRIVE
                                                                                                                                                                                                                                                            HPREN                             HPGND
                                                                                                                                                                                                                                                                              CHARGE PUMP
                                                                                                                                       AGND     DGND                                                                                                                       CPVSS CPVDD C1N C1P
www.maximintegrated.com                                                                                                                                                                                                                                                          Maxim Integrated │ 10


MAX98091                                                                                                  Ultra-Low Power Stereo Audio Codec
Absolute Maximum Ratings
(Voltages with respect to AGND, unless otherwise noted.)                                              HPSNS.............................(VHPGND - 0.3V) to (VHPGND + 0.3V)
AVDD, DVDD, HPVDD..........................................-0.3V to +2.2V                             HPL, HPR..........................(VCPVSS - 0.3V) to (VCPVDD + 0.3V)
SPKVDD, DVDDIO................................................-0.3V to +6.0V                          RCVP/LOUTL..............(VSPKLGND - 0.3V) to (VSPKVDD + 0.3V)
DGND, HPGND, SPKLGND, SPKRGND..............-0.1V to +0.1V                                             RCVN/LOUTR.............(VSPKLGND - 0.3V) to (VSPKVDD + 0.3V)
CPVDD.............................(VHPGND - 0.3V) to (VHPGND + 2.2V)                                  SPKLP, SPKLN...........(VSPKLGND - 0.3V) to (VSPKVDD + 0.3V)
CPVSS.............................(VHPGND - 2.2V) to (VHPGND + 0.3V)                                  SPKRP, SPKRN......... (VSPKRGND - 0.3V) to (VSPKVDD + 0.3V)
C1N...................................(VCPVSS - 0.3V) to (VHPGND + 0.3V)                              JACKSNS..............................................................-0.3V to +6.0V
C1P................................... (VHPGND - 0.3V) to (VCPVDD + 0.3V)                             Continuous Power Dissipation (TA = +70°C)
MICBIAS............................................-0.3V to (VSPKVDD + 0.3V)                              WLP (derate 25mW/°C above +70°C)..............................1.9W
REF, BIAS............................................. -0.3V to (VAVDD + 0.3V)                            TQFN (derate 37mW/°C above +70°C)..........................2.96W
MCLK, SDIN, SDA, SCL, IRQ...............................-0.3V to +6.0V                                Operating Temperature Range............................ -40°C to +85°C
LRCLK, BCLK, SDOUT..................... -0.3V to (VDVDDIO + 0.3V)                                     Storage Temperature Range............................. -65°C to +150°C
IN1, IN2, IN3, IN4, IN5, IN6..................................-0.3V to +2.2V
Stresses beyond those listed under “Absolute Maximum Ratings” may cause permanent damage to the device. These are stress ratings only, and functional operation of the device at these
or any other conditions beyond those indicated in the operational sections of the specifications is not implied. Exposure to absolute maximum rating conditions for extended periods may affect
device reliability.
Package Thermal Characteristics (Note 1)
WLP                                                                                                   TQFN
    Junction-to-Ambient Thermal Resistance (θJA)...........40°C/W                                         Junction-to-Case Thermal Resistance (θJC)..................1°C/W
                                                                                                          Junction-to-Ambient Thermal Resistance (θJA)...........27°C/W
Note 1: Package thermal resistances were obtained using the method described in JEDEC specification JESD51-7, using a four-layer
             board. For detailed information on package thermal considerations, refer to www.maximintegrated.com/thermal-tutorial.
Electrical Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                   PARAMETER                           SYMBOL                                   CONDITIONS                                  MIN             TYP           MAX        UNITS
                POWER SUPPLY
                                                                                                      VSPKVDD                                2.8             3.7            5.5
                                                                                                      VAVDD, VHPVDD                         1.65             1.8             2
                                                                          Guaranteed by
 Supply Voltage Range                                                                                 VDVDD (WLP)                           1.08             1.2           1.98         V
                                                                          PSRR (Note 3)
                                                                                                      VDVDD (TQFN)                          1.08             1.2           1.65
                                                                                                      VDVDDIO                               1.65             1.8            3.6
                                                                          Full-duplex 8kHz Analog                                                           1.94
                                                                          mono, receiver              Speaker                                               0.73
                                                                          output                      Digital                                               0.97
                                                                          DAC playback                Analog                                                1.45             2
                                                                          48kHz stereo,
 Quiescent Supply Current (Note 4)                        IVDD                                        Speaker                                                 0           0.005        mA
                                                                          headphone
                                                                          outputs                     Digital                                               1.04            1.5
                                                                          DAC playback                Analog                                                0.91
                                                                          48kHz stereo,               Speaker                                               2.18
                                                                          speaker outputs             Digital                                               1.05
www.maximintegrated.com                                                                                                                                         Maxim Integrated │ 11


MAX98091                                                                 Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                 SYMBOL                        CONDITIONS              MIN   TYP       MAX      UNITS
 REF Voltage                                                                                     1.25                 V
                                                  BIAS from resistive division (BIAS_MODE
                                                                                                 0.90
                                                  = 0)
 BIAS Voltage                                                                                                         V
                                                  BIAS from bandgap
                                                                                                 0.78
                                                  (BIAS_MODE = 1)
                                                                           Analog                  1         10
 Shutdown Supply Current (Note 4)                 TA = +25°C               Speaker                 1          5       µA
                                                                           Digital                2.1         5
 Shutdown to Full Operation                                                                       10                 ms
 DIFFERENTIAL INPUT (ANALOG MICROPHONE) TO ADC RECORD PATH
                                                  fS = 48kHz, MODE = 1 (FIR audio),
                                                                                                  97                 dB
                                                  A-weighting filter applied
 Dynamic Range (Note 5)                  DR
                                                  fS = 8kHz, MODE = 0 (IIR voice),
                                                                                           90     96                 dB
                                                  A-weighting filter applied
                                                  AV_MICPRE = 20dB, VIN = 90mVRMS,
                                                                                                 -82        -75
                                                  f = 1kHz,
 Total Harmonic Distortion + Noise    THD+N       AV_MICPRE = 0dB, VIN = 900mVRMS,               -91                 dB
                                                  f = 1kHz
                                                  AV_MICPRE = 30dB,
                                                                                                 -73
                                                  VIN = 28.5mVRMS, f = 1kHz
 Common-Mode Rejection Ratio           CMRR       f = 217Hz, VIN_CM = 100mVP-P                    59                 dB
                                                  VAVDD = 1.65V to 2.0V,
                                                                                                  57
                                                  input referred
 Power-Supply Rejection Ratio                                                f = 217Hz            60
                                       PSRR                                                                          dB
 (Note 3)                                         VRIPPLE = 100mVP-P,
                                                                             f = 1kHz             60
                                                  input referred
                                                                             f = 10kHz            59
                                                                             MODE = 0
                                                                                                  2.2
                                                                             (voice) 8kHz
                                                  1kHz, 0dB input,           MODE = 0
                                                                                                  1.1
                                                  highpass filter disabled   (voice) 16kHz
 Path Phase Delay                                                                                                    ms
                                                  measured from analog       MODE = 1
                                                  input to digital output                         4.5
                                                                             (music) 8kHz
                                                                             MODE = 1
                                                                                                  0.8
                                                                             (music) 48kHz
www.maximintegrated.com                                                                              Maxim Integrated │ 12


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                       CONDITIONS              MIN     TYP       MAX      UNITS
 Gain Error                                        DC accuracy                                      1                  %
DIFFERENTIAL (ANALOG MICROPHONE) PREAMP and PGA
 Full-Scale Input                                 AV_MICPRE = 0dB                                   1                 VRMS
                                                                      PA_EN[1:0] = 01               0
 Microphone Preamplifier Gain       AV_MICPRE (Note 6)                PA_EN[1:0] = 10      19      20         21       dB
                                                                      PA_EN[1:0] = 11      29      30      31.25
 Microphone Level Adjust Gain                                         PGAM_[4:0] = 0x00    19      20         21
                                    AV_MICPGA (Note 6)                                                                 dB
 (PGA)                                                                PGAM_[4:0] = 0x14             0
                                                  All gain settings, measured at IN_
 MIC Input Resistance                 RIN_MIC                                              28      50                  kΩ
                                                  (measured single-ended)
MICROPHONE BIAS
                                                  ILOAD = 1mA, MBVSEL[1:0] = 00            2.1    2.2       2.29
                                                  ILOAD = 1mA, MBVSEL[1:0] = 01           2.29    2.4       2.46
 MICBIAS Output Voltage              VMICBIAS                                                                           V
                                                  ILOAD = 1mA, MBVSEL[1:0] = 10           2.46   2.57       2.69
                                                  ILOAD = 1mA, MBVSEL[1:0] = 11           2.69    2.8        2.9
                                                  ILOAD = 1mA to 2mA,
 Load Regulation                                                                                ±0.085                 mV
                                                  MBVSEL[1:0] = 00
                                                  VSPKLVDD = 2.8V to 5.5V, MBVSEL[1:0]
 Line Regulation                                                                                 ±0.01                 mV
                                                  = 00
                                                                                f = 217Hz          95
                                                  VRIPPLE (SPKLVDD) =
 Ripple Rejection                                                               f = 1kHz           97                  dB
                                                  100mVP-P
                                                                                f = 10kHz          85
                                                  A-weighted, f = 20Hz to 20kHz                   7.4                µVRMS
 Noise Voltage
                                                  f = 1kHz                                       52.3                nV/√Hz
SINGLE-ENDED (LINE) INPUT TO ADC PATH
                                                  fS = 48kHz, fMCLK = 12.288MHz, MODE =
 Dynamic Range (Note 5)                  DR                                                        98                  dB
                                                  1 (FIR audio)
 Total Harmonic Distortion + Noise    THD+N       VIN = 0.222VRMS, f = 1kHz                       -85        -80       dB
SINGLE-ENDED (LINE) INPUT PGA
                                                                                                  0.5
 Full-Scale Input                        VIN                                                                          VRMS
                                                  AV_EXTERNAL = -6dB, EXTBUF = 1                    1
www.maximintegrated.com                                                                               Maxim Integrated │ 13


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                      CONDITIONS             MIN      TYP       MAX      UNITS
                                                               PGALIN = 0x0              18       20       21.5
                                                               PGALIN = 0x1              13       14         15
                                                               PGALIN = 0x2               2        3          4
 Line Input Level Adjust Gain (PGA) AV_LINEPGA (Note 6)                                                              dB
                                                               PGALIN = 0x3              -1        0        +1
                                                               PGALIN = 0x4              -4       -3         -2
                                                               PGALIN = 0x5, 0x6, 0x7    -7       -6         -5
 Line Input Amplifier Gain          AV_LINEAMP Single-ended only                                   6                 dB
 Input Resistance                        RIN                                             14       20                 kΩ
 Feedback Resistance                  RIN_FB      TA = +25°C                             19       20         21      kΩ
DIGITAL LOOP-THROUGH: RECORD OUTPUT TO PLAYBACK INPUT PATH
                                                  fS = 48kHz, fMCLK = 12.288MHz, MODE =
 Dynamic Range (Note 5)                  DR                                                       97                 dB
                                                  1 (FIR audio)
                                                  fIN = 1kHz, fS = 48kHz, fMCLK =
 Total Harmonic Distortion + Noise    THD+N                                                      -83                 dB
                                                  12.288MHz, MODE = 1 (FIR audio)
DAC PLAYBACK PATH TO RECEIVER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR       fS = 48kHz, fMCLK = 12.288MHz                  100                 dB
                                                  f = 1kHz, POUT = 20mW,
 Total Harmonic Distortion + Noise    THD+N                                                      -68        -58      dB
                                                  RREC = 32W
 DIFFERENTIAL ANALOG INPUT TO RECEIVER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                              90       96                 dB
 Total Harmonic Distortion + Noise    THD+N                                                      -71                 dB
                                                  VSPKVDD = 2.8V to 5.5V                          80
 Power-Supply Rejection Ratio                                               f = 217Hz             77
                                       PSRR                                                                          dB
 (Note 3)                                         VRIPPLE = 100mVP-P        f = 1kHz              77
                                                                            f = 10kHz             69
 RECEIVER AMPLIFIER (Note 7)
                                                  RREC = 32W, f = 1kHz, THD < 1%, BIAS_
                                                                                                  97
                                                  MODE = 0
 Output Power                           POUT                                                                         mW
                                                  RREC = 32W, f = 1kHz, THD < 1%, BIAS_
                                                                                                  74
                                                  MODE = 1
 Full-Scale Output                                AV_RECPGA = 0dB (Note 8)                         1                VRMS
                                                                     RCVLVOL = 0x00     -63      -61       -59.5
 Receiver Volume Control (PGA)      AV_RECPGA (Notes 6 and 9)                                                        dB
                                                                     RCVLVOL = 0x1F     +7.2      +8      +8.75
www.maximintegrated.com                                                                              Maxim Integrated │ 14


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                     CONDITIONS              MIN      TYP       MAX      UNITS
                                                  +8dB to +6dB                                   0.5
                                                  +6dB to +0dB                                     1
 Volume Control Step Size                         0dB to -14dB                                     2                  dB
                                                  -14dB to -38dB                                   3
                                                  -38dB to -62dB                                   4
 Mute Attenuation                                 f = 1kHz                              85        97                  dB
 Output Offset Voltage                  VOS       AV_REC = -62dB, TA = +25°C                                 ±3      mV
                                                  Peak voltage,
                                                  A-weighted,         Into shutdown              -67
 Click-and-Pop Level                    KCP       32 samples                                                         dBV
                                                  per second,         Out of shutdown            -68
                                                  AV_REC = 0dB
                                                  No sustained        RL = 32W                   500
 Capacitive Drive Capability                                                                                          pF
                                                  oscillations        RL = ∞                     100
 DAC PLAYBACK PATH TO LINEOUT AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR       fS = 48kHz, fMCLK = 12.288MHz                  100                  dB
                                                  f = 1kHz, RLOUT = 10kW
 Total Harmonic Distortion + Noise    THD+N                                                      -86        -70       dB
                                                  (0.5VRMS output level)
 SINGLE-ENDED ANALOG INPUT TO LINE OUT AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                                       98                  dB
                                                  f = 1kHz, RLOUT = 10kW
 Total Harmonic Distortion + Noise    THD+N                                                      -86                  dB
                                                  (0.5VRMS output level)
                                                  VSPKVDD = 2.8V to 5.5V                          74
 Power-Supply Rejection Ratio                                              f = 217Hz              74
                                       PSRR                                                                           dB
 (Note 3)                                         VRIPPLE = 100mVP-P       f = 1kHz               74
                                                                           f = 10kHz              73
LINE OUT AMPLIFIER (Note 7)
 Full-Scale Output                                (Note 8)                                      0.707               VRMS
 Line Output Amplifier Gain        AV_LOUTAMP                                                     -3                  dB
www.maximintegrated.com                                                                              Maxim Integrated │ 15


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                 SYMBOL                      CONDITIONS             MIN      TYP        MAX      UNITS
 Line Output Volume                                                    RCV_VOL = 0x00   -63       -61       -59.5
                                   AV_LOUTPGA (Notes 6 and 9)                                                          dB
 Control (PGA)                                                         RCV_VOL = 0x1F   +7.2      +8       +8.75
                                                  8dB to 6dB                                      0.5
                                                  6dB to 0dB                                        1
 Volume Control Step Size                         0dB to -14dB                                      2                  dB
                                                  -14dB to -38dB                                    3
                                                  -38dB to -62dB                                    4
 Mute Attenuation                                 f = 1kHz                               85        97                  dB
                                                  No sustained          RLOUT = 1kW               500
 Capacitive Drive Capability                                                                                           pF
                                                  oscillations          RLOUT = ∞                 100
DAC PLAYBACK PATH TO SPEAKER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR                                                        91                  dB
                                                  f = 1kHz, POUT = 200mW, ZSPK = 8W +
 Total Harmonic Distortion + Noise    THD+N                                                       -70                  dB
                                                  68µH, fMCLK = 12.288MHz
                                                  SPKL to SPKR and SPKR to SPKL,
 Crosstalk                                                                                       -104                  dB
                                                  POUT = 640mW, f = 1kHz
 Output Noise                                                                                      27                µVRMS
DIFFERENTIAL ANALOG INPUT TO SPEAKER AMPLIFIER PATH
 Dynamic Range (Note 5)                  DR        Output referenced to 2VRMS                      91                  dB
                                                   f = 1kHz, POUT = 200mW,
 Total Harmonic Distortion + Noise    THD+N                                                       -70                  dB
                                                   ZSPK = 8W + 68mH
 Output Noise                                                                                      28                µVRMS
                                                   VSPKVDD= 2.8V to 5.5V                           80
 Power-Supply Rejection Ratio                                                 f = 217Hz            68
                                       PSRR                                                                            dB
 (Note 3)                                          VRIPPLE = 100mVP-P         f = 1kHz             67
                                                                              f = 10kHz            61
www.maximintegrated.com                                                                               Maxim Integrated │ 16


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                     CONDITIONS              MIN      TYP        MAX      UNITS
SPEAKER AMPLIFIER (Note 7)
                                                                     VSPKVDD = 5.0V              1450
                                                                     VSPKVDD = 4.2V              1000
                                                  f = 1kHz, THD+N
                                                  = 1%, ZSPK = 8W    VSPKVDD = 3.7V               780
                                                  + 68µH
                                                                     VSPKVDD = 3.3V               600
                                                                     VSPKVDD = 3.0V               500
 Output Power                           POUT                                                                          mW
                                                                     VSPKVDD = 5.0V              1800
                                                                     VSPKVDD = 4.2V              1250
                                                  f = 1kHz, THD+N
                                                  = 10%, ZSPK = 8W VSPKVDD = 3.7V                 970
                                                  + 68µH
                                                                     VSPKVDD = 3.3V               760
                                                                     VSPKVDD = 3.0V               620
                                                                     VSPKVDD = 5.0V              2600
                                                                     VSPKVDD = 4.2V              1800
                                                  f = 1kHz, THD+N
                                                  = 1%, ZSPK = 4W    VSPKVDD = 3.7V              1400
                                                  + 33µH
                                                                     VSPKVDD = 3.3V              1100
                                                                     VSPKVDD = 3.0V               900
 Output Power                           POUT                                                                          mW
                                                                     VSPKVDD = 5.0V              3250
                                                                     VSPKVDD = 4.2V              2250
                                                  f = 1kHz, THD+N
                                                  = 10%, ZSPK = 4W VSPKVDD = 3.7V                1700
                                                  + 33µH
                                                                     VSPKVDD = 3.3V              1350
                                                                     VSPKVDD = 3.0V              1100
 Full-Scale Output                                AV_SPK = +6dB (Note 8)                            2                VRMS
 Speaker Output Amplifier Gain      AV_SPKAMP                                                     +6                  dB
                                                                         SPVOLL/
                                                                                        -51       -48       -44.5
                                                                         SPVOLR = 0x00
 Speaker Volume Control (PGA)       AV_SPKPGA (Notes 6 and 9)                                                         dB
                                                                         SPVOLL/
                                                                                         13        14        15
                                                                         SPVOLR = 0x1F
                                                  14dB to 9dB                                     0.5
                                                  +9dB to -6dB                                      1
 Volume Control Step Size                         -6dB to -14dB                                     2                 dB
                                                  -14dB to -32dB                                    3
                                                  -32dB to -48dB                                    4
 Mute Attenuation                                 f = 1kHz                               76        84                 dB
www.maximintegrated.com                                                                               Maxim Integrated │ 17


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                       CONDITIONS                 MIN TYP        MAX      UNITS
 Output Offset Voltage                  VOS       AV_SPKPGA = -62dB, TA = +25°C                  ±0.5         ±4      mV
                                                  Peak voltage,
                                                  A-weighted,              Into shutdown          -65
 Click-and-Pop Level                    KCP       32 samples                                                          dBV
                                                  per second,              Out of shutdown        -65
                                                  AV_SPK = 0dB
 DAC PLAYBACK PATH TO HEADPHONE AMPLIFIER PATH
                                                  fS = 48kHz,              Master or slave
                                                                                                  102
 Dynamic Range (Note 5)                  DR       fMCLK =                  mode                                        dB
                                                  12.288MHz                Slave mode        94
                                                  f = 1kHz, POUT =         RHP = 16W              -86        -77
 Total Harmonic Distortion + Noise    THD+N       10mW                     RHP = 32W              -88                  dB
                                                  f = 1kHz, VOUT = 1VRMS, RHP = 10kW              -88
                                                  f = 1kHz, VIN = -1dBFS, RHP = 10kW             -105                  dB
 Crosstalk                                        HPL to HPR and HPR to HPL,
                                                                                                 -104                  dB
                                                  POUT = 5mW, f = 1kHz, RHP = 32W
                                                  VAVDD = VHPVDD = 1.65V to 2.0V                   80
 Power-Supply Rejection Ratio                                               f = 217Hz              79
                                       PSRR       VRIPPLE = 100mVP-P,                                                  dB
 (Note 3)                                                                   f = 1kHz               79
                                                  AV_HP = 0dB
                                                                            f = 10kHz              74
                                                                            MODE = 0 (voice)
                                                                                                  2.2
                                                                            8kHz
                                                  1kHz, 0dB input,          MODE = 0 (voice)
                                                                                                  1.1
                                                  highpass filter disabled  16kHz
 DAC Path Phase Delay                                                                                                  ms
                                                  measured from digital     MODE = 1 (music)
                                                  input to analog output                          4.5
                                                                            8kHz
                                                                            MODE = 1 (music)
                                                                                                 0.76
                                                                            48kHz
 Gain Error                                                                                         1         5        %
 Channel Gain Mismatch                                                                              1                  %
SINGLE-ENDED ANALOG INPUT TO HEADPHONE AMPLIFIER PATH
 Dynamic Range (Note 5)                           AV_LINE = 0dB AV_HPPGA = 0 dB                   101                  dB
 Total Harmonic Distortion + Noise    THD+N       VIN = 250mVRMS, f =1kHz                         -80                  dB
                                                  HPL to HPR and HPR to HPL,
 Crosstalk                                                                                        -94                  dB
                                                  POUT = 5mW, f = 1kHz, RHP = 32W
www.maximintegrated.com                                                                               Maxim Integrated │ 18


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                SYMBOL                     CONDITIONS              MIN      TYP       MAX      UNITS
                                                  VAVDD = VHPVDD = 1.65V to 2.0V                  60
 Power-Supply Rejection Ratio                                                f = 217Hz            61
                                       PSRR       VRIPPLE = 100mVP-P,                                                 dB
 (Note 3)                                                                    f = 1kHz             61
                                                  AV_TOTAL = 0dB
                                                                             f = 10kHz            60
HEADPHONE AMPLIFIER (Note 7)
                                                                             RHP = 16W   20       40
 Output Power                           POUT      f = 1kHz, THD = 1%                                                 mW
                                                                             RHP = 32W            30
                                                  RHP = 16W, POUT = 10mW, f = 1kHz               -88        -77
 Total Harmonic Distortion + Noise    THD+N       RHP = 10kW, VOUT = 1VRMS,                                           dB
                                                                                                 -88
                                                  f = 1kHz
 Full-Scale Output                                AVHP = 0dB (Note 8)                              1                VRMS
                                                  HPVOL_ = 0x00                         -68      -67        -65
 Headphone Volume Control (PGA)      AV_HPPGA                                                                         dB
                                                  HPVOL_ = 0x1F                         2.25       3        3.5
                                                  +3dB to +1dB                                   0.5
                                                  +1dB to -5dB                                     1
 Volume Control Step Size                         -5dB to -19dB                                    2                  dB
                                                  -19dB to -43dB                                   3
                                                  -43dB to -67dB                                   4
 Mute Attenuation                                 f = 1kHz                                       110                  dB
                                                                     TA = +25°C                  ±0.5        ±1
 Output Offset Voltage                  VOS       AV_HP = -67dB                                                      mV
                                                                     TA = TMIN to TMAX                       ±3
                                                  No sustained       RHP = 32W                   500
 Capacitive Drive Capability                                                                                          pF
                                                  oscillations       RHP = ∞                     100
                                                  Peak voltage,
                                                  A-weighted,        Into shutdown               -73
 Click-and-Pop Level                    KCP       32 samples                                                         dBV
                                                  per second,        Out of shutdown             -73
                                                  AV_HP = -67dB
www.maximintegrated.com                                                                              Maxim Integrated │ 19


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Electrical Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
          PARAMETER                  SYMBOL                     CONDITIONS              MIN      TYP       MAX      UNITS
JACK DETECTION
                                                                                       0.80 x   0.95 x    0.98 x
                                                  MICBIAS enabled
                                                                                      VMICBIAS VMICBIAS VMICBIAS
 JACKSNS High Threshold              VTH_HIGH                                                                         V
                                                                                       0.80 x   0.95 x    0.98 x
                                                  MICBIAS disabled
                                                                                      VSPKVDD VSPKVDD VSPKVDD
                                                                                       0.06 x   0.10 x    0.17 x
                                                  MICBIAS enabled
                                                                                      VMICBIAS VMICBIAS VMICBIAS
 JACKSNS Low Threshold               VTH_LOW                                                                          V
                                                                                       0.06 x   0.10 x    0.17 x
                                                  MICBIAS disabled
                                                                                      VSPKVDD VSPKVDD VSPKVDD
 JACKSNS Sense Voltage                VSENSE      MICBIAS disabled                             VSPKVDD                V
 JACKSNS Strong Pullup
                                        RSPU      MICBIAS disabled, JDWK = 0            1.9      2.4        2.7      kΩ
 Resistance
 JACKSNS Weak Pullup Current            IWPU      MICBIAS disabled, JDWK = 1                       5        12        µA
                                                  JDEB = 00                                       25
 JACKSNS Glitch Debounce Period       tGLITCH                                                                        ms
                                                  JDEB = 11                                      200
www.maximintegrated.com                                                                              Maxim Integrated │ 20


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
          PARAMETER                 SYMBOL                        CONDITIONS            MIN     TYP     MAX      UNITS
 RECORD PATH LEVEL CONTROL
 Record Level Adjust Range         AV_ADCLVL      AVL/AVR = 0xF to 0x0 (Note 6)         -12               +3       dB
 Record Level Adjust Step Size                                                                   1                 dB
 Record Gain Adjust Range         AV_ADCGAIN AVLG/AVRG = 0x0 to 0x3 (Note 6)              0               42       dB
 Record Gain Adjust Step Size                                                                    6                 dB
 RECORD PATH VOICE MODE IIR LOWPASS FILTER (MODE = 0)
                                                                                       0.444
                                                  Ripple limit cutoff
                                                                                        x fS
 Passband Cutoff                       fPLP                                                                        Hz
                                                                                       0.449
                                                  -3dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1              0.1      dB
                                                                                                         0.47
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation                             f > fSLP                               74                        dB
 RECORD PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 0, fLRCLK < 48kHz)
                                                                                        0.43
                                                  Ripple limit cutoff
                                                                                        x fS
                                                                                        0.48
 Passband Cutoff                       fPLP       -3dB cutoff                                                      Hz
                                                                                        x fS
                                                                                         0.5
                                                  -6.02dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1             +0.1      dB
                                                                                                         0.58
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation                             f < fSLP                               60                        dB
 RECORD PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 1, fLRCLK > 48kHz)
                                                                                       0.208
                                                  Ripple limit cutoff
                                                                                        x fS
 Passband Cutoff                       fPLP                                                                        Hz
                                                                                        0.28
                                                  -3dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1             +0.1      dB
                                                                                                         0.45
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation                             f < fSLP                               60                        dB
www.maximintegrated.com                                                                             Maxim Integrated │ 21


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                SYMBOL                         CONDITIONS                    MIN  TYP     MAX      UNITS
 RECORD PATH DC-BLOCKING HIGHPASS FILTER
 DC Attenuation                    AV_ADCHPF      AHPF = 1                                             90                dB
 RECORD PATH PROGRAMMALE BIQUAD FILTER
 Preattenuator Gain Range                                                                        -15            0        dB
 Preattenuator Step Size                                                                                1                dB
                                                                                               0.0008
                                                  Highpass filter
                                                                                                 x fS
                                                                                                 0.02
                                                  High-frequency shelving filter
                                                                                                 x fS
                                                                                                0.002
 Cutoff Frequency                                 Lowpass filter                                                         Hz
                                                                                                 x fS
                                                                                               0.0008
                                                  Low-frequency shelving filter
                                                                                                 x fS
                                                                                               0.0008
                                                  Peak filter
                                                                                                 x fS
 Quality Factor                          Q        Peak filter                                                  10
 DIGITAL SIDETONE: RECORD PATH TO PLAYBACK PATH (MODE = 0)
 Sidetone Level Adjust Range        AV_STLVL      DVST = 0x1F to 0x01                           -60.5         -0.5       dB
 Sidetone Level Adjust Step Side                                                                        2                dB
                                                  fIN = 1kHz, full-scale amplitude, fS = 8kHz         1.8
 Sidetone Path Phase Delay                                                                                               ms
                                                  highpass filter disabled          fS = 16kHz        0.9
 PLAYBACK PATH LEVEL CONTROL
 Playback Path Attenuation
                                   AV_DACLVL      DV = 0xF to 0x0 (Note 6)                       -15            0        dB
 Range
 Playback Path Attenuation Step
                                                                                                        1                dB
 Size
 Playback Path Gain Adjust
                                  AV_DACGAIN DVG = 00 to 11 (Note 6)                               0           18        dB
 Range
 Playback Path Gain Adjust Step
                                                                                                        6                dB
 Size
www.maximintegrated.com                                                                                   Maxim Integrated │ 22


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
          PARAMETER                 SYMBOL                        CONDITIONS            MIN     TYP     MAX      UNITS
 PLAYBACK PATH VOICE MODE IIR LOWPASS FILTER (MODE = 0)
                                                                                       0.448
                                                  Ripple limit cutoff
                                                                                        x fS
 Passband Cutoff                       fPLP                                                                        Hz
                                                                                       0.451
                                                  -3dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1             +0.1      dB
                                                                                                        0.476
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation (Note 11)                   f > fSLP                               75                        dB
 PLAYBACK PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE = 1, DHF = 0, fLRCLK < 48kHz)
                                                                                        0.43
                                                  Ripple limit cutoff
                                                                                        x fS
                                                                                        0.47
 Passband Cutoff                       fPLP       -3dB cutoff                                                      Hz
                                                                                        x fS
                                                                                         0.5
                                                  -6.02dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1             +0.1      dB
                                                                                                         0.58
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation (Note 11)                   f > fSLP                               60                        dB
 PLAYBACK PATH STEREO MUSIC MODE FIR LOWPASS FILTER (MODE1 = 1, DHF = 1 for fLRCLK > 48kHz)
                                                                                        0.24
                                       fPLP       Ripple limit cutoff
                                                                                        x fS
 Passband Cutoff                                                                                                   Hz
                                                                                        0.31
                                                  -3dB cutoff
                                                                                        x fS
 Passband Ripple                                  f < fPLP                              -0.1             +0.1      dB
                                                                                                        0.477
 Stopband Cutoff                       fSLP                                                                        Hz
                                                                                                         x fS
 Stopband Attenuation (Note 11)                   f < fSLP                               60                        dB
 PLAYBACK PATH DC-BLOCKING HIGHPASS FILTER
 DC Attenuation                                   DHPF = 1                                       89                dB
www.maximintegrated.com                                                                             Maxim Integrated │ 23


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Digital Filter Specifications (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                SYMBOL                        CONDITIONS            MIN     TYP     MAX      UNITS
 PLAYBACK PATH DYNAMIC RANGE CONTROL
 Gain Range                                                                               0               12       dB
 Compression Threshold                                                                   -31               0      dBFS
 Expansion Threshold                                                                     -66             -35      dBFS
 Attack Time                                                                          0.0005             0.2        s
 Release Time                                                                         0.0625               8        s
 PLAYBACK PATH PARAMETRIC EQUALIZER
 Number of Bands                                                                                 7                Bands
 Per Band Gain Range                                                                   -12               +12       dB
 Preattenuator Gain Range                                                              -15                 0       dB
 Preattenuator Step Size                                                                         1                 dB
                                                                                      0.0008
                                                  Highpass filter
                                                                                        x fS
                                                                                        0.02
                                                  High-frequency shelving filter
                                                                                        x fS
                                                                                       0.002
 Cutoff Frequency                                 Lowpass filter                                                   Hz
                                                                                        x fS
                                                                                      0.0008
                                                  Low-frequency shelving filter
                                                                                        x fS
                                                                                      0.0008
                                                  Peak filter
                                                                                        x fS
 Quality Factor                          Q        Peak filter                                             10
www.maximintegrated.com                                                                             Maxim Integrated │ 24


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Digital Input/Output Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                 SYMBOL                    CONDITIONS             MIN      TYP       MAX      UNITS
 MCLK
 Input High Voltage                      VIH                                          1.26                           V
 Input Low Voltage                       VIL                                                              0.6        V
 Input Leakage Current                 IIH, IIL    VDVDDIO = 2.0V, TA = +25°C           -1                +1        µA
 Input Capacitance                                                                              10                  pF
 SDIN, BCLK, LRCLK (Input)
                                                                                      0.7 x
 Input High Voltage                      VIH                                                                         V
                                                                                   VDVDDIO
                                                                                                         0.3 x
 Input Low Voltage                       VIL                                                                         V
                                                                                                       VDVDDIO
 Input Hysteresis                                                                              100                  mV
 Input Leakage Current                 IIH, IIL    VDVDDIO = 3.6V, TA = +25°C           -1                +1        µA
 Input Capacitance                                                                              10                  pF
 BCLK, LRCLK, SDOUT (Output)
                                                                                   VDVDDIO
 Output High Voltage                    VOH        IOH = 3mA                                                         V
                                                                                      - 0.4
 Output Low Voltage                      VOL       IOL = 3mA                                              0.4        V
                                                   VDVDDIO = 2.0V, TA = +25°C,
 Input Leakage Current                 IIH, IIL                                         -1                +1        µA
                                                   high-impedance state
 SDA, SCL (Input)
                                                                                      0.7 x
 Input High Voltage                      VIH                                                                         V
                                                                                   VDVDDIO
                                                                                                         0.3 x
 Input Low Voltage                       VIL                                                                         V
                                                                                                       VDVDDIO
 Input Hysteresis                                                                              100                  mV
 Input Leakage Current                 IIH, IIL    VDVDDIO = 2.0V, TA = +25°C           -1                +1        µA
 Input Capacitance                                                                              10                  pF
 SDA, IRQ (Output)
                                                                                                         0.2 x
 Output Low Voltage                      VOL       VDVDDIO = 1.65V, IOH = 3mA                                        V
                                                                                                       VDVDDIO
www.maximintegrated.com                                                                             Maxim Integrated │ 25


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Digital Input/Output Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line Output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                 SYMBOL                    CONDITIONS             MIN      TYP       MAX       UNITS
 Output High Current                      IOH       VDVDDIO = 1.65V, IOL = 3mA                             1        µA
 DMD1, DMD2 INPUT
                                                                                      0.7 x
 Input High Voltage                       VIH                                                                        V
                                                                                   VDVDDIO
                                                                                                         0.3 x
 Input Low Voltage                        VIL                                                                        V
                                                                                                       VDVDDIO
 Input Hysteresis                                                                              100                  mV
 Input Leakage Current                  IIH, IIL    VDVDDIO = 2.0V, TA = +25°C         -25                +25       µA
 Input Capacitance                                                                              10                  pF
 DMC1, DMC2 OUTPUT
                                                                                   VDVDDIO
 Output High Voltage                     VOH        IOH = 3mA                                                        V
                                                                                      - 0.4
 Output Low Voltage                       VOL       IOL = 3mA                                             0.4        V
www.maximintegrated.com                                                                             Maxim Integrated │ 26


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Input Clock Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD= 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Notes 2, 10)
           PARAMETER                 SYMBOL                     CONDITIONS                  MIN   TYP      MAX      UNITS
 INPUT CLOCK CHARACTERISTICS
                                                   fS = 8kHz, voice mode filters
                                                                                           2.048            60
                                                   (MODE = 0)
                                                   fS = 48kHz, music mode filters
 MCLK Input Frequency                   fMCLK                                                10             60        MHz
                                                   (MODE = 1)
                                                   fS = 96kHz, music mode filters
                                                                                         12.288             60
                                                   (MODE = 1)
                                                   PSCLK = 01                                40    50       60
 MCLK Input Duty Cycle                                                                                                 %
                                                   PSCLK = 10 or 11                          30             70
 Maximum MCLK Input Jitter                                                                          1                  ns
                                                   DHF = 0                                    8             48
 LRCLK Sample Rate (Note 12)           fLRCLK                                                                         kHz
                                                   DHF = 1                                   48             96
 DAI LRCLK Average Frequency                       FREQ = 0x8 to 0xF                          0              0
                                                                                                                       %
 Error (Note 13)                                   FREQ = 0x0                             -0.025          +0.025
                                                   8kHz ≤ fS ≤ 48kHz, voice
                                                                               OSR =
                                                   mode filters (MODE = 0),              256 x fS
                                                                               128 or 64
                                                   DHF = 0
                                                   8kHz ≤ fS ≤ 48kHz, music OSR = 128    256 x fS
 Minimum PCLK to LRCLK
                                                   mode filters (MODE = 1),                                          fPCLK
 Frequency Ratio
                                                   DHF = 0                     OSR = 64  208 x fS
                                                   48kHz ≤ fS ≤ 96kHz,
                                                   music mode filters (MODE OSR = 64     128 x fS
                                                   = 1), DHF = 1 (OSR)
 PLL Lock Time                                                                                      2        7         ms
 Maximum LRCLK Input Jitter
                                                                                                           ±100        ns
 to Maintain PLL Lock
 Soft-Start/Stop Time                                                                              10                  ms
www.maximintegrated.com                                                                               Maxim Integrated │ 27


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Digital Audio Interface Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                 SYMBOL                    CONDITIONS             MIN      TYP        MAX     UNITS
 DIGITAL AUDIO INTERFACE TIMING CHARACTERISTICS
 BCLK Cycle Time                         tBCLK     Slave mode                          80                           ns
 BCLK High Time                         tBCLKH     Slave mode                          20                           ns
 BCLK Low Time                          tBCLKL     Slave mode                          20                           ns
 BCLK or LRCLK Rise and
                                          tr, tf   Master mode, CL = 15pF                        5                  ns
 Fall Time
 SDIN to BCLK Setup Time                tSETUP                                         20                           ns
 LRCLK to BCLK Setup Time            tSYNCSET      Slave mode                          20                           ns
 SDIN to BCLK Hold Time                  tHOLD                                         20                           ns
 LRCLK to BCLK Hold Time            tSYNCHOLD      Slave mode                          20                           ns
                                                                     TDM = 1                    20
 Minimum Delay Time from LSB                                         TDM = 1, FSW = 1           20
 BCLK Falling Edge to High-            tHIZOUT     Master mode                                                      ns
 Impedance State                                                     TDM = 1, FSW = 0           20
                                                                     TDM = 0, DLY = 1           20
 LRCLK Rising Edge to
                                      tSYNCTX      C = 30pF, TDM = 1, FSW = 1                              40       ns
 SDOUT MSB Delay
                                                                     TDM = 1, BCLK
                                                                                                           50
 BCLK to SDOUT Delay                    tCLKTX     C = 30pF          rising edge                                    ns
                                                                     TDM = 0                               50
                                                                     TDM = 1          -15                 +15
 Delay Time from BCLK to LRCLK       tCLKSYNC      Master mode                                            0.8 x     ns
                                                                     TDM = 0
                                                                                                         tBCLK
www.maximintegrated.com                                                                             Maxim Integrated │ 28


MAX98091                                                                                Ultra-Low Power Stereo Audio Codec
                                                                                                                                        tBCLK
                                   tF
                t                                                                                                          tBCLKH                   tBCLKL
          BCLK R                                                                         BCLK
    (OUTPUT)                                                                          (INPUT)
                              tCLKSYNC                                                                             tSYNCSET
        LRCLK                                                                          LRCLK
    (OUTPUT)                                                                          (INPUT)
                            tHIZOUT             tCLKTX                                                   tHIZOUT                tCLKTX
        SDOUT                                                                          SDOUT
                    LSB                  HI-Z                     MSB                               LSB                HI-Z                        MSB
    (OUTPUT)                                                                        (OUTPUT)
                                                           tSETUP tHOLD                                                                     tSETUP tHOLD
          SDIN                                                                           SDIN
                    LSB                                         MSB                                 LSB                                          MSB
       (INPUT)                                                                        (INPUT)
                                      MASTER MODE                                                                  SLAVE MODE
Figure 1. I2S Audio Interface Timing Diagrams (TDM = 0)
                                                                  TDM SHORT MODE TIMING (fSW= 0)
                                                                                                                                          tBCLK
                                               tR                                                                           tBCLKH                     tBCLKL
                         tF
      BCLK
 (OUTPUT)                                                                             BCLK
                                                                                 (OUTPUT)
               tCLKSYNC                          tCLKSYNC                                    tSYNCSET                         tSYNCHOLD
    LRCLK
                                                                                     LRCLK
 (OUTPUT)
                                                                                 (OUTPUT)
        tHIZOUT                 tCLKTX                                                    tHIZOUT             tCLKTX
    SDOUT                                                                           SDOUT
                 LSB           HI-Z                MSB                                            LSB        HI-Z                   MSB
 (OUTPUT)                                                                        (OUTPUT)
                                                          tSETUP   tHOLD                                                                      tHOLD     tSETUP
      SDIN
                  LSB                           MSB                                   SDIN           LSB                          MSB
   (INPUT)
                                                                                   (INPUT)
                                        MASTER MODE                                                        SLAVE MODE
                                                                   TDM LONG MODE TIMING (fSW = 1)
                                                                                                                                          tBCLK
                         tF                    tR                                                                            tBCLKH                     tBCLKL
      BCLK                                                                            BCLK
 (OUTPUT)                                                                        (OUTPUT)
                        tENDSYNC                 tCLKSYNC
    LRCLK                                                                            LRCLK
 (OUTPUT)                                                                        (OUTPUT)
        tHI-ZOUT                 tSYNCTX                         tCLKTX                    tHI-ZOUT             tSYNCTX                               tCLKTX
    SDOUT                                                                           SDOUT
                 LSB           HI-Z                MSB                           (OUTPUT)         LSB        HI-Z                   MSB
 (OUTPUT)
                                                          tSETUP   tHOLD                                                                      tSETUP     tHOLD
      SDIN                                                                            SDIN
                  LSB                           MSB                                                 LSB                           MSB
   (INPUT)                                                                         (INPUT)
                                         MASTER MODE                                                                    SLAVE MODE
Figure 2. TDM Audio Interface Short Mode Timing Diagram (TDM = 1, BCI = 1)
www.maximintegrated.com                                                                                                                  Maxim Integrated │ 29


MAX98091                                                                                     Ultra-Low Power Stereo Audio Codec
I2C Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
            PARAMETER                           SYMBOL                            CONDITIONS                         MIN             TYP         MAX      UNITS
 I2C TIMING CHARACTERISTICS
                                                                    Guaranteed by SCL pulse width low
 Serial Clock Frequency                             fSCL                                                               0                         400        kHz
                                                                    and high
 Bus Free Time Between STOP
                                                    tBUF                                                              1.3                                    µs
 and START Conditions
 Hold Time (Repeated) START
                                                 tHD,STA                                                              0.6                                    µs
 Condition
 SCL Pulse-Width Low                               tLOW                                                               1.3                                    µs
 SCL Pulse-Width High                              tHIGH                                                              0.6                                    µs
 Setup Time for a Repeated START
                                                  tSU,STA                                                             0.6                                    µs
 Condition
                                                                    RPU = 475Ω, CB = 100pF, 400pF                      0                         900
 Data Hold Time                                  tHD,DAT            Transmitting                                       0                         900         ns
                                                                    Receiving                                                                      0
 Data Setup Time                                 tSU,DAT                                                             100                                     ns
                                                                                                                   20 + 0.1
 SDA and SCL Receiving Rise Time                       tR           (Note 14)                                                                    300         ns
                                                                                                                     x CB
                                                                                                                   20 + 0.1
 SDA and SCL Receiving Fall Time                       tF           (Note 14)                                                                    300         ns
                                                                                                                     x CB
                                                                    RPU = 475Ω, CB = 100pF to 400pF                20 + 0.1
 SDA Transmitting Fall Time                            tF                                                                                        250         ns
                                                                    (Note 14)                                        x CB
 Setup Time for STOP Condition                   tSU,STO                                                              0.6                                    µs
                                                                    Guaranteed by SDA transmitting fall
 Bus Capacitance                                      CB                                                                                         400         pF
                                                                    time
 Pulse Width of Suppressed Spike                      tSP                                                              0                          50         ns
                        SDA
                                                                               tSU,STA                                       tBUF
                                                        tSU,DAT                                  tHD,STA
                                             tLOW                                                        tSP
                                                                   tHD,DAT                                   tSU,STO
                        SCL                              tHIGH
                          tHD,STA
                                                    tR          tF
                             START CONDITION                                         REPEATED START                    STOP         START
                                                                                       CONDITION                     CONDITION    CONDITION
Figure 3. I2C Interface Timing Diagram
www.maximintegrated.com                                                                                                                     Maxim Integrated │ 30


MAX98091                                                                              Ultra-Low Power Stereo Audio Codec
Digital Microphone Timing Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
           PARAMETER                     SYMBOL                            CONDITIONS              MIN    TYP      MAX      UNITS
 DIGITAL MICROPHONE TIMING CHARACTERISTICS
                                                         MICCLK = 000                                   fPCLK/2
                                                         MICCLK = 001                                   fPCLK/3
                                                         MICCLK = 010                                   fPCLK/4
 DMC                                       fDMC                                                                              MHz
                                                         MICCLK = 011                                   fPCLK/5
                                                         MICCLK = 100                                   fPCLK/6
                                                         MICCLK = 101                                   fPCLK/8
 DMD to DMC Setup Time                    tSU,MIC        Either clock edge                         20                         ns
 DMD to DMC Hold Time                     tHD,MIC        Either clock edge                          0                         ns
                                                                    1/fDMC
                                         DMC
                                                       tHD,MIC tSU,MIC
                                                                        tHD,MIC tSU,MIC
                                         DMD      LEFT             RIGHT             LEFT    RIGHT
Figure 4. Digital Microphone Timing Diagram
Note 2: The MAX98091 is 100% production tested at TA =+25°C. Specifications over temperature limits are guaranteed by design.
Note 3: BIAS derived from a bandgap reference (BIAS_MODE = 1).
Note 4: Analog supply current = AVDD + HPVDD, speaker supply current = SPKVDD and digital supply current = DVDD +
          DVDDIO.
Note 5: Dynamic range measurements are performed with the EIAJ method (a -60dBFS output signal at 1kHz, A-weighted and nor-
          malized to 0dBFS; f = 20Hz – 20kHz).
Note 6: Gain measured relative to the 0dB setting.
Note 7: Performance measured using DAC Inputs, unless otherwise stated.
Note 8: Full-scale analog output with 0dB of programmable gain, and a 0dBFS DAC input amplitude, a 1VRMS differential analog
          input amplitude, or a 0.5VRMS single-ended analog input amplitude.
Note 9: Performance measured using an analog input to amplifier output path.
Note 10: Digital filter performance is invariant over temperature and production tested at TA = +25°C.
Note 11: The filter specification is accurate only for synchronous clocking modes (integer MCLK to LRCLK ratio).
Note 12: fLRCLK may be any rate in the indicated range. Asynchronous and non-integer fMCLK/fLRCLK ratios can exhibit some full-
          scale performance degradation compared to synchronous integer ratios.
Note 13: In master-mode operation, the accuracy of the MCLK input proportionally determines the accuracy of the sample clock rate.
Note 14: CB is in pF.
www.maximintegrated.com                                                                                       Maxim Integrated │ 31


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V, slave mode operation.)
                                                       IAVDD IHPVDD    IDVDD IDVDDIO   ISPKVDD POWER      DYNAMIC
                 DEVICE MODE AND
                                                                                                           RANGE
                  CONFIGURATION                         (mA)  (mA)      (mA)   (mA)      (mA)   (mW)         (dB)
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO HEADPHONE OUTPUT (MUSIC FILTERS)
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music           1.41   1.28     1.28   0.02      0.00    6.41         102
 Filters, RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music           0.96   0.51     1.28   0.02      0.00    4.23          99
 Filters, RLOAD = 32Ω, Low-Power Mode
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  1.41   1.28     1.37   0.02      0.00    6.51         102
 RLOAD = 32Ω Dynamic Range Control Enabled
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music           1.41   1.28     1.91   0.02      0.00    7.15         102
 Filters, RLOAD = 32ΩParametric Equalizer Enabled
 Stereo DAC Playback to Headphone Output
 fMCLK = 12.288MHz, fS = 96kHz, 20-bit, Music           1.41   1.28     1.45   0.02      0.00    6.62         102
 Filters, RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, Music Filters,    1.40   1.28     1.15   0.02      0.00    6.23         102
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, Music Filters,    0.96   0.52     1.18   0.02      0.00    4.10          99
 RLOAD = 32Ω, Low-Power Mode
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO HEADPHONE OUTPUT (VOICE FILTERS)
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       1.42   1.28     1.17   0.02      0.00    6.28         101
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       0.97   0.51     1.17   0.02      0.00    4.10        98.5
 RLOAD = 32Ω, Low-Power Mode
 Mono DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       0.81   0.70     1.07   0.02      0.00    4.03         101
 RLOAD = 32Ω
 Mono DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       0.59   0.31     1.07   0.02      0.00    2.92        98.5
 RLOAD = 32Ω, Low-Power Mode
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters,      1.41   1.28     1.28   0.02      0.00    6.39          99
 RLOAD = 32Ω
 Stereo DAC Playback to Headphone Output
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters,      0.96   0.51     1.27   0.02      0.00    4.21          97
 RLOAD = 32Ω, Low-Power Mode
www.maximintegrated.com                                                                          Maxim Integrated │ 32


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V, slave mode operation.)
                                                       IAVDD IHPVDD    IDVDD IDVDDIO   ISPKVDD POWER      DYNAMIC
                  DEVICE MODE AND
                                                                                                           RANGE
                    CONFIGURATION                       (mA)  (mA)      (mA)   (mA)      (mA)   (mW)         (dB)
 DIGITAL AUDIO INPUT TO PLAYBACK PATH TO SPEAKER OUTPUT
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  1.24   0.00     1.28   0.02      2.27   12.16         91
 RLOAD = 8Ω, LLOAD = 68µH
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  0.94   0.00     1.28   0.02      2.27   11.62         91
 RLOAD = 8Ω, LLOAD = 68µH, Low Power Mode
 Mono DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  0.67   0.00     1.14   0.02      1.17    6.94         91
 RLOAD = 8Ω, LLOAD = 68µH
 Mono DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  0.53   0.00     1.14   0.02      1.17    6.68         91
 RLOAD = 8Ω, LLOAD = 68µH, Low-Power Mode
 Stereo DAC Playback to Speaker Output
 fMCLK = 12.288MHz, fS = 96kHz, 20-bit, Music Filters,  1.24   0.00     1.45   0.02      2.27   12.38         91
 RLOAD = 8Ω, LLOAD = 68µH
 Stereo DAC Playback to Speaker Output
 fMCLK = 13MHz, fS = 44.1kHz, 20-bit, Music Filters,    1.24   0.00     1.15   0.02      2.27   11.99         91
 RLOAD = 8Ω, LLOAD = 68µH
 ANALOG AUDIO LINE INPUT TO DIGITAL RECORD PATH OUTPUT
 Stereo Differential Line Input to Record Path
                                                        3.14   0.00     1.68   0.16      0.00    7.91         98
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Stereo Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  1.99   0.00     1.68   0.16      0.00    5.88         98
 Low-Power Mode
 Stereo Differential Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters   3.13   0.00     1.75   0.16      0.00    8.00         98
 Digital Biquad Filter Enabled
 Mono Differential Line Input to Record Path
                                                        1.89   0.00     1.40   0.10      0.00    5.25         98
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Stereo Single-Ended Line Input to Record Path
                                                        3.23   0.00     1.65   0.17      0.00    8.06         97
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Stereo Single-Ended Line Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters   2.04   0.00     1.65   0.18      0.00    5.97         97
 Low-Power Mode
 Stereo Single-Ended Line Input to Record Path
                                                        2.93   0.00     1.04   0.05      0.00    6.59         98
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters
 Stereo Single-Ended Line Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters        1.74   0.00     1.04   0.05      0.00    4.48         97
 Low-Power Mode
www.maximintegrated.com                                                                          Maxim Integrated │ 33


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V, slave mode operation.)
                                                       IAVDD IHPVDD    IDVDD IDVDDIO   ISPKVDD POWER      DYNAMIC
                DEVICE MODE AND
                                                                                                           RANGE
                 CONFIGURATION                          (mA)  (mA)      (mA)   (mA)      (mA)   (mW)         (dB)
 ANALOG MICROPHONE INPUT TO DIGITAL RECORD PATH OUTPUT (MUSIC FILTERS)
 Stereo Analog Microphone Input to Record Path
                                                        3.54   0.00     1.67   0.14      0.00    8.57         97
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  2.25   0.00     1.68   0.14      0.00    6.29         97
 Low-Power Mode
 Mono Analog Microphone Input to Record Path
                                                        2.05   0.00     1.36   0.10      0.00    5.49         97
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  1.37   0.00     1.36   0.08      0.00    4.25         97
 Low-Power Mode
 ANALOG MICROPHONE INPUT TO DIGITAL RECORD PATH OUTPUT (VOICE FILTERS)
 Stereo Analog Microphone Input to Record Path
                                                        3.24   0.00     1.13   0.04      0.00    7.23         99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       1.94   0.00     1.14   0.06      0.00    4.97         98
 Low-Power Mode
 Mono Analog Microphone Input to Record Path
                                                        1.90   0.00     1.05   0.04      0.00    4.73         99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,       1.22   0.00     1.05   0.03      0.00    3.51         98
 Low-Power Mode
 Stereo Analog Microphone Input to Record Path
                                                        3.30   0.00     1.30   0.05      0.00    7.55         98
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters
 Stereo Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters,      2.00   0.00     1.32   0.06      0.00    5.29         97
 Low-Power Mode
 Mono Analog Microphone Input to Record Path
                                                        1.93   0.00     1.12   0.04      0.00    4.89         98
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters
 Mono Analog Microphone Input to Record Path
 fMCLK = 13MHz, fS = 16kHz, 16-bit, Voice Filters,      1.25   0.00     1.12   0.04      0.00    3.66         97
 Low-Power Mode
www.maximintegrated.com                                                                          Maxim Integrated │ 34


MAX98091                                                            Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V, slave mode operation.)
                                                       IAVDD  IHPVDD    IDVDD IDVDDIO  ISPKVDD POWER      DYNAMIC
                DEVICE MODE AND
                                                                                                           RANGE
                  CONFIGURATION                         (mA)   (mA)      (mA)   (mA)     (mA)   (mW)         (dB)
 ANALOG AUDIO INPUT DIRECT TO DIGITAL RECORD PATH OUTPUT
 Stereo Differential Input Direct to Record Path
                                                        2.88    0.00     1.69   0.13     0.00    7.44          99
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Stereo Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,  1.86    0.00     1.68   0.14     0.00    5.60          98
 Low-Power Mode
 Mono Differential Input Direct to Record Path
                                                        1.64    0.00     1.36   0.07     0.00    4.71          99
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters
 Mono Differential Input Direct to Record Path
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music Filters,   1.11   0.00     1.36   0.08     0.00    3.77          98
 Low-Power Mode
 ANALOG AUDIO INPUT TO ANALOG AUDIO OUTPUT
 Stereo Single-Ended Line Input to Headphones
                                                        1.16    2.48     0.14   0.02     0.00    6.72          99
 (RLOAD = 32Ω)
 Mono Single-Ended Line Input to Headphones
                                                        0.74    1.25     0.14   0.02     0.00    3.79          99
 (RLOAD = 32Ω)
 Stereo Differential Line Input to Headphones
                                                         1.11   1.27     0.14   0.02     0.00    4.48         100
 (RLOAD = 32Ω)
 Stereo Differential Line Input to Speaker Output
                                                        0.36    0.00     0.14   0.02     2.27    9.22          91
 (RLOAD = 8Ω, LLOAD = 68µH)
 Mono Differential Line Input to Speaker Output
                                                        0.32    0.00     0.14   0.02     1.17    4.33          91
 (RLOAD = 8Ω, LLOAD = 68µH)
 Stereo Single-Ended Line Input to Line Output
                                                        0.76    0.00     0.14   0.02     0.76    4.39          99
 (RLOAD = 10kΩ)
www.maximintegrated.com                                                                          Maxim Integrated │ 35


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Quiescent Power Consumption (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V, slave mode operation.)
                                                  IAVDD  IHPVDD     IDVDD   IDVDDIO    ISPKVDD POWER      DYNAMIC
                 DEVICE MODE AND
                                                                                                           RANGE
                  CONFIGURATION                    (mA)    (mA)      (mA)     (mA)       (mA)   (mW)         (dB)
 FULL-DUPLEX AUDIO OPERATION
 Mono Full Duplex: Analog Microphone Input
 to Record Path and DAC Playback to Receiver
                                                                                                           REC: 99
 Output                                            2.89    0.00      1.16     0.04       0.75    9.46
                                                                                                           PB: 100
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,
 RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input
 to Record Path and DAC Playback to Receiver
                                                                                                           REC: 99
 Output                                            2.07    0.00      1.18     0.04       0.75    8.00
                                                                                                            PB: 98
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,
 RLOAD = 32Ω, Low-Power Mode
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                           REC: 97
 Output                                            2.82    1.28      1.47      0.1       0.00    9.27
                                                                                                           PB: 102
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music
 Filters, RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                           REC: 97
 Output                                            1.85    0.50      1.47     0.08       0.00    6.15
                                                                                                            PB: 99
 fMCLK = 12.288MHz, fS = 48kHz, 20-bit, Music
 Filters, RLOAD = 32Ω, Low-Power Mode
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                           REC: 99
 Output                                            2.75    1.28      1.05     0.04       0.00    8.54
                                                                                                           PB: 102
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,
 RLOAD = 32Ω
 Mono Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphone
                                                                                                           REC: 99
 Output                                            1.79    0.51      1.05     0.04       0.00    5.45
                                                                                                            PB: 99
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,
 RLOAD = 32Ω, Low-Power Mode
 Stereo Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphones                                                                REC: 99
                                                   4.58    1.28      1.15     0.00       0.00   11.81
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,                                                          PB: 102
 RLOAD = 32Ω
 Stereo Full Duplex: Analog Microphone Input to
 Record Path and DAC Playback to Headphones                                                                REC: 99
                                                   2.85    0.51      1.15     0.07       0.00    7.52
 fMCLK = 13MHz, fS = 8kHz, 16-bit, Voice Filters,                                                           PB: 99
 RLOAD = 32Ω, Low-Power Mode
www.maximintegrated.com                                                                          Maxim Integrated │ 36


MAX98091                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                 ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT
                               TOTAL HARMONIC DISTORTION PLUS                                                        TOTAL HARMONIC DISTORTION PLUS                                                          TOTAL HARMONIC DISTORTION PLUS
                               NOISE vs. FREQUENCY (MIC TO ADC)                                                      NOISE vs. FREQUENCY (MIC TO ADC)                                                        NOISE vs. FREQUENCY (MIC TO ADC)
                      0                                                                                    0                                                                                       0
                                                                     MAX98090 toc01                                                                          MAX98090 toc02                                                                         MAX98090 toc03
                               fMCLK = 13MHz                                                                         fMCLK = 13MHz                                                                           fMCLK = 12.288MHz
                    -10                                                                                  -10                                                                                      -10
                               fLRCLK = 8kHz                                                                         fLRCLK = 44.1kHz                                                                        fLRCLK = 48kHz
                    -20        VIN = 707mVRMS                                                            -20         VIN = 707mVRMS                                                               -20        VIN = 707mVRMS
                    -30        AV_MIC = 0dB                                                                          AV_MIC = 0dB                                                                 -30        AV_MIC = 0dB
                                                                                                         -30
THD+N RATIO (dB)                                                                      THD+N RATIO (dB)                                                                        THD+N RATIO (dB)
                               CIN = 10µF                                                                            CIN = 10µF                                                                              CIN = 10µF
                    -40                                                                                                                                                                           -40
                                                                                                         -40
                    -50                                                                                                                                                                           -50
                                                                                                         -50
                    -60                                                                                                                                                                           -60
                                                                                                         -60
                    -70                                                                                                                                                                           -70
                    -80                                                                                  -70                                                                                      -80
                    -90                                                                                  -80                                                                                      -90
                   -100                                                                                  -90                                                                                     -100
                          10               100          1k         10k                                          10           100          1k         10k   100k                                         10          100           1k        10k   100k
                                            FREQUENCY (Hz)                                                                          FREQUENCY (Hz)                                                                         FREQUENCY (Hz)
                               TOTAL HARMONIC DISTORTION PLUS                                                        TOTAL HARMONIC DISTORTION PLUS                                                          TOTAL HARMONIC DISTORTION PLUS
                               NOISE vs. FREQUENCY (MIC TO ADC)                                                      NOISE vs. FREQUENCY (MIC TO ADC)                                                        NOISE vs. FREQUENCY (MIC TO ADC)
                                                                                                                                                                                                    0
                     0                                                                                     0
                                                                                                                                                                                                                                                    MAX98090 toc06
                                                                     MAX98090 toc04                                                                          MAX98090 toc05
                               fMCLK = 12.288MHz                                                                                                                                                             fMCLK = 13MHz
                                                                                                                     fMCLK = 13MHz                                                                -10
                    -10                                                                                   -10                                                                                                fLRCLK = 8kHz
                               fLRCLK = 96kHz                                                                        fLRCLK = 8kHz
                               VIN = 707mVRMS                                                                                                                                                     -20        VIN = 22.4mVRMS
                    -20                                                                                   -20        VIN = 70.7mVRMS
                               AV_MIC = 0dB                                                                                                                                                       -30        AV_MIC = +30dB
                    -30                                                                                   -30        AV_MIC = +20dB
                                                                                                                                                                              THD+N RATIO (dB)
                                                                                                                                                                                                             CIN = 10µF
THD+N RATIO (dB)                                                                      THD+N RATIO (dB)
                               CIN = 10µF                                                                            CIN = 10µF
                                                                                                                                                                                                  -40
                    -40                                                                                   -40
                                                                                                                                                                                                  -50
                    -50                                                                                   -50
                                                                                                                                                                                                  -60
                    -60                                                                                   -60
                                                                                                                                                                                                  -70
                    -70                                                                                   -70
                                                                                                                                                                                                  -80
                    -80                                                                                   -80
                                                                                                                                                                                                  -90
                    -90                                                                                   -90
                                                                                                                                                                                                 -100
                   -100                                                                                  -100
                                                                                                                                                                                                        10                100          1k         10k
                          10         100           1k        10k   100k                                         10                 100          1k         10k
                                                                                                                                                                                                                           FREQUENCY (Hz)
                                            FREQUENCY (Hz)                                                                          FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                         Maxim Integrated │ 37


MAX98091                                                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                         ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT (continued)
                                                                                                                                                               COMMON-MODE REJECTION                                                                             POWER-SUPPLY REJECTION RATIO
                                                    GAIN vs. FREQUENCY (MIC TO ADC)                                                                         RATIO vs. FREQUENCY (MIC TO ADC)                                                                       vs. FREQUENCY (MIC TO ADC)
                                          5                                                                                                      100                                                                                                 100
                                                                                                      MAX98090 toc07                                                                                      MAX98090 toc08                                                                                       MAX98090 toc09
                                                    fMCLK = 13MHz
                                          4                                                                                                       90            AV_MIC = +20dB                                                                        90
                                                    fLRCLK = 8kHz
                                          3         VIN = 707mVRMS                                                                                80                                  AV_MIC = +30dB                                                  80
                                                    AV_MIC = 0dB
NORMALIZED GAIN (dB)
                                          2                                                                                                       70                                                                                                  70
                                                    CIN = 10µF
                                          1                                                                                                       60                                                                                                  60
                                                                                                                       CMRR (dB)                                                                                           PSRR (dB)
                                          0                                                                                                       50                                                                                                  50
                                         -1                                                                                                       40                        AV_MIC = +0dB                                                             40
                                         -2                                                                                                       30                                                                                                  30         fMCLK = 12.288MHz
                                         -3                                                                                                       20         fMCLK = 12.288MHz                                                                        20         fLRCLK = 48kHz
                                                                                                                                                             fLRCLK = 48kHz                                                                                      VRIPPLE = 100mVP-P
                                         -4                                                                                                       10         CIN = 10µF                                                                               10         CIN = 10µF
                                         -5                                                                                                        0                                                                                                   0
                                               10                100           1k                  10k                                                  10          100          1k         10k         100k                                                10          100           1k       10k           100k
                                                                  FREQUENCY (Hz)                                                                                          FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)
                                                      POWER-SUPPLY REJECTION RATIO                                                                              INBAND OUTPUT SPECTRUM,                                                                             INBAND OUTPUT SPECTRUM,
                                                    vs. FREQUENCY (SPK_VDD to MICBIAS)                                                                           -3dBFS INPUT (MIC TO ADC)                                                                          -60dBFS INPUT (MIC TO ADC)
                                                                                         MAX98090 toc10
                                         120                                                                                                      20                                                                                                  20
                                                                                                                                                                                                          MAX98089 toc11                                                                                       MAX98090 toc12
                                                                                BIAS_MODE = 1                                                                                         fMCLK = 13MHz                                                                                        fMCLK = 13MHz
                                                                                                                                                   0                                                                                                   0
     POWER-SUPPLY REJECTION RATIO (dB)
                                                                                                                                                                                        fLRCLK = 8kHz                                                                                        fLRCLK = 8kHz
                                         100
                                                                                                                                                  -20                                   AV_MIC = 0dB                                                  -20                                    AV_MIC = 0dB
                                                                                                                       OUTPUT AMPLITUDE (dBFS)                                                                             OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                           CIN = 10µF                                                                                           CIN = 10µF
                                         80                                                                                                       -40                                                                                                 -40
                                                                                                                                                  -60                                                                                                 -60
                                         60
                                                                        BIAS_MODE = 0                                                             -80                                                                                                 -80
                                         40                                                                                                      -100                                                                                                -100
                                                                                                                                                 -120                                                                                                -120
                                         20          VSPK_VDD = 3.7V
                                                     VMICBIAS = 2.8V
                                                                                                                                                 -140                                                                                                -140
                                          0                                                                                                      -160                                                                                                -160
                                               10          100         1,000        10,000       100,000                                                0     500 1000 1500 2000 2500 3000 3500 4000                                                        0     500 1000 1500 2000 2500 3000 3500 4000
                                                                   FREQUENCY (Hz)                                                                                         FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                          Maxim Integrated │ 38


MAX98091                                                                                                                                                    Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                        ANALOG MICROPHONE INPUT TO ADC RECORD PATH OUTPUT (continued)
                                      INBAND OUTPUT SPECTRUM,                                                                           INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                       -3dBFS INPUT (MIC TO ADC)                                                                        -60dBFS INPUT (MIC TO ADC)                                                                          -3dBFS INPUT (MIC TO ADC)
                             20                                                                                               20                                                                                                 20
                                                                                MAX98090 toc13                                                                                   MAX98090 toc14                                                                                     MAX98090 toc15
                                                             fMCLK = 13MHz                                                                                     fMCLK = 13MHz                                                                                  fMCLK = 12.288MHz
                              0                            fLRCLK = 44.1kHz                                                    0                             fLRCLK = 44.1kHz                                                     0                               fLRCLK = 48kHz
                            -20                                AV_MIC = 0dB                                                   -20                                AV_MIC = 0dB                                                    -20                                AV_MIC = 0dB
 OUTPUT AMPLITUDE (dBFS)                                                                         OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                                 CIN = 10µF                                                                                        CIN = 10µF                                                                                         CIN = 10µF
                            -40                                                                                               -40                                                                                                -40
                            -60                                                                                               -60                                                                                                -60
                            -80                                                                                               -80                                                                                                -80
                           -100                                                                                              -100                                                                                               -100
                           -120                                                                                              -120                                                                                               -120
                           -140                                                                                              -140                                                                                               -140
                           -160                                                                                              -160                                                                                               -160
                                  0       5         10           15           20                                                    0       5         10          15            20                                                     0       5         10           15           20
                                              FREQUENCY (kHz)                                                                                   FREQUENCY (kHz)                                                                                    FREQUENCY (kHz)
                                      INBAND OUTPUT SPECTRUM,                                                                           INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                      -60dBFS INPUT (MIC TO ADC)                                                                         -3dBFS INPUT (MIC TO ADC)                                                                         -60dBFS INPUT (MIC TO ADC)
                            20                                                                                                 20                                                                                                 20
                                                                               MAX98090 toc16                                                                                      MAX98090 toc17                                                                                    MAX98090 toc18
                                                         fMCLK = 12.288MHz                                                                                 fMCLK = 12.288MHz                                                                                  fMCLK = 12.288MHz
                             0                               fLRCLK = 48kHz                                                     0                                                                                                  0
                                                                                                                                                               fLRCLK = 96kHz                                                                                     fLRCLK = 96kHz
                            -20                                AV_MIC = 0dB                                                   -20                                AV_MIC = 0dB                                                                                       AV_MIC = 0dB
OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                 -20
                                                                                                   OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                                 CIN = 10µF                                                                                        CIN = 10µF                                                                                         CIN = 10µF
                            -40                                                                                               -40                                                                                                -40
                            -60                                                                                               -60                                                                                                -60
                            -80                                                                                               -80                                                                                                -80
                           -100                                                                                              -100                                                                                               -100
                           -120                                                                                              -120                                                                                               -120
                           -140                                                                                              -140                                                                                               -140
                           -160                                                                                              -160                                                                                               -160
                                  0       5         10           15           20                                                    0       5         10           15           20                                                     0       5         10           15           20
                                              FREQUENCY (kHz)                                                                                   FREQUENCY (kHz)                                                                                    FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                               Maxim Integrated │ 39


MAX98091                                                                                                                                                    Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                           DIGITAL MICROPHONE INPUT TO RECORD PATH OUTPUT
                                        TOTAL HARMONIC DISTORTION                                                                        INBAND OUTPUT SPECTRUM,                                                                        INBAND OUTPUT SPECTRUM,
                                         PLUS NOISE vs. FREQUENCY                                                                               -10dBFS INPUT                                                                                  -26dBFS INPUT
                                       (DIGITAL MIC TO RECORD PATH)                                                                     (DIGITAL MIC TO RECORD PATH)                                                                   (DIGITAL MIC TO RECORD PATH)
                            0                                                                                               20                                                                                               20
                                                                                                                                                                                 MAX98090 toc20                                                                                 MAX98090 toc21
                                                                                                                                                              fMCLK = 13MHz                                                                                  fMCLK = 13MHz
                                                                                MAX98090 toc19
                           -10        fMCLK = 13MHz                                                                          0                                  fLRCLK = 8kHz                                                 0                                fLRCLK = 8kHz
                                      fLRCLK = 8kHz                                                                                                          fDMC = 3.25MHz                                                                                 fDMC = 3.25MHz
                           -20                                                                                              -20                                                                                              -20
                                                                                                 OUTPUT AMPLITUDE (dBFS)                                                                          OUTPUT AMPLITUDE (dBFS)
                                      fDMC = 3.25MHz                                                                                                           AV_DMIC = 0dB                                                                                  AV_DMIC = 0dB
                           -30        AV_DMIC = 0dB
                                                                                                                            -40                                                                                              -40
THD+N RATIO (dB)
                           -40                                                                                              -60                                                                                              -60
                           -50
                                                                                                                            -80                                                                                              -80
                           -60
                                                             VIN = -26dBFS                                                 -100                                                                                             -100
                           -70              VIN = -3dBFS
                                                                                                                           -120                                                                                             -120
                           -80
                                                                                                                           -140                                                                                             -140
                           -90
                          -100                                                                                             -160                                                                                             -160
                                 10             100          1k                10k                                                0     500 1000 1500 2000 2500 3000 3500 4000                                                     0   500 1000 1500 2000 2500 3000 3500 4000
                                                 FREQUENCY (Hz)                                                                                   FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)
                                        INBAND OUTPUT SPECTRUM,                                                                          TOTAL HARMONIC DISTORTION                                                                      INBAND OUTPUT SPECTRUM,
                                               -60dBFS INPUT                                                                              PLUS NOISE vs. FREQUENCY                                                                             -10dBFS INPUT
                                       (DIGITAL MIC TO RECORD PATH)                                                                     (DIGITAL MIC TO RECORD PATH)                                                                   (DIGITAL MIC TO RECORD PATH)
                           20                                                                                                0                                                                                               20
                                                                                MAX98090 toc22                                                                                   MAX98090 toc23                                                                                 MAX98090 toc24
                                                             fMCLK = 13MHz                                                             fMCLK = 13MHz                                                                                                         fMCLK = 13MHz
                            0                                  fLRCLK = 8kHz                                                -10                                                                                               0                               fLRCLK = 16kHz
                                                                                                                                       fLRCLK = 16kHz
                                                            fDMC = 3.25MHz                                                  -20        fDMC = 3.25MHz                                                                                                       fDMC = 3.25MHz
                           -20                                                                                                                                                                                               -20
OUTPUT AMPLITUDE (dBFS)                                                                                                                                                                           OUTPUT AMPLITUDE (dBFS)
                                                              AV_DMIC = 0dB                                                            AV_DMIC = 0dB                                                                                                          AV_DMIC = 0dB
                                                                                                                            -30
                                                                                                 THD+N RATIO (dB)
                           -40                                                                                                                                                                                               -40
                                                                                                                            -40
                           -60                                                                                                                                                                                               -60
                                                                                                                            -50
                           -80                                                                                                                                                                                               -80
                                                                                                                            -60
                          -100                                                                                                                                VIN = -26dBFS                                                 -100
                                                                                                                            -70              VIN = -3dBFS
                          -120                                                                                              -80                                                                                             -120
                          -140                                                                                              -90                                                                                             -140
                          -160                                                                                             -100                                                                                             -160
                                 0     500 1000 1500 2000 2500 3000 3500 4000                                                     10             100          1k                10k                                                0   1k   2k    3k   4k   5k    6k   7k      8k
                                                 FREQUENCY (Hz)                                                                                   FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                            Maxim Integrated │ 40


MAX98091                                                                                                                                                        Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DIGITAL MICROPHONE INPUT TO RECORD PATH OUTPUT (continued)
                                      INBAND OUTPUT SPECTRUM,                                                                             INBAND OUTPUT SPECTRUM,                                                                              TOTAL HARMONIC DISTORTION
                                             -26dBFS INPUT                                                                                       -60dBFS INPUT                                                                                  PLUS NOISE vs. FREQUENCY
                                     (DIGITAL MIC TO RECORD PATH)                                                                        (DIGITAL MIC TO RECORD PATH)                                                                         (DIGITAL MIC TO RECORD PATH)
                           20                                                                                                  20                                                                                                  0
                                                                                  MAX98090 toc25                                                                                     MAX98090 toc26                                                                                           MAX98090 toc27
                                                               fMCLK = 13MHz                                                                                      fMCLK = 13MHz                                                              fMCLK = 12.288MHz
                            0                                   fLRCLK = 16kHz                                                  0                                  fLRCLK = 16kHz
                                                                                                                                                                                                                                  -20        fLRCLK = 48kHz
                                                              fDMC = 3.25MHz                                                                                     fDMC = 3.25MHz                                                              fDMC = 3.072MHz
                           -20                                                                                                 -20
OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                                AV_DMIC = 0dB                                                                                      AV_DMIC = 0dB                                                             AV_DMIC = 0dB
                                                                                                                                                                                                       THD+N RATIO (dB)
                           -40                                                                                                 -40                                                                                                -40
                           -60                                                                                                 -60
                                                                                                                                                                                                                                  -60
                           -80                                                                                                 -80                                                                                                                                     VIN = -26dBFS
                                                                                                                                                                                                                                                 VIN = -3dBFS
                          -100                                                                                                -100                                                                                                -80
                          -120                                                                                                -120
                                                                                                                                                                                                                                 -100
                          -140                                                                                                -140
                          -160                                                                                                -160                                                                                               -120
                                 0   1k   2k    3k   4k      5k    6k    7k      8k                                                  0   1k   2k    3k   4k      5k   6k    7k      8k                                                  10         100           1k           10k           100k
                                               FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
                                      INBAND OUTPUT SPECTRUM,                                                                             INBAND OUTPUT SPECTRUM,                                                                              INBAND OUTPUT SPECTRUM,
                                             -10dBFS INPUT                                                                                       -26dBFS INPUT                                                                                        -60dBFS INPUT
                                     (DIGITAL MIC TO RECORD PATH)                                                                        (DIGITAL MIC TO RECORD PATH)                                                                         (DIGITAL MIC TO RECORD PATH)
                           20                                                                                                   20                                                                                                20
                                                                                  MAX98090 toc28                                                                                      MAX98090 toc29                                                                                          MAX98090 toc30
                                                           fMCLK = 12.288MHz                                                                                   fMCLK = 12.288MHz                                                                                       fMCLK = 12.288MHz
                            0                                                                                                    0                                 fLRCLK = 48kHz                                                   0                                      fLRCLK = 48kHz
                                                               fLRCLK = 48kHz
                           -20                               fDMC = 3.072MHz                                                   -20                               fDMC = 3.072MHz                                                  -20                                    fDMC = 3.072MHz
OUTPUT AMPLITUDE (dBFS)                                                                             OUTPUT AMPLITUDE (dBFS)                                                                            OUTPUT AMPLITUDE (dBFS)
                                                               AV_DMIC = 0dB                                                                                       AV_DMIC = 0dB                                                                                           AV_DMIC = 0dB
                           -40                                                                                                 -40                                                                                                -40
                           -60                                                                                                 -60                                                                                                -60
                           -80                                                                                                 -80                                                                                                -80
                          -100                                                                                                -100                                                                                               -100
                          -120                                                                                                -120                                                                                               -120
                          -140                                                                                                -140                                                                                               -140
                          -160                                                                                                -160                                                                                               -160
                                 0        5k         10k          15k            20k                                                 0        5k         10k          15k           20k                                                 0           5k           10k          15k           20k
                                               FREQUENCY (Hz)                                                                                      FREQUENCY (Hz)                                                                                        FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                    Maxim Integrated │ 41


MAX98091                                                                                                                                           Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                   LINE INPUT TO ADC RECORD PATH OUTPUT
                           TOTAL HARMONIC DISTORTION PLUS                                                            TOTAL HARMONIC DISTORTION PLUS                                                              TOTAL HARMONIC DISTORTION PLUS
                           NOISE vs. FREQUENCY (LINE TO ADC)                                                         NOISE vs. FREQUENCY (LINE TO ADC)                                                           NOISE vs. FREQUENCY (LINE TO ADC)
                     0                                                                                         0                                                                                           0
                                                                         MAX98090 toc31                                                                              MAX98090 toc32                                                                             MAX98090 toc33
                    -10        fMCLK = 12.288MHz                                                              -10        fMCLK = 12.288MHz                                                                -10        fMCLK = 12.288MHz
                               fLRCLK = 48kHz                                                                            fLRCLK = 48kHz                                                                              fLRCLK = 48kHz
                    -20        AV_LINEPGA = -6dB                                                              -20        AV_LINEPGA = 0dB                                                                 -20        AV_LINEPGA = +20dB
                    -30        VIN_SE = 0.5VRMS                                                               -30        VIN_SE = 354mVRMS                                                                -30        VIN_SE = 35.4mVRMS
THD+N RATIO (dB)                                                                          THD+N RATIO (dB)                                                                            THD+N RATIO (dB)
                               VIN_DIFF = 1VRMS                                                                          VIN_DIFF = 707mVRMS                                                                         VIN_DIFF = 70.7mVRMS
                    -40        CIN = 10µF                                                                     -40        CIN = 10µF                                                                       -40        CIN = 10µF
                    -50                                                                                       -50                                                                                         -50
                    -60                                                                                       -60                                                                                         -60                                  SINGLE-ENDED
                    -70                                                                                       -70                                                                                         -70                  DIFFERENTIAL
                    -80                 DIFFERENTIAL    SINGLE-ENDED                                          -80                 DIFFERENTIAL     SINGLE-ENDED                                           -80
                    -90                                                                                       -90                                                                                         -90
                   -100                                                                                      -100                                                                                        -100
                          10         100           1k       10k        100k                                         10          100           1k       10k         100k                                         10          100          1k        10k        100k
                                           FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                              FREQUENCY (Hz)
                           TOTAL HARMONIC DISTORTION PLUS                                                                POWER-SUPPLY REJECTION RATIO                                                                   CROSSTALK vs. FREQUENCY
                           NOISE vs. FREQUENCY (LINE TO ADC)                                                               vs. FREQUENCY (LINE TO ADC)                                                                       (LINE TO ADC)
                     0                                                                                       100                                                                                           0
                                                                         MAX98090 toc34                                                                              MAX98090 toc35                                                                             MAX98090 toc36
                               fMCLK = 12.288MHz                                                                         fMCLK = 12.288MHz                                                                           fMCLK = 12.288MHz
                    -10                                                                                       90
                               fLRCLK = 48kHz                                                                            fLRCLK = 48kHz                                                                   -20        fLRCLK = 48kHz
                    -20        AV_LINEPGA = -9dB                                                              80         VIN SINGLE-ENDED                                                                            VIN = 0.5mVRMS
                                                                                                                         VRIPPLE = 100mVP-P        BIAS_MODE = 1                                                     AV_LINEPRE = 0dB
                    -30        VIN_SE = 2VRMS                                                                 70                                                                                          -40
THD+N RATIO (dB)
                                                                                                                         CIN = 10µF                                                                                  CIN = 10µF
                                                                                                                                                                                      CROSSTALK (dB)
                               CIN = 10µF
                    -40                                                                                       60
                                                                                          PSRR (dB)
                                                                                                                                                                                                          -60
                    -50                             SINGLE-ENDED                                              50                                                                                                                         SINGLE-ENDED
                                     DIFFERENTIAL                                                                                                                                                         -80
                    -60                                                                                       40
                    -70                                                                                       30                 BIAS_MODE = 0                                                           -100
                    -80                                                                                       20
                                                                                                                                                                                                         -120
                    -90                                                                                       10                                                                                                                         DIFFERENTIAL
                   -100                                                                                        0                                                                                         -140
                          10         100           1k       10k        100k                                         10          100           1k       10k         100k                                         10          100          1k        10k        100k
                                           FREQUENCY (Hz)                                                                             FREQUENCY (Hz)                                                                              FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                             Maxim Integrated │ 42


MAX98091                                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                              LINE INPUT TO ADC RECORD PATH OUTPUT (continued)
                                                                         INBAND OUTPUT SPECTRUM                                                                                                                                                   INBAND OUTPUT SPECTRUM
                                                                        vs. FREQUENCY,-3dBFS INPUT                                                                                                                                              vs. FREQUENCY, -60dBFS INPUT
                                                                                (LINE TO ADC)                                                                                                                                                           (LINE TO ADC)
                                                             20                                                                                                                                                          20
                                                                                                                                             MAX98090 toc37                                                                                                                                                    MAX98090 toc38
                                                                                               fMCLK = 12.288MHz                                                                                                                                                                        fMCLK = 12.288MHz
                                                              0                                     fLRCLK = 48kHz                                                                                                        0                                                                  fLRCLK = 48kHz
                                                             -20                               VIN = 354mVRMS_SE                                                                                                         -20                                                            VIN = 0.5mVRMS_SE
                                  OUTPUT AMPLITUDE (dBFS)                                                                                                                                     OUTPUT AMPLITUDE (dBFS)
                                                                                                      AV_PRE = 0dB                                                                                                                                                                             AV_PRE = 0dB
                                                             -40                                        CIN = 10µF                                                                                                       -40                                                                     CIN = 10µF
                                                             -60                                                                                                                                                         -60
                                                             -80                                                                                                                                                         -80
                                                            -100                                                                                                                                                        -100
                                                            -120                                                                                                                                                        -120
                                                            -140                                                                                                                                                        -140
                                                            -160                                                                                                                                                        -160
                                                                   0          5           10                         15                     20                                                                                 0                                   5               10           15            20
                                                                                  FREQUENCY (kHz)                                                                                                                                                                          FREQUENCY (kHz)
                                                                              DIRECT ANALOG INPUT TO ADC RECORD PATH OUTPUT
                                 TOTAL HARMONIC DISTORTION                                                                                                        POWER-SUPPLY REJECTION
                                                                                                                                                                                                                                                                                    CROSSTALK vs. FREQUENCY
                                   PLUS NOISE vs. FREQUENCY                                                                                                         RATIO vs. FREQUENCY
                                                                                                                                                                                                                                                                                  (INPUT DIRECT TO ADC MIXER)
                                 (INPUT DIRECT TO ADC MIXER)                                                                                                    (INPUT DIRECT TO ADC MIXER)
                                                                                                                                                                                                                                                                       0
                                                                                                                                                                                                                                                                                                                                        MAX98090 toc41
                     0                                                                                                                100                                                                                                                                       fMCLK = 12.288MHz
                                                                                                    MAX98090 toc39                                                                                                             MAX98090 toc40
                               fMCLK = 12.288MHz                                                                                                              MCLK = 12.288MHz                                                                                                  fLRCLK = 48kHz
                    -10                                                                                                                90                     LRCLK = 48kHz                                                                                        -20
                               fLRCLK = 48kHz                                                                                                                                                                                                                                   VIN = 0.5VRMS
                    -20        VIN = 707mVRMS                                                                                          80                     VRIPPLE = 100mVP-P                                                                                                CIN = 10µF
                               CIN = 10µF                                                                                                                     CIN = 10µF                                                                                           -40
                    -30                                                                                                                70
                                                                                                                                                                                                                                                 CROSSTALK (dB)
THD+N RATIO (dB)
                    -40                                                                                                                60                                                                                                                          -60
                                                                                                                          PSRR (dB)
                    -50                                                                                                                50
                                                                                                                                                                                                                                                                   -80
                    -60                                                                                                                40                                                                                                                                           RIGHT TO LEFT
                    -70                                                                                                                30                                                                                                                         -100
                    -80                                                                                                                20                                                                                                                         -120
                    -90                                                                                                                10                                                                                                                                                  LEFT TO RIGHT
                                                                                                                                                                                                                                                                  -140
                   -100                                                                                                                0                                                                                                                                   10            100         1k                         10k   100k
                          10                                100          1k         10k           100k                                      10                       100           1k       10k                            100k
                                                                                                                                                                                                                                                                                               FREQUENCY (Hz)
                                                                   FREQUENCY (Hz)                                                                                          FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                                          Maxim Integrated │ 43


MAX98091                                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                            DIRECT ANALOG INPUT TO ADC RECORD PATH OUTPUT (continued)
                                                                INBAND OUTPUT SPECTRUM,                                                                                                                                   INBAND OUTPUT SPECTRUM,
                                                            -3dBFS (INPUT DIRECT TO ADC MIXER)                                                                                                                        -60dBFS (INPUT DIRECT TO ADC MIXER)
                                                      20                                                                                                                                                        20
                                                                                                                                              MAX98090 toc42                                                                                                                                                 MAX98090 toc43
                                                                                        fMCLK = 12.288MHz                                                                                                                                                                              fMCLK = 12.288MHz
                                                       0                                    fLRCLK = 48kHz                                                                                                       0                                                                         fLRCLK = 48kHz
                                                      -20                                 VIN = 0.707VRMS                                                                                                       -20                                                                         VIN = 1mVRMS
                                                                                                CIN = 10µF                                                                                                                                                                                     CIN = 10µF
                                  AMPLITUDE (dBFS)                                                                                                                                          AMPLITUDE (dBFS)
                                                      -40                                                                                                                                                       -40
                                                      -60                                                                                                                                                       -60
                                                      -80                                                                                                                                                       -80
                                                     -100                                                                                                                                                      -100
                                                     -120                                                                                                                                                      -120
                                                     -140                                                                                                                                                      -140
                                                     -160                                                                                                                                                      -160
                                                            0          5           10                         15                             20                                                                       0                         5                                 10             15         20
                                                                           FREQUENCY (kHz)                                                                                                                                                                             FREQUENCY (kHz)
                                                            ADC RECORD PATH TO DAC PLAYBACK INTERNAL LOOP THROUGH
                            TOTAL HARMONIC DISTORTION PLUS                                                                                           TOTAL HARMONIC DISTORTION PLUS                                                                                                INBAND OUTPUT SPECTRUM,
                                  NOISE vs. FREQUENCY                                                                                                      NOISE vs. FREQUENCY                                                                                                           -3dBFS INPUT
                           (LINE TO ADC TO DAC TO HEADPHONE)                                                                                        (LINE TO ADC TO DAC TO HEADPHONE)                                                                                         (LINE TO ADC TO DAC TO HEADPHONE)
                     0                                                                                                                  0                                                                                                                               20
                                                                                             MAX98090 toc44                                                                                                                 MAX98090 toc45                                                                                                        MAX98090 toc46
                               fMCLK = 13MHz                                                                                                                   fMCLK = 12.288MHz                                                                                                                                                fMCLK = 13MHz
                    -10                                                                                                                -10                                                                                                                               0
                               fLRCLK = 44.1kHz                                                                                                                fLRCLK = 48kHz                                                                                                                                                 fLRCLK = 44.1kHz
                    -20        AV_TOTAL = 0dB                                                                                          -20                     AV_TOTAL = 0dB                                                                                           -20                                                    AV_TOTAL = 0dB
                                                                                                                                                                                                                                             OUTPUT AMPLITUDE (dBFS)
                    -30        RHP = 32I                                                                                               -30                     RHP = 32I                                                                                                                                                            RHP = 32I
THD+N RATIO (dB)                                                                                                   THD+N RATIO (dB)
                               CIN = 10µF                                                                                                                      CIN = 10µF                                                                                               -40                                                         CIN = 10µF
                    -40                                                                                                                -40
                                                                                                                                                                                                                                                                        -60
                    -50                                                                                                                -50
                                                                                                                                                                                                                                                                        -80
                    -60                                                                                                                -60
                                                                                                                                                                                                                                                                       -100
                    -70                 POUT = 10mW POUT = 20mW                                                                        -70                        POUT = 10mW POUT = 20mW
                    -80                                                                                                                -80                                                                                                                             -120
                    -90                                                                                                                -90                                                                                                                             -140
                   -100                                                                                                               -100                                                                                                                             -160
                          10                         100          1k         10k          100k                                               10                      100           1k             10k                     100k                                                0              5          10                         15            20
                                                            FREQUENCY (Hz)                                                                                                 FREQUENCY (Hz)                                                                                                         FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                                               Maxim Integrated │ 44


MAX98091                                                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                      ADC RECORD PATH TO DAC PLAYBACK INTERNAL LOOP THROUGH (continued)
                                       INBAND OUTPUT SPECTRUM,                                                                                       INBAND OUTPUT SPECTRUM,                                                                                   INBAND OUTPUT SPECTRUM,
                                             -60dBFS INPUT                                                                                                 -3dBFS INPUT                                                                                               -60dBFS INPUT
                                  (LINE TO ADC TO DAC TO HEADPHONE)                                                                             (LINE TO ADC TO DAC TO HEADPHONE)                                                                          (LINE TO ADC TO DAC TO HEADPHONE)
                             20                                                                                                        20                                                                                                           20
                                                                                         MAX98090 toc47                                                                                                 MAX98090 toc48                                                                                      MAX98090 toc49
                                                                    fMCLK = 13MHz                                                                                             fMCLK = 12.288MHz                                                                                       fMCLK = 12.288MHz
                              0                                   fLRCLK = 44.1kHz                                                      0                                         fLRCLK = 48kHz                                                     0                                    fLRCLK = 48kHz
                            -20                                    AV_TOTAL = 0dB                                                     -20                                        AV_TOTAL = 0dB                                                     -20                                  AV_TOTAL = 0dB
 OUTPUT AMPLITUDE (dBFS)                                                                                   OUTPUT AMPLITUDE (dBFS)                                                                                       OUTPUT AMPLITUDE (dBFS)
                                                                        RHP = 32I                                                                                                     RHP = 32I                                                                                               RHP = 32I
                            -40                                         CIN = 10µF                                                    -40                                             CIN = 10µF                                                    -40                                       CIN = 10µF
                            -60                                                                                                       -60                                                                                                           -60
                            -80                                                                                                       -80                                                                                                           -80
                           -100                                                                                                      -100                                                                                                          -100
                           -120                                                                                                      -120                                                                                                          -120
                           -140                                                                                                      -140                                                                                                          -140
                           -160                                                                                                      -160                                                                                                          -160
                                  0             5           10            15           20                                                   0              5            10              15           20                                                   0            5         10           15           20
                                                     FREQUENCY (kHz)                                                                                            FREQUENCY (kHz)                                                                                            FREQUENCY (kHz)
                                                                    DAC PLAYBACK PATH INPUT TO RECEIVER OUTPUT
                                       TOTAL HARMONIC DISTORTION
                                                                                                                                                TOTAL HARMONIC DISTORTION                                                                                        TOTAL HARMONIC DISTORTION
                                       PLUS NOISE vs. OUTPUT POWER
                                                                                                                                            vs. OUTPUT POWER (DAC TO RECEIVER)                                                                                 vs. FREQUENCY (DAC TO RECEIVER)
                                            (DAC TO RECEIVER)
                                                                                                                                       0                                                                                                             0
                                                                                                                                                                                                      MAX98090 toc51                                                                                        MAX98090 toc52
                             0                                                                                                                   BIAS_MODE = 1                                                                                                 fMCLK = 13MHz
                                                                                        MAX98090 toc50
                                      BIAS_MODE = 0                                                                                   -10                                                                                                           -10        fLRCLK = 8kHz
                            -10                                                                                                                  fMCLK = 13MHz
                                      fMCLK = 13MHz                                                                                              fLRCLK = 8kHz                                                                                                 AV_REC = +8dB
                                                                                                                                      -20                                                                                                           -20
                            -20       fLRCLK = 8kHz                                                                                              AV_REC = +8dB                                                                                                 RREC = 32I
                                      AV_REC = +8dB                                                                                   -30                                                                                                           -30
                                                                                                          THD+N RATIO (dB)                                                                                               THD+N RATIO (dB)
                            -30                                                                                                                  RREC = 32I
THD+N RATIO (dB)
                                      RREC = 32I
                                                                                                                                      -40                                                                                                           -40
                            -40                                                                                                                                fIN = 3000Hz                                                                                                            POUT = 25mW
                                                           fIN = 3000Hz                                                               -50                                                                                                           -50
                            -50
                                                                                                                                      -60                                                                                                           -60
                            -60
                                                                                                                                      -70                                                                                                           -70
                            -70
                                                                                                                                      -80                                                                                                           -80                                POUT = 50mW
                            -80                                                                                                                                fIN = 1000Hz
                                                  fIN = 1000Hz                                                                        -90                                                                                                           -90
                            -90                                                                                                                 fIN = 100Hz
                                         fIN = 100Hz
                                                                                                                                     -100                                                                                                          -100
                           -100                                                                                                             0       0.02       0.04    0.06      0.08        0.10   0.12                                                  10               100          1k                 10k
                                  0      0.02       0.04   0.06   0.08         0.10   0.12
                                                                                                                                                               OUTPUT POWER (W)                                                                                             FREQUENCY (Hz)
                                                    OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                                                        Maxim Integrated │ 45


MAX98091                                                                                                                                                                Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                               DAC PLAYBACK PATH INPUT TO RECEIVER OUTPUT (continued)
                                       OUTPUT POWER vs. SPEAKER                                                                                                                                                                                    POWER CONSUMPTION vs.
                                                                                                                                            GAIN vs. FREQUENCY (DAC TO RECEIVER)
                                    SUPPLY VOLTAGE (DAC TO RECEIVER)                                                                                                                                                                            OUTPUT POWER (DAC TO RECEIVER)
                                                                                                                                       5
                                                                                                                                                                                           MAX98090 toc54
                             150                                                                                                                 fMCLK = 13MHz                                                                       200
                                                                                           MAX98090 toc53                                                                                                                                                                                       MAX98090 toc55
                                                                                                                                       4         fLRCLK = 8kHz
                                                                                                                                                                                                                                                       RREC = 16I
                             125                                                                                                       3         VOICE FILTER
RECEIVER OUTPUT POWER (mW)
                                                               BIAS_MODE = 1                                                                                                                                                         160
                                                                                                                                                                                                            POWER CONSUMPTION (mW)
                                                                                                                                                 AV_REC = 0dB
                                                                                                            NORMALIZED GAIN (dB)
                                                                                                                                       2         RREC = 32I
                             100
                                                                                                                                       1
                                                                                                                                                                                                                                     120
                                                                                                                                       0
                              75
                                                                                                                                       -1
                                                                                                                                                                                                                                      80
                              50                                                                                                       -2                                                                                                                                     fMCLK = 13MHz
                                                               BIAS_MODE = 0
                                         fMCLK = 13MHz                                                                                                                                                                                                 RREC = 32I             fLRCLK = 8kHz
                                                                                                                                       -3
                                         fLRCLK = 8kHz                                                                                                                                                                                40                                      BIAS_MODE = 1
                              25
                                         AV_REC = +8dB                                                                                 -4                                                                                                                                     THD+N ≤ 1%
                                         RREC = 32I                                                                                                                                                                                                                           AV_REC = +8dB
                                                                                                                                       -5
                               0                                                                                                            10               100          1k           10k                                             0
                                   2.5       3.0         3.5    4.0    4.5         5.0   5.5                                                                                                                                                0     20   40      60        80    100    120     140
                                                                                                                                                              FREQUENCY (Hz)
                                               SPEAKER SUPPLY VOLTAGE (V)                                                                                                                                                                                  OUTPUT POWER (mW)
                                          POWER-SUPPLY REJECTION RATIO                                                                             INBAND OUTPUT SPECTRUM,                                                                         INBAND OUTPUT SPECTRUM,
                                         vs. FREQUENCY (DAC TO RECEIVER)                                                                         -3dBFS INPUT (DAC TO RECEIVER)                                                                 -60dBFS INPUT (DAC TO RECEIVER)
                             100                                                                                                      20                                                                                              20
                                                                                           MAX98090 toc56                                                                                  MAX98090 toc57                                                                                       MAX98090 toc58
                                                                        SPK_VDD                                                                                            fMCLK = 13MHz                                                                                       fMCLK = 13MHz
                              90                                                                                                       0                                   fLRCLK = 8kHz                                               0                                       fLRCLK = 8kHz
                              80                                                                                                                                           AV_REC = 0dB                                                                                        AV_REC = 0dB
                                                                                                                                      -20                                                                                             -20
                                                                                                            OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                                                                                                                                           RREC = 32I                                                                                          RHP = 32I
                              70
                                                                                                                                      -40                                                                                             -40
                              60
PSRR (dB)
                                                           OTHER SUPPLIES
                                                                                                                                      -60                                                                                             -60
                              50
                                                                                                                                      -80                                                                                             -80
                              40
                                                                                                                                     -100                                                                                            -100
                              30
                                         fMCLK = 12.288MHz
                              20                                                                                                     -120                                                                                            -120
                                         fLRCLK = 48kHz
                              10         VRIPPLE = 100mVP-P                                                                          -140                                                                                            -140
                                         RREC = 32I
                               0                                                                                                     -160                                                                                            -160
                                   10              100           1k          10k         100k                                               0            5         10          15      20                                                   0          5            10           15            20
                                                          FREQUENCY (Hz)                                                                                     FREQUENCY (kHz)                                                                                FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                        Maxim Integrated │ 46


MAX98091                                                                                                                                                                                     Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                                                       LINE INPUT TO RECEIVER OUTPUT
                                TOTAL HARMONIC DISTORTION                                                                                                           TOTAL HARMONIC DISTORTION                                                                                TOTAL HARMONIC DISTORTION
                                PLUS NOISE vs. OUTPUT POWER                                                                                                         PLUS NOISE vs. OUTPUT POWER                                                                               PLUS NOISE vs. FREQUENCY
                                     (LINE TO RECEIVER)                                                                                                                  (LINE TO RECEIVER)                                                                                      (LINE TO RECEIVER)
                     0                                                                                                                      0                                                                                                                    0
                                                                                                MAX98090 toc59                                                                                                             MAX98090 toc60                                                                                        MAX98090 toc61
                              DIFFERENTIAL INPUT                                                                                                                  DIFFERENTIAL INPUT                                                                                       DIFFERENTIAL INPUT
                    -10       BIAS_MODE = 0                                                                                                -10                    BIAS_MODE = 1                                                                                 -10        BIAS_MODE = 0
                    -20       AV_LINEPGA = 0dB                                                                                             -20                    AV_LINEPGA = 0dB                                                                              -20        AV_LINEPGA = 0dB
                              AV_REC = +8dB                                                                                                                       AV_REC = +8dB                                                                                            AV_REC = +8dB
                    -30       RREC = 32I                                                                                                   -30                    RREC = 32I                                                                                    -30        RREC = 32I
THD+N RATIO (dB)                                                                                                       THD+N RATIO (dB)                                                                                                     THD+N RATIO (dB)
                    -40       CIN = 10µF                                                                                                   -40                    CIN = 10µF                                                                                    -40        CIN = 10µF                 POUT = 25mW
                                                                       fIN = 6000Hz
                    -50                                                                                                                    -50                                                                                                                  -50
                                                                                                                                                                                             fIN = 6000Hz
                    -60                                                                                                                    -60                                                                                                                  -60
                    -70                                                                                                                    -70                                                                                                                  -70
                    -80                                                                                                                    -80                                                                                                                  -80                            POUT = 80mW
                                                             fIN = 1000Hz                                                                                                     fIN = 1000Hz
                    -90                                                                                                                    -90                                                                                                                  -90
                                      fIN = 100Hz                                                                                                                     fIN = 100Hz
                   -100                                                                                                                   -100                                                                                                                 -100
                          0      0.02                    0.04         0.06     0.08    0.10   0.12                                               0                   0.02    0.04    0.06    0.08         0.10        0.12                                            10           100           1k                      10k   100k
                                                         OUTPUT POWER (W)                                                                                                    OUTPUT POWER (W)                                                                                            FREQUENCY (Hz)
                                                                             GAIN vs. FREQUENCY                                                                                                                             POWER-SUPPLY REJECTION RATIO
                                                                              (LINE TO RECEIVER)                                                                                                                           vs. FREQUENCY (LINE TO RECEIVER)
                                                        5                                                                                                                                                       120
                                                                                                                                                 MAX98090 toc62                                                                                                                                         MAX98090 toc63
                                                                   DIFFERENTIAL INPUT
                                                        4          AV_TOTAL = 0dB
                                                                   RREC = 32I                                                                                                                                   100                                                              SPK_VDD
                                                        3
                                                                   CIN = 10µF
                                 NORMALIZED GAIN (dB)
                                                        2
                                                                                                                                                                                                                 80
                                                        1
                                                                                                                                                                                                    PSRR (dB)
                                                        0                                                                                                                                                        60                                                   OTHER SUPPLIES
                                                        -1
                                                                                                                                                                                                                 40
                                                        -2
                                                                                                                                                                                                                           DIFFERENTIAL INPUT
                                                        -3                                                                                                                                                                 VRIPPLE = 100mVP-P
                                                                                                                                                                                                                 20
                                                                                                                                                                                                                           RREC = 32I
                                                        -4
                                                                                                                                                                                                                           CIN = 10µF
                                                        -5                                                                                                                                                        0
                                                              10             100         1k                      10k                         100k                                                                     10                              100                   1k           10k          100k
                                                                                   FREQUENCY (Hz)                                                                                                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                                        Maxim Integrated │ 47


MAX98091                                                                                                  Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                            LINE INPUT TO RECEIVER OUTPUT (continued)
                                                 INBAND OUTPUT SPECTRUM,                                                                           INBAND OUTPUT SPECTRUM,
                                               -3dBV INPUT (LINE TO RECEIVER)                                                                    -60dBV INPUT (LINE TO RECEIVER)
                                     20                                                                                                20
                                                                                         MAX98090 toc64                                                                                     MAX98090 toc65
                                                                   DIFFERENTIAL INPUT                                                                                 DIFFERENTIAL INPUT
                                      0                            AV_LINEPGA = 0dB                                                     0                             AV_LINEPGA = 0dB
                                     -20                           AV_REC = +8dB                                                       -20                            AV_REC = +6dB
           OUTPUT AMPLITUDE (dBV)                                                                            OUTPUT AMPLITUDE (dBV)
                                                                   RREC = 32I                                                                                         RREC = 32I
                                     -40                           CIN = 10µF                                                          -40                            CIN = 10µF
                                     -60                                                                                               -60
                                     -80                                                                                               -80
                                    -100                                                                                              -100
                                    -120                                                                                              -120
                                    -140                                                                                              -140
                                    -160                                                                                              -160
                                           0        5         10          15            20                                                   0         5         10          15            20
                                                        FREQUENCY (kHz)                                                                                    FREQUENCY (kHz)
                                                            DAC PLAYBACK PATH INPUT TO LINE OUTPUT
                                                 INBAND OUTPUT SPECTRUM,                                                                           INBAND OUTPUT SPECTRUM,
                                               -3dBFS INPUT (DAC TO LINE OUT)                                                                    -60dBFS INPUT (DAC TO LINE OUT)
                                     20                                                                                                20
                                                                                         MAX98090 toc66                                                                                     MAX98090 toc67
                                                                       fMCLK = 13MHz                                                                                      fMCLK = 13MHz
                                       0                               fLRCLK = 8kHz                                                     0                                fLRCLK = 8kHz
                                                                       AV_LOUT = +3dB                                                                                     AV_LOUT = +3dB
                                     -20                                                                                               -20
           OUTPUT AMPLITUDE (dBV)                                                                            OUTPUT AMPLITUDE (dBV)
                                                                       RLOUT = 10kI                                                                                       RLOUT = 10kI
                                     -40                                                                                               -40
                                     -60                                                                                               -60
                                     -80                                                                                               -80
                                    -100                                                                                              -100
                                    -120                                                                                              -120
                                    -140                                                                                              -140
                                    -160                                                                                              -160
                                           0        5         10          15            20                                                   0         5         10          15            20
                                                        FREQUENCY (kHz)                                                                                    FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                       Maxim Integrated │ 48


MAX98091                                                                                                                                                                                      Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                                                                             LINE INPUT TO LINE OUTPUT
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                     TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                                   TOTAL HARMONIC DISTORTION PLUS NOISE
                           vs. OUTPUT LEVEL (LINE IN TO LINE OUT)                                                                                    vs. FREQUENCY (LINE IN TO LINE OUT)                                                                                                    vs. FREQUENCY (LINE IN TO LINE OUT)
                     0                                                                                                                        0                                                                                                                                       0
                                                                                                   MAX98090 toc68                                                                                                                         MAX98090 toc69                                                                                              MAX98090 toc70
                              AV_LINEPGA = 0dB                                                                                                                       AV_LINEPGA = 0dB                                                                                                          VIN = 2VRMS
                    -10                                                                                                                      -10                     AV_LOUT = +3dB                                                                                               -10          AV_EXTERNAL = -9dB
                              AV_LOUT = +3dB
                    -20       RLOUT = 10kI                                                                                                   -20                     RLOUT = 10kI                                                                                                 -20          AV_LOUT = +3dB
                              CIN = 10µF                                                                                                                             CIN = 10µF                                                                                                                RLOUT = 10kI
                    -30                                                                                                                      -30                                                                                                                                  -30          CIN = 10µF
THD+N RATIO (dB)                                                                                                         THD+N RATIO (dB)                                                                                                                     THD+N RATIO (dB)
                    -40                                                                                                                      -40                                                                                                                                  -40
                    -50                                                                                                                      -50                                                                                                                                  -50
                                                                                                                                                                                                                                                                                                         SINGLE-ENDED LINE INPUT
                    -60                                                                                                                      -60                       VOUT = 300mVRMS                                                                                            -60
                                                          fIN = 6000Hz
                    -70                                                     fIN = 100Hz                                                      -70                                        VOUT = 0.707mVRMS                                                                         -70
                    -80                                                                                                                      -80                                                                                                                                  -80
                    -90                                                                                                                      -90                                                                                                                                  -90
                                                            fIN = 1000Hz                                                                                                                                                                                                                               DIFFERENTIAL LINE INPUT
                   -100                                                                                                                     -100                                                                                                                                 -100
                          0                     0.2                   0.4     0.6         0.8    1.0                                               10                        100         1k         10k                               100k                                                10           100          1k                        10k   100k
                                                                 OUTPUT LEVEL (V)                                                                                                  FREQUENCY (Hz)                                                                                                            FREQUENCY (Hz)
                                                                          INBAND OUTPUT SPECTRUM,                                                                                                                                                             INBAND OUTPUT SPECTRUM,
                                                                       -3dBV INPUT (LINE IN TO LINE OUT)                                                                                                                                                   -60dBV INPUT (LINE IN TO LINE OUT)
                                                            20                                                                                                                                                                      20
                                                                                                                                                    MAX98090 toc71                                                                                                                                                           MAX98090 toc72
                                                                                                 AV_LINEPGA = 0dB                                                                                                                                                                                        AV_LINEPGA = 0dB
                                                             0                                   AV_LOUT = +3dB                                                                                                                      0                                                                   AV_LOUT = +3dB
                                                           -20                                   RLOUT = 10kI                                                                                                                       -20                                                                  RLOUT = 10kI
                                 OUTPUT AMPLITUDE (dBV)                                                                                                                                                   OUTPUT AMPLITUDE (dBV)
                                                                                                 CIN = 10µF                                                                                                                                                                                              CIN = 10µF
                                                           -40                                                                                                                                                                      -40
                                                           -60                                                                                                                                                                      -60
                                                           -80                                                                                                                                                                      -80
                                                          -100                                                                                                                                                                     -100
                                                          -120                                                                                                                                                                     -120
                                                          -140                                                                                                                                                                     -140
                                                          -160                                                                                                                                                                     -160
                                                                  0            5            10                      15                             20                                                                                     0                                       5               10          15            20
                                                                                    FREQUENCY (kHz)                                                                                                                                                                                       FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                         Maxim Integrated │ 49


MAX98091                                                                                                                                                        Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                   DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT
                           TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE                                                                        TOTAL HARMONIC DISTORTION PLUS NOISE
                             vs. OUTPUT POWER (DAC TO SPEAKER)                                                                    vs. OUTPUT POWER (DAC TO SPEAKER)                                                                           vs. OUTPUT POWER (DAC TO SPEAKER)
                      0                                                                                                    0                                                                                                           0
                                                                                   MAX98090 toc73                                                                                      MAX98090 toc74                                                                                                     MAX98090 toc75
                               VSPK_VDD = 5V                                                                                         VSPK_VDD = 4.2V                                                                                                VSPK_VDD = 3.7V
                     -10                                                                                                  -10                                                                                                         -10           fMCLK = 12.288MHz
                               fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz        fIN = 6000Hz                                                                                                         fIN = 6000Hz
                     -20       fLRCLK = 48kHz            fIN = 6000Hz                                                     -20        fLRCLK = 48kHz                                                                                   -20           fLRCLK = 48kHz
                               AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB                                                                                               AV_SPKPGA = +8dB
                     -30                                                                                                  -30                                                                                                         -30
                                                                                                                                                                                                                                                    ZSPK = 8I + 68µH
THD+N RATIO (dB)                                                                                     THD+N RATIO (dB)                                                                                     THD+N RATIO (dB)
                               ZSPK = 8I + 68µH                                                                                      ZSPK = 8I + 68µH
                     -40       WLP PACKAGE                                                                                -40        WLP PACKAGE                                                                                      -40           WLP PACKAGE
                     -50                                                                                                  -50                                                                                                         -50
                     -60                                                                                                  -60                                                                                                         -60
                     -70                                                                                                  -70                                                                                                         -70                                               fIN = 1000Hz
                     -80                                                                                                  -80                                        fIN = 1000Hz                                                     -80
                                                               fIN = 1000Hz
                     -90        fIN = 100Hz                                                                               -90         fIN = 100Hz                                                                                     -90               fIN = 100Hz
                    -100                                                                                                 -100                                                                                                -100
                           0            0.5            1.0          1.5           2.0                                           0       0.2      0.4    0.6   0.8      1.0    1.2     1.4                                                       0          0.2         0.4     0.6      0.8       1.0    1.2
                                               OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                                    OUTPUT POWER (W)
                           TOTAL HARMONIC DISTORTION PLUS NOISE                                                                 TOTAL HARMONIC DISTORTION PLUS NOISE                                                                            TOTAL HARMONIC DISTORTION PLUS NOISE
                             vs. OUTPUT POWER (DAC TO SPEAKER)                                                                    vs. OUTPUT POWER (DAC TO SPEAKER)                                                                               vs. OUTPUT POWER (DAC TO SPEAKER)
                       0                                                                                                    0                                                                                                               0
                                                                                    MAX98090 toc76                                                                                       MAX98090 toc77                                                                                                                    MAX98090 toc78
                               VSPK_VDD = 3V                                                                                         VSPK_VDD = 5V                                                                                                      VSPK_VDD = 4.2V
                     -10                                 fIN = 6000Hz                                                     -10                                                                                                          -10
                               fMCLK = 12.288MHz                                                                                     fMCLK = 12.288MHz                                                                                                  fMCLK = 12.288MHz
                     -20       fLRCLK = 48kHz                                                                             -20        fLRCLK = 48kHz                                                                                    -20              fLRCLK = 48kHz
                               AV_SPKPGA = +8dB                                                                                      AV_SPKPGA = +8dB fIN = 6000Hz                                                                                      AV_SPKPGA = +8dB fIN = 6000Hz
                     -30                                                                                                  -30                                                                                                          -30
 THD+N RATIO (dB)                                                                                     THD+N RATIO (dB)                                                                                             THD+N RATIO (dB)
                               ZSPK = 8I + 68µH                                                                                      ZSPK = 4I + 33µH                                                                                                   ZSPK = 4I + 33µH
                     -40       WLP PACKAGE                                                                                -40        WLP PACKAGE                                                                                       -40              WLP PACKAGE
                     -50                                                                                                  -50                                                                                                          -50
                     -60                                                                                                  -60                                                                                                          -60
                     -70                                     fIN = 1000Hz                                                 -70                                                                                                          -70
                     -80                                                                                                  -80                                          fIN = 1000Hz                                                    -80                                                fIN = 1000Hz
                     -90               fIN = 100Hz                                                                        -90                                                                                                          -90
                                                                                                                                              fIN = 100Hz                                                                                                        fIN = 100Hz
                    -100                                                                                                 -100                                                                                                         -100
                           0     0.1     0.2     0.3   0.4   0.5    0.6     0.7   0.8                                            0      0.5      1.0    1.5    2.0     2.5    3.0     3.5                                                           0            0.5         1.0       1.5        2.0     2.5
                                               OUTPUT POWER (W)                                                                                     OUTPUT POWER (W)                                                                                                    OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                                                       Maxim Integrated │ 50


MAX98091                                                                                                                                                                          Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                            DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                               TOTAL HARMONIC DISTORTION PLUS NOISE                                                                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                                           TOTAL HARMONIC DISTORTION PLUS NOISE
                                 vs. OUTPUT POWER (DAC TO SPEAKER)                                                                         vs. OUTPUT POWER (DAC TO SPEAKER)                                                                              vs. OUTPUT POWER (DAC TO SPEAKER)
                          0                                                                                                         0                                                                                                             0
                                                                                                                                                                                                                                                                                                       MAX98090 toc81
                                                                                             MAX98090 toc79                                                                                                MAX98090 toc80
                                     VSPK_VDD = 3.7V                                                                                           VSPK_VDD = 3V
                         -10                                                                                                       -10                                                                                                           -10                 VSPKVDD = 5V
                                     fMCLK = 12.288MHz            fIN = 6000Hz                                                                 fMCLK = 12.288MHz
                                                                                                                                                                                                                                                                     fMCLK = 12.288MHz
                         -20         fLRCLK = 48kHz                                                                                -20         fLRCLK = 48kHz                                                                                    -20                 fLRCLK = 48kHz
                                     AV_SPKPGA = +8dB                                                                                          AV_SPKPGA = +8dB
                         -30                                                                                                       -30                                                                                                           -30                 AV_SPKPGA = +8dB
     THD+N RATIO (dB)                                                                                          THD+N RATIO (dB)
                                     ZSPK = 4I + 33µH                                                                                          ZSPK = 4I + 33µH
                                                                                                                                                                                                                            THD+N RATIO (dB)
                                     WLP PACKAGE                                                                                               WLP PACKAGE                                                                                                           ZSPK = 8Ω + 68µH
                         -40                                                                                                       -40                                                                                                           -40                 TQFN PACKAGE
                         -50                                                                                                       -50                                                                                                           -50
                                                                                                                                                                                     fIN = 6000Hz
                         -60                                                                                                       -60                                                                                                           -60
                         -70                                                                                                       -70                                            fIN = 1000Hz
                                                                                                                                                                                                                                                 -70                                             fIN = 6000Hz
                         -80                                          fIN = 1000Hz                                                 -80                                                                                                           -80                                             fIN = 1000Hz
                         -90                                                                                                       -90                                                                                                           -90                                              fIN = 100Hz
                                              fIN = 100Hz                                                                                      fIN = 100Hz
                        -100                                                                                                      -100                                                                                                          -100
                                0     0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00                                                            0        0.2     0.4         0.6     0.8     1.0       1.2       1.4                                          0.00          0.50           1.00         1.50             2.00
                                                   OUTPUT POWER (W)                                                                                          OUTPUT POWER (W)                                                                                               OUTPUT POWER (W)
                               TOTAL HARMONIC DISTORTION PLUS NOISE                                                                       TOTAL HARMONIC DISTORTION PLUS NOISE                                                                          TOTAL HARMONIC DISTORTION PLUS NOISE
                                 vs. OUTPUT POWER (DAC TO SPEAKER)                                                                          vs. OUTPUT POWER (DAC TO SPEAKER)                                                                             vs. OUTPUT POWER (DAC TO SPEAKER)
                                                                                 MAX98090 toc82
                          0                                                                                                          0
                                                                                                                                                                                                MAX98090 toc83
                                                                                                                                                                                                                                                   0
                                                                                                                                                                                                                                                                                                        MAX98090 toc84
                                     VSPKVDD = 4.2V                                                                                             VSPKVDD = 3.7V                                                                                                VSPKVDD = 3V      TQFN PACKAGE
                         -10                                                                                                       -10                                                                                                           -10
                                     fMCLK = 12.288MHz                                                                                          fMCLK = 12.288MHz                                                                                             fMCLK = 12.288MHz
                         -20         fLRCLK = 48kHz                                                                                -20                                                                                                           -20
                                                                                                                                                fLRCLK = 48kHz                                                                                                fLRCLK = 48kHz
                         -30         AV_SPKPGA = +8dB                                                                                           AV_SPKPGA = +8dB                                                                                              AV_SPKPGA = +8dB
                                                                                                                                   -30                                                                                                           -30
THD+N RATIO (dB)
                                     ZSPK = 8Ω + 68µH                                                                                                                                                                                                         ZSPK = 8Ω + 68µH
                                                                                                              THD+N RATIO (dB)                                                                                               THD+N RATIO (dB)
                         -40                                                                                                                    ZSPK = 8Ω + 68µH
                                     TQFN PACKAGE                                                                                  -40          TQFN PACKAGE                                                                                     -40
                         -50                                                                                                       -50                                                                                                           -50
                         -60                                                                                                       -60                                                                                                           -60
                         -70                                                fIN = 6000Hz                                           -70                                                                                                           -70                                              fIN = 6000Hz
                                                                                                                                                                                           fIN = 6000Hz
                         -80                                                fIN = 1000Hz                                           -80                                                                                                           -80                                              fIN = 1000Hz
                                                                                                                                                                                           fIN = 1000Hz
                         -90                                                 fIN = 100Hz                                           -90                                                                                                           -90
                                                                                                                                                                                            fIN = 100Hz                                                                                           fIN = 100Hz
                        -100                                                                                                      -100                                                                                                          -100
                               0.0      0.2      0.4        0.6     0.8    1.0       1.2    1.4                                          0.0        0.2         0.4         0.6      0.8         1.0         1.2                                       0.0     0.1   0.2      0.3   0.4    0.5   0.6       0.7     0.8
                                                   OUTPUT POWER (W)                                                                                          OUTPUT POWER (W)                                                                                               OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                                                        Maxim Integrated │ 51


MAX98091                                                                                                                                                        Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                TOTAL HARMONIC DISTORTION PLUS NOISE                                                                          TOTAL HARMONIC DISTORTION PLUS NOISE
                            vs. OUTPUT POWER (DAC TO SPEAKER)                                                                   vs. OUTPUT POWER (DAC TO SPEAKER)                                                                             vs. OUTPUT POWER (DAC TO SPEAKER)
                                                                         MAX98090 toc85                                                                                        MAX98090 toc86                                                                                        MAX98090 toc87
                     0                                                                                                    0                                                                                                            0
                                VSPKVDD = 5V                                                                                        VSPKVDD = 4.2V                                                                                            VSPKVDD = 3.7V
                    -10                                                                                               -10                                                                                                         -10
                                fMCLK = 12.288MHz                                                                                   fMCLK = 12.288MHz                                                                                         fMCLK = 12.288MHz
                    -20         fLRCLK = 48kHz                                                                        -20           fLRCLK = 48kHz                                                                                -20         fLRCLK = 48kHz
                    -30         AV_SPKPGA = +8dB                                                                      -30           AV_SPKPGA = +8dB                                                                              -30         AV_SPKPGA = +8dB
                                                                                                                                    ZSPK = 4Ω + 33µH                                                                                          ZSPK = 4Ω + 33µH
THD+N RATIO (dB)                                                                                THD+N RATIO (dB)                                                                                             THD+N RATIO (dB)
                                ZSPK = 4Ω + 33µH
                    -40         TQFN PACKAGE                                                                          -40           TQFN PACKAGE                                                                                  -40         TQFN PACKAGE
                    -50                                                                                               -50                                                                                                         -50
                    -60                                                                                               -60                                                                                                         -60
                    -70                                            fIN = 6000Hz                                       -70                                                   fIN = 6000Hz                                          -70                                             fIN = 6000Hz
                    -80                                            fIN = 1000Hz                                       -80                                                   fIN = 1000Hz                                          -80                                             fIN = 1000Hz
                    -90                                                fIN = 100Hz                                    -90                                                   fIN = 100Hz                                           -90                                             fIN = 100Hz
                   -100                                                                                              -100                                                                                                        -100
                          0.0             1.0              2.0             3.0                                                0.0        0.5         1.0        1.5          2.0                   2.5                                     0.00 0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00
                                           OUTPUT POWER (W)                                                                                      OUTPUT POWER (W)                                                                                         OUTPUT POWER (W)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                            TOTAL HARMONIC DISTORTION PLUS NOISE                                                                         TOTAL HARMONIC DISTORTION PLUS NOISE
                            vs. OUTPUT POWER (DAC TO SPEAKER)                                                                vs. FREQUENCY (DAC TO SPEAKER)                                                                               vs. FREQUENCY (DAC TO SPEAKER)
                                                                         MAX98090 toc88
                      0                                                                                              0                                                                                                            0
                                                                                                                                                                                        MAX98090 toc89                                                                                         MAX98090 toc90
                            VSPKVDD = 3V                  TQFN PACKAGE                                                         VSPK_VDD = 5V                                                                                                VSPK_VDD = 4.2V
                    -10
                            fMCLK = 12.288MHz                                                                       -10                                                                                                          -10
                                                                                                                               fMCLK = 12.288MHz                                                                                            fMCLK = 12.288MHz
                    -20     fLRCLK = 48kHz                                                                          -20        fLRCLK = 48kHz                                                                                    -20        fLRCLK = 48kHz
                            AV_SPKPGA = +8dB                                                                                   AV_SPKPGA = +8dB                                                                                             AV_SPKPGA = +8dB
                    -30                                                                                             -30                                                                                                          -30
                                                                                           THD+N RATIO (dB)
                            ZSPK = 4Ω + 33µH                                                                                   ZSPK = 8I + 68µH
                                                                                                                                                                                                         THD+N RATIO (dB)
                                                                                                                                                                                                                                            ZSPK = 8I + 68µH
THD+N RATIO (dB)
                    -40                                                                                             -40        WLP PACKAGE                                                                                       -40        WLP PACKAGE
                    -50                                                                                             -50                         POUT = 1.00W                                                                     -50
                                                                                                                                                                                                                                                POUT = 0.76W
                    -60                                                                                             -60                                                                                                          -60
                    -70                                           fIN = 6000Hz                                      -70                                                                                                          -70
                    -80                                           fIN = 1000Hz                                      -80                                                                                                          -80
                                                                                                                                                    POUT = 0.25W                                                                                             POUT = 0.20W
                    -90                                            fIN = 100Hz                                      -90                                                                                                          -90
                   -100                                                                                            -100                                                                                                         -100
                          0.0      0.2    0.4       0.6    0.8   1.0       1.2       1.4                                  10              100              1k         10k            100k                                              10           100           1k        10k            100k
                                            OUTPUT POWER (W)                                                                                     FREQUENCY (Hz)                                                                                           FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                        Maxim Integrated │ 52


MAX98091                                                                                                                                                  Ultra-Low Power Stereo Audio Codec
 Typical Operating Characteristics (continued)
 (VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
 and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
 (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
 SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
 AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
 = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
 to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                   DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                     TOTAL HARMONIC DISTORTION PLUS NOISE                                                                         TOTAL HARMONIC DISTORTION PLUS
                             vs. FREQUENCY (DAC TO SPEAKER)                                                           vs. FREQUENCY (DAC TO SPEAKER)                                                                          NOISE vs. FREQUENCY (DAC TO SPEAKER)
                     0                                                                                        0                                                                                                          0
                                                                      MAX98090 toc91                                                                                           MAX98090 toc92                                                                                            MAX98090 toc93
                               VSPK_VDD = 3.7V                                                                          VSPK_VDD = 5V                                                                                              VSPK_VDD = 4.2V
                    -10                                                                                      -10                                                                                                        -10
                               fMCLK = 12.288MHz                                                                        fMCLK = 12.288MHz                                                                                          fMCLK = 12.288MHz
                    -20        fLRCLK = 48kHz                                                                -20        fLRCLK = 48kHz                                                                                  -20        fLRCLK = 48kHz
                               AV_SPKPGA = +8dB                                                                         AV_SPKPGA = +8dB                                                                                           AV_SPKPGA = +8dB
                    -30                                                                                      -30                                                                                                        -30
THD+N RATIO (dB)                                                                       THD+N RATIO (dB)
                               ZSPK = 8I + 68µH                                                                         ZSPK = 4I + 33µH
                                                                                                                                                                                                THD+N RATIO (dB)
                                                                                                                                                                                                                                   ZSPK = 4I + 33µH
                    -40        WLP PACKAGE                                                                   -40        WLP PACKAGE                                                                                     -40        WLP PACKAGE
                    -50            POUT = 0.60W                                                              -50                                                                                                        -50               POUT = 1.50W
                    -60                                                                                      -60              POUT = 2.00W                                                                              -60
                    -70                                                                                      -70                                                                                                        -70
                    -80                                                                                      -80                                                                                                        -80
                                               POUT = 0.15W                                                                                 POUT = 0.50W
                    -90                                                                                      -90                                                                                                        -90                          POUT = 0.40W
                   -100                                                                                     -100                                                                                                       -100
                          10          100          1k         10k   100k                                           10             100            1k            10k         100k                                               10             100           1k            10k         100k
                                            FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                                             FREQUENCY (Hz)
                            TOTAL HARMONIC DISTORTION PLUS                                                                TOTAL HARMONIC DISTORTION PLUS                                                                             TOTAL HARMONIC DISTORTION PLUS
                          NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                          NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                       NOISE vs. FREQUENCY (DAC TO SPEAKER)
                                                                                                                                                                     MAX98090 toc95                                                                                            MAX98090 toc96
                     0                                                                                             0                                                                                                          0
                                                                      MAX98090 toc94
                               VSPK_VDD = 3.7V                                                                -10           VSPKVDD = 5V                                                                                  -10          VSPKVDD = 4.2V
                    -10
                               fMCLK = 12.288MHz                                                                            fMCLK = 12.288MHz                                                                                          fMCLK = 12.288MHz
                    -20        fLRCLK = 48kHz                                                                 -20           fLRCLK = 48kHz                                                                                -20          fLRCLK = 48kHz
                    -30        AV_SPKPGA = +8dB                                                               -30           AV_SPKPGA = +8dB                                                                              -30          AV_SPKPGA = +8dB
THD+N RATIO (dB)                                                                         THD+N RATIO (dB)                                                                                           THD+N RATIO (dB)
                               ZSPK = 4I + 33µH                                                                             ZSPK = 8Ω + 68µH                                                                                           ZSPK = 8Ω + 68µH
                    -40                                                                                       -40                                                                                                         -40
                               WLP PACKAGE                                                                                  TQFN PACKAGE                                                                                               TQFN PACKAGE
                    -50           POUT = 1.20W                                                                -50                                                                                                         -50
                    -60                                                                                       -60              POUT = 1.00W                                                                               -60             POUT = 0.76W
                    -70                                                                                       -70                                                                                                         -70
                    -80                                                                                       -80                                                                                                         -80
                    -90                     POUT = 0.30W                                                      -90                               POUT = 0.25W                                                              -90                              POUT = 0.2W
                   -100                                                                                      -100                                                                                                       -100
                          10          100          1k         10k   100k                                               10           100           1,000        10,000        100,000                                              10           100          1,000         10,000       100,000
                                            FREQUENCY (Hz)                                                                                FREQUENCY (Hz)                                                                                             FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                  Maxim Integrated │ 53


                    MAX98091                                                                                                                                                                            Ultra-Low Power Stereo Audio Codec
                    Typical Operating Characteristics (continued)
                    (VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
                    and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
                    (LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
                    SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
                    AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
                    = 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
                    to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                                         TOTAL HARMONIC DISTORTION PLUS                                                                                          TOTAL HARMONIC DISTORTION PLUS                                                                                  TOTAL HARMONIC DISTORTION PLUS
                                       NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                                    NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                            NOISE vs. FREQUENCY (DAC TO SPEAKER)
                                                                                MAX98090 toc97                                                                                                                  MAX98090 toc98                                                                                                 MAX98090 toc99
                              0                                                                                                                          0                                                                                                               0
                             -10        VSPKVDD = 3.7V                                                                                                  -10         VSPKVDD = 5V                                                                                                    VSPKVDD = 4.2V
                                                                                                                                                                                                                                                                        -10
                                        fMCLK = 12.288MHz                                                                                                           fMCLK = 12.288MHz                                                                                               fMCLK = 12.288MHz
                             -20        fLRCLK = 48kHz                                                                                                  -20         fLRCLK = 48kHz                                                                                      -20         fLRCLK = 48kHz
                             -30        AV_SPKPGA = +8dB                                                                                                -30         AV_SPKPGA = +8dB                                                                                    -30         AV_SPKPGA = +8dB
THD+N RATIO (dB)                                                                                           THD+N RATIO (dB)                                                                                                             THD+N RATIO (dB)
                                        ZSPK = 8Ω + 68µH                                                                                                            ZSPK = 4Ω + 68µH                                                                                                ZSPK = 4Ω + 68µH
                             -40        TQFN PACKAGE                                                                                                    -40         TQFN PACKAGE                                                                                        -40         TQFN PACKAGE
                             -50                                                                                                                        -50                                                                                                             -50
                             -60             POUT = 0.6W                                                                                                -60               POUT = 1.8W                                                                                   -60             POUT = 1.3W
                             -70                                                                                                                        -70                                                                                                             -70
                             -80                                                                                                                        -80                                                                                                             -80
                             -90                            POUT = 0.15W                                                                                -90                               POUT = 0.5W                                                                   -90                                POUT = 0.4W
                            -100                                                                                                                  -100                                                                                                                 -100
                                   10            100          1,000        10,000       100,000                                                               10              100             1,000      10,000         100,000                                               10              100           1,000         10,000          100,000
                                                       FREQUENCY (Hz)                                                                                                               FREQUENCY (Hz)                                                                                                  FREQUENCY (Hz)
                                          TOTAL HARMONIC DISTORTION PLUS                                                                                                 OUTPUT POWER vs. SUPPLY VOLTAGE                                                                            OUTPUT POWER vs. SUPPLY VOLTAGE
                                        NOISE vs. FREQUENCY (DAC TO SPEAKER)                                                                                                     (DAC TO SPEAKER)                                                                                           (DAC TO SPEAKER)
                                                                                MAX98090 toc100                                                                                                                     MAX98090 toc101                                                                                                MAX98090 toc102
                                   0                                                                                                                     2500                                                                                                          4500
                                            VSPKVDD = 3.7V                                                                                                               fMCLK = 12.288MHz                                                                                          fMCLK = 12.288MHz
                              -10                                                                                                                                                                        THD+N = 10%                                                   4000
                                            fMCLK = 12.288MHz                                                                                                            fLRCLK = 48kHz                                                                                             fLRCLK = 48kHz                       THD+N = 10%
                                                                                                                        OUTPUT POWER PER CHANNEL (mW)                                                                                  OUTPUT POWER PER CHANNEL (mW)
                              -20           fLRCLK = 48kHz                                                                                               2000            AV_SPKPGA = +8dB                                                                              3500         AV_SPKPGA = +8dB
                              -30           AV_SPKPGA = +8dB                                                                                                             ZSPK = 8Ω + 68µH                                                                                           ZSPK = 4Ω + 68µH
                                                                                                                                                                                                                                                                       3000         WLP PACKAGE
         THD+N RATIO (dB)
                                            ZSPK = 4Ω + 68µH                                                                                                             WLP PACKAGE
                              -40                                                                                                                        1500
                                            TQFN PACKAGE                                                                                                                                                                                                               2500
                              -50
                                                                                                                                                                                                                                                                       2000
                              -60              POUT = 1.0W                                                                                               1000
                                                                                                                                                                                                                                                                       1500
                              -70
                              -80                                                                                                                         500                                                                                                          1000
                                                                                                                                                                                                          THD+N = 1%                                                                                                     THD+N = 1%
                              -90                                                                                                                                                                                                                                       500
                                                               POUT = 0.3W
                             -100                                                                                                                             0                                                                                                           0
                                       10          100          1,000         10,000             100,000                                                           2.5       3.0        3.5       4.0     4.5         5.0        5.5                                          2.5       3.0          3.5      4.0        4.5        5.0         5.5
                                                         FREQUENCY (Hz)                                                                                                                 SUPPLY VOLTAGE (V)                                                                                          SUPPLY VOLTAGE (V)
                    www.maximintegrated.com                                                                                                                                                                                                                                                                Maxim Integrated │ 54


MAX98091                                                                                                                                                                                         Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                       DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                                                   OUTPUT POWER vs. SUPPLY VOLTAGE                                                                                         OUTPUT POWER vs. SUPPLY VOLTAGE                                                                                       GAIN vs. FREQUENCY
                                                           (DAC TO SPEAKER)                                                                                                        (DAC TO SPEAKER)                                                                                               (DAC TO SPEAKER)
                                                                                        MAX98090 toc103                                                                                                        MAX98090 toc104                                                   5
                                                                                                                                                           4500
                                                                                                                                                                                                                                                                                                                                                  MAX98090 toc105
                                   2500
                                                                                                                                                                           fMCLK = 12.288MHz                                                                                              fMCLK = 12.288MHz
                                                   fMCLK = 12.288MHz             THD+N = 10%                                                                                                                                                                                     4
                                                                                                                                                           4000            fLRCLK = 48kHz                THD+N = 10%                                                                      fLRCLK = 48kHz
                                                   fLRCLK = 48kHz
   OUTPUT POWER PER CHANNEL (mW)                                                                                           OUTPUT POWER PER CHANNEL (mW)
                                   2000                                                                                                                                    AV_SPKPGA = +8dB
                                                                                                                                                                                                                                                                                 3        AV_SPKPGA = 0dB
                                                   AV_SPKPGA = +8dB                                                                                        3500
                                                                                                                                                                                                                                                                                          ZSPK = 8I + 68µH
                                                                                                                                                                                                                                                    NORMALIZED GAIN (dB)
                                                   ZSPK = 8Ω + 68µH                                                                                                        ZSPK = 4Ω + 68µH                                                                                      2
                                                   TQFN PACKAGE                                                                                            3000            TQFN PACKAGE
                                   1500                                                                                                                                                                                                                                          1
                                                                                                                                                           2500
                                                                                                                                                                                                                                                                                 0
                                                                                                                                                           2000
                                   1000                                                                                                                                                                                                                                      -1
                                                                                                                                                           1500
                                                                                                                                                                                                                                                                             -2
                                    500                                                                                                                    1000
                                                                                  THD+N = 1%                                                                                                             THD+N = 1%                                                          -3
                                                                                                                                                            500                                                                                                              -4
                                         0                                                                                                                       0                                                                                                           -5
                                             2.5       3.0     3.5      4.0       4.5    5.0        5.5                                                              2.5       3.0     3.5     4.0       4.5    5.0        5.5                                                       10          100          1k           10k         100k
                                                              SUPPLY VOLTAGE (V)                                                                                                       SUPPLY VOLTAGE (V)                                                                                              FREQUENCY (Hz)
                                                       EFFICIENCY vs. OUTPUT                                                                                                    EFFICIENCY vs. OUTPUT                                                                                         EFFICIENCY vs. OUTPUT
                                                      POWER (DAC TO SPEAKER)                                                                                                   POWER (DAC TO SPEAKER)                                                                                        POWER (DAC TO SPEAKER)
                                   100                                                                                                                     100                                                                                                             100
                                                                                                      MAX98090 toc106                                                                                                        MAX98090 toc107                                                                                            MAX98090 toc108
                                   90                                                                                                                      90                                                                                                              90
                                   80                                                                                                                      80                                                                                                              80
                                                   ZSPK = 8I + 68µH            ZSPK = 4I + 33µH                                                                            ZSPK = 8I + 68µH                                                                                               ZSPK = 8I + 68µH
                                   70                                                                                                                      70                                         ZSPK = 4I + 33µH                                                     70                                      ZSPK = 4I + 33µH
EFFICIENCY (%)                                                                                                          EFFICIENCY (%)                                                                                                         EFFICIENCY (%)
                                   60                                                                                                                      60                                                                                                              60
                                   50                                                                                                                      50                                                                                                              50
                                   40                                                                                                                      40                                                                                                              40
                                                                              VSPK_VDD = 5V                                                                                                          VSPK_VDD = 4.2V
                                   30                                         fMCLK = 12.288MHz                                                            30                                        fMCLK = 12.288MHz                                                     30                                      VSPK_VDD = 3.7V
                                                                              fLRCLK = 48kHz                                                                                                         fLRCLK = 48kHz                                                                                                fMCLK = 12.288MHz
                                   20                                                                                                                      20                                                                                                              20                                      fLRCLK = 48kHz
                                                                              AV_SPKPGA = +8dB                                                                                                       AV_SPKPGA = +8dB
                                   10                                         WLP PACKAGE                                                                  10                                        WLP PACKAGE                                                           10                                      AV_SPKPGA = +8dB
                                                                                                                                                                                                                                                                                                                   WLP PACKAGE
                                     0                                                                                                                      0                                                                                                                0
                                             0       0.5 1.0 1.5 2.0 2.5 3.0                       3.5                                                               0        0.5   1.0   1.5    2.0    2.5               3.0                                                        0    0.25 0.50 0.75 1.00 1.25 1.50 1.75 2.00
                                                      OUTPUT POWER PER CHANNEL (W)                                                                                            OUTPUT POWER PER CHANNEL (W)                                                                                  OUTPUT POWER PER CHANNEL (W)
www.maximintegrated.com                                                                                                                                                                                                                                                                                Maxim Integrated │ 55


MAX98091                                                                                                                                                                    Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                          DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                                                  EFFICIENCY vs. OUTPUT                                                                                EFFICIENCY vs. OUTPUT                                                                                         EFFICIENCY vs. OUTPUT
                                                 POWER (DAC TO SPEAKER)                                                                               POWER (DAC TO SPEAKER)                                                                                        POWER (DAC TO SPEAKER)
                                                                               MAX98090 toc109                                                                                          MAX98090 toc110                                                                                                  MAX98090 toc111
                         100                                                                                                        100                                                                                                        100
                          90                                                                                                         90                                                                                                         90
                          80                                                                                                         80                                                                                                         80
                          70                                                                                                         70                                                                                                         70
       EFFICIENCY (%)                                                                                             EFFICIENCY (%)                                                                                             EFFICIENCY (%)
                          60               ZSPK = 8W + 68µH         ZSPK = 4W + 33µH                                                 60            ZSPK = 8W + 68µH        ZSPK = 4W + 33µH                                                     60             ZSPK = 8W + 68µH           ZSPK = 4W + 33µH
                          50                                                                                                         50                                                                                                         50
                          40                                                                                                         40                                                                                                         40
                                                                     VSPKVDD = 5V                                                                                           VSPKVDD = 4.2V                                                                                                 VSPKVDD = 3.7V
                          30                                         fMCLK = 12.288MHz                                               30                                     fMCLK = 12.288MHz                                                   30                                         fMCLK = 12.288MHz
                                                                     fLRCLK = 48kHz                                                                                         fLRCLK = 48kHz                                                                                                 fLRCLK = 48kHz
                          20                                                                                                         20                                                                                                         20
                                                                     AV_SPKPGA = +8dB                                                                                       AV_SPKPGA = +8dB                                                                                               AV_SPKPGA = +8dB
                          10                                         TQFN PACKAGE                                                    10                                     TQFN PACKAGE                                                        10                                         TQFN PACKAGE
                              0                                                                                                          0                                                                                                          0
                                  0.0      0.5  1.0   1.5    2.0  2.5    3.0               3.5                                               0.0    0.5    1.0    1.5    2.0     2.5                3.0                                                 0.0   0.3    0.5    0.8     1.0     1.3    1.5       1.8     2.0
                                            OUTPUT POWER PER CHANNEL (W)                                                                            OUTPUT POWER PER CHANNEL (W)                                                                                OUTPUT POWER PER CHANNEL (W)
                              SUPPLY CURRENT vs. SUPPLY VOLTAGE                                                                                POWER-SUPPLY REJECTION RATIO                                                                                   CROSSTALK vs. FREQUENCY
                                       (DAC TO SPEAKER)                                                                                        vs. FREQUENCY (DAC TO SPEAKER)                                                                                    (DAC TO SPEAKER)
                        5.0                                                                                                        120                                                                                                         0
                                                                                             MAX98090 toc112                                                                                          MAX98090 toc113                                                                                                  MAX98090 toc114
                                        fMCLK = 12.288MHz                                                                                                                                                                                                 fMCLK = 12.288MHz
                        4.5
                                        fLRCLK = 48kHz                                                                                                                                                                                                    fLRCLK = 48kHz
                                                                                                                                   100                                                                                                        -20
                        4.0             ZSPK = 8I + 68µH                                                                                                            SPK_VDD                                                                               AV_SPKPGA = 0dB
                                                                                                                                                                                                                                                          ZSPK = 8I + 68µH
SUPPLY CURRENT (mA)
                        3.5
                                                                                                                                   80                                                                                                         -40
                                                                                                                                                                                                                        CROSSTALK (dB)
                        3.0
                                                                                                               PSRR (dB)
                        2.5                                                                                                        60                   OTHER SUPPLIES                                                                        -60
                        2.0                                                                                                                                                                                                                                                               LEFT TO RIGHT
                                                                                                                                   40                                                                                                         -80
                        1.5                                                                                                                                                                                                                                     RIGHT TO LEFT
                                                                                                                                               fMCLK = 12.288MHz
                        1.0                                                                                                                    fLRCLK = 48kHz
                                                                                                                                   20                                                                                                     -100
                                                                                                                                               VRIPPLE = 100mVP-P
                        0.5
                                                                                                                                               ZSPK = 8I + 68µH
                         0                                                                                                          0                                                                                                     -120
                              2.5          3.0      3.5       4.0      4.5     5.0        5.5                                            10           100             1k          10k             100k                                              10              100            1k             10k              100k
                                                   SUPPLY VOLTAGE (V)                                                                                       FREQUENCY (Hz)                                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                           Maxim Integrated │ 56


MAX98091                                                                                                                                                                                                               Ultra-Low Power Stereo Audio Codec
 Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                      DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                                      INBAND OUTPUT SPECTRUM,                                                                                             INBAND OUTPUT SPECTRUM,                                                                                                                INBAND OUTPUT SPECTRUM,
                                    -3dBFS INPUT (DAC TO SPEAKER)                                                                                       -60dBFS INPUT (DAC TO SPEAKER)                                                                                                         -3dBFS INPUT (DAC TO SPEAKER)
                          20                                                                                                                  20                                                                                                                                    20
                                                                                                  MAX98090 toc115                                                                                                                       MAX98090 toc116                                                                                                 MAX98090 toc117
                                                                            fMCLK = 12.288MHz                                                                                                                     fMCLK = 12.288MHz                                                                                                   fMCLK = 13MHz
                           0                                                                                                                   0                                                                                                                                     0
                                                                                fLRCLK = 48kHz                                                                                                                        fLRCLK = 48kHz                                                                                                fLRCLK = 44.1kHz
                          -20                                                AV_SPKPGA = -6dB                                                 -20                                                                  AV_SPKPGA = -6dB                                                 -20                                            AV_SPKPGA = -6dB
OUTPUT AMPLITUDE (dBV)                                                                                              OUTPUT AMPLITUDE (dBV)                                                                                                                OUTPUT AMPLITUDE (dBV)
                                                                             ZSPK = 8I + 68µH                                                                                                                      ZSPK = 8I + 68µH                                                                                                ZSPK = 8I + 68µH
                          -40                                                                                                                 -40                                                                                                                                   -40
                          -60                                                                                                                 -60                                                                                                                                   -60
                          -80                                                                                                                 -80                                                                                                                                   -80
                         -100                                                                                                                -100                                                                                                                                  -100
                         -120                                                                                                                -120                                                                                                                                  -120
                         -140                                                                                                                -140                                                                                                                                  -140
                         -160                                                                                                                -160                                                                                                                                  -160
                                0        5                          10               15          20                                                 0            5                                        10               15          20                                                 0            5                      10         15            20
                                             FREQUENCY (kHz)                                                                                                                   FREQUENCY (kHz)                                                                                                                       FREQUENCY (kHz)
                                                                                       INBAND OUTPUT SPECTRUM,                                                                                                               INBAND OUTPUT SPECTRUM,
                                                                                     -60dBFS INPUT (DAC TO SPEAKER)                                                                                                        -3dBFS INPUT (DAC TO SPEAKER)
                                                                           20                                                                                                                                    20
                                                                                                                                                                     MAX98090 toc118                                                                                                                       MAX98090 toc119
                                                                                                                                                fMCLK = 13MHz                                                                                                                      fMCLK = 12.88MHz
                                                                            0                                                                                                                                     0
                                                                                                                                              fLRCLK = 44.1kHz                                                                                                                        fLRCLK = 48kHz
                                                                           -20                                                               AV_SPKPGA = -6dB                                                    -20                                                               AV_SPKPGA = -6dB
                                                 OUTPUT AMPLITUDE (dBV)                                                                                                                OUTPUT AMPLITUDE (dBV)
                                                                                                                                             ZSPK = 8I + 68µH                                                                                                                      ZSPK = 4I + 33µH
                                                                           -40                                                                                                                                   -40
                                                                           -60                                                                                                                                   -60
                                                                           -80                                                                                                                                   -80
                                                                          -100                                                                                                                                  -100
                                                                          -120                                                                                                                                  -120
                                                                          -140                                                                                                                                  -140
                                                                          -160                                                                                                                                  -160
                                                                                 0         5                        10                              15           20                                                    0        5                         10                              15           20
                                                                                                 FREQUENCY (kHz)                                                                                                                       FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                                      Maxim Integrated │ 57


MAX98091                                                                                                                                                                                                 Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                   DAC PLAYBACK PATH INPUT TO SPEAKER OUTPUT (continued)
                                                                                         INBAND OUTPUT SPECTRUM,                                                                                                    WIDEBAND FREQUENCY SPECTRUM
                                                                                       -60dBFS INPUT (DAC TO SPEAKER)                                                                                                     (DAC TO SPEAKER)
                                                                             20                                                                                                                          0
                                                                                                                                                                   MAX98090 toc120                                                                                                           MAX98090 toc121
                                                                                                                                          fMCLK = 12.88MHz                                                                                                           fMCLK = 12.88MHz
                                                                               0                                                                                                                                                                                        fLRCLK = 48kHz
                                                                                                                                             fLRCLK = 48kHz                                             -20
                                                                                                                                          AV_SPKPGA = -6dB                                                                                                            AV_SPKPGA = 0dB
                                                                             -20
                                                   OUTPUT AMPLITUDE (dBV)
                                                                                                                                          ZSPK = 4I + 33µH                                                                                                           ZSPK = 8W + 68µH
                                                                             -40
                                                                                                                                                                                     AMPLITUDE (dBV)
                                                                                                                                                                                                        -40
                                                                             -60
                                                                                                                                                                                                        -60
                                                                             -80
                                                                            -100                                                                                                                        -80
                                                                            -120
                                                                                                                                                                                                       -100
                                                                            -140
                                                                            -160                                                                                                                       -120
                                                                                   0         5                             10                       15            20                                          0.1           1                                             10                100
                                                                                                  FREQUENCY (kHz)                                                                                                          FREQUENCY (MHz)
                                                                                                                    LINE INPUT TO SPEAKER OUTPUT
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                       TOTAL HARMONIC DISTORTION PLUS                                                                                                       GAIN vs. FREQUENCY
                       vs. OUTPUT POWER (LINE TO SPEAKER)                                                                                      NOISE vs. FREQUENCY (LINE TO SPEAKER)                                                                                                   (LINE TO SPEAKER)
                     0                                                                                                                    0                                                                                                                           5
                                                                                                  MAX98090 toc122                                                                                                           MAX98090 toc123                                                                                      MAX98090 toc124
                              AV_LINEPGA = 0dB                                                                                                      AV_LINEPGA = 0dB                                                                                                           AV_LINEPGA = 0dB
                    -10                                                                                                                  -10                                                                                                                          4
                              AV_SPKPGA = +8dB                                                                                                      AV_SPKPGA = +8dB                                                                                                           AV_SPKPGA = +8dB
                    -20       ZSPK = 8I + 68µH                                                                                           -20        ZSPK = 8I + 68µH                                                                                                  3        ZSPK = 8I + 68µH
                              CIN = 10µF
                                                                                                                                                                                                                                              NORMALIZED GAIN (dB)
                    -30                                                                                                                             CIN = 10µF                                                                                                        2        CIN = 10µF
                                                                                                                                         -30
THD+N RATIO (dB)                                                                                                     THD+N RATIO (dB)
                    -40                   f = 6000Hz                                                                                                                                                                                                                  1
                                                                                                                                         -40
                    -50                                                                                                                  -50                                                                                                                          0
                                                                                                                                                         POUT = 0.60W
                    -60                                                                                                                  -60                                                                                                                         -1
                    -70                                                                                                                  -70                                                                                                                         -2
                    -80                                                                                                                  -80                                                                                                                         -3
                    -90                                                      f = 1000Hz                                                  -90                                                                                                                         -4
                              f = 100Hz                                                                                                                            POUT = 0.15W
                   -100                                                                                                                 -100                                                                                                                         -5
                          0         0.2      0.4                             0.6       0.8       1.0                                           10           100                         1k                      10k       100k                                            10          100                       1k     10k     100k
                                          OUTPUT POWER (W)                                                                                                         FREQUENCY (Hz)                                                                                                            FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                                                                                        Maxim Integrated │ 58


MAX98091                                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                            LINE INPUT TO SPEAKER OUTPUT (continued)
                                                        POWER-SUPPLY REJECTION RATIO                                                                                  CROSSTALK vs. FREQUENCY
                                                        vs. FREQUENCY (LINE TO SPEAKER)                                                                                  (LINE TO SPEAKER)
                                             100                                                                                                          0
                                                                                                             MAX98090 toc125                                                                                      MAX98090 toc126
                                                                                                                                                                    AV_LINEPGA = 0dB
                                              90                                                                                                                    AV_SPKPGA = 0dB
                                                                             OTHER SUPPLIES                                                              -20
                                              80                                                                                                                    ZSPK = 8I + 68µH
                                                                                                                                                                    CIN = 10µF
                                              70
                                                                                                                                                         -40
                                                                                                                               CROSSTALK (dB)
                                              60
                    PSRR (dB)
                                              50                          SPK_VDD                                                                        -60
                                              40
                                                                                                                                                                                   RIGHT TO LEFT
                                                                                                                                                         -80
                                              30
                                              20        VRIPPLE = 100mVP-P
                                                        ZSPK = 8I + 68µH                                                                                -100
                                              10        CIN = 10µF                                                                                                                 LEFT TO RIGHT
                                               0                                                                                                        -120
                                                   10         100            1k          10k          100k                                                     10         100          1k          10k          100k
                                                                     FREQUENCY (Hz)                                                                                             FREQUENCY (Hz)
                                                         INBAND OUTPUT SPECTRUM,                                                                                      INBAND OUTPUT SPECTRUM,
                                                        -3dBV INPUT (LINE TO SPEAKER)                                                                               -60dBV INPUT (LINE TO SPEAKER)
                                              0                                                                                                           0
                                                                                                       MAX98090 toc127                                                                                            MAX98090 toc128
                                                                                  AV_LINEPGA = -6dB                                                                                         AV_LINEPGA = -6dB
                                             -20                                   AV_SPKPGA = 0dB                                                       -20                                 AV_SPKPGA = 0dB
                                                                                  ZSPK = 8I + 68µH                                                                                          ZSPK = 8I + 68µH
                   OUTPUT AMPLITUDE (dBV)                                                                                      OUTPUT AMPLITUDE (dBV)
                                             -40                                         CIN = 10µF                                                      -40                                       CIN = 10µF
                                             -60                                                                                                         -60
                                             -80                                                                                                         -80
                                            -100                                                                                                        -100
                                            -120                                                                                                        -120
                                            -140                                                                                                        -140
                                                   0          5           10            15            20                                                       0           5           10          15           20
                                                                    FREQUENCY (kHz)                                                                                             FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                             Maxim Integrated │ 59


MAX98091                                                                                                                                                      Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                          DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE
                      vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)
                     0                                                                                                 0                                                                                                 0
                                                                                MAX98090 toc129                                                                                   MAX98090 toc130                                                                                        MAX98090 toc131
                    -10       fMCLK = 13MHz                                                                           -10       fMCLK = 13MHz                                                                           -10       fMCLK = 12.288MHz
                              fLRCLK = 8kHz                                                                                     fLRCLK = 44.1kHz                                                                                  fLRCLK = 48kHz
                    -20       AV_HP = +3dB                                                                            -20       AV_HP = +3dB                                                                            -20       AV_HP = +3dB
                    -30       RHP = 32I                                                                               -30       RHP = 32I                                                                               -30       RHP = 32I
THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)
                    -40                                                                                               -40                                                                                               -40
                                                                   f = 1000Hz                                                                                                                                                                    f = 1000Hz
                    -50                                                                                               -50                                                                                               -50
                                           f = 100Hz
                    -60                                                                                               -60                     f = 6000Hz                                                                -60
                                                                                                                                                                                                                                             f = 100Hz
                    -70                                                                                               -70        f = 1000Hz                                                                             -70                                               f = 6000Hz
                    -80                                        f = 3000Hz                                             -80                                                                                               -80
                    -90                                                                                               -90                                                                                               -90
                                                                                                                                                           f = 100Hz
                   -100                                                                                              -100                                                                                              -100
                          0       0.01        0.02      0.03      0.04      0.05                                            0        0.01        0.02       0.03        0.04    0.05                                          0       0.01        0.02         0.03        0.04        0.05
                                          OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                OUTPUT POWER (W)
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE                                                              TOTAL HARMONIC DISTORTION PLUS NOISE
                      vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)                                                               vs. OUTPUT POWER (DAC TO HEADPHONE)
                     0                                                                                                 0                                                                                                 0
                                                                                MAX98090 toc132                                                                                   MAX98090 toc133                                                                                        MAX98090 toc134
                              fMCLK = 12.288MHz                                                                                 fMCLK = 12.288MHz                                                                                 fMCLK = 12.288MHz
                    -10                                                                                               -10                                                                                               -10
                              fLRCLK = 96kHz                                                                                    fLRCLK = 48kHz                                                                                    fLRCLK = 48kHz
                    -20       AV_HP = +3dB                                                                            -20       AV_HP = +3dB                                                                            -20       LOW POWER MODE
                              RHP = 32I                                                                                         RHP = 16I                                                                                         AV_HP = +3dB
                    -30                                                                                               -30                                                                                               -30
THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)                                                                                  THD+N RATIO (dB)
                                                                                                                                                                                                                                  RHP = 16I
                    -40                                                                                               -40                                                                                               -40
                                           f = 1000Hz                                                                                       f = 1000Hz                                                                                       f = 6000Hz
                    -50                                                                                               -50                                                                                               -50
                    -60                                                                                               -60                                                                                               -60         f = 1000Hz
                                         f = 100Hz                                                                                      f = 100Hz
                    -70                                        f = 6000Hz                                             -70                                          f = 6000Hz                                           -70
                    -80                                                                                               -80                                                                                               -80
                    -90                                                                                               -90                                                                                               -90                                   f = 100Hz
                   -100                                                                                              -100                                                                                              -100
                          0       0.01        0.02      0.03      0.04      0.05                                            0     0.01 0.02        0.03 0.04       0.05 0.06    0.07                                          0     0.01 0.02       0.03 0.04         0.05 0.06        0.07
                                          OUTPUT POWER (W)                                                                                    OUTPUT POWER (W)                                                                                OUTPUT POWER (W)
www.maximintegrated.com                                                                                                                                                                                                                              Maxim Integrated │ 60


MAX98091                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (continued)
                      TOTAL HARMONIC DISTORTION PLUS NOISE                                                            TOTAL HARMONIC DISTORTION PLUS                                                            TOTAL HARMONIC DISTORTION PLUS
                      vs. OUTPUT POWER (DAC TO HEADPHONE)                                                          NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                    NOISE vs. FREQUENCY (DAC TO HEADPHONE)
                     0                                                                                             0                                                                                         0
                                                                            MAX98090 toc135                                                                           MAX98090 toc136                                                                                MAX98090 toc137
                    -10        fMCLK = 12.288MHz                                                                             fMCLK = 13MHz                                                                             fMCLK = 13MHz
                                                                                                                  -10                                                                                       -10
                               fLRCLK = 48kHz                                                                                fLRCLK = 8kHz                                                                             fLRCLK = 44.1kHz
                    -20        LOW POWER MODE                                                                     -20        AV_HP = +3dB                                                                   -20        AV_HP = +3dB
                    -30        AV_HP = +3dB                                                                                  RHP = 32I                                                                                 RHP = 32I
                                                                                                                  -30                                                                                       -30
THD+N RATIO (dB)                                                                              THD+N RATIO (dB)                                                                          THD+N RATIO (dB)
                               RHP = 32I
                    -40                                                                                           -40                                                                                       -40
                    -50              f = 6000Hz                                                                   -50                                                                                       -50
                    -60        f = 1000Hz                                                                         -60                                                                                       -60
                                                                                                                             POUT = 0.01W        POUT = 0.02W
                    -70                                                                                           -70                                                                                       -70        POUT = 0.01W       POUT = 0.02W
                    -80                                                                                           -80                                                                                       -80
                    -90                                     f = 100Hz                                             -90                                                                                       -90
                   -100                                                                                          -100                                                                                      -100
                          0        0.01        0.02        0.03    0.04   0.05                                          10               100            1k          10k                                           10          100          1k            10k    100k
                                            OUTPUT POWER (W)                                                                              FREQUENCY (Hz)                                                                            FREQUENCY (Hz)
                        TOTAL HARMONIC DISTORTION PLUS                                                                TOTAL HARMONIC DISTORTION PLUS                                                            TOTAL HARMONIC DISTORTION PLUS
                     NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                        NOISE vs. FREQUENCY (DAC TO HEADPHONE)                                                    NOISE vs. FREQUENCY (DAC TO HEADPHONE)
                     0                                                                                             0                                                                                         0
                                                                            MAX98090 toc138                                                                           MAX98090 toc139                                                                                MAX98090 toc140
                    -10        fMCLK = 12.288MHz                                                                  -10        fMCLK = 12.288MHz                                                              -10        fMCLK = 12.288MHz
                               fLRCLK = 48kHz                                                                                fLRCLK = 96kHz                                                                            fLRCLK = 48kHz
                    -20        AV_HP = +3dB                                                                       -20        AV_HP = +3dB                                                                   -20        AV_HP = +3dB
                    -30        RHP = 32I                                                                          -30        RHP = 32I                                                                      -30        RHP = 16I
THD+N RATIO (dB)                                                                              THD+N RATIO (dB)                                                                          THD+N RATIO (dB)
                    -40                                                                                           -40                                                                                       -40
                    -50                                                                                           -50                                                                                       -50
                    -60                                                                                           -60                                                                                       -60                            POUT = 0.01W
                    -70         POUT = 0.01W      POUT = 0.02W                                                    -70        POUT = 0.01W      POUT = 0.02W                                                 -70                                      POUT = 0.025W
                    -80                                                                                           -80                                                                                       -80
                    -90                                                                                           -90                                                                                       -90
                   -100                                                                                          -100                                                                                      -100
                          10          100             1k          10k     100k                                          10         100           1k           10k   100k                                          10          100          1k            10k    100k
                                             FREQUENCY (Hz)                                                                               FREQUENCY (Hz)                                                                            FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                   Maxim Integrated │ 61


MAX98091                                                                                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                             DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (continued)
                          TOTAL HARMONIC DISTORTION PLUS NOISE                                                                               TOTAL HARMONIC DISTORTION PLUS NOISE                                                                                                                 GAIN vs. FREQUENCY
                            vs. FREQUENCY (DAC TO HEADPHONE)                                                                                   vs. FREQUENCY (DAC TO HEADPHONE)                                                                                                                   (DAC TO HEADPHONE)
                     0                                                                                                                  0                                                                                                                                        5
                                                                                                 MAX98090 toc141                                                                                                                       MAX98090 toc142                                                                                    MAX98090 toc143
                               fMCLK = 12.288MHz                                                                                                  fMCLK = 12.288MHz                                                                                                                        fMCLK = 13MHz
                    -10                                                                                                                -10                                                                                                                                       4         fLRCLK = 8kHz
                               fLRCLK = 48kHz                                                                                                     fLRCLK = 48kHz
                    -20        LOW POWER MODE                                                                                          -20        LOW POWER MODE                                                                                                                 3         AV_HP = 0dB
                               AV_HP = +3dB                                                                                                       AV_HP = +3dB                                                                                                                             RHP = 32I
                                                                                                                                                                                                                                                         NORMALIZED GAIN (dB)
                    -30                                                                                                                -30                                                                                                                                       2
THD+N RATIO (dB)                                                                                                   THD+N RATIO (dB)
                               RHP = 16I                                                                                                          RHP = 32I
                    -40                                                                                                                -40                                                                                                                                       1
                                                                                                                                                                                                         POUT = 0.02W
                    -50                                         POUT = 0.025W                                                          -50                                                                                                                                       0
                    -60                                                                                                                -60                                                                                                                                       -1
                    -70                                                                                                                -70                                                                                                                                       -2
                    -80                                                                                                                -80                                                                                                                                       -3
                    -90                        POUT = 0.01W                                                                            -90                                       POUT = 0.01W                                                                                    -4
                   -100                                                                                                               -100                                                                                                                                       -5
                          10          100                 1k                        10k       100k                                           10          100                               1k                             10k        100k                                             10             100          1k                    10k
                                            FREQUENCY (Hz)                                                                                                     FREQUENCY (Hz)                                                                                                                         FREQUENCY (Hz)
                                                                                           GAIN vs. FREQUENCY                                                                                                             POWER CONSUMPTION vs. OUTPUT
                                                                                           (DAC TO HEADPHONE)                                                                                                               POWER (DAC TO HEADPHONE)
                                                                          5                                                                                                                                   120
                                                                                                                                                               MAX98090 toc144                                                                                                                        MAX98090 toc145
                                                                                    fMCLK = 12.288MHz                                                                                                                     fMCLK = 12.288MHz
                                                                          4         fLRCLK = 48kHz                                                                                                                        fLRCLK = 48kHz
                                                                                    AV_HP = 0dB                                                                                                               100         AV_HP = +3dB
                                                                                                                                                                                   CURRENT CONSUMPTION (mA)
                                                                          3
                                                                                    RHP = 32I
                                                   NORMALIZED GAIN (dB)
                                                                          2                                                                                                                                                                                                     RHP = 16I
                                                                                                                                                                                                               80
                                                                          1
                                                                          0                                                                                                                                    60
                                                                          -1
                                                                                                                                                                                                               40
                                                                          -2
                                                                          -3
                                                                                                                                                                                                               20                                                                 RHP = 32I
                                                                          -4
                                                                          -5                                                                                                                                    0
                                                                               10          100                          1k                        10k      100k                                                     0.1                 1           10                                               100
                                                                                                 FREQUENCY (Hz)                                                                                                                 OUTPUT POWER PER CHANNEL (mW)
www.maximintegrated.com                                                                                                                                                                                                                                                                                                 Maxim Integrated │ 62


MAX98091                                                                                                                                       Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                 DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (continued)
                                                          POWER CONSUMPTION vs. OUTPUT                                                             POWER-SUPPLY REJECTION RATIO
                                                            POWER (DAC TO HEADPHONE)                                                             vs. FREQUENCY (DAC TO HEADPHONE)
                                              120                                                                                         120
                                                                                                      MAX98090 toc146                                                                        MAX98090 toc147
                                                          fMCLK = 12.288MHz
                                                          fLRCLK = 48kHz                                                                                           SPK_VDD
                                              100         LOW POWER MODE                                                                  100
                   CURRENT CONSUMPTION (mA)
                                                          AV_HP = +3dB
                                               80                                   RHP = 16I                                              80
                                                                                                                        PSRR (dB)
                                               60                                                                                          60                      OTHER SUPPLIES
                                               40                                                                                          40
                                                                                                                                                     fMCLK = 12.288MHz
                                                                                                                                                     fLRCLK = 48kHz
                                               20                                     RHP = 32I                                            20        VRIPPLE = 100mVP-P
                                                                                                                                                     RHP = 32I
                                                0                                                                                           0
                                                    0.1              1           10               100                                           10          100         1k       10k      100k
                                                             OUTPUT POWER PER CHANNEL (mW)                                                                        FREQUENCY (Hz)
                                                       POWER-SUPPLY REJECTION RATIO                                                                     CROSSTALK vs. FREQUENCY
                                                     vs. FREQUENCY (DAC TO HEADPHONE)                                                                     (DAC TO HEADPHONE)
                                              120                                                                                          0
                                                                                                    MAX98090 toc148                                                                         MAX98090 toc149
                                                                                                                                                     fMCLK = 12.288MHz
                                                                           SPK_VDD                                                                   fLRCLK = 48kHz
                                              100                                                                                         -20
                                                                                                                                                     AV_HP = 0dB
                                                                                                                                                     RHP = 32I
                                               80                                                                                        -40
                                                                                                                        CROSSTALK (dB)
                   PSRR (dB)
                                               60                       OTHER SUPPLIES                                                   -60
                                                                                                                                                                    LEFT TO RIGHT
                                               40         fMCLK = 12.288MHz                                                               -80
                                                          fLRCLK = 48kHz                                                                                 RIGHT TO LEFT
                                                          LOW POWER MODE
                                               20                                                                                        -100
                                                          VRIPPLE = 100mVP-P
                                                          RHP = 32I
                                                0                                                                                        -120
                                                    10           100           1k        10k      100k                                          10          100           1k        10k   100k
                                                                       FREQUENCY (Hz)                                                                             FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                        Maxim Integrated │ 63


MAX98091                                                                                                                                                  Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (continued)
                                       INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                    -3dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -3dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc150                                                                                 MAX98090 toc151                                                                                  MAX98090 toc152
                                                            fMCLK = 13MHz                                                                                    fMCLK = 13MHz                                                                                 fMCLK = 13MHz
                           0                                fLRCLK = 8kHz                                                  0                                 fLRCLK = 8kHz                                                 0                               fLRCLK = 44.1kHz
                                                            AV_HP = 0dB                                                                                      AV_HP = 0dB                                                                                   AV_HP = 0dB
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                            RHP = 32I                                                                                        RHP = 32I                                                                                     RHP = 32I
                          -40                                                                                             -40                                                                                             -40
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15            20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
                                    INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,
                                -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -3dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc153                                                                                 MAX98090 toc154                                                                                  MAX98090 toc155
                                                          fMCLK = 13MHz                                                                                  fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                           0                              fLRCLK = 44.1kHz                                                 0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz
                                                          AV_HP = 0dB                                                                                    AV_HP = 0dB                                                                                     AV_HP = 0dB
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                          RHP = 32I                                                                                      RHP = 32I                                                                                       RHP = 32I
                          -40                                                                                             -40                                                                                             -40
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15            20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                           Maxim Integrated │ 64


MAX98091                                                                                                                                                  Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                               DAC PLAYBACK PATH INPUT TO HEADPHONE OUTPUT (continued)
                                       INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,
                                    -3dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -6dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc156                                                                                 MAX98090 toc157                                                                                 MAX98090 toc158
                                                         fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                           0                             fLRCLK = 96kHz                                                    0                             fLRCLK = 96kHz                                                    0                             fLRCLK = 48kHz
                                                         AV_HP = 0dB                                                                                     AV_HP = 0dB                                                                                     LOW POWER MODE
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                         RHP = 32I                                                                                       RHP = 32I                                                                                       AV_HP = 0dB
                          -40                                                                                             -40                                                                                             -40                            RHP = 32I
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15           20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
                                    INBAND OUTPUT SPECTRUM,                                                                            INBAND OUTPUT SPECTRUM,                                                                      INBAND OUTPUT SPECTRUM,
                                -60dBFS INPUT (DAC TO HEADPHONE)                                                                    -6dBFS INPUT (DAC TO HEADPHONE)                                                             -60dBFS INPUT (DAC TO HEADPHONE)
                          20                                                                                              20                                                                                              20
                                                                              MAX98090 toc159                                                                                 MAX98090 toc160                                                                                 MAX98090 toc161
                                                         fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz                                                                               fMCLK = 12.288MHz
                           0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz                                                    0                             fLRCLK = 48kHz
                                                         LOW POWER MODE                                                                                  AV_HP = 0dB                                                                                     AV_HP = 0dB
                          -20                                                                                             -20                                                                                             -20
OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)                                                                          OUTPUT AMPLITUDE (dBV)
                                                         AV_HP = 0dB                                                                                     RHP = 16I                                                                                       RHP = 16I
                          -40                            RHP = 32I                                                        -40                                                                                             -40
                          -60                                                                                             -60                                                                                             -60
                          -80                                                                                             -80                                                                                             -80
                         -100                                                                                            -100                                                                                            -100
                         -120                                                                                            -120                                                                                            -120
                         -140                                                                                            -140                                                                                            -140
                         -160                                                                                            -160                                                                                            -160
                                0         5         10          15           20                                                 0         5         10          15           20                                                 0         5         10          15           20
                                              FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)                                                                                 FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                                                           Maxim Integrated │ 65


MAX98091                                                                                                                                              Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                                           LINE INPUT TO HEADPHONE OUTPUT
                                 TOTAL HARMONIC DISTORTION                                                                     TOTAL HARMONIC DISTORTION                                                                             GAIN vs. FREQUENCY
                                 PLUS NOISE vs. OUTPUT POWER                                                                    PLUS NOISE vs. FREQUENCY                                                                            (LINE TO HEADPHONE)
                                     (LINE TO HEADPHONE)                                                                          (LINE TO HEADPHONE)                                                             5
                                                                                                                                                                                                                                                                   MAX98090 toc164
                      0                                                                                            0                                                                                                        AV_LINEPGA = 0dB
                                                                                                                                                                                                                  4
                                                                            MAX98090 toc162                                                                             MAX98090 toc163
                               AV_LINEPGA = 0dB                                                                              AV_LINEPGA = 0dB                                                                               AV_HP = 0dB
                    -10                                                                                           -10
                               AV_HP = +3dB                                                                                  AV_HP = +8dB                                                                         3         RHP = 32I
                    -20        RHP = 32I                                                                                     RHP = 32I                                                                                      CIN = 10µF
                                                                                                                                                                                          NORMALIZED GAIN (dB)
                                                                                                                  -20                                                                                             2
                    -30        CIN = 10µF                                                                                    CIN = 10µF
                                                                                                                  -30                                                                                             1
THD+N RATIO (dB)                                                                              THD+N RATIO (dB)
                    -40
                    -50                                                                                           -40                                                                                             0
                    -60                   fIN = 6000Hz                                                            -50                                                                                             -1
                    -70          fIN = 100Hz
                                                                                                                  -60                                                                                             -2
                    -80
                                                                                                                  -70            POUT = 10mW                                                                      -3
                    -90                                                                                                                                 POUT = 20mW
                                                                                                                  -80                                                                                             -4
                   -100
                   -110              fIN = 1000Hz                                                                 -90                                                                                             -5
                   -120                                                                                          -100                                                                                                  10           100         1k         10k   100k
                          0         0.01       0.02        0.03    0.04   0.05                                          10           100         1k         10k       100k                                                                FREQUENCY (Hz)
                                             OUTPUT POWER (W)                                                                              FREQUENCY (Hz)
                             POWER-SUPPLY REJECTION RATIO                                                                        CROSSTALK vs. FREQUENCY                                                                  COMMON-MODE REJECTION RATIO
                           vs. FREQUENCY (LINE TO HEADPHONE)                                                                       (LINE TO HEADPHONE)                                                                  vs. FREQUENCY (LINE TO HEADPHONE)
                   120                                                                                             0                                                                                             100
                                                                            MAX98090 toc165                                                                             MAX98090 toc166                                                                            MAX98090 toc167
                               VRIPPLE = 100mVP-P                                                                            fMCLK = 12.288MHz
                                                                                                                             fLRCLK = 48kHz                                                                       90
                               RHP = 32I
                   100                                                                                            -20        AV_HP = 0dB
                               CIN = 10µF                                                                                                                                                                         80
                                                                                                                             RHP = 32I
                                                                                                                                                                                                                  70
                    80                                                                                            -40
                                                                                              CROSSTALK (dB)
                                     BIAS_MODE = 1
                                                                                                                                                                                          CMRR (dBV)
                                                                                                                                                                                                                  60
PSRR (dB)
                    60                                                                                            -60                                                                                             50
                                                                                                                                                                                                                  40
                    40                                                                                            -80          LEFT TO RIGHT                                                                      30        RHP = 32I
                                                                                                                                                                                                                  20        CIN = 10µF
                    20             BIAS_MODE = 0                                                                 -100                                                                                                       AV_HP = 0dB
                                                                                                                                                        RIGHT TO LEFT                                             10        AV_LINEPGA = 0dB
                     0                                                                                           -120                                                                                              0
                          10           100            1k          10k     100k                                          10           100         1k         10k       100k                                             10           100         1k         10k   100k
                                              FREQUENCY (Hz)                                                                               FREQUENCY (Hz)                                                                                 FREQUENCY (Hz)
www.maximintegrated.com                                                                                                                                                                                                                        Maxim Integrated │ 66


MAX98091                                                                                                                                        Ultra-Low Power Stereo Audio Codec
Typical Operating Characteristics (continued)
(VAVDD = VHPVDD = VDVDDIO = 1.8V, VDVDD = 1.2V, VSPKVDD = 3.7V. Receiver load (RRCV) connected between RCVP/LOUTL
and RCVN/LOUTR (LINMOD = 0). Line output loads (RLOUT) connected between from RCVP/LOUTL and RCVN/LOUTR to GND
(LINMOD = 1). Headphone loads (RHP) connected from HPL or HPR to GND. Speaker loads (ZSPK) connected between SPK_P and
SPK_N. RRCV = J, RLOUT = J, RHP = J, ZSPK = J. CREF = 2.2µF, CBIAS = CMICBIAS = 1µF, CC1N-C1P = CCPVDD = CCPVSS = 1µF.
AV_MICPRE_ = AV_MICPGA_ = AV_LINEPGA_= 0dB, AV_ADCLVL = AV_ADCGAIN = 0dB, AV_DACLVL = AV_DACGAIN = 0dB, AV_MIXGAIN
= 0dB, AV_RCV = AV_LOUT = AV_HP = AV_SPK = 0dB. fMCLK = 12.288MHz, fLRCLK = 48kHz, MAS = 0, 20-bit source data. TA = TMIN
to TMAX unless otherwise noted. Typical values are at TA = +25°C.) (Note 2)
                                                         LINE INPUT TO HEADPHONE OUTPUT (continued)
                                                           INBAND OUTPUT SPECTRUM,                                                                       INBAND OUTPUT SPECTRUM,
                                                        -3dBFS INPUT (LINE TO HEADPHONE)                                                             -60dBFS INPUT (LINE TO HEADPHONE)
                                              20                                                                                               20
                                                                                                   MAX98090 toc168                                                                              MAX98090 toc169
                                                                               AV_LINEPGA = 0dB                                                                             AV_LINEPGA = 0dB
                                               0                               AV_HP = 0dB                                                      0                           AV_HP = 0dB
                                                                               RHP = 32I                                                                                    RHP = 32I
                                              -20                                                                                              -20
                    OUTPUT AMPLITUDE (dBV)                                                                           OUTPUT AMPLITUDE (dBV)
                                                                               CIN = 10µF                                                                                   CIN = 10µF
                                              -40                                                                                              -40
                                              -60                                                                                              -60
                                              -80                                                                                              -80
                                             -100                                                                                             -100
                                             -120                                                                                             -120
                                             -140                                                                                             -140
                                             -160                                                                                             -160
                                                    0          5         10          15           20                                                 0      5         10          15           20
                                                                   FREQUENCY (kHz)                                                                              FREQUENCY (kHz)
www.maximintegrated.com                                                                                                                                                                                           Maxim Integrated │ 67


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Bump/Pin Configurations
                               TOP VIEW
                          (BUMP SIDE DOWN)
                                                         MAX98091
                                  1        2      3       4       5        6       7        8
                            +
                               SPKRGND   SPKRN  SPKRP   SPKLP   SPKLN  SPKLGND IN1/DMD1 IN1/DMD1
                        A
                              RCVN/LOUTR  N.C. SPKVDD  SPKVDD  JACKSNS    IN3  IN2/DMC1 IN2/DMC1
                        B
                              RCVP/LOUTL  N.C.   N.C. IN5/DMD2   N.C.     IN4   MICBIAS  MICBIAS
                        C
                                 HPR     HPSNS   SCL  IN6/DMC2   N.C.    REF     AGND     AGND
                        D
                                 HPL      SDA    N.C.    N.C.    SDIN    BIAS    AVDD     AVDD
                        E
                                CPVDD     C1N    C1P     IRQ    LRCLK   DVDDIO   DVDD     DVDD
                        F
                                HPGND    CPVSS HPVDD    MCLK     BCLK   SDOUT    DGND     DGND
                        G
                                                            WLP
                                               (3.66mm x 3.2 mm, 0.4 pitch)
www.maximintegrated.com                                                                          Maxim Integrated │ 68


MAX98091                                                                                        Ultra-Low Power Stereo Audio Codec
Bump/Pin Configurations (continued)
                          TOP VIEW
                                        DVDD   N.C.    N.C.    N.C.    AVDD   AGND    BIAS   REF       MICBIAS      IN6/DMC2               IN5/DMD2
                                                                                                                                 IN4
                                        36 35 34 33 32 31 30 29 28 27 26 25
                             DGND 37                                                                                                                  24 N.C.
                           DVDDIO 38                                                                                                                  23 IN3
                            SDOUT 39                                                                                                                  22 N.C.
                              SDIN 40                                                                                                                 21 IN1/DMD1
                            LRCLK 41                                                                                                                  20 IN2/DMC1
                             BCLK 42                                        MAX98091                                                                  19 SPKLGND
                              IRQ 43                                                                                                                  18 SPKLP
                             MCLK 44                                                                                                                  17 SPKLN
                              SCL 45                                                                                                                  16 N.C.
                              SDA 46                                                                                                                  15 SPKVDD
                            HPVDD 47           +                                                                                                      14 SPKVDD
                              C1P 48                                                                                                                  13 SPKRP
                                         1       2       3       4      5      6       7       8          9          10 11 12
                                               HPGND
                                        CIN
                                                       CPVSS   CPVDD
                                                                       HPL
                                                                              HPSNS
                                                                                      HPR
                                                                                             JACKSNS
                                                                                                       RCVP/LOUTL   RCVN/LOUTR
                                                                                                                                 SPKRGND
                                                                                                                                           SPKRN
                                                                 TQFN
                                                          (6mm x 6mm x 0.8mm)
www.maximintegrated.com                                                                                                                                             Maxim Integrated │ 69


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Bump/Pin Description
 BUMP        PIN         NAME                                             FUNCTION
   A1        11       SPKRGND   Right Speaker Amplifier Ground
   A2        12         SPKRN   Negative Right-Channel Class D Speaker Output
   A3        13          SPKRP  Positive Right-Channel Class D Speaker Output
   A4        18          SPKLP  Positive Left-Channel Class D Speaker Output
   A5        17          SPKLN  Negative Left-Channel Class D Speaker Output
   A6        19       SPKLGND   Left Speaker Amplifier Ground
                                Positive Differential Microphone 1 Input or Single-Ended Line Input 1. AC-couple with a
 A7, A8      21        IN1/DMD1
                                series 1μF capacitor. Can be retasked as digital microphone 1 data input.
   B1        10      RCVN/LOUTR Negative Earpiece Amplifier Output/Right Line Output
 B2, C2,   16, 22,
 C3, C5,     24,
                          N.C.  No Connection. Not internally connected.
 D5, E3,   33, 34,
   E4        35
                                Speaker and Microphone Bias Power Supply. Bypass each to SPK_GND with a 1µF
 B3, B4    14, 15       SPKVDD
                                capacitor with a single shared 10µF bulk capacitor.
                                Jack Detection Input. Connect to the microphone terminal of the headset jack to detect jack
   B5         8        JACKSNS
                                activity.
                                Positive Differential Microphone 2 Input or Single-Ended Line Input 3. AC-couple with a
   B6        23           IN3
                                series 1μF capacitor.
                                Negative Differential Microphone 1 Input or Single-Ended Line Input 2. AC-couple with a
 B7, B8      20        IN2/DMC1
                                series 1μF capacitor. Can be retasked as digital microphone 1 clock output.
   C1         9      RCVP/LOUTL Positive Earpiece Amplifier Output/Left Line Output
                                Auxiliary Positive Differential Microphone Input or Single-Ended Line Input. AC-couple with a
   C4        25        IN5/DMD2
                                series 1µF capacitor. Can be retasked as digital microphone 2 data input.
                                Negative Differential Microphone 2 Input or Single-Ended Line Input 4. AC-couple with a
   C6        26           IN4
                                series 1μF capacitor.
                                Low Noise Microphone Bias Voltage Output. Bypass to SPKLGND with a 1μF capacitor.
 C7, C8      28         MICBIAS The bias voltage is programmable. An external resistor in the 2.2kΩ to 1kΩ range should be
                                used to set the microphone current.
   D1         7           HPR   Right-Channel Headphone Output
                                Headphone Amplifier Ground Sense. Connect to the headphone jack ground terminal or
   D2         6         HPSNS
                                connect to ground.
   D3        45           SCL   I2C Serial-Clock Input. Connect a pullup resistor to DVDD for full output swing.
www.maximintegrated.com                                                                                   Maxim Integrated │ 70


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
Bump/Pin Description (continued)
 BUMP      NAME          NAME                                            FUNCTION
                                Auxiliary Negative Differential Microphone Input or Single-Ended Line Input. AC-couple with
   D4        27        IN6/DMC2
                                a series 1µF capacitor. Can be retasked as digital microphone 2 clock output.
   D6        29           REF   Converter Reference. Bypass to AGND with a 2.2µF capacitor.
 D7, D8      31          AGND   Analog Ground
   E1         5            HPL  Left-Channel Headphone Output
   E2        46           SDA   I2C Serial-Data Input/Output. Connect a pullup resistor to DVDD for full output swing.
   E5        40           SDIN  Digital Audio Serial-Data DAC Input. The input voltage is referenced to DVDDIO.
   E6        30           BIAS  Common-Mode Reference Voltage. Bypass to AGND with a 1µF capacitor.
 E7, E8      32          AVDD   Analog Power Supply. Bypass to AGND with a 1µF capacitor.
   F1         4         CPVDD   Noninverting Charge-Pump Output. Bypass to HPGND with a 1µF ceramic capacitor.
                                Charge-Pump Flying Capacitor Negative Terminal. Connect a 1µF ceramic capacitor
   F2         1           C1N
                                between C1N and C1P.
                                Charge-Pump Flying Capacitor Positive Terminal. Connect a 1µF ceramic capacitor between
   F3        48            C1P
                                C1N and C1P.
   F4        43            IRQ  Active-Low Hardware Interrupt Output. Connect a 10kΩ pullup resistor to VDD.
                                Digital Audio Left-Right Clock Input/Output. LRCLK is the audio sample rate clock and
                                determines whether audio data is routed to the left or right channel. In TDM mode, LRCLK is
   F5        41          LRCLK
                                a frame sync pulse. LRCLK is an input when the MAX98091 is in slave mode and an output
                                when in master mode. The input/output voltage is referenced to DVDDIO.
   F6        38         DVDDIO  Digital Audio Interface Power-Supply Input. Bypass to DGND with a 1µF capacitor.
  F7, F8     36          DVDD   Digital Power Supply. Bypass to DGND with a 1µF capacitor.
   G1         2         HPGND   Headphone Ground
   G2         3         CPVSS   Inverting Charge-Pump Output. Bypass to HPGND with a 1µF ceramic capacitor.
                                Headphone Power Supply. Bypass to HPGND with a 10µF bulk capacitor with a parallel
   G3        47         HPVDD
                                0.1µF capacitor as close as possible to the device.
   G4        44          MCLK   Master Clock Input. Acceptable input frequency range is 10MHz to 60MHz.
                                Digital Audio Bit Clock Input/Output. BCLK is an input when the IC is in slave mode and an
   G5        42           BCLK
                                output when in master mode. The input/output voltage is referenced to DVDDIO.
   G6        39         SDOUT   Digital Audio Serial-Data ADC Output. The output voltage is referenced to DVDDIO.
 G7, G8      37          DGND   Digital Ground
www.maximintegrated.com                                                                                   Maxim Integrated │ 71


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
Detailed Description                                           The second is an integrated, filterless, Class D stereo
The MAX98091 is a fully integrated stereo audio codec          speaker amplifier. This amplifier provides efficient ampli-
with FlexSound audio processing and integrated input           fication for two speakers, and includes active-emissions-
and output audio amplifiers.                                   limiting to minimize the radiated emissions (EMI) tradition-
                                                               ally associated with Class D. The right channel features
The device features six flexible analog inputs. Each pair      a slave mode, where the switching is synchronized to
can be configured as a differential analog microphone          that of the left channel to eliminate the beat tone that
input, a stereo single-ended or differential line input(s),    can occur with asynchronous operation. In most systems
or as a reduced power, direct differential analog input to     with short speaker traces, no Class D output filtering is
the ADC mixer. Two input pairs, IN1-IN2 and IN5-IN6, can       required.
also be retasked to support up to four digital microphones.
As a result, four microphones (two digital and two analog      The third is a Class H, ground-referenced stereo head-
or digital) can be recorded from simultaneously. The ana-      phone amplifier featuring Maxim’s second-generation
log input signals can be amplified by up to 50dB before        DirectDrive architecture. The Class H headphone ampli-
being routed either to the stereo ADC or directly to the       fier features an internal charge pump that generates both
analog output mixers for playback.                             a positive and negative supply for the headphone ampli-
                                                               fier. This provides a ground-referenced output signal that
The device contains two independent stereo record              eliminates the need for either DC-blocking capacitors or
paths, each providing voice (IIR) and music (FIR) fil-         a midrail bias for the headphone jack ground return. The
tering, an optional DC-blocking highpass filter, a fully       headphone dedicated ground sense current return reduc-
configurable biquad filter and a -12dB to 45dB range of        es crosstalk and output noise. A tracking circuit monitors
programmable digital gain and level control. The primary       the signal level and automatically selects the appropriate
record path receives data from either the ADC or digital       charge-pump switching frequency and supply voltage
microphones 1L and 1R, while the secondary record path         level. For low signal levels, the charge pump switches at a
is dedicated to digital microphones 2L and 2R. The ADC         reduced frequency and outputs ±VHPVDD/2 for improved
supports sample rates between 8kHz and 96kHz, features         efficiency. When the signal amplitude increases, the
two performance modes, and provides two oversampling           charge-pump switching frequency also increases and
rate options.                                                  continues to output ±VHPVDD/2. For high signal levels,
The digital audio interface (DAI) can simultaneously           the charge pump outputs full-scale rails at ±VHPVDD to
transmit and receive separate and distinct stereo audio        maximize output power.
signals. The DAI supports a wide range of PCM digital          The device also includes several additional features
audio formats including I2S, left justified (LJ), right justi- such as a programmable external microphone bias,
fied (RJ), and four-slot TDM.                                  configurable jack detection and identification, extensive
As with the record path, the DAI to DAC playback path          click-and-pop reduction circuitry, power and performance
supports sample rates from 8kHz to 96kHz, both voice           management settings, and a full range of quick configura-
(IIR) and music (FIR) filtering (high stopband attenuation     tion options.
at fS/2), optional DC-blocking filters, and a -15dB to 18dB
range of programmable digital gain and level control. In       Device I2C Register Map
addition, the playback path also features a 7-band para-       Table 1 lists all of the registers, their addresses, and pow-
metric biquad equalizer, dynamic range control (DRC),          er-on-reset (PoR) states. Registers 0x01, 0x02, and 0xFF
and a summing digital sidetone from the primary record         are read-only. Registers 0x06 to 0x0B (quick setup) are
path DSP.                                                      write only (pushbutton). All of the remaining registers are
The device includes three analog output drivers. The           read/write. Write zeros to any unused bits in the register
first is a Class AB differential receiver/earpiece amplifier.  table when updating the register, unless otherwise noted.
Alternatively, the receiver amplifier can also be configured
as a stereo single-ended line output driver.
www.maximintegrated.com                                                                                   Maxim Integrated │ 72


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map
   REGISTER DESCRIPTION                                    REGISTER CONTENTS                                         POR
 ADDR        NAME       R/W    BIT 7    BIT 6      BIT 5      BIT 4      BIT 3      BIT 2       BIT 1     BIT 0     STATE
RESET/STATUS/INTERRUPT REGISTERS
          SOFTWARE
 0x00                    W SWRESET         —         —          —          —         —           —         —         0x00
            RESET
 0x01  DEVICE STATUS CoR        CLD      SLD        ULK         —          —        JDET     DRCACT    DRCCLP        0x00
 0x02   JACK STATUS      R        —        —         —          —          —       LSNS       JKSNS        —         0x00
 0x03 INTERUPT MASKS R/W        ICLD     ISLD       IULK        —          —       IJDET     IDRCACT IDRCCLP         0x04
QUICK SETUP REGISTERS
 0x04  SYSTEM CLOCK      W       26M   19P2M        13M     12P288M       12M   11P2896M         —       256FS       0x00
 0x05   SAMPLE RATE      W        —        —      SR_96K     SR_32K     SR_48K   SR_44K1      SR_16K     SR_8K       0x00
 0x06  DAI INTERFACE     W        —        —       RJ_M       RJ_S       LJ_M       LJ_S       I2S_M     I2S_S       0x00
                                        DIG2_      DIG2_      DIG2_
 0x07      DAC PATH      W   DIG2_HP                                       —         —           —         —         0x00
                                         EAR        SPK       LOUT
        MIC/DIRECT TO                   IN34_                            IN12_     IN34_       IN56_
 0x08                    W IN12_MIC1                 —          —                                          —         0x00
              ADC                        MIC2                            DADC      DADC        DADC
 0x09    LINE TO ADC     W  IN12S_AB IN34S_AB IN56S_AB      IN34D_A    IN65D_B       —           —         —         0x00
         ANALOG MIC            IN12_    IN12_      IN12_      IN12_      IN34_     IN34_       IN34_     IN34_
 0x0A                    W                                                                                           0x00
             LOOP             M1HPL   M1SPKL      M1EAR     M1LOUTL     M2HPR    M2SPKR       M2EAR    M2LOUTR
        ANALOG LINE           IN12S_   IN34D_     IN34D_     IN12S_     IN34S_     IN65D      IN65D_    IN34S_
 0x0B                    W                                                                                           0x00
             LOOP              ABHP    ASPKL       AEAR      ABLOUT      ABHP     _BSPKR       BEAR     ABLOUT
RESERVED REGISTER
 0x0C     RESERVED       —        —        —         —          —          —         —           —         —         0x00
ANALOG INPUT CONFIGURATION REGISTERS
          LINE INPUT
 0x0D                   R/W IN34DIFF IN65DIFF    IN1SEEN    IN2SEEN   IN3SEEN    IN4SEEN     IN5SEEN   IN6SEEN       0x00
            CONFIG
 0x0E LINE INPUT LEVEL R/W MIXG135 MIXG246               LINAPGA[2:0]                     LINBPGA[2:0]               0x1B
 0x0F    INPUT MODE     R/W EXTBUFA EXTBUFB          —          —          —         —           EXT_MIC[1:0]        0x00
          MIC1 INPUT
 0x10                   R/W       —         PA1EN[1:0]                         PGAM1[4:0]                            0x14
             LEVEL
          MIC2 INPUT
 0x11                   R/W       —         PA2EN[1:0]                         PGAM2[4:0]                            0x14
             LEVEL
MICROPHONE CONFIGURATION REGISTERS
           MIC BIAS
 0x12                   R/W       —        —         —          —          —         —            MBVSEL[1:0]        0x00
           VOLTAGE
          DIGITAL MIC
 0x13                   R/W       —            DMICCLK[2:0]           DIGMIC2R DIGMIC2L DIGMIC1R DIGMIC1L            0x00
            ENABLE
          DIGITAL MIC
 0x14                   R/W               DMIC_COMP[3:0]                   —         —          DMIC_FREQ[1:0]       0x00
            CONFIG
www.maximintegrated.com                                                                               Maxim Integrated │ 73


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                                  REGISTER CONTENTS                                           POR
 ADDR        NAME       R/W BIT 7     BIT 6     BIT 5       BIT 4        BIT 3     BIT 2        BIT 1     BIT 0     STATE
RECORD PATH AND CONFIGURATION REGISTERS
 0x15 LEFT ADC MIXER R/W      —                                      MIXADL[6:0]                                     0x00
 0x16 RIGHT ADC MIXER R/W     —                                      MIXADR[6:0]                                     0x00
        LEFT RECORD
 0x17                   R/W   —               AVLG[2:0]                                AVL[3:0]                      0x03
             LEVEL
       RIGHT RECORD
 0x18                   R/W   —               AVRG[2:0]                                AVR[3:0]                      0x03
             LEVEL
      RECORD BIQUAD
 0x19                   R/W   —         —         —           —                       AVBQ[3:0]                      0x00
             LEVEL
 0x1A RECORD SIDETONE R/W      DSTS[1:0]          —                              DVST[4:0]                           0x00
CLOCK CONFIGURATION REGISTERS
 0x1B  SYSTEM CLOCK R/W       —         —           PSCLK[1:0]             —         —           —          —        0x00
 0x1C   CLOCK MODE      R/W               FREQ[3:0]                        —         —           —       USE_MI      0x00
        CLOCK RATIO
 0x1D                   R/W   —                                        NI[14:8]                                      0x00
             NI MSB
        CLOCK RATIO
 0x1E                   R/W                                       NI[7:0]                                            0x00
             NI LSB
        CLOCK RATIO
 0x1F                   R/W                                      MI[15:8]                                            0x00
            MI MSB
        CLOCK RATIO
 0x20                   R/W                                       MI[7:0]                                            0x00
             MI LSB
 0x21   MASTER MODE     R/W  MAS        —         —           —           —                 BSEL[2:0]                0x00
INTERFACE CONTROL REGISTERS
          INTERFACE
 0x22                   R/W   —         —         RJ         WCI          BCI       DLY             WS[1:0]          0x00
            FORMAT
 0x23   TDM CONTROL     R/W   —         —         —           —           —          —          FSW       TDM        0x00
 0x24    TDM FORMAT     R/W    SLOTL[1:0]           SLOTR[1:0]                       SLOTDLY[3:0]                    0x00
               I/O
 0x25                   R/W   —         —       LTEN        LBEN       DMONO      HIZOFF      SDOEN      SDIEN       0x00
       CONFIGURATION
             FILTER                                                    DMIC2_     DMIC2_
 0x26                   R/W MODE      AHPF      DHPF         DHF                                 —          —        0x88
       CONFIGURATION                                                    MODE       HPF
        DAI PLAYBACK
 0x27                   R/W DVM         —            DVG[1:0]                           DV[3:0]                      0x00
             LEVEL
        EQ PLAYBACK
 0x28                   R/W   —         —         —        EQCLP                      DVEQ[3:0]                      0x00
             LEVEL
www.maximintegrated.com                                                                               Maxim Integrated │ 74


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                                  REGISTER CONTENTS                                      POR
 ADDR        NAME       R/W   BIT 7    BIT 6     BIT 5     BIT 4     BIT 3      BIT 2     BIT 1     BIT 0      STATE
HEADPHONE (HP) CONTROL REGISTERS
 0x29  LEFT HP MIXER    R/W    —        —                              MIXHPL[5:0]                              0x00
 0x2A RIGHT HP MIXER R/W       —        —                              MIXHPR[5:0]                              0x00
                                                MIXHP     MIXHP
 0x2B    HP CONTROL     R/W    —        —                              MIXHPRG[1:0]        MIXHPLG[1:0]         0x00
                                                 RSEL      LSEL
 0x2C LEFT HP VOLUME R/W     HPLM       —         —                         HPVOLL[4:0]                         0x1A
           RIGHT HP
 0x2D                   R/W  HPRM       —         —                         HPVOLR[4:0]                         0x1A
            VOLUME
SPEAKER (SPK) CONFIGURATION REGISTERS
 0x2E LEFT SPK MIXER R/W       —        —                              MIXSPL[5:0]                              0x00
                                       SPK_
 0x2F RIGHT SPK MIXER R/W      —                                       MIXSPR[5:0]                              0x00
                                      SLAVE
 0x30   SPK CONTROL     R/W    —        —         —         —          MIXSPRG[1:0]        MIXSPLG[1:0]         0x00
           LEFT SPK
 0x31                   R/W  SPLM       —                              SPVOLL[5:0]                             0x2C
            VOLUME
          RIGHT SPK
 0x32                   R/W  SPRM       —                              SPVOLR[5:0]                             0x2C
            VOLUME
DYNAMIC RANGE CONTROL (DRC) CONFIGURATION REGISTERS
 0x33     DRC TIMING    R/W DRCEN            DRCRLS[2:0]              —                DRCATK[2:0]              0x00
              DRC
 0x34                   R/W         DRCCMP[2:0]                             DRCTHC[4:0]                         0x00
        COMPRESSOR
 0x35  DRC EXPANDER R/W             DRCEXP[2:0]                             DRCTHE[4:0]                         0x00
 0x36      DRC GAIN     R/W    —        —         —                          DRCG[4:0]                          0x00
RECEIVER (RCV OR EARPIECE) AND LINE OUTPUT (LOUT) REGISTERS
 0x37 RCV/LOUTL MIXER R/W      —        —                             MIXRCVL[5:0]                              0x00
          RCV/LOUTL
 0x38                   R/W    —        —         —         —         —          —        MIXRCVLG[1:0]         0x00
           CONTROL
          RCV/LOUTL
 0x39                   R/W RCVLM       —         —                        RCVLVOL[4:0]                         0x15
            VOLUME
 0x3A    LOUTR MIXER    R/W LINMOD      —                             MIXRCVR[5:0]                              0x00
 0x3B LOUTR CONTROL R/W        —        —         —         —         —          —        MIXRCVRG[1:0]         0x00
 0x3C  LOUTR VOLUME R/W     RCVRM       —         —                        RCVRVOL[4:0]                         0x15
JACK DETECT AND ENABLE REGISTERS
 0x3D    JACK DETECT    R/W JDETEN    JDWK        —         —         —          —           JDEB[1:0]          0x00
 0x3E   INPUT ENABLE    R/W    —        —         —        MBEN    LINEAEN    LINEBEN    ADREN     ADLEN        0x00
 0x3F OUTPUT ENABLE R/W     HPREN     HPLEN     SPREN     SPLEN    RCVLEN     RCVREN     DAREN     DALEN        0x00
           ZCD/SLEW
 0x40                   R/W    —        —         —         —         —         ZDEN     VS2EN      VSEN        0x00
           CONTROL
          DSP FILTER                                     DMIC2BQ             EQ3BAND EQ5BAND EQ7BAND
 0x41                   R/W    —        —         —               RECBQEN                                       0x00
            ENABLE                                          EN                   EN        EN        EN
www.maximintegrated.com                                                                          Maxim Integrated │ 75


MAX98091                                                  Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                              REGISTER CONTENTS                                POR
 ADDR        NAME       R/W BIT 7  BIT 6     BIT 5     BIT 4       BIT 3  BIT 2  BIT 1    BIT 0      STATE
BIAS AND POWER MODE CONFIGURATION REGISTERS
                                                                                         BIAS_
 0x42   BIAS CONTROL    R/W  —      —         —         —           —      —       —                  0x00
                                                                                         MODE
                                                                                 PERF
 0x43   DAC CONTROL     R/W  —      —         —         —           —      —             DACHP        0x00
                                                                                 MODE
                                                                                  ADC
 0x44   ADC CONTROL     R/W  —      —         —         —           —    OSR128          ADCHP        0x06
                                                                                DITHER
           DEVICE
 0x45                   R/W SHDN    —         —         —           —      —       —       —          0x00
         SHUTDOWN
PLAYBACK PARAMETRIC EQUALIZER BAND 1: BIQUAD FILTER COEFFICIENT REGISTERS
 0x46     EQUALIZER     R/W                               B0_1[23:16]                                  —
 0x47      BAND 1       R/W                               B0_1[15:8]                                   —
 0x48  COEFFICIENT   B0 R/W                                B0_1[7:0]                                   —
 0x49     EQUALIZER     R/W                               B1_1[23:16]                                  —
 0x4A      BAND 1       R/W                               B1_1[15:8]                                   —
 0x4B  COEFFICIENT   B1 R/W                                B1_1[7:0]                                   —
 0x4C     EQUALIZER     R/W                               B2_1[23:16]                                  —
 0x4D      BAND 1       R/W                               B2_1[15:8]                                   —
 0x4E  COEFFICIENT   B2 R/W                                B2_1[7:0]                                   —
 0x4F     EQUALIZER     R/W                               A1_1[23:16]                                  —
 0x50      BAND 1       R/W                               A1_1[15:8]                                   —
 0x51 COEFFICIENT A1 R/W                                   A1_1[7:0]                                   —
 0x52     EQUALIZER     R/W                               A2_1[23:16]                                  —
 0x53      BAND 1       R/W                               A2_1[15:8]                                   —
 0x54 COEFFICIENT A2 R/W                                   A2_1[7:0]                                   —
PLAYBACK PARAMETRIC EQUALIZER BAND 2: BIQUAD FILTER COEFFICIENT REGISTERS
 0x55     EQUALIZER     R/W                               B0_2[23:16]                                  —
 0x56      BAND 2       R/W                               B0_2[15:8]                                   —
 0x57  COEFFICIENT   B0 R/W                                B0_2[7:0]                                   —
 0x58     EQUALIZER     R/W                               B1_2[23:16]                                  —
 0x59      BAND 2       R/W                               B1_2[15:8]                                   —
 0x5A COEFFICIENT B1 R/W                                   B1_2[7:0]                                   —
 0x5B     EQUALIZER     R/W                               B2_2[23:16]                                  —
 0x5C      BAND 2       R/W                               B2_2[15:8]                                   —
 0x5D COEFFICIENT B2 R/W                                   B2_2[7:0]                                   —
www.maximintegrated.com                                                                Maxim Integrated │ 76


MAX98091                                                  Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                              REGISTER CONTENTS                               POR
 ADDR       NAME        R/W BIT 7 BIT 6      BIT 5     BIT 4      BIT 3   BIT 2 BIT 1    BIT 0      STATE
 0x5E    EQUALIZER      R/W                               A1_2[23:16]                                 —
 0x5F      BAND 2       R/W                               A1_2[15:8]                                  —
 0x60  COEFFICIENT   A1 R/W                                A1_2[7:0]                                  —
 0x61    EQUALIZER      R/W                               A2_2[23:16]                                 —
 0x62      BAND 2       R/W                               A2_2[15:8]                                  —
 0x63  COEFFICIENT   A2 R/W                                A2_2[7:0]                                  —
PLAYBACK PARAMETRIC EQUALIZER BAND 3: BIQUAD FILTER COEFFICIENT REGISTERS
 0x64    EQUALIZER      R/W                               B0_3[23:16]                                 —
 0x65      BAND 3       R/W                               B0_3[15:8]                                  —
 0x66  COEFFICIENT   B0 R/W                                B0_3[7:0]                                  —
 0x67    EQUALIZER      R/W                               B1_3[23:16]                                 —
 0x68      BAND 3       R/W                               B1_3[15:8]                                  —
 0x69  COEFFICIENT   B1 R/W                                B1_3[7:0]                                  —
 0x6A    EQUALIZER      R/W                               B2_3[23:16]                                 —
 0x6B      BAND 3       R/W                               B2_3[15:8]                                  —
 0x6C  COEFFICIENT   B2 R/W                                B2_3[7:0]                                  —
 0x6D    EQUALIZER      R/W                               A1_3[23:16]                                 —
 0x6E      BAND 3       R/W                               A1_3[15:8]                                  —
 0x6F COEFFICIENT A1 R/W                                   A1_3[7:0]                                  —
 0x70    EQUALIZER      R/W                               A2_3[23:16]                                 —
 0x71      BAND 3       R/W                               A2_3[15:8]                                  —
 0x72 COEFFICIENT A2 R/W                                   A2_3[7:0]                                  —
PLAYBACK PARAMETRIC EQUALIZER BAND 4: BIQUAD FILTER COEFFICIENT REGISTERS
 0x73    EQUALIZER      R/W                               B0_4[23:16]                                 —
 0x74      BAND 4       R/W                               B0_4[15:8]                                  —
 0x75  COEFFICIENT   B0 R/W                                B0_4[7:0]                                  —
 0x76    EQUALIZER      R/W                               B1_4[23:16]                                 —
 0x77      BAND 4       R/W                               B1_4[15:8]                                  —
 0x78 COEFFICIENT B1 R/W                                   B1_4[7:0]                                  —
 0x79    EQUALIZER      R/W                               B2_4[23:16]                                 —
 0x7A      BAND 4       R/W                               B2_4[15:8]                                  —
 0x7B COEFFICIENT B2 R/W                                   B2_4[7:0]                                  —
 0x7C    EQUALIZER      R/W                               A1_4[23:16]                                 —
 0x7D      BAND 4       R/W                               A1_4[15:8]                                  —
 0x7E  COEFFICIENT   A1 R/W                                A1_4[7:0]                                  —
www.maximintegrated.com                                                               Maxim Integrated │ 77


MAX98091                                                   Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                               REGISTER CONTENTS                               POR
 ADDR       NAME        R/W BIT 7  BIT 6      BIT 5     BIT 4      BIT 3   BIT 2 BIT 1    BIT 0      STATE
 0x7F    EQUALIZER      R/W                                A2_4[23:16]                                 —
 0x80      BAND 4       R/W                                A2_4[15:8]                                  —
 0x81  COEFFICIENT   A2 R/W                                 A2_4[7:0]                                  —
 PLAYBACK PARAMETRIC EQUALIZER BAND 5: BIQUAD FILTER COEFFICIENT REGISTERS
 0x82    EQUALIZER      R/W                                B0_5[23:16]                                 —
 0x83      BAND 5       R/W                                B0_5[15:8]                                  —
 0x84  COEFFICIENT   B0 R/W                                 B0_5[7:0]                                  —
 0x85    EQUALIZER      R/W                                B1_5[23:16]                                 —
 0x86      BAND 5       R/W                                B1_5[15:8]                                  —
 0x87  COEFFICIENT   B1 R/W                                 B1_5[7:0]                                  —
 0x88    EQUALIZER      R/W                                B2_5[23:16]                                 —
 0x89      BAND 5       R/W                                B2_5[15:8]                                  —
 0x8A  COEFFICIENT   B2 R/W                                 B2_5[7:0]                                  —
 0x8B    EQUALIZER      R/W                                A1_5[23:16]                                 —
 0x8C      BAND 5       R/W                                A1_5[15:8]                                  —
 0x8D COEFFICIENT A1 R/W                                    A1_5[7:0]                                  —
 0x8E    EQUALIZER      R/W                                A2_5[23:16]                                 —
 0x8F      BAND 5       R/W                                A2_5[15:8]                                  —
 0x90 COEFFICIENT A2 R/W                                    A2_5[7:0]                                  —
 PLAYBACK PARAMETRIC EQUALIZER BAND 6: BIQUAD FILTER COEFFICIENT REGISTERS
 0x91    EQUALIZER      R/W                                B0_6[23:16]                                 —
 0x92      BAND 6       R/W                                B0_6[15:8]                                  —
 0x93  COEFFICIENT   B0 R/W                                 B0_6[7:0]                                  —
 0x94    EQUALIZER      R/W                                B1_6[23:16]                                 —
 0x95      BAND 6       R/W                                B1_6[15:8]                                  —
 0x96 COEFFICIENT B1 R/W                                    B1_6[7:0]                                  —
 0x97    EQUALIZER      R/W                                B2_6[23:16]                                 —
 0x98      BAND 6       R/W                                B2_6[15:8]                                  —
 0x99 COEFFICIENT B2 R/W                                    B2_6[7:0]                                  —
 0x9A    EQUALIZER      R/W                                A1_6[23:16]                                 —
 0x9B      BAND 6       R/W                                A1_6[15:8]                                  —
 0x9C  COEFFICIENT   A1 R/W                                 A1_6[7:0]                                  —
 0x9D    EQUALIZER      R/W                                A2_6[23:16]                                 —
 0x9E      BAND 6       R/W                                A2_6[15:8]                                  —
 0x9F  COEFFICIENT   A2 R/W                                 A2_6[7:0]                                  —
www.maximintegrated.com                                                                Maxim Integrated │ 78


MAX98091                                                  Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                              REGISTER CONTENTS                               POR
 ADDR       NAME        R/W BIT 7   BIT 6     BIT 5    BIT 4      BIT 3   BIT 2 BIT 1    BIT 0      STATE
PLAYBACK PARAMETRIC EQUALIZER BAND 7: BIQUAD FILTER COEFFICIENT REGISTERS
 0xA0    EQUALIZER      R/W                               B0_7[23:16]                                 —
 0xA1      BAND 7       R/W                               B0_7[15:8]                                  —
 0xA2 COEFFICIENT B0 R/W                                   B0_7[7:0]                                  —
 0xA3    EQUALIZER      R/W                               B1_7[23:16]                                 —
 0xA4      BAND 7       R/W                               B1_7[15:8]                                  —
 0xA5 COEFFICIENT B1 R/W                                   B1_7[7:0]                                  —
 0xA6    EQUALIZER      R/W                               B2_7[23:16]                                 —
 0xA7      BAND 7       R/W                               B2_7[15:8]                                  —
 0xA8  COEFFICIENT   B2 R/W                                B2_7[7:0]                                  —
 0xA9    EQUALIZER      R/W                               A1_7[23:16]                                 —
 0xAA      BAND 7       R/W                               A1_7[15:8]                                  —
 0xAB  COEFFICIENT   A1 R/W                                A1_7[7:0]                                  —
 0xAC    EQUALIZER      R/W                               A2_7[23:16]                                 —
 0xAD      BAND 7       R/W                               A2_7[15:8]                                  —
 0xAE  COEFFICIENT   A2 R/W                                A2_7[7:0]                                  —
PRIMARY RECORD PATH BIQUAD FILTER COEFFICIENT REGISTERS
 0xAF                   R/W                             REC_B0[23:16]                                 —
      RECORD BIQUAD
 0xB0                   R/W                              REC_B0[15:8]                                 —
       COEFFICIENT B0
 0xB1                   R/W                              REC_B0[7:0]                                  —
 0xB2                   R/W                             REC_B1[23:16]                                 —
      RECORD BIQUAD
 0xB3                   R/W                              REC_B1[15:8]                                 —
       COEFFICIENT B1
 0xB4                   R/W                              REC_B1[7:0]                                  —
 0xB5                   R/W                             REC_B2[23:16]                                 —
      RECORD BIQUAD
 0xB6                   R/W                              REC_B2[15:8]                                 —
       COEFFICIENT B2
 0xB7                   R/W                              REC_B2[7:0]                                  —
 0xB8                   R/W                             REC_A1[23:16]                                 —
      RECORD BIQUAD
 0xB9                   R/W                              REC_A1[15:8]                                 —
       COEFFICIENT A1
 0xBA                   R/W                              REC_A1[7:0]                                  —
 0xBB                   R/W                             REC_A2[23:16]                                 —
      RECORD BIQUAD
 0xBC                   R/W                              REC_A2[15:8]                                 —
       COEFFICIENT A2
 0xBD                   R/W                              REC_A2[7:0]                                  —
www.maximintegrated.com                                                               Maxim Integrated │ 79


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
Table 1. MAX98091 Control Register Map (continued)
   REGISTER DESCRIPTION                                 REGISTER CONTENTS                                           POR
 ADDR       NAME        R/W BIT 7     BIT 6    BIT 5      BIT 4     BIT 3      BIT 2         BIT 1      BIT 0      STATE
SECONDARY RECORD PATH CONFIGURATION REGISTERS
           DMIC2L
 0xBE                   R/W   —              AV2LG[2:0]                             AV2L[3:0]                      0x03
      RECORD LEVEL
          DMIC2R
 0xBF                   R/W   —              AV2RG[2:0]                             AV2R[3:0]                      0x03
      RECORD LEVEL
       DMIC2 BIQUAD
 0xC0                   R/W   —         —        —          —                      AV2BQ[3:0]                      0x00
           LEVEL
        RECORD TDM
 0xC1                   R/W  SLOT_REC1L[1:0]    SLOT_REC1R[1:0]       SLOT_REC2L[1:0]         SLOT_REC2R[1:0]      0x1B
            SLOT
       DMIC2 SAMPLE
 0xC2                   R/W   —         —        —       ZEROPAD       —                  SRDIV[2:0]               0x10
            RATE
SECONDARY RECORD PATH BIQUAD COEFFICIENT REGISTERS
 0xC3                   R/W                               DMIC2_B0[23:16]                                            —
      DMIC34 BIQUAD
 0xC4                   R/W                               DMIC2_B0[15:8]                                             —
      COEFFICIENT B0
 0xC5                   R/W                                DMIC2_B0[7:0]                                             —
 0xC6                   R/W                               DMIC2_B1[23:16]                                            —
      DMIC34 BIQUAD
 0xC7                   R/W                               DMIC2_B1[15:8]                                             —
      COEFFICIENT B1
 0xC8                   R/W                                DMIC2_B1[7:0]                                             —
 0xC9                   R/W                               DMIC2_B2[23:16]                                            —
      DMIC34 BIQUAD
 0xCA                   R/W                               DMIC2_B2[15:8]                                             —
      COEFFICIENT B2
 0xCB                   R/W                                DMIC2_B2[7:0]                                             —
 0xCC                   R/W                               DMIC2_A1[23:16]                                            —
      DMIC34 BIQUAD
 0xCD                   R/W                               DMIC2_A1[15:8]                                             —
      COEFFICIENT A1
 0xCE                   R/W                                DMIC2_A1[7:0]                                             —
 0xCF                   R/W                               DMIC2_A2[23:16]                                            —
      DMIC34 BIQUAD
 0xD0                   R/W                               DMIC2_A2[15:8]                                             —
      COEFFICIENT A2
 0xD1                   R/W                                DMIC2_A2[7:0]                                             —
REVISION ID REGISTER
 0xFF    REVISION ID     R                                   REVID[7:0]                                             0x51
www.maximintegrated.com                                                                              Maxim Integrated │ 80


MAX98091                                                                   Ultra-Low Power Stereo Audio Codec
Software Reset                                                          provide a software configurable choice between highest
The device provides a software controlled reset (Table 2)               performance and reduced power consumption.
that is used to return most registers to their default (POR)            Device Performance Configuration
states (the record biquad and playback parametric equalizer
                                                                        The Bias Control register (Table 3) selects the method
coefficients are not reset). The software reset register is a
                                                                        used to derive the common-mode reference voltage. A
pushbutton, write only register. As a result, a read of this reg-
                                                                        common-mode bias created by resistive division (from the
ister always returns 0x00. Writing logic-high to SWRESET
                                                                        AVDD supply) facilitates lower overall power consumption
triggers a software register reset, while writing a logic-low to
                                                                        by disabling the bandgap reference circuit. However, this
SWRESET has no effect.
                                                                        type of BIAS reference has the disadvantage of scaling
Power and Performance Management                                        with the AVDD supply voltage (and thus also has reduced
                                                                        PSRR). When derived from a bandgap reference, BIAS
The device includes comprehensive power management
                                                                        is constant regardless of the supply voltage, but the addi-
to allow the disabling of unused blocks to minimize sup-
                                                                        tional circuitry increases power consumption.
ply current. In addition to this, the available power modes
Table 2. Software Reset Register
             ADDRESS: 0x00
                                                                                     DESCRIPTION
  BIT         NAME           TYPE    POR
                                            Pushbutton Software Device Reset
                                            0: Writing a logic low to SWRESET has no effect.
    7       SWRESET            W       0    1: Reset all registers to their default POR values. This excludes the primary and
                                            secondary record biquad and playback parametric equalizer filter coefficients (Tables 32,
                                            33, and 58).
    6           —              —      —     —
    5           —              —      —     —
    4           —              —      —     —
    3           —              —      —     —
    2           —              —      —     —
    1           —              —      —     —
    0           —              —      —     —
Table 3. Bias Control Register
             ADDRESS: 0x42
                                                                                     DESCRIPTION
  BIT         NAME           TYPE    POR
    7           —              —      —     —
    6           —              —      —     —
    5           —              —      —     —
    4           —              —      —     —
    3           —              —      —     —
    2           —              —      —     —
    1           —              —      —     —
                                            Select source for BIAS.
    0      BIAS_MODE          R/W      0    0: BIAS derived from resistive division.
                                            1: BIAS created by bandgap reference.
www.maximintegrated.com                                                                                           Maxim Integrated │ 81


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
The ADC, DAC, and headphone playback all have option-          dither (recommended for the cleanest spectrum), and can
al high-performance modes (Tables 4 and 5). In each            be configured to two different oversampling rates. See the
case, these modes trade additional power consumption           Analog-to-Digital Converter (ADC) section for additional
for enhanced performance. The ADC also has optional            details on ADC operation.
Table 4. DAC and Headphone Performance Mode Control Register
            ADDRESS: 0x43
                                                                          DESCRIPTION
  BIT        NAME       TYPE   POR
   7          —           —     —    —
   6          —           —     —    —
   5          —           —     —    —
   4          —           —     —    —
   3          —           —     —    —
   2          —           —     —    —
                                     Performance Mode
                                     Selects DAC to headphone playback performance mode:
   1     PERFMODE        R/W    0
                                     1: Low power headphone playback mode.
                                     0: High performance headphone playback mode.
                                     DAC High-Performance Mode
   0        DACHP        R/W    0    0: DAC settings optimized for lowest power consumption.
                                     1: DAC settings optimized for best performance.
Table 5. ADC Performance Mode Control Register
            ADDRESS: 0x44
                                                                          DESCRIPTION
  BIT        NAME       TYPE   POR
   7          —           —     —    —
   6          —           —     —    —
   5          —           —     —    —
   4          —           —     —    —
   3          —           —     —    —
                                     ADC Oversampling Rate
   2        OSR128       R/W    1    0: fADCCLK = 64 x fS
                                     1: fADCCLK = 128 x fS
                                     ADC Quantizer Dither
   1     ADCDITHER       R/W    1    0: Dither disabled.
                                     1: Dither enabled.
                                     ADC High-Performance Mode
   0        ADCHP        R/W    0    0: ADC is optimized for low power operation.
                                     1: ADC is optimized for best performance.
www.maximintegrated.com                                                                              Maxim Integrated │ 82


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Device Enable Configuration                                         When the device is in global shutdown, the major input
In addition to a device global shutdown control, the major          and output blocks are all disabled to conserve power.
input and output blocks can be independently enabled                However, the I2C interface remains active and all device
(or disabled) to optimize power consumption. The device             registers can be configured. Certain registers should be
global shutdown control is detailed in Table 6.                     programmed while in shutdown only (detailed in Table
                                                                    96). Changing these registers when the device is active
Table 7 details the available input signal path enables             could result in unexpected behavior. For optimal mini-
(with the exception of the analog microphone inputs                 mized power consumption, only enable the stage blocks
1/2, which are enabled from registers 0x10 and 0x11, or             that are part of the intended signal path configuration.
Tables 9 and 10, respectively). Table 8 details the avail-
able output signal path enables.
Table 6. Device Shutdown Register
             ADDRESS: 0x45
                                                                               DESCRIPTION
  BIT         NAME         TYPE    POR
                                         Device Active-Low Global Shutdown Control
                                          0: Device is in shutdown.
   7          SHDN          R/W     0
                                          1: Device is active.
                                         Certain registers should not be written to while the device is active (Table 96).
   6            —            —      —    —
   5            —            —      —    —
   4            —            —      —    —
   3            —            —      —    —
   2            —            —      —    —
   1            —            —      —    —
   0            —            —      —    —
Table 7. Input Enable Register
             ADDRESS: 0x3E
                                                                               DESCRIPTION
  BIT         NAME         TYPE    POR
   7            —            —      —    —
   6            —            —      —    —
   5            —            —      —    —
                                         Microphone Bias Enable
   4          MBEN          R/W     0     0: Microphone bias disabled.
                                          1: Microphone bias enabled.
                                         Enables Line A Analog Input Block
   3        LINEAEN         R/W     0     0: Line A input amplifier disabled.
                                          1: Line A input amplifier enabled.
                                         Enables Line B Analog Input Block
   2        LINEBEN         R/W     0     0: Line B input amplifier disabled.
                                          1: Line B input amplifier enabled.
                                         Right ADC Enable
   1         ADREN          R/W     0     0: Right ADC disabled.
                                          1: Right ADC enabled.
                                         Left ADC Enable
   0         ADLEN          R/W     0     0: Left ADC disabled.
                                          1: Left ADC enabled.
www.maximintegrated.com                                                                                         Maxim Integrated │ 83


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Table 8. Output Enable Register
           ADDRESS: 0x3F
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Right Headphone Output Enable
  7        HPREN         R/W  0   0: Right headphone output disabled.
                                  1: Right headphone output enabled.
                                 Left Headphone Output Enable
  6         HPLEN        R/W  0   0: Left headphone output disabled.
                                  1: Left headphone output enabled.
                                 Right Class D Speaker Output Enable
  5        SPREN         R/W  0   0: Right speaker output disabled.
                                  1: Right speaker output enabled.
                                 Left Class D Speaker Output Enable
  4         SPLEN        R/W  0   0: Left speaker output disabled.
                                  1: Left speaker output enabled.
                                 Receiver (Earpiece)/Left Line Output Enable
  3        RCVLEN        R/W  0   0: Receiver/left line output disabled.
                                  1: Receiver/left line output enabled.
                                 Right Line Output Enable
  2       RCVREN         R/W  0   0: Right line output disabled.
                                  1: Right line output enabled.
                                 Right DAC Digital Input Enable
  1        DAREN         R/W  0   0: Right DAC input disabled.
                                  1: Right DAC input enabled.
                                 Left DAC Digital Input Enable
  0         DALEN        R/W  0   0: Left DAC input disabled.
                                  1: Left DAC input enabled.
www.maximintegrated.com                                                              Maxim Integrated │ 84


MAX98091                                                                                   Ultra-Low Power Stereo Audio Codec
Audio Input Configuration                                                                power, full-scale differential analog input direct to the ADC
The device features six flexible analog inputs. Each pair                                mixer. The analog microphone and line inputs can either
can be configured as either an analog microphone input,                                  be routed to the stereo ADC mixer for recording or directly
a single-ended or differential line input(s), or as a reduced                            to any analog output mixer for playback.
                                                  MBVSEL[1:0]                                                               FLEXSOUND
                                         MBEN                                                                              TECHNOLOGY
                                                                                                        DIGMICL1                DSP                   DIGMICR1
                                                 MICROPHONE                                                       DIGITAL                  DIGITAL
                MICBIAS
                                                       BIAS                                                      MIC DATA                 MIC DATA
                                                  GENERATOR              DMICCLK[2:0]                            LEFT MUX                 LEFT MUX
                                                                                             DMIC2L
                                                                                             DMIC2R              DMIC1L ADCL              DMIC1R ADCR
                                                                                   PCLK
                                                     DMIC1
                                                   CONTROL
                                    SRDIV[2:0]
                                                      DMIC2
                                                    CONTROL
                                      EXTMIC[0]  PA1EN[1:0]          PGAM1[4:0]                                        ADC                      ADC
                                                                                                                      LEFT                     RIGHT
                              IN1-IN2                                                                       ADLEN                ADCHP                ADREN
                                         MIC 1
                                                     MIC 1              MIC 1                                                    OSR128
                              IN5-IN6   INPUT
                                                   PREAMP               PGA                                                    ADCDITHER
                                         MUX
                                                            0dB               0dB TO 20dB
               IN1/DMD1                                     10dB
               IN2/DMC1                                     30dB
                                                                       ZDENB
                              IN3-IN4
                                         MIC 2
                                        INPUT        MIC 2              MIC 2
                              IN5-IN6              PREAMP               PGA
                                         MUX
                                                            0dB               0dB TO 20dB
                                                            10dB
                                                            30dB
                                      EXTMIC[1]  PA2EN[1:0]          PGAM2[4:0]
                     IN3                                                                            IN1-IN2
                                       IN1SEEN
                     IN4                                                                            IN3-IN4
                                       IN3SEEN
                                       IN5SEEN                                                      IN5-IN6
                                       IN34DIFF    LINEAEN                                                    ADC
                                                  EXTBUFA                                            LINE A   LEFT
                                                                                                     LINE B  MIXER
                                  IN1                                                                 MIC 1
                                  IN3   LINE A                                                                                MIXADL[7:0]
                                                                                                      MIC 2
                                  IN5    INPUT      LINE A
                                        MIXER        PGA
                              IN3-IN4
                                                            -6dB TO 20dB                            IN1-IN2
                                                                                                    IN3-IN4
               IN5/DMD2                         LINAPGA[2:0]                                        IN5-IN6
                                                                                                              ADC
                                      MIXG135                                                        LINE A  RIGHT
               IN6/DMC2
                                      MIXG246                                                        LINE B  MIXER
                                                LINBPGA[2:0]
                                                                                                      MIC 1
                                                                                                                             MIXADR[7:0]
                                  IN2                                                                 MIC 2
                                  IN4   LINE B
                                  IN6    INPUT      LINE B
                                                     PGA
                              IN6-IN5   MIXER
                                                            -6dB TO 20dB
                                                                                                             MAX98091
                                                   LINEBEN
                                       IN2SEEN    EXTBUFB
                                       IN4SEEN
                                       IN6SEEN
                                       IN65DIFF
                                                                                                                                  ANALOG
                                                                                                                                  OUTPUT
                                                                                                                                  MIXERS
Figure 5. Analog Audio Input Functional Diagram
www.maximintegrated.com                                                                                                                              Maxim Integrated │ 85


MAX98091                                                                   Ultra-Low Power Stereo Audio Codec
Analog Microphone Inputs                                                pair (IN5/IN6) can be configured as a differential input
The device includes three differential microphone inputs                (IN5/IN6) to either microphone amplifier 1 or 2 (Table 25).
and a programmable, low-noise microphone bias genera-                   In the typical application, one microphone input is used
tor for powering a wide variety of external micro­phones                for the handset microphone and the other is used as an
(Figure 6). By default, analog inputs IN1 and IN2 differen-             accessory microphone (IN1/IN2 and IN3/IN4). In systems
tially (IN1/IN2) provide the input to microphone amplifier              using a background noise microphone, IN5/IN6 can be
1, while IN3 and IN4 differentially (IN3/IN4) form the input            retasked as another microphone input.
to microphone amplifier 2. The additional analog input
                                                                                                      MIXADL[6:0]
                                      MBEN         MBVSEL[1:0]
                                                                                               IN1-IN2
           MICBIAS                                MICROPHONE                                   IN3-IN4
                                                      BIAS
                                                   GENERATOR                                   IN5-IN6
                                                                                                         ADC
                                                                                                 MIC 1   LEFT
                                    EXTMIC[0]     PA1EN[1:0]    PGAM1[4:0]                       MIC 2 MIXER
                                                                                                LINE A
          IN1/DMD1          IN1-IN2                                                             LINE B
                                      MIC 1
          IN2/DMC1                   INPUT           MIC 1        MIC 1
                            IN5-IN6                 PREAMP        PGA
                                      MUX                                                      IN1-IN2
                                                           0dB          0dB TO 20dB
                                                           10dB                                IN3-IN4
                                                           30dB                                IN5-IN6
                                                                                                         ADC
          IN5/DMD2                                                                               MIC 1  RIGHT
                                              LINE A
                                                                 ZDENB                           MIC 2 MIXER
          IN6/DMC2
                                              LINE B                                            LINE A
                                                                         MAX98091               LINE B
                IN3         IN3-IN4
                                      MIC 2                                                           MIXADR[6:0]
                                     INPUT           MIC 2        MIC 2
                IN4         IN5-IN6                 PREAMP        PGA
                                      MUX
                                                           0dB          0dB TO 20dB
                                                           10dB
                                                           30dB                                                      ANALOG
                                                                                                                     OUTPUT
                                    EXTMIC[1]     PA2EN[1:0]    PGAM2[4:0]                                           MIXERS
Figure 6. Analog Microphone Input Functional Diagram
www.maximintegrated.com                                                                                           Maxim Integrated │ 86


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
Analog Microphone Preamplifier and PGA                        fier (PGA) adjustable from 0dB to 20dB in 1dB steps
The analog microphone inputs have two stages of pro-          (Tables 9 and 10). Together, the two stages provide up
grammable gain amplifiers, and are then routed to the         to 50dB of signal gain for the analog microphone inputs.
ADC mixer (record), the analog outputs (playback), or         To maximize the signal-to-noise ratio, use the coarse
simultaneously to both. The first, a coarse preamplifier      gain settings of the first stage whenever possible. Zero-
gain stage, includes the analog microphone enable, and        crossing detection is included on the PGA to minimize
offers selectable 0dB, 20dB, or 30dB gain settings. The       zipper noise while making gain changes.
second, a fine gain stage, is a programmable-gain ampli-
Table 9. Microphone 1 Enable and Level Configuration Register
            ADDRESS: 0x10
                                                                         DESCRIPTION
  BIT        NAME         TYPE     POR
   7           —             —      —  —
   6                                0  Microphone 1 Input Amplifier Enable and Coarse Gain Setting
           PA1EN[1:0]      R/W          00: Disabled 10: 20dB
   5                                0   01: 0dB      11: 30dB
   4                                1  Microphone 1 Programmable Gain Amplifier Fine Adjust Configuration
   3                                0   0x1F: 0dB    0x0E: 6dB       0x06: 14dB
                                                     0x0D: 7dB       0x05: 15dB
                                        0x14: 0dB    0x0C: 8dB       0x04: 16dB
   2                                1
          PGAM1[4:0]       R/W          0x13: 1dB    0x0B: 9dB       0x03: 17dB
                                        0x12: 2dB    0x0A: 10dB      0x02: 18dB
   1                                0   0x11: 3dB    0x09: 11dB      0x01: 19dB
                                        0x10: 4dB    0x08: 12dB      0x00: 20dB
   0                                0   0x0F: 5dB    0x07: 13dB
Table 10. Microphone 2 Enable and Level Configuration Register
            ADDRESS: 0x11
                                                                         DESCRIPTION
  BIT        NAME         TYPE     POR
   7           —             —      —  —
   6                                0  Microphone 2 Input Amplifier Enable and Coarse Gain Setting
           PA2EN[1:0]      R/W          00: Disabled                             10: 20dB
   5                                0   01: 0dB                                  11: 30dB
   4                                1  Microphone 2 Programmable Gain Amplifier Fine Adjust Configuration
   3                                0   0x1F: 0dB    0x0E: 6dB        0x06: 14dB
                                                     0x0D: 7dB        0x05: 15dB
   2                                1   0x14: 0dB    0x0C: 8dB        0x04: 16dB
          PGAM2[4:0]       R/W          0x13: 1dB    0x0B: 9dB        0x03: 17dB
                                        0x12: 2dB    0x0A: 10dB       0x02: 18dB
   1                                0   0x11: 3dB    0x09: 11dB       0x01: 19dB
                                        0x10: 4dB    0x08: 12dB       0x00: 20dB
   0                                0   0x0F: 5dB    0x07: 13dB
www.maximintegrated.com                                                                            Maxim Integrated │ 87


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Analog Microphone Bias Voltage                                     on IN6/DMC2 and accepts PDM data on IN5/DMD2. A
The device features a regulated, low noise microphone              single digital microphone input cannot be paired with
bias output (MICBIAS) that can be configured to power              a single analog microphone input. Left channel data is
a wide range of external microphone devices. To enable             accepted on falling clock edges while the right channel
the microphone bias output, set MBEN in the input enable           data is accepted on the rising clock edges. See Figure 4
register (Table 7). When the device is powered and the             for timing requirements.
microphone bias is disabled (MBEN is low or the device             If DMIC2L and DMIC2R are enabled, the DAI must be
is in shutdown), MICBIAS is placed in a high-impedance             set to TDM mode. Two-channel interface formats (I2S,
state. The microphone bias voltage can be set by the               LJ, RJ) cannot be used when the secondary record path
software to any one of four voltages (2.2V, 2.4V, 2.55V,           is enabled.
or 2.8V) by programming the Microphone Bias Level                  To avoid any potential clipping and distortion, always
Configuration register (Table 11).                                 enable the record path DC-blocking filters to remove any
Digital Microphone Inputs                                          built-in DC offsets when using a digital microphone input
                                                                   (AHPF and DMIC2_HPF, Table 28). The record path
Two pairs of inputs (IN1/IN2 and IN5/IN6) can also be con-         biquad filter and digital gain and level control stages can
figured to interface to up to four digital microphones (Figure     also be applied to digital microphone input signals.
7). IN5 and IN6 provide dedicated digital microphone input
to the secondary record path, while IN1 and IN2 can be             Digital Microphone Clock Configuration
configured to accept analog input to the ADC or digital            The digital microphone clock frequency (fDMC) can be
microphone inputs. The record path DSP is automatically            configured to any one of six settings using MICCLK[2:0]
switched to accept the appropriate digital microphone data         (Table 13). The digital microphone clock is derived from
channel when enabled (Table 13). Both channels (left and           a PCLK divider, with available settings ranging incremen-
right) must be enabled to use the digital microphone inter-        tally from fPCLK/2 to fPCLK/8. This wide range of available
face. When both DMIC1L and DMIC1R are enabled, the                 digital microphone clock frequencies is intended to sup-
digital microphone interface provides a digital microphone         port both current and next generation digital microphones.
clock on IN2/DMC1 and accepts PDM data on IN1/DMD1.                Table 12 lists the resulting clock frequencies for common-
When both DMIC2L and DMIC2R are enabled, the digital               ly used master clock (and resulting PCLK) frequencies.
microphone interface provides a digital microphone clock
Table 11. Microphone Bias Level Configuration Register
             ADDRESS: 0x12
                                                                              DESCRIPTION
  BIT         NAME            TYPE    POR
   7             —              —       —    —
   6             —              —       —    —
   5             —              —       —    —
   4             —              —       —    —
   3             —              —       —    —
   2             —              —       —    —
   1                                    0    Microphone Bias Level Configuration
          MBVSEL[1:0]          R/W            00: 2.2V                                10: 2.55V
   0                                    0     01: 2.4V                                11: 2.8V
www.maximintegrated.com                                                                                    Maxim Integrated │ 88


MAX98091                                                                   Ultra-Low Power Stereo Audio Codec
Table 12. Digital Microphone Clocks for Commonly Used Master Clocks Settings
  Master Clock Frequency (fMCLK)            10MHz       11.2896MHz            12MHz         12.288MHz   13/26MHz        19.2MHz
                                fPCLK/2     5.0MHz        5.645MHz            6.0MHz         6.144MHz     6.5MHz            —
                                fPCLK/3   3.333MHz        3.763MHz            4.0MHz         4.096MHz   4.333MHz         6.4MHz
   Approximate Digital          fPCLK/4     2.5MHz        2.822MHz            3.0MHz         3.072MHz    3.25MHz         4.8MHz
    Microphone Clock
    Frequency (fDMC)            fPCLK/5     2.0MHz        2.258MHz            2.4MHz         2.458MHz     2.6MHz        3.84MHz
                                fPCLK/6   1.667MHz        1.882MHz            2.0MHz         2.048MHz   2.167MHz         3.2MHz
                                fPCLK/8    1.25MHz        1.411MHz            1.5MHz         1.536MHz   1.625MHz         2.4MHz
                                        SRDIV[2:0]    DMICCLK[2:0]
                       IN2/DMC1                                   PCLK
                                               DMIC2                           DMIC2L        DMIC2
                                             CONTROL                                        RECORD
                                                                              DMIC2R
                                                                                           PATH DSP
                                               DMIC1                                      DIGMICL
                                                                       DMIC1L
                       IN1/DMD1
                                             CONTROL
                                                                                  DIGITAL
                                                                                     MIC        LEFT
                                                                                    LEFT       RECORD
                             IN3                                                    MUX       PATH DSP
                                           ADC
                                           LEFT           ADC            ADCL
                             IN4                                                             FLEXSOUND
                                          MIXER          LEFT
                                                                                            TECHNOLOGY DAI
                                                                       DMIC1R                    DSP
                        MICBIAS
                                                     MAX98091                     DIGITAL
                                                                                                RIGHT
                                                                                     MIC
                                                                                               RECORD
                                                                                   RIGHT
                                                                                              PATH DSP
                       IN5/DMD2            ADC                                      MUX
                                          RIGHT           ADC           ADCR
                       IN6/DMC2                         RIGHT
                                          MIXER
                                                                                          DIGMICR
Figure 7. Digital Microphone Input Functional Diagram
www.maximintegrated.com                                                                                       Maxim Integrated │ 89


MAX98091                                                            Ultra-Low Power Stereo Audio Codec
Secondary Record Path Sample Rate Configuration                  secondary record path there are empty data slots in the
The secondary record path can be configured to have a            serial output, which runs at the sampling frequency of
lower sampling rate than the primary path. The relative          the primary path. ZEROPAD (Table 14) controls whether
sampling rate for the secondary path is set with SRDIV           these empty slots are filled with copies of the previous
(Table 14). If a slower sampling rate is chosen for the          sample or with zeros (Figure 8)
Table 13. Digital Microphone Enable
            ADDRESS: 0x13
                                                                             DESCRIPTION
  BIT       NAME          TYPE  POR
   7           —            —     —    —
   6                              0    Digital Microphone Clock Rate Configuration
                                        000: fDMC = fPCLK/2                          100: fDMC = fPCLK/6
   5    DMICCLK[2:0]       R/W    0     001: fDMC = fPCLK/3                          101: fDMC = fPCLK/8
                                        010: fDMC = fPCLK/4                          110: Reserved
   4                              0     011: fDMC = fPCLK/5                          111: Reserved
                                       Digital Microphone 2 Clock and Right Channel Enable
                                        0: Digital microphone 2 right record disabled.
   3      DIGMIC2R         R/W    0     1: Digital microphone 2 right record enabled. Digital microphone clock is enabled when
                                           channels 2L and 2R are both enabled.
                                       Digital microphone 2 clock (DMC2) is enabled once both data channels are enabled.
                                       Digital Microphone 2 Clock and Left Channel Enable
                                        0: Digital microphone 2 left record disabled.
   2      DIGMIC2L         R/W    0     1: Digital microphone 2 left record enabled. Digital microphone clock is enabled when
                                           channels 2L and 2R are both enabled.
                                       Digital microphone 2 clock (DMC2) is enabled once both data channels are enabled.
                                       Digital Microphone 1 Clock and Right Channel Enable
                                        0: Right record channel uses on-chip ADC.
   1      DIGMIC1R         R/W    0     1: Right record channel uses digital microphone data input. Digital microphone clock is
                                           enabled when both data channels are enabled.
                                       Digital microphone 1 clock (DMC1) is enabled once both data channels are enabled.
                                       Digital Microphone 1 Clock and Left Channel Enable
                                        0: Left record channel uses on-chip ADC.
   0      DIGMIC1L         R/W    0     1: Left record channel uses digital microphone input. Digital microphone clock is
                                           enabled when both data channels are enabled.
                                       Digital microphone 1 clock (DMC1) is enabled once both data channels are enabled.
www.maximintegrated.com                                                                                    Maxim Integrated │ 90


MAX98091                                                                               Ultra-Low Power Stereo Audio Codec
Table 14. Secondary Record Path Configuration
               ADDRESS: 0xC2
                                                                                                  DESCRIPTION
 BIT           NAME              TYPE       POR
   7             —                 —           —        —
   6             —                 —           —        —
   5             —                 —           —        —
                                                        Secondary Record Path Zero Padding Configuration
                                                            0: TDM data samples are repeated N times, where N is the division
   4         ZEROPAD              R/W           1
                                                            rate for the secondary record path set by DMIC34_SRDIV[2:0]
                                                            1: TDM data samples are interleaved with zero samples
   3             —                 —           —                                                         —
                                                        Secondary Record Path Sample Rate Configuration
                                                                  000:     fDMC2 = fDMC1                     100:     fDMC2 = fDMC1/6
   2         SRDIV[2:0]           R/W           0                 001:     fDMC2 = fDMC1/2                   101:     Reserved
                                                                  010:     fDMC2 = fDMC1/3                   110:     Reserved
                                                                  011:     fDMC2 = fDMC1/4                   111:     Reserved
                                          TDM MODE ENABLED (SLOT 1 = DMIC1L, SLOT2 = DMIC1R, SLOT3 = DMIC2L, SLOT4 = DMIC2R),
                                       CONDITIONS: 16-BIT WORDS, fDMIC1 = 48kHz/fDMIC2 = 16kHz (3:1), DMIC2 ZERO PADDING DISABLED
                    DMIC1: FRAME 1     DMIC1: FRAME 2 DMIC1: FRAME 3           DMIC1: FRAME 4   DMIC1: FRAME 5 DMIC1: FRAME 6         DMIC1: FRAME 7
                                                                                                                                                      ETC.
                    DMIC2: FRAME 1    DMIC2: REPEAT 1 DMIC2: REPEAT 1          DMIC2: FRAME 2  DMIC2: REPEAT 2 DMIC2: REPEAT 2        DMIC2: FRAME 3
  LRCLK (FRAME      64 BCLK PERIODS
   SYNC PULSE)      PER SYNC FRAME
                   DM1  DM1  DM2  DM2 DM1   DM1   DM2   DM2 DM1 DM1 DM2   DM2 DM1 DM1  DM2 DM2 DM1 DM1  DM2   DM2 DM1  DM1 DM2   DM2 DM1 DM1  DM2 DM2
   SDOUT DATA       L1   R1   L1   R1  L2    R2    L1    R1  L3  R3  L1    R1  L4  R4   L2  R2  L5  R5   L2    R2  L6   R6  L2    R2  L7  R7   L3  R3
                                          TDM MODE ENABLED (SLOT 1 = DMIC1L, SLOT2 = DMIC1R, SLOT3 = DMIC2L, SLOT4 = DMIC2R),
                                        CONDITIONS: 16-BIT WORDS, fDMIC1 = 48kHz/fDMIC2 = 16kHz (3:1), DMIC2 ZERO PADDING ENABLED
                    DMIC1: FRAME 1     DMIC1: FRAME 2 DMIC1: FRAME 3           DMIC1: FRAME 4   DMIC1: FRAME 5 DMIC1: FRAME 6         DMIC1: FRAME 7
                                                                                                                                                      ETC.
                    DMIC2: FRAME 1    DMIC2: ZEROPAD DMIC2: ZEROPAD            DMIC2: FRAME 2  DMIC2: ZEROPAD DMIC2: ZEROPAD          DMIC2: FRAME 3
  LRCLK (FRAME      64 BCLK PERIODS
                    PER SYNC FRAME
   SYNC PULSE)
                                                  ZERO CODE         ZERO CODE                           ZERO CODE          ZERO CODE
                   DM1  DM1  DM2  DM2 DM1   DM1             DM1 DM1           DM1 DM1  DM2 DM2 DM1 DM1            DM1  DM1           DM1 DM1  DM2 DM2
   SDOUT DATA       L1   R1   L1   R1  L2    R2              L3  R3            L4  R4   L2  R2  L5  R5             L6   R6            L7  R7   L3  R3
Figure 8. Secondary Record Path Sample Rate Division
www.maximintegrated.com                                                                                                                Maxim Integrated │ 91


MAX98091                                                                                                                    Ultra-Low Power Stereo Audio Codec
Digital Microphone Frequency Compensation                                                                                 The digital microphone inputs also provide a configurable
The digital microphone inputs can be configured to pro-                                                                   frequency compensation filter with nine frequency response
duce a wide range of digital microphone clock frequen-                                                                    settings (Figure 9). Every sample rate and MCLK/PCLK
cies. To optimize performance over the entire range of                                                                    frequency (and the resulting digital microphone clock
available frequencies, the device provides configurable                                                                   frequency) combination results in a different baseline fre-
frequency range and compensation settings. Once the                                                                       quency response. Tables 16–21 provide the recommended
master clock (and thus prescaled clock) frequency is                                                                      compensation filter settings for the most commonly used
decided, and the digital microphone clock divider is cho-                                                                 PCLK frequency and sample rate combinations. Choose
sen, the digital microphone frequency range bits should                                                                   the PCLK divider that results in the DMC clock frequency
be programmed to the correct range (DMIC_FREQ,                                                                            closest to the optimal frequency for the built in digital MIC
Table 15). If quick configuration mode is used and a                                                                      hardware, and then set the correct DMIC frequency range
system clock bit is selected (Table 41), then the device                                                                  (DMIC_FREQ, see Table 15). Then, based on the desired
automatically calculates and selects the correct range                                                                    sample rate, select the appropriate compensation settings
once the digital microphone clock divider is configured.                                                                  from Table 15 (DMIC_COMP).
                                                                                                                          If the system PCLK frequency does not match one of
                                                                                                                          these commonly used rates, then refer to the table for the
                                           DIGITAL MICROPHONE COMPENSATION FILTER
                                             RESPONSE vs. NORMALIZED FREQUENCY                                            PCLK frequency that is closest (e.g, if the system PCLK
                                           2.5                                                                            frequency is 12.5MHz, see Table 18 as 12.288MHz is the
                                                                                                                          closest common PCLK frequency). As before, choose
       COMPENSATION FILTER RESPONSE (dB)
                                                                                               DMIC_COMP = 6
                                           2.0                                                 DMIC_COMP = 5
                                                                                                                          the PCLK divider that results in the optimal DMC clock
                                                                                               DMIC_COMP = 4
                                                                                                                          frequency, and set the appropriate DMIC frequency range
                                           1.5
                                                                                                                          (DMIC_FREQ, Table 15). Then choose the compensation
                                                                                               DMIC_COMP = 3
                                                                                               DMIC_COMP = 2              settings based on the row that is the closest match to the
                                                                                               DMIC_COMP = 1
                                                                                               DMIC_COMP = 0              configured DMC frequency. Similarly, for nonstandard
                                           1.0
                                                                                                                          sample rates choose the column with the common value
                                                                                                                          closest to the actual system sample rate.
                                           0.5
                                                                                               DMIC_COMP = 8              In quick configuration mode, once both the system clock and
                                                                                               DMIC_COMP = 7              sample rate bits are selected (Table 41 and Table 42), the
                                            0
                                             0 x fS   0.1 x fS 0.2 x fS 0.3 x fS 0.4 x fS 0.5 x fS                        device automatically selects the recommended response
                                                          NORMALIZED FREQUENCY                                            curve once the digital microphone clock divider is config-
                                                                                                                          ured. The digital microphone input does not support sam-
Figure 9. Digital Microphone Compensation Filter Frequency                                                                ple rates in excess of 48kHz (where DHF = 1, Table 28).
Response
Table 15. Digital Microphone Configuration
                                                  ADDRESS: 0x14
                                                                                                                                        DESCRIPTION
 BIT                                              NAME                    TYPE         POR
  7                                                                                       0          Digital Microphone Compensation Filter Configuration
  6                                                                                       0          0000–1000: Figure 8 details the available compensation filter configurations.
                                           DMIC_COMP[3:0]                  R/W                       1001–1111: Configures the compensation filter to a pass through response.
  5                                                                                       0          The compensation filter response scales with the sample rate up to the Nyquist
  4                                                                                       0          bandwidth limit (fS/2). Automatically decoded in quick configuration mode.
  3                                                   —                      —           —           —
  2                                                   —                      —           —           —
                                                                                                     Digital Microphone Frequency Range Configuration
  1                                                                        R/W            0
                                                                                                     00: fDMC < 3.5MHz                                  10: 4.5MHz ≤ fDMC
                                           DMIC_FREQ[1:0]                                            01: 3.5MHz ≤ fDMC < 4.5MHz                         11: Reserved
                                                                                                     If any of the system clock quick configuration bits in register 0x04 are set, then the
  0                                                                        R/W            0
                                                                                                     frequency range configuration is automatically decoded.
www.maximintegrated.com                                                                                                                                               Maxim Integrated │ 92


MAX98091                                                 Ultra-Low Power Stereo Audio Codec
Table 16. Recommended Compensation Filter Settings for fPCLK = 11.2896MHz
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER       fDMC (MHz)     DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2         5.6448           2      7         8         3           3              3
     1         fPCLK/3         3.7632           1      7         8         2           2              2
     2         fPCLK/4         2.8224           0      7         8         3           3              3
     3         fPCLK/5        2.25792           0      7         8         6           6              6
     4         fPCLK/6         1.8816           0      7         8         3           3              3
     5         fPCLK/8         1.4112           0      7         8         3           3              3
Table 17. Recommended Compensation Filter Settings for fPCLK = 12MHz
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)      DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2           6             2       7         8         3           3              3
     1         fPCLK/3           4             1       7         8         2           2              2
     2         fPCLK/4           3             0       7         8         3           3              3
     3         fPCLK/5          2.4            0       7         8         5           5              6
     4         fPCLK/6           2             0       7         8         3           3              3
     5         fPCLK/8          1.5            0       7         8         3           3              3
Table 18. Recommended Compensation Filter Settings for fPCLK = 12.288MHz
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)      DMIC_FREQ   8        16        32          44.1           48
     0         fPCLK/2         6.144           2       7         8         3           3              3
     1         fPCLK/3         4.096           1       7         8         2           2              2
     2         fPCLK/4         3.072           0       7         8         3           3              3
     3         fPCLK/5        2.4576           0       7         8         6           6              6
     4         fPCLK/6         2.048           0       7         8         3           3              3
     5         fPCLK/8         1.536           0       7         8         3           3              3
www.maximintegrated.com                                                                Maxim Integrated │ 93


MAX98091                                                 Ultra-Low Power Stereo Audio Codec
Table 19. Recommended Compensation Filter Settings for fMCLK = 13MHz/26MHz
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)      DMIC_FREQ   8        16         32         44.1           48
     0         fPCLK/2          6.5            2       7         8          1          1              1
     1         fPCLK/3        4.333            1       7         8          0          0              1
     2         fPCLK/4         3.25            0       7         8          1          1              1
     3         fPCLK/5          2.6            0       7         8          4          4              5
     4         fPCLK/6        2.167            0       7         8          1          1              1
     5         fPCLK/8        1.625            0       7         8          1          1              1
Table 20. Recommended Compensation Filter Settings for fMCLK = 19.2MHz
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)      DMIC_FREQ   8        16        32          44.1          48
     0         fPCLK/2          —              —       —        —          —           —             —
     1         fPCLK/3         6.4             2       7         8         1           1             1
     2         fPCLK/4         4.8             2       7         8         5           5             6
     3         fPCLK/5        3.84             1       7         8         2           2             3
     4         fPCLK/6         3.2             0       7         8         1           1             2
     5         fPCLK/8         2.4             0       7         8         5           5             6
Table 21. Recommended Compensation Filter Settings for fMCLK = 256 x fS
          fPCLK = fMCLK / PSCLK (See Table 39)       RECOMMENDED DMIC_COMP SETTING BY SAMPLE RATE (kHz)
  MICCLK      DIVIDER      fDMC (MHz)      DMIC_FREQ   8        16        32          44.1          48
     0         fPCLK/2          —              —       7         8         3           3             3
     1         fPCLK/3          —              —       7         8         2           2             2
     2         fPCLK/4          —              —       7         8         3           3             3
     3         fPCLK/5          —              —       7         8         6           6             6
     4         fPCLK/6          —              —       7         8         3           3             3
     5         fPCLK/8          —              —       7         8         3           3             3
www.maximintegrated.com                                                                Maxim Integrated │ 94


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
Analog Line Inputs                                                       Analog Line Input Mixers
The device includes multiple line level input options                    The analog line input mixer allows the selection of either
and two analog line input programmable gain amplifiers                   single-ended or differential inputs to each line input chan-
(PGAs, Figure 10). The line input structure supports mul-                nel (Table 22). The line A input mixer can accept single-
tiple configurations including stereo single-ended inputs,               ended inputs from IN1, IN3, and IN5, or a differential input
stereo differential inputs, and stereo mixed single-ended                from IN3 and IN4 (IN3/IN4). The line B input mixer can
inputs (any two per line input mixer).                                   accept single-ended inputs from IN2, IN4, and IN6, or a
                                               MIXG135                                                      MIXADL[6:0]
                                                                    LINAPGA[2:0]
                                                                                                     IN1-IN2
                 IN1/DMD1                IN1
                                                        -6dB/0dB                 -6dB TO 20dB        IN3-IN4
                 IN2/DMC1                IN3   LINE A
                                         IN5    INPUT                   LINE A                       IN5-IN6
                                               MIXER                     PGA                                   ADC
                                     IN3-IN4                                                           MIC 1
                                                                                                               LEFT
                                                                                                       MIC 2 MIXER
                                                       IN1SEEN                                        LINE A
                                         MIC 1         IN3SEEN         LINEAEN                        LINE B
                                         MIC 1         IN5SEEN        EXTBUFA
                       IN3
                                                       IN34DIFF
                       IN4                                                                           IN1-IN2
                                                                    MAX98091
                                         MIC 2                                                       IN3-IN4
                                                       IN2SEEN                                       IN5-IN6
                                         MIC 2
                                                       IN4SEEN        LINEBEN                                  ADC
                                                                      EXTBUFB                          MIC 1
                                                       IN6SEEN                                                RIGHT
                                                       IN65DIFF                                        MIC 2 MIXER
                                                                                                      LINE A
                                         IN2
                                                        -6dB/0dB                 -6dB TO 20dB         LINE B
                                         IN4   LINE B
                 IN6/DMC2                IN6    INPUT                   LINE B
                                                                         PGA
                                     IN6-IN5   MIXER
                 IN5/DMD2
                                                                                                            MIXADR[6:0]
                                                                    LINBPGA[2:0]                                      ANALOG
                                               MIXG246                                                                OUTPUT
                                                                                                                      MIXERS
Figure 10. Analog Line Input Functional Diagram
Table 22. Line Input Mixer Configuration Register
             ADDRESS: 0x0D
                                                                                      DESCRIPTION
  BIT         NAME           TYPE    POR
   7        IN34DIFF          R/W      0     Selects IN3, IN4 differentially as an input to the line A mixer.
   6        IN65DIFF          R/W      0     Selects IN6, IN5 differentially as an input to the line B mixer.
   5        IN1SEEN           R/W      0     Selects IN1 single ended as an input to the line A mixer.
   4        IN2SEEN           R/W      0     Selects IN2 single ended as an input to the line B mixer.
   3        IN3SEEN           R/W      0     Selects IN3 single ended as an input to the line A mixer.
   2        IN4SEEN           R/W      0     Selects IN4 single ended as an input to the line B mixer.
   1        IN5SEEN           R/W      0     Selects IN5 single ended as an input to the line A mixer.
   0        IN6SEEN           R/W      0     Selects IN6 single ended as an input to the line B mixer.
www.maximintegrated.com                                                                                                 Maxim Integrated │ 95


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
differential input from IN5 and IN6 (IN6/IN5). Internally,        If the line input signal exceeds full scale and requires
all analog signal paths are differential. As a result, single-    additional attenuation, the external gain mode provides
ended inputs have a built in baseline gain of +6dB (from          trimmed internal feedback resistors (20kΩ) for custom
the single-ended to differential conversion) while differen-      gain levels. Line input external gain mode is not intended
tial inputs have 0dB of built in gain.                            to provide positive gain, and as such for optimal perfor-
The line input mixer can also be set to accept and mix            mance any gain of -6dB of higher should be set using the
any two single-ended inputs. To facilitate full-scale sig-        provided internal PGA gain settings.
nals, when mixing two single-ended inputs an optional             Differentially, the external line input gain is set by using
-6dB of attenuation is available (MIXG135 and MIXG246,            two precision (1% or better), well-matched series input
Table 24). The line input mixer attenuation setting has           resistors (Figure 10). Use the following formula to calcu-
no effect if enabled when only a single input source is           late the appropriate differential series input resistors:
selected. If a differential input to either mixer is enabled,                  AV_EXTLINE = 20 x log (20kΩ/RS_EXT)
any single-ended inputs that are also selected are ignored,
and the mixer accepts only the differential input.                For single-ended inputs, the external line input gain is set
                                                                  using a single precision (1% or better) series input resis-
Analog Line Input PGAs                                            tor (Figure 11). However, due to the internal single-ended
To facilitate a wide range of input signal levels, each analog    to differential conversion, this configuration creates an
line input includes a coarse programmable gain amplifier          unbalanced differential amplifier configuration (configured
(PGA) that can provide from 6dB of attenuation to 20dB            external gain paired with a fixed internal gain of +6dB).
of signal gain. The line inputs are then routed to either the     Table 23 provides the appropriate series resistance val-
ADC mixer (record) or analog outputs (playback).                  ues for common attenuation settings.
Table 23. External Gain Mode Series Resistance Values
                     LINE INPUT                                                        RS_EXT
             EXTERNAL GAIN (dB)                           DIFFERENTIAL (kΩ)                            SINGLE-ENDED (kΩ)
                 AV_EXTLINE = -9.5                               60                                                84.5
                AV_EXTLINE = -12.0                               80                                                 115
                AV_EXTLINE = -15.0                              112                                                 165
                AV_EXTLINE = -18.0                              160                                                 237
                                 DIFFERENTIAL LINE INPUT                                          SINGLE-ENDED LINE INPUT
                                  RFB_INT+ = 20kΩ                                                      RFB_INT+ = 20kΩ
                        RS_EXT+                                                       RS_EXT+
             VIN_DIFF+                                            VIN_SINGLE-ENDED
                                            LINE A                                                         LINE A
                                             PGA                                                            PGA
             VIN_DIFF-                                              VCOMMON_MODE
                        RS_EXT-                                                    RS_EXT- = 15kΩ
                                  RFB_INT- = 20kΩ                                                       RFB_INT- = 30kΩ
Figure 11. Analog Line Input External Gain Configurations
www.maximintegrated.com                                                                                              Maxim Integrated │ 96


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
Table 24. Line Input Level Configuration Register
           ADDRESS: 0x0E
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Enable for a -6dB Reduction for Two Single-Ended Line A Mixer Inputs
  7       MIXG135        R/W  0   0: Normal line A mixer operation.
                                  1: Gain is reduced by -6dB when two single-ended inputs are selected.
                                 Enable for a -6dB Reduction for Two Single-Ended Line B Mixer Inputs
  6       MIXG246        R/W  0   0: Normal line B mixer operation.
                                  1: Gain is reduced by -6dB when two single-ended inputs are selected
  5                           0  Line Input A Programmable Internal Preamp Gain Configuration
  4     LINAPGA[2:0]     R/W  1   000: 20dB                     010: 3dB                      100: -3dB
  3                           1   001: 14dB                     011: 0dB                      101, 110, 111: -6dB
  2                           0  Line Input B Programmable Internal Preamp Gain Configuration
  1     LINBPGA[2:0]     R/W  1   000: 20dB                    010: 3dB                      100: -3dB
  0                           1   001: 14dB                    011: 0dB                      101, 110, 111: -6dB
Table 25. Input Mode and Source Configuration Register
           ADDRESS: 0x0F
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
  7       EXTBUFA        R/W  0  Selects external resistor gain mode for line input A.
  6       EXTBUFB        R/W  0  Selects external resistor gain mode for line input B.
  5           —           —   —  —
  4           —           —   —  —
  3           —           —   —  —
  2           —           —   —  —
                                  External Microphone (IN6, IN5) Input Control Configuration
  1                           0   00: External microphone disabled:      10: External microphone to MIC 2.
                                      IN1/IN2 selected for MIC 1             IN1/IN2 selected for MIC 1
         EXTMIC[1:0]     R/W          IN3/IN4 selected for MIC 2             IN5/IN6 selected for MIC 2
                                  01: External microphone to MIC 1.      11: Reserved
  0                           0       IN5/IN6 selected for MIC 1
                                      IN3/IN4 selected for MIC 2
www.maximintegrated.com                                                                              Maxim Integrated │ 97


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Analog Input PGA to Analog Output Mixer                                Analog Full-Scale Direct to ADC Mixer Inputs
The analog line input PGA and analog microphone PGA                    The analog inputs can also be configured to accept and
outputs can be routed directly to any of the analog out-               route differential analog signals directly to the ADC mixers
put mixers. This configuration allows the analog inputs                (record path, Figure 12). By disabling and bypassing the
to operate as line or microphone level input amplifiers                analog microphone and line input gain stages, this mode
capable of driving headphone, speaker, receiver, or line               provides a reduced power configuration for full-scale (up
output loads. The analog inputs can also be mixed with                 to 1VRMS) analog input signals. Unlike the analog micro-
the DAC outputs to any of the available analog output                  phone and line input configurations, this mode does not
mixers. The figures in the appropriate analog input and                allow the input signals to be routed directly to the analog
output sections detail the signal routing.                             output mixers (playback path, Figure 32).
                                                           MIXADL[6:0]
                             IN1/DMD1               IN1-IN2
                             IN2/DMC1               IN3-IN4                ADLEN
                                                    IN5-IN6
                                                              ADC
                                                      MIC 1   LEFT          ADC
                                                                           LEFT
                                                      MIC 2 MIXER
                                   IN3               LINE A
                                   IN4               LINE B
                                                                           ADCHP            FLEXSOUND
                                                                           OSR128          TECHNOLOGY
                                                    IN1-IN2              ADCDITHER
                                                                                               DSP
                                                    IN3-IN4
                                                    IN5-IN6
                                                              ADC
                                                      MIC 1                 ADC
                                                             RIGHT
                                                                          RIGHT
                             IN5/DMD2                 MIC 2 MIXER
                             IN6/DMC2
                                                     LINE A
                                                     LINE B                ADREN
                                        MAX98091
                                                           MIXADR[6:0]
Figure 12. Analog Direct to ADC Mixer Input Functional Diagram
www.maximintegrated.com                                                                                         Maxim Integrated │ 98


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
Audio Record Path                                                        tal microphones (Figure 13). The secondary path includes
The device includes two independent record paths. The                    a dedicated stereo digital microphone interface to allow
primary record path includes a stereo ADC with configu-                  up to four channels of input to the device. Both record
rable mixers that can accept input from the microphone                   paths include several stages of DSP to process the input
PGAs, line input PGAs, or directly from any of the analog                signals before being passed to the digital audio interface
input pairs differentially. Alternatively, the primary path              (DAI, Figure 16).
can be configured to accept input data from up to two digi-
                                                                               SECONDARY RECORD PATH
                                                DMIC2L     DIGMIC2L                              LEFT
                                                                             LEFT                                   LEFT
                                                           CHANNEL                              BIQUAD
                                                                           FILTERS                                 LEVEL
                                                            ENABLE                              FILTER
                                                          DIGMIC2L                              AV2BQ[3:0]         AV2LG[1:0]
                                                                                             DMIC2_B0[23:0]         AV2L[3:0]
                                                                          DMIC2MODE          DMIC2_B1[23:0]
                                                                           DMIC2HPF          DMIC2_B2[23:0]        AV2RG[1:0]
             SRDIV[2:0]       DMICCLK[2:0]                                                   DMIC2_A1[23:0]
                                                                                             DMIC2_A2[23:0]         AV2R[3:0]
                                                          DIGMIC2R
        DMD2                                PCLK
                    DMIC2                                   DIMIC2R                              RIGHT
        DMC2                                                                RIGHT                                  RIGHT
                  CONTROL                                  CHANNEL                              BIQUAD
                                               DMIC2R                      FILTERS                                 LEVEL
                                                            ENABLE                              FILTER
        DMD1
                    DMIC1
        DMC1                                                                                                                           DAI
                  CONTROL                                                        PRIMARY RECORD PATH
       IN1-IN2
       IN3-IN4                MIXADL[7:0]        DMIC1L
                                                         DIGITAL                        LEFT                               LEFT
       IN5-IN6                                              MIC          LEFT                              LEFT           LEVEL
                                                                                       BIQUAD
                ADC                                        LEFT        FILTERS                         SIDETONE
        LINE A                                    ADCL                                 FILTER
                LEFT                ADC                    MUX
                                   LEFT
        LINE B MIXER
                                                                                      RECBQEN                             AVLG[2:0]
         MIC 1                                                                        AVBQ[3:0]                            AVL[3:0]
                                                        DIGMIC1L        MODE         REC_B0[23:0]
         MIC 2
                          ADLEN                                         AHPF         REC_B1[23:0]      DSTS[1:0]          AVRG[2:0]
                                     ADCHP                               DHF         REC_B2[23:0]
                                     OSR128             DIGMIC1R                                                           AVR[3:0]
                                                                                     REC_A1[23:0]
       IN1-IN2            ADREN    ADCDITHER                                         REC_A2[23:0]
       IN3-IN4                                 DMIC1R
                                                         DIGITAL                                                          RIGHT
       IN5-IN6                                                          RIGHT           RIGHT            RIGHT
                                                            MIC                                                           LEVEL
                ADC                                                    FILTERS         BIQUAD          SIDETONE
        LINE A RIGHT                                      RIGHT
                                     ADC          ADCR                                 FILTER
                                                           MUX
        LINE B MIXER                RIGHT
         MIC 1
                                                                                                       SIDETONE TO        L/R ST
                              MIXADR[7:0]                                                                                 LEVEL
         MIC 2                                                                                       PLAYBACK PATH
                                                             FLEXSOUND
                                                         TECHNOLOGY DSP
                                                                                                                          DVST[3:0]
Figure 13. Record Path Block Diagram
www.maximintegrated.com                                                                                                  Maxim Integrated │ 99


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
Analog-to-Digital Converter (ADC)                                       figuration options, oversampling rate selection, and an
The stereo ADC architecture includes two independent                    input dither option (Figure 14). Both ADC channels can
audio paths and provides a flexible, fully configurable                 be enabled independently allowing the device to support
input mixer, two performance and power based con-                       both stereo and left or right mono configurations (Table 7).
                                                                              SECONDARY RECORD PATH
                                               DMIC2L    DIGMIC2L                               LEFT
                                                                            LEFT                                    LEFT
                                                         CHANNEL                             BIQUAD
                                                                          FILTERS                                  LEVEL
                                                          ENABLE                               FILTER
                                                         DIGMIC2L                            AV2BQ[3:0]            AV2LG[1:0]
                                                                                           DMIC2_B0[23:0]           AV2L[3:0]
                                                                         DMIC2MODE         DMIC2_B1[23:0]
                                                                          DMIC2HPF         DMIC2_B2[23:0]          AV2RG[1:0]
             SRDIV[2:0]       DMICCLK[2:0]                                                 DMIC2_A1[23:0]           AV2R[3:0]
                                                         DIGMIC2R                          DMIC2_A2[23:0]
        DMD2                              PCLK
                    DMIC2                                 DIMIC2R                              RIGHT
        DMC2                                                               RIGHT                                   RIGHT
                  CONTROL                                CHANNEL                             BIQUAD
                                               DMIC2R                     FILTERS                                  LEVEL
                                                          ENABLE                               FILTER
        DMD1
                    DMIC1
        DMC1                                                                                                                         DAI
                  CONTROL
                                                                               PRIMARY RECORD PATH
       IN1-IN2
       IN3-IN4                MIXADL[7:0]       DMIC1L
                                                        DIGITAL                        LEFT                                 LEFT
       IN5-IN6                                             MIC          LEFT                              LEFT             LEVEL
                                                                                      BIQUAD
                ADC                                       LEFT        FILTERS                          SIDETONE
        LINE A LEFT                              ADCL                                 FILTER
                                    ADC                   MUX
                                   LEFT
        LINE B MIXER
                                                                                     RECBQEN                               AVLG[2:0]
         MIC 1                                                                       AVBQ[3:0]                              AVL[3:0]
                                                       DIGMIC1L        MODE         REC_B0[23:0]                                      DAI
         MIC 2
                          ADLEN      ADCHP                             AHPF         REC_B1[23:0]       DSTS[1:0]           AVRG[2:0]
                                                                        DHF         REC_B2[23:0]                            AVR[3:0]
                                     OSR128            DIGMIC1R
                                                                                    REC_A1[23:0]
       IN1-IN2            ADREN    ADCDITHER                                        REC_A2[23:0]
       IN3-IN4                                 DMIC1R
                                                        DIGITAL                                                            RIGHT
       IN5-IN6                                                         RIGHT           RIGHT             RIGHT
                                                           MIC                                                             LEVEL
                ADC                                                   FILTERS         BIQUAD           SIDETONE
        LINE A RIGHT                                     RIGHT
                                     ADC         ADCR                                 FILTER
                                                          MUX
        LINE B MIXER                RIGHT
         MIC 1
                                                                                                       SIDETONE TO         L/R ST
                              MIXADR[7:0]                                                                                  LEVEL
         MIC 2                                                                                       PLAYBACK PATH
                                                            FLEXSOUND
                                                        TECHNOLOGY DSP
                                                                                                                           DVST[3:0]
Figure 14. Record Path ADC Section
www.maximintegrated.com                                                                                                Maxim Integrated │ 100


MAX98091                                                        Ultra-Low Power Stereo Audio Codec
ADC Functional Configuration                                ADC Input Mixer Configuration
The ADC can be configured into one of two operating         The device allows for each ADC input mixer to be con-
modes. One operating mode is optimized for maximum          figured separately to accept any combination of valid
dynamic performance while the other is optimized for        input sources. The ADC mixers can accept input from
lower power consumption (Table 5). Input dither can also    the microphone PGAs (1 or 2), line input PGAs (A or B),
be added to the ADC record path. This feature consumes      or directly differentially from any of the analog input pairs
almost no appreciable power, but raises the RMS level of    (IN1/IN2, IN3/IN4, or IN5/IN6). The ADC input mixers then
the noise floor slightly at the high end of the audio band. route the selected sources to the left and right ADC inputs
The ADC supports both an over sampling rate (OSR) of        (Tables 26 and Table 27).
64 and 128 times the configured sampling frequency (fS).    Record Path FlexSound DSP
An OSR of 128 x fS optimizes ADC performance at the
cost of slightly more power consumption than an OSR of      The digital record path is part of the FlexSound technol-
64 x fS.                                                    ogy DSP and comprises multiple sequential DSP blocks.
                                                            The first DSP stage contains digital filters including a voice
The DSP timing, however, places some limitations on         filter (IIR), music filter (FIR), and a highpass DC-blocking
which OSR can be used. For voice applications using         filter. The next stage is a digital biquad filter with a preat-
standard (fS = 8kHz) and wideband (fS = 16kHz) sampling     tenuation amplifier, and it is followed by a digital gain and
rates, the DSP is typically configured to utilize the voice level control stage. The record path DSP also features a
filters (IIR). If the voice filters are enabled, the OSR is digital sidetone path that is routed to and mixed into the
automatically configured to 128 x fS and cannot be manu-    digital playback path (Figure 14).
ally reprogrammed in order to meet timing requirements.
                                                            Record Path Digital Filters
In most standard music/full audio range applications
(where fS = 32kHz, 44.1kHz, 48kHz, etc.) the music filters  The record path DSP includes a digital filter stage. One
(FIR) are used. If the music filters are enabled, the OSR   filter, set with the MODE bit (Table 28), offers the choice
can be configured manually, however, the prescaled mas-     between the IIR voice filters and the FIR music filters. The
ter clock (PCLK) must always be at least twice the fre-     IIR filters are optimized for standard (fS = 8kHz) and wide-
quency of the ADC sampling clock. To ensure this condi-     band (fS = 16kHz) voice applications, while the FIR filters
tion is met, if fPCLK < 256 x fS, then the OSR must be set  are optimized for low power operation at higher audio/
to 64 x fS. In addition, if the sampling rate exceeds 48kHz music sampling rates. For sampling rates in excess of
(DHF = 1, such as fS = 96kHz), then the OSR must be         48kHz (fLRCLK > 48kHz), use the FIR music filters and set
configured to 64 x fS regardless of the ratio. In any other the DHF bit. The MODE configuration selected applies to
music filter configuration, OSR = 128 can be selected as    both channels of both the record and playback path DSP.
desired for optimal ADC performance.                        The record path DSP also features a DC-blocking filter.
                                                            This filter can be used with both the IIR voice and FIR
                                                            music filters, and blocks low frequency (including DC)
                                                            input signals outside of the lower end of the audio band.
www.maximintegrated.com                                                                              Maxim Integrated │ 101


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
Table 26. Left ADC Mixer Input Configuration Register
           ADDRESS: 0x15
                                                                         DESCRIPTION
 BIT        NAME        TYPE  POR
  7            —          —    —  —
  6                      R/W   0  Selects microphone input 2 to left ADC mixer.
  5                      R/W   0  Selects microphone input 1 to left ADC mixer.
  4                      R/W   0  Selects line input B to left ADC mixer.
  3      MIXADL[6:0]     R/W   0  Selects line input A to left ADC mixer.
  2                      R/W   0  Selects IN5/IN6 differential input direct to left ADC mixer.
  1                      R/W   0  Selects IN3/IN4 differential input direct to left ADC mixer.
  0                      R/W   0  Selects IN1/IN2 differential input direct to left ADC mixer.
Table 27. Right ADC Mixer Input Configuration Register
           ADDRESS: 0x16
                                                                         DESCRIPTION
 BIT         NAME        TYPE POR
  7            —           —   —  —
  6                       R/W  0  Selects microphone input 2 to right ADC mixer.
  5                       R/W  0  Selects microphone input 1 to right ADC mixer.
  4                       R/W  0  Selects line input B to right ADC mixer.
  3      MIXADR[6:0]      R/W  0  Selects line input A to right ADC mixer.
  2                       R/W  0  Selects IN5/IN6 differential input direct to right ADC mixer.
  1                       R/W  0  Selects IN3/IN4 differential input direct to right ADC mixer.
  0                       R/W  0  Selects IN1/IN2 differential input direct to right ADC mixer.
www.maximintegrated.com                                                                         Maxim Integrated │ 102


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
                                                                              SECONDARY RECORD PATH
                                               DMIC2L    DIGMIC2L                                LEFT
                                                                            LEFT                                    LEFT
                                                         CHANNEL                              BIQUAD
                                                                          FILTERS                                  LEVEL
                                                          ENABLE                                FILTER
                                                         DIGMIC2L                             AV2BQ[3:0]           AV2LG[1:0]
                                                                                            DMIC2_B0[23:0]          AV2L[3:0]
                                                                         DMIC2MODE          DMIC2_B1[23:0]
                                                                          DMIC2HPF          DMIC2_B2[23:0]         AV2RG[1:0]
             SRDIV[2:0]       DMICCLK[2:0]                                                  DMIC2_A1[23:0]
                                                                                            DMIC2_A2[23:0]          AV2R[3:0]
                                                         DIGMIC2R
        DMD2                              PCLK
                    DMIC2                                 DIMIC2R                                RIGHT
        DMC2                                                               RIGHT                                   RIGHT
                  CONTROL                                CHANNEL                               BIQUAD
                                               DMIC2R                     FILTERS                                  LEVEL
                                                          ENABLE                                FILTER
        DMD1
                    DMIC1
        DMC1                                                                                                                         DAI
                  CONTROL
                                                                                PRIMARY RECORD PATH
       IN1-IN2
       IN3-IN4                MIXADL[7:0]       DMIC1L
                                                        DIGITAL                         LEFT                                LEFT
       IN5-IN6                                             MIC          LEFT                              LEFT             LEVEL
                                                                                       BIQUAD
                ADC                                       LEFT        FILTERS                          SIDETONE
        LINE A                                   ADCL                                  FILTER
                LEFT                ADC                   MUX
                                   LEFT
        LINE B MIXER
                                                                                      RECBQEN                              AVLG[2:0]
         MIC 1                                                                        AVBQ[3:0]                             AVL[3:0]
                                                       DIGMIC1L        MODE          REC_B0[23:0]
         MIC 2
                          ADLEN      ADCHP                             AHPF          REC_B1[23:0]       DSTS[1:0]          AVRG[2:0]
                                                                        DHF          REC_B2[23:0]                           AVR[3:0]
                                     OSR128            DIGMIC1R
                                                                                     REC_A1[23:0]
       IN1-IN2            ADREN    ADCDITHER                                         REC_A2[23:0]
       IN3-IN4                                 DMIC1R
                                                        DIGITAL                                                            RIGHT
       IN5-IN6                                                         RIGHT            RIGHT            RIGHT
                                                           MIC                                                             LEVEL
                ADC                                                   FILTERS          BIQUAD          SIDETONE
        LINE A RIGHT                                     RIGHT
                                     ADC         ADCR                                  FILTER
                                                          MUX
        LINE B MIXER                RIGHT
         MIC 1                                                                                         SIDETONE TO         L/R ST
                              MIXADR[7:0]                                                           PLAYBACK PATH          LEVEL
         MIC 2
                                                            FLEXSOUND
                                                        TECHNOLOGY DSP
                                                                                                                           DVST[3:0]
Figure 15. Record Path FlexSound Technology DSP Block
www.maximintegrated.com                                                                                                Maxim Integrated │ 103


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
Table 28. DSP Filter Configuration Register
           ADDRESS: 0x26
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Configures the Codec Record and Playback DSP Filters
                                  0: The codec DSP filters operate in IIR voice mode with stopband frequencies below
                                     the fS/2 Nyquist rate. The voice mode filters are optimized for 8kHz or 16kHz voice
  7         MODE         R/W  1
                                     application use.
                                  1: The codec DSP filters operate in a linear phase FIR audio mode optimized to
                                     maintain stereo imaging and operate at higher fS rates while utilizing lower power.
                                 Enables the Primary Record Path DC-Blocking Filter
  6         AHPF         R/W  0   0: DC-blocking filter disabled.
                                  1: DC-blocking filter enabled.
                                 Enables the Playback Path DC-Blocking Filter
  5         DHPF         R/W  0   0: DC-blocking filter disabled.
                                  1: DC-blocking filter enabled.
                                 Enables the DAC High Sample Rate Mode (LRCLK > 48kHz, FIR Only)
  4          DHF         R/W  0   0: LRCLK is less than 48kHz. 8x FIR interpolation filter used.
                                  1: LRCLK is greater than 48kHz. 4x FIR interpolation filter used.
                                 Configure the Secondary Record Path DSP Filters
                                  0: The secondary record path DSP filters operate in IIR voice mode with stopband
                                     frequencies below the fS/2 Nyquist rate. The voice mode filters are optimized for 8kHz
  3     DMIC2_MODE       R/W  1      or 16kHz voice application use.
                                  1: The secondary record path DSP filters operate in a linear phase FIR audio mode
                                     optimized to maintain stereo imaging and operate at higher fS rates while utilizing
                                     lower power.
                                 Enables the Secondary Record Path DC-Blocking Filter
  2      DMIC2_HPF       R/W  0   0: DC-blocking filter disabled.
                                  1: DC-blocking filter enabled.
  1           —           —   —  —
  0           —           —   —  —
www.maximintegrated.com                                                                               Maxim Integrated │ 104


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Record Path Biquad Filter                                            to a Q greater than 10, or to below a minimum cutoff
Each record path has a single-stage biquad filter with               frequency (fC) that varies by filter type. See the Electrical
programmable preattenuation. The digital biquad filter               Characteristics table.
configuration for each path applies to both channels in              The digital biquad coefficients are uninitialized at power-
that path. The biquad filter for the primary record path             up, and if the filter is going to be used, the coefficients
can be enabled with the RECBQEN bit; the biquad filter               must be programmed before the device and biquad filter
for the secondary record path can be enabled with the                are enabled. The transfer function is:
DMIC2BQEN bit (Table 29). Once enabled, the level of
preattenuation can be adjusted from 0dB down to -15dB                                     B 0 + B 1 × Z −1 + B 2 × Z −2
                                                                                  H(z) =
(AVBQ, Table 30 and AV2BQ, Table 31). The digital                                         A 0 + A 1 × Z −1 + A 2 × Z −2
biquad filter cannot be set to a gain greater than ±12dB,
Table 29. DSP Biquad Filter Enable Register
             ADDRESS: 0x41
                                                                               DESCRIPTION
  BIT         NAME          TYPE POR
   7            —             —     —    —
   6            —             —     —    —
   5            —             —     —    —
                                         Enable Biquad Filter in Secondary Record Path
   4       DMIC2BQEN         R/W    0     0: Biquad filter disabled.
                                          1: Biquad filter enabled.
                                         Enable Biquad Filter in Primary Record Path
   3        RECBQEN          R/W    0     0: Biquad filter disabled.
                                          1: Biquad filter enabled.
                                         Enable 3-Band EQ in Playback Path (Bands 4–7 Are Not Used)
   2       EQ3BANDEN         R/W    0     0: 3-band EQ disabled.
                                          1: 3-band EQ enabled. Only valid if EQ7BANDEN = 0 and EQ5BANDEN = 0.
                                         Enable 5-Band EQ in Playback Path (Bands 6 and 7 Are Not Used)
   1       EQ5BANDEN         R/W    0     0: 5-band EQ disabled.
                                          1: 5-band EQ enabled. Only valid if EQ7BANDEN = 0.
                                         Enable 7-Band EQ in Playback Path
   0       EQ7BANDEN         R/W    0     0: 7-band EQ disabled.
                                          1: 7-band EQ enabled. This makes EQ5BANDEN and EQ3BANDEN redundant.
www.maximintegrated.com                                                                                       Maxim Integrated │ 105


MAX98091                                                   Ultra-Low Power Stereo Audio Codec
Table 30. Primary Record Path Biquad Digital Preamplifier Level Configuration Register
           ADDRESS: 0x19
                                                                   DESCRIPTION
 BIT        NAME        TYPE  POR
  7           —           —    —  —
  6           —           —    —  —
  5           —           —    —  —
  4           —           —    —  —
  3                            0  ADC Biquad Digital Preamplifier Gain Configuration
  2                            0   0x0: +0dB           0x4: -4dB            0x8: -8dB          0xC: -12dB
          AVBQ[3:0]      R/W
                                   0x1: -1dB           0x5: -5dB            0x9: -9dB          0xD: -13dB
  1                            0
                                   0x2: -2dB           0x6: -6dB            0xA: -10dB         0xE: -14dB
  0                            0   0x3: -3dB           0x7: -7dB            0xB: -11dB         0xF: -15dB
Table 31. Secondary Record Path Biquad Digital Preamplifier Level Configuration
Register
           ADDRESS: 0xC0
                                                                   DESCRIPTION
 BIT         NAME        TYPE POR
  7            —           —   —                                         —
  6            —           —   —                                         —
  5            —           —   —                                         —
  4            —           —   —                                         —
  3                            0     Secondary Record Path Biquad Digital Preamplifier Gain Configuration
  2                            0       0x0: +0dB           0x4: -4dB            0x8: -8dB         0xC: -12dB
          AV2BQ[3:0]      R/W          0x1: -1dB           0x5: -5dB            0x9: -9dB         0xD: -13dB
  1                            0
                                       0x2: -2dB           0x6: -6dB           0xA: -10dB         0xE: -14dB
  0                            0       0x3: -3dB           0x7: -7dB           0xB: -11dB         0xF: -15dB
www.maximintegrated.com                                                                     Maxim Integrated │ 106


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
The digital biquad filter has five user-programmable                 Record Path Sidetone
coefficients (B0, B1, B2, A1, and A2), and each individual           The record path sidetone is available to allow a low-level
coefficient is 3 bytes (24 bits) long (A0 is fixed at 1). They       copy of the recorded audio signal to be mixed back into
occupy 15 consecutive registers (Tables 32 and 33) and               the playback audio signal. When enabled, the sidetone
each set of three registers (per coefficient) must be pro-           can route the left channel, right channel, or both divided
grammed consecutively for the settings to take effect. The           by two and then summed back into the playback path
coefficients are stored using a two’s complement format              DSP. The sidetone digital gain can be programmed from
where the first 4 bits are the integer portion and the last 20       -0.5dB to -60.5dB (Table 34). The digital sidetone is com-
bits are the decimal portion (which results in an approxi-           monly used in telephony to allow the speaker to hear their
mate +8 to -8 range for each coefficient).                           own voice to provide a more natural user experience.
Table 32. Primary Record Path Biquad Filter Coefficients
 ADDRESS RANGE                           NAME                       TYPE                    COEFFICIENT SEGMENT
 0xAF    0xB0    0xB1     RECORD BIQUAD COEFFICIENT B0               R/W     REC_B0[23:16]        REC_B0[15:8]     REC_B0[7:0]
 0xB2    0xB3    0xB4     RECORD BIQUAD COEFFICIENT B1               R/W     REC_B1[23:16]        REC_B1[15:8]     REC_B1[7:0]
 0xB5    0xB6    0xB7     RECORD BIQUAD COEFFICIENT B2               R/W     REC_B2[23:16]        REC_B2[15:8]     REC_B2[7:0]
 0xB8    0xB9    0xBA     RECORD BIQUAD COEFFICIENT A1               R/W     REC_A1[23:16]        REC_A1[15:8]     REC_A1[7:0]
 0xBB 0xBC 0xBD           RECORD BIQUAD COEFFICIENT A2               R/W     REC_A2[23:16]        REC_A2[15:8]     REC_A2[7:0]
Table 33. Secondary Record Path Biquad Filter Coefficients
 ADDRESS RANGE                           NAME                      TYPE                    COEFFICIENT SEGMENT
 0xC3    0xC4    0xC5      DMIC2 BIQUAD COEFFICIENT B0              R/W   DMIC2_B0[23:16]       DMIC2_B0[15:8]  DMIC2_B0[7:0]
 0xC6    0xC7    0xC8      DMIC2 BIQUAD COEFFICIENT B1              R/W   DMIC2_B1[23:16]       DMIC2_B1[15:8]  DMIC2_B1[7:0]
 0xC9    0xCA 0xCB         DMIC2 BIQUAD COEFFICIENT B2              R/W   DMIC2_B2[23:16]       DMIC2_B2[15:8]  DMIC2_B2[7:0]
 0xCC 0xCD 0xCE            DMIC2 BIQUAD COEFFICIENT A1              R/W   DMIC2_A1[23:16]       DMIC2_A1[15:8]  DMIC2_A1[7:0]
 0xCF    0xD0    0xD1      DMIC2 BIQUAD COEFFICIENT A2              R/W   DMIC2_A2[23:16]       DMIC2_A2[15:8]  DMIC2_A2[7:0]
Table 34. Record Path Sidetone Configuration Register
             ADDRESS: 0x1A
                                                                               DESCRIPTION
 BIT          NAME           TYPE    POR
   7                                   0    Sidetone Enable and Digital Source Configuration
            DSTS[1:0]                        00: No sidetone selected         10: Right channel
   6                                   0     01: Left channel                 11: Left + right channel
   5            —              —      —     —
   4                                   0    Sidetone Digital Gain Configuration
   3                                   0     0x00: OFF           0x08: -14.5dB          0x10: -30.5dB       0x18: -46.5dB
                                             0x01: -0.5dB        0x09: -16.5dB          0x11: -32.5dB       0x19: -48.5dB
                                             0x02: -2.5dB        0x0A: -18.5dB          0x12: -34.5dB       0x1A: -50.5dB
   2        DVST[4:0]         R/W      0
                                             0x03: -4.5dB        0x0B: -20.5dB          0x13: -36.5dB       0x1B: -52.5dB
                                             0x04: -6.5dB        0x0C: -22.5dB          0x14: -38.5dB       0x1C: -54.5dB
   1                                   0
                                             0x05: -8.5dB        0x0D: -24.5dB          0x15: -40.5dB       0x1D: -56.5dB
                                             0x06: -10.5dB       0x0E: -26.5dB          0x16: -42.5dB       0x1E: -58.5dB
   0                                   0     0x07: -12.5dB       0x0F: -28.5dB          0x17: -44.5dB       0x1F: -60.5dB
www.maximintegrated.com                                                                                    Maxim Integrated │ 107


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
Record Path Digital Gain and Level Control                     adjusting the record level for digital microphones. The
The stereo record path DSP includes a digital gain             coarse digital gain adjustment can be set from 0dB to
and level control stage. The settings can be configured        +42dB in 6dB increments, and the fine adjust level control
independently by channel, and are primarily used when          gain can be set from -12dB to +3dB in 1dB increments
                                                               (Tables 35 to 38).
Table 35. Primary Record Path Left Channel Digital Gain Configuration Register
            ADDRESS: 0x17
                                                                          DESCRIPTION
  BIT        NAME         TYPE    POR
   7           —            —      —    —
   6                               0    Left Record Path Digital Coarse Gain Configuration
   5       AVLG[2:0]       R/W     0     000 : 0dB         010 : +12dB         100 : +24dB        110 : +36dB
   4                               0     001 : +6dB        011 : +18dB         101 : +30dB        111 : +42dB
   3                               0    Left Record Path Digital Fine Adjust Gain Configuration
   2                               0     0x0: +3dB         0x4: -1dB           0x8: -5dB          0xC: -9dB
            AVL[3:0]       R/W           0x1: +2dB         0x5: -2dB           0x9: -6dB          0xD: -10dB
   1                               1     0x2: +1dB         0x6: -3dB           0xA: -7dB          0xE: -11dB
   0                               1     0x3: +0dB         0x7: -4dB           0xB: -8dB          0xF: -12dB
Table 36. Primary Record Path Right Channel Digital Gain Configuration Register
            ADDRESS: 0x18
                                                                          DESCRIPTION
  BIT        NAME         TYPE    POR
   7           —            —      —    —
   6                               0    Right Record Path Digital Coarse Gain Configuration
   5       AVRG[2:0]       R/W     0     000: 0dB          010: +12dB          100: +24dB         110: +36dB
   4                               0     001: +6dB         011: +18dB          101: +30dB         111: +42dB
   3                               0    Right Record Path Digital Fine Adjust Gain Configuration
   2                               0     0x0: +3dB         0x4: -1dB           0x8: -5dB          0xC: -9dB
            AVR[3:0]       R/W           0x1: +2dB         0x5: -2dB           0x9: -6dB          0xD: -10dB
   1                               1     0x2: +1dB         0x6: -3dB           0xA: -7dB          0xE: -11dB
   0                               1     0x3: +0dB         0x7: -4dB           0xB: -8dB          0xF: -12dB
www.maximintegrated.com                                                                            Maxim Integrated │ 108


MAX98091                                                 Ultra-Low Power Stereo Audio Codec
Table 37. Secondary Record Path Left Channel Digital Digital Gain Configuration
Register
            ADDRESS: 0xBE
                                                                  DESCRIPTION
 BIT         NAME        TYPE POR
  7            —           —   —  —
  6                            0
                                  DMIC2L Record Path Digital Coarse Gain Configuration
  5        AV2LG[2:0]     R/W  0     000: 0dB           010: +12dB         100: +24dB      110: +36dB
                                     001: +6dB          011: +18dB         101: +30dB      111: +42dB
  4                            0
  3                            0  DMIC2L Record Path Digital Fine Adjust Gain Configuration
  2                            0     0x0: +3dB           0x4: -1dB               0x8: -5dB        0xC: -9dB
            AV2L[3:0]     R/W        0x1: +2dB           0x5: -2dB               0x9: -6dB        0xD: -10dB
  1                            1
                                     0x2: +1dB           0x6: -3dB               0xA: -7dB        0xE: -11dB
  0                            1     0x3: +0dB           0x7: -4dB               0xB: -8dB        0xF: -12dB
Table 38. Secondary Record Path Right Channel Digital Digital Gain Configuration
Register
            ADDRESS: 0xBF
                                                                  DESCRIPTION
 BIT         NAME        TYPE POR
  7            —           —   —  —
  6                            0
                                  DMIC2R Record Path Digital Coarse Gain Configuration
  5        AV2RG[2:0]     R/W  0     000: 0dB           010: +12dB         100: +24dB      110: +36dB
                                     001: +6dB          011: +18dB         101: +30dB      111: +42dB
  4                            0
  3                            0  DMIC2R Record Path Digital Fine Adjust Gain Configuration
  2                            0
                                     0x0: +3dB           0x4: -1dB               0x8: -5dB        0xC: -9dB
            AV2R[3:0]     R/W
                                     0x1: +2dB           0x5: -2dB               0x9: -6dB        0xD: -10dB
  1                            1
                                     0x2: +1dB           0x6: -3dB               0xA: -7dB        0xE: -11dB
                                     0x3: +0dB           0x7: -4dB               0xB: -8dB        0xF: -12dB
  0                            1
www.maximintegrated.com                                                                     Maxim Integrated │ 109


MAX98091                                                                             Ultra-Low Power Stereo Audio Codec
Digital Audio Interface (DAI) Configuration                                        the device is configured to slave mode, the internal PLL
The digital audio interface (DAI) contains two primary sec-                        quickly locks onto the external LRCLK frequency.
tions (Figure 16). The first is the clock control and configu-                     The second section is the digital audio data path control
ration section. The device supports both master and slave                          and signal routing. This section supports a variety of ste-
mode operation, can accept a master clock of either 256                            reo data path configurations including serial audio input
x fS or ranging from 10MHz to 60MHz, and can be config-                            and output, audio loop through from the record to play-
ured for any digital audio sampling rate (fS) from 8kHz to                         back paths, and audio loop back from the serial data input
96kHz. When the device is configured as the digital audio                          to the serial data output. The serial data interface also
master, a variety of operating modes are available. These                          supports several standard digital audio formats (PCM)
include a simple quick configuration mode, exact integer                           including I2S, left justified, right justified, and time division
sampling mode, and a manual clock divider mode. When                               multiplexed (TDM).
                 MCLK                      LRCLK                    BCLK                          SDOUT                                               SDIN
                                                                         MAX98091
                                                                                        DATA OUTPUT           SDOEN
                                                                                                                                     LTEN
                                                                                           ENABLE             HIZOFF
                                                    MAS
                                                                                                                                        1             0
                                                                                                       TDM, FSW             TDM, FSW          LOOP-
                                                    BCI           BIT                              SLOT_REC1L/R[1:0]      SLOTDLY[3:0]      THROUGH
            PRESCALED                  FRAME
                                                                CLOCK                              SLOT_REC2L/R[1:0]      SLOTL/R[1:0]         MUX
              CLOCK                    CLOCK         WCI
           GENERATION
           PCLK                                  USE_MI                               OUTPUT SHIFT                                         INPUT SHIFT
                          PSCLK[1:0]              NI[14:0]                              REGISTER                    RJ, DLY                 REGISTER
                                                  MI[14:0]                                                          WS[1:0]
                                                                                           LOOP-                                           DATA INPUT
                                                                                                              LBEN     SDIEN
                                     CLOCK GENERATION AND DISTRIBUTION                  BACK MUX                                             ENABLE
                                                                                         0       1
                                      FREQ[3:0]                BSEL[2:0]
                                                                                                                     DMONO                  PLAYBACK
                    DAI: CLOCK CONTROL                                                                                                    INPUT MIXER
                    AND CONFIGURATION                                                                        DAI: DATA PATH
                  DIGITAL MIC CLOCK                     RECORD                                L/R AUDIO            PLAYBACK                         L/R AUDIO
                  CONFIGURATION                         PATH CLOCKS                           OUTPUT               PATH CLOCKS                      INPUT
                                                                    RECORD PATH DSP                                              PLAYBACK PATH DSP
Figure 16. Simplified Digital Audio Interface Block Diagram
www.maximintegrated.com                                                                                                                 Maxim Integrated │ 110


MAX98091                                                                                   Ultra-Low Power Stereo Audio Codec
DAI Clock Control and Configuration                                                     the serial data input (SDIN) and output (SDOUT), the
The clock control and configuration section is one of the                               DAI requires both a left-right frame clock (LRCLK) and a
two major blocks in the digital audio interface (Figure 17).                            bit clock (BCLK). In master mode, the device uses one
This section is responsible for accepting and scaling the                               of several modes to generate both LRCLK and BCLK
device master clock, for internal digital clock generation,                             from the internal prescaled master clock (PCLK). In slave
and for digital audio interface data clocking and timing.                               mode however, both LRCLK and BCLK must be exter-
                                                                                        nally provided.
The device can accept an external master clock (MCLK)
with a frequency ranging from 10MHz to 60MHz. However,                                  Master Mode Clock Configuration
for digital operation, signal processing, and data conver-                              When the device is configured as the digital audio mas-
sion the device requires an internal clock between 10MHz                                ter, the frame clock (LRCLK) and bit clock (BCLK) are
and 20MHz. To generate an internal master clock within                                  configured as outputs and the device uses the internal
this frequency range, an internal clock divider is used                                 prescaled master clock (PCLK) to create them.
(Table 39). The internal clock divider can be set to fre-
                                                                                        If no clock outputs or unexpected clock outputs are mea-
quency divide MCLK by a factor 1, 2, or 4 to create the
                                                                                        sured on LRCLK and/or BCLK, verify that the device is not
internal prescaled master clock (PCLK). PCLK is then
                                                                                        in shutdown and that all three clocks are configured cor-
used, either directly or through additional divider/multiplier
                                                                                        rectly. If the master clock prescale value is not selected
blocks, to clock all internal digital sections.
                                                                                        (PSCLK[1:0]), the clock ratio is not fully configured (oper-
The digital audio interface signal paths support any sam-                               ating mode), or if the bit clock rate is not set (BSEL[2:0])
pling rate from 8kHz to 96kHz. The device has only a single                             then no valid clock output is present. In addition to this,
DAI, and as a result both the record (output) and playback                              the device does not generate any clocks unless at least
(input) digital audio paths use the same sampling rate.                                 one valid digital audio data path is enabled (ADC record,
The device digital audio interface supports both master                                 DAC playback, digital microphone input, etc.).
and slave mode operation (Table 40). To properly time
                    MCLK                      LRCLK                    BCLK                              SDOUT                                             SDIN
                                                                              MAX98091
                                                                                                  DATA OUTPUT        SDOEN
                                                                                                                                         LTEN
                                                                                                     ENABLE          HIZOFF
                                                       MAS
                                                                                                                                             1             0
                                                                                                              TDM, FSW           TDM, FSW          LOOP-
                                                       BCI           BIT                                   SLOT_REC1L/R[3:0]   SLOTDLY[3:0]      THROUGH
              PRESCALED                   FRAME
                                                                   CLOCK                                   SLOT_REC2L/R[1:0]    SLOTL/R[1:0]        MUX
                CLOCK                     CLOCK         WCI
             GENERATION
          PCLK                                      USE_MI                                   OUTPUT SHIFT                                       INPUT SHIFT
                             PSCLK[1:0]              NI[14:0]                                  REGISTER                   RJ, DLY                REGISTER
                                                     MI[14:0]                                                             WS[1:0]
                                                                                                LOOP-                                           DATA INPUT
                                                                                                              LBEN                 SDIEN
                                        CLOCK GENERATION AND DISTRIBUTION                     BACK MUX                                            ENABLE
                                                                                              0       1
                                         FREQ[3:0]                BSEL[2:0]
                                                                                                                                  DMONO          PLAYBACK
                      DAI: CLOCK CONTROL                                                                                                       INPUT MIXER
                       AND CONFIGURATION                                                                                DAI: DATA PATH
                   DIGITAL MIC CLOCK                        RECORD                                 L/R AUDIO             PLAYBACK                        L/R AUDIO
                   CONFIGURATION                            PATH CLOCKS                            OUTPUT                PATH CLOCKS                     INPUT
                                                                          RECORD PATH DSP                                          PLAYBACK PATH DSP
Figure 17. DAI Clock Control and Configuration Section
www.maximintegrated.com                                                                                                                       Maxim Integrated │ 111


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
Table 39. System Master Clock (MCLK) Prescaler Configuration Register
            ADDRESS: 0x1B
                                                                              DESCRIPTION
  BIT         NAME          TYPE   POR
   7            —             —      —    —
   6            —             —      —    —
                                          Master Clock (MCLK) Prescaler Configuration
   5                                 0
                                          00: Internal master clock generation disabled
           PSCLK[1:0]        R/W          01: fPCLK = fMCLK/1, 10MHz ≤ fMCLK ≤ 20MHz
   4                                 0    10: fPCLK = fMCLK/2, 20MHz < fMCLK ≤ 40MHz
                                          11: fPCLK = fMCLK/4, 40MHz < fMCLK ≤ 60MHz
   3            —             —      —    —
   2            —             —      —    —
   1            —             —      —    —
   0            —             —      —    —
Table 40. Master Mode Clock Configuration Register
             ADDRESS: 0x21
                                                                              DESCRIPTION
  BIT         NAME          TYPE   POR
                                          Master Mode Enable
                                          0: Slave mode
   7           MAS           R/W     0      (LRCLK/BCLK are inputs and accept external clock sources).
                                          1: Master mode
                                            (LRCLK/BCLK are outputs and timing signals are generated internally).
   6            —             —      —    —
   5            —             —      —    —
   4            —             —      —    —
   3            —             —      —    —
   2                                 0    Bit Clock (BCLK) Configuration (Master Mode/Slave Right Justified Only)
                                          000: Bit clock disabled              100: fBCLK = fPCLK/2
   1        BSEL[2:0]        R/W     0    001: fBCLK = 32 x fS                 101: fBCLK = fPCLK/4
                                          010: fBCLK = 48 x fS                 110: fBCLK = fPCLK/8
   0                                 0    011: fBCLK = 64 x fS                 111: fBCLK = fPCLK/16
In master mode, the device uses two integer values (NI             BCLK) is based on an integer ratio. As a result, any cycle
and MI) as a multiplier and divider (respectively) to scale        to cycle jitter or absolute frequency variation in MCLK
PCLK into LRCLK. BCLK is then created either from a                is translated first into PCLK and then into LRCLK (and
PCLK divider or from an LRCLK multiplier (Table 40).               BCLK) based on the selected clock ratios.
Based on the oversampling rate selected (OSR, see the              In master mode, the device provides three clock operating
ADC Functional Configuration section), and the config-             modes. In reality all three modes operate in exactly the
ured NI/MI ratio, the output LRCLK frequency is calcu-             same manner (using an internal MI and NI ratio to create
lated with the following relationship:                             LRCLK). However, the first two modes will internally set
                                       NI                          NI and MI automatically and are provided as configura-
                f LRCLK
                   = f PCLK ×
                                   MI × OSR                        tion shortcuts for commonly used PCLK to LRCLK ratios.
This expression illustrates that in master mode, the rela-         The three operating modes are detailed below, and are
tionship between LRCLK and PCLK frequency (as well as              presented in order of activation priority.
www.maximintegrated.com                                                                                  Maxim Integrated │ 112


MAX98091                                                             Ultra-Low Power Stereo Audio Codec
Quick Configuration Mode                                          To ensure that the DSP is optimally configured and that all
In quick configuration mode, the master clock frequency           timing requirements are met, when using quick configura-
(Table 41) and sample rate (Table 42) are selected from           tion mode the master clock divider (PSCLK, Table 39),
a list of commonly used frequencies. Only a single bit in         digital filters (MODE, Table 28), and ADC oversampling
each quick setup register can be enabled at any given             rate (OSR128,Table 5) are automatically configured.
time. Quick configuration mode is activated anytime               While in quick configuration mode these registers are
that both a master clock frequency quick setup bit and            fixed and cannot be manually changed. In this mode,
a sample rate quick setup bit are concurrently enabled.           when the sample rate is set to 8kHz or 16kHz, voice filters
Once enabled, this mode supersedes both of the other              (IIR) are automatically selected and the ADC oversam-
operating modes and an internal preset ratio for NI and           pling rate is fixed to 128. For any other selected sample
MI is used to create LRCLK. As a result, when Quick               rate, music filters (FIR) are selected and the ADC overs-
Configuration Mode is enabled the exact integer mode              ampling rate is configured to insure that the pre-scaled
settings (Table 44), and the manual ratio mode settings           master clock frequency is greater than or equal to 256 x
(Tables 45 to 48) are preserved but ignored. If this mode         fS. If fPCLK ≥ 256 x fS then the oversampling rate (OSR) is
is later disabled, the preserved settings of any active           set to 128, otherwise OSR is set to 64. Table 43 provides
lower precedence modes reassert.                                  a complete lookup table for the resulting quick configura-
                                                                  tion mode settings.
Table 41. Master Clock Quick Setup Register
             ADDRESS: 0x04
                                                                               DESCRIPTION
  BIT          NAME       TYPE   POR
   7            26M        R/W    0    Setup device for operation with a 26MHz master clock (MCLK).
   6          19P2M        R/W    0    Setup device for operation with a 19.2MHz master clock (MCLK).
   5            13M        R/W    0    Setup device for operation with a 13MHz master clock (MCLK).
   4         12P288M       R/W    0    Setup device for operation with a 12.288MHz master clock (MCLK).
   3            12M        R/W    0    Setup device for operation with a 12MHz master clock (MCLK).
   2        11P2896M       R/W    0    Setup device for operation with a 11.2896MHz master clock (MCLK).
   1             —          —     —    —
   0           256FS       R/W    0    Setup device for operation with a 256 x fS MHz master clock (MCLK)
Table 42. Sample Rate Quick Setup Register
             ADDRESS: 0x05
                                                                               DESCRIPTION
  BIT          NAME       TYPE   POR
   7             —          —     —    —
   6             —          —     —    —
   5          SR_96K       R/W    0    Setup clocks and filters for a 96kHz sample rate.
   4          SR_32K       R/W    0    Setup clocks and filters for a 32kHz sample fate.
   3          SR_48K       R/W    0    Setup clocks and filters for a 48kHz sample rate.
   2         SR_44K1       R/W    0    Setup clocks and filters for a 44.1kHz sample rate.
   1          SR_16K       R/W    0    Setup clocks and filters for a 16kHz sample rate.
   0          SR_8K        R/W    0    Setup clocks and filters for an 8kHz sample rate.
www.maximintegrated.com                                                                                 Maxim Integrated │ 113


MAX98091                                                                 Ultra-Low Power Stereo Audio Codec
Exact Integer Mode                                                    When FREQ[3:0] register is set to 0 (FREQ[3:0] = 0000),
In exact integer mode, the master clock frequency and sam-            exact integer mode is disabled. When the MSB is set to 1
ple rate can be set to one of eight preprogrammed combi-              (FREQ[3:0] = 1XXX) exact integer mode is enabled and
nations (Table 44). There are four different available mas-           the remaining bits determine which setting is selected
ter clock frequencies (12MHz/13MHz/16MHz/19.2MHz),                    (Table 44). If exact integer mode is enabled, the manual
each of which can be selected with a sampling rate (fS)               ratio mode settings (Tables 45 to 48) are preserved but
of either 8kHz or 16kHz. Once a configuration is selected,            ignored. However, if this mode is later disabled, the
the NI and MI bits are internally programmed to the cor-              manual ratio mode settings reassert.
rect ratio. These combinations are primarily intended for
standard or wideband voice applications.
Table 43. Quick Configuration Mode Lookup
      SELECTED MASTER CLOCK                                           SELECTED SAMPLE RATE (kHz)
              FREQUENCY                      8                16              32             44.1            48             96
     fMCLK      DIVIDER     fPCLK          VOICE FILTER (IIR)                                MUSIC FILTER (FIR)
    26MHz          2        13Mhz       OSR = 128         OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
   19.2MHz         1       19.2Mhz      OSR = 128         OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
    13MHz          1        13Mhz       OSR = 128         OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
  12.288MHz        1      12.288Mhz     OSR = 128         OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
    12MHz          1        12MHz       OSR = 128         OSR = 128       OSR = 128       OSR = 128      OSR = 128       OSR = 64
 11.2896MHz        1     11.2896MHz     OSR = 128         OSR = 128       OSR = 128       OSR = 128        OSR = 64      OSR = 64
                   1       256 x fS     OSR = 128         OSR = 128       OSR = 128       OSR = 128        OSR = 64         —
    256 x fS
                   2       128 x fS          —                —               —               —              —           OSR = 64
Table 44. Clock Mode Configuration Register
              ADDRESS: 0x1C
                                                                                  DESCRIPTION
  BIT          NAME         TYPE    POR
   7                                 0    Exact Integer Sampling Frequency (LRCLK) Configuration
                                           Configure the DAI for specific PCLK to LRCLK ratios for fS = 8kHz/16kHz operation
                                           (voice modes). Any setting other than 0x0 overrides manual ratio mode settings.
   6                                 0     0000: Disabled                1XXX: Enabled           Other combinations are reserved
             FREQ[3:0]       R/W           When enabled, the following PCLK to LRCLK ratios are available:
   5                                 0     1000: fPCLK = 12MHz, fLRCLK = 8kHz               1001: fPCLK = 12MHz, fLRCLK = 16kHz
                                           1010: fPCLK = 13MHz, fLRCLK = 8kHz               1011: fPCLK = 13MHz, fLRCLK = 16kHz
                                           1100: fPCLK = 16MHz, fLRCLK = 8kHz               1101: fPCLK = 16MHz, fLRCLK = 16kHz
   4                                 0     1110: fPCLK = 19.2MHz, fLRCLK = 8kHz             1111: fPCLK = 19.2MHz, fLRCLK = 16kHz
   3             —            —      —    —
   2             —            —      —    —
   1             —            —      —    —
                                          Use MI[15:0] in Addition to NI[14:0] to set an Accurate Frequency Ratio
   0          USE_MI         R/W     0     0 : MI = 65536; NI = (fLRCLK / fPCLK) x 65536 x 96
                                           1 : MI is set to the value of MI[15:0] (Table 47 and Table 48).
www.maximintegrated.com                                                                                       Maxim Integrated │ 114


MAX98091                                                            Ultra-Low Power Stereo Audio Codec
Manual Ratio Mode                                                                     NI = fOSR x MI/fPCLK
In manual ratio mode, the NI and MI registers (Table 45          Slave Mode Clock Configuration
to Table 48) are directly programmed to set up the clock
                                                                 When the device is configured as a digital audio slave, the
ratio. Manual ratio mode is only active when the quick
                                                                 frame clock (LRCLK) and bit clock (BCLK) are configured
Configuration and Exact Integer Modes are disabled. In
                                                                 as external inputs. These inputs accept an externally
manual ratio mode, if USE_MI (Table 44) is set to 0, MI
                                                                 generated frame and bit clock, and then an internal PLL
is fixed at its maximum value of 0xFFFF (65536) and
                                                                 determines the correct PCLK to LRCLK frequency ratio.
the programmed value has no effect. For optimal perfor-
                                                                 Within a few LRCLK cycles, the internal PLL is locked
mance (especially with any noninteger PCLK to LRCLK
                                                                 onto the clock ratio and then automatically programs the
ratio), set USE_MI to 1 and calculate both MI and NI.
                                                                 internal divider ratio appropriately. The external clocks
To calculate the appropriate NI and MI value, use the fol-       must not violate the minimum PCLK to LRCLK frequency
lowing method:                                                   ratio. See the Input Clock Characteristics table. If the min-
1) Choose the over sampling rate (OSR). If fPCLK < 256           imum clock ratio is not satisfied, the FlexSound DSP does
    x fLRCLK, then OSR must be set to 64. Otherwise,             not have enough clock cycles to operate correctly. As a
    OSR can be set to either 128 or 64. For optimal per-         result, the audio quality and specifications are severely
    formance, choose OSR = 128 when possible.                    compromised.
2) Calculate the oversampling frequency using the                In slave mode, the clock generation register settings have
    LRCLK frequency, and the selected oversampling rate:         no effect (quick configuration, exact integer, and manual
                   fOSR = fLRCLK x OSR.                          ratio mode settings have no effect). The correct MCLK to
                                                                 PCLK scaling factor, mode (voice/audio), and oversam-
3) Calculate MI using the prescaled master clock fre-            pling rate still need to be programmed. However, all other
    quency, and the greatest common denominator (GCD)            clock configuration settings are for master mode only. The
    of the prescaled master clock frequency and the cal-         only exception to this is when the digital audio format is
    culated oversampling frequency:                              set to slave mode operation with right justified data. In
               MI = fPCLK/GCD(fPCLK, fOSR)                       this configuration, the BCLK setting (BSEL[2:0], Table 40)
4) Calculate NI using the calculated oversampling                is used to determine the number of leading padding bits
    frequency and MI value:                                      (BCLK cycles) to insert (skip) before the data transmis-
                                                                 sion/receiving in each frame.
Table 45. Manual Clock Ratio Configuration Register (NI MSB)
             ADDRESS: 0x1E
                                                                            DESCRIPTION
  BIT         NAME         TYPE   POR
   7                               0
   6                               0
   5                               0
   4                               0   Lower half of the PLL N value used in master mode clock generation
              NI[7:0]       R/W
   3                               0   to calculate the frequency ratio (manual ratio master mode).
   2                               0
   1                               0
   0                               0
www.maximintegrated.com                                                                                 Maxim Integrated │ 115


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
Table 46. Manual Clock Ratio Configuration Register (NI LSB)
           ADDRESS: 0x1E
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Lower half of the PLL N value used in master mode clock generation
            NI[7:0]      R/W
  3                           0  to calculate the frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
Table 47. Manual Clock Ratio Configuration Register (MI MSB)
           ADDRESS: 0x1F
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Upper half of the PLL M value used in master mode clock generation to
           MI[15:8]      R/W
  3                           0  calculate an accurate noninteger frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
Table 48. Manual Clock Ratio Configuration Register (MI MSB)
           ADDRESS: 0x20
                                                                      DESCRIPTION
 BIT        NAME        TYPE POR
  7                           0
  6                           0
  5                           0
  4                           0  Lower half of the PLL M value used in master mode clock generation to
            MI[7:0]      R/W
  3                           0  calculate an accurate noninteger frequency ratio (manual ratio master mode).
  2                           0
  1                           0
  0                           0
www.maximintegrated.com                                                                            Maxim Integrated │ 116


MAX98091                                                                                Ultra-Low Power Stereo Audio Codec
DAI Digital Audio Data Path Control                                                  for all valid data path combinations are detailed in
and Routing                                                                          Table 49 and are illustrated in Figure 19.
The digital audio data path section supports a variety of                            SDOUT can be configured to go to either a high imped-
stereo data path configurations and formats (Figure 18).                             ance state or to drive a valid logic level (LSB) after all
The standard configuration is to route either the record                             data bits have been transmitted. When high impedance
path digital audio output to the serial data output (record                          mode is enabled, SDOUT goes to a high-impedance state
path to SDOUT) or to route the serial data input to the dig-                         quickly after the BCLK edge for the LSB occurs to avoid
ital audio playback path (SDIN to playback path). These                              potential bus contention. SDIN/loopthrough audio data
two primary configurations can be used either individually                           can be routed through the playback path input mixer as
or together as needed by the application.                                            either stereo audio data, or as a mono representation of
                                                                                     the input audio data. By default, playback mono mode is
The DAI data path also supports two loop configurations.                             disabled and the left/right input audio data is routed to
Loop back mode takes the digital audio serial data input                             the left/right playback channels respectively. If playback
and routes it back to the serial data output (SDIN to                                mono mode is enabled, the input audio data channels are
SDOUT). Loop through mode allows the record path audio                               reduced in amplitude by 6dB, mixed together (summed),
data output to be looped through to the digital audio play-                          and then routed to both the left and right record path
back path (and can be combined with the record path to                               channels. The full list of DAI data path configuration con-
SDOUT configuration if desired). The configuration settings                          trol bits are detailed in Table 50.
                   MCLK                      LRCLK                   BCLK                         SDOUT                                                    SDIN
                                                                            MAX98091
                                                                                          DATA OUTPUT           SDOEN
                                                                                                                                         LTEN
                                                                                             ENABLE             HIZOFF
                                                      MAS
                                                                                                                                             1             0
                                                                                                           TDM, FSW            TDM, FSW            LOOP-
                                                     BCI           BIT                                 SLOT_REC1L/R[3:0]      SLOTDLY[3:0]       THROUGH
             PRESCALED                   FRAME
                                                                 CLOCK                                 SLOT_REC2L/R[1:0]      SLOTL/R[1:0]          MUX
               CLOCK                     CLOCK        WCI
            GENERATION
          PCLK                                     USE_MI                                 OUTPUT SHIFT                                          INPUT SHIFT
                            PSCLK[1:0]             NI[14:0]                                REGISTER                      RJ, DLY                 REGISTER
                                                   MI[14:0]                                                               WS[1:0]
                                                                                              LOOP-                                             DATA INPUT
                                                                                                            LBEN                  SDIEN
                                       CLOCK GENERATION AND DISTRIBUTION                   BACK MUX                                               ENABLE
                         DHF
                                                                                            0       1
                                        FREQ[3:0]               BSEL[2:0]
                                                                                                                                DMONO            PLAYBACK
                  DAI: CLOCK CONTROL                                                                                                           INPUT MIXER
                   AND CONFIGURATION                                                                              DAI: DATA PATH
                  DIGITAL MIC CLOCK                       RECORD                                 L/R AUDIO               PLAYBACK                        L/R AUDIO
                  CONFIGURATION                           PATH CLOCKS                            OUTPUT                  PATH CLOCKS                     INPUT
                                                                          RECORD PATH DSP                                         PLAYBACK PATH DSP
Figure 18. DAI Digital Data Path Configuration
www.maximintegrated.com                                                                                                                    Maxim Integrated │ 117


MAX98091                                                                                Ultra-Low Power Stereo Audio Codec
               SDOUT                  SDIN                             SDOUT                 SDIN                               SDOUT                 SDIN
                       PATH 1:                                                 PATH 2:                                                  PATH 3:
                       RECORD                                                PLAYBACK                                                 FULL DUPLEX
                                   LOOP-                                                  LOOP-                                                    LOOP-
        DATA OUTPUT                                             DATA OUTPUT                                           DATA OUTPUT
                                 THROUGH                                                THROUGH                                                  THROUGH
           ENABLE                                                  ENABLE                                                 ENABLE
                                    MUX                                                    MUX                                                      MUX
       OUTPUT SHIFT              INPUT SHIFT                    OUTPUT SHIFT            INPUT SHIFT                   OUTPUT SHIFT               INPUT SHIFT
         REGISTER                 REGISTER                       REGISTER                REGISTER                      REGISTER                   REGISTER
                 LOOP-            DATA INPUT                             LOOP-           DATA INPUT                               LOOP-           DATA INPUT
               BACK MUX            ENABLE                              BACK MUX           ENABLE                               BACK MUX            ENABLE
                                  PLAYBACK                                               PLAYBACK                                                 PLAYBACK
                                INPUT MIXER                                            INPUT MIXER                                              INPUT MIXER
      DMIC2 ADC                      DAC                      DMIC2 ADC                     DAC                     DMIC2 ADC                        DAC
        (RECORD)                 (PLAYBACK)                     (RECORD)                (PLAYBACK)                    (RECORD)                   (PLAYBACK)
                                      SDOUT                  SDIN                                        SDOUT                   SDIN
                                               PATH 4:                                                            PATH 5:
                                             PLAYBACK/                                                           RECORD/
                                             LOOP BACK                                                       LOOP THROUGH
                                                          LOOP-                                                               LOOP-
                             DATA OUTPUT                                                          DATA OUTPUT
                                                        THROUGH                                                             THROUGH
                                  ENABLE                                                             ENABLE
                                                           MUX                                                                 MUX
                             OUTPUT SHIFT               INPUT SHIFT                              OUTPUT SHIFT               INPUT SHIFT
                               REGISTER                  REGISTER                                  REGISTER                  REGISTER
                                         LOOP-           DATA INPUT                                        LOOP-             DATA INPUT
                                      BACK MUX                                                           BACK MUX             ENABLE
                                                          ENABLE
                                                         PLAYBACK                                                            PLAYBACK
                                                       INPUT MIXER                                                         INPUT MIXER
                          DMIC2 ADC                         DAC                                 DMIC2 ADC                       DAC
                             (RECORD)                   (PLAYBACK)                                (RECORD)                  (PLAYBACK)
Figure 19. Digital Audio Interface (DAI) Data Path Configurations
www.maximintegrated.com                                                                                                                  Maxim Integrated │ 118


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Table 49. Digital Audio Interface (DAI) Data Path Configurations
                                                 DAI DATA PATH CONFIGURATION
  PATH                              DESCRIPTION                                 SDOEN          SDIEN           LTEN          LBEN
    —       DAI data path disabled                                                  0              0              0              0
     1      Record path to serial data output                                       1              0              0              0
     2      Serial data input to playback path                                      0              1              0              0
            Record path to serial data output/serial data input to
     3                                                                              1              1              0              0
            playback path
     4      Serial data input loop back to serial data output                       1              1              0              1
            Record path to serial data output
     5                                                                              1              1              1              0
            and loop through to playback path
    —       Invalid configurations                                                            All other combinations
Table 50. Digital Audio Interface (DAI) Input/Output Configuration Register
              ADDRESS: 0x25
                                                                                      DESCRIPTION
 BIT          NAME              TYPE     POR
  7             —                 —       —      —
  6             —                 —       —      —
                                                 Enables Data Loop Through (Playback Path to Record Path)
  5            LTEN              R/W       0        1: ADC to DAC loop-through enabled.
                                                    0: ADC to DAC loop-through disabled.
                                                 Enables Data Loop Back (SDIN to SDOUT)
  4           LBEN               R/W       0        1: DAI SDIN used as SDOUT data source.
                                                    0: ADC used as SDOUT data source.
                                                 Enables Playback Mono Mode (SDIN L/2 + R/2 to Playback Path)
                                                    1: The left- and right-channel SDIN audio input data are reduced in gain by 6dB,
  3          DMONO               R/W       0        mixed together (summed), and routed to both the left and right record paths.
                                                    0: The left- and right-channel SDIN audio input data are routed to the left and
                                                    right record path channels.
                                                 Disables Hi-Z Mode for SDOUT
                                                    1: SDOUT drives a valid logic level after all data bits have been transmitted.
  2          HIZOFF              R/W       0
                                                    0: SDOUT goes to a high-impedance state after all data bits have been
                                                    transmitted, allowing the SDOUT bus to be shared by other devices.
                                                 Enables the Serial Data Output (SDOUT)
  1          SDOEN               R/W       0        1: Serial data output enabled.
                                                    0: Serial data output disabled.
                                                 Enables the Serial Data Input (SDIN/Loop-Through)
  0           SDIEN              R/W       0         1: Serial data input enabled.
                                                     0: Serial data input disabled.
www.maximintegrated.com                                                                                          Maxim Integrated │ 119


MAX98091                                                                   Ultra-Low Power Stereo Audio Codec
DAI Digital Audio Data Format                                           If TDM mode is disabled, then the data format is deter-
The serial data interface supports multiple pulse code                  mined by the configuration selected by the control bits
modulated (PCM) digital audio formats including I2S,                    detailed in Table 51. These settings can be used to
left justified, right justified, and time division multiplexed          change the DAI data format to several supported stan-
(TDM). If TDM mode is enabled, it takes precedence and                  dards such as I2S (Figure 20, left justified (Figure 21) or
the DAI data is in TDM format. In this case, all non-TDM                right justified (Figure 22). In addition, the configuration
digital audio data format configuration registers have no               settings can be enabled or disabled independently, allow-
effect. TDM mode must be selected whenever the second-                  ing the device to support many nonstandard data format
ary record path is enabled.                                             variations.
Table 51. Digital Audio Interface (DAI) Format Configuration Register
                 ADDRESS: 0x22
                                                                                       DESCRIPTION
  BIT            NAME             TYPE    POR
   7               —                —      —     —
   6               —                —      —     —
                                                  Configures the DAI for Right Justified Mode (No Data Delay)
                                                    0: Left justified mode enabled with optional data delay.
                                                    1: Right justified mode enabled. DLY register is not used and BSEL[2:0] is used
   5               RJ              R/W     0
                                                   to determine the timing (see the DAI Clock Control and Configuration section for
                                                   details).
                                                  Note: TDM has priority over all other data formats.
                                                  Configures the DAI for Frame Clock (LRCLK) Inversion
                                                  TDM = 0:
                                                    1: Right-channel data is transmitted while LRCLK is low.
   4              WCI              R/W     0        0: Left-channel data is transmitted while LRCLK is low.
                                                  TDM = 1:
                                                    0: Start of a new frame is signified by the rising edge of the LRCLK pulse.
                                                    1: Start of a new frame is signified by the falling edge of the LRCLK pulse.
                                                  Configures the DAI for Bit Clock (BCLK) Inversion
                                                    1: SDIN is accepted on the falling edge of BCLK.
                                                    0: SDIN is accepted on the rising edge of BCLK.
   3               BCI             R/W     0
                                                  Master Mode:
                                                    1: LRCLK transitions occur on the rising edge of BCLK.
                                                    0: LRCLK transitions occur on the falling edge of BCLK.
                                                  Configures the DAI for Data Delay (I2S Standard)
                                                    1: The most significant bit of an audio word is latched at the second BCLK edge
                                                    after the LRCLK transition.
   2              DLY              R/W     0
                                                    0: The most significant bit of an audio word is latched at the first BCLK edge after
                                                    the LRCLK transition.
                                                  Set DLY = 1 to conform to the I2S standard. DLY is only effective when TDM = 0.
                                                  DAI Data Word Size
   1                                       0
                                                   TDM Data (TDM = 1):
                                                      00: 16 bits        01: 20 bits          10: 24 bits   11: 32 bits
                WS[1:0]            R/W             Right-Justified Data (TDM = 0 and RJ = 1):
                                                      00: 16 bits        01: 20 bits          10: 24 bits   11: 32 bits
   0                                       0
                                                   Left-Justified Data (TDM = 0 and RJ = 0):
                                                      00: 16 bits         01, 10, 11: 20 bits
www.maximintegrated.com                                                                                           Maxim Integrated │ 120


MAX98091                                                                                            Ultra-Low Power Stereo Audio Codec
            I2S MODE (TDM = 0, WCI = 0, BCI = 0, DLY = 1, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
   LRCLK                                              LEFT                                                                        RIGHT
                HIZ                                                                             HIZ                                                            HIZ
  SDOUT               D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN              D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 20. DAI Timing for I2S Data Format
              LEFT JUSTIFIED MODE – STANDARD (TDM = 0, WCI = 1, BCI = 0, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2                  D1 D0           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED MODE – LRLCK INVERTED (TDM = 0, WCI = 0, BCI = 0, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
              LEFT JUSTIFIED MODE – BCLK INVERTED (TDM = 0, WCI = 1, BCI = 1, DLY = 0, RJ = 0, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                              LEFT                                                                         RIGHT
           HIZ                                                                              HIZ                                                            HIZ
  SDOUT           D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
    BCLK
    SDIN          D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                            D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 21. DAI Timing for Left Justified Data Formats
www.maximintegrated.com                                                                                                                         Maxim Integrated │ 121


MAX98091                                                                                      Ultra-Low Power Stereo Audio Codec
         RIGHT JUSTIFIED MODE – STANDARD (TDM = 0, WCI = 1, BCI = 0, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                           LEFT                                                                        RIGHT
                  HIZ                                                                         HIZ                                                            HIZ
  SDOUT                  D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN                 D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         RIGHT JUSTIFIED MODE – LRCLK INVERTED (TDM = 0, WCI = 0, BCI = 0, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                          LEFT                                                                         RIGHT
  SDOUT           HIZ                                                                        HIZ                                                             HIZ
                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
         RIGHT JUSTIFIED MODE – BCLK INVERTED (TDM = 0, WCI = 1, BCI = 1, DLY = 0, RJ = 1, WS[1:0] = 00, HIZOFF = 0)
  LRCLK                                         LEFT                                                                         RIGHT
                 HIZ                                                                        HIZ                                                             HIZ
  SDOUT                D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2            D1 D0             D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
   BCLK
    SDIN               D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0                        D15 D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 D0
Figure 22. DAI Timing for Right Justified Data Formats
www.maximintegrated.com                                                                                                                     Maxim Integrated │ 122


MAX98091                                                            Ultra-Low Power Stereo Audio Codec
TDM Mode Data Format                                             channel can be assigned to any of the four available time
If TDM mode is enabled (Table 52), the register settings         slots (Table 53). The playback path has only two digital
in Table 44 have no effect. TDM mode supports up to              audio channels (left and right) that can be assigned to
four mono audio time slots in each frame. The record             any two of the four available time slots (Table 54). TDM
path can output up to four distinct channels: two from the       mode timing for common configuration options is detailed
primary and two from the secondary record path. Each             in Figure 23.
Table 52. Digital Audio Interface (DAI) TDM Control Register
             ADDRESS: 0x23
                                                                                DESCRIPTION
  BIT         NAME           TYPE     POR
   7            —               —      —     —
   6            —               —      —     —
   5            —               —      —     —
   4            —               —      —     —
   3            —               —      —     —
   2            —               —      —     —
                                             Configures the DAI Frame Sync Pulse Width (TDM = 1 and MAS = 1)
                                                1: Frame sync pulse has 50% duty cycle.
   1           FSW            R/W       0       0: Frame sync pulse is one bit wide.
                                             Note: In slave mode, the device accepts a frame sync pulse width up to
                                             frame width - 1.
                                             Enable for Time Division Multiplex (TDM) Mode
   0           TDM            R/W       0       1: Enable TDM mode and configures the DAI to transmit and receive TDM data.
                                                0: Disable TDM mode.
www.maximintegrated.com                                                                                 Maxim Integrated │ 123


MAX98091                                                    Ultra-Low Power Stereo Audio Codec
Table 53. Record Path TDM Slot Configuration
           ADDRESS: 0xC1
                                                                       DESCRIPTION
 BIT         NAME       TYPE POR
  7                            0     Selects the Time Slot to Use for Primary Record Path Left Channel Data in TDM
                                       Mode
       SLOT_REC1L[1:0]   R/W
  6                            0       00: Time Slot 1                        10: Time Slot 3
                                       01: Time Slot 2                        11: Time Slot 4
  5                            0     Selects the Time Slot to Use for Primary Record Path Right Channel Data in
                                       TDM Mode
      SLOT_REC1R[1:0]    R/W
  4                            1       00: Time Slot 1                        10: Time Slot 3
                                       01: Time Slot 2                        11: Time Slot 4
  3                            1     Selects the Time Slot to Use for Secondary Record Path Left Channel Data in
                                       TDM Mode
       SLOT_REC2L[1:0]   R/W
  2                            0       00: Time Slot 1                        10 : Time Slot 3
                                       01: Time Slot 2                        11 : Time Slot 4
  1                            1     Selects the Time Slot to Use for Secondary Record Path Right Channel Data in
                                       TDM Mode
      SLOT_REC2R[1:0]    R/W
  0                            1       00: Time Slot 1                        10: Time Slot 3
                                       01: Time Slot 2                        11: Time Slot 4
Table 54. Playback Path Digital Audio Interface (DAI) TDM Format Register
             ADDRESS: 0x24
                                                                        DESCRIPTION
 BIT          NAME        TYPE   POR
  7                               0   Selects the Time Slot to use for Left-Channel Playback Data in TDM Mode
           SLOTL[1:0]      R/W          00: Time slot 1                            10: Time slot 3
  6                               0     01: Time slot 2                            11: Time slot 4
  5                               0   Selects the Time Slot to use for Right-Channel Playback Data in TDM Mode
           SLOTR[1:0]      R/W          00: Time slot 1                            10: Time slot 3
  4                               0     01: Time slot 2                            11: Time slot 4
  3                               0   Enables data delay for slot 4 in TDM mode.
  2                               0   Enables data delay for slot 3 in TDM mode.
          SLOTDLY[3:0]     R/W
  1                               0   Enables data delay for slot 2 in TDM mode.
  0                               0   Enables data delay for slot 1 in TDM mode.
www.maximintegrated.com                                                                           Maxim Integrated │ 124


MAX98091                                                                                                   Ultra-Low Power Stereo Audio Codec
         TDM MODE WITH SINGLE BIT SYNC PULSE (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
           HI-Z                                                                                                                                        HI-Z
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH WORD LENGTH SYNC PULSE (TDM = 1, WCI = 0, BCI = 1, FSW = 1, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
           HI-Z                                                                                                                                        HI-Z
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH HI-Z MODE DISABLED (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 1, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK
  SDOUT         L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
   BCLK
    SDIN        L15 L14 L13 L12 L11 L10 L9  L8  L7   L6   L5   L4  L3    L2   L1   L0   R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE USING SLOTS 2 AND 3 (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 10, SLOTR[1:0] = 11)
  LRCLK
                  HI-Z                                                                                                                                             HI-Z
  SDOUT                         L15 L14 L13 L12 L11 L10 L9     L8  L7    L6   L5   L4   L3  L2  L1  L0 R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
                   32 CYCLES
   BCLK
    SDIN                        L15 L14 L13 L12 L11 L10 L9     L8  L7    L6   L5   L4   L3  L2  L1  L0  R15 R14 R13 R12 R11 R10 R9 R8 R7 R6 R5 R4 R3 R2 R1 R0
         TDM MODE WITH 4 SLOTS (TDM = 1, WCI = 0, BCI = 1, FSW = 0, WS[1:0] = 00, HIZOFF = 0, SLOTL[1:0] = 00, SLOTR[1:0] = 01)
  LRCLK                    16 CYCLES                          16 CYCLES                              16 CYCLES                        16 CYCLES
          HI-Z
  SDOUT          L    L  L   L    L   L   L   L   R    R    R    R     R    R    R   R
                                                                                                                         HI-Z
   BCLK
    SDIN         L    L  L   L    L   L   L  L    R    R    R   R     R     R    R    R
Figure 23. DAI Timing for TDM Data Format
www.maximintegrated.com                                                                                                                                   Maxim Integrated │ 125


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Audio Playback Path                                                   back path digital output is then routed into the DAC where
The device playback path has two channels (left and                   it is converted back to analog before being routed to the
right) and can accept digital audio input from the DAI                analog output mixers.
and/or the record path sidetone. The digital audio is then            Playback Path Digital Gain and Level Control
routed through several stages of FlexSound DSP followed
                                                                      The stereo playback path DSP includes separate digital
by the digital to analog converter (Figure 23).
                                                                      gain and level control stages (Figure 25). Unlike the
Playback Path FlexSound DSP                                           record path, both playback path channels (left and right)
                                                                      share the same digital gain and level control settings. The
The first playback path section features the Maxim
                                                                      coarse digital gain stage accepts its input from the DAI
FlexSound DSP stages. The first stage accepts and mixes
                                                                      digital data output and can be set from 0dB to +18dB in
the DAI input with the record path sidetone (if enabled),
                                                                      6dB increments. The fine adjust, level control stage input
and contains separate digital gain and digital level control
                                                                      is the summation of the coarse gain stage output with the
stages. This stage is followed by three stereo DSP stages
                                                                      record path sidetone signal. It can be adjusted from -15dB
including a 7-band parametric equalizer, a dynamic range
                                                                      to 0dB in 1dB increments (Table 55). The playback path
control section (DRC), and a digital filter stage. The play-
                                                                      gain and level control stage also include a mute enable.
                                                                                    FLEXSOUND
                     L/R ST      SIDETONE FROM
                     LEVEL                                                        TECHNOLOGY DSP
                                 RECORD PATH
                                                                                                         DALEN
                     DVST[3:0]                                           LEFT PLAYBACK PATH
                                                          LEFT 7-BAND          LEFT ALC:
                                        LEFT    LEFT                                             LEFT      DAC
                      LEFT                               PARAMETRIC           AUTOMATIC
                                     SIDETONE  LEVEL                                           FILTERS    LEFT
                      GAIN                                 EQUALIZER        LEVEL CONTROL
                                                          EQ_BANDEN              DRCEN
                                                            DVEQ[3:0]          DRCG[4:0]
                                                             EQCLP            DRCRLS[2:0]                             TO THE
                                                  DVM    B0_EQ_[23:0]         DRCATK[2:0]        MODE     DACHP       ANALOG
            DAI                      DSTS[1:0]                                DRCCMP[2:0]
                                                 DV[3:0] B1_EQ_[23:0]                            DHPF   PERFMODE      OUTPUT
                      DVG[1:0]                                                DRCTHC[4:0]
                                                         B2_EQ_[23:0]                                                 MIXERS
                                                         A1_EQ_[23:0]         DRCEXP[2:0]
                                                         A2_EQ_[23:0]         DRCTHE[4:0]
                                       RIGHT             RIGHT 7-BAND          RIGHT ALC:
                                               RIGHT                                             RIGHT     DAC
                                                         PARAMETRIC           AUTOMATIC
                    RIGHT            SIDETONE  LEVEL                                           FILTERS   RIGHT
                     GAIN                                  EQUALIZER        LEVEL CONTROL
                                                                         RIGHT PLAYBACK PATH
                                                                                                         DAREN
Figure 24. Playback Path Block Diagram
www.maximintegrated.com                                                                                       Maxim Integrated │ 126


MAX98091                                                                 Ultra-Low Power Stereo Audio Codec
                                                                                    FLEXSOUND
                      L/R ST      SIDETONE FROM
                      LEVEL                                                       TECHNOLOGY DSP
                                  RECORD PATH
                                                                                                             DALEN
                      DVST[3:0]                                          LEFT PLAYBACK PATH
                                                            LEFT 7-BAND        LEFT ALC:
                                         LEFT    LEFT                                            LEFT          DAC
                       LEFT                                 PARAMETRIC        AUTOMATIC
                                      SIDETONE  LEVEL                                          FILTERS        LEFT
                       GAIN                                  EQUALIZER      LEVEL CONTROL
                                                            EQ_BANDEN            DRCEN
                                                              DVEQ[3:0]        DRCG[4:0]
                                                               EQCLP          DRCRLS[2:0]                                  TO THE
                                                   DVM      B0_EQ_[23:0]      DRCATK[2:0]        MODE         DACHP       ANALOG
            DAI                       DSTS[1:0]                               DRCCMP[2:0]
                                                  DV[3:0]   B1_EQ_[23:0]                         DHPF       PERFMODE      OUTPUT
                       DVG[1:0]                                               DRCTHC[4:0]
                                                            B2_EQ_[23:0]                                                  MIXERS
                                                            A1_EQ_[23:0]      DRCEXP[2:0]
                                                            A2_EQ_[23:0]      DRCTHE[4:0]
                                        RIGHT              RIGHT 7-BAND        RIGHT ALC:
                                                RIGHT                                            RIGHT         DAC
                                                            PARAMETRIC        AUTOMATIC
                      RIGHT           SIDETONE  LEVEL                                          FILTERS       RIGHT
                      GAIN                                   EQUALIZER      LEVEL CONTROL
                                                                         RIGHT PLAYBACK PATH
                                                                                                             DAREN
Figure 25. Playback Path Sidetone and Level Control
Table 55. Playback Gain and Level Configuration Register
                ADDRESS: 0x27
                                                                                       DESCRIPTION
  BIT           NAME            TYPE       POR
   7             DVM             R/W         0   Enables the playback path data input mute.
   6              —               —         —    —
   5                                         0   Playback Path Coarse Adjust Gain Configuration
              DVG[1:0]           R/W                00: 0dB                                         10: +12dB
   4                                         0      01: +6dB                                        11: +18dB
   3                                         0   Playback Path Fine Level Control Configuration
   2                                         0      0x0: 0dB               0x4: -4dB             0x8: -8dB            0xC: -12dB
                DV[3:0]          R/W                0x1: -1dB              0x5: -5dB             0x9: -9dB            0xD: -13dB
   1                                         0
                                                    0x2: -2dB              0x6: -6dB             0xA: -10dB           0xE: -14dB
   0                                         0      0x3: -3dB              0x7: -7dB             0xB: -11dB           0xF: -15dB
www.maximintegrated.com                                                                                           Maxim Integrated │ 127


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Playback Path 7-Band Parametric Equalizer                            The parametric equalizer can be enabled in a 3-band,
The playback path DSP features a 7-band parametric                   5-band, or the full 7-band configuration (Table 56). Once
equalizer with clipping detection and a programmable                 the parametric equalizer is enabled, the clip detec-
pre-attenuation amplifier (Figure 26). Each of the 7 bands           tion can be set and the level of preattenuation can be
is a full, individually programmable digital biquad filter.          adjusted from 0dB down to -15dB (denoted AV_EQ, see
The chosen configuration for any given band applies to               Table 57). No single band biquad filter can be set to a gain
both the left and right playback channels.                           greater than ±12dB, to a Q greater than 10, or to below
                                                                     a minimum fC that varies by filter type. See the Electrical
                                                                     Characteristics table.
                                                                                   FLEXSOUND
                     L/R ST     SIDETONE FROM
                     LEVEL                                                      TECHNOLOGY DSP
                                RECORD PATH
                                                                                                      DALEN
                      DVST[3:0]                                         LEFT PLAYBACK PATH
                                                         LEFT 7-BAND          LEFT ALC:
                                       LEFT    LEFT                                            LEFT     DAC
                      LEFT                              PARAMETRIC           AUTOMATIC
                                    SIDETONE  LEVEL                                          FILTERS   LEFT
                      GAIN                                EQUALIZER       LEVEL CONTROL
                                                         EQ_BANDEN             DRCEN
                                                           DVEQ[3:0]          DRCG[4:0]
                                                            EQCLP           DRCRLS[2:0]                            TO THE
                                                 DVM    B0_EQ_[23:0]        DRCATK[2:0]        MODE    DACHP       ANALOG
            DAI                     DSTS[1:0]                               DRCCMP[2:0]
                                                DV[3:0] B1_EQ_[23:0]                           DHPF  PERFMODE      OUTPUT
                      DVG[1:0]                                              DRCTHC[4:0]
                                                        B2_EQ_[23:0]                                               MIXERS
                                                        A1_EQ_[23:0]        DRCEXP[2:0]
                                                        A2_EQ_[23:0]        DRCTHE[4:0]
                                      RIGHT             RIGHT 7-BAND         RIGHT ALC:
                                              RIGHT                                            RIGHT    DAC
                                                        PARAMETRIC           AUTOMATIC
                     RIGHT          SIDETONE  LEVEL                                          FILTERS   RIGHT
                      GAIN                                EQUALIZER       LEVEL CONTROL
                                                                       RIGHT PLAYBACK PATH
                                                                                                      DAREN
Figure 26. Playback Path DSP
www.maximintegrated.com                                                                                    Maxim Integrated │ 128


MAX98091                                                    Ultra-Low Power Stereo Audio Codec
Table 56. DSP Biquad Filter Enable Register
              ADDRESS: 0x41
                                                                        DESCRIPTION
 BIT          NAME         TYPE POR
  7             —            —   —  —
  6             —            —   —  —
  5             —            —   —  —
                                    Enable Biquad Filter in the Secordary Record Path
  4       DMIC2BQEN         R/W  0     0: Biquad filter not used.
                                       1: Biquad filter used in the secondary record path.
                                    Enable Biquad Filter in the Primary Record Path
  3         RECBQEN         R/W  0     0: Biquad filter not used.
                                       1: Biquad filter used in the primary record path.
                                    Enable 3-Band EQ in DAC Path (Bands 4–7 Are Not Used)
  2       EQ3BANDEN         R/W  0     0: 3-band EQ disabled.
                                       1: 3-band EQ enabled. Only valid if EQ7BANDEN == 0 and EQ5BANDEN == 0.
                                    Enable 5-Band EQ in DAC Path (Bands 6 and 7 Are Not Used)
  1       EQ5BANDEN         R/W  0      0: 5-band EQ disabled.
                                        1: 5-band EQ enabled. Only valid if EQ7BANDEN == 0
                                    Enable 7-Band EQ in DAC Path
  0       EQ7BANDEN         R/W  0     0: 7-band EQ disabled.
                                       1: 7-band EQ enabled. This makes EQ5BANDEN and EQ3BANDEN redundant.
Table 57. Parametric Equalizer Playback Level Configuration Register
             ADDRESS: 0x28
                                                                        DESCRIPTION
 BIT          NAME        TYPE  POR
  7             —            —   —  —
  6             —            —   —  —
  5             —            —   —  —
                                    Enables DAI Digital Input Equalizer Clipping Detection
  4          EQCLP          R/W  0    1: Equalizer clip detect disabled.
                                      0: Equalizer clip detect enabled.
  3                              0  DAI Digital Input Equalizer Attenuation Level Configuration (AV_EQ)
  2                              0    0x0: 0dB                0x4: -4dB           0x8: -8dB       0xC: -12dB
            DVEQ[3:0]       R/W       0x1: -1dB               0x5: -5dB           0x9: -9dB       0xD: -13dB
  1                              0
                                      0x2: -2dB               0x6: -6dB           0xA: -10dB      0xE: -14dB
  0                              0    0x3: -3dB               0x7: -7dB           0xB: -11dB      0xF: -15dB
www.maximintegrated.com                                                                       Maxim Integrated │ 129


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
The parametric equalizer coefficients are uninitialized at     coefficient is 3 bytes (24 bits) long (A0 is fixed at 1). They
power-up, and when used the coefficients should be pro-        occupy 15 consecutive registers per band for a total
grammed before the device and equalizer are enabled.           of 105 consecutive registers for all 7 bands (Table 58).
The transfer function for each band is defined as:             Each set of three registers (per coefficient) must be pro-
                                                               grammed consecutively for the settings to take effect. The
                     B 0 + B 1 × Z −1 + B 2 × Z −2             coefficients are stored using a two’s complement format
             H(z) =
                     A 0 + A 1 × Z −1 + A 2 × Z −2             where the first 4 bits are the integer portion and the last 20
                                                               bits are the decimal portion (which results in an approxi-
The biquad filter in each band has 5 user programmable         mate +8 to -8 range for each coefficient).
coefficients (B0, B1, B2, A1, and A2), and each individual
Table 58. Parametric Equalizer Band N (1–7) Biquad Filter Coefficient Registers
           ADDRESS RANGE (BY BAND)
                                                              NAME                  TYPE        COEFFICIENT SEGMENT
   1       2       3       4        5       6        7
 0x46    0x55    0x64    0x73     0x82    0x91     0xA0                              R/W               B0_N[23:16]
                                                         Equalizer Band N
 0x47    0x56    0x65    0x74     0x83    0x92     0xA1                              R/W               B0_N[15:8]
                                                           Coefficient B0
 0x48    0x57    0x66    0x75     0x84    0x93     0xA2                              R/W                B0_N[7:0]
 0x49    0x58    0x67    0x76     0x85    0x94     0xA3                              R/W               B1_N[23:16]
                                                         Equalizer Band N
 0x4A    0x59    0x68    0x77     0x86    0x95     0xA4                              R/W               B1_N[15:8]
                                                           Coefficient B1
 0x4B    0x5A    0x69    0x78     0x87    0x96     0xA5                              R/W                B1_N[7:0]
 0x4C    0x5B   0x6A     0x79     0x88    0x97     0xA6                              R/W               B2_N[23:16]
                                                         Equalizer Band N
 0x4D    0x5C   0x6B     0x7A     0x89    0x98     0xA7                              R/W               B2_N[15:8]
                                                           Coefficient B2
 0x4E    0x5D   0x6C     0x7B     0x8A    0x99     0xA8                              R/W                B2_N[7:0]
 0x4F    0x5E   0x6D     0x7C     0x8B    0x9A     0xA9                              R/W               A1_N[23:16]
                                                         Equalizer Band N
 0x50    0x5F   0x6E     0x7D    0x8C     0x9B    0xAA                               R/W               A1_N[15:8]
                                                           Coefficient A1
 0x51    0x60   0x6F     0x7E    0x8D     0x9C    0xAB                               R/W                A1_N[7:0]
 0x52    0x61    0x70    0x7F     0x8E    0x9D    0xAC                               R/W               A2_N[23:16]
                                                         Equalizer Band N
 0x53    0x62    0x71    0x80     0x8F    0x9E    0xAD                               R/W               A2_N[15:8]
                                                           Coefficient A2
 0x54    0x63    0x72    0x81     0x90    0x9F    0xAE                               R/W                A2_N[7:0]
www.maximintegrated.com                                                                                Maxim Integrated │ 130


MAX98091                                                                                                                                                                      Ultra-Low Power Stereo Audio Codec
Playback Path Dynamic Range Control                                                                                                                                        by the chosen compression ratio. This results in a smaller,
The playback path includes a dynamic range control                                                                                                                         compressed output dynamic range relative to the input
(DRC) section (Figure 26). The DRC is highly configu-                                                                                                                      dynamic range. When expansion is enabled, the gain is
rable and features digital make-up gain, a dynamic range                                                                                                                   decreased by the chosen expansion ratio if the input sig-
compression and expansion, and programmable attack                                                                                                                         nal amplitude instead falls below the expansion threshold.
and release times.                                                                                                                                                         This results in a larger, expanded output dynamic range.
The device dynamic range is determined by the difference                                                                                                                   The DRC also features a digital make-up gain control sec-
between the full-scale and the RMS noise floor amplitude                                                                                                                   tion (Table 60), that can be programmed from 0dB to 12dB
of the configured signal path. To avoid performance limit-                                                                                                                 in 1dB increments. To avoid clipping before compression
ing, the application dynamic range is typically smaller                                                                                                                    (during the attack time), the signal cannot at any time
than the dynamic range of the selected signal path. With                                                                                                                   exceed the uncompressed full-scale code. Therefore, the
dynamic range control disabled, the input dynamic range                                                                                                                    sum of the digital gain/level control, parametric equalizer
is equal to the output dynamic range (Figure 27). When                                                                                                                     gain, and the DRC make-up gain must not exceed 0dB
compression is enabled, if the input signal amplitude                                                                                                                      total. Figure 28 shows the effect of enabling the DRC with
exceeds the compression threshold the gain is reduced                                                                                                                      and without digital make-up gain.
                                                                     DRC DISABLED                                                                            DYNAMIC RANGE COMPRESSION                                                          DYNAMIC RANGE EXPANSION
                                                       FULL SCALE                                                                                    FULL SCALE                                                                        FULL SCALE
                                               0                                                                                             0                                                                                    0
                                -20                                                                                                    -20                                                                                      -20
  OUTPUT AMPLITUDE (dBFS)                                                                               OUTPUT AMPLITUDE (dBFS)                                                                     OUTPUT AMPLITUDE (dBFS)
                                -40                       APPLICATIN OUTPUT                                                            -40                                                                                      -40
                                                                                                                                                        COMPRESSED OUTPUT
                                                          DYNAMIC RANGE                                                                                                                                                                    EXPANDED OUTPUT
                                                                                                                                                        DYNAMIC RANGE
                                -60                                                                                                    -60                                                                                      -60        DYNAMIC RANGE
                                -80                                                                                                    -80                                                                                      -80
                                                                                                                                                                          COMPRESSION                                                                              EXPANSION
                                                                                                                                                                        THRESHOLD = -30dB                                                                         THRESHOLD =
                            -100                                                                                                  -100                                                                                        -100
                                                                                                                                                                           RATIO = 2:1                                                                          -60dB, RATIO = 1:2
                            -120                                          APPLICATION INPUT                                       -120                                  APPLICATION INPUT                                     -120                          APPLICATION INPUT
                                                       NOISE FLOOR                                                                                   NOISE FLOOR                                                                       NOISE FLOOR
                                                                           DYNAMIC RANGE                                                                                 DYNAMIC RANGE                                                                       DYNAMIC RANGE
                            -140                                                                                                  -140                                                                                        -140
                                                   -140 -120 -100 -80 -60 -40 -20                   0                                                -140 -120 -100 -80 -60 -40 -20             0                                      -140 -120 -100 -80 -60 -40 -20                    0
                                                            INPUT AMPLITUDE (dBFS)                                                                            INPUT AMPLITUDE (dBFS)                                                            INPUT AMPLITUDE (dBFS)
Figure 27. Dynamic Range Compression and Expansion
                                                                                                                                                                                                                                                      DRC ENABLED
                                                                      DRC DISABLED                                                                                  DRC ENABLED                                                                     WITH MAKE-UP GAIN
                                                         FULL-SCALE                                                                                   FULL-SCALE                                                                        FULL-SCALE
                                                   0                                                                                             0                                                                                0
                                                         AV_PLAYBACK = 0dB (DV[3:0] = 0x0)                                                            AV_PLAYBACK = -10dB (DV[3:0] = 0xA)                                               AV_PLAYBACK = -10dB (DV[3:0] = 0xF)
                                               -20                                                                                           -20                                                                                 -20
                     OUTPUT AMPLITUDE (dBFS)                                                                       OUTPUT AMPLITUDE (dBFS)                                                            OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                          COMPRESSION                                                                          AV_DRC = +10dB
                                               -40                                                                                           -40      THRESHOLD = -30dB                                                          -40
                                                                                                                                                            RATIO = 4:1
                                               -60                                                                                           -60                                                                                 -60
                                                                                                                                                    EXPANSION
                                                                                                                                                 THRESHOLD = -60dB
                                               -80                                                                                           -80    RATIO = 1:2                                                                  -80
                                         -100                                                                                            -100                                                                                   -100
                                                                            AV_PLAYBACK = -10dB
                                         -120                                     (DV[3:0] = 0xA)                                        -120                                                                                   -120
                                                         -120   -100 -80 -60 -40 -20                0                                                 -120    -100 -80 -60 -40 -20          0                                           -120    -100 -80 -60 -40 -20                 0
                                                                   INPUT AMPLITUDE (dBFS)                                                                        INPUT AMPLITUDE (dBFS)                                                            INPUT AMPLITUDE (dBFS)
Figure 28. DRC Enable and Make-Up Gain
www.maximintegrated.com                                                                                                                                                                                                                                    Maxim Integrated │ 131


MAX98091                                                                                                                                                                              Ultra-Low Power Stereo Audio Codec
The DRC features two programmable signal thresholds.                                                                                                                                The low amplitude expansion threshold is used to prevent
The high amplitude compression threshold is used to                                                                                                                                 background noise from being amplified. When the signal
reduce maximum sustained signal amplitude. The com-                                                                                                                                 level drops below the expansion threshold, the DRC
pression ratio can be set to one of five options from a 1:1                                                                                                                         reduces the gain until the signal increases above the
ratio to an infinite:1 ratio (or flat output amplitude as input                                                                                                                     threshold. The expansion ratio can be set to a 1:1, 1:2, or
amplitude increases). The compression threshold can be                                                                                                                              1:3 ratio while the threshold can be configured from ‑35dB
configured from -31dB to 0dB. The compression ratios                                                                                                                                to ‑66dB. The expansion ratios and a range of threshold
and a range of thresholds are illustrated in Figure 29.                                                                                                                             are illustrated in Figure 30.
                                                         DRC ENABLED                                                                                            COMPRESSION RATIO                                                                                 COMPRESSION THRESHOLD
                                            FULL SCALE                                                                                       FULL SCALE                                                                                                    FULL SCALE
                                      0                                                                                         0                                                                                                                      0
                                                                                                                                                                                  RATIO OPTION        1:1                                                                     THRESHOLD OPTIONS          0dB
                                                                                                                                                                                                                                                                                                         -5dB
                              -10                                                                                   -10                                                                               1:5:1                                 -10                                                          -10dB
 OUTPUT AMPLITUDE (dBFS)                                                                OUTPUT AMPLITUDE (dBFS)                                                                                               OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                                                                                         -15dB
                                              COMPRESSION                                                                                                                                             2:1                                                                                                -20dB
                              -20                                                                                   -20                                                                                                                     -20                                                          -25dB
                                            THRESHOLD = -30dB                                                                                   COMPRESSION                                                                                                    COMPRESSION
                                                                                                                                                                                                      4:1                                                                                                -30dB
                                               RATIO =4:1                                                                                     THRESHOLD = - 30dB                                                                                                RATION = 4:1
                              -30                                                                                   -30                                                                               INF:1                                 -30
                              -40                                                                                   -40                                                                                                                     -40
                              -50                                                                                   -50                                                                                                                     -50
                              -60                                                                                   -60                                                                                                                     -60
                                            -60    -50   -40    -30   -20   -10    0                                                          -60         -50         -40     -30     -20   -10   0                                                          -60     -50    -40    -30    -20   -10     0
                                                     INPUT AMPLITUDE (dBFS)                                                                                 INPUT AMPLITUDE (dBFS)                                                                                      INPUT AMPLITUDE (dBFS)
Figure 29. DRC Compression Ratio and Threshold
                                                         DRC ENABLED                                                                                                  EXPANSION RATIO                                                                                   EXPANSION THRESHOLD
                                      -30                                                                                                   -30                                                                                                        -30
                                                                                                                                                                                                                                                                                                -35dB
                                                                                                                                                                                                                                                                                             -40dB
                                      -40                                                                                                   -40                                                                                                        -40
            OUTPUT AMPLITUDE (dBFS)                                                                               OUTPUT AMPLITUDE (dBFS)                                                                                    OUTPUT AMPLITUDE (dBFS)
                                                                                                                                                                                                                                                                                          -45dB
                                               EXPANDER                                                                                                                                                                                                                                -50dB
                                      -50                                                                                                   -50                                                                                                        -50
                                            THRESHOLD = -60dB                                                                                          EXPANSION                                                                                                   EXPANSION        -55dB
                                               RATIO = 1:2                                                                                          THRESHOLD = -60dB                                                                                              RATIO = 1:2 -60dB
                                      -60                                                                                                   -60                                                                                                        -60
                                                                                                                                                                                                                                                                              -65dB
                                      -70                                                                                                   -70      RATIO                                                                                             -70         THRESHOLD
                                                                                                                                                    OPTIONS                                                                                                         OPTIONS
                                      -80                                                                                                   -80                                                                                                        -80
                                      -90                                                                                                   -90                                                                                                        -90
                                                                                                                                                     1:1        1:2         1:3
                                             -90    -80 -70 -60 -50 -40           -30                                                               -90         -80 -70 -60 -50 -40               -30                                                          -90     -80 -70 -60 -50 -40              -30
                                                      INPUT AMPLITUDE (dBFS)                                                                                      INPUT AMPLITUDE (dBFS)                                                                                 INPUT AMPLITUDE (dBFS)
Figure 30. DRC Expansion Ratio and Threshold
www.maximintegrated.com                                                                                                                                                                                                                                                           Maxim Integrated │ 132


MAX98091                                                      Ultra-Low Power Stereo Audio Codec
                     COMPRESSION ATTACK TIME (2:1)                       COMPRESSION RELEASE TIME (2:1)
                  AMPLITUDE                 COMPRESSED                                 COMPRESSED AMPLITUDE
                  INCREASES                     AMPLITUDE
                                                                                          AMPLITUDE
                                                                                          DECECREASES
                                                                                          RELEASE
                                                                                          TIME
               COMPRESSION                    ATTACK
               THRESHOLD                      TIME                                    RELEASED AMPLITUDE
Figure 31. DRC Attack and Release Time Waveforms
The DRC provides a wide range of programmable attack       and below for expansion). If the appropriate threshold
and release times (Table 59). When the compression         is exceeded by a larger or smaller ratio, the attack time
is enabled and the signal amplitude increases until the    is increased or decreased appropriately. The change is
compression threshold is exceeded, the attack time         proportional to the change in ratio in dB. For example,
determines how quickly the selected compression ratio      release time is reduced by 50% for 6dB.
is applied. When the signal amplitude decreases and the    For compression, if the signal amplitude exceeds the
compression threshold would no longer be exceeded, the     threshold by 12dB, the attack time when entering com-
release time determines how quickly the gain returns to    pression precisely matches the selected configuration.
normal (Figure 31).                                        Likewise, when exiting compression, the release time
When expansion is enabled and the signal amplitude         is determined by the ratio by which the threshold was
decreases until it drops below the expansion threshold,    exceeded prior to the amplitude dropping.
the release time determines how quickly the selected       Expansion works in exactly the same fashion except for
expansion ratio is applied. When the signal amplitude      two differences. The expansion ratio is applied when the
increases and the expansion threshold would no longer      signal amplitude drops below the expansion threshold
be exceeded, the attack time determines how quickly the    (rather than above for compression), and the release time
gain returns to normal.                                    (rather than attack time) determines how long it takes to
The attack and release times are not absolute. They are    enter expansion (centered at 12dB below the expansion
instead used to set the rate at which the gain is adjusted threshold). Likewise, the attack time is then used when
once the signal amplitude is either above or below the     exiting expansion. In addition, when entering expansion,
appropriate threshold. Therefore the selected attack/      the ratio of the initial input amplitude to the expansion
release times are relative to the ratio of the new signal  threshold sets a delay before the expansion ratio is
amplitude to the selected compression and expansion        applied. This delay is centered at 12dB above the expan-
thresholds. The values provided in Table 59 all assume     sion threshold and is determined by the selected release
the input signal amplitude changed to exceed the appro-    time. There is no delay prior to the attack time when exit-
priate threshold by a ratio of 12dB (above for compression ing expansion.
www.maximintegrated.com                                                                              Maxim Integrated │ 133


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
Table 59. Dynamic Range Control (DRC) Timing Register
              ADDRESS: 0x33
                                                                            DESCRIPTION
 BIT          NAME         TYPE    POR
                                         PLAYBACK DRC Enable
  7          DRCEN          R/W     0        0: DRC disabled.
                                             1: DRC enabled.
  6                         R/W     0    PLAYBACK DRC Release Time Configuration (12dB Relative to Threshold)
  5       DRCRLS[2:0]       R/W     0         0x0: 8s              0x2: 2s           0x4: 0.5s        0x6: 0.125s
  4                         R/W     0         0x1: 4s              0x3: 1s           0x5: 0.25s       0x7: 0.0625s
  3             —            —      —    —
  2                         R/W     0    PLAYBACK DRC Attack Time Configuration (12dB Relative to Threshold)
  1       DRCATK[2:0]       R/W     0         0x0: 0.125ms         0x2: 1.25ms       0x4: 6.25ms       0x6: 25ms
  0                         R/W     0         0x1: 0.25ms          0x3: 2.5ms        0x5: 12.5ms       0x7: 50ms
Table 60. Dynamic Range Control (DRC) Gain Configuration Register
           ADDRESS: 0x36
                                                                          DESCRIPTION
 BIT        NAME        TYPE    POR
  7           —           —      —   —
  6           —           —      —   —
  5           —           —      —   —
  4                              0   PLAYBACK DRC Make-Up Gain Configuration
  3                              0
                                      0x0: +0dB            0x4: +4dB           0x8: +8dB          0xC: +12dB
  2       DRCG[4:0]      R/W     0    0x1: +1dB            0x5: +5dB           0x9: +9dB          0xD: reserved
  1                              0    0x2: +2dB            0x6: +6dB           0xA: +10dB         0xE: reserved
                                      0x3: +3dB            0x7: +7dB           0xB: +11dB         0xF: reserved
  0                              0
Table 61. Dynamic Range Control (DRC) Compressor Register
           ADDRESS: 0x34
                                                                          DESCRIPTION
 BIT        NAME        TYPE    POR
  7                              0   PLAYBACK DRC Compression Ratio Configuration
                                      0x0: 1:1       0x3: 4:1
  6     DRCCMP[2:0]      R/W     0
                                      0x1: 1.5:1     0x4: INF:1
  5                              0    0x2: 2:1       0x5–0x7: Reserved
  4                              0   PLAYBACK DRC Compression Threshold Configuration
  3                              0    0x00: 0              0x08: -8dB          0x10: -16dB        0x18: -24dB
                                      0x01: -1dB           0x09: -9dB          0x11: -17dB        0x19: -25dB
                                      0x02: -2dB           0x0A: -10dB         0x12: -18dB        0x1A: -26dB
  2     DRCTHC[4:0]      R/W     0
                                      0x03: -3dB           0x0B: -11dB         0x13: -19dB        0x1B: -27dB
                                      0x04: -4dB           0x0C: -12dB         0x14: -20dB        0x1C: -28dB
  1                              0
                                      0x05: -5dB           0x0D: -13dB         0x15: -21dB        0x1D: -29dB
                                      0x06: -6dB           0x0E: -14dB         0x16: -22dB        0x1E: -30dB
  0                              0    0x07: -7dB           0x0F: -15dB         0x17: -23dB        0x1F: -31dB
www.maximintegrated.com                                                                          Maxim Integrated │ 134


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
Table 62. Dynamic Range Control (DRC) Expander Register
              ADDRESS: 0x35
                                                                             DESCRIPTION
   BIT         NAME         TYPE     POR
    7            —            —       —   —
    6                                  0  PLAYBACK DRC Expansion Ratio Configuration
            DRCEXP[2:0]      R/W           0x0: 1:1     0x2: 1:3
    5                                  0   0x1: 1:2     0x3–0x7: Reserved
    4                                  0  PLAYBACK DRC Expansion Threshold Configuration
    3                                  0   0x00: -35dB       0x08: -43dB           0x10: -51dB         0x18: -59dB
                                           0x01: -36dB       0x09: -44dB           0x11: -52dB         0x19: -60dB
    2                                  0   0x02: -37dB       0x0A: -45dB           0x12: -53dB         0x1A: -61dB
            DRCTHE[4:0]      R/W
                                           0x03: -38dB       0x0B: -46dB           0x13: -54dB         0x1B: -62dB
                                           0x04: -39dB       0x0C: -47dB           0x14: -55dB         0x1C: -63dB
    1                                  0   0x05: -40dB       0x0D: -48dB           0x15: -56dB         0x1D: -64dB
                                           0x06: -41dB       0x0E: -49dB           0x16: -57dB         0x1E: -65dB
    0                                  0   0x07: -42dB       0x0F: -50dB           0x17: -58dB         0x1F: -66dB
Playback Path Digital Filters                                    The playback path DSP also features a DC-blocking filter.
The playback path DSP includes a digital filter stage. One       This filter can be used with both the IIR voice and FIR
filter, set with the MODE bit (Table 63), offers the choice      music filters, and blocks low-frequency (including DC)
between the IIR voice filters and the FIR music filters.         input signals outside of the lower end of the audio band.
The IIR filters are optimized for standard (fS = 8kHz) and       Digital-to-Analog Converter (DAC)
wideband (fS = 16kHz) voice applications, while the FIR          Configuration
filters are optimized for low power operation at higher
                                                                 The stereo DAC architecture includes two independent
audio/music sampling rates. For sampling rates in excess
                                                                 audio paths, analog outputs that can be routed to any
of 48kHz (fLRCLK > 48kHz), the FIR audio filters must
                                                                 of the analog output mixers, and two operating modes
be used, and the DHF bit should be set to appropriately
                                                                 (Table 4). One operating mode is optimized for maximum
scale the FIR interpolation filter. The MODE configuration
                                                                 dynamic performance while the other is optimized for
selected applies to both channels of both the record and
                                                                 lower power consumption. Both DAC channels can be
playback path DSP.
                                                                 enabled independently, allowing the device to support
                                                                 both stereo and left or right mono configurations (Table 8).
www.maximintegrated.com                                                                               Maxim Integrated │ 135


MAX98091                                                    Ultra-Low Power Stereo Audio Codec
Table 63. DSP Filter Configuration Register
             ADDRESS: 0x26
                                                                      DESCRIPTION
 BIT          NAME       TYPE  POR
                                   Enables the CODEC DSP FIR Music Filters (Default IIR Voice Filters)
                                     0: The codec DSP filters operate in IIR voice mode with stop band frequencies
                                     below the fS/2 Nyquist rate. The voice mode filters are optimized for 8kHz or
  7           MODE         R/W  1    16kHz voice application use.
                                     1: The codec DSP filters operate in a linear phase FIR audio mode optimized to
                                     maintain stereo imaging and operate at higher fS rates while utilizing
                                     lower power.
                                   Enables the Primary Record Path DC-Blocking Filter
  6           AHPF         R/W  0    0: DC-blocking filter disabled.
                                     1: DC-blocking filter enabled.
                                   Enables the Playback Path DC-Blocking Filter
  5           DHPF         R/W  0     0: DC-blocking filter disabled.
                                      1: DC-blocking filter enabled.
                                   Enables the DAC High Sample Rate Mode (LRCLK > 48kHz, FIR Only)
  4            DHF         R/W  0     0: LRCLK is less than 48kHz. 8x FIR interpolation filter used.
                                      1: LRCLK is greater than 48kHz. 4x FIR interpolation filter used.
                                   Configure the Secondary Record Path DSP Filters
                                     0: The secondary record path DSP filters operate in IIR voice mode with stop
                                         band frequencies below the fS/2 Nyquist rate. The voice mode filters are
  3      DMIC2_MODE        R/W  1        optimized for 8kHz or 16kHz voice application use.
                                     1: The secondary record path DSP filters operate in a linear phase FIR audio
                                        mode optimized to maintain stereo imaging and operate at higher fS rates while
                                        utilizing lower power.
                                   Enables the Secondary Record Path DC-Blocking Filter
  2        DMIC2_HPF       R/W  0    0: DC-blocking filter disabled.
                                     1: DC-blocking filter enabled.
  1             —           —   —  —
  0             —           —   —  —
www.maximintegrated.com                                                                           Maxim Integrated │ 136


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
                    L/R ST        SIDETONE FROM                                   FLEXSOUND
                    LEVEL         RECORD PATH                                  TECHNOLOGY DSP
                                                                                                     DALEN
                     DVST[3:0]                                         LEFT PLAYBACK PATH
                                                           LEFT 7-BAND       LEFT ALC:
                                         LEFT    LEFT                                         LEFT     DAC
                     LEFT                                 PARAMETRIC        AUTOMATIC
                                      SIDETONE  LEVEL                                       FILTERS   LEFT
                     GAIN                                   EQUALIZER     LEVEL CONTROL
                                                           EQ_BANDEN          ALCEN
                                                             DVEQ[3:0]       ALCG[4:0]
                                                              EQCLP         ALCRLS[2:0]                           TO THE
                                                   DVM    B0_EQ_[23:0]      ALCATK[2:0]       MODE    DACHP       ANALOG
            DAI                       DSTS[1:0]                             ALCCMP[2:0]
                                                  DV[3:0] B1_EQ_[23:0]                        DHPF  PERFMODE      OUTPUT
                     DVG[1:0]                                               ALCTHC[4:0]
                                                          B2_EQ_[23:0]                                            MIXERS
                                                          A1_EQ_[23:0]      ALCEXP[2:0]
                                                          A2_EQ_[23:0]      ALCTHE[4:0]
                                        RIGHT             RIGHT 7-BAND      RIGHT ALC:
                                                RIGHT                                         RIGHT    DAC
                                                          PARAMETRIC        AUTOMATIC
                    RIGHT             SIDETONE  LEVEL                                       FILTERS  RIGHT
                     GAIN                                   EQUALIZER     LEVEL CONTROL
                                                                       RIGHT PLAYBACK PATH
                                                                                                     DAREN
Figure 32. Playback Path Digital-to-Analog Converter
www.maximintegrated.com                                                                                   Maxim Integrated │ 137


MAX98091                                                                     Ultra-Low Power Stereo Audio Codec
Analog Audio Output Configuration                                       speakers. The headphone output drivers utilize Maxim’s
The device features three independent integrated analog                 DirectDrive architecture with an integrated charge pump,
audio output drivers (Figure 33). The receiver/line output              and provide configurable headphone and headset jack
driver can be configured either as a differential receiver/             detection. Each analog audio output driver has a program-
earpiece output or as a stereo single-ended line output                 mable gain input mixer and output amplifier. Each mixer
driver. The stereo speaker output drivers are filterless Class          accepts any combination of signals from the playback DAC,
D differential amplifiers capable of driving both 4Ω and 8Ω             the analog microphone amplifier, and the line input drivers.
                                                                                                      RCVLVOL[4:0]
                                                                                                          RCVLM
                                                                                                        RCVLEN
                                                                              MIXRVCL[5:0]
                                                           DACL
                                                                             MIXRVCLG[1:0]
                                                           DACR   RCV/
                                                                       -12dB TO 0dB                                                         RCVP/
                                                           MIC 1 LINE                                                 -62dB TO 8dB          LOUTL
                                                                  OUT                                   LINE OUT
                             FLEXSOUND                     MIC 2 LEFT                                  LEFT PGA
                            TECHNOLOGY                    LINE A MIXER
                                DSP
                                                          LINE B                                                              ZDEN
                                                                                       LINMOD                                VS2EN
                                                                                                                              VSEN
                                                           DACL
                                                                                        RCV/                                                RCVN/
                                                           DACR   RCV/                                                -62dB TO 8dB          LOUTR
                                                                                         LINE           LINE OUT
                       DAC              DAC                MIC 1 LINE                    OUT           RIGHT PGA
                                                                  OUT    -12dB TO 0dB
                       LEFT            RIGHT               MIC 2 RIGHT                  MUX
                                                          LINE A MIXER
               DACLEN          DACHP         DACREN
                             PERFMODE                     LINE B              MIXRVCL[5:0]            RCVRVOL[4:0]
                                                                             MIXRVCLG[1:0]                RCVRM
                                                                                                         RCVREN
                                                           DACL                MIXSPL[5:0]
                                                           DACR               MIXSPLG[1:0]                SPVOLL[4:0]
                                                                                                                                            SPKLGND
                                                           MIC 1  SPK                                         SPLM
                                                                  LEFT                                       SPLEN
                                                           MIC 2
                                                                 MIXER  -12dB TO 0dB             -48dB TO 14dB                              SPKLP
                                                          LINE A
                                                                                        SPEAKER                  6dB                        SPKLN
                                                          LINE B                        LEFT PGA
                                                                                                            ZDEN
                                                                                                                                            SPKVDD
                                                                                                           VS2EN
                                                                                                            VSEN
                                                           DACL
                                                                                                 -48dB TO 14dB                              SPKRP
                                                           DACR                         SPEAKER
                                                                        -12dB TO 0dB                             6dB                        SPKRN
                                                           MIC 1  SPK                  RIGHT PGA
                                                                 RIGHT
                                                           MIC 2
                                                                 MIXER                                         SPKSLAVE
                                                          LINE A
                                                          LINE B              MIXSPL[5:0]                 SPVOLR[4:0]
                                                                                                              SPLM                          SPKRGND
                                                                             MIXSPLG[1:0]
                                                                                                             SPREN
                                                                                                      HPVOLL[4:0]
                                                           DACL                                           HPLM
                                                                               MIXHPL[5:0]
                                                           DACR               MIXHPLG[1:0]               HPLEN
                                                           MIC 1   HP
                                                                        -12dB TO 0dB
                                                           MIC 2  LEFT
                                                                 MIXER                    HP                          -67dB TO 3dB
                                                          LINE A                                     HEADPHONE                              HPL
                                                                                        LEFT
                                                          LINE B                                       LEFT PGA
                                                                                        MUX
                                                                                     MIXHPLSEL            ZDEN
                                                                                                                                            HPSNS
                                                                                                         VS2EN
                                  MAX98090                                           MIXHPRSEL            VSEN
                                                           DACL
                                                           DACR                           HP                         -67dB TO 3dB
                                                                                                     HEADPHONE                              HPR
                                                                                       RIGHT
                                                           MIC 1   HP                                 RIGHT PGA
                                                                        -12dB TO 0dB    MUX
                                                           MIC 2 RIGHT
                  ANALOG                                         MIXER
                    INPUT                                 LINE A
                  DRIVERS                                                      MIXHPR[5:0]            HPVOLR[4:0]                           HPVDD
                                                          LINE B                                                            HEADPHONE
                                                                              MIXHPRG[1:0]                HPRM              DIRECT DRIVE
                                                                                                         HPREN                              HPGND
                                                                                                                           CHARGE PUMP
                                                                                                                        CPVSS CPVDD C1N C1P
Figure 33. Analog Audio Output Functional Diagram
www.maximintegrated.com                                                                                                                  Maxim Integrated │ 138


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Analog Class AB Configurable                                         configuration, both channels are configured individually
Receiver/Line Output                                                 by the left and right channel registers.
The device features a configurable analog Class AB pro-              Receiver/Earpiece Mixer and Gain Control
grammable gain amplifier output that can be configured to
                                                                     When configured as a differential receiver output, only the
act either a mono differential output or as a stereo single-
                                                                     left output configuration registers are used. The receiver
ended output. When configured as a differential analog
                                                                     mixer can be configured to accept any combination of
output (LINEMOD = 0, Table 67), the driver is an ideal
                                                                     signals from the playback DAC, the analog microphone
receiver driver capable of driving both 16Ω and 32Ω differ-
                                                                     amplifiers, and the line input drivers (Table 64). The
ential loads (such as an earpiece speaker). In the receiver
                                                                     receiver input mixer also provides several attenuation
configuration, the mono output of the left receiver/line
                                                                     options (Table 65). The mixer attenuation options of -6dB,
output mixer is routed to both the left and right output driv-
                                                                     -9.5dB, and -12dB are sized to prevent clipping when
ers in a bridge tied load (BTL) configuration (Figure 34).
                                                                     several full-scale input sources are selected.
In this configuration, the mixer input signal source(s) and
both the mixer and output amplifier gain settings are deter-         The receiver output is a programmable gain amplifier
mined by the left channel registers. All right output channel        (PGA) capable of driving a wide range of differential loads
register settings have no effect in receiver/earpiece mode.          (including standard 16Ω and 32Ω earpiece speakers). The
                                                                     receiver PGA has a wide volume adjustment range from
When configured as a stereo single-ended analog output
                                                                     -62dB to +8dB, provides a high attenuation mute control
(LINEMOD = 1, Table 67), the driver is optimized for stan-
                                                                     (Table 66), and features programmable click and pop
dard ground-referenced, high impedance line outputs. In
                                                                     reduction options. See the Click-and-Pop Reduction sec-
the line output configuration, the output of the left and
                                                                     tion for details. The receiver PGA output common-mode
right line output mixers are individually routed to the left
                                                                     voltage is either half of VAVDD (in resistive divider BIAS
and right output drivers (respectively, Figure 35). In this
                                                                     mode) or about 0.78V (in bandgap BIAS mode).
                   FLEXSOUND                  SPEAKER/
                  TECHNOLOGY                HEADPHONES
                      DSP
                                                                                               RCVLVOL[4:0]
                                                                                                   RCVLM
                                                                                                 RCVLEN
                                                                               MIXRVCL[5:0]
                                                           DACR
                                                                              MIXRVCLG[1:0]
                                                           DACL
                                                                  RCV/ -12dB TO 0dB                                        RCVP/
             DAC              DAC                          MIC 1  LINE                                      -62dB TO 8dB   LOUTL
                                                                                                 LINE OUT
             LEFT            RIGHT                         MIC 2 OUT                            LEFT PGA
                                                                  LEFT
                                                          LINE A MIXER
    DACLEN           DACHP         DACREN
                   PERFMODE                               LINE B                                                   ZDEN
                                                                                       LINMOD                      VS2EN
                                                                                                                   ZSEN
                                                           DACR
                                                                                        RCV/                               RCVN/
                                                           DACL                                             -62dB TO 8dB   LOUTR
                                                                  RCV/                   LINE    LINE OUT
                                                           MIC 1 LINE     -12dB TO 0dB   OUT    RIGHT PGA
                                                           MIC 2 OUT                    MUX
        ANALOG                                                   RIGHT                                        MAX98091
          INPUT                                           LINE A MIXER
        DRIVERS                                           LINE B               MIXRVCL[5:0]    RCVRVOL[4:0]
                                                                              MIXRVCLG[1:0]        RCVRM
                                                                                                  RCVREN
Figure 34. Receiver Output Functional Diagram
www.maximintegrated.com                                                                                       Maxim Integrated │ 139


MAX98091                                                                 Ultra-Low Power Stereo Audio Codec
                   FLEXSOUND                  SPEAKER/
                  TECHNOLOGY                 HEADPHONES
                      DSP
                                                                                                    RCVLVOL[4:0]
                                                                                                        RCVLM
                                                                                                       RCVLEN
                                                                                MIXRVCL[5:0]
                                                             DACR
                                                                               MIXRVCLG[1:0]
                                                             DACL   RCV/ -12dB TO 0dB
                                                                                                                                 RCVP/
            DAC               DAC                            MIC 1  LINE                                          -62dB TO 8dB
                                                                                                      LINE OUT                   LOUTL
            LEFT             RIGHT                                  OUT
                                                             MIC 2                                    LEFT PGA
                                                                    LEFT
                                                            LINE A MIXER
    DACLEN           DACHP         DACREN
                   PERFMODE                                 LINE B                                                       ZDEN
                                                                                        LINMOD                           VS2EN
                                                                                                                         ZSEN
                                                             DACR
                                                                                         RCV/                                    RCVN/
                                                             DACL                                                 -62dB TO 8dB   LOUTR
                                                                    RCV/                  LINE        LINE OUT
                                                             MIC 1 LINE    -12dB TO 0dB   OUT        RIGHT PGA
                                                             MIC 2 OUT                   MUX
       ANALOG                                                                                                       MAX98090
         INPUT                                              LINE A RIGHT
       DRIVERS                                                     MIXER
                                                            LINE B              MIXRVCL[5:0]        RCVRVOL[4:0]
                                                                               MIXRVCLG[1:0]            RCVRM
                                                                                                       RCVREN
Figure 35. Stereo Single-Ended Line Output Functional Diagram
Table 64. Receiver and Left Line Output Mixer Source Configuration Register
                 ADDRESS: 0x37
                                                                                       DESCRIPTION
  BIT            NAME           TYPE      POR
   7              —                —       —     —
   6              —                —       —     —
   5                                       0     Selects MIC 2 as the input to the receiver/line out left mixer.
   4                                       0     Selects MIC 1 as the input to the receiver/line out left mixer.
   3                                       0     Selects line B as the input to the receiver/line out left mixer.
            MIXRCVL[5:0]         R/W
   2                                       0     Selects line A as the input to the receiver/line out left mixer.
   1                                       0     Selects DAC right as the input to the receiver/line out left mixer.
   0                                       0     Selects DAC left as the input to the receiver/line out left mixer.
www.maximintegrated.com                                                                                             Maxim Integrated │ 140


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Line Output Mixer and Gain Control                                   The left and right line output drivers are independent
When configured as a stereo single-ended line output, the            programmable gain amplifiers (PGAs) capable of driv-
left and right configuration registers can be programmed             ing high impedance ground-referenced loads. The line
independently. Each channel mixer can be configured                  output PGAs have a wide volume adjustment range from
to accept any combination of signals from the playback               -62dB to +8dB, provide a high attenuation mute control
DAC, the analog microphone amplifiers, and the line input            (Tables 66 and 69), and feature programmable click and
drivers (Tables 64 and 67). The input mixers also provide            pop reduction options. See the Click-and-Pop Reduction
several attenuation options (Tables 65 and 68). The mixer            section for details. The output common-mode voltage is
attenuation options of -6dB, -9.5dB, and -12dB are sized             either half of VAVDD (in resistive divider BIAS mode) or
to prevent clipping when several full-scale input sources            about 0.78V (in bandgap BIAS mode). As a result of the
are selected.                                                        internal architecture, the left and right channel each have
                                                                     a built in baseline gain of -3dB (when all programmable
                                                                     gain options are set to 0dB).
Table 65. Receiver and Left Line Output Mixer Gain Control Register
             ADDRESS: 0x38
                                                                                DESCRIPTION
  BIT         NAME          TYPE   POR
   7            —             —      —   —
   6            —             —      —   —
   5            —             —      —   —
   4            —             —      —   —
   3            —             —      —   —
   2            —             —      —   —
   1                                 0   Receiver/Line Output Left Mixer Gain Configuration
         MIXRCVLG[1:0]       R/W          00: 0dB                     10: -9.5dB
   0                                 0    01: -6dB                    11: -12dB
Table 66. Receiver and Left Line Output Volume Control Register
             ADDRESS: 0x39
                                                                                DESCRIPTION
  BIT         NAME          TYPE   POR
                                         Left Receiver/Line Output Mute
   7         RCVLM           R/W     0    0: Left output amplifier not muted.
                                          1: Left output amplifier is muted.
   6            —             —      —   —
   5            —             —      —   —
   4                                 1   Receiver/Line Output Left PGA Volume Configuration
   3                                 0    0x1F: +8dB              0x17: +2dB             0x0F: -12dB           0x07: -35dB
                                          0x1E: +7.5dB            0x16: +1dB             0x0E: -14dB           0x06: -38dB
                                          0x1D: +7dB              0x15: +0dB             0x0D: -17dB           0x05: -42dB
   2                                 1
          RCVLVOL[4:0]       R/W          0x1C: +6.5dB            0x14: -2dB             0x0C: -20dB           0x04: -46dB
                                          0x1B: +6dB              0x13: -4dB             0x0B: -23dB           0x03: -50dB
   1                                 0    0x1A: +5dB              0x12: -6dB             0x0A: -26dB           0x02: -54dB
                                          0x19: +4dB              0x11: -8dB             0x09: -29dB           0x01: -58dB
   0                                 1    0x18: +3dB              0x10: -10dB            0x08: -32dB           0x00: -62dB
www.maximintegrated.com                                                                                      Maxim Integrated │ 141


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Table 67. Right Line Output Mixer Source Configuration Register
           ADDRESS: 0x3A
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
                                 Selects Between Receiver BTL Mode and Line Output mode
  7        LINMOD        R/W  0   0: Receiver BTL mode. All control of the output is from the left-channel registers.
                                  1: Line Output mode. Left and right channels are programmed independently.
  6           —           —   —  —
  5                           0  Selects MIC 2 as the input to the line out right mixer
  4                           0  Selects MIC 1 as the input to the line out right mixer
  3                           0  Selects Line B as the input to the line out right mixer
        MIXRCVR[5:0]     R/W
  2                           0  Selects Line A as the input to the line out right mixer
  1                           0  Selects DAC Right as the input to the line out right mixer
  0                           0  Selects DAC Left as the input to the line out right mixer
Table 68. Right Line Output Mixer Gain Control Register
           ADDRESS: 0x3B
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
  7           —           —   —  —
  6           —           —   —  —
  5           —           —   —  —
  4           —           —   —  —
  3           —           —   —  —
  2           —           —   —  —
  1                           0  Line Output Right Mixer Gain Configuration
       MIXRCVRG[1:0]     R/W      00: 0dB                 10: -9.5dB
  0                           0   01: -6dB                11: -12dB
Table 69. Right Line Output Volume Control Register
           ADDRESS: 0x3C
                                                                        DESCRIPTION
 BIT        NAME        TYPE POR
                                 Right Receiver/Line Output Mute
  7        RCVRM         R/W  0   0: Right output amplifier not muted.
                                  1: Right output amplifier is muted.
  6           —           —   —  —
  5           —           —   —  —
  4                           1  Line Output Right PGA Volume Configuration
  3                           0   0x1F: +8dB              0x17: +2dB               0x0F: -12dB          0x07: -35dB
                                  0x1E: +7.5dB            0x16: +1dB               0x0E: -14dB          0x06: -38dB
                                  0x1D: +7dB              0x15: +0dB               0x0D: -17dB          0x05: -42dB
  2                           1
        RCVRVOL[4:0]     R/W      0x1C: +6.5dB            0x14: -2dB               0x0C: -20dB          0x04: -46dB
                                  0x1B: +6dB              0x13: -4dB               0x0B: -23dB          0x03: -50dB
  1                           0
                                  0x1A: +5dB              0x12: -6dB               0x0A: -26dB          0x02: -54dB
                                  0x19: +4dB              0x11: -8dB               0x09: -29dB          0x01: -58dB
  0                           1   0x18: +3dB              0x10: -10dB              0x08: -32dB          0x00: -62dB
www.maximintegrated.com                                                                              Maxim Integrated │ 142


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Analog Class D Speaker Output                                        programmable gain amplifier, and a differential Class D
The device features an integrated stereo differential                output driver (Figure 36). The speaker output is capable
speaker amplifier. The analog stereo speaker output has              of driving both 4Ω and 8Ω loads, utilizes a highly efficient
three series sections comprising a flexible input mixer, a           Class D architecture, and meets EMI emission standards
                                                                     while driving a filterless speaker load.
                   FLEXSOUND              RECEIVER/LINE OUT/
                  TECHNOLOGY                 HEADPHONES
                      DSP
                                                              DACR                MIXSPL[5:0]
                                                              DACL                MIXSPLG[1:0]              SPVOLL[4:0]
                                                                                                                                 SPKLGND
                                                                     SPK                                        SPLM
             DAC              DAC                             MIC 1
                                                                     LEFT                                      SPLEN
             LEFT            RIGHT                            MIC 2 MIXER   -12dB TO 0dB            -48dB TO 14dB                SPKLP
                                                             LINE A                        SPEAKER
     DACLEN          DACHP         DACREN                                                                          6dB           SPKLN
                   PERFMODE                                  LINE B                        LEFT PGA
                                                                                              ZDEN
                                                                                             VS2EN
                                                                                              ZSEN                               SPKVDD
                  MAX98091
                                                                                                                 SPKSLAVE
                                                              DACR         -12dB TO 0dB             -48dB TO 14dB                SPKRP
                                                              DACL                         SPEAKER                 6dB           SPKRN
                                                                     SPK                  RIGHT PGA
                                                              MIC 1
                                                                    RIGHT
        ANALOG                                                MIC 2 MIXER
          INPUT                                              LINE A
        DRIVERS                                                                  MIXSPL[5:0]                SPVOLR[4:0]
                                                             LINE B                                                              SPKRGND
                                                                                MIXSPLG[1:0]                    SPLM
                                                                                                               SPREN
Figure 36. Class D Speaker Output Functional Diagram
www.maximintegrated.com                                                                                              Maxim Integrated │ 143


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Speaker Output Mixer and Gain Control                                 and 71). The input mixers also provide several attenuation
The speaker mixers can be configured to accept any                    options (Table 72). The mixer attenuation options of -6dB,
combination of signals from the playback DAC, the analog              -9.5dB, and -12dB are sized to prevent clipping when sev-
microphone amplifiers, and the line input drivers (Tables 70          eral full-scale input sources are selected.
Table 70. Left Speaker Mixer Configuration Register
           ADDRESS: 0x2E
                                                                                  DESCRIPTION
 BIT        NAME           TYPE    POR
  7           —              —      —    —
  6           —              —      —    —
  5                                  0   Selects microphone input 2 to left speaker mixer
  4                                  0   Selects microphone Input 1 to left speaker mixer
  3                                  0   Selects line input B to left speaker mixer
         MIXSPL[5:0]        R/W
  2                                  0   Selects line input A to left speaker mixer
  1                                  0   Selects right DAC output to left speaker mixer
  0                                  0   Selects left DAC output to left speaker mixer
Table 71. Right Speaker Mixer Configuration Register
           ADDRESS: 0x2F
                                                                                  DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —       —    —
                                         Speaker Slave Mode Enable
  6      SPK_SLAVE          —       —     0: Right-channel clock always generated independently.
                                          1: Right channel uses left-channel clock if both channels are enabled.
  5                                 0    Selects microphone input 2 to right speaker mixer.
  4                                 0    Selects microphone input 1 to right speaker mixer.
  3                                 0    Selects line input B to Right speaker mixer.
         MIXSPR[5:0]       R/W
  2                                 0    Selects line input A to right speaker mixer.
  1                                 0    Selects right DAC output to right speaker mixer.
  0                                 0    Selects left DAC output to right speaker mixer.
Table 72. Speaker Mixer Gain Control Register
           ADDRESS: 0x30
                                                                                  DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —       —    —
  6           —             —       —    —
  5           —             —       —    —
  4           —             —       —    —
  3                                 0    Right-Speaker Mixer Gain Configuration
        MIXSPRG[1:0]       R/W            00: +0dB                10: -9.5dB
  2                                 0     01: -6dB                11: -12dB
  1                                 0    Left-Speaker Mixer Gain Configuration
        MIXSPLG[1:0]       R/W           00: +0dB                 10: -9.5dB
  0                                 0    01: -6dB                 11: -12dB
www.maximintegrated.com                                                                                      Maxim Integrated │ 144


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
The speaker output programmable gain amplifiers (PGAs)          reduction options. See Click-and-Pop Reduction section
have a wide volume adjustment range from -48dB to               for details. In addition to the programmable gain range,
+14dB, provide a high attenuation mute control (Table 73        the Class D output driver also provides another 6dB of
and Table 74), and feature programmable click and pop           built-in gain.
Table 73. Left Speaker Amplifier Volume Control Register
           ADDRESS: 0x31
                                                                           DESCRIPTION
 BIT        NAME         TYPE   POR
                                      Left Speaker Output Mute Enable
  7          SPLM         R/W     0    0: Speaker output volume set by the volume control bits.
                                       1: Left speaker output muted.
  6           —            —      —   —
  5                               1   Left Speaker Output Amplifier Volume Control Configuration
  4                               0    0x3F: +14dB            0x35: +9dB            0x2B: -1dB          0x21: -17dB
                                       0x3E: +13.5dB          0x34: +8dB            0x2A: -2dB          0x20: -20dB
  3                               1    0x3D: +13dB            0x33: +7dB            0x29: -3dB          0x1F: -23dB
                                       0x3C: +12.5dB          0x32: +6dB            0x28: -4dB          0x1E: -26dB
         SPVOLL[5:0]      R/W          0x3B: +12dB            0x31: +5dB            0x27: -5dB          0x1D: -29dB
  2                               1
                                       0x3A: +11.5dB          0x30: +4dB            0x26: -6dB          0x1C: -32dB
                                       0x39: +11dB            0x2F: +3dB            0x25: -8dB          0x1B: -36dB
  1                               0    0x38: +10.5dB          0x2E: +2dB            0x24: -10dB         0x1A: -40dB
                                       0x37: +10dB            0x2D: +1dB            0x23: -12dB         0x19: -44dB
  0                               0    0x36: +9.5dB           0x2C: +0dB            0x22: -14dB         0x18: -48dB
Table 74. Right Speaker Amplifier Volume Control Register
           ADDRESS: 0x32
                                                                           DESCRIPTION
 BIT        NAME         TYPE   POR
                                      Right Speaker Output Mute Enable
  7         SPRM          R/W     0    0: Speaker output volume set by the volume control bits.
                                       1: Right-speaker output muted.
  6           —            —      —   —
  5                               1   Right Speaker Output Amplifier Volume Control Configuration
  4                               0    0x3F: +14dB            0x35: +9dB            0x2B: -1dB          0x21: -17dB
                                       0x3E: +13.5dB          0x34: +8dB            0x2A: -2dB          0x20: -20dB
  3                               1    0x3D: +13dB            0x33: +7dB            0x29: -3dB          0x1F: -23dB
                                       0x3C: +12.5dB          0x32: +6dB            0x28: -4dB          0x1E: -26dB
         SPVOLR[5:0]      R/W          0x3B: +12dB            0x31: +5dB            0x27: -5dB          0x1D: -29dB
  2                               1
                                       0x3A: +11.5dB          0x30: +4dB            0x26: -6dB          0x1C: -32dB
                                       0x39: +11dB            0x2F: +3dB            0x25: -8dB          0x1B: -36dB
  1                               0    0x38: +10.5dB          0x2E: +2dB            0x24: -10dB         0x1A: -40dB
                                       0x37: +10dB            0x2D: +1dB            0x23: -12dB         0x19: -44dB
  0                               0    0x36: +9.5dB           0x2C: +0dB            0x22: -14dB         0x18: -48dB
www.maximintegrated.com                                                                               Maxim Integrated │ 145


MAX98091                                                                    Ultra-Low Power Stereo Audio Codec
Efficient Class D Speaker Output Driver                                  a result, slave mode operation eliminates potential beat
A Class D amplifier offers much higher efficiency than                   tones that can occur with asynchronous stereo Class D
a Class AB amplifier. The high efficiency is due to the                  switching.
switching operation of the output stage transistors. In a                Traditional Class D amplifiers often require the use of
Class D amplifier, the output transistors act as current                 external LC filters and/or shielding to meet EN55022B
steering switches and consume negligible additional                      and FCC electromagnetic-interference (EMI) regulation
power. Any power loss associated with a Class D output                   standards. Maxim’s patented active emissions limiting
stage is primarily due to the loss in the MOSFET on-                     edge-rate control circuitry reduces EMI emissions. This
resistance, and the baseline quiescent current overhead.                 allows the device to drive both 4Ω and 8Ω without any
For comparison, the theoretical best-case efficiency of a                additional output filtering. The filterless Class D outputs
linear amplifier is 78%. However, that efficiency is only                are designed for typical applications where the trace
possible at peak output power conditions. Under normal                   length to the speakers is short and has a low series
operating levels (typical music reproduction levels), effi-              resistance. See the Filterless Class D Speaker Operation
ciency often falls below 30%. Under the same conditions,                 section for application level details.
the device’s differential Class D speaker output amplifier               Analog Class-H Headphone Output
still exhibits 80% efficiency.
                                                                         The stereo headphone output driver has a flexible input
By default, the Class D output switching clocks are inde-                mixer, programmable gain stage, an integrated charge
pendently generated for the left and right channels. With                pump, and a ground-referenced DirectDrive Class H
slave mode enabled, the right channel becomes a slave                    output amplifier (Figure 37). The headphone output
to the left channel and uses the same clock (Table 71).                  amplifier is capable of driving both 16Ω and 32Ω ground-
In slave mode, the switching scheme is synchronous. As                   referenced headphone loads.
                   FLEXSOUND              SPEAKER/RECEIVER/
                  TECHNOLOGY                  LINE OUT
                      DSP
                                                                                                HPVOLL[4:0]
                                                                                                    HPLM
                                                             DACR
                                                                                MIXHPL[5:0]        HPLEN
                                                             DACL              MIXHPLG[1:0]
             DAC              DAC                            MIC 1   HP
                                                                          -12dB TO 0dB
             LEFT            RIGHT                           MIC 2  LEFT
                                                                   MIXER                  HP                 -67dB TO 3dB
                                                            LINE A                              HEADPHONE                         HPL
    DACLEN           DACHP         DACREN                                                LEFT
                                                                                                 LEFT PGA
                   PERFMODE                                 LINE B                       MUX
                                                                                      MIXHPLSEL     ZDEN
                                                                                                                                  HPSNS
                                                                                                   VS2EN
                                                                                      MIXHPRSEL     ZSEN
                  MAX98091
                                                             DACR
                                                                                          HP                -67dB TO 3dB
                                                             DACL                               HEADPHONE                         HPR
                                                                                        RIGHT
                                                             MIC 1   HP                          RIGHT PGA
                                                                          -12dB TO 0dB MUX
                                                                   RIGHT
        ANALOG                                               MIC 2
                                                                   MIXER
          INPUT                                             LINE A
        DRIVERS                                                                 MIXHPR[5:0]     HPVOLR[4:0]        HEADPHONE      HPVDD
                                                            LINE B
                                                                               MIXHPRG[1:0]         HPRM          DIRECT DRIVE
                                                                                                   HPREN                          HPGND
                                                                                                                  CHARGE PUMP
                                                                                                              C1P C1N CPVDD CPVSS
Figure 37. DirectDrive Headphone Output Functional Diagram
www.maximintegrated.com                                                                                             Maxim Integrated │ 146


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Headphone Output Mixer and Gain Control                              and Table 76). The input mixers also provide several atten-
The headphone mixers can be configured to accept any                 uation options (Table 77). The mixer attenuation options of
combination of signals from the playback DAC, the analog             -6dB, -9.5dB, and -12dB are sized to prevent clipping when
microphone amplifiers, and the line input drivers (Table 75          several full-scale input sources are selected.
Table 75. Left Headphone Mixer Configuration Register
           ADDRESS: 0x29
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —    —
  6           —             —      —    —
  5                                 0   Selects microphone input 2 to left headphone mixer.
  4                                 0   Selects microphone input 1 to left headphone mixer.
  3                                 0   Selects line input B to left headphone mixer.
         MIXHPL[5:0]       R/W
  2                                 0   Selects line input A to left headphone mixer.
  1                                 0   Selects right DAC output to left headphone mixer.
  0                                 0   Selects left DAC output to left headphone mixer.
Table 76. Right Headphone Mixer Configuration Register
           ADDRESS: 0x2A
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —    —
  6           —             —      —    —
  5                                 0   Selects microphone input 2 to right headphone mixer.
  4                                 0   Selects microphone input 1 to right headphone mixer.
  3                                 0   Selects line input B to right headphone mixer.
         MIXHPR[5:0]       R/W
  2                                 0   Selects line input A to right headphone mixer.
  1                                 0   Selects right DAC output to right headphone mixer.
  0                                 0   Selects left DAC output to right headphone mixer.
Table 77. Headphone Mixer Control and Gain Register
           ADDRESS: 0x2B
                                                                                DESCRIPTION
 BIT        NAME          TYPE    POR
  7           —             —      —    —
  6           —             —      —    —
                                        Select Headphone Mixer as Right Input Source (Default DAC Right Direct)
  5      MIXHPRSEL         R/W      0     0: DAC only source (best dynamic range and power consumption)
                                          1: Headphone mixer source
                                        Select Headphone Mixer as Left Input Source (Default DAC Left Direct)
  4      MIXHPLSEL         R/W      0     0: DAC only source (best dynamic range and power consumption)
                                          1: Headphone mixer source
  3                                 0   Right-Headphone Mixer Gain Configuration
        MIXHPRG[1:0]       R/W            00: +0dB                    10: -9.5dB
  2                                 0     01: -6dB                    11: -12dB
  1                                 0   Left-Headphone Mixer Gain Configuration
        MIXHPLG[1:0]       R/W            00: +0dB                    10: -9.5dB
  0                                 0     01: -6dB                    11: -12dB
www.maximintegrated.com                                                                                    Maxim Integrated │ 147


MAX98091                                                                   Ultra-Low Power Stereo Audio Codec
Additionally, the headphone output has a reduced power                  headphone output amplifiers. When paired with the low
direct from DAC playback mode (Figure 38). In this con-                 power headphone playback mode (Table 4), this com-
figuration, the stereo DAC outputs from the playback path               bination is the lowest power digital to analog playback
are routed around the headphone mixer directly to the                   configuration available.
                  FLEXSOUND              SPEAKER/RECEIVER/
                 TECHNOLOGY                  LINE OUT
                     DSP
                                                                                               HPVOLL[4:0]
                                                                                                   HPLM
                                                            DACR
                                                                               MIXHPL[5:0]        HPLEN
                                                            DACL              MIXHPLG[1:0]
            DAC              DAC                            MIC 1   HP
                                                                         -12dB TO 0dB
            LEFT            RIGHT                           MIC 2  LEFT
                                                                  MIXER                  HP                 -67dB TO 3dB
                                                           LINE A                              HEADPHONE                         HPL
   DACLEN           DACHP         DACREN                                                LEFT
                                                                                                LEFT PGA
                  PERFMODE                                 LINE B                       MUX
                                                                                     MIXHPLSEL     ZDEN
                                                                                                                                 HPSNS
                                                                                                  VS2EN
                                                                                     MIXHPRSEL     ZSEN
                 MAX98091
                                                            DACR
                                                                                         HP                -67dB TO 3dB
                                                            DACL                               HEADPHONE                         HPR
                                                                                       RIGHT
                                                            MIC 1   HP                          RIGHT PGA
                                                                         -12dB TO 0dB MUX
                                                                  RIGHT
      ANALOG                                                MIC 2
                                                                  MIXER
         INPUT                                             LINE A
      DRIVERS                                                                  MIXHPR[5:0]     HPVOLR[4:0]        HEADPHONE      HPVDD
                                                           LINE B
                                                                              MIXHPRG[1:0]         HPRM          DIRECT DRIVE
                                                                                                  HPREN                          HPGND
                                                                                                                 CHARGE PUMP
                                                                                                             C1P C1N CPVDD CPVSS
Figure 38. Reduced Power DAC Playback to Headphone Output Configuration
www.maximintegrated.com                                                                                            Maxim Integrated │ 148


MAX98091                                                           Ultra-Low Power Stereo Audio Codec
The headphone output programmable gain amplifiers               and Table 79), and feature programmable click-and-pop
(PGAs) have a wide volume adjustment range from -67dB           reduction options. See the Click-and-Pop Reduction sec-
to +3dB, provide a high attenuation mute control (Table 78      tion for details.
Table 78. Left Headphone Amplifier Volume Control Register
           ADDRESS: 0x2C
                                                                           DESCRIPTION
  BIT       NAME           TYPE   POR
                                       Left Headphone Output Mute Enable
   7        HPLM            R/W     0    0: Headphone output volume set by the volume control bits.
                                         1: Headphone output muted.
   6          —              —     —   —
   5          —              —     —   —
   4                                1  Left Headphone Output Amplifier Volume Control Configuration
   3                                1    0x1F: +3dB           0x17: -3dB            0x0F: -17dB       0x07: -40dB
                                         0x1E: +2.5dB         0x16: -4dB            0x0E: -19dB       0x06: -43dB
                                         0x1D: +2dB           0x15: -5dB            0x0D: -22dB       0x06: -47dB
   2                                0
         HPVOLL[4:0]        R/W          0x1C: +1.5dB         0x14: -7dB            0x0C: -25dB       0x04: -51dB
                                         0x1B: +1dB           0x13: -9dB            0x0B: -28dB       0x03: -55dB
   1                                1    0x1A: +0dB           0x12: -11dB           0x0A: -31dB       0x02: -59dB
                                         0x19: -1dB           0x11: -13dB           0x09: -34dB       0x01: -63dB
   0                                0    0x18: -2dB           0x10: -15d            0x08: -37dB       0x00: -67dB
Table 79. Right Headphone Amplifier Volume Control Register
           ADDRESS: 0x2D
                                                                           DESCRIPTION
  BIT        NAME           TYPE POR
                                       Right Headphone Output Mute Enable
   7         HPRM            R/W    0    0: Headphone output volume set by the volume control bits.
                                         1: Headphone output muted.
   6           —              —    —   —
   5           —              —    —   —
   4                                1  Right Headphone Output Amplifier Volume Control Configuration
   3                                1    0x1F: +3dB           0x17: -3dB            0x0F: -17dB       0x07: -40dB
                                         0x1E: +2.5dB         0x16: -4dB            0x0E: -19dB       0x06: -43dB
                                         0x1D: +2dB           0x15: -5dB            0x0D: -22dB       0x06: -47dB
   2                                0
          HPVOLR[4:0]        R/W         0x1C: +1.5dB         0x14: -7dB            0x0C: -25dB       0x04: -51dB
                                         0x1B: +1dB           0x13: -9dB            0x0B: -28dB       0x03: -55dB
   1                                1    0x1A: +0dB           0x12: -11dB           0x0A: -31dB       0x02: -59dB
                                         0x19: -1dB           0x11: -13dB           0x09: -34dB       0x01: -63dB
   0                                0    0x18: -2dB           0x10: -15dB           0x08: -37dB       0x00: -67dB
www.maximintegrated.com                                                                             Maxim Integrated │ 149


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
Headphone Ground Sense                                         trace to a point as close as possible to the ground pole of
To improve channel isolation, the device has a low-side        the headphone jack (Figure 39). If this is not possible, or
headphone sense (HPSNS) that senses the ground                 if headphone sense is not used, connect it to the analog
return of the headphone load. For optimal performance,         ground plane. In this configuration, channel isolation can
connect the headphone sense line through an isolated           be degraded, resulting in increased channel-to-channel
                                                               crosstalk.
                 OPTIMAL GROUND SENSE CONFIGURATION                        ALTERNATIVE GROUND SENSE CONFIGURATION
                                         ISOLATED HP                                                  HP SENSE
                                         SENSE TRACE                                                 TO GROUND
              HEADPHONE          HPL                                     HEADPHONE          HPL
               LEFT PGA                                                   LEFT PGA
                              HPSNS                                                      HPSNS
                                                       CODEC                                                      CODEC
                                                       GROUND                                                     GROUND
                                 HPR                   PLANE                               HPR                    PLANE
              HEADPHONE                                                  HEADPHONE
               RIGHT PGA                             HEADPHONE            RIGHT PGA                             HEADPHONE
                                                   OUTPUT JACK                                                 OUTPUT JACK
Figure 39. Headphone Output Ground Sense Connections
www.maximintegrated.com                                                                                  Maxim Integrated │ 150


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
DirectDrive Headphone Amplifier                                     reduces cost, and improves the frequency response of
Traditional single-supply headphone amplifiers have out-            the headphone amplifier.
puts biased at a nominal DC voltage (typically at either            Class H Amplifier Charge Pump
half the high-side supply, or at a bandgap referenced
                                                                    A Class H amplifier has the same output architecture as
common mode level). As a result, large coupling capaci-
                                                                    a Class AB amplifier. However, in a Class H amplifier the
tors are needed to block this DC bias and AC-couple
                                                                    power supplies are modulated by the output signal. The
the audio output to the headphone load. Without these
                                                                    integrated headphone charge pump generates both the
capacitors, a significant DC current would flow through
                                                                    positive and negative power supply for the headphone
the ground-referenced headphone load. The result is both
                                                                    output amplifier. To maximize efficiency, both the charge
unnecessary power dissipation, and potential damage to
                                                                    pump’s switching frequency and output voltage level and
both the headphone load and amplifier.
                                                                    format change based on the headphone output signal level.
Maxim’s second-generation DirectDrive architecture
                                                                    The charge pump has three different operating ranges
solves this problem by using a charge pump to create
                                                                    each with a different switching frequency. The two lower
an internal negative supply voltage. This increases the
                                                                    power ranges use a three-level switching scheme to gen-
overall output signal swing while at the same time, allow-
                                                                    erate half supply rails at ±VHPVDD/2 while the high power
ing the headphone outputs to be biased at GND even
                                                                    range uses a standard two-level switching scheme to
while operating from a single supply (Figure 40). Without
                                                                    generate full supply rails at ±VHPVDD. The switching fre-
a DC bias component, there is no need for the large
                                                                    quency and voltage levels of each range are optimized to
AC-coupling capacitors. Instead of two large (typically
                                                                    maintain high efficiency while meeting the different output
220µF) capacitors, the charge pump only requires three
                                                                    power requirements (Table 80).
small ceramic capacitors. This conserves board space,
Table 80. Charge-Pump Operating Ranges
                           HEADPHONE                                       CHARGE PUMP CONFIGURATION
   RANGE                 OUTPUT LEVEL                      FREQUENCY
                          (% of VHPVDD)                                          VCPVDD/CPVSS                   WAVEFORM
                                                              (kHz)
       1                        < 10                           ~82                ±VHPVDD/2                        Range 1
       2                     10 to 25                         ~660                ±VHPVDD/2                        Range 2
       3                        > 25                          ~500                 ±VHPVDD                         Range 3
              VHPVDD                                                  +VHPVDD
                                                     VHP_OUT                                                 VHP_OUT
              VHPVDD
                                                                         GND
                2
                GND                                                   -VHPVDD
                            CONVENTIONAL HEADPHONE BIAS                             DIRECTDRIVE HEADPHONE BIAS
Figure 40. Conventional vs. DirectDrive Headphone Output Bias
www.maximintegrated.com                                                                                      Maxim Integrated │ 151


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Range 1 (VHP_OUT < 10% of VHPVDD): When the out-                    quiescent consumption and switching losses. To meet the
put signal level is less than 10% of HPVDD, the output              increased load power requirements, the charge-pump
signal swing is low and the power consumption for driving           switching frequency increases (~660kHz) while the bipolar
the headphone load is small relative to the charge pump             output supply rails remain at half of HPVDD or ±VHPVDD/2
quiescent consumption and switching losses. Therefore,              (Figure 41, Range 2).
to minimize switching losses, the charge-pump frequency
                                                                    Range 3 (25% of VHPVDD ≤ VHP_OUT): When the
is reduced to its lowest rate (~82kHz) and the bipolar out-
                                                                    output signal level exceeds 25% of HPVDD, the output
put supply rails are set to half of HPVDD or ±VHPVDD/2
                                                                    signal swing is much wider. As a result, the charge pump
(Figure 41, Range 1).
                                                                    now generates bipolar full HPVDD output supply rails
Range 2 (10% of VHPVDD ≤ VHP_OUT < 25% of                           (±VHPVDD). The switching frequency in this range is
VHPVDD): When the output signal level is between 10%                slightly lower (~500kHz). However, the increased voltage
and 25% of HPVDD, the output signal swing is still less             differential allows the headphone output driver to reach
than half of HPVDD. However, the load power consumption             its maximum voltage swing and load driving capability
requirements are now much higher than the charge-pump               (Figure 41, Range 3).
                      OPERATING RANGE 1                    OPERATING RANGE 2                         OPERATING RANGE 3
                     VHP_OUT < 10% VHPVDD           10% VHPVDD ≤ VHP_OUT < 25% VHPVDD               25% VHPVDD ≤ VHP_OUT
                    POSITIVE TERMINAL (C1P)               POSITIVE TERMINAL (C1P)                  POSITIVE TERMINAL (C1P)
       VHPVDD                                VHPVDD                                     VHPVDD
       VHPVDD                                VHPVDD                                     VHPVDD
          2                                     2                                          2
         GND                                   GND                                        GND
      -VHPVDD                               -VHPVDD                                    -VHPVDD
         2                                     2                                          2
      -VHPVDD                               -VHPVDD                                    -VHPVDD
                    NEGATIVE TERMINAL (C1N)               NEGATIVE TERMINAL (C1N)                  NEGATIVE TERMINAL (C1N)
       VHPVDD                                VHPVDD                                     VHPVDD
       VHPVDD                                VHPVDD                                     VHPVDD
          2                                     2                                          2
         GND                                   GND                                        GND
      -VHPVDD                               -VHPVDD                                    -VHPVDD
         2                                     2                                          2
      -VHPVDD                               -VHPVDD                                    -VHPVDD
Figure 41. Class H Amplifier Charge Pump Operating Ranges
www.maximintegrated.com                                                                                     Maxim Integrated │ 152


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
To prevent audible crosstalk, the switching frequency in    Click-and-Pop Reduction
all three charge pump ranges is well outside of the audio
                                                            The device includes extensive click-and-pop reduction
band. In addition, to prevent audible distortion during
                                                            circuitry designed to minimizes audible clicks and pops
supply range changes, the charge pump transitions from
                                                            at turn-on, turn-off, and during volume changes. These
one output power range to another very quickly. When
                                                            features include zero-crossing detection, volume change
changing from the half supply range (±VHPVDD/2) to
                                                            smoothing, and volume change stepping (Table 81).
the full supply range (±VHPVDD/2), the transition occurs
immediately if the threshold is exceeded (to avoid clipping Zero-crossing detection is available on the analog micro-
for a rapidly increasing audio output). When moving back    phone input PGAs and all analog output PGAs and
down, there is a 32ms delay between the threshold detec-    volume controls to prevent large glitches when volume
tion and the supply range transition. The quick supply      changes are made. Instead of making a volume change
level transitions draw a significant transient current from immediately, the change is made when the audio signal
HPVDD. To prevent a droop/glitch on HPVDD, the bypass       crosses the midpoint (Figure 43). If no zero crossing
capacitance must be appropriate to supply the required      occurs within the timeout window (100ms), the volume
transient current (Figures 54 and 55).                      change occurs regardless of signal level.
                                                                     32ms
                                        VHPVDD
                                                                                 VCPVDD
                                        VHPVDD
                                           2
                                       VTH_25%
                                          GND
                                      -VTH_25%                                     VHP_OUT
                                       -VHPVDD
                                           2
                                                                                  VCPVSS
                                       -VHPVDD
                                                                     32ms
Figure 42. Class H Amplifier Supply Range Transitions
                        I2C PGA                                        I2C PGA
                       VOLUME                                         VOLUME
                       CHANGE                                         CHANGE
               GND                                          GND
                         AUDIO                                           AUDIO
                       OUTPUT                                          OUTPUT
                       VOLUME                                          VOLUME
                       CHANGE                                          CHANGE
                           ZERO-CROSSING DETECTION                        ZERO-CROSSING DETECTION
                              DISABLED (ZDEN = 1)                            ENABLED (ZDEN = 0)
Figure 43. Zero-Crossing Detection
www.maximintegrated.com                                                                           Maxim Integrated │ 153


MAX98091                                                                Ultra-Low Power Stereo Audio Codec
Table 81. Zero-Crossing Detection and Volume Smoothing Configuration Register
             ADDRESS: 0x40
                                                                                DESCRIPTION
  BIT         NAME          TYPE    POR
   7            —             —      —     —
   6            —             —      —     —
   5            —             —      —     —
   4            —             —      —     —
   3            —             —      —     —
                                           Zero-Crossing Detection
   2          ZDEN           R/W      0     0: Volume changes made only at zero crossings or after approximately 100ms.
                                            1: Volume changes made immediately upon request.
                                           Enhanced Volume Smoothing
                                            Only valid is volume adjustment smoothing is enabled (VSEN = 0).
   1         VS2EN           R/W      0     0: Each volume change waits until the previous volume step has been applied to the
                                            output. Allows volume smoothing to function with zero-crossing timeout.
                                            1: Volume smoothing enhancement is disabled.
                                           Volume Adjustment Smoothing
   0          VSEN           R/W      0     0: Volume changes are smoothed by stepping through intermediate levels.
                                            1: Volume changes are made directly in a single step.
Volume smoothing is available on all analog output PGAs.             until the previous step has been set. Each step in the
When enabled, all volume changes are broken into the                 volume ramp then occurs either after a zero crossing has
smallest available step size. The volume is then ramped              occurred in the audio signal or after the timeout window
through each step between the initial and final volume set-          has expired.
ting at a rate of one step every 1ms. Volume smoothing               During PGA turn-off, volume smoothing ramps the volume
also occurs at device turn-on and turn-off. During turn-on,          down to the minimum setting, if enabled. However, to
the volume is first set to mute before the output is enabled.
                                                                     prevent long turn-off times, enhanced volume smoothing
Once enabled, mute is first disabled and then the volume
                                                                     and zero-crossing detection are not applied at PGA mute
is ramped to the programmed level. At turn-off, the volume
                                                                     or turn-off. If volume smoothing is too slow or is not used,
is ramped down to the minimum gain, and then muted,
before the outputs are disabled. If zero-crossing detection          the zero-crossing detection can still be used to minimize
is enabled, each volume step occurs at a zero crossing.              click-and-pop when disabling an output PGA. First ramp
                                                                     the PGA volume down to (in one step or multiple steps)
When no audio signal is present, zero-crossing detection             its minimum volume setting. Zero-crossing detection is
can timeout and prevent volume smoothing from occur-
                                                                     applied to each step of the volume change. Then, once
ring. Enable enhanced volume smoothing to prevent the
                                                                     at the minimum volume, either enable mute or disable the
volume controller from requesting another volume step
                                                                     output PGA.
www.maximintegrated.com                                                                                      Maxim Integrated │ 154


MAX98091                                                                 Ultra-Low Power Stereo Audio Codec
Jack Detection                                                        Jack detection operation relies on a pullup resistance to
                                                                      set the bias when no jack is inserted. When the device
The device features a flexible, software configurable
                                                                      is in shutdown mode or the microphone bias is disabled
jack detection interface. Once enabled, the jack detec-
                                                                      (MICBIAS is high impedance), an internal pullup is enabled
tion interface uses two internal comparators to sense the
                                                                      on JACKSNS, and is referenced to the SPKVDD supply.
insertion/removal of a jack and identify the type of jack
                                                                      When the device is not in shutdown and the microphone
inserted (headphones or headset). When the device is in
                                                                      bias is enabled, the internal pullup is disabled (JACKSNS
shutdown or the microphone bias is disabled, the com-
                                                                      is high impedance). In this state, successful jack detection
parator thresholds are referenced to VSPKVDD. When
                                                                      requires an external pullup on JACKSNS to MICBIAS. The
the device is active and microphone bias is enabled, the
                                                                      jack detection internal interface structure and typical exter-
comparator thresholds are referenced to VMICBIAS.
                                                                      nal application circuit is shown in Figure 44.
                                                            MICBIAS
                                                                                           VSPKLVDD
                                                     1µF
                        2.2kΩ
                                        1µF                                               INTERNAL
                                                            VIN+                           PULL-UP             JDETEN
                                                                                          CONTROL               JDWK
                                                            ANALOG
                                                            MIC INPUT
                                         1µF
                                                            VIN-
                                                                                                    LOAD SENSE
                                                                                                   COMPARATOR
                                                                                                                  LSNS
                                                            JACKSNS      VSPKVDD
                                                                                  VTH
                                                                                  95%
                                                                         VMICBIAS
                                                                                                               JDETEN
                                                                                                              JDEB[1:0]
                                                           HPL             MBEN
                           MIC  GND    RIGHT     LEFT
                                                           HPR                                                   JKSNS
                                                                         VSPKVDD
                                                                                   VTH
                                                           HPSNS                  10%               JACK SENSE
                                                                         VMICBIAS
                                                                                                   COMPARATOR
Figure 44. Block Diagram and Typical Application Circuit for Jack Detection
www.maximintegrated.com                                                                                           Maxim Integrated │ 155


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Table 82. Jack Detection Status Results
                                                                    JACK DETECTION RESULTS
               JACKSNS VOLTAGE
                                                      LSNS         JKSNS                         STATE
               VTH_95% ≤ VJACKSNS                       1             1                     No jack detected
         VTH_10% ≤ VJACKSNS < VTH_95%                   0             1                     Headset detected
               VJACKSNS < VTH_10%                       0             0                   Headphones detected
                    No condition                        1             0                   Not possible/reserved
Jack Detection Internal Comparators                         (10% of the reference supply) and JKSNS is set low to
When enabled, the device detects jack insertion and         indicate headphones are inserted. If instead, a headset
removal by monitoring the voltage on JACKSNS with two       jack is inserted (4 pole, as shown in Figure 44), instead
internal comparators. The load sense comparator has a       JACKSNS is biased to a voltage somewhere between the
95% threshold of the reference supply and is used to deter- referenced supply and ground. In this case, VJACKSNS is
mine whether or not a jack has been inserted or removed.    above the jack sense comparator threshold but below the
The jack sense comparator has a threshold of 10% of the     load sense comparator threshold. This state indicates that
reference supply, and is used to identify the type of jack  a headset is inserted. Table 82 details the three possible
(headphones/headset) inserted (Table 84).                   jack detection status results.
When a jack is not inserted (open), the pullup resistance   These comparators are only active when the JDETEN is
conducts high. In this state, VJACKSNS is above the load    set high. When jack detection is disabled, JACKSNS is
sense comparator threshold and LSNS is set high to          in a high impedance state and the interface is completely
indicate that no jack is inserted. When a jack is inserted  shut down. When the device is in shutdown and JDETEN
it loads JACKSNS and pulls the voltage below the load       is low, LSNS and JKSNS retain their previous state
sense comparator threshold. LSNS is then set low to indi-   regardless of the jack status.
cate that a jack is now inserted. When the jack is removed, Jack Detection Programmable Debounce
the pullup resistance once again conducts high and LSNS
                                                            The load sense and jack sense comparators also have a
is set high to indicate that the jack was removed.
                                                            programmable debounce timeout. The debounce timeout
When a jack is inserted, the loading on JACKSNS pulls       ensures that the jack detection status doesn’t change
the voltage below the load sense comparator threshold.      unless the new state is persistent for longer than the time-
However, depending on the type of jack connected the        out. This prevents rapid changes on LSNS and JKSNS
voltage may or may not be pulled below the jack sense       during jack insertion/removal transients, and ensures
comparator threshold. If a headphone jack is inserted       that false jack detection interrupts are not generated. The
(3 pole), JACKSNS is shorted to ground. This pulls the      debounce timeout can be programmed to one of four set-
voltage below the jack sense comparator threshold           tings from 25ms to 200ms (Table 83).
www.maximintegrated.com                                                                            Maxim Integrated │ 156


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
        1    JACK DETECTION DISABLED                                          2   OPEN JACK DETECT (INTERNAL PULLUP)
                                        HI-Z      MICBIAS                                                 HI-Z       MICBIAS
                                            1µF                                                               1µF
           JDETEN = 0      2.2kΩ                                                JDETEN = 1       2.2kΩ
          MBEN = 0 OR                    1µF                     SPKVDD         MBEN = 0 OR                   1µF
                                                  VIN+                                                               VIN+
            SHDN = 0                                                             SHDN = 0
          OPEN JACK                               ANALOG                        OPEN JACK                            ANALOG
                                                  MIC INPUT                                                          MIC INPUT
                                         1µF                                                                  1µF
                                                  VIN-                                                               VIN-
                                                                                                                                    SPKVDD
                                                                INTERNAL
                                                                  PULLUP
                                                                DISABLED                                                            PULLUP
                                                  JACKSNS                                                            JACKSNS
                                      HI-Z                                                PULLUP PATH
                                                  HPL                                                               HPL
                                                              JACK DETECT                                                        JACK DETECT
                                                             COMPARATORS                                                        COMPARATORS
                                                                DISABLED                                                           ENABLED
                                                  HPR                                                               HPR
                                                  HPSNS                                                             HPSNS
                            LSNS/JKSNS =                    LSNS/JKSNS =                              LSNS = 1                    LSNS = 1
                 JDWK = 0                          JDWK = 1                           JDWK = 0                        JDWK = 1
                              LAST STATE                     LAST STATE                              JKSNS = 1                   JKSNS = 1
        3    HEADPHONE DETECT (INTERNAL PULLUP)                               4   HEADSET DETECT (INTERNAL PULLUP)
                                       HI-Z       MICBIAS                                                 HI-Z       MICBIAS
           JDETEN = 1                      1µF                                  JDETEN = 1                    1µF
                           2.2kΩ                                                                 2.2kΩ
            MBEN = 1                     1µF                                     MBEN = 1                     1µF
            SHDN = 1                              VIN+                           SHDN = 1                            VIN+
          HEADPHONE                                                              HEADSET
              JACK                                ANALOG                           JACK                              ANALOG
                                                  MIC INPUT                                                          MIC INPUT
                                         1µF                                                                  1µF
                                                  VIN-                                                               VIN-
                                                                 SPKVDD                                                             SPKVDD
                                                                  PULLUP                                                            PULLUP
                                                  JACKSNS                                                            JACKSNS
                       SHORT TO GND                                                      BIAS CURRENT
                                                  HPL                                                               HPL
                                                              JACK DETECT                                                        JACK DETECT
                                                             COMPARATORS                                                        COMPARATORS
                     GND          RIGHT      LEFT                ENABLED          MIC      GND     RIGHT       LEFT                ENABLED
                                                  HPR                                                               HPR
                                                  HPSNS                                                             HPSNS
                                LSNS = 0                       LSNS = 0                               LSNS = 0                    LSNS = 0
                 JDWK = 0                          JDWK = 1                           JDWK = 0                        JDWK = 1
                               JKSNS = 0                      JKSNS = 0                              JKSNS = 1                   JKSNS = 0
Figure 45. Jack Detection Cases with Internal Pullup Resistance
www.maximintegrated.com                                                                                                Maxim Integrated │ 157


MAX98091                                                        Ultra-Low Power Stereo Audio Codec
Jack Detection Interrupt Generation                          impedance. In this state, LSNS and JKSNS retain the last
Whenever a jack is inserted or removed and the state of      valid jack detection result. In case 2, no jack is inserted
either LSNS or JKSNS changes, a jack detection event is      and the internal pullup resistance to SPKVDD conducts
indicated with the jack configuration change flag (JDET,     JACKSNS up above both the load and jack sense com-
Table 91). If the jack detection event is not masked         parator thresholds. In this case, with an open circuit jack,
(IJDET, Table 92), it also generates an interrupt on IRQ.    both the strong and weak internal pullups produce the
The jack detection event bit (JDET) is clear on read. An     correct jack detection result and the only power consump-
I2C read clears both the JDET bit status and the interrupt   tion is that required to bias the internal comparators. In
assertion on IRQ (if present). Unless a read occurs after    case 3, a headphone jack is inserted shorting JACKSNS
each jack detection event, both the JDET bit and the IRQ     to ground, well below both the load and jack sense
interrupt will remain asserted and no new events or inter-   comparator thresholds. In this state, both the strong and
rupts can be detected.                                       weak internal pullups produce the correct jack detection
                                                             result but the strong internal pullup consumes significantly
A change in state from LSNS = 1 to LSNS = 0 indicates        more current than the weak internal pullup. In case 4, a
that a jack has been inserted, while a change in state from  headset jack is inserted. In this state, the strong and weak
LSNS = 0 to LSNS = 1 indicates that a jack has been          internal pullups produce different jack detection results.
removed. When an insertion occurs, if JKSNS does not         The strong internal pullup biases the headset MIC (and
change and remains at JKSNS = 1, a headset insertion         JACKSNS) to a level between the load sense and jack
is indicated, while a change in state from JKSNS = 1 to      sense comparator thresholds that produces the correct
JKSNS = 0 indicates headphones have been inserted. The       jack detection result. The weak internal pullup, however,
state transitions, and the interrupt events generated, are   is not strong enough to bias a headset MIC and as a
ideally used for state machine control in any jack detection result it falsely reports that a headphones jack is present.
software drivers.
                                                             Operation with an External Pullup Resistance
Operation with an Internal Pullup Resistance
                                                             The internal pullup resistance is sufficient for wake on
The device has both a strong and weak internal pullup        interrupt or basic jack detection and identification, but
option. The internal pullup resistors are only active if     an external pullup resistance to MICBIAS is required to
the device is in shutdown (SHDN = 0,Table 6) or when         properly bias and current limit a headset microphone
MICBIAS is disabled (MBEN = 0, Table 7), and they            (Figure 44. When jack detect is enabled and the device is
allow jack detection and identification to function in those active (SHDN = 1, Table 6) with MICBIAS enabled (MBEN
states. This functionality is ideal for cases where the      = 1, Table 7), JACKSNS is placed into a high-impedance
device is put into a sleep or shutdown state, but needs to   state and the internal pullup resistor is disabled. In this
trigger a device or system level interrupt signal for wake   state, the external pullup resistor then determines the bias
on insertion operation.                                      voltage level at JACKSNS.
When JDWK is low (default, Table 83), the strong inter-      Figure 45 details the operation of jack detection with an
nal pullup is used (approximately 2.4kΩ referenced to        external pullup resistance. In Case 1, jack detection is
SPKVDD). This configuration is capable of detecting and      disabled. As a result, the internal jack detect compara-
identifying both headphone and headset insertion. When       tors are disabled and LSNS/JKSNS retain their last valid
JDWK is high, the weak internal pullup (approximately        jack detection result. In case 2, no jack is inserted and
5µA to SPKVDD) is used. The weak internal pullup mini-       the external pullup resistance to MICBIAS conducts
mizes the supply current after jack insertion and is ideal   JACKSNS up above both the load and jack sense
for wake on insertion cases where the system might not       comparator thresholds. In case 3, a headphone jack is
immediately power up. The weak internal pullup cannot        inserted shorting JACKSNS to ground, well below both
bias a microphone load, and therefore, cannot identify       the load and jack sense comparator thresholds. In case 4,
headset insertion or accessory button presses.               a headset jack is inserted and the external pullup biases
Figure 44 details how jack detection works with the          the headset MIC (and JACKSNS) to a level between the
internal pullup resistance. In case 1, jack detection is     load sense and jack sense comparator thresholds.
disabled and both MICBIAS and JACKSNS are high
www.maximintegrated.com                                                                              Maxim Integrated │ 158


MAX98091                                                              Ultra-Low Power Stereo Audio Codec
        1   JACK DETECTION DISABLED                                      2  OPEN JACK DETECT (INTERNAL PULLUP)
                                                                                                 PULLUP PATH
                                     HI-Z      MICBIAS                                                          MICBIAS
             JDETEN = 0                1µF                                 JDETEN = 1                     1µF
                           2.2kΩ                                                          2.2kΩ
              JDWK = X                                                      JDWK = X
                                      1µF                    SPKVDD                                     1µF                   SPKVDD
              MBEN = 1                         VIN+                         MBEN = 1                            VIN+
              SHDN = 1                                                      SHDN = 1
             OPEN JACK                         ANALOG                      OPEN JACK                            ANALOG
                                               MIC INPUT                                                        MIC INPUT
                                      1µF                                                               1µF
                                               VIN-                                                             VIN-
                                                            INTERNAL                                                         INTERNAL
                                                              PULLUP                                                           PULLUP
                                                            DISABLED                                                         DISABLED
                                               JACKSNS                                                          JACKSNS
                                     HI-Z                                                              HI-Z
                                               HPL                                                              HPL
                                                          JACK DETECT                                                      JACK DETECT
                                                         COMPARATORS                                                      COMPARATORS
                                                            DISABLED                                                          ENABLED
                                               HPR                                                              HPR
                                               HPSNS                                                            HPSNS
           LSNS /JKSNS =                                                     LSNS = 1
            LAST STATE                                                      JKSNS = 1
        3   HEADPHONE DETECT (INTERNAL PULLUP)                           4  HEADSET DETECT (INTERNAL PULLUP)
                                  SHORT TO GND                                                    BIAS CURRENT
                                               MICBIAS                                                          MICBIAS
             JDETEN = 1                1µF                                 JDETEN = 1                     1µF
              JDWK = X     2.2kΩ                                            JDWK = X      2.2kΩ
              MBEN = 1                1µF                    SPKVDD         MBEN = 1                    1µF                   SPKVDD
                                               VIN+                                                             VIN+
              SHDN = 1                                                      SHDN = 1
            HEADPHONE                          ANALOG                       HEADSET                             ANALOG
                 JACK                          MIC INPUT                       JACK                             MIC INPUT
                                      1µF                                                               1µF
                                               VIN-                                                             VIN-
                                                            INTERNAL                                                         INTERNAL
                                                              PULLUP                                                           PULLUP
                                                            DISABLED                                                         DISABLED
                                               JACKSNS                                                          JACKSNS
                                     HI-Z                                                             HI-Z
                                               HPL                                                              HPL
                                                          JACK DETECT                                                      JACK DETECT
                                                         COMPARATORS                                                      COMPARATORS
                    GND        RIGHT     LEFT                ENABLED            MIC   GND      RIGHT       LEFT               ENABLED
                                               HPR                                                              HPR
                                               HPSNS                                                            HPSNS
               LSNS = 0                                                      LSNS = 0
              JKSNS = 0                                                     JKSNS = 1
Figure 46. Jack Detection Operation with External Pullup Resistance
www.maximintegrated.com                                                                                           Maxim Integrated │ 159


MAX98091                                                                            Ultra-Low Power Stereo Audio Codec
                       1 FALSE JACK DETECTION WITH                                                  2 SCHOTTKY DIODE BLOCKS BIAS CURRENT
                         INTERNAL ANALOG MICROPHONE                                                   PATH TO INTERNAL ANALOG MICROPHONE
                                                  1µF                                                                               1µF
                                                      VIN+                                                                                VIN+
                                                      ANALOG                                                                              ANALOG
           JDETEN = 1                             1µF MIC INPUT 2                                                                   1µF   MIC INPUT 2
                                                                                         JDETEN = 1
            JDWK = X               2.2kΩ              VIN-                                JDWK = X                   2.2kΩ                VIN-
           MBEN = 0 OR                                                                  MBEN = 0 OR
            SHDN = 0                                  MICBIAS                             SHDN = 0                                        MICBIAS
              OPEN                         HI-Z                                             OPEN                             HI-Z
              JACK                              1µF                                         JACK                                  1µF
                                   2.2kΩ
                                                  1µF                                                                2.2kΩ
                                                      VIN+           SPKVDD                                                         1µF
                                                      ANALOG                                                                              VIN+           SPKVDD
       ANALOG                                                                        ANALOG
                                                  1µF MIC INPUT 1
  SINGLE-ENDED                                                       PULLUP    SINGLE-ENDED                                               ANALOG
   MICROPHONE                                         VIN-                      MICROPHONE                                                MIC INPUT 1    PULLUP
                                                                                                                                    1µF
                                                                                                                                          VIN-
                                                      JACKSNS                                                                             JACKSNS
                                  BIAS CURRENT PATH                                                                CURRENT PATH BLOCKED
                                                      HPL          JACK DETECT                                                            HPL          JACK DETECT
                                                                  COMPARATORS                                                                         COMPARATORS
                                                                     ENABLED                                                                             ENABLED
             LSNS = 0                                                                      LSNS = 0
            JKSNS = 1                                 HPR                                 JKSNS = 1                                       HPR
                                                      HPSNS                                                                               HPSNS
Figure 47. Jack Detection with Internal Analog Microphones
Accessory Button Detection                                                       comparator threshold. However, the external pullup to
After jack insertion, the device can detect button presses                       MICBIAS creates an unintended current path through the
on any accessories that include a microphone and a                               internal analog microphone pullup. As a result, the voltage at
switch that shorts the microphone ring to ground. Button                         JACKSNS is biased to a level between the jack sense and
presses can be detected either when MICBIAS is enabled                           load sense comparator thresholds, resulting in a false head-
or if it is disabled and the strong internal pullup is used                      set jack detection. When a headset jack is inserted, there is
(JDWK = 0). A button press changes the state of JKSNS                            a parallel load on JACKSNS between the inserted headset
from 1 to 0 until the button is released, and this change                        jack and the internal analog microphone. This could poten-
in state generates an event on the jack detection change                         tially result in a headset being reported as headphones.
flag (JDET). This event is used to trigger the appropriate                       A Schottky diode with a very low forward drop (case 2)
action associated with the key press.                                            can be inserted in series with the external pullup resis-
                                                                                 tance. When MICBIAS is disabled, the Schottky diode
Jack Detection with Internal Analog                                              is reverse biased and the current path is blocked. When
Microphones                                                                      MICBIAS is enabled, the diode is forward biased and the
If the application requires fixed internal analog                                external pullup to mic bias functions as detailed in Figure
microphone(s), and must also detect, identify, and oper-                         46. The diode does introduce a series voltage drop, and
ate with a headset microphone, the general jack detec-                           the MICBIAS voltage and/or the series resistance value
tion application circuit (Figure 44) does not operate as                         might need to be adjusted to compensate and ensure that
expected. The complication introduced by an internal                             the headset MIC is properly biased. Alternatively, a switch
analog microphone is detailed in Figure 47.                                      can be used in series either above or below the internal
When no jack is inserted (case 1) the internal pullup resis-                     analog microphone to break the bias current path when
tance attempts to pull JACKSNS above the load sense                              MICBIAS is disabled.
www.maximintegrated.com                                                                                                                 Maxim Integrated │ 160


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Table 83. Jack Detect Configuration Register
           ADDRESS: 0x3D
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
                                 Jack Detect Enable
  7        JDETEN        R/W  0   0: Jack detect circuitry disabled
                                  1: Jack detect circuitry enabled
                                 JACKSNS Pullup Configuration
                                  0: 2.4kΩ resistor to SPKVDD (allows microphone detection)
  6         JDWK         R/W  0
                                  1: 5µA to SPKVDD (minimizes supply current)
                                 Valid when MICBIAS = 0 or SHDN = 0.
  5           —           —   —  —
  4           —           —   —  —
  3           —           —   —  —
  2           —           —   —  —
  1                           0  Jack Detect Debounce
                                 Configures the jack detect debounce time:
          JDEB[1:0]      R/W
                                  00: 25ms                   10: 100ms
  0                           0   01: 50ms                   11: 200ms
Table 84. Jack Status Register
           ADDRESS: 0x02
                                                                       DESCRIPTION
 BIT        NAME        TYPE POR
  7           —           —   —  —
  6           —           —   —  —
  5           —           —   —  —
  4           —           —   —  —
  3           —           —   —  —
                                 Microphone Load Sense (Valid Only if JDETEN = 1)
                                  0: VJACKSNS ≤ 0.95V x VSUPPLY
                                  1: VJACKSNS > 0.95V x VSUPPLY
  2          LSNS         R   0
                                 VSUPPLY is determined by the state of MBEN and SHDN so that:
                                  MBEN = 0 or SHDN = 0: VSUPPLY = VSPKVDD (internal pullup)
                                  MBEN = 1 and SHDN = 1: VSUPPLY = VMICBIAS (external pullup)
                                 Jack Connection Sense (Valid Only if JDETEN = 1)
                                  0: VJACKSNS < 0.1V x VSUPPLY
                                  1: VJACKSNS ≥ 0.1V x VSUPPLY
  1         JKSNS         R   0
                                 VSUPPLY is determined by the state of MBEN and SHDN so that:
                                  MBEN = 0 or SHDN = 0: VSUPPLY = VSPKVDD (internal pullup)
                                  MBEN = 1 and SHDN = 1: VSUPPLY = VMICBIAS (external pullup)
  0           —           —   —  —
www.maximintegrated.com                                                                       Maxim Integrated │ 161


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Quick Setup Configuration                                              shared data path as part of a single sequence. This type
The quick setup configuration registers provide simple                 of sequence might not produce the desired results as later
device configuration options for commonly used signal                  quick setup bits may overwrite registers programmed by
paths and settings. Each quick setup register contains                 earlier selections.
write only, push-button configuration bits. When written               The digital audio interface (DAI) quick setup register
high, a quick configuration bit will internally set all other          (Table 85) is used to select the DAI data format. The
appropriate register bits to program the device to the                 configurations in this register program the master mode
selected configuration. Writing a logical low to a quick               clock configuration register (Table 40), the DAI format
configuration bit has no effect, and when read back all                configuration register (Table 51), and the DAI TDM control
quick configuration bits always show a logic-low.                      register (Table 52).
Quick setup bits change the state of registers appropriate             The playback path quick setup register (Table 86) is
to the selected configuration only. As such, they do not               used to configure the digital playback path and to select
remove or reset existing device settings that do not share             and program an analog output. The configuration bits in
the same configuration registers. This allows comple-                  this register program the DAI I/O configuration register
mentary selections from several different quick configura-             (Table 50), the output enable register (Table 8), and the
tion registers to be used together in a logical sequence               selected analog output mixer, volume, and control regis-
to configure the device. Do not combine multiple quick                 ters (headphones, receiver, speaker, or line output).
setup bits that configure either the same section or any
Table 85. Digital Audio Interface (DAI) Quick Setup Register
            ADDRESS: 0x06
                                                                                  DESCRIPTION
  BIT        NAME          TYPE   POR
   7            —           —       —     —
   6            —           —       —     —
   5          RJ_M          W        0    Sets up DAI for right-justified master mode operation.
   4           RJ_S         W        0    Sets up DAI for right-justified slave mode operation.
   3           LJ_M         W        0    Sets up DAI for left-justified master mode operation.
   2           LJ_S         W        0    Sets up DAI for left-justified slave mode operation.
   1         I2S_M          W        0    Sets up DAI for I2S master mode operation.
   0          I2S_S         W        0    Sets up DAI for I2S slave mode operation.
Table 86. Playback Path Quick Setup Register
            ADDRESS: 0x07
                                                                                  DESCRIPTION
  BIT        NAME          TYPE   POR
   7        DIG2_HP         W        0    Sets up the DAC to headphone path.
   6       DIG2_EAR         W        0    Sets up the DAC to receiver path.
   5       DIG2_SPK         W        0    Sets up the DAC to speaker path
   4       DIG2_LOUT        W        0    Sets up the DAC to line out path.
   3            —           —       —     —
   2            —           —       —     —
   1            —           —       —     —
   0            —           —       —     —
www.maximintegrated.com                                                                                      Maxim Integrated │ 162


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
The analog microphone/direct input to record path quick             The line input to record path quick setup register (Table 88)
setup register (Table 87) is used to select and program             is used to program the analog input and to configure the
an analog input and to configure the digital record path.           digital record path. The configuration bits in this register
The configuration bits in this register program the DAI I/O         program the DAI I/O configuration register (Table 50), the
configuration register (Table 50), the input enable register        input enable register (Table 7), and the appropriate input
(Table 7), and the appropriate input mixer, volume, and con-        mixer, volume, and control registers (single-ended or dif-
trol registers (analog microphone or direct to ADC mixer).          ferential line input).
Table 87. Analog Microphone/Direct Input to Record Path Quick Setup Register
               ADDRESS: 0x08
                                                                                DESCRIPTION
  BIT           NAME        TYPE    POR
   7         IN12_MIC1        W      0    Sets up the IN1/IN2 to microphone 1 to ADCL path
   6         IN34_MIC2        W      0    Sets up the IN3/IN4 to microphone 2 to ADCR path
   5              —          —       —    —
   4              —          —       —    —
   3        IN12_DADC         W      0    Sets up the IN1/IN2 direct to ADCL path
   2        IN34_DADC         W      0    Sets up the IN3/IN4 direct to ADCR path
   1        IN56_DADC         W      0    Sets up the IN5/IN6 direct to ADCL path
   0              —          —       —    —
Table 88. Line Input to Record Path Quick Setup Register
               ADDRESS: 0x09
                                                                                DESCRIPTION
  BIT           NAME        TYPE    POR
   7          IN12S_AB        W      0    Sets up stereo single-ended record: IN1/IN2 to line in A/B to ADCL/R
   6          IN34S_AB        W      0    Sets up stereo single-ended record: IN3/IN4 to line in A/B to ADCL/R
   5          IN56S_AB        W      0    Sets up stereo single-ended record: IN5/IN6 to line in A/B to ADCL/R
   4           IN34D_A        W      0    Sets up mono differential record: IN3/IN4 to line in A to ADCL
   3           IN65D_B        W      0    Sets up mono differential record: IN6/IN5 to line in B to ADCR
   2              —          —       —    —
   1              —          —       —    —
   0              —          —       —    —
www.maximintegrated.com                                                                                     Maxim Integrated │ 163


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
The analog microphone input to analog output quick                  The line input to analog output quick setup register
setup register (Table 89) is used to configure the analog           (Table 90) is used to configure the analog input and to
input and to select and program an analog output. The               select and program an analog output. The configuration
configuration bits in this register program the input enable        bits in this register program the input enable register
register (Table 7), the output enable register (Table 8),           (Table 7), the output enable register (Table 8), and the
and the appropriate input and output mixer, volume, and             appropriate input and output mixer, volume, and control
control registers (analog microphone and either the head-           registers (line input and either the headphones, speaker,
phones, speaker, receiver, or line output).                         receiver, or line output).
Table 89. Analog Microphone Input to Analog Output Quick Setup Register
             ADDRESS: 0x0A
                                                                                  DESCRIPTION
  BIT         NAME           TYPE    POR
   7       IN12_M1HPL          W       0  Sets up the IN1/IN2 differential to microphone 1 to headphone left path
   6      IN12_M1SPKL          W       0  Sets up the IN1/IN2 differential to microphone 1 to speaker left path
   5       IN12_M1EAR          W       0  Sets up the IN1/IN2 differential to microphone 1 to receiver path
   4     IN12_M1LOUTL          W       0  Sets up the IN1/IN2 differential to microphone 1 to lineout left path
   3       IN34_M2HPR          W       0  Sets up the IN3/IN4 differential to microphone 2 to headphone right path
   2      IN34_M2SPKR          W       0  Sets up the IN3/IN4 differential to microphone 2 to speaker right path
   1       IN34_M2EAR          W       0  Sets up the IN3/IN4 differential to microphone 2 to receiver path
   0     IN34_M2LOUTR          W       0  Sets up the IN3/IN4 differential to microphone 2 to lineout right path
Table 90. Line Input to Analog Output Quick Setup Register
             ADDRESS: 0x0B
                                                                                  DESCRIPTION
  BIT         NAME           TYPE    POR
   7       IN12S_ABHP          W       0  Sets up the IN1/IN2 single ended to line In A/B to headphone L/R path
   6      IN34D_ASPKL          W       0  Sets up the IN3/IN4 differential to line in A to speaker left path
   5       IN34D_AEAR          W       0  Sets up the IN3/IN4 differential to line in A to receiver path
   4     IN12S_ABLOUT          W       0  Sets up the IN1/IN2 single ended to line in A/B to lineout L/R path
   3       IN34S_ABHP          W       0  Sets up the IN3/IN4 single ended to line in A/B to headphone L/R path
   2      IN65D_BSPKR          W       0  Sets up the IN6/IN5 differential to line in B to speaker right path
   1       IN65D_BEAR          W       0  Sets up the IN6/IN5 differential to line in B to receiver path
   0     IN34S_ABLOUT          W       0  Sets up the IN3/IN4 single ended to line in A/B to lineout L/R path
www.maximintegrated.com                                                                                         Maxim Integrated │ 164


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Device Status Flags                                                    either by polling register 0x01, or by configuring IRQ to pull
The device uses register 0x01 (Table 91) and IRQ to report             low when specific events occur. IRQ is an open-drain out-
the status of various device functions. The status register            put that requires a pullup resistor (10kΩ nominal) for proper
bits are set when their respective events occur, and cleared           operation. When first exiting shutdown (into normal opera-
upon reading the register. Device status can be determined             tion), other status flags may assert based on the device
                                                                       settings, register sequencing, and clock sequencing.
Table 91. Device Status Interrupt Register
             ADDRESS: 0x01
                                                                                   DESCRIPTION
  BIT         NAME          TYPE    POR
                                          Clipping Detect Flag
                                             0: No clipping has occurred.
                                             1: Digital record / playback clipping has occurred.
   7           CLD           CoR     0    CLD asserts when the digital record or playback path is clipping due to signal amplitude
                                          exceeding full-scale. This condition is detected at the record path gain control output
                                          (AVLG/AVRG), the playback path gain control output (DVG), and the parametric equalizer
                                          output. To resolve, adjust the gain settings near these detection points.
                                          Slew Level Detect Flag
                                             0: No volume slewing sequences have completed.
                                             1: All volume / level slewing complete.
                                          SLD asserts when any one (or more) of the programmable-gain analog output volume
   6           SLD           CoR     0
                                          controllers or digital level control arrays has completed slewing from a previous setting
                                          to a new programmed setting. If multiple settings are changed at the same time, in either
                                          the analog or digital domain, the SLD flag will assert only after the last slew is completed.
                                          SLD also asserts when the serial interface soft-start or soft-stop process has completed.
                                          Digital Audio Interface (DAI) Phase Locked Loop (PLL) Unlock Flag
                                             0: PLL is locked (if enabled and operating properly).
                                             1: PLL is not locked (if enabled and operating properly).
                                          ULK reports that the digital audio phase-locked loop for DAI is not locked. This condition
   5           ULK           CoR     0    only occurs in slave mode when the deviation on LRCLK relative to PCLK exceeds the
                                          lock on range (approximately 4 PCLK periods). This condition can also occur if PCLK
                                          is running and LRCLK has been stopped outside of shutdown. Deviation in BCLK (or
                                          shutting it down) will never trigger a ULK assertion. DAI input and output data may not be
                                          processed / clocked correctly if a ULK event occurs.
   4            —             —      —    —
   3            —             —      —    —
                                          Jack Configuration Change Flag
                                             0: No change in jack configuration.
                                             1: Jack configuration has changed.
   2          JDET           CoR     0
                                          JDET asserts anytime jack detection is enabled, and either LSNS or JKSNS changes
                                          state (Table 84). If jack detection is enabled, JDET will assert correctly even while the
                                          device is in the shutdown state. This allows JDET to generate wake on insert interrupts.
                                          DRC Compression Flag
   1         DRCACT          CoR     0       0: The DRC is either disabled or not in the compression region.
                                             1: The DRC is operating in the compression region.
                                          DRC Clipping Flag
   0         DRCCLP          CoR     0       0: The DRC is either disabled or no clipping has occurred.
                                             1: DRC clipping has occurred.
www.maximintegrated.com                                                                                         Maxim Integrated │ 165


MAX98091                                                               Ultra-Low Power Stereo Audio Codec
Status Flag Masking                                                 the corresponding bit high in the mask register to enable
Register 0x03, the device status interrupt mask register            hardware interrupts.
(Table 92) determines which bits in the device status inter-
rupt register (Table 91) can trigger a hardware interrupt
                                                                    Device Revision Identification
on IRQ (assert low). By default, all of the device status           The device provides a Revision ID Number register to
interrupts (except JDET) only set the corresponding                 allow the software to identify the current version of the
status bit and do not generate a hardware interrupt. Set            device. The current device revision ID value is 0x51.
Table 92. Device Status Interrupt Mask Register
             ADDRESS: 0x03
                                                                               DESCRIPTION
  BIT         NAME        TYPE    POR
                                         Clipping Detect Interrupt Enable
   7           ICLD        R/W      0     0: Clipping detection only sets CLD (0x01[7]).
                                          1: Clipping detection triggers IRQ and sets CLD (0x02[7]).
                                         Slew Level Detect Interrupt Enable
   6           ISLD        R/W      0     0: Slew level detection only sets SLD (0x01[6]).
                                          1: Slew level detection triggers IRQ and sets SLD (0x02[6]).
                                         Digital PLL Unlock Interrupt Enable
   5           IULK        R/W      0     0: PLL Unlock Condition only sets ULK (0x01[5]).
                                          1: PLL Unlock Condition triggers IRQ and sets ULK (0x02[5]).
   4             —          —      —     —
   3             —          —      —     —
                                         Jack Configuration Change Interrupt Enable
   2          IJDET        R/W      1     0: Changes in headset configuration only sets JDET (0x01[2]).
                                          1: Changes in headset configuration triggers IRQ and sets JDET (0x01[2]).
                                         DRC Compression Interrupt Enable
   1        IDRCACT        R/W      0     0: DRC compression only sets DRCACT (0x01[1]).
                                          1: DRC compression triggers IRQ and sets DRCACT (0x01[1]).
                                         DRC Clipping Interrupt Enable
   0        IDRCCLP        R/W      0     0: DRC clipping only sets DRCCLP (0x01[0]).
                                          1: DRC clipping triggers IRQ and sets DRCCLP (0x01[0]).
Table 93. Revision ID Number Register
             ADDRESS: 0xFF
                                                                               DESCRIPTION
  BIT         NAME        TYPE    POR
   7                                0
   6                                1
   5                                0
   4                                1    Read Back the Revision ID of the Device
           REV_ID[7:0]      R
   3                                0    The current revision ID is 0x51.
   2                                0
   1                                0
   0                                1
www.maximintegrated.com                                                                                  Maxim Integrated │ 166


MAX98091                                                         Ultra-Low Power Stereo Audio Codec
I2C Serial Interface                                          Bit Transfer
The MAX98091 features an I2C/SMBus-compatible,                One data bit is transferred during each SCL cycle. The
2-wire serial interface consisting of a serial data line      data on SDA must remain stable during the high period of
(SDA) and a serial clock line (SCL). SDA and SCL              the SCL pulse. Changes in SDA while SCL is high are con-
facilitate communication between the MAX98091 and the         trol signals. See the START and STOP Conditions section.
master at clock rates up to 400kHz. Figure 3 shows the        START and STOP Conditions
2-wire interface timing diagram. The master generates         SDA and SCL idle high when the bus is not in use. A mas-
SCL and initiates data transfer on the bus. The master        ter initiates communication by issuing a START condition.
device writes data to the MAX98091 by transmitting the        A START condition is a high-to-low transition on SDA
proper slave address followed by the register address and     with SCL high. A STOP condition is a low-to-high transi-
then the data word.                                           tion on SDA while SCL is high. A START condition from
Each transmit sequence is framed by a START (S) or            the master signals the beginning of a transmission to the
REPEATED START (Sr) condition and a STOP (P) condi-           MAX98091 (Figure 48). The master terminates transmis-
tion. Each word transmitted to the MAX98091 is 8 bits long    sion, and frees the bus, by issuing a STOP condition. The
and is followed by an acknowledge clock pulse. A master       bus remains active if a REPEATED START condition is
reading data from the MAX98091 transmits the proper           generated instead of a STOP condition.
slave address followed by a series of nine SCL pulses.
The MAX98091 transmits data on SDA in sync with the
                                                              Early STOP Conditions
master-generated SCL pulses. The master acknowl-              The MAX98091 recognizes a STOP condition at any point
edges receipt of each byte of data. Each read sequence        during data transmission except if the STOP condition
is framed by a START (S) or REPEATED START (Sr)               occurs in the same high pulse as a START condition. For
condition, a not acknowledge, and a STOP (P) condition.       proper operation, do not send a STOP condition during
SDA operates as both an input and an open-drain output.       the same SCL high pulse as the START condition.
A pullup resistor, typically greater than 500Ω, is required   Slave Address
on SDA. SCL operates only as an input. A pullup resistor,
                                                              The slave address is defined as the seven most sig-
typically greater than 500Ω, is required on SCL if there are
                                                              nificant bits (MSBs) followed by the read/write bit. For the
multiple masters on the bus, or if the single master has an
                                                              MAX98091, the seven most significant bits are 0010000.
open-drain SCL output. Series resistors in line with SDA
                                                              Setting the read/write bit to 1 (slave address = 0x21)
and SCL are optional. Series resistors protect the digital
                                                              configures the MAX98091 for read mode. Setting the
inputs of the MAX98091 from high voltage spikes on the
                                                              read/write bit to 0 (slave address = 0x20) configures the
bus lines, and minimize crosstalk and undershoot of the
                                                              MAX98091 for write mode. The address is the first byte
bus signals.
                                                              of information sent to the MAX98091 after the START
Table 94. Device I2C Slave Address                            condition.
   PART NUMBER        READ ADDRESS        WRITE ADDRESS
      MAX98091               0x21               0x20
                                              S              Sr                 P
                                SCL
                                SDA
Figure 48. START, STOP, and REPEATED START Conditions
www.maximintegrated.com                                                                             Maxim Integrated │ 167


MAX98091                                                                       Ultra-Low Power Stereo Audio Codec
Acknowledge                                                                is sent by the master after each read byte to allow data
The acknowledge bit (ACK) is a clocked 9th bit that                        transfer to continue. A not acknowledge is sent when the
the MAX98091 uses to handshake receipt each byte of                        master reads the final byte of data from the MAX98091,
data when in write mode (Figure 49). The MAX98091                          followed by a STOP condition.
pulls down SDA during the entire master-generated 9th                      Write Data Format
clock pulse if the previous byte is successfully received.
                                                                           A write to the MAX98091 includes transmission of a
Monitoring ACK allows for detection of unsuccessful data                   START condition, the slave address with the R /W bit set
transfers. An unsuccessful data transfer occurs if a receiv-               to 0, one byte of data to configure the internal register
ing device is busy or if a system fault has occurred. In the               address pointer, one or more bytes of data, and a STOP
event of an unsuccessful data transfer, the bus master                     condition. Figure 50 illustrates the proper frame format
retries communication. The master pulls down SDA dur-                      for writing one byte of data to the MAX98091. Figure 50
ing the 9th clock cycle to acknowledge receipt of data                     illustrates the frame format for writing n-bytes of data to
when the MAX98091 is in read mode. An acknowledge                          the MAX98091.
                                                                                     CLOCK PULSE FOR
                                       START                                        ACKNOWLEDGMENT
                                    CONDITION
                                  SCL                   1        2                  8         9
                                                                         NOT ACKNOWLEDGE
                                  SDA
                                                                              ACKNOWLEDGE
Figure 49. Acknowledge Timing
                                                                                                     ACKNOWLEDGE FROM MAX98091
                                                                                                B7   B6  B5   B4   B3   B2   B1  B0
               ACKNOWLEDGE FROM MAX98091                  ACKNOWLEDGE FROM MAX98091
   S              SLAVE ADDRESS           O   A              REGISTER ADDRESS              A                 DATA BYTE                A    P
                                   R/W                                                                         1 BYTE
                                                                                                 AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 50. Writing One Byte of Data to the MAX98091
                                                                   ACKNOWLEDGE FROM MAX98091            ACKNOWLEDGE FROM MAX98091
                                                                      B7 B6 B5 B4 B3 B2 B1 B0               B7 B6 B5 B4 B3 B2 B1 B0
      ACKNOWLEDGE FROM MAX98091       ACKNOWLEDGE FROM MAX98091
      S       SLAVE ADDRESS     O   A       REGISTER ADDRESS        A        DATA BYTE 1           A                DATA BYTE n        A  P
                           R/W                                                  1 BYTE                                1 BYTE
                                                                        AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 51. Writing n-Bytes of Data to the MAX98091
www.maximintegrated.com                                                                                                   Maxim Integrated │ 168


MAX98091                                                                     Ultra-Low Power Stereo Audio Codec
The slave address with the R /W bit set to 0 indicates that               The first byte transmitted from the MAX98091 is the con-
the master intends to write data to the MAX98091. The                     tents of register 0x00. Transmitted data is valid on the
MAX98091 acknowledges receipt of the address byte                         rising edge of SCL. The address pointer autoincrements
during the master-generated 9th SCL pulse.                                after each read data byte. This autoincrement feature
The second byte transmitted from the master configures                    allows all registers to be read sequentially within one con-
the MAX98091’s internal register address pointer. The                     tinuous frame. A STOP condition can be issued after any
pointer tells the MAX98091 where to write the next byte                   number of read data bytes. If a STOP condition is issued
of data. An acknowledge pulse is sent by the MAX98091                     followed by another read operation, the first data byte to
upon receipt of the address pointer data.                                 be read will be from register 0x00.
The third byte sent to the MAX98091 contains the data                     The address pointer can be preset to a specific register
that is written to the chosen register. An acknowledge                    before a read command is issued. The master presets the
pulse from the MAX98091 signals receipt of the data
                                                                          address pointer by first sending the MAX98091’s slave
byte. The address pointer autoincrements to the next
                                                                          address with the R/W bit set to 0 followed by the register
register address after each received data byte. This auto-
                                                                          address. A REPEATED START condition is then sent fol-
increment feature allows a master to write to sequential
registers within one continuous frame. The master signals                 lowed by the slave address with the R/W bit set to 1. The
the end of transmission by issuing a STOP condition.                      MAX98091 then transmits the contents of the specified
Register addresses greater than 0xE7 are reserved. Do                     register, and the address pointer autoincrements after
not write to these addresses.                                             transmitting the first byte.
                                                                          The master acknowledges receipt of each read byte
Read Data Format                                                          during the acknowledge clock pulse. The master must
Send the slave address with the R/W bit set to 1 to initiate              acknowledge all correctly received bytes except the last
a read operation. The MAX98091 acknowledges receipt                       byte. The final byte must be followed by a not acknowl-
of its slave address by pulling SDA low during the 9th SCL                edge from the master and then a STOP condition.
clock pulse. A START command followed by a read com-                      Figure 52 illustrates the frame format for reading one byte
mand resets the address pointer to register 0x00.                         from the MAX98091. Figure 53 illustrates the frame for-
                                                                          mat for reading multiple bytes from the MAX98091.
                                                                                                     NOT ACKNOWLEDGE FROM MASTER
         ACKNOWLEDGE FROM MAX98091    ACKNOWLEDGE FROM MAX98091        ACKNOWLEDGE FROM MAX98091
       S       SLAVE ADDRESS    O   A      REGISTER ADDRESS       A Sr       SLAVE ADDRESS       1   A         DATA BYTE          A  P
                           R/W                       REPEATED START                        R/W                  1 BYTE
                                                                                           AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 52. Reading One Byte of Data from the MAX98091
      ACKNOWLEDGE FROM MAX98091     ACKNOWLEDGE FROM MAX98091       ACKNOWLEDGE FROM MAX98091
     S       SLAVE ADDRESS    O   A      REGISTER ADDRESS       A Sr      SLAVE ADDRESS       1    A                 DATA BYTE         A
                         R/W                       REPEATED START                        R/W                          1 BYTE
                                                                                             AUTOINCREMENT INTERNAL REGISTER ADDRESS POINTER
Figure 53. Reading n-Bytes of Data from the MAX98091
www.maximintegrated.com                                                                                                Maxim Integrated │ 169


MAX98091                                                                                      Ultra-Low Power Stereo Audio Codec
Applications Information
Typical Application Circuits
Figures 54 and 55 are two example application circuits for the device. The external components shown are the minimum
required for the device to operate. Additional application specific components might be required.
                                                                1.8V                          1.2V                 3.7V
                                             1µF        0.1µF           10µF       1µF 1µF         1µF       10µF                  1µF
                                                   AVDD        HPVDD       DVDDIO            DVDD       SPKVDD           SPKVDD
                                          1.8V                                                                                          2.2µF
                                                                                                                                  REF
                                     10kΩ
                                                                                                                                        1µF
                 CONTROLLER                      IRQ                                                                              BIAS
                   INTERRUPT
                                                 SDA
               I2C INTERFACE
                                                 SCL
                                                                                                                                                           RECEIVER/
              MASTER CLOCK                       MCLK                                                                      RCVP/LOUTL                      LINE OUTPUT
                                                                                                                                                     16Ω/
            (10MHz TO 60MHz)
                                                                                                                          RCVN/LOUTR                 32Ω   (RECEIVER
                                                                                                                                                           BTL MODE)
                                                 BCLK
               DIGITAL AUDIO                     LRCLK                                                                                                     LEFT
                                                                                                                                SPKLP                 4Ω/
                   INTERFACE                                                                                                                               SPEAKER
                                                 SDIN                                                                           SPKLN                 8Ω
                    PORT (DAI)                                                                                                                             OUTPUT
                                                 SDOUT
                                                                                                                                SPKRP                      RIGHT
                                                                                                                                                      4Ω/
                               MICBIAS                                                                                                                     SPEAKER
                                                                                                                                SPKRN                 8Ω
                                                                                                                                                           OUTPUT
                          2.2kΩ                                                       MAX98091
                                          1µF
          ANALOG                                 IN1/DMD
    SINGLE-ENDED                          1µF
     MICROPHONE                                                                                                                    HPL
                                                 IN2/DMC
                                                                                                                                                        HEADPHONE
                                                                                                                                  HPR
                                                                                                                                                        OUTPUT JACK
                               MICBIAS
                                                                                                                                HPSNS
                            1kΩ
                                          1µF
                                                 IN3
          ANALOG
     DIFFERENTIAL                         1µF
     MICROPHONE
                                                 IN4
                                                                                                                              JACKSNS
                            1kΩ
                                                                                                                                                   2.2kΩ
                                                                                                                               MICBIAS
                                         1µF
                                                                                                                                                    1µF
                  LINE INPUT/                    IN5/DMD2
                    EXTERNAL                                                                                                           MICBIAS
                                         1µF
                MICROPHONE
                                                 IN6/DMC2
                                                   AGND     HPGND    DGND    SPKLGND SPKRGND CPVDD       CPVSS       C1N        C1P
                                                                                                                          1µF
                                                                                                    1µF        1µF
Figure 54. Typical Application Circuit with Analog Microphone Inputs and Receiver Output
www.maximintegrated.com                                                                                                                        Maxim Integrated │ 170


MAX98091                                                                            Ultra-Low Power Stereo Audio Codec
                                                    1.8V                           1.2V               3.7V
                                1µF       0.1µF             10µF       1µF   1µF        1µF      10µF                 1µF
                                      AVDD         HPVDD      DVDDIO              DVDD      SPKVDD         SPKVDD         2.2µF
                             1.8V
                                                                                                                   REF
                        10kΩ                                                                                              1µF
                                                                                                                   BIAS
       CONTROLLER                   IRQ
         INTERRUPT
                                    SDA
                                                                                                                          1µF
     I2C INTERFACE
                                    SCL                                                                     RCVP/LOUTL                     RECEIVER/
                                                                                                                                           LINE OUTPUT
                                                                                                                          1µF
    MASTER CLOCK                    MCLK                                                                                                   (SINGLE-ENDED
  (10MHz TO 60MHz)                                                                                         RCVN/LOUTR                      LINE OUT MODE)
                                    BCLK
                                                                                                                 SPKLP                     LEFT
                                    LRCLK                                                                                            4Ω/
      DIGITAL AUDIO                                                                                                                        SPEAKER
                                                                                                                 SPKLN               8Ω
         INTERFACE                                                                                                                         OUTPUT
                                    SDIN
          PORT (DAI)
                                    SDOUT
                                                                           MAX98091                              SPKRP                     RIGHT
                                                                                                                                     4Ω/
             DIGITAL                                                                                                                       SPEAKER
                       DATA         IN1/DMD1                                                                     SPKRN               8Ω
     MICROPHONE 1                                                                                                                          OUTPUT
                LEFT
                     CLOCK
                                                                                                                    HPL
             DIGITAL   DATA
     MICROPHONE 1                                                                                                                        HEADPHONE
                                                                                                                   HPR
               RIGHT                                                                                                                     OUTPUT JACK
                     CLOCK          IN2/DMC1
                                                                                                                 HPSNS
             DIGITAL  DATA          IN5/DMD2
    MICROPHONE 2
                LEFT
                     CLOCK
             DIGITAL  DATA                                                                                     JACKSNS
    MICROPHONE 2
              RIGHT                                                                                                                 2.2kΩ
                     CLOCK          IN6/DMC2
                            1µF                                                                                 MICBIAS
                                    IN3                                                                                              1µF
      DIFFERENTIAL
          LINE INPUT        1µF
                                    IN4
                                      AGND     HPGND     DGND    SPKLGND SPKRGND CPVDD      CPVSS      C1N        C1P
                                                                                                           1µF
                                                                                        1µF       1µF
Figure 55. Typical Application Circuit with Digital Microphone Input and Stereo Line Outputs
www.maximintegrated.com                                                                                                         Maxim Integrated │ 171


MAX98091                                                                  Ultra-Low Power Stereo Audio Codec
Startup/Shutdown Register Sequencing                                   5) If volume smoothing is disabled (Table 81), ramp the
To ensure proper device initialization and minimal click-                  volume up, one register step at a time, from the mini-
and-pop, program the devices control registers in the                      mum setting until the desired volume (gain) is reached
correct order. To shut down the device, simply set                         (this sequence is part of the example in Table 95). If
SHDN = 0. Table 95 details an example startup sequence                     volume smoothing is enabled, this sequence is auto-
for the device. To minimize click and pop on the analog                    matically implemented and the desired volume (gain)
output drivers (headphones, speakers, receiver, and line                   can be programmed in a single step.
outputs), the output drivers should be powered using the               While many configuration options and settings can be
following sequence:                                                    changed while the device is operating (SHDN = 1),
1) Prior to powering the device (SHDN = 0) and before                  some settings should only be adjusted with the device
    enabling the outputs, the output driver mute(s) should             in shutdown (SHDN = 0). Table 96 lists the registers and
    be enabled and the PGA gain(s) should be set to their              bits that should not be changed during active operation.
    lowest setting.                                                    Changing these settings during normal operation (SHDN
                                                                       = 1) can compromise device stability and performance
2) After all configuration settings are complete, power up             specifications. All external clocks (MCLK in master mode
    the device (SHDN = 1).                                             and MCLK, LRCLK, and BCLK in slave mode) must
3) Enable any analog outputs that are part of the desired              be running and stable before the device is taken out of
    configuration.                                                     shutdown. If the clocks are enabled or changed while
4) Disable the mute on each respective analog output.                  the device is active (not in shutdown) phase errors and
                                                                       audible glitches may be introduced.
Table 95. Detailed Device Startup Sequence
  SEQUENCE                                  DESCRIPTION                                                REGISTERS
        1         Set SHDN = 0                                                                   0x45 (Default POR State)
        2         Configure Clocks (also enable all external clocks)                                   0x1B to 0x21
        3         Configure Digital Audio Interface (DAI)                                              0x22 to 0x25
        4         Configure Digital Signal processing (DSP)                           0x17 to 0x1A, 0x26 to 0x28, 0x33 to 0x36, 0x41
        5         Load Coefficients                                                                    0x46 to 0xBD
        6         Configure Power and Bias Mode                                                        0x42 to 0x44
                                                                                        0x0D, 0x15, 0x16, 0x29, 0x2A, 0x2B, 0x2E,
        7         Configure Analog Mixers
                                                                                                     0x2F, 0x37, 0x3A
                  Configure Analog Gain and Volume Controls. To Minimize Click
                                                                                        0x0E to 0x11, 0x2B to 0x2D, 0x30 to 0x32,
        8         and Pop for Analog Outputs, Enable Mute and Set the Output
                                                                                                  0x38, 0x39, 0x3B, 0x3C
                  PGAs to the minimum gain setting.
        9         Configure Miscellaneous Functions                                            0x03, 0x12, 0x13, 0x14, 0x40
        11        Set SHDN = 1 (Power Up)                                                                  0x45
       10         Enable Desired Functions                                                             0x3D to 0x3F
        11        Disable Mute on Analog Output Drivers                                    0x2C, 0x2D, 0x31, 0x32, 0x39, 0x3C
                  For all Analog Output Drivers, if Gain Smoothing is Disabled
                  Ramp the Gain up One Volume Step per Write until the Desired                      0x30 to 0x32, 0x38,
       12
                  Gain is Reached. If it is Enabled, Program the Desired Gain in a                   0x39, 0x3B, 0x3C
                  Single Step.
Table 96. Register Changes that Require SHDN = 0
                            DESCRIPTION                                                         REGISTER
  Clock and DAI Control Registers                                                     0x04, 0x05, 0x1B to 0x26, 0xC1
  DAC/ADC Enables (only these bits)                                                             0x3E, 0x3F
  Bias/DAC/ADC Control                                                                         0x42 to 0x44
  Digital Signal Processing Coefficients                                      0x33 to 0x35, 0x41, 0x46 to 0xBD, 0xC3 to 0xD1
  Digital Microphone Configuration                                                           0x13, 0x14, 0xC2
www.maximintegrated.com                                                                                         Maxim Integrated │ 172


MAX98091                                                          Ultra-Low Power Stereo Audio Codec
External Supply Sequencing                                    Table 97. Power-On Reset Voltage
When powering-up the device, there is no requirement for                  SUPPLY                     POR VOLTAGE
sequence with which each supply is applied. All supplies                   AVDD                           1.0V
must be brought to their normal voltage before the part
                                                                          HPVDD                         NO POR
can be configured for proper operation. The part should
                                                                           DVDD                           1.0V
be placed into software shutdown before any supplies are
removed to avoid audible artifacts. Register settings are                 DVDDIO                        NO POR
retained as long as supply voltages are kept above the                    SPKVDD                          1.2V
power-on-reset voltages listed in Table 97.
                                                              The holding capacitor (bypassing HPVSS) value and ESR
Component Selection
                                                              directly affect the ripple at HPVSS. Increasing the capaci-
AC-Coupling Capacitors                                        tor’s value reduces output ripple. Likewise, decreasing
An input capacitor, CIN, in conjunction with the input        the ESR reduces both ripple and output resistance. Lower
impedance of the device line inputs forms a highpass          capacitance values can be used in systems with low maxi-
filter that removes the DC bias from an incoming analog       mum output power levels. See the Output Power vs. Load
signal. The AC-coupling capacitor allows the amplifier        Resistance graph in the Typical Operating Characteristics
to automatically bias the signal to an optimum DC level.      section for more information.
Assuming very low source impedance (comparatively),           Filterless Class D Speaker Operation
the -3dB point of the highpass filter is given by:
                                                              Traditional Class D amplifiers require an output filter to
                                    1                         recover the audio signal from the amplifier’s output. The
                   f −3dB =
                            2π × R IN × C IN                  filters add cost, increase the solution size of the amplifier,
                                                              and can decrease efficiency and THD+N performance.
Choose CIN such that f-3dB is well below the lowest fre-      The traditional PWM scheme uses large differential out-
quency of interest. For best audio quality, use capacitors    put swings (2 x SPKVDD peak to peak) and causes large
whose dielectrics have low-voltage coefficients, such         ripple currents. Any parasitic resistance in the filter com-
as tantalum or aluminum electrolytic. Capacitors with         ponents results in a loss of power, lowering the efficiency.
high-voltage coefficients, such as ceramics, can result
in increased distortion at low frequencies. If needed, line   For typical applications (such as handsets, tablets, etc.)
output AC-coupling capacitor values can be calculated in      where the trace length from driver the speaker is short
similar fashion by using the input resistance of the next     and low impedance, the device does not require an output
stage connected to the line output drivers.                   filter. The device relies on the inherent inductance of the
                                                              speaker coil and the natural filtering of both the speaker
Charge-Pump Capacitor Selection                               and the human ear to recover the audio component of the
Use capacitors with an ESR less than 100mΩ for optimum        square-wave output. Eliminating the Class D output filter
performance. Low-ESR ceramic capacitors minimize              results in a smaller, less costly, and more efficient solution.
the output resistance of the charge pump. Most surface        In cases where the trace/wire length is long, and/or series
mount ceramic capacitors satisfy the ESR requirement.         resistance/inductance is high, an output LC filter might be
For best performance over the extended temperature            required. In such a case, if the nominal impedance of the
range, select capacitors with an X7R dielectric.              load is not constant over the entire audio band, a Zobel
                                                              (impedance matching) circuit might be required.
The value of the flying capacitor (connected between
C1N and C1P) affects the output resistance of the charge      Because the frequency of the IC’s output is well beyond
pump. A value that is too small degrades the device’s         the bandwidth of most speakers, voice coil movement due
ability to provide sufficient current drive, which leads to a to the square-wave frequency is very small. Although this
loss of output voltage. Increasing the value of the flying    movement is small, a speaker not designed to handle the
capacitor reduces the charge-pump output resistance to        additional power can be damaged. For optimum results,
an extent. Above 1µF, the on-resistance of the internal       use a speaker with a series inductance > 10µH. Typical
switches and the ESR of external charge pump capaci-          8Ω speakers exhibit series inductances in the 20µH to
tors dominate.                                                100µH range.
www.maximintegrated.com                                                                               Maxim Integrated │ 173


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
EMI Considerations and Optional
Ferrite Bead Filter
Reducing trace length minimizes radiated EMI. On the                             SPK_P
PCB, route SPKLP/SPKLN and SPKRP/SPKRN as differ-                    MAX98091
ential pairs with the shortest trace lengths possible. This                      SPK_N
minimizes trace loop area, and thereby, the inductance of
the circuit. If filter components are used on the speaker
outputs, minimize the trace length from any ground tied
passive components to SPK_GND to further minimize
                                                            Figure 56. Optional Class D Ferrite Bead EMI Filter
radiated EMI.
In applications where speaker leads/wires are long
(exceeding approximately 12in), additional EMI suppres-
sion can be achieved by using a filter constructed from a                           HPL
ferrite bead and a capacitor to ground (Figure 56). Use
                                                                                   HPR
a ferrite bead with low DC resistance, high frequency (>
600MHz) impedance between 100Ω and 600Ω, and rated                               HPSNS
for at least 1A. The capacitor value varies based on the                 MAX98091
ferrite bead chosen and the actual speaker lead length.
Select a capacitor less than 1nF with the value based                          JACKSNS
upon optimizing EMI performance.
RF Susceptibility
GSM radios transmit using time-division multiple access
                                                            Figure 57. Optional Class H Output RFI Filter
(TDMA) with 217Hz intervals. The result is an RF signal
with strong amplitude modulation at 217Hz and its har-
monics that is easily demodulated by audio amplifiers.      should primarily be ground planes to create effective
The device is designed specifically to reject RF signals;   shielding.
however, PCB layout has a large impact on the suscepti-     Additional RF immunity can also be obtained by rely-
bility of the end product.                                  ing on the self-resonant frequency of capacitors, as it
In RF applications, improvements to both layout and         exhibits a frequency response similar to a notch filter.
component selection decreases the susceptibility to RF      Depending on the manufacturer, 10pF to 20pF capacitors
noise and prevent RF signals from being demodulated         typically exhibit self-resonance at RF (high) frequencies.
into audible noise. Trace lengths should be kept below      These capacitors, when placed at the input pins, can
1/4 of the wavelength of the RF frequency of interest.      effectively shunt the RF noise at the inputs of the device.
Minimizing the trace lengths prevents them from function-   For these capacitors to be effective, they must have a
ing as antennas and coupling RF signals into the device.    low-impedance, low-inductance path to the ground plane.
The wavelength (λ) in meters is given by: λ = c/f, where c  Avoid using micro vias to connect to the ground plane as
= 3 x 108 m/s, and f = the RF frequency of interest.        these vias do not conduct well at RF frequencies. At the
Route audio signals on inner layers of the PCB to allow     Headphone outputs, additional RFI can be achieved by
ground planes above and below to shield them from RF        using series ferrite beads with series capacitors to ground
interference. Ideally the top and bottom layers of the PCB  (Figure 57).
www.maximintegrated.com                                                                             Maxim Integrated │ 174


MAX98091                                                             Ultra-Low Power Stereo Audio Codec
                  LAYER 1                                  LAYER 2                                     LAYER 3
Figure 58. PCB Breakout Routing Example for WLP Package
Supply Bypassing, Layout, and Grounding                            making the output (headphone output, ground) noise free.
Proper layout and grounding are essential for optimum              Connect HPSNS to the headphone jack shield to ensure
performance. When designing a PCB layout, partition                accurate pickup of headphone ground noise.
the circuitry so that the analog sections of the device are        Bypass SPKVDD to SPK_GND with the shortest trace
separated from the digital sections. This ensures that the         length possible and connect SPKLP, SPKLN, SPKRP, and
analog audio traces are not routed near digital traces.            SPKRN to the stereo speakers using the shortest traces
Use a large continuous ground plane on a dedicated                 possible. If filter components are used on the speaker
layer of the PCB to minimize loop areas. Connect AGND,             outputs, be sure to locate them as close as possible to the
DGND, and HPGND directly to the ground plane using the             device to ensure maximum effectiveness.
shortest trace length possible. Proper grounding improves          Route microphone signals from the microphone to the
audio performance, minimizes crosstalk between chan-               device as a differential pair, ensuring that the positive
nels, and prevents any digital noise from coupling into the        and negative signals follow the same path as closely
analog audio signals.                                              as possible with equal trace length. When using single-
Ground the bypass capacitors on MICBIAS, BIAS and REF              ended microphones or other single-ended audio sources,
directly to the ground plane with minimum trace length.            ground the negative microphone input as near to the
Also be sure to minimize the path length to AGND, and              audio source as possible and then treat the positive and
bypass AVDD directly to AGND. Connect all digital I/O ter-         negative traces as differential pairs.
mination to the ground plane with minimum path length to           An evaluation kit (EV Kit) is available to provide an exam-
DGND, and bypass DVDD and DVDDIO directly to DGND.                 ple layout. The EV Kit allows quick setup of the device
Place the capacitor between C1P and C1N as close as                and includes easy-to-use software allowing all internal
possible to the device to minimize trace length from C1P           registers to be controlled.
to C1N. Inductance and resistance added between C1P                Recommended PCB Routing
and C1N reduce the output power of the headphone
                                                                   The IC uses a 56-bump Wafer level package (WLP) pack-
amplifier. Bypass HPVDD, CPVDD and CPVSS with
                                                                   age. Figure 58 provides an example of how to connect
capacitors located close to the pin with short trace lengths
                                                                   to all active bumps using 3 layers of the PCB. To ensure
to HPGND. Close decoupling of CPVDD and CPVSS
                                                                   uninter­rupted ground returns, use layer 2 as a connecting
minimizes supply ripple and maximizes output power from
                                                                   or dog-bone layer between layer 1 and layer 3, and flood
the headphone amplifier.
                                                                   the remaining area with a copper ground plane.
HPSNS senses ground noise on the headphone jack and
adds the same noise to the output audio signal, thereby
www.maximintegrated.com                                                                                   Maxim Integrated │ 175


MAX98091                                                       Ultra-Low Power Stereo Audio Codec
Unused Pins
Table 98 shows how to connect the devices unused pins when circuit blocks are disabled. If the system is extremely noisy
or there is a concern that unused analog inputs might be enabled, then alternatively unused analog audio inputs can be
AC coupled to AGND (if component cost and area allow it).
Table 98. Unused Pin Connections
           PIN NAME                   CONNECTION                     PIN NAME                      CONNECTION
                       SUPPLY PLANES                                          ANALOG AUDIO OUTPUTS
              AVDD                   Always connect                       HPL                       Unconnected
             AGND                    Always connect                      HPR                        Unconnected
             HPVDD                   Always connect                    HPSNS                          AGND
            HPGND                    Always connect                     SPKLP                       Unconnected
             DVDD                    Always connect                    SPKLN                        Unconnected
            DVDDIO                   Always connect                    SPKRP                        Unconnected
             DGND                    Always connect                    SPKRN                        Unconnected
                                                                    RCVP / LOUTL                    Unconnected
            SPKVDD                   Always connect                RCVN / LOUTR                     Unconnected
                                                                             DIGITAL AUDIO INTERFACE
           SPKLGND                   Always connect                      SDIN                         DGND
           SPKRGND                   Always connect                    SDOUT                        Unconnected
                        CHARGE PUMP                                     MCLK                      Always connect
             CPVDD                     Unconnected                      LRCLK                         DGND
             CPVSS                     Unconnected                       BCLK                         DGND
               C1P                     Unconnected                                I2C INTERFACE
               C1N                     Unconnected                        SCL                     Always connect
                   ANALOG AUDIO INPUTS                                   SDA                      Always connect
           IN1/DMD1                    Unconnected                        IRQ                       Unconnected
           IN2/DMC1                    Unconnected                                     OTHER
               IN3                     Unconnected                     MICBIAS                      Unconnected
               IN4                     Unconnected                    JACKSNS                       Unconnected
           IN5/DMD2                    Unconnected                       BIAS                     Always connect
           IN6/DMC2                    Unconnected                       REF                      Always connect
www.maximintegrated.com                                                                             Maxim Integrated │ 176


MAX98091                                                 Ultra-Low Power Stereo Audio Codec
Ordering Information                                  Package Information
         PART             TEMP RANGE      PIN-PACKAGE For the latest package outline information and land patterns
                                                      (footprints), go to www.maximintegrated.com/packages. Note
 MAX98091EWN+T           -40°C to +85°C       56 WLP  that a “+”, “#”, or “-” in the package code indicates RoHS status
 MAX98091ETM+T           -40°C to +85°C      48-TQFN  only. Package drawings may show a different suffix character, but
+Denotes a lead(Pb)-free/RoHS-compliant package.      the drawing pertains to the package regardless of RoHS status.
T = Tape and reel.
                                                        PACKAGE          PACKAGE         OUTLINE      LAND PATTERN
                                                           TYPE             CODE            NO.              NO.
                                                                                                           Refer to
Chip Information                                          56 WLP         W563D3-1         21-0672     Application Note
PROCESS: CMOS                                                                                               1891
                                                         48 TQFN          T4866+1         21-0141          90-0007
www.maximintegrated.com                                                                          Maxim Integrated │ 177


MAX98091                                                                                    Ultra-Low Power Stereo Audio Codec
Revision History
   REVISION         REVISION                                                                                                                           PAGES
                                                                                  DESCRIPTION
    NUMBER             DATE                                                                                                                          CHANGED
         0               5/13        Initial release                                                                                                       —
                                                                                                                                                    1, 12, 21, 23,
                                                                                                                                                   25–27, 31, 40,
                                                                                                                                                   41, 60, 66–68,
         1              10/13        Clarified device functionality and corrected minor errors                                                    84–90, 97, 101,
                                                                                                                                                   111, 116, 127,
                                                                                                                                                   128, 131, 132,
                                                                                                                                                   150, 166–170
                                                                                                                                                      1, 11–13,
                                                                                                                                                   16–17, 29, 30,
                                                                                                                                                   38–67, 86, 89–
                                                                                                                                                    91, 107, 108,
         2              11/14        Corrected various errors and made various updates
                                                                                                                                                   114–116, 122,
                                                                                                                                                   151, 152, 154,
                                                                                                                                                   156, 157, 170,
                                                                                                                                                       173, 174
FlexSound and DirectDrive are registered trademarks of Maxim Integrated Products, Inc.
For pricing, delivery, and ordering information, please contact Maxim Direct at 1-888-629-4642, or visit Maxim’s website at www.maximintegrated.com.
Maxim cannot assume responsibility for use of any circuitry other than circuitry entirely embodied in a Maxim product. No circuit patent licenses are implied. Maxim
reserves the right to change the circuitry and specifications without notice at any time. The parametric values (min and max limits) shown in the Electrical Character-
istics table are guaranteed. Other parametric values quoted in this data sheet are provided for guidance.
The Maxim logo and Maxim Integrated are trademarks of Maxim Integrated Products, Inc.                                          © 2013 Maxim Integrated │ 178


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Maxim Integrated:
 MAX98091EWN+T MAX98091ETM+ MAX98091ETM+T
