                                                                                                                          Wavescale Video Codec
                                                                                                                                                            ADV212
FEATURES                                                                                                   APPLICATIONS
Implementation of a JPEG2000-compatible video CODEC for                                                    Networked video and image distribution systems
     video and still images through the ADV212 Wavescale                                                   Wireless video and image distribution
     video compression/decompression engine                                                                Image archival/retrieval
Identical pinout and footprint to the ADV202; and support                                                  Digital CCTV and surveillance systems
     for all the functionality of the ADV202                                                               Digital cinema systems
Power reduction of at least 30% compared with ADV202                                                       Professional video editing and recording
JTAG/boundary scan support                                                                                 Digital still cameras
Patented spatial ultraefficient recursive filtering (SURF)                                                 Digital camcorders
     technology for low power, low cost wavelet-based
                                                                                                           GENERAL DESCRIPTION
     compression
Support for both 9/7 and 5/3 wavelet transforms with up to                                                 The ADV212 Wavescale® video compression/decompression
     5 levels of transform                                                                                 (CODEC) is a single-chip JPEG2000 CODEC targeted for video
9/7 wavelet support for tiles up to 1.048 million samples                                                  and high bandwidth image compression applications that can
5/3 wavelet support for tiles up to 262,144 samples                                                        benefit from the enhanced quality and features provided by the
Video interface direct support for ITU-R BT.656, SMPTE 125M                                                JPEG2000 (J2K) ISO/IEC15444-1 image compression standard.
     PAL/NTSC, SMPTE 274M, SMPTE 293M (525p), and ITU-R                                                    The part implements the computationally intensive operations
     BT.1358 (625p) or any video format with a maximum input                                               of the JPEG2000 image compression standard and provides
     rate of 65 MSPS for irreversible mode or 40 MSPS for                                                  fully compliant code stream generation for most applications.
     reversible mode                                                                                       The dedicated video port of the ADV212 provides glueless con-
Programmable tile/image size with widths of up to                                                          nection to common digital video standards such as ITU-R
     4096 pixels in single-component mode; maximum                                                         BT.656, SMPTE 125M, SMPTE 293M (525p), ITU-R BT.1358
     tile/image height of 4096 pixels                                                                      (625p), SMPTE 274M (1080i), and SMPTE 296M (720p). A
Ability to combine 2 or more ADV212s to support full-frame                                                 variety of other high speed, synchronous pixel and video
     SMPTE 274M HDTV (1080i) or SMPTE 296M (720p)                                                          formats can also be supported by using the programmable
Flexible, asynchronous SRAM-style host interface support                                                   framing and validation signals.
     for glueless connection to most 16-/32-bit microcontrollers
     and ASICs                                                                                             The ADV212 is an upgrade version of the ADV202, which is
2.5 V or 3.3 V input/output and 1.5 V core supply                                                          identical in pinout and footprint. It supports all of the func-
2 package and speed grade options                                                                          tionality of the ADV202 and has the following additional
     12 mm × 12 mm, 121-ball CSP_BGA with a speed grade of                                                 options: JTAG/boundary scan support and power reduction of
        115 MHz                                                                                            at least 30% compared with the ADV202.
13 mm × 13 mm, 144-ball CSP_BGA with a speed grade of
     150 MHz
Rev. B
Information furnished by Analog Devices is believed to be accurate and reliable. However, no
responsibility is assumed by Analog Devices for its use, nor for any infringements of patents or other
rights of third parties that may result from its use. Specifications subject to change without notice. No One Technology Way, P.O. Box 9106, Norwood, MA 02062-9106, U.S.A.
license is granted by implication or otherwise under any patent or patent rights of Analog Devices.       Tel: 781.329.4700                                  www.analog.com
Trademarks and registered trademarks are the property of their respective owners.                         Fax: 781.461.3113 ©2006–2010 Analog Devices, Inc. All rights reserved.


ADV212
TABLE OF CONTENTS
Features .............................................................................................. 1               Memory System .......................................................................... 25
Applications ....................................................................................... 1                  Internal DMA Engine ................................................................ 25
General Description ......................................................................... 1                      ADV212 Interfaces ......................................................................... 26
Revision History ............................................................................... 2                      Video Interface (VDATA Bus).................................................. 26
JPEG2000 Feature Support .............................................................. 3                               Host Interface (HDATA Bus) ................................................... 26
Functional Block Diagram .............................................................. 3                               Direct and Indirect Registers .................................................... 26
Specifications..................................................................................... 4                   Control Access Registers ........................................................... 27
  Supply Voltages and Current ...................................................... 4                                  Pin Configuration and Bus Sizes/Modes ................................ 27
  Input/Output Specifications........................................................ 4                                 Stage Register .............................................................................. 27
  Clock and RESET Specifications ................................................ 5                                     JDATA Mode............................................................................... 27
                                                                                                                        External DMA Engine ............................................................... 27
  Normal Host Mode—Write Operation ..................................... 6
                                                                                                                     Internal Registers ............................................................................ 28
  Normal Host Mode—Read Operation ...................................... 7
                                                                                                                        Direct Registers........................................................................... 28
  DREQ/DACK DMA Mode—Single FIFO Write Operation .. 8
                                                                                                                        Indirect Registers ........................................................................ 29
  DREQ/DACK DMA Mode—Single FIFO Read Operation . 10
                                                                                                                        PLL Registers .............................................................................. 30
  External DMA Mode—FIFO Write, Burst Mode .................. 12
                                                                                                                        Hardware Boot Modes and Power Considerations ............... 31
  External DMA Mode—FIFO Read, Burst Mode ................... 13
                                                                                                                     Video Input Formats ...................................................................... 32
  Streaming Mode (JDATA)—FIFO Read/Write ...................... 14
                                                                                                                     Applications Information .............................................................. 34
  VDATA Mode Timing ............................................................... 15
                                                                                                                        Encode—Multichip Mode......................................................... 34
  Raw Pixel Mode Timing ............................................................ 17
                                                                                                                        Decode—Multichip Master/Slave ............................................ 35
  JTAG Timing ............................................................................... 18
                                                                                                                        Digital Still Camera/Camcorder .............................................. 36
Absolute Maximum Ratings.......................................................... 19
                                                                                                                        Encode/Decode SDTV Video Application ............................. 37
  Thermal Resistance .................................................................... 19
                                                                                                                        32-Bit Host Application ............................................................. 38
  ESD Caution ................................................................................ 19
                                                                                                                        HIPI (Host Interface—Pixel Interface) ................................... 39
Pin Configurations and Function Descriptions ......................... 20
                                                                                                                        JDATA Interface ......................................................................... 40
Theory of Operation ...................................................................... 25
                                                                                                                     Outline Dimensions ....................................................................... 41
  Wavelet Engine ........................................................................... 25
                                                                                                                        Ordering Guide .......................................................................... 42
  Entropy CODECs ....................................................................... 25
  Embedded Processor System .................................................... 25
REVISION HISTORY
4/10—Rev. A to Rev. B                                                                                                4/08—Rev. 0 to Rev. A
Added Wavescale Information .................................... Throughout                                          Change to Table 1, Static Current Parameter.................................4
Changes to Features Section............................................................ 1
Changes to Table 16 ........................................................................ 20                      10/06—Revision 0: Initial Version
Changes to Video Interface (VDATA Bus) Section, Changes to
Table 17 ............................................................................................ 26
Changes to Hardware Boot Modes Section ................................ 31
Changes to Encode—Multichip Mode Section .......................... 34
                                                                                                    Rev. B | Page 2 of 44


                                                                                                                                  ADV212
The ADV212 can process images at a rate of 40 MSPS in                          JPEG2000 FEATURE SUPPORT
reversible mode and at higher rates when used in irreversible                  The ADV212 supports a broad set of features that are included
mode. The ADV212 contains a dedicated wavelet transform                        in Part 1 of the JPEG2000 standard (ISO/IEC 15444).
engine, three entropy CODECs, an on-board memory system,
and an embedded reduced instruction set computer (RISC)                        Depending on the particular application requirements, the
processor that can provide a complete JPEG2000 compression/                    ADV212 can provide varying levels of JPEG2000 compression
decompression solution.                                                        support. It can provide raw code block and attribute data
                                                                               output, which allows the host software to have complete control
The wavelet processor supports the 9/7 irreversible wavelet                    over generation of the JPEG2000 code stream and other aspects
transform and the 5/3 wavelet transform in reversible and                      of the compression process such as bit-rate control.
irreversible modes. The entropy CODECs support all features                    Additionally, the ADV212 can create a complete, fully
in the JPEG2000 Part 1 specification except maximum shift                      compliant JPEG2000 code stream (J2C) and enhanced file
region of interest (ROI).                                                      formats such as JP2.
The ADV212 operates on a rectangular array of pixel samples
called a tile. A tile can contain a complete image, up to the
maximum supported size, or some portion of an image. The
maximum horizontal tile size supported depends on the wavelet
transform selected and the number of samples in the tile.
Images larger than the ADV212 maximum tile size can be
broken into individual tiles and then sent sequentially to the
chip while maintaining a single, fully compliant JPEG2000 code
stream for the entire image.
                                               FUNCTIONAL BLOCK DIAGRAM
                                   PIXEL I/F                         WAVELET          EC1     EC2    EC3
                                                  PIXEL I/F           ENGINE
                                                 EXTERNAL
                                                 DMA CTRL
                                    HOST I/F     PIXEL FIFO            INTERNAL BUS AND DMA ENGINE
                                                 CODE FIFO
                                                 ATTR FIFO
                                                                   EMBEDDED
                                                                      RISC
                                                                                            RAM     ROM
                                                                                                           06389-001
                                                 ADV212            PROCESSOR
                                                                    SYSTEM
                                                                   Figure 1.
                                                              Rev. B | Page 3 of 44


ADV212
SPECIFICATIONS
Specifications apply to IOVDD = 2.5 V or 3.3 V over the operating temperature range, unless otherwise specified.
SUPPLY VOLTAGES AND CURRENT
Table 1.
Parameter                                                                             Mnemonic    Min       Typ      Max             Unit
DC Supply Voltage, Core                                                               VDD         1.425     1.5      1.575           V
DC Supply Voltage, Input/Output                                                       IOVDD       2.375     2.5      2.625           V
                                                                                      IOVDD       3.135     3.3      3.465           V
Input Range                                                                           VIN         −0.3               VDDI/O + 0.3    V
Operating Ambient Temperature Range in Free Air                                       T           −40       +25      +85             °C
Static Current 1                                                                      IDD                   60                       mA
Dynamic Current, Core (JCLK2 Frequency = 150 MHz)3                                                          380      440             mA
Dynamic Current, Core (JCLK2 Frequency = 108 MHz)                                                           280      320             mA
Dynamic Current, Core (JCLK2 Frequency = 81 MHz)                                                            210      290             mA
Dynamic Current, Input/Output                                                                               40       50              mA
1
  No clock or input/output activity.
2
  For a definition of JCLK, see Figure 32.
3
  ADV212-150 only.
INPUT/OUTPUT SPECIFICATIONS
Table 2.
Parameter                                        Mnemonic                    Min       Typ  Max Unit    Test Conditions
High Level Input Voltage                         VIH (3.3 V)                 2.2                V       VDD = maximum
                                                 VIH (2.5 V)                 1.9                V       VDD = maximum
Low Level Input Voltage                          VIL (3.3 V, 2.5 V)                         0.6 V       VDD = minimum
High Level Output Voltage                        VOH (3.3 V)                 2.4                V       VDD = minimum, IOH = −0.5 mA
                                                 VOH (2.5 V)                 2.0                V       VDD = minimum, IOH = −0.5 mA
Low Level Output Voltage                         VOL (3.3 V, 2.5 V)                         0.4 V       VDD = minimum, IOL = +2 mA
High Level Input Current                         IIH                                        1.0 µA      VDD = maximum, VIN = VDD
Low Level Input Current                          IIL                                        1.0 µA      VDD = maximum, VIN = 0 V
High Level Three-State Leakage Current           IOZH                                       1.0 µA      VDD = maximum, VIN = VDD
Low Level Three-State Leakage Current            IOZL                                       1.0 µA      VDD = maximum, VIN = 0 V
Input Pin Capacitance                            CI                                         8   pF
Output Pin Capacitance                           CO                                         8   pF
                                                                    Rev. B | Page 4 of 44


                                                                                                                              ADV212
CLOCK AND RESET SPECIFICATIONS
Table 3.
Parameter                                      Mnemonic                    Min            Typ   Max     Unit
MCLK Period                                    tMCLK                       13.3                 100     ns
MCLK Frequency                                 fMCLK                       10                   75.18   MHz
MCLK Width Low                                 tMCLKL                      6                            ns
MCLK Width High                                tMCLKH                      6                            ns
VCLK Period                                    tVCLK                       13.4                 50      ns
VCLK Frequency                                 fVCLK                       20                   74.60   MHz
VCLK Width Low                                 tVCLKL                      5                            ns
VCLK Width High                                tVCLKH                      5                            ns
RESET Width Low                                tRESET                      5                            MCLK cycles1
1
    For a definition of MCLK, see Figure 32.
                                                          tMCLK
                                                tMCLKL            tMCLKH
                      MCLK
                                                          tVCLK
                                                tVCLKL            tVCLKH
                                                                                                                  06389-010
                      VCLK
                                                                  Figure 2. Input Clock
                                                                  Rev. B | Page 5 of 44


ADV212
NORMAL HOST MODE—WRITE OPERATION
Table 4.
Parameter                                                                                    Mnemonic          Min         Typ   Max                 Unit
WE to ACK, Direct Registers and FIFO Accesses                                                tACK (direct)     5                 1.5 × JCLK + 7.01   ns
WE to ACK, Indirect Registers                                                                tACK (indirect)   5                 2.5 × JCLK + 7.01   ns
Data Setup                                                                                   tSD               3.0                                   ns
Data Hold                                                                                    tHD               1.5                                   ns
Address Setup                                                                                tSA               2                                     ns
Address Hold                                                                                 tHA               2                                     ns
CS to WE Setup                                                                               tSC               0                                     ns
CS Hold                                                                                      tHC               0                                     ns
Write Inactive Pulse Width (Minimum Time Until Next WE Pulse)                                tWH               2.5 JCLK1                             ns
Write Active Pulse Width                                                                     tWL               2.5 JCLK1                             ns
Write Cycle Time                                                                             tWCYC             5 JCLK1                               ns
1
    For a definition of JCLK, see Figure 32.
                                               tSA                               tHA
                        ADDR
                                               tSC                             tHC
                           CS
                                                                                     tWCYC
                                                             tWL                             tWH
                           WE
                                                     tACK
                          ACK
                                                                               tHD
                                                                   tSD
                       HDATA                                        VALID                                                                06389-012
                                                            Figure 3. Normal Host Mode—Write Operation
                                                                            Rev. B | Page 6 of 44


                                                                                                                                                             ADV212
NORMAL HOST MODE—READ OPERATION
Table 5.
Parameter                                                                   Mnemonic                Min                  Typ       Max                          Unit
RD to ACK, Direct Registers and FIFO Accesses                               tACK (direct)1          5                              1.5 × JCLK + 7.02            ns
RD to ACK, Indirect Registers                                               tACK (indirect)1        10.5 JCLK2                     15.5 × JCLK + 7.02           ns
Read Access Time, Direct Registers                                          tDRD (direct)           5                              1.5 × JCLK + 7.02            ns
Read Access Time, Indirect Registers                                        tDRD (indirect)         10.5 JCLK2                     15.5 × JCLK + 7.02           ns
Data Hold                                                                   tHZRD                   2                              8.5                          ns
CS to RD Setup                                                              tSC                     0                                                           ns
Address Setup                                                               tSA                     2                                                           ns
CS Hold                                                                     tHC                     0                                                           ns
Address Hold                                                                tHA                     2                                                           ns
Read Inactive Pulse Width                                                   tRH                     2.5 JCLK2                                                   ns
Read Active Pulse Width                                                     tRL                     2.5 JCLK2                                                   ns
Read Cycle Time, Direct Registers                                           tRCYC                   5.0 JCLK2                                                   ns
1
  Timing relationship between ACK falling transition and HDATA valid is not guaranteed. HDATA valid hold time is guaranteed with respect to RD rising transition.
  A minimum of three JCLK cycles is recommended between ACK assert and RD deassert.
2
  For a definition of JCLK, see Figure 32.
                                            tSA                                   tHA
                     ADDR
                                            tSC                             tHC
                        CS
                                                                                  tRCYC
                                                           tRL                            tRH
                        RD
                                                          tACK
                      ACK
                                                                 tDRD                   tHZRD
                    HDATA                                               VALID                                                                    06389-011
                                                            Figure 4. Normal Host Mode—Read Operation
                                                                            Rev. B | Page 7 of 44


ADV212
DREQ/DACK DMA MODE—SINGLE FIFO WRITE OPERATION
Table 6.
Parameter                                                                         Mnemonic                Min             Typ           Max                             Unit
DREQ Pulse Width                                                                  DREQPULSE               1 JCLK1                       15 JCLK1                        ns
DACK Assert to Subsequent DREQ Delay                                              tDREQ                   2.5 JCLK1                     3.5 × JCLK + 8.51               ns
WE to DACK Setup                                                                  tWESU                   0                                                             ns
Data to DACK Deassert Setup                                                       tSU                     2                                                             ns
Data to DACK Deassert Hold                                                        tHD                     2                                                             ns
DACK Assert Pulse Width                                                           DACKLOW                 2 JCLK1                                                       ns
DACK Deassert Pulse Width                                                         DACKHIGH                2 JCLK1                                                       ns
WE Hold After DACK Deassert                                                       tWEHD                   0                                                             ns
WE Assert to FSRQ Deassert (FIFO Full)                                            WFSRQ                   1.5 JCLK1                     2.5 × JCLK + 7.51               ns
DACK to DREQ Deassert (DR × PULS = 0)                                             tDREQRTN                2.5 JCLK1                     3.5 × JCLK + 9.01               ns
1
    For a definition of JCLK, see Figure 32.
                                               DREQPULSE
                                                             tDREQ
                       DREQ
                                                                      DACK HIGH
                                                        DACK LOW
                       DACK
                                                tWESU                                                                           tWEHD
                         WE
                                                                      tHD
                                                            tSU
                                                                                                                                                            06389-013
                      HDATA                                       0                   1                        2                            3
                                                 Figure 5. Single Write for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                       (EDMOD0/EDMOD1[14:1] Not Programmed to a Value of 0000)
                                                             tDREQ RTN
                       DREQ
                                                                      DACK HIGH
                                                        DACK LOW
                       DACK
                                                tWESU                                                                           tWEHD
                         WE
                                                                      tHD
                                                            tSU
                      HDATA                                       0                          1                        2                                     06389-014
                                                 Figure 6. Single Write for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                         (EDMOD0/EDMOD1[14:11] Programmed to a Value of 0000)
                                                                                  Rev. B | Page 8 of 44


                                                                                                                  ADV212
        DREQPULSE
                      tDREQ
DREQ
                               DACK HIGH
                 DACK LOW
DACK
         tWESU                                                                  tWEHD
WEFB
                               tHD
                     tSU
HDATA                      0                            1                2                            06389-015
                      Figure 7. Single Write Cycle for Fly-By DMA Mode
                           (DREQ Pulse Width Is Programmable)
 FCS0
   RD
                                     WFSRQ
          FIFO NOT FULL
FSRQ0                                                                        FIFO FULL
HDATA                      0                                1                            2
                                                                                                      06389-021
                    tSU        tHD                                              NOT WRITTEN TO FIFO
                      Figure 8. Single Write Access for DCS DMA Mode
                                           Rev. B | Page 9 of 44


ADV212
DREQ/DACK DMA MODE—SINGLE FIFO READ OPERATION
Table 7.
Parameter                                                                        Mnemonic               Min             Typ           Max                             Unit
DREQ Pulse Width                                                                 DREQPULSE              1 JCLK 1                      15 JCLK1                        ns
DACK Assert to Subsequent DREQ Delay                                             tDREQ                  2.5 JCLK1                     3.5 × JCLK + 9.01               ns
RD to DACK Setup                                                                 tRDSU                  0                                                             ns
DACK to Data Valid                                                               tRD                    2.5                           11                              ns
Data Hold                                                                        tHD                    1.5                                                           ns
DACK Assert Pulse Width                                                          DACKLOW                2 JCLK1                                                       ns
DACK Deassert Pulse Width                                                        DACKHIGH               2 JCLK1                                                       ns
RD Hold after DACK Deassert                                                      tRDHD                  0                                                             ns
RD Assert to FSRQ Deassert (FIFO Empty)                                          RDFSRQ                 1.5 JCLK1                     2.5 × JCLK + 9.01               ns
DACK to DREQ Deassert (DR × PULS = 0)                                            tDREQRTN               2.5 JCLK1                     3.5 × JCLK + 9.01               ns
1
    For a definition of JCLK, see Figure 32.
                                               DREQPULSE
                                                             tDREQ
                       DREQ
                                                                     DACK HIGH
                                                        DACK LOW
                       DACK
                                                tRDSU                                                                         tRDHD
                          RD
                                                           tRD           tHD
                      HDATA                                      0                        1                         2                                     06389-018
                                                 Figure 9. Single Read for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                      (EDMOD0/EDMOD1[14:11] Not Programmed to a Value of 0000)
                                                             tDREQ RTN
                       DREQ
                                                                     DACK HIGH
                                                        DACK LOW
                       DACK
                                                tRDSU                                                                         tRDHD
                          RD
                                                           tRD           tHD
                      HDATA                                      0                        1                         2                                     06389-019
                                                Figure 10. Single Read for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                        (EDMOD0/EDMOD1[14:11] Programmed to a Value of 0000)
                                                                               Rev. B | Page 10 of 44


                                                                                                                  ADV212
                 DREQPULSE
                               tDREQ
DREQ
                                        DACK HIGH
                          DACK LOW
DACK
                  tRDSU                                                                       tRDHD
 RDFB
                             tRD             tHD
HDATA                              0                           1                          2           06389-020
                               Figure 11. Single Read Cycle for Fly-By DMA Mode
                                     (DREQ Pulse Width Is Programmable)
 FCS0
   RD
                                                      RDFSRQ
        FIFO NOT EMPTY
FSRQ0                                                                        FIFO EMPTY
                tRD                    tHD
                                                                                                      06389-090
HDATA                         0                                    1
                                  Figure 12. Single Read Access for DCS DMA Mode
                                                    Rev. B | Page 11 of 44


ADV212
EXTERNAL DMA MODE—FIFO WRITE, BURST MODE
Table 8.
Parameter                                                                    Mnemonic                   Min                  Typ    Max                             Unit
DREQ Pulse Width1                                                            DREQPULSE                  1 JCLK 2                    15 JCLK2                        ns
WE to DREQ Deassert (DR × PULS = 0)                                          tDREQRTN                   2.5 JCLK2                   3.5 × JCLK + 7.52               ns
DACK to WE Setup                                                             tDACKSU                    0                                                           ns
Data Setup                                                                   tSU                        2.5                                                         ns
Data Hold                                                                    tHD                        2                                                           ns
WE Assert Pulse Width                                                        WELOW                      1.5 JCLK2                                                   ns
WE Deassert Pulse Width                                                      WEHIGH                     1.5 JCLK2                                                   ns
WE Deassert to Next DREQ                                                     tDREQWAIT                  2.5 JCLK2                   4.5 × JCLK + 9.02               ns
WE Deassert to DACK Deassert                                                 tWE_DACK                   0                                                           ns
1
    Applies to assigned DMA channel, if EDMOD0/EDMOD1[14:11] is programmed to a nonzero value.
2
    For a definition of JCLK, see Figure 32.
                                            DREQPULSE
                                                                                                                                   tDREQ WAIT
                    DREQ
                                                                                                                 tWE_DACK
                    DACK
                                                 tDACK SU                   WELOW                WEHIGH
                       WE
                                                          tHD
                                                tSU
                                                                                                                                                        06389-022
                   HDATA                           0                    1                  13               14              15
                                            Figure 13. Burst Write Cycle for DREQ/DMA Mode for Assigned DMA Channel
                                                  (EDMOD0/EDMOD1[14:1] Not Programmed to a Value of 0000)
                                                 tDREQ RTN                                                                         tDREQ WAIT
                    DREQ
                                                                                                                 tWE_DACK
                    DACK
                                                 tDACK SU                   WELOW                WEHIGH
                      WE
                                                       tHD
                                                tSU
                                                                                                                                                        06389-023
                   HDATA                              0                 1                  13               14              15
                                            Figure 14. Burst Write Cycle for DREQ/DMA Mode for Assigned DMA Channel
                                                    (EDMOD0/EDMOD1[14:11] Programmed to a Value of 0000)
                                                 tDREQ RTN
                                                                                                                                   tDREQ WAIT
                    DREQ
                                                                                                                 tWE_DACK
                    DACK
                                                 tDACK SU                   WELOW                WEHIGH
                    WEFB
                                                       tHD
                                                tSU
                                                                                                                                                        06389-024
                   HDATA                           0                    1                  13               14              15
                                                                Figure 15. Burst Write Cycle for Fly-By DMA Mode
                                                                               Rev. B | Page 12 of 44


                                                                                                                                                                                           ADV212
EXTERNAL DMA MODE—FIFO READ, BURST MODE
Table 9.
Parameter                                                                             Mnemonic                   Min                         Typ      Max                                    Unit
DREQ Pulse Width1                                                                     DREQPULSE                  1 JCLK 2                             15 JCLK2                               ns
RD to DREQ Deassert (DR × PULS = 0)                                                   tDREQRTN                   2.5 JCLK2                            3.5 × JCLK + 7.52                      ns
DACK to RD Setup                                                                      tDACKSU                    0                                                                           ns
RD to Data Valid                                                                      tRD                        2.5                                  9.7                                    ns
Data Hold                                                                             tHD                        2.5                                                                         ns
RD Assert Pulse Width                                                                 RDLOW                      1.5 JCLK2                                                                   ns
RD Deassert Pulse Width                                                               RDHIGH                     1.5 JCLK2                                                                   ns
RD Deassert to Next DREQ                                                              tDREQWAIT                  2.5 JCLK2                            3.5 × JCLK + 7.52                      ns
RD Deassert to DACK Deassert                                                          tRD_DACK                   0                                                                           ns
1
    Applies to assigned DMA channel if EDMOD0 or EDMOD1 <14:11> is programmed to a nonzero value.
2
    For a definition of JCLK, see Figure 32.
                                         tDREQ PULSE                                                                                                 tDREQ WAIT
                    DREQ
                                                                                                                            tRD_DACK
                    DACK
                                                   tDACK SU                       RDLOW                      RDHIGH
                       RD
                                                        tHD
                                                                                                                                                                               06389-025
                   HDATA                                0                     1                     13                14                15
                                             tRD
                                         Figure 16. Burst Read Cycle for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                     (EMOD0/EDMOD1[14:11] Not Programmed to a Value of 0
                                                                                                                                                   tDREQ WAIT
                    DREQ
                                                                                                                             tRD_DACK
                                                                tDREQ RTN
                    DACK
                                                        tDACK SU
                                                                                       RDLOW                  RDHIGH
                       RD
                                                                        tHD
                   HDATA                                    0                     1                     13             14                15
                                                                tRD                                                                                                            06389-026
                                         Figure 17. Burst Read Cycle for DREQ/DACK DMA Mode for Assigned DMA Channel
                                                     (EMOD0/EDMOD1[14:11] Programmed to a Value of 0000)
                                                  tDREQ RTN
                                                                                                                                                                  tDREQ WAIT
                    DREQ
                                                                                                                           tRD_DACK
                    DACK
                                                   tDACK SU
                    RDFB
                                                        tHD
                                                                                                                                                                               06389-027
                   HDATA                            0                         1                    13                 14                15
                                            tRD
                                                                   Figure 18. Burst Read Cycle for Fly-By DMA Mode
                                                                                        Rev. B | Page 13 of 44


ADV212
STREAMING MODE (JDATA)—FIFO READ/WRITE
Table 10.
Parameter                                                          Mnemonic                  Min                  Typ   Max                             Unit
MCLK to JDATA Valid                                                JDATATD                   1.5 JCLK1                  2.5 × JCLK + 9.51               ns
MCLK to VALID Assert/Deassert                                      VALIDTD                   1.5 JCLK1                  2.5 × JCLK + 8.01               ns
HOLD Setup to Rising MCLK                                          HOLDSU                    3                                                          ns
HOLD Hold from Rising MCLK                                         HOLDHD                    3                                                          ns
JDATA Setup to Rising MCLK                                         JDATASU                   3                                                          ns
JDATA Hold from Rising MCLK                                        JDATAHD                   3                                                          ns
1
    For a definition of JCLK, see Figure 32.
                       MCLK
                                           JDATATD            JDATAHD
                      JDATA
                                           VALIDTD              JDATASU
                      VALID
                                                                          HOLDSU                         HOLDHD
                       HOLD                                                                                                                 06389-028
                                                     Figure 19. Streaming Mode Timing—Encode Mode JDATA Output
                       MCLK
                                               JDATAHD
                               JDATASU
                      JDATA
                               VALIDTD
                      VALID
                                                                                           HOLDHD
                                                                          HOLDSU
                                                                                                                                            06389-029
                       HOLD
                                                         Figure 20. Streaming Mode Timing—Decode Mode JDATA Input
                                                                             Rev. B | Page 14 of 44


                                                                                                                                                                        ADV212
VDATA MODE TIMING
Table 11.
Parameter                                                                               Mnemonic                          Min         Typ              Max       Unit
VCLK to VDATA Valid Delay (VDATA Output)                                                VDATATD                                                        12        ns
VDATA Setup to Rising VCLK (VDATA Input)                                                VDATASU                           4                                      ns
VDATA Hold from Rising VCLK (VDATA Input)                                               VDATAHD                           4                                      ns
HSYNC Setup to Rising VCLK                                                              HSYNCSU                           3                                      ns
HSYNC Hold from Rising VCLK                                                             HSYNCHD                           4                                      ns
VCLK to HSYNC Valid Delay                                                               HSYNCTD                                                        12        ns
VSYNC Setup to Rising VCLK                                                              VSYNCSU                           3                                      ns
VSYNC Hold from Rising VCLK                                                             VSYNCHD                           4                                      ns
VCLK to VSYNC Valid Delay                                                               VSYNCTD                                                        12        ns
FIELD Setup to Rising VCLK                                                              FIELDSU                           4                                      ns
FIELD Hold from Rising VCLK                                                             FIELDHD                           3                                      ns
VCLK to FIELD Valid                                                                     FIELDTD                                                        12
Decode Slave Data Sync Delay                                                            SYNC DELAY                                    81                         VCLK cycles
   (HSYNC Low to First 0xFF of EAV/SAV Code)
Decode Slave Data Sync Delay                                                                                                          101                        VCLK cycles
   (HSYNC Low to First Data for HVF Mode)
1
    The sync delay value varies according to the application.
                VCLK
                                        VDATASU
                                                           VDATAHD
                                                                                                                                                                                     06389-091
           VDATA (IN)    Cr         Y      Cb      Y     FF       00    00    EAV             FF       00        00           SAV    Cb       Y         Cr
                                                              Figure 21. Encode Video Mode Timing—CCIR 656 Mode
                VCLK
              HSYNC
                                                                  HSYNCSU                                                     HSYNCHD
                                                                                                                                                                                     06389-092
           VDATA (IN)                                                            Cb                Y        Cr        Y         Cb        Y       Cr         Y
                                                       Figure 22. Encode Video Mode Timing—HVF Mode (HSYNC Timing)
                                                                   (HSYNC Programmed for Negative Polarity)
              VCLK
                                                              VSYNCSU                                       VSYNCHD
            VSYNC
                          FIELDSU                                                                                               FIELDHD
                                                                                                                                                                         06389-093
             FIELD
                                                  Figure 23. Encode Video Mode Timing—HVF Mode (VSYNC and FIELD Timing)
                                                              (VSYNC and FIELD Programmed for Negative Polarity)
                                                                             Rev. B | Page 15 of 44


ADV212
         VCLK
                  VDATATD
  VDATA (OUT)                                                                                   FF     00   00      EAV      Cb    Y
                                                                        HSYNCSU
                                                                                                                   HSYNCHD
    HSYNC (IN)
                                          VSYNCHD
                                                                                SYNC DELAY
                                                                     VSYNCSU
    VSYNC (IN)
                                FIELDSU
     FIELD (IN)                                                                                                                        06389-094
                             Figure 24. Decode Video Mode Timing—CCIR 656 Mode, Decode Slave
                                 (HSYNC, VSYNC, and FIELD Programmed to Negative Polarity)
         VCLK
                  VDATATD
  VDATA (OUT)                                                                                   Cb     Y    Cr       Y       Cb    Y
                                                                        HSYNCSU                                   HSYNCHD
    HSYNC (IN)
                                          VSYNCHD
                                                                     VSYNCSU      SYNC DELAY
    VSYNC (IN)
                               FIELDSU
                                                                                                                                       06389-095
     FIELD (IN)
                               Figure 25. Decode Video Mode Timing—HVF Mode, Decode Slave
                                 (HSYNC, VSYNC, and FIELD Programmed to Negative Polarity)
         VCLK
                                                                                                                 VDATATD
  VDATA (OUT)                                                  Cb              FF      00      00     SAV   Cb       Y       Cr
                                                                     HSYNCTD
  HSYNC (OUT)
                                           VSYNCTD
  VSYNC (OUT)
                  FIELDTD
                                                                                                                                          06389-096
   FIELD (OUT)
                             Figure 26. Decode Video Mode Timing—CCIR 656 Mode, Decode Master
                                  (HSYNC, VSYNC, and FIELD Programmed to Negative Polarity)
         VCLK
                                                                                            VDATATD
  VDATA (OUT)                                                   Cb      Y         Cr    Y        Cb    Y    Cb       Y        Cr
  HSYNC (OUT)
                                            VSYNCTD
  VSYNC (OUT)
                   FIELDTD
   FIELD (OUT)                                                                                                                         06389-097
                               Figure 27. Decode Video Mode Timing—HVF Mode, Decode Master
                                  (HSYNC, VSYNC, and FIELD Programmed to Negative Polarity)
                                                      Rev. B | Page 16 of 44


                                                                                                                                           ADV212
RAW PIXEL MODE TIMING
Table 12.
Parameter                                                                                              Mnemonic   Min   Typ        Max               Unit
VCLK to PIXELDATA Valid Delay (PIXELDATA Output)1                                                      VDATATD                     12                ns
PIXELDATA Setup to Rising VCLK (PIXELDATA Input)                                                       VDATASU    4                                  ns
PIXELDATA Hold from Rising VCLK (PIXELDATA Input)                                                      VDATAHD    4                                  ns
VCLK to VRDY Valid Delay                                                                               VRDYTD                      12                ns
VFRM Setup to Rising VCLK (VFRAME Input)                                                               VFRMSU     3                                  ns
VFRM Hold from Rising VCLK (VFRAME Input)                                                              VFRMHD     4                                  ns
VCLK to VFRM Valid Delay (VFRAME Output)                                                               VFRMTD                      12                ns
VSTRB Setup to Rising VCLK                                                                             VSTRBSU    4                                  ns
VSTRB Hold from Rising VCLK                                                                            VSTRBHD    3                                  ns
1
    PIXELDATA is the actual data on the VDATA bus; pins and bus width depend on it but timing does not.
                           VCLK
                                                                  VDATASU     VDATAHD
                 PIXELDATA (IN)                               PIXEL 1        PIXEL 2         PIXEL 3
                                                     VFRMSU
                                                               VFRMHD
                       VFRM (IN)
                                                VRDYTD
                     VRDY (OUT)
                                                                                                                        VSTRBHD
                                     VSTRBSU
                      VSTRB (IN)
                                                                             RAW PIXEL MODE—ENCODE
                           VCLK
                                                VDATATD
               PIXELDATA (OUT)                                     PIXEL 1         PIXEL 2          PIXEL 3
                                                  VFRMTD
                     VFRM (OUT)
                                                  VRDYTD
                     VRDY (OUT)
                                                                                                                         VSTRBHD
                                     VSTRBSU
                                                                                                                                         06389-031
                      VSTRB (IN)
                                                                             RAW PIXEL MODE—DECODE
                                                                        Figure 28. Raw Pixel Modes
                                                                           Rev. B | Page 17 of 44


ADV212
JTAG TIMING
Table 13.
Parameter                       Mnemonic                      Min           Typ   Max    Unit
TCK Period                      TCK                           134                        ns
TDI or TMS Setup Time           TDISU                         4.0                        ns
TDI or TMS Hold Time            TDIHD                         4.0                        ns
TDO Hold Time                   TDOHD                         0.0                        ns
TDO Valid                       TDOVALID                                          10.0   ns
TRS Hold Time                   TRSHD                         4.0                        ns
TRS Setup Time                  TRSSU                         4.0                        ns
TRS Pulse Width Low             TRSLOW                        4                          TCK cycles
               TCK
                                                   TDOVALID
                                                                    TDOHD
               TDO
                                 TDISU   TDIHD
                TDI
               TMS
                                         TRSHD
                        TRSSU
                                                                                              06389-032
               TRS
                                         Figure 29. JTAG Timing
                                          Rev. B | Page 18 of 44


                                                                                                                                          ADV212
ABSOLUTE MAXIMUM RATINGS
                                                                                 THERMAL RESISTANCE
Table 14.
Parameter                              Rating                                    θJA is specified for the worst-case conditions, that is, a device
                                                                                 soldered in a circuit board for surface-mount packages.
VDD − Supply Voltage, Core             −0.3 V to +1.65 V
IOVDD − Supply Voltage,                −0.3 V to +3.63 V                         Table 15. Thermal Resistance
   Input/Output
                                                                                 Package Type                          θJA        θJC        Unit
Storage Temperature (TS)               −65°C to +150°C
                                                                                 144-Ball ADV212BBCZ                   22.5       3.8        °C/W
Reflow Soldering
                                                                                 121-Ball ADV212BBCZ                   32.8       7.92       °C/W
   RoHS-Compliant, 121-Ball            260°C (20 sec to 40 sec)
   RoHS-Compliant, 144-Ball            260°C (20 sec to 40 sec)
Stresses above those listed under Absolute Maximum Ratings                       ESD CAUTION
may cause permanent damage to the device. This is a stress
rating only; functional operation of the device at these or any
other conditions above those indicated in the operational
section of this specification is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect
device reliability.
                                                                Rev. B | Page 19 of 44


ADV212
PIN CONFIGURATIONS AND FUNCTION DESCRIPTIONS
                      11 10 9 8 7 6 5 4 3 2 1                                                           12        10       8       6       4       2
                                                                                                             11        9       7       5       3       1
                                                 A                                                                                                         A
                                                 B                                                                                                         B
                                                 C                                                                                                         C
                                                 D                                                                                                         D
                                                                                                                                                           E
                                                 E
                                                                                                                                                           F
                                                 F
                                                                                                                                                           G
                                                 G                                                                                                         H
                                                 H                                                                                                         J
                                                 J                                                                                                         K
                                                 K                                                                                                         L
                                                 L                                                                                                         M
                                                     06389-035                                                                                                 06389-036
                            BOTTOM VIEW                                                                                BOTTOM VIEW
                             (Not to Scale)                                                                             (Not to Scale)
                    Figure 30.121-Ball Pin Configuration                                              Figure 31. 144-Ball Pin Configuration
Table 16. Pin Function Descriptions
      121-Ball Package                  144-Ball Package
                                                                                        Pins
Pin No.        Location           Pin No.            Location        Mnemonic           Used   Type    Description
119            L9                 132                L12             MCLK               1      I       System Input Clock. See the PLL Registers
                                                                                                       section.
117            L7                 131                L11             RESET              1      I       Reset. Causes the ADV212 to immediately reset.
                                                                                                       CS, RD, WE, DACK0, DACK1, DREQ0, and DREQ1
                                                                                                       must be held high when a RESET is applied.
37 to 34,      D4 to D1,          64, 49 to          F4, E1 to E3,   HDATA[15:0]        16     I/O     Host Data Bus. With HDATA[23:16],
27 to 25,      C5 to C3,          51, 37 to          D1 to D3,                                         HDATA[27:24], and HDATA[31:28], these pins
16, 15, 24,    B5, B4, C2,        39, 25 to          C1 to C3,                                         make up the 32-bit wide host data bus. The
14 to 12,      B3 to B1,          27, 13 to          B1 to B3,                                         async host interface is interfaced together
2, 6, 5        A2, A6, A5         15, 2 to 4         A2 to A4                                          with ADDR[3:0], CS, WE, RD, and ACK.
                                                                                                       Unused HDATA pins should be pulled down
                                                                                                       via a 10 kΩ resistor.
88, 107,       H11, K8,           108 to 106,        J12 to J10,     ADDR[3:0]          4      I       Address Bus for the Host Interface.
87, 97         H10, J9            96                 H12
96             J8                 95                 H11             CS                 1      I       Chip Select. This signal is used to qualify
                                                                                                       addressed read and write access to the
                                                                                                       ADV212 using the host interface.
95             J7                 94                 H10             WE1                1      I       Write Enable Used with the Host Interface.
                                                                     RDFB2                             Read Enable When Fly-By DMA Is Enabled.
                                                                                                       Simultaneous assertion of WE and DACK low
                                                                                                       activates the HDATA bus, even if the DMA
                                                                                                       channels are disabled.
86             H9                 84                 G12             RD1                1      I       Read Enable Used with the Host Interface.
                                                                     WEFB3                             Write Enable When Fly-By DMA Is Enabled.
                                                                                                       Simultaneous assertion of RD and DACK low
                                                                                                       activates the HDATA bus, even if the DMA
                                                                                                       channels are disabled.
                                                                      Rev. B | Page 20 of 44


                                                                                                                    ADV212
    121-Ball Package       144-Ball Package
                                                                   Pins
Pin No.       Location Pin No.       Location Mnemonic             Used Type Description
85            H8       83            G11      ACK                  1    O    Acknowledge. Used for direct register accesses.
                                                                             This signal indicates that the last register access
                                                                             was successful. Due to synchronization issues,
                                                                             control and status register accesses may incur an
                                                                             additional delay; therefore, the host software
                                                                             should wait for acknowledgment from the
                                                                             ADV212 before attempting another register
                                                                             access.
                                                                             Accesses to the FIFOs (external DMA modes),
                                                                             on the other hand, are guaranteed to occur
                                                                             immediately, provided that space is available;
                                                                             therefore, the host software does not need to
                                                                             wait for ACK before attempting another register
                                                                             access, provided that the timing constraints
                                                                             are observed.
                                                                             If ACK is shared with more than one device, ACK
                                                                             should be connected to a pull-up resistor (10 k Ω)
                                                                             and the PLL_HI register, Bit 4, must be set to 1.
76            G10      82            G10      IRQ                  1    O    Interrupt. This pin indicates that the ADV212
                                                                             requires the attention of the host processor.
                                                                             This pin can be programmed to indicate the
                                                                             status of the internal interrupt conditions
                                                                             within the ADV212. The interrupt sources are
                                                                             enabled via the bits in the EIRQIE register.
63            F8       72            F12      DREQ0                1    O    Data Request for External DMA Interface.
                                                                             Indicates that the ADV212 is ready to
                                                                             send/receive data to/from the FIFO assigned
                                                                             to DMA Channel 0.
                                              FSRQ0                     O    FIFO Service Request. Used in DCS-DMA
                                                                             mode. Service request from the FIFO assigned
                                                                             to Channel 0 (asynchronous mode).
                                              VALID                     O    Valid Indication for JDATA Input/Output Stream.
                                                                             Polarity of this pin is programmable in the
                                                                             EDMOD0 register. VALID is always an output.
                                              CFG1                      I    Boot Mode Configuration. This pin is read on
                                                                             reset to determine the boot configuration of
                                                                             the on-board processor. The pin should be
                                                                             tied to IOVDD through a 10 kΩ resistor.
64            F9       71            F11      DACK0                1    I    Data Acknowledge for External DMA Interface.
                                                                             Signal from the host CPU, which indicates that
                                                                             the data transfer request (DREQ0) has been
                                                                             acknowledged and that the data transfer can
                                                                             proceed. This pin must be held high at all
                                                                             times if the DMA interface is not used, even if
                                                                             the DMA channels are disabled.
                                              HOLD                      I    External Hold Indication for JDATA Input/Output
                                                                             Stream. Polarity is programmable in the
                                                                             EDMOD0 register. This pin is always an input.
                                              FCS0                      I    FIFO Chip Select. Used in DCS-DMA mode.
                                                                             Chip select for the FIFO assigned to Channel 0
                                                                             (asynchronous mode).
                                                Rev. B | Page 21 of 44


ADV212
     121-Ball Package            144-Ball Package
                                                                             Pins
Pin No.        Location     Pin No.        Location     Mnemonic             Used Type Description
65             F10          70             F10          DREQ1                1    O    Data Request for External DMA Interface.
                                                                                       Indicates that the ADV212 is ready to
                                                                                       send/receive data to/from the FIFO assigned
                                                                                       to DMA Channel 1.
                                                        FSRQ1                     O    FIFO Service Request. Used in DCS-DMA
                                                                                       mode. Service request from the FIFO assigned
                                                                                       to Channel 1 (asynchronous mode).
                                                        CFG2                      I    Boot Mode Configuration. This pin is read on
                                                                                       reset to determine the boot configuration of
                                                                                       the on-board processor. The pin should be
                                                                                       tied to DGND through a 10 kΩ resistor.
75             G9           69             F9           DACK1                1    I    Data Acknowledge for External DMA Interface.
                                                                                       Signal from the host CPU, which indicates that
                                                                                       the data transfer request (DREQ1) has been
                                                                                       acknowledged and data transfer can proceed.
                                                                                       This pin must be held high at all times unless
                                                                                       a DMA or JDATA access is occurring. This pin
                                                                                       must be held high at all times if the DMA
                                                                                       interface is not used, even if the DMA
                                                                                       channels are disabled.
                                                        FCS1                      I    FIFO Chip Select. Used in DCS-DMA mode.
                                                                                       Chip select for the FIFO assigned to Channel 1
                                                                                       (asynchronous mode).
90 to 92, 78   J2 to J4, H1 111, 97 to     K3, J1 to J3 HDATA[31:28]         4    I/O  Host Expansion Bus.
                            99
                                                        JDATA[7:4]                I/O  JDATA Bus (JDATA Mode).
79 to 81, 70   H2 to H4, G4 100, 85 to     J4, H1 to H3 HDATA[27:24]         4    I/O  Host Expansion Bus.
                            87
                                                        JDATA[3:0]                I/O  JDATA Bus (JDATA Mode).
69, 68,        G3, G2,      88, 73 to 75   H4, G1 to G3 HDATA[23:20]         4    I/O  Host Expansion Bus.
59, 58         F4, F3
57, 46 to 48   F2, E2, E3,  76, 61 to 63   G4, F1 to F3 HDATA[19:16]         4    I/O  Host Expansion Bus.
               E4
                                                        VDATA[15:12]              I/O  Video Data. Used only for raw pixel video
                                                                                       mode. Unused pins should be pulled down via
                                                                                       a 10 kΩ resistor.
112            L2           134            M2           SCOMM7               8    I/O  Serial Communication. For internal use only.
                                                                                       This pin should be tied low via a 10 kΩ
                                                                                       resistor.
113            L3           135            M3           SCOMM6                    I/O  Serial Communication. For internal use only.
                                                                                       This pin should be tied low via a 10 kΩ
                                                                                       resistor.
114            L4           136            M4           SCOMM5                    I/O  Serial Communication. This pin must be used
                                                                                       in multiple chip mode to align the outputs of
                                                                                       two or more ADV212s. For details, see the
                                                                                       Applications Information section. When not
                                                                                       used, this pin should be tied low via a 10 kΩ
                                                                                       resistor.
100            K1           121            L1           SCOMM4                    O    LCODE Output in Encode Mode. When LCODE
                                                                                       is enabled, the output on this pin indicates on
                                                                                       a high transition that the last data-word for a
                                                                                       field has been read from the FIFO. For an 8-bit
                                                                                       interface, such as JDATA, LCODE is asserted for
                                                                                       four consecutive bytes and is enabled
                                                                                       by default.
                                                          Rev. B | Page 22 of 44


                                                                                                                             ADV212
      121-Ball Package            144-Ball Package
                                                                             Pins
Pin No.         Location     Pin No.        Location    Mnemonic             Used Type Description
101             K2           122            L2          SCOMM3                    I    Serial Communication. For internal use only.
                                                                                       This pin should be tied low via a 10 kΩ
                                                                                       resistor.
115             L5           123            L3          SCOMM2                    O    Serial Communication. For internal use only.
                                                                                       This pin should be tied low via a 10 kΩ
                                                                                       resistor.
103             K4           109            K1          SCOMM1                    I    Serial Communication. For internal use only.
                                                                                       This pin should be tied low via a 10 kΩ
                                                                                       resistor.
102             K3           110            K2          SCOMM0                    O    Serial Communication. This pin should be tied
                                                                                       low via a10 kΩ resistor.
53              E9           60             E12         VCLK                 1    I    Video Data Clock. This pin must be supplied if
                                                                                       video data is input/output on the VDATA bus.
44, 43, 29,     D11, D10,    46 to 48,      D10 to D12, VDATA[11:0]          12   I/O  Video Data. Unused pins should be pulled
31, 32, 18      C7, C9, C10, 34 to 36,      C10 to C12,                                down via a 10 kΩ resistor.
to 20, 22,      B7, B8, B9,  22 to 24,      B10 to B12,
21, 7, 10       B11, B10,    9 to 11        A9 to A11
                A7, A10
41              D8           58             E10         VSYNC                1    I/O  Vertical Sync for Video Mode.
                                                        VFRM                           Raw Pixel Mode Framing Signal. When this pin
                                                                                       is asserted high, it indicates the first sample of
                                                                                       a tile.
42              D9           59             E11         HSYNC                1    I/O  Horizontal Sync for Video Mode.
                                                        VRDY                      O    Raw Pixel Mode Ready Signal.
54              E10          57             E9          FIELD                1    I/O  Field Sync for Video Mode.
                                                        VSTRB                     I    Raw Pixel Mode Transfer Strobe.
94              J6           120            K12         TCK                  1    I    JTAG Clock. If not used, this pin should be
                                                                                       connected to ground via a pull-down resistor.
108             K9           119            K11         TRS                  1    I    JTAG Reset. If the JTAG is used, this pin must
                                                                                       be toggled low to high. If JTAG is not used,
                                                                                       this pin must be held low.
98              J10          118            K10         TMS                  1    I    JTAG Mode Select. If JTAG is used, connect a
                                                                                       10 kΩ pull-up resistor to this pin. If not used,
                                                                                       this pin should be connected to ground via
                                                                                       a pull-down resistor.
116             L6           141            M9          TDI                  1    I    JTAG Serial Data Input. If JTAG is used, connect
                                                                                       a 10 kΩ pull-up resistor to this pin. If JTAG is
                                                                                       not used, this pin should be connected to
                                                                                       ground via a pull-down resistor.
109             K10          130            L10         TDO                  1    O    JTAG Serial Data Output. If this pin is not used,
                                                                                       do not connect it.
3, 8, 40, 84,   A3, A8, D7,  18, 19, 30,    B6, B7, C6, VDD                  5/13 V    Positive Supply for Core.
120             H7, L10      31, 42, 43,    C7, D6, D7,
                             102, 103,      J6, J7, K6,
                             114, 115,      K7, L6, L7,
                             126, 127,      M10
                             142
                                                          Rev. B | Page 23 of 44


ADV212
       121-Ball Package                  144-Ball Package
                                                                                           Pins
Pin No.            Location        Pin No.          Location          Mnemonic             Used       Type       Description
1, 4, 9,11,        A1, A4, A9,     1, 5 to 8, 12,   A1, A5 to         DGND                 29/45      GND        Ground.
23, 33, 39,        A11, C1,        17, 20, 29,      A8, A12, B5,
45, 49 to          C11, D6, E1,    32, 41, 44,      B8, C5, C8,
51, 55, 56,        E5 to E7,       52 to 56, 65     D5, D8, E4
60 to 62,          E11, F1, F5     to 68, 77 to     to E8, F5 to
66, 67, 71         to F7, F11,     81, 89 to        F8, G5 to
to 73, 77,         G1, G5 to       93, 101,         G9, H5 to
83, 89, 99,        G7, G11,        104, 105,        H9, J5, J8,
110, 111,          H6, J1, J11,    113, 116,        J9, K5, K8,
118, 121           K11, L1, L8,    125, 128,        L5, L8, M1,
                   L11             133, 137 to      M5 to M8,
                                   140, 143,        M11, M12
                                   144
17, 28, 30,        B6, C6, C8,     16, 21, 28,      B4, B9, C4,       IOVDD                11/10      V          Positive Supply for Input/Output.
38, 52, 74,        D5, E8, G8,     33, 40, 45,      C9, D4, D9,
82, 93, 104        H5, J5, K5      112, 117,        K4, K9, L4,
to 106             to K7           124, 129         L9
1
  In fly-by mode DMA, the functions of the RD and WE signals (for DMA only) are reversed. This allows a host to move data between an external device and the ADV212
  with the use of a single strobe.
2
  In encode mode with fly-by DMA, the host can use the RDFB signal (WE pin) to simultaneously read from the ADV212 and write to an external device such as memory.
3
  In decode mode with fly-by DMA, the host can use the WEFB signal (RD pin) to simultaneously read from the external device and write to the ADV212.
                                                                        Rev. B | Page 24 of 44


                                                                                                                                    ADV212
THEORY OF OPERATION
The input video or pixel data is passed to the ADV212 pixel                   ENTROPY CODECS
interface, and samples are deinterleaved and passed to the                    The entropy CODEC block performs context modeling and
wavelet engine, which decomposes each tile or frame into                      arithmetic coding on a code block of the wavelet coefficients.
subbands using the 5/3 or 9/7 filters. The resultant wavelet                  Additionally, this block also performs the distortion metric
coefficients are then written to the internal memory. The                     calculations during compression that are required for optimal
entropy CODECs code the image data so that it conforms                        rate and distortion performance. Because the entropy coding
to the JPEG2000 standard. An internal DMA provides high                       process is the most computationally intensive operation in the
bandwidth memory-to-memory transfers, as well as high                         JPEG2000 compression process, three dedicated hardware
performance transfers between functional blocks and memory.                   entropy CODECs are provided on the ADV212.
WAVELET ENGINE                                                                EMBEDDED PROCESSOR SYSTEM
The ADV212 provides a dedicated wavelet transform processor                   The ADV212 incorporates an embedded 32-bit RISC processor.
based on the Analog Devices, Inc., proven and patented SURF®                  This processor is used for configuration, control, and manage-
technology. This processor can perform up to six wavelet                      ment of the dedicated hardware functions, as well as for parsing
decomposition levels on a tile. In encode mode, the wavelet                   and generating the JPEG2000 code stream. The processor
transform processor takes in uncompressed samples, performs                   system includes memory for both the program and data
the wavelet transform and quantization, and writes the wavelet                memory, the interrupt controller, the standard bus interfaces,
coefficients in all frequency subbands to the internal memory.                and other hardware functions such as timers and counters.
Each of these subbands is further broken down into code
blocks. The code-block dimensions can be user defined and are                 MEMORY SYSTEM
used by the wavelet transform processor to organize the wavelet               The main function of the memory system is to manage wavelet
coefficients into code blocks when writing to the internal                    coefficient data, interim code-block attribute data, and
memory. Each completed code block is then entropy coded by                    temporary workspace for creating, parsing, and storing the
one of the entropy CODECs.                                                    JPEG2000 code stream. The memory system can also be used
In decode mode, wavelet coefficients are read from internal                   for the program and data memory for the embedded processor.
memory and recomposed into uncompressed samples.                              INTERNAL DMA ENGINE
                                                                              The internal DMA engine provides high bandwidth memory-
                                                                              to-memory transfers, as well as high performance transfers
                                                                              between memory and functional blocks. This function is critical
                                                                              for high speed generation and parsing of the code stream.
                                                             Rev. B | Page 25 of 44


ADV212
ADV212 INTERFACES
There are several possible ways to interface to the ADV212                     The control and data channel bus widths can be specified
using the VDATA bus and the HDATA bus or the HDATA bus                         independently, which allows the ADV212 to support applica-
alone.                                                                         tions that require control and data buses of different widths.
VIDEO INTERFACE (VDATA BUS)                                                    The host interface is used for configuration, control, and status
The video interface can be used in applications in which                       functions, as well as for transferring compressed data streams.
uncompressed pixel data is on a separate bus from compressed                   It can be used for uncompressed data transfers in certain
data. For example, it is possible to use the VDATA bus to input                modes. The host interface can be shared by as many as three
uncompressed video while using the HDATA bus to output the                     concurrent data streams in addition to control and status
compressed data. This interface is ideal for applications                      communications. The data streams are
requiring very high throughput, such as live video capture.                    •     Uncompressed tile data (for example, still image data)
Optionally, the ADV212 interlaces ITU-R BT.656 resolution                      •     Fully encoded JPEG2000 code stream (or unpackaged code
video on the fly prior to wavelet processing, which yields                           blocks)
significantly better compression performance for temporally                    •     Code-block attributes
coherent frame-based video sources. Additionally, high                         The ADV212 uses big endian byte alignment for 16- and 32-bit
definition digital video such as SMPTE 274M (1080i) is                         transfers. All data is left-justified (MSB).
supported using two or more ADV212 devices.
                                                                               Pixel Input on the Host Interface
The video interface can support video data or still image data
                                                                               Pixel input on the host interface supports 8-/10-/12-/14-/16-bit
input/output in 8-/10-/12-bit formats, in YCbCr format, or in
                                                                               raw pixel data formats. It can be used for pixel (still image)
single input mode. YCbCr data must be in 4:2:2 format. When
                                                                               input/output or compressed video output. Because there are no
operating in raw pixel mode, only one component can be
processed by a single ADV212.                                                  timing codes or sync signals associated with the input data on
                                                                               the host interface, dimension registers and internal counters are
Video data can be input/output in several different modes on                   used and must be programmed to indicate the start and end of
the VDATA bus, as described in Table 17. In all these modes,                   the frame.
the pixel clock must be input on the VCLK pin.
                                                                               Host Bus Configuration
Table 17. Video Input/Output Modes                                             For maximum flexibility, the host interface provides several
Mode         Description                                                       configurations to meet particular system requirements. The
EAV/SAV      Accepts video with embedded EAV/SAV codes, where                  default bus mode uses the same pins to transfer control, status,
             the YCbCr data is interleaved onto a single bus.                  and data to and from the ADV212. In this mode, the ADV212
HVF          Accepts video data accompanied by separate H, V,                  can support 16- and 32-bit control transfers and 8-/16-/32-bit
             and F signals, where YCbCr data is interleaved onto
                                                                               data transfers. The size of these buses can be selected independ-
             a single bus.
                                                                               ently, allowing, for example, a 16-bit microcontroller to
Raw          Used for still picture data and nonstandard video.
Video        VFRM, VSTRB, and VRDY are used to program the                     configure and control the ADV212 while still providing 32-bit
             dimensions of the image. When operating in raw                    data transfers to an ASIC or external memory system.
             pixel mode, only one component can be processed
             by a single ADV212.                                               DIRECT AND INDIRECT REGISTERS
                                                                               To minimize pin count and cost, the number of address pins
HOST INTERFACE (HDATA BUS)                                                     is limited to four, which yields a total direct address space of
                                                                               16 locations. These locations are most commonly used by the
The ADV212 can connect directly to a wide variety of host
                                                                               external controller and are, therefore, accessible directly. All
processors and ASICs using an asynchronous SRAM-style
                                                                               other registers in the ADV212 can be accessed indirectly
interface, DMA accesses, or streaming mode (JDATA) interface.
                                                                               through the IADDR and IDATA registers.
The ADV212 supports 16- and 32-bit buses for control and
8-/16-/32-bit buses for data transfer.
                                                              Rev. B | Page 26 of 44


                                                                                                                                        ADV212
CONTROL ACCESS REGISTERS                                                        has been provided to allow 16-bit hosts to access these registers
With the exception of the indirect address and data registers                   and memory locations using the stage register, which is accessed
(IADDR and IDATA), all control/status registers in the                          as a 16-bit register using HDATA[15:0]. Before writing to the
ADV212 are 16 bits wide and are half-word (16-bit) addressable                  desired register, the stage register must be written with the
only. When 32-bit host mode is enabled, the upper 16 bits of the                upper (most significant) half-word.
HDATA bus are ignored on writes and return all zeros on reads                   When the host subsequently writes the lower half-word to the
of 16-bit registers.                                                            desired control register, HDATA is combined with the prev-
                                                                                iously staged value to create the required 32-bit value that is
PIN CONFIGURATION AND BUS SIZES/MODES
                                                                                written. When a register is read, the upper (most significant)
The ADV212 provides a wide variety of control and data                          half-word is returned immediately on HDATA, and the lower
configurations, which allows it to be used in many applications                 half-word can be retrieved by reading the stage register on a
with little or no glue logic. The modes described in this section               subsequent access.
are configured using the BUSMODE register. In this section,
                                                                                Note that the stage register does not apply to the three data
host refers to normal addressed accesses (CS/RD/WE/ADDR)
                                                                                channels (pixel, code, and ATTR). These channels are always
and data refers to external DMA accesses (DREQ/DACK).
                                                                                accessed at the specified data width and do not require the use
32-Bit Host/32-Bit Data                                                         of the stage register.
In this mode, the HDATA[31:0] pins provide full 32-bit wide                     JDATA MODE
data access to the pixel channel, code channel, and ATTR
                                                                                JDATA mode is typically used only when the dedicated video
channel FIFOs.
                                                                                interface (VDATA) is also enabled. This mode allows code
16-Bit Host/32-Bit Data                                                         stream data (compressed data compliant with JPEG2000) to be
This mode allows a 16-bit host to configure and communicate                     input or output on a single dedicated 8-bit bus (JDATA[7:0]).
with the ADV212 while allowing 32-bit accesses to the pixel,                    The bus is always an output during compression operations and
xode, and ATTR FIFOs using the external DMA capability.                         an input during decompression.
All addressed host accesses are 16 bits and, therefore, use only                A 2-pin handshake is used to transfer data over this synchron-
the HDATA[15:0] pins. The HDATA[31:16] pins provide the                         ous interface. VALID is used to indicate that the ADV212 is
additional 16 bits necessary to support the 32-bit external DMA                 ready to provide or accept data and is always an output. HOLD
transfers to and from the FIFOs only.                                           is always an input and is asserted by the host if it cannot accept/
                                                                                provide data. For example, JDATA mode allows real-time appli-
16-Bit Host/16-Bit Data
                                                                                cations, in which pixel data is input over the VDATA bus while
This mode uses 16-bit transfers if used for host or external                    the compressed data stream is output over the JDATA bus.
DMA data transfers.
                                                                                EXTERNAL DMA ENGINE
16-Bit Host/8-Bit Data (JDATA Bus Mode)
                                                                                The external DMA interface is provided to enable high
This mode provides separate data input/output and host
                                                                                bandwidth data input/output between an external DMA
control interface pins. Host control accesses are 16 bits and use
                                                                                controller and the ADV212 data FIFOs. Two independent DMA
HDATA[15:0], whereas the dedicated data bus uses JDATA[7:0].
                                                                                channels can each be assigned to any one of the three data
JDATA uses a valid/hold synchronous transfer protocol. The                      stream FIFOs (pixel, code, and ATTR).
direction of the JDATA bus is determined by the mode of the
                                                                                The controller supports asynchronous DMA using a data-
ADV212. If the ADV212 is encoding (compression), JDATA[7:0]
                                                                                request/data-acknowledge (DREQ/DACK) protocol in either
is an output. If the ADV212 is decoding (decompression),
                                                                                single or burst access mode. Additional functionality is
JDATA[7:0] is an input. Host control accesses remain asynchro-
                                                                                provided for single address compatibility (fly-by) mode and
nous. See also the JDATA Mode section.
                                                                                dedicated chip select (DCS) mode.
STAGE REGISTER
Because the ADV212 contains both 16-bit and 32-bit registers
and its internal memory is mapped as 32-bit data, a mechanism
                                                               Rev. B | Page 27 of 44


ADV212
INTERNAL REGISTERS
This section describes the internal registers of the ADV212.                    The direct registers are accessed over the ADDR[3:0],
DIRECT REGISTERS                                                                HDATA[31:0], CS, RD, WE, and ACK pins.
The ADV212 has 16 direct registers, as listed in Table 18.                      The host must first initialize the direct registers before
                                                                                any application-specific operation can be implemented.
Table 18. Direct Registers
Address                Name                          Description
0x00                   Pixel                         Pixel FIFO access register
0x01                   Code                          Compressed code stream access register
0x02                   ATTR                          Attribute FIFO access register
0x03                   Reserved                      Reserved
0x04                   CMDSTA                        Command stack
0x05                   EIRQIE                        External interrupt enabled
0x06                   EIRQFLG                       External interrupt flags
0x07                   SWFLAG                        Software flag register
0x08                   BUSMODE                       Bus mode configuration register
0x09                   MMODE                         Miscellaneous mode register
0x0A                   Stage                         Staging register
0x0B                   IADDR                         Indirect address register
0x0C                   IDATA                         Indirect data register
0x0D                   Boot                          Boot mode register
0x0E                   PLL_HI                        PLL control register, high byte
0x0F                   PLL_LO                        PLL control register, low byte
                                                               Rev. B | Page 28 of 44


                                                                                                                                  ADV212
INDIRECT REGISTERS
In certain modes, such as custom-specific input format or HIPI               Both 32-bit and 16-bit hosts can access the indirect registers:
mode, indirect registers must be accessed by the user through                32-bit hosts use the IADDR and IDATA registers, and 16-bit
the IADDR and IDATA registers. The indirect register address                 hosts use the IADDR, IDATA, and stage registers.
space starts at Internal Address 0xFFFF0000.
Table 19. Indirect Registers
Address                                          Name                                     Description
0xFFFF0400                                       PMODE1                                   Pixel/video format
0xFFFF0404                                       COMP_CNT_STATUS                          Horizontal count
0xFFFF0408                                       LINE_CNT_STATUS                          Vertical count
0xFFFF040C                                       XTOT                                     Total samples per line
0xFFFF0410                                       YTOT                                     Total lines per frame
0xFFFF0414                                       F0_START                                 Start line of Field 0 [F0]
0xFFFF0418                                       F1_START                                 Start line of Field 1 [F1]
0xFFFF041C                                       V0_START                                 Start of active video Field 0 [F0]
0xFFFF0420                                       V1_START                                 Start of active video Field 1 [F1]
0xFFFF0424                                       V0_END                                   End of active video Field 0 [F0]
0xFFFF0428                                       V1_END                                   End of active video Field 1 [F1]
0xFFFF042C                                       PIXEL_START                              Horizontal start of active video
0xFFFF0430                                       PIXEL_END                                Horizontal end of active video
0xFFFF0440                                       MS_CNT_DEL                               Master/slave delay
0xFFFF0444                                       Reserved                                 Reserved
0xFFFF0448                                       PMODE2                                   Pixel Mode 2
0xFFFF044C                                       VMODE                                    Video mode
0xFFFF1408                                       EDMOD0                                   External DMA Mode Register 0
0xFFFF140C                                       EDMOD1                                   External DMA Mode Register 1
0xFFFF1410                                       FFTHRP                                   FIFO threshold for pixel FIFO
0xFFFF1414                                       Reserved                                 Reserved
0xFFFF1418                                       Reserved                                 Reserved
0xFFFF141C                                       FFTHRC                                   FIFO threshold for code FIFO
0xFFFF1420                                       FFTHRA                                   FIFO threshold for ATTR FIFO
0xFFFF1424 to 0xFFFF14FC                         Reserved                                 Reserved
                                                            Rev. B | Page 29 of 44


ADV212
PLL REGISTERS
The ADV212 uses the PLL_HI and PLL_LO direct registers to                     •       For MCLK frequencies greater than 50 MHz, the input
configure the PLL. Any time the PLL_LO register is modified,                          clock divider must be enabled; that is, IPD must be set
the host must wait at least 20 µs before reading from or writing                      to 1. IPD cannot be enabled for MCLK frequencies
to another register. If this delay is not implemented, erratic                        below 20 MHz.
behavior may result.                                                          •       Deinterlace modes require JCLK ≥ 4 × MCLK.
MCLK is the input clock to the ADV212 PLL and is used to                      •       It is not recommended to use an LLC output from a video
generate the internal JCLK (JPEG2000 processor clock) and                             decoder as a clock source for MCLK.
HCLK (embedded CPU clock).                                                    To achieve the lowest power consumption, an MCLK frequency
The PLL can be programmed to have any possible final                          of 27 MHz is recommended for a standard definition CCIR 656
multiplier value as long as                                                   input. The PLL circuit is recommended to have a multiplier of
•     JCLK > 50 MHz and < 150 MHz (144-pin version).                          3. This sets JCLK and HCLK to 81 MHz.
•     JCLK > 50 MHz and < 115 MHz (121-pin version).                                                        BYPASS
                                                                                           IPD
•     HCLK < 81 MHz (121-pin version) or HCLK < 108 MHz
      (144-pin version).                                                     MCLK
                                                                                           ÷2      PHASE
                                                                                                                LPF      VCO         ÷2              JCLK
                                                                                                   DETECT
•     JCLK ≥ 2 × VCLK for single-component input.
•     JCLK ≥ 2 × VCLK for YCbCr [4:2:2] input.                                                                                                  ÷2   HCLK
•     In JDATA mode (JDATA), JCLK must be 4 × MCLK                                                  ÷2      ÷PLLMULT       ÷2
                                                                                                                                                        06389-009
      or higher.                                                                                                                           HCLKD
                                                                                                   LFB
•     The maximum burst frequency for external DMA modes is
                                                                                            Figure 32. PLL Architecture and Control Functions
      ≤ 0.36 JCLK.
Table 20. Recommended PLL Register Settings
IPD          LFB           PLLMULT                  HCLKD                   HCLK                                      JCLK
0            0             N                        0                       N × MCLK                                  N × MCLK
0            0             N                        1                       N × MCLK/2                                N × MCLK
0            1             N                        0                       2 × N × MCLK                              2 × N × MCLK
0            1             N                        1                       N × MCLK                                  2 × N × MCLK
1            0             N                        0                       N × MCLK/2                                N × MCLK/2
1            0             N                        1                       N × MCLK/4                                N × MCLK/2
1            1             N                        0                       N × MCLK                                  N × MCLK
1            1             N                        1                       N × MCLK/2                                N × MCLK
Table 21. Recommended Values for PLL_HI and PLL_LO Registers
Video Standard                                                       CLKIN Frequency on MCLK                              PLL_HI           PLL_LO
SMPTE 125M or ITU-R BT.656 (NTSC or PAL)                             27 MHz                                               0x0008           0x0004
SMPTE 293M (525p)                                                    27 MHz                                               0x0008           0x0004
ITU-R BT.1358 (625p)                                                 27 MHz                                               0x0008           0x0004
SMPTE 274M (1080i)                                                   74.25 MHz                                            0x0008           0x0084
                                                             Rev. B | Page 30 of 44


                                                                                                                                   ADV212
HARDWARE BOOT MODES AND POWER                                                 There is no special power sequencing requirement for VDD and
CONSIDERATIONS                                                                IOVDD.
The boot mode can be configured via hardware using the CFG                    It is strongly recommended that the user place a small decoup-
pins or via software. The first boot mode after power-up is set               ling cap close to every power pin and at least one bulk cap on
by the CFG pins and should always be as described in the pin                  each supply.
listing. CFG1 is tied to IOVDD through a 10 k resistor and
CFG2 is tied to GND through a 10 k resistor.
                                                             Rev. B | Page 31 of 44


ADV212
VIDEO INPUT FORMATS
The ADV212 supports a wide variety of formats for uncom-                                   YCbCr formats or single component format. All formats can
pressed video and still image data. The actual interface and bus                           support less precision than provided by specifying the actual
modes selected for transferring uncompressed data dictates the                             data width/precision in the PMODE register.
allowed size of the input data and the number of samples                                   The maximum allowable data input rate is limited by using
transferred with each access.                                                              irreversible or reversible compression modes and the data width
The host interface can support 8-/10-/12-/14-/16-bit data                                  (or precision) of the input samples. See Table 22 and Table 24 to
formats. The video interface can support video data or still                               determine the maximum data input rate.
image data input/output. Supported formats are 8-/10-/12-bit
Table 22. Maximum Pixel Data Input Rates (144-Ball Package)
                                                                       Input Rate Limit            Approximate Minimum                   Approximate Maximum
                                                                       Active Resolution           Output Rate, Compressed               Output Rate, Compressed
Interface         Compression Mode               Input Format          (MSPS)1                     Data2 (Mbps)                          Data3 (Mbps)
HDATA             Irreversible                   8-bit data            45                          130                                   200
                  Irreversible                   10-bit data           45                          130                                   200
                  Irreversible                   12-bit data           45                          130                                   200
                  Irreversible                   16-bit data           45                          130                                   200
                  Reversible                     8-bit data            40                          130                                   200
                  Reversible                     10-bit data           32                          130                                   200
                  Reversible                     12-bit data           27                          130                                   200
                  Reversible                     14-bit data           23                          130                                   200
VDATA             Irreversible                   8-bit data            65                          130                                   200
                  Irreversible                   10-bit data           65                          130                                   200
                  Irreversible                   12-bit data           65                          130                                   200
                  Reversible                     8-bit data            40                          130                                   200
                  Reversible                     10-bit data           32                          130                                   200
                  Reversible                     12-bit data           27                          130                                   200
1
  Input rate limits for HDATA may be less for certain applications depending on input picture size and content, host interface settings, and DMA transfer settings.
2
  Minimum guaranteed sustained output rate or minimum sustainable compression rate (input rate/minimum peak output rate).
3
  Maximum peak output rate; an output rate above this value is not possible.
Table 23. Maximum Pixel Data Input Rates (121-Ball Package)
                                                                       Input Rate Limit            Approx Min Output Rate,               Approx Max Output Rate,
                                                                       Active Resolution           Compressed Data2                      Compressed Data3
Interface         Compression Mode               Input Format          (MSPS)1                     (Mbps)                                (Mbps)
HDATA             Irreversible                   8-bit data            34                          98                                    150
                  Irreversible                   10-bit data           34                          98                                    150
                  Irreversible                   12-bit data           34                          98                                    150
                  Irreversible                   16-bit data           34                          98                                    150
                  Reversible                     8-bit data            30                          98                                    150
                  Reversible                     10-bit data           24                          98                                    150
                  Reversible                     12-bit data           20                          98                                    150
                  Reversible                     14-bit data           17                          98                                    150
VDATA             Irreversible                   8-bit data            48                          98                                    150
                  Irreversible                   10-bit data           48                          98                                    150
                  Irreversible                   12-bit data           48                          98                                    150
                  Reversible                     8-bit data            30                          98                                    150
                  Reversible                     10-bit data           24                          98                                    150
                  Reversible                     12-bit data           20                          98                                    150
1
  Input rate limits for HDATA may be less for certain applications depending on input picture size and content, host interface settings, and DMA transfer settings.
2
  Minimum guaranteed sustained output rate or minimum sustainable compression rate (input rate/minimum peak output rate).
3
  Maximum peak output rate; an output rate above this value is not possible.
                                                                          Rev. B | Page 32 of 44


                                                                                                        ADV212
Table 24. Maximum Supported Tile Width for Data Input on HDATA and VDATA Buses
Compression Mode                   Input Format                             Tile/Precinct Maximum Width
9/7i                               Single-component                         2048
9/7i                               Two-component                            1024 each
9/7i                               Three-component                          1024 (Y)
5/3i                               Single-component                         4096
5/3i                               Two-component                            2048 (each)
5/3i                               Three-component                          2048 (Y)
5/3r                               Single-component                         4096
5/3r                               Two-component                            2048
5/3r                               Three-component                          1024
                                                     Rev. B | Page 33 of 44


ADV212
APPLICATIONS INFORMATION
This section describes typical video applications for the                         In decode mode, a master/slave configuration (as shown in
ADV212 JPEG2000 video processor.                                                  Figure 34) or a slave/slave configuration can be used to
                                                                                  synchronize the outputs of the two ADV212s.
ENCODE—MULTICHIP MODE
                                                                                  Applications that have two separate VDATA outputs sent to an
Due to the data input rate limitation (see Table 22), an 1080i                    FPGA or buffer before they are sent to an encoder do not
application requires at least two ADV212s to encode or decode                     require synchronization at the ADV212 outputs.
full-resolution 1080i video. In encode mode, the ADV212
accepts Y and CbCr data on separate buses. An encode example
is shown in Figure 33.
                        32-BIT HOST CPU               ADV212_1_SLAVE               74.25MHz            10-BIT SD/HD
                                                                                     OSC                  VIDEO
                             DATA[31:0]              HDATA[31:0]                                        DECODER
                              ADDR[3:0]              ADDR[3:0]
                                    CS               CS
                                    RD               RD                VCLK                          LLC              1080i
                                                                                                                      VIDEO IN
                                   ACK               ACK
                                                                       MCLK
                                    WR               WE
                                                                                              Y
                                    IRQ              IRQ         VDATA[11:2]                         Y[9:0]
                                  DREQ               DREQ              FIELD
                                  DACK               DACK             VSYNC
                                                                      HSYNC                   CbCr
                                   GPIO              SCOMM[5]                                        C[9:0]
                                                      ADV212_2_SLAVE
                                                     HDATA[31:0]       VCLK
                                                     ADDR[3:0]
                                                                       MCLK
                                    CS               CS
                                    RD               RD
                                                                      HSYNC
                                    WR               WE
                                                                      VSYNC
                                   ACK               ACK
                                                                       FIELD
                                    IRQ              IRQ
                                                                                 CbCr
                                  DREQ               DREQ        VDATA[11:2]
                                  DACK               DACK
                                                     SCOMM[5]                                                                    06389-002
                                                     Figure 33. Encode—Multichip Application
                                                                 Rev. B | Page 34 of 44


                                                                                                                                             ADV212
DECODE—MULTICHIP MASTER/SLAVE                                                     In a slave/slave configuration, the common HVF for both
In a master/slave configuration, it is expected that the master                   ADV212s is generated by an external house sync, and each
HVF outputs are connected to the slave HVF inputs and that                        SCOMM5 is connected to the same GPIO output on the host.
each SCOMM5 pin is connected to the same GPIO on the host.                        SWIRQ1, Software Interrupt 1 in the EIRQIE register, must be
                                                                                  unmasked on both devices to enable multichip mode.
                       32-BIT HOST CPU              ADV212_1_MASTER                  74.25MHz         10-BIT SD/HD
                                                                                       OSC               VIDEO
                            DATA[31:0]              HDATA[31:0]                                        ENCODER
                             ADDR[3:0]              ADDR[3:0]
                                   CS               CS
                                   RD               RD                VCLK                          CLKIN            1080i
                                                                                                                     VIDEO OUT
                                   WR               WE
                                                                      MCLK
                                  ACK               ACK
                                                                              Y                 Y
                                   IRQ              IRQ         VDATA[11:2]                         Y[9:0]
                                 DREQ               DREQ              FIELD
                                 DACK               DACK             VSYNC
                                                                     HSYNC                  CbCr
                                  GPIO              SCOMM[5]                                        C[9:0]
                                                     ADV212_2_SLAVE
                                                    HDATA[31:0]       VCLK
                                                    ADDR[3:0]
                                                                      MCLK
                                   CS               CS
                                   RD               RD
                                                                     HSYNC
                                   WR               WE
                                                                     VSYNC
                                  ACK               ACK
                                                                      FIELD
                                   IRQ              IRQ
                                                                                  CbCr
                                 DREQ               DREQ        VDATA[11:2]
                                 DACK               DACK
                                                    SCOMM[5]                                                                     06389-003
                                             Figure 34. Decode—Multichip Master/Slave Application
                                                                Rev. B | Page 35 of 44


ADV212
DIGITAL STILL CAMERA/CAMCORDER
Figure 35 is a typical configuration for a digital camera or camcorder.
                        AD9843A                        FPGA                           ADV212
                                        10                                       MCLK
                               D[9:0]           DATA INPUTS[9:0]
                                                                                 VCLK
                                                                                                                   16-BIT
                                                                                 VFRM                             HOST CPU
                              SDATA             SERIAL DATA                      VRDY
                                 SCK            SERIAL CLK                       VSTRB
                                  SL            SERIAL EN
                                                                                        HDATA[15:0]          DATA[15:0]
                                                                                          ADDR[3:0]          ADDR[3:0]
                                                                                                CS           CS
                                                                                                RD           RD
                                                     PIXEL OUT[9:0]              VDATA[15:6]    WE           WE
                                                                                                                                   06389-004
                                                                                              ACK            ACK
                                                                                               IRQ           IRQ
                         Figure 35. Digital Still Camera/Camcorder Encode Application for 10-Bit Pixel Data Using Raw Pixel Mode
                                                                   Rev. B | Page 36 of 44


                                                                                                                               ADV212
ENCODE/DECODE SDTV VIDEO APPLICATION
Figure 36 shows two ADV212 chips using a 10-bit CCIR 656 in normal host mode.
                         ENCODE MODE                       ADV212                             10-BIT
                                                                                              VIDEO
                                                                                             DECODER
                                                                                                        VIDEO IN
                                                              VDATA[11:2]             P[19:10]
                               32-BIT
                              HOST CPU
                                                                     VCLK             LLC1
                                  DATA[31:0]           HDATA[31:0]
                                                                                  27MHz
                                       INTR            IRQ           MCLK          OSC
                                   ADDR[3:0]           ADDR[3:0]
                                         CS            CS
                                         RD            RD
                                         WE            WE
                                        ACK            ACK
                         DECODE MODE                       ADV212                             10-BIT
                                                                                              VIDEO
                                                                                             ENCODER
                                                                                                       VIDEO OUT
                                                              VDATA[11:2]             P[9:0]
                               32-BIT                                VCLK             CLKIN
                              HOST CPU
                                                                     MCLK
                                  DATA[31:0]           HDATA[31:0]
                                       INTR            IRQ                   27MHz
                                   ADDR[3:0]           ADDR[3:0]              OSC
                                         CS            CS
                                         RD            RD
                                                                                                                   06389-005
                                         WE            WE
                                        ACK            ACK
                                               Figure 36. Encode/Decode—SDTV Video Application
                                                             Rev. B | Page 37 of 44


ADV212
32-BIT HOST APPLICATION
Figure 37 shows two ADV212 chips using a 10-bit CCIR 656 in normal host mode.
                                FPGA                       ADV212                             ADV7189
                                                                                               10-BIT
                                                                                               VIDEO
                                       DREQ0          DREQ0                                   DECODER    VIDEO IN
                                       DACK0          DACK0 VDATA[11:2]                P[19:10]
                                 DATA[31:0]           HDATA[31:0]
                                                                      VCLK             LLC1
                               32-BIT                                             27MHz
                                                                     MCLK          OSC
                              HOST CPU
                                 DATA[31:0]
                                       IRQ            IRQ
                                  ADDR[3:0]           ADDR[3:0]
                                        CS            CS
                                        RD            RD
                                        WE            WE
                                      ACK             ACK                                         ENCODE MODE
                                FPGA                       ADV212                              10-BIT
                                                                                               VIDEO
                                                                                              ENCODER
                                       DREQ0          DREQ0                                             VIDEO OUT
                                       DACK0          DACK0 VDATA[11:2]                P[9:0]
                                                                      VCLK             CLKIN
                                 DATA[31:0]           HDATA[31:0]
                                                                     MCLK
                               31-BIT
                              HOST CPU                                        27MHz
                                 DATA[31:0]                                    OSC
                                       IRQ            IRQ
                                  ADDR[3:0]           ADDR[3:0]
                                        CS            CS
                                        RD            RD
                                                                                                                    06389-006
                                        WE            WE
                                      ACK             ACK                                         DECODE MODE
                                               Figure 37. Encode/Decode 32-Bit Host Application
                                                              Rev. B | Page 38 of 44


                                                                                                                            ADV212
HIPI (HOST INTERFACE—PIXEL INTERFACE)
Figure 38 is a typical configuration using HIPI mode.
                                                                                                  ADV212
                                                                 Y0/G0<MSB>               HDATA<31>
                                                                 Y0/G0<6>                 HDATA<30>
                                                                 Y0/G0<5>                 HDATA<29>
                                                                 Y0/G0<4>                 HDATA<28>
                                                                 Y0/G0<3>                 HDATA<27>
                                                                 Y0/G0<2>                 HDATA<26>
                                                                 Y0/G0<1>                 HDATA<25>
                                                                 Y0/G0<0>                 HDATA<24>
                                                                 Cb0/G1<MSB>              HDATA<23>
                                                                 Cb0/G1<6>                HDATA<22>
                                                                 Cb0/G1<5>                HDATA<21>
                                                                 Cb0/G1<4>                HDATA<20>
                                                                 Cb0/G1<3>                HDATA<19>
                                                                 Cb0/G1<2>                HDATA<18>
                                                                 Cb0/G1<1>                HDATA<17>
                                                                 Cb0/G1<0>                HDATA<16>
                                                                 Y1/G2<MSB>               HDATA<15>
                                                                 Y1/G2<6>                 HDATA<14>
                                                                 Y1/G2<5>                 HDATA<13>
                                                                 Y1/G2<4>                 HDATA<12>
                                                                 Y1/G2<3>                 HDATA<11>
                                                                 Y1/G2<2>                 HDATA<10>
                                                                 Y1/G2<1>                 HDATA<9>
                                                                 Y1/G2<0>                 HDATA<8>
                                                                 Cr0/G3<MSB>              HDATA<7>
                                                                 Cr0/G3<6>                HDATA<6>
                                                                 Cr0/G3<5>                HDATA<5>
                                                                 Cr0/G3<4>                HDATA<4>
                                                                 Cr0/G3<3>                HDATA<3>
                                                                 Cr0/G3<2>                HDATA<2>
                                                                 Cr0/G3<1>                HDATA<1>
                                                                 Cr0/G3<0>                HDATA<0>
                                      32-BIT HOST
                                        DATA<31:0>
                                                    CS                                    CS
                                                RD                                        RD
                                                WR                                        WE
                                               ACK                                        ACK
                                                IRQ                                       IRQ
                                              DREQ                                        DREQ0    COMPRESSED
                                              DACK                                        DACK0    DATA PATH
                                              DREQ                                        DREQ1    RAW PIXEL
                                              DACK                                        DACK1    DATA PATH
                                                                                                                06389-007
                                                                 74.25MHz                 MCLK
                                                     Figure 38. Host Interface—Pixel Interface Mode
                                                                 Rev. B | Page 39 of 44


ADV212
JDATA INTERFACE
Figure 39 shows a typical configuration using JDATA with a dedicated JDATA output, 16-bit host, and 10-bit CCIR 656.
                                FPGA                      ADV212                               ADV7189
                                                                               YCrCb
                                                    JDATA[7:0] VDATA[11:2]              P[19:10]
                                                    HOLD                                                 VIDEO IN
                                                                    FIELD               FIELD
                                                    VALID
                                                                   VSYNC                VS
                                                                   HSYNC                HS
                               16-BIT
                              HOST CPU
                                                                      VCLK              LLC1
                                  DATA[15:0]        HDATA[15:0]
                                        IRQ         IRQ
                                   ADDR[3:0]        ADDR[3:0]                       27MHz
                                                                      MCLK
                                         CS         CS                               OSC
                                         RD         RD
                                                                                                                    06389-008
                                         WE         WE
                                       ACK          ACK
                                                       Figure 39. JDATA Application
                                                           Rev. B | Page 40 of 44


                                                                                                                                                          ADV212
OUTLINE DIMENSIONS
                       12.20                                                           A1 CORNER
                                                                                      INDEX AREA
                       12.00 SQ
                       11.80                                  11 10 9 8 7 6 5 4 3 2 1
                                                                                                              A
                                                                                                              B
                                                                                                              C
                        BALL A1
                        CORNER                                                                                D
                                               10.00                                                          E
                                              BSC SQ                                                          F
                                                                                                              G
                                                                                                              H
                                                    1.00
                                                                                                              J
                                                    BSC
                                                                                                              K
                                                                                                              L
                      TOP VIEW                                      BOTTOM VIEW
            *1.85    DETAIL A
                                                                                                                  *1.31
             1.71                                                         DETAIL A
                                                                                                                   1.21
             1.40
                                                                                                                   1.11
                                              0.50 NOM
                                              0.30 MIN
                                                               0.70                                                   0.20
                                                                                                                      COPLANARITY
                                                               0.60                           SEATING
                                                                                              PLANE
                                                               0.50
                                                           BALL DIAMETER
                                                                                                                                               082406-A
                            *COMPLIANT WITH JEDEC STANDARDS MO-192-ABD-1 WITH
                             EXCEPTION TO PACKAGE HEIGHT AND THICKNESS.
                         Figure 40. 121-Ball Chip Scale Package Ball Grid Array [CSP_BGA]
                                                    (BC-121-1)
                                         Dimensions shown in millimeters
                                                                                        A1 CORNER
                                                                                       INDEX AREA
                         13 .00
                        BSC SQ                                            9       7       5       3       1
                                                               12 11 10       8       6       4       2
                                                                                                                  A
                      BALL A1                                                                                     B
                      INDICATOR                                                                                   C
                                                                                                                  D
                                                    11.00                                                         E
                        TOP VIEW                   BCS SQ                                                         F
                                                                                                                  G
                                                                                                                  H
                                                                                                                  J
                                                                                                                  K
                                                                                                                  L
                                                                                                                  M
                                                                      BOTTOM VIEW
                                                   1.00 BSC
                      DETAIL A
             *1.85
             MAX                                                                                              *1.32
                                                                     DETAIL A
                                                                                                               1.21
                                                                                                               1.11
                                                 0.53
                                                 0.43
                                                              0.70                                                 COPLANARITY
                                                                                          SEATING                  0.20 MAX
                                                              0.60                        PLANE
                                                              0.50
                                                         BALL DIAMETER
                                                                                                                                    021506-A
                           *COMPLIANT WITH JEDEC STANDARDS MO-192-AAD-1 WITH
                            EXCEPTION TO PACKAGE HEIGHT AND THICKNESS.
                         Figure 41. 144-Ball Chip Scale Package Ball Grid Array [CSP_BGA]
                                                    (BC-144-3)
                                         Dimensions shown in millimeters
                                              Rev. B | Page 41 of 44


ADV212
ORDERING GUIDE
                          Temperature    Speed                                                                                     Package
Model1                    Range          Grade   Operating Voltage           Package Description                                   Option
ADV212BBCZ-115            −40°C to +85°C 115 MHz 1.5 V Internal,             121-Ball Chip Scale Package Ball Grid Array [CSP_BGA] BC-121-1
                                                 2.5 V or 3.3 V I/O
ADV212BBCZRL-115          −40°C to +85°C 115 MHz 1.5 V Internal,             121-Ball Chip Scale Package Ball Grid Array [CSP_BGA] BC-121-1
                                                 2.5 V or 3.3 V I/O
ADV212BBCZ-150            −40°C to +85°C 150 MHz 1.5 V Internal,             144-Ball Chip Scale Package Ball Grid Array [CSP_BGA] BC-144-3
                                                 2.5 V or 3.3 V I/O
ADV212BBCZRL-150          −40°C to +85°C 150 MHz 1.5 V Internal,             144-Ball Chip Scale Package Ball Grid Array [CSP_BGA] BC-144-3
                                                 2.5 V or 3.3 V I/O
1
 Z = RoHS Compliant Part.
                                                           Rev. B | Page 42 of 44


                             ADV212
NOTES
      Rev. B | Page 43 of 44


ADV212
NOTES
©2006–2010 Analog Devices, Inc. All rights reserved. Trademarks and
registered trademarks are the property of their respective owners.
                                                     D06389-0-4/10(B)
                                                                      Rev. B | Page 44 of 44


Mouser Electronics
Authorized Distributor
Click to View Pricing, Inventory, Delivery & Lifecycle Information:
Analog Devices Inc.:
 ADV212BBCZRL-150 ADV212BBCZ-150 ADV212-HD-EB
